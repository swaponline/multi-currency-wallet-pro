{"version":3,"file":"mainnet-app.eb5a3e.js","mappings":"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,kBACxB6C,OAAOuE,GACPvE,OAAOtC,QAAQQ,eAAe3B,GAAuB,kBAAM,CAAC,MAG7DmB,QAAQQ,eAAe3B,GAAuB,SAACc,GAAC,OAAK4L,GAAW,GAAK5L,EAAI,IAAI,IAAEkD,WAsUjF,OAAOyE,EAAoBkE,EAAUlJ,OAAOmJ,GAC9C,CAiBA,IAAM9E,EAAY,CAChB,EACA,EACA,EACA,GACA,GACA,GACA,GACA,IACA,GACA,GACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,IACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,EACA,EACA,GACA,GACA,GACA,IACA,IACA,IACA,GACA,GACA,IACA,GACA,GACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,IACA,EACA,GACA,GACA,GACA,GACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,GACA,GACA,IACA,GACA,IACA,IACA,EACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,GACA,GACA,GACA,IACA,GACA,GACA,GACA,IACA,IACA,IACA,GACA,IACA,IACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,GACA,GACA,IACA,IACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,GACA,IACA,GACA,GACA,IACA,GACA,GACA,GACA,IACA,GACA,IACA,GACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,GACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,GACA,IACA,GACA,IACA,GACA,GACA,GACA,IACA,IACA,EACA,EACA,GACA,GACA,IACA,IACA,IACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,IACA,GACA,IACA,GACA,GACA,GACA,GACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,IACA,IACA,IACA,GACA,KAEIX,EAAY,CAChB,EACA,EACA,GACA,EACA,GACA,EACA,GACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,IACA,EACA,IACA,EACA,IACA,GACA,GACA,IACA,IACA,IACA,GACA,IACA,EACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,GACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,EACA,IACA,IACA,GACA,IACA,EACA,GACA,GACA,IACA,GACA,GACA,IACA,IACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,GACA,GACA,IACA,IACA,GACA,GACA,IACA,GACA,IACA,IACA,IACA,GACA,IACA,EACA,IACA,GACA,IACA,GACA,IACA,IACA,GACA,IACA,IACA,GACA,IACA,IACA,GACA,IACA,IACA,IACA,GACA,GACA,GACA,IACA,GACA,GACA,IACA,IACA,GACA,IACA,GACA,IACA,GACA,GACA,IACA,IACA,GACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,GACA,IACA,GACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,GACA,GACA,IACA,GACA,IACA,GACA,IACA,IACA,IACA,GACA,IACA,IACA,GACA,IACA,IACA,GACA,IACA,GACA,IACA,IACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,IACA,GACA,IACA,IACA,GACA,GACA,IACA,IACA,IACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,GACA,IACA,GACA,GACA,IACA,GACA,GACA,IACA,IACA,GACA,GACA,GACA,IACA,GACA,GACA,IACA,IACA,IACA,GACA,GACA,IACA,IACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,GACA,IACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,GAMIuB,EAAY,CAChB,WACA,OACA,OACA,UACA,UACA,WACA,UACA,QACA,WACA,SACA,QACA,QACA,QACA,UACA,WACA,SACA,QACA,SACA,QACA,OACA,WACA,UACA,UACA,OACA,QACA,QACA,UACA,QACA,QACA,QACA,UACA,OACA,WACA,SACA,UACA,WACA,SACA,QACA,WACA,UACA,WACA,UACA,QACA,QACA,SACA,SACA,UACA,UACA,QACA,UACA,SACA,QACA,QACA,QACA,SACA,UACA,SACA,UACA,SACA,OACA,UACA,WACA,QACA,QACA,OACA,OACA,OACA,OACA,QACA,SACA,SACA,UACA,WACA,QACA,UACA,SACA,UACA,OACA,SACA,OACA,UACA,WACA,SACA,QACA,UACA,WACA,QACA,QACA,OACA,OACA,OACA,SACA,OACA,OACA,WACA,WACA,SACA,QACA,UACA,WACA,SACA,UACA,UACA,SACA,SACA,WACA,OACA,QACA,QACA,SACA,SACA,UACA,OACA,QACA,OACA,UACA,SACA,SACA,SACA,WACA,UACA,UACA,SACA,QACA,UACA,QACA,SACA,QACA,WACA,QACA,UACA,SACA,UACA,WACA,SACA,UACA,QACA,WACA,QACA,OACA,SACA,SACA,QACA,QACA,OACA,UACA,SACA,UACA,SACA,QACA,QACA,SACA,UACA,OACA,UACA,OACA,UACA,SACA,SACA,UACA,SACA,UACA,UACA,SACA,QACA,SACA,SACA,QACA,QACA,SACA,UACA,WACA,SACA,WACA,QACA,UACA,SACA,QACA,UACA,QACA,WACA,UACA,QACA,UACA,WACA,QACA,SACA,QACA,WACA,WACA,WACA,WACA,OACA,SACA,QACA,SACA,WACA,UACA,WACA,WACA,UACA,SACA,UACA,OACA,SACA,SACA,SACA,SACA,WACA,SACA,SACA,UACA,UACA,WACA,SACA,SACA,SACA,WACA,UACA,OACA,UACA,WACA,SACA,UACA,WACA,UACA,UACA,OACA,UACA,UACA,WACA,OACA,UACA,WACA,SACA,WACA,WACA,QACA,WACA,SACA,WACA,QACA,QACA,QACA,QACA,QACA,OACA,QACA,WACA,OACA,WACA,QACA,UACA,QACA,QACA,QACA,OACA,OACA,UACA,UACA,OACA,SACA,UACA,SACA,QACA,QACA,WACA,UACA,UACA,WACA,WACA,QACA,OACA,QACA,UACA,WACA,UACA,WACA,WACA,QACA,SACA,UACA,UACA,QACA,SACA,UACA,SACA,QACA,UACA,WACA,WACA,OACA,WACA,UACA,WACA,QACA,SACA,QACA,SACA,SACA,WACA,WACA,UACA,WACA,OACA,QACA,QACA,UACA,SACA,WACA,UACA,SACA,UACA,WACA,UACA,SACA,SACA,SACA,UACA,UACA,SACA,QACA,UACA,WACA,OACA,UACA,QACA,OACA,QACA,SACA,SACA,QACA,QACA,UACA,QACA,UACA,WACA,OACA,QACA,UACA,SACA,UACA,WACA,SACA,UACA,OACA,SACA,UACA,UACA,QACA,QACA,SACA,OACA,WACA,OACA,QACA,SACA,QACA,QACA,SACA,QACA,WACA,SACA,SACA,UACA,UACA,UACA,WACA,WACA,WACA,WACA,QACA,SACA,WACA,QACA,QACA,SACA,QACA,UACA,OACA,QACA,SACA,OACA,UACA,SACA,SACA,WACA,SACA,UACA,SACA,QACA,UACA,UACA,UACA,OACA,SACA,UACA,OACA,UACA,OACA,SACA,WACA,QACA,QACA,UACA,OACA,WACA,QACA,QACA,OACA,UACA,QACA,QACA,UACA,SACA,QACA,QACA,QACA,SACA,OACA,QACA,UACA,OACA,SACA,UACA,OACA,QACA,OACA,SACA,UACA,SACA,UACA,OACA,UACA,SACA,OACA,WACA,OACA,UACA,OACA,OACA,UACA,WACA,OACA,OACA,QACA,WACA,UACA,UACA,OACA,QACA,SACA,OACA,WACA,OACA,QACA,SACA,QACA,UACA,UACA,UACA,SACA,WACA,QACA,WACA,WACA,SACA,SACA,UACA,SACA,SACA,SACA,SACA,UACA,SACA,WACA,WACA,UACA,OACA,SACA,UACA,OACA,QACA,SACA,QACA,UACA,OACA,WACA,QACA,OACA,WACA,SACA,OACA,OACA,UACA,SACA,WACA,SACA,OACA,UACA,QACA,OACA,QACA,QACA,UACA,OACA,OACA,WACA,QACA,QACA,UACA,UACA,SACA,OACA,QACA,SACA,UACA,QACA,SACA,OACA,OACA,SACA,QACA,UACA,UACA,UACA,OACA,SACA,QACA,OACA,OACA,SACA,SACA,WACA,SACA,SACA,OACA,OACA,WACA,SACA,OACA,UACA,OACA,QACA,QACA,QACA,SACA,QACA,SACA,UACA,WACA,SACA,UACA,OACA,SACA,SACA,OACA,UACA,UACA,UACA,SACA,WACA,QACA,SACA,SACA,QACA,WACA,OACA,UACA,QACA,UACA,QACA,UACA,SACA,SACA,SACA,WACA,QACA,SACA,SACA,QACA,OACA,WACA,UACA,WACA,UACA,QACA,UACA,SACA,SACA,SACA,WACA,SACA,UACA,WACA,SACA,WACA,QACA,OACA,OACA,OACA,WACA,SACA,SACA,QACA,UACA,OACA,WACA,WACA,WACA,UACA,UACA,OACA,UACA,OACA,WACA,QACA,QACA,UACA,SACA,UACA,SACA,QACA,QACA,UACA,OACA,OACA,SACA,QACA,QACA,WACA,WACA,QACA,OACA,UACA,QACA,QACA,UACA,UACA,OACA,WACA,UACA,UACA,QACA,OACA,QACA,SACA,UACA,QACA,SACA,SACA,UACA,UACA,WACA,SACA,UACA,QACA,UACA,SACA,UACA,UACA,SACA,WACA,UACA,WACA,QACA,SACA,UACA,SACA,UACA,QACA,OACA,OACA,WACA,SACA,QACA,SACA,OACA,UACA,WACA,UACA,WACA,OACA,SACA,WACA,SACA,SACA,WACA,WACA,UACA,UACA,WACA,UACA,SACA,UACA,WACA,WACA,UACA,QACA,UACA,UACA,UACA,UACA,UACA,WACA,UACA,QACA,SACA,QACA,QACA,SACA,OACA,QACA,WACA,SACA,SACA,WACA,UACA,QACA,QACA,OACA,SACA,QACA,WACA,UACA,SACA,SACA,SACA,SACA,QACA,WACA,UACA,UACA,UACA,SACA,WACA,UACA,SACA,UACA,SACA,SACA,WACA,SACA,SACA,SACA,SACA,SACA,UACA,UACA,SACA,WACA,WACA,WACA,SACA,WACA,UACA,UACA,UACA,SACA,SACA,QACA,SACA,OACA,QACA,QACA,QACA,QACA,WACA,OACA,SACA,QACA,QACA,OACA,QACA,QACA,OACA,SACA,SACA,QACA,OACA,UACA,UACA,QACA,OACA,UACA,SACA,UACA,QACA,UACA,UACA,QACA,WACA,QACA,SACA,SACA,UACA,SACA,SACA,WACA,UACA,SACA,SACA,QACA,QACA,SACA,QACA,UACA,UACA,QACA,SACA,SACA,WACA,SACA,SACA,UACA,SACA,SACA,SACA,OACA,QACA,OACA,UACA,OACA,QACA,OACA,OACA,QACA,QACA,QACA,QACA,QACA,QACA,UACA,OACA,QACA,WACA,QACA,UACA,WACA,UACA,WACA,OACA,SACA,QACA,QACA,QACA,UACA,WACA,QACA,OACA,SACA,QACA,QACA,SACA,OACA,QACA,WACA,SACA,UACA,UACA,QACA,WACA,WACA,UACA,OACA,SACA,OACA,QACA,QACA,QACA,WACA,SACA,QACA,UACA,SACA,QACA,WACA,WACA,WACA,UACA,WACA,UACA,UACA,WACA,QACA,SACA,WACA,WACA,WACA,SACA,SACA,UACA,UACA,SACA,OACA,QACA,SACA,OACA,UACA,WACA,WACA,SACA,SACA,WACA,UACA,WACA,UACA,UACA,QACA,OACA,UACA,SACA,UACA,QACA,WACA,QACA,UACA,SACA,OACA,SACA,SACA,OACA,OACA,WACA,WACA,QACA,QACA,SACA,UACA,WACA,WACA,QACA,WACA,QACA,QACA,QACA,WACA,OACA,UACA,UACA,OACA,QACA,QACA,OACA,OACA,UACA,OACA,WACA,WACA,UACA,UACA,SACA,SACA,UACA,QACA,WACA,SACA,UACA,UACA,SACA,UACA,WACA,WACA,QACA,QACA,QACA,WACA,UACA,SACA,UACA,QACA,SACA,UACA,UACA,SACA,OACA,UACA,QACA,SACA,QACA,OACA,UACA,WACA,QACA,UACA,SACA,WACA,QACA,QACA,SACA,QACA,SACA,SACA,SACA,OACA,QACA,OACA,UACA,SACA,SACA,UACA,UACA,UACA,QACA,WACA,SACA,OACA,WACA,SACA,WACA,OACA,OACA,QACA,OACA,SACA,OACA,QACA,UACA,QACA,OACA,OACA,QACA,OACA,QAGIO,EAAgBP,EAAUK,QAAO,SAAC8D,EAAKC,EAAK5G,GAEhD,OADA2G,EAAIC,GAAO5G,EACJ2G,CACT,GAAG,CAAC,E,qZC5sEEE,EAAa3N,EAAQ,OASrB4N,EAAU,WACd,SAAAA,IAAoF,IAAxE1E,EAAKxG,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,EAAGmL,EAAWnL,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,GAAI8G,EAAQ9G,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,GAAIoL,EAAQpL,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,GAAIuC,EAAMvC,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,IAAEqL,EAAAA,EAAAA,GAAA,KAAAH,GAChFjM,KAAKuH,MAAQA,EACbvH,KAAKkM,YAA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ACEje,EACE,CAAC/0B,GACD,GACF,CAACA,GACH,KAAEjB,EAAAA,EAAAA,IAED4sB,GAAqBA,EAAkBlgC,IACxCunD,EACEje,EACE,CAAC90B,GACD,GACF,CAACA,GACH,KAAElB,EAAAA,EAAAA,IAED4sB,GAAqBA,EAAkBjgC,KACxCsnD,EACEje,EACE,CAAC70B,GACD,GACF,CAACA,GACH,KAAEnB,EAAAA,EAAAA,IAED4sB,GAAqBA,EAAkBhgC,KACxCqnD,EACEje,EACE,CAAC50B,GACD,GACF,CAACA,GACH,KAAEpB,EAAAA,EAAAA,IAED4sB,GAAqBA,EAAkB//B,IACxConD,EACEje,EACE,CAAC30B,GACD,GACF,CAACA,GACH,KAAErB,EAAAA,EAAAA,IAED4sB,GAAqBA,EAAkBpgC,OACxCynD,EACEje,EACE,CAACh1B,GACD,GACF,CAACA,GACH,KAAEhB,EAAAA,EAAAA,IAED4sB,GAAqBA,EAAkB7/B,OACxCknD,EACEje,EACE,CAAC10B,GACD,GACF,CAACA,GACH,KAAEtB,EAAAA,EAAAA,IAED4sB,GAAqBA,EAAkB5/B,IACxCinD,EACEje,EACE,CAACz0B,GACD,GACF,CAACA,GACH,KAAEvB,EAAAA,EAAAA,IAED4sB,GAAqBA,EAAkB3/B,IACxCgnD,EACEje,EACE,CAACx0B,GACD,GACF,CAACA,GACH,KAAExB,EAAAA,EAAAA,IAED4sB,GAAqBA,EAAkB1/B,KACxC+mD,EACEje,EACE,CAACv0B,GACD,GACF,CAACA,GACH,KAAEzB,EAAAA,EAAAA,IAED4sB,GAAqBA,EAAkB9/B,IACxCmnD,EACEje,EACE,CAACt0B,GACD,GACF,CAACA,GACH,KAAE1B,EAAAA,EAAAA,GAEA4sB,IAAqBA,EAAkBz/B,OAAW4hC,EAA+B,GAAd,CAAC3uB,KAAeJ,EAAAA,EAAAA,GACnF4sB,IAAqBA,EAAkB1vC,MAAU6xC,EAA8B,GAAb,CAACpuB,KAAcX,EAAAA,EAAAA,GACpFk0C,IACHl8D,KAAI,SAAAygB,GAA4B,OAAlBA,EAAPjS,QAAgBiS,EAAPkwB,QAAgB16B,GAAA,IAAAoR,EAAAA,EAAAA,GAAA5G,EAAA0mB,IACzB,IAGYn5B,QAAO,SAAClK,GAAI,QAAKA,SAAAA,EAAM8K,SAAN9K,MAAiBA,GAAAA,EAAMykB,UAAYyzC,GAAmBl4D,EAAK6wC,WAAiB,IAElH,OAAQznB,IAAUA,GAAAA,SAAmBkvC,GAAYv2D,GAAQA,CAC3D,EAEMu2D,GAAc,SAACzwC,GAAY,IAAAwE,EAAAC,EACzBisC,EAAuB,GAE7B,GAAU,QAAVlsC,EAAI9F,cAAM,IAAA8F,GAAqB,QAArBC,EAAND,EAAQE,2BAAmB,IAAAD,GAA3BA,EAA6BvxB,OAAQ,CACvC,IAAMy9D,EAAgBjyC,OAAOgG,oBAAoBxuB,UAC7C06D,GAAkB,EAChBC,EAAkC,GAgCxC,OA/BA7wC,EAAQ7pB,SAAQ,SAAC26D,GACf,IACElgD,EAGEkgD,EAHFlgD,YACAo4B,EAEE8nB,EAFF9nB,WACAD,EACE+nB,EADF/nB,QAEEgoB,GAAY,GACXngD,GAAeo4B,EAClB4nB,EAAkBE,EAEdlgD,GAAeo4B,IAAeD,EAChC8nB,EAAyB19D,KAAK29D,IAE9BH,EAAcx6D,SAAQ,SAAC0uB,GACrB,IAAMjd,EAAOid,EAAMjd,KAAK5M,cAClBkN,EAAW2c,EAAM3c,SAASlN,cACXiqB,GAAgB/c,GAAU0U,SAAS9M,cACpDghD,EAAWlpD,OAASA,GAAQkpD,EAAW5oD,WAAaA,IACtD6oD,GAAY,EAEhB,IACIA,EACFL,EAAc1yD,QAAQ8yD,GAEtBJ,EAAcv9D,KAAK29D,GAI3B,IACIF,GAAiBF,EAAc1yD,QAAQ4yD,GAC3CC,EAAyB36D,UAAUC,SAAQ,SAAC26D,GAAiBJ,EAAc1yD,QAAQ8yD,EAAY,IACxFJ,CACT,CAEA,OAAO1wC,CACT,EAEAtB,OAAOwxC,WAAaA,GACpBxxC,OAAOhb,UAAYA,GA6CnB,UACEstD,cA1pBoB,SAACnqC,GACrBiD,GAAAA,iBAAAA,YAAsCjD,GACtCva,aAAaC,QACXwB,GAAAA,aAAAA,YACArB,KAAKC,UAAU0d,KAAWpB,iBAAiBtC,aAE/C,EAqpBEG,aA3oBmB,SAACD,GACpBiD,GAAAA,iBAAAA,aAAuCjD,GACvCva,aAAaC,QACXwB,GAAAA,aAAAA,YACArB,KAAKC,UAAU0d,KAAWpB,iBAAiBtC,aAE/C,EAsoBEsqC,YAzrBkB,SAAC/zD,GAAE,OAAK,IAAIq+C,GAAKr+C,EAAIuQ,GAAAA,GAAAA,SAAiB,EA0rBxD+T,UAAAA,GACAtF,UA9qBgB,SAAC7Z,GACjBynB,GAAAA,KAAAA,UAAwB,CAAEznB,OAAAA,GAC5B,EA6qBE6uD,YAxhBkB,SAACh3D,GAA4B,IAAtBi3D,EAASn9D,UAAAd,OAAA,QAAAe,IAAAD,UAAA,IAAAA,UAAA,GAE5B4zB,EAAQna,GAAAA,GAAAA,SAAiBQ,SAASnC,OAAO4O,OAAOxgB,GAEtD,GAAK0tB,EAEL,OAAKupC,GAILzlB,GAAAA,KAAAA,kBAA+B9jB,GACxBA,GAJEA,CAKX,EA6gBEwpC,eAhcqB,WAErB,IAAM3W,EAAS/tC,KAAKE,MAAMN,aAAaE,QAAQ,WAE/C,GAAe,OAAXiuC,GAAqC,IAAlBA,EAAOvnD,OAA9B,CAIA,IAAMm+D,EAAc5W,EAAOpmD,KAAI,SAAC8D,GAAI,OAAK43D,GAAwB53D,EAAK,IAEtE2xB,GAAAA,QAAAA,eAAgCunC,EAJhC,CAKF,EAsbEC,WA5ciB,WACjB7jD,GAAAA,GAAAA,QAAe,WAEb,IAAM3B,EAAS2B,GAAAA,GAAAA,SAAiBQ,SAASnC,OAAOkB,MAEhDwU,GAAU1V,GAEV4/B,GAAAA,KAAAA,qBAAkC5/B,EACpC,GACF,EAocEinB,YAvlBkB,SAAClM,GAAwC,IAAb3Z,EAAQlZ,UAAAd,OAAA,EAAAc,UAAA,QAAAC,EAErCsuD,GAFsBvuD,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,CAAC,GAEnCiP,QAGF2kB,EAAQna,GAAAA,GAAAA,SAAiBQ,SAASnC,OAAO0B,SAASqZ,GACxD0qC,EAAiDzB,GAAYloC,EAAMyrB,aAE7Dme,EAAiB,CACrBvuD,QAASs/C,EACTkP,oBAAqB,CACnBxuD,QALWsuD,EAAPtuD,QAMJ+e,WANuBuvC,EAAVvvC,WAOb0vC,gBAPwCH,EAAfG,kBAW7B9pC,EAAMmL,YAAY7lB,EAAUskD,EAC9B,EAskBEG,sBApkB4B,SAAC9qC,EAAS+qC,GAA0C,IAAb1kD,EAAQlZ,UAAAd,OAAA,EAAAc,UAAA,QAAAC,EAE1DsuD,GAF2CvuD,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,CAAC,GAExDiP,QAGF2kB,EAAQna,GAAAA,GAAAA,SAAiBQ,SAASnC,OAAO0B,SAASqZ,GAExDgrC,EAAiD/B,GAAYloC,EAAMyrB,aAE7Dme,EAAiB,CACrBvuD,QAASs/C,EACTkP,oBAAqB,CACnBxuD,QALW4uD,EAAP5uD,QAMJ+e,WANuB6vC,EAAV7vC,WAOb0vC,gBAPwCG,EAAfH,kBAW7B9pC,EAAM+pC,sBACJC,EACAJ,GACA,SAACM,EAAUC,GACTllD,QAAQ4jB,IAAI,WAAYqhC,GACxBjlD,QAAQ4jB,IAAI,aAAcshC,GAE1B7kD,EAAS4kD,EAAUC,EACrB,IACA,SAACC,EAAUF,GAET,IAAMG,EAAWtN,GAAKU,UAAU2M,GAAUt7B,MAEpCw7B,EAAWvN,GAAKU,UAAUyM,GAAUp7B,MAI1C,OAFA7pB,QAAQ4jB,IAAI,SAAUwhC,EAASx+D,WAAYy+D,EAASz+D,YAE7Cy+D,EAASC,MAAMF,GAAUG,MAAMhvB,IAAI6uB,GAAU1O,oBAAoB,IAC1E,GAEJ,EA+hBE8O,cAhrBoB,SAACxrC,EAAS6zB,GAEhBjtC,GAAAA,GAAAA,SAAiBQ,SAASnC,OAAO0B,SAASqZ,GAClDwrC,cAAc3X,EACtB,EA6qBE4X,eA3qBqB,SAACzrC,EAAS6zB,GAEjBjtC,GAAAA,GAAAA,SAAiBQ,SAASnC,OAAO0B,SAASqZ,GAClDyrC,eAAe5X,EACvB,EAwqBE3yB,YA9oBkB,SAAClB,GACnB6kB,GAAAA,KAAAA,iBAA8B7kB,GAE9BpZ,GAAAA,GAAAA,SAAiBQ,SAASnC,OAAOymD,OAAO1rC,GACxC6kB,GAAAA,KAAAA,YACF,EA0oBEjqB,iBA7auB,SAACzS,GAA2B,IAArBwjD,EAAQx+D,UAAAd,OAAA,QAAAe,IAAAD,UAAA,IAAAA,UAAA,IAC3Bq2B,KAAW1B,KAAKrH,iBAAmB,IACpChU,SAAS0B,KACjB8a,GAAAA,KAAAA,iBAA+B9a,GAC/B1C,aAAaC,QACXwB,GAAAA,aAAAA,gBACArB,KAAKC,UAAU0d,KAAW1B,KAAKrH,kBAG7BkxC,GACF9mB,GAAAA,cAAAA,eAGN,EAiaEhqB,kBA/ZwB,SAAC1S,GAA2B,IAArBwjD,EAAQx+D,UAAAd,OAAA,QAAAe,IAAAD,UAAA,IAAAA,UAAA,GAC/BstB,EAAoBvT,GAAAA,aAAAA,gBACxB0kD,EAAcnmD,aAAaE,QAAQ8U,IAAoB,KAC3D,IAEgB,OADdmxC,EAAS/lD,KAAKE,MAAM6lD,MACAA,EAAS,GAC/B,CAAE,MAAOv0D,GACPu0D,EAAS,EACX,CACA,IAAMC,EAAaD,EAAOxnB,MACxB,SAAC0nB,GACC,GAAIA,EAAGrlD,SAAS,KAAM,CACpB,IAAAslD,EAA4BD,EAAGj/D,MAAM,KAAIm/D,GAAAxK,EAAAA,GAAAA,GAAAuK,EAAA,GAAlCE,EAAMD,EAAA,GACb,OADwBA,EAAA,GACjBC,IAAW9jD,CACpB,CACF,IAGF8a,GAAAA,KAAAA,kBAAgC4oC,GAAc1jD,GAC9C1C,aAAaC,QAAQ+U,EAAiB5U,KAAKC,UAAU0d,KAAW1B,KAAKrH,kBAEjEkxC,GACF9mB,GAAAA,cAAAA,cAEJ,EAwYEqnB,cAzdoB,SAAC5/C,EAAOmH,EAAMpgB,EAAMgT,GAExCO,GAAAA,GAAAA,SAAiBQ,SAASnC,OAAOinD,cAAc5/C,EAAOmH,EAAMpgB,EAAMgT,EACpE,EAudE6iD,wBAAAA,GACAiD,iBAnqBuB,SAACnsC,GACxBiD,GAAAA,iBAAAA,cAAwCjD,GACxCva,aAAaC,QACXwB,GAAAA,aAAAA,cACArB,KAAKC,UAAU0d,KAAWpB,iBAAiBrC,eAE/C,EA8pBEqsC,aAxoBmB,WAEnBxlD,GAAAA,GAAAA,SAAiBQ,SAASnC,OAAOmnD,cACnC,EAsoBEC,aA9oBmB,WAEnBzlD,GAAAA,GAAAA,SAAiBQ,SAASnC,OAAOonD,cACnC,EA4oBEC,gBArmBsB,WAAH,OAAS1lD,GAAAA,GAAAA,SAAiBQ,SAASnC,OAAOqnD,iBAAiB,EAsmB9EC,kBA1hBwB,SAACxrC,GACzB,IAAMyrC,EAAW1O,GAAKU,UAAUz9B,GAEhC,GAAKyrC,GAAaA,EAAS38B,MAA3B,CAIA,IAAQA,EAAU28B,EAAV38B,MAER9O,EAAM0rC,4BAA4B,cAAc,SAAA9zD,EAAiBwyD,GAAa,IAA3B5X,EAAU56C,EAAV46C,WAC3CmZ,EAAU5O,GAAKU,UAAU2M,GAC/Bz+C,GAAM,UAAWggD,GAMjB,IAAMlZ,EAAYkZ,EAAQC,QAAUpZ,EAAWhX,IAAI1M,GAAS0jB,EAAW3D,MAAM/f,GAE7EnjB,GAAM,eAAgB8mC,GAEtB,IAAMyX,EAAW,CAAE1X,WAAAA,EAAYC,UAAAA,GAG/B,OAFA9mC,GAAM,WAAYu+C,GAEXA,CACT,IAEAlqC,EAAM0rC,4BAA4B,aAAa,SAAA3yD,EAAgBqxD,GAAa,IAA1B3X,EAAS15C,EAAT05C,UAC1CkZ,EAAU5O,GAAKU,UAAU2M,GAC/Bz+C,GAAM,UAAWggD,GAUjB,IAAMnZ,EAAamZ,EAAQC,QAAUnZ,EAAU5D,MAAM/f,GAAS2jB,EAAUjX,IAAI1M,GAE5EnjB,GAAM,gBAAiB6mC,GAEvB,IAAM0X,EAAW,CAAE1X,WAAAA,EAAYC,UAAAA,GAG/B,OAFA9mC,GAAM,WAAYu+C,GAEXA,CACT,GA1CA,CA2CF,EA2eE2B,kBAzewB,WAExBhmD,GAAAA,GAAAA,SAAiBQ,SAASnC,OAAOkB,MAAM7W,SAAQ,SAACyxB,GAC1CA,GAASA,EAAM4zB,MAAQ5zB,EAAMupC,WAC/BzlB,GAAAA,KAAAA,kBAA+B9jB,EAEnC,GACF,EAmeEpB,uBAxoB6B,SAACK,GAE9B,IAAM6sC,EAAejmD,GAAAA,GAAAA,SAAiBQ,SAASnC,OAAO0B,SAASqZ,GACzD8sC,EAA2BD,EAAatgB,aACxCwgB,EAA0BF,EAAargB,YAEvCvnC,EAAS2B,GAAAA,GAAAA,SAAiBQ,SAASnC,OAAOkB,MAE1C6mD,EAAmB/nD,EAAOzJ,QAC9B,SAAClK,GAAI,OAAKA,EAAKi7C,aAAatjC,gBAAkB6jD,CAAwB,IAElEG,EAAkBhoD,EAAOzJ,QAC7B,SAAClK,GAAI,OAAKA,EAAKk7C,YAAYvjC,gBAAkB8jD,CAAuB,IAIhEG,EAAoB,GAAHp+D,QAAA0mB,EAAAA,EAAAA,GAClBlY,OAAOtL,KAAK0oB,GAAAA,qBAA0B,CACzC,MACA,QACA,OACA,SAG8B,IAA5BsyC,EAAiB3gE,QAAiB6gE,EAAkBzmD,SAASqmD,GAE3B,IAA3BG,EAAgB5gE,QAAiB6gE,EAAkBzmD,SAASsmD,IACrE9pC,GAAAA,WAAAA,uBAA2C8pC,GAF3C9pC,GAAAA,WAAAA,uBAA2C6pC,EAI/C,EA4mBEK,sBAtwB4B,SAACloD,GAC7B,IAAIyV,KAAUA,GAAAA,SAAd,CAOA,IAUyC0yC,EAVnCC,EAAqB7pC,KAAWrD,WAChCmtC,EAAiBD,EAAmBlnD,MAAM3Y,KAAI,SAAC8D,GAAI,OAAKA,EAAKyP,KAAK5M,aAAa,IAC/Eo5D,EAAkBF,EAAmBxuC,aAErC2uC,EAAiBvoD,EAAOzX,KAAI,SAAC8D,GAAI,OAAKA,EAAKi7C,aAAap4C,aAAa,IACrEs5D,EAAgBxoD,EAAOzX,KAAI,SAAC8D,GAAI,OAAKA,EAAKk7C,YAAYr4C,aAAa,IAErEu5D,GAAWl4C,EAAAA,EAAAA,GAAOg4C,GAEtBG,EAAAC,GAC2BJ,GAAc,IAAzC,IAAAG,EAAAE,MAAAT,EAAAO,EAAArgE,KAAAwgE,MAA2C,KAEFC,EAF9BxhB,EAAY6gB,EAAAz6D,MACrBq7D,EAAAJ,GAC0BH,GAAa,IAAvC,IAAAO,EAAAH,MAAAE,EAAAC,EAAA1gE,KAAAwgE,MAAyC,KAA9BthB,EAAWuhB,EAAAp7D,MAEhB45C,IAAiBC,IACdghB,EAAe/mD,SAAS8lC,GAEjBihB,EAAe/mD,SAAS+lC,IAClCkhB,EAAYphE,KAAKkgD,EAAYr4C,eAF7Bu5D,EAAYphE,KAAKigD,EAAap4C,eAKpC,CAAC,OAAAzJ,GAAAsjE,EAAA32D,EAAA3M,EAAA,SAAAsjE,EAAAx+D,GAAA,CACH,CAAC,OAAA9E,GAAAijE,EAAAt2D,EAAA3M,EAAA,SAAAijE,EAAAn+D,GAAA,CAED,IAAIy+D,GAAa,EAEjBP,EAAYp+D,SAAQ,SAACgC,GAEdi8D,EAAgB//D,KAAI,SAAC8D,GAAI,OAAKA,EAAKyP,KAAK5M,aAAa,IAAEsS,SAASnV,IAC/Dg8D,EAAe7mD,SAASnV,KAE1B28D,GAAa,EACbV,EAAgBjhE,KAAK,CACnByU,KAAMzP,EAAK2X,cACX7O,MAAO9I,EAAK2X,cACZqV,KAAMhtB,EAAK6C,cACXxB,MAAOrB,EAAK6C,gBAIpB,IAEI85D,GACFhrC,GAAAA,WAAAA,mBAAuCsqC,EAlDJ,CAoDvC,EAktBElE,WAAAA,GACAxsD,UAAAA,GACAqxD,eA7bqB,WAAH,OAAS1qC,KAAW1B,KAAKrH,iBAAmB,EAAE,EA8bhE0zC,mBAvEsB,eAAA7/C,GAAAlB,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAO,EAAOq8C,GAAU,IAAAlpD,EAAAM,EAAAwU,EAAAu4C,EAAAC,EAAA,OAAAhhD,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OACkC,GAAtEqO,EAAOutD,GAAQ/f,eAAe0b,EAAWl0C,SAAS5hB,eAAe,GAAK0Z,EAAAxZ,KAAA,GAGtE41D,EAAW/nB,QAAS,CAAFr0B,EAAAnb,KAAA,SACgB,OAA9B2O,EAAW4oD,EAAW5oD,SAAQwM,EAAAnb,KAAA,EACdmyC,GAAQxjC,GAAUk+B,aACtC0qB,EAAW7tD,QACX6tD,EAAWsE,gBACXtE,EAAWhhC,UACZ,OAJY,OAAPpT,EAAOhI,EAAAC,KAAAD,EAAAQ,OAAA,SAMN,IAAIob,GAAAA,EAAU5T,GAAS6T,YAAU,aAAAx1B,EAAAA,EAAAA,GAEhB,QAFgBk6D,EAE7BvpB,GAAQ9jC,UAAK,IAAAqtD,OAAA,EAAbA,EAAe7uB,cAAY,CAAA1xB,EAAAnb,KAAA,gBAAAmb,EAAAnb,KAAA,GACdmyC,GAAQ9jC,GAAMw+B,aAAa0qB,EAAW7tD,SAAQ,QAAvD,OAAPyZ,EAAOhI,EAAAC,KAAAD,EAAAQ,OAAA,SAEN,IAAIob,GAAAA,EAAU5T,GAAS6T,YAAU,QAExC1jB,QAAQ4J,KAAK,kCAAD9gB,OAAmCiS,EAAI,oCAAkC,QAAA8M,EAAAnb,KAAA,iBAAAmb,EAAAxZ,KAAA,GAAAwZ,EAAAgC,GAAAhC,EAAA,SAIzF7H,QAAQzO,MAAM,2BAADzI,OAA4BiS,EAAKkI,cAAa,KAAA4E,EAAAgC,IAAW,eAAAhC,EAAAQ,OAAA,SAEjE,GAAC,yBAAAR,EAAAJ,OAAA,GAAAG,EAAA,mBACT,gBA1BuBG,GAAA,OAAAO,EAAAnC,MAAA,KAAAhf,UAAA,KAwEtBqhE,aA5CmB,SAACzrD,GAEpB,IAAI0rD,EAAW5oD,KAAKE,MAAMN,aAAaE,QAAQ,WAE9B,OAAb8oD,GAAyC,IAApBA,EAASpiE,SAC9BoiE,EAAW,IAEVA,EAAShoD,SAAS1D,EAAK1M,KAC1Bo4D,EAASniE,KAAKyW,EAAK1M,IAErBoP,aAAaC,QAAQ,SAAUG,KAAKC,UAAU2oD,GAChD,GC5vBA,IACEjuC,qBAJ2B,WAAH,OAASyC,GAAAA,GAAAA,sBAAkC,EAKnExC,wBAJ8B,WAAH,OAASwC,GAAAA,GAAAA,yBAAqC,GCQ3E,IACE5N,UAVgB,SAAC7Z,GACjBynB,GAAAA,QAAAA,UAA2BznB,EAC7B,EASEkzD,aAPmB,SAAClzD,GACpBynB,GAAAA,OAAAA,aAA6BznB,EAC/B,G,gBCQMo2C,GAAc,SAAC+c,EAAMp3D,GACzBw3C,GAAAA,QAAAA,OAAwB,iBAADjgD,OAAkB6/D,EAAI,sBAAA7/D,OAAqByI,EAAMikC,UAExEx1B,QAAQrQ,MAAM,WAAY,cAC1BqQ,QAAQ4jB,IAAIryB,GACZyO,QAAQy2B,UACV,EAiBMmyB,GAA2B,eAAA90D,GAAAsT,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAO,EAAOpR,GAAM,IAAAokB,EAAAvtB,EAAA,OAAAga,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OAChC,OAAPkuB,EAAYpkB,EAAZokB,QAAO/S,EAAAxZ,KAAA,EAAAwZ,EAAAnb,KAAA,EAGWw6B,GAAAA,IAAc,UAAW,IAAFp+B,OAAM8xB,EAAO,qBAAmB,OAAhE,OAATvtB,EAASwa,EAAAC,KAAAD,EAAAQ,OAAA,SAERhb,EAAK+I,SAAO,OAE4B,OAF5ByR,EAAAxZ,KAAA,EAAAwZ,EAAAgC,GAAAhC,EAAA,SAEnB+jC,GAAY,4BAA2B/jC,EAAAgC,IAAQhC,EAAAQ,OAAA,UAExC,GAAK,yBAAAR,EAAAJ,OAAA,GAAAG,EAAA,kBAEf,gBAZgCG,GAAA,OAAAjU,EAAAqS,MAAA,KAAAhf,UAAA,KAc3B0hE,GAAmB,SAAC/1C,EAAcq4B,GACtC,IACI2d,EADAhrD,EAAOM,GAASC,UAGpB,GAAKP,EAMHgrD,EAAY,IAAIC,GAAAA,sBAAsBjrD,OAN7B,CACT,IAAM/G,EAAa8nC,GAAQ/rB,GAAck2C,uBAAuB7d,GAEhErtC,EAAO+gC,GAAQ/rB,GAAc04B,iBAC7Bsd,EAAY,IAAIG,GAAAA,4BAA4BlyD,EAAWhQ,QAAQ,KAAM,IAAK+W,EAC5E,CAIA,OAAOgrD,CACT,EAEMI,GAAgB,eAAAjhD,GAAAb,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,EAAO9Q,GAAM,IAAAokB,EAAA9H,EAAAq2C,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAlB,EAAAO,EAAAY,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAApvC,EAAAqvC,EAAAC,EAAAC,EAAA,OAAAjjD,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OAmBI,OAjBtCkuB,EASEpkB,EATFokB,QACA9H,EAQEtc,EARFsc,aACAq2C,EAOE3yD,EAPF2yD,aACAC,EAME5yD,EANF4yD,kBACAC,EAKE7yD,EALF6yD,mBACAC,EAIE9yD,EAJF8yD,kBACAC,EAGE/yD,EAHF+yD,mBACAC,EAEEhzD,EAFFgzD,YACAC,EACEjzD,EADFizD,YAGIlB,EAAkB9sB,GAAAA,WAA0B3oB,GAC5Cg2C,EAAYD,GAAiB/1C,EAAcq2C,GAC3CO,EAAU,IAAIa,GAAAA,kBAAkBhC,EAAiB3tC,EAASkuC,GAC1Da,EAAiB,IAAIa,GAAAA,yBAAyBjC,EAAiBO,GAC/Dc,EAAmB,IAAIa,GAAAA,2BAA2Bd,GAEhDE,EAAqCD,EAArCC,IAAKC,EAAgCF,EAAhCE,eAAgBC,EAAgBH,EAAhBG,YAAWpiD,EAAAjb,KAAA,EAEfi9D,EAAee,MAAMnC,GAAgB,OAqBD,OArBvDyB,EAAUriD,EAAAG,KAEVmiD,EAA8CJ,EAElDC,EAAe5lD,GAAM2jB,mBAAqB,KAC1CkiC,EAAYZ,EAAca,IAGtBE,EAAkBhmD,GAAM+O,OAAO02B,mBAAmB6f,EAAaH,GAC/Dc,EAAkBjmD,GAAM+O,OAAO02B,mBAAmB8f,EAAaF,GAE/DxuC,EAAQ2uC,EAAQiB,gBAAgB,CACpCvB,kBAAAA,EACAE,kBAAAA,EACAH,aAAAA,EACAK,YAAaU,EACbT,YAAaU,EACbS,UAAWX,IAGPG,EAAiBV,EAAQmB,yBAAyB9vC,GAClDsvC,EAAYX,EAAQoB,oBAAoBV,GAAeziD,EAAAjb,KAAA,GACrCg9D,EAAQqB,oBAAoB5B,EAAciB,GAAe,QAAlE,OAATE,EAAS3iD,EAAAG,KAAAH,EAAAU,OAAA,SAER2iD,GAAe,CACpBpwC,QAAAA,EACAG,MAAAA,EACAsvC,UAAAA,EACAb,YAAaU,EACbT,YAAaU,EACbhB,aAAAA,EACAmB,UAAAA,KACA,yBAAA3iD,EAAAF,OAAA,GAAAH,EAAA,KACH,gBAtDqBsB,GAAA,OAAAX,EAAA9B,MAAA,KAAAhf,UAAA,KAwDhB6jE,GAAc,eAAA1iD,GAAAlB,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAkB,EAAO/R,GAAM,IAAAokB,EAAAG,EAAAsvC,EAAAb,EAAAC,EAAAN,EAAAmB,EAAAW,EAAA,OAAA5jD,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,OAEW,OADrCkuB,EAAiFpkB,EAAjFokB,QAASG,EAAwEvkB,EAAxEukB,MAAOsvC,EAAiE7zD,EAAjE6zD,UAAWb,EAAsDhzD,EAAtDgzD,YAAaC,EAAyCjzD,EAAzCizD,YAAaN,EAA4B3yD,EAA5B2yD,aAAcmB,EAAc9zD,EAAd8zD,UACrEW,EAAiBhnB,OAASinB,cAAaziD,EAAA/b,KAAA,EAEhCw6B,GAAAA,KAAe,cAAe,IAAFp+B,OAAM8xB,EAAO,gBAAgB,CACpEkK,KAAM,CACJmmC,eAAAA,EACA59D,KAAM,CACJ89D,eAAgBpwC,EAAMowC,eACtBC,eAAgBrwC,EAAMqwC,eACtBC,YAAatwC,EAAMswC,YACnBC,WAAYvwC,EAAMuwC,WAClBC,eAAgBxwC,EAAMwwC,eACtBC,OAAQzwC,EAAMywC,OACdZ,UAAW7vC,EAAM6vC,UACjB1hE,KAAM6xB,EAAM7xB,KACZuiE,WAAY1wC,EAAM0wC,WAClBC,eAAgB3wC,EAAM2wC,gBAExBrB,UAAAA,EACAb,YAAAA,EACAC,YAAAA,EACAkC,WAAYxC,EACZyC,qBAAsBpC,EACtBc,UAAAA,GAEFviC,aAAc,SAACx2B,GAGb,OAFAq6C,GAAY,qBAAsBr6C,IAE3B,CACT,IACA,cAAAkX,EAAAJ,OAAA,SAAAI,EAAAX,MAAA,wBAAAW,EAAAhB,OAAA,GAAAc,EAAA,KACH,gBAhCmBG,GAAA,OAAAJ,EAAAnC,MAAA,KAAAhf,UAAA,KAkCd0kE,GAAc,eAAA7iD,GAAA5B,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAa,EAAO1R,GAAM,IAAAukB,EAAAhgB,EAAA+X,EAAAzX,EAAAywD,EAAAC,EAAAC,EAAAjwC,EAAAovB,EAAA8gB,EAAAtgB,EAAAmd,EAAAoD,EAAAC,EAAAC,EAAAC,EAAA,OAAAhlD,IAAAA,MAAA,SAAAe,GAAA,cAAAA,EAAA/Z,KAAA+Z,EAAA1b,MAAA,OAK8B,OAJxDquB,EAAyEvkB,EAAzEukB,MAAOhgB,EAAkEvE,EAAlEuE,KAAM+X,EAA4Dtc,EAA5Dsc,aAAczX,EAA8C7E,EAA9C6E,SAAUywD,EAAoCt1D,EAApCs1D,cAAeC,EAAqBv1D,EAArBu1D,iBAAgBC,EAC3DxuC,KAATzB,EAAIiwC,EAAJjwC,KAEFovB,EAAQ/sC,GAAS2F,cAAgB3F,GAASnH,aAAe8kB,EAAK,GAADjzB,OAAIgqB,EAAY,SAAQ1c,QACrF61D,EAAmBxwB,GAAAA,WAA0B3oB,GAAa1K,EAAA1b,KAAA,EAExCwgD,GAAU7xC,GAAUixD,eAAe,CACzDlhB,QAAS6gB,EACT5gB,SAAUtwB,EAAM1tB,KAAKo+D,WACrBxoC,SAAU6oC,EACV3gB,MAAAA,IACA,OALa,GAATQ,EAASvjC,EAAAN,MAOX,IAAI2b,GAAAA,EAAUkoB,GAAW4gB,WAAWR,GAAmB,CAAF3jD,EAAA1b,KAAA,gBAAA0b,EAAA1b,KAAA,GACjDmyC,GAAQxjC,GAAUmxD,QAAQ,CAC9BzxD,KAAAA,EACAg8B,GAAIk1B,EACJh5C,OAAQ84C,IACR,QAiBoB,OAdlBjD,EAAYD,GAAiB/1C,EAAcq4B,GAC3C+gB,EAA2B,IAAI1B,GAAAA,yBAAyByB,EAAkBnD,GAC1EqD,EAAiBjoD,GAAM+O,OAAO02B,mBAAmBoiB,EAAkBD,GAInEM,EAAWF,EAAyBL,eACxC9wC,EAAM1tB,KACN0tB,EAAMuvC,UACN,IACA6B,EACAA,GAGsB/jD,EAAA/Z,KAAA,GAAA+Z,EAAA1b,KAAA,GAGAmyC,GAAQ/rB,GAAciS,KAAK,CAC/CgS,GAAIk1B,EACJ5+D,KAAM++D,EACNn5C,OAAQ,EACRw5C,SAPa,KAQbC,aAAa,IACb,QANW,OAAPL,EAAOjkD,EAAAN,KAAAM,EAAAC,OAAA,SAQNgkD,GAAO,QAE0B,OAF1BjkD,EAAA/Z,KAAA,GAAA+Z,EAAAyB,GAAAzB,EAAA,UAEdwjC,GAAY,qBAAoBxjC,EAAAyB,IAAQzB,EAAAC,OAAA,UAEjC,GAAK,yBAAAD,EAAAX,OAAA,GAAAS,EAAA,oBAEf,gBArDmBS,GAAA,OAAAK,EAAA7C,MAAA,KAAAhf,UAAA,KAuDdwlE,GAAgB,eAAA7jD,GAAA1B,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAA0B,EAAOvS,GAAM,IAAAokB,EAAA9H,EAAA85C,EAAAC,EAAAC,EAAA/wC,EAAAovB,EAAAod,EAAAO,EAAAa,EAAAyC,EAAAC,EAAA,OAAAhlD,IAAAA,MAAA,SAAAmC,GAAA,cAAAA,EAAAnb,KAAAmb,EAAA9c,MAAA,OASuB,OARnDkuB,EAAiDpkB,EAAjDokB,QAAS9H,EAAwCtc,EAAxCsc,aAAc85C,EAA0Bp2D,EAA1Bo2D,UAAWC,EAAer2D,EAAfq2D,WAAUC,EACnCtvC,KAATzB,EAAI+wC,EAAJ/wC,KAEFovB,EAAQ/sC,GAAS2F,cAAgB3F,GAASnH,aAAe8kB,EAAK,GAADjzB,OAAIgqB,EAAY,SAAQ1c,QAErFmyD,EAAkB9sB,GAAAA,WAA0B3oB,GAC5Cg2C,EAAYD,GAAiB/1C,EAAcq4B,GAC3Cwe,EAAiB,IAAIa,GAAAA,yBAAyBjC,EAAiBO,GAC/DsD,EAAWzC,EAAegD,iBAAiBC,GAAUpjD,EAAAnb,KAAA,EAAAmb,EAAA9c,KAAA,GAGnCmyC,GAAQ/rB,GAAciS,KAAK,CAC/C2nC,aAAa,EACb31B,GAAIwxB,EACJl7D,KAAM++D,EACNn5C,OAAQ,IACR,QAEgD,OAP5Co5C,EAAO7iD,EAAA1B,KAObilD,GAA0B,CAAEnyC,QAAAA,EAASiyC,WAAAA,IAAarjD,EAAAnB,OAAA,SAE3CgkD,GAAO,QAE4B,OAF5B7iD,EAAAnb,KAAA,GAAAmb,EAAAK,GAAAL,EAAA,SAEdoiC,GAAY,uBAAsBpiC,EAAAK,IAAQL,EAAAnB,OAAA,UAEnC,GAAK,yBAAAmB,EAAA/B,OAAA,GAAAsB,EAAA,mBAEf,gBA3BqBe,GAAA,OAAAhB,EAAA3C,MAAA,KAAAhf,UAAA,KA6BhB4lE,GAA4B,SAACv2D,GACjC,IAAQokB,EAAwBpkB,EAAxBokB,QAASiyC,EAAer2D,EAAfq2D,WAEjB5vC,GAAAA,QAAAA,YAA6B,CAAErC,QAAAA,EAASjtB,MAAOk/D,GACjD,EAEMG,GAAqB,eAAA9iD,GAAA9C,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAiD,EAAO9T,GAAM,IAAAokB,EAAAuwB,EAAA8hB,EAAA1wC,EAAA2wC,EAAAC,EAAAC,EAAA,OAAA/lD,IAAAA,MAAA,SAAAoD,GAAA,cAAAA,EAAApc,KAAAoc,EAAA/d,MAAA,OAE1B,OADPkuB,EAAmBpkB,EAAnBokB,QAASuwB,EAAU30C,EAAV20C,MAAK8hB,EACFzvC,KAAZjB,EAAO0wC,EAAP1wC,QAAO9R,EAAApc,KAAA,EAAAoc,EAAA/d,KAAA,EAGoBw6B,GAAAA,IAC/B,cAAa,IAAAp+B,OACT8xB,EAAO,yBAAA9xB,OAAwBqiD,EAAK,mCACzC,OAHKgiB,EAAkB1iD,EAAA3C,MAUtBslD,OALIA,EAAmB7wC,EAAQtd,OAAO2b,GAAS,KAKpB,QAAXsyC,EAAhBE,EAAkB9C,iBAAS,IAAA4C,OAAX,EAAhBA,EAA6B/+D,iBAAkBg/D,EAAc,GAAG7C,UAAUn8D,eAG1E8uB,GAAAA,QAAAA,SAA0B,CAAErC,QAAAA,EAASG,MAAOoyC,EAAc,KAC3D1iD,EAAA/d,KAAA,iBAAA+d,EAAApc,KAAA,GAAAoc,EAAAZ,GAAAY,EAAA,SAEDmhC,GAAY,6BAA4BnhC,EAAAZ,IAAQ,yBAAAY,EAAAhD,OAAA,GAAA6C,EAAA,mBAEnD,gBAvB0BK,GAAA,OAAAT,EAAA/D,MAAA,KAAAhf,UAAA,KAyBrBkmE,GAAgB,eAAArjD,GAAA5C,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAA4C,EAAOzT,GAAM,IAAAokB,EAAAuwB,EAAAmiB,EAAAC,EAAAC,EAAAC,EAAAC,EAAApC,EAAAqC,EAAAlC,EAAAjnC,EAAAvlB,EAAA,OAAAoI,IAAAA,MAAA,SAAAgD,GAAA,cAAAA,EAAAhc,KAAAgc,EAAA3d,MAAA,OAYmC,OAX/DkuB,EAA+EpkB,EAA/EokB,QAASuwB,EAAsE30C,EAAtE20C,MAAKmiB,EAAiE92D,EAA/D+2D,KAAAA,OAAI,IAAAD,EAAG,EAACA,EAAAE,EAAuDh3D,EAArDi3D,UAAAA,OAAS,IAAAD,EAAG,GAAEA,EAAAE,EAAuCl3D,EAArC80D,WAAAA,OAAU,IAAAoC,EAAG,GAAEA,EAAAC,EAAsBn3D,EAApBi1D,WAAAA,OAAU,IAAAkC,EAAG,GAAEA,EAE5EnpC,EAAU,CAAC,IAAD17B,OACV8xB,EAAO,yBAAA9xB,OAAwBqiD,EAAK,aAAAriD,OAChCykE,EAAI,cAAAzkE,OACH2kE,EAAS,yBACG,yBAInBhC,GAAYjnC,EAAQl+B,KAAK,eAADwC,OAAgB2iE,EAAWt9D,gBACnDm9D,GAAY9mC,EAAQl+B,KAAK,eAADwC,OAAgBwiE,EAAWn9D,gBAAgBkc,EAAAhc,KAAA,EAAAgc,EAAA3d,KAAA,EAGhDw6B,GAAAA,IAAc,cAAe1C,EAAQ58B,KAAK,KAAI,OAAvD,OAANqX,EAAMoL,EAAAvC,KAAAuC,EAAAhC,OAAA,SAELpJ,GAAM,QAEmC,OAFnCoL,EAAAhc,KAAA,GAAAgc,EAAAR,GAAAQ,EAAA,SAEbuhC,GAAY,6BAA4BvhC,EAAAR,IAAQQ,EAAAhC,OAAA,SAEzC,IAAE,yBAAAgC,EAAA5C,OAAA,GAAAwC,EAAA,mBAEZ,gBAvBqByoB,GAAA,OAAA1oB,EAAA7D,MAAA,KAAAhf,UAAA,KAyBhBymE,GAAe,eAAAn6C,GAAArM,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAuvB,IAAA,IAAAi3B,EAAA9xC,EAAAQ,EAAA,OAAAlV,IAAAA,MAAA,SAAAkwB,GAAA,cAAAA,EAAAlpC,KAAAkpC,EAAA7qC,MAAA,OAAAmhE,EACIrwC,KAAlBzB,EAAI8xC,EAAJ9xC,KAAMQ,EAAOsxC,EAAPtxC,QAEdjlB,OAAOtL,KAAKuwB,EAAQ7B,aAAapxB,QAAO,eAAAqqB,GAAAvM,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAsuB,EAAO/a,GAAO,IAAA7K,EAAAo7B,EAAAlsC,EAAA,OAAAoI,IAAAA,MAAA,SAAAivB,GAAA,cAAAA,EAAAjoC,KAAAioC,EAAA5pC,MAAA,OAEyC,OADxFqjB,EAAWwM,EAAQ7B,YAAYE,GAAS7K,SAAS5hB,cACjDg9C,EAAQ/sC,GAAS2F,cAAgB3F,GAASnH,aAAe8kB,EAAK,GAADjzB,OAAIinB,EAAQ,SAAQ3Z,QAAOkgC,EAAA5pC,KAAA,EACzE2gE,GAAiB,CAAEzyC,QAAAA,EAASuwB,MAAAA,IAAQ,OAAnDlsC,EAAMq3B,EAAAxuB,KAEZmV,GAAAA,QAAAA,UAA2B,CAAErC,QAAAA,EAAS3b,OAAAA,IAAS,wBAAAq3B,EAAA7uB,OAAA,GAAAkuB,EAAA,KAChD,gBAAAT,GAAA,OAAAvhB,EAAAxN,MAAA,KAAAhf,UAAA,EANuC,IAMtC,wBAAAowC,EAAA9vB,OAAA,GAAAmvB,EAAA,KACH,kBAVoB,OAAAnjB,EAAAtN,MAAA,KAAAhf,UAAA,KAYf2mE,GAAc,eAAAj6C,GAAAzM,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAywB,EAAOthC,GAAM,IAAAokB,EAAAmzC,EAAAR,EAAAS,EAAAP,EAAAQ,EAAAxC,EAAAyC,EAAA5C,EAAA9mC,EAAAvlB,EAAA,OAAAoI,IAAAA,MAAA,SAAAuxB,GAAA,cAAAA,EAAAvqC,KAAAuqC,EAAAlsC,MAAA,OAYqC,OAX/DkuB,EAAwEpkB,EAAxEokB,QAAOmzC,EAAiEv3D,EAA/D+2D,KAAAA,OAAI,IAAAQ,EAAG,EAACA,EAAAC,EAAuDx3D,EAArDi3D,UAAAA,OAAS,IAAAO,EAAG,GAAEA,EAAAC,EAAuCz3D,EAArCi1D,WAAAA,OAAU,IAAAwC,EAAG,GAAEA,EAAAC,EAAsB13D,EAApB80D,WAAAA,OAAU,IAAA4C,EAAG,GAAEA,EAErE1pC,EAAU,CAAC,IAAD17B,OACV8xB,EAAO,6BAAA9xB,OACHykE,EAAI,cAAAzkE,OACH2kE,EAAS,yBACG,yBAInBhC,GAAYjnC,EAAQl+B,KAAK,eAADwC,OAAgB2iE,EAAWt9D,gBACnDm9D,GAAY9mC,EAAQl+B,KAAK,eAADwC,OAAgBwiE,EAAWn9D,gBAAgByqC,EAAAvqC,KAAA,EAAAuqC,EAAAlsC,KAAA,EAGhDw6B,GAAAA,IAAc,cAAe1C,EAAQ58B,KAAK,KAAI,OAAvD,OAANqX,EAAM25B,EAAA9wB,KAAA8wB,EAAAvwB,OAAA,SAELpJ,GAAM,QAE+B,OAF/B25B,EAAAvqC,KAAA,GAAAuqC,EAAA/uB,GAAA+uB,EAAA,SAEbgT,GAAY,yBAAwBhT,EAAA/uB,IAAQ+uB,EAAAvwB,OAAA,SAErC,IAAE,yBAAAuwB,EAAAnxB,OAAA,GAAAqwB,EAAA,mBAEZ,gBAvBmBrC,GAAA,OAAA5hB,EAAA1N,MAAA,KAAAhf,UAAA,KAyBpB,UACEgnE,iBAzTuB,SAAC33D,GACxB,IAAoB43D,EAAqBC,GAAUF,iBAAiB33D,GAA5D2jB,WACAoC,EAAYiB,KAAZjB,QACF+xC,EAAkBh3D,OAAOtL,KAAKuwB,EAAQ7B,aAAalzB,IAAI4rB,QAE7D,MAAO,CACL+G,WAAYi0C,EAAiB54D,QAAO,SAAA7C,GAAoB,IAAjBsI,EAAUtI,EAAVsI,WAC/B2f,EAAU6gB,GAAAA,YAA2BxgC,GAE3C,QAASshB,EAAQ7B,YAAYE,EAC/B,IACA2zC,aAAcF,GAAUG,eAAeF,GAE3C,EA6SE1F,4BAAAA,GACAM,iBAAAA,GACA2C,eAAAA,GACAc,iBAAAA,GACAI,0BAAAA,GACAC,sBAAAA,GACAK,iBAAAA,GACAO,gBAAAA,GACAE,eAAAA,I,wCClVIW,GAAO,CACXC,QAASC,GAAAA,GACTzxC,OAAQ0xC,GAAAA,GACR9X,KAAM+X,GAAAA,IAGHC,GAAW,SAAXA,GAAW,OAAXA,EAAW,8CAAXA,EAAW,8CAAXA,EAAW,oDAAXA,EAAW,oDAAXA,EAAW,wGAAXA,EAAW,wGAAXA,EAAW,8GAAXA,CAAW,EAAXA,IAAW,IAUXC,GAAgB,SAAhBA,GAAgB,OAAhBA,EAAgB,4BAAhBA,EAAgB,kCAAhBA,EAAgB,kCAAhBA,EAAgB,wCAAhBA,CAAgB,EAAhBA,IAAgB,IAafC,GAAe,SAACp0C,EAAiBq0C,GACrC,IAAAC,EAA8ChuD,GAAAA,UAAtC8pB,EAAekkC,EAAflkC,gBAER,OAAOikC,IAFkCC,EAAhBnkC,iBAEqBC,EAAgBpQ,GAAWq0C,CAC3E,EAEME,GAAc,SAAC34D,GAA8B,IAAA44D,EACzCr0D,EAAgCvE,EAAhCuE,KAAM3E,EAA0BI,EAA1BJ,QAAS0c,EAAiBtc,EAAjBsc,aAEvB,OAAiD,QAAjDs8C,EAAOxmB,GAAc91B,aAAY,EAAZA,EAAc3kB,sBAAc,IAAAihE,OAAA,EAA1CA,EAA4CD,YAAY,CAC7D7lB,IAAKmlB,GAAK1zD,GACV3E,QAAAA,GAEJ,EAEMi5D,GAAW,eAAA18D,GAAAyU,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAO,EAAOiO,EAAUy5C,GAAc,IAAAC,EAAAC,EAAAC,EAAA,OAAApoD,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,cAAAmb,EAAAnb,KAAA,EACjBmpB,EAASja,IAAI8zD,iBAAgB,OAAtC,OAAjBH,EAAiB1nD,EAAAC,KAAAD,EAAAnb,KAAG,EACAmpB,EAASja,IAAI+zD,SAASJ,GAAkB,OAC3B,OADjCC,EAAW3nD,EAAAC,KACX2nD,EAAYD,EAAYC,UAAS5nD,EAAAQ,OAAA,SAEhCnE,GAAM+O,OAAO62B,YAAY,IAAIrmB,GAAAA,EAAUgsC,GAAWr+B,KAAKk+B,KAAgB,wBAAAznD,EAAAJ,OAAA,GAAAG,EAAA,KAC/E,gBANgBG,EAAAa,GAAA,OAAAjW,EAAAwT,MAAA,KAAAhf,UAAA,KAQXyoE,GAAmB,SAACC,EAAiB58C,GAGzC,OAAO,IAAIwQ,GAAAA,EAAUxQ,GAAQsjB,IAFT,KAE0BqT,MAAMimB,GAAiBnsC,UACvE,EAEMosC,GAAe,SAAC78C,EAAQ7pB,GAC5B,OAAO,IAAIq6B,GAAAA,EAAUxQ,GAAQqyC,MAAMl8D,GAAOouC,aAAa/T,GAAAA,EAAAA,WACzD,EAEMssC,GAAc,eAAAj8D,GAAAsT,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,EAAO9Q,GAAM,IAAAw5D,EAAAl9C,EAAA8H,EAAAq1C,EAAAC,EAAAxB,EAAA,OAAArnD,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OAWI,OAV9BsjE,EAA0Cx5D,EAA1Cw5D,eAAgBl9C,EAA0Btc,EAA1Bsc,aAAc8H,EAAYpkB,EAAZokB,QAChCq1C,EAAmBz5D,EAAnBy5D,OAAQC,EAAW15D,EAAX05D,OAERxB,EAAUS,GAAY,CAC1Bp0D,KAAM,UACN3E,QAAS45D,EACTl9C,aAAAA,IAGFm9C,EAASjB,GAAap0C,EAASq1C,GAC/BC,EAASlB,GAAap0C,EAASs1C,GAAOvoD,EAAAtZ,KAAA,EAAAsZ,EAAAjb,KAAA,EAGvBgiE,aAAO,EAAPA,EAAShjB,QAAQykB,QAAQF,EAAQC,GAAQzoE,OAAM,cAAAkgB,EAAAU,OAAA,SAAAV,EAAAG,MAAA,QAExC,OAFwCH,EAAAtZ,KAAA,GAAAsZ,EAAAkC,GAAAlC,EAAA,SAE5D3H,QAAQzO,MAAKoW,EAAAkC,IAAOlC,EAAAU,OAAA,UACb,GAAK,yBAAAV,EAAAF,OAAA,GAAAH,EAAA,mBAEf,gBAnBmBoB,GAAA,OAAA5U,EAAAqS,MAAA,KAAAhf,UAAA,KAqBdipE,GAAY,eAAAnoD,GAAAb,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAkB,EAAO/R,GAAM,IAAA65D,EAAAv9C,EAAA8H,EAAAq1C,EAAAK,EAAAJ,EAAAK,EAAAC,EAAAtzC,EAAAuzC,EAAAp9D,EAAAq9D,EAAA,OAAArpD,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,OAc2C,OAZzE2jE,EAQE75D,EARF65D,cACAv9C,EAOEtc,EAPFsc,aACA8H,EAMEpkB,EANFokB,QACAq1C,EAKEz5D,EALFy5D,OACAK,EAIE95D,EAJF85D,eACAJ,EAGE15D,EAHF05D,OACAK,EAEE/5D,EAFF+5D,eACAC,EACEh6D,EADFg6D,SAGItzC,EAASiyC,GAAY,CAAEp0D,KAAM,SAAU3E,QAASi6D,EAAev9C,aAAAA,IAC/D29C,EAAevsD,GAAM+O,OAAO02B,mBAAmB6mB,EAAUF,GACzDj9D,EAAO,CAAC27D,GAAap0C,EAASq1C,GAASjB,GAAap0C,EAASs1C,IAAQznD,EAAApa,KAAA,EAAAoa,EAAA/b,KAAA,EAKnDwwB,aAAM,EAANA,EAAQwuB,QAC3BilB,cAAczsD,GAAM+O,OAAO62B,YAAY2mB,GAAep9D,GACtD5L,OAAM,OAFI,OAAPipE,EAAOjoD,EAAAX,KAAAW,EAAAJ,OAAA,SAINnE,GAAM+O,OAAO42B,sBAAsB6mB,EAAQ,GAAIH,IAAe,eAAA9nD,EAAApa,KAAA,GAAAoa,EAAAoB,GAAApB,EAAA,SAAAA,EAAAJ,OAAA,SAAAI,EAAAoB,IAAA,yBAAApB,EAAAhB,OAAA,GAAAc,EAAA,mBAIxE,gBA3BiBI,GAAA,OAAAV,EAAA9B,MAAA,KAAAhf,UAAA,KA6BZypE,GAA2B,eAAAtoD,GAAAlB,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAa,EAAO1R,GAAM,IAAAokB,EAAAi2C,EAAAR,EAAAv9C,EAAAg+C,EAAAR,EAAAC,EAAAN,EAAA/yC,EAAA45B,EAAAia,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAjqD,IAAAA,MAAA,SAAAe,GAAA,cAAAA,EAAA/Z,KAAA+Z,EAAA1b,MAAA,OAe+B,OAb5EkuB,EAOEpkB,EAPFokB,QACAi2C,EAMEr6D,EANFq6D,YACAR,EAKE75D,EALF65D,cACAv9C,EAIEtc,EAJFsc,aACAg+C,EAGEt6D,EAHFs6D,eACAR,EAEE95D,EAFF85D,eACAC,EACE/5D,EADF+5D,eAEIN,EAAWz5D,EAAXy5D,OAENA,EAASjB,GAAap0C,EAASq1C,GAEzB/yC,EAASiyC,GAAY,CAAEp0D,KAAM,SAAU3E,QAASi6D,EAAev9C,aAAAA,IAC/DgkC,EAAOqY,GAAY,CAAEp0D,KAAM,OAAQ3E,QAASy6D,EAAa/9C,aAAAA,IAAe1K,EAAA/Z,KAAA,EAAA+Z,EAAA1b,KAAA,EAGvDoqD,EAAKpL,QAAQslB,SAASvpE,OAAM,OAArC,OAANupE,EAAM5oD,EAAAN,KAAAM,EAAA1b,KAAG,GACsBoqD,EAAKpL,QAAQ6lB,cAAc9pE,OAAM,QAIuB,OAJvBwpE,EAAA7oD,EAAAN,KAA9DopD,EAAQD,EAARC,SAAUC,EAAQF,EAARE,SACZC,EAAcltD,GAAM+O,OAAO02B,mBAAmBmnB,EAAgBR,GAE9De,EACJpB,EAAO9hE,gBAAkB6iE,EAAO7iE,cAAgB,CAACgjE,EAAUD,GAAY,CAACA,EAAUC,GAAS/oD,EAAA1b,KAAA,IAElEqkE,EAAA7zC,EAAOwuB,SAAQ/D,MAAKxhC,MAAA4qD,EAAA,CAACK,GAAWtoE,OAAKuoE,IAAe5pE,OAAM,QAAnE,OAAZ6pE,EAAYlpD,EAAAN,KAAAM,EAAAC,OAAA,SAEXnE,GAAM+O,OAAO42B,sBAAsBynB,EAAcf,IAAe,eAAAnoD,EAAA/Z,KAAA,GAAA+Z,EAAAyB,GAAAzB,EAAA,SAAAA,EAAAC,OAAA,SAAAD,EAAAyB,IAAA,yBAAAzB,EAAAX,OAAA,GAAAS,EAAA,mBAI1E,gBA/BgC4B,GAAA,OAAAxB,EAAAnC,MAAA,KAAAhf,UAAA,KAiC3BqqE,GAAsB,eAAAxoD,GAAA5B,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAA0B,EAC7BvS,GAAM,IAAAokB,EAAA/E,EAAAoO,EAAAwtC,EAAAC,EAAAC,EAAAC,EAAAzmB,EAAAmkB,EAAAuC,EAAAtkB,EAAAC,EAAAskB,EAAAz+D,EAAAuxB,EAAAmtC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA3B,EAAA,OAAAnpD,IAAAA,MAAA,SAAAmC,GAAA,cAAAA,EAAAnb,KAAAmb,EAAA9c,MAAA,OAiBK,GAXTkuB,EAYEpkB,EAZFokB,QACA/E,EAWErf,EAXFqf,SACAoO,EAUEztB,EAVFytB,OACAwtC,EASEj7D,EATFi7D,UACAC,EAQEl7D,EARFk7D,kBACAC,EAOEn7D,EAPFm7D,QACAC,EAMEp7D,EANFo7D,gBACAzmB,EAKE30C,EALF20C,MACAmkB,EAIE94D,EAJF84D,eACAuC,EAGEr7D,EAHFq7D,SACAtkB,EAEE/2C,EAFF+2C,WACAC,EACEh3C,EADFg3C,UAGGshB,GAAY7qC,GAAS,CAAFza,EAAA9c,KAAA,cAAQ,IAAI/H,MAAM,gBAAe,OAQxB,OAN3BmtE,EAAc1+C,OAAOwH,GAG3B62C,EAAYzC,GAAa8C,EAAaL,GACtCE,EAAU3C,GAAa8C,EAAaH,GAE9Bt+D,EAAO,CAACo+D,EAAWE,GAAQnoD,EAAA9c,KAAA,EACV2iE,GAAYx5C,EAAUy5C,GAAe,OAAtD1qC,EAAQpb,EAAA1B,KAERiqD,EAAgB7tD,GAAM+O,OAAO02B,mBAAmB4D,EAAYmkB,GAC5DM,EAAe9tD,GAAM+O,OAAO02B,mBAAmB6D,EAAWokB,GAC1DK,EAAoBrC,GAAiBiC,EAAUG,GAG/CE,EAAYpC,GAAakC,EAAcC,GACvCE,EAAejuD,GAAM+O,OAAO62B,YAAYooB,GACxC1B,EAAWuB,EAAavoD,EAAAK,GAEtBoa,EAAMza,EAAA9c,KAAA8c,EAAAK,KACPilD,GAAYsD,oDAAkD5oD,EAAAK,KAC9DilD,GAAYuD,sBADkD,GAC7B7oD,EAAAK,KAOjCilD,GAAYwD,uDAAqD9oD,EAAAK,KACjEilD,GAAYyD,oDAAkD/oD,EAAAK,KAC9DilD,GAAY0D,uBAAqBhpD,EAAAK,KACjCilD,GAAY2D,yBAHqD,GAG7B,wBAAAjpD,EAAAnB,OAAA,SAThC,CACLqqD,KAAM,CAACP,EAAc9+D,EAAM83C,EAAOvmB,GAElCj4B,MAAO4gD,IACR,eAAA/jC,EAAAnB,OAAA,SAMM,CACLqqD,KAAM,CAAClC,EAAU2B,EAAc9+D,EAAM83C,EAAOvmB,KAC7C,eAAApb,EAAAnB,OAAA,SAGE,CAAEqqD,KAAM,KAAI,yBAAAlpD,EAAA/B,OAAA,GAAAsB,EAAA,KACpB,gBA5D2B4B,GAAA,OAAA3B,EAAA7C,MAAA,KAAAhf,UAAA,KA8DtBwrE,GAAmB,SAACn8D,GACxB,IAAQi7D,EAAyCj7D,EAAzCi7D,UAAWE,EAA8Bn7D,EAA9Bm7D,QAASiB,EAAqBp8D,EAArBo8D,iBAE5B,GACEnB,EAAUtjE,gBAAkB+S,GAAAA,UAAAA,kBAC5BywD,EAAQxjE,gBAAkB+S,GAAAA,UAAAA,iBAE1B,MAAM,IAAIvc,MAAM,iCAGlB,OAAI8sE,EAAUtjE,gBAAkB+S,GAAAA,UAAAA,iBACvB0xD,EACH9D,GAAYsD,mDACZtD,GAAYuD,sBACPV,EAAQxjE,gBAAkB+S,GAAAA,UAAAA,iBAC5B0xD,EACH9D,GAAYyD,mDACZzD,GAAY0D,sBAETI,EACH9D,GAAYwD,sDACZxD,GAAY2D,wBAEpB,EAEMI,GAAY,eAAA/pD,GAAA1B,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAiD,EAAO9T,GAAM,IAAA65D,EAAAv9C,EAAAq4B,EAAAsmB,EAAAC,EAAAC,EAAAC,EAAAtC,EAAAuC,EAAAtkB,EAAAC,EAAAslB,EAAApG,EAAAkG,EAAAG,EAAAC,EAAAn9C,EAAAqH,EAAA+G,EAAAgvC,EAAAC,EAAA,OAAA7rD,IAAAA,MAAA,SAAAoD,GAAA,cAAAA,EAAApc,KAAAoc,EAAA/d,MAAA,OAoB2C,OAlBzE2jE,EAaE75D,EAbF65D,cACAv9C,EAYEtc,EAZFsc,aACAq4B,EAWE30C,EAXF20C,MACAsmB,EAUEj7D,EAVFi7D,UACAC,EASEl7D,EATFk7D,kBACAC,EAQEn7D,EARFm7D,QACAC,EAOEp7D,EAPFo7D,gBACAtC,EAME94D,EANF84D,eACAuC,EAKEr7D,EALFq7D,SACAtkB,EAIE/2C,EAJF+2C,WACAC,EAGEh3C,EAHFg3C,UAASslB,EAGPt8D,EAFFk2D,YAAAA,OAAW,IAAAoG,GAAQA,EACnBF,EACEp8D,EADFo8D,iBAAgBnoD,EAAApc,KAAA,EAIVwnB,EAAWgpB,GAAQ/rB,EAAa3kB,eAAekQ,UAC/C6e,EAASiyC,GAAY,CAAEp0D,KAAM,SAAU3E,QAASi6D,EAAev9C,aAAAA,IAC/DmR,EAAS0uC,GAAiB,CAAElB,UAAAA,EAAWE,QAAAA,EAASiB,iBAAAA,IAAmBnoD,EAAA/d,KAAA,EAClD8kE,GAAuB,CAC5C52C,QAASikB,GAAQ/rB,EAAa3kB,eAAeysB,QAC7Ci3C,SAAAA,EACAh8C,SAAAA,EACAoO,OAAAA,EACAwtC,UAAAA,EACAC,kBAAAA,EACAC,QAAAA,EACAC,gBAAAA,EACAzmB,MAAAA,EACAmkB,eAAAA,EACA/hB,WAAAA,EACAC,UAAAA,IACA,OAEiE,OAf7DylB,EAAQxoD,EAAA3C,KAeRorD,GAASH,EAAA71C,EAAOwuB,SAAQznB,GAAO9d,MAAA4sD,GAAAvjD,EAAAA,EAAAA,GAAIyjD,EAASP,OAAMS,YAAW1oD,EAAApC,OAAA,SAE5Dw2B,GAAQ/rB,EAAa3kB,eAAe42B,KAAK,CAC9CgS,GAAIs5B,EACJhjE,KAAM6lE,EACNxG,YAAAA,EACAz5C,OAAsB,QAAhB+/C,EAAEC,EAAStmE,aAAK,IAAAqmE,EAAAA,EAAI,KAC1B,eAAAvoD,EAAApc,KAAA,GAAAoc,EAAAZ,GAAAY,EAAA,SAAAA,EAAApC,OAAA,SAAAoC,EAAAZ,IAAA,yBAAAY,EAAAhD,OAAA,GAAA6C,EAAA,mBAIL,gBA/CiBooB,GAAA,OAAA5pB,EAAA3C,MAAA,KAAAhf,UAAA,KAiDZisE,GAAsB,eAAAlpD,GAAA9C,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAA4C,EAAOzT,GAAM,IAAAqf,EAAAg8C,EAAA5B,EAAAK,EAAAQ,EAAAZ,EAAAK,EAAA8C,EAAAloB,EAAAmkB,EAAAgE,EAAAC,EAAAtvC,EAAAyuC,EAAA/lE,EAAA6mE,EAAA7pB,EAAAG,EAAAllB,EAAA6uC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAA9sD,IAAAA,MAAA,SAAAgD,GAAA,cAAAA,EAAAhc,KAAAgc,EAAA3d,MAAA,OAiBrB,GAfnBmpB,EAUErf,EAVFqf,SACAg8C,EASEr7D,EATFq7D,SACA5B,EAQEz5D,EARFy5D,OACAK,EAOE95D,EAPF85D,eACAQ,EAMEt6D,EANFs6D,eACAZ,EAKE15D,EALF05D,OACAK,EAIE/5D,EAJF+5D,eACA8C,EAGE78D,EAHF68D,eACAloB,EAEE30C,EAFF20C,MACAmkB,EACE94D,EADF84D,eAEIgE,EAAcrD,EAAO9hE,cACrBolE,EAAcrD,EAAO/hE,cAGvBxB,EAAgB,EAGlB2mE,IAAgBpyD,GAAAA,UAAAA,kBAChBqyD,IAAgBryD,GAAAA,UAAAA,iBAAoC,CAAAmJ,EAAA3d,KAAA,cAE9C,IAAI/H,MAAM,oBAAmB,OAGE,OAA/BglD,GAH6B6pB,EAGOtvD,GAAM+O,QAA1C02B,mBAAoBG,EAAW0pB,EAAX1pB,YAAWz/B,EAAA3d,KAAA,EAChB2iE,GAAYx5C,EAAUy5C,GAAe,OAgD3D,OAhDK1qC,EAAQva,EAAAvC,KACR2rD,EAAqB9pB,EAAmBmnB,EAAgBR,GACxDoD,EAAqB/pB,EAAmB0pB,EAAgB9C,GAExDoD,EAAuB/D,GAC3BiC,EACAloB,EAAmBmnB,EAAgBR,IAE/BsD,EAAuBhE,GAC3BiC,EACAloB,EAAmB0pB,EAAgB9C,IAG/BsD,EAAa/D,GAAa2D,EAAoBE,GAC9CG,EAAahE,GAAa4D,EAAoBE,GAC9CG,EAAoBjqB,EAAY2pB,GAChCO,EAAoBlqB,EAAY4pB,GAChCO,EAAgBnqB,EAAY+pB,GAC5BK,EAAgBpqB,EAAYgqB,GAGhCR,IAAgBpyD,GAAAA,UAAAA,kBAChBqyD,IAAgBryD,GAAAA,UAAAA,kBAEVizD,EAAiBb,IAAgBpyD,GAAAA,UAAAA,iBAEvC+iB,EAAS8qC,GAAiBqF,gBAC1BznE,EAAQwnE,EAAiBrD,EAAiBuC,EAC1CX,EAAO,CACLyB,EAAiBjE,EAASD,EAC1BkE,EAAiBH,EAAoBD,EACrCI,EAAiBD,EAAgBD,EACjCE,EAAiBF,EAAgBC,EACjC/oB,EACAvmB,KAGFX,EAAS8qC,GAAiBsF,aAC1B3B,EAAO,CACLzC,EACAC,EACA6D,EACAC,EACAE,EACAA,EACA/oB,EACAvmB,IAEHva,EAAAhC,OAAA,SAEM,CACL4b,OAAAA,EACAyuC,KAAAA,EACA/lE,MAAAA,IACD,yBAAA0d,EAAA5C,OAAA,GAAAwC,EAAA,KACF,gBAlF2BirB,GAAA,OAAAhrB,EAAA/D,MAAA,KAAAhf,UAAA,KAoFtBmtE,GAAoB,eAAAtqD,GAAA5C,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAsuB,EAAOn/B,GAAM,IAAA+9D,EAAAlE,EAAAv9C,EAAA0hD,EAAA9H,EAAAuD,EAAAK,EAAAQ,EAAAZ,EAAAK,EAAA8C,EAAAloB,EAAAmkB,EAAAuC,EAAAh8C,EAAA4+C,EAAAxwC,EAAAyuC,EAAA/lE,EAAAuwB,EAAAg2C,EAAAwB,EAAAC,EAAAlI,EAAA,OAAAplD,IAAAA,MAAA,SAAAivB,GAAA,cAAAA,EAAAjoC,KAAAioC,EAAA5pC,MAAA,OAgBsB,OAd5D2jE,EAWE75D,EAXF65D,cACAv9C,EAUEtc,EAVFsc,aAAY0hD,EAUVh+D,EATFk2D,YAAAA,OAAW,IAAA8H,GAAQA,EACnBvE,EAQEz5D,EARFy5D,OACAK,EAOE95D,EAPF85D,eACAQ,EAMEt6D,EANFs6D,eACAZ,EAKE15D,EALF05D,OACAK,EAIE/5D,EAJF+5D,eACA8C,EAGE78D,EAHF68D,eACAloB,EAEE30C,EAFF20C,MACAmkB,EACE94D,EADF84D,eAEIuC,EAAar7D,EAAbq7D,SAEAh8C,EAAWgpB,GAAQ/rB,EAAa3kB,eAAekQ,UAASi4B,EAAA5pC,KAAA,EACxB0mE,GAAuB,CAC3Dv9C,SAAAA,EACAo6C,OAAAA,EACAK,eAAAA,EACAQ,eAAAA,EACAe,SAAAA,EACA3B,OAAAA,EACAK,eAAAA,EACA8C,eAAAA,EACAloB,MAAAA,EACAmkB,eAAAA,IACA,OAKyE,OALzEmF,EAAAn+B,EAAAxuB,KAXMmc,EAAMwwC,EAANxwC,OAAQyuC,EAAI+B,EAAJ/B,KAAM/lE,EAAK8nE,EAAL9nE,MAYhBuwB,EAASiyC,GAAY,CAAEp0D,KAAM,SAAU3E,QAASi6D,EAAev9C,aAAAA,IAC/DogD,GAASqB,EAAAr3C,EAAOwuB,SAAQznB,GAAO9d,MAAAouD,GAAA/kD,EAAAA,EAAAA,GAAIkjD,IAAMS,YAAW78B,EAAAjoC,KAAA,GAGlDsmE,EAAW,IAAIlxC,GAAAA,EAAU92B,GAAOwkC,aAAYjsC,KAAAC,IAAC,GAAM,KAAIyB,SAAS,IAAG0vC,EAAA5pC,KAAA,IAClDgoE,EAAAx3C,EAAOwuB,SAAQznB,GAAO9d,MAAAuuD,GAAAllD,EAAAA,EAAAA,GAAIkjD,IAAMkC,YAAY,CACjE3qE,KAAMkhD,EACNx+C,MAAO,KAAF7D,OAAO6rE,KACZ,QAC+B,OAJ3BlI,EAAQn2B,EAAAxuB,KAImBwuB,EAAAjuB,OAAA,SAE1Bw2B,GAAQ/rB,EAAa3kB,eAAe42B,KAAK,CAC9CgS,GAAIs5B,EACJhjE,KAAM6lE,EACNxG,YAAAA,EACAz5C,OAAQtmB,EACR8/D,SAAU,IAAIhpC,GAAAA,EAAUgpC,GAAUt7B,aAPN,KAO0C0jC,QAAQ,IAAM,KACpF,QAIgB,OAJhBv+B,EAAAjoC,KAAA,GAAAioC,EAAAzsB,GAAAysB,EAAA,UAEFt2B,QAAQrQ,MAAM,mBAAoB,cAClCqQ,QAAQzO,MAAK+kC,EAAAzsB,IACb7J,QAAQy2B,WAAUH,EAAAjuB,OAAA,UACX,GAAK,yBAAAiuB,EAAA7uB,OAAA,GAAAkuB,EAAA,oBAEf,gBArDyBF,GAAA,OAAAzrB,EAAA7D,MAAA,KAAAhf,UAAA,KAuD1B,UACEgoE,YAAAA,GACAY,eAAAA,GACAK,aAAAA,GACAQ,4BAAAA,GACAiC,aAAAA,GACAyB,qBAAAA,I,0pBCjaF,IAAM7lC,GAA8B,UAG9BM,MAAera,IAChBA,GAAAA,MACAA,GAAAA,KAAAA,KACAA,GAAAA,KAAAA,IAAAA,KACAA,GAAAA,KAAAA,IAAAA,IAAAA,KACAA,GAAAA,KAAAA,IAAAA,IAAAA,SACAA,GAAAA,KAAAA,IAAAA,IAAAA,MACDA,GAAAA,KAAAA,IAAAA,IAaEogD,GAAmB,SAAC7mE,GAAkE,IAAhD2H,EAAoBzO,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,EAAGkM,EAAYlM,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,GACnF,OAAO2mB,GAAAA,aAA2BnS,GAAAA,QAAa1N,EAAU2H,EAAcvC,EACzE,EAsBM21D,GAAyB,SAAC5yD,GAC9B,IAOc2+D,EAAVv3C,KANFzB,KACE5K,QACW6jD,EAAWD,EAApB3+D,QACAW,EAAUg+D,EAAVh+D,WAKN,GAAIi+D,IAAgB5+D,EAAS,OAAOW,CACtC,EA4JMovC,GAAoB,WAAM,IAAA8uB,EAQhBC,EAAV13C,KANFzB,KACE5K,EAAO+jD,EAAP/jD,QACAC,EAAkB8jD,EAAlB9jD,mBACAG,EAAmB2jD,EAAnB3jD,oBACAF,EAAkB6jD,EAAlB7jD,mBAIE8jD,EAAU,GAqBhB,OAlBAA,EAAQ7uE,KAAK6qB,EAAQ/a,QAAQjI,eAGzBijB,SAAAA,EAAoBhb,SAAS++D,EAAQ7uE,KAAK8qB,EAAmBhb,QAAQjI,eAIrEojB,SAAAA,EAAqBnb,SAAS++D,EAAQ7uE,KAAKirB,EAAoBnb,QAAQjI,eACvEojB,SAA4B,QAAT0jD,EAAnB1jD,EAAqB4B,eAAO,IAAA8hD,GAA5BA,EAA8B5uE,QAChCkrB,EAAoB4B,QAAQ3rB,KAAI,SAACmP,GAE/Bw+D,EAAQ7uE,KAAKqQ,EAAOP,QAAQjI,cAC9B,IAIEkjB,SAAAA,EAAoBjb,SAAS++D,EAAQ7uE,KAAK+qB,EAAmBjb,QAAQjI,eAElEgnE,CACT,EA0DMpwC,GAAO,SAACvuB,GACZ,IACEvM,EAMEuM,EANFvM,KACA8sC,EAKEvgC,EALFugC,GACA9jB,EAIEzc,EAJFyc,OACA4jB,EAGErgC,EAHFqgC,SACAxB,EAEE7+B,EAFF6+B,MAAK+/B,EAEH5+D,EADFi+B,WAAAA,OAAU,IAAA2gC,EAAGrmC,GAAWqmC,EAG1B,OAAO,IAAIjuD,QAAO,eAAAxU,GAAAyU,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAO,EAAOyyC,EAAO7xC,GAAM,IAAAzR,EAAAs+D,EAAAC,EAAAl+B,EAAAE,EAAAN,EAAA/F,EAAAoH,EAAAk9B,EAAAxlC,EAAA,OAAA1oB,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OAAAmb,EAAAxZ,KAAA,EAE/B0I,EAAa,KACjB,IACEA,EAAaiyD,GAAuB/+D,EACtC,CAAE,MAAOurE,GACPhtD,EAAO,CAAEgtB,QAAS,iCAAmCggC,EAAYhgC,SACnE,CAAC,OAAA3tB,EAAAxZ,KAAA,EAAAwZ,EAAAnb,KAAA,EAKsB+oE,GAAAA,YAAyB,CAC5CxiD,OAAAA,EACAwhB,WAAAA,EACAoC,SAAAA,EACAxB,MAAAA,EACAprC,KAAAA,EACA8sC,GAAAA,EACAtI,QAAAA,KACA,OARF4mC,EAAYxtD,EAAAC,KAAAD,EAAAnb,KAAG,GAAH,aAAAmb,EAAAxZ,KAAG,EAAHwZ,EAAAgC,GAAAhC,EAAA,SAUZW,EAAO,CAAEgtB,QAAS,sBAAF1sC,OAAwB+e,EAAAgC,GAAiB2rB,WAAY,QAM7D,OAHR4B,GAHqEk+B,EAOnED,GAJFj+B,UACAE,EAASg+B,EAATh+B,UACAN,EAAas+B,EAAbt+B,cACA/F,EAAQqkC,EAARrkC,SAAQppB,EAAAxZ,KAAA,GAAAwZ,EAAAnb,KAAA,GAKM+oE,GAAAA,aAA0B,CACtCxrE,KAAAA,EACA8sC,GAAAA,EACAK,UAAAA,EACAE,UAAAA,EACA7C,WAAAA,EACAuC,cAAAA,EACA/F,SAAAA,EACAl6B,WAAAA,EACApB,QAASgG,GAAAA,QACT8yB,QAAAA,KACA,QAXF4J,EAAKxwB,EAAAC,KAAAD,EAAAnb,KAAG,GAAH,cAAAmb,EAAAxZ,KAAG,GAAHwZ,EAAA6nB,GAAA7nB,EAAA,UAaLW,EAAO,CAAEgtB,QAAS,wBAAF1sC,OAA0B+e,EAAA6nB,GAAkB8F,WAAY,eAAA3tB,EAAAxZ,KAAA,GAAAwZ,EAAAnb,KAAA,GAI1CgtC,GAAYrB,GAAM,QAA1Ck9B,EAAe1tD,EAAAC,KAEbioB,EAASwlC,EAATxlC,KACRsqB,EAAMtqB,GAAKloB,EAAAnb,KAAA,iBAAAmb,EAAAxZ,KAAA,GAAAwZ,EAAA4vB,GAAA5vB,EAAA,UAEXW,EAAO,CAAEgtB,QAAS,sBAAA3tB,EAAA4vB,KAAmC,QAAA5vB,EAAAnb,KAAA,iBAAAmb,EAAAxZ,KAAA,GAAAwZ,EAAA6vB,GAAA7vB,EAAA,SAGvD7H,QAAQ4jB,IAAI,yBAAwB/b,EAAA6vB,IACpClvB,EAAMX,EAAA6vB,IAAO,yBAAA7vB,EAAAJ,OAAA,GAAAG,EAAA,yCAEhB,gBAAAG,EAAAa,GAAA,OAAAjW,EAAAwT,MAAA,KAAAhf,UAAA,EA7DiB,GA8DpB,EAEMuuE,GAAe,eAAAztD,GAAAb,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,EAAAxT,GAAA,IAAAijC,EAAA9jB,EAAA0iD,EAAAv/D,EAAAw/D,EAAA,OAAAvuD,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OAASqqC,EAAEjjC,EAAFijC,GAAI9jB,EAAMnf,EAANmf,OACnC0iD,EAE2Cn4C,KAAhBpnB,EAAOu/D,EAA1B55C,KAAQ5K,QAAW/a,QAElBuR,EAAAjb,KAAA,QAEM,cAAAib,EAAAjb,KAAA,EAGMq4B,GAAK,CACxB96B,KAAMmM,EACN2gC,GAAAA,EACA9jB,OAAAA,EACAoiB,MAAO,SACP,OALU,OAANugC,EAAMjuD,EAAAG,KAAAH,EAAAU,OAAA,SAOLutD,GAAM,wBAAAjuD,EAAAF,OAAA,GAAAH,EAAA,KACd,gBAlBoBoB,GAAA,OAAAT,EAAA9B,MAAA,KAAAhf,UAAA,KAoBf6pC,GAAkB,SAAH1oB,GAAA,IAAM2K,EAAM3K,EAAN2K,OAAQge,EAAQ3oB,EAAR2oB,SAAQ,OAAOwkC,GAAAA,gBAA6B,CAC7ExiD,OAAAA,EACAge,SAAAA,GACA,EAEFpf,OAAOmf,gBAAkBA,GACzB,IAKM0I,GAAc,SAACC,GAAK,OAAK87B,GAAAA,YAAyB,CACtD97B,MAAAA,EACAlL,QAAAA,IACA,EAkBF,UACElhB,MAnXY,SACZxW,GAEG,IADH9I,EAAuB9G,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,KAG1B,GAAI4P,EACF,KAAMukB,EAAOrlB,EAAAA,OAAAA,OAAsBc,GACzB8+D,KAAAA,WAAsBv6C,EADc,MAM9Ctb,QAAQ0iB,KAAK,+BAKRz0B,IAAUA,EAAWwG,GAAAA,MAK1BsC,EAFgB+9D,GAAiB7mE,GAEZoI,IAGvBoJ,aAAaC,QAAQwB,GAAAA,gBAAAA,IAA+BnK,GAEpD,IAAM1J,EAAIoQ,GAAAA,GAAA,GA5DC,SAAC1G,GACZ,GAAIA,EACF,IACE,IAAMf,EAAUC,EAAAA,OAAAA,QAAuBc,EAAY4E,GAAAA,SAInD,MAAO,CACL3F,QAAAA,EACAmiC,QAASniC,EACTI,QANkBH,EAAAA,SAAAA,MAAuB,CAAEC,OAAQF,EAAQG,UAAWR,QAASgG,GAAAA,UAAzEvF,QAONW,WAAAA,EACAZ,UAPoBH,EAAdG,UASV,CAAE,MAAO5E,GACPyO,QAAQ4jB,IAAI,WAAYryB,EAAOoK,GAAAA,QACjC,CAEJ,CA2COoD,CAAKhI,IAAW,IACnB++D,OAAO,IAQT,OALAjkD,OAAOkkD,cAAgB,kBAAM1oE,EAAK+I,OAAO,EACzCyb,OAAOmkD,WAAa,kBAAM3oE,CAAI,EAE9B4vB,GAAAA,KAAAA,YAA0B,CAAEliB,KAAM,UAAW1N,KAAAA,IAEtC0J,CACT,EA8UEijC,cARoB,SAACC,GAAa,OAAKw7B,GAAAA,cAA2B,CAClEx7B,cAAAA,EACAxL,QAAAA,IACA,EAMAiS,WAhSiB,WACjB,IAGMtqC,EAGFonB,KALFzB,KACE5K,QACE/a,QAKN,OAAO,IAAI+Q,SAAQ,SAACI,GAClBkuD,GAAAA,aAA0B,CACxBr/D,QAAAA,EACAojC,iBAAiB,EACjB/K,QAAAA,KACCtH,MAAK,SAACC,GAEP,IAAQvX,EAAyBuX,EAAzBvX,QAAS4pB,EAAgBrS,EAAhBqS,YACjBxc,GAAAA,KAAAA,WAAyB,CACvBliB,KAAM,UACNkY,OAAQpD,EACRqD,mBAAoBumB,IAEtBlyB,EAAQsI,EACV,IAAE,OAAO,SAACxe,GACR4rB,GAAAA,KAAAA,gBAA8B,CAAEliB,KAAM,YACtCwM,GAAS,EACX,GACF,GACF,EAqQE07B,eA/JqB,WAAmD,IAAlD5I,EAAkBlzC,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,MAAOmzC,EAAenzC,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,MACxD8uE,EAAe9vB,KAEa+vB,EAAoB14C,KAAhDzB,KAAQ5K,QAAW/a,QACnBA,EAAUikC,GAAc67B,EAExBl7D,EAAQs/B,GAAY,MAE1B,OAAKpvB,GAAAA,EAAAA,cAAAA,IAA4B9U,GAG1Bq/D,GAAAA,uBAAoC,CACzCr/D,QAAAA,EACAkkC,QAASt/B,EACTu/B,UAAW07B,EACXtgE,QAASgG,GAAAA,QACT8yB,QAAAA,KAPO,IAAItnB,SAAQ,SAACI,GAAcA,EAAQ,GAAI,GASlD,EA8IEwd,KAAAA,GACA2wC,gBAAAA,GACAplC,cAjCoB,SAACl6B,GAAO,OAAKq/D,GAAAA,cAA2B,CAC5Dr/D,QAAAA,EACAq4B,QAAAA,IACA,EA+BAiL,YAAAA,GACAnL,QA1Pc,SAACjT,EAAM8J,GAAa,OAAKqwC,GAAAA,QAAqB,CAC5Dn6C,KAAAA,EACAmT,QAAAA,GACArJ,cAAAA,GACA,EAuPA0J,YArPkB,SAACxT,EAAM8J,GAAa,IAAEqP,EAAUttC,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,KAAI,OAAKsuE,GAAAA,YAAyB,CACvFn6C,KAAAA,EACAmT,QAAAA,GACArJ,cAAAA,EACA2J,YAAa0F,GAAc1F,IAC3B,EAiPAwK,aAzQmB,SAACnjC,GAAO,OAAKq/D,GAAAA,aAA0B,CAC1Dr/D,QAAAA,EACAojC,iBAAiB,EACjB/K,QAAAA,IACA,EAsQA0nC,YA5BkB,SAAC3gC,EAAS4gC,GAC5B,IAAMj+B,EAAUliC,EAAAA,OAAAA,QAAuBmgE,EAAmB,CAACngE,EAAAA,SAAAA,QAA0BA,EAAAA,SAAAA,UAE/EogE,EAAiBrsE,GAAOC,KAAKkuC,EAAQphC,YAI3C,OAFkBu/D,KAAAA,KAAoB9gC,EAAS6gC,EAAgBl+B,EAAQo+B,YAEtD3vE,SAAS,SAC5B,EAqBE4vE,MApVY,SAAC78B,GACb,OAAIA,GACCA,EAAM88B,OAEN98B,EAAM88B,gBAAiB,WAEnB98B,EAAM88B,QAEN98B,CAEX,EA2UE+8B,cAxUoB,SAAC58B,GAErB,GAAKA,EAIL,MAAO,GAAPhxC,OAAU4rB,GAAAA,KAAAA,OAAkB,QAAA5rB,OAAOgxC,EACrC,EAkUE68B,YAlPkB,SAACvgE,GACnB,IAA2B8/D,EAAoB14C,KAAvCzB,KAAQ5K,QAAW+kD,YAI3B,OAFA9/D,EAAUA,GAAW8/D,EAEdr3B,GAAAA,SAAAA,YAA6B,CAClC9uB,SAAU,MACV3Z,QAAAA,GAEJ,EA0OE0+D,iBAAAA,GACA3uB,kBAAAA,GACAywB,iBAxMuB,SAACxgE,GACxB,IAOcygE,EAAVr5C,KANFzB,KACE5K,EAAO0lD,EAAP1lD,QACAC,EAAkBylD,EAAlBzlD,mBACAG,EAAmBslD,EAAnBtlD,oBACAD,EAAmBulD,EAAnBvlD,oBAIEgyC,EAAU,CACdnyC,EACAC,EACAG,GAAmBzoB,QAAA0mB,EAAAA,EAAAA,GAEjB+B,GACGA,EAAoB4B,SACpB5B,EAAoB4B,QAAQ9sB,OAE7BkrB,EAAoB4B,QACpB,IAAE,CACN7B,IACA9b,QAAO,SAAAnI,GAAI,OAAIA,GAAQA,EAAK+I,SAAW/I,EAAK+I,QAAQjI,gBAAkBiI,EAAQjI,aAAa,IAE7F,QAAQm1D,EAAQj9D,QAAUi9D,EAAQ,EACpC,EAgLEwT,iBApbuB,WAOvB,OAFIt5C,KAHFzB,KACE5K,QAIWhb,UAAUvP,SAAS,MACpC,EA6aEmwE,YA7VkB,SAACjlC,GAAI,iBAAAhpC,OAAgBgpC,EAAI,EA8V3CD,WA5QiB,SAACC,EAAM1M,GAAa,OAAKqwC,GAAAA,WAAwB,CAClE3jC,KAAAA,EACA1M,cAAAA,EACAqJ,QAAAA,IACA,EAyQAuoC,iBA7JuB,SAAC5gE,GACxB,IAEE,GADmBH,EAAAA,QAAAA,eAA+BG,EAASuF,GAAAA,SACzC,OAAO,CAC3B,CAAE,MAAOtK,GAAI,CACb,OAAO,CACT,EAwJE2/B,gBAAAA,I,8nBCzcF,IAAMimC,GAAUxyE,EAAQ,KAMlBsqC,MAAera,IAChBA,GAAAA,MACAA,GAAAA,KAAAA,KACAA,GAAAA,KAAAA,IAAAA,OACAA,GAAAA,KAAAA,IAAAA,MAAAA,KACAA,GAAAA,KAAAA,IAAAA,MAAAA,SACAA,GAAAA,KAAAA,IAAAA,MAAAA,MACDA,GAAAA,KAAAA,IAAAA,MAGEoiD,GAAmB,WAOvB,OAFIt5C,KAHFzB,KACEnM,UAIazZ,UAAUvP,SAAS,MACtC,EAEMkuE,GAAmB,SAAC7mE,GAAkE,IAAhD2H,EAAoBzO,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,EAAGkM,EAAYlM,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,GACnF,OAAO2mB,GAAAA,eAA6BnR,GAAAA,QAAe1O,EAAU2H,EAAcvC,EAC7E,EAwBM21D,GAAyB,SAAC5yD,GAC9B,IAOc8gE,EAAV15C,KANFzB,KACEnM,UACWolD,EAAWkC,EAApB9gE,QACAW,EAAUmgE,EAAVngE,WAKN,GAAIi+D,IAAgB5+D,EAAS,OAAOW,CACtC,EAiHMw3B,GAAU,SAACjT,EAAM8J,GAAa,OAClC8B,GAAAA,IAAc,YAAa,OAAFp+B,OAASwyB,GAAQ,CACxC8J,cAAAA,EACAoD,YAAa,SAACpB,GACZ,IACE,GAAIA,QAA0BhgC,IAAhBggC,EAAOwH,KAAoB,OAAO,CAClD,CAAE,MAAOv9B,GACP2O,QAAQzO,MAAMF,EAChB,CACA,OAAO,CACT,IACC81B,MAAK,SAAA7e,GAAA,IAAGsmB,EAAItmB,EAAJsmB,KAASF,GAAI7f,EAAAA,EAAAA,GAAAvG,EAAAqmB,IAAA,OAAAlxB,GAAA,CACtBmxB,KAAM,IAAInL,GAAAA,EAAUmL,GAAMuC,aAAa,MACpCzC,EAAI,GACN,EA6ECyX,GAAoB,WAAM,IAAAgxB,EAQhBjC,EAAV13C,KANFzB,KACEnM,EAASslD,EAATtlD,UACAwnD,EAAoBlC,EAApBkC,qBACAC,EAAqBnC,EAArBmC,sBACAC,EAAoBpC,EAApBoC,qBAIEnC,EAAU,GAqBhB,OAlBAA,EAAQ7uE,KAAKspB,EAAUxZ,QAAQjI,eAG3BipE,SAAAA,EAAsBhhE,SAAS++D,EAAQ7uE,KAAK8wE,EAAqBhhE,QAAQjI,eAIzEkpE,SAAAA,EAAuBjhE,SAAS++D,EAAQ7uE,KAAK+wE,EAAsBjhE,QAAQjI,eAC3EkpE,SAA8B,QAATF,EAArBE,EAAuBlkD,eAAO,IAAAgkD,GAA9BA,EAAgC9wE,QAClCgxE,EAAsBlkD,QAAQ3rB,KAAI,SAACmP,GAEjCw+D,EAAQ7uE,KAAKqQ,EAAOP,QAAQjI,cAC9B,IAIEmpE,SAAAA,EAAsBlhE,SAAS++D,EAAQ7uE,KAAKgxE,EAAqBlhE,QAAQjI,eAEtEgnE,CACT,EAiHM7kC,GAAgB,SAACl6B,GAErB,OADoB8wB,GAAAA,IAAc,YAAa,SAAFp+B,OAAWsN,EAAO,SAAS,CAAEgvB,cAAe,KAE3F,EAEMsU,GAAc,SAACC,GAMnB,OALoBzS,GAAAA,KAAe,YAAa,WAAY,CAC1DpC,KAAM,CACJyyC,MAAO59B,IAIb,EAYA9nB,OAAOilD,iBAAmBA,GAM1B,IAAM98B,GAAgB,SAACC,GACrB,IAAM9R,EAAM,iBAAHr/B,OAAoBmxC,GAE7B,OAAO/S,GAAAA,IAAc,YAAaiB,EAAK,CACrCK,YAAa,SAACpB,GACZ,IACE,GAAIA,QAAyBhgC,IAAfggC,EAAO8S,IAAmB,OAAO,CACjD,CAAE,MAAO7oC,GAAU,CACnB,OAAO,CACT,EACAwzB,MAAO,kBACNsC,MAAK,SAACj6B,GACP,GAAIA,EAAIgtC,IAAI7zC,OAAS,GAChB6G,EAAIgtC,IAAI,GAAGrJ,KAAKxqC,OACnB,CACA,IAAM+P,EAAUlJ,EAAIgtC,IAAI,GAAGrJ,KAAK,GAAGH,aAAagK,UAAU,GAC1D88B,EAGItqE,EAAIgtC,IAAI,GACZ,MAAO,CACL9jC,QAAAA,EACA25B,KALIynC,EAAJznC,KAMA9c,OALgBukD,EAAhBC,SAOJ,CACA,OAAO,CACT,GACF,EAEA5lD,OAAO6lD,mBAAqB19B,GAE5B,UACEzsB,MA1ZY,SACZxW,GAEG,IADH9I,EAAuB9G,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,KAG1B,GAAI4P,EACF,KAAMukB,EAAOrlB,EAAAA,OAAAA,OAAsBc,GACzB8+D,KAAAA,WAAsBv6C,EADc,MAM9Ctb,QAAQ0iB,KAAK,6BAKRz0B,IAAUA,EAAWwG,GAAAA,MAK1BsC,EAFgB+9D,GAAiB7mE,GAEZoI,IAGvBoJ,aAAaC,QAAQwB,GAAAA,gBAAAA,MAAiCnK,GAEtD,IAAM1J,EAAIoQ,GAAAA,GAAA,GA7DC,SAAC1G,GACZ,GAAIA,EAAY,CACd,IAAMukB,EAAOrlB,EAAAA,OAAAA,OAAsBc,GAG7BohC,GAFI09B,KAAAA,WAAsBv6C,GAEhBrlB,EAAAA,OAAAA,QAAuBc,EAAY4F,GAAAA,UAE7C3G,EAAUC,EAAAA,OAAAA,QAAuBc,EAAY4F,GAAAA,SAInD,MAAO,CACL3G,QAAAA,EACAmiC,QAAAA,EACA/hC,QANkBH,EAAAA,SAAAA,MAAuB,CAAEC,OAAQF,EAAQG,UAAWR,QAASgH,GAAAA,UAAzEvG,QAONW,WAAAA,EACAZ,UAPoBH,EAAdG,UASV,CACF,CA2CO4I,CAAKhI,IAAW,IACnBgZ,SAAU,QACVC,SAAU,UAQZ,OALA6B,OAAO8lD,gBAAkB,kBAAMtqE,EAAK+I,OAAO,EAC3Cyb,OAAO+lD,aAAe,kBAAMvqE,CAAI,EAEhC4vB,GAAAA,KAAAA,YAA0B,CAAEliB,KAAM,YAAa1N,KAAAA,IAExC0J,CACT,EAoXEijC,cAAAA,GACA0G,WA9UiB,WACjB,IAA6BtqC,EAAgBonB,KAArCzB,KAAQnM,UAAaxZ,QAE7B,OAAO8wB,GAAAA,IAAc,YAAa,SAAFp+B,OAAWsN,GAAW,CACpD6wB,QAAS,CACP/f,MAAO,IACPnM,KAAM,WAERytB,YAAa,SAACpB,GACZ,IACE,GAAIA,QAA6BhgC,IAAnBggC,EAAOvX,QAAuB,OAAO,CACrD,CAAE,MAAOxe,GAAU,CACnB,OAAO,CACT,IACC81B,MAAK,SAAArzB,GAAqC,IAAlC+b,EAAO/b,EAAP+b,QAASqD,EAAkBpf,EAAlBof,mBAElB,OADA+J,GAAAA,KAAAA,WAAyB,CAAEliB,KAAM,YAAakY,OAAQpD,EAASqD,mBAAAA,IACxDrD,CACT,IAAE,OACO,SAACxe,GACN4rB,GAAAA,KAAAA,gBAA8B,CAAEliB,KAAM,aACxC,GACJ,EA0TEkoC,eAtJqB,WAAH,IAAI7sC,EAAejP,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,MAAOmzC,EAAenzC,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,aAC3D,IAAIggB,SAAQ,SAACI,GACX,IAAM0uD,EAAe9vB,KAEe+vB,EAAoB14C,KAAlDzB,KAAQnM,UAAaxZ,QAC3BA,EAAUA,GAAW8/D,EAErB,IAAMl7D,EAAQs/B,GAAY,QAErBpvB,GAAAA,EAAAA,cAAAA,MAA8B9U,IACjCmR,EAAQ,IAGV,IAAM4gB,EAAM,iBAAHr/B,OAAoBsN,GAE7B,OAAO8wB,GAAAA,IAAc,YAAaiB,EAAK,CACrCK,YAAa,SAACpB,GACZ,IACE,GAAIA,QAAyBhgC,IAAfggC,EAAO8S,IAAmB,OAAO,CACjD,CAAE,MAAO7oC,GAAU,CACnB,OAAO,CACT,EACAwzB,MAAO,kBACNsC,MAAK,SAACj6B,GACP,IAAMiiB,EAAejiB,EAAIgtC,IAAI1yC,KAAI,SAAC8D,GAChC,IAAMmvC,EAAYnvC,EAAKusE,IAAI,GAAG9xB,OAAS3vC,EAAU,KAAO,MAElDukC,EAAuB,QAAdF,GACVnvC,EAAKulC,KAAKr7B,QAAO,SAAClK,GAAI,OACvBA,EAAKolC,aAAagK,UAAU,KAAOtkC,CAAO,IAC1C/P,SAAWiF,EAAKulC,KAAKxqC,OAEzB,MAAQ,CACN2U,KAAAA,EACAsgB,KAAMhwB,EAAKykC,KAEX8K,SAA6C,IAAnCo7B,EAAaz1D,QAAQpK,GAC/B65B,cAAe3kC,EAAK2kC,cACpBtjC,MAAOguC,EACHrvC,EAAKsjC,KACLtjC,EAAKulC,KAAKr7B,QAAO,SAAClK,GAClB,IAAKA,EAAKolC,aAAagK,UAAW,OAAO,EACzC,IAAME,EAAiBtvC,EAAKolC,aAAagK,UAAU,GAEnD,MAAqB,OAAdD,EACFG,IAAmBxkC,EACnBwkC,IAAmBxkC,CAC1B,IAAG,GAAGzJ,MACRmuC,KAAkB,IAAZxvC,EAAKwsE,KACXr9B,UAAWE,EAAS,OAASF,EAEjC,IACAlzB,EAAQ4H,EACV,IAAE,OACO,WACL5H,EAAQ,GACV,GACJ,GAAE,EA8FFwd,KA5FW,SAAC13B,GACZ,OAIkB,WAAgD,IAAA6c,EAAA/iB,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAP,CAAC,EAAvC8C,EAAIigB,EAAJjgB,KAAM8sC,EAAE7sB,EAAF6sB,GAAI9jB,EAAM/I,EAAN+I,OAC/B,OAD+C/I,EAAR2sB,SAAe3sB,EAALmrB,MAC1C,IAAIluB,QAAO,eAAA6C,GAAA5C,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAO,EAAOyyC,GAAK,IAAA0d,EAAA9mC,EAAAmG,EAAA4gC,EAAAzC,EAAAxlC,EAAA,OAAA1oB,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OACe,OAAtCqrE,EAAU/O,GAAuB/+D,GAAK4d,EAAAnb,KAAA,EACrB4jC,GAAcrmC,GAAK,OAOjB,OAPnBgnC,EAAQppB,EAAAC,KACRsvB,EAAY,IAAI3T,GAAAA,EAAU19B,OAAOktB,IAASke,aAAa,KAAKqG,eAAe9T,WAE3Es0C,GAAc,IAAIf,GAAQgB,aACzBhuE,KAAKgnC,GACL8F,GAAGA,EAAIK,GACP8gC,OAAOjuE,GACPq1C,KAAKy4B,GAAalwD,EAAAnb,KAAA,EAGKgtC,GAAY3zC,OAAOiyE,EAAYG,cAAa,OAApE5C,EAAe1tD,EAAAC,KAEbioB,EAASwlC,EAATxlC,KACRsqB,EAAMtqB,GAAK,yBAAAloB,EAAAJ,OAAA,GAAAG,EAAA,KACZ,gBAAAG,GAAA,OAAAiC,EAAA7D,MAAA,KAAAhf,UAAA,EAhBiB,GAiBpB,CAtBSixE,CAAY/qE,EACrB,EA2FEijC,cAAAA,GACAoJ,YAAAA,GACAnL,QAAAA,GACAO,YAtRkB,SAACxT,EAAM8J,GAAc,OACvCmJ,GAAQjT,EAAM8J,GACX+B,MAAK,SAAAre,GAA4B,IAAzB+uD,EAAG/uD,EAAH+uD,IAAKhnC,EAAI/nB,EAAJ+nB,KAASnC,GAAI7f,EAAAA,EAAAA,GAAA/F,EAAAwlC,IACnB9e,EAAgBqoC,EAAMA,EAAI,GAAG9xB,KAAO,KACpC9yB,EAAS4d,EAAO,IAAIpN,GAAAA,EAAUoN,EAAK,GAAGlkC,OAAO+2B,WAAa,KAE5D0L,EAAeyB,GAAQA,EAAK,GAAK,IAAIpN,GAAAA,EAAUoN,EAAK,GAAGlkC,OAAO+2B,WAAa,KAC3E4L,GAAgB,EAEpB,GAAIP,GAAa,CACf,IAAMM,EAAcwB,EAAKr7B,QAAO,SAACq6B,GAAG,OAClCA,EAAIa,aAAagK,WACd7K,EAAIa,aAAagK,UAAU,KAAO3L,GAAY34B,UAE5C,IAAIqtB,GAAAA,EAAUoM,EAAIljC,OAAOmjC,GAAG7c,EAAQ,IAGrCsc,EAAcsB,EAAKr7B,QAAO,SAACq6B,GAAG,OAClCA,EAAI6K,WACD7K,EAAI6K,UAAU,KAAO3L,GAAY34B,SACjCy5B,EAAI6K,UAAU,KAAOlL,CAAa,IAGnCD,EAAYlpC,SACd+oC,EAAe,IAAI3L,GAAAA,EAAU8L,EAAY,GAAG5iC,OAAO+2B,YAGjD2L,EAAYhpC,SACdipC,EAAW,IAAI7L,GAAAA,EAAU4L,EAAY,GAAG1iC,OAAO+2B,WAEnD,CAkBA,OAhBYjmB,GAAA,CACVwV,OAAAA,EACAmc,aAAAA,EACAI,cAAAA,EACAL,gBAAiB0B,EAAOA,EAAK,GAAGH,aAAagK,UAAY,KACzD1K,YAActB,EAAKuB,cACnBC,SAAUxB,EAAKE,KAAKC,UAAU,KAAKnL,WACnC4L,SAAAA,EACAa,iBAAkB,QAClBP,QAASiB,EAAKrpC,KAAI,SAACqoC,GAAG,MAAM,CAC1B5c,OAAQ,IAAIwQ,GAAAA,EAAUoM,EAAIljC,OAAO+2B,WACjCttB,QAASy5B,EAAIa,aAAagK,WAAa,KACxC,KACEhM,EAIP,GAAE,EAsOJ6K,aA9TmB,SAACnjC,GAAO,OAC3B8wB,GAAAA,IAAc,YAAa,SAAFp+B,OAAWsN,GAAW,CAC7CoyB,YAAa,SAACpB,GACZ,IACE,GAAIA,QAA6BhgC,IAAnBggC,EAAOvX,QAAuB,OAAO,CACrD,CAAE,MAAOxe,GAAU,CACnB,OAAO,CACT,IACC81B,MAAK,SAAAlf,GAAU,OAAAA,EAAP4H,OAAqB,GAAC,EAuTjCsmD,YA3DkB,SAAC3gC,EAAS4gC,GAC5B,IAAMj+B,EAAUliC,EAAAA,OAAAA,QAAuBmgE,EAAmB,CAACz5D,GAAAA,SAAAA,QAAwBA,GAAAA,SAAAA,UAE7E05D,EAAiBrsE,GAAOC,KAAKkuC,EAAQphC,YAI3C,OAFkBu/D,KAAAA,KAAoB9gC,EAAS6gC,EAAgBl+B,EAAQo+B,YAEtD3vE,SAAS,SAC5B,EAoDE4vE,MA3XY,SAAC78B,GACb,OAAIA,GACCA,EAAM88B,OAEN98B,EAAM88B,gBAAiB,WAEnB98B,EAAM88B,QAEN98B,CAEX,EAkXE+8B,cA9WoB,SAAC58B,GAErB,GAAKA,EAIL,MAAO,GAAPhxC,OAAU4rB,GAAAA,KAAAA,UAAqB,QAAA5rB,OAAOgxC,EACxC,EAwWE68B,YAxOkB,SAACvgE,GACnB,IAA6B8/D,EAAoB14C,KAAzCzB,KAAQnM,UAAasmD,YAI7B,OAFA9/D,EAAUA,GAAW8/D,EAEdr3B,GAAAA,SAAAA,YAA6B,CAClC9uB,SAAU,QACV3Z,QAAAA,GAEJ,EAgOE0+D,iBAAAA,GACA3uB,kBAAAA,GACAywB,iBA9LuB,SAACxgE,GACxB,IAOcygE,EAAVr5C,KANFzB,KACEnM,EAASinD,EAATjnD,UACAwnD,EAAoBP,EAApBO,qBACAC,EAAqBR,EAArBQ,sBACAgB,EAAqBxB,EAArBwB,sBAIE/U,EAAU,CACd1zC,EACAwnD,EACAC,GAAqBvuE,QAAA0mB,EAAAA,EAAAA,GAEnB6nD,GACGA,EAAsBlkD,SACtBkkD,EAAsBlkD,QAAQ9sB,OAE/BgxE,EAAsBlkD,QACtB,IAAE,CACNklD,IACA7iE,QAAO,SAAAnI,GAAI,OAAIA,GAAQA,EAAK+I,SAAW/I,EAAK+I,QAAQjI,gBAAkBiI,EAAQjI,aAAa,IAE7F,QAAQm1D,EAAQj9D,QAAUi9D,EAAQ,EACpC,EAsKEwT,iBAAAA,GACAC,YAtXkB,SAACjlC,GAAI,mBAAAhpC,OAAkBgpC,EAAI,EAuX7CD,WA9SiB,SAACC,EAAM1M,GAAa,OACrC8B,GAAAA,IAAc,YAAa,UAAFp+B,OAAYgpC,GAAQ,CAC3C1M,cAAAA,EACAoD,YAAa,SAACpB,GACZ,IACE,GAAIA,QAA2BhgC,IAAjBggC,EAAOmwC,MAAqB,OAAO,CACnD,CAAE,MAAOlmE,GACP2O,QAAQzO,MAAMF,EAChB,CACA,OAAO,CACT,IACC81B,MAAK,SAAAne,GAAQ,OAAAA,EAALuuD,KAAiB,GAAC,G,qpBChN/B,IAGMe,GAAa,SAAC3iE,GAClB,MAAO,CACLoF,KAAM,cACNwa,QACInW,GAAAA,aAGR,EAEMm5D,GAAe,SAAC5iE,GACpB,MAAO,CACLoF,KAAM,gBACNwa,QACInW,GAAAA,mBAGR,EA+BMkxB,GAAgB,SAACtvB,GACrB,IACE5K,EAGE4K,EAHF5K,QACAoiE,EAEEx3D,EAFFw3D,aAIF,OAFIx3D,EADFytB,QAGKvH,GAAAA,IAAcsxC,GAAgBD,KAAuB,YAAFzvE,OAAcsN,EAAO,SAAS,CAAEgvB,cAAe,KAC3G,EAgBMmJ,GAAU,SAACvtB,GACf,IACEsa,EAIEta,EAJFsa,KACA8J,EAGEpkB,EAHFokB,cACAozC,EAEEx3D,EAFFw3D,aAIF,OAFIx3D,EADFytB,QAGKvH,GAAAA,IAAcsxC,GAAgBF,KAAqB,OAAFxvE,OAASwyB,GAAQ,CACvE8J,cAAAA,EACAoD,YAAa,SAACpB,GACZ,IACE,GAAIA,QAA0BhgC,IAAhBggC,EAAO2I,KAAoB,OAAO,CAClD,CAAE,MAAO1+B,GAAU,CACnB,OAAO,CACT,IACC81B,MAAK,SAAArzB,GAAA,IAAG86B,EAAI96B,EAAJ86B,KAASF,GAAI7f,EAAAA,EAAAA,GAAA/a,EAAA66B,IAAA,OAAAlxB,GAAA,CACtBmxB,KAAM,IAAInL,GAAAA,EAAUmL,GAAMuC,aAAa,MACpCzC,EAAI,GAEX,EAGMI,GAAc,SAAC9tB,GACnB,IACEsa,EAKEta,EALFsa,KACA8J,EAIEpkB,EAJFokB,cACAozC,EAGEx3D,EAHFw3D,aACAzpC,EAEE/tB,EAFF+tB,YACAN,EACEztB,EADFytB,QAGF,OAAOF,GAAQ,CACbjT,KAAAA,EACA8J,cAAAA,EACAozC,aAAAA,EACA/pC,QAAAA,IACCtH,MAAK,SAACsxC,GACP,IAAQZ,EAAuBY,EAAvBZ,IAAKhnC,EAAkB4nC,EAAlB5nC,KAASnC,GAAI7f,EAAAA,EAAAA,GAAK4pD,EAAOnqB,IAChC9e,EAAgBqoC,EAAMA,EAAI,GAAGzhE,QAAU,KACvC6c,EAAS4d,EAAO,IAAIpN,GAAAA,EAAUoN,EAAK,GAAGlkC,OAAO+2B,WAAa,KAE5D0L,EAAeyB,GAAQA,EAAK,GAAK,IAAIpN,GAAAA,EAAUoN,EAAK,GAAGlkC,OAAO+2B,WAAa,KAC3E4L,GAAgB,EAEpB,GAAIP,EAAa,CACf,IAAMM,EAAcwB,EAAKr7B,QAAO,SAACq6B,GAAG,OAClCA,EAAIa,aAAagK,WACd7K,EAAIa,aAAagK,UAAU,KAAO3L,EAAY34B,UAE5C,IAAIqtB,GAAAA,EAAUoM,EAAIljC,OAAOmjC,GAAG7c,EAAQ,IAGrCsc,EAAcsB,EAAKr7B,QAAO,SAACq6B,GAAG,OAClCA,EAAI6K,WACD7K,EAAI6K,UAAU,KAAO3L,EAAY34B,SACjCy5B,EAAI6K,UAAU,KAAOlL,CAAa,IAGnCD,EAAYlpC,SACd+oC,EAAe,IAAI3L,GAAAA,EAAU8L,EAAY,GAAG5iC,OAAO+2B,YAGjD2L,EAAYhpC,SACdipC,EAAW,IAAI7L,GAAAA,EAAU4L,EAAY,GAAG1iC,OAAO+2B,WAEnD,CAsBA,OApBYjmB,GAAA,CACVwV,OAAAA,EACAmc,aAAAA,EACAI,cAAAA,EACAL,gBAAiB0B,EAAOA,EAAK,GAAGH,aAAagK,UAAY,KACzD1K,YAActB,EAAKuB,cACnBC,SAAUxB,EAAKE,KAAKC,UAAU,KAAKnL,WACnC4L,SAAAA,EACAa,iBAAkB,OAClBP,QAASiB,EAAKrpC,KAAI,SAACqoC,GAAG,MAAM,CAC1B5c,OAAQ,IAAIwQ,GAAAA,EAAUoM,EAAIljC,OAAO+2B,WACjCttB,QAASy5B,EAAIa,aAAagK,WAAa,KACxC,IACD/K,OAAQkoC,EAAIrwE,KAAI,SAAC6oC,GAAK,MAAM,CAC1Bpd,OAAQ,IAAIwQ,GAAAA,EAAU4M,EAAM1jC,OAAO+2B,WACnCiN,OAAQN,EAAMqoC,UAAU/xE,KAAO,KAChC,KACE+nC,EAIP,GACF,EAkEMyF,GAAe,eAAAlsB,GAAAb,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAO,EAAO5G,GAAO,IAAA23D,EAAAviE,EAAAwiE,EAAAvkC,EAAAE,EAAA9F,EAAAiG,EAAAzD,EAAAmD,EAAAO,EAAA,OAAAttB,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OAUX,GAFrBsU,EANFq0B,MACUsjC,EAKR33D,EALFiwB,SACA76B,EAIE4K,EAJF5K,QAAOwiE,EAIL53D,EAHFqzB,MAAAA,OAAK,IAAAukC,EAAG,EAACA,EACTrkC,EAEEvzB,EAFFuzB,MACA9F,EACEztB,EADFytB,QAGIiG,EAAgB,KAElBH,EAAO,CAAF1sB,EAAAnb,KAAA,eAAAmb,EAAAQ,OAAA,SACAqsB,GAAa,OAGI,GAHJ7sB,EAAAgC,GAGL8uD,EAAS9wD,EAAAgC,GAAA,CAAAhC,EAAAnb,KAAA,eAAAmb,EAAAnb,KAAA,EAAU4jC,GAAc,CAChDl6B,QAAAA,EACAq4B,QAAAA,IACA,OAAA5mB,EAAAgC,GAAAhC,EAAAC,KAAA,OAMe,OATXmpB,EAAQppB,EAAAgC,GAMRuqB,EAAOnD,EAAS5qC,OAChBsuC,EAASP,EAAO,EACX,IAAPA,EAAqB,GAARC,GAAc,GAAKD,EAAOC,GACvCK,EAAa7sB,EAAAQ,OAAA,SAEVssB,GAAM,yBAAA9sB,EAAAJ,OAAA,GAAAG,EAAA,KACd,gBA5BoBG,GAAA,OAAAE,EAAA9B,MAAA,KAAAhf,UAAA,KAkGrB,UACEoyC,aAhTmB,SAACv4B,GACpB,IACE5K,EAGE4K,EAHF5K,QACAoiE,EAEEx3D,EAFFw3D,aAKF,OAHIx3D,EADFytB,QAIKvH,GAAAA,IAAcsxC,GAAgBF,KAAqB,YAAFxvE,OAAcsN,GAAW,CAC/EoyB,YAAa,SAACpB,GACZ,IACE,GAAIA,QAA6BhgC,IAAnBggC,EAAOvX,QAAuB,OAAO,CACrD,CAAE,MAAOxe,GAAU,CACnB,OAAO,CACT,EACAy2B,cAAc,EACdC,aAAc,SAACX,EAAQyxC,EAAWC,GAIhC,OAHA94D,QAAQ4jB,IAAI,kCACZ5jB,QAAQ4jB,IAAIwD,GACZyxC,EAAU,CAAEhpD,QAAS,KACd,CACT,IACCsX,MAAK,SAAAx0B,GAAU,OAAAA,EAAPkd,OAAqB,GAClC,EA0REygB,cAAAA,GACAoJ,YA/QkB,SAAC14B,GACnB,IACE24B,EAGE34B,EAHF24B,MACA6+B,EAEEx3D,EAFFw3D,aAIF,OAFIx3D,EADFytB,QAGKvH,GAAAA,KAAesxC,GAAgBF,KAAqB,sBAAuB,CAChFxzC,KAAM,CACJyyC,MAAO59B,IAGb,EAoQEpL,QAAAA,GACAO,YAAAA,GACAkL,cAxKoB,SAACh5B,GACrB,IACEi5B,EAGEj5B,EAHFi5B,cACAu+B,EAEEx3D,EAFFw3D,aAIF,OAFIx3D,EADFytB,QAGKvH,GAAAA,IAAcsxC,GAAgBD,KAAuB,QAAFzvE,OAAUmxC,GAAiB,CACnFzR,YAAa,SAACpB,GACZ,IACE,GAAIA,QAAyBhgC,IAAfggC,EAAO8S,IAAmB,OAAO,CACjD,CAAE,MAAO7oC,GAAU,CACnB,OAAO,CACT,EACAwzB,MAAO,iBACNsC,MAAK,SAACj6B,GACP,GAAIA,EAAIgtC,IAAI7zC,OAAS,GAChB6G,EAAIgtC,IAAI,GAAGrJ,KAAKxqC,OACnB,CACA,IAAM+P,EAAUlJ,EAAIgtC,IAAI,GAAGrJ,KAAK,GAAGH,aAAagK,UAAU,GACpDznB,EAAS/lB,EAAIgtC,IAAI,GAAGrJ,KAAK,GAAGkoC,SAKlC,MAAO,CACL3iE,QAAAA,EACA25B,KAHE7iC,EAAIgtC,IAAI,GADVnK,KAKA9c,OAAAA,EAEJ,CACA,OAAO,CACT,GACF,EAwIEgoB,mBAtIyB,SAACj6B,GAC1B,IACEsa,EAIEta,EAJFsa,KACA8J,EAGEpkB,EAHFokB,cACAozC,EAEEx3D,EAFFw3D,aACA/pC,EACEztB,EADFytB,QAGF,OAAOK,GAAY,CACjBxT,KAAAA,EACA8J,cAAAA,EACAozC,aAAAA,EACA/pC,QAAAA,IACCtH,MAAK,SAAC+T,GACP,SAAIA,IACCA,EAAOvL,QACkB,IAAzBuL,EAAOvL,OAAOtpC,SAEVqG,EAAAA,OAAAA,MAELA,EAAAA,OAAAA,UACE1C,GAAOC,KAAKixC,EAAOvL,OAAO,GAAGgB,OAAQ,QAK7C,GACF,EA6GE+E,iBA7EoB,eAAAptB,GAAAlB,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,EAAOtG,GAAO,IAAA40B,EAAAC,EAAAR,EAAAj/B,EAAA0/B,EAAAvB,EAAAtQ,EAAAwK,EAAAkG,EAAAwB,EAAAF,EAAAI,EAAA,OAAAhvB,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OAef,GAbXkpC,EAQP50B,EARFm1B,QACAN,EAOE70B,EAPF60B,WACAR,EAMEr0B,EANFq0B,MACAj/B,EAKE4K,EALF5K,QACQ0/B,EAIN90B,EAJF2zB,OACAJ,EAGEvzB,EAHFuzB,MACAtQ,EAEEjjB,EAFFijB,OACAwK,EACEztB,EADFytB,QAGa9mB,EAAAkC,GAGAisB,EAAOnuB,EAAAkC,GAAA,CAAAlC,EAAAjb,KAAA,eAAAib,EAAAjb,KAAA,EAAUynC,GAAgB,CAC9C/9B,QAAAA,EACAi/B,MAAAA,EACAd,MAAAA,EACAtQ,OAAAA,EACAoQ,MARY,EASZ5F,QAAAA,IACA,OAAA9mB,EAAAkC,GAAAlC,EAAAG,KAAA,OAmBkF,OA1B9E6sB,EAAMhtB,EAAAkC,GASNssB,EAAUP,GAAa,KAEvBK,EAAqBxS,GAAAA,EAAAA,QA9RhB,IAgST,IAAIA,GAAAA,EAAU0S,GACXhF,aAAawD,GACb4B,IAAI,MACJC,GAAG,EAAG/S,GAAAA,EAAAA,mBAIQ2N,KAAK,IAElBiF,EAAgBR,EAClBI,EAAmBrvC,WACnBqvC,EAAmB9E,aAAa,MAAMvqC,WAE1CoZ,QAAQ4jB,IAAI,2BAAD96B,OAA4BusC,EAAK,cAAAvsC,OAAam7B,EAAM,MAAAn7B,OAAKutC,IAAgB1uB,EAAAU,OAAA,SAC7EguB,GAAa,yBAAA1uB,EAAAF,OAAA,GAAAH,EAAA,KACrB,gBA3CqBsB,GAAA,OAAAN,EAAAnC,MAAA,KAAAhf,UAAA,KA8EpB6zC,QA7Tc,WACd,OAAOtuC,CACT,EA4TEshB,SAlCe,CACf8kB,QAAS,CACPkmC,cAAe,6BACfljE,MAAO,CACLmjE,OAAS,SACTC,QAAS,UAEXC,WAAY,GACZC,WAAY,EACZC,IAAK,KAEPprD,QAAS,CACP+qD,cAAe,6BACfljE,MAAO,CACLmjE,OAAS,SACTC,QAAS,UAEXC,WAAY,GACZC,WAAY,EACZC,IAAK,O,ymBC1TT,IAAM5qC,GAA8B,UAe9BqmC,MAZgBpgD,UAAY,QAAN8pB,GAAN9pB,GAAAA,YAAY,IAAA8pB,IAAK,QAAL86B,GAAZ96B,GAAc9f,WAAG,IAAA46C,IAAM,QAANC,GAAjBD,GAAmB5sE,YAAI,IAAA6sE,KAAvBA,GAAyBj2C,MAAO5O,GAAAA,KAAAA,IAAAA,KAY7B,SAACzmB,GAAkE,IAAhD2H,EAAoBzO,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,EAAGkM,EAAYlM,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,GACnF,OAAO2mB,GAAAA,cAA4BphB,GAAAA,QAAcuB,EAAU2H,EAAcvC,EAC3E,GA6BM21D,GAAyB,SAAC5yD,GAC9B,IAOcojE,EAAVh8C,KANFzB,KACE5L,SACWspD,EAAUD,EAAnBpjE,QACAW,EAAUyiE,EAAVziE,WAKN,OAAI0iE,IAAerjE,EAAgBW,EAE/B2iE,kBAAoBtjE,EAAgBujE,iBAAxC,CACF,EAuJMxzB,GAAoB,WAAM,IAAAyzB,EAQhB1E,EAAV13C,KANFzB,KACE5L,EAAQ+kD,EAAR/kD,SACA0pD,EAAmB3E,EAAnB2E,oBACAC,EAAoB5E,EAApB4E,qBACAC,EAAmB7E,EAAnB6E,oBAIE5E,EAAU,GAqBhB,OAlBAA,EAAQ7uE,KAAK6pB,EAAS/Z,QAAQjI,eAG1B0rE,SAAAA,EAAqBzjE,SAAS++D,EAAQ7uE,KAAKuzE,EAAoBzjE,QAAQjI,eAIvE2rE,SAAAA,EAAsB1jE,SAAS++D,EAAQ7uE,KAAKwzE,EAAqB1jE,QAAQjI,eACzE2rE,SAA6B,QAATF,EAApBE,EAAsB3mD,eAAO,IAAAymD,GAA7BA,EAA+BvzE,QACjCyzE,EAAqB3mD,QAAQ3rB,KAAI,SAACmP,GAEhCw+D,EAAQ7uE,KAAKqQ,EAAOP,QAAQjI,cAC9B,IAIE4rE,SAAAA,EAAqB3jE,SAAS++D,EAAQ7uE,KAAKyzE,EAAoB3jE,QAAQjI,eAEpEgnE,CACT,EAwIM7kC,GAAgB,SAACl6B,GAAO,OAAK4jE,GAAAA,cAAwB,CACzD5jE,QAAAA,EACAq4B,QAAAA,KACCtH,MAAK,SAAC8J,GAAa,OAAKA,EAASzpC,KAAI,SAAAkqC,GAAO,MAAK,CAChDt7B,QAASs7B,EAAQt7B,QACjB07B,KAAMJ,EAAQ3B,KACdkqC,YAAavoC,EAAQuoC,YACrBtpC,OAAQe,EAAQf,OAChBF,SAAUiB,EAAQjB,SACnB,GAAE,GACJ,EAGKiJ,GAAc,SAACC,GAAK,OAAKqgC,GAAAA,YAAsB,CACnDrgC,MAAAA,EACAlL,QAAAA,IACA,EAkBF,UACElhB,MAhWY,SACZxW,GAEG,IADH9I,EAAuB9G,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,KAG1B,GAAI4P,EACF,KAAMukB,EAAOrlB,EAAAA,OAAAA,OAAsBc,GACzB8+D,KAAAA,WAAsBv6C,EADc,MAK9Ctb,QAAQ0iB,KAAK,4BAKRz0B,IAAUA,EAAWwG,GAAAA,MAK1BsC,EAFgB+9D,GAAiB7mE,GAEZoI,IAGvBoJ,aAAaC,QAAQwB,GAAAA,gBAAAA,KAAgCnK,GAErD,IAAM1J,EAAIoQ,GAAAA,GAAA,GAnEC,SAAC1G,GACZ,IAAKA,EACH,MAAM,IAAIpS,MAAM,sBAGlB,IAAMwzC,EAAUliC,EAAAA,OAAAA,QAAuBc,EAAYrK,GAAAA,SAE7CsJ,EAAUC,EAAAA,OAAAA,QAAuBc,EAAYrK,GAAAA,SAUnD,MAAO,CACLsJ,QAAAA,EACAmiC,QAAAA,EACA/hC,QAXkBH,EAAAA,SAAAA,MAAuB,CACzCC,OAAQF,EAAQG,UAEhBR,QAASjJ,GAAAA,UAHH0J,QAYNW,WAAAA,EACAZ,UAPoBH,EAAdG,UASV,CA4CO4I,CAAKhI,IAAW,IACnBgZ,SAAU,OACVC,SAAU,cAWZ,OARA6B,OAAOqoD,eAAiB,kBAAM7sE,EAAK+I,OAAO,EAC1Cyb,OAAOsoD,YAAc,kBAAM9sE,CAAI,EAE/B4vB,GAAAA,KAAAA,YAA0B,CACxBliB,KAAM,WACN1N,KAAAA,IAGK0J,CACT,EAwTEijC,cAPoB,SAACC,GAAa,OAAK+/B,GAAAA,cAAwB,CAC/D//B,cAAAA,EACAxL,QAAAA,IACA,EAKAiS,WAlRiB,WACjB,IAA4BtqC,EAAgBonB,KAApCzB,KAAQ5L,SAAY/Z,QAE5B,OAAO8wB,GAAAA,IAAc,eAAgB,YAAFp+B,OAAcsN,GAAW,CAC1D6wB,QAAS,CACP/f,MAAO,IACPnM,KAAM,WAERytB,YAAa,SAACpB,GACZ,IACE,GAAIA,QAA6BhgC,IAAnBggC,EAAOvX,QAAuB,OAAO,CACrD,CAAE,MAAOxe,GAAU,CACnB,OAAO,CACT,EACAy2B,cAAc,IACbX,MAAK,SAACC,GACP,IAAMvX,OAAqC,IAAnBuX,EAAOvX,QAA2B,EAAIuX,EAAOvX,QAC/DqD,OAA2D,IAA9BkU,EAAOlU,mBAAsC,EAAIkU,EAAOlU,mBAO3F,OALA+J,GAAAA,KAAAA,WAAyB,CACvBliB,KAAM,WACNkY,OAAQpD,EACRqD,mBAAAA,IAEKrD,CACT,IAAE,OAAO,SAACxe,GACR4rB,GAAAA,KAAAA,gBAA8B,CAAEliB,KAAM,YACxC,GACF,EAuPEkoC,eAjJqB,WAAH,IAAI7sC,EAAejP,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,MAAOmzC,EAAenzC,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,aAC3D,IAAIggB,SAAQ,SAACI,GACX,IAAM0uD,EAAe9vB,KAEc+vB,EAAoB14C,KAAjDzB,KAAQ5L,SAAY/Z,QAC1BA,EAAUA,GAAW8/D,EAErB,IAAMl7D,EAAQs/B,GAAY,OAM1B,OAJKpvB,GAAAA,EAAAA,cAAAA,KAA6B9U,IAChCmR,EAAQ,IAGH2f,GAAAA,IAAc,eAAgB,QAAFp+B,OAAUsN,GAAW,CACtDoyB,YAAa,SAACpB,GACZ,IACE,GAAIA,QAAyBhgC,IAAfggC,EAAO8S,IAAmB,OAAO,CACjD,CAAE,MAAO7oC,GAAU,CACnB,OAAO,CACT,IACC81B,MAAK,SAACj6B,GACP,IAAMiiB,EAAejiB,EAAIgtC,IAAI1yC,KAAI,SAAC8D,GAChC,IAAMmvC,EAAYnvC,EAAKusE,IAAI,GAAGzhE,UAAYA,EAAU,KAAO,MAErDukC,EAAuB,QAAdF,GACVnvC,EAAKulC,KAAKr7B,QAAO,SAAClK,GAAI,OACvBA,EAAKolC,aAAagK,UAAU,KAAOtkC,CAAO,IAC1C/P,SAAWiF,EAAKulC,KAAKxqC,OAEzB,MAAQ,CACN2U,KAAAA,EACAsgB,KAAMhwB,EAAKykC,KAEX8K,SAA6C,IAAnCo7B,EAAaz1D,QAAQpK,GAC/B65B,cAAe3kC,EAAK2kC,cACpBtjC,MAAOguC,EACHrvC,EAAKsjC,KACLtjC,EAAKulC,KAAKr7B,QAAO,SAAClK,GAClB,IAAKA,EAAKolC,aAAagK,UAAW,OAAO,EACzC,IAAME,EAAiBtvC,EAAKolC,aAAagK,UAAU,GAEnD,MAAqB,OAAdD,EACFG,IAAmBxkC,EACnBwkC,IAAmBxkC,CAC1B,IAAG,GAAGzJ,MACRmuC,KAAkB,IAAZxvC,EAAKwsE,KACXr9B,UAAWE,EAAS,OAASF,EAEjC,IACAlzB,EAAQ4H,EACV,IAAE,OACO,WACL5H,EAAQ,GACV,GACJ,GAAE,EA4FFwd,KAzFW,WAAgD,IAAA9c,EAAA9gB,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAP,CAAC,EAAvC8C,EAAIge,EAAJhe,KAAM8sC,EAAE9uB,EAAF8uB,GAAI9jB,EAAMhL,EAANgL,OAExB,OAFwChL,EAAR4uB,SAAe5uB,EAALotB,MAEnC,IAAIluB,QAAO,eAAAmB,GAAAlB,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAO,EAAOyyC,GAAK,IAAArsC,EAAAosD,EAAAC,EAAAC,EAAAC,EAAAxjE,EAAAZ,EAAAqkE,EAAAvpC,EAAAwpC,EAAAzC,EAAA3/B,EAAAk9B,EAAAxlC,EAAA,OAAA1oB,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OA4ByC,OA3BhEshB,EAAWipD,KAAAA,SACXmD,EAAc,CAClBr/D,KAAM,eACN2/D,MAAO,eACPC,WAAY,GACZC,WAAY,IACZC,WAAY,EACZC,QAAS,SACTC,SAAU,SACVC,aAAc,WACdC,KAAM,KACNC,SAAU,CACRxmD,GAAAA,IAAAA,eAGJ1G,EAAS5e,IAAIgrE,GAEPC,EAAqBrsD,EAASpe,IAAI,eAAgB,QAElD0qE,EAAiBtsD,EAASpe,IAAI,UAAW,QAG/Coe,EAAS03C,OAAO4U,GAEVC,EAAavR,GAAuB/+D,GACpC8M,EAAa,IAAIkgE,KAAAA,YAAmBsD,EAAYF,GAChDlkE,EAAY8gE,KAAAA,UAAAA,eAAiClgE,GAC7CyjE,EAAc,IAAIvD,KAAAA,SAAgB9gE,EAAWkkE,GAAmBxyD,EAAAnb,KAAA,GAEV4jC,GAAcrmC,GAAK,WAAA4d,EAAAgC,GAAAhC,EAAAC,KAAAD,EAAAgC,GAAA,CAAAhC,EAAAnb,KAAA,SAAAmb,EAAAgC,GAAI,GAAE,QASxC,OATvConB,EAA6CppB,EAAAgC,GAC7C4wD,EAAY,IAAIh3C,GAAAA,EAAU19B,OAAOktB,IAASke,aAAa,KAAKqG,eAAe9T,WAE3Es0C,GAAc,IAAIf,KAAAA,cACrBhtE,KAAKgnC,GACL8F,GAAGA,EAAI0jC,GACPvC,OAAOsC,GACPl7B,KAAKvoC,GAEFshC,EAAQtyC,OAAOiyE,EAAYG,aAAYtwD,EAAAnb,KAAA,GACVgtC,GAAYrB,GAAM,QAA/Ck9B,EAAoB1tD,EAAAC,KACpBioB,EAAOwlC,EAAgB4F,IAE7B9gB,EAAMtqB,GAAK,yBAAAloB,EAAAJ,OAAA,GAAAG,EAAA,KACZ,gBAAAG,GAAA,OAAAO,EAAAnC,MAAA,KAAAhf,UAAA,EA5CiB,GA6CpB,EA2CEmpC,cAAAA,GACAoJ,YAAAA,GACAnL,QApPc,SAACjT,EAAM8J,GAAa,OAAK40C,GAAAA,QAAkB,CACzD1+C,KAAAA,EACA8J,cAAAA,EACAqJ,QAAAA,IACA,EAiPAK,YApOkB,SAACxT,EAAM8J,GAAa,OAAK40C,GAAAA,YAAsB,CACjE1+C,KAAAA,EACA8J,cAAAA,EACAqJ,QAAAA,IACA,EAiOA8K,aA3PmB,SAACnjC,GAAO,OAAK4jE,GAAAA,aAAuB,CACvD5jE,QAAAA,EACAq4B,QAAAA,IACA,EAyPA0nC,YA3BkB,SAAC3gC,EAAS4gC,GAE5B,IAAMj+B,EAAUliC,EAAAA,OAAAA,QAAuBmgE,EAAmB,CAAC1pE,GAAAA,SAAAA,UAErD2pE,EAAiBrsE,GAAOC,KAAKkuC,EAAQphC,YAI3C,OAFkBu/D,KAAAA,KAAoB9gC,EAAS6gC,EAAgBl+B,EAAQo+B,YAEtD3vE,SAAS,SAC5B,EAmBE4vE,MA/TY,SAAC78B,GACb,OAAIA,GACCA,EAAM88B,OAEN98B,EAAM88B,gBAAiB,WAEnB98B,EAAM88B,QAEN98B,CAEX,EAsTE+8B,cAlToB,SAAC58B,GACrB,GAAKA,EAGL,MAAO,GAAPhxC,OAAU4rB,GAAAA,KAAAA,aAAwB,UAAA5rB,OAASgxC,EAC7C,EA8SE68B,YAnOkB,SAACvgE,GACnB,IAA4B8/D,EAAoB14C,KAAxCzB,KAAQ5L,SAAY+lD,YAI5B,OAFA9/D,EAAUA,GAAW8/D,EAEdr3B,GAAAA,SAAAA,YAA6B,CAClC9uB,SAAU,OACV3Z,QAAAA,GAEJ,EA2NE0+D,iBAAAA,GACA3uB,kBAAAA,GACAywB,iBAzLuB,SAACxgE,GACxB,IAOcygE,EAAVr5C,KANFzB,KACE5L,EAAQ0mD,EAAR1mD,SACA0pD,EAAmBhD,EAAnBgD,oBACAC,EAAoBjD,EAApBiD,qBACAsB,EAAoBvE,EAApBuE,qBAIE9X,EAAU,CACdnzC,EACA0pD,EACAC,GAAoBhxE,QAAA0mB,EAAAA,EAAAA,GAElBsqD,GACGA,EAAqB3mD,SACrB2mD,EAAqB3mD,QAAQ9sB,OAE9ByzE,EAAqB3mD,QACrB,IAAE,CACNioD,IACA5lE,QAAO,SAAAnI,GAAI,OAAIA,GAAQA,EAAK+I,SAAW/I,EAAK+I,QAAQjI,gBAAkBiI,EAAQjI,aAAa,IAE7F,QAAQm1D,EAAQj9D,QAAUi9D,EAAQ,EACpC,EAiKEwT,iBAzauB,WAOvB,OAFIt5C,KAHFzB,KACE5L,SAIYha,UAAUvP,SAAS,MACrC,EAkaEmwE,YA1TkB,SAACjlC,GAAI,kBAAAhpC,OAAiBgpC,EAAI,EA2T5CD,WA1PiB,SAACC,EAAM1M,GAAa,OACrC8B,GAAAA,IAAc,eAAgB,UAAFp+B,OAAYgpC,GAAQ,CAC9C1M,cAAAA,EACAoD,YAAa,SAACpB,GACZ,IACE,GAAIA,QAA2BhgC,IAAjBggC,EAAOmwC,MAAqB,OAAO,CACnD,CAAE,MAAOlmE,GAAU,CACnB,OAAO,CACT,IACC81B,MAAK,SAAArzB,GAAQ,OAAAA,EAALyjE,KAAiB,GAAC,G,gmBChM/B,IAAM8D,GAAa,CACjBtgE,KAAM,SACNwa,QAASb,GAAAA,IAAAA,QAGL4mD,GAAe,CACnBvgE,KAAM,cACNwa,QAASb,GAAAA,IAAAA,aAGLqa,MACJra,IACGA,GAAAA,MACAA,GAAAA,KAAAA,KACAA,GAAAA,KAAAA,IAAAA,KACAA,GAAAA,KAAAA,IAAAA,IAAAA,KACAA,GAAAA,KAAAA,IAAAA,IAAAA,SACAA,GAAAA,KAAAA,IAAAA,IAAAA,MACDA,GAAAA,KAAAA,IAAAA,IAEE+Z,GAA8B,UAE9B8sC,GAAkB,SAACnlE,GACvB,IAEyBolE,EAErBh+C,KAHFzB,KACExK,oBAIJ,GAAIiqD,EAAOplE,UAAYA,EAAS,OAAOolE,EAEvC,GAAIA,EAAOroD,SACNqoD,EAAOroD,QAAQ9sB,OAClB,CACA,IAAMi9D,EAAUkY,EAAOroD,QAAQ3d,QAAO,SAACmB,GAAM,OAAKA,EAAOP,UAAYA,CAAO,IAC5E,GAAIktD,EAAQj9D,OAAQ,OAAOi9D,EAAQ,EACrC,CAEA,OAAO,CACT,EAWMmY,GAAuB,WAC3B,IAAIC,EAAYj8D,aAAaE,QAAQuB,GAAAA,gBAAAA,0BAErC,IAAMw6D,EAAY77D,KAAKE,MAAM27D,EAAW,CAAE,MAAOrqE,GAAK,CAOtD,OALMqqE,aAAqBl1E,QAEzBk1E,EAAY,CAACA,IAGRA,CACT,EAEMC,GAAkB,eAAAhpE,GAAAyU,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAO,IAAA,IAAAokD,EAAA1rB,EAAA/uB,EAAArB,EAAA0rD,EAAAzoD,EAAA,OAAA9L,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OAUA,OAVAs/D,EAQrBxuC,KAAU8iB,EAAA0rB,EANZjwC,KACExK,EAAmB+uB,EAAnB/uB,oBAEErB,EAAiBowB,EADnB/uB,oBACErB,kBAKmBrI,EAAAnb,KAAA,EAECmvE,GAAmB,CAC3C73C,KAAM,CACJ83C,kBAAkB,KAEpB,OAJIF,EAAW/zD,EAAAC,KAMXqL,EAAUyoD,EAAYp0E,KAAI,SAAC6F,GAAI,MAAM,CACzC+I,QAAS/I,EAAK+I,QACd2Z,SAAU,iBACVC,SAAU,qBACVE,kBAAAA,EACA6rD,iBAAiB,EACjBC,QAAQ,EACRnsD,QAAS,EACTqD,mBAAoB,EACpBpD,kBAAkB,EAClBG,cAAc,EACdgoB,WAAY5qC,EAAK4qC,WACjB9hC,UAAW9I,EAAK8I,UAChB2/D,OAAO,EACR,IAAGtgE,QAAO,SAACmB,GAAM,OAAKA,EAAOP,UAAYmb,EAAoBnb,OAAO,IAErEmb,EAAoB4B,QAAUA,EAE9B8J,GAAAA,KAAAA,YAA0B,CAAEliB,KAAM,sBAAuB1N,KAAMkkB,IAE/D0qD,KAAuB,wBAAAp0D,EAAAJ,OAAA,GAAAG,EAAA,KACxB,kBAvCuB,OAAAjV,EAAAwT,MAAA,KAAAhf,UAAA,KAyClB80E,GAAwB,WAC5B,IAGM9oD,EAGFqK,KALFzB,KACExK,oBACE4B,QAKFA,GAAWA,EAAQ9sB,QACrB8sB,EAAQ3rB,KAAI,SAAAsM,EAAcnG,GAAK,IAAhByI,EAAOtC,EAAPsC,QAAO,OAAc,IAAI+Q,QAAO,eAAAc,GAAAb,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAC,EAAOC,GAAO,OAAAF,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OAC5DwvE,GAAe9lE,GAAS+wB,MAAK,SAAA7e,GAAqC,IAAlCuH,EAAOvH,EAAPuH,QAASqD,EAAkB5K,EAAlB4K,mBACvC+J,GAAAA,KAAAA,sBAAoC,CAClC7mB,QAAAA,EACA6c,OAAQpD,EACRC,kBAAkB,EAClBoD,mBAAAA,IAEF3L,EAAQ,CAAEnR,QAAAA,EAASyZ,QAAAA,EAASqD,mBAAAA,GAC9B,IAAE,OAAO,SAAC7hB,GACR,IACA,wBAAAsW,EAAAF,OAAA,GAAAH,EAAA,KACH,gBAAAS,GAAA,OAAAE,EAAA9B,MAAA,KAAAhf,UAAA,EAZ8C,GAY7C,GAEN,EAEM00E,GAAqB,SAACrlE,GAC1B,IAAIwtB,EAAO,CAAC,EAGZ,OAFIxtB,GAAUA,EAAOwtB,OAAMA,EAAOxtB,EAAOwtB,MAElC,IAAI7c,QAAO,eAAA6B,GAAA5B,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAkB,EAAOhB,EAASiB,GAAM,IAAAykD,EAAA17C,EAAAxa,EAAA2kE,EAAAS,EAAAh2E,EAAA89D,EAAA,OAAA58C,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,OAMvC,GANuCugE,EACGzvC,KAA1BjM,EAAmB07C,EAA3BlxC,KAAQxK,oBACRxa,EAAewa,EAAfxa,WAEF2kE,EAAYD,KACZU,EAAW,KAEbT,EAAUr1E,OAAS,GAAC,CAAAoiB,EAAA/b,KAAA,SAEbvG,EAAI,EAAC,YAAEA,EAAIu1E,EAAUr1E,QAAM,CAAAoiB,EAAA/b,KAAA,aAE9BgvE,EAAUv1E,GAAI,CAAFsiB,EAAA/b,KAAA,SAKd,IAHMu3D,EAAamY,GAAWrlE,EAAY2kE,EAAUv1E,IAAI,IAE7CwH,MAAQxH,GAEG69B,EAAK83C,iBAAkB,CAAFrzD,EAAA/b,KAAA,SAAA+b,EAAAoB,GAAI,EAACpB,EAAA/b,KAAA,wBAAA+b,EAAA/b,KAAA,GAAS6sC,GAAa0qB,EAAW7tD,SAAQ,QAAAqS,EAAAoB,GAAApB,EAAAX,KAAA,QAAzFm8C,EAAWp0C,QAAOpH,EAAAoB,GAElBsyD,EAAS71E,KAAK29D,GAAW,QAVS99D,IAAGsiB,EAAA/b,KAAA,gBAe3C6a,EAAQ40D,GAAS,yBAAA1zD,EAAAhB,OAAA,GAAAc,EAAA,KAClB,gBAAAK,EAAAF,GAAA,OAAAM,EAAA7C,MAAA,KAAAhf,UAAA,EAzBiB,GA0BpB,EAEMk1E,GAAoB,SAAClmE,EAAWmmE,GACpC,IAAMZ,EAAYD,KAGbC,EAAUj7D,SAAStK,IAEtBulE,EAAUp1E,KAAK6P,GAGjBsJ,aAAaC,QAAQwB,GAAAA,gBAAAA,yBAAoDrB,KAAKC,UAAU47D,IAEpFY,GAAWC,GAAqBpmE,EACtC,EAEMomE,GAAuB,SAACC,GAC5B,IAAMd,EAAYD,KAEd9tE,EAAQ6uE,EAKZ,GAHKppD,OAAOqpD,UAAU9uE,KAAQA,EAAQ+tE,EAAUl7D,QAAQg8D,IAGnD7uE,GAAS,GAAOA,EAAQ+tE,EAAUr1E,QACvB,IAAVsH,EAAa,CAEf,IAAMomC,EAAS2nC,EAAUn7D,OAAO5S,EAAO,GAEvC+tE,EAAUvqE,QAAQ4iC,EAAO,IACzBt0B,aAAaC,QAAQwB,GAAAA,gBAAAA,yBAAoDrB,KAAKC,UAAU47D,IAExF,IAGM3kE,EAGFymB,KALFzB,KACE5K,QACEpa,WAKNqlE,GAAWrlE,EAAYg9B,EAAO,IAE9B2oC,IACF,CAEJ,EA8JMN,GAAa,SAACrlE,EAAY4lE,EAAqBC,GACnD,KAAID,aAA+Bn2E,OAAwC,IAA/Bm2E,EAAoBt2E,QAAhE,CAEA,IAAMgH,EAAOwvE,GAAO9lE,EAAa4lE,aAA+Bn2E,MAASm2E,EAAoB,GAAKA,GAAqB,GAEvH,IAAKtvE,EAAM,OAAO,EAGlB,GADAA,EAAK0uE,iBAAkB,EACnBa,EAAW,OAAOvvE,EAEtB4vB,GAAAA,KAAAA,YAA0B,CAAEliB,KAAM,sBAAuB1N,KAAAA,IAGzDwxC,GAAAA,WAAAA,SAA2B,WACzB,IAAuCzoC,EAAgBonB,KAA/CzB,KAAQxK,oBAAuBnb,QACjC0mE,EAAqB,6BAAHh0E,OAAgCsN,GAExDwK,GAAAA,GAAAA,SAAiBQ,SAASpC,KAAKmyC,UAAU2rB,GAAoB,SAACC,GAC5D,IAAQ7J,EAAW6J,EAAX7J,OACJA,GAAUA,EAAO98D,SAAW88D,EAAOjgD,QAAUigD,EAAOnjD,UAAYmjD,EAAOv5B,QAEzE/4B,GAAAA,GAAAA,SAAiBQ,SAASpC,KAAKg+D,gBAC7BD,EAAM3uB,SACN,CACE9nC,MAAO,0BAAFxd,OAA4BsN,GACjC/I,KAAM,CAAC,IAGXwxC,GAAAA,cAAAA,KAA2B,sBAAuBq0B,GAElDr0B,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,sBAAwC,CAC1DgyD,OAAQA,EAAOv5B,QAGrB,GACF,GAlCoF,CAmCtF,EAEMkjC,GAAS,SAAC9lE,EAAY4lE,EAAqBM,GAC/C,IAAI9kC,EAEJ,IAAIphC,EAQF,OADAiJ,QAAQ4jB,IAAI,uBACL,EAPP,IAAMtI,EAAOrlB,EAAAA,OAAAA,OAAsBc,GACzB8+D,KAAAA,WAAsBv6C,GAEhC6c,EAAUliC,EAAAA,OAAAA,QAAuBc,EAAY4E,GAAAA,SAQ/C,IAKIohE,EALE/mE,EAAUC,EAAAA,OAAAA,QAAuBc,EAAY4E,GAAAA,SAC3CxF,EAAcH,EAAdG,UACF+mE,EAAclnE,EAAQG,UAAUvP,SAAS,OAK/C,GAAI+1E,EAAqB,CACvB,IAAIQ,EAA0B,GAE1BR,aAA+Bn2E,MACjCm2E,EAAoBrzE,SAAQ,SAACQ,GACvBA,GACFqzE,EAAc72E,KAAKwD,EAEvB,IAEAqzE,EAAc72E,KAAKq2E,GAGrBQ,EAAc72E,KAAK42E,GAEfD,IAAUE,EAAgBA,EAAc7rC,QAE5C,IAAM2G,EAAaklC,EAAc31E,KAAI,SAAAb,GAAG,OAAIqD,GAAOC,KAAKtD,EAAK,MAAM,IAC7D2xC,EAAOriC,EAAAA,SAAAA,KAAsB,CACjChP,EAAG,EACHK,EAAG61E,EAAc92E,OACjB+yC,QAASnB,EACTtiC,QAASgG,GAAAA,UAGLo3B,EAAO98B,EAAAA,SAAAA,KAAsB,CAAEmnE,OAAQ9kC,EAAM3iC,QAASgG,GAAAA,UAK5DohE,EAAQ,CACN/mE,QAAAA,EACAmiC,QAAAA,EACApF,KAAAA,EACA38B,QARkB28B,EAAZ38B,QASNinE,qBAP+BpnE,EAAAA,SAAAA,OAAwB,CAAEC,OAAQF,EAAQG,UAAWR,QAASgG,GAAAA,UAAvF0hE,qBAQNttD,SAAU,iBACVC,SAAU,qBACVjZ,WAAAA,EACAkhC,WAAAA,EACA9hC,UAAAA,EACA2/D,OAAO,EACPkG,QAAQ,EAEZ,MACEe,EAAQ,CACN/mE,QAAAA,EACAmiC,QAAAA,EACA/hC,QAAS,cACTinE,qBAAsB,cACtBttD,SAAU,iBACVC,SAAU,qBACVjZ,WAAAA,EACAkhC,WAAY,GACZ9hC,UAAAA,EACA2/D,OAAO,EACPkG,QAAQ,GAIZ,OAAOe,CACT,EA4CMO,GAAmB,SAACpK,EAAQqK,EAAWC,GAC3C,IAA4EC,EAAVjgD,KAA1DzB,KAAQxK,oBAAuBpb,EAASsnE,EAATtnE,UAAWC,EAAOqnE,EAAPrnE,QAE5CsnE,EAAqB,0BAAH50E,OAA6BsN,GACjDunE,GAAY,EAEVC,EAAiB,SAAjBA,EAAkBvwE,GACtB2S,QAAQ4jB,IAAI,mBAAoBv2B,GAEhCwwE,aAAaF,GAEb/8D,GAAAA,GAAAA,SAAiBQ,SAASpC,KAAK6G,YAAY63D,EAAoBE,GAC3DL,GAAWA,GACjB,EAiCA,OAdAI,EAAYn5D,YATQ,WAClBxE,QAAQ4jB,IAAI,iCAEZi6C,aAAaF,GAEb/8D,GAAAA,GAAAA,SAAiBQ,SAASpC,KAAK6G,YAAY63D,EAAoBE,GAC3DJ,GAAQA,GACd,GAEoC,KAGpC58D,GAAAA,GAAAA,SAAiBQ,SAASpC,KAAKmyC,UAAUusB,EAAoBE,GAI7Dh9D,GAAAA,GAAAA,SAAiBQ,SAASpC,KAAK8+D,gBAAgB,CAC7Cx3D,MAAO,6BAAFxd,OAA+BsN,GACpC/I,KAAM,CACJ6lE,OAAAA,EACA/8D,UAAWA,EAAUvP,SAAS,UA5Bf,WACjBoZ,QAAQ4jB,IAAI,+BAEZi6C,aAAaF,GAEb/8D,GAAAA,GAAAA,SAAiBQ,SAASpC,KAAK6G,YAAY63D,EAAoBE,EACjE,CA0BF,EAEA/rD,OAAOyrD,iBAAmBA,GAE1B,IAAMS,GAAW,WACf,IAA6FC,EAAVxgD,KAA3EzB,KAAQ3K,mBAAsBpb,EAAOgoE,EAAPhoE,QAASI,EAAO4nE,EAAP5nE,QAAS+hC,EAAO6lC,EAAP7lC,QAAShiC,EAAS6nE,EAAT7nE,UAC3Dq/B,EAAU,GAAH1sC,OAAMsN,EAAO,KAAAtN,OAAIqN,EAAUvP,SAAS,QAIjD,OAFAoZ,QAAQ4jB,IAAI4R,GACC8gC,KAAAA,KAAoB9gC,EAASx/B,EAAQe,WAAYohC,EAAQo+B,YAC1D3vE,SAAS,SACvB,EAEMq3E,GAAiB,eAAAn1D,GAAA1B,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAa,EAAOg2D,EAAUjwE,EAAUkwE,GAAY,IAAAC,EAAAC,EAAAjoE,EAAAkoE,EAAAn/B,EAAAlH,EAAA0hC,EAAA4E,EAAAj/B,EAAAk/B,EAAAp2E,EAAA,OAAAif,IAAAA,MAAA,SAAAe,GAAA,cAAAA,EAAA/Z,KAAA+Z,EAAA1b,MAAA,OAgCrB,OAhCqB0xE,EAQ3D5gD,KAAU6gD,EAAAD,EANZriD,KACE5K,QACE/a,EAAOioE,EAAPjoE,QACWkoE,EAAOD,EAAlBloE,UAKAgpC,EAAkBzqB,GAAAA,aAAAA,UAClBujB,EAAa,CAACkH,GAChBw6B,GAAc,EAEd1rE,IAAakwE,IAETI,EAAkB1/B,GAAAA,IAAAA,iBAA6B5wC,EAAU,GAE/D0rE,EAAc4E,EAAgBpoE,UAC9B8hC,EAAW3xC,KAAKqzE,IAIdwE,IACFlmC,EAAW3xC,KAAK63E,GAChBxE,EAAcwE,GAGhBlmC,EAAW3xC,KAAKg4E,EAAQ13E,SAAS,QAE3B04C,EAAOy+B,KAEPS,EAAU3+D,KAAKC,UAAUm4B,GAAW7vB,EAAA/Z,KAAA,EAAA+Z,EAAA1b,KAAA,GAGdw6B,GAAAA,KAAe,SAAU,aAAc,CAC/DpC,KAAM,CACJ1uB,QAAAA,EACA8nE,SAAAA,EACA/nE,UAAWqoE,EACXC,UAAWn/B,EACXxM,SAAS,EACT4rC,OAAQ7sD,OAAOsrB,SAASC,YAE1B,QAKD,QAdKh1C,EAAWggB,EAAAN,OAWF1f,EAAOg/B,QAA4B,OAAlBh/B,EAAOg/B,QAAsC,uBAAjBh/B,EAAOmJ,SACjEkO,aAAaC,QAAQ,GAAD5W,OAAIoY,GAAAA,aAAAA,iBAAuC,KAAApY,OAAIsN,GAAW,KAC9EuoE,GAAahF,IACdvxD,EAAAC,OAAA,SAEMjgB,GAAM,QAEO,OAFPggB,EAAA/Z,KAAA,GAAA+Z,EAAAyB,GAAAzB,EAAA,SAEbpI,QAAQzO,MAAK6W,EAAAyB,IAAOzB,EAAAC,OAAA,UACb,GAAK,yBAAAD,EAAAX,OAAA,GAAAS,EAAA,mBAEf,gBAxDsBS,EAAAmB,EAAAa,GAAA,OAAA7B,EAAA3C,MAAA,KAAAhf,UAAA,KA0DjBy3E,GAAe,eAAA10D,GAAA9C,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAA0B,EAAO9a,GAAQ,IAAA4wE,EAAAC,EAAA1oE,EAAAD,EAAAooE,EAAA5E,EAAA5iE,EAAAgoE,EAAA9mC,EAAA7vC,EAAA,OAAAif,IAAAA,MAAA,SAAAmC,GAAA,cAAAA,EAAAnb,KAAAmb,EAAA9c,MAAA,OAeiD,OAfjDmyE,EAQjCrhD,KAAUshD,EAAAD,EANZ9iD,KACE5K,QACE/a,EAAO0oE,EAAP1oE,QACAD,EAAS2oE,EAAT3oE,UAKAooE,EAAkB1/B,GAAAA,IAAAA,iBAA6B5wC,EAAU,GACzD0rE,EAAc4E,EAAgBpoE,UAC9BY,EAAawnE,EAAgBloE,IAC7B0oE,EAAYrqD,GAAAA,aAAAA,UAEZujB,EAAa,CAAC8mC,EAAWpF,EAAY/yE,SAAS,OAAQuP,EAAUvP,SAAS,QAAO4iB,EAAAnb,KAAA,EAAAmb,EAAA9c,KAAA,EAG1Dw6B,GAAAA,KAAe,SAAU,UAAW,CAC5DpC,KAAM,CACJ1uB,QAAAA,EACAD,UAAW0J,KAAKC,UAAUm4B,GAC1BnF,QAA0B,YAAjBpe,GAAAA,SAEX,OANe,GAQM,WAAnBtsB,OAREA,EAAWohB,EAAA1B,WAQP,EAAN1f,EAAQg/B,QAAkB,CAAA5d,EAAA9c,KAAA,gBAAA8c,EAAAnB,OAAA,SACrB,CACLk9B,OAAO,EACPtN,WAAAA,EACAlhC,WAAAA,IACD,eAAAyS,EAAAnB,OAAA,UAEM,GAAK,QAAAmB,EAAA9c,KAAA,iBAKI,OALJ8c,EAAAnb,KAAA,GAAAmb,EAAAK,GAAAL,EAAA,SAGdxJ,QAAQrQ,MAAM,qBAAsB,eACpCqQ,QAAQzO,MAAKiY,EAAAK,IACb7J,QAAQy2B,WAAUjtB,EAAAnB,OAAA,UACX,GAAK,yBAAAmB,EAAA/B,OAAA,GAAAsB,EAAA,mBAEf,gBAzCoB2pB,GAAA,OAAAxoB,EAAA/D,MAAA,KAAAhf,UAAA,KA2Cfw3E,GAAY,eAAA30D,GAAA5C,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAiD,EAAO00D,GAAa,IAAAC,EAAAloE,EAAA4iE,EAAA4E,EAAAl/B,EAAA1xC,EAAAwxC,EAAAC,EAAA8/B,EAAA9oE,EAAA,OAAAiR,IAAAA,MAAA,SAAAoD,GAAA,cAAAA,EAAApc,KAAAoc,EAAA/d,MAAA,OAAAuyE,EAOnCzhD,KAHEzmB,EAAUkoE,EAFdljD,KACE5K,QACEpa,WAKF4iE,EAAcqF,EAEdA,GAAiBlxD,GAAAA,sBAAoCkxD,KACjDT,EAAkB1/B,GAAAA,IAAAA,iBAA6BmgC,EAAe,GACpErF,EAAc4E,EAAgBpoE,WAI5BkpC,EAAiC5/B,aAAaE,QAAQuB,GAAAA,gBAAAA,mBAE1D,IAEEm+B,EAAoBx/B,KAAKE,MAAMs/B,EACjC,CAAE,MAAOhuC,GACP2O,QAAQzO,MAAMF,EAChB,CAmBqD,OAjB/CguC,aAA6B74C,QACjC64C,EAAoB,KAKP,KAFT1xC,EAAQ0xC,EAAkB7+B,QAAQm5D,KAEtBt6B,EAAkBluC,QAAQwoE,GACvChsE,GAAS,GAAOA,EAAQ0xC,EAAkBh5C,QAC/B,IAAVsH,IACF0xC,EAAoBA,EAAkB9+B,OAAO5S,EAAO,IAClCwD,QAAQwoE,GAI9Bl6D,aAAaC,QAAQwB,GAAAA,gBAAAA,kBAA6CrB,KAAKC,UAAUu/B,IAE3EF,EAAkBzqB,GAAAA,aAAAA,UACpB0qB,EAAmB,CAACD,EAAiBw6B,GAAYlvD,EAAA/d,KAAA,GAE/CmyC,GAAAA,YAAAA,UAA8B9nC,EAAYqoC,GAAiB,QAGjE,OAHiE8/B,EACX1hD,KAAhBpnB,EAAO8oE,EAArCnjD,KAAQ1K,mBAAsBjb,QAEtCqU,EAAA/d,KAAA,GACMg0C,GAAWtqC,EAAS,sBAAqB,yBAAAqU,EAAAhD,OAAA,GAAA6C,EAAA,KAChD,gBAlDiB4qB,GAAA,OAAAlrB,EAAA7D,MAAA,KAAAhf,UAAA,KAoDZ+0E,GAAiB,SAAC9lE,GACtB,OAAO,IAAI+Q,SAAQ,SAACI,GAClBkuD,GAAAA,aAA0B,CACxBr/D,QAAAA,EACAojC,iBAAiB,EACjBhL,UAAW6sC,KACVl0C,MAAK,SAACC,GAEP,IAAQvX,EAAyBuX,EAAzBvX,QAAS4pB,EAAgBrS,EAAhBqS,YACjBlyB,EAAQ,CACNnR,QAAAA,EACAyZ,QAASA,EACTqD,mBAAoBumB,GAExB,IAAE,OAAO,SAACpoC,GACRkW,GAAQ,EACV,GACF,GACF,EAEMm5B,GAAa,WAA0C,IAAzCrG,EAAUlzC,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,KAAMg4E,EAAUh4E,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,KACZiP,EAAgBonB,KAA9CzB,KAAQ3K,mBAAsBhb,QAChCokC,EAAgBH,GAAejkC,EAC/B2wC,EAAWo4B,GAAe,qBAEhC,MAAqB,gBAAjB3kC,EACK,IAAIrzB,SAAQ,SAACI,GAClB0V,GAAAA,KAAAA,WAAyB,CACvBliB,KAAMgsC,EACN9zB,OAAQ,EACRC,mBAAoB,IAEtB3L,EAAQ,EACV,IAGK20D,GAAe1hC,GAAcrT,MAAK,SAAA1T,GAAqC,IAAlC5D,EAAO4D,EAAP5D,QAASqD,EAAkBO,EAAlBP,mBAEnD,OADA+J,GAAAA,KAAAA,WAAyB,CAAEliB,KAAMgsC,EAAS9zB,OAAQpD,EAASqD,mBAAAA,IACpDrD,CACT,IAAE,OACO,SAACxe,GACN4rB,GAAAA,KAAAA,gBAA8B,CAAEliB,KAAMgsC,GACxC,GACJ,EASM21B,GAAiB,SAACliC,GACtB,IAAuCpkC,EAAgBonB,KAA/CzB,KAAQxK,oBAAuBnb,QACvC,OAAKokC,EAIE0hC,GAAe1hC,GAAcrT,MAAK,SAAAxT,GAAqC,IAAlC9D,EAAO8D,EAAP9D,QAASqD,EAAkBS,EAAlBT,mBAQnD,OAPA+J,GAAAA,KAAAA,sBAAoC,CAClC7mB,QAASokC,EACTvnB,OAAQpD,EACRC,kBAAkB,EAClBoD,mBAAAA,IAGKrD,CACT,IAXS6wB,GAAWtqC,EAAS,sBAa/B,EAKMmjC,GAAe,SAACnjC,GAAO,OAAKq/D,GAAAA,aAA0B,CAC1Dr/D,QAAAA,EACAojC,iBAAiB,EACjBhL,UAAW6sC,IACX,EAwFIp4B,GAAiB,SAAC5I,EAAYC,GAClC,OAAOm7B,GAAAA,uBAAoC,CACzCp7B,WAAAA,EACAC,QAAAA,EACAC,UAAW,CAACF,GACZ1kC,QAASgG,GAAAA,QACTo2B,YAAaupC,IAEjB,EAEM8D,GAAgB,eAAArrD,GAAA3M,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAsuB,IAAA,IAAA1hB,EAAAhqB,EAAA8sC,EAAA9jB,EAAA4jB,EAAAxB,EAAAgqC,EAAA5qC,EAAA6qC,EAAAC,EAAAC,EAAAzoE,EAAAkhC,EAAA7hC,EAAA6tB,EAAAoxC,EAAAC,EAAAl+B,EAAAE,EAAAN,EAAA/F,EAAAoH,EAAAonC,EAAAr3E,EAAAs3E,EAAAv4E,UAAA,OAAAkgB,IAAAA,MAAA,SAAAivB,GAAA,cAAAA,EAAAjoC,KAAAioC,EAAA5pC,MAAA,OAaE,OAbOzC,GAATgqB,EAAAyrD,EAAAr5E,OAAA,QAAAe,IAAAs4E,EAAA,GAAAA,EAAA,GAAyE,CAAC,GAAjEz1E,KAAM8sC,EAAE9iB,EAAF8iB,GAAI9jB,EAAMgB,EAANhB,OAAQ4jB,EAAQ5iB,EAAR4iB,SAAUxB,EAAKphB,EAALohB,MAAKgqC,EAAAprD,EAAEwgB,WAAAA,OAAU,IAAA4qC,EAAGtwC,GAAWswC,EAAAC,EAWvF9hD,KAAU+hD,EAAAD,EATZvjD,KAAIyjD,EAAAD,EACFnuD,mBACEra,EAAUyoE,EAAVzoE,WACAkhC,EAAUunC,EAAVvnC,WAGA7hC,EAAOmpE,EADTpuD,QACE/a,QAKA6tB,EAAS,WAAUqS,EAAAjoC,KAAA,EAAAioC,EAAA5pC,KAAA,EAIF+oE,GAAAA,YAAyB,CAC5CxiD,OAAAA,EACAwhB,WAAAA,EACAoC,SAAAA,EACAxB,MAAAA,EACApR,OAAAA,EACAh6B,KAAAA,EACA8sC,GAAAA,EACAtI,QAAAA,KACA,OATF4mC,EAAY/+B,EAAAxuB,KAAAwuB,EAAA5pC,KAAG,GAAH,oBAAA4pC,EAAAjoC,KAAG,EAAHioC,EAAAzsB,GAAAysB,EAAA,SAAAA,EAAAjuB,OAAA,SAWL,CACL9W,MAAO+kC,EAAAzsB,GAAiB2rB,UACzB,QAMO,OAHR4B,GAHCk+B,EAOCD,GAJFj+B,UACAE,EAASg+B,EAATh+B,UACAN,EAAas+B,EAAbt+B,cACA/F,EAAQqkC,EAARrkC,SAAQqF,EAAAjoC,KAAA,GAAAioC,EAAA5pC,KAAA,GAMM+oE,GAAAA,aAA0B,CACtCxrE,KAAAA,EACA8sC,GAAAA,EACAK,UAAAA,EACAE,UAAAA,EACA7C,WAAAA,EACAuC,cAAAA,EACA/S,OAAAA,EACAgN,SAAAA,EACAl6B,WAAAA,EACAkhC,WAAAA,EACAtiC,QAASgG,GAAAA,QACT8yB,QAAAA,KACA,QAbF4J,EAAK/B,EAAAxuB,KAAAwuB,EAAA5pC,KAAG,GAAH,qBAAA4pC,EAAAjoC,KAAG,GAAHioC,EAAA5G,GAAA4G,EAAA,UAAAA,EAAAjuB,OAAA,SAeE,CACL9W,MAAO+kC,EAAA5G,GAAkB8F,UAC1B,QAIkE,OADjEiqC,EAAWxnC,EAAWtwC,MAAM,GAChC83E,EAAW5/D,KAAKC,UAAU2/D,EAASj4E,KAAI,SAACsC,GAAG,OAAKA,EAAIlD,SAAS,MAAM,KAAE0vC,EAAAjoC,KAAA,GAAAioC,EAAA5pC,KAAA,GAGzCw6B,GAAAA,KAAe,kBAAmB,SAAU,CACpEpC,KAAM,CACJ1uB,QAAAA,EACAD,UAAWspE,EACXhB,UAAWV,GACX4B,MAAOtnC,EACPvF,SAA+B,EAC/B4rC,OAAQ7sD,OAAOsrB,SAASC,UAE1B1Y,QAAS,CACPC,SAAU,EACVC,SAAU,OAEZ,QAbe,OAAXx8B,EAAWkuC,EAAAxuB,KAAAwuB,EAAAjuB,OAAA,SAAA5K,GAAAA,GAAA,GAeZrV,GAAM,IACTiwC,MAAAA,KAAK,eAAA/B,EAAAjoC,KAAA,GAAAioC,EAAAmB,GAAAnB,EAAA,UAAAA,EAAAjuB,OAAA,SAGA,CACL9W,MAAO+kC,EAAAmB,GAASjC,QAChB6C,MAAAA,IACD,yBAAA/B,EAAA7uB,OAAA,GAAAkuB,EAAA,kCAEJ,kBA1FqB,OAAA5hB,EAAA5N,MAAA,KAAAhf,UAAA,KA4FhBy4E,GAAgB,eAAAzrD,GAAA/M,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAuvB,EAAOpgC,GAAM,IAAAvM,EAAA8sC,EAAA9jB,EAAA4jB,EAAAxB,EAAA6oC,EAAAjwE,EAAAmnE,EAAA3gC,EAAAorC,EAAAC,EAAAC,EAAAhpE,EAAAkhC,EAAA7hC,EAAA6tB,EAAAoxC,EAAA2K,EAAA5oC,EAAAE,EAAAN,EAAA/F,EAAAoH,EAAA4nC,EAAAC,EAAAT,EAAAr3E,EAAA+3E,EAAA,OAAA94D,IAAAA,MAAA,SAAAkwB,GAAA,cAAAA,EAAAlpC,KAAAkpC,EAAA7qC,MAAA,OAcX,OAbjBzC,EAAoFuM,EAApFvM,KAAM8sC,EAA8EvgC,EAA9EugC,GAAI9jB,EAA0Ezc,EAA1Eyc,OAAQ4jB,EAAkErgC,EAAlEqgC,SAAUxB,EAAwD7+B,EAAxD6+B,MAAO6oC,EAAiD1nE,EAAjD0nE,SAAUjwE,EAAuCuI,EAAvCvI,SAAQmnE,EAA+B5+D,EAA7Bi+B,WAAAA,OAAU,IAAA2gC,EAAGrmC,GAAWqmC,EAAAyK,EAWnFriD,KAAUsiD,EAAAD,EATZ9jD,KAAIgkD,EAAAD,EACFzuD,mBACEta,EAAUgpE,EAAVhpE,WACAkhC,EAAU8nC,EAAV9nC,WAGA7hC,EAAO0pE,EADT3uD,QACE/a,QAKA6tB,EAAS,WAAUsT,EAAAlpC,KAAA,EAAAkpC,EAAA7qC,KAAA,EAIF+oE,GAAAA,YAAyB,CAC5CxiD,OAAAA,EACAwhB,WAAAA,EACAoC,SAAAA,EACAxB,MAAAA,EACApR,OAAAA,EACAh6B,KAAAA,EACA8sC,GAAAA,EACAtI,QAAAA,KACA,OATF4mC,EAAY99B,EAAAzvB,KAAAyvB,EAAA7qC,KAAG,GAAH,oBAAA6qC,EAAAlpC,KAAG,EAAHkpC,EAAA1tB,GAAA0tB,EAAA,SAAAA,EAAAlvB,OAAA,SAWL,CACL9W,MAAOgmC,EAAA1tB,GAAiB2rB,UACzB,QAMO,OAHR4B,GAHC4oC,EAOC3K,GAJFj+B,UACAE,EAAS0oC,EAAT1oC,UACAN,EAAagpC,EAAbhpC,cACA/F,EAAQ+uC,EAAR/uC,SAAQsG,EAAAlpC,KAAA,GAAAkpC,EAAA7qC,KAAA,GAMM+oE,GAAAA,aAA0B,CACtCxrE,KAAAA,EACA8sC,GAAAA,EACAK,UAAAA,EACAE,UAAAA,EACA7C,WAAAA,EACAuC,cAAAA,EACA/S,OAAAA,EACAgN,SAAAA,EACAl6B,WAAAA,EACAkhC,WAAAA,EACAtiC,QAASgG,GAAAA,QACT8yB,QAAAA,KACA,QAbF4J,EAAKd,EAAAzvB,KAAAyvB,EAAA7qC,KAAG,GAAH,qBAAA6qC,EAAAlpC,KAAG,GAAHkpC,EAAA7H,GAAA6H,EAAA,UAAAA,EAAAlvB,OAAA,SAeE,CACL9W,MAAOgmC,EAAA7H,GAAkB8F,UAC1B,YAGCvnC,EAAU,CAAFspC,EAAA7qC,KAAA,gBAAA6qC,EAAA7qC,KAAA,GACe0zE,GAAgB/nC,EAAOpqC,GAAS,QAAzC,OAAVgyE,EAAU1oC,EAAAzvB,KAAAyvB,EAAA7qC,KAAG,GACWmyC,GAAAA,IAAAA,YAAwBohC,GAAW,QAA5C,KAAfC,EAAe3oC,EAAAzvB,QAEhBo4D,EAAgBnwC,KAAI,CAAAwH,EAAA7qC,KAAA,gBAAA6qC,EAAAlvB,OAAA,SAEhB,CACL+e,OAAQ,KACR0K,KAAMouC,EAAgBnwC,OACvB,eAAAwH,EAAAlvB,OAAA,SAEM,CACL9W,MAAO,sCACR,QAK6E,OAD9EkuE,EAAWxnC,EACfwnC,EAAW5/D,KAAKC,UAAU2/D,EAASj4E,KAAI,SAACsC,GAAG,OAAKE,GAAOC,KAAKH,GAAKlD,SAAS,MAAM,KAAE2wC,EAAAlpC,KAAA,GAAAkpC,EAAA7qC,KAAA,GAGtDw6B,GAAAA,KAAe,SAAU,SAAU,CAC3DpC,KAAM,CACJ1uB,QAAAA,EACAD,UAAWspE,EACXhB,UAAWV,GACX4B,MAAOtnC,EACPvF,SAA+B,EAC/B4rC,OAAQ7sD,OAAOsrB,SAASC,SACxB8gC,SAAAA,EACA/qC,QAAS,MAEXzO,QAAS,CACPC,SAAU,EACVC,SAAU,OAEZ,QAfe,MAAXx8B,EAAWmvC,EAAAzvB,OAkBZ1f,EAAOg/B,QACW,OAAlBh/B,EAAOg/B,QACPh/B,EAAOu3E,OAAK,CAAApoC,EAAA7qC,KAAA,gBAAA6qC,EAAA7qC,KAAA,GAEemyC,GAAAA,IAAAA,YAAwBz2C,EAAOu3E,OAAM,QAA9C,KAAfO,EAAe3oC,EAAAzvB,QAEhBo4D,EAAgBnwC,KAAI,CAAAwH,EAAA7qC,KAAA,gBAAA6qC,EAAAlvB,OAAA,SAEhB,CACL+e,OAAQ,KACR0K,KAAMouC,EAAgBnwC,OACvB,eAAAwH,EAAAlvB,OAAA,SAEM,CACL9W,MAAO,+BACR,QAAAgmC,EAAA7qC,KAAA,wBAAA6qC,EAAAlvB,OAAA,SAAA5K,GAAA,GAIErV,IAAM,QAAAmvC,EAAA7qC,KAAA,wBAAA6qC,EAAAlpC,KAAA,GAAAkpC,EAAAE,GAAAF,EAAA,UAAAA,EAAAlvB,OAAA,SAIN,CACL9W,MAAOgmC,EAAAE,GAASjC,QAChB6C,MAAAA,IACD,yBAAAd,EAAA9vB,OAAA,GAAAmvB,EAAA,kCAEJ,gBAlIqBF,GAAA,OAAAviB,EAAAhO,MAAA,KAAAhf,UAAA,KAoIhBk5E,GAAmB,eAAAhsD,GAAAjN,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAywB,EAAOwoC,GAAO,IAAAC,EAAAC,EAAAC,EAAAxoC,EAAA7hC,EAAAqpE,EAAAr3E,EAAA,OAAAif,IAAAA,MAAA,SAAAuxB,GAAA,cAAAA,EAAAvqC,KAAAuqC,EAAAlsC,MAAA,OAe6B,OAf7B6zE,EAYpC/iD,KAAUgjD,EAAAD,EAVZxkD,MAAI0kD,EAAAD,EACFpvD,oBACEra,WACAkhC,EAAUwoC,EAAVxoC,WACSwoC,EAATtqE,UAGAC,EAAOoqE,EADTrvD,QACE/a,QAKFqpE,EAAWxnC,EAAWtwC,MAAM,GAChC83E,EAAW5/D,KAAKC,UAAU2/D,EAASj4E,KAAI,SAACsC,GAAG,OAAKA,EAAIlD,SAAS,MAAM,KAAEgyC,EAAAlsC,KAAA,EAE3Cw6B,GAAAA,KAAe,kBAAmB,SAAU,CACpEpC,KAAM,CACJ1uB,QAAAA,EACA+8B,QAAS,KACTh9B,UAAWspE,EACXhB,UAAWV,GACXlzD,KAAMy1D,EACNxtC,SAAS,EACT4rC,OAAQ7sD,OAAOsrB,SAASC,YAE1B,OAVe,OAAXh1C,EAAWwwC,EAAA9wB,KAAA8wB,EAAAvwB,OAAA,SAWVjgB,GAAM,wBAAAwwC,EAAAnxB,OAAA,GAAAqwB,EAAA,KACd,gBA7BwBF,GAAA,OAAAvjB,EAAAlO,MAAA,KAAAhf,UAAA,KA+BnB49B,GAAI,eAAAse,GAAAj8B,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAA6/B,IAAA,IAAAzC,EAAAx6C,EAAA8sC,EAAA9jB,EAAA4jB,EAAAxB,EAAAqrC,EAAAjsC,EAAAksC,EAAA5pE,EAAA6pE,EAAAxqE,EAAA6hC,EAAAhU,EAAAoxC,EAAAwL,EAAAzpC,EAAAE,EAAAN,EAAA/F,EAAAoH,EAAAyoC,EAAA35E,UAAA,OAAAkgB,IAAAA,MAAA,SAAA+/B,GAAA,cAAAA,EAAA/4C,KAAA+4C,EAAA16C,MAAA,OAamB,OAbVzC,GAATw6C,EAAAq8B,EAAAz6E,OAAA,QAAAe,IAAA05E,EAAA,GAAAA,EAAA,GAAyE,CAAC,GAAjE72E,KAAM8sC,EAAE0N,EAAF1N,GAAI9jB,EAAMwxB,EAANxxB,OAAQ4jB,EAAQ4N,EAAR5N,SAAUxB,EAAKoP,EAALpP,MAAKqrC,EAAAj8B,EAAEhQ,WAAAA,OAAU,IAAAisC,EAAG3xC,GAAW2xC,EAAAC,EAO3EnjD,KAHEzmB,EAAU4pE,EAFd5kD,KACExK,oBACExa,WAKA6pE,EAAerF,GAAgBtxE,GAE7BmM,EAAwBwqE,EAAxBxqE,QAAS6hC,EAAe2oC,EAAf3oC,WAEXhU,EAAS,gBAAemjB,EAAA/4C,KAAA,EAAA+4C,EAAA16C,KAAA,EAIP+oE,GAAAA,YAAyB,CAC5CxiD,OAAAA,EACAwhB,WAAAA,EACAoC,SAAAA,EACAxB,MAAAA,EACApR,OAAAA,EACAh6B,KAAMmM,EACN2gC,GAAAA,EACAtI,QAAAA,KACA,OATF4mC,EAAYjuB,EAAAt/B,KAAAs/B,EAAA16C,KAAG,GAAH,qBAAA06C,EAAA/4C,KAAG,GAAH+4C,EAAAv9B,GAAAu9B,EAAA,SAAAA,EAAA/+B,OAAA,SAWL,CACL9W,MAAO61C,EAAAv9B,GAAiB2rB,UACzB,QAMO,OAHR4B,GAHCypC,EAOCxL,GAJFj+B,UACAE,EAASupC,EAATvpC,UACAN,EAAa6pC,EAAb7pC,cACA/F,EAAQ4vC,EAAR5vC,SAAQmW,EAAA/4C,KAAA,GAAA+4C,EAAA16C,KAAA,GAMM+oE,GAAAA,aAA0B,CACtCxrE,KAAMmM,EACN2gC,GAAAA,EACAK,UAAAA,EACAE,UAAAA,EACA7C,WAAAA,EACAuC,cAAAA,EACA/S,OAAAA,EACAgN,SAAAA,EACAl6B,WAAAA,EACAkhC,WAAAA,EACAtiC,QAASgG,GAAAA,QACT8yB,QAAAA,KACA,QAbF4J,EAAK+O,EAAAt/B,KAAAs/B,EAAA16C,KAAG,GAAH,qBAAA06C,EAAA/4C,KAAG,GAAH+4C,EAAA1X,GAAA0X,EAAA,UAAAA,EAAA/+B,OAAA,SAeE,CACL9W,MAAO61C,EAAA1X,GAAkB8F,UAC1B,eAAA4R,EAAA/+B,OAAA,SAGIgwB,GAAK,yBAAA+O,EAAA3/B,OAAA,GAAAy/B,EAAA,2BACb,kBA/DS,OAAA7D,EAAAl9B,MAAA,KAAAhf,UAAA,KAiEJ45E,GAAmB,eAAA57B,GAAA/9B,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAu7B,EAAOjS,EAAQqwC,GAAY,IAAA7tD,EAAA,OAAA9L,IAAAA,MAAA,SAAAw7B,GAAA,cAAAA,EAAAx0C,KAAAw0C,EAAAn2C,MAAA,UAEhDs0E,EAAc,CAAFn+B,EAAAn2C,KAAA,eAAAm2C,EAAAn2C,KAAA,EAAuBmvE,KAAoB,OAAzCmF,EAAYn+B,EAAA/6B,KAAA,OAwB7B,MAvBoB,iBAAX6oB,IAAqBA,EAAS16B,EAAAA,OAAAA,MAAsB06B,IAEzDxd,EAAU6tD,EAAaxrE,QAAO,SAACmB,GACnC,IAAM3K,EAAO2K,EAAOshC,WAAWzwC,KAAI,SAAAy5E,GAAG,OAAIA,EAAIr6E,SAAS,MAAM,IAAEgB,KAAK,KAGpE,GAFqB,QAAHkB,OAAWkD,EAAI,4BAEZ2kC,EACnB,OAAO,CAEX,IAAGnpC,KAAI,SAACmP,GAQN,MAAO,CACLshC,WAHEthC,EAJFshC,WAQA9hC,UAJEQ,EAHFR,UAQAC,QALEO,EAFFP,QAQAyZ,QANElZ,EADFkZ,QASJ,IAAEgzB,EAAAx6B,OAAA,WAEM8K,EAAQ9sB,QAAU8sB,EAAQ,IAAU,wBAAA0vB,EAAAp7B,OAAA,GAAAm7B,EAAA,KAC7C,gBA7BwBtJ,EAAA4nC,GAAA,OAAA/7B,EAAAh/B,MAAA,KAAAhf,UAAA,KAoKnBi5E,GAAkB,SAACxK,EAAQ3nE,GAC/B,OAAO,IAAIkZ,QAAO,eAAAg6D,GAAA/5D,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAs+B,EAAOp+B,EAASiB,GAAM,IAAA44D,EAAAlpC,EAAAG,EAAA,OAAAhxB,IAAAA,MAAA,SAAAw+B,GAAA,cAAAA,EAAAx3C,KAAAw3C,EAAAn5C,MAAA,OACjC00E,EAAiBviC,GAAAA,IAAAA,iBAA6B5wC,EAAU,IACxDiqC,EAAOjiC,EAAAA,KAAAA,QAAqB2/D,IAE7B58B,cAAc/iC,EAAAA,OAAAA,QAAuBmrE,EAAe/qE,IAAKsF,GAAAA,UAE9Du8B,EAAKe,qBAECZ,EAAQH,EAAKgB,qBAAqBC,SAKtC5xB,EAAQ8wB,GAFR7vB,EAAO,eAGR,wBAAAq9B,EAAAp+B,OAAA,GAAAk+B,EAAA,KACF,gBAAA07B,EAAAC,GAAA,OAAAH,EAAAh7D,MAAA,KAAAhf,UAAA,EAfiB,GAgBpB,EA6FA,UAEEu5C,WAAAA,GACA6gC,UA/qCgB,SAACxqE,EAAY4lE,GAC7B,IAAMtvE,EAAOwvE,GAAO9lE,EAAY4lE,GAAqB,GAErD,IAAKtvE,EAAM,OAAO,EAElB,IAAMs2D,EAA6G,MAA7FlkD,aAAaE,QAAQ,GAAD7W,OAAIoY,GAAAA,aAAAA,uBAA6C,KAAApY,OAAIuE,EAAK+I,UAEpG/I,EAAK0iB,SAAW,sBAChB1iB,EAAK2iB,SAAW,0BAChB3iB,EAAKs2D,aAAgBgZ,aAA+Bn2E,OAASm2E,EAAoBt2E,OAAS,GAAYs9D,EACtGt2D,EAAKm0E,gBAAiB,EAEtB3vD,OAAO4vD,cAAgB,kBAAMp0E,CAAI,EACjC4vB,GAAAA,KAAAA,YAA0B,CAAEliB,KAAM,qBAAsB1N,KAAAA,GAC1D,EAkqCEq0E,mBAnwCyB,WAAH,OAAS,CAAK,EAowCpCC,mBAlwCyB,WAEzB,OADsDnkD,KAA9CzB,KAAQxK,oBAAuByqD,MAEzC,EAgwCE4F,kBA3oBwB,WAA0B,IAAzBxrE,EAAejP,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,MAQ1B06E,EAAVrkD,KANFzB,KACE3K,mBACW0wD,EAAUD,EAAnBzrE,QAKN,OAJkByrE,EAAZle,aAOC1gB,GAAgB7sC,GAAW0rE,EAAU,uBAFnC,IAAI36D,SAAQ,SAACI,GAAcA,EAAQ,GAAI,GAGlD,EA+nBE63D,iBAAAA,GACAiB,oBAAAA,GACA0B,gBA1gCsB,WACtB,IAAgB3wD,EAAyBoM,KAAjCzB,KAAQ3K,mBAChBA,EAAmBuyC,cAAe,EAClC1mC,GAAAA,KAAAA,YAA0B,CAAEliB,KAAM,qBAAsBqW,mBAAAA,GAC1D,EAugCE4wD,wBArG8B,SAACpM,EAAQ3nE,GACvC,OAAO,IAAIkZ,QAAO,eAAA86D,GAAA76D,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAA66D,EAAO36D,EAASiB,GAAM,IAAA44D,EAAAlpC,EAAAG,EAAA,OAAAhxB,IAAAA,MAAA,SAAA86D,GAAA,cAAAA,EAAA9zE,KAAA8zE,EAAAz1E,MAAA,OACjC00E,EAAiBviC,GAAAA,IAAAA,iBAA6B5wC,EAAU,IACxDiqC,EAAOjiC,EAAAA,KAAAA,QAAqB2/D,IAE7B58B,cAAc/iC,EAAAA,OAAAA,QAAuBmrE,EAAe/qE,IAAKsF,GAAAA,UAE9Du8B,EAAKe,qBAECZ,EAAQH,EAAKgB,qBAAqBC,SAKtC5xB,EAAQ8wB,GAFR7vB,EAAO,eAGR,wBAAA25D,EAAA16D,OAAA,GAAAy6D,EAAA,KACF,gBAAAE,EAAAC,GAAA,OAAAJ,EAAA97D,MAAA,KAAAhf,UAAA,EAfiB,GAgBpB,EAqFEm7E,iBAhDuB,SAACr0E,GACxB,IAGMgqC,EAGFza,KALFzB,KACE3K,mBACE6mB,WAIAmpC,EAAiBviC,GAAAA,IAAAA,iBAA6B5wC,EAAU,GAE9D,QAAImzE,GACkBnpC,EAAWziC,QAAO,SAAC1L,GAAG,OAAKA,EAAIlD,SAAS,SAAWw6E,EAAejrE,SAAS,IAC3E9P,OAAS,CAGjC,EAkCEk8E,sBA18C4B,SAACt0E,GAC7B,GAAIA,EAAU,CACZ,IAAMmzE,EAAiBviC,GAAAA,IAAAA,iBAA6B5wC,EAAU,GAC9D,GAAImzE,EACF,OAAOA,EAAejrE,SAE1B,CACF,EAs8CEyoE,gBAAAA,GACA4D,UA5qCgB,SAACzrE,EAAY4lE,GAC7B,IAAMtvE,EAAOwvE,GAAO9lE,EAAY4lE,GAAqB,GAErD,IAAKtvE,EAAM,OAAO,EAElB,IAAMs2D,EAAuG,MAAvFlkD,aAAaE,QAAQ,GAAD7W,OAAIoY,GAAAA,aAAAA,iBAAuC,KAAApY,OAAIuE,EAAK+I,UAG9F/I,EAAK0iB,SAAW,sBAChB1iB,EAAK2iB,SAAW,0BAChB3iB,EAAKs2D,aAAgBgZ,aAA+Bn2E,OAASm2E,EAAoBt2E,OAAS,GAAYs9D,EACtGt2D,EAAKo1E,gBAAiB,EAEtB5wD,OAAO6wD,cAAgB,kBAAMr1E,CAAI,EACjC4vB,GAAAA,KAAAA,YAA0B,CAAEliB,KAAM,qBAAsB1N,KAAAA,GAC1D,EA8pCE4wE,kBAAAA,GACA0E,kBAtxCwB,WAExB,OAD2DnlD,KAAnDzB,KAAQ1K,mBAAsBsyC,YAExC,EAoxCEgb,aAAAA,GACAiE,cAzuBoB,WACpB,IAAsCxsE,EAAgBonB,KAA9CzB,KAAQ1K,mBAAsBjb,QAGtC,OAAOsqC,GAAWtqC,EAAS,qBAC7B,EAquBEwpE,iBAAAA,GACAiD,iBA5EuB,SAAC50E,GACxB,IAGMgqC,EAGFza,KALFzB,KACE1K,mBACE4mB,WAIAmpC,EAAiBviC,GAAAA,IAAAA,iBAA6B5wC,EAAU,GAE9D,QAAImzE,GACkBnpC,EAAWziC,QAAO,SAAC1L,GAAG,OAAKA,EAAIlD,SAAS,SAAWw6E,EAAejrE,SAAS,IAC3E9P,OAAS,CAGjC,EA8DE+5E,gBAAAA,GACA0C,mBAhGyB,SAAC70E,GAC1B,IAAMmzE,EAAiBviC,GAAAA,IAAAA,iBAA6B5wC,EAAU,GAE1DgxC,EAAiCx/B,aAAaE,QAAQuB,GAAAA,gBAAAA,mBAE1D,IAEE+9B,EAAoBp/B,KAAKE,MAAMk/B,EACjC,CAAE,MAAO5tC,GACP2O,QAAQzO,MAAMF,EAChB,CAEA,OAAI4tC,aAA6Bz4C,OAASy4C,EAAkB54C,OAAS,GAC5D44C,EAAkBx+B,SAAS2gE,EAAejrE,UAGrD,EAiFE4sE,kBA/oBwB,WAA0B,IAAzB3sE,EAAejP,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,MAQ1B67E,EAAVxlD,KANFzB,KACE1K,mBACW4xD,EAAUD,EAAnB5sE,QAKN,OAJkB4sE,EAAZrf,aAOC1gB,GAAgB7sC,GAAW6sE,EAAU,uBAFnC,IAAI97D,SAAQ,SAACI,GAAcA,EAAQ,GAAI,GAGlD,EAqoBE60D,WAAAA,GACAM,eAAAA,GACAz5B,eAAAA,GACAigC,mBApsByB,SAArBA,IAA+C,IAAzB9sE,EAAejP,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,MACzC,OAAKiP,EA2BE6sC,GAAe7sC,EAAS,kBAzBtB,IAAI+Q,QAAO,eAAA0M,GAAAzM,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAA4C,EAAO1C,GAAO,IAAA47D,EAAAC,EAAAC,EAAAC,EAAA,OAAAj8D,IAAAA,MAAA,SAAAgD,GAAA,cAAAA,EAAAhc,KAAAgc,EAAA3d,MAAA,cAAA2d,EAAA3d,KAAA,EACPmvE,GAAmB,CACzC73C,KAAM,CACJ83C,kBAAkB,KAEpB,OAJa,KAATqH,EAAS94D,EAAAvC,MAMDzhB,OAAQ,CAAFgkB,EAAA3d,KAAA,SAEuE,OAAnF02E,EAAcD,EAAU37E,KAAI,SAACy8D,GAAU,OAAKif,EAAmBjf,EAAW7tD,QAAQ,IAACiU,EAAA3d,KAAA,EAEnEya,QAAQ05B,IAAIuiC,GAAY,OAAxCC,EAAOh5D,EAAAvC,KAETw7D,EAAW,GACfD,EAAQ/5E,SAAQ,SAAC4wC,GAEfopC,EAAW,GAAHx6E,QAAA0mB,EAAAA,EAAAA,GAAO8zD,IAAQ9zD,EAAAA,EAAAA,GAAK0qB,GAC9B,IAEA3yB,EAAQ+7D,GAASj5D,EAAA3d,KAAA,iBAEjB6a,EAAQ,IAAG,yBAAA8C,EAAA5C,OAAA,GAAAwC,EAAA,KAEd,gBAAAwrB,GAAA,OAAA5hB,EAAA1N,MAAA,KAAAhf,UAAA,EAvBiB,GA2BtB,EAwqBE49B,KAAAA,GAEAuL,cAvDoB,SAACl6B,GAErB,OADoByoC,GAAAA,IAAAA,cAA0BzoC,EAEhD,EAqDEsjC,YAnDkB,SAACC,GAEnB,OADoBkF,GAAAA,IAAAA,YAAwBlF,EAE9C,EAiDE2jC,iBAAAA,GACA/uC,QAxtBc,SAACjT,EAAM8J,GAAa,OAAKqwC,GAAAA,QAAqB,CAC5Dn6C,KAAAA,EACAkT,UAAW6sC,GACXj2C,cAAAA,GACA,EAqtBA0J,YAntBkB,SAACxT,EAAM8J,GAAa,IAAEqP,EAAUttC,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,KAAI,OAAKsuE,GAAAA,YAAyB,CACvFn6C,KAAAA,EACAkT,UAAW6sC,GACXj2C,cAAAA,EACA2J,YAAa0F,GAAc1F,IAC3B,EA+sBAwK,aAAAA,GACA48B,YAnDkB,SAAC3gC,EAAS4gC,GAC5B,IAAMj+B,EAAUliC,EAAAA,OAAAA,QAAuBmgE,EAAmB,CAACngE,EAAAA,SAAAA,QAA0BA,EAAAA,SAAAA,UAE/Ec,EAAaohC,EAAQllC,EAAEswE,SAAS,IAItC,OAFkBjN,KAAAA,KAAoB9gC,EAASz+B,EAAYohC,EAAQo+B,YAElD3vE,SAAS,SAC5B,EA4CE48E,iBA/hCuB,WACzB,EAgiCEC,WA/Rc,eAAA/9B,GAAAt+B,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAi8B,EAAOsyB,GAAM,IAAAoL,EAAA9oC,EAAAwrC,EAAA,OAAAr8D,IAAAA,MAAA,SAAAk8B,GAAA,cAAAA,EAAAl1C,KAAAk1C,EAAA72C,MAAA,cAAA62C,EAAA72C,KAAA,EAEHmvE,KAAoB,OAe9C,OAfKmF,EAAYz9B,EAAAz7B,MAEiBtgB,KAAI,SAACmP,GAAM,OAAKA,EAAOP,OAAO,IAE3D8hC,EAAOjiC,EAAAA,KAAAA,QAAqB2/D,GAE5B8N,EAAW,CACfxrC,KAAAA,EACA7H,MAAO,GACPD,OAAQ,GACRnmC,MAAM,EACN8sC,IAAI,EACJlH,IAAK,CAAC,EACN8zC,OAAO,EACP1wD,OAAQ,IAAIwQ,GAAAA,EAAU,IACvB8f,EAAA72C,KAAA,EAEK,IAAIya,SAAQ,SAACy8D,GACjB1rC,EAAK7qC,KAAKsiC,OAAOrmC,QAAO,eAAAu6E,GAAAz8D,EAAAA,EAAAA,GAAAC,IAAAA,MAAE,SAAAk7B,EAAOlS,GAAK,IAAAgJ,EAAAyqC,EAAA,OAAAz8D,IAAAA,MAAA,SAAAs7B,GAAA,cAAAA,EAAAt0C,KAAAs0C,EAAAj2C,MAAA,OAChB,OAAZ2sC,EAAiBhJ,EAAjBgJ,aAAYsJ,EAAAj2C,KAAA,EAEMq0E,GAAqB1nC,EAAc2nC,GAAc,QAArE8C,EAAWnhC,EAAA76B,QAEXg8D,EAAY1tE,UAASstE,EAASz5E,KAAO65E,EAAY1tE,SAErDstE,EAAS/sE,OAASmtE,EAClBJ,EAASC,OAAQ,GAClB,wBAAAhhC,EAAAl7B,OAAA,GAAA86B,EAAA,KACF,gBAAAwhC,GAAA,OAAAF,EAAA19D,MAAA,KAAAhf,UAAA,EAVuB,IAWxBy8E,GAAY,EACd,IAAGz8C,MAAK,WAEN+Q,EAAK7qC,KAAK22E,UAAUC,WAAWnqC,GAAGoqC,KAAK56E,QAAO,eAAA66E,GAAA/8D,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAy7B,EAAOjT,GAAG,IAAAz5B,EAAAguE,EAAA,OAAA/8D,IAAAA,MAAA,SAAA27B,GAAA,cAAAA,EAAA30C,KAAA20C,EAAAt2C,MAAA,OACjD0J,EAAUH,EAAAA,QAAAA,iBAAiC45B,EAAIc,OAAQh1B,GAAAA,SACxD+nE,EAASC,QAENS,EAAYpD,EAAaxrE,QAAO,SAACmB,GAAM,OAAKA,EAAOP,UAAYA,CAAO,KAE9D/P,SACR+9E,EAAU,GAAGhuE,UAASstE,EAASz5E,KAAOm6E,EAAU,GAAGhuE,SAEvDstE,EAAS/sE,OAASytE,EAAU,GAC5BV,EAASC,OAAQ,GAIjBD,EAASz5E,OAASmM,IACfstE,EAAS7zC,IAAIz5B,GAMhBstE,EAAS7zC,IAAIz5B,GAAS6c,OAASywD,EAAS7zC,IAAIz5B,GAAS6c,OAAOme,KAAK,IAAI3N,GAAAA,EAAUoM,EAAIljC,OAAOkiC,UAAU,KAAKnL,YALzGggD,EAAS7zC,IAAIz5B,GAAW,CACtB2gC,GAAI3gC,EACJ6c,OAAQ,IAAIwQ,GAAAA,EAAUoM,EAAIljC,OAAOkiC,UAAU,KAAKnL,YAKpDggD,EAASzwD,OAASywD,EAASzwD,OAAOme,KAAK,IAAI3N,GAAAA,EAAUoM,EAAIljC,OAAOkiC,UAAU,KAAKnL,aAGjFggD,EAAStzC,OAAO9pC,KAAK,CAEnB8P,QAAAA,EAEAiuE,aAAcx0C,EAAIljC,MAElBA,MAAO,IAAI82B,GAAAA,EAAUoM,EAAIljC,OAAOkiC,UAAU,KAAKnL,aAC/C,wBAAAsf,EAAAv7B,OAAA,GAAAq7B,EAAA,KACH,gBAAAwhC,GAAA,OAAAH,EAAAh+D,MAAA,KAAAhf,UAAA,EAlC6C,IAoC1CmQ,OAAOtL,KAAK03E,EAAS7zC,KAAKxpC,SAC5Bq9E,EAAS3sC,GAAK2sC,EAAS7zC,IAAIv4B,OAAOtL,KAAK03E,EAAS7zC,KAAK,IAAIkH,GAE7D,IAAE,OAE+B,OAAjC/2B,QAAQ4jB,IAAI,WAAY8/C,GAASngC,EAAAl7B,OAAA,SAC1Bq7D,GAAQ,yBAAAngC,EAAA97B,OAAA,GAAA67B,EAAA,KAChB,gBA7EeihC,GAAA,OAAA7+B,EAAAv/B,MAAA,KAAAhf,UAAA,KAgSdq9E,cAhLiB,eAAAC,GAAAr9D,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAq9B,EAAOkxB,EAAQj/D,GAAM,IAAA+tE,EAAAC,EAAA5tE,EAAAmhC,EAAAG,EAAA,OAAAhxB,IAAAA,MAAA,SAAA69B,GAAA,cAAAA,EAAA72C,KAAA62C,EAAAx4C,MAAA,OAgBM,OAhBNg4E,EAQrClnD,KAAUmnD,EAAAD,EANZ3oD,KACExK,oBACExa,EAAU4tE,EAAV5tE,WACU4tE,EAAV1sC,YAKAC,EAAOjiC,EAAAA,KAAAA,QAAqB2/D,IAE7B58B,cAAc/iC,EAAAA,OAAAA,QAAuBc,EAAY4E,GAAAA,UAEtDu8B,EAAKe,oBAECZ,EAAQH,EAAKgB,qBAAqBC,QAAO+L,EAAA78B,OAAA,SAExCgwB,GAAK,wBAAA6M,EAAAz9B,OAAA,GAAAi9B,EAAA,KACb,gBAnBkBkgC,EAAAC,GAAA,OAAAJ,EAAAt+D,MAAA,KAAAhf,UAAA,KAkLjB29E,mBAjiCyB,SAACz3E,GAC1B2S,QAAQ4jB,IAAI,wBAAyBv2B,GACrC,IAKc03E,EAAVvnD,KAJFzB,KAEE5K,GADmB4zD,EAAnBxzD,oBACOwzD,EAAP5zD,SAGIi9B,EAAkC/gD,EAAlC+gD,SAAU42B,EAAwB33E,EAAxB23E,SAAU7uE,EAAc9I,EAAd8I,UAExB6uE,IAAa7zD,EAAQhb,UAAUvP,SAAS,QAAUuP,GAAmC,KAArBA,EAAU9P,SAC5E2Z,QAAQ4jB,IAAI,uBACZy4C,GAAkBlmE,GAAW,GAE7ByK,GAAAA,GAAAA,SAAiBQ,SAASpC,KAAKg+D,gBAAgB5uB,EAAU,CACvD9nC,MAAO,0BACPjZ,KAAM,CAAC,IAGb,EA+gCE43E,mBA5gCyB,SAAC53E,GAC1B2S,QAAQ4jB,IAAI,wBAAyBv2B,EACvC,EA2gCE63E,gBAtpBsB,WACtB,IAAuC9uE,EAAgBonB,KAA/CzB,KAAQxK,oBAAuBnb,QAEvC,OAAOyoC,GAAAA,SAAAA,YAA6B,CAClC9uB,SAAU,MACV3Z,QAAAA,GAEJ,EAipBEylE,mBAAAA,GACAQ,kBAAAA,GACA8I,qBA70C2B,SAAC3I,GAC5B,IAAMd,EAAYD,KAEd9tE,EAAQ6uE,EAIZ,GAFKppD,OAAOqpD,UAAU9uE,KAAQA,EAAQ+tE,EAAUl7D,QAAQg8D,IAEpD7uE,GAAS,IAEI+tE,EAAUn7D,OAAO5S,EAAO,GAEvC8R,aAAaC,QAAQwB,GAAAA,gBAAAA,yBAAoDrB,KAAKC,UAAU47D,IAE1E,IAAV/tE,GAEF,OADA4uE,GAAqB,IACd,CAGb,EA4zCEA,qBAAAA,GAEAN,sBAAAA,GAEAmJ,mBAlzCyB,SAAChvE,GAC1B,IAEyBolE,EAErBh+C,KAHFzB,KACExK,oBAIJ,OAAIiqD,EAAOplE,UAAYA,MAEnBolE,EAAOroD,SACNqoD,EAAOroD,QAAQ9sB,QAEFm1E,EAAOroD,QAAQ3d,QAAO,SAACmB,GAAM,OAAKA,EAAOP,UAAYA,CAAO,IAChE/P,OAIhB,EAkyCEs1E,mBAAAA,GAGAO,eAAAA,GACAX,gBAAAA,GAGA8J,WA7sCiB,SAACtuE,EAAY4lE,GAC9B,IAAMtvE,EAAOwvE,GAAO9lE,EAAY4lE,GAAqB,GAErD,IAAKtvE,EAAM,OAAO,EAElB,IAAMs2D,EAAiH,MAAjGlkD,aAAaE,QAAQ,GAAD7W,OAAIoY,GAAAA,aAAAA,2BAAiD,KAAApY,OAAIuE,EAAK+I,UAExG/I,EAAK0iB,SAAW,mBAChB1iB,EAAK2iB,SAAW,uBAChB3iB,EAAKs2D,aAAeA,EACpBt2D,EAAKi4E,iBAAkB,EAEvBroD,GAAAA,KAAAA,YAA0B,CAAEliB,KAAM,sBAAuB1N,KAAAA,GAC3D,EAisCEk4E,eA9vBqB,WACvB,EA8vBEC,mBA3qByB,WAAQ,EA4qBjCC,iBAhkCuB,WACvB,IAAgBn0D,EAA0BkM,KAAlCzB,KAAQzK,oBAChBA,EAAoBqyC,cAAe,EACnC1mC,GAAAA,KAAAA,YAA0B,CAAEliB,KAAM,sBAAuBuW,oBAAAA,GAC3D,G,iGCjfMo0D,IAAajzE,EAAAA,GAAAA,IA2BjB,SAAAizE,EAAY1kE,GAAS,IAAAjO,EAAA,MAAAP,EAAAA,GAAAA,GAAA,KAAAkzE,IAAAnmE,EAAAA,EAAAA,GAAA,yBAAAA,EAAAA,EAAAA,GAAA,uBAxBGA,EAAAA,EAAAA,GAAA,0BAEGA,EAAAA,EAAAA,GAAA,sBAPL,QAS2BA,EAAAA,EAAAA,GAAA,gCAAAA,EAAAA,EAAAA,GAAA,6BAAAA,EAAAA,EAAAA,GAAA,+BAAAA,EAAAA,EAAAA,GAAA,wBAAAA,EAAAA,EAAAA,GAAA,4BAAAA,EAAAA,EAAAA,GAAA,qBAAAA,EAAAA,EAAAA,GAAA,aAkBjC,IAAInU,IAAI,CAAC,CAAC,oBAAqB,CAAC,OAAImU,EAAAA,EAAAA,GAAA,uBAyBnC,kBAAMnB,GAASC,WAAatL,EAAK02C,IAAI,KAAAlqC,EAAAA,EAAAA,GAAA,gBAE5C,kBAAMxM,EAAKy4C,gBAAgB,KAAAjsC,EAAAA,EAAAA,GAAA,oBAEvB,SAAChO,GAAwB,IAAjBo0E,EAAOx+E,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,GAC9B4hD,GAAAA,QAAAA,OACE,GAAGjgD,OAAO,sBAADA,OACeiK,EAAK+H,QAC3B6qE,EAAU,KAAH78E,OAAQ68E,GAAY,GAAE,cAAA78E,OACfyI,EAAK,OAGvByO,QAAQrQ,MAAM,eAAD7G,OAAgBiK,EAAK+H,QAAU,eAC5CkF,QAAQzO,MAAM,UAAWA,GACzByO,QAAQy2B,UACV,KAACl3B,EAAAA,EAAAA,GAAA,+BAEwB,SAACnJ,GACxB,IACM4lC,EADWxe,KAATzB,KACkB,GAADjzB,OAAIiK,EAAK6yE,UAAS,SAE3C,GAAI5pC,EAAa5lC,UAAYA,EAAS,OAAO4lC,EAAajlC,UAC5D,KAACwI,EAAAA,EAAAA,GAAA,oBAEa,WACZ,IAAQnJ,EAAYonB,KAAWzB,KAAK,GAADjzB,OAAIiK,EAAK6yE,UAAS,SAA7CxvE,QAER,OAAOyoC,GAAAA,SAAAA,YAA6B,CAClC9uB,SAAUhd,EAAK+H,OACf1E,QAAAA,GAEJ,KAACmJ,EAAAA,EAAAA,GAAA,cAEO,SAACo6B,GAAK,OAAKA,EAAMksC,eAAe,KAAAtmE,EAAAA,EAAAA,GAAA,oBAE1B,SAACuyB,GAAI,UAAAhpC,OAASiK,EAAK6yE,UAAS,QAAA98E,OAAOgpC,EAAI,KAAEvyB,EAAAA,EAAAA,GAAA,sBAEvC,SAACu6B,GACf,GAAKA,EACL,MAAO,GAAPhxC,OAAUiK,EAAK+yE,aAAY,QAAAh9E,OAAOgxC,EACpC,KAACv6B,EAAAA,EAAAA,GAAA,qBAEc,SAACnJ,GACd,IAAMqzC,EAAO12C,EAAKy4C,iBAClB,OAAO/B,EAAK7tC,IACT8kC,WAAWtqC,GACX+wB,MAAK,SAAC/+B,GAAM,OAAKgrB,OAAOq2B,EAAKvlC,MAAMg9C,QAAQ94D,GAAQ,IAAC,OAC9C,SAACmJ,GAAK,OAAKyO,QAAQzO,MAAMA,EAAM,GAC1C,KAACgO,EAAAA,EAAAA,GAAA,oBAEa,SAAC+b,GACb,IAAMmuB,EAAO12C,EAAKy4C,iBAClB,OAAO,IAAIrkC,SAAQ,SAACja,EAAKk1D,GACvB3Y,EAAK7tC,IAAIqnC,eAAe3nB,GACrB6L,MAAK,SAAC2S,GACL,IAAKA,EAAI,OAAO5sC,EAAI,MAEpB,IAAQjD,EAA8C6vC,EAA9C7vC,KAAM8sC,EAAwC+C,EAAxC/C,GAAIpqC,EAAoCmtC,EAApCntC,MAAOo5E,EAA6BjsC,EAA7BisC,IAAK/8B,EAAwBlP,EAAxBkP,SAAUg9B,EAAclsC,EAAdksC,UAElC/yD,EAASw2B,EAAKvlC,MAAMg9C,QAAQv0D,GAC5BujC,EAAW,IAAIzM,GAAAA,EAAUgmB,EAAKvlC,MAAM+hE,KAAKF,GAAKriD,YACjDyN,aAAasY,EAAKvlC,MAAM+hE,KAAKj9B,GAAUtlB,YACvCmL,UAAU,MACVnL,WAEC4L,GAA2B,EAE/B,GAAIv8B,EAAKmzE,aAAenvC,IAAOhkC,EAAKmzE,YAAY9vE,QAAS,CACvD,IAAM+vE,EAAqB,IAAI1iD,GAAAA,EAAU1wB,EAAKmzE,YAAYxnD,KACvDmQ,UAAU,KACVsC,aAAale,GAGdqc,EADE,IAAI7L,GAAAA,EAAU1wB,EAAKmzE,YAAY5iD,KAAKkO,cAAc20C,GACzC,IAAI1iD,GAAAA,EAAU1wB,EAAKmzE,YAAY5iD,KAAKI,WAEpCyiD,EAAmBziD,UAElC,CAEAx2B,EAAI,CACF+lB,OAAAA,EACAmc,aAAc,KACdD,gBAAiB4H,EACjBvH,cAAevlC,EACfimC,SAAAA,EACAC,iBAAkBp9B,EAAK+H,OACvBw0B,SAAAA,EACAU,UAAyB,OAAdg2C,GAEf,IAAE,OACK,SAACz0E,GAAK,OAAK6wD,EAAI7wD,EAAM,GAChC,GACF,KAACgO,EAAAA,EAAAA,GAAA,cAEO,SAACxI,GAA8B,IAGjC1J,EAHeY,EAAQ9G,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,GAExBsiD,EAAO12C,EAAKy4C,iBAwBlB,OArBIz0C,EACF1J,EAAOo8C,EAAK7tC,IAAIoI,SAAS4J,oBAAoB7W,IAExC9I,IACHA,EAAW6f,GAAAA,0BAKb/W,EAFgBhE,EAAK+hE,iBAAiB7mE,GAEjB8I,WACrB1J,EAAOo8C,EAAK7tC,IAAIoI,SAAS4J,oBAAoB7W,GAC7C0I,aAAaC,QAAQwB,GAAAA,gBAA0B,GAADpY,OAAIiK,EAAKqzE,eAAc,aAAarvE,IAIpF0I,aAAaC,QAAQwB,GAAAA,gBAA0BnO,EAAKqzE,gBAAiB/4E,EAAK0J,YAE1E0yC,EAAK7tC,IAAIoI,SAASrN,OAAOvH,IAAI/B,EAAK0J,YAElCkmB,GAAAA,KAAAA,YAA0B,CAAEliB,KAAM,GAAFjS,OAAKiK,EAAK6yE,UAAS,QAAQv4E,KAAAA,IAEpDA,EAAK0J,UACd,KAACwI,EAAAA,EAAAA,GAAA,mBAEY,WACX,IAAMnJ,EAAUgI,GAAS0F,aAAe1F,GAAS2F,cAC7C3F,GAASnH,aACTumB,KAAWzB,KAAK,GAADjzB,OAAIiK,EAAK6yE,UAAS,SAAQxvE,QAEvC4qD,EAAiBC,GAAgB,mBAAoB,GAAFn4D,OAAKiK,EAAK6yE,UAAS,KAAA98E,OAAIsN,IAEhF,OAAuB,IAAnB4qD,GACF/jC,GAAAA,KAAAA,WAAyB,CACvBliB,KAAM,GAAFjS,OAAKiK,EAAK6yE,UAAS,QACvB3yD,OAAQ+tC,IAEHA,GAGFjuD,EAAKwmC,aAAanjC,GACtB+wB,MAAK,SAACtX,GAML,OALAsxC,GAAgB,mBAAoB,GAAFr4D,OAAKiK,EAAK6yE,UAAS,KAAA98E,OAAIsN,GAAWyZ,EAAS,IAC7EoN,GAAAA,KAAAA,WAAyB,CACvBliB,KAAM,GAAFjS,OAAKiK,EAAK6yE,UAAS,QACvB3yD,OAAQpD,IAEHA,CACT,IAAE,OACK,SAACte,GAGN,OAFAyO,QAAQzO,MAAMA,GACd0rB,GAAAA,KAAAA,gBAA8B,CAAEliB,KAAM,GAAFjS,OAAKiK,EAAK6yE,UAAS,UAChD,CACT,GACJ,KAACrmE,EAAAA,EAAAA,GAAA,0BAEmB,WAAM,IAAAonC,EAElB0/B,EAA2B,GAC3BrR,GAA2C,QAA7BruB,EAFHnpB,KAATzB,KAEiB,GAADjzB,OAAIiK,EAAK6yE,UAAS,gBAAO,IAAAj/B,OAAA,EAA7BA,EAA+BvwC,UAAW,GACxDkwE,EACJloE,IAAYA,GAAS0F,aAAe1F,GAAS2F,eAAiB3F,GAASnH,cACpE,GAUL,OARI+9D,GACFqR,EAAe//E,KAAK0uE,EAAY7mE,eAG9Bm4E,IAAoBD,EAAe5lE,SAAS6lE,EAAgBn4E,gBAC9Dk4E,EAAe//E,KAAKggF,EAAgBn4E,eAG/Bk4E,CACT,KAAC9mE,EAAAA,EAAAA,GAAA,uBAEgB,WAAgC,IAA/BnJ,EAAOjP,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,MAAOmzC,EAAOnzC,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,MAC/BgiB,EAAeqU,KAAWzB,KAAK,GAADjzB,OAAIiK,EAAK6yE,UAAS,SAAQxvE,QAS9D,OARAA,EAAUA,GAAW+S,EAQd,IAAIhC,SAAQ,SAACI,GAUlB,GANGxU,EAAKojB,gBACFjL,GAAAA,EAAAA,cAAwBnY,EAAK+H,QAAQ1E,IAEzCmR,EAAQ,IAGmB,KAAzBxU,EAAKwzE,gBAAT,CAKA,IAAMC,EAAc,iDAAH19E,OAAoDsN,EAAO,oDAAAtN,OAAmDiK,EAAKojB,gBAC9HgS,EAAM,yCAAHr/B,OAA4CsN,EAAO,oDAAAtN,OAAmDiK,EAAKojB,gBAEpH+Q,GAAAA,IACOn0B,EAAKwzE,gBAAiBC,GAC1Br/C,MAAK,SAACxC,GACL,GAAIn+B,MAAMsxB,QAAQ6M,aAAQ,EAARA,EAAUv8B,QAAS,CACnC,IAAMq+E,EAA4B,GAElC9hD,EAASv8B,OAAOkB,SAAQ,SAACgC,GACvB,IAAQqB,EAAoBrB,EAApBqB,MAAOoqC,EAAazrC,EAAbyrC,GAAIzb,EAAShwB,EAATgwB,KAEnBmrD,EAAUnrD,GAAQ,CAChB3uB,MAAAA,EACAoqC,GAAAA,EAEJ,IAEA7P,GAAAA,IACOn0B,EAAKwzE,gBAAiBp+C,GAC1BhB,MAAK,SAACxC,GACL,GAAIn+B,MAAMsxB,QAAQ6M,EAASv8B,QAAS,CAClC,IAAM+mB,EAAepc,EAAK2zE,mBAAmB,CAC3CtwE,QAAAA,EACA8jC,IAAKvV,EAASv8B,OACdu+E,YAAaF,EACb5+B,aAAcvN,GAAWvnC,EAAK6yE,YAGhCr+D,EAAQ4H,EACV,MACE5H,EAAQ,GAEZ,IAAE,OACK,SAAChW,GACNwB,EAAK64C,YAAYr6C,EAAO,wBACxBgW,EAAQ,GACV,GACJ,MACEA,EAAQ,GAEZ,IAAE,OACK,SAAChW,GACNgW,EAAQ,GACV,GA9CF,MAFEA,EAAQ,GAiDZ,GACF,KAAChI,EAAAA,EAAAA,GAAA,2BAEoB,SAAC/I,GACpB,IAAQJ,EAA4CI,EAA5CJ,QAAS8jC,EAAmC1jC,EAAnC0jC,IAAKysC,EAA8BnwE,EAA9BmwE,YAAa9+B,EAAiBrxC,EAAjBqxC,aAE7B4B,EAAO12C,EAAKy4C,iBACZriC,EAAeqU,KAAWzB,KAAK,GAADjzB,OAAIiK,EAAK6yE,UAAS,SAAQxvE,QAE9D,OAAO8jC,EACJ1kC,QACC,SAAClK,GAAI,OAAKA,EAAKqB,MAAQ,GAAMg6E,EAAYr7E,EAAKgwB,OAASqrD,EAAYr7E,EAAKgwB,MAAM3uB,MAAQ,CAAE,IACxFnF,KAAI,SAAC8D,GAAI,MAAM,CACf0P,KAAM6sC,EACN5X,cAAe3kC,EAAK2kC,cACpB3U,KAAMhwB,EAAKgwB,KACXsrD,OAAQt7E,EAAK06E,UAAY,EAAI,EAC7Br5E,MAAO88C,EAAKvlC,MAAMg9C,QAChBylB,EAAYr7E,EAAKgwB,OAASqrD,EAAYr7E,EAAKgwB,MAAM3uB,MAAQ,EACrDg6E,EAAYr7E,EAAKgwB,MAAM3uB,MACvBrB,EAAKqB,OAEXyJ,QAAS9K,EAAKyrC,GACd8D,QAASzkC,IAAY+S,EACrB2xB,KAAuB,IAAjBxvC,EAAKu7E,UACXpsC,UACGksC,EAAYr7E,EAAKgwB,OACbllB,EAAQjI,gBAAkBw4E,EAAYr7E,EAAKgwB,MAAMyb,GAAG5oC,eACtDiI,EAAQjI,gBAAkB7C,EAAKyrC,GAAG5oC,cACjC,KACA,MACP,IACAqH,QAAO,SAAClK,GAAS,IAAAw7E,EAAAC,EAChB,MACqB,QAAnBz7E,EAAKmvC,WACFnvC,EAAK8K,QAAQjI,iBAAkC,QAArB24E,EAAK/zE,EAAKmzE,mBAAW,IAAAY,GAAS,QAATC,EAAhBD,EAAkB1wE,eAAO,IAAA2wE,OAAT,EAAhBA,EAA2B54E,cAMjE,GACJ,KAACoR,EAAAA,EAAAA,GAAA,yBAEkB,SAACtR,GAAgB,IAAE2H,EAAYzO,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,EAAGkM,EAAIlM,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,GAAE,OAC/D2mB,GAAAA,iBAA+B,CAAE7f,SAAAA,EAAU2H,aAAAA,EAAcvC,KAAAA,GAAO,KACjEkM,EAAAA,EAAAA,GAAA,sCAAA5M,GAAAyU,EAAAA,EAAAA,GAAAC,IAAAA,MAEiB,SAAAO,EAAOpR,GAAM,IAAA2S,EAAAD,EAAAugC,EAAAu9B,EAAAjqE,EAAA8S,EAAA,OAAAxI,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OAG8F,OAFnHyc,EAAqC3S,EAArC2S,aAAcD,EAAuB1S,EAAvB0S,mBAChBugC,EAAO12C,EAAKy4C,iBACZw7B,EAAe,IAAIv9B,EAAK7tC,IAAI2tC,SAAShe,GAAkBV,iBAAkB4Q,GAAAA,aAA4B1oC,EAAK6yE,YAAW/9D,EAAAnb,KAAA,EAExGs6E,EAAat7B,QAAQxsC,MAAMiK,EAAcD,GAAoBzhB,OAAM,OACjB,OAD/DsV,EAAI8K,EAAAC,KACJ+H,EAAU9S,GAAQA,EAAK8S,QAAU7qB,SAAS+X,EAAK8S,QAAS,IAAM,EAAChI,EAAAQ,OAAA,SAE9DwH,EAAU,GAAC,wBAAAhI,EAAAJ,OAAA,GAAAG,EAAA,KACnB,gBAAAG,GAAA,OAAApV,EAAAwT,MAAA,KAAAhf,UAAA,EAXA,KAWAoY,EAAAA,EAAAA,GAAA,kCAAAzL,GAAAsT,EAAAA,EAAAA,GAAAC,IAAAA,MAEa,SAAAC,EAAO4rD,GAAM,IAAAp1D,EAAAmpE,EAAAt9C,EAAAu9C,EAAA,OAAA7/D,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OAEW,OAD9BoR,EAAO/K,EAAKy4C,iBACZy7B,EAA0B,KAAIt/D,EAAAtZ,KAAA,EAAAsZ,EAAAjb,KAAA,EAGdoR,EAAKlC,IAAIg5D,YAAY1B,GAAO,OAGlC,OAHRvpC,EAAKhiB,EAAAG,KACLo/D,EAAgC,IAAIzjD,GAAAA,EACxC,IAAIA,GAAAA,EAAUkG,GAAOwH,aAAa81C,GAAyBpS,QAAQ,IACnEjuE,SAAS,IAAG+gB,EAAAU,OAAA,cAAAvf,OAEFo+E,IAA6B,QAEH,OAFGv/D,EAAAtZ,KAAA,GAAAsZ,EAAAkC,GAAAlC,EAAA,SAEzC5U,EAAK64C,YAAWjkC,EAAAkC,GAAQ,eAAclC,EAAAU,OAAA,SAAAV,EAAAkC,IAAA,yBAAAlC,EAAAF,OAAA,GAAAH,EAAA,mBAIzC,gBAAAsB,GAAA,OAAA9U,EAAAqS,MAAA,KAAAhf,UAAA,EAlBA,KAkBAoY,EAAAA,EAAAA,GAAA,wBAEiB,SAACoqB,GAAK,MACL,iBAAVA,GACc,iBAAVA,GAAsBA,EAAMh2B,MAAM,iBAAkB,KAChE4L,EAAAA,EAAAA,GAAA,2BAAA0I,GAAAb,EAAAA,EAAAA,GAAAC,IAAAA,MAEM,SAAAkB,EAAO/R,GAAM,IAAA2wE,EAAApwC,EAAAqwC,EAAAn0D,EAAAo0D,EAAAhyC,EAAAhoC,EAAAylE,EAAApG,EAAA1jB,EAAAS,EAAAtgC,EAAAm+D,EAAAC,EAAAt+B,EAAAu+B,EAAAtU,EAAA9qE,EAAA2O,EAAAktD,EAAAwjB,EAAA,OAAApgE,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,OAKoG,OAJ9GqqC,EAA+EvgC,EAA/EugC,GAAEqwC,EAA6E5wE,EAA3Eyc,OAAAA,OAAM,IAAAm0D,EAAG,EAACA,EAAYC,EAAqD7wE,EAA/Di2D,SAA0Bp3B,EAAqC7+B,EAArC6+B,MAAOhoC,EAA8BmJ,EAA9BnJ,KAAIylE,EAA0Bt8D,EAAxBk2D,YAAAA,OAAW,IAAAoG,GAAQA,EAC5E9pB,EAAaxyC,EAAbwyC,SAEAS,EAAO12C,EAAKy4C,iBACZriC,EAAe/K,GAAS2F,cAAgB3F,GAASnH,aAAeumB,KAAWzB,KAAK,GAADjzB,OAAIiK,EAAK6yE,UAAS,SAAQxvE,QAAOqS,EAAA/b,KAAA,EACpFqG,EAAK20E,WAAW3wC,GAAG,OAElC,GAFbuwC,EAAmB7+D,EAAAX,KAAAW,EAAAoB,GAEdm/B,EAAQvgC,EAAAoB,GAAA,CAAApB,EAAA/b,KAAA,gBAAA+b,EAAA/b,KAAA,GAAWk8C,GAAc71C,EAAK6yE,WAAW18B,iBAAiB,CAAE7T,MAAAA,IAAQ,QAAA5sB,EAAAoB,GAAApB,EAAAX,KAAA,QActF,GAdDkhC,EAAQvgC,EAAAoB,GAEF09D,EAAqB9rC,UAA2B,QAAb0rC,EAAd1rC,GAAAA,mBAA2B,IAAA0rC,GAA3BA,EAA6B1mE,SAAS1N,EAAK6yE,WAAa7yE,EAAK6yE,UAAY,UAC9F38B,EAAkBq+B,EACpBn8C,GAA4Bo8C,GAAoB59C,MAAMC,iBACtDuB,GAA4Bo8C,GAAoB59C,MAAM5E,KAEtDyiD,EAAa/9B,EAAK7tC,IAAI85D,gBACtBxC,EAAc,CAChB7lE,KAAMA,QAAQjG,EACd6C,KAAMw/C,EAAKvlC,MAAMyjE,kBAAkBx+D,GACnC4tB,GAAIA,EAAGxhC,OACPyzC,SAAAA,EACAr8C,MAAO88C,EAAKvlC,MAAMi1B,MAAMsQ,EAAKvlC,MAAM0jE,MAAM7hF,OAAOktB,GAAS,YAGvDo0D,EAAgB,CAAF5+D,EAAA/b,KAAA,SAChBwmE,EAAO6S,IAAMsB,EAAc5+D,EAAA/b,KAAA,wBAAA+b,EAAA/b,KAAA,GAEDqG,EAAK6hE,YAAY1B,GAAO,QAAjC,MAAX9qE,EAAWqgB,EAAAX,gBAIKnjB,OAAK,CAAA8jB,EAAA/b,KAAA,gBAAA+b,EAAAJ,OAAA,SAASjgB,GAAM,QAEtC2K,EAAK80E,gBAAgBz/E,GACvB8qE,EAAO6S,IAAM39E,EAEb8qE,EAAO6S,IAAM98B,EACd,QAOD,GAJIlyC,EAAahE,EAAKi2D,uBAAuB7/C,GAM1C86C,OALCA,EAAaplB,GAAAA,KAAAA,UAAuB,CACxCzoC,QAAS+S,EACT4G,SAAUhd,EAAK+H,WAGZmpD,EAAY9nB,WAAY,CAAF1zB,EAAA/b,KAAA,gBAAA+b,EAAA/b,KAAA,GACA+8C,EAAK7tC,IAAIoI,SAAS8jE,gBAAgB5U,EAAQn8D,GAAW,QAAxE0wE,EAAUh/D,EAAAX,KAEhBorD,EAASuU,EAAWM,eACpBP,EAAa/9B,EAAK7tC,IAAIosE,sBAAqB,eAAAv/D,EAAAJ,OAAA,SAGtC,IAAIlB,SAAQ,SAACja,EAAKk1D,GACvBolB,EAAWtU,GACR/kB,GAAG,mBAAmB,SAAC7yB,GACtB2B,GAAAA,aAAAA,sBAA4C,CAC1C5B,YAAatoB,EAAK+H,OAClBwgB,KAAAA,IAGGoxC,GACHx/D,EAAI,CAAE24E,gBAAiBvqD,GAE3B,IACC6yB,GAAG,WAAW,SAACke,GACVK,GAAax/D,EAAIm/D,GAEjBt5D,EAAKmzE,cAAgBjiB,EAAW9nB,YAClCppC,EAAKk1E,qBAAqB,CACxBh+E,KAAMw/C,EAAKvlC,MAAMyjE,kBAAkBx+D,GACnC8J,OAAAA,EACA+1B,SAAAA,EACAC,gBAAAA,GAGN,IACCkF,GAAG,SAAS,SAAC58C,GAAK,OAAK6wD,EAAI7wD,EAAM,GACtC,KAAE,yBAAAkX,EAAAhB,OAAA,GAAAc,EAAA,KACH,gBAAAG,GAAA,OAAAT,EAAA9B,MAAA,KAAAhf,UAAA,EAjFA,KAiFAoY,EAAAA,EAAAA,GAAA,2CAAA+I,GAAAlB,EAAAA,EAAAA,GAAAC,IAAAA,MAEsB,SAAAa,EAAO1R,GAAM,IAAAvM,EAAAgpB,EAAA+1B,EAAAC,EAAAi/B,EAAAC,EAAAC,EAAA3+B,EAAA08B,EAAAkC,EAAAnV,EAAAvpC,EAAA,OAAAtiB,IAAAA,MAAA,SAAAe,GAAA,cAAAA,EAAA/Z,KAAA+Z,EAAA1b,MAAA,OAmBjC,OAjBCzC,EAKEuM,EALFvM,KACAgpB,EAIEzc,EAJFyc,OACA+1B,EAGExyC,EAHFwyC,SACAC,EAEEzyC,EAFFyyC,gBACAi/B,EACE1xE,EADF0xE,oBAEIC,EAAWD,GAAuBn1E,EAAKmzE,YACvCkC,EAAY,IAAI3kD,GAAAA,EAAU0kD,EAAS7kD,KACnCmmB,EAAO12C,EAAKy4C,iBAEd26B,EAAqB,IAAI1iD,GAAAA,EAAU0kD,EAASzpD,KAC7CmQ,UAAU,KACVsC,aAAale,GACbyQ,WAEC0kD,EAAU52C,cAAc20C,KAC1BA,EAAqBiC,EAAU1kD,YAChCtb,EAAA1b,KAAA,EAE8BqG,EAAKwmC,aAAatvC,GAAK,OAAhC,GAAhBo+E,EAAgBjgE,EAAAN,MAElB,IAAI2b,GAAAA,EAAU4kD,GAAkB9b,WAAW4Z,GAAqB,CAAF/9D,EAAA1b,KAAA,gBAAA0b,EAAAC,OAAA,kBAajE,OATK6qD,EAAS,CACbjpE,KAAMw/C,EAAKvlC,MAAMyjE,kBAAkB19E,GACnC8sC,GAAIoxC,EAAS/xE,QAAQb,OACrByzC,SAAAA,EACA+8B,IAAK,OACLp5E,MAAO88C,EAAKvlC,MAAMi1B,MAChBsQ,EAAKvlC,MAAM0jE,MAAM7hF,OAAOogF,GACtB,WAEL/9D,EAAA1b,KAAA,GAEmBqG,EAAK6hE,YAAY1B,GAAO,QAM3C,OANKvpC,EAAKvhB,EAAAN,KAEP/U,EAAK80E,gBAAgBl+C,GACvBupC,EAAO6S,IAAMp8C,EAEbupC,EAAO6S,IAAM98B,EACd7gC,EAAAC,OAAA,SAEMtV,EAAKu1E,qBAAqB,CAAEj7E,KAAM6lE,EAAQqV,SAAS,KAAO,yBAAAngE,EAAAX,OAAA,GAAAS,EAAA,KAClE,gBAAAS,GAAA,OAAAL,EAAAnC,MAAA,KAAAhf,UAAA,EAjDA,KAiDAoY,EAAAA,EAAAA,GAAA,2CAAAyJ,GAAA5B,EAAAA,EAAAA,GAAAC,IAAAA,MAEsB,SAAA0B,EAAOvS,GAAM,IAAAg+D,EAAA9H,EAAA8b,EAAAD,EAAAl7E,EAAAo8C,EAAAtgC,EAAAq+D,EAAAvjB,EAAAltD,EAAA0wE,EAAA,OAAApgE,IAAAA,MAAA,SAAAmC,GAAA,cAAAA,EAAAnb,KAAAmb,EAAA9c,MAAA,OAchC,GAdgC8nE,EACeh+D,EAAzCk2D,YAAAA,OAAW,IAAA8H,GAAQA,EAAAgU,EAAsBhyE,EAApB+xE,QAAAA,OAAO,IAAAC,GAAQA,EACtCn7E,EAASmJ,EAATnJ,KAEAo8C,EAAO12C,EAAKy4C,iBACZriC,EAAe/K,GAAS2F,cAC1B3F,GAASnH,aACTumB,KAAWzB,KAAK,GAADjzB,OAAIiK,EAAK6yE,UAAS,SAAQxvE,QAEzCoxE,EAAa/9B,EAAK7tC,IAAI85D,gBAOrBzR,OALCA,EAAaplB,GAAAA,KAAAA,UAAuB,CACxCzoC,QAAS+S,EACT4G,SAAUhd,EAAK+H,WAGZmpD,EAAY9nB,WAAY,CAAF3yB,EAAA9c,KAAA,SACmC,OAAtDqK,EAAahE,EAAKi2D,uBAAuB7/C,GAAaK,EAAA9c,KAAA,GACnC+8C,EAAK7tC,IAAIoI,SAAS8jE,gBAAgBz6E,EAAM0J,GAAW,QAAtE0wE,EAAUj+D,EAAA1B,KAEhBza,EAAOo6E,EAAWM,eAClBP,EAAa/9B,EAAK7tC,IAAIosE,sBAAqB,eAAAx+D,EAAAnB,OAAA,SAGtC,IAAIlB,SAAQ,SAACja,EAAKk1D,GACvBolB,EAAWn6E,GACR8gD,GAAG,WAAW,SAACke,GACVK,GAAax/D,EAAIm/D,EACvB,IACCle,GAAG,mBAAmB,SAAC7yB,GACtBtb,QAAQrQ,MAAM,aAAc,iBAC5BqQ,QAAQ4jB,IAAItI,GACZtb,QAAQy2B,WACH8xC,GAAY7b,GACfzvC,GAAAA,aAAAA,sBAA4C,CAC1C5B,YAAatoB,EAAK+H,OAClBwgB,KAAAA,IAICoxC,GAAax/D,EAAIouB,EACxB,IACC6yB,GAAG,SAAS,SAAC58C,GACOsO,KAAKC,UAAUvO,GAAOoC,MAAM,6CAG7CZ,EAAK64C,YAAYr6C,EAAO,8BAG1B6wD,EAAI7wD,EACN,GACJ,KAAE,yBAAAiY,EAAA/B,OAAA,GAAAsB,EAAA,KACH,gBAAAe,GAAA,OAAAd,EAAA7C,MAAA,KAAAhf,UAAA,EAtDA,KAsDAoY,EAAAA,EAAAA,GAAA,iCAAAuJ,GAAA1B,EAAAA,EAAAA,GAAAC,IAAAA,MAEY,SAAAiD,EAAOlU,GAAe,IAAAqyE,EAAAC,EAAAj/B,EAAAk/B,EAAAC,EAAA,OAAAvhE,IAAAA,MAAA,SAAAoD,GAAA,cAAAA,EAAApc,KAAAoc,EAAA/d,MAAA,OAE8B,GADzD+7E,EAAeryE,EAAQjI,gBACvBu6E,EAAgB31E,EAAK81E,MAAMj5E,IAAI,sBAAwB,CAAC,KAEzC84E,EAAcD,GAAa,CAAAh+D,EAAA/d,KAAA,eAAA+d,EAAApC,OAAA,SACvCqgE,EAAcD,IAAa,OAGF,OAA5Bh/B,EAAO12C,EAAKy4C,iBAAgB/gC,EAAApc,KAAA,EAAAoc,EAAA/d,KAAA,EAGJ+8C,EAAK7tC,IAAIktE,QAAQ1yE,GAAQ,OAIX,OAJpCuyE,EAAal+D,EAAA3C,KAEb8gE,GAAeD,GAAmC,OAAlBA,GAA4C,QAAlBA,EAEhED,EAAcD,IAAiBG,EAAWn+D,EAAApC,OAAA,UAElCugE,GAAW,eAAAn+D,EAAApc,KAAA,GAAAoc,EAAAZ,GAAAY,EAAA,SAAAA,EAAApC,OAAA,UAEZ,GAAK,yBAAAoC,EAAAhD,OAAA,GAAA6C,EAAA,mBAEf,gBAAAK,GAAA,OAAA7B,EAAA3C,MAAA,KAAAhf,UAAA,EAvBA,IAjhBC,IACE2kD,EAQE9qC,EARF8qC,SACAhxC,EAOEkG,EAPFlG,OACA8f,EAME5Z,EANF4Z,QACA2rD,EAKEvlE,EALFulE,gBACAT,EAIE9kE,EAJF8kE,aACA3vD,EAGEnV,EAHFmV,eACA+vD,EAEEllE,EAFFklE,YACApoE,EACEkD,EADFlD,KAGF1X,KAAK0lD,SAAWA,EAChB1lD,KAAK0U,OAASA,EACd1U,KAAKw0B,QAAUA,EACfx0B,KAAKw/E,UAAY9qE,EAAO3M,cACxB/H,KAAKmgF,gBAAkBA,EACvBngF,KAAK0/E,aAAeA,EACpB1/E,KAAK+vB,eAAiBA,EACtB/vB,KAAK8/E,YAAcA,EACnB9/E,KAAKqjD,KAAO3rC,CACd,IAuhBI+tC,GAAYpQ,GAAAA,KAEZstC,GAAmBl3D,QAAUA,OAAOm3D,kBAAqBn3D,OAAOm3D,kBAAoBvtC,GAAAA,IAAAA,aAC1FoQ,GAAUh2B,SAAWg2B,GAAUh2B,SAAS9uB,QAAQ,mBAAoBgiF,IAEpE,UACErvE,IAAK,IAAIgsE,GAAc,CACrB55B,SAAU,WACVhxC,OAAQ,MACR8f,QAAS6gB,GAAAA,YAAAA,IAAAA,QACT8qC,gBAAiB,YACjBpwD,eAAgBslB,GAAAA,IAAAA,iBAChBqqC,aAAcrqC,GAAAA,KAAAA,UACdyqC,YAAgC,QAArB1pC,GAAEf,GAAAA,YAAmB,IAAAe,IAAK,QAALysC,GAAnBzsC,GAAqB9d,WAAG,IAAAuqD,QAAL,EAAnBA,GAA0BrtE,IACvCkC,KAAM,IAAI2rC,KAAJ,CAASoC,GAAUh2B,YAG3Blc,IAAK,IAAI+rE,GAAc,CACrB55B,SAAU,eACVhxC,OAAQ,MACR8f,QAAS6gB,GAAAA,YAAAA,IAAAA,QACT8qC,gBAAiB,UACjBpwD,eAAgBslB,GAAAA,IAAAA,eAChBqqC,aAAcrqC,GAAAA,KAAAA,QACdyqC,YAAgC,QAArBgD,GAAEztC,GAAAA,YAAmB,IAAAytC,IAAK,QAALC,GAAnBD,GAAqBxqD,WAAG,IAAAyqD,QAAL,EAAnBA,GAA0BttE,IACvCiC,KAAM,IAAI2rC,KAAJ,CAASoC,GAAUK,oBAE3BtyC,MAAO,IAAI8rE,GAAc,CACvB55B,SAAU,cACVhxC,OAAQ,QACR8f,QAAS6gB,GAAAA,YAAAA,MAAAA,QACT8qC,gBAAiB,YACjBpwD,eAAgBslB,GAAAA,IAAAA,eAChBqqC,aAAcrqC,GAAAA,KAAAA,UACdyqC,YAAgC,QAArBkD,GAAE3tC,GAAAA,YAAmB,IAAA2tC,IAAK,QAALC,GAAnBD,GAAqB1qD,WAAG,IAAA2qD,QAAL,EAAnBA,GAA0BvtE,MACvCgC,KAAM,IAAI2rC,KAAJ,CAASoC,GAAUM,kBAE3B/wC,OAAQ,IAAIsqE,GAAc,CACxB55B,SAAU,eACVhxC,OAAQ,SACR8f,QAAS6gB,GAAAA,YAAAA,OAAAA,QACT8qC,gBAAiB,mBACjBpwD,eAAgB,GAChB2vD,aAAcrqC,GAAAA,KAAAA,SACdyqC,YAAgC,QAArBoD,GAAE7tC,GAAAA,YAAmB,IAAA6tC,IAAK,QAALC,GAAnBD,GAAqB5qD,WAAG,IAAA6qD,QAAL,EAAnBA,GAA0BxtE,OACvC+B,KAAM,IAAI2rC,KAAJ,CAASoC,GAAU29B,qBAE3B1vE,KAAM,IAAI4rE,GAAc,CACtB55B,SAAU,OACVhxC,OAAQ,OACR8f,QAAS6gB,GAAAA,YAAAA,KAAAA,QACT8qC,gBAAiB,GACjBpwD,eAAgB,GAChB2vD,aAAcrqC,GAAAA,KAAAA,KACdyqC,YAAgC,QAArBuD,GAAEhuC,GAAAA,YAAmB,IAAAguC,IAAK,QAALC,GAAnBD,GAAqB/qD,WAAG,IAAAgrD,QAAL,EAAnBA,GAA0BztE,KACvC6B,KAAM,IAAI2rC,KAAJ,CAASoC,GAAUO,iBAE3BryC,IAAK,IAAI2rE,GAAc,CACrB55B,SAAU,SACVhxC,OAAQ,MACR8f,QAAS6gB,GAAAA,YAAAA,IAAAA,QACT8qC,gBAAiB,UACjBpwD,eAAgBslB,GAAAA,IAAAA,WAChBqqC,aAAcrqC,GAAAA,KAAAA,QACdyqC,YAAgC,QAArByD,GAAEluC,GAAAA,YAAmB,IAAAkuC,IAAK,QAALC,GAAnBD,GAAqBjrD,WAAG,IAAAkrD,QAAL,EAAnBA,GAA0B1tE,IACvC4B,KAAM,IAAI2rC,KAAJ,CAASoC,GAAUQ,gBAE3BryC,KAAM,IAAI0rE,GAAc,CACtB55B,SAAU,YACVhxC,OAAQ,OACR8f,QAAS6gB,GAAAA,YAAAA,KAAAA,QACT8qC,gBAAiB,WACjBpwD,eAAgBslB,GAAAA,IAAAA,YAChBqqC,aAAcrqC,GAAAA,KAAAA,SACdyqC,YAAgC,QAArB2D,GAAEpuC,GAAAA,YAAmB,IAAAouC,IAAK,QAALC,GAAnBD,GAAqBnrD,WAAG,IAAAorD,QAAL,EAAnBA,GAA0B3tE,KACvC2B,KAAM,IAAI2rC,KAAJ,CAASoC,GAAUS,iBAE3BryC,KAAM,IAAIyrE,GAAc,CACtB55B,SAAU,YACVhxC,OAAQ,OACR8f,QAAS6gB,GAAAA,YAAAA,KAAAA,QACT8qC,gBAAiB,WACjBpwD,eAAgBslB,GAAAA,IAAAA,YAChBqqC,aAAcrqC,GAAAA,KAAAA,SACdyqC,YAAgC,QAArB6D,GAAEtuC,GAAAA,YAAmB,IAAAsuC,IAAK,QAALC,GAAnBD,GAAqBrrD,WAAG,IAAAsrD,QAAL,EAAnBA,GAA0B5tE,KACvC0B,KAAM,IAAI2rC,KAAJ,CAASoC,GAAUU,iBAE3BryC,IAAK,IAAIwrE,GAAc,CACrB55B,SAAU,cACVhxC,OAAQ,MACR8f,QAAS6gB,GAAAA,YAAAA,IAAAA,QACT8qC,gBAAiB,UACjBpwD,eAAgBslB,GAAAA,IAAAA,WAChBqqC,aAAcrqC,GAAAA,KAAAA,YACdyqC,YAAgC,QAArB+D,GAAExuC,GAAAA,YAAmB,IAAAwuC,IAAK,QAALC,GAAnBD,GAAqBvrD,WAAG,IAAAwrD,QAAL,EAAnBA,GAA0B7tE,IACvCyB,KAAM,IAAI2rC,KAAJ,CAASoC,GAAUW,gBAE3BpyC,OAAQ,IAAIsrE,GAAc,CACxB55B,SAAU,aACVhxC,OAAQ,SACR8f,QAAS6gB,GAAAA,YAAAA,OAAAA,QACT8qC,gBAAiB,aACjBpwD,eAAgBslB,GAAAA,IAAAA,cAChBqqC,aAAcrqC,GAAAA,KAAAA,eACdyqC,YAAgC,QAArBiE,GAAE1uC,GAAAA,YAAmB,IAAA0uC,IAAK,QAALC,GAAnBD,GAAqBzrD,WAAG,IAAA0rD,QAAL,EAAnBA,GAA0BpuE,OACvC8B,KAAM,IAAI2rC,KAAJ,CAASoC,GAAUY,mBAE3BpyC,OAAQ,IAAIqrE,GAAc,CACxB55B,SAAU,SACVhxC,OAAQ,SACR8f,QAAS6gB,GAAAA,YAAAA,OAAAA,QACT8qC,gBAAiB,GACjBpwD,eAAkC,QAApBk0D,GAAE5uC,GAAAA,WAAkB,IAAA4uC,QAAA,EAAlBA,GAAoB7zD,WACpCsvD,aAAcrqC,GAAAA,KAAAA,eACdyqC,YAAgC,QAArBoE,GAAE7uC,GAAAA,YAAmB,IAAA6uC,IAAK,QAALC,GAAnBD,GAAqB5rD,WAAG,IAAA6rD,QAAL,EAAnBA,GAA0BhuE,OACvCuB,KAAM,IAAI2rC,KAAJ,CAASoC,GAAU2+B,mBAE3BlwE,IAAK,IAAIorE,GAAc,CACrB55B,SAAU,MACVhxC,OAAQ,MACR8f,QAAS6gB,GAAAA,YAAAA,IAAAA,QACT8qC,gBAAiB,UACjBpwD,eAAgB,oBAChB2vD,aAAcrqC,GAAAA,KAAAA,aACdyqC,YAAgC,QAArBuE,GAAEhvC,GAAAA,YAAmB,IAAAgvC,IAAK,QAALC,GAAnBD,GAAqB/rD,WAAG,IAAAgsD,QAAL,EAAnBA,GAA0BluE,IACvCsB,KAAM,IAAI2rC,KAAJ,CAASoC,GAAUc,gBAE3BpyC,IAAK,IAAImrE,GAAc,CACrB55B,SAAU,MACVhxC,OAAQ,MACR8f,QAAS6gB,GAAAA,YAAAA,IAAAA,QACT8qC,gBAAiB,UACjBpwD,eAAgB,aAChB2vD,aAAcrqC,GAAAA,KAAAA,aACdyqC,YAAgC,QAArByE,GAAElvC,GAAAA,YAAmB,IAAAkvC,IAAK,QAALC,GAAnBD,GAAqBjsD,WAAG,IAAAksD,QAAL,EAAnBA,GAA0BnuE,IACvCqB,KAAM,IAAI2rC,KAAJ,CAASoC,GAAUe,gBAE3BpyC,KAAM,IAAIkrE,GAAc,CACtB55B,SAAU,OACVhxC,OAAQ,OACR8f,QAAS6gB,GAAAA,YAAAA,KAAAA,QACT8qC,gBAAiB,WACjBpwD,eAAgB,aAChB2vD,aAAcrqC,GAAAA,KAAAA,cACdyqC,YAAgC,QAArB2E,GAAEpvC,GAAAA,YAAmB,IAAAovC,IAAK,QAALC,GAAnBD,GAAqBnsD,WAAG,IAAAosD,QAAL,EAAnBA,GAA0BpuE,KACvCoB,KAAM,IAAI2rC,KAAJ,CAASoC,GAAUgB,iBAE3B1yC,IAAK,IAAIurE,GAAc,CACrB55B,SAAU,MACVhxC,OAAQ,MACR8f,QAAS6gB,GAAAA,YAAAA,IAAAA,QACT8qC,gBAAiB,UACjBpwD,eAAgBslB,GAAAA,IAAAA,WAChBqqC,aAAcrqC,GAAAA,KAAAA,QACdyqC,YAAgC,QAArB6E,GAAEtvC,GAAAA,YAAmB,IAAAsvC,IAAK,QAALC,GAAnBD,GAAqBrsD,WAAG,IAAAssD,QAAL,EAAnBA,GAA0B1uE,IACvCwB,KAAM,IAAI2rC,KAAJ,CAASoC,GAAUa,iB,ouBCluB7B,IAAMje,GAAgC,UAChCw8C,GAAU,IAAIC,KAAJ,CAAqBz/B,MAG/B0/B,IAAe14E,EAAAA,GAAAA,IAcnB,SAAA04E,EAAY30E,GAAQ,IAAAzD,EAAA,MAAAP,EAAAA,GAAAA,GAAA,KAAA24E,IAAA5rE,EAAAA,EAAAA,GAAA,yBAAAA,EAAAA,EAAAA,GAAA,4BAAAA,EAAAA,EAAAA,GAAA,yBAXMA,EAAAA,EAAAA,GAAA,gCAAAA,EAAAA,EAAAA,GAAA,6BAAAA,EAAAA,EAAAA,GAAA,+BAAAA,EAAAA,EAAAA,GAAA,4BAAAA,EAAAA,EAAAA,GAAA,qBAAAA,EAAAA,EAAAA,GAAA,oBAgCZ,SAAChO,GAAwB,IAAjBo0E,EAAOx+E,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,GAC9B4hD,GAAAA,QAAAA,OACE,GAAGjgD,OAAO,wBAADA,OACiBiK,EAAKsI,UAC7BsqE,EAAU,KAAH78E,OAAQ68E,GAAY,GAAE,sBAAA78E,OACPyI,EAAMikC,QAAO,OAGvCx1B,QAAQrQ,MAAM,eAAD7G,OAAgBiK,EAAKsI,UAAY,eAC9C2E,QAAQzO,MAAM,UAAWA,GACzByO,QAAQy2B,UACV,KAACl3B,EAAAA,EAAAA,GAAA,uBAEgB,kBAAMnB,GAASC,WAAatL,EAAK02C,IAAI,KAAAlqC,EAAAA,EAAAA,GAAA,yBAEnC,SAAC6rE,GAGlB,OAAO,IAFMr4E,EAAKy4C,iBAEF5vC,IAAI2tC,UAASkC,KAAU2/B,EACzC,KAAC7rE,EAAAA,EAAAA,GAAA,iBAEU,SAAC/I,GACV,IAAQ6E,EAA2D7E,EAA3D6E,SAAU+vE,EAAiD50E,EAAjD40E,aAAcnzD,EAAmCzhB,EAAnCyhB,OAAQgL,EAA2BzsB,EAA3BysB,SAAUnQ,EAAiBtc,EAAjBsc,aAC5Cu4D,EAAet4E,EAAKu4E,wBACpBv0E,EAAa0I,aAAaE,QAAQuB,GAAAA,gBAA0B4R,IAE7Du4D,EAAa58C,IAASpzB,KAAWgwE,EAAa58C,IAASpzB,GAAY,CAAC,GAEzEgwE,EAAa58C,IAASpzB,GAAU+vE,GAAgB,CAC9Ch1E,QAASg1E,EACTnzD,OAAAA,EACAgL,SAAAA,EACAnQ,aAAAA,EACAzX,SAAUtI,EAAKsI,UAGjBoE,aAAaC,QAAQwB,GAAAA,aAAAA,YAAoCrB,KAAKC,UAAUurE,IACxEt4E,EAAKwa,MAAMxW,EAAYq0E,EAAcnzD,EAAQgL,EAAUhL,EACzD,KAAC1Y,EAAAA,EAAAA,GAAA,wCAAA5M,GAAAyU,EAAAA,EAAAA,GAAAC,IAAAA,MAEmB,SAAAO,EAAO2gD,GAAe,IAAAmf,EAAA6D,EAAAlgC,EAAAtwC,EAAAkd,EAAAgL,EAAA,OAAA5b,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,cAAAmb,EAAAnb,KAAA,EACfmyC,GAAQ9rC,EAAKy2C,aAAak+B,WAAWnf,GAAgB,OAA9D,GAAVmf,EAAU7/D,EAAAC,KAAAD,EAAAxZ,KAAG,GAGbq5E,EAAY,CAAF7/D,EAAAnb,KAAA,gBAAAmb,EAAAnb,KAAA,EACOmyC,GAAQ9rC,EAAKy2C,aAAagC,iBAAgB,OACI,OAD3D/B,EAAI5hC,EAAAC,KACJujC,EAAW,IAAI5B,EAAK7tC,IAAI2tC,SAASkC,KAAU8c,GAAgB1gD,EAAAnb,KAAA,GAE9C2+C,EAASK,QAAQ3wC,OAAOtT,OAAM,QAAvC,OAAJsT,EAAI8M,EAAAC,KAAAD,EAAAnb,KAAG,GACQ2+C,EAASK,QAAQzzB,SAASxwB,OAAM,QAAzC,OAANwwB,EAAMpQ,EAAAC,KAAAD,EAAAnb,KAAG,GACQ2+C,EAASK,QAAQzoB,WAAWx7B,OAAM,QAA3C,OAARw7B,EAAQpb,EAAAC,KAAAD,EAAAQ,OAAA,SAEP,CACLtN,KAAAA,EACAkd,OAAAA,EACAgL,SAAU7P,OAAO6P,KAClB,QAAApb,EAAAnb,KAAA,iBAAAmb,EAAAxZ,KAAA,GAAAwZ,EAAAgC,GAAAhC,EAAA,SAGH9U,EAAK64C,YAAW/jC,EAAAgC,GAAQ,sBAAqB,eAAAhC,EAAAQ,OAAA,UAGxC,GAAK,yBAAAR,EAAAJ,OAAA,GAAAG,EAAA,mBACb,gBAAAG,GAAA,OAAApV,EAAAwT,MAAA,KAAAhf,UAAA,EAzBA,KAyBAoY,EAAAA,EAAAA,GAAA,8BAEuB,WACtB,IAAM8rE,EAAexrE,KAAKE,MAAMN,aAAaE,QAAQuB,GAAAA,aAAAA,cAAuC,MACtFsqE,EAAqB,SAACC,GAC1BJ,EAAaI,GAAc,CAAC,EAE5Bt0D,GAAmB7tB,SAAQ,SAAC+R,GAC1BgwE,EAAaI,GAAYpwE,GAAY,CAAC,CACxC,GACF,EAUA,OARKgwE,EAAap9D,SAChBu9D,EAAmB,WAGhBH,EAAav4C,SAChB04C,EAAmB,WAGdH,CACT,KAAC9rE,EAAAA,EAAAA,GAAA,cAEO,SAACo6B,GACP,OAAOA,EAAMksC,eACf,KAACtmE,EAAAA,EAAAA,GAAA,oBAEa,SAACuyB,EAAM/hB,GACnB,MAAO,UAAPjnB,OAAiBinB,EAAQ,QAAAjnB,OAAOgpC,EAClC,KAACvyB,EAAAA,EAAAA,GAAA,sBAEe,SAACu6B,GACf,GAAKA,EACL,MAAO,GAAPhxC,OAAUiK,EAAK+yE,aAAY,QAAAh9E,OAAOgxC,EACpC,KAACv6B,EAAAA,EAAAA,GAAA,iCAAAzL,GAAAsT,EAAAA,EAAAA,GAAAC,IAAAA,MAEY,SAAAC,EAAOq0B,GAAS,IAAAtB,EAAAqxC,EAAAviE,EAAAo/C,EAAAtlC,EAAAloB,EAAAgY,EAAA3c,EAAA4qD,EAAA/tC,EAAA04D,EAAAxkF,UAAA,OAAAkgB,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OAAmB,GAAjB2tC,EAAUsxC,EAAAtlF,OAAA,QAAAe,IAAAukF,EAAA,GAAAA,EAAA,GAAG,UACxBvkF,IAAdu0C,EAAuB,CAAAh0B,EAAAjb,KAAA,eAAAib,EAAAU,OAAA,iBAOjB,GAPiBqjE,EAQvB34E,EAAK64E,gBAAgBjwC,GALdxyB,EAAYuiE,EAArBt1E,QACAmyD,EAAemjB,EAAfnjB,gBACAtlC,EAAQyoD,EAARzoD,SACAloB,EAAI2wE,EAAJ3wE,KACAgY,EAAQ24D,EAAR34D,UAGC3U,GAAS2F,eAAkB3F,GAASokD,6BAA6BzvC,GAAS,CAAApL,EAAAjb,KAAA,eAAAib,EAAAU,OAAA,iBAGa,GADpFjS,EAAWikC,IAA2Bj8B,GAAS2F,cAAgB3F,GAASnH,aAAekS,IAGtE,KAFjB63C,EAAiBC,GAAgB,mBAAoB,SAAFn4D,OAAWiqB,EAAQ,KAAAjqB,OAAIsN,KAEpD,CAAAuR,EAAAjb,KAAA,SAKxB,OAJFuwB,GAAAA,KAAAA,gBAA8B,CAC5BnK,aAAc/f,EAAKy2C,YACnBzuC,KAAAA,EACAkY,OAAQ+tC,IACRr5C,EAAAU,OAAA,SACK24C,GAAc,eAAAr5C,EAAAtZ,KAAA,GAAAsZ,EAAAjb,KAAA,GAIAqG,EAAKwmC,aAAanjC,EAASmyD,EAAiBtlC,GAAS,QAMK,OANzEhQ,EAAMtL,EAAAG,KACZmV,GAAAA,KAAAA,gBAA8B,CAC5BnK,aAAc/f,EAAKy2C,YACnBzuC,KAAAA,EACAkY,OAAAA,IAEFkuC,GAAgB,mBAAoB,SAAFr4D,OAAWiqB,EAAQ,KAAAjqB,OAAIsN,GAAW6c,EAAQ,IAAGtL,EAAAU,OAAA,SAExE4K,GAAM,QAAAtL,EAAAtZ,KAAA,GAAAsZ,EAAAkC,GAAAlC,EAAA,UAEb3H,QAAQzO,MAAKoW,EAAAkC,IAEboT,GAAAA,KAAAA,qBAAmC,CACjCnK,aAAc/f,EAAKy2C,YACnBzuC,KAAAA,IACA,yBAAA4M,EAAAF,OAAA,GAAAH,EAAA,oBAEL,gBAAAsB,GAAA,OAAA9U,EAAAqS,MAAA,KAAAhf,UAAA,EA7CA,KA6CAoY,EAAAA,EAAAA,GAAA,uBAEgB,SAAC86B,EAAYsB,GAC5B,OAAO,IAAIx0B,SAAQ,SAACja,GAClB,IAAgBskB,EAAiBgM,KAAzBzB,KAAQvK,WAEhBmqB,EAAYA,EAAU50C,QAAQ,kBAAmB,IAEjD,IAAMgsB,EAAW,IAAHjqB,OAAOiK,EAAKy2C,YAAW,KAAA1gD,OAAI6yC,EAAUxtC,eAEnD09E,EAAkDr6D,EAAWuB,GAA3C+4D,EAAUD,EAApBz1E,QAAsBmyD,EAAesjB,EAAftjB,gBAExBnyD,EAAUikC,GAAcyxC,EAE9B,GAA6B,KAAzB/4E,EAAKwzE,gBAAT,CAKA,IAAMp+C,EAAM,GAAGr/B,OAAO,iCAAD,oBAAAA,OAECy/D,GAAe,YAAAz/D,OACvBsN,GAAO,mDAGMhP,IAAxB2L,EAAKojB,eAA4B,WAAArtB,OAAeiK,EAAKojB,gBAAc,IAGtE,OAAO+Q,GAAAA,IACAn0B,EAAKwzE,gBAAiBp+C,EAAK,CAC9B/C,cAAe,MAEhB+B,MAAK,SAACxC,GACL,GAAIn+B,MAAMsxB,QAAQ6M,EAASv8B,QAAS,CAClC,IAAM+mB,EAAewV,EAASv8B,OAC3BoN,QAAO,SAAClK,GAAI,OAAKA,EAAKqB,MAAQ,CAAC,IAC/BnF,KAAI,SAAC8D,GAAI,MAAM,CACd2kC,cAAe3kC,EAAK2kC,cACpBj1B,KAAM2gC,EAAUxtC,cAChB4kB,SAAAA,EACA1X,SAAUtI,EAAKsI,SACfyX,aAAc/f,EAAKy2C,YACnBluB,KAAMhwB,EAAKgwB,KACXitC,gBAAiBj9D,EAAKi9D,gBACtBqe,OAA2B,OAAnBt7E,EAAK06E,UAAqB,EAAI,EACtCr5E,MAAO,IAAI82B,GAAAA,EAAU19B,OAAOuF,EAAKqB,QAC9BkiC,UAAU,IAAIpL,GAAAA,EAAU,IAAIt+B,IAAIiuB,OAAO9nB,EAAKygF,gBAC5CroD,WACHttB,QAAS9K,EAAKyrC,GACd+D,KAAuB,IAAjBxvC,EAAKu7E,UACXpsC,UAAWrkC,EAAQjI,gBAAkB7C,EAAKyrC,GAAG5oC,cAAgB,KAAO,MACrE,IACAqH,QAAO,SAAClK,GACP,MACqB,OAAnBA,EAAKmvC,YACJ1nC,EAAKmzE,aACN9vE,EAAQjI,gBAAkB4E,EAAKmzE,YAAY9vE,QAAQjI,eAKjD7C,EAAK8K,QAAQjI,gBAAkB4E,EAAKmzE,YAAY9vE,QAAQjI,aAK9D,IAEFjB,EAAIiiB,EACN,MACEjiB,EAAI,GAER,IAAE,OACK,SAACqE,GACNwB,EAAK64C,YAAYr6C,GACjBrE,EAAI,GACN,GA3DF,CAFEA,EAAI,GA8DR,GACF,KAACqS,EAAAA,EAAAA,GAAA,mCAAA0I,GAAAb,EAAAA,EAAAA,GAAAC,IAAAA,MAEc,SAAAkB,EAAOnS,EAASmyD,EAAiBtlC,GAAQ,IAAAwmB,EAAA4B,EAAAjjD,EAAA,OAAAif,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,OAEW,OAD3D+8C,EAAO12C,EAAKy4C,iBACZH,EAAW,IAAI5B,EAAK7tC,IAAI2tC,SAASkC,KAAU8c,GAAgB9/C,EAAA/b,KAAA,EAC5C2+C,EAASK,QAAQsgC,UAAU51E,GAAS3O,OAAM,OAAnD,OAANW,EAAMqgB,EAAAX,KAAAW,EAAAJ,OAAA,SAEL,IAAIob,GAAAA,EAAU19B,OAAOqC,IACzBymC,UAAU,IAAIpL,GAAAA,EAAU19B,OAAO,KAAKZ,IAAI89B,IACxCS,YAAU,wBAAAjb,EAAAhB,OAAA,GAAAc,EAAA,KACd,gBAAAG,EAAAC,EAAAmB,GAAA,OAAA7B,EAAA9B,MAAA,KAAAhf,UAAA,EAVA,KAUAoY,EAAAA,EAAAA,GAAA,uCAAA+I,GAAAlB,EAAAA,EAAAA,GAAAC,IAAAA,MAEkB,SAAA0B,EAAOjO,EAAQwgB,GAAI,OAAAjU,IAAAA,MAAA,SAAAmC,GAAA,cAAAA,EAAAnb,KAAAmb,EAAA9c,MAAA,cAAA8c,EAAAnB,OAAA,SAC7B,IAAIlB,QAAO,eAAA6B,GAAA5B,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAa,EAAOhb,GAAG,IAAAuiC,EAAAtgB,EAAA88D,EAAA,OAAA5kE,IAAAA,MAAA,SAAAe,GAAA,cAAAA,EAAA/Z,KAAA+Z,EAAA1b,MAAA,cAAA0b,EAAA1b,KAAA,EACRqG,EAAK+7B,YAAYxT,GAAK,OAA/B,KAANmU,EAAMrnB,EAAAN,QAEI2nB,EAAOy8C,aAAY,CAAA9jE,EAAA1b,KAAA,eAAA0b,EAAA1b,KAAA,EAEWqG,EAAKkwC,eAAexT,EAAOD,cAAe10B,GAAO,OAArFqU,EAA2B/G,EAAAN,MAC3BmkE,EAAQ98D,EAAa3Z,QAAO,SAACskC,GAAE,OAAKA,EAAGxe,KAAKntB,gBAAkBmtB,EAAKntB,aAAa,KAE5E9H,SACRopC,EAAOxc,OAASg5D,EAAM,GAAGt/E,MACzB8iC,EAAOH,UAAW,EAEQ,MAAtB28C,EAAM,GAAGxxC,YACXhL,EAAMhyB,GAAAA,GAAA,GACDgyB,GAAM,IACTN,gBAAiBM,EAAOD,cACxBA,cAAeC,EAAON,oBAG3B,OAGHjiC,EAAIuiC,GAAO,yBAAArnB,EAAAX,OAAA,GAAAS,EAAA,KACZ,gBAAAgtB,GAAA,OAAAlsB,EAAA7C,MAAA,KAAAhf,UAAA,EAvBiB,KAuBhB,wBAAAqiB,EAAA/B,OAAA,GAAAsB,EAAA,KACH,gBAAA4B,EAAA+nB,GAAA,OAAApqB,EAAAnC,MAAA,KAAAhf,UAAA,EA3BA,KA2BAoY,EAAAA,EAAAA,GAAA,kCAAAuJ,GAAA1B,EAAAA,EAAAA,GAAAC,IAAAA,MAEa,SAAA4C,EAAOqR,GAAI,OAAAjU,IAAAA,MAAA,SAAAgD,GAAA,cAAAA,EAAAhc,KAAAgc,EAAA3d,MAAA,cAAA2d,EAAAhC,OAAA,SAChB,IAAIlB,QAAO,eAAA+C,GAAA9C,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAiD,EAAOpd,GAAG,IAAA8+D,EAAAx6C,EAAAi4B,EAAA,OAAApiC,IAAAA,MAAA,SAAAoD,GAAA,cAAAA,EAAApc,KAAAoc,EAAA/d,MAAA,OAAAs/D,EAGvBxuC,KADMhM,EAAUw6C,EAAlBjwC,KAAQvK,YAEJi4B,EAAO12C,EAAKy4C,kBAEb5vC,IAAIqnC,eAAe3nB,GACrB6L,MAAK,SAAC2S,GAAO,IAAAqyC,EAAAC,EACZ,IAAKtyC,EAAI,OAAO5sC,GAAI,GAEpB,IAAQ6pC,EAAuC+C,EAAvC/C,GAAI9sC,EAAmC6vC,EAAnC7vC,KAAM87E,EAA6BjsC,EAA7BisC,IAAK/8B,EAAwBlP,EAAxBkP,SAAUg9B,EAAclsC,EAAdksC,UAC7B/yD,EAAS,EACTkc,EAAkB4H,EAChBwxB,EAAkBxxB,EACpBg1C,EAAe,GAEnB,IAAK,IAAMjiF,KAAO0nB,EAAY,KAAA66D,EAAAC,EAAAC,EAC5B,GACiB,QAAfF,EAAA76D,EAAW1nB,UAAI,IAAAuiF,GAAfA,EAAiBppD,WACF,QAAfqpD,EAAA96D,EAAW1nB,UAAI,IAAAwiF,GAAiB,QAAjBC,EAAfD,EAAiB/jB,uBAAe,IAAAgkB,OAAjB,EAAfA,EAAkCp+E,gBAAiBo6D,EAAgBp6D,cACnE,CACA49E,EAAev6D,EAAW1nB,GAAKm5B,SAC/B,KACF,CACF,CAEA,IAAMiwC,EAAS+X,GAAQuB,WAAW1yC,EAAGzJ,OAEjC6iC,GAAoC,KAAb,QAAbiZ,EAAAjZ,EAAOvjC,cAAM,IAAAw8C,OAAA,EAAbA,EAAe9lF,SAAkC,aAAlB6sE,EAAOjvC,SAClDkL,EAAkB,KAAHrmC,OAAQoqE,EAAOvjC,OAAO,IACrC1c,EAAS,IAAIwQ,GAAAA,EAAUyvC,EAAOvjC,OAAO,IAClC4G,IAAI,IAAI9S,GAAAA,EAAU,IAAIt+B,IAAI4mF,IAC1BroD,YAGL,IAAMwM,EAAW,IAAIzM,GAAAA,EAAUgmB,EAAKvlC,MAAM+hE,KAAKF,GAAKriD,YACjDyN,aAAasY,EAAKvlC,MAAM+hE,KAAKj9B,GAAUtlB,YACvCmL,UAAU,MACVnL,WAEC4L,GAA2B,EAE/B,GAAIv8B,EAAKmzE,YAAa,CACpB,IAAMC,EAAqB,IAAI1iD,GAAAA,EAAU1wB,EAAKmzE,YAAYxnD,KACvDmQ,UAAU,KACVsC,aAAale,GAGdqc,EADE,IAAI7L,GAAAA,EAAU1wB,EAAKmzE,YAAY5iD,KAAKkO,cAAc20C,GACzC,IAAI1iD,GAAAA,EAAU1wB,EAAKmzE,YAAY5iD,KAAKI,WAEpCyiD,EAAmBziD,UAElC,CAEAx2B,EAAI,CACF+lB,OAAAA,EACAmc,aAAc,KACdD,gBAAAA,EACAK,cAAevlC,EACfimC,SAAAA,EACAC,iBAAkBp9B,EAAKgd,SACvBuf,SAAAA,EACAU,UAAyB,OAAdg2C,EACXkG,cACE3jB,aAAe,EAAfA,EAAiBp6D,kBAA4D,QAA/Ci+E,EAAK3wC,GAAAA,aAA4B1oC,EAAKsI,iBAAS,IAAA+wE,OAAA,EAA1CA,EAA4Cj+E,gBAErF,IAAE,OACK,SAACoD,GACNwB,EAAK64C,YAAYr6C,GACjBrE,GAAI,EACN,IAAE,wBAAAud,EAAAhD,OAAA,GAAA6C,EAAA,KACL,gBAAAosB,GAAA,OAAAxsB,EAAA/D,MAAA,KAAAhf,UAAA,EAvEiB,KAuEhB,wBAAAkjB,EAAA5C,OAAA,GAAAwC,EAAA,KACH,gBAAAwrB,GAAA,OAAA3sB,EAAA3C,MAAA,KAAAhf,UAAA,EA3EA,KA2EAoY,EAAAA,EAAAA,GAAA,gCAAAyK,GAAA5C,EAAAA,EAAAA,GAAAC,IAAAA,MAEW,SAAAsuB,EAAOn/B,GAAM,IAAAwyC,EAAAyjB,EAAAp3B,EAAAo3C,EAAAlF,EAAAmF,EAAA,OAAArlE,IAAAA,MAAA,SAAAivB,GAAA,cAAAA,EAAAjoC,KAAAioC,EAAA5pC,MAAA,OAEK,GADpBs8C,EAA8BxyC,EAA9BwyC,SAAUyjB,EAAoBj2D,EAApBi2D,SAAUp3B,EAAU7+B,EAAV6+B,MAAKiB,EAAAzsB,GACbm/B,EAAQ1S,EAAAzsB,GAAA,CAAAysB,EAAA5pC,KAAA,eAAA4pC,EAAA5pC,KAAA,EAAUk8C,GAAc71C,EAAKy2C,aAAaN,iBAAiB,CAAE7T,MAAAA,IAAQ,OAAAiB,EAAAzsB,GAAAysB,EAAAxuB,KAAA,OAEP,OAFpF2kE,EAAWn2C,EAAAzsB,GACX09D,EAA0C,WAArBx0E,EAAKy2C,YAA2B,cAAgB,eACrEkjC,EAAcjgB,GAAYthC,GAA4Bo8C,GAAoB59C,MAAM5E,KAAIuR,EAAAjuB,OAAA,SAEnF,CACL09D,IAAK2G,EACL1jC,SAAUyjC,IACX,yBAAAn2C,EAAA7uB,OAAA,GAAAkuB,EAAA,KACF,gBAAAiC,GAAA,OAAA5tB,EAAA7D,MAAA,KAAAhf,UAAA,EAZA,KAYAoY,EAAAA,EAAAA,GAAA,cAEO,SAACxI,EAAYwxD,EAAiBokB,EAAc1pD,EAAUjT,GAC5D,IAAI3iB,EAEEo8C,EAAO12C,EAAKy4C,iBACdz0C,EACF1J,EAAOo8C,EAAK7tC,IAAIoI,SAAS4J,oBAAoB7W,IAE7C1J,EAAOo8C,EAAK7tC,IAAIoI,SAAS6J,SACzB47B,EAAK7tC,IAAIoI,SAASrN,OAAOvH,IAAI/B,IAG/Bo8C,EAAK7tC,IAAIoI,SAASrN,OAAOvH,IAAI/B,EAAK0J,YAClChE,EAAK65E,cAAcv/E,EAAK+I,QAASmyD,EAAiBokB,EAAc1pD,EAAUjT,EAC5E,KAACzQ,EAAAA,EAAAA,GAAA,sBAEe,SAACstE,EAAYtkB,EAAiBokB,EAAc1pD,EAAUjT,GAEpE,IADajd,EAAKy4C,iBACR5vC,IAAIoI,SAASrN,OAAOk2E,GAC5B,MAAM,IAAIloF,MAAM,oCAGlB,IAAI0I,EAAO,CACT+I,QAASy2E,EACTh9D,QAAS,EACT9U,KAAM4xE,EAAax+E,cACnB6hB,SAAAA,EACAD,SAAU48D,EAAa1pE,cACvBslD,gBAAAA,EACAtlC,SAAAA,EACAkZ,YAAY,EACZp4B,aAAa,EAEb+oE,QAA2B,UAAlB/5E,EAAKsI,SACdA,SAAUtI,EAAKsI,SACf6gC,SAAS,EACTjhC,WAAYmd,GAAgBrlB,EAAKsI,UAAU0U,SAC3C+C,aAAc/f,EAAKy2C,YACnBz2B,SAAU,IAAFjqB,OAAMiK,EAAKy2C,YAAW,KAAA1gD,OAAI6jF,EAAax+E,gBAG7CiQ,GAAS0F,aAAe1F,GAAS2F,gBACnC1W,EAAIoQ,GAAAA,GAAA,GACCpQ,GAAI,IACP+I,QAASgI,GAASnH,aAClBklC,YAAY,EACZp4B,aAAa,KAKjBkZ,GAAAA,KAAAA,iBAA+B,CAC7BnK,aAAc/f,EAAKy2C,YACnBzuC,KAAM1N,EAAK0N,KACX1N,KAAAA,GAGJ,KAACkS,EAAAA,EAAAA,GAAA,2BAAAkU,GAAArM,EAAAA,EAAAA,GAAAC,IAAAA,MAEM,SAAAywB,EAAOthC,GAAM,IAAAuE,EAAA9Q,EAAA8sC,EAAA9jB,EAAA85D,EAAAC,EAAA1hC,EAAAroB,EAAAgqD,EAAAC,EAAAC,EAAAlpB,EAAA,OAAA58C,IAAAA,MAAA,SAAAuxB,GAAA,cAAAA,EAAAvqC,KAAAuqC,EAAAlsC,MAAA,OAEa,OADvBqO,EAAyCvE,EAAzCuE,KAAM9Q,EAAmCuM,EAAnCvM,KAAM8sC,EAA6BvgC,EAA7BugC,GAAI9jB,EAAyBzc,EAAzByc,OAAW85D,GAASl+D,EAAAA,EAAAA,GAAKrY,EAAMm4B,IAAAq+C,EACnBj6E,EAAK64E,gBAAgB7wE,GAAjDuwC,EAAa0hC,EAAb1hC,cAAeroB,EAAQ+pD,EAAR/pD,SAAQ2V,EAAAlsC,KAAA,EACPqG,EAAKq6E,UAAS3vE,GAAC,CAAC,EAAIsvE,IAAY,OAatD,OAbIE,EAASr0C,EAAA9wB,KACTolE,EAAc,CAClBnH,IAAK,OACL/8B,SAAUikC,EAAUjkC,SACpB/+C,KAAAA,GAGIkjF,EAAwB,IAAI1pD,GAAAA,EAAUxQ,GACzCke,aAAYjsC,KAAAC,IAAC,GAAM89B,IACnBr8B,SAAS,IACNq9D,EAAaplB,GAAAA,KAAAA,UAAuB,CACxCzoC,QAASnM,EACT8lB,SAAUhV,IACV69B,EAAAvwB,OAAA,SAEK,IAAIlB,QAAO,eAAAwM,GAAAvM,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAuvB,EAAO1pC,EAAKk1D,GAAG,IAAAirB,EAAAC,EAAA,OAAAjmE,IAAAA,MAAA,SAAAkwB,GAAA,cAAAA,EAAAlpC,KAAAkpC,EAAA7qC,MAAA,cAAA6qC,EAAA7qC,KAAA,EACC4+C,EAAcI,QAC5C6hC,SAASx2C,EAAI,KAAFjuC,OAAOqkF,IAClBvY,YAAYsY,GAAY,OAFrBG,EAAkB91C,EAAAzvB,KAIlBwlE,EAAgC,IAAI7pD,GAAAA,EACxC,IAAIA,GAAAA,EAAU4pD,GACXl8C,aAAa,MACb0jC,QAAQ,IACXjuE,SAAS,IAEXsmF,EAAYnH,IAAM,KAAHj9E,OAAQwkF,GAEvBhiC,EAAcI,QAEX6hC,SAASx2C,EAAI,KAAFjuC,OAAOqkF,IAClBpoD,KAAKmoD,GACL/+B,GAAG,mBAAmB,SAAC7yB,GACtB2B,GAAAA,aAAAA,sBAA4C,CAC1C5B,YAAatoB,EAAKgd,SAClBuL,KAAAA,IAEFpuB,EAAI,CAAE24E,gBAAiBvqD,GACzB,IACC6yB,GAAG,WAAW,WACTp7C,EAAKmzE,cAAgBjiB,EAAW9nB,YAClCppC,EAAKk1E,qBAAqB,CACxBh+E,KAAAA,EACAqhD,cAAAA,EACAroB,SAAAA,EACAhQ,OAAAA,GAGN,IACCk7B,GAAG,SAAS,SAAC58C,GACZwB,EAAK64C,YAAYr6C,GACjB6wD,EAAI7wD,EACN,IAAE,wBAAAgmC,EAAA9vB,OAAA,GAAAmvB,EAAA,KACL,gBAAAsqC,EAAAqD,GAAA,OAAA5wD,EAAAxN,MAAA,KAAAhf,UAAA,EAtCiB,KAsChB,wBAAAyxC,EAAAnxB,OAAA,GAAAqwB,EAAA,KACH,gBAAAwB,GAAA,OAAA7lB,EAAAtN,MAAA,KAAAhf,UAAA,EA3DA,KA2DAoY,EAAAA,EAAAA,GAAA,2CAAAsU,GAAAzM,EAAAA,EAAAA,GAAAC,IAAAA,MAEsB,SAAAu7B,EAAOpsC,GAAM,IAAAvM,EAAAqhD,EAAAr4B,EAAAgQ,EAAAmlD,EAAAjC,EAAAqH,EAAAP,EAAAC,EAAA,OAAA7lE,IAAAA,MAAA,SAAAw7B,GAAA,cAAAA,EAAAx0C,KAAAw0C,EAAAn2C,MAAA,OAanB,OAZPzC,EAA0CuM,EAA1CvM,KAAMqhD,EAAoC90C,EAApC80C,cAAer4B,EAAqBzc,EAArByc,OAAQgQ,EAAazsB,EAAbysB,SAC/BmlD,EAAY,IAAI3kD,GAAAA,EAAU1wB,EAAKmzE,YAAY5iD,KAC7C6iD,EAAqB,IAAI1iD,GAAAA,EAAU1wB,EAAKmzE,YAAYxnD,KACrDmQ,UAAU,KACVsC,aAAale,GAEZm1D,EAAU52C,cAAc20C,KAC1BA,EAAqBiC,GAGjBoF,EAAqBrH,EACxBh1C,aAAYjsC,KAAAC,IAAC,GAAM89B,IACnBr8B,SAAS,IAAGi8C,EAAAn2C,KAAA,EAESqG,EAAKq6E,UAAU,CAAE/3C,MAAO,SAAS,OAKxD,OALK43C,EAASpqC,EAAA/6B,KACTolE,EAAc,CAClBnH,IAAK,OACL/8B,SAAUikC,EAAUjkC,SACpB/+C,KAAAA,GACD44C,EAAAx6B,OAAA,SAEM,IAAIlB,QAAO,eAAA4M,GAAA3M,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAA6/B,EAAOh6C,GAAG,IAAAu/D,EAAA6gB,EAAA,OAAAjmE,IAAAA,MAAA,SAAA+/B,GAAA,cAAAA,EAAA/4C,KAAA+4C,EAAA16C,MAAA,cAAA06C,EAAA/4C,KAAA,EAAA+4C,EAAA16C,KAAA,EAIR4+C,EAAcI,QAC5B6hC,SAASx6E,EAAKmzE,YAAY9vE,QAAS,KAAOo3E,GAC1C5Y,YAAYsY,GAAY,OAF3BzgB,EAAQrlB,EAAAt/B,KAAAs/B,EAAA16C,KAAG,EAAH,aAAA06C,EAAA/4C,KAAG,EAAH+4C,EAAAv9B,GAAAu9B,EAAA,SAIRr0C,EAAK64C,YAAWxE,EAAAv9B,GAAQ,wCAAuC,UAG5D4iD,EAAU,CAAFrlB,EAAA16C,KAAA,gBAAA06C,EAAA/+B,OAAA,kBAQyC,OANhDilE,EAAgC,IAAI7pD,GAAAA,EACxC,IAAIA,GAAAA,EAAUgpC,GACXt7B,aAAa,MACb0jC,QAAQ,IACXjuE,SAAS,IAEXsmF,EAAYnH,IAAM,KAAOuH,EAA6BlmC,EAAA16C,KAAA,GAEhD4+C,EAAcI,QAEjB6hC,SAASx6E,EAAKmzE,YAAY9vE,QAAS,KAAOo3E,GAC1CzoD,KAAKmoD,GACL/+B,GAAG,mBAAmB,SAAC7yB,GACtBtb,QAAQrQ,MAAM,eAAgB,iBAC9BqQ,QAAQ4jB,IAAI,WAAY7wB,EAAKsI,UAC7B2E,QAAQ4jB,IAAI,UAAWtI,GACvBtb,QAAQy2B,WACRvpC,EAAIouB,EACN,IAAE,yBAAA8rB,EAAA3/B,OAAA,GAAAy/B,EAAA,kBACL,gBAAAo9B,GAAA,OAAAvwD,EAAA5N,MAAA,KAAAhf,UAAA,EAhCiB,KAgChB,yBAAA07C,EAAAp7B,OAAA,GAAAm7B,EAAA,KACH,gBAAAmhC,GAAA,OAAAlwD,EAAA1N,MAAA,KAAAhf,UAAA,EAzDA,KAyDAoY,EAAAA,EAAAA,GAAA,8BAAA0U,GAAA7M,EAAAA,EAAAA,GAAAC,IAAAA,MAES,SAAAy7B,EAAOtsC,GAAM,IAAAuE,EAAAg8B,EAAA9jB,EAAAw6D,EAAAniC,EAAAroB,EAAAgqD,EAAAS,EAAA,OAAArmE,IAAAA,MAAA,SAAA27B,GAAA,cAAAA,EAAA30C,KAAA20C,EAAAt2C,MAAA,OAEU,OADvBqO,EAAqBvE,EAArBuE,KAAMg8B,EAAevgC,EAAfugC,GAAI9jB,EAAWzc,EAAXyc,OAAMw6D,EACY16E,EAAK64E,gBAAgB7wE,GAAjDuwC,EAAamiC,EAAbniC,cAAeroB,EAAQwqD,EAARxqD,SAAQ+f,EAAAt2C,KAAA,EACPqG,EAAKq6E,UAAU,CAAE/3C,MAAO,SAAS,OAI1C,OAJT43C,EAASjqC,EAAAl7B,KAET4lE,EAAe,IAAIjqD,GAAAA,EAAUxQ,GAChCke,aAAYjsC,KAAAC,IAAC,GAAM89B,IACnBr8B,SAAS,IAAGo8C,EAAA36B,OAAA,SAER,IAAIlB,QAAO,eAAAgN,GAAA/M,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAk7B,EAAOr1C,EAAKk1D,GAAG,IAAAiK,EAAA,OAAAhlD,IAAAA,MAAA,SAAAs7B,GAAA,cAAAA,EAAAt0C,KAAAs0C,EAAAj2C,MAAA,cAAAi2C,EAAAj2C,KAAA,EACV4+C,EAAcI,QACjC8gB,QAAQz1B,EAAI,KAAO22C,GACnB3oD,KAAKkoD,GACL9+B,GAAG,mBAAmB,SAAC7yB,GACtBtb,QAAQrQ,MAAM,gCAAiC,gBAC/CqQ,QAAQ4jB,IAAI,aAAD96B,OAAciK,EAAKsI,SAAQ,YAAAvS,OAAWiS,IACjDiF,QAAQ4jB,IAAI,YAAatI,GACzBtb,QAAQy2B,UACV,IAAE,OACK,SAACllC,GACNwB,EAAK64C,YAAYr6C,GACjB6wD,EAAI7wD,EAEN,IAAE,OAbE86D,EAAO1pB,EAAA76B,KAeb5a,EAAIm/D,EAAQwZ,iBAAgB,wBAAAljC,EAAAl7B,OAAA,GAAA86B,EAAA,KAC7B,gBAAAorC,EAAAC,GAAA,OAAAz5D,EAAAhO,MAAA,KAAAhf,UAAA,EAjBiB,KAiBhB,wBAAA67C,EAAAv7B,OAAA,GAAAq7B,EAAA,KACH,gBAAA+qC,GAAA,OAAA55D,EAAA9N,MAAA,KAAAhf,UAAA,EA7BA,KA6BAoY,EAAAA,EAAAA,GAAA,sCAAA8U,GAAAjN,EAAAA,EAAAA,GAAAC,IAAAA,MAEiB,SAAAi8B,EAAO9sC,GAAM,IAAA2S,EAAAD,EAAAugC,EAAAu9B,EAAAjqE,EAAA8S,EAAA,OAAAxI,IAAAA,MAAA,SAAAk8B,GAAA,cAAAA,EAAAl1C,KAAAk1C,EAAA72C,MAAA,OAGuF,OAF5Gyc,EAAqC3S,EAArC2S,aAAcD,EAAuB1S,EAAvB0S,mBAChBugC,EAAO12C,EAAKy4C,iBACZw7B,EAAe,IAAIv9B,EAAK7tC,IAAI2tC,SAAShe,GAAkBX,WAAY6Q,GAAAA,aAA4B1oC,EAAKsI,WAAUkoC,EAAA72C,KAAA,EAEjGs6E,EAAat7B,QAAQxsC,MAAMiK,EAAcD,GAAoBzhB,OAAM,OACrB,OAD3DsV,EAAIwmC,EAAAz7B,KACJ+H,EAAU9S,GAAQA,EAAK8S,QAAU7qB,SAAS+X,EAAK8S,SAAW,EAAC0zB,EAAAl7B,OAAA,SAE1DwH,EAAU,GAAC,wBAAA0zB,EAAA97B,OAAA,GAAA67B,EAAA,KACnB,gBAAAwqC,GAAA,OAAAz5D,EAAAlO,MAAA,KAAAhf,UAAA,EAXA,KAWAoY,EAAAA,EAAAA,GAAA,mCAAA8jC,GAAAj8B,EAAAA,EAAAA,GAAAC,IAAAA,MAEc,SAAA+9B,EAAO5uC,GAAM,IAAAuE,EAAAg8B,EAAAg3C,EAAAC,EAAA/qD,EAAA7sB,EAAAmyD,EAAA5c,EAAA,OAAAtkC,IAAAA,MAAA,SAAAi+B,GAAA,cAAAA,EAAAj3C,KAAAi3C,EAAA54C,MAAA,OAEgB,OADlCqO,EAA8BvE,EAA9BuE,KAAMg8B,EAAwBvgC,EAAxBugC,GAAIg3C,EAAoBv3E,EAApBu3E,gBAAeC,EACcj7E,EAAK64E,gBAAgB7wE,GAA5DkoB,EAAQ+qD,EAAR/qD,SAAU7sB,EAAO43E,EAAP53E,QAASmyD,EAAeylB,EAAfzlB,gBAAejjB,EAAAj3C,KAAA,EAAAi3C,EAAA54C,KAAA,EAGhBwgD,GAAUn6C,EAAKsI,UAAUixD,eAAe,CAC9DnhB,MAAO/0C,EACPg1C,QAAS3P,GAAAA,aAA4B1oC,EAAKsI,UAC1CgwC,SAAUkd,EACVtlC,SAAAA,IACA,OALa,GAAT0oB,EAASrG,EAAAx9B,MAQX,IAAI2b,GAAAA,EAAUsqD,GAAiBr3B,oBAAoB/K,GAAY,CAAFrG,EAAA54C,KAAA,eAAA44C,EAAAj9B,OAAA,SACxDlB,QAAQI,WAAS,cAAA+9B,EAAAj9B,OAAA,SAGnBtV,EAAKy5D,QAAQ,CAAEzxD,KAAAA,EAAMg8B,GAAAA,EAAI9jB,OAAQ86D,KAAkB,QAAAzoC,EAAAj3C,KAAA,GAAAi3C,EAAAz7B,GAAAy7B,EAAA,SAE1DvyC,EAAK64C,YAAWtG,EAAAz7B,IAAO,yBAAAy7B,EAAA79B,OAAA,GAAA29B,EAAA,mBAE1B,gBAAA6oC,GAAA,OAAA5qC,EAAAl9B,MAAA,KAAAhf,UAAA,EAvBA,KAuBAoY,EAAAA,EAAAA,GAAA,wBAEiB,SAACxE,GACjB,IAAM0uC,EAAO12C,EAAKy4C,iBAElB,IACE,IAAgBh6B,EAAiBgM,KAAzBzB,KAAQvK,WAEVuB,EADYw0B,GAAYxsC,GACFE,WAA4DF,EAAK5M,cAApD,IAAHrF,OAAOiK,EAAKy2C,YAAW,KAAA1gD,OAAIiS,EAAK5M,eAEtE+/E,EAAgE18D,EAAWuB,GAAnE3c,EAAO83E,EAAP93E,QAASmyD,EAAe2lB,EAAf3lB,gBAAiBtlC,EAAQirD,EAARjrD,SAMlC,MAAO,CACL7sB,QAAAA,EACA2E,KARyDmzE,EAAfnzE,KAS1CgY,SAAAA,EACAw1C,gBAAAA,EACAjd,cAToB,IAAI7B,EAAK7tC,IAAI2tC,SAASkC,KAAU8c,EAAiB,CACrEt+D,KAAMmM,IASN6sB,SAAAA,EAEJ,CAAE,MAAO1xB,GAEP,MADAwB,EAAK64C,YAAYr6C,EAAO,eAAFzI,OAAiBiS,EAAI,4BACrC,IAAIpW,MAAM4M,EAClB,CACF,IArnBE,IACEwe,EAOEvZ,EAPFuZ,SACA1U,EAME7E,EANF6E,SACAkrE,EAKE/vE,EALF+vE,gBACAT,EAIEtvE,EAJFsvE,aACA3vD,EAGE3f,EAHF2f,eACA+vD,EAEE1vE,EAFF0vE,YACApoE,EACEtH,EADFsH,KAGF1X,KAAK2pB,SAAWA,EAChB3pB,KAAKojD,YAAcz5B,EAAS5hB,cAC5B/H,KAAKiV,SAAWA,EAChBjV,KAAKmgF,gBAAkBA,EACvBngF,KAAK0/E,aAAeA,EACpB1/E,KAAK+vB,eAAiBA,EACtB/vB,KAAK8/E,YAAcA,EACnB9/E,KAAKqjD,KAAO3rC,CACd,IAsmBI+tC,GAAYpQ,GAAAA,KACZstC,GAAmBl3D,QAAUA,OAAOm3D,kBAAqBn3D,OAAOm3D,kBAAoBvtC,GAAAA,IAAAA,aAC1FoQ,GAAUh2B,SAAWg2B,GAAUh2B,SAAS9uB,QAAQ,mBAAoBgiF,IAEpE,UACE19D,MAAO,IAAI8/D,GAAgB,CACzBp7D,SAAU,MACV1U,SAAU,QACVkrE,gBAAiB,YACjBpwD,eAAgBslB,GAAAA,IAAAA,iBAChBqqC,aAAcrqC,GAAAA,KAAAA,UACdyqC,YAAgC,QAArB1pC,GAAEf,GAAAA,YAAmB,IAAAe,IAAK,QAALysC,GAAnBzsC,GAAqB9d,WAAG,IAAAuqD,QAAL,EAAnBA,GAA0B59D,MACvCvN,KAAM,IAAI2rC,KAAJ,CAASoC,GAAUh2B,YAE3BtK,MAAO,IAAI4/D,GAAgB,CACzBp7D,SAAU,MACV1U,SAAU,QACVkrE,gBAAiB,UACjBpwD,eAAgBslB,GAAAA,IAAAA,eAChBqqC,aAAcrqC,GAAAA,KAAAA,QACdyqC,YAAgC,QAArBgD,GAAEztC,GAAAA,YAAmB,IAAAytC,IAAK,QAALC,GAAnBD,GAAqBxqD,WAAG,IAAAyqD,QAAL,EAAnBA,GAA0B59D,MACvCzN,KAAM,IAAI2rC,KAAJ,CAASoC,GAAUK,oBAE3BvgC,WAAY,IAAIw/D,GAAgB,CAC9Bp7D,SAAU,QACV1U,SAAU,aACVkrE,gBAAiB,YACjBpwD,eAAgBslB,GAAAA,IAAAA,eAChBqqC,aAAcrqC,GAAAA,KAAAA,UACdyqC,YAAgC,QAArBkD,GAAE3tC,GAAAA,YAAmB,IAAA2tC,IAAK,QAALC,GAAnBD,GAAqB1qD,WAAG,IAAA2qD,QAAL,EAAnBA,GAA0B19D,WACvC7N,KAAM,IAAI2rC,KAAJ,CAASoC,GAAUM,kBAE3BpgC,UAAW,IAAIo/D,GAAgB,CAC7Bp7D,SAAU,OACV1U,SAAU,YACVkrE,gBAAiB,GACjBpwD,eAAgB,GAChB2vD,aAAcrqC,GAAAA,KAAAA,KACdyqC,YAAgC,QAArBoD,GAAE7tC,GAAAA,YAAmB,IAAA6tC,IAAK,QAALC,GAAnBD,GAAqB5qD,WAAG,IAAA6qD,QAAL,EAAnBA,GAA0Bx9D,UACvCjO,KAAM,IAAI2rC,KAAJ,CAASoC,GAAUO,iBAE3B1gC,SAAU,IAAIy/D,GAAgB,CAC5Bp7D,SAAU,MACV1U,SAAU,WACVkrE,gBAAiB,UACjBpwD,eAAgBslB,GAAAA,IAAAA,WAChBqqC,aAAcrqC,GAAAA,KAAAA,QACdyqC,YAAgC,QAArBuD,GAAEhuC,GAAAA,YAAmB,IAAAguC,IAAK,QAALC,GAAnBD,GAAqB/qD,WAAG,IAAAgrD,QAAL,EAAnBA,GAA0Bh+D,SACvC5N,KAAM,IAAI2rC,KAAJ,CAASoC,GAAUQ,gBAE3B5gC,UAAW,IAAI0/D,GAAgB,CAC7Bp7D,SAAU,OACV1U,SAAU,YACVkrE,gBAAiB,WACjBpwD,eAAgBslB,GAAAA,IAAAA,YAChBqqC,aAAcrqC,GAAAA,KAAAA,SACdyqC,YAAgC,QAArByD,GAAEluC,GAAAA,YAAmB,IAAAkuC,IAAK,QAALC,GAAnBD,GAAqBjrD,WAAG,IAAAkrD,QAAL,EAAnBA,GAA0Bn+D,UACvC3N,KAAM,IAAI2rC,KAAJ,CAASoC,GAAUS,iBAE3B1gC,UAAW,IAAIu/D,GAAgB,CAC7Bp7D,SAAU,OACV1U,SAAU,YACVkrE,gBAAiB,WACjBpwD,eAAgBslB,GAAAA,IAAAA,YAChBqqC,aAAcrqC,GAAAA,KAAAA,SACdyqC,YAAgC,QAArB2D,GAAEpuC,GAAAA,YAAmB,IAAAouC,IAAK,QAALC,GAAnBD,GAAqBnrD,WAAG,IAAAorD,QAAL,EAAnBA,GAA0Bl+D,UACvC9N,KAAM,IAAI2rC,KAAJ,CAASoC,GAAUU,iBAE3B1gC,SAAU,IAAIs/D,GAAgB,CAC5Bp7D,SAAU,MACV1U,SAAU,WACVkrE,gBAAiB,UACjBpwD,eAAgBslB,GAAAA,IAAAA,WAChBqqC,aAAcrqC,GAAAA,KAAAA,YACdyqC,YAAgC,QAArB6D,GAAEtuC,GAAAA,YAAmB,IAAAsuC,IAAK,QAALC,GAAnBD,GAAqBrrD,WAAG,IAAAsrD,QAAL,EAAnBA,GAA0Bn+D,SACvC/N,KAAM,IAAI2rC,KAAJ,CAASoC,GAAUW,gBAE3BhhC,YAAa,IAAI2/D,GAAgB,CAC/Bp7D,SAAU,SACV1U,SAAU,cACVkrE,gBAAiB,aACjBpwD,eAAgBslB,GAAAA,IAAAA,cAChBqqC,aAAcrqC,GAAAA,KAAAA,eACdyqC,YAAgC,QAArB+D,GAAExuC,GAAAA,YAAmB,IAAAwuC,IAAK,QAALC,GAAnBD,GAAqBvrD,WAAG,IAAAwrD,QAAL,EAAnBA,GAA0B1+D,YACvC1N,KAAM,IAAI2rC,KAAJ,CAASoC,GAAUY,mBAE3BzgC,SAAU,IAAIm/D,GAAgB,CAC5Bp7D,SAAU,SACV1U,SAAU,WACVkrE,gBAAiB,GACjBpwD,eAAkC,QAApBk0D,GAAE5uC,GAAAA,WAAkB,IAAA4uC,QAAA,EAAlBA,GAAoB8D,aACpCrI,aAAcrqC,GAAAA,KAAAA,eACdyqC,YAAgC,QAArBiE,GAAE1uC,GAAAA,YAAmB,IAAA0uC,IAAK,QAALC,GAAnBD,GAAqBzrD,WAAG,IAAA0rD,QAAL,EAAnBA,GAA0Bp+D,SACvClO,KAAM,IAAI2rC,KAAJ,CAASoC,GAAU2+B,mBAE3Bv+D,MAAO,IAAIk/D,GAAgB,CACzBp7D,SAAU,MACV1U,SAAU,QACVkrE,gBAAiB,UACjBpwD,eAAkC,QAApBi4D,GAAE3yC,GAAAA,WAAkB,IAAA2yC,QAAA,EAAlBA,GAAoB53D,WACpCsvD,aAAcrqC,GAAAA,KAAAA,aACdyqC,YAAgC,QAArBoE,GAAE7uC,GAAAA,YAAmB,IAAA6uC,IAAK,QAALC,GAAnBD,GAAqB5rD,WAAG,IAAA6rD,QAAL,EAAnBA,GAA0Bt+D,MACvCnO,KAAM,IAAI2rC,KAAJ,CAASoC,GAAUc,gBAE3BzgC,MAAO,IAAIi/D,GAAgB,CACzBp7D,SAAU,MACV1U,SAAU,QACVkrE,gBAAiB,UACjBpwD,eAAkC,QAApBk4D,GAAE5yC,GAAAA,WAAkB,IAAA4yC,QAAA,EAAlBA,GAAoBC,WACpCxI,aAAcrqC,GAAAA,KAAAA,aACdyqC,YAAgC,QAArBuE,GAAEhvC,GAAAA,YAAmB,IAAAgvC,IAAK,QAALC,GAAnBD,GAAqB/rD,WAAG,IAAAgsD,QAAL,EAAnBA,GAA0Bx+D,MACvCpO,KAAM,IAAI2rC,KAAJ,CAASoC,GAAUe,gBAE3BzgC,OAAQ,IAAIg/D,GAAgB,CAC1Bp7D,SAAU,OACV1U,SAAU,SACVkrE,gBAAiB,WACjBpwD,eAAkC,QAApBo4D,GAAE9yC,GAAAA,WAAkB,IAAA8yC,QAAA,EAAlBA,GAAoBC,YACpC1I,aAAcrqC,GAAAA,KAAAA,cACdyqC,YAAgC,QAArByE,GAAElvC,GAAAA,YAAmB,IAAAkvC,IAAK,QAALC,GAAnBD,GAAqBjsD,WAAG,IAAAksD,QAAL,EAAnBA,GAA0Bz+D,OACvCrO,KAAM,IAAI2rC,KAAJ,CAASoC,GAAUgB,iBAE3B/gC,SAAU,IAAIq/D,GAAgB,CAC5Bp7D,SAAU,MACV1U,SAAU,WACVkrE,gBAAiB,UACjBpwD,eAAgBslB,GAAAA,IAAAA,WAChBqqC,aAAcrqC,GAAAA,KAAAA,QACdyqC,YAAgC,QAArB2E,GAAEpvC,GAAAA,YAAmB,IAAAovC,IAAK,QAALC,GAAnBD,GAAqBnsD,WAAG,IAAAosD,QAAL,EAAnBA,GAA0Bh/D,SACvChO,KAAM,IAAI2rC,KAAJ,CAASoC,GAAUa,iBCnwB7B,IACE+hC,aArBmB,WAEnB,OADAxxD,GAAAA,IAAAA,YAAwB,GACjB9V,QAAQ05B,IACbvpC,OAAOtL,KAAK0oB,GAAAA,iBAAwBltB,KAAI,SAAAquB,GAAQ,OAAI1O,QAAQunE,KAC1Dh6D,GAAAA,gBAAuBmB,GAAUruB,KAC/B,SAACsuB,GAAM,OAAK,IAAI3O,SAAQ,SAACI,EAASiB,GAChCmmE,MAAM,GAAD7lF,OAAIgtB,EAAM,YAAWqR,MAAK,kBAAM5f,EAAQuO,EAAO,IAAC,OAAO,SAAAzkB,GAAC,OAAImX,EAAOnX,EAAE,GAC5E,GAAE,KAEJ81B,MAAK,SAAAynD,GACL3xD,GAAAA,IAAAA,aAA0BpH,EAAU+4D,GACpC5uE,QAAQ4jB,IAAI,IAAD96B,OAAK+sB,EAAQ,MAAA/sB,OAAK8lF,EAAM,oBACrC,GAAE,KAEFznD,MAAK,WACLlK,GAAAA,IAAAA,YAAwB,GACxBjd,QAAQ4jB,IAAI,qBACd,IAAE,OAAO,SAAAvyB,GAAC,OAAI4rB,GAAAA,IAAAA,WAAuB,EAAK,GAC5C,GC8BA,IACE4xD,WApBiB,SAACliF,GAClB,IAAqBwT,EAAYqd,KAAzBrD,WAAaha,MAEf2uE,EAAQjwC,GAAAA,MAAAA,OAAqBlyC,EAAOyqD,GAAej3C,GAGzD,OAFA8c,GAAAA,WAAAA,iBAAqC6xD,GAE9BA,CACT,EAcEt5E,OAzCa,SAAC7I,EAAOoiF,EAAQ5uE,GAC7B,IAAM6uE,EAAoBD,EACvBvnF,KAAI,SAAAsT,GAAM,OAAI68C,GAAU78C,EAAO,IAC/BtF,QAAO,SAAA7C,GAAO,OAAAA,EAAJklD,KAAgB1pD,gBAAkBxB,EAAMwB,aAAa,IAC/D3G,KAAI,SAAAsM,GAAA,IAAG8jD,EAAI9jD,EAAJ8jD,KAAU,OAAA9jD,EAAJ+jD,KAAWD,CAAI,IAEzBq3B,EAAoBF,EACvBvnF,KAAI,SAAAsT,GAAM,OAAI68C,GAAU78C,EAAO,IAC/BtF,QAAO,SAAAyS,GAAO,OAAAA,EAAJ2vC,KAAgBzpD,gBAAkBxB,EAAMwB,aAAa,IAC/D3G,KAAI,SAAA8gB,GAAa,OAANA,EAAJsvC,KAAUtvC,EAAJuvC,IAAe,IAEzBi3B,EAAQE,EAAkBlmF,OAAOmmF,GAMvC,OAJsB9uE,EACnB3K,QAAO,SAAAlK,GAAI,OAAIwjF,EAAMruE,SAASnV,EAAKqB,MAAMsW,cAAc,IACvDna,OAAOqX,EAAM3K,QAAO,SAAAlK,GAAI,OAAIA,EAAKqB,MAAMwB,gBAAkBxB,EAAMwB,aAAa,IAGjF,EAwBE+gF,kBAZwB,SAACviF,GACzB,IAAMksB,EAAe2E,KAAWrD,WAAWtB,aACrCi2D,EAAQjwC,GAAAA,MAAAA,OAAqBlyC,EAAOyqD,GAAev+B,GAIzD,OAFAoE,GAAAA,WAAAA,gBAAoC6xD,GAE7BA,CACT,GCpDA,IAAMK,GAAU,WAAH,OAAUt9D,OAAOu9D,MAAQ,IAAI,EAiDpCC,GAAa,WACjB,GAAKx9D,OAAOy9D,GAAZ,CAIA,IACE,OAAOz9D,OAAOy9D,GAAGC,SAAS,EAC5B,CAAE,MAAOh+E,GACPyO,QAAQzO,MAAMA,EAChB,CACA,OAAO,IAPP,CAQF,EAYA,UACE89E,WAAAA,GACAG,YAZkB,WAClB,IAAMC,EAAUJ,KAEhB,GAAKI,EAGL,OAAOA,EAAQ7/E,IAAI,WACrB,EAME8/E,UAxEgB,WAA4B,IAAA/8E,EAAAxL,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAP,CAAC,EAAnB8f,EAAMtU,EAANsU,OAAQ0oE,EAAKh9E,EAALg9E,MACrBP,EAAOD,KAERloE,GAAWmoE,GAIhBA,EAAK,QAASnoE,EAAQ,CACpB,MAAS0oE,GAEb,EA+DEC,WA/CiB,SAACC,GAGlB,GAFaV,KAMb,OAAO,IACT,EAwCEW,UAtCgB,SAACD,EAAaE,GAG9B,GAFaZ,KAMb,OAAO,IACT,EA+BEa,aA9DmB,WAAwC,IAAAl8E,EAAA3M,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAP,CAAC,EAA/B8f,EAAMnT,EAANmT,OAAQ8I,EAAQjc,EAARic,SAAUF,EAAO/b,EAAP+b,QAClCu/D,EAAOD,KAERloE,GAAWmoE,GAIhBA,EAAK,QAAS,WAAFtmF,OAAame,GAAU,CACjC,SAAY8I,EACZ,QAAWF,GAEf,GCtBA,IAgBMogE,GAAU,SAAC5rE,IACI,SAAb6rE,IACkC1yD,KAA9BvB,WAAelH,SAErB1Q,IAEAG,WAAW0rE,EAAY,IAE3B,CACAA,EACF,EA0BA,UACE1kF,IArDU,SAAA8jB,GACV2N,GAAAA,WAAAA,IAAwB3N,EAC1B,EAoDE8F,WAlDiB,WACjB6H,GAAAA,WAAAA,YACF,EAiDE5H,SA/Ce,WACf4H,GAAAA,WAAAA,UACF,EA8CE3H,eA5CqB,WACrB2H,GAAAA,WAAAA,gBACF,EA2CEgzD,QAAAA,GACAE,SA9Be,SAAC1iE,EAAM8vD,EAAWC,EAAQ4S,GACzCH,IAAQ,WACN,IAAII,GAAY,EAEVC,EAAa9rE,YAAW,WAC5B6rE,GAAY,EACR7S,GAAQA,GACd,GAAG4S,IAEc,SAAXG,IACAF,IAEEzvE,GAAAA,GAAAA,SAAiBQ,SAASpC,KAAK8uC,WAAWC,QAAQtgC,IACpDowD,aAAayS,GACT/S,GAAWA,KAEf/4D,WAAW+rE,EAAU,KAG3B,CACAA,EACF,GACF,GCrDA,YAAgBxgE,EAAUygE,GACxB,IAAI1mF,EAAMimB,EAAS5hB,cAEnB,OAAQrE,GACN,IAAK,WACL,IAAK,sBACL,IAAK,sBACL,IAAK,iBACHA,EAAM,MAOV,OAJIojD,GAAUhR,QAAQ,CAAEnhC,KAAMjR,MAC5BA,EAAM0mF,EAAc1mF,EAAM,SAGrBA,CACR,ECsND,IACE2mF,WAjNiB,SAACpjF,GAClB,IAAgB8jB,EAAcqM,KAAtBzB,KAAQ5K,QAEhB,IAdmB,SAAC9jB,GACpB,SAAKA,GACAA,EAAK0iB,UAEL1iB,EAAKqjF,aACLrjF,EAAK4lB,OAIZ,CAKO09D,CAAatjF,GAAO,OAAO,EAEhC,IAEMujF,EAAc,CAClB7gE,SAHew4B,GAAel7C,EAAK0iB,UAAU,GAG1B9M,cACnBuxB,UAAWnnC,EAAKmnC,UAChBk8C,YAAarjF,EAAKqjF,YAClBz9D,OAAQ5lB,EAAK4lB,OACb49D,QAASxjF,EAAKwjF,QACdlB,MAAQtiF,EAAKsiF,MAAStiF,EAAKsiF,MAAQ,GACnCv5E,QAAS+a,EAAQ/a,QACjBF,OAAQib,EAAQhb,UAAUvP,SAAS,OACnCksC,QAAiC,IACjCid,YAAc1iD,EAAK0iD,YAAe1iD,EAAK0iD,YAAc,IAGvD,OAAO7oB,GAAAA,KAAe,aAAc,iBAAkB,CACpDpC,KAAM8rD,GAEV,EA2LEja,YApDkB,SAACtpE,GACnB,OAAKqnB,GAAAA,KAAAA,eAIgB,gBAAjBrnB,EAAK+I,QACA,IAAI+Q,SAAQ,SAACI,GAClBA,EAAQ,GACV,KAG4BiW,KAAtBzB,KAAQ5K,WACX9jB,GAASA,EAAK0iB,UAAa1iB,EAAK+I,UAE9B,IAAI+Q,SAAQ,SAACI,GAElB2f,GAAAA,KAAe,aAAc,kBAAmB,CAC9CpC,KAAM,CACJ/U,SAAUw4B,GAAel7C,EAAK0iB,UAAU,GAAM9M,cAC9C7M,QAAS/I,EAAK+I,QACd08B,QAAiC,OAElC3L,MAAK,SAACj6B,GACP,GAAIA,GAAOA,EAAIk6B,QAAyB,OAAfl6B,EAAIk6B,OAAiB,CAC5C,IAAMjY,EAAejiB,EAAIiT,MAAM3Y,KAAI,SAAC8D,GAClC,IAAMmvC,EAAYnvC,EAAKkpC,YAAcnnC,EAAK+I,QAAU,KAAO,MAE3D,MAAQ,CACN4E,KAAMutC,GAAel7C,EAAK0iB,UAAU,GACpC+gE,OAAQ,UACRC,YAAazlF,EACbgwB,KAAM,UACN2U,cAAe,EACftjC,MAAOrB,EAAK2nB,OACZ6nB,KAAiB,IAAXxvC,EAAK0lF,IACXv2C,UAAAA,EAEJ,IAEAlzB,EAAQ4H,EACV,MACE5H,EAAQ,GAEZ,IAAE,OACO,WACLA,EAAQ,GACV,GACJ,KA7CS,IAAIJ,SAAQ,SAACI,GAAcA,EAAQ,GAAI,GA8ClD,EAKE0pE,WAjKiB,SAAC31D,GAClB,OAAK5G,GAAAA,KAAAA,eAIE,IAAIvN,SAAQ,SAACI,GAElB2f,GAAAA,KAAe,aAAc,eAAgB,CAC3CpC,KAAM,CACJxJ,KAAAA,KAED6L,MAAK,SAACj6B,GAEP,GADA8S,QAAQ4jB,IAAI,iCAAkC12B,GAC1CA,GAAOA,EAAIk6B,QAAyB,OAAfl6B,EAAIk6B,QAAmBl6B,EAAI5B,KAAM,CACxD,IACEA,EAKE4B,EALF5B,KAAI4lF,EAKFhkF,EAJF5B,KACE2nB,EAAMi+D,EAANj+D,OACA+9D,EAAGE,EAAHF,IAIEv2C,EAAaoE,GAAAA,KAAAA,QAAqBvzC,EAAKkpC,UAAWlpC,EAAK0P,MAAS,KAAO,MACvE8qC,EAAWjH,GAAAA,KAAAA,QAAqBvzC,EAAKolF,YAAaplF,EAAK0P,MAE7DuM,EAAQ,CACNwpE,YAAazlF,EACbw6C,QAAAA,EACAqrC,WAAa7lF,EAAKkpC,UAClBlZ,KAAM,UACN2U,cAAe,EACftjC,MAAOsmB,EACP6nB,KAAY,IAANk2C,EACNv2C,UAAAA,GAEJ,MACElzB,GAAQ,EAEZ,IAAE,OAAO,WACPA,GAAQ,EACV,GACF,IAvCS,IAAIJ,SAAQ,SAACI,GAAcA,GAAQ,EAAO,GAwCrD,EAwHE6pE,gBAtHsB,SAAC/jF,GACvB,OAAKqnB,GAAAA,KAAAA,eAIE,IAAIvN,SAAQ,SAACI,GAElB,IAAM8pE,EAAiB,CAAC,EAClBl+D,EAAU9lB,EAAK7F,KAAI,SAAC8D,GACxB,GAAIA,GAAQA,EAAK0P,MAAQ1P,EAAK8K,QAAS,CACrC,IACQk7E,EAGJhmF,EAHF0P,KACA+X,EAEEznB,EAFFynB,SACA3c,EACE9K,EADF8K,QAGI4E,GAAS+X,GAAuBw1B,GAAe+oC,GAAS,IAAOruE,cAMrE,OALAouE,EAAe,GAADvoF,OAAIkS,EAAI,KAAAlS,OAAIsN,EAAQjI,gBAAmB,CACnD6M,KAAAA,EACA5E,QAAAA,GAGK,CACL4E,KAAAA,EACA5E,QAAAA,EAEJ,CACF,IAEA8wB,GAAAA,KAAe,aAAc,sBAAuB,CAClDpC,KAAM,CACJ3R,QAAAA,EACA2f,QAAiC,OAElC3L,MAAK,SAACj6B,GACP,GAAIA,GAAOA,EAAIk6B,QAAyB,OAAfl6B,EAAIk6B,OAAiB,CAC5C,IAAMmqD,EAAWrkF,EAAIiT,MAAM3Y,KAAI,SAAC8D,GAC9B,IAAMkmF,EAAa,GAAH1oF,OAAMwC,EAAK0P,KAAI,KAAAlS,OAAIwC,EAAKkpC,UAAUrmC,eAE5CssC,OAA4CrzC,IAA/BiqF,EAAeG,GAA6B,KAAO,MAEtE,MAAQ,CACNx2E,KAAM1P,EAAK0P,KACX81E,OAAQ,UACRC,YAAazlF,EACbgwB,KAAM,UACN2U,cAAe,EACftjC,MAAOrB,EAAK2nB,OACZ6nB,KAAiB,IAAXxvC,EAAK0lF,IACXv2C,UAAAA,EAEJ,IAEAlzB,EAAQgqE,EACV,MACEhqE,EAAQ,GAEZ,IAAE,OACO,WACLA,EAAQ,GACV,GACJ,IA3DS,IAAIJ,SAAQ,SAACI,GAAcA,EAAQ,GAAI,GA4DlD,EAyDEkqE,cA5LoB,SAACC,GAAS,OAAK,IAAIvqE,SAAQ,SAACI,GAAO,OAAK2f,GAAAA,KAAe,aAAc,mBACzF,CACEpC,KAAM,CACJ4sD,UAAAA,KAGHvqD,MAAK,SAACj6B,GACLqa,EAAQra,GAAOA,EAAIk6B,QAAyB,OAAfl6B,EAAIk6B,OACnC,IAAE,OACK,WAAQ7f,GAAQ,EAAO,GAAE,GAAC,EAoLjCoqE,YAlLkB,SAACD,EAAWE,EAAM7hD,EAAM35B,GAAO,OAAK,IAAI+Q,SAAQ,SAACI,GAAO,OAAK2f,GAAAA,KAAe,aAAc,iBAC5G,CACEpC,KAAM,CACJ4sD,UAAAA,EACAE,KAAAA,EACA7hD,KAAAA,EACA35B,QAAAA,KAGH+wB,MAAK,SAACj6B,GACLqa,EAAQra,GAAOA,EAAIk6B,QAAyB,OAAfl6B,EAAIk6B,OACnC,IAAE,OACK,WAAQ7f,GAAQ,EAAO,GAAE,GAAC,G,ykBCxEnC,IAgBMsqE,GAAc,WAAH,OAAShyE,KAAKE,MAAMN,aAAaE,QAAQ,qBAAuB,CAAC,CAAC,EAQnF,UACEmyE,WAzBiB,SAAChoF,GAAG,OAAK+nF,KAAc/nF,SAAQ1C,CAAS,EA0BzD2qF,qBAR2B,SAACC,EAAYC,GAGxC,OAFgBD,GAAaA,EAAWC,IAAa,EAGvD,EAKEC,WAzBiB,SAAHv/E,GAAyB,IAAnBw/E,EAAOx/E,EAAPw/E,QAASroF,EAAG6I,EAAH7I,IACvBsoF,EAAkBP,KAClBQ,GAAU9yE,EAAAA,EAAAA,GAAA,MAAAzW,OAASgB,GAAQ,GAAAhB,OAAGqpF,GAAUprF,QAAQ,iBAAkB,MACxEiZ,QAAQ4jB,IAAI,aAAc,CAAEuuD,QAAAA,EAASroF,IAAAA,IAErC2V,aAAaC,QAAQ,kBAAmBG,KAAKC,UAASrC,GAAAA,GAAC,CAAD,EAE/C20E,GACAC,IAGT,EAeER,YAAAA,IC5BF,IACES,MAAO,QACP9pE,OAAQ,SACR+pE,OAAQ,SACRC,cAAe,gBACfC,YAAa,cACb34D,YAAa,cACbC,cAAe,gBACf24D,mBAAoB,qBACpBC,YAAa,cACbC,YAAa,cACbC,gBAAiB,YACjBC,iBAAkB,mBAClBr+D,gBAAiB,kBACjBs+D,iBAAkB,mBAClBC,kBAAmB,oBACnBC,cAAe,gBACfC,eAAgB,iBAChBC,iBAAkB,mBAClBC,UAAW,YACXC,uBAAwB,sBACxBC,iBAAkB,GAAFxqF,OAAKyqF,UAAiB,kBACtCC,2BAA4B,mBAC5BC,YAAa,cACbC,YAAa,cACbC,sBAAuB,wBACvBC,iBAAkB,mBAClBC,QAAS,GAAF/qF,OAAKyqF,UAAiB,YAC7BO,eAAgB,GAAFhrF,OAAKyqF,UAAiB,YACpCQ,gBAAiB,GAAFjrF,OAAKyqF,UAAiB,oBACrCS,kBAAmB,oBACnBC,OAAQ,SACRC,QAAS,UACTC,mBAAoB,qBACpBC,WAAY,wBACZC,iBAAkB,mBAClBC,sBAAuB,yBCpCzB,IACE14E,IAAK,GAAF9S,OAAKyqF,UAAiB,mBACzB13E,IAAK,GAAF/S,OAAKyqF,UAAiB,mBACzBz3E,MAAO,GAAFhT,OAAKyqF,UAAiB,qBAC3BgB,SAAU,GAAFzrF,OAAKyqF,UAAiB,wBAC9Bv3E,OAAQ,GAAFlT,OAAKyqF,UAAiB,sBAC5Bt3E,KAAM,GAAFnT,OAAKyqF,UAAiB,oBAC1Br3E,IAAK,GAAFpT,OAAKyqF,UAAiB,mBACzBp3E,KAAM,GAAFrT,OAAKyqF,UAAiB,oBAC1Bn3E,KAAM,GAAFtT,OAAKyqF,UAAiB,oBAC1Bl3E,IAAK,GAAFvT,OAAKyqF,UAAiB,mBACzBj3E,IAAK,GAAFxT,OAAKyqF,UAAiB,mBACzBh3E,OAAQ,GAAFzT,OAAKyqF,UAAiB,mBAC5B/2E,IAAK,GAAF1T,OAAKyqF,UAAiB,mBACzB92E,IAAK,GAAF3T,OAAKyqF,UAAiB,mBACzB72E,KAAM,GAAF5T,OAAKyqF,UAAiB,oBAC1B53E,IAAK,GAAF7S,OAAKyqF,UAAiB,mBACzB52E,MAAO,GAAF7T,OAAKyqF,UAAiB,qBAC3B7mF,KAAM,GAAF5D,OAAKyqF,UAAiB,oBAC1BiB,YAAa,GAAF1rF,OAAKyqF,UAAiB,gBACjCkB,YAAa,GAAF3rF,OAAKyqF,UAAiB,2BACjCmB,yBAA0B,GAAF5rF,OAAKyqF,UAAiB,8BAC9Ct0C,kBAAmB,GAAFn2C,OAAKyqF,UAAiB,sBACvCoB,2BAA4B,GAAF7rF,OAAKyqF,UAAiB,+BAEhDl0C,kBAAmB,GAAFv2C,OAAKyqF,UAAiB,sBAEvC7zC,iBAAkB,GAAF52C,OAAKyqF,UAAiB,qBACtCqB,eAAgB,GAAF9rF,OAAKyqF,UAAiB,oBCnBtC,IACE9zE,aAAAA,GACAo1E,YAAAA,GACAC,gBAAAA,GACAC,cAAAA,GACAr5D,cCdF,CACEs5D,gBAAiB,kBACjBC,QAAS,UACTC,kBAAmB,oBACnBC,oBAAqB,sBACrBld,YAAa,eDUbmd,UAAAA,GACAz5D,OEhBF,CACE05D,SAAU,gBACVC,MAAO,aACPC,WAAY,aACZC,YAAa,mBACbC,aAAc,eACdC,cAAe,gBACfC,QAAS,UACTC,mBAAoB,qBACpBC,iBAAkB,mBAClBC,iBAAkB,mBAClBC,kBAAmB,oBACnBC,qBAAsB,4BACtBC,eAAgB,iBAChBC,aAAc,eACdC,iBAAkB,mBAClBC,WAAY,aACZC,eAAgB,iBAChBC,mBAAoB,qBACpBC,MAAO,aACPC,sBAAuB,wBACvBC,kBAAmB,oBACnBC,sBAAuB,wBACvBC,mBAAoB,qBACpBC,YAAa,cACbC,iBAAkB,mBAClBC,qBAAsB,uBACtBC,eAAgB,iBAChBC,mBAAoB,qBACpBC,YAAa,cACbC,oBAAqB,sBACrBC,mBAAoB,qBACpBC,qBAAsB,uBACtBC,qBAAsB,uBACtBC,kBAAmB,oBACnBC,0BAA2B,4BAC3BC,uBAAwB,yBACxBC,qBAAsB,wBFpBtBC,eAAAA,I,omBGRF,IAAMj4E,GAAeoS,OAAOpS,aACtBk4E,GAAgB,GAAH7uF,OAAMyqF,UAAiB,qBAEpCqE,GAAiB,CACrBC,eAAgB,WACd,OAAQhmE,QAAUA,OAAOqP,WAAaxM,GAAAA,KAAAA,UACxC,EACAojE,cAAe,WAEb,OADoBr4E,GAAaE,QAAQg4E,GAE3C,EACAI,gBAAiB,WACf,OAAO,IAAI5wE,SAAQ,SAACI,GAAY,IAAAi3B,EAAA7mB,EACxBiH,EAAUlK,UAAY,QAAN8pB,EAAN9pB,GAAAA,YAAY,IAAA8pB,OAAN,EAANA,EAAc5f,QAG5BA,SAAAA,EAASI,cAATJ,MACGA,GAAAA,EAASM,kBACH,QADmBvH,EACzB9F,cAAM,IAAA8F,GAANA,EAAQuJ,WACRxM,GAAAA,KAAAA,WAEHsjE,KAAAA,KACEp5D,EAAQM,iBACR,CACEgC,UAAWrP,OAAOqP,UAClBD,WAAYvM,GAAAA,KAAAA,aAEdyS,MAAK,SAACj6B,GAAa,IAAA+qF,EACf/qF,SAAS,QAAN+qF,EAAH/qF,EAAKG,YAAI,IAAA4qF,GAATA,EAAW7wD,QACU,OAApBl6B,EAAIG,KAAK+5B,QACTl6B,EAAIG,KAAKA,KAEZka,GAAQ,GAERA,GAAQ,EAEZ,IAAE,OAAO,SAAClW,GACRkW,GAAQ,EACV,IAEAA,GAAQ,EAEZ,GACF,EACA2wE,cAAe,WAGb,QAFoBz4E,GAAaE,QAAQg4E,MAEjB,GAAL7uF,OAAQ+oB,OAAOqP,aAAerP,OAAOqP,UAC1D,EACAi3D,WAAY,WACV,OAAO,IAAIhxE,SAA4B,SAACI,GAAY,IAAA4/B,EAAAnuB,EAC5C4F,EAAUlK,UAAY,QAANyyB,EAANzyB,GAAAA,YAAY,IAAAyyB,OAAN,EAANA,EAAcvoB,QAExBw5D,EAAsB,CAC1BC,aAAa,EACbC,iBAAiB,GAGnB,GACE15D,SAAAA,EAASI,cAATJ,MACGA,GAAAA,EAASK,iBACH,QADkBjG,EACxBnH,cAAM,IAAAmH,GAANA,EAAQkI,WACRxM,GAAAA,KAAAA,WACH,CACA0jE,EAAoBE,iBAAkB,EACtC,IAAM1oF,EAAM,SAAC9F,GAAG,OAAK2V,GAAaE,QAAQuB,GAAAA,gBAA0BpX,GAAK,EAEnEyuF,EAAS,CACb38E,IAAkChM,EAAI,OACtCiM,IAAkCjM,EAAI,OACtCkM,MAAkClM,EAAI,SACtCmM,OAAkCnM,EAAI,UACtCoM,OAAkCpM,EAAI,UACtCqM,KAAkCrM,EAAI,QACtCsM,IAAkCtM,EAAI,OACtCuM,KAAkCvM,EAAI,QACtCwM,KAAkCxM,EAAI,QACtCyM,IAAkCzM,EAAI,OACtC4M,IAAkC5M,EAAI,OACtC+L,IAAkC/L,EAAI,OACtC+M,MAAkC/M,EAAI,SACtClD,KAAkCkD,EAAI,QACtC4kF,YAAkC5kF,EAAI,eACtC6kF,YAAkC7kF,EAAI,eACtC8kF,yBAAkC9kF,EAAI,4BACtCqvC,kBAAkCrvC,EAAI,qBACtC+kF,2BAAkC/kF,EAAI,8BACtCyvC,kBAAkCzvC,EAAI,qBACtC6kB,gBAAkChV,GAAaE,QAAQuB,GAAAA,aAAAA,iBACvDgyE,eAAkCzzE,GAAaE,QAAQuB,GAAAA,aAAAA,gBACvDmyE,uBAAkC5zE,GAAaE,QAAQuB,GAAAA,aAAAA,wBACvDoyE,iBAAkC7zE,GAAaE,QAAQuB,GAAAA,aAAAA,mBAGzD82E,KAAAA,KACEp5D,EAAQK,gBAAexhB,GAAAA,GAAA,GAElB86E,GAAM,IACTr3D,UAAWrP,OAAOqP,UAClBD,WAAYvM,GAAAA,KAAAA,cAEdyS,MAAK,SAACj6B,GAAa,IAAAsrF,EACftrF,SAAS,QAANsrF,EAAHtrF,EAAKG,YAAI,IAAAmrF,GAATA,EAAWpxD,QACU,OAApBl6B,EAAIG,KAAK+5B,QAEZ3nB,GAAaC,QAAQi4E,GAAe9lE,OAAOqP,WAC3Ck3D,EAAoBC,aAAc,EAClC9wE,EAAQ6wE,IAER7wE,EAAQ6wE,EAEZ,IAAE,OAAO,SAAC/mF,GACRkW,EAAQ6wE,EACV,GACF,MACE7wE,EAAQ6wE,EAEZ,GACF,EACAK,YAAa,WACX,OAAO,IAAItxE,SAAQ,SAACI,GAAY,IAAAo9B,EAAA/mB,EACxBgB,EAAUlK,UAAY,QAANiwB,EAANjwB,GAAAA,YAAY,IAAAiwB,OAAN,EAANA,EAAc/lB,QAG5BA,SAAAA,EAASI,cAATJ,MACGA,GAAAA,EAASK,iBACH,QADkBrB,EACxB/L,cAAM,IAAA+L,GAANA,EAAQsD,WACRxM,GAAAA,KAAAA,WAEHsjE,KAAAA,KACEp5D,EAAQK,gBACR,CACEiC,UAAWrP,OAAOqP,UAClBD,WAAYvM,GAAAA,KAAAA,WACZzN,OAAQ,YAEVkgB,MAAK,SAACj6B,GAAa,IAAAwrF,EAEjBxrF,SAAS,QAANwrF,EAAHxrF,EAAKG,YAAI,IAAAqrF,GAATA,EAAWtxD,QACY,OAApBl6B,EAAIG,KAAK+5B,OAEZ7f,GAAQ,GAERA,GAAQ,EAEZ,IAAE,OAAO,SAAClW,GACRkW,GAAQ,EACV,IAEAA,GAAQ,EAEZ,GACF,EACAoxE,YAAa,WACX,OAAO,IAAIxxE,SAAQ,SAACI,GAAY,IAAAq+B,EAAAgzC,EACxBh6D,EAAUlK,UAAY,QAANkxB,EAANlxB,GAAAA,YAAY,IAAAkxB,OAAN,EAANA,EAAchnB,QAE9B,GACEA,SAAAA,EAASI,cAATJ,MACGA,GAAAA,EAASM,kBACH,QADmB05D,EACzB/mE,cAAM,IAAA+mE,GAANA,EAAQ13D,WACRxM,GAAAA,KAAAA,WACH,CACA,IAAMlpB,EAAM,SAAC1B,EAAK6C,GACZA,GAAO8S,GAAaC,QAAQwB,GAAAA,gBAA0BpX,GAAM6C,EAClE,EAEAqrF,KAAAA,KACEp5D,EAAQM,iBACR,CACEgC,UAAWrP,OAAOqP,UAClBD,WAAYvM,GAAAA,KAAAA,aAEdyS,MAAK,SAACj6B,GAAa,IAAA2rF,EACnB,GAAI3rF,SAAS,QAAN2rF,EAAH3rF,EAAKG,YAAI,IAAAwrF,GAATA,EAAWzxD,QACU,OAApBl6B,EAAIG,KAAK+5B,QACTl6B,EAAIG,KAAKA,KACZ,KAAAyrF,EACMzrF,EAAOH,EAAIG,KAAKA,KAEtB7B,EAAI,MAAO6B,EAAKsO,KAChBnQ,EAAI,QAAS6B,EAAKsP,OAClBnR,EAAI,OAAQ6B,EAAKX,MACjBlB,EAAI,cAAe6B,EAAKonF,aACxBjpF,EAAI,2BAA4B6B,EAAKqnF,0BACrClpF,EAAI,oBAAqB6B,EAAKgyC,mBAC9B7zC,EAAI,oBAAqB6B,EAAK4xC,mBAC9BzzC,EAAI,6BAA8B6B,EAAKsnF,4BACvCnpF,EAAI,MAAO6B,EAAKuO,KAChBpQ,EAAI,MAAO6B,EAAKwO,KAChBrQ,EAAI,QAAS6B,EAAKyO,OAClBtQ,EAAI,SAAU6B,EAAK0O,QACnBvQ,EAAI,SAAU6B,EAAK2O,QACnBxQ,EAAI,OAAQ6B,EAAK4O,MACjBzQ,EAAI,MAAO6B,EAAK6O,KAChB1Q,EAAI,OAAQ6B,EAAK8O,MACjB3Q,EAAI,OAAQ6B,EAAK+O,MACjB5Q,EAAI,MAAO6B,EAAKgP,KAChB7Q,EAAI,MAAO6B,EAAKmP,KAChBhR,EAAI,cAAe6B,EAAKmnF,aAGxB/0E,GAAaC,QAAQwB,GAAAA,aAAAA,gBAAwC7T,EAAKonB,iBAClEhV,GAAaC,QAAQwB,GAAAA,aAAAA,eAAuC,QAC5DzB,GAAaC,QAAQwB,GAAAA,aAAAA,cAAsC,QAC3DzB,GAAaC,QAAQwB,GAAAA,aAAAA,kBAA0C,QAC/DzB,GAAaC,QAAQwB,GAAAA,aAAAA,iBAAyC,QAC9DzB,GAAaC,QAAQwB,GAAAA,aAAAA,YAAoC,QACzDzB,GAAaC,QAAQwB,GAAAA,aAAAA,uBAA+C7T,EAAKgmF,wBACzE5zE,GAAaC,QAAQwB,GAAAA,aAAAA,iBAAyC7T,EAAKimF,kBACnE7zE,GAAaC,QAAQi4E,GAAe9lE,OAAOqP,WAE3C,IAAM0jB,EAAqDlwB,UAAY,QAANokE,EAANpkE,GAAAA,YAAY,IAAAokE,OAAN,EAANA,EAAcl0C,mDACzE5kC,QAAQ4jB,IAAI,yBAA0BghB,GAEtCr9B,GAAQ,EACV,MACEA,GAAQ,EAEZ,GACF,MACEA,GAAQ,EAEZ,GACF,GAGF,YCtOA,IAAMwxE,GAAe,CACnB73E,GAAAA,gBAAAA,IACAA,GAAAA,gBAAAA,IACAA,GAAAA,gBAAAA,MACAA,GAAAA,gBAAAA,IACAA,GAAAA,gBAAAA,YACAA,GAAAA,gBAAAA,yBACAA,GAAAA,gBAAAA,kBACAA,GAAAA,gBAAAA,2BACAA,GAAAA,gBAAAA,mBA0DI83E,GAAe,SAACT,GACpB,KAAIA,GACCA,EAAO3G,MACP2G,EAAOvH,KACPuH,EAAO5I,OACP4I,EAAOlrF,MAMV,OAAO,EAJPiK,OAAOtL,KAAKusF,EAAOlrF,MAAM/D,SAAQ,SAAC2vF,GAChCx5E,aAAaC,QAAQu5E,EAAOV,EAAOlrF,KAAK4rF,GAC1C,GAIJ,EA0CMC,GAAS,SAACtH,GACd,IAAIuH,EAAa15E,aAAaE,QAAQ,GAAD7W,OAAIoY,GAAAA,aAAAA,eAAqC,KAAApY,OAAI8oF,IAElF,IAAMuH,EAAat5E,KAAKE,MAAMo5E,EAAY,CAAE,MAAO9nF,GAAK,CACxD,SAAI8nF,GAECA,EAAWvH,MAEXuH,EAAWnI,KAEXmI,EAAWxJ,OAEXwJ,EAAW9rF,OAEP8rF,CAGX,EAcA,SAZsB,CACpBZ,OAnHa,SAATA,EAAU3G,EAAMjC,EAAOyJ,GACtBzJ,IAAOA,GAAQ,IAAIrqD,MAAO1+B,YAC1BgrF,IAAMA,EAAO/pD,MAElB,IAAMx6B,EAAO,CAAC,EACd0rF,GAAazvF,SAAQ,SAAC2vF,GACpB,IAAMtsF,EAAQ8S,aAAaE,QAAQs5E,GAC/BtsF,IACFU,EAAK4rF,GAAStsF,EAElB,IAEA,IAAMwsF,EAAa,CACjBvH,KAAAA,EACAjC,MAAAA,EACAqB,IAAKnpD,KACLx6B,KAAAA,GAGEwmF,EAAUp0E,aAAaE,QAAQuB,GAAAA,aAAAA,SAEnC,IAAM2yE,EAAUh0E,KAAKE,MAAM8zE,EAAS,CAAE,MAAOxiF,GAAK,CAQlD,OANMwiF,aAAmBrtF,QAEvBqtF,EAAU,KAIoB,IAA3BA,EAAQrzE,QAAQoxE,IAAkBwH,GAEvCvF,EAAQ1iF,QAAQygF,GAEhBnyE,aAAaC,QAAQwB,GAAAA,aAAAA,QAAgCrB,KAAKC,UAAU+zE,IAClD,GAAH/qF,OAAMoY,GAAAA,aAAAA,eAAqC,KAAApY,OAAI8oF,GAC9DnyE,aAAaC,QAAQ,GAAD5W,OAAIoY,GAAAA,aAAAA,eAAqC,KAAApY,OAAI8oF,GAAQ/xE,KAAKC,UAAUq5E,IAEjFZ,GARgD,QASzD,EA8EEc,QA7Dc,SAACzH,GACf,IAAM2G,EAASW,GAAOtH,GACtB,QAAI2G,GACKS,GAAaT,EAGxB,EAwDES,aAAAA,GACAM,KAvDW,WACX,IAAIzF,EAAUp0E,aAAaE,QAAQuB,GAAAA,aAAAA,SAEnC,IAAM2yE,EAAUh0E,KAAKE,MAAM8zE,EAAS,CAAE,MAAOxiF,GAAK,CA0BlD,OAxBMwiF,aAAmBrtF,QAEvBqtF,EAAU,IAGFA,EAAQrsF,KAAI,SAACoqF,GACrB,IAAIuH,EAAa15E,aAAaE,QAAQ,GAAD7W,OAAIoY,GAAAA,aAAAA,eAAqC,KAAApY,OAAI8oF,IAElF,IAAMuH,EAAat5E,KAAKE,MAAMo5E,EAAY,CAAE,MAAO9nF,GAAK,CACxD,SAAI8nF,GAECA,EAAWvH,MAEXuH,EAAWnI,KAEXmI,EAAWxJ,OAEXwJ,EAAW9rF,OAEP8rF,CAGX,IAAG3jF,QAAO,SAAA2jF,GAAU,OAAIA,GAAcA,EAAWvH,IAAI,GAGvD,EA0BEsH,OAAAA,GACAtpF,IAAKspF,GAELK,aAxImB,WACnB,OAAO3B,GAAAA,YACT,EAuIE4B,kBArIwB,WACpB9kE,IACCA,GAAAA,MACAA,GAAAA,KAAAA,SACAA,GAAAA,KAAAA,QAAAA,cAEHkjE,GAAAA,aAEJ,GC7BO,IAAK6B,GAAiB,SAAjBA,GAAiB,OAAjBA,EAAAA,EAAiB,qBAAjBA,EAAAA,EAAiB,iBAAjBA,EAAAA,EAAiB,mBAAjBA,EAAAA,EAAiB,mBAAjBA,CAAiB,M,ykBC+K7B,UACEC,UA3KgB,SAAH/mF,GAA6D,IAAvDgnF,EAAMhnF,EAANgnF,OAAQ5pC,EAAWp9C,EAAXo9C,YAAa98B,EAAMtgB,EAANsgB,OAAQyL,EAAG/rB,EAAH+rB,IAAK2Z,EAAK1lC,EAAL0lC,MAAOuhD,EAAOjnF,EAAPinF,QAC5CzoE,EAAcqM,KAAtBzB,KAAQ5K,QAEVyvD,EAAe/hC,GAAAA,YAAAA,gBAAoC86C,GAEzD,GAAI/Y,EAAc,CAChB,IAAMgQ,EAAc,CAClBx6E,QAAS+a,EAAQ/a,QACjBF,OAAQib,EAAQhb,UAAUvP,SAAS,OACnCksC,QAAiC,IAEjC6mD,OAAAA,EACA5pC,YAAAA,EACA98B,OAAAA,EACAyL,IAAAA,EACA2Z,MAAAA,EACAuhD,QAAAA,EAEA5tF,KAAM40E,EAAa3oC,WAAWzwC,KAAI,SAACsC,GAAG,OAAKA,EAAIlD,SAAS,MAAM,KAGhE,OAAOsgC,GAAAA,KAAe,WAAY,cAAe,CAC/CpC,KAAM8rD,IACLzpD,MAAK,SAAArzB,GAAO,OAAAA,EAAJg+B,IAAe,GAC5B,CAEA,OADA9xB,QAAQzO,MAAM,4CACP,CAET,EAgJEo9E,MAjGY,SAACv4E,GACb,IACMyjF,EADwBr8D,KAAtBzB,KAAQ5K,QACUhb,UAAUvP,SAAS,OAE7C,OAAOsgC,GAAAA,KAAe,WAAY,QAAS,CACzCpC,KAAM,CACJ1uB,QAAAA,GAEFyuB,MAAO,eACNsC,MAAK,SAACj6B,GACP,GAAIA,GACCA,EAAIk6B,OACP,CACqByX,GAAAA,YAAAA,gBAAoCzoC,GAAzD,IAEM0jF,EACF5sF,EAAIiT,MACA3K,QACE,SAAAyS,GAAQ,OAAAA,EAAN2+D,SAAuB6S,GAAkBM,OAAO,IAIxDC,IAA0BF,EAAoB,IAAM,CACtD1jF,QAAAA,EACA9K,KAAMwuF,EAAoB,IAGtB3qE,EAAejiB,EAAIiT,MAAM3Y,KAAI,SAAC8D,GAClC,IAAMs7E,EAAWt7E,EAAXs7E,OAEN,OAAQA,GACN,KAAK6S,GAAkBM,QAASnT,EAAS,UACvC,MACF,KAAK6S,GAAkBQ,MAASrT,EAAS,QACvC,MACF,KAAK6S,GAAkBS,OAAStT,EAAS,SACvC,MACF,KAAK6S,GAAkBU,OAASvT,EAAS,SAI3C,MAAQ,CACN5rE,KAAM,MACNsgB,KAAMhwB,EAAK8uF,SACXv/C,SAAS,EACTi2C,OAAQ,UACRuJ,UAAS58E,GAAAA,GAAA,GACJnS,GAAI,IACPs7E,OAAAA,EACA0T,SAAWT,IAAcvuF,EAAKivF,SAEhCtqD,cAAe,EACftjC,MAAOrB,EAAK2nB,OACZ6nB,KAAiB,IAAXxvC,EAAK0lF,IACXv2C,UAAW,MAEf,IASA,OANAxd,GAAAA,KAAAA,qBAAmC,CACjC7mB,QAAAA,EACAgc,KAAM4nE,EACN3nE,MAAOynE,EAAoBzzF,SAGtB8oB,CACT,CAAE,MAAO,EACX,IAAE,OAAO,SAAC9d,GAAC,MAAK,EAAE,GACpB,EA+BEk9B,QAhJc,SAACuD,GAAI,OAAK5K,GAAAA,IACnB,WAAY,OAAFp+B,OAASgpC,IACvB3K,MAAK,SAAC+rC,GAAM,OAAKA,CAAM,GAAC,EA+IzBsnB,WAjHiB,SAACpkF,EAAS07B,GAC3B,IAAM8uC,EAAe/hC,GAAAA,YAAAA,gBAAoCzoC,GAEzD,GAAIwqE,EACF,OAAO15C,GAAAA,KAAe,WAAY,UAAW,CAC3CpC,KAAM,CACJgN,KAAAA,EACA9lC,KAAM40E,EAAa3oC,WAAWzwC,KAAI,SAACsC,GAAG,OAAKA,EAAIlD,SAAS,MAAM,OAE/DugC,MAAK,SAAC95B,GAAI,OAAKA,CAAI,GAE1B,EAuGEgtF,UA9IgB,SAACjkF,EAASqkF,EAAQC,EAAU5oD,GAC5C,IAAM8uC,EAAe/hC,GAAAA,YAAAA,gBAAoCzoC,GAEzD,GAAIwqE,EACF,OAAO15C,GAAAA,KAAe,WAAY,cAAe,CAC/CpC,KAAM,CACJ21D,OAAAA,EACAzuF,KAAM40E,EAAa3oC,WAAWzwC,KAAI,SAACsC,GAAG,OAAKA,EAAIlD,SAAS,MAAM,IAC9D8zF,SAAAA,EACA5oD,KAAAA,KAED3K,MAAK,SAAC95B,GAAI,OAAKA,CAAI,GAE1B,EAkIEstF,SAhIe,SAACvkF,EAAS07B,GACzB,IAAM8uC,EAAe/hC,GAAAA,YAAAA,gBAAoCzoC,GAEzD,GAAIwqE,EACF,OAAO15C,GAAAA,KAAe,WAAY,aAAc,CAC9CpC,KAAM,CACJgN,KAAAA,EACA9lC,KAAM40E,EAAa3oC,WAAWzwC,KAAI,SAACsC,GAAG,OAAKA,EAAIlD,SAAS,MAAM,OAE/DugC,MAAK,SAAC95B,GAAI,OAAKA,CAAI,GAE1B,EAuHEutF,eAlCqB,WACrB,IAEI5oE,EAEAwL,KAHFzB,KACE/J,eAIE6oE,EAAsBvjF,OAAOtL,KAAKgmB,GAAgBxqB,KAAI,SAACy1C,GAAa,OAAAx/B,GAAA,CACxEw/B,cAAAA,GACGjrB,EAAeirB,GAAc,IAC9BznC,QAAO,SAAClK,GACV,IACEzB,EAEEyB,EAFFzB,MAIF,OAFIyB,EADFknB,QAGK3oB,CACT,IAEIgxF,EAAoBx0F,SACtBwrB,OAAOsrB,SAAS7hB,KAAO,QAAHxyB,OAAW+xF,EAAoB,GAAG59C,eAE1D,GC9IA,IACEznC,OAAAA,GACAmmB,OAAAA,GACAE,OAAAA,GACAH,cAAAA,GACAK,KAAAA,GACAH,QAAAA,GACAE,KAAAA,GACAQ,GAAAA,GACAC,QAAAA,GACAu+D,QAAAA,GACAn/E,IAAAA,GACAo/E,YAAAA,GACAn/E,IAAK8pE,GAAAA,IACL7pE,IAAK6pE,GAAAA,IACL5pE,MAAO4pE,GAAAA,MACP3pE,OAAQ2pE,GAAAA,OACR1pE,OAAQ0pE,GAAAA,OACRzpE,KAAMypE,GAAAA,KACNxpE,IAAKwpE,GAAAA,IACLvpE,KAAMupE,GAAAA,KACNtpE,KAAMspE,GAAAA,KACNrpE,IAAKqpE,GAAAA,IACLnpE,OAAQmpE,GAAAA,OACRlpE,IAAKkpE,GAAAA,IACLjpE,IAAKipE,GAAAA,IACLhpE,KAAMgpE,GAAAA,KACNppE,IAAKopE,GAAAA,IACLr6D,MAAO8/D,GAAAA,MACP5/D,MAAO4/D,GAAAA,MACPx/D,WAAYw/D,GAAAA,WACZp/D,UAAWo/D,GAAAA,UACXz/D,SAAUy/D,GAAAA,SACV1/D,UAAW0/D,GAAAA,UACXv/D,UAAWu/D,GAAAA,UACXt/D,SAAUs/D,GAAAA,SACV3/D,YAAa2/D,GAAAA,YACbn/D,SAAUm/D,GAAAA,SACVl/D,MAAOk/D,GAAAA,MACPj/D,MAAOi/D,GAAAA,MACPh/D,OAAQg/D,GAAAA,OACRr/D,SAAUq/D,GAAAA,SACVxuE,MAAAA,GACAjQ,KAAAA,GAEAsuF,KAAAA,GACAC,UAAAA,GACAh/D,WAAAA,GACAC,IAAAA,GACA4yD,MAAAA,GACAyC,SAAAA,GACA2J,SAAAA,GAGAC,cAAAA,GAEAC,WAAAA,IC/EF,IAAMptE,GAAW,CACf8kB,QAAS,CACPkmC,cAAe,6BACfqiB,OAAQ,KACRvlF,MAAO,CACLmjE,OAAS,WACTC,QAAS,YAEXC,WAAY,GACZC,WAAY,GACZC,IAAK,KAEPprD,QAAS,CACP+qD,cAAe,6BACfqiB,OAAQ,SACRvlF,MAAO,CACLmjE,OAAQ,WACRC,QAAS,UAEXC,WAAY,GACZC,WAAY,IACZC,IAAK,KAKHtqC,MACJra,IACKA,GAAAA,MACAA,GAAAA,KAAAA,KACAA,GAAAA,KAAAA,IAAAA,OACAA,GAAAA,KAAAA,IAAAA,MAAAA,MACHA,GAAAA,KAAAA,IAAAA,MAEE/e,GACFqY,GAAS8kB,QAOPM,GAAe,SAACzD,EAAQC,GAC5B,IAAQ1E,EAAgBhqB,GAAAA,YACpBmyB,EAAc,EACdC,GAAa,EACbC,EAAa,EACbC,EAAc,EAEZC,EACM,CACR,gBAAqD,EAApCvI,EAAY1B,sBAC7B,iBAAkB0B,EAAYzB,uBAA0B,IACxD,sBAAuByB,EAAYxB,4BAA+B,IAClE,MAAqC,EAA5BwB,EAAYnC,cACrB,OAAUmC,EAAY7B,eAAkB,IACxC,cAAe6B,EAAY3B,oBAAuB,KAPhDkK,EASO,CACT,KAAoC,EAA5BvI,EAAYjC,cACpB,MAAsC,EAA7BiC,EAAYlC,eACrB,OAAwC,EAA9BkC,EAAY5B,gBACtB,MAAsC,EAA7B4B,EAAY9B,gBAInBsK,EAAc,SAACpsC,GACnB,GAAIA,EAAI,GAAKA,EAAI8rB,OAAOugB,kBAAoBrsC,EAAI,GAAM,EAAG,MAAM,IAAIssC,WAAW,qBAChF,EAEMC,EAAe,SAAC/iC,GAGpB,OAFA4iC,EAAY5iC,GAGVA,EAAS,IAAO,EACZA,GAAU,MAAS,EACjBA,GAAU,WAAa,EACrB,CAEZ,EAiCA,OA/BAwG,OAAOtL,KAAK2jC,GAAQrmC,SAAQ,SAACQ,GAE3B,GADA4pC,EAAY/D,EAAO7lC,IACK,aAApBA,EAAInC,MAAM,EAAG,GAAmB,CAElC,IAAMmsC,EAAWhqC,EAAIjD,MAAM,KAC3B,GAAwB,IAApBitC,EAASztC,OAAc,MAAM,IAAI1B,MAAM,kBAADmE,OAAmBgB,IAC7D,IAAMiqC,EAASD,EAAS,GAClBE,EAAQF,EAAS,GAAGjtC,MAAM,KAAKW,KAAI,SAAC8D,GAAI,OAAKtG,SAASsG,EAAK,IAEjE+nC,GAAeI,EAAaM,GAAUpE,EAAO7lC,GAC7C,IAAMmqC,EAAyB,kBAAXF,EAA8B,EAAI,EACtDV,IAAiB,GAAKW,EAAM,GAAO,GAAKA,EAAM,IAAOC,EAAatE,EAAO7lC,EAC3E,MACEupC,GAAeI,EAAa3pC,GAAO6lC,EAAO7lC,GAE5CypC,GAAc5D,EAAO7lC,GACjBA,EAAI0W,QAAQ,MAAQ,IAAG8yB,GAAa,EAC1C,IAEAh8B,OAAOtL,KAAK4jC,GAAStmC,SAAQ,SAACQ,GAC5B4pC,EAAY9D,EAAQ9lC,IACpBupC,GAAeI,EAAc3pC,GAAO8lC,EAAQ9lC,GAC5C0pC,GAAe5D,EAAQ9lC,EACzB,IAEIwpC,IAAYD,GAAe,GAE/BA,GAAe,GACfA,GAA0C,EAA3BQ,EAAaN,GAC5BF,GAA2C,EAA5BQ,EAAaL,GAErBtuC,KAAKgvC,KAAKb,EAAc,EACjC,EAGMc,GAAe,eAAAxhC,GAAAyU,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAO,IAAA,IAAA9T,EAAAm9B,EAAA76B,EAAAklF,EAAAjnD,EAAAknD,EAAAt3D,EAAAsQ,EAAArJ,EAAAwJ,EAAAN,EAAAO,EAAA6mD,EAAAC,EAAAC,EAAAC,EAAAC,EAAAz0F,UAAA,OAAAkgB,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OAE8C,IAF9CoH,EAAA8nF,EAAAv1F,OAAA,QAAAe,IAAAw0F,EAAA,GAAAA,EAAA,GAAyE,CAAC,GAAjEvmD,MAAOpE,EAAQn9B,EAARm9B,SAAU76B,EAAOtC,EAAPsC,QAAOklF,EAAAxnF,EAAEugC,MAAAA,OAAK,IAAAinD,EAAG,EAACA,EAAAC,EAAAznF,EAAEmwB,OAAAA,OAAM,IAAAs3D,EAAG,OAAMA,EAAEhnD,EAAKzgC,EAALygC,MAC7ErJ,EAAgBhqB,GAAAA,YAClBwzB,EAAgBvJ,GAA4BxuB,MAAMvQ,KAAK63B,IAEzDsQ,EAAO,CAAF1sB,EAAAnb,KAAA,eAAAmb,EAAAQ,OAAA,SACAqsB,GAAa,OAGH,GAHG7sB,EAAAgC,GAGXonB,EAAQppB,EAAAgC,GAAA,CAAAhC,EAAAnb,KAAA,gBAAAmb,EAAAnb,KAAA,EAAUmyC,GAAAA,MAAAA,cAA4BzoC,GAAQ,OAAAyR,EAAAgC,GAAAhC,EAAAC,KAAA,QAUhE,GAVDmpB,EAAQppB,EAAAgC,GAEFuqB,EAAOnD,EAAS5qC,OAClBsuC,EAASD,EAETN,EAAO,IACTO,EACEP,EAAOlJ,EAAYnC,cACnBsL,EAAQnJ,EAAYlC,gBACnBkC,EAAYpC,QAAUsL,EAAOC,IAGnB,kBAAXpQ,EAA0B,CAAApc,EAAAnb,KAAA,SAQU,OAPhC8uF,EAAUpoD,GACd,CAAE,0BAA2B,GAC7B,CAAE,MAAUrE,GAAe,EAAI,IAE3B0sD,EACJrnD,EAAOonD,EACPnnD,EAAQnJ,EAAYlC,gBACnBkC,EAAYpC,QAAUsL,EAAOC,GAAMxsB,EAAAQ,OAAA,SAE/BozE,GAAS,WAGH,aAAXx3D,EAAqB,CAAApc,EAAAnb,KAAA,SAQe,OAPhCgvF,EAAStoD,GACb,CAAE,0BAA2B,GAC7B,CAAE,MAAUrE,GAAe,EAAI,IAE3B4sD,EACJvnD,EAAOsnD,EACPrnD,EAAQnJ,EAAYlC,gBACnBkC,EAAYpC,QAAUsL,EAAOC,GAAMxsB,EAAAQ,OAAA,SAE/BszE,GAAQ,eAAA9zE,EAAAQ,OAAA,SAGVssB,GAAM,yBAAA9sB,EAAAJ,OAAA,GAAAG,EAAA,KACd,kBA/CoB,OAAAjV,EAAAwT,MAAA,KAAAhf,UAAA,KA2DfuuC,GAAgB,eAAAztB,GAAAb,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,EAAOtG,GAAgC,IAAAm1B,EAAAN,EAAAR,EAAAj/B,EAAAu+B,EAAAJ,EAAAtQ,EAAAkX,EAAAC,EAAAxrB,EAAAynD,EAAAhjC,EAAA4B,EAAAI,EAAA,OAAAhvB,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OAwB/C,GAvBTypC,EAA+Dn1B,EAA/Dm1B,QAASN,EAAsD70B,EAAtD60B,WAAYR,EAA0Cr0B,EAA1Cq0B,MAAOj/B,EAAmC4K,EAAnC5K,QAASu+B,EAA0B3zB,EAA1B2zB,OAAQJ,EAAkBvzB,EAAlBuzB,MAAOtQ,EAAWjjB,EAAXijB,OAAMkX,EAO5D3d,KAAU4d,EAAAD,EALZpf,KACEnM,EAASwrB,EAATxrB,UACoBwrB,EAApBg8B,qBACAC,EAAqBj8B,EAArBi8B,sBAIEhjC,EAAQtF,IACC,SAAX9K,EACE,EAEF,EAEC7tB,IACHA,EAAUwZ,EAAUxZ,QAEL,aAAX6tB,IAAuB7tB,EAAUylF,kBACtB,kBAAX53D,IAA4B7tB,EAAUihE,EAAsBjhE,UAGlEuR,EAAAkC,GACS8qB,EAAMhtB,EAAAkC,GAAA,CAAAlC,EAAAjb,KAAA,eAAAib,EAAAjb,KAAA,EAAUynC,GAAgB,CAAE/9B,QAAAA,EAASi/B,MAAAA,EAAOd,MAAAA,EAAOtQ,OAAAA,EAAQoQ,MAAAA,IAAQ,OAAA1sB,EAAAkC,GAAAlC,EAAAG,KAAA,OACjE,GADjB6sB,EAAMhtB,EAAAkC,GAAAlC,EAAA+nB,GACIyG,EAAOxuB,EAAA+nB,GAAA,CAAA/nB,EAAAjb,KAAA,gBAAAib,EAAAjb,KAAA,GAAU6oC,GAAgB,CAAEF,MAAAA,IAAQ,QAAA1tB,EAAA+nB,GAAA/nB,EAAAG,KAAA,QAgBgC,OAhBrFquB,EAAOxuB,EAAA+nB,GAEDuG,EAAqBxS,GAAAA,EAAAA,QApKhB,IAuKT,IAAIA,GAAAA,EAAU0S,GAEXhF,aAAawD,GACb4B,IAAI,MACJC,GAAG,EAAG/S,GAAAA,EAAAA,kBAGL4S,EAAgBR,EAClBI,EAAmBrvC,WACnBqvC,EAAmB9E,aAAa,MAAMvqC,WAE1CoZ,QAAQ4jB,IAAI,4BAAD96B,OAA6BusC,EAAK,cAAAvsC,OAAam7B,EAAM,MAAAn7B,OAAKutC,IAAgB1uB,EAAAU,OAAA,SAC9EguB,GAAa,yBAAA1uB,EAAAF,OAAA,GAAAH,EAAA,KACrB,gBA3CqBS,GAAA,OAAAE,EAAA9B,MAAA,KAAAhf,UAAA,KA6ChBouC,GAAe,eAAAjtB,GAAAlB,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAkB,IAAA,IAAAuzE,EAAAzmD,EAAAwH,EAAA5K,EAAAE,EAAA4pD,EAAAC,EAAA5pD,EAAA6pD,EAAA90F,UAAA,OAAAkgB,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,OAEoC,GAFNovF,GAA9BG,EAAA51F,OAAA,QAAAe,IAAA60F,EAAA,GAAAA,EAAA,GAA4B,CAAC,GAApB5mD,MAAAA,OAAK,IAAAymD,EAAG,OAAMA,EACvCj/C,EAAOnoB,GAAAA,SAAAA,MACPud,EAAc9G,GAA4BxuB,MAAM4tB,KAEjDsS,EAAM,CAAFp0B,EAAA/b,KAAA,eAAA+b,EAAAJ,OAAA,SACA4pB,EAAYoD,IAAM,cAAA5sB,EAAApa,KAAA,EAAAoa,EAAA/b,KAAA,EAMP83B,GAAQ50B,IAAIitC,EAAM,CAAEzX,cAAe,MAAQ,OAA7D+M,EAAS1pB,EAAAX,KAAAW,EAAA/b,KAAG,GAAH,cAEuC,OAFvC+b,EAAApa,KAAG,GAAHoa,EAAAoB,GAAApB,EAAA,SAETzI,QAAQzO,MAAM,oBAADzI,OAAqB2f,EAAAoB,GAAI2rB,UAAU/sB,EAAAJ,OAAA,SACzC4pB,EAAYoD,IAAM,QAUuB,OAD5C2mD,GANAD,EAAY,CAChBjyD,KAAM,iBACNC,OAAQ,oBACRC,KAAM,oBAGmBqL,IAAU0mD,EAAUhyD,OACzCqI,EAAU,IAAI3O,GAAAA,EAAU0O,EAAU6pD,IAAUvzE,EAAAJ,OAAA,SAE3C+pB,EAAQT,uBAhNJ,KAiNPS,EAAQxrC,WACRqrC,EAAYoD,IAAM,yBAAA5sB,EAAAhB,OAAA,GAAAc,EAAA,mBACvB,kBA7BoB,OAAAD,EAAAnC,MAAA,KAAAhf,UAAA,KA+BrB,UACEgtC,gBAAAA,GACAuB,iBAAAA,GACAH,gBAAAA,GACA5/B,QAAAA,GACAqY,SAAAA,ICjQF,IAAMA,GAAW,CACf8kB,QAAS,CACPkmC,cAAe,6BACfljE,MAAO,CACLmjE,OAAS,SACTC,QAAS,UAEXC,WAAY,GACZC,WAAY,EACZC,IAAK,MAeHtqC,MACJra,IACKA,GAAAA,MACAA,GAAAA,KAAAA,KACAA,GAAAA,KAAAA,IAAAA,MACAA,GAAAA,KAAAA,IAAAA,KAAAA,MACHA,GAAAA,KAAAA,IAAAA,KAKE/e,GAAUqY,GAAS8kB,QAMnBM,GAAe,SAACzD,EAAQC,GAC5B,IAAQ1E,EAAgBhqB,GAAAA,YACpBmyB,EAAc,EACdC,GAAa,EACbC,EAAa,EACbC,EAAc,EAEZC,EACM,CACR,gBAAqD,EAApCvI,EAAY1B,sBAC7B,iBAAkB0B,EAAYzB,uBAA0B,IACxD,sBAAuByB,EAAYxB,4BAA+B,IAClE,MAAqC,EAA5BwB,EAAYnC,cACrB,OAAUmC,EAAY7B,eAAkB,IACxC,cAAe6B,EAAY3B,oBAAuB,KAPhDkK,EASO,CACT,KAAoC,EAA5BvI,EAAYjC,cACpB,MAAsC,EAA7BiC,EAAYlC,eACrB,OAAwC,EAA9BkC,EAAY5B,gBACtB,MAAsC,EAA7B4B,EAAY9B,gBAInBsK,EAAc,SAACpsC,GACnB,GAAIA,EAAI,GAAKA,EAAI8rB,OAAOugB,kBAAoBrsC,EAAI,GAAM,EAAG,MAAM,IAAIssC,WAAW,qBAChF,EAEMC,EAAe,SAAC/iC,GAGpB,OAFA4iC,EAAY5iC,GAGVA,EAAS,IAAO,EACZA,GAAU,MAAS,EACjBA,GAAU,WAAa,EACrB,CAEZ,EAiCA,OA/BAwG,OAAOtL,KAAK2jC,GAAQrmC,SAAQ,SAACQ,GAE3B,GADA4pC,EAAY/D,EAAO7lC,IACK,aAApBA,EAAInC,MAAM,EAAG,GAAmB,CAElC,IAAMmsC,EAAWhqC,EAAIjD,MAAM,KAC3B,GAAwB,IAApBitC,EAASztC,OAAc,MAAM,IAAI1B,MAAM,kBAADmE,OAAmBgB,IAC7D,IAAMiqC,EAASD,EAAS,GAClBE,EAAQF,EAAS,GAAGjtC,MAAM,KAAKW,KAAI,SAAC8D,GAAI,OAAKtG,SAASsG,EAAK,IAEjE+nC,GAAeI,EAAaM,GAAUpE,EAAO7lC,GAC7C,IAAMmqC,EAAyB,kBAAXF,EAA8B,EAAI,EACtDV,IAAiB,GAAKW,EAAM,GAAO,GAAKA,EAAM,IAAOC,EAAatE,EAAO7lC,EAC3E,MACEupC,GAAeI,EAAa3pC,GAAO6lC,EAAO7lC,GAE5CypC,GAAc5D,EAAO7lC,GACjBA,EAAI0W,QAAQ,MAAQ,IAAG8yB,GAAa,EAC1C,IAEAh8B,OAAOtL,KAAK4jC,GAAStmC,SAAQ,SAACQ,GAC5B4pC,EAAY9D,EAAQ9lC,IACpBupC,GAAeI,EAAc3pC,GAAO8lC,EAAQ9lC,GAC5C0pC,GAAe5D,EAAQ9lC,EACzB,IAEIwpC,IAAYD,GAAe,GAE/BA,GAAe,GACfA,GAA0C,EAA3BQ,EAAaN,GAC5BF,GAA2C,EAA5BQ,EAAaL,GAErBtuC,KAAKgvC,KAAKb,EAAc,EACjC,EAGMc,GAAe,eAAAxhC,GAAAyU,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAO,IAAA,IAAA9T,EAAAm9B,EAAA76B,EAAAklF,EAAAjnD,EAAAknD,EAAAt3D,EAAAsQ,EAAArJ,EAAAwJ,EAAAN,EAAAO,EAAA6mD,EAAAC,EAAAC,EAAAC,EAAAC,EAAAz0F,UAAA,OAAAkgB,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OAE6C,IAF7CoH,EAAA8nF,EAAAv1F,OAAA,QAAAe,IAAAw0F,EAAA,GAAAA,EAAA,GAAyE,CAAC,GAAjEvmD,MAAOpE,EAAQn9B,EAARm9B,SAAU76B,EAAOtC,EAAPsC,QAAOklF,EAAAxnF,EAAEugC,MAAAA,OAAK,IAAAinD,EAAG,EAACA,EAAAC,EAAAznF,EAAEmwB,OAAAA,OAAM,IAAAs3D,EAAG,OAAMA,EAAEhnD,EAAKzgC,EAALygC,MAC7ErJ,EAAgBhqB,GAAAA,YAClBwzB,EAAgBvJ,GAA4Bz+B,KAAKN,KAAK63B,IAExDsQ,EAAO,CAAF1sB,EAAAnb,KAAA,eAAAmb,EAAAQ,OAAA,SACAqsB,GAAa,OAGH,GAHG7sB,EAAAgC,GAGXonB,EAAQppB,EAAAgC,GAAA,CAAAhC,EAAAnb,KAAA,gBAAAmb,EAAAnb,KAAA,EAAUmyC,GAAAA,KAAAA,cAA2BzoC,GAAQ,OAAAyR,EAAAgC,GAAAhC,EAAAC,KAAA,QAU/D,GAVDmpB,EAAQppB,EAAAgC,GAEFuqB,EAAOnD,EAAS5qC,OAClBsuC,EAASD,EAETN,EAAO,IACTO,EACEP,EAAOlJ,EAAYnC,cACnBsL,EAAQnJ,EAAYlC,gBACnBkC,EAAYpC,QAAUsL,EAAOC,IAGnB,kBAAXpQ,EAA0B,CAAApc,EAAAnb,KAAA,SAQU,OAPhC8uF,EAAUpoD,GACd,CAAE,0BAA2B,GAC7B,CAAE,MAAUrE,GAAe,EAAI,IAE3B0sD,EACJrnD,EAAOonD,EACPnnD,EAAQnJ,EAAYlC,gBACnBkC,EAAYpC,QAAUsL,EAAOC,GAAMxsB,EAAAQ,OAAA,SAE/BozE,GAAS,WAGH,aAAXx3D,EAAqB,CAAApc,EAAAnb,KAAA,SAQe,OAPhCgvF,EAAStoD,GACb,CAAE,0BAA2B,GAC7B,CAAE,MAAUrE,GAAe,EAAI,IAE3B4sD,EACJvnD,EAAOsnD,EACPrnD,EAAQnJ,EAAYlC,gBACnBkC,EAAYpC,QAAUsL,EAAOC,GAAMxsB,EAAAQ,OAAA,SAE/BszE,GAAQ,eAAA9zE,EAAAQ,OAAA,SAGVssB,GAAM,yBAAA9sB,EAAAJ,OAAA,GAAAG,EAAA,KACd,kBA/CoB,OAAAjV,EAAAwT,MAAA,KAAAhf,UAAA,KA2DfuuC,GAAgB,eAAAztB,GAAAb,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,EAAOtG,GAAgC,IAAAm1B,EAAAN,EAAAR,EAAAj/B,EAAAu+B,EAAAJ,EAAAtQ,EAAAkX,EAAAC,EAAAjrB,EAAA2pD,EAAAzlC,EAAA4B,EAAAI,EAAA,OAAAhvB,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OAwB/C,GAvBTypC,EAA+Dn1B,EAA/Dm1B,QAASN,EAAsD70B,EAAtD60B,WAAYR,EAA0Cr0B,EAA1Cq0B,MAAOj/B,EAAmC4K,EAAnC5K,QAASu+B,EAA0B3zB,EAA1B2zB,OAAQJ,EAAkBvzB,EAAlBuzB,MAAOtQ,EAAWjjB,EAAXijB,OAAMkX,EAO5D3d,KAAU4d,EAAAD,EALZpf,KACE5L,EAAQirB,EAARjrB,SACmBirB,EAAnBy+B,oBACAC,EAAoB1+B,EAApB0+B,qBAIEzlC,EAAQtF,IACC,SAAX9K,EACE,EAEF,EAEC7tB,IACHA,EAAU+Z,EAAS/Z,QAEJ,aAAX6tB,IAAuB7tB,EAAU8lF,iBACtB,kBAAXj4D,IAA4B7tB,EAAU0jE,EAAqB1jE,UAGjEuR,EAAAkC,GACS8qB,EAAMhtB,EAAAkC,GAAA,CAAAlC,EAAAjb,KAAA,eAAAib,EAAAjb,KAAA,EAAUynC,GAAgB,CAAE/9B,QAAAA,EAASi/B,MAAAA,EAAOd,MAAAA,EAAOtQ,OAAAA,EAAQoQ,MAAAA,IAAQ,OAAA1sB,EAAAkC,GAAAlC,EAAAG,KAAA,OACjE,GADjB6sB,EAAMhtB,EAAAkC,GAAAlC,EAAA+nB,GACIyG,EAAOxuB,EAAA+nB,GAAA,CAAA/nB,EAAAjb,KAAA,gBAAAib,EAAAjb,KAAA,GAAU6oC,GAAgB,CAAEF,MAAAA,IAAQ,QAAA1tB,EAAA+nB,GAAA/nB,EAAAG,KAAA,QAgB+B,OAhBpFquB,EAAOxuB,EAAA+nB,GAEDuG,EAAqBxS,GAAAA,EAAAA,QApKhB,IAuKT,IAAIA,GAAAA,EAAU0S,GAEXhF,aAAawD,GACb4B,IAAI,MACJC,GAAG,EAAG/S,GAAAA,EAAAA,kBAGL4S,EAAgBR,EAClBI,EAAmBrvC,WACnBqvC,EAAmB9E,aAAa,MAAMvqC,WAE1CoZ,QAAQ4jB,IAAI,2BAAD96B,OAA4BusC,EAAK,cAAAvsC,OAAam7B,EAAM,MAAAn7B,OAAKutC,IAAgB1uB,EAAAU,OAAA,SAC7EguB,GAAa,yBAAA1uB,EAAAF,OAAA,GAAAH,EAAA,KACrB,gBA3CqBS,GAAA,OAAAE,EAAA9B,MAAA,KAAAhf,UAAA,KA6ChBouC,GAAe,eAAAjtB,GAAAlB,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAkB,IAAA,IAAAuzE,EAAAzmD,EAAAwH,EAAA5K,EAAAE,EAAA4pD,EAAAC,EAAA5pD,EAAA6pD,EAAA90F,UAAA,OAAAkgB,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,OAEmC,GAFLovF,GAA9BG,EAAA51F,OAAA,QAAAe,IAAA60F,EAAA,GAAAA,EAAA,GAA4B,CAAC,GAApB5mD,MAAAA,OAAK,IAAAymD,EAAG,OAAMA,EACvCj/C,EAAOnoB,GAAAA,SAAAA,KACPud,EAAc9G,GAA4Bz+B,KAAK69B,KAEhDsS,EAAM,CAAFp0B,EAAA/b,KAAA,eAAA+b,EAAAJ,OAAA,SACA4pB,EAAYoD,IAAM,cAAA5sB,EAAApa,KAAA,EAAAoa,EAAA/b,KAAA,EAMP83B,GAAQ50B,IAAIitC,EAAM,CAAEzX,cAAe,MAAQ,OAA7D+M,EAAS1pB,EAAAX,KAAAW,EAAA/b,KAAG,GAAH,cAEuC,OAFvC+b,EAAApa,KAAG,GAAHoa,EAAAoB,GAAApB,EAAA,SAETzI,QAAQzO,MAAM,oBAADzI,OAAqB2f,EAAAoB,GAAI2rB,UAAU/sB,EAAAJ,OAAA,SACzC4pB,EAAYoD,IAAM,QAWuB,OAD5C2mD,GAPAD,EAAY,CAChBjyD,KAAM,iBACNC,OAAQ,oBACRC,KAAM,oBAImBqL,IAAU0mD,EAAUhyD,OACzCqI,EAAU,IAAI3O,GAAAA,EAAU0O,EAAU6pD,IAAUvzE,EAAAJ,OAAA,SAE3C+pB,EAAQT,uBAjNJ,KAkNPS,EAAQxrC,WACRqrC,EAAYoD,IAAM,yBAAA5sB,EAAAhB,OAAA,GAAAc,EAAA,mBACvB,kBA9BoB,OAAAD,EAAAnC,MAAA,KAAAhf,UAAA,KAgCrB,UACEgtC,gBAAAA,GACAuB,iBAAAA,GACAH,gBAAAA,GACA5/B,QAAAA,GACAqY,SAAAA,ICpPF,IACE0nB,iBAToB,eAAA/iC,GAAAyU,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAO,EAAOpR,GAAyB,OAAA6Q,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,cAAAmb,EAAAQ,OAAA,SAChDugC,GAAAA,IAAAA,iBAAmCpyC,IAAO,wBAAAqR,EAAAJ,OAAA,GAAAG,EAAA,KAClD,gBAFqBG,GAAA,OAAApV,EAAAwT,MAAA,KAAAhf,UAAA,KAUpB+hD,iBANoB,eAAAp1C,GAAAsT,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,IAAA,OAAAD,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,cAAAib,EAAAU,OAAA,SAChBugC,GAAAA,IAAAA,oBAAoC,wBAAAjhC,EAAAF,OAAA,GAAAH,EAAA,KAC5C,kBAFqB,OAAAxT,EAAAqS,MAAA,KAAAhf,UAAA,MCItB,IACEuuC,iBAToB,eAAA/iC,GAAAyU,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAO,EAAOpR,GAAyB,OAAA6Q,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,cAAAmb,EAAAQ,OAAA,SAChDugC,GAAAA,IAAAA,iBAAmCpyC,IAAO,wBAAAqR,EAAAJ,OAAA,GAAAG,EAAA,KAClD,gBAFqBG,GAAA,OAAApV,EAAAwT,MAAA,KAAAhf,UAAA,KAUpB+hD,iBANoB,eAAAp1C,GAAAsT,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,IAAA,OAAAD,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,cAAAib,EAAAU,OAAA,SAChBugC,GAAAA,IAAAA,oBAAoC,wBAAAjhC,EAAAF,OAAA,GAAAH,EAAA,KAC5C,kBAFqB,OAAAxT,EAAAqS,MAAA,KAAAhf,UAAA,MCItB,IACEuuC,iBAToB,eAAA/iC,GAAAyU,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAO,EAAOpR,GAAyB,OAAA6Q,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,cAAAmb,EAAAQ,OAAA,SAChDugC,GAAAA,MAAAA,iBAAqCpyC,IAAO,wBAAAqR,EAAAJ,OAAA,GAAAG,EAAA,KACpD,gBAFqBG,GAAA,OAAApV,EAAAwT,MAAA,KAAAhf,UAAA,KAUpB+hD,iBANoB,eAAAp1C,GAAAsT,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,IAAA,OAAAD,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,cAAAib,EAAAU,OAAA,SAChBugC,GAAAA,MAAAA,oBAAsC,wBAAAjhC,EAAAF,OAAA,GAAAH,EAAA,KAC9C,kBAFqB,OAAAxT,EAAAqS,MAAA,KAAAhf,UAAA,MCItB,IACEuuC,iBAToB,eAAA/iC,GAAAyU,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAO,EAAOpR,GAAyB,OAAA6Q,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,cAAAmb,EAAAQ,OAAA,SAChDugC,GAAAA,OAAAA,iBAAsCpyC,IAAO,wBAAAqR,EAAAJ,OAAA,GAAAG,EAAA,KACrD,gBAFqBG,GAAA,OAAApV,EAAAwT,MAAA,KAAAhf,UAAA,KAUpB+hD,iBANoB,eAAAp1C,GAAAsT,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,IAAA,OAAAD,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,cAAAib,EAAAU,OAAA,SAChBugC,GAAAA,OAAAA,oBAAuC,wBAAAjhC,EAAAF,OAAA,GAAAH,EAAA,KAC/C,kBAFqB,OAAAxT,EAAAqS,MAAA,KAAAhf,UAAA,MCItB,IACEuuC,iBAToB,eAAA/iC,GAAAyU,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAO,EAAOpR,GAAyB,OAAA6Q,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,cAAAmb,EAAAQ,OAAA,SAChDugC,GAAAA,OAAAA,iBAAsCpyC,IAAO,wBAAAqR,EAAAJ,OAAA,GAAAG,EAAA,KACrD,gBAFqBG,GAAA,OAAApV,EAAAwT,MAAA,KAAAhf,UAAA,KAUpB+hD,iBANoB,eAAAp1C,GAAAsT,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,IAAA,OAAAD,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,cAAAib,EAAAU,OAAA,SAChBugC,GAAAA,OAAAA,oBAAuC,wBAAAjhC,EAAAF,OAAA,GAAAH,EAAA,KAC/C,kBAFqB,OAAAxT,EAAAqS,MAAA,KAAAhf,UAAA,MCItB,IACEuuC,iBAToB,eAAA/iC,GAAAyU,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAO,EAAOpR,GAAyB,OAAA6Q,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,cAAAmb,EAAAQ,OAAA,SAChDugC,GAAAA,OAAAA,iBAAsCpyC,IAAO,wBAAAqR,EAAAJ,OAAA,GAAAG,EAAA,KACrD,gBAFqBG,GAAA,OAAApV,EAAAwT,MAAA,KAAAhf,UAAA,KAUpB+hD,iBANoB,eAAAp1C,GAAAsT,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,IAAA,OAAAD,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,cAAAib,EAAAU,OAAA,SAChBugC,GAAAA,OAAAA,oBAAuC,wBAAAjhC,EAAAF,OAAA,GAAAH,EAAA,KAC/C,kBAFqB,OAAAxT,EAAAqS,MAAA,KAAAhf,UAAA,MCItB,IACEuuC,iBAToB,eAAA/iC,GAAAyU,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAO,EAAOpR,GAAyB,OAAA6Q,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,cAAAmb,EAAAQ,OAAA,SAChDugC,GAAAA,IAAAA,iBAAmCpyC,IAAO,wBAAAqR,EAAAJ,OAAA,GAAAG,EAAA,KAClD,gBAFqBG,GAAA,OAAApV,EAAAwT,MAAA,KAAAhf,UAAA,KAUpB+hD,iBANoB,eAAAp1C,GAAAsT,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,IAAA,OAAAD,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,cAAAib,EAAAU,OAAA,SAChBugC,GAAAA,IAAAA,oBAAoC,wBAAAjhC,EAAAF,OAAA,GAAAH,EAAA,KAC5C,kBAFqB,OAAAxT,EAAAqS,MAAA,KAAAhf,UAAA,MCItB,IACEuuC,iBAToB,eAAA/iC,GAAAyU,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAO,EAAOpR,GAAyB,OAAA6Q,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,cAAAmb,EAAAQ,OAAA,SAChDugC,GAAAA,IAAAA,iBAAmCpyC,IAAO,wBAAAqR,EAAAJ,OAAA,GAAAG,EAAA,KAClD,gBAFqBG,GAAA,OAAApV,EAAAwT,MAAA,KAAAhf,UAAA,KAUpB+hD,iBANoB,eAAAp1C,GAAAsT,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,IAAA,OAAAD,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,cAAAib,EAAAU,OAAA,SAChBugC,GAAAA,IAAAA,oBAAoC,wBAAAjhC,EAAAF,OAAA,GAAAH,EAAA,KAC5C,kBAFqB,OAAAxT,EAAAqS,MAAA,KAAAhf,UAAA,MCItB,IACEuuC,iBAToB,eAAA/iC,GAAAyU,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAO,EAAOpR,GAAyB,OAAA6Q,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,cAAAmb,EAAAQ,OAAA,SAChDugC,GAAAA,KAAAA,iBAAoCpyC,IAAO,wBAAAqR,EAAAJ,OAAA,GAAAG,EAAA,KACnD,gBAFqBG,GAAA,OAAApV,EAAAwT,MAAA,KAAAhf,UAAA,KAUpB+hD,iBANoB,eAAAp1C,GAAAsT,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,IAAA,OAAAD,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,cAAAib,EAAAU,OAAA,SAChBugC,GAAAA,KAAAA,oBAAqC,wBAAAjhC,EAAAF,OAAA,GAAAH,EAAA,KAC7C,kBAFqB,OAAAxT,EAAAqS,MAAA,KAAAhf,UAAA,MCItB,IACEuuC,iBAToB,eAAA/iC,GAAAyU,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAO,EAAOpR,GAAyB,OAAA6Q,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,cAAAmb,EAAAQ,OAAA,SAChDugC,GAAAA,KAAAA,iBAAoCpyC,IAAO,wBAAAqR,EAAAJ,OAAA,GAAAG,EAAA,KACnD,gBAFqBG,GAAA,OAAApV,EAAAwT,MAAA,KAAAhf,UAAA,KAUpB+hD,iBANoB,eAAAp1C,GAAAsT,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,IAAA,OAAAD,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,cAAAib,EAAAU,OAAA,SAChBugC,GAAAA,KAAAA,oBAAqC,wBAAAjhC,EAAAF,OAAA,GAAAH,EAAA,KAC7C,kBAFqB,OAAAxT,EAAAqS,MAAA,KAAAhf,UAAA,MCItB,IACEuuC,iBAToB,eAAA/iC,GAAAyU,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAO,EAAOpR,GAAyB,OAAA6Q,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,cAAAmb,EAAAQ,OAAA,SAChDugC,GAAAA,IAAAA,iBAAmCpyC,IAAO,wBAAAqR,EAAAJ,OAAA,GAAAG,EAAA,KAClD,gBAFqBG,GAAA,OAAApV,EAAAwT,MAAA,KAAAhf,UAAA,KAUpB+hD,iBANoB,eAAAp1C,GAAAsT,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,IAAA,OAAAD,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,cAAAib,EAAAU,OAAA,SAChBugC,GAAAA,IAAAA,oBAAoC,wBAAAjhC,EAAAF,OAAA,GAAAH,EAAA,KAC5C,kBAFqB,OAAAxT,EAAAqS,MAAA,KAAAhf,UAAA,MCItB,IACEuuC,iBAToB,eAAA/iC,GAAAyU,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAO,EAAOpR,GAAyB,OAAA6Q,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,cAAAmb,EAAAQ,OAAA,SAChDugC,GAAAA,KAAAA,iBAAoCpyC,IAAO,wBAAAqR,EAAAJ,OAAA,GAAAG,EAAA,KACnD,gBAFqBG,GAAA,OAAApV,EAAAwT,MAAA,KAAAhf,UAAA,KAUpB+hD,iBANoB,eAAAp1C,GAAAsT,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,IAAA,OAAAD,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,cAAAib,EAAAU,OAAA,SAChBugC,GAAAA,KAAAA,oBAAqC,wBAAAjhC,EAAAF,OAAA,GAAAH,EAAA,KAC7C,kBAFqB,OAAAxT,EAAAqS,MAAA,KAAAhf,UAAA,MCItB,IACEuuC,iBAToB,eAAA/iC,GAAAyU,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAO,EAAOpR,GAAyB,OAAA6Q,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,cAAAmb,EAAAQ,OAAA,SAChDugC,GAAAA,KAAAA,iBAAoCpyC,IAAO,wBAAAqR,EAAAJ,OAAA,GAAAG,EAAA,KACnD,gBAFqBG,GAAA,OAAApV,EAAAwT,MAAA,KAAAhf,UAAA,KAUpB+hD,iBANoB,eAAAp1C,GAAAsT,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,IAAA,OAAAD,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,cAAAib,EAAAU,OAAA,SAChBugC,GAAAA,KAAAA,oBAAqC,wBAAAjhC,EAAAF,OAAA,GAAAH,EAAA,KAC7C,kBAFqB,OAAAxT,EAAAqS,MAAA,KAAAhf,UAAA,MCItB,IACEuuC,iBAToB,eAAA/iC,GAAAyU,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAO,EAAOpR,GAAyB,OAAA6Q,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,cAAAmb,EAAAQ,OAAA,SAChDugC,GAAAA,IAAAA,iBAAmCpyC,IAAO,wBAAAqR,EAAAJ,OAAA,GAAAG,EAAA,KAClD,gBAFqBG,GAAA,OAAApV,EAAAwT,MAAA,KAAAhf,UAAA,KAUpB+hD,iBANoB,eAAAp1C,GAAAsT,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,IAAA,OAAAD,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,cAAAib,EAAAU,OAAA,SAChBugC,GAAAA,IAAAA,oBAAoC,wBAAAjhC,EAAAF,OAAA,GAAAH,EAAA,KAC5C,kBAFqB,OAAAxT,EAAAqS,MAAA,KAAAhf,UAAA,MCItB,IACEuuC,iBAToB,eAAA/iC,GAAAyU,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAO,EAAOpR,GAAyB,OAAA6Q,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,cAAAmb,EAAAQ,OAAA,SAChDugC,GAAAA,IAAAA,iBAAmCpyC,IAAO,wBAAAqR,EAAAJ,OAAA,GAAAG,EAAA,KAClD,gBAFqBG,GAAA,OAAApV,EAAAwT,MAAA,KAAAhf,UAAA,KAUpB+hD,iBANoB,eAAAp1C,GAAAsT,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,IAAA,OAAAD,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,cAAAib,EAAAU,OAAA,SAChBugC,GAAAA,IAAAA,oBAAoC,wBAAAjhC,EAAAF,OAAA,GAAAH,EAAA,KAC5C,kBAFqB,OAAAxT,EAAAqS,MAAA,KAAAhf,UAAA,MCStB,IACEuuC,iBAToB,eAAA5hC,GAAAsT,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAO,EAAO5G,GAA2B,OAAAqG,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,cAAAmb,EAAAQ,OAAA,SAClD6kC,GAAU7hC,MAAMqqB,iBAAiB10B,IAAQ,wBAAA6G,EAAAJ,OAAA,GAAAG,EAAA,KACjD,gBAFqBG,GAAA,OAAAjU,EAAAqS,MAAA,KAAAhf,UAAA,KAUpB+hD,iBANuB,SAAC1yC,GACxB,OAAO02C,GAAU7hC,MAAMqqB,iBAAiBl/B,EAC1C,EAKE2lF,gBAnBsB,SAAHxpF,GAAA,IAAMoI,EAAIpI,EAAJoI,KAAI,OAAOzD,OAAOtL,KAAK0oB,GAAAA,OAAc5rB,OAAO,OAAO2X,SAAS1F,EAAK5M,cAAc,GCT1G,IAqKaiuF,GAAgB,WAAH,SAAAtzF,OAAYq0C,SAASG,QAAMx0C,OAAGq0C,SAASk/C,SAAQ,MAGzE,SAxKqB,CACnBC,KAAM,IACNC,SAAU,KAEVC,SAAU,YACVC,UAAW,kBAGXC,YAAa,eACbC,kBAAmB,MAEnB/gE,QAAS,WACTS,aAAc,gBACdmoB,cAAe,iBACfo4C,sBAAuB,yBACvBC,qBAAsB,wBACtBC,cAAe,iBACfvL,SAAU,YACVqI,QAAS,WACTmD,KAAM,0BACNt9E,aAAc,gBAEd0T,QAAS,WACT4R,KAAM,YACNi4D,gBAAiB,mBACjBC,gBAAiB,mBACjBC,eAAgB,UAChBC,WAAY,gBACZC,UAAW,eACXpC,KAAM,QACN3mF,KAAM,gCACNma,KAAM,yBACN7X,OAAQ,UACR0mF,SAAU,YACVC,UAAW,aACXC,cAAe,iBAGfC,OAAQ,IACRC,QAAS,qCACTC,SAAU,IACVC,OAAQ,oDACRC,SAAU,0BACVC,YAAa,IACbC,QAAS,IACTC,OAAQ,IACRC,QAAS,IAETrgD,QAAS,8BACTD,WAAY,sCACZugD,gBAAiB,qJACjBC,gBAAiB,qEACjBC,UAAW,mGACX92C,gBAAiB,sCAGjB+2C,WAAY,yEACZC,OAAQ,oDACRC,MAAO,gDACPC,UAAW,wFACXC,OAAQ,kDACRC,SAAU,mDACVC,QAAS,oCACTpsF,YAAa,8GACbqsF,SAAU,uGACVC,KAAM,6BACNC,kBAAmB,oDACnBC,cAAe,qFACfC,iBAAkB,qGAClBC,MAAO,qGACPC,aAAc,qGACdC,QAAS,qEACTr/D,IAAK,CACH,CACEs/D,SAAU,mCACVtiD,KAAM,8CAER,CACEsiD,SAAU,qGACVtiD,KAAM,8CAER,CACEsiD,SAAU,oCACVtiD,KAAM,8CAER,CACEsiD,SAAU,mBACVtiD,KAAM,8CAER,CACEsiD,SAAU,iCACVtiD,KAAM,8CAER,CACEsiD,SAAU,0BACVtiD,KAAM,8CAER,CACEsiD,SAAU,wCACVtiD,KAAM,8CAER,CACEsiD,SAAU,oBACVtiD,KAAM,8CAER,CACEsiD,SAAU,wFACVtiD,KAAM,8CAER,CACEsiD,SAAU,sEACVtiD,KAAM,+CAER,CACEsiD,SAAU,oBACVtiD,KAAM,+CAER,CACEsiD,SAAU,uBACVtiD,KAAM,+CAER,CACEsiD,SAAU,6DACVtiD,KAAM,+CAER,CACEsiD,SAAU,4BACVtiD,KAAM,gDACNxsC,GAAI,oBAIR+uF,OAAQ,CACN5C,SAAU,+BACV7lF,OAAQ,sBACR0oF,OAAQ,8BACRC,gBAAiB,wFACjBC,cAAe,8CACfC,UAAW,uCACXC,eAAgB,8CAChBC,WAAY,oCACZd,KAAM,8BACNjB,OAAQ,gCACRW,MAAO,gDACPqB,WAAY,qGACZC,cAAe,qFACfC,MAAO,qGACPpB,SAAU,mDACVqB,WAAY,oIACZC,cAAe,6CACfC,WAAY,6DAGdC,WAAU,SAACC,GACT,IAAK,IAAI/5F,EAAI,EAAGA,EAAIC,KAAKy5B,IAAIx5B,OAAQF,IACnC,GAAIC,KAAKy5B,IAAI15B,GAAGkK,IACVjK,KAAKy5B,IAAI15B,GAAGkK,KAAO6vF,EAEvB,OAAO95F,KAAKy5B,IAAI15B,GAAG02C,KAGvB,OAAO,CACT,G,ykBClGF,MC3DA,IACEsjD,aDDmB,SAAsB9yF,GACzC,IAAQvD,EAAeuD,EAAfvD,IAAK6C,EAAUU,EAAVV,MACbklB,OAAOpS,aAAaC,QAAQ5V,EAAK+V,KAAKC,UAAUnT,IAEhD,IAAMyzF,EAAWvuE,OAAOwuE,aAAY,WAGlC,GAFuB5gF,GAAAA,QAAqByB,GAAAA,aAAAA,iBAGvCwT,IACAA,GAAAA,MACAA,GAAAA,KAAAA,SACAA,GAAAA,KAAAA,QAAAA,mBACA7C,OAAOqP,WACPxM,GAAAA,KAAAA,WACH,CACA,IAAQqH,EAAStc,GAAAA,QAAqB,eAA9Bsc,KAEFukE,EAAUhpF,OAAOtL,KAAK+vB,GAAMvmB,QAAO,SAAAswD,GACvC,MAAW,eAAPA,GACKA,EAAGrlD,SAAS,OAGvB,IAEMpT,EAAO,CAAC,EACdizF,EAAQh3F,SAAQ,SAAAw8D,GACd,IAAAy6B,EAA6BxkE,EAAK+pC,GAA1B1vD,EAAOmqF,EAAPnqF,QAASyZ,EAAO0wE,EAAP1wE,QAEbzZ,IACF/I,EAAKy4D,GAAM,CACT1vD,QAAAA,EACAyZ,QAAAA,GAIN,IAEAvY,OAAOtL,KAAK+vB,EAAKvK,YAAYloB,SAAQ,SAACQ,GACpC,IAAA02F,EAA6BzkE,EAAKvK,WAAW1nB,GAArC+lB,EAAO2wE,EAAP3wE,QAASzZ,EAAOoqF,EAAPpqF,QACbA,IACF/I,EAAKvD,GAAO,CACV+lB,QAAAA,EACAzZ,QAAAA,GAGN,IAEI/I,GAAQiK,OAAOpL,OAAOmB,GAAMhH,QAC9B2xF,KAAAA,KAAWtjE,GAAAA,KAAAA,QAAAA,kBAAqCjX,GAAAA,GAAA,GAC3CpQ,GAAI,IACP6zB,UAAWrP,OAAOqP,UAClBD,WAAYvM,GAAAA,KAAAA,cAGhB7C,OAAO4uE,cAAcL,EACvB,CACF,GAAG,IACL,ECvDExI,eAAAA,ICFF,IAAI8I,GAEJ,IACE7uE,OAAOpS,aAAaC,QAAQ,OAAQ,QACpCmS,OAAOpS,aAAaG,WAAW,QAC/B8gF,IAAwB,CAC1B,CAAE,MAAOrvF,GACPqvF,IAAwB,CAC1B,CAEA,IAAMC,GAAkB,SAAC5lF,EAAM1N,GAC7B,GAAIuxB,IAAWA,GAAQ7jB,IAAkC,mBAAlB6jB,GAAQ7jB,GAC7C,OAAO6jB,GAAQ7jB,GAAM1N,GAEvB,MAAM,IAAI1I,MAAM,4DAADmE,OAA6DiS,EAAI,kCAClF,EAqEA,UACE2E,QApEc,SAAC5V,EAAK6C,GAA4B,IAArBmT,IAAS3Y,UAAAd,OAAA,QAAAe,IAAAD,UAAA,KAAAA,UAAA,GACpC,GAAIu5F,GAAuB,KAAAliD,EAAAoiD,EACnB/hE,GAAgBnK,UAAY,QAAN8pB,EAAN9pB,GAAAA,YAAY,IAAA8pB,GAAS,QAAToiD,EAAZpiD,EAAc5f,eAAO,IAAAgiE,OAAf,EAANA,EAAuB/hE,iBAAiB,EAE1DA,EACF8hE,GAAgB9hE,EAAe,CAAE/0B,IAAAA,EAAK6C,MAAAA,IAElCmT,EACF+R,OAAOpS,aAAaC,QAAQ5V,EAAK+V,KAAKC,UAAUnT,IAEhDklB,OAAOpS,aAAaC,QAAQ5V,EAAK6C,EAGvC,CACF,EAuDEgT,QArDc,SAAC7V,GACf,GAAI42F,GAAuB,KAAAv5C,EAAA05C,EACjBphF,EAAiBoS,OAAjBpS,aACFqf,GAAgBpK,UAAY,QAANyyB,EAANzyB,GAAAA,YAAY,IAAAyyB,GAAS,QAAT05C,EAAZ15C,EAAcvoB,eAAO,IAAAiiE,OAAf,EAANA,EAAuB/hE,iBAAiB,EAE9D,GAAIA,EACF,OAAO6hE,GAAgB7hE,EAAe,CAAEh1B,IAAAA,IAG1C,IAAM6C,EAAQ8S,EAAaE,QAAQ7V,GAEnC,IACE,OAAI6C,EACKkT,KAAKE,MAAMpT,GAGbA,CACT,CAAE,MAAOjI,GACP,OAAOiI,CACT,CACF,CAGF,EA+BEiT,WA7BiB,SAAC9V,GAClB,GAAI42F,GACF,OAAO7uE,OAAOpS,aAAaG,WAAW9V,EAE1C,EA0BEg3F,MAxBY,WACRJ,IACF7uE,OAAOpS,aAAaqhF,OAExB,EAqBE3vC,UAnBgB,SAACrnD,EAAKi3F,GACtB,IAAMC,EAAW,SAAC16E,GACZA,EAAM26E,cAAgBpvE,OAAOpS,cAAgB6G,EAAMxc,MAAQA,GAC7Di3F,EAAiBz6E,EAAM46E,SAAU56E,EAAM66E,SAE3C,EAEA,OADAtvE,OAAOuvE,iBAAiB,UAAWJ,GAAU,GACtCA,CACT,EAYEn7E,YAVkB,SAACm7E,GACnBnvE,OAAOwvE,oBAAoB,UAAWL,GAAU,EAClD,G,kDCZO,SAASM,GAAUC,GAGxB,IAFA,IAAIxmF,EAAOwmF,EAAQ,IACfC,EAAK39C,SAAS49C,OAAO56F,MAAM,KACvBV,EAAI,EAAGA,EAAIq7F,EAAGn7F,OAAQF,IAAK,CAEjC,IADA,IAAI2uB,EAAI0sE,EAAGr7F,GACW,KAAf2uB,EAAE4sE,OAAO,IACd5sE,EAAIA,EAAE6sE,UAAU,GAElB,GAAuB,GAAnB7sE,EAAEtU,QAAQzF,GACZ,OAAO+Z,EAAE6sE,UAAU5mF,EAAK1U,OAAQyuB,EAAEzuB,OAEtC,CACA,MAAO,EACT,CAkCO,IAAMu7F,GAAyB,SAACprF,GAKrC,IAAQ7J,EAAgD6J,EAAhD7J,MAAKk1F,EAA2CrrF,EAAzC+zB,KAAAA,OAAI,IAAAs3D,EAAG,EAACA,EAAAC,EAAiCtrF,EAA/BurF,mBAAAA,OAAkB,IAAAD,GAAQA,EAE/C15F,EAAS,IAAIq7B,GAAAA,EAAU92B,GAAOwkC,aAAa5G,GAEzCy3D,EADY55F,EAAOxB,WACU+M,MAAM,QAEzC,GAAIquF,EAAkB,CAEpB,IAAMC,EAAYD,EAAiB,GAAGr6F,MAAM,GAGtCu6F,EAAgBD,EAAUtuF,MAAM,SAEtC,GAAIuuF,EAAe,CACjB,IAAMC,EAAaF,EAAUzhF,QAAQ0hF,EAAc,KAE9CH,GAAsBI,GAAcJ,EAEvC35F,EAASA,EAAOouC,GAAG2rD,EAAa,EAAG1+D,GAAAA,EAAAA,YAC1Bs+D,IACT35F,EAASA,EAAOouC,GAAGurD,EAAoBt+D,GAAAA,EAAAA,YAE3C,CACF,CAEA,OAAOr7B,EAAOxB,UAChB,ECzJMw7F,GAAM,CACV1tE,OAAQ,CACN8oE,OAAQ,iCACRC,QAAS,qCACTC,SAAU,0CACVE,SAAU,0BACVyE,MAAO,qBACPC,QAAS,wBACTC,KAAM,uDAERC,aAAc,2BACdC,mBAAoB,yKACpBC,MAAO,CACL,CACEC,IAAK,IACLvuF,MAAOyd,OAAO+wE,oBAAsB,2BACpCtwF,YAAa,0KAGf,CACEqwF,IAAK,YACLvuF,MAAO,WACP9B,YAAa,YAEf,CACEqwF,IAAK,gBACLvuF,MAAO,UACP9B,YAAa,UACbuwF,GAAI,iBAEN,CACEF,IAAK,gBACLvuF,MAAO,WACP9B,YAAa,WACbuwF,GAAI,kBAEN,CACEF,IAAK,iBACLvuF,MAAO,OACP9B,YAAa,OACbuwF,GAAI,cAEN,CACEF,IAAK,kBACLvuF,MAAO,QACP9B,YAAa,QACbuwF,GAAI,eAEN,CACEF,IAAK,gBACLvuF,MAAO,MACP9B,YAAa,MACbuwF,GAAI,aAEN,CACEF,IAAK,WACLvuF,MAAO,eACP9B,YAAa,gBAEf,CACEqwF,IAAK,QACLvuF,MAAO,OACP9B,YAAa,QAEf,CACEqwF,IAAK,QACLvuF,MAAO,OACP9B,YAAa,QAEf,CACEqwF,IAAK,WACLvuF,MAAO,qEACP9B,YAAa,uIACbuwF,GAAI,kEAEN,CACEF,IAAK,WACLvuF,MAAO,mEACP9B,YAAa,iIACbuwF,GAAI,wEAGN,CACEF,IAAK,mBACLvuF,MAAO,8CACP9B,YAAa,6IACbuwF,GAAI,2DAEN,CACEF,IAAK,kBACLvuF,MAAO,6CACP9B,YAAa,iGACbuwF,GAAI,yDACJzD,OAAQ,IAEV,CACEuD,IAAK,eACLvuF,MAAO,2DACP9B,YAAa,iKACbuwF,GAAI,wDAKGC,GAAa,SAAAH,GAAG,OAAIP,GAAIM,MAAMtkD,MAAK,SAAA2kD,GAAC,OAAIA,EAAEJ,MAAQA,CAAG,GAAC,EAEtDK,GAAS,SAAAL,GAAG,SAAA75F,OAAOs5F,GAAI1tE,OAAO4tE,SAAOx5F,OAAG65F,EAAG,EAExD,YCvGA,IAAMM,GAAkB,SAACC,GACvB,IAEE,OADqBrkD,GAAAA,KAAAA,YAAyBqkD,EAEhD,CAAE,MAAOC,GACP,OAAO,CACT,CACF,EAoCA,UACEC,4BApCkC,SAAHzwF,GAA8B,IAAxBod,EAAQpd,EAARod,SAAUszE,EAAO1wF,EAAP0wF,QACzCvoD,EAAOxV,KAAKivB,MAAQ,IAEpB+uC,EAAiBD,EAAQh9F,OAAS,EAExC,GAAIi9F,GAAkB,EACpB,IAAK,IAAIn9F,EAAI,EAAGA,GAAKm9F,EAAgBn9F,IAAK,CACxC,IAAMo9F,EAAcN,GAAgBI,EAAQl9F,IAE5C,GAAIo9F,EAAa,CACf,IAAMC,EAAYD,EAAY5/E,KAAK+F,MAC7Bxd,EAASs3F,EAAUhzC,iBAEzB,GAAItkD,EAAQ,CACV,IAAQgW,EAA0CshF,EAA1CthF,WAAYuvC,EAA8B+xC,EAA9B/xC,WAAYF,EAAkBiyC,EAAlBjyC,cAG1BuD,EAAW7Q,KAAAA,KAAY/3C,EAAO4oD,UAAYha,GAAMvC,GAAK,IAG3D,GAAIr2B,GAAcuvC,GAAcF,GAFVzW,EAAOga,EAEoC,OAC/DjW,GAAAA,KAAAA,aAA0BwkD,EAAQl9F,SAC7B,GAAIo9F,EAAYh9C,eAAiBx2B,EAAS9M,gBAE3CsgF,EAAYpvC,cACZovC,EAAY50C,KAChB,OAAOxoD,CAEX,CACF,CACF,CAEF,OAAO,CACT,G,OC3CMs9F,IAAqBhoD,GAAAA,WAAiC,QAAV9jB,GAAI9F,cAAM,IAAA8F,QAAA,EAANA,GAAQ+rE,oBAmDxDr9E,GAAS,CACb1B,IAAK,CACHg/E,QAAS,UACTC,gBAAiB,kBAEjBC,OAAQ,SACRC,QAAS,WAEXznE,aAAc,CAEZ0nE,iBAAkB,mBAClBC,iBAAkB,mBAClBC,SAAU,YAEZttF,OAAQ,CACNutF,cAAe,gBACfC,mBAAoB,sBAEtB5G,cAAe,CACbsG,OAAQ,UAEVhkE,IAAK,CACHukE,OAAQ,SACRP,OAAQ,UAEVtL,OAAQ,CACNoL,QAAS,UACTM,SAAU,YAEZI,QAAS,CACPV,QAAS,UACTM,SAAU,YAEZK,SAAU,CACRC,QAAS,UACTZ,QAAS,UACTM,SAAU,WACVJ,OAAQ,UAEVW,aAAc,CACZC,QAAS,UACTC,gBAAiB,kBACjBC,uBAAwB,yBACxBC,cAAe,gBACff,OAAQ,UAEVgB,YAAa,CACXlB,QAAS,UACTM,SAAU,YAEZa,OAAQ,CAENC,QAAS,UACTC,WAAY,aACZC,cAAe,iBAEjBloF,KAAM,CACJ4mF,QAAS,UACTuB,QAAS,UACTjB,SAAU,YAEZ1nE,QAAS,CACP8nC,YAAa,mBACb8gC,YAAa,mBACbtB,OAAQ,UAEVuB,gBAAiB,CACfC,YAAa,iBACbhxB,aAAc,gBACdixB,gBAAiB,mBACjBzB,OAAQ,UAEV0B,MAAO,CACLF,YAAa,iBACbxB,OAAQ,UAEV2B,aAAc,CACZC,aAAc,eACdC,SAAU,WACVC,gBAAiB,kBACjBC,UAAW,YACXC,UAAW,YACXC,QAAS,UACTC,SAAU,YAEZC,MAAO,CACLC,SAAU,YAEZC,KAAM,CACJD,SAAU,YAEZpnD,QAAS,CACPglD,OAAQ,UAEVv7B,QAAS,CACPu7B,OAAQ,WAUN96C,GAAsB,CAAC,EAE7BzxC,OAAOtL,KAAKqa,IAAQ/c,SAAQ,SAAA68F,GACrBp9C,GAASo9C,KACZp9C,GAASo9C,GAAW,CAAC,GAEvB,IAAMC,EAAgB//E,GAAO8/E,GAC7B7uF,OAAOtL,KAAKo6F,GAAe98F,SAAQ,SAAAmd,GACjCsiC,GAASo9C,GAAS1/E,GAAa,SAASk/D,IA5JxB,SAAHhzE,GAAwC,IAAlCwzF,EAAOxzF,EAAPwzF,QAAS1/E,EAAS9T,EAAT8T,UAAWk/D,EAAOhzE,EAAPgzE,QACzC,GAAK8d,GAAL,CAIA,IAAI4C,EAAOC,KAAyBD,MAAQx0E,OAAOsrB,SAASC,UAAYyG,SAAS1G,SAASkpD,KACtFlzD,EAAUthB,OAAO00E,cACjBC,EAAuB30E,OAAO40E,YAC9BC,EAAa,GACXC,EAAS,IAAIC,OAAOP,GAEtB5oD,GAAM8gD,UAAU5qF,MAAMgzF,KACxBN,EAAO,oBAGS,WAAd5/E,IAAwBigF,EArBpB,MAsBU,YAAdjgF,IAAyBigF,EArBpB,MAuBT,IAAMG,EAAa,CAAC,GAAD/9F,OACd49F,EAAa,GAAH59F,OAAM49F,EAAU,KAAM,IAAE,IAAA59F,OACjCu9F,GAAIv9F,OAAG09F,EAAuB,uBAAH19F,OAA0B09F,GAAyB,GAAE,SAAA19F,OACjFqqC,EAAU,aAAHrqC,OAAgBqqC,EAAO,KAAM,IAAE,GAAArqC,OACtCq9F,EAAO,OAAAr9F,OAAM2d,GAAS,GAAA3d,OACtB68E,EAAU,KAAH78E,OAAQ68E,EAAO,QAAQ,OACjC/9E,KAAK,IAEP,GAAIy+F,GAAQA,EAAK5lF,SAAS,aACxBT,QAAQ4jB,IAAI,cAAD96B,OAAe+9F,QAD5B,CAKA7mF,QAAQ4jB,IAAI,MAAD96B,OAAO+9F,IAElB,IACE7O,KAAM,CACJ7vD,IAAK,2CAAFr/B,OAA6Cg+F,UAAUD,GAAW,aACrE5iE,OAAQ,SACR,OAAO,SAAA5yB,GAAC,OAAI2O,QAAQzO,MAAMF,EAAE,GAChC,CAAE,MAAOE,GACPyO,QAAQzO,MAAMA,EAChB,CAXA,CA1BA,CAsCF,CAoHMi9C,CAAY,CAAE23C,QAAAA,EAAS1/E,UAAAA,EAAWk/D,QAAAA,GACpC,CACF,GACF,IAEA,YCxKA,IA8BMzpC,GAAU,SAAC6qD,EAAahsF,GAAI,OAAKmyC,GAAU65C,GAAa7qD,QAAQ,CAAEnhC,KAAAA,GAAO,EAEzEisF,GAAU,SAACj3E,EAAU6lD,GAAW,IAAAqxB,EACpC,GAAI/qD,GAAQ,QAASnsB,GACnB,OAAO8uB,GAAAA,MAAAA,cAA4B+2B,GAGrC,GAAI15B,GAAQ,QAASnsB,GACnB,OAAO8uB,GAAAA,MAAAA,cAA4B+2B,GAGrC,GAAI15B,GAAQ,aAAcnsB,GACxB,OAAO8uB,GAAAA,WAAAA,cAAiC+2B,GAG1C,GAAI15B,GAAQ,YAAansB,GACvB,OAAO8uB,GAAAA,UAAAA,cAAgC+2B,GAGzC,GAAI15B,GAAQ,WAAYnsB,GACtB,OAAO8uB,GAAAA,SAAAA,cAA+B+2B,GAGxC,GAAI15B,GAAQ,YAAansB,GACvB,OAAO8uB,GAAAA,UAAAA,cAAgC+2B,GAGzC,GAAI15B,GAAQ,YAAansB,GACvB,OAAO8uB,GAAAA,UAAAA,cAAgC+2B,GAGzC,GAAI15B,GAAQ,WAAYnsB,GACtB,OAAO8uB,GAAAA,SAAAA,cAA+B+2B,GAGxC,GAAI15B,GAAQ,WAAYnsB,GACtB,OAAO8uB,GAAAA,SAAAA,cAA+B+2B,GAGxC,GAAI15B,GAAQ,cAAensB,GACzB,OAAO8uB,GAAAA,YAAAA,cAAkC+2B,GAG3C,GAAI15B,GAAQ,WAAYnsB,GACtB,OAAO8uB,GAAAA,SAAAA,cAA+B+2B,GAGxC,GAAI15B,GAAQ,QAASnsB,GACnB,OAAO8uB,GAAAA,MAAAA,cAA4B+2B,GAErC,GAAI15B,GAAQ,QAASnsB,GACnB,OAAO8uB,GAAAA,MAAAA,cAA4B+2B,GAErC,GAAI15B,GAAQ,SAAUnsB,GACpB,OAAO8uB,GAAAA,OAAAA,cAA6B+2B,GAGtC,IAAM3lE,EAASq4D,GAAQ/f,eAAex4B,GAAU,GAEhD,GAAmB,QAAnBk3E,EAAIpoD,GAAQ5uC,UAAO,IAAAg3F,GAAfA,EAAiBvwB,cACnB,OAAO73B,GAAQ5uC,GAAQymE,cAAcd,GAGvC51D,QAAQ4J,KAAK,8BAAD9gB,OAA+BmH,EAAM,gBACnD,EAqFA,UACEi3F,QA/Ec,SAACn3E,EAAU4pB,GAAyB,IAAAwtD,EAC9CC,EAAc9+B,GAAQ/f,eAAex4B,GAAU,GAE/CmsB,GAAQ,QAASnsB,KACnBq3E,EAAc,SAGZlrD,GAAQ,QAASnsB,KACnBq3E,EAAc,SAGZlrD,GAAQ,aAAcnsB,KACxBq3E,EAAc,cAGZlrD,GAAQ,YAAansB,KACvBq3E,EAAc,aAGZlrD,GAAQ,WAAYnsB,KACtBq3E,EAAc,YAGZlrD,GAAQ,YAAansB,KACvBq3E,EAAc,aAGZlrD,GAAQ,YAAansB,KACvBq3E,EAAc,aAGZlrD,GAAQ,WAAYnsB,KACtBq3E,EAAc,YAGZlrD,GAAQ,WAAYnsB,KACtBq3E,EAAc,YAGZlrD,GAAQ,cAAensB,KACzBq3E,EAAc,eAGZlrD,GAAQ,WAAYnsB,KACtBq3E,EAAc,YAGZlrD,GAAQ,QAASnsB,KACnBq3E,EAAc,SAGZlrD,GAAQ,QAASnsB,KACnBq3E,EAAc,SAGZlrD,GAAQ,SAAUnsB,KACpBq3E,EAAc,UAIhB,IAAM1kE,EAAO,CACXoX,GAAI,GACJ+C,KAAM,IAGR,GAAwB,QAAxBsqD,EAAItoD,GAAQuoD,UAAY,IAAAD,GAApBA,EAAsB3wB,MAAO,CAC/B,IAAM18B,EAAK+E,GAAQuoD,GAAa5wB,MAAM78B,GAChCkD,EAAOmqD,GAAQj3E,EAAU+pB,GAE/BpX,EAAKoX,GAAKA,EACVpX,EAAKma,KAAOA,CACd,MACE78B,QAAQ4J,KAAK,sBAAD9gB,OAAuBs+F,EAAW,iBAGhD,OAAO1kE,CACT,EAIEskE,QAAAA,GACAjwB,YArKkB,SAAChnD,EAAU6lD,GAAW,IAAAyxB,EACxC,GAAIn6C,GAAUhR,QAAQ,CAAEnhC,KAAMgV,IAC5B,MAAO,UAAPjnB,OAAiBinB,EAAQ,QAAAjnB,OAAO8sE,GAGlC,IAAM3lE,EAASq4D,GAAQ/f,eAAex4B,GAAU,GAChD,GAAmB,QAAnBs3E,EAAIxoD,GAAQ5uC,UAAO,IAAAo3F,GAAfA,EAAiBtwB,YACnB,OAAOl4B,GAAQ5uC,GAAQ8mE,YAAYnB,EAAQ7lD,EAAS5hB,eAGtD6R,QAAQ4J,KAAK,4BAAD9gB,OAA6BmH,EAAM,4BAAAnH,OAA2BinB,EAAQ,KACpF,EA2JEm2B,qBAvL2B,SAACnzB,GAC5B,IACMu0E,EAA0Bv0E,EAASpf,MADd,mBAG3B,GAAI2zF,EAAyB,CAC3B,IAAMrhD,EAAoBqhD,EAAwB,GAAG3zF,MAAM,cACrD4zF,EACJthD,GAAqBxrC,GAAAA,GAAoBwrC,EAAkB,GAAGhjC,eAEhE,GAAIskF,EACF,OAAOA,EAAiBp5F,aAE5B,CAEA,OAAO,CACT,GChBA,IAAMqgE,GAAiB,SAACg5B,GACtB,QAAIppF,GAAS2F,gBACHyjF,EAAS/mF,SAASrC,GAAS6gD,aAIvC,EAuCA,UACEuP,eAAAA,GACAL,iBAvCuB,SAAC33D,GACxB,IAAQ2jB,EAAmC3jB,EAAnC2jB,WAAUstE,EAAyBjxF,EAAvBkxF,WAAAA,OAAU,IAAAD,GAAQA,EA8BtC,MAAO,CACLttE,WA7BkBA,EAAW3kB,QAAO,SAAClK,GACrC,IACIq8F,EACAC,EAFE73E,EAAWlV,GAAAA,GAAUvP,EAAKyP,MAIhC,GAAIzP,EAAK+P,SAAU,CACjB,IAAQJ,EAAessC,GAAYj8C,EAAKqB,OAAhCsO,WAEJA,IACF2sF,EAAcnsD,GAAAA,YAA2BxgC,EAAWgI,eAAe4X,eAEvE,MACE+sE,GACE73E,aAAQ,EAARA,EAAU7U,SAAUR,GAAAA,GAAAA,IACpB+gC,GAAAA,YAA2B1rB,EAASjV,QAAQ+f,eAIhD8sE,EADgBlsD,GAAAA,0BAAAA,SAAkDmsD,KACjCt8F,EAAK+P,WAAaqsF,GAGnD,IAAMG,GAA4BzpF,GAAS2F,eACvC3F,GAASokD,6BAA6Bl3D,EAAKqB,OAG/C,OAAOg7F,GAAsBE,CAC/B,IAIEt5B,aAAcC,GAAe/yB,GAAAA,2BAEjC,GCtCA,IACE1gC,KAPW,oBAQX+sF,IAPU,WAEV,OADAroF,GAAAA,QAAqByB,GAAAA,aAAAA,gBAAwC,IACtDiG,QAAQI,SACjB,GCHA,IAAMoG,GAAazM,GAAAA,aAAAA,gBA0EnB,UACEnG,KAxEW,sDAyEX+sF,IAxEU,WAIV,IAHwBroF,GAAAA,QAAqByB,GAAAA,aAAAA,gBAI3C,OAAOiG,QAAQI,UAGjB,IAAMkN,EAAkBhV,GAAAA,QAAqBkO,KAAe,KAEtDo6E,EAQA,GAEAC,EAAwBvzE,EAAgBjf,QAAO,SAAA2M,GAAQ,IAAA8lF,EACvDl4E,EAAW5N,EAAKc,cAEpB,GAAId,EAAK1B,SAAS,KAAM,CACtB,IAAAynF,EAAgC/lF,EAAKtb,MAAM,KAAIshG,GAAA3sC,EAAAA,GAAAA,GAAA0sC,EAAA,GAAxCp8C,EAAQq8C,EAAA,GAAaA,EAAA,GAC5Bp4E,EAAW+7B,EAAS7oC,aACtB,CAEA,OAAQ8M,EAAS5hB,eACf,IAAK,iBACL,IAAK,sBACL,IAAK,sBACH4hB,EAAW,MAIf,IAAuB,QAAnBk4E,EAAAptF,GAAAA,GAAUkV,UAAS,IAAAk4E,OAAA,EAAnBA,EAAqBjtF,QAAS3D,GAAAA,GAAAA,OAAkB,OAAO,EAE3D,IACQskC,EACJ4L,GAAYx3B,GADd5N,KAUF,OAPA7K,OAAOtL,KAAK6O,GAAAA,IAAWrT,KAAI,SAAAurB,GACPw0B,GAAYx0B,GAChB5Q,OAASw5B,GACrBosD,EAAczhG,KAAKuU,GAAAA,GAAUkY,GAEjC,KAEO,CACT,IAEMq1E,EAA6B,GAEnCL,EAAcz+F,SAAQ,SAAA0uB,GACpB,IAAMlF,EAAekF,EAAM/c,WACrBH,EAASkd,EAAMld,OACf8gC,EAAa,IAAH9yC,OAAOgqB,EAAY,KAAAhqB,OAAIgS,IAEtCstF,EAAiB3nF,SAASm7B,IAAewsD,EAAiB9hG,KAAKs1C,EAClE,IAEA,IAAMysD,EAAyB,GAAHv/F,QAAA0mB,EAAAA,EAAAA,GAAOw4E,GAA0BI,GAK7D,OAHA3oF,GAAAA,QAAqBkO,GAAY06E,GAEjC5oF,GAAAA,QAAqB,kCAAkC,GAChD0H,QAAQI,SACjB,GCtEA,IAAM+gF,GAAa,CACjBC,GACAC,GCQF,CACEztF,KAfW,oEAgBX+sF,IAdU,WACV,IAAIzT,EAAmB50E,GAAAA,QAAqByB,GAAAA,aAAAA,kBAQ5C,MANgC,iBAArBmzE,IACTA,EAAmBx0E,KAAKE,MAAMs0E,GAE9B50E,GAAAA,QAAqByB,GAAAA,aAAAA,iBAAyCmzE,IAGzDltE,QAAQI,SACjB,GCIA,CACExM,KAjBW,iDAkBX+sF,IAhBU,WACV,IAAMzoD,EAAmC5/B,GAAAA,QACvCyB,GAAAA,gBAAAA,mBASF,OANIm+B,GACE74C,MAAMsxB,QAAQunB,IAAsBA,EAAkBh5C,QACxDoZ,GAAAA,QAAqByB,GAAAA,gBAAAA,kBAA6Cm+B,EAAkB,IAAI,GAIrFl4B,QAAQI,SACjB,ICdMkhF,GAAe,CAAC,EAEhBxnC,GAAkB,SAACynC,EAAWvjE,GAClC,SAAIsjE,GAAaC,IACZD,GAAaC,GAAWvjE,IACvBsjE,GAAaC,GAAWvjE,GAAUT,QAAUmD,OAEzC4gE,GAAaC,GAAWvjE,GAAUx4B,KAG7C,EAEMw0D,GAAkB,SAACunC,EAAWvjE,EAAUwjE,EAAYC,GACnDH,GAAaC,KAAYD,GAAaC,GAAa,CAAC,GACzDD,GAAaC,GAAWvjE,GAAY,CAClCT,QAASmD,KAAqB+gE,EAC9Bj8F,MAAOg8F,EAEX,EClBMlpF,GAAeoS,OAAOpS,cA0CZ,WACd,IAAIopF,EAAYppF,GAAaE,QAAQ,GAAD7W,OAAIyqF,UAAiB,eACnD/U,EAAU,CAAC,EACjB,IAEEqqB,EAAYhpF,KAAKE,MAAM8oF,EACzB,CAAE,MAAOx3F,GAAI,CAERw3F,IAAWA,EAAY,CAAC,GAE7B,IAAMC,EAAUjhE,KAGhBvwB,OAAOtL,KAAK68F,GAAWv/F,SAAQ,SAACQ,IAEzB++F,EAAU/+F,IAASg/F,EAAUD,EAAU/+F,GAnBjC,SAACA,GACd2V,GAAaG,WAAW,GAAD9W,OAAIyqF,UAAiB,WAAAzqF,OAAUgB,GACxD,CAkBM47D,CAAO57D,GAGP00E,EAAQ10E,GAAO++F,EAAU/+F,EAE7B,IAEA2V,GAAaC,QAAQ,GAAD5W,OAAIyqF,UAAiB,cAAc1zE,KAAKC,UAAU0+D,GACxE,CAEAuqB,GAEA,SApEa,SAAHp2F,GAA4B,IAAtB7I,EAAG6I,EAAH7I,IACRk/F,EAAY,CAChB37F,KAFqBsF,EAAJtF,KAGjByqE,KAH2BnlE,EAAJmlE,KAIvBmxB,WAAYphE,MAGVghE,EAAYppF,GAAaE,QAAQ,GAAD7W,OAAIyqF,UAAiB,eACzD,IAEEsV,EAAYhpF,KAAKE,MAAM8oF,EACzB,CAAE,MAAOx3F,GAAI,CAERw3F,IAAWA,EAAY,CAAC,GAE7BA,EAAU/+F,GAAOk/F,EAAUC,WAAaD,EAAUlxB,KAClDr4D,GAAaC,QAAQ,GAAD5W,OAAIyqF,UAAiB,WAAAzqF,OAAUgB,GAAO+V,KAAKC,UAAUkpF,IACzEvpF,GAAaC,QAAQ,GAAD5W,OAAIyqF,UAAiB,cAAc1zE,KAAKC,UAAU+oF,GACxE,EAkDA,GAhDY,SAAC/+F,GACX,IAAIuD,EAAOoS,GAAaE,QAAQ,GAAD7W,OAAIyqF,UAAiB,WAAAzqF,OAAUgB,IAC9D,IAIE,UAFAuD,EAAOwS,KAAKE,MAAM1S,MAENA,EAAKA,OAERA,EAAKA,IAGhB,CAAE,MAAOgE,GACP,OAAO,CACT,CACF,EClCA,IACEzB,IAAK,SAACssB,EAAKgI,EAAUljB,GAAQ,OAAKkmB,GAAAA,IAChC,CACEnsB,KAAMmhB,EACN3G,QAASb,GAAAA,IAAWwH,IAEtBgI,EACAljB,EACD,EACDmlB,KAAM,SAACjK,EAAKgI,EAAUljB,GAAQ,OAAKkmB,GAAAA,KACjC,CACEnsB,KAAMmhB,EACN3G,QAASb,GAAAA,IAAWwH,IAEtBgI,EACAljB,EACD,G,gBCfGkoF,IAAaC,EAAAA,GAAAA,IAAe,CAChC/0F,MAAO,CACL/D,GAAI,uBACJ+4F,eAAgB,iBAElB5zD,QAAS,CACPnlC,GAAI,yBACJ+4F,eAAgB,0CAKdC,IAAeF,EAAAA,GAAAA,IAAe,CAClC/0F,MAAO,CACL/D,GAAI,mBACJ+4F,eAAgB,gBAElB5zD,QAAS,CACPnlC,GAAI,uBACJ+4F,eAAgB,oCAElBE,GAAI,CACFj5F,GAAI,sBACJ+4F,eAAgB,UAElBG,IAAK,CACHl5F,GAAI,uBACJ+4F,eAAgB,SA8CpB,SAzBsB,SAACI,EAAgBC,GAED,MADnBhqF,aAAaE,QAAQuB,GAAAA,gBAAAA,aAWpC29B,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,QAA0B,CAC5C9M,MAAOq1F,EAAKC,cAAcL,GAAaj1F,OACvCohC,QAASi0D,EAAKC,cAAcL,GAAa7zD,SACzCm0D,QAASF,EAAKC,cAAcL,GAAaC,IACzCM,SAAUH,EAAKC,cAAcL,GAAaE,KAC1CM,SAAUL,EACVM,QAASN,EACTO,SAAU,WA/BdlrD,GAAAA,cAAAA,eAAqC1X,MAAK,SAAAx0B,GAAoC,IAAlC0lF,EAAW1lF,EAAX0lF,YAAaC,EAAe3lF,EAAf2lF,gBACvDt4E,QAAQ4jB,IAAI,eAAgBy0D,GACxBC,EACED,GAAaxmE,OAAOpS,aAAaqhF,QAErCjvE,OAAOpS,aAAaqhF,QAGtBjvE,OAAOsrB,SAAYtrB,QAAUA,OAAOm4E,UAAan4E,OAAOm4E,UAAY,6BACtE,GAsBmC,IAdjCnrD,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,WAA6B,CAC/C9M,MAAOq1F,EAAKC,cAAcR,GAAW90F,OACrCohC,QAASi0D,EAAKC,cAAcR,GAAW1zD,SACvCs0D,QAAS,WAxBbjrD,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,uBAwBmB,GAczC,ECvEO,IAAM+oF,GAAa,SAAC9hE,GACrBA,IACuB,MAArBA,EAAIngC,OAAO,EAAG,KAAYmgC,EAAM,IAAHr/B,OAAOq/B,IACxCtW,OAAOsrB,SAAS7hB,KAAO6M,EAE3B,EAEa+hE,GAAiB,WAC5B,OAAIr4E,OAAOs4E,IACFt4E,OAAOs4E,IAAIhtD,SAGbtrB,OAAOsrB,QAChB,ECXMr5B,GAAY,SAACiM,GAAa,IAAAyuB,EACxBgL,EAAcjB,GAAex4B,GAAU,GAAO5hB,cAEpD,GAAIumB,UAAY,QAAN8pB,EAAN9pB,GAAAA,YAAY,IAAA8pB,GAAZA,EAAc9f,IAAK,CACrB,GAAoB,UAAhB8qB,EACF,OAAO4gD,GAAer6E,GAExB,GAAI2E,GAAAA,KAAAA,IAAgB80B,GAClB,OAAO90B,GAAAA,KAAAA,IAAgB80B,EAG3B,CAEA,OAAO,CACT,EAEM4gD,GAAiB,SAACpyE,GACtB,IAAoBqyE,EAAsB9iD,GAAYvvB,GAA9C/c,WAEJqvF,GAAW,EAEf,OAAKD,GAELlzE,GAAmB7tB,SAAQ,SAAC+R,GAC1B,IAAMyX,EAAesF,GAAgB/c,GAAU0U,SAAS9M,cAClDsnF,EAAc71E,GAAAA,KAAAA,IAAgBrZ,GAGlCyX,IAAiBu3E,GAAjBv3E,MACGy3E,GAAAA,EAAajnE,KACbinE,EAAY7rE,KACZ6rE,EAAYn0F,UACfk0F,EAAYC,EAChB,IAEOD,GAdwBA,CAejC,EAsBA,SACExmF,GADF,GApBa,SAACiM,EAAUkD,GACtB,IAAMu3E,EAAe1mF,GAAUiM,GAE/B,GAAIy6E,EAAc,CAChB,IAAI9rE,EAAO8rE,EAAalnE,IAAO,IAAIG,GAAAA,EAAU+mE,EAAalnE,KAAKI,WAAa,EAE5E,GAAIzQ,GAAU,IAAIwQ,GAAAA,EAAUxQ,GAAQue,cAAc,GAAI,CACpD,IAAIwF,EAAgB,IAAIvT,GAAAA,EAAU+mE,EAAa9rE,KAAKmQ,UAAU,KAAKsC,aAAale,GAE5E,IAAIwQ,GAAAA,EAAU+mE,EAAalnE,KAAKkO,cAAcwF,KAAgBA,EAAgB,IAAIvT,GAAAA,EAAU+mE,EAAalnE,MAE7G5E,EAAMsY,EAActT,UACtB,CAEA,OAAOhF,CACT,CAEA,OAAO,CACT,EC5DA,IAAM+rE,GAAe,GAAH3hG,QAAA0mB,EAAAA,EAAAA,IACXkF,GAAAA,KAAAA,uBAAqCA,GAAAA,KAAAA,sBAAAA,IAAwC,CAAC,OAAS,KAAElF,EAAAA,EAAAA,IACzFkF,GAAAA,KAAAA,uBAAqCA,GAAAA,KAAAA,sBAAAA,IAAwC,CAAC,OAAS,KAAElF,EAAAA,EAAAA,IACzFkF,GAAAA,KAAAA,uBAAqCA,GAAAA,KAAAA,sBAAAA,IAAwC,CAAC,OAAS,KAAElF,EAAAA,EAAAA,IACzFkF,GAAAA,KAAAA,uBAAqCA,GAAAA,KAAAA,sBAAAA,MAA0C,CAAC,SAAW,KAAElF,EAAAA,EAAAA,IAC7FkF,GAAAA,KAAAA,uBAAqCA,GAAAA,KAAAA,sBAAAA,OAA2C,CAAC,UAAY,KAAElF,EAAAA,EAAAA,IAC/FkF,GAAAA,KAAAA,uBAAqCA,GAAAA,KAAAA,sBAAAA,MAA0C,CAAC,SAAW,KAAElF,EAAAA,EAAAA,IAC7FkF,GAAAA,KAAAA,uBAAqCA,GAAAA,KAAAA,sBAAAA,KAAyC,CAAC,QAAU,KA0BhG,SAvB0B,SAACyF,GAAU,OACnCA,EAAW3kB,QAAO,SAACsf,GACjB,IAAM41E,EAAQpzF,OAAOtL,KAAK0oB,GAAAA,OACvBltB,KAAI,SAACrB,GAAC,cAAA2C,OAAa3C,EAAEgI,cAAa,IAClCsS,SAAS,GAAA3X,OAAGgsB,EAAEnoB,OAAQwB,eACnBw8F,EAAQrzF,OAAOtL,KAAK0oB,GAAAA,OACvBltB,KAAI,SAACrB,GAAC,cAAA2C,OAAa3C,EAAEgI,cAAa,IAClCsS,SAAS,GAAA3X,OAAGgsB,EAAEnoB,OAAQwB,eACnBy8F,EAAatzF,OAAOtL,KAAK0oB,GAAAA,YAC5BltB,KAAI,SAACrB,GAAC,gBAAA2C,OAAe3C,EAAEgI,cAAa,IACpCsS,SAAS,GAAA3X,OAAGgsB,EAAEnoB,OAAQwB,eAIzB,OAFsBs8F,GAAajjG,KAAI,SAACrB,GAAC,OAAKA,EAAEgI,aAAa,IAAEsS,SAASqU,EAAEnoB,MAAMwB,gBAExDu8F,GAASC,GAASC,CAC5C,GAAE,EAQJ,GANwB,SAAC3rF,GAAM,OAC7BA,EACGzJ,QAAO,SAACulB,GAAK,OAAKA,EAAMupC,YAAcvpC,EAAM8vE,eAAiB9vE,EAAM+vE,QAAQ,IAC3Et1F,QAAO,SAACulB,GAAK,OAA0B,IAArBA,EAAMwyB,YAAoBxyB,EAAMwyB,WAAW/b,cAAc,EAAE,IAC7Eh8B,QAAO,SAACulB,GAAK,OAAyB,IAApBA,EAAMyyB,WAAmBzyB,EAAMyyB,UAAUhc,cAAc,EAAE,GAAC,E,mCC7B9Du5D,EAAAA,GAAAA,KAAGC,KAAAA,IAAAC,EAAAA,GAAAA,GAAA,8sCA8DHF,EAAAA,GAAAA,KAAGG,KAAAA,IAAAD,EAAAA,GAAAA,GAAA,ooBA8CtB,IAAME,GAAO,eAAAx4F,GAAAyU,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAO,EAAOwjF,EAAWC,EAAQh+F,GAAI,IAAAH,EAAA,OAAAma,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,cAAAmb,EAAAQ,OAAA,iBAGjC,OAAHnb,EAAG2a,EAAAC,KAAAD,EAAAQ,OAAA,SACFnb,GAAG,OAAA2a,EAAAxZ,KAAA,EAAAwZ,EAAAgC,GAAAhC,EAAA,SAEV7H,QAAQzO,MAAM,wCAAuCsW,EAAAgC,IAAQ,yBAAAhC,EAAAJ,OAAA,GAAAG,EAAA,kBAEhE,gBARYG,EAAAa,EAAAF,GAAA,OAAA/V,EAAAwT,MAAA,KAAAhf,UAAA,KAiBPmkG,GAAU,eAAAx3F,GAAAsT,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,EAAO8jF,EAAWC,EAAQh+F,GAAI,IAAAH,EAAAq+F,EAAA,OAAAlkF,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,cAAAib,EAAAU,OAAA,iBAGpC,OAAHnb,EAAGya,EAAAG,KAAAH,EAAAU,OAAA,SACFnb,GAAG,UAAAya,EAAAtZ,KAAA,EAAAsZ,EAAAkC,GAAAlC,EAAA,SAGPA,EAAAkC,GAAM8a,SAASt3B,MACqB,8BAArCsa,EAAAkC,GAAM8a,SAASlP,OAAO,GAAG+f,SACoB,oBAA7C7tB,EAAAkC,GAAM8a,SAASlP,OAAO,GAAG+1E,WAAW3gF,KAA0B,CAAAlD,EAAAjb,KAAA,SAE+B,OAA7FsT,QAAQ4J,KAAK,yEAAwEjC,EAAAkC,IAAQlC,EAAAjb,KAAA,GAC3Ey+F,GAAQC,EAAWC,EAAQh+F,GAAK,QAAzC,OAAHH,EAAGya,EAAAG,KAAAH,EAAAU,OAAA,SACFnb,GAAG,QAEZ8S,QAAQzO,MAAM,2CAA0CoW,EAAAkC,IAAQ,yBAAAlC,EAAAF,OAAA,GAAAH,EAAA,kBAEnE,gBAjBeqB,EAAAmB,EAAAa,GAAA,OAAA7W,EAAAqS,MAAA,KAAAhf,UAAA,KAuDhB,UACEgkG,QAAAA,GACAG,WAAAA,GACAG,UAvCgB,WAChB,IACE,OAAOzT,KAAAA,IACA,+BACJ7wD,MAAK,SAAC/+B,GAEL,IAAAsjG,EAA6BtjG,EAAOiF,KAA5Bs+F,EAAED,EAAFC,GAAIC,EAAYF,EAAZE,aAEZ,OAAKD,GAAOC,EAMJ,CACND,GAAAA,EACA/uD,OAAQgvD,GAPA,CACND,GAAI,oFACJ/uD,OAAQ,KAOd,IAAE,OACK,SAACrrC,GAGN,OAFAyO,QAAQzO,MAAM,aAAcA,GAErB,CACLo6F,GAAI,OACJ/uD,OAAQ,KAEZ,GACJ,CAAE,MAAOrrC,GACPyO,QAAQzO,MAAMA,EAChB,CACA,MAAO,CACLo6F,GAAI,OACJ/uD,OAAQ,KAEZ,G,ykBChLA,IAAMivD,GAAqB,SAACr1F,GAC1B,IAAAs1F,EAAkCt1F,EAA1Bu1F,QAAAA,OAAO,IAAAD,GAAQA,EAAEppE,EAASlsB,EAATksB,KAEzB1iB,QAAQrQ,MACN,8BAA6B,UAAA7G,OACnBijG,EAAU,MAAQ,SAAQ,MAEtCA,EAAU/rF,QAAQzO,MAAMmxB,GAAQ1iB,QAAQ4J,KAAK8Y,GAC7C1iB,QAAQy2B,UACV,EAkBMu1D,GAAW,CACfloF,WAAW,GAGPmoF,GAAe,SAACz1F,GACpB,IAAQs1C,EAAwCt1C,EAAxCs1C,SAAW7kC,EAA6BzQ,EAA7ByQ,OAAQilF,EAAqB11F,EAArB01F,iBAE3B,OAAO,IAAI/kF,QAAO,eAAAxU,GAAAyU,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAO,EAAOukF,GAAW,IAAAC,EAAA9wD,EAAA+wD,EAAAC,EAAAC,EAAAC,EAAA,OAAAnlF,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OAOL,GANxB0/F,GAAiBF,GAAoBF,GAAS/kF,IAAW+kF,GAAS/kF,GAAQ6kC,GAC1ExQ,EAAWzgC,GAAAA,GAAUixC,EAAS7oC,eAEhCopF,EAA0B,QAAXplF,GAAoBq0B,EAASpgC,QAAUR,GAAAA,GAAAA,KACtD4xF,EAAwB,QAAXrlF,GAAoBq0B,EAASpgC,QAAUR,GAAAA,GAAAA,GAEpD6xF,OAAiBnlG,GAEjBglG,EAAe,CAAFvkF,EAAAnb,KAAA,QACwB,OAAvCy/F,EAAYH,GAAS/kF,GAAQ6kC,IAAUjkC,EAAAQ,OAAA,iBAiBxC,GAXD2jF,GAASloF,WAAY,EAEf0oF,EAAY,SAACpkG,GACb4jG,GAASloF,WAAa1b,IACxB4jG,GAAS/kF,GAAOxJ,GAAAA,GAAA,GACXuuF,GAAS/kF,IAAO,IAAA1H,EAAAA,EAAAA,GAAA,GAClBusC,EAAW1jD,KAIhB+jG,EAAY/jG,EACd,GAEIkzC,EAAU,CAAFzzB,EAAAnb,KAAA,SAAAmb,EAAAgC,GACFyxB,EAAStgC,KAAI6M,EAAAnb,KAAAmb,EAAAgC,KACdxS,GAAAA,GAAAA,OAAgB,GAAAwQ,EAAAgC,KAShBxS,GAAAA,GAAAA,WAAmBwQ,EAAAgC,KACnBxS,GAAAA,GAAAA,WAAmBwQ,EAAAgC,KACnBxS,GAAAA,GAAAA,YAFmB,GAEE,wBAAAwQ,EAAAnb,KAAA,GATD+/F,GAAsB,CAC3CnxD,SAAAA,EACAvF,eAAgBs2D,EAAe,WAAa,UAC5CthD,aAAcuhD,EAAa,WAAa,YACxC,QACuB,OALzBC,EAAc1kF,EAAAC,KAKd0kF,EAAUD,GAAe1kF,EAAAQ,OAAA,2BAAAR,EAAAnb,KAAA,GAMFggG,GAAwB,CAC7CpxD,SAAAA,EACAyP,aAAcuhD,EAAa,WAAa,YACxC,QACuB,OAJzBC,EAAc1kF,EAAAC,KAId0kF,EAAUD,GAAe1kF,EAAAQ,OAAA,oBAGzBwjF,GAAmB,CACjBnpE,KAAM,sBAAF55B,OAAwBwyC,EAAStgC,KAAI,gBAAAlS,OAAewyC,EAASxgC,OAAM,OACvE,QAAA+M,EAAAnb,KAAA,iBAGNm/F,GAAmB,CACjBnpE,KAAM,iBAAF55B,OAAmBgjD,EAAQ,OAC/B,yBAAAjkC,EAAAJ,OAAA,GAAAG,EAAA,KAEL,gBAAAG,GAAA,OAAApV,EAAAwT,MAAA,KAAAhf,UAAA,EA5DiB,GA6DpB,EAEMslG,GAAwB,SAACj2F,GAC7B,IAAQ8kC,EAA2C9kC,EAA3C8kC,SAAUvF,EAAiCv/B,EAAjCu/B,eAAgBgV,EAAiBv0C,EAAjBu0C,aAC5B4hD,EAAarxD,EAASxgC,OAAO3M,cAEnC,OAAO,IAAIgZ,SAAQ,SAACI,GACd+gD,GAAQqkC,GACVrkC,GAAQqkC,GACLj3D,iBAAiB,CAChBzR,OAAQ,OACR8R,eAAAA,EACAgV,aAAAA,IAED5jB,MAAK,SAACylE,GAAO,OACZrlF,EAAQ,CACNpF,KAAMm5B,EAASxgC,OACf4jB,IAAKkuE,EACLC,OAAQvxD,EAASpgC,QAAUR,GAAAA,GAAAA,MAC3B,IACH,OACM,SAAChW,GACNmnG,GAAmB,CACjBnpE,KAAM,2BAAF55B,OAA6BwyC,EAASxgC,OAAM,MAAAhS,OAAKpE,GACrDqnG,SAAS,IAEXC,GAASloF,WAAY,EACrByD,EAAQ,CACNpF,KAAMm5B,EAASxgC,OACf4jB,IAAK,EACLmuE,OAAQvxD,EAASpgC,QAAUR,GAAAA,GAAAA,MAE/B,IAEFmxF,GAAmB,CACjBnpE,KAAM,yCAAF55B,OAA2CwyC,EAASxgC,SAG9D,GACF,EAEM4xF,GAA0B,SAACl2F,GAC/B,IAAQ8kC,EAA2B9kC,EAA3B8kC,SAAUyP,EAAiBv0C,EAAjBu0C,aAElB,OAAO,IAAI5jC,SAAQ,SAACI,GAClB2lC,GAAU5R,EAASjgC,SAASlN,eACzBunC,iBAAiB,CAChBzR,OAAQ,OACRoR,MAAO,OACP0V,aAAAA,IAED5jB,MAAK,SAAC2lE,GAAW,OAChBvlF,EAAQ,CACNpF,KAAMm5B,EAASrgC,WACfyjB,IAAKouE,EACLD,QAAQ,GACR,IACH,OACM,SAACnoG,GACNmnG,GAAmB,CACjBnpE,KAAM,4BAAF55B,OAA8BwyC,EAASxgC,OAAM,MAAAhS,OAAKwyC,EAASrgC,WAAU,OAAAnS,OAAMpE,GAC/EqnG,SAAS,IAEXC,GAASloF,WAAY,EACrByD,EAAQ,CACNpF,KAAMm5B,EAASrgC,WACfyjB,IAAK,EACLmuE,QAAQ,GAEZ,GACJ,GACF,EAQaE,GAAc,SAACv2F,GAC1B,IAAM+vC,EAAwD/vC,EAAxD+vC,aAAcC,EAA0ChwC,EAA1CgwC,YAAWwmD,EAA+Bx2F,EAA7B01F,iBAAAA,OAAgB,IAAAc,GAAQA,EAEzD/hD,EAGI1D,GAAYhB,EAAatjC,eAFrBgqF,EAAgBhiD,EAAtB9oC,KACY+qF,EAAsBjiD,EAAlChwC,WAGF2sC,EAGIL,GAAYf,EAAYvjC,eAFpBkqF,EAAevlD,EAArBzlC,KACYirF,EAAqBxlD,EAAjC3sC,WAGF,OAAO,IAAIkM,QAAO,eAAArT,GAAAsT,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAC,EAAO6kF,GAAW,IAAAkB,EAAAhvE,EAAAD,EAAA,OAAA/W,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,cAAAib,EAAAjb,KAAA,EAChBu/F,GAAa,CAC9BngD,SAAUohD,GAA0BD,EACpChmF,OAAQ,OACRilF,iBAAAA,IACA,OAJQ,OAAJ7tE,EAAI1W,EAAAG,KAAAH,EAAAjb,KAAG,EAKKu/F,GAAa,CAC7BngD,SAAUshD,GAAyBD,EACnClmF,OAAQ,MACRilF,iBAAAA,IACA,OAJI9tE,EAAGzW,EAAAG,KAMIulF,EAAG,CAAC,GAAJ9tF,EAAAA,EAAAA,GAAA8tF,EACVjvE,EAAIjc,KAAOic,IAAG7e,EAAAA,EAAAA,GAAA8tF,EACdhvE,EAAKlc,KAAOkc,GAWf8tE,EARe,CACb9tE,KAAAA,EACAivE,KAAMjvE,EACND,IAAAA,EACAxuB,IAAKwuB,EACLmvE,QARiBF,IAWA,wBAAA1lF,EAAAF,OAAA,GAAAH,EAAA,KACpB,gBAAAsB,GAAA,OAAA9U,EAAAqS,MAAA,KAAAhf,UAAA,EA1BiB,GA2BpB,EC3Nam3C,GAAa,SAAH3rC,GAA8B,IAAxBopB,EAAIppB,EAAJopB,KAAM6gB,EAAMjqC,EAANiqC,OAAQzU,EAAGx1B,EAAHw1B,IACzC,IAAKpM,IAAS6gB,EAAQ,OAAOzU,EAE7B,IAAQvW,EAA0GmK,EAA1GnK,WAAYN,EAA8FyK,EAA9FzK,oBAAqBF,EAAyE2K,EAAzE3K,mBAAwCG,GAAiCwK,EAArD1K,mBAAqD0K,EAAjCxK,qBAAqBJ,EAAY4K,EAAZ5K,QAElGq8E,EAAyB,CAAC,CAAEl8E,EAAqBF,EAAoBG,EAAqBJ,GAASitB,MAAK,SAAC/wC,GAAI,OAAKA,GAAQA,EAAKwiB,QAAU,CAAC,IAGtHhQ,KAAKE,MAAMN,aAAaE,QAAQ,oBAWxD6tF,EAAyBr8E,EAEzB,IAQIs8E,EAAWtlE,EAgBf,OAdIA,EAAI1nB,SAAS,gBAEfgtF,GADAA,EAAWA,EAAS1mG,QALA,iBAKuBymG,EAAuBp3F,UAC9CrP,QAVS,qBAUuBymG,EAAuBp3F,UAEzE+xB,EAAI1nB,SAAS,kBAEfgtF,GADAA,EAAWA,EAAS1mG,QAXH,mBAWuB6qB,IACpB7qB,QAhBM,uBAgBuB6qB,IAG/CuW,EAAI1nB,SAAS,YAEfgtF,GADAA,EAAWA,EAAS1mG,QAfD,aAeuB61C,IACtB71C,QApBQ,iBAoBuB61C,IAG9C6wD,CACT,ECeA,UACE9xF,IAAAA,GACAC,IAAAA,GACAC,IAAAA,GACAC,MAAAA,GACAC,OAAAA,GACAC,OAAAA,GACAO,OAAAA,GACAC,IAAAA,GACAC,IAAAA,GACAC,KAAAA,GACAT,KAAAA,GACAC,IAAAA,GACAC,KAAAA,GACAC,KAAAA,GACAC,IAAAA,GACAC,IAAAA,GACAK,MAAAA,GACAjQ,KAAAA,GACAghG,SAAAA,GACAnlD,eAAAA,GACAolD,cAAAA,GACAx+E,aAAAA,GACA1P,aAAAA,I,qFCpBF,SAAemuF,IAAf,EA3DA,WACE,IAAAC,GAA8BC,EAAAA,GAAAA,WAAS,GAAMC,GAAAvyC,EAAAA,GAAAA,GAAAqyC,EAAA,GAAtCG,EAAQD,EAAA,GAAEE,EAASF,EAAA,GAC1BG,GAAwCJ,EAAAA,GAAAA,UAASjuF,KAAKC,UAAU,CAAC,IAAGquF,GAAA3yC,EAAAA,GAAAA,GAAA0yC,EAAA,GAA7DzuF,EAAY0uF,EAAA,GAAEC,EAAeD,EAAA,GAsBpC,OAdAE,EAAAA,GAAAA,YAAU,WACR,IAAMC,EAAa,CAAC,EACdC,EAAoB,oDAE1B,IAAK,IAAIzkG,KAAO+nB,OAAOpS,cACR,gBAAR3V,GAA0D,OAAjCA,EAAI6J,MAAM46F,IACd,gBAARzkG,KAEhBwkG,EAAWxkG,GAAO+nB,OAAOpS,aAAa3V,IAG1CskG,EAAgBvuF,KAAKC,UAAUwuF,OAAYlnG,EAAW,GACxD,IAGEonG,KAAAA,cAAA,WAASC,UAAU,iBAChB,EASDD,KAAAA,cAAA,OAAKC,UAAU,mCACbD,KAAAA,cAAA,UAAQC,UAAU,oBAAoBC,QAAS,WAC7C78E,OAAO+J,QAAQ+yE,MACjB,GACEH,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,sBACH+4F,eAAe,UAGnBoF,KAAAA,cAACK,KAAe,CAAC/oE,KAAMrmB,GACrB+uF,KAAAA,cAAA,UAAQC,UAAU,oBAAoBC,QAxCxB,WACpBT,GAAU,GACVzpF,YAAW,kBAAMypF,GAAU,EAAM,GAAE,IACrC,GAsCWD,GAAYQ,KAAAA,cAAA,QAAMC,UAAU,0BAAyB,WACtDD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,iBAAiB+4F,eAAe,YAK3DoF,KAAAA,cAAA,OAAKC,UAAU,6BACZhvF,GAIT,GC9DA,CAAgB,aAAe,2BAA2B,kCAAkC,4BAA4B,kBAAoB,2BAA2B,yBAAyB,2BAA2B,WAAW,2BAA2B,4BAA4B,2BAA2B,iBAAmB,6BCA3U,IAAgB,KAAO,2BAA2B,WAAa,2BAA2B,cAAgB,2BAA2B,WAAa,4BAA4B,kBAAoB,2BAA2B,SAAW,2BAA2B,SAAW,4BAA4B,iBAAmB,2BAA2B,WAAa,2BAA2B,SAAW,2BAA2B,SAAW,2BAA2B,gBAAkB,2BAA2B,OAAS,2BAA2B,QAAU,2BAA2B,aAAe,2BAA2B,UAAY,2BAA2B,IAAM,4BAA4B,MAAQ,2BAA2B,QAAU,2BAA2B,WAAa,2BAA2B,GAAK,2BAA2B,iBAAmB,2BAA2B,SAAW,2BAA2B,SAAW,4BAA4B,YAAc,2BAA2B,aAAa,2BAA2B,OAAS,2BAA2B,YAAc,2BAA2B,YAAc,2BAA2B,KAAO,4BCA9oC,IAAgB,UAAY,2BAA2B,mBAAqB,2BAA2B,UAAY,2BAA2B,kBAAkB,2BAA2B,KAAO,2BAA2B,MAAQ,2BAA2B,UAAY,2BAA2B,YAAc,2BAA2B,OAAS,2BAA2B,cAAgB,2BAA2B,cAAgB,2BAA2B,SAAW,4BAA4B,SAAW,2BAA2B,YAAc,2BAA2B,UAAY,4BAA4B,SAAW,2BAA2B,YAAc,2BAA2B,oBAAsB,2BAA2B,UAAY,2BAA2B,kBAAoB,2BAA2B,sBAAwB,2BAA2B,QAAU,4B,8BCG90B,IAkBxBqvF,GADpBlB,KCpBD,CAAgB,MAAQ,4BDoBLmB,CAAAC,GAAA,SAAAC,IAAAnuF,EAAAA,GAAAA,GAAAguF,EAAAG,GAAA,I,IAAAluF,G,EAAA+tF,E,maAIjB,SAAAA,EAAYhoF,GAAmB,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAAs8F,GAC7B/7F,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,QAHN,OAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,QAgCL,WACL,IAAAo/C,EAAqCp/C,EAAK2W,MAAlCwlF,EAAQ/8C,EAAR+8C,SAAUC,EAAch9C,EAAdg9C,eACVC,EAAkBr8F,EAAK+T,MAAvBsoF,cAEFC,EAAcH,EAAW,IAEzBI,EAAoBH,EAAiB,IAEvCE,GAAe,GAA8B,mBAAlBD,EAC7BA,KAGAr8F,EAAKw8F,MAAQ/qF,WAAWzR,EAAKy8F,KAAM,KACnCz8F,EAAK+9C,SAAS,CACZo+C,SAAUG,EACVF,eAAgBG,IAGtB,IA9CE,IAAQx6C,EAAyBhuC,EAAzBguC,SAAU26C,EAAe3oF,EAAf2oF,WAQjB,OAND18F,EAAK2W,MAAQ,CACXorC,SAAAA,EAEA26C,WAAAA,EACAP,SAAU,KACVC,eAAgB,MACjBp8F,CACH,CAwFC,OAxFAN,EAAAA,GAAAA,GAAAq8F,EAAA,EAAAhlG,IAAA,oBAAA6C,MAED,WACEvG,KAAKopG,MACP,GAAC,CAAA1lG,IAAA,qBAAA6C,MAED,WACE,IAAAkmD,EAAiCzsD,KAAKsjB,MAA9BorC,EAAQjC,EAARiC,SAAU26C,EAAU58C,EAAV48C,WAEZC,GAAU,IAAIpqE,MAAOC,UACrB2pE,EAAWp6C,EAAW46C,EACtBP,EAAiBM,EAAaC,EAEpCtpG,KAAK0qD,SAAS,CACZo+C,SAAAA,EACAC,eAAAA,GAEJ,GAAC,CAAArlG,IAAA,SAAA6C,MAsBD,WACE,IAAAgjG,EAAiDvpG,KAAKsjB,MAA9CwlF,EAAQS,EAART,SAAUC,EAAcQ,EAAdR,eAAgBM,EAAUE,EAAVF,WAClCG,EAAqCxpG,KAAK0gB,MAAlC+oF,EAAQD,EAARC,SAAUzG,EAAcwG,EAAdxG,eAEZ9lE,EAAMp+B,KAAKgvC,KAAKg7D,EAAW,IAAO,IAElCY,EAAc5qG,KAAKgvC,KAAKi7D,EAAiB,IAAO,IAEtD,OACEX,KAAAA,cAACuB,GAAAA,SAAQ,KAENN,GAAcN,EAAiB,IAAMU,EACpCrB,KAAAA,cAAA,OAAKC,UAAU,SACbD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,oBACH+4F,eAAe,uCACfl9F,OAAQ,CAAEo3B,IAAK,GAAFx6B,OAAKgnG,OAItBtB,KAAAA,cAACuB,GAAAA,SAAQ,KAENN,GAAcN,GAAkB,GAC/BX,KAAAA,cAAA,OAAKC,UAAU,SACbD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,uBACH+4F,eAAe,mCAIrBoF,KAAAA,cAAA,OAAKC,UAAU,UACO,IAAnBrF,EACCoF,KAAAA,cAAA,YAAOlrE,GACLA,EAAM,EACRkrE,KAAAA,cAAA,YACEA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,WACH+4F,eAAe,+BACfl9F,OAAQ,CAAEo3B,IAAK,GAAFx6B,OAAKw6B,OAItBkrE,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,UAAU+4F,eAAe,mBAO5D,KAAC0F,CAAA,CAvGgB,CACgBN,KAAAA,aAAeQ,GEAlD,SAAepB,IAAf,EAXe,SAAC9mF,GACd,IAAQ0O,EAA0D1O,EAA1D0O,QAASw6E,EAAiDlpF,EAAjDkpF,SAAQC,EAAyCnpF,EAAvCopF,QAAAA,OAAO,IAAAD,EAAG,KAAIA,EAAAE,EAAyBrpF,EAAvBspF,WAAAA,OAAU,IAAAD,GAAQA,EAE7D,OACE3B,KAAAA,cAAA,SAAOC,UAAS,UAAA3lG,OAAYsnG,EAAa,WAAa,IAAM,WAAUF,GACpE1B,KAAAA,cAAA,SAAOxzF,KAAK,WAAWg1F,SAAU,SAAAr9F,GAAA,IAAG09F,EAAM19F,EAAN09F,OAAM,OAAOL,EAASK,EAAO76E,QAAQ,EAAEA,QAASA,EAASuwE,SAAUqK,IACvG5B,KAAAA,cAAA,aAAQ,IAGd,GCnBA,CAAgB,OAAS,2BAA2B,SAAW,4BDqBrB,CAAE8B,eAAe,I,8DEuE3D,SAAeC,IAAf,EAhEe,SAACzpF,GACd,IACEvU,EAqBEuU,EArBFvU,SACAi+F,EAoBE1pF,EApBF0pF,UACAC,EAmBE3pF,EAnBF2pF,UACAC,EAkBE5pF,EAlBF4pF,OACAC,EAiBE7pF,EAjBF6pF,MACAC,EAgBE9pF,EAhBF8pF,YACAC,EAeE/pF,EAfF+pF,KACAC,EAcEhqF,EAdFgqF,KACA/K,EAaEj/E,EAbFi/E,SACAgL,EAYEjqF,EAZFiqF,UACAv+E,EAWE1L,EAXF0L,QACAw+E,EAUElqF,EAVFkqF,IACAC,EASEnqF,EATFmqF,MACAC,EAQEpqF,EARFoqF,MACAr0D,EAOE/1B,EAPF+1B,KACAs0D,EAMErqF,EANFqqF,WACAzC,EAKE5nF,EALF4nF,QAAO0C,EAKLtqF,EAJFzW,GAAAA,OAAE,IAAA+gG,EAAG,GAAEA,EACPC,EAGEvqF,EAHFuqF,KACAC,EAEExqF,EAFFwqF,KACApB,EACEppF,EADFopF,QAGIzB,EAAY8C,KAAG,SAAU,CAC7BF,KAAAA,EACAC,KAAAA,EACAb,UAAAA,EACAC,OAAAA,EACAC,MAAAA,EACAC,YAAAA,EACAC,KAAAA,EACAC,KAAAA,EACAE,IAAAA,EACAC,MAAAA,EACAC,MAAAA,EACAr0D,KAAAA,EACAs0D,WAAAA,EACApL,SAAAA,EACAgL,UAAAA,IAGF,OACEvC,MAAA1qD,cAAA,UACE,WAAUosD,EACVzB,UAAWA,EACX+B,UAAWA,EACX9B,QAASA,EACTr+F,GAAIA,EACJ01F,SAAUA,EACV,cACA,WAAU11F,GAETmiB,EACGg8E,MAAA1qD,cAAA,QAAM2qD,UAAU,WACdD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,qBAAqB+4F,eAAe,aAEzD72F,EAIZ,GC1FA,CAAgB,OAAS,2BAA2B,QAAU,2BAA2B,SAAW,2BAA2B,UAAY,2BAA2B,OAAS,2BAA2B,KAAO,4BAA4B,KAAO,2BAA2B,IAAM,2BAA2B,MAAQ,2BAA2B,KAAO,4BAA4B,MAAQ,2BAA2B,KAAO,2BAA2B,MAAQ,2BAA2B,YAAc,2BAA2B,KAAO,2BAA2B,SAAW,2BAA2B,WAAa,2BAA2B,UAAY,4BD4FzlB,CAAE+9F,eAAe,IE7F1B,IAWZkB,GAAW,SAAAC,IAAA3wF,EAAAA,GAAAA,GAAA0wF,EAAAC,GAAA,I,IAAA1wF,G,EAAAywF,E,maAG9B,SAAAA,EAAY1qF,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAAg/F,GACjBz+F,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,QAHN,OAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,QAqBL,WACL,IACMs8F,EADet8F,EAAK2W,MAAlBwlF,SACuB,EAE3BG,GAAe,EACjBt8F,EAAK+T,MAAM4qF,eAIX3+F,EAAKw8F,MAAQ/qF,WAAWzR,EAAKy8F,KAAM,KACnCz8F,EAAK+9C,SAAS,CACZo+C,SAAUG,IAGhB,IA9BE,IAAAsC,EAA0B7qF,EAAlBooF,SAAAA,OAAQ,IAAAyC,EAAG,GAAEA,EAIpB,OAFD5+F,EAAK2W,MAAQ,CACXwlF,SAAAA,GACDn8F,CACH,CA+BC,OA/BAN,EAAAA,GAAAA,GAAA++F,EAAA,EAAA1nG,IAAA,oBAAA6C,MAED,WACEvG,KAAKopG,MACP,GAAC,CAAA1lG,IAAA,uBAAA6C,MAED,WAEEkxE,aAAaz3E,KAAKmpG,MACpB,GAAC,CAAAzlG,IAAA,SAAA6C,MAkBD,WAGE,OAFqBvG,KAAKsjB,MAAlBwlF,QAGV,KAACsC,CAAA,CA1C6B,CAASI,GAAAA,W,iECPC,IAGrBJ,GAAW,SAAAC,IAAA3wF,EAAAA,GAAAA,GAAA0wF,EAAAC,GAAA,I,IAAA1wF,G,EAAAywF,E,maAAA,SAAAA,IAAA,OAAAh/F,EAAAA,GAAAA,GAAA,KAAAg/F,GAAAzwF,EAAAoF,MAAA,KAAAhf,UAAA,CAqC7B,OArC6BsL,EAAAA,GAAAA,GAAA++F,EAAA,EAAA1nG,IAAA,oBAAA6C,MAc9B,WACE,IAAAijG,EAGIxpG,KAAK0gB,MAFP+qF,EAAUjC,EAAViC,WACAnD,EAAOkB,EAAPlB,QAGEmD,GAAYnD,GAClB,GAAC,CAAA5kG,IAAA,SAAA6C,MAED,WACE,IAAAmlG,EAA2E1rG,KAAK0gB,MAAxEvU,EAAQu/F,EAARv/F,SAAUw/F,EAAaD,EAAbC,cAAe7C,EAAQ4C,EAAR5C,SAAUsB,EAASsB,EAATtB,UAAW9B,EAAOoD,EAAPpD,QAAYhgE,GAAI7f,EAAAA,EAAAA,GAAAijF,EAAAnjE,IAGtE,OAFuBvoC,KAAK0gB,MAApB+qF,WAEe,KAGrBrD,KAAAA,cAACwD,IAAMC,EAAAA,GAAAA,GAAA,CAACzB,UAAWA,EAAW9B,QAASA,GAAahgE,GACjDn8B,EAAQ,KAEPw/F,GAAiBvD,KAAAA,cAACM,GAAK,CAACI,SAAUA,EAAUwC,YAAahD,IAIjE,KAAC8C,CAAA,CArC6B,CAASI,GAAAA,YAASryF,EAAAA,EAAAA,GAA7BiyF,GAAW,YAEX,CACjB9C,QAASwD,KAAAA,KAAAA,WACThD,SAAUgD,KAAAA,OAAAA,WACV1B,UAAW0B,KAAAA,OACXH,cAAeG,KAAAA,KACfL,WAAYK,KAAAA,QACb3yF,EAAAA,EAAAA,GARkBiyF,GAAW,eAUR,CACpBO,eAAe,ICjBnB,MCDA,GAAe,IAA0B,yB,OCMa,IAIjCI,GAFpBvE,KCPD,CAAgB,gBAAkB,2BAA2B,UAAY,4BAA4B,UAAY,4BDO7F,CAAE0C,eAAe,GAAOvB,CAAAC,GAAA,SAAAC,IAAAnuF,EAAAA,GAAAA,GAAAqxF,EAAAlD,GAAA,I,IAAAluF,G,EAAAoxF,E,maAAA,SAAAA,IAAA,IAAAp/F,GAAAP,EAAAA,GAAAA,GAAA,KAAA2/F,GAAA,QAAAnsF,EAAA7e,UAAAd,OAAAqsE,EAAA,IAAAlsE,MAAAwf,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAwsD,EAAAxsD,GAAA/e,UAAA+e,GAUzC,OAVyCnT,EAAAgO,EAAAtZ,KAAA0e,MAAApF,EAAA,OAAAjY,OAAA4pE,KAAAnzD,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAGzB,WACf,IAAA68F,EAAwB78F,EAAK+T,MAArB+1B,EAAI+yD,EAAJ/yD,KAAMzoC,EAAKw7F,EAALx7F,MAEdyqC,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,MAAwB,CAC1C27B,KAAMA,EACNzoC,MAAOA,GAEX,IAACrB,CAAA,CAuBA,OAvBAN,EAAAA,GAAAA,GAAA0/F,EAAA,EAAAroG,IAAA,SAAA6C,MAED,WACE,IAAAmlG,EAII1rG,KAAK0gB,MAHPsrF,EAASN,EAATM,UACA3B,EAASqB,EAATrB,UAII4B,GAHIP,EAARQ,SAGc,CAAC,oBAIjB,OAHIF,GAAWC,EAAQ/rG,KAAK,aACxBmqG,GAAW4B,EAAQ/rG,KAAK,aAG1BkoG,KAAAA,cAAA,OAAKC,UAAW4D,EAAQzqG,KAAK,MAC3B4mG,KAAAA,cAACwD,GAAM,CAACnB,MAAI,EAACnC,QAAStoG,KAAKmsG,eAAgBv3F,KAAK,SAAS5G,MAAM,sBAC7Do6F,KAAAA,cAAA,YACEA,KAAAA,cAAA,OAAKgE,IAAKC,GAAWC,IAAI,UAAU,UAM7C,KAACP,CAAA,CAjCyC,CAEH3D,KAAAA,aAAeQ,GEKxD,SAAeuB,IAAf,EATqB,WAAH,OAChB/B,KAAAA,cAAA,OAAKC,UAAU,YACbD,KAAAA,cAAA,YACAA,KAAAA,cAAA,YACAA,KAAAA,cAAA,YACAA,KAAAA,cAAA,YACI,GCXR,CAAgB,SAAW,2BAA2B,UAAY,2BAA2B,UAAY,2BAA2B,UAAY,6B,OCQzE,IAIlDmE,GADpB/E,KNXD,CAAgB,kBAAoB,2BAA2B,kBAAoB,2BAA2B,aAAe,2BAA2B,OAAS,2BAA2B,SAAW,2BAA2B,cAAgB,2BAA2B,eAAiB,2BAA2B,kBAAoB,2BAA2B,gBAAkB,2BAA2B,gBAAkB,2BAA2B,WAAa,4BMW3b,CAAE0C,eAAe,GAAOvB,CAAAC,GAAA,SAAAC,IAAAnuF,EAAAA,GAAAA,GAAA6xF,EAAA1D,GAAA,I,IAAAluF,G,EAAA4xF,E,maAI1C,SAAAA,EAAY7rF,GAAO,IAAA/T,EAMhB,OANgBP,EAAAA,GAAAA,GAAA,KAAAmgG,GACjB5/F,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAHE,OAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAyBH,WACfA,EAAK+9C,SAAS,CACZ8hD,cAAc,IACb,WACDpuF,YAAW,WACTzR,EAAK+9C,SAAS,CACZ8hD,cAAc,GAElB,GAAG,IACL,GACF,KAACrzF,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAEgB,WACfA,EAAK+9C,SAAS,CACZ+hD,UAAU,GAEd,IArCE7yF,QAAQ4jB,IAAI,YAAa9c,GACzB/T,EAAK2W,MAAQ,CACXkpF,cAAc,EACdC,UAAU,GACX9/F,CACH,CAiGC,OAjGAN,EAAAA,GAAAA,GAAAkgG,EAAA,EAAA7oG,IAAA,oBAAA6C,MAED,WAAoB,IAAA0V,EAAA,KAElBjc,KAAK0sG,cAAgBtuF,YAAW,WAC9BnC,EAAKyuC,SAAS,CACZ+hD,UAAU,GAEd,GAAG,IACL,GAAC,CAAA/oG,IAAA,uBAAA6C,MAED,WAEEkxE,aAAaz3E,KAAK0sG,cACpB,GAAC,CAAAhpG,IAAA,SAAA6C,MAoBD,WACE,IAAAijG,EAIIxpG,KAAK0gB,MAHP+1B,EAAI+yD,EAAJ/yD,KACAzwC,EAAIwjG,EAAJxjG,KACA2mG,EAAOnD,EAAPmD,QAIAC,EACE5sG,KAAK0gB,MADPksF,SAGF7gD,EAGI/rD,KAAKsjB,MAFPkpF,EAAYzgD,EAAZygD,aACAC,EAAQ1gD,EAAR0gD,SAMF,OAHKzmG,IAAMA,EAAO,KACb2mG,IAASA,EAAU,IAGtBvE,KAAAA,cAAA,OAAKC,UAAU,mBACbD,KAAAA,cAACK,KAAe,CACd/oE,KAAM+W,EACNo2D,OAAQ7sG,KAAK8sG,gBAEb1E,KAAAA,cAAA,OAAKC,UAAU,aAAaC,QAAStoG,KAAK8sG,gBACxC1E,KAAAA,cAAA,OAAKC,UAAS,gBAAA3lG,OAAmB+pG,EAAY,WAAa,MACtDA,GACArE,KAAAA,cAAA,OAAKC,UAAU,UACbD,KAAAA,cAAC2E,GAAY,OAGjB3E,KAAAA,cAAA,OAAKE,QAAStoG,KAAK8sG,eACjBV,IAAG,0CAAA1pG,OAA4CsD,EAAI,KAAAtD,OAAIsD,EAAI,gBAAAtD,OAAek7C,mBAAmBnH,IAC7F61D,IAAG,GAAA5pG,OAAKiqG,GACRK,OAAQhtG,KAAKitG,kBAGfL,EACAxE,KAAAA,cAAA,YAAUC,UAAU,oBAAoB9hG,MAAOkwC,EAAMy2D,UAAQ,GAAEz2D,GAE/D2xD,KAAAA,cAAA,OAAKC,UAAU,qBACbD,KAAAA,cAAA,YAAO3xD,GACP2xD,KAAAA,cAAA,YAAO3xD,MAKf2xD,KAAAA,cAAA,OAAKC,UAAU,iBACbD,KAAAA,cAACK,KAAe,CAAC/oE,KAAM+W,EAAMo2D,OAAQ7sG,KAAK8sG,gBACxC1E,KAAAA,cAACwD,GAAM,CAACnB,MAAI,EAACJ,WAAS,EAAC1K,SAAU6M,EAAcnE,UAAU,kBACtDmE,EACCpE,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,8BAA8B+4F,eAAe,gBAClEoF,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,4BAA4B+4F,eAAe,gBAItEoF,KAAAA,cAAA,OAAKC,UAAU,qBACbD,KAAAA,cAAC2D,GAAW,CAACt1D,KAAMA,EAAMzoC,MAAK,OAKxC,KAACu+F,CAAA,CA5GyC,CACLnE,KAAAA,aAAeQ,GCJhDuE,GAAY,WAAO,EAczB,SAAe3F,IAAf,EAZkB,SAAC9mF,GACjB,IAAA0sF,EAAoD1sF,EAA5C4nF,QAAAA,OAAO,IAAA8E,EAAGD,GAASC,EAAAC,EAAyB3sF,EAAvB4sF,WAAAA,OAAU,IAAAD,GAAQA,EAEzChF,EAAY8C,KAAG,YAAa,CAChC,WAAcmC,IAGhB,OACElF,MAAA1qD,cAAA,UAAQ9oC,KAAK,SAAS0zF,QAASA,EAASD,UAAWA,EAAW+B,UAAU,uBAE5E,GCpBA,CAAgB,UAAY,2BAA2B,WAAa,4BDsBvB,CAAEF,eAAe,IED9D,GAAe1C,IAAf,EAba,SAAC9mF,GACZ,IAAQ4nF,EAA4B5nF,EAA5B4nF,QAAOiF,EAAqB7sF,EAAnB0pF,UAAAA,OAAS,IAAAmD,EAAG,GAAEA,EAE/B,OACEnF,KAAAA,cAAA,UACEkE,IAAI,gBACJhE,QAASA,EACT8B,UAAWA,EACX/B,UAAU,uBAGhB,GCnBA,CAAgB,sBAAsB,6BCctC,GAAeb,IAAf,EANqB,SAAC9mF,GACpB,IAAA8sF,EAA4C9sF,EAApC6pF,MAAAA,OAAK,IAAAiD,GAAQA,EAAElF,EAAqB5nF,EAArB4nF,QAAO0C,EAActqF,EAAZzW,GAAAA,OAAE,IAAA+gG,EAAG,GAAEA,EAEvC,OAAO5C,MAAA1qD,cAAA,UAAQzzC,GAAIA,EAAIo+F,UAAS,gBAAA3lG,OAAkB6nG,EAAQ,QAAU,IAAMjC,QAASA,GACrF,GCZA,CAAgB,aAAe,2BAA2B,MAAQ,4BDclB,CAAE4B,eAAe,I,2CEiBlD1C,IAAf,EArBuB,SAAC9mF,GACtB,IACE4nF,EAIE5nF,EAJF4nF,QACAn8F,EAGEuU,EAHFvU,SACAshG,EAEE/sF,EAFF+sF,QACGnlE,GAAI7f,EAAAA,EAAAA,GACL/H,EAAK6nB,IAIH8/D,EAAY8C,KAAG,iBAAkB,CACrC,QAAWsC,IAGb,OACErF,KAAAA,cAAA,UAAAyD,EAAAA,GAAAA,GAAA,CAAQvD,QAAUmF,EAPF,WAAe,EAOHnF,EAAqBD,UAAWA,GAAe//D,GACxEn8B,EAGP,GC7BA,CAAgB,eAAiB,4BAA4B,QAAU,4BD+BrB,CAAE+9F,eAAe,IE5BnC,IAG1BwD,GADLlG,KCLD,CAAgB,YAAc,2BAA2B,QAAU,2BAA2B,gBAAgB,4BDK1F,CAAE0C,eAAe,GAAOvB,CAAAC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAAgzF,EAAArC,GAAA,I,IAAA1wF,G,EAAA+yF,E,maAE1C,SAAAA,EAAYhtF,GAAO,IAAA/T,EAKhB,OALgBP,EAAAA,GAAAA,GAAA,KAAAshG,GACjB/gG,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAOG,WACf,IAAQkgG,EAAWlgG,EAAK+T,MAAhBmsF,OACJA,GAAQA,IACRlgG,EAAK2W,MAAMqqF,SAGfhhG,EAAK+9C,SAAS,CACZijD,SAAS,IACR,WACDvvF,YAAW,WACTzR,EAAK+9C,SAAS,CACZijD,SAAS,GAEb,GAAG,IACL,GACF,IApBEhhG,EAAK2W,MAAQ,CACXqqF,SAAS,GACVhhG,CACH,CAsCC,OAtCAN,EAAAA,GAAAA,GAAAqhG,EAAA,EAAAhqG,IAAA,SAAA6C,MAmBD,WACE,IAAAijG,EAA2BxpG,KAAK0gB,MAAxBgf,EAAI8pE,EAAJ9pE,KAAMvzB,EAAQq9F,EAARr9F,SACNwhG,EAAY3tG,KAAKsjB,MAAjBqqF,QAER,OACEvF,KAAAA,cAAA,OAAKC,UAAU,cAAcr6F,MAAM,QAChC2/F,GACDvF,KAAAA,cAAA,OAAKC,UAAU,WACbD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,aAAa+4F,eAAe,aAGnDoF,KAAAA,cAACK,KAAe,CACdoE,OAAQ7sG,KAAK8sG,eACbptE,KAAMA,GAELvzB,GAIT,KAACuhG,CAAA,CA9CyC,CACzBlC,GAAAA,aAAS5C,GAgD5B,UAAegF,EAAAA,GAAAA,IAAWF,I,uCEnDX,SAASG,GAAaz9F,GACnC,IAAQwE,EAA6BxE,EAA7BwE,KAAMzI,EAAuBiE,EAAvBjE,SAAauU,GAAK+H,EAAAA,EAAAA,GAAKrY,EAAMm4B,IAErCulE,EAD0C,SAAjCrwD,SAAS/e,KAAKqvE,QAAQC,OACR,QAAU,OAEvC,OACE5F,KAAAA,cAAC6F,GAAAA,GAAYpC,EAAAA,GAAAA,GAAA,CAACj3F,KAAMA,GAAQk5F,GAAiBptF,GAC1CvU,EAGP,CCwBA,SAAeq7F,IAAf,EAxBgB,SAAC9mF,GACf,IAAAwtF,EAA4ExtF,EAApE8qE,KAAAA,OAAI,IAAA0iB,GAAOA,EAAE/hG,EAAuDuU,EAAvDvU,SAAUlC,EAA6CyW,EAA7CzW,GAAEkkG,EAA2CztF,EAAzC0tF,eAAAA,OAAc,IAAAD,GAAQA,EAAAE,EAAmB3tF,EAAjB4tF,MAAAA,OAAK,IAAAD,EAAG,KAAIA,EAEvE,OACEjG,KAAAA,cAACuB,GAAAA,SAAQ,KACNne,EACC4c,KAAAA,cAAA,QACE,cACA,WAAUn+F,EACVo+F,UAAS,kBAAA3lG,OAAoB0rG,EAAiB,oBAAsB,KAEpEhG,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,YAAY+4F,eAAe,OAGlDoF,KAAAA,cAAA,OAAK,cAAS,WAAUn+F,EAAIo+F,UAAU,mBAGxCD,KAAAA,cAACyF,GAAY,CAACxF,UAAU,YAAYp+F,GAAIA,EAAIskG,OAAO,QAAQC,WAAS,EAAOF,MAAAA,GACxEniG,GAIT,GCnCA,CAAgB,QAAU,4BAA4B,OAAS,2BAA2B,OAAS,4BAA4B,YAAY,2BAA2B,kBAAoB,4BDqC/I,CAAE+9F,eAAe,IE7B5D,IAAMriG,GAAWwR,aAAaE,QAAQuB,GAAAA,gBAAAA,aAChC2zF,GAAW5mG,IAAyB,MAAbA,GACvB6mG,GAAUr1F,aAAaE,QAAQuB,GAAAA,gBAAAA,OAgDrC,SAAe0sF,IAAf,EA9C+B,SAAC9mF,GAC9B,IAAQvU,EAAwBuU,EAAxBvU,SAAUwiG,EAAcjuF,EAAdiuF,UAElB,OACEvG,KAAAA,cAACuB,GAAAA,SAAQ,KACNx9F,EACDi8F,KAAAA,cAAA,OAAKC,UAAU,aACbD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,wBAAwB+4F,eAAe,mCAC5DoF,KAAAA,cAACwG,GAAO,CACN3kG,GAAG,kBACHmkG,gBAAgB,GAEhBhG,KAAAA,cAAA,SACEA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,kBACH+4F,eAAe,mFAGjB2L,GACAvG,KAAAA,cAAA,SACEA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,4BACH+4F,eAAe,6DAIrB2L,GACAvG,KAAAA,cAAA,UAAQC,UAAU,iBAChBD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,2BAA2B+4F,eAAe,0CAE/DoF,KAAAA,cAACsF,GAAI,CAAChuE,KAAMivE,GACVvG,KAAAA,cAAA,UAAKuG,IAGLF,IACArG,KAAAA,cAACsF,GAAI,CAAChuE,KAAMgvE,IACVtG,KAAAA,cAAA,UAAKsG,OAQrB,GAEkDvqD,GAAQ,CAAE+lD,eAAe,I,ykBC3DpE,I,MAAM2E,GAAiB,SAAA7sG,GAAM,OAClCA,EAAOgG,QACL,SAACq0B,EAAKyyE,GAAG,OAAAz3F,GAAAA,GAAA,GAAWglB,GAAG,IAAAljB,EAAAA,EAAAA,GAAA,GAAG21F,EAAI7kG,GAAK6kG,EAAI1/D,SAAW0/D,EAAI9L,gBAAc,GACpE,CAAC,EACF,EAEU+L,GAAgB,WAAH,OAASn7C,UAAUo7C,SAASvuG,MAAM,KAAK,EAAE,EAItDwuG,GAAe,SAACz4D,GAAiB,UAAA9zC,OAF3B,WAAU,OAAL3B,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,IAAYJ,QAAQ,WAAY,GAAG,CAEPuuG,CAAdnuG,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,IAA2B,ECKhC,IA0BjCouG,GADL3H,KAAWrjD,GAAQ,CAAE+lD,eAAe,GAAOvB,EAAAyG,GAAA,SAAA/D,IAAA3wF,EAAAA,GAAAA,GAAAy0F,EAAA9D,GAAA,I,IAAA1wF,G,EAAAw0F,E,maAe1C,SAAAA,EAAYzuF,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAA+iG,GACjBxiG,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,OAdP,OAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,UACD,OAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,UACJ,OAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,UACJ,OAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,SACL,OAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,QACL,OAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,8BACkB,OAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBA0Cf,WAEjBA,EAAK6oB,QAAQt1B,KAAK+uG,GAAatiG,EAAK6pC,OAAQ,WAC9C,KAACr9B,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAEkB,WACjB,IAAA0iG,GAAAx0F,EAAAA,GAAAA,GAAAlO,GAAA2iG,EAAAD,EACE/rF,MACE/F,EAAI+xF,EAAJ/xF,KACA5G,EAAI24F,EAAJ34F,KAAI44F,EAAAF,EAENG,QAEE/tD,EAAY8tD,EAAZ9tD,aAEAguD,EAAuBF,EAAvBE,wBAEA/vB,EAAY6vB,EAAZ7vB,aAEAgwB,EAAaH,EAAbG,cAIAnyF,EAAKwG,gCAAkCpN,EAAKwpC,eAAiBsB,GAC/Dh2B,OAAO7C,KAAK,GAADlmB,OAAIgtG,EAAa,QAAAhtG,OAAO6a,EAAKwG,gCAAkC,UAExExG,EAAKkyF,IACPhkF,OAAO7C,KAAK,GAADlmB,OAAIg9E,EAAY,QAAAh9E,OAAO6a,EAAKkyF,IAA4B,SAEvE,KAACt2F,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAEmB,WAClB,IAAAgjG,GAAA90F,EAAAA,GAAAA,GAAAlO,GAAAijG,EAAAD,EACErsF,MACE3M,KACEwpC,EAAYyvD,EAAZzvD,aAAY0vD,EAAAD,EACZryF,KACE0tC,EAAW4kD,EAAX5kD,YAEEh3B,EAAI47E,EADNvsF,MACE2Q,KAONwtB,EAAYkuD,EAFdH,QAEE/tD,aAIEquD,EAAQ7kD,EAAY/R,KACpB62D,EAAQ5vD,IAAiBsB,EAAewJ,EAAY,gBAAkBA,EAAY,qBAClF+kD,EAAU7vD,IAAiBsB,EAAewJ,EAAYglD,OAAShlD,EAAY,YAADvoD,OAAa++C,EAAa15C,gBACpGmoG,EAAS/vD,IAAiBsB,EAAewJ,EAAY3rB,IAAM2rB,EAAYglD,OAEzEh8E,GAAQ67E,GAAS77E,EAAO87E,GAC1BpjG,EAAK+9C,SAAS,CACZylD,UAAW,IAGXl8E,IAAS87E,GACXpjG,EAAK+9C,SAAS,CACZylD,UAAW,IAGXl8E,IAAS+7E,GACXrjG,EAAK+9C,SAAS,CACZylD,UAAW,IAGXl8E,GAAQi8E,GACVvjG,EAAK+9C,SAAS,CACZylD,UAAW,GAGjB,KAACh3F,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,cAiBY,WAEXA,EAAKw8F,MAAQ/qF,YAAW,WAEtB,IAAMgyF,EAAwB,IAAI/yE,GAAAA,EAAUhkB,aAAaE,QAAQuB,GAAAA,aAAAA,YAAmCwiB,WAGhG3wB,EAAKgK,KAAK4G,KAAKzB,YAEjB27D,aAAa9qE,EAAKw8F,OAGpB,IAAMkH,EAAa5kF,OAAOsrB,SAASk/C,SAAS57E,SAAS,SAE/C6kB,KAAKivB,MAAQiiD,EAAiB,KAAeC,IACjDz2F,QAAQ4J,KAAK,kCACbnK,aAAaG,WAAWsB,GAAAA,aAAAA,WAExB28D,aAAa9qE,EAAKw8F,OAClB19E,OAAOsrB,SAASu5D,SAEpB,GAAG,IACL,KAACn3F,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAEgB,WACf,IAAAo/C,EAA4Cp/C,EAAK2W,MAAzC68B,EAAY4L,EAAZ5L,aAAcC,EAAW2L,EAAX3L,YAAazpC,EAAIo1C,EAAJp1C,KAEnC,IAAKA,EACH,OAAO,EAGT,IAAA45F,EAA+B55F,EAAK4G,KAA5B+F,EAAKitF,EAALjtF,MAAO2nC,EAAWslD,EAAXtlD,YAEfulD,EAKI7jG,EAAK6iG,QAHPnlD,EAA6BmmD,EAA7BnmD,8BAEAolD,EAAuBe,EAAvBf,wBAGIgB,EAAmB,SAAC9mF,GAGxB,OAFgC29E,GAASvR,gBAAgB,CAAEphF,KAAMgV,IAGxD,MAGFA,EAAS2xE,OAAO,GAAGz+E,cAAgB8M,EAASpoB,MAAM,GAAGwG,aAC9D,EAEM2oG,EAAmBD,EAAiBrwD,GACpCuwD,EAAoBF,EAAiBtwD,GAErCywD,EAAuBttF,EAAM2Q,MAAQg3B,EAAY,QAADvoD,OAASiuG,EAAkB5oG,gBAC3E8oG,EAAqBvtF,EAAM2Q,KAAOg3B,EAAY,YAADvoD,OAAaguG,EAAiB3oG,gBAE3E+oG,EAAkBF,GAAwBC,EAE1CE,GAAiBztF,EAAMxH,aAAewH,EAAM+nC,WAE5C2lD,EAAmBrkG,EAAKskG,4BAC1B3tF,EAAMqoC,+BACNroC,EAAM+mC,GAEJ6mD,EAAsBvkG,EAAKskG,4BAC7B3tF,EAAMmsF,GACNnsF,EAAMS,+BAOV,OALkB+sF,GACbE,GACAD,IACCG,CAGR,KAAC/3F,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,yBAEuB,SAAC7G,GACvB6G,EAAK+9C,UAAS,iBAAO,CACnBntC,KAAMzX,EACP,IAED6G,EAAKwkG,mBACP,KAACh4F,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,aAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEW,SAAAO,IAAA,IAAAjE,EAAA,OAAA0D,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OAEE,OAAJiX,EAAS5Q,EAAKgK,KAAd4G,KAAIkE,EAAAnb,KAAA,EAENiX,EAAKuwC,YACR/sB,MAAK,SAAC/+B,GACL,IAAKA,EAGH,OAFA2K,EAAK+9C,UAAS,iBAAO,CAAE0mD,aAAa,EAAM,SAC1ChzF,YAAW,kBAAMzR,EAAK+9C,UAAS,iBAAO,CAAE0mD,aAAa,EAAO,GAAE,GAAE,KAIlEzkG,EAAK+9C,UAAS,iBAAO,CAAEs+C,eAAe,EAAO,GAC/C,IAAE,wBAAAvnF,EAAAJ,OAAA,GAAAG,EAAA,OACLrI,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,cAEY,WACXA,EAAK+9C,UAAS,iBAAO,CAAEs+C,eAAe,EAAM,GAC9C,KAAC7vF,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAEc,WACMA,EAAK2W,MAAhBhgB,MAGV,KAAC6V,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAEsB,WAIjBA,EAAK6iG,QADP6B,gBAGJ,IAjPE,IACE9zF,EAOEmD,EAPFnD,KACA5G,EAME+J,EANF/J,KACA26F,EAKE5wF,EALF4wF,OACAvkF,EAIErM,EAJFqM,QACAyI,EAGE9U,EAHF8U,QACAghB,EAEE91B,EAFF81B,OACA+6D,EACE7wF,EADF6wF,OAuBD,OApBD5kG,EAAK6iG,QAAU+B,EACf5kG,EAAKgK,KAAOA,EACZhK,EAAKogB,QAAUA,EACfpgB,EAAK6oB,QAAUA,EACf7oB,EAAK6pC,OAASA,EAGd7pC,EAAKskG,4BAA8B3J,GAASvR,gBAAgB,CAAEphF,KAAMgC,EAAKwpC,eAEzExzC,EAAK2W,MAAQ,CACX3M,KAAAA,EACA26F,OAAAA,EACAtI,eAAe,EACfoI,aAAa,EACb7zF,KAAAA,EACAytC,MAAOztC,EAAKytC,MACZ5K,YAAazpC,EAAKypC,YAClBD,aAAcxpC,EAAKwpC,aACnB78C,OAAQlF,GAAAA,YAAmB,IAAIoC,SAAS,OACxC2vG,UAAW,GACZxjG,CACH,CAgcC,OAhcAN,EAAAA,GAAAA,GAAA8iG,EAAA,EAAAzrG,IAAA,oBAAA6C,MA+ED,WAEEvG,KAAK2W,KAAKoxC,GAAG,eAAgB/nD,KAAKwxG,uBAClCxxG,KAAKmxG,oBACL93F,aAAaC,QAAQwB,GAAAA,aAAAA,UAAkCokB,KAAKivB,MAAM3tD,YAClER,KAAKyxG,YACP,GAAC,CAAA/tG,IAAA,uBAAA6C,MAED,WAEEvG,KAAK2W,KAAK+6F,IAAI,eAAgB1xG,KAAKwxG,uBAEnC/5B,aAAaz3E,KAAKmpG,MACpB,GAAC,CAAAzlG,IAAA,SAAA6C,MAwHD,WACE,IAAAkmD,EAuBIzsD,KAAKsjB,MArBP/F,GADKkvC,EAALzB,MACIyB,EAAJlvC,MACA5G,EAAI81C,EAAJ91C,KAAIg7F,EAAAllD,EACJ91C,KACE4G,KAEEmwC,GADiBikD,EAAjB7nD,kBACU6nD,EAAVjkD,YAAUkkD,EAAAD,EACVruF,MACEuuF,EAAmBD,EAAnBC,oBACAznD,EAAgBwnD,EAAhBxnD,iBACA2F,EAAa6hD,EAAb7hD,cACAj0C,EAAU81F,EAAV91F,WACAuvC,EAAUumD,EAAVvmD,WAKNimD,GAJmBM,EAAbzmD,cAIAsB,EAAN6kD,QACAlxD,EAAWqM,EAAXrM,YAEA4oD,GADYv8C,EAAZtM,aACasM,EAAbu8C,eACAoI,EAAW3kD,EAAX2kD,YAGFU,EAWI9xG,KAAKwvG,QATP/tD,EAAYqwD,EAAZrwD,aAEA0I,EAAY2nD,EAAZ3nD,aAEAu1B,EAAYoyB,EAAZpyB,aAEAgwB,EAAaoC,EAAbpC,cAEAD,EAAuBqC,EAAvBrC,wBAIIsC,GAAqB/xG,KAAK2W,KAAKiyC,uBAE/B5oD,KAAK2W,KAAKiyC,wBAA0B5oD,KAAK+sB,QAAQqzB,EAAYvjC,eAE7Dm1F,EAAYhyG,KAAKiyG,iBAEnBC,GAAY,EAEZ30F,EAAK40F,wBACPD,EAAY30F,EAAK40F,sBAAsB1yB,iBAAmBliE,EAAK40F,uBAGjE,IAAMC,EAAgBhoD,IAAqBsD,EAAaqC,EAAgB,EAAI8hD,GACtEQ,EAAgBv2F,GAAcuvC,EAEpC,OACE+8C,KAAAA,cAAA,OAAKC,UAAU,WACbD,KAAAA,cAAA,OAAKC,UAAU,aACbD,KAAAA,cAAA,OAAKC,UAAU,iBACbD,KAAAA,cAAA,OAAKC,UAAU,aACXgK,GAAiBD,GACfhK,KAAAA,cAACM,GAAK,CAACh6C,SAAsC,IAA5BtE,EAAiBsE,WAIrC4iD,GAAU/zF,EAAK0W,KAAO,GACrBm0E,KAAAA,cAAA,WACEA,KAAAA,cAAA,cACEA,KAAAA,cAAA,KAAGkK,KAAI,GAAA5vG,OAAKgtG,EAAa,QAAAhtG,OAAO6a,EAAKg1F,qBAAuBtI,OAAO,SAASuI,IAAI,uBAC9EpK,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,mBAAmB+4F,eAAe,sCAAsCl9F,OAAQ,CAAE8rE,YAAar0D,EAAKg1F,0BAM/Hh1F,EAAK6sC,mBAAqB7sC,EAAKzB,aAAeyB,EAAKk1F,gBAAmBl1F,EAAKm1F,aAC3EtK,KAAAA,cAAA,WACEA,KAAAA,cAAA,KACEkK,KAAK,iGACLrI,OAAO,SACPuI,IAAI,uBAEJpK,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,mBAAmB+4F,eAAe,gCAEzDoF,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,mBAAmB+4F,eAAe,6BACvDoF,KAAAA,cAAA,YAAM,IAAE7qF,EAAKm1F,YAAY,MAK3BR,GACE9J,KAAAA,cAAA,OAAKC,UAAU,qBACbD,KAAAA,cAAA,cACEA,KAAAA,cAAA,KACEkK,KAAM37F,EAAKwpC,eAAiBsB,EAAY,GAAA/+C,OACjCg9E,EAAY,QAAAh9E,OAAOwvG,GAAS,GAAAxvG,OAC5BgtG,EAAa,QAAAhtG,OAAOwvG,GAE3BjI,OAAO,SACPuI,IAAI,uBAEJpK,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,kBAAkB+4F,eAAe,yBACtDoF,KAAAA,cAAA,QAAMC,UAAU,yBAAyB6J,MAOlDF,GACC5J,KAAAA,cAACuB,GAAAA,SAAQ,KACNX,EAEGZ,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,OAAKC,UAAU,aACbD,KAAAA,cAACwD,GAAM,CAAClB,MAAI,EAACpC,QAAStoG,KAAK8tD,WACzBs6C,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,kBAAkB+4F,eAAe,iBAGzDoO,GACChJ,KAAAA,cAAA,QAAMC,UAAU,YACdD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,kBAAkB+4F,eAAe,iCAM5DoF,KAAAA,cAAA,OAAKC,UAAU,eACbD,KAAAA,cAACM,GAAK,CACJe,UAAQ,EACR/6C,SAAwC,IAA9BnxC,EAAK4sC,GAAcuE,SAC7B26C,WAAmD,KAAtC9rF,EAAK4sC,GAAcuE,SAAW,MAC3Cs6C,cAAehpG,KAAK2yG,eAQjB,IAAdp1F,EAAK0W,OAAej0B,KAAKixG,6BACxB7I,KAAAA,cAACgD,GAAW,CAACb,OAAK,EAACjC,QAAStoG,KAAK4yG,aAAapzF,KAAKxf,MAAO8oG,SAAU,IAAK2C,YAAY,GACnFrD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,wBAAwB+4F,eAAe,uBAGjD,IAAdzlF,EAAK0W,MAAcj0B,KAAKixG,6BACvB7I,KAAAA,cAACgD,GAAW,CAACb,OAAK,EAACjC,QAAStoG,KAAK6yG,qBAAqBrzF,KAAKxf,MAAO8oG,SAAU,IAAK2C,YAAY,GAC3FrD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,wBAAwB+4F,eAAe,gCAGjD,IAAdzlF,EAAK0W,MAAc1W,EAAKquC,gBACvBw8C,KAAAA,cAAA,UAAQC,UAAU,aAChBD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,yBACH+4F,eAAe,qFAIpBzlF,EAAK0W,MAAQ,GAAK1W,EAAKotC,0BACtBy9C,KAAAA,cAAA,UAAQC,UAAU,aAChBD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,0BACH+4F,eAAe,uFAIpBzlF,EAAK0W,MAAQ,GAAK1W,EAAKsuC,eACtBu8C,KAAAA,cAAA,UAAQC,UAAU,aAChBD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,0BACH+4F,eAAe,8DACfl9F,OAAQ,CACNqF,MAAOoS,EAAKsuC,kBAKnB7zC,GAAS2F,iBACN3d,KAAKixG,6BAA6C,IAAd1zF,EAAK0W,MACvCj0B,KAAKixG,6BAA6C,IAAd1zF,EAAK0W,MAAc1W,EAAKkuC,iBAEhE28C,KAAAA,cAAA,UAAQC,UAAU,sBAChBD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,yBACH+4F,eAAe,+DACfl9F,OAAQ,CACNu8C,WAAYrqC,GAASmhC,YAAYmiB,uBAKxC/9C,EAAK0W,KAAO,IAAM1W,EAAK8tC,aAAe9tC,EAAKzB,aAAgB9b,KAAKixG,6BAC/D7I,KAAAA,cAAC0K,GAAsB,CAACnE,YAAWpxF,EAAKja,QAASia,EAAKja,UAIzDia,EAAKwG,iCAAmC/jB,KAAKixG,6BAC5C7I,KAAAA,cAAA,UAAQC,UAAU,eAChBD,KAAAA,cAAA,KACEkK,KAAI,GAAA5vG,OAAKgtG,EAAa,QAAAhtG,OAAO6a,EAAKwG,gCAClCkmF,OAAO,SACPuI,IAAI,uBAEJpK,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,mBAAmB+4F,eAAe,gBAAgBl9F,OAAQ,CAAE8rE,YAAar0D,EAAKwG,oCAIxGxG,EAAKkyF,IAA4BzvG,KAAKixG,6BACrC7I,KAAAA,cAAA,UAAQC,UAAU,eAChBD,KAAAA,cAAA,KACEkK,KAAI,GAAA5vG,OAAKg9E,EAAY,QAAAh9E,OAAO6a,EAAKkyF,IACjCxF,OAAO,SACPuI,IAAI,uBAEJpK,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,mBAAmB+4F,eAAe,gBAAgBl9F,OAAQ,CAAE8rE,YAAar0D,EAAKkyF,QAIxGlyF,EAAKzB,YACJssF,KAAAA,cAAA,OAAKC,UAAU,uBACZ0J,GACC3J,KAAAA,cAAC2K,GAAAA,GAAM,CAACpiE,GAAG,WACTy3D,KAAAA,cAACwD,GAAM,CAACrB,OAAK,EAACjC,QAAStoG,KAAKgzG,kBAC1B5K,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,yBAAyB+4F,eAAe,oBAInEoF,KAAAA,cAACwD,GAAM,CAAClB,MAAI,EAACpC,QAAStoG,KAAKizG,kBACzB7K,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,yBAAyB+4F,eAAe,4BAQ7E,KAACmM,CAAA,CAhfyC,CACjB3D,GAAAA,YAASryF,EAAAA,EAAAA,GAAAi2F,GAAA,eASZ,CACpB7xF,KAAM,CAAC,EACP21F,WAAW,IAZ6BtK,GAazCwG,MAAAxG,GAseH,UAAegF,EAAAA,GAAAA,IAAWuB,IC1hB1B,IAAgB,SAAW,2BAA2B,SAAW,4BAA4B,WAAa,4BAA4B,SAAW,2BAA2B,WAAa,2BAA2B,QAAU,2BAA2B,OAAS,2BAA2B,QAAU,2BAA2B,kBAAoB,4BAA4B,YAAc,2BAA2B,YAAc,4BAA4B,kBAAoB,2BAA2B,SAAW,4B,gBCA/f,UAAgB,gBAAkB,2BAA2B,aAAe,2BAA2B,YAAc,4BAA4B,SAAW,6B,sOCG9H,I,GAOTgE,GADpB3L,K,uWAAUnwF,CAAC,CAAC,EAAI8sC,IAAU,CAAE+lD,eAAe,GAAOvB,CAAAC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAAy4F,EAAA9H,GAAA,I,IAAA1wF,G,EAAAw4F,E,maAGjD,SAAAA,EAAYzyF,GAAO,OAAAtU,EAAAA,GAAAA,GAAA,KAAA+mG,GAAAx4F,EAAAtZ,KAAA,KACXqf,EACR,CAiBC,OAjBArU,EAAAA,GAAAA,GAAA8mG,EAAA,EAAAzvG,IAAA,SAAA6C,MAED,WACE,IAAQyJ,EAAYhQ,KAAK0gB,MAAjB1Q,QAER,OACEo4F,KAAAA,cAAA,OAAKgC,UAAWjmD,GAAAA,iBACdikD,KAAAA,cAAA,OAAKgC,UAAWjmD,GAAAA,cACdikD,KAAAA,cAACgL,GAAAA,GAAM,CACLptG,KAAM,IACNO,MAAOyJ,EACPqjG,QAAQ,0BACRC,QAAQ,kBAKlB,KAACH,CAAA,CAtBgD,CACnB3H,GAAAA,aAAS5C,GCO2C,IAkB/D2K,GADpB/L,KAAWrjD,GAAOwkD,CAAAC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAA64F,EAAAlI,GAAA,I,IAAA1wF,G,EAAA44F,E,maAMjB,SAAAA,EAAY7yF,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAAmnG,GACjB5mG,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,UALJ,OAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,OACP,OAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,WACA,OAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MA0CC,SAAAO,IAAA,IAAAuqC,EAAAp1C,EAAA3G,EAAAwjG,EAAAC,EAAAC,EAAAjrD,EAAA97B,EAAA1X,EAAA41B,EAAAoG,EAAA,OAAAhwB,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OAS4B,GAT5BylD,EAMVp/C,EAAK2W,MAJP3M,EAAIo1C,EAAJp1C,KACA3G,EAAO+7C,EAAP/7C,QACAwjG,EAAmBznD,EAAnBynD,oBACAC,EAAqB1nD,EAArB0nD,sBAIIhrD,EAAiB9xC,EAAK8xC,gBAExB+qD,IAAuBC,EAAqB,CAAAhyF,EAAAnb,KAAA,aAC1CktG,EAAqB,CAAF/xF,EAAAnb,KAAA,SAEsC,OADrDqmB,EAAW,IAAAjqB,OAAI+lD,EAAc,KAAA/lD,OAAIiU,EAAKwpC,cAAetjC,cACrD5H,EAAWR,GAAAA,GAAUkY,GAAU1X,SAASlN,cAAa0Z,EAAAnb,KAAA,EAErCmyC,GAAQxjC,GAAUqlC,WAAW3tC,EAAKgd,UAAS,OAAjE+pF,EAAajyF,EAAAC,KAAAD,EAAAnb,KAAG,GAAH,qBAAAmb,EAAAnb,KAAG,GAEMmyC,GAAQgQ,EAAe1gD,eAAeuyC,aAAY,QAAxEo5D,EAAajyF,EAAAC,KAAA,QAAAD,EAAAnb,KAAG,GAAH,qBAAAmb,EAAAnb,KAAG,GAIKmyC,GAAQ9rC,EAAKgd,UAAUugB,cAAcl6B,GAAQ,QAA9D66B,EAAQppB,EAAAC,KACRuvB,EAAepG,EAAS7iC,QAAO,SAACupC,EAAI7jC,GAAY,OAAO6jC,EAAP7jC,EAAR28B,QAA8B,GAAE,GAC9EqpE,EAAgB,IAAIr2E,GAAAA,EAAU4T,GAAcxI,UAAU,KAAI,QAG5D97B,EAAK+9C,UAAS,iBAAO,CACnBjhC,QAASiqF,EACV,IAAE,yBAAAjyF,EAAAJ,OAAA,GAAAG,EAAA,OACJrI,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,0BAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEwB,SAAAC,IAAA,IAAAurC,EAAAtF,EAAA19B,EAAAkqF,EAAAH,EAAAvxB,EAAA,OAAAhhE,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OAAAmmD,EAC0C9/C,EAAK2W,MAA9D6jC,EAAUsF,EAAVtF,WAAY19B,EAAOgjC,EAAPhjC,QAASkqF,EAAUlnD,EAAVknD,WAAYH,EAAmB/mD,EAAnB+mD,oBAErCvxB,EAAmB,IAAI5kD,GAAAA,EAAU8pB,GAAY+X,MAAMz1C,GAElD+pF,IACHvxB,EAAmBA,EAAiBj3C,KAAK2oE,IAG3ChnG,EAAK+9C,UAAS,iBAAO,CACnBu3B,iBAAkBA,EAAiB7xC,GAAG,EAAG/S,GAAAA,EAAAA,UAAoBC,WAC9D,IAAE,wBAAA/b,EAAAF,OAAA,GAAAH,EAAA,OACJ/H,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEmB,SAAAkB,IAAA,IAAAglC,EAAAwsD,EAAAC,EAAA,OAAA3yF,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,OAKlB,GAJiBqG,EAAK+T,MAAd/J,KACAwwC,EAAex6C,EAAK2W,MAApB6jC,WAEJwsD,EAAa,GAEbzuE,GAAuB7qB,SAAS1N,EAAKgd,UAAW,CAAFtH,EAAA/b,KAAA,eAAA+b,EAAA/b,KAAA,EAE7B47D,GAAQv1D,EAAKgd,UAAU2lB,iBAAiB,CAAEzR,OAAQ,OAAQsQ,OAAO,IAAO,OAA3FwlE,EAAUtxF,EAAAX,KAEV/U,EAAK+9C,UAAS,iBAAO,CACnBipD,WAAAA,EACD,IAAE,OAGCC,EAAiB,IAAIv2E,GAAAA,EAAU8pB,GAClCnc,KAAK2oE,GACLvjE,GAAG,EAAG/S,GAAAA,EAAAA,YACNC,WAEH3wB,EAAK+9C,UAAS,iBAAO,CACnBkpD,eAAAA,EACD,IAEDjnG,EAAKknG,yBAAwB,yBAAAxxF,EAAAhB,OAAA,GAAAc,EAAA,OAC9BhJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAEiB,WAChB,IAAA48F,EAOI58F,EAAK2W,MANP3M,EAAI4yF,EAAJ5yF,KACAg9F,EAAUpK,EAAVoK,WACAxsD,EAAUoiD,EAAVpiD,WACA19B,EAAO8/E,EAAP9/E,QACA+pF,EAAmBjK,EAAnBiK,oBACAC,EAAqBlK,EAArBkK,sBAGE,IAAIp2E,GAAAA,EAAU8pB,GAAYnc,KAAK2oE,GAAYrjD,oBAAoB7mC,KACjE9c,EAAK+9C,UAAS,iBAAO,CACnBc,iBAAiB,EAClB,IAEGgoD,GAAuBC,EACzB98F,EAAK4G,KAAKu2F,cAEVn9F,EAAK4G,KAAKw2F,kBAGhB,KAAC56F,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,8BAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAE4B,SAAAiD,IAAA,IAAAimC,EAAA6pD,EAAAC,EAAA,OAAAhzF,IAAAA,MAAA,SAAAoD,GAAA,cAAAA,EAAApc,KAAAoc,EAAA/d,MAAA,OAEP,OAAZ6jD,EAAiBx9C,EAAK6iG,QAAtBrlD,aAAY9lC,EAAA/d,KAAA,EAGdqG,EAAKunG,oBAAmB,cAAA7vF,EAAA/d,KAAA,EACxBqG,EAAKknG,yBAAwB,OAEV,OAAnBI,EAAmB,eAAAvxF,GAAA1B,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAa,IAAA,IAAAqyF,EAAA52F,EAAA62F,EAAA5oD,EAAA0C,EAAA46C,EAAA,OAAA7nF,IAAAA,MAAA,SAAAe,GAAA,cAAAA,EAAA/Z,KAAA+Z,EAAA1b,MAAA,OAYkD,GAZlD6tG,EAQtBxnG,EAAK+T,MANP/J,KACE4G,EAAI42F,EAAJ52F,KAES62F,EAASD,EADlB52F,KACE+F,MAIEkoC,EAAoB7+C,EAAK2W,MAAzBkoC,gBAEF0C,EAASpvD,KAAKqhC,MAAMjB,KAAKivB,MAAQ,QACjC26C,EAAWhqG,KAAKgvC,MAAMsmE,EAAUjqD,GAAcuE,SAAWR,GAAU,MAEzD,GAAC,CAAAlsC,EAAA1b,KAAA,SAMO,OALtBsT,QAAQrQ,MAAM,6BAA8B,kBAC5CqQ,QAAQ4jB,IAAI,sCACZ5jB,QAAQ4jB,IAAI,aAAcsrE,GAC1BlvF,QAAQy2B,WAER9yB,EAAKywC,kBAAiBhsC,EAAAC,OAAA,UAEf,GAAI,YAGTupC,EAAiB,CAAFxpC,EAAA1b,KAAA,gBAAA0b,EAAAC,OAAA,UACV,GAAI,eAAAD,EAAA1b,KAAA,GAGPqG,EAAK0nG,gBAAe,QACJ,OAAtB1nG,EAAK2nG,kBAAiBtyF,EAAAC,OAAA,UAEf,GAAK,yBAAAD,EAAAX,OAAA,GAAAS,EAAA,KACb,kBAjCwB,OAAAY,EAAA3C,MAAA,KAAAhf,UAAA,KAAAsjB,EAAA/d,KAAG,EAmCtB2tG,IAAqB,OAE3BD,EAAU/Z,aAAWj5E,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAA0B,IAAA,OAAA1B,IAAAA,MAAA,SAAAmC,GAAA,cAAAA,EAAAnb,KAAAmb,EAAA9c,MAAA,cAAA8c,EAAA9c,KAAA,EACG2tG,IAAqB,OAA9B7wF,EAAA1B,MAGZ24E,cAAc2Z,GACf,wBAAA5wF,EAAA/B,OAAA,GAAAsB,EAAA,KACA,KAAK,wBAAA0B,EAAAhD,OAAA,GAAA6C,EAAA,OACT/K,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEqB,SAAA4C,IAAA,OAAA5C,IAAAA,MAAA,SAAAgD,GAAA,cAAAA,EAAAhc,KAAAgc,EAAA3d,MAAA,OACpBqG,EAAK0nG,gBAEL1nG,EAAK+9C,SAAS,CACZp/B,mBAAmB,IAClB,WACDlN,YAAW,WACTzR,EAAK+9C,SAAS,CACZp/B,mBAAmB,GAEvB,GAAG,IACL,IAAE,wBAAArH,EAAA5C,OAAA,GAAAwC,EAAA,MAvMF,IACElN,EAIE+J,EAJF/J,KACA4G,EAGEmD,EAHFnD,KACAq4B,EAEEl1B,EAFFk1B,aACA27D,EACE7wF,EADF6wF,OAGF5kG,EAAK6iG,QAAU+B,EAEf5kG,EAAKgK,KAAOA,EAEZhK,EAAKgd,SAAWhT,EAAKwpC,aAAap4C,cAElC,IAAMyrG,EAAsB1sD,GAAUhR,QAAQ,CAAEnhC,KAAMgC,EAAKwpC,eACrDszD,EAAwBh/F,GAAAA,GAAUkC,EAAKwpC,cAAcrrC,QAAUR,GAAAA,GAAAA,GAqBpE,OAnBD3H,EAAK2W,MAAQ,CACX3M,KAAAA,EACAg9F,WAAY,EAEZ1xB,iBAAkBt1E,EAAKgK,KAAKwwC,WAC5B5pC,KAAM5G,EAAK4G,KAAK+F,MAChBkoC,iBAAiB,EACjBlgC,mBAAmB,EACnBkoF,oBAAAA,EACAC,sBAAAA,EACAhqF,QAAS+pF,GAAuBC,EAC5B79D,EAAansB,SAAWmsB,EAAa9oB,oBAAsB,GAC3DvP,EAAKwyC,cACT//C,QAASwjG,GAAuBC,EAC5B79D,EAAa5lC,QACbuN,EAAKs2B,cAETsT,WAAYx6C,EAAKgK,KAAKwwC,WACtBysD,eAAgB,GACjBjnG,CACH,CA6VC,OA7VAN,EAAAA,GAAAA,GAAAknG,EAAA,EAAA7vG,IAAA,oBAAA6C,MAsKD,WACEvG,KAAKu0G,4BACP,GAAC,CAAA7wG,IAAA,qBAAA6C,MAED,SAAmBiuG,EAAWC,GACxBz0G,KAAKsjB,MAAMmG,UAAYgrF,EAAUhrF,SACnCzpB,KAAK6zG,wBAET,GAAC,CAAAnwG,IAAA,SAAA6C,MAED,WACE,IAAAmuG,EAUI10G,KAAKsjB,MATP3M,EAAI+9F,EAAJ/9F,KACA4G,EAAIm3F,EAAJn3F,KACAkM,EAAOirF,EAAPjrF,QACAzZ,EAAO0kG,EAAP1kG,QACA2jG,EAAUe,EAAVf,WACAC,EAAcc,EAAdd,eACApoD,EAAekpD,EAAflpD,gBACAy2B,EAAgByyB,EAAhBzyB,iBACA32D,EAAiBopF,EAAjBppF,kBAGIylC,EAAgBziC,IAAUA,GAAAA,SAE1BqmF,EAA8B,CAClCC,eACExM,KAAAA,cAAA,WACGnmB,EAAmB,EAClBmmB,KAAAA,cAAA,iBAAA1lG,OAAYu/E,GAAmB,IAAEtrE,EAAKwpC,aAAc,MAEpDioD,KAAAA,cAAA,QAAMC,UAAU,gBACdD,KAAAA,cAAC2E,GAAY,OAGjB3E,KAAAA,cAACwG,GAAO,CAAC3kG,GAAG,UACVm+F,KAAAA,cAAA,WAEEA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,aACH+4F,eAAe,uLACfl9F,OAAQ,CACN+mB,OAAQ,GAAFnqB,OAAKiU,EAAKwwC,YAChB5R,UAAW5+B,EAAKwpC,aAChB00D,GAAIzM,KAAAA,cAAA,iBAQhBv7E,OAAQ,GAAFnqB,OAAKiU,EAAKwwC,YAChB5R,UAAW5+B,EAAKwpC,aAChB00D,GAAIzM,KAAAA,cAAA,YAINoI,EAAqDxwG,KAAKwvG,QAAlD/tD,EAAY+uD,EAAZ/uD,aAAci+B,EAAY8wB,EAAZ9wB,aAAcv1B,EAAYqmD,EAAZrmD,aAEpC,OACEi+C,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,OACEC,UAAU,aAEVD,KAAAA,cAAA,OAAKC,UAAU,OACbD,KAAAA,cAAA,OAAKC,UAAU,cACZt3C,EACCq3C,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,mBACH+4F,eAAe,wFACfl9F,OAAQ6uG,IAGRvM,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,aACH+4F,eAAe,6EACfl9F,OAAQ6uG,MAKlBvM,KAAAA,cAAA,OAAKC,UAAU,SACXD,KAAAA,cAAC+K,GAAE,CAACnjG,QAAO,GAAAtN,OAAKsN,EAAO,YAAAtN,OAAWu/E,MAEtCmmB,KAAAA,cAACsF,GAAI,CAAChuE,KAAM1vB,GACVo4F,KAAAA,cAAA,WACEA,KAAAA,cAAA,KAAGC,UAAU,YACXD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,aACH+4F,eAAe,6CACfl9F,OAAQ,CACNyvC,UAAW5+B,EAAKwpC,iBAItBioD,KAAAA,cAAA,OAAKC,UAAU,oBACbD,KAAAA,cAAA,cACEA,KAAAA,cAAA,KACEkK,KAAM37F,EAAKwpC,eAAiBsB,EAAY,GAAA/+C,OACjCg9E,EAAY,aAAAh9E,OAAYsN,GAAO,GAAAtN,OAC/B4rB,GAAAA,KAAAA,UAAqB,aAAA5rB,OAAYsN,GAExCi6F,OAAO,SACPuI,IAAI,uBAEJpK,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,aAAa+4F,eAAe,wBAIvDoF,KAAAA,cAAA,OAAKC,UAAU,MACbD,KAAAA,cAAA,KAAGC,UAAU,eACVr4F,GAEHo4F,KAAAA,cAACwD,GAAM,CAACrB,OAAK,EAACF,WAAS,GACrBjC,KAAAA,cAAA,KAAGgC,UAAU,gBACbhC,KAAAA,cAAA,QAAMgC,UAAU,YACdhC,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,aAAa+4F,eAAe,cAM3DoF,KAAAA,cAAA,WACEA,KAAAA,cAAA,KAAGgC,UAAU,kBAAkB/B,UAAU,OAAOC,QAAStoG,KAAK80G,sBAE7DxpF,EAEG88E,KAAAA,cAAA,KAAGC,UAAU,gBACXD,KAAAA,cAAC2E,GAAY,OAGf3E,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,aACH+4F,eAAe,wCACfl9F,OAAQ,CACN+uG,GAAIzM,KAAAA,cAAA,WACJ3+E,QAAS2+E,KAAAA,cAAA,mBAAqBpnG,IAAZyoB,EAAwBzpB,KAAKq0G,cAAgB,GAAH3xG,OAAM,IAAI26B,GAAAA,EAAU5T,GAAS2mB,GAAG,EAAG/S,GAAAA,EAAAA,kBAA6B,IAAE1mB,EAAKwpC,aAAc,MACjJ40D,KAAM3M,KAAAA,cAAA,iBAAA1lG,OAAYkxG,GAAiB,IAAEj9F,EAAKwpC,cAC1C60D,QACE5M,KAAAA,cAACwG,GAAO,CAAC3kG,GAAG,UACVm+F,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,aACH+4F,eAAe,sGACfl9F,OAAQ,CACNyvC,UAAW5+B,EAAKwpC,aAChB00D,GAAIzM,KAAAA,cAAA,kBAOnB58C,EACG48C,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,eAAe+4F,eAAe,yEAAyEl9F,OAAQ,CAAE+uG,GAAIzM,KAAAA,cAAA,cAC1IA,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,aAAa+4F,eAAe,2BAErDoF,KAAAA,cAAA,KAAGC,UAAU,gBACXD,KAAAA,cAAC2E,GAAY,OAEd4G,EAAa,GACZvL,KAAAA,cAAA,KAAGC,UAAU,YACXD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,aACH+4F,eAAe,oDACfl9F,OAAQ,CACNmvG,UAAWtB,EACXxzD,aAAcxpC,EAAKwpC,iBAI3BioD,KAAAA,cAAA,aAIsB,OAAvB7qF,EAAK4sC,IACJi+C,KAAAA,cAAA,OAAKC,UAAU,YACbD,KAAAA,cAAA,KAAGgC,UAAU,iBACbhC,KAAAA,cAACM,GAAK,CAACW,WAAmD,KAAtC9rF,EAAK4sC,GAAcuE,SAAW,MAAcA,SAAwC,IAA9BnxC,EAAK4sC,GAAcuE,aAKzG,KAAC6kD,CAAA,CAzYgB,CACwB/H,GAAAA,aAAS5C,GCXpD,SAAepB,IAAf,EAjBkB,SAAHj7F,GAAA,IAAM2oG,EAAiB3oG,EAAjB2oG,kBAAmBx1E,EAAInzB,EAAJmzB,KAAI,OAC1C0oE,KAAAA,cAAA,OAAKC,UAAY6M,EAAoB,kBAAoB,2BACvD9M,KAAAA,cAAA,QAAMC,UAAU,cAAc6M,EAAoB,EAAI9M,KAAAA,cAAA,KAAGn+F,GAAG,oBAAoBmgG,UAAU,kBAC1FhC,KAAAA,cAAA,KAAGC,UAAU,YACXD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,iBACH+4F,eAAe,kBAGlBkS,GACC9M,KAAAA,cAAA,QAAMC,UAAU,eACb3oE,GAGD,GAG6BykB,GAAQ,CAAE+lD,eAAe,ICW9D,GAAe1C,IAAf,EA3BmB,SAAC9mF,GAClB,IACEy0F,EAEEz0F,EAFFy0F,mBACAz1E,EACEhf,EADFgf,KAGI01E,EAAqBD,GAAsB78C,EAAAA,GAAY,IAAM,EAEnE,OACE8vC,KAAAA,cAAA,OACErqD,MAAO,CAAEs3D,WAAYD,GACrB/M,UAAW8M,EAAqB,0BAA4B,YAC5D/M,KAAAA,cAAA,QAAMC,UAAU,cAAc8M,EAAqB/M,KAAAA,cAAA,KAAGgC,UAAU,iBAAoB,GACpFhC,KAAAA,cAAA,KAAGn+F,GAAG,gBAAgBo+F,UAAU,YAC9BD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,mBACH+4F,eAAe,yBAElBmS,GACC/M,KAAAA,cAAA,QAAMC,UAAU,eACb3oE,GAKX,GAEsCykB,GAAQ,CAAE+lD,eAAe,ICpC/D,GAAe,IAA0B,4BCAzC,GAAe,IAA0B,0BCAzC,GAAe,IAA0B,kCCAzC,GAAe,IAA0B,8BCAzC,GAAe,IAA0B,6BCAzC,GAAe,IAA0B,0BCAzC,GAAe,IAA0B,0BCAzC,GAAe,IAA0B,uBCAzC,GAAe,IAA0B,4BCAzC,GAAe,IAA0B,8BCAzC,GAAe,IAA0B,4BCYlC,IAAMoL,GAAe,CAC1BC,MAAOC,GACPC,GAAIC,GACJC,QAASC,GACTC,UAAWC,GACXC,QAASC,IAaX,SAVkB,CAChBC,SAAUC,GACVC,MAAOC,GACPC,MAAOC,GACPC,KAAMC,GACNC,QAASD,GACTE,UAAWC,GACX7jD,cAAe8jD,ICfjB,IAAIC,IAAW,EACTC,GAA+B,GAuKrC,SAAetP,IAAf,EArKmB,SAAC9mF,GAClB,IACEq2F,EAoBEr2F,EApBFq2F,kBACA7B,EAmBEx0F,EAnBFw0F,kBACA8B,EAkBEt2F,EAlBFs2F,mBAAkBC,EAkBhBv2F,EAjBF/J,KACEwpC,EAAY82D,EAAZ92D,aACAC,EAAW62D,EAAX72D,YAAW82D,EAAAD,EACX15F,KACE+F,MACEqoC,EAA8BurD,EAA9BvrD,+BACArB,EAAiC4sD,EAAjC5sD,kCAAiC6sD,EAWrCz2F,EAPF6wF,OACE7xB,EAAYy3B,EAAZz3B,aACAgwB,EAAayH,EAAbzH,cACAjuD,EAAY01D,EAAZ11D,aACA21D,EAAWD,EAAXC,YAEF13E,EACEhf,EADFgf,KAGF+nE,GAA0DC,EAAAA,GAAAA,WAAS,GAAMC,GAAAvyC,EAAAA,GAAAA,GAAAqyC,EAAA,GAAlE4P,EAAqB1P,EAAA,GAAE2P,EAAwB3P,EAAA,GACtDG,GAA4DJ,EAAAA,GAAAA,WAAS,GAAMK,GAAA3yC,EAAAA,GAAAA,GAAA0yC,EAAA,GAApEyP,EAAsBxP,EAAA,GAAEyP,EAAyBzP,EAAA,GACxD0P,GAAsC/P,EAAAA,GAAAA,UAAS,IAAGgQ,GAAAtiD,EAAAA,GAAAA,GAAAqiD,EAAA,GAA3CE,EAAWD,EAAA,GAAEE,EAAcF,EAAA,GAClCG,GAAoCnQ,EAAAA,GAAAA,UAAS,IAAGoQ,GAAA1iD,EAAAA,GAAAA,GAAAyiD,EAAA,GAAzC7kC,EAAU8kC,EAAA,GAAEC,EAAaD,EAAA,GAE5BnsD,IAAmCgsD,GACrCC,EAAejsD,GAGbrB,IAAsC0oB,GACxC+kC,EAAcztD,GAGhB,IAAM0tD,EAAuB,SAAvBA,EAAwBxoC,EAAQ/tB,EAAcw2D,GAClD,IAAMC,EAAY95F,YAAU4C,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAO,IAAA,IAAA22F,EAAA,OAAAl3F,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,UACtBuwG,GAAU,CAAFp1F,EAAAnb,KAAA,eAAAmb,EAAAQ,OAAA,oBAAAR,EAAAxZ,KAAA,EAKPw5C,IAAiB21D,EAAYrvG,cAAa,CAAA0Z,EAAAnb,KAAA,gBAAAmb,EAAAnb,KAAA,EAC1BmyC,GAAQ2+D,EAAYrvG,eAAe2gC,YAAY8mC,GAAO,OAA/D,KAAT2oC,EAAS12F,EAAAC,QAEQy2F,EAAUvuE,UAAS,CAAAnoB,EAAAnb,KAAA,gBAAAmb,EAAAQ,OAAA,SAC3Bu1F,GAA0B,IAAK,QASH,eAAA/1F,EAAAQ,OAAA,SAE9B+1F,EAAqBxoC,EAAQ/tB,EAAcw2D,IATc,eAAAx2F,EAAAnb,KAAA,GAIhDmyC,GAAQgJ,EAAa15C,eAAeogC,QAAQqnC,EAA4B,KAAnByoC,EAAc,IAAU,QAAtF,MAATE,EAAS12F,EAAAC,OAEQy2F,EAAUtuE,eAAiB,GAAC,CAAApoB,EAAAnb,KAAA,gBAAAmb,EAAAQ,OAAA,SACpCq1F,GAAyB,IAE8B,QAAA71F,EAAAnb,KAAA,iBAGhD,OAHgDmb,EAAAxZ,KAAA,GAAAwZ,EAAAgC,GAAAhC,EAAA,SAGhE7H,QAAQzO,MAAKsW,EAAAgC,IAAGhC,EAAAQ,OAAA,SACT+1F,EAAqBxoC,EAAQ/tB,EAAcw2D,IAAY,yBAAAx2F,EAAAJ,OAAA,GAAAG,EAAA,mBAEjD,IAAdy2F,GACHnB,GAAW52G,KAAKg4G,EAClB,GAEAjQ,EAAAA,GAAAA,YAAU,WACR4O,IAAW,EACP7jC,IAAeqkC,GACjBW,EAAqBhlC,EAAYvxB,EAAc,GAEnD,GAAG,CAACuxB,KAEJi1B,EAAAA,GAAAA,YAAU,WACR4O,IAAW,EACPc,IAAgBJ,GAClBS,EAAqBL,EAAaP,EAAYrvG,cAAe,GAEjE,GAAG,CAAC4vG,KAEJ1P,EAAAA,GAAAA,YAAU,WAER,OADA4O,IAAW,EACJ,WACLA,IAAW,EACXC,GAAW11G,KAAI,SAAC6I,GAAE,OAAKowF,cAAcpwF,EAAG,GAC1C,CACF,GAAG,IAEH,IAAMmuG,EAAiBlD,GAAqB8B,EACtCqB,EAAe//C,EAAAA,GAAW8/C,EAAiBpB,EAEjD,OACE5O,KAAAA,cAAA,OACEC,WAAYgQ,EAAgB,kBAAuBnD,GAAqB,aAAe,2BACvF9M,KAAAA,cAAA,QAAMC,UAAU,cAAe/vC,EAAAA,GAAoE8/C,EAAiB,EAAIhQ,KAAAA,cAAA,KAAGgC,UAAU,iBAA1FgO,EAAiB,EAAIhQ,KAAAA,cAAA,KAAGgC,UAAU,kBAC7EhC,KAAAA,cAAA,KAAGC,UAAU,YACXD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,kBAAkB+4F,eAAe,aAEvD14C,GACC89C,KAAAA,cAAA,UAAQC,UAAU,qBAChBD,KAAAA,cAAA,KACEn+F,GAAG,sBACH+D,MAAK,GAAAtL,OAAKg9E,EAAY,QAAAh9E,OAAO4nD,GAC7BgoD,KAAI,GAAA5vG,OAAKg9E,EAAY,QAAAh9E,OAAO4nD,GAC5B2/C,OAAO,SACPuI,IAAI,uBAEJpK,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,sBAAsB+4F,eAAe,sBAAsBl9F,OAAQ,CAAE27C,aAAeA,EAAa15C,iBACrHsvG,EACCjP,KAAAA,cAAA,OACEn+F,GAAG,6BACHo+F,UAAU,cACV+D,IAAKkJ,GAAaK,QAClBrJ,IAAI,YAEJlE,KAAAA,cAAC2E,GAAY,MACjB3E,KAAAA,cAAA,KAAGgC,UAAU,kBAIlBz+C,GACCy8C,KAAAA,cAAA,UAAQC,UAAU,qBAChBD,KAAAA,cAAA,KACEn+F,GAAG,qBACHqoG,KAAI,GAAA5vG,OAAKgtG,EAAa,QAAAhtG,OAAOipD,GAC7Bs+C,OAAO,SACPuI,IAAI,uBAEJpK,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,eACH+4F,eAAe,uBACfl9F,OAAQ,CAAEwyG,cAAen4D,EAAap4C,gBAAkB05C,EAAa15C,cAAgBq4C,EAAYr4C,cAAgBo4C,EAAap4C,iBAEhIqgG,KAAAA,cAAA,KAAGgC,UAAU,gBACZmN,EACCnP,KAAAA,cAAA,OACEn+F,GAAG,4BACHo+F,UAAU,cACV+D,IAAKkJ,GAAaK,QAClBrJ,IAAI,YAEJlE,KAAAA,cAAC2E,GAAY,QAIvB3E,KAAAA,cAAA,OAAKC,UAAU,WACbD,KAAAA,cAACwG,GAAO,CAAC3kG,GAAG,cACVm+F,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,aACH+4F,eAAe,+HACfl9F,OAAQ,CAAE+uG,GAAIzM,KAAAA,cAAA,gBAInB2O,EAAoB,GAAKsB,GACxBjQ,KAAAA,cAAA,QAAMC,UAAU,eACb3oE,GAKX,GACsCykB,GAAQ,CAAE+lD,eAAe,ICxK/D,IAAI2M,IAAW,EACTC,GAA+B,GAwKrC,SAAetP,IAAf,EAtKkB,SAAC9mF,GACjB,IACEw0F,EAoBEx0F,EApBFw0F,kBACA8B,EAmBEt2F,EAnBFs2F,mBACAuB,EAkBE73F,EAlBF63F,kBAAiBtB,EAkBfv2F,EAjBF/J,KACEwpC,EAAY82D,EAAZ92D,aACAC,EAAW62D,EAAX72D,YAAW82D,EAAAD,EACX15F,KACE+F,MACES,EAA8BmzF,EAA9BnzF,+BACAy0F,EAA+BtB,EAA/BsB,gCAA+BrB,EAWnCz2F,EAPF6wF,OACE9vD,EAAY01D,EAAZ11D,aACAi+B,EAAYy3B,EAAZz3B,aACA03B,EAAWD,EAAXC,YACA1H,EAAayH,EAAbzH,cAEFhwE,EACEhf,EADFgf,KAGF+nE,GAA8DC,EAAAA,GAAAA,WAAS,GAAMC,GAAAvyC,EAAAA,GAAAA,GAAAqyC,EAAA,GAAtEgR,EAAuB9Q,EAAA,GAAE+Q,EAA0B/Q,EAAA,GAC1DG,GAA4EJ,EAAAA,GAAAA,WAAS,GAAMK,GAAA3yC,EAAAA,GAAAA,GAAA0yC,EAAA,GAApF6Q,EAA8B5Q,EAAA,GAAE6Q,EAAiC7Q,EAAA,GACxE0P,GAAsD/P,EAAAA,GAAAA,UAAS,IAAGgQ,GAAAtiD,EAAAA,GAAAA,GAAAqiD,EAAA,GAA3DoB,EAAmBnB,EAAA,GAAEoB,EAAsBpB,EAAA,GAClDG,GAAwCnQ,EAAAA,GAAAA,UAAS,IAAGoQ,GAAA1iD,EAAAA,GAAAA,GAAAyiD,EAAA,GAA7CkB,EAAYjB,EAAA,GAAEkB,EAAelB,EAAA,GAEhC/zF,IAAmC80F,GACrCC,EAAuB/0F,GAGrBy0F,IAAoCO,GACtCC,EAAgBR,GAGlB,IAAMR,EAAuB,SAAvBA,EAAwBxoC,EAAQ/tB,EAAcw2D,GAClD,IAAMC,EAAY95F,YAAU4C,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAO,IAAA,IAAA22F,EAAA,OAAAl3F,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,UACtBuwG,GAAU,CAAFp1F,EAAAnb,KAAA,eAAAmb,EAAAQ,OAAA,oBAAAR,EAAAxZ,KAAA,EAKPw5C,IAAiB21D,EAAYrvG,cAAa,CAAA0Z,EAAAnb,KAAA,gBAAAmb,EAAAnb,KAAA,EAC1BmyC,GAAQ2+D,EAAYrvG,eAAe2gC,YAAY8mC,GAAO,OAA/D,KAAT2oC,EAAS12F,EAAAC,QAEQy2F,EAAUvuE,UAAS,CAAAnoB,EAAAnb,KAAA,gBAAAmb,EAAAQ,OAAA,SAC3B22F,GAAkC,IAAK,QAST,eAAAn3F,EAAAQ,OAAA,SAEhC+1F,EAAqBxoC,EAAQ/tB,EAAcw2D,IATc,eAAAx2F,EAAAnb,KAAA,GAIhDmyC,GAAQgJ,EAAa15C,eAAeogC,QAAQqnC,EAA4B,KAAnByoC,EAAc,IAAU,QAAtF,MAATE,EAAS12F,EAAAC,OAEQy2F,EAAUtuE,eAAiB,GAAC,CAAApoB,EAAAnb,KAAA,gBAAAmb,EAAAQ,OAAA,SACpCy2F,GAA2B,IAE4B,QAAAj3F,EAAAnb,KAAA,iBAGhD,OAHgDmb,EAAAxZ,KAAA,GAAAwZ,EAAAgC,GAAAhC,EAAA,SAGhE7H,QAAQzO,MAAKsW,EAAAgC,IAAGhC,EAAAQ,OAAA,SACT+1F,EAAqBxoC,EAAQ/tB,EAAcw2D,IAAY,yBAAAx2F,EAAAJ,OAAA,GAAAG,EAAA,mBAEjD,IAAdy2F,GACHnB,GAAW52G,KAAKg4G,EAClB,GAEAjQ,EAAAA,GAAAA,YAAU,WACR4O,IAAW,EACPkC,IAAiBN,GACnBT,EAAqBe,EAAct3D,EAAc,GAErD,GAAG,CAACs3D,KAEJ9Q,EAAAA,GAAAA,YAAU,WACR4O,IAAW,EACPgC,IAAwBF,GAC1BX,EAAqBa,EAAqBzB,EAAYrvG,cAAe,GAEzE,GAAG,CAAC8wG,KAEJ5Q,EAAAA,GAAAA,YAAU,WAER,OADA4O,IAAW,EACJ,WACLA,IAAW,EACXC,GAAW11G,KAAI,SAAC6I,GAAE,OAAKowF,cAAcpwF,EAAG,GAC1C,CACF,GAAG,IAEH,IAAMgvG,EAAY/D,GAAqB8B,EACjCoB,EAAiBG,GAAqBU,EACtCZ,EAAe//C,EAAAA,GAAW8/C,EAAiBG,EAEjD,OACEnQ,KAAAA,cAAA,OACEC,WAAYgQ,EAAgB,kBAAuBY,GAAa,aAAe,2BAC/E7Q,KAAAA,cAAA,QAAMC,UAAU,cAAe/vC,EAAAA,GAAoE8/C,EAAiB,EAAIhQ,KAAAA,cAAA,KAAGgC,UAAU,iBAA1FgO,EAAiB,EAAIhQ,KAAAA,cAAA,KAAGgC,UAAU,kBAC7EhC,KAAAA,cAAA,KAAGC,UAAU,YACXD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,cAAc+4F,eAAe,cAEnDj/E,GACCqkF,KAAAA,cAAA,UAAQC,UAAU,qBAChBD,KAAAA,cAAA,KACEn+F,GAAG,wBACHqoG,KAAI,GAAA5vG,OAAKgtG,EAAa,QAAAhtG,OAAOqhB,GAC7BkmF,OAAO,SACPuI,IAAI,uBAEJpK,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,eACH+4F,eAAe,cACfl9F,OAAQ,CAAEmyB,KAAMkoB,EAAap4C,gBAAkB05C,EAAa15C,cAAgBq4C,EAAYr4C,cAAgBo4C,EAAap4C,iBAEvHqgG,KAAAA,cAAA,KAAGgC,UAAU,gBACZuO,EACCvQ,KAAAA,cAAA,OACEn+F,GAAG,+BACHo+F,UAAU,cACV+D,IAAKkJ,GAAaK,QAClBrJ,IAAI,YAEJlE,KAAAA,cAAC2E,GAAY,QAItByL,GACCpQ,KAAAA,cAAA,UAAQC,UAAU,qBAChBD,KAAAA,cAAA,KACEn+F,GAAG,yBACHqoG,KAAI,GAAA5vG,OAAKg9E,EAAY,QAAAh9E,OAAO81G,GAC5BvO,OAAO,SACPuI,IAAI,uBAEJpK,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,uBAAuB+4F,eAAe,sBAAsBl9F,OAAQ,CAAE27C,aAAcA,EAAa15C,iBACtHqgG,KAAAA,cAAA,KAAGgC,UAAU,gBACZqO,EACCrQ,KAAAA,cAAA,OACEn+F,GAAG,gCACHo+F,UAAU,cACV+D,IAAKkJ,GAAaK,QAClBrJ,IAAI,YAEJlE,KAAAA,cAAC2E,GAAY,QAIvB3E,KAAAA,cAAA,OAAKC,UAAU,WACbD,KAAAA,cAACwG,GAAO,CAAC3kG,GAAG,aACVm+F,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,YACH+4F,eAAe,2HACfl9F,OAAQ,CAAE+uG,GAAIzM,KAAAA,cAAA,gBAInBiQ,GACCjQ,KAAAA,cAAA,QAAMC,UAAU,eACb3oE,GAKX,GAEqCykB,GAAQ,CAAE+lD,eAAe,ICzK9D,IAAI2M,IAAW,EACTC,GAA+B,GAuKrC,SAAetP,IAAf,EArKmB,SAAC9mF,GAClB,IACEq2F,EAoBEr2F,EApBFq2F,kBACA7B,EAmBEx0F,EAnBFw0F,kBACA8B,EAkBEt2F,EAlBFs2F,mBAAkBC,EAkBhBv2F,EAjBF/J,KACEwpC,EAAY82D,EAAZ92D,aACAC,EAAW62D,EAAX72D,YAAW82D,EAAAD,EACX15F,KACE+F,MACEqoC,EAA8BurD,EAA9BvrD,+BACArB,EAAiC4sD,EAAjC5sD,kCAAiC6sD,EAWrCz2F,EAPF6wF,OACE7xB,EAAYy3B,EAAZz3B,aACAgwB,EAAayH,EAAbzH,cACAjuD,EAAY01D,EAAZ11D,aACA21D,EAAWD,EAAXC,YAEF13E,EACEhf,EADFgf,KAGF+nE,GAA0DC,EAAAA,GAAAA,WAAS,GAAMC,GAAAvyC,EAAAA,GAAAA,GAAAqyC,EAAA,GAAlE4P,EAAqB1P,EAAA,GAAE2P,EAAwB3P,EAAA,GACtDG,GAA4DJ,EAAAA,GAAAA,WAAS,GAAMK,GAAA3yC,EAAAA,GAAAA,GAAA0yC,EAAA,GAApEyP,EAAsBxP,EAAA,GAAEyP,EAAyBzP,EAAA,GACxD0P,GAAsC/P,EAAAA,GAAAA,UAAS,IAAGgQ,GAAAtiD,EAAAA,GAAAA,GAAAqiD,EAAA,GAA3CE,EAAWD,EAAA,GAAEE,EAAcF,EAAA,GAClCG,GAAoCnQ,EAAAA,GAAAA,UAAS,IAAGoQ,GAAA1iD,EAAAA,GAAAA,GAAAyiD,EAAA,GAAzC7kC,EAAU8kC,EAAA,GAAEC,EAAaD,EAAA,GAE5BnsD,IAAmCgsD,GACrCC,EAAejsD,GAGbrB,IAAsC0oB,GACxC+kC,EAAcztD,GAGhB,IAAM0tD,EAAuB,SAAvBA,EAAwBxoC,EAAQ/tB,EAAcw2D,GAClD,IAAMC,EAAY95F,YAAU4C,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAO,IAAA,IAAA22F,EAAA,OAAAl3F,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,UACtBuwG,GAAU,CAAFp1F,EAAAnb,KAAA,eAAAmb,EAAAQ,OAAA,oBAAAR,EAAAxZ,KAAA,EAKPw5C,IAAiB21D,EAAYrvG,cAAa,CAAA0Z,EAAAnb,KAAA,gBAAAmb,EAAAnb,KAAA,EAC1BmyC,GAAQ2+D,EAAYrvG,eAAe2gC,YAAY8mC,GAAO,OAA/D,KAAT2oC,EAAS12F,EAAAC,QAEQy2F,EAAUvuE,UAAS,CAAAnoB,EAAAnb,KAAA,gBAAAmb,EAAAQ,OAAA,SAC3Bu1F,GAA0B,IAAK,QASH,eAAA/1F,EAAAQ,OAAA,SAE9B+1F,EAAqBxoC,EAAQ/tB,EAAcw2D,IATc,eAAAx2F,EAAAnb,KAAA,GAIhDmyC,GAAQgJ,EAAa15C,eAAeogC,QAAQqnC,EAA4B,KAAnByoC,EAAc,IAAU,QAAtF,MAATE,EAAS12F,EAAAC,OAEQy2F,EAAUtuE,eAAiB,GAAC,CAAApoB,EAAAnb,KAAA,gBAAAmb,EAAAQ,OAAA,SACpCq1F,GAAyB,IAE8B,QAAA71F,EAAAnb,KAAA,iBAGhD,OAHgDmb,EAAAxZ,KAAA,GAAAwZ,EAAAgC,GAAAhC,EAAA,SAGhE7H,QAAQzO,MAAKsW,EAAAgC,IAAGhC,EAAAQ,OAAA,SACT+1F,EAAqBxoC,EAAQ/tB,EAAcw2D,IAAY,yBAAAx2F,EAAAJ,OAAA,GAAAG,EAAA,mBAEjD,IAAdy2F,GACHnB,GAAW52G,KAAKg4G,EAClB,GAEAjQ,EAAAA,GAAAA,YAAU,WACR4O,IAAW,EACP7jC,IAAeqkC,GACjBW,EAAqBhlC,EAAYvxB,EAAc,GAEnD,GAAG,CAACuxB,KAEJi1B,EAAAA,GAAAA,YAAU,WACR4O,IAAW,EACPc,IAAgBJ,GAClBS,EAAqBL,EAAaP,EAAYrvG,cAAe,GAEjE,GAAG,CAAC4vG,KAEJ1P,EAAAA,GAAAA,YAAU,WAER,OADA4O,IAAW,EACJ,WACLA,IAAW,EACXC,GAAW11G,KAAI,SAAC6I,GAAE,OAAKowF,cAAcpwF,EAAG,GAC1C,CACF,GAAG,IAEH,IAAMmuG,EAAiBlD,GAAqB8B,EACtCqB,EAAe//C,EAAAA,GAAW8/C,EAAiBpB,EAEjD,OACE5O,KAAAA,cAAA,OACEC,WAAagQ,EAAiB,kBAAuBnD,GAAqB,aAAe,2BACzF9M,KAAAA,cAAA,QAAMC,UAAU,cAAe/vC,EAAAA,GAAoE8/C,EAAiB,EAAIhQ,KAAAA,cAAA,KAAGgC,UAAU,iBAA1FgO,EAAiB,EAAIhQ,KAAAA,cAAA,KAAGgC,UAAU,kBAC7EhC,KAAAA,cAAA,KAAGC,UAAU,YACXD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,kBAAkB+4F,eAAe,aAEvDr3C,GACCy8C,KAAAA,cAAA,UAAQC,UAAU,qBAChBD,KAAAA,cAAA,KACEn+F,GAAG,qBACHqoG,KAAI,GAAA5vG,OAAKgtG,EAAa,QAAAhtG,OAAOipD,GAC7Bs+C,OAAO,SACPuI,IAAI,uBAEJpK,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,eACH+4F,eAAe,uBACfl9F,OAAQ,CAAEwyG,cAAen4D,EAAap4C,gBAAkB05C,EAAa15C,cAAgBq4C,EAAYr4C,cAAgBo4C,EAAap4C,iBAEhIqgG,KAAAA,cAAA,KAAGgC,UAAU,gBACZmN,EACCnP,KAAAA,cAAA,OACEn+F,GAAG,4BACHo+F,UAAU,cACV+D,IAAKkJ,GAAaK,QAClBrJ,IAAI,YAEJlE,KAAAA,cAAC2E,GAAY,QAItBziD,GACC89C,KAAAA,cAAA,UAAQC,UAAU,qBAChBD,KAAAA,cAAA,KACEn+F,GAAG,sBACH+D,MAAK,GAAAtL,OAAKg9E,EAAY,QAAAh9E,OAAO4nD,GAC7BgoD,KAAI,GAAA5vG,OAAKg9E,EAAY,QAAAh9E,OAAO4nD,GAC5B2/C,OAAO,SACPuI,IAAI,uBAEJpK,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,sBAAsB+4F,eAAe,sBAAsBl9F,OAAQ,CAAE27C,aAAeA,EAAa15C,iBACtHqgG,KAAAA,cAAA,KAAGgC,UAAU,gBACZiN,EACCjP,KAAAA,cAAA,OACEn+F,GAAG,6BACHo+F,UAAU,cACV+D,IAAKkJ,GAAaK,QAClBrJ,IAAI,YAEJlE,KAAAA,cAAC2E,GAAY,QAIvB3E,KAAAA,cAAA,OAAKC,UAAU,WACbD,KAAAA,cAACwG,GAAO,CAAC3kG,GAAG,cACVm+F,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,aACH+4F,eAAe,+HACfl9F,OAAQ,CAAE+uG,GAAIzM,KAAAA,cAAA,gBAInB2O,EAAoB,GAAKsB,GACxBjQ,KAAAA,cAAA,QAAMC,UAAU,eACb3oE,GAKX,GACsCykB,GAAQ,CAAE+lD,eAAe,ICxK/D,IAAI2M,IAAW,EACTC,GAA+B,GAwKrC,SAAetP,IAAf,EAtKkB,SAAC9mF,GACjB,IACEw0F,EAoBEx0F,EApBFw0F,kBACA8B,EAmBEt2F,EAnBFs2F,mBACAuB,EAkBE73F,EAlBF63F,kBAAiBtB,EAkBfv2F,EAjBF/J,KACEwpC,EAAY82D,EAAZ92D,aACAC,EAAW62D,EAAX72D,YAAW82D,EAAAD,EACX15F,KACE+F,MACES,EAA8BmzF,EAA9BnzF,+BACAy0F,EAA+BtB,EAA/BsB,gCAA+BrB,EAWnCz2F,EAPF6wF,OACE9vD,EAAY01D,EAAZ11D,aACAi+B,EAAYy3B,EAAZz3B,aACA03B,EAAWD,EAAXC,YACA1H,EAAayH,EAAbzH,cAEFhwE,EACEhf,EADFgf,KAGF+nE,GAA8DC,EAAAA,GAAAA,WAAS,GAAMC,GAAAvyC,EAAAA,GAAAA,GAAAqyC,EAAA,GAAtEgR,EAAuB9Q,EAAA,GAAE+Q,EAA0B/Q,EAAA,GAC1DG,GAA4EJ,EAAAA,GAAAA,WAAS,GAAMK,GAAA3yC,EAAAA,GAAAA,GAAA0yC,EAAA,GAApF6Q,EAA8B5Q,EAAA,GAAE6Q,EAAiC7Q,EAAA,GACxE0P,GAAsD/P,EAAAA,GAAAA,UAAS,IAAGgQ,GAAAtiD,EAAAA,GAAAA,GAAAqiD,EAAA,GAA3DoB,EAAmBnB,EAAA,GAAEoB,EAAsBpB,EAAA,GAClDG,GAAwCnQ,EAAAA,GAAAA,UAAS,IAAGoQ,GAAA1iD,EAAAA,GAAAA,GAAAyiD,EAAA,GAA7CkB,EAAYjB,EAAA,GAAEkB,EAAelB,EAAA,GAEhC/zF,IAAmC80F,GACrCC,EAAuB/0F,GAGrBy0F,IAAoCO,GACtCC,EAAgBR,GAGlB,IAAMR,EAAuB,SAAvBA,EAAwBxoC,EAAQ/tB,EAAcw2D,GAClD,IAAMC,EAAY95F,YAAU4C,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAO,IAAA,IAAA22F,EAAA,OAAAl3F,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,UACtBuwG,GAAU,CAAFp1F,EAAAnb,KAAA,eAAAmb,EAAAQ,OAAA,oBAAAR,EAAAxZ,KAAA,EAKPw5C,IAAiB21D,EAAYrvG,cAAa,CAAA0Z,EAAAnb,KAAA,gBAAAmb,EAAAnb,KAAA,EAC1BmyC,GAAQ2+D,EAAYrvG,eAAe2gC,YAAY8mC,GAAO,OAA/D,KAAT2oC,EAAS12F,EAAAC,QAEQy2F,EAAUvuE,UAAS,CAAAnoB,EAAAnb,KAAA,gBAAAmb,EAAAQ,OAAA,SAC3B22F,GAAkC,IAAK,QAST,eAAAn3F,EAAAQ,OAAA,SAEhC+1F,EAAqBxoC,EAAQ/tB,EAAcw2D,IATc,eAAAx2F,EAAAnb,KAAA,GAIhDmyC,GAAQgJ,EAAa15C,eAAeogC,QAAQqnC,EAA4B,KAAnByoC,EAAc,IAAU,QAAtF,MAATE,EAAS12F,EAAAC,OAEQy2F,EAAUtuE,eAAiB,GAAC,CAAApoB,EAAAnb,KAAA,gBAAAmb,EAAAQ,OAAA,SACpCy2F,GAA2B,IAE4B,QAAAj3F,EAAAnb,KAAA,iBAGhD,OAHgDmb,EAAAxZ,KAAA,GAAAwZ,EAAAgC,GAAAhC,EAAA,SAGhE7H,QAAQzO,MAAKsW,EAAAgC,IAAGhC,EAAAQ,OAAA,SACT+1F,EAAqBxoC,EAAQ/tB,EAAcw2D,IAAY,yBAAAx2F,EAAAJ,OAAA,GAAAG,EAAA,mBAEjD,IAAdy2F,GACHnB,GAAW52G,KAAKg4G,EAClB,GAEAjQ,EAAAA,GAAAA,YAAU,WACR4O,IAAW,EACPkC,IAAiBN,GACnBT,EAAqBe,EAAct3D,EAAc,GAErD,GAAG,CAACs3D,KAEJ9Q,EAAAA,GAAAA,YAAU,WACR4O,IAAW,EACPgC,IAAwBF,GAC1BX,EAAqBa,EAAqBzB,EAAYrvG,cAAe,GAEzE,GAAG,CAAC8wG,KAEJ5Q,EAAAA,GAAAA,YAAU,WAER,OADA4O,IAAW,EACJ,WACLA,IAAW,EACXC,GAAW11G,KAAI,SAAC6I,GAAE,OAAKowF,cAAcpwF,EAAG,GAC1C,CACF,GAAG,IAEH,IAAMgvG,EAAY/D,GAAqB8B,EACjCoB,EAAiBG,GAAqBU,EACtCZ,EAAe//C,EAAAA,GAAW8/C,EAAiBG,EAEjD,OACEnQ,KAAAA,cAAA,OACEC,WAAYgQ,EAAgB,kBAAuBY,GAAa,aAAe,2BAC/E7Q,KAAAA,cAAA,QAAMC,UAAU,cAAe/vC,EAAAA,GAAoE8/C,EAAiB,EAAIhQ,KAAAA,cAAA,KAAGgC,UAAU,iBAA1FgO,EAAiB,EAAIhQ,KAAAA,cAAA,KAAGgC,UAAU,kBAC7EhC,KAAAA,cAAA,KAAGC,UAAU,YACXD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,cAAc+4F,eAAe,cAEnDwV,GACCpQ,KAAAA,cAAA,UAAQC,UAAU,qBAChBD,KAAAA,cAAA,KACEn+F,GAAG,yBACHqoG,KAAI,GAAA5vG,OAAKg9E,EAAY,QAAAh9E,OAAO81G,GAC5BvO,OAAO,SACPuI,IAAI,uBAEJpK,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,uBAAuB+4F,eAAe,sBAAsBl9F,OAAQ,CAAE27C,aAAcA,EAAa15C,iBACtHqgG,KAAAA,cAAA,KAAGgC,UAAU,gBACZqO,EACCrQ,KAAAA,cAAA,OACEn+F,GAAG,gCACHo+F,UAAU,cACV+D,IAAKkJ,GAAaK,QAClBrJ,IAAI,YAEJlE,KAAAA,cAAC2E,GAAY,QAItBhpF,GACCqkF,KAAAA,cAAA,UAAQC,UAAU,qBAChBD,KAAAA,cAAA,KACEn+F,GAAG,wBACHqoG,KAAI,GAAA5vG,OAAKgtG,EAAa,QAAAhtG,OAAOqhB,GAC7BkmF,OAAO,SACPuI,IAAI,uBAEJpK,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,eACH+4F,eAAe,cACfl9F,OAAQ,CAAEmyB,KAAMkoB,EAAap4C,gBAAkB05C,EAAa15C,cAAgBq4C,EAAYr4C,cAAgBo4C,EAAap4C,iBAEvHqgG,KAAAA,cAAA,KAAGgC,UAAU,gBACZuO,EACCvQ,KAAAA,cAAA,OACEn+F,GAAG,+BACHo+F,UAAU,cACV+D,IAAKkJ,GAAaK,QAClBrJ,IAAI,YAEJlE,KAAAA,cAAC2E,GAAY,QAIvB3E,KAAAA,cAAA,OAAKC,UAAU,WACbD,KAAAA,cAACwG,GAAO,CAAC3kG,GAAG,aACVm+F,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,YACH+4F,eAAe,2HACfl9F,OAAQ,CAAE+uG,GAAIzM,KAAAA,cAAA,gBAInBiQ,GACCjQ,KAAAA,cAAA,QAAMC,UAAU,eACb3oE,GAKX,GAEqCykB,GAAQ,CAAE+lD,eAAe,ICnLjB,IAExBgP,GAAkB,SAAA7N,IAAA3wF,EAAAA,GAAAA,GAAAw+F,EAAA7N,GAAA,I,IAAA1wF,G,EAAAu+F,E,maAAA,SAAAA,IAAA,IAAAvsG,GAAAP,EAAAA,GAAAA,GAAA,KAAA8sG,GAAA,QAAAt5F,EAAA7e,UAAAd,OAAAqsE,EAAA,IAAAlsE,MAAAwf,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAwsD,EAAAxsD,GAAA/e,UAAA+e,GA4EpC,OA5EoCnT,EAAAgO,EAAAtZ,KAAA0e,MAAApF,EAAA,OAAAjY,OAAA4pE,KAAAnzD,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,4BACV,SAACwsG,GAC1B,OAAQA,GACN,IAAK,OACH,OACE/Q,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,6BACH+4F,eAAe,gBAGrB,IAAK,eACH,OACEoF,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,mCACH+4F,eAAe,uBAGrB,IAAK,gBACH,OACEoF,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,0CACH+4F,eAAe,yDACfl9F,OAAQ,CACNs6C,YAAa,GAAF19C,OAAKiK,EAAK+T,MAAM/J,KAAKypC,gBAIxC,IAAK,YACH,OACEgoD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,sCACH+4F,eAAe,0DACfl9F,OAAQ,CACN+uG,GAAIzM,KAAAA,cAAA,WACJjoD,aAAc,GAAFz9C,OAAKiK,EAAK+T,MAAM/J,KAAKwpC,iBAIzC,IAAK,qBACH,OACEioD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,0CACH+4F,eAAe,gFACfl9F,OAAQ,CACNs6C,YAAa,GAAF19C,OAAKiK,EAAK+T,MAAM/J,KAAKypC,aAChCD,aAAc,GAAFz9C,OAAKiK,EAAK+T,MAAM/J,KAAKwpC,iBAIzC,IAAK,eACH,OACEioD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,mCACH+4F,eAAe,oDACfl9F,OAAQ,CACNs6C,YAAa,GAAF19C,OAAKiK,EAAK+T,MAAM/J,KAAKypC,gBAIxC,IAAK,SACH,OACEgoD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,0BACH+4F,eAAe,yEACfl9F,OAAQ,CACNs6C,YAAa,GAAF19C,OAAKiK,EAAK+T,MAAM/J,KAAKypC,gBAIxC,IAAK,MACH,OACEgoD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,uBAAuB+4F,eAAe,qCAE/D,QACE,OAAO,KAEb,IAACr2F,CAAA,CAKA,OALAN,EAAAA,GAAAA,GAAA6sG,EAAA,EAAAx1G,IAAA,SAAA6C,MAED,WAEE,OAAOvG,KAAKo5G,yBAAyBp5G,KAAK0gB,MAAMy4F,SAClD,KAACD,CAAA,CAjFoC,CAAS1N,GAAAA,WCFH,IAExB6N,GAAkB,SAAAhO,IAAA3wF,EAAAA,GAAAA,GAAA2+F,EAAAhO,GAAA,I,IAAA1wF,G,EAAA0+F,E,maAAA,SAAAA,IAAA,IAAA1sG,GAAAP,EAAAA,GAAAA,GAAA,KAAAitG,GAAA,QAAAz5F,EAAA7e,UAAAd,OAAAqsE,EAAA,IAAAlsE,MAAAwf,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAwsD,EAAAxsD,GAAA/e,UAAA+e,GAwEpC,OAxEoCnT,EAAAgO,EAAAtZ,KAAA0e,MAAApF,EAAA,OAAAjY,OAAA4pE,KAAAnzD,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,4BACV,SAACwsG,GAC1B,OAAQA,GACN,IAAK,OACH,OACE/Q,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,6BACH+4F,eAAe,gBAGrB,IAAK,gBACH,OACEoF,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,gCACH+4F,eAAe,wBAGrB,IAAK,eACH,OACEoF,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,mCACH+4F,eAAe,uBAGrB,IAAK,YACH,OACEoF,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,sCACH+4F,eAAe,0DACfl9F,OAAQ,CACN+uG,GAAIzM,KAAAA,cAAA,WACJjoD,aAAc,GAAFz9C,OAAKiK,EAAK+T,MAAM/J,KAAKwpC,iBAIzC,IAAK,gBACH,OACEioD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,0CACH+4F,eAAe,yDACfl9F,OAAQ,CACNs6C,YAAa,GAAF19C,OAAKiK,EAAK+T,MAAM/J,KAAKypC,gBAIxC,IAAK,eACH,OACEgoD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,mCACH+4F,eAAe,oDACfl9F,OAAQ,CACNs6C,YAAa,GAAF19C,OAAKiK,EAAK+T,MAAM/J,KAAKypC,gBAIxC,IAAK,SACH,OACEgoD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,0BACH+4F,eAAe,yEACfl9F,OAAQ,CACNs6C,YAAa,GAAF19C,OAAKiK,EAAK+T,MAAM/J,KAAKypC,gBAIxC,IAAK,MACH,OACEgoD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,uBAAuB+4F,eAAe,qCAE/D,QACE,OAAO,KAEb,IAACr2F,CAAA,CAKA,OALAN,EAAAA,GAAAA,GAAAgtG,EAAA,EAAA31G,IAAA,SAAA6C,MAED,WAEE,OAAOvG,KAAKs5G,yBAAyBt5G,KAAK0gB,MAAMy4F,SAClD,KAACE,CAAA,CA7EoC,CAAS7N,GAAAA,WCFH,IAExB+N,GAAkB,SAAAlO,IAAA3wF,EAAAA,GAAAA,GAAA6+F,EAAAlO,GAAA,I,IAAA1wF,G,EAAA4+F,E,maAAA,SAAAA,IAAA,IAAA5sG,GAAAP,EAAAA,GAAAA,GAAA,KAAAmtG,GAAA,QAAA35F,EAAA7e,UAAAd,OAAAqsE,EAAA,IAAAlsE,MAAAwf,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAwsD,EAAAxsD,GAAA/e,UAAA+e,GAuFpC,OAvFoCnT,EAAAgO,EAAAtZ,KAAA0e,MAAApF,EAAA,OAAAjY,OAAA4pE,KAAAnzD,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBACd,SAACwsG,GAEtB,OAAQA,GACN,IAAK,OACH,OACE/Q,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,6BACH+4F,eAAe,gBAGrB,IAAK,iBACH,OACEoF,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,0CACH+4F,eAAe,yDACfl9F,OAAQ,CACNs6C,YAAa,GAAF19C,OAAKiK,EAAK+T,MAAM/J,KAAKypC,gBAIxC,IAAK,gBACH,OACEgoD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,gCACH+4F,eAAe,mDACfl9F,OAAQ,CACNs6C,YAAa,GAAF19C,OAAKiK,EAAK+T,MAAM/J,KAAKypC,gBAIxC,IAAK,eACH,OACEgoD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,mCACH+4F,eAAe,uBAGrB,IAAK,WACH,OACEoF,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,sCACH+4F,eAAe,0DACfl9F,OAAQ,CACN+uG,GAAIzM,KAAAA,cAAA,WACJjoD,aAAc,GAAFz9C,OAAKiK,EAAK+T,MAAM/J,KAAKwpC,iBAIzC,IAAK,oBACH,OACEioD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,0CACH+4F,eAAe,gFACfl9F,OAAQ,CACNs6C,YAAa,GAAF19C,OAAKiK,EAAK+T,MAAM/J,KAAKypC,aAChCD,aAAc,GAAFz9C,OAAKiK,EAAK+T,MAAM/J,KAAKwpC,iBAIzC,IAAK,gBACH,OACEioD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,mCACH+4F,eAAe,oDACfl9F,OAAQ,CACNs6C,YAAa,GAAF19C,OAAKiK,EAAK+T,MAAM/J,KAAKypC,gBAIxC,IAAK,SACH,OACEgoD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,0BACH+4F,eAAe,yEACfl9F,OAAQ,CACNs6C,YAAa,GAAF19C,OAAKiK,EAAK+T,MAAM/J,KAAKypC,gBAIxC,IAAK,MACH,OACEgoD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,uBAAuB+4F,eAAe,qCAE/D,QACE,OAAO,KAEb,IAACr2F,CAAA,CAKA,OALAN,EAAAA,GAAAA,GAAAktG,EAAA,EAAA71G,IAAA,SAAA6C,MAED,WAEE,OAAOvG,KAAKw5G,qBAAqBx5G,KAAK0gB,MAAMy4F,SAC9C,KAACI,CAAA,CA5FoC,CAAS/N,GAAAA,WCFH,I,GAExBiO,GAAkB,SAAApO,IAAA3wF,EAAAA,GAAAA,GAAA++F,EAAApO,GAAA,I,IAAA1wF,G,EAAA8+F,E,maAAA,SAAAA,IAAA,IAAA9sG,GAAAP,EAAAA,GAAAA,GAAA,KAAAqtG,GAAA,QAAA75F,EAAA7e,UAAAd,OAAAqsE,EAAA,IAAAlsE,MAAAwf,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAwsD,EAAAxsD,GAAA/e,UAAA+e,GAkEpC,OAlEoCnT,EAAAgO,EAAAtZ,KAAA0e,MAAApF,EAAA,OAAAjY,OAAA4pE,KAAAnzD,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBACd,SAACsnB,GAEtB,OAAQA,GACN,IAAK,OACH,OACEm0E,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,6BACH+4F,eAAe,gBAGrB,IAAK,eACH,OACEoF,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,mCACH+4F,eAAe,uBAGrB,IAAK,WACH,OACEoF,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,sCACH+4F,eAAe,0DACfl9F,OAAQ,CACN+uG,GAAIzM,KAAAA,cAAA,WACJjoD,aAAc,GAAFz9C,OAAKiK,EAAK+T,MAAM/J,KAAKwpC,iBAIzC,IAAK,iBACH,OACEioD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,0CACH+4F,eAAe,yDACfl9F,OAAQ,CACNs6C,YAAa,GAAF19C,OAAKiK,EAAK+T,MAAM/J,KAAKypC,gBAIxC,IAAK,gBACH,OACEgoD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,mCACH+4F,eAAe,oDACfl9F,OAAQ,CACNs6C,YAAa,GAAF19C,OAAKiK,EAAK+T,MAAM/J,KAAKypC,gBAIxC,IAAK,SACH,OACEgoD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,0BACH+4F,eAAe,yEACfl9F,OAAQ,CACNs6C,YAAa,GAAF19C,OAAKiK,EAAK+T,MAAM/J,KAAKypC,gBAIxC,IAAK,MACH,OACEgoD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,uBAAuB+4F,eAAe,qCAE/D,QACE,OAAO,KAEb,IAACr2F,CAAA,CAKA,OALAN,EAAAA,GAAAA,GAAAotG,EAAA,EAAA/1G,IAAA,SAAA6C,MAED,WAEE,OAAOvG,KAAK05G,qBAAqB15G,KAAK0gB,MAAMuT,KAC9C,KAACwlF,CAAA,CAvEoC,CAASjO,GAAAA,WCqBhD,I,GACEmO,GCzB8B,CAAC,QD0B/BC,GCxB8B,CAAC,gBAAiB,eAAgB,YAAa,iBDyB7EC,GCxB8B,CAAC,eAAgB,gBAAiB,aDyBhEC,GCxB+B,CAAC,gBAAiB,eAAgB,WAAY,kBDyB7EC,GCxB+B,CAAC,iBAAkB,gBAAiB,eAAgB,YDyBnFC,GCvB8B,CAAC,gBDwB/BC,GCvB8B,CAAC,qBAAsB,gBDwBrDC,GCvB+B,CAAC,iBDwBhCC,GCvB+B,CAAC,oBAAqB,iBDwBrDC,GCtB8B,CAAC,SAAU,OD2BtBC,GADpB7S,KAAWrjD,GAAQ,CAAE+lD,eAAe,GAAOvB,CAAAC,GAAA,SAAA0R,IAAA5/F,EAAAA,GAAAA,GAAA2/F,EAAAC,GAAA,I,IAAA3/F,G,EAAA0/F,E,maAK1C,SAAAA,EAAY35F,GAAO,IAAA/T,EAWC,OAXDP,EAAAA,GAAAA,GAAA,KAAAiuG,GACjB1tG,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,UAHJ,OAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAgBA,WACZ,IAAA68F,EASK78F,EAAK+T,MANJuqC,EAAWu+C,EAFf7yF,KACE4G,KACE0tC,YAIFh3B,EAAIu1E,EADNjsF,KACE0W,KAICklF,EAAW,GAUhB,OARAjoG,OAAOtL,KAAKqlD,GAAa/nD,SAAQ,SAACQ,GAC5BunD,EAAYvnD,KAASuwB,IACvBklF,EAAWz1G,EAEf,IAEAkW,QAAQ4jB,IAAI,WAAY27E,GAEjBA,CACT,IAlCExsG,EAAK2W,MAAQ,CACX61F,SAAUxsG,EAAK4tG,eAGjB5tG,EAAK6iG,QAAU9uF,EAAM6wF,OAErB33F,QAAQrQ,MAAM,2BAA4B,iBAC1CqQ,QAAQ4jB,IAAI,WAAY7wB,EAAK6iG,SAC7B51F,QAAQy2B,WAAU1jC,CACpB,CAyHC,OAzHAN,EAAAA,GAAAA,GAAAguG,EAAA,EAAA32G,IAAA,qBAAA6C,MA2BD,SAAmBiuG,GACoBA,EAA7Bj3F,KAAQ0W,OACWj0B,KAAK0gB,MAAxBnD,KAAQ0W,MAGdj0B,KAAK0qD,SAAS,CACZyuD,SAAUn5G,KAAKu6G,eAGrB,GAAC,CAAA72G,IAAA,SAAA6C,MAED,WACE,IAAAmlG,EAYI1rG,KAAK0gB,MAAK85F,EAAA9O,EAXZ/0F,KAIQ8jG,GAFaD,EADnBj9F,KACEusC,kBAEa0wD,EAAfj9F,MAEFA,EAAImuF,EAAJnuF,KACA5G,EAAI+0F,EAAJ/0F,KACA+jG,EAAahP,EAAbgP,cACA9kE,EAAY81D,EAAZ91D,aACA9jB,EAAU45E,EAAV55E,WAGMqnF,EAAan5G,KAAKsjB,MAAlB61F,SAEFzrD,EAAa+sD,EAAU/sD,WAEvBitD,EAAcjtD,EAAcktD,GAAiBC,GAC7CC,EAAaptD,EAAcqtD,GAAgBC,GAE3CC,EAAmBvtD,EACvBnwC,EAAKkwC,QAAUmsD,GAA0BC,GAEzCt8F,EAAKkwC,QAAUqsD,GAAyBC,GAEpCmB,EAAkBxtD,EACtBnwC,EAAKkwC,QAAUusD,GAAyBC,GAExC18F,EAAKkwC,QAAUysD,GAAwBC,GAEnCjF,EAAqByE,GAAWt/F,SAAS8+F,GACzCnC,EAAsBiE,EAAiB5gG,SAAS8+F,GAChDZ,EAAqB2C,EAAgB7gG,SAAS8+F,GAC9ChE,EAAsBiF,GAAY//F,SAAS8+F,GAE3CgC,EAAiB59F,EAAKkwC,QAAW4rD,GAAqB+B,GACtDC,EAAiB99F,EAAKkwC,QAAWgsD,GAAqBF,GAEtD+B,EACJlT,KAAAA,cAACuB,GAAAA,SAAQ,KAEL,CAAC,eAAgB,qBAAqBtvF,SAASra,KAAK0gB,MAAM66F,WACxDnT,KAAAA,cAAC+S,EAAa,CAAC59F,KAAMA,EAAM5G,KAAMA,EAAMwiG,SAAUA,IAGnD,CAAC,eAAgB,qBAAqB9+F,SAASra,KAAK0gB,MAAM66F,WACxDnT,KAAAA,cAACiT,EAAa,CAAC99F,KAAMA,EAAM5G,KAAMA,EAAMwiG,SAAUA,KAKnDpC,GAAqB2D,GAA8B,iBAAbvB,EAE5C,OACE/Q,KAAAA,cAAA,OAAKC,UAAS,GAAA3lG,OAAK41D,EAAAA,GAAW,oBAAsB,cAChDA,EAAAA,IAAY8vC,KAAAA,cAACoT,GAAS,CAAC97E,KAAM47E,EAAWpG,kBAAmBA,IAC7D9M,KAAAA,cAACuS,EAAU,CACTzF,kBAAmBA,EACnB8B,mBAAoBA,EACpBt3E,KAAM47E,EACNvE,kBAAmBA,EACnBpgG,KAAMA,EACN46F,OAAQvxG,KAAKwvG,UAGbuH,GACE3O,KAAAA,cAAA,OAAKC,UAAU,qBACbD,KAAAA,cAACmL,GAAa,CAAC39D,aAAcA,EAAcj/B,KAAMA,EAAM4G,KAAMA,EAAMuU,WAAYA,EAAYy/E,OAAQvxG,KAAKwvG,WAG9GpH,KAAAA,cAAC0S,EAAS,CACR5F,kBAAmBA,EACnB8B,mBAAoBA,EACpBuB,kBAAmBA,EACnB5hG,KAAMA,EACN46F,OAAQvxG,KAAKwvG,QACb9vE,KAAM47E,KAENhjD,EAAAA,IAAY8vC,KAAAA,cAACqT,GAAU,CAACtG,mBAAoBA,EAAoBz1E,KAAM47E,IAG9E,KAACjB,CAAA,CA1IyC,CACNjS,KAAAA,iBAAmBQ,GEhCH,I,GAGjC8S,GADpBvR,KCTD,CAAgB,cAAgB,2BAA2B,QAAU,2BAA2B,WAAa,2BAA2B,QAAU,2BAA2B,OAAS,4BDSlK,CAAED,eAAe,GAAOvB,CAAAC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAAghG,EAAArQ,GAAA,I,IAAA1wF,G,EAAA+gG,E,maAAA,SAAAA,IAAA,IAAA/uG,GAAAP,EAAAA,GAAAA,GAAA,KAAAsvG,GAAA,QAAA97F,EAAA7e,UAAAd,OAAAqsE,EAAA,IAAAlsE,MAAAwf,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAwsD,EAAAxsD,GAAA/e,UAAA+e,GAiBzC,OAjByCnT,EAAAgO,EAAAtZ,KAAA0e,MAAApF,EAAA,OAAAjY,OAAA4pE,KAAAnzD,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,QAGlC,CACNgvG,iBAAiB,KAClBxiG,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,cAEY,WACXA,EAAK+9C,SAAS,CACZixD,iBAAiB,IAChB,WACDv9F,YAAW,WACTzR,EAAK+9C,SAAS,CACZixD,iBAAiB,GAErB,GAAG,IACL,GACF,IAAChvG,CAAA,CAsCA,OAtCAN,EAAAA,GAAAA,GAAAqvG,EAAA,EAAAh4G,IAAA,SAAA6C,MAED,WACE,IAAAijG,EAAwCxpG,KAAK0gB,MAArC+lE,EAAU+iB,EAAV/iB,WAAYm1B,EAAepS,EAAfoS,gBACZD,EAAoB37G,KAAKsjB,MAAzBq4F,gBAER,OACEvT,KAAAA,cAAA,OAAKC,UAAU,iBACbD,KAAAA,cAACK,KAAe,CAAC/oE,KAAM+mD,GACrB2hB,KAAAA,cAAA,WACEA,KAAAA,cAAA,OAAKC,UAAU,WACbD,KAAAA,cAAA,KAAGgC,UAAU,iCAEfhC,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,MAAIC,UAAU,cACZD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,iBACH+4F,eAAe,qGACfl9F,OAAQ,CACN+uG,GAAIzM,KAAAA,cAAA,WACJwT,gBAAiBxT,KAAAA,cAAA,cAA2B,EAAlBwT,OAIhCxT,KAAAA,cAAA,KAAGC,UAAU,WACV5hB,GAEH2hB,KAAAA,cAACwD,GAAM,CAACrB,OAAK,EAAClC,UAAU,SAASC,QAAStoG,KAAK67G,YAC5CF,EACGvT,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,iBAAiB+4F,eAAe,WACrDoF,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,iBAAiB+4F,eAAe,aAQvE,KAAC0Y,CAAA,CAvDyC,CACFlQ,GAAAA,aAAS5C,GENnB,IAI1BkT,GADLtU,KAAWrjD,GAAOwkD,CAAAC,GAAA,SAAA0R,IAAA5/F,EAAAA,GAAAA,GAAAohG,EAAAxB,GAAA,I,IAAA3/F,G,EAAAmhG,E,maAMjB,SAAAA,EAAYp7F,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAA0vG,GACjBnvG,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAiCE,SAACuT,GACfvT,EAAKgK,KAAKsJ,OAAO4nC,SAAS3nC,EAC5B,KAAC/G,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAEiB,WACGA,EAAK2W,MAAhBie,OAAR,IACMi/C,EAAS7zE,EAAKgK,KAAKiC,KAAKuvC,uBAE9Bx7C,EAAK+9C,UAAS,iBAAO,CACnBnpB,OAAQi/C,EACT,GACH,IA1CE,IAAQ7pE,EAAS+J,EAAT/J,KAQP,OANDhK,EAAKgK,KAAOA,EAEZhK,EAAKovG,OAAQ,EAEbpvG,EAAK2W,MAAQ,CACXie,QAAQ,GACT50B,CACH,CAqDC,OArDAN,EAAAA,GAAAA,GAAAyvG,EAAA,EAAAp4G,IAAA,oBAAA6C,MAED,WAAoB,IAAA0V,EAAA,KAClBjc,KAAK2W,KAAKsJ,OAAO8qC,UAAU,eAAgB/qD,KAAKg8G,iBAChDh8G,KAAKi8G,cAAc,gBAEnB,IAAMC,EAAuBjiB,aAAY,WAClCh+E,EAAK8/F,MAKV9/F,EAAK+/F,kBAJH3hB,cAAc6hB,EAKlB,GAAG,IACL,GAAC,CAAAx4G,IAAA,uBAAA6C,MAED,WACEvG,KAAKi8G,cAAc,gBACnBj8G,KAAK2W,KAAKsJ,OAAOR,YAAY,eAAgBzf,KAAKg8G,iBAClDh8G,KAAK+7G,OAAQ,CACf,GAAC,CAAAr4G,IAAA,SAAA6C,MAeD,WACE,IAAQg7B,EAAWvhC,KAAKsjB,MAAhBie,OAER,OACE6mE,KAAAA,cAAA,OAAKC,UAAU,mBAEX9mE,EACE6mE,KAAAA,cAAA,KAAGC,UAAU,UACXD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,mBAAmB+4F,eAAe,mCAGzDoF,KAAAA,cAAA,KAAGC,UAAU,WACXD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,mBAAmB+4F,eAAe,oCAMnE,KAAC8Y,CAAA,CAvEgB,CACU1T,KAAAA,iBAAmBQ,GAyEhD,YC1CA,GAAepB,IAAf,EA9BqB,SAAC9mF,GACpB,IAAAu2F,EAQMv2F,EAPF/J,KACEwwC,EAAU8vD,EAAV9vD,WACAC,EAAS6vD,EAAT7vD,UAON+0D,EAL6BlF,EADvB15F,KACI6+F,UAKqC37G,MAAM,KAAI47G,GAAAjnD,EAAAA,GAAAA,GAAA+mD,EAAA,GAAjDh8D,EAAYk8D,EAAA,GAAEj8D,EAAWi8D,EAAA,GAEjCx3D,EAAuE1D,GAAYhB,GAArE0mD,EAAgBhiD,EAAtB9oC,KAAoC+qF,EAAsBjiD,EAAlChwC,WAChC2sC,EAAqEL,GAAYf,GAAnE2mD,EAAevlD,EAArBzlC,KAAmCirF,EAAqBxlD,EAAjC3sC,WAE/B,OACEuzF,KAAAA,cAAA,OAAKC,UAAU,YACbD,KAAAA,cAAA,cACGjhD,EAAWsnB,QAAQ,GACnB,IACAq4B,EAAyB,GAAHpkG,OAAMmkG,EAAgB,MAAAnkG,OAAKokG,EAAsB,KAAMD,EAAiB,MAAW,IACzGz/C,EAAUqnB,QAAQ,GAClB,IACAu4B,EAAwB,GAAHtkG,OAAMqkG,EAAe,MAAArkG,OAAKskG,EAAqB,KAAMD,GAInF,GAEwC5iD,I,OC5BC,I,GAIpBm4D,GADpB9U,KAAWrjD,GAAOwkD,CAAAC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAA4hG,EAAAjR,GAAA,I,IAAA1wF,G,EAAA2hG,E,maAOjB,SAAAA,EAAY57F,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAAkwG,GACjB3vG,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,OANP,OAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,UACD,OAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBACQ,OAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBACP,OAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAsDR,WACMA,EAAK2W,MAAhBhgB,MAEV,KAAC6V,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,yBAGuB,SAAC7G,GACvB6G,EAAK+9C,SAAS,CACZntC,KAAMzX,GAEV,KAACqT,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAEc,WACbA,EAAK+9C,SAAS,CACZ6xD,iBAAkB5vG,EAAK2W,MAAMi5F,iBAEjC,KAACpjG,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAEe,SAAC1B,GACfA,EAAEuxG,iBACF7vG,EAAK+9C,SAAS,CACZ+xD,aAAa,GAEjB,IAzEE,IAAQ9lG,EAA8E+J,EAA9E/J,KAAMi/B,EAAwEl1B,EAAxEk1B,aAAc5rB,EAA0DtJ,EAA1DsJ,QAAS0wF,EAAiDh6F,EAAjDg6F,cAAuBgC,GAA0Bh8F,EAAlCyjC,OAAkCzjC,EAA1Bg8F,eAAenL,EAAW7wF,EAAX6wF,OAsBtD,OApBrB5kG,EAAKgK,KAAOA,EAEZhK,EAAK2W,MAAQ,CACX3M,KAAAA,EACA+lG,cAAAA,EACAhC,cAAAA,EACA+B,aAAa,EACbzT,eAAe,EACf2S,iBAAiB,EAEjBp+F,KAAM5Q,EAAKgK,KAAK4G,KAAK+F,MACrBq5F,yBAAyB,EACzBJ,iBAAiB,EACjB1zC,gBAAiBjzB,EAAa5lC,QAC9By2E,WAAYz8D,EAAQ5oB,KAAI,SAAA8D,GAAI,OAAIA,EAAK8K,OAAO,IAC5C1M,OAAQlF,GAAAA,YAAmB,IAAIoC,SAAS,OAExCooD,sBAAwBj8C,EAAKgK,KAAKiyC,sBAAyBj8C,EAAKgK,KAAKiyC,sBAAwBpuC,GAAAA,GAAAA,SAAiBQ,SAASrC,KAAKiF,SAASpI,IAAIxF,SAG3IrD,EAAK6iG,QAAU+B,EAAM5kG,CACvB,CAsHC,OAtHAN,EAAAA,GAAAA,GAAAiwG,EAAA,EAAA54G,IAAA,qBAAA6C,MAED,WAEEvG,KAAK2W,KAAKoxC,GAAG,eAAgB/nD,KAAKwxG,sBACpC,GAAC,CAAA9tG,IAAA,uBAAA6C,MAED,WAEEvG,KAAK2W,KAAK+6F,IAAI,eAAgB1xG,KAAKwxG,sBACrC,GAAC,CAAA9tG,IAAA,oBAAA6C,MAED,WAAoB,IAAA0V,EAAA,KAClB8vC,EAAqE/rD,KAAKsjB,MAA9Ds5F,GAAA7wD,EAAJp1C,KAAIo1C,EAAExuC,MAAYq/F,EAAJ3oF,KAAyB2oF,EAAnBhvD,oBAAkCgvD,EAAbzxD,gBAGjDnrD,KAAK68G,iBAAmB5iB,aAAY,WAC9Bh+E,EAAKqH,MAAM/F,KAAKqwC,qBAAuB3xC,EAAKqH,MAAMslC,sBACpD3sC,EAAK22F,eAILvY,cAAcp+E,EAAK4gG,iBAEvB,GAAG,KACL,GAAC,CAAAn5G,IAAA,SAAA6C,MA2BD,WACE,IAAAijG,EAYIxpG,KAAK0gB,MAXPvU,EAAQq9F,EAARr9F,SAEAypC,GADa4zD,EAAbmC,cACYnC,EAAZ5zD,cACAknE,EAAYtT,EAAZsT,aACApC,EAAalR,EAAbkR,cACAllF,EAAOg0E,EAAPh0E,QACA1D,EAAU03E,EAAV13E,WACAirF,EAAiBvT,EAAjBuT,kBACAC,EAAiBxT,EAAjBwT,kBACAxmE,EAAMgzD,EAANhzD,OACAzpB,EAAOy8E,EAAPz8E,QAGF0/B,EAMIzsD,KAAKsjB,MALP3M,EAAI81C,EAAJ91C,KACA4G,EAAIkvC,EAAJlvC,KAEAkpE,GADMh6B,EAANnpD,OACUmpD,EAAVg6B,YAIIw2B,GAHWxwD,EAAf8vD,gBAIAnU,KAAAA,cAACsT,GAAY,CACXj1B,WAAYA,EACZ8qB,OAAQvxG,KAAKwvG,WAGX0N,EACJ9U,KAAAA,cAAC+G,GAAY,CACX5xF,KAAMA,EACN5G,KAAM3W,KAAK0gB,MAAM/J,KACjB6e,QAASA,EACTghB,OAAQA,EACRzpB,QAASA,EACT+E,WAAYA,EACZy/E,OAAQvxG,KAAKwvG,UAIjB,OACEpH,KAAAA,cAAA,WACEA,KAAAA,cAAA,OAAKC,UAAU,iBACbD,KAAAA,cAAA,WACGzxF,EAAK1M,IAAMm+F,KAAAA,cAAC+U,GAAY,CAACxmG,KAAMA,IAChCyxF,KAAAA,cAAC0T,GAAc,CAACnlG,KAAMA,IACtByxF,KAAAA,cAACiS,GAAQ,CACP98F,KAAMvd,KAAKsjB,MAAM3M,KAAK4G,KAAK+F,MAC3Bo3F,cAAeA,EACf9kE,aAAcA,EACd9jB,WAAYA,EACZnb,KAAM3W,KAAK0gB,MAAM/J,KACjBqmG,kBAAmBA,EACnBzL,OAAQvxG,KAAKwvG,QACb+L,SAAS,sBAETuB,GACKC,EACHG,EADwBD,IAK/B9wG,GAAYi8F,KAAAA,cAAA,OAAKC,UAAU,qBAAqBl8F,GAGvD,KAACmwG,CAAA,CAtJgB,CACyB9Q,GAAAA,aAAS5C,GCVR,I,GAGxBwU,GADpBjT,KCPD,CAAgB,cAAgB,2BAA2B,YAAc,2BAA2B,QAAU,4BAA4B,OAAS,2BAA2B,QAAU,6BDOpK,CAAED,eAAe,GAAOvB,CAAAC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAA0iG,EAAA/R,GAAA,I,IAAA1wF,G,EAAAyiG,E,maAAA,SAAAA,IAAA,OAAAhxG,EAAAA,GAAAA,GAAA,KAAAgxG,GAAAziG,EAAAoF,MAAA,KAAAhf,UAAA,CA4BzC,OA5ByCsL,EAAAA,GAAAA,GAAA+wG,EAAA,EAAA15G,IAAA,SAAA6C,MAE1C,WACE,IAAAijG,EAAgCxpG,KAAK0gB,MAA7B+lE,EAAU+iB,EAAV/iB,WAAYr3C,EAAOo6D,EAAPp6D,QAEpB,OACEg5D,KAAAA,cAAA,OAAKC,UAAU,iBACbD,KAAAA,cAACK,KAAe,CAAC/oE,KAAM+mD,GACrB2hB,KAAAA,cAAA,WACEA,KAAAA,cAAA,OAAKC,UAAU,WACbD,KAAAA,cAAA,KAAGgC,UAAU,iCAEfhC,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,MAAIC,UAAU,eACZD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,kBACH+4F,eAAe,+KACfl9F,OAAQ,CACN+uG,GAAIzM,KAAAA,cAAA,WACJh5D,QAASA,SAS3B,KAACguE,CAAA,CA5ByC,CACD5R,GAAAA,aAAS5C,GEGX,I,GAIpByU,GADpB7V,KAAWrjD,GAAOwkD,CAAAC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAA2iG,EAAAhS,GAAA,I,IAAA1wF,G,EAAA0iG,E,maAQjB,SAAAA,EAAY38F,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAAixG,GACjB1wG,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,UANJ,OAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,OACP,OAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,YACC,OAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eACD,OAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eA8CL,SAACxB,GAOb,MANAyO,QAAQrQ,MAAM,yBAA0B,eACxCqQ,QAAQzO,MAAM,UAAWA,GACzByO,QAAQ4jB,IAAI,iBAAkB,kBAC9B5jB,QAAQ0jG,QACR1jG,QAAQy2B,WAEF,IAAI9xC,MAAM4M,EAClB,KAACgO,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAEsB,WAErBA,EAAKgK,KAAK4G,KAAK5Q,EAAK6iG,QAAQ6B,mBAC9B,KAACl4F,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,yBAEuB,SAAC7G,GACvB6G,EAAK+9C,SAAS,CACZntC,KAAMzX,GAEV,KAACqT,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAEqB,WAEpB,IAAA4wG,EAA2C5wG,EAAKgK,KAAxCwpC,EAAYo9D,EAAZp9D,aAAcgH,EAAUo2D,EAAVp2D,WACdq2D,EAD8BD,EAAJhgG,KAC1BigG,aACAvoG,EAAauoG,EAAa5iG,QAA1B3F,SAER,IACEwjC,GAAQxjC,GAAUwoG,aAAa,CAC7B9oG,KAAMwrC,EACNxP,GAAI6sE,EAAaxtG,QACjB23E,gBAAiBhoF,OAAOwnD,IAE5B,CAAE,MAAOh8C,GACPwB,EAAK64C,YAAYr6C,EACnB,CACF,IA7EE,IACEwL,EAIE+J,EAJF/J,KACAi/B,EAGEl1B,EAHFk1B,aACA9jB,EAEEpR,EAFFoR,WACAy/E,EACE7wF,EADF6wF,OAiBmB,OAdrB5kG,EAAKgK,KAAOA,EAEZhK,EAAK2W,MAAQ,CACX3M,KAAAA,EACAi/B,aAAAA,EACA9jB,WAAAA,EACAw/E,QAAQ,EACRtI,eAAe,EACf2S,iBAAiB,EAEjBp+F,KAAM5Q,EAAKgK,KAAK4G,KAAK+F,MACrBulD,gBAAiBjzB,EAAa5lC,SAGhCrD,EAAK6iG,QAAU+B,EAAM5kG,CACvB,CAgIC,OAhIAN,EAAAA,GAAAA,GAAAgxG,EAAA,EAAA35G,IAAA,qBAAA6C,MAED,WAEEvG,KAAK2W,KAAKoxC,GAAG,eAAgB/nD,KAAKwxG,sBACpC,GAAC,CAAA9tG,IAAA,uBAAA6C,MAED,WAEEvG,KAAK2W,KAAK+6F,IAAI,eAAgB1xG,KAAKwxG,sBACrC,GAAC,CAAA9tG,IAAA,oBAAA6C,MAED,WACsCvG,KAAKsjB,MAAjC/F,KAAQ4tC,eAGhBnrD,KAAK09G,qBACP,GAAC,CAAAh6G,IAAA,SAAA6C,MAwCD,WACE,IAAAijG,EASKxpG,KAAK0gB,MARRvU,EAAQq9F,EAARr9F,SACA2wG,EAAYtT,EAAZsT,aACApC,EAAalR,EAAbkR,cACAllF,EAAOg0E,EAAPh0E,QACAixD,EAAU+iB,EAAV/iB,WACAu2B,EAAiBxT,EAAjBwT,kBACAxmE,EAAMgzD,EAANhzD,OACAzpB,EAAOy8E,EAAPz8E,QAGFg/B,EAMI/rD,KAAKsjB,MALP/F,EAAIwuC,EAAJxuC,KACAq4B,EAAYmW,EAAZnW,aACA9jB,EAAUi6B,EAAVj6B,WACAw/E,EAAMvlD,EAANulD,OACA36F,EAAIo1C,EAAJp1C,KAGMgnG,EAA4FpgG,EAA5FogG,wBAAyBC,EAAmErgG,EAAnEqgG,oBAAqBC,EAA8CtgG,EAA9CsgG,yBAA0BjC,EAAoBr+F,EAApBq+F,gBAEhF,OACExT,KAAAA,cAAA,WACEA,KAAAA,cAAA,OAAKC,UAAU,iBACbD,KAAAA,cAAA,WACGzxF,EAAK1M,IAAMm+F,KAAAA,cAAC+U,GAAY,CAACxmG,KAAMA,IAChCyxF,KAAAA,cAAC0T,GAAc,CAACnlG,KAAMA,IACtByxF,KAAAA,cAACiS,GAAQ,CACPK,cAAeA,EACf9kE,aAAcA,EACd9jB,WAAYA,EACZvU,KAAMA,EACN5G,KAAMA,EACNqmG,kBAAmBA,EACnBzL,OAAQvxG,KAAKwvG,QACb+L,SAAS,sBAETuB,EAgBE1U,KAAAA,cAAC+G,GAAY,CACX5xF,KAAMA,EACN5G,KAAMA,EACNmb,WAAYA,EACZ0D,QAASA,EACTghB,OAAQA,EACRzpB,QAASA,EACTukF,OAAQA,EACRC,OAAQvxG,KAAKwvG,UAtBfpH,KAAAA,cAACuB,GAAAA,SAAQ,MAEJgU,GACCvV,KAAAA,cAACsT,GAAY,CAACj1B,WAAYA,EAAYm1B,gBAAiBA,EAAiBrK,OAAQvxG,KAAKwvG,UAIvFoO,GACExV,KAAAA,cAACgV,GAAa,CAAC32B,WAAYA,EAAYr3C,QAASyuE,EAA0BtM,OAAQvxG,KAAKwvG,aAoBpGrjG,GAAYi8F,KAAAA,cAAA,OAAKC,UAAU,qBAAqBl8F,GAGvD,KAACkxG,CAAA,CAjKgB,CACyB7R,GAAAA,aAAS5C,GCHZ,I,GAIpBkV,GADpBtW,KAAWrjD,GAAOwkD,CAAAC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAAojG,EAAAzS,GAAA,I,IAAA1wF,G,EAAAmjG,E,maAOjB,SAAAA,EAAYp9F,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAA0xG,GACjBnxG,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,OANP,OAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,UACD,OAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBACK,OAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,cACT,OAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,0BAoDO,WACvBA,EAAK+9C,SAAS,CAAEqzD,YAAatyF,OAAOuyF,YACtC,KAAC7kG,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAEc,WACb,IAAQrJ,EAAWqJ,EAAK2W,MAAhBhgB,OAERqJ,EAAKgK,KAAK4G,KAAKq1F,aAAatvG,EAC9B,KAAC6V,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,yBAEuB,SAAC7G,GACvB6G,EAAK+9C,SAAS,CACZntC,KAAMzX,GAEV,KAACqT,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAEe,WAEdA,EAAKgK,KAAK4G,KAAKu2F,aACjB,KAAC36F,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,aAEW,WAEVA,EAAKgK,KAAK4G,KAAKuwC,YACfnhD,EAAK+9C,UAAS,iBAAO,CAAEs+C,eAAe,EAAO,GAC/C,KAAC7vF,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAEgB,WACf,IAAQ4Q,EAAS5Q,EAAK2W,MAAd/F,KAGA4sC,EAAiBx9C,EAAK6iG,QAAtBrlD,aAER,GAAI5sC,EAAKm1F,YACP,OAAOn1F,EAAKm1F,YAELn1F,EAAK4sC,IAEZx9C,EAAKgK,KAAK4G,KAAK0gG,gBAEnB,IAxFE,IAAQtnG,EAA+B+J,EAA/B/J,KAAMi/B,EAAyBl1B,EAAzBk1B,aAAc27D,EAAW7wF,EAAX6wF,OAc3B,OAZD5kG,EAAKgK,KAAOA,EAEZhK,EAAK6iG,QAAU+B,EACf5kG,EAAKyqG,YAAc7F,EAAO6F,YAE1BzqG,EAAK2W,MAAQ,CACXsyB,aAAAA,EACAozD,eAAe,EAEfzrF,KAAM5Q,EAAKgK,KAAK4G,KAAK+F,MACrBulD,gBAAiBjzB,EAAa5lC,QAC9B1M,OAAQlF,GAAAA,YAAmB,IAAIoC,SAAS,QACzCmM,CACH,CAwIC,OAxIAN,EAAAA,GAAAA,GAAAyxG,EAAA,EAAAp6G,IAAA,qBAAA6C,MAED,WAEEvG,KAAK2W,KAAKoxC,GAAG,eAAgB/nD,KAAKwxG,sBACpC,GAAC,CAAA9tG,IAAA,oBAAA6C,MAED,WAAoB,IAAA0V,EAAA,KAClB2gG,EAA2F58G,KAAKsjB,MAAxF/F,KAAsBq/F,EAAdtxD,eAA0BsxD,EAAVrxD,WAAgBqxD,EAAJ3oF,KAAyB2oF,EAAnBhvD,oBAAkCgvD,EAAbzxD,gBAEvE1/B,OAAOuvE,iBAAiB,SAAUh7F,KAAKk+G,wBACvCl+G,KAAKk+G,yBAELl+G,KAAK68G,iBAAmB5iB,aAAY,WAC9Bh+E,EAAKqH,MAAM/F,KAAKqwC,qBAAuB3xC,EAAKqH,MAAMslC,uBAKpDyxC,cAAcp+E,EAAK4gG,iBAEvB,GAAG,KACL,GAAC,CAAAn5G,IAAA,uBAAA6C,MAED,WACE,IAAAwlD,EAAuC/rD,KAAKsjB,MAAhCyoC,EAAJp1C,KAAwBo1C,EAAlBxuC,KAAQguC,WACtB9/B,OAAOwvE,oBAAoB,SAAUj7F,KAAKk+G,wBAE1Cl+G,KAAK2W,KAAK+6F,IAAI,eAAgB1xG,KAAKwxG,uBAEnCnX,cAAcr6F,KAAK68G,iBACrB,GAAC,CAAAn5G,IAAA,SAAA6C,MA6CD,WACE,IAAAijG,EAWKxpG,KAAK0gB,MAVRo8F,EAAYtT,EAAZsT,aACApC,EAAalR,EAAbkR,cACA/jG,EAAI6yF,EAAJ7yF,KACA6e,EAAOg0E,EAAPh0E,QACA1D,EAAU03E,EAAV13E,WACA20D,EAAU+iB,EAAV/iB,WACAt6E,EAAQq9F,EAARr9F,SACA6wG,EAAiBxT,EAAjBwT,kBACAxmE,EAAMgzD,EAANhzD,OACAzpB,EAAOy8E,EAAPz8E,QAGF0/B,EAAkEzsD,KAAKsjB,MAA/D/F,EAAIkvC,EAAJlvC,KAA4Bq4B,GAAF6W,EAApB0xD,qBAAkC1xD,EAAZ7W,cAAcmoE,EAAWtxD,EAAXsxD,YAElD,OACE3V,KAAAA,cAAA,WACEA,KAAAA,cAAA,OACEC,UAAU,gBACVtqD,MAAQua,EAAAA,IAAaylD,EAAc,IAC/B,CAAE1I,WAAY,KACd,CAAEA,WAAY,IAElBjN,KAAAA,cAAA,WACGzxF,EAAK1M,IAAMm+F,KAAAA,cAAC+U,GAAY,CAACxmG,KAAMA,IAChCyxF,KAAAA,cAAC0T,GAAc,CAACnlG,KAAMA,IACtByxF,KAAAA,cAACiS,GAAQ,CACPK,cAAeA,EACf9kE,aAAcA,EACd9jB,WAAYA,EACZvU,KAAMA,EACNy/F,kBAAmBA,EACnBe,YAAaA,EACbppG,KAAMgC,EAAKwpC,aACXxpC,KAAMA,EACN46F,OAAQvxG,KAAKwvG,QACb+L,SAAS,iBAEXnT,KAAAA,cAAA,WACI0U,EAGE1U,KAAAA,cAAC+G,GAAY,CACX5xF,KAAMA,EACN5G,KAAMA,EACN6e,QAASA,EACTghB,OAAQA,EACRzpB,QAASA,EACT+E,WAAYA,EACZy/E,OAAQvxG,KAAKwvG,UATfpH,KAAAA,cAACsT,GAAY,CAACj1B,WAAYA,MAejCt6E,GAAYi8F,KAAAA,cAAA,OAAKC,UAAU,qBAAqBl8F,IAIzD,KAAC2xG,CAAA,CAhKgB,CACwBtS,GAAAA,aAAS5C,GCNX,IAIpBwV,GADpB5W,KAAWrjD,GAAOwkD,CAAAC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAA0jG,EAAA/S,GAAA,I,IAAA1wF,G,EAAAyjG,E,maAQjB,SAAAA,EAAY19F,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAAgyG,GACjBzxG,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,UAPJ,OAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,OACP,OAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,YACC,OAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eACD,OAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,cACL,OAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,0BAmDO,WACvBA,EAAK+9C,SAAS,CAAEqzD,YAAatyF,OAAOuyF,YACtC,KAAC7kG,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAEsB,WACrB,IAEE0kG,EACE1kG,EAAK6iG,QADP6B,iBAIF1kG,EAAKgK,KAAK4G,KAAK8zF,IACjB,KAACl4F,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,yBAEuB,SAAC7G,GAEvB6G,EAAK+9C,SAAS,CACZntC,KAAMzX,GAGV,IAnEE,IACE6Q,EAKE+J,EALF/J,KACAi/B,EAIEl1B,EAJFk1B,aACA8mE,EAGEh8F,EAHFg8F,cACAhC,EAEEh6F,EAFFg6F,cACAnJ,EACE7wF,EADF6wF,OAoBD,OAjBD5kG,EAAK6iG,QAAU+B,EACf5kG,EAAKyqG,YAAc7F,EAAO6F,YAE1BzqG,EAAKgK,KAAOA,EAEZhK,EAAK2W,MAAQ,CACX3M,KAAAA,EACAi/B,aAAAA,EACA8kE,cAAAA,EACApJ,QAAQ,EACRoL,cAAAA,EACA1T,eAAe,EACf2S,iBAAiB,EAEjBp+F,KAAM5Q,EAAKgK,KAAK4G,KAAK+F,MACrB66F,sBAAsB,EACtBt1C,gBAAiBjzB,EAAa5lC,SAC/BrD,CACH,CAiGC,OAjGAN,EAAAA,GAAAA,GAAA+xG,EAAA,EAAA16G,IAAA,qBAAA6C,MAED,WAEEvG,KAAK2W,KAAKoxC,GAAG,eAAgB/nD,KAAKwxG,sBAEpC,GAAC,CAAA9tG,IAAA,oBAAA6C,MAED,WACsCvG,KAAKsjB,MAAjC/F,KAAQ4tC,gBAEhB1/B,OAAOuvE,iBAAiB,SAAUh7F,KAAKk+G,wBACvCl+G,KAAKk+G,yBACP,GAAC,CAAAx6G,IAAA,uBAAA6C,MAED,WAEEvG,KAAK2W,KAAK+6F,IAAI,eAAgB1xG,KAAKwxG,uBACnC/lF,OAAOwvE,oBAAoB,SAAUj7F,KAAKk+G,uBAC5C,GAAC,CAAAx6G,IAAA,SAAA6C,MAwBD,WACE,IAAAijG,EAWIxpG,KAAK0gB,MAVPoR,EAAU03E,EAAV13E,WACAgrF,EAAYtT,EAAZsT,aACApC,EAAalR,EAAbkR,cACAllF,EAAOg0E,EAAPh0E,QACAixD,EAAU+iB,EAAV/iB,WACAt6E,EAAQq9F,EAARr9F,SACAkyG,EAAqB7U,EAArB6U,sBACArB,EAAiBxT,EAAjBwT,kBACAxmE,EAAMgzD,EAANhzD,OACAzpB,EAAOy8E,EAAPz8E,QAGFg/B,EAA0D/rD,KAAKsjB,MAAvD/F,EAAIwuC,EAAJxuC,KAAM5G,EAAIo1C,EAAJp1C,KAAMi/B,EAAYmW,EAAZnW,aAAc07D,EAAMvlD,EAANulD,OAAQyM,EAAWhyD,EAAXgyD,YAE1C,OACE3V,KAAAA,cAAA,WACEA,KAAAA,cAAA,OAAKC,UAAU,gBAAgBtqD,MAAQua,EAAAA,IAAaylD,EAAc,IAAQ,CAAE1I,WAAY,KAAQ,CAAEA,WAAY,IAC5GjN,KAAAA,cAAA,WACGzxF,EAAK1M,IAAMm+F,KAAAA,cAAC+U,GAAY,CAACxmG,KAAMA,IAChCyxF,KAAAA,cAAC0T,GAAc,CAACnlG,KAAMA,IACtByxF,KAAAA,cAACiS,GAAQ,CACPK,cAAeA,EACf9kE,aAAcA,EACd9jB,WAAYA,EACZvU,KAAMA,EACN5I,KAAMgC,EAAKwpC,aACX49D,YAAaA,EACbf,kBAAmBA,EACnBrmG,KAAMA,EACN46F,OAAQvxG,KAAKwvG,QACb+L,SAAS,iBAETuB,EAGE1U,KAAAA,cAAC+G,GAAY,CACX5xF,KAAMA,EACN5G,KAAMA,EACN6e,QAASA,EACT87E,OAAQA,EACR96D,OAAQA,EACRzpB,QAASA,EACT+E,WAAYA,EACZy/E,OAAQvxG,KAAKwvG,UAVfpH,KAAAA,cAACsT,GAAY,CAACj1B,WAAYA,EAAY43B,sBAAuBA,KAelElyG,GAAYi8F,KAAAA,cAAA,OAAKC,UAAU,qBAAqBl8F,IAIzD,KAACiyG,CAAA,CArIgB,CACwB5S,GAAAA,aAAS5C,G,qgCCRpD,ICcM0V,GAAiB,CAAC,EACxBA,GAAc,SAA0B,MDwGpB,SAAAC,IAAA7jG,EAAAA,GAAAA,GAAA8jG,EAAAD,GAAA,IAAAE,EAAAC,GAAAF,GAChB,SAAAA,EAAY99F,GAAO,OAAAtU,EAAAA,GAAAA,GAAA,KAAAoyG,GAAAC,EAAAp9G,KAAA,KAAAgW,GAAAA,GAAA,GAEZqJ,GAAK,IACR6wF,OAAMl6F,GAAA,CACJoqC,aC7G8B,MD8G9B21D,YAAa,MACb1H,cAAephF,GAAAA,KAAAA,SACZA,GAAAA,WAA0B,OAGnC,CAAC,OAAAjiB,EAAAA,GAAAA,GAAAmyG,EAAA,CAXe,CAASV,KCvG7BQ,GAAc,QD2KM,SAAAK,IAAAjkG,EAAAA,GAAAA,GAAAkkG,EAAAD,GAAA,IAAAE,EAAAH,GAAAE,GAChB,SAAAA,EAAYl+F,GAAO,OAAAtU,EAAAA,GAAAA,GAAA,KAAAwyG,GAAAC,EAAAx9G,KAAA,KAAAgW,GAAAA,GAAA,GAEZqJ,GAAK,IACR6wF,OAAMl6F,GAAA,CACJoqC,aChL8B,MDiL9B21D,YAAa,MACb1H,cAAephF,GAAAA,KAAAA,SACZA,GAAAA,WAA0B,OAGnC,CAAC,OAAAjiB,EAAAA,GAAAA,GAAAuyG,EAAA,CAXe,CAASR,IC1K7BE,GAAc,UDuHQ,SAAAQ,IAAApkG,EAAAA,GAAAA,GAAAqkG,EAAAD,GAAA,IAAAE,EAAAN,GAAAK,GAClB,SAAAA,EAAYr+F,GAAO,OAAAtU,EAAAA,GAAAA,GAAA,KAAA2yG,GAAAC,EAAA39G,KAAA,KAAAgW,GAAAA,GAAA,GAEZqJ,GAAK,IACR6wF,OAAMl6F,GAAA,CACJoqC,aC5HkC,MD6HlC21D,YAAa,QACb1H,cAAephF,GAAAA,KAAAA,WACZA,GAAAA,WAA0B,OAGnC,CAAC,OAAAjiB,EAAAA,GAAAA,GAAA0yG,EAAA,CAXiB,CAASjB,ICtH/BQ,GAAc,UD0LQ,SAAAW,IAAAvkG,EAAAA,GAAAA,GAAAwkG,EAAAD,GAAA,IAAAE,EAAAT,GAAAQ,GAClB,SAAAA,EAAYx+F,GAAO,OAAAtU,EAAAA,GAAAA,GAAA,KAAA8yG,GAAAC,EAAA99G,KAAA,KAAAgW,GAAAA,GAAA,GAEZqJ,GAAK,IACR6wF,OAAMl6F,GAAA,CACJoqC,aC/LkC,MDgMlC21D,YAAa,QACb1H,cAAephF,GAAAA,KAAAA,WACZA,GAAAA,WAA0B,OAGnC,CAAC,OAAAjiB,EAAAA,GAAAA,GAAA6yG,EAAA,CAXiB,CAASd,ICzL/BE,GAAc,aDsIW,SAAAc,IAAA1kG,EAAAA,GAAAA,GAAA2kG,EAAAD,GAAA,IAAAE,EAAAZ,GAAAW,GACrB,SAAAA,EAAY3+F,GAAO,OAAAtU,EAAAA,GAAAA,GAAA,KAAAizG,GAAAC,EAAAj+G,KAAA,KAAAgW,GAAAA,GAAA,GAEZqJ,GAAK,IACR6wF,OAAMl6F,GAAA,CACJoqC,aC3IwC,MD4IxC21D,YAAa,WACb1H,cAAephF,GAAAA,KAAAA,UACZA,GAAAA,WAA0B,OAGnC,CAAC,OAAAjiB,EAAAA,GAAAA,GAAAgzG,EAAA,CAXoB,CAASvB,ICrIlCQ,GAAc,aDyMW,SAAAiB,IAAA7kG,EAAAA,GAAAA,GAAA8kG,EAAAD,GAAA,IAAAE,EAAAf,GAAAc,GACrB,SAAAA,EAAY9+F,GAAO,OAAAtU,EAAAA,GAAAA,GAAA,KAAAozG,GAAAC,EAAAp+G,KAAA,KAAAgW,GAAAA,GAAA,GAEZqJ,GAAK,IACR6wF,OAAMl6F,GAAA,CACJoqC,aC9MwC,MD+MxC21D,YAAa,WACb1H,cAAephF,GAAAA,KAAAA,UACZA,GAAAA,WAA0B,OAGnC,CAAC,OAAAjiB,EAAAA,GAAAA,GAAAmzG,EAAA,CAXoB,CAASpB,ICvMlCltG,OAAOtL,KAAK0oB,GAAAA,YAAmBprB,SAAQ,SAAA6Y,GACrCuiG,GAAe,GAAD57G,OAAIqZ,EAAKc,cAAa,SD8ElB,SAAC6oC,GAcnB,OAbkB,SAAAg6D,IAAAhlG,EAAAA,GAAAA,GAAAilG,EAAAD,GAAA,IAAAE,EAAAlB,GAAAiB,GAChB,SAAAA,EAAYj/F,GAAO,OAAAtU,EAAAA,GAAAA,GAAA,KAAAuzG,GAAAC,EAAAv+G,KAAA,KAAAgW,GAAAA,GAAA,GAEZqJ,GAAK,IACR6wF,OAAMl6F,GAAA,CACJoqC,aAAciE,EACd0xD,YAAa,MACb1H,cAAephF,GAAAA,KAAAA,WACZA,GAAAA,WAAkBo3B,MAG3B,CAAC,OAAAr5C,EAAAA,GAAAA,GAAAszG,EAAA,CAXe,CAAS7B,GAc7B,CC7FgD+B,CAAY9jG,GAC1DuiG,GAAe,OAAD57G,OAAQqZ,EAAKc,gBDiJT,SAAC6oC,GAcnB,OAbkB,SAAAo6D,IAAAplG,EAAAA,GAAAA,GAAAqlG,EAAAD,GAAA,IAAAE,EAAAtB,GAAAqB,GAChB,SAAAA,EAAYr/F,GAAO,OAAAtU,EAAAA,GAAAA,GAAA,KAAA2zG,GAAAC,EAAA3+G,KAAA,KAAAgW,GAAAA,GAAA,GAEZqJ,GAAK,IACR6wF,OAAMl6F,GAAA,CACJoqC,aAAciE,EACd0xD,YAAa,MACb1H,cAAephF,GAAAA,KAAAA,WACZA,GAAAA,WAAkBo3B,MAG3B,CAAC,OAAAr5C,EAAAA,GAAAA,GAAA0zG,EAAA,CAXe,CAAS3B,GAc7B,CChKgD6B,CAAYlkG,GAE1D7K,OAAOtL,KAAK0oB,GAAAA,OAAcprB,SAAQ,SAAAqyC,GAChC+oE,GAAe,QAAD57G,OAAS6yC,EAAU14B,cAAa,KAAAna,OAAIqZ,EAAKc,gBDuBrC,SAAC6oC,GAcrB,OAboB,SAAAw6D,IAAAxlG,EAAAA,GAAAA,GAAAylG,EAAAD,GAAA,IAAAE,EAAA1B,GAAAyB,GAClB,SAAAA,EAAYz/F,GAAO,OAAAtU,EAAAA,GAAAA,GAAA,KAAA+zG,GAAAC,EAAA/+G,KAAA,KAAAgW,GAAAA,GAAA,GAEZqJ,GAAK,IACR6wF,OAAMl6F,GAAA,CACJoqC,aAAciE,EACd0xD,YAAa,MACb1H,cAAephF,GAAAA,KAAAA,WACZA,GAAAA,WAAkBo3B,MAG3B,CAAC,OAAAr5C,EAAAA,GAAAA,GAAA8zG,EAAA,CAXiB,CAAS9C,GAc/B,CCtC8EgD,CAActkG,GACxFuiG,GAAe,GAAD57G,OAAIqZ,EAAKc,cAAa,UAAAna,OAAS6yC,EAAU14B,gBD5BrC,SAAC6oC,GAcrB,OAboB,SAAA46D,IAAA5lG,EAAAA,GAAAA,GAAA6lG,EAAAD,GAAA,IAAA3lG,EAAA+jG,GAAA6B,GAClB,SAAAA,EAAY7/F,GAAO,OAAAtU,EAAAA,GAAAA,GAAA,KAAAm0G,GAAA5lG,EAAAtZ,KAAA,KAAAgW,GAAAA,GAAA,GAEZqJ,GAAK,IACR6wF,OAAMl6F,GAAA,CACJoqC,aAAciE,EACd0xD,YAAa,MACb1H,cAAephF,GAAAA,KAAAA,WACZA,GAAAA,WAAkBo3B,MAG3B,CAAC,OAAAr5C,EAAAA,GAAAA,GAAAk0G,EAAA,CAXiB,CAASjE,GAc/B,CCa8EkE,CAAczkG,EAC1F,GACF,IAEA7K,OAAOtL,KAAK0oB,GAAAA,OAAcprB,SAAQ,SAAAqyC,GAChC+oE,GAAe,QAAD57G,OAAS6yC,EAAU14B,cAAa,SDmC1B,SAAA4jG,IAAA/lG,EAAAA,GAAAA,GAAAgmG,EAAAD,GAAA,IAAAE,EAAAjC,GAAAgC,GAClB,SAAAA,EAAYhgG,GAAO,OAAAtU,EAAAA,GAAAA,GAAA,KAAAs0G,GAAAC,EAAAt/G,KAAA,KAAAgW,GAAAA,GAAA,GAEZqJ,GAAK,IACR6wF,OAAMl6F,GAAA,CACJoqC,aCxC8D,MDyC9D21D,YAAa,MACb1H,cAAephF,GAAAA,KAAAA,SACZA,GAAAA,WAA0B,OAGnC,CAAC,OAAAjiB,EAAAA,GAAAA,GAAAq0G,EAAA,CAXiB,CAASrD,IClC7BiB,GAAe,YAAD57G,OAAa6yC,EAAU14B,gBDhBjB,SAAA+jG,IAAAlmG,EAAAA,GAAAA,GAAAmmG,EAAAD,GAAA,IAAAE,EAAApC,GAAAmC,GAClB,SAAAA,EAAYngG,GAAO,OAAAtU,EAAAA,GAAAA,GAAA,KAAAy0G,GAAAC,EAAAz/G,KAAA,KAAAgW,GAAAA,GAAA,GAEZqJ,GAAK,IACR6wF,OAAMl6F,GAAA,CACJoqC,aCW8D,MDV9D21D,YAAa,MACb1H,cAAephF,GAAAA,KAAAA,SACZA,GAAAA,WAA0B,OAGnC,CAAC,OAAAjiB,EAAAA,GAAAA,GAAAw0G,EAAA,CAXiB,CAASvE,GCiB/B,IACAprG,OAAOtL,KAAK0oB,GAAAA,YAAmBprB,SAAQ,SAAAqyC,GACrC+oE,GAAe,UAAD57G,OAAW6yC,EAAU14B,cAAa,SDgDvB,SAAAkkG,IAAArmG,EAAAA,GAAAA,GAAAsmG,EAAAD,GAAA,IAAAE,EAAAvC,GAAAsC,GACvB,SAAAA,EAAYtgG,GAAO,OAAAtU,EAAAA,GAAAA,GAAA,KAAA40G,GAAAC,EAAA5/G,KAAA,KAAAgW,GAAAA,GAAA,GAEZqJ,GAAK,IACR6wF,OAAMl6F,GAAA,CACJoqC,aCrDqE,MDsDrE21D,YAAa,QACb1H,cAAephF,GAAAA,KAAAA,WACZA,GAAAA,WAA0B,OAGnC,CAAC,OAAAjiB,EAAAA,GAAAA,GAAA20G,EAAA,CAXsB,CAAS3D,IC/ClCiB,GAAe,cAAD57G,OAAe6yC,EAAU14B,gBDJd,SAAAqkG,IAAAxmG,EAAAA,GAAAA,GAAAymG,EAAAD,GAAA,IAAAE,EAAA1C,GAAAyC,GACvB,SAAAA,EAAYzgG,GAAO,OAAAtU,EAAAA,GAAAA,GAAA,KAAA+0G,GAAAC,EAAA//G,KAAA,KAAAgW,GAAAA,GAAA,GAEZqJ,GAAK,IACR6wF,OAAMl6F,GAAA,CACJoqC,aCDqE,MDErE21D,YAAa,QACb1H,cAAephF,GAAAA,KAAAA,WACZA,GAAAA,WAA0B,OAGnC,CAAC,OAAAjiB,EAAAA,GAAAA,GAAA80G,EAAA,CAXsB,CAAS7E,GCKpC,IAEA7wF,OAAO6yF,eAAiBA,G,oQChDlB+C,GAAW,sB,0CCEjB,kBAAgBC,GACd,IAAIlyE,EAAUkyE,EAId,OAHK19G,GAAO29G,SAASnyE,KACnBA,EAAUxrC,GAAOC,KAAKurC,IAEjBA,CACR,ECRW,IAAAoyE,GAAA,SAAAC,GAAA57G,EAAA67G,IAAA,MAAAA,GAAAA,EAAA77G,EAAA5F,UAAAyhH,EAAA77G,EAAA5F,QAAA,QAAAF,EAAA,EAAA4hH,EAAA,IAAAvhH,MAAAshH,GAAA3hH,EAAA2hH,EAAA3hH,IAAA4hH,EAAA5hH,GAAA8F,EAAA9F,GAAA,OAAA4hH,CAAA,UAAAC,GAAAC,GAAA,IAAAhkF,EAAAikF,EAAAC,EAAAC,EAAA,0BAAAC,SAAAH,EAAAG,OAAAC,cAAAH,EAAAE,OAAAE,UAAAH,KAAA,IAAAF,GAAA,OAAAjkF,EAAAgkF,EAAAC,IAAA,OAAAjkF,EAAAx8B,KAAAwgH,GAAA,GAAAE,GAAA,OAAAlkF,EAAAgkF,EAAAE,IAAA,WAAAK,GAAAvkF,EAAAx8B,KAAAwgH,IAAAC,EAAA,kBAAAC,EAAA,uBAAAM,UAAA,yCAAAD,GAAA3gD,GAAA,SAAA6gD,EAAAC,GAAA,GAAArxG,OAAAqxG,KAAAA,EAAA,OAAAxhG,QAAAqB,OAAA,IAAAigG,UAAAE,EAAA,2BAAA7gD,EAAA6gD,EAAA7gD,KAAA,OAAA3gD,QAAAI,QAAAohG,EAAAh8G,OAAAw6B,MAAA,SAAAx6B,GAAA,OAAAA,MAAAA,EAAAm7D,KAAAA,EAAA,WAAA0gD,GAAA,SAAA3gD,GAAA,KAAAA,EAAAA,EAAA,KAAAvgE,EAAAugE,EAAAn7D,IAAA,EAAA87G,GAAAxiH,UAAA,CAAA6hE,EAAA,KAAAvgE,EAAA,KAAAoF,KAAA,kBAAAg8G,EAAA,KAAAphH,EAAA6e,MAAA,KAAA0hD,EAAA1gE,WAAA,kBAAAwF,GAAA,IAAA5E,EAAA,KAAA8/D,EAAA,uBAAA9/D,EAAAof,QAAAI,QAAA,CAAA5a,MAAAA,EAAAm7D,MAAA,IAAA4gD,EAAA3gH,EAAAoe,MAAA,KAAA0hD,EAAA1gE,WAAA,iBAAAwF,GAAA,IAAAi8G,EAAA,KAAA/gD,EAAA,uBAAA+gD,EAAAzhG,QAAAqB,OAAA7b,GAAA+7G,EAAAE,EAAAziG,MAAA,KAAA0hD,EAAA1gE,WAAA,OAAAqhH,GAAA3gD,EAAA,CAOqB,IAKZghD,GAAU,SAAAhoG,IAAAC,EAAAA,GAAAA,GAAA+nG,EAAAhoG,GAAA,IAqC5BioG,EAjDSC,EAAAC,EAYmBjoG,GAZnBgoG,EAYmBF,EAZnBG,EAAA,kCAAAC,UAAAA,QAAAC,UAAA,YAAAD,QAAAC,UAAAC,KAAA,+BAAAC,MAAA,oBAAA1oG,QAAA1a,UAAAqjH,QAAA5hH,KAAAwhH,QAAAC,UAAAxoG,QAAA,6BAAArP,GAAA,UAAAi4G,GAAA,eAAAlhH,EAAAmhH,GAAAhvD,EAAAA,GAAAA,GAAAwuD,GAAA,GAAAC,EAAA,KAAAQ,GAAAjvD,EAAAA,GAAAA,GAAA,MAAAkvD,YAAArhH,EAAA6gH,QAAAC,UAAAK,EAAApiH,UAAAqiH,EAAA,MAAAphH,EAAAmhH,EAAApjG,MAAA,KAAAhf,WAAA,OAAAuiH,EAAAA,GAAAA,GAAA,KAAAthH,EAAA,GAoBV,SAAAygH,EAAac,EAAUC,EAAQ5qG,GAAM,IAAAjM,EAMX,OANWP,EAAAA,GAAAA,GAAA,KAAAq2G,GACnC91G,EAAAgO,EAAAtZ,KAAA,OAAO8X,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBACPA,EAAK82G,UAAYF,EACjB52G,EAAK+2G,QAAUF,EACf72G,EAAKg3G,MAAQ/qG,EACbjM,EAAKi3G,YAAc,KACnBj3G,EAAKk3G,aAAc,EAAKl3G,CAC1B,CAkEC,OAlEAN,EAAAA,GAAAA,GAAAo2G,EAAA,EAAA/+G,IAAA,OAAA6C,MAED,SAAK6oC,GAAS,IAAAnzB,EAAA,KACRjc,KAAK4jH,YACP5jH,KAAK4jH,YAAY1jH,KAAK4jH,GAAS10E,KAKjCpvC,KAAK2tD,KAAK,WAAW,WACnB1xC,EAAK/b,KAAKkvC,EACZ,IAEKpvC,KAAK6jH,aACR7jH,KAAK+jH,WAET,GAAC,CAAArgH,IAAA,OAAA6C,MAED,WACMvG,KAAK4jH,aACP5jH,KAAK4jH,YAAYtkF,KAErB,GAAC,CAAA57B,IAAA,WAAA6C,OAAAm8G,GAAA1hG,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAkB,IAAA,IAAA6hG,EAAAC,EAAAC,EAAA7nG,EAAA,YAAA4E,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,OACyB,GAAvBtG,KAAK6jH,aAAc,EAEd7jH,KAAKmkH,uBAAwB,CAAF9hG,EAAA/b,KAAA,QAEN,OADxBtG,KAAKwpD,KAAK,cACVxpD,KAAK6jH,aAAc,EAAKxhG,EAAAJ,OAAA,iBAIiC,OAArD+hG,EAAWhkH,KAAK0jH,QAAQU,UAAU56G,IAAIxJ,KAAKyjH,WAAUphG,EAAA/b,KAAA,EAExCtG,KAAK0jH,QAAQW,aAAaL,EAAS/5G,GAAIo3G,IAAS,OAA7D4C,EAAI5hG,EAAAX,KAEFwiG,EAAWD,EAAXC,OAERlkH,KAAK4jH,YAAc,IAAIU,GAEvBC,KAAKvkH,KAAK4jH,YAAaM,EAAM,eAAA33G,GAAAyU,EAAAA,EAAAA,GAAAC,IAAAA,MAAE,SAAAO,EAAO82D,GAAM,IAAAksC,EAAAC,EAAAC,EAAAnjD,EAAAP,EAAA5xB,EAAA,OAAAnuB,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OAC1C+V,EAAKwnG,aAAc,EACnBxnG,EAAKmtC,KAAK,UAAWntC,EAAKunG,aAAYY,GAAA,EAAAC,GAAA,EAAAhjG,EAAAxZ,KAAA,EAAAs5D,EAAAqgD,GAEVtpC,GAAM,cAAA72D,EAAAnb,KAAA,EAAAi7D,EAAAj7D,OAAA,YAAAk+G,IAAAxjD,EAAAv/C,EAAAC,MAAAggD,MAAA,CAAAjgD,EAAAnb,KAAA,SAAjB8oC,EAAO4xB,EAAAz6D,MACtB8V,EAAKmtC,KAAK,UAAWpa,GAAQ,QAAAo1E,GAAA,EAAA/iG,EAAAnb,KAAA,gBAAAmb,EAAAnb,KAAA,iBAAAmb,EAAAxZ,KAAA,GAAAwZ,EAAAgC,GAAAhC,EAAA,SAAAgjG,GAAA,EAAAC,EAAAjjG,EAAAgC,GAAA,WAAAhC,EAAAxZ,KAAA,GAAAwZ,EAAAxZ,KAAA,IAAAu8G,GAAA,MAAAjjD,EAAA,QAAA9/C,EAAAnb,KAAA,gBAAAmb,EAAAnb,KAAA,GAAAi7D,EAAA,oBAAA9/C,EAAAxZ,KAAA,IAAAw8G,EAAA,CAAAhjG,EAAAnb,KAAA,eAAAo+G,EAAA,eAAAjjG,EAAAwuF,OAAA,mBAAAxuF,EAAAwuF,OAAA,6BAAAxuF,EAAAJ,OAAA,GAAAG,EAAA,qCAEhC,gBAAAG,GAAA,OAAApV,EAAAwT,MAAA,KAAAhf,UAAA,EAP4B,IAQ1BggC,MAAK,WACJ1kB,EAAKmtC,KAAK,aACZ,GAAC,eAAA97C,GAAAsT,EAAAA,EAAAA,GAAAC,IAAAA,MAAE,SAAAC,EAAO5iB,GAAG,OAAA2iB,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,cAAAib,EAAAtZ,KAAA,EAAAsZ,EAAAjb,KAAA,EAEH+V,EAAK0nG,WAAU,OAAAxiG,EAAAjb,KAAA,eAAAib,EAAAtZ,KAAA,EAAAsZ,EAAAkC,GAAAlC,EAAA,SAErB3H,QAAQ4jB,IAAI,kBAAiB,wBAAAjc,EAAAF,OAAA,GAAAH,EAAA,kBAEhC,gBAAAsB,GAAA,OAAA9U,EAAAqS,MAAA,KAAAhf,UAAA,EANA,IAMC,yBAAAshB,EAAAhB,OAAA,GAAAc,EAAA,UACL,kBAAAugG,EAAA3iG,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,uBAAA6C,MAED,WAAuB,IAC+Bo7D,EAD/BC,EAvFb,SAAA+iD,EAAAC,GAAA,IAAAC,EAAA,oBAAA5C,QAAA0C,EAAA1C,OAAAE,WAAAwC,EAAA,kBAAAE,EAAA,IAAAzkH,MAAAsxB,QAAAizF,KAAAE,EAAA,SAAAF,EAAAG,GAAA,GAAAH,EAAA,qBAAAA,EAAA,OAAAlD,GAAAkD,EAAAG,GAAA,IAAA5jH,EAAAgQ,OAAAtR,UAAAY,SAAAa,KAAAsjH,GAAApjH,MAAA,uBAAAL,GAAAyjH,EAAAtB,cAAAniH,EAAAyjH,EAAAtB,YAAA1uG,MAAA,QAAAzT,GAAA,QAAAA,EAAAd,MAAAyD,KAAA8gH,GAAA,cAAAzjH,GAAA,2CAAA+M,KAAA/M,GAAAugH,GAAAkD,EAAAG,QAAA,GAAAC,CAAAJ,KAAAC,GAAAD,GAAA,iBAAAA,EAAA1kH,OAAA,CAAA4kH,IAAAF,EAAAE,GAAA,IAAA9kH,EAAA,EAAAilH,EAAA,oBAAAvjD,EAAAujD,EAAA9jH,EAAA,kBAAAnB,GAAA4kH,EAAA1kH,OAAA,CAAAyhE,MAAA,IAAAA,MAAA,EAAAn7D,MAAAo+G,EAAA5kH,KAAA,EAAAkL,EAAA,SAAAg6G,GAAA,MAAAA,CAAA,EAAA7hH,EAAA4hH,EAAA,WAAA3C,UAAA,6IAAA/jH,EAAA4mH,GAAA,EAAAC,GAAA,SAAA1jD,EAAA,WAAAojD,EAAAA,EAAAxjH,KAAAsjH,EAAA,EAAAzjH,EAAA,eAAA+yB,EAAA4wF,EAAAv+G,OAAA,OAAA4+G,EAAAjxF,EAAAytC,KAAAztC,CAAA,EAAAhpB,EAAA,SAAAm6G,GAAAD,GAAA,EAAA7mH,EAAA8mH,CAAA,EAAAhiH,EAAA,eAAA8hH,GAAA,MAAAL,EAAA,QAAAA,EAAA,oBAAAM,EAAA,MAAA7mH,CAAA,IAuFakjE,CACAxhE,KAAK0jH,QAAQ2B,YAAYz/G,QAAM,IAApD,IAAAg8D,EAAAH,MAAAE,EAAAC,EAAA1gE,KAAAwgE,MACE,GADeC,EAAAp7D,QACAvG,KAAKyjH,UAAU6B,aAC5B,OAAO,CAEV,OAAAhnH,GAAAsjE,EAAA32D,EAAA3M,EAAA,SAAAsjE,EAAAx+D,GAAA,CACH,KAACq/G,CAAA,CAjF4B,CAAS9jG,GAAAA,cAAT6iG,GA8F5BS,OAAOC,cAAa,IAVjBoC,GAAgB,WAMpB,SAAAA,KAAel4G,EAAAA,GAAAA,GAAA,KAAAk4G,IAAAnrG,EAAAA,EAAAA,GAAA,uBAAAA,EAAAA,EAAAA,GAAA,uBAAAA,EAAAA,EAAAA,GAAA,wBACbnZ,KAAKulH,OAAS,EAChB,CA+CC,OA/CAl5G,EAAAA,GAAAA,GAAAi4G,EAAA,EAAA5gH,IAAA89G,GAAAj7G,MAED,WACE,OAAOvG,IACT,GAAC,CAAA0D,IAAA,OAAA6C,MAED,SAAK6oC,GACH,GAAIpvC,KAAKwlH,OACP,MAAM,IAAIjnH,MAAM,uBAGlB,GAAIyB,KAAKylH,SACP,OAAOzlH,KAAKylH,SAAS,CACnB/jD,MAAM,EACNn7D,MAAO6oC,IAIXpvC,KAAKulH,OAAOrlH,KAAKkvC,EACnB,GAAC,CAAA1rC,IAAA,MAAA6C,MAED,WACEvG,KAAKwlH,QAAS,EACVxlH,KAAKylH,UACPzlH,KAAKylH,SAAS,CACZ/jD,MAAM,GAGZ,GAAC,CAAAh+D,IAAA,OAAA6C,MAED,WAAO,IAAAwW,EAAA,KACL,OAAI/c,KAAKwlH,OACA,CACL9jD,MAAM,GAIN1hE,KAAKulH,OAAOtlH,OACP,CACLyhE,MAAM,EACNn7D,MAAOvG,KAAKulH,OAAO7kF,SAIhB,IAAI3f,SAAQ,SAACI,GAClBpE,EAAK0oG,SAAWtkG,CAClB,GACF,KAACmjG,CAAA,CAvDmB,G,mBChGV,SAAA1C,GAAAC,GAAA,IAAAhkF,EAAAikF,EAAAC,EAAAC,EAAA,0BAAAC,SAAAH,EAAAG,OAAAC,cAAAH,EAAAE,OAAAE,UAAAH,KAAA,IAAAF,GAAA,OAAAjkF,EAAAgkF,EAAAC,IAAA,OAAAjkF,EAAAx8B,KAAAwgH,GAAA,GAAAE,GAAA,OAAAlkF,EAAAgkF,EAAAE,IAAA,WAAAK,GAAAvkF,EAAAx8B,KAAAwgH,IAAAC,EAAA,kBAAAC,EAAA,uBAAAM,UAAA,yCAAAD,GAAA3gD,GAAA,SAAA6gD,EAAAC,GAAA,GAAArxG,OAAAqxG,KAAAA,EAAA,OAAAxhG,QAAAqB,OAAA,IAAAigG,UAAAE,EAAA,2BAAA7gD,EAAA6gD,EAAA7gD,KAAA,OAAA3gD,QAAAI,QAAAohG,EAAAh8G,OAAAw6B,MAAA,SAAAx6B,GAAA,OAAAA,MAAAA,EAAAm7D,KAAAA,EAAA,WAAA0gD,GAAA,SAAA3gD,GAAA,KAAAA,EAAAA,EAAA,KAAAvgE,EAAAugE,EAAAn7D,IAAA,EAAA87G,GAAAxiH,UAAA,CAAA6hE,EAAA,KAAAvgE,EAAA,KAAAoF,KAAA,kBAAAg8G,EAAA,KAAAphH,EAAA6e,MAAA,KAAA0hD,EAAA1gE,WAAA,kBAAAwF,GAAA,IAAA5E,EAAA,KAAA8/D,EAAA,uBAAA9/D,EAAAof,QAAAI,QAAA,CAAA5a,MAAAA,EAAAm7D,MAAA,IAAA4gD,EAAA3gH,EAAAoe,MAAA,KAAA0hD,EAAA1gE,WAAA,iBAAAwF,GAAA,IAAAi8G,EAAA,KAAA/gD,EAAA,uBAAA+gD,EAAAzhG,QAAAqB,OAAA7b,GAAA+7G,EAAAE,EAAAziG,MAAA,KAAA0hD,EAAA1gE,WAAA,OAAAqhH,GAAA3gD,EAAA,CAKZ,IAAMikD,GAAU,IAAI/mG,MAwCpB,UACES,QAvCF,SAAgB7S,GAA0B,IAAtBm7C,EAAUn7C,EAAVm7C,WAAYw8D,EAAM33G,EAAN23G,OACxByB,EAASj+D,EAAWk+D,WAAWC,cAErCtB,KACEL,EAAM,eAAAx2G,GAAAsT,EAAAA,EAAAA,GAAAC,IAAAA,MACN,SAAAO,EAAgB82D,GAAM,IAAAksC,EAAAC,EAAAC,EAAAoB,EAAAvkD,EAAAP,EAAA,OAAA//C,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OAAAk+G,GAAA,EAAAC,GAAA,EAAAljG,EAAAtZ,KAAA,EAAA69G,EAAA7kG,IAAAA,MAAA,SAAA6kG,IAAA,IAAA12E,EAAA0/D,EAAAiX,EAAA,OAAA9kG,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OACH8oC,EAAO4xB,EAAAz6D,MAAAkb,EAAAxZ,KAAA,EAIpB6mG,EAAMr1F,KAAKE,MAAMy1B,EAAQ5uC,YAAWihB,EAAAnb,KAAA,eAEA,OAFAmb,EAAAxZ,KAAA,EAAAwZ,EAAAgC,GAAAhC,EAAA,SAEpCikG,GAAQl8D,KAAK,UAAW/nC,EAAAgC,GAAI2rB,SAAQ3tB,EAAAQ,OAAA,+BAIlC0jG,IAAW7W,EAAIjrG,KAAKoG,GAAE,CAAAwX,EAAAnb,KAAA,SAC8B,OAAtDo/G,GAAQl8D,KAAK,UAAW,mBAAqBslD,EAAIjrG,MAAK4d,EAAAQ,OAAA,6BAI3B,GAAvB8jG,EAAWjX,EAAIiX,SAChB3lH,MAAMsxB,QAAQq0F,GAAW,CAAFtkG,EAAAnb,KAAA,SACa,OAAvCo/G,GAAQl8D,KAAK,UAAW,gBAAe/nC,EAAAQ,OAAA,6BAIzC6sF,EAAI7nG,KAAOrD,GAAOC,KAAKirG,EAAI7nG,KAAM,OACjC6nG,EAAIkX,MAAQpiH,GAAOC,KAAKirG,EAAIkX,MAAO,OAEnCD,EAAS7iH,SAAQ,SAAC+iH,GAChBP,GAAQl8D,KAAKy8D,EAAOnX,EACtB,IAAE,yBAAArtF,EAAAJ,OAAA,GAAAykG,EAAA,iBAAAvkD,EAAAqgD,GA1BwBtpC,GAAM,cAAA/2D,EAAAjb,KAAA,EAAAi7D,EAAAj7D,OAAA,YAAAk+G,IAAAxjD,EAAAz/C,EAAAG,MAAAggD,MAAA,CAAAngD,EAAAjb,KAAA,gBAAAib,EAAA2kG,cAAAJ,IAAA,+BAAAvkG,EAAAkC,GAAA,CAAAlC,EAAAjb,KAAA,gBAAAib,EAAAU,OAAA,uBAAAuiG,GAAA,EAAAjjG,EAAAjb,KAAA,gBAAAib,EAAAjb,KAAA,iBAAAib,EAAAtZ,KAAA,GAAAsZ,EAAA+nB,GAAA/nB,EAAA,SAAAkjG,GAAA,EAAAC,EAAAnjG,EAAA+nB,GAAA,WAAA/nB,EAAAtZ,KAAA,GAAAsZ,EAAAtZ,KAAA,IAAAu8G,GAAA,MAAAjjD,EAAA,QAAAhgD,EAAAjb,KAAA,gBAAAib,EAAAjb,KAAA,GAAAi7D,EAAA,oBAAAhgD,EAAAtZ,KAAA,IAAAw8G,EAAE,CAAFljG,EAAAjb,KAAA,eAAAo+G,EAAA,eAAAnjG,EAAA0uF,OAAA,mBAAA1uF,EAAA0uF,OAAA,6BAAA1uF,EAAAF,OAAA,GAAAG,EAAA,qCA4BnC,gBAAAG,GAAA,OAAAjU,EAAAqS,MAAA,KAAAhf,UAAA,EA9BK,GAgCV,EAIE2kH,QAASA,I,uBCpCW,oBAAXj6F,SACTA,OAAO06F,OAASA,MAIlB,IAAMC,GAAkB,CACtBC,aAAc,KAGZ9+G,GAAQ,EAES++G,GAAU,SAAA7rG,IAAAC,EAAAA,GAAAA,GAAA4rG,EAAA7rG,GAAA,IA2H5B8rG,EAnDAC,EAVAC,E,IA9D4B9rG,G,EAAA2rG,E,maAU7B,SAAAA,EAAa9C,EAAQyC,EAAOrrG,GAAS,IAAAjO,EAWnC,IAXmCP,EAAAA,GAAAA,GAAA,KAAAk6G,GACnC35G,EAAAgO,EAAAtZ,KAAA,OAAO8X,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,0BAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eACPA,EAAK+2G,QAAUF,EAAOA,QAAUA,EAChC72G,EAAK+5G,OAAST,EACdt5G,EAAK+nD,SAAWxjD,OAAOy1G,OAAO,CAAC,GAAGC,EAAAA,GAAAA,WAAMR,KAAkBQ,EAAAA,GAAAA,WAAMhsG,IAChEjO,EAAKk6G,OAAS,GACdl6G,EAAKm6G,aAAe,CAAC,EAErBn6G,EAAKo6G,qBAAuBp6G,EAAKo6G,qBAAqBvnG,MAAI3E,EAAAA,GAAAA,GAAAlO,IAC1DA,EAAKq6G,eAAiBr6G,EAAKs6G,WAAWznG,MAAI3E,EAAAA,GAAAA,GAAAlO,KAErCA,EAAK+2G,QAAQwD,OAChB,MAAM,IAAI3oH,MAAM,kCA+BC,OA5BnBoO,EAAKw6G,UAAYltB,YACfttF,EAAKy6G,WAAW5nG,MAAI3E,EAAAA,GAAAA,GAAAlO,IACpBA,EAAK+nD,SAAS2xD,cAGhB15G,EAAK+2G,QAAQ2D,OAAOhG,GAAUiG,GAAAA,SAC9BA,GAAAA,QAAAA,GAA4B36G,EAAK+5G,OAAQ/5G,EAAKo6G,sBAE9Cp6G,EAAK+2G,QAAQwD,OAAOn8D,UAAUp+C,EAAK+5G,OAAQ/5G,EAAKq6G,gBAEhDr6G,EAAK+2G,QAAQ37D,GAAG,iBAAgB,eAAAx7C,GAAAyU,EAAAA,EAAAA,GAAAC,IAAAA,MAAE,SAAAkB,EAAOwjG,GAAM,IAAA4B,EAAA,OAAAtmG,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,OAC7B,OAAVihH,EAAU,eAAA75G,GAAAsT,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,EAAOykG,EAAQ6B,EAAWC,GAAS,OAAAxmG,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,cAAAib,EAAAtZ,KAAA,EAAAsZ,EAAAjb,KAAA,EAE5CqG,EAAK+2G,QAAQgE,OAAOC,cAAchC,GAAO,OAAApkG,EAAAjb,KAAA,mBAAAib,EAAAtZ,KAAA,EAAAsZ,EAAAkC,GAAAlC,EAAA,WAE3CimG,EAAYC,GAAS,CAAAlmG,EAAAjb,KAAA,eAAAib,EAAAU,OAAA,iBACzB7D,YAAU4C,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAO,IAAA,OAAAP,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,cAAAmb,EAAAnb,KAAA,EACHihH,EAAW5B,EAAQ6B,EAAU,EAAGC,GAAU,wBAAAhmG,EAAAJ,OAAA,GAAAG,EAAA,KAC/C,KAAK,yBAAAD,EAAAF,OAAA,GAAAH,EAAA,kBAEX,gBATesB,EAAAF,EAAAC,GAAA,OAAA7U,EAAAqS,MAAA,KAAAhf,UAAA,KAAAshB,EAAA/b,KAAG,EAUbihH,EAAW5B,EAAQ,EAAG,GAAE,wBAAAtjG,EAAAhB,OAAA,GAAAc,EAAA,KAC/B,gBAAAR,GAAA,OAAApV,EAAAwT,MAAA,KAAAhf,UAAA,EAZ+B,IAchC4L,EAAK+2G,QAAQ37D,GAAG,SAAS,SAAC58C,GACxByO,QAAQ4jB,IAAI,eAAgBryB,EAC9B,IAEAwB,EAAKi7G,KAAOrgH,KAAOoF,CACrB,CAoGC,OApGAN,EAAAA,GAAAA,GAAAi6G,EAAA,EAAA5iH,IAAA,WAAA6C,MAED,WACE,OAAOvG,KAAK6mH,OAAOtlH,MAAM,EAC3B,GAAC,CAAAmC,IAAA,UAAA6C,MAED,SAAS8gB,GACP,OAAO/M,QAAQta,KAAK6mH,OAAO7uE,MAAK,SAAA2kD,GAAC,OAAIA,EAAEn8F,aAAe6mB,EAAK7mB,UAAU,IACvE,GAAC,CAAAkD,IAAA,QAAA6C,OAAAkgH,GAAAzlG,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAa,IAAA,IAAA7F,EAAA,YAAAgF,IAAAA,MAAA,SAAAe,GAAA,cAAAA,EAAA/Z,KAAA+Z,EAAA1b,MAAA,OAM2D,OALzD+zF,cAAcr6F,KAAKmnH,WACnBj2G,OAAOtL,KAAK5F,KAAK8mH,cAAc5jH,SAAQ,SAACmkB,GACtCpL,EAAK6qG,aAAaz/F,GAAMhG,MAC1B,IACAimG,GAAAA,QAAAA,eAAwCtnH,KAAK0mH,OAAQ1mH,KAAK+mH,sBAC1D/mH,KAAK0jH,QAAQmE,SAASxG,GAAUiG,GAAAA,SAAyBtlG,EAAA1b,KAAA,EACnDtG,KAAK0jH,QAAQwD,OAAOznG,YAAYzf,KAAK0mH,OAAQ1mH,KAAKgnH,gBAAe,wBAAAhlG,EAAAX,OAAA,GAAAS,EAAA,UACxE,kBAAA2kG,EAAA1mG,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,YAAA6C,OAAAigH,GAAAxlG,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAA0B,EAAiB2+F,GAAQ,IAAAwG,EAAAzrG,EAAA,YAAA4E,IAAAA,MAAA,SAAAmC,GAAA,cAAAA,EAAAnb,KAAAmb,EAAA9c,MAAA,OACPw9G,GAASxC,IAEnBwG,EAAe9nH,KAAK0jH,QAAQwD,OAAOa,OAAOv+G,IAAIxJ,KAAK0mH,UAEvDoB,EAAa5kH,SAAQ,SAACyiH,GACpBtpG,EAAK2rG,OAAOrC,EAAQrE,EACtB,IACD,wBAAAl+F,EAAA/B,OAAA,GAAAsB,EAAA,UACF,SAAAe,GAAA,OAAA8iG,EAAAzmG,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,SAAA6C,MAED,SAAQ8gB,EAAM+nB,GAAS,IAIf64E,EAJelrG,EAAA,KACrB0nC,GAAc,CACZ9vC,KAAM,eAAFjS,OAAiB2kB,GACrBvG,MAAO,IACPu5B,MAAI4tE,GAAAjnG,EAAAA,EAAAA,GAAAC,IAAAA,MAAE,SAAAiD,IAAA,IAAAgkG,EAAAC,EAAAnC,EAAAlX,EAAA,OAAA7tF,IAAAA,MAAA,SAAAoD,GAAA,cAAAA,EAAApc,KAAAoc,EAAA/d,MAAA,UACCyW,EAAK2mG,QAAQU,UAAUgE,QAAQnhH,KAAKhB,IAAIohB,GAAO,CAAFhD,EAAA/d,KAAA,eAAA+d,EAAApC,OAAA,iBAG5CimG,EAASnrG,EAAK2mG,QAAQU,UAAUgE,QAAQnhH,KAAKuC,IAAI6d,IAEnD8gG,EAAOprG,EAAK+pG,aAAaz/F,OAG3B8gG,EAAO,IAAI1F,GAAWyF,EAAQnrG,EAAK2mG,QAAS3mG,IACvCgrC,GAAG,SAAS,SAACzpD,GAAG,OAAKye,EAAKysC,KAAK,QAASlrD,EAAI,IACjDye,EAAK+pG,aAAaz/F,GAAQ8gG,EAE1BA,EAAKx6D,KAAK,cAAc,kBACf5wC,EAAK+pG,aAAaz/F,GACzBtK,EAAK8pG,OAAS9pG,EAAK8pG,OAAOz3G,QAAO,SAACutF,GAAC,OAAKA,EAAEn8F,aAAe6mB,EAAK7mB,UAAU,IACxEuc,EAAKysC,KAAK,YAAaniC,EACzB,KAGI2+F,EAAQpiH,GAAOC,KAAK,CAAC,IAErBirG,EAAM,CACVn+D,GAAIu3E,EACJrkH,KAAMkZ,EAAK2mG,QAAQiC,OACnB1+G,KAAMrD,GAAOC,KAAKurC,GAAS5uC,SAAS,OACpCwlH,MAAOA,EAAMxlH,SAAS,OACtBulH,SAAU,CAAChpG,EAAK2pG,QAChB2B,UAAW,CAACtrG,EAAK2pG,SAGnByB,EAAKjoH,KAAK0D,GAAOC,KAAK4V,KAAKC,UAAUo1F,KAAM,wBAAAzqF,EAAAhD,OAAA,GAAA6C,EAAA,KAC5C,kBAAA+jG,EAAAloG,MAAA,KAAAhf,UAAA,IAEL,GAAC,CAAA2C,IAAA,aAAA6C,OAAAggH,GAAAvlG,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAA4C,IAAA,IAAAykG,EAAA,OAAArnG,IAAAA,MAAA,SAAAgD,GAAA,cAAAA,EAAAhc,KAAAgc,EAAA3d,MAAA,cAAA2d,EAAA3d,KAAA,EAC0BtG,KAAK0jH,QAAQwD,OAAOqB,eAAevoH,KAAK0mH,QAAO,OAAjE4B,EAAQrkG,EAAAvC,KAA2DwpB,OAErElrC,KAAKwoH,aAAaF,KACpBtoH,KAAK6mH,OAASyB,GACf,wBAAArkG,EAAA5C,OAAA,GAAAwC,EAAA,UACF,kBAAA0iG,EAAAxmG,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,eAAA6C,MAED,SAAc+hH,GAAU,IAAAhrG,EAAA,KAChBmrG,EAAcC,KAAK1oH,KAAK6mH,OAAQyB,GAKtC,OAHAG,EAAYE,MAAMzlH,SAAQ,SAACmkB,GAAI,OAAK/J,EAAKksC,KAAK,cAAeniC,EAAK,IAClEohG,EAAYG,QAAQ1lH,SAAQ,SAACmkB,GAAI,OAAK/J,EAAKksC,KAAK,YAAaniC,EAAK,IAE3DohG,EAAYE,MAAM1oH,OAAS,GAAKwoH,EAAYG,QAAQ3oH,OAAS,CACtE,GAAC,CAAAyD,IAAA,aAAA6C,MAED,SAAY6oC,GAEVpvC,KAAKwpD,KAAK,UAAWpa,EACvB,GAAC,CAAA1rC,IAAA,uBAAA6C,MAED,SAAsB6oC,GACpB,GAAIA,EAAQuB,GAAG1mC,KAAOjK,KAAK0jH,QAAQiC,OAAOL,aAAc,CACtD,IAAMzkH,EAAIqQ,OAAOy1G,OAAO,CAAC,EAAGv3E,UACrBvuC,EAAE8vC,GAET3wC,KAAKwpD,KAAK,UAAW3oD,EACvB,CACF,KAACylH,CAAA,CA1J4B,CAAS3nG,M,+NClBe,IAGjDkqG,GAAQ,SAAAhiG,IAAAnM,EAAAA,GAAAA,GAAAmuG,EAAAhiG,GAAA,I,IAAAlM,G,EAAAkuG,E,maAeZ,SAAAA,EAAYv6F,GAAQ,IAAA3hB,EAGlB,IAHkBP,EAAAA,GAAAA,GAAA,KAAAy8G,GAClBl8G,EAAAgO,EAAAtZ,KAAA,OAAO8X,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,0BAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAgFW,SAAC0a,GACfA,IAAS1a,EAAK0a,MAChB1a,EAAKi7C,QAAQC,SAAS,cAAexgC,EAEzC,KAAClO,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAEoB,SAAC0a,GAChBA,IAAS1a,EAAK0a,MAChB1a,EAAKi7C,QAAQC,SAAS,eAAgBxgC,EAE1C,KAAClO,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAEmB,SAACyiC,GACnB,IAAQvrC,EAAwBurC,EAAxBvrC,KAAYilH,EAAY15E,EAAlBnoC,KAId,GAHAqZ,KAAM,oBAANA,CAA2B,eAAgBzc,GAGvCA,IAAS8I,EAAK0a,KAAlB,CAIA,IAAI0hG,EAEJ,IACEA,EAAatvG,KAAKE,MAAMmvG,EAAQtoH,WAClC,CAAE,MAAOlC,GACPsb,QAAQzO,MAAM,0BAA2B7M,EAC3C,CAEA,IAAA0qH,EAAmDD,EAA3Cz+B,EAAW0+B,EAAX1+B,YAAarjF,EAAI+hH,EAAJ/hH,KAAMiyC,EAAI8vE,EAAJ9vE,KAAMh5B,EAAK8oG,EAAL9oG,MAAOW,EAAMmoG,EAANnoG,OAExC,GAAK5Z,EAAL,CAIAqZ,KAAM,oBAANA,CAA2B,QAASyoG,GAEpC,IAAME,EAAUt8G,EAAKu8G,gBAAgBjiH,EAAMiyC,GAEvC+vE,IAAY3+B,GAKD,WAAXzpE,GACFlU,EAAKw8G,mBAAmBJ,GAG1Bp8G,EAAKi7C,QAAQC,SAAS3nC,E,uWAAK7I,CAAA,CACzB2wC,SAAUnkD,EAAKoG,IACZhD,KAVH2S,QAAQzO,MAAM,qCAADzI,OAAsC4nF,EAAW,eAAA5nF,OAAcumH,GAP9E,CAdA,CAiCF,KAlIO36F,GAA4B,YAAlBxmB,EAAAA,EAAAA,GAAOwmB,IAAgD,YAAzBxmB,EAAAA,EAAAA,GAAOwmB,EAAOA,QACzD,MAAM,IAAI/vB,MAAM,qDASQ,OAN1BoO,EAAKwP,aAAiB,OACtBxP,EAAKy8G,QAAiB96F,EACtB3hB,EAAKi7C,QAAiB,IAAIE,GAAAA,GAC1Bn7C,EAAK0a,KAAiB,KACtB1a,EAAK+6C,WAAiB,KAEtB/6C,EAAK08G,SAAiB,KAAI18G,CAC5B,CAhBC,OAgBAN,EAAAA,GAAAA,GAAAw8G,EAAA,EAAAnlH,IAAA,cAAA6C,MAED,WAAc,IAAA0V,EAAA,MC3BM,SAACrB,GACrB,IACE0uG,EAGE1uG,EAHF0uG,OACAC,EAEE3uG,EAFF2uG,eACAC,EACE5uG,EADF4uG,WAGIC,EAAgB,CAMpB,qDAGIC,EAAwB,CAC5B,iGACA,iGACA,iGACA,iGACA,iGACA,kGAgBF,OAAO,IAAI3oG,QAAO,eAAAxU,GAAAyU,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAO,EAAOL,EAASiB,GAAM,IAAAujG,EAAAgE,EAAA,OAAA1oG,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OAEtB,GAAbq/G,EAAS,MACT6D,EAAY,CAAF/nG,EAAAnb,KAAA,gBAAAmb,EAAAxZ,KAAA,EAAAwZ,EAAAnb,KAAA,EAGK6/G,KAAAA,eAAsBqD,GAAW,OAAhD7D,EAAMlkG,EAAAC,KAAAD,EAAAnb,KAAG,GAAH,aAAAmb,EAAAxZ,KAAG,EAAHwZ,EAAAgC,GAAAhC,EAAA,oBAILkkG,EAAQ,CAAFlkG,EAAAnb,KAAA,gBAAAmb,EAAAnb,KAAA,GAEM6/G,KAAAA,SAAe,QAA9BR,EAAMlkG,EAAAC,KAAA,QAIR9H,QAAQ4jB,IAAI,WAAYmoF,EAAOL,cAEzBqE,EAAU,IAAIC,KAAJ,CAAW,CAEzBjE,OAAAA,EACArxE,UAAW,CACTg1E,OAASA,GAAUG,GAErBI,QAAS,CACPC,UAAW,CAACC,MACZC,YAAa,CAACC,MACdC,eAAgB,CAACC,MACjBC,cAAe,CAACC,MAChBC,IAAKC,KAELrD,OAAQsD,MAEV9C,OAAQ,CAEN+C,iBAAkB,IAClBC,gBAAiB,IACjBC,YAAa,KAEfC,kBAAmB,CACjBC,eAAgBC,IAChBC,eAAgBD,IAChBE,QAASF,IACTG,YAAaH,IACbI,gBAAiBJ,IACjBK,kBAAmBL,IACnBzE,aAAc,IACd+E,iBAAkB,IAClBC,sBAAuB,IACvBC,iBAAkB,GAEpBh9F,OAAQ,CACNw7F,WAAS3wG,EAAAA,EAAAA,GAAA,GACN4wG,KAAAA,UAAqB9H,OAAOsJ,aAAe,CAC1CC,KAAAA,KAGJpB,cAAe,CACbqB,UAAU,EACVC,WAAY,CACVhsB,SAAS,GAEXisB,UAAW,CACTjsB,SAAS,EACT1F,SAAU,IACV9G,KAAMq2B,GAAkBG,IAG5BkC,MAAO,CACLlsB,SAAS,EACTmsB,IAAK,CACHnsB,SAAS,EACT9pB,QAAQ,IAGZ00C,IAAK,CACH5qB,SAAS,EACTosB,WAAY,CACVpsB,SAAS,OAKjBv+E,EAAQwoG,GAAQ,yBAAAloG,EAAAJ,OAAA,GAAAG,EAAA,kBACjB,gBAAAG,EAAAa,GAAA,OAAAjW,EAAAwT,MAAA,KAAAhf,UAAA,EApFiB,GAqFpB,ED5FIgrH,CAAc,CACZvC,WAJiBxpH,KAAKue,IAAIxD,IAAIlD,QAAQ0B,QACtC,uBAICwnB,MAAK,SAAC4oF,GAEP1tG,EAAKsC,IAAIxD,IAAIlD,QAAQyB,QACnB,oBACAqwG,EAAQhE,OAAOqG,UAGjBrC,EAAQsC,QAAQlrF,MAAI/f,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAO,IAAA,OAAAP,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OACnB2V,EAAKiwG,MAAM,CACT7kG,KAAM,CACJpd,GAAI0/G,EAAQhE,OAAOL,cAErB6G,cAAexC,IACf,wBAAAloG,EAAAJ,OAAA,GAAAG,EAAA,MACF,OAAO,SAACrW,GACRyO,QAAQ4jB,IAAI,qBAAsBryB,EACpC,GACF,GACF,GAAC,CAAAzH,IAAA,QAAA6C,MAGD,SAAAmH,GAA+B,IAAA2O,EAAA,KAAvBgL,EAAI3Z,EAAJ2Z,KAAM8kG,EAAaz+G,EAAby+G,cAEZ,GADAvyG,QAAQ0iB,KAAK,iBACR6vF,EAAL,CAOAnsH,KAAKqnB,KAAOA,EAAKpd,GAEjB,IAAMmiH,EAAkBpsH,KAAKue,IAAIxD,IAAItC,OAAS,oBAC1CzY,KAAKue,IAAIoJ,YACN,cACA,yBAEP3nB,KAAKqpH,SAAWrpH,KAAKopH,QAAQC,UAAY+C,EAEzC9rG,KAAM,iBAANA,CAAwB,eAAD5d,OAAgB1C,KAAKqpH,WAE5CrpH,KAAK0nD,WAAa,IAAI2kE,GAAQF,EAAensH,KAAKqpH,SAAU,CAC1DhD,aAAc,MAGhBrmH,KAAK0nD,WAAW/4B,SAAW,WAGzB,OAFA/U,QAAQ4jB,IAAI,6BAEL,CACT,EAEAx9B,KAAK0nD,WAAWK,GAAG,cAAe/nD,KAAKssH,mBACvCtsH,KAAK0nD,WAAWK,GAAG,YAAa/nD,KAAKusH,oBACrCvsH,KAAK0nD,WAAWK,GAAG,UAAW/nD,KAAKwsH,mBAEnCxsH,KAAK4nD,QAAQC,SAAS,SACtBjuC,QAAQ0iB,KAAK,iBAAD55B,OAAkB1C,KAAKqpH,SAAQ,KA5B3C,MAJEjrG,YAAW,WACT/B,EAAK6vG,MAAM,CAAE7kG,KAAAA,EAAM8kG,cAAAA,GACrB,GAAG,IA+BP,GAAC,CAAAzoH,IAAA,KAAA6C,MAwDD,SAAG8Z,EAAWjB,GAEZ,OADApf,KAAK4nD,QAAQmD,UAAU1qC,EAAWjB,GAC3Bpf,IACT,GAAC,CAAA0D,IAAA,MAAA6C,MAED,SAAI8Z,EAAWjB,GAEb,OADApf,KAAK4nD,QAAQnoC,YAAYY,EAAWjB,GAC7Bpf,IACT,GAAC,CAAA0D,IAAA,OAAA6C,MAED,SAAK8Z,EAAWjB,GAEd,OADApf,KAAK4nD,QAAQ+F,KAAKttC,EAAWjB,GACtBpf,IACT,GAAC,CAAA0D,IAAA,YAAA6C,MAED,SAAU8Z,EAAWjB,GAEnB,OADApf,KAAK4nD,QAAQmD,UAAU1qC,EAAWjB,GAC3Bpf,IACT,GAAC,CAAA0D,IAAA,cAAA6C,MAED,SAAY8Z,EAAWjB,GAErB,OADApf,KAAK4nD,QAAQnoC,YAAYY,EAAWjB,GAC7Bpf,IACT,GAAC,CAAA0D,IAAA,kBAAA6C,MAED,SAAgB6oC,EAAS8J,GACvB,IAAMhkB,EAAYl1B,KAAKue,IAAIxD,IAAIrD,KAAKoG,MAAM2uG,aAAahzG,KAAKC,UAAU01B,IAGtE,OAFkBpvC,KAAKue,IAAIxD,IAAIrD,KAAKlC,IAAIoI,SAASqrG,QAAQ/zF,EAAMgkB,EAAKgrB,UAGtE,GAAC,CAAAxgE,IAAA,eAAA6C,MAED,SAAa6oC,GACX,IAAMla,EAAQl1B,KAAKue,IAAIxD,IAAIrD,KAAKoG,MAAM2uG,aAAahzG,KAAKC,UAAU01B,IAGlE,OAFcpvC,KAAKue,IAAIxD,IAAIrD,KAAKlC,IAAIoI,SAASs7B,KAAKhkB,EAAMl1B,KAAKue,IAAIvD,SAASrC,KAAKiF,SAASpI,IAAI7E,WAG9F,GAAC,CAAAjN,IAAA,iBAAA6C,MAED,SAAe6oC,EAASn1B,GAAU,IAAA8C,EAAA,KAC5B/M,EAAUo/B,EAAQk7C,YAEhBhkB,EAAc,SAAdA,EAAer/D,GACdA,EAAK4Z,QAA0B,iBAAhB5Z,EAAK4Z,QAIrBpH,KAAKC,UAAU01B,EAAQnoC,QAAUwS,KAAKC,UAAUzS,EAAKmoC,WACvDryB,EAAK0C,YAAYzP,EAASs2D,GAEtBvpD,EAAK2vG,eAAet9E,EAAQ/nB,OAC9BowD,aAAa16D,EAAK2vG,eAAet9E,EAAQ/nB,OAG3CpN,GAAS,GAEb,EAEAja,KAAK+qD,UAAU/6C,EAASs2D,GAEnBtmE,KAAK0sH,iBACR1sH,KAAK0sH,eAAiB,CAAC,GAGzB1sH,KAAK0sH,eAAet9E,EAAQ/nB,MAAQjJ,YAAW,WAC7CrB,EAAK0C,YAAYzP,EAASs2D,GAE1BrsD,GAAS,EACX,GAAG,KACL,GAAC,CAAAvW,IAAA,mBAAA6C,MAED,SAAiB8gB,EAAM+nB,GAAsC,IAAA9xB,EAAA,KAA7BrD,EAAQlZ,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,KAAM4rH,EAAM5rH,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,EACnDf,KAAK0nD,WAOa,iBAAnBtY,EAAQvuB,QAA6BwG,IAASrnB,KAAKqnB,OAIvD+nB,EAAUpvC,KAAK42E,gBAAgBvvD,EAAM+nB,GAErCpvC,KAAK4sH,eAAex9E,GAAS,SAAAy9E,GAC3B,IAAKA,GAAaF,EAAS,EAKzB,OAJAA,SACAvuG,YAAW,WACTd,EAAK+qC,iBAAiBhhC,EAAM+nB,EAASn1B,EAAU0yG,EACjD,GAAG,KAImB,mBAAb1yG,GAETA,EAAS4yG,EAEb,KAzBEzuG,YAAW,WACTd,EAAK+qC,iBAAiBhhC,EAAM+nB,EAASn1B,EAAU0yG,EACjD,GAAG,IAwBP,GAAC,CAAAjpH,IAAA,qBAAA6C,MAED,SAAmB6oC,GACjB,GAAKA,EAAQ/nB,MAAS+nB,EAAQvuB,QACL,iBAApBuuB,EAAQvuB,QACY,WAApBuuB,EAAQvuB,OAFb,CAMA,IAAQypE,EAAsBl7C,EAAtBk7C,YAAarjF,EAASmoC,EAATnoC,KAErBjH,KAAK42E,gBAAgB0T,EAAa,CAChCzpE,OAAU,eACV5Z,KAAAA,GANF,CAQF,GAAC,CAAAvD,IAAA,kBAAA6C,MAED,SAAgB8gB,EAAM+nB,GAAS,IAAA2f,EAAA,KAC7B,GAAK/uD,KAAK0nD,WAAV,CASApnC,KAAM,oBAANA,CAA2B,uBAAwB+G,GAGnD,IAAQpgB,EAAiBmoC,EAAjBnoC,KAAMiZ,EAAWkvB,EAAXlvB,MACRg5B,EAAOl5C,KAAK8sH,aAAa7lH,GAS/B,OAPAjH,KAAK0nD,WAAWsgE,OAAO3gG,EAAM5N,KAAKC,UAAU,CAC1C4wE,YAAatqF,KAAKue,IAAIvD,SAASrC,KAAKiF,SAASpI,IAAIxF,QACjD/I,KAAAA,EACAiZ,MAAAA,EACAg5B,KAAAA,KAGK9J,CAfP,CANyB,WAAnBA,EAAQvuB,QACVzC,YAAW,WACT2wC,EAAK6nB,gBAAgBvvD,EAAM+nB,EAC7B,GAAG,IAmBT,GAAC,CAAA1rC,IAAA,kBAAA6C,MAED,SAAgB6oC,GAAS,IAAA29E,EAAA,KACvB,GAAK/sH,KAAK0nD,WAAV,CAOA,IAAQzgD,EAAgBmoC,EAAhBnoC,KAAMiZ,EAAUkvB,EAAVlvB,MACRg5B,EAAOl5C,KAAK8sH,aAAa7lH,GAE/BjH,KAAK0nD,WAAW4rC,UAAU75E,KAAKC,UAAU,CACvC4wE,YAAatqF,KAAKue,IAAIvD,SAASrC,KAAKiF,SAASpI,IAAIxF,QACjD/I,KAAAA,EACAiZ,MAAAA,EACAg5B,KAAAA,IATF,MAJE96B,YAAW,WACT2uG,EAAKr1C,gBAAgBtoC,EACvB,GAAG,IAaP,IAAC,EAAA1rC,IAAA,OAAA8F,IA1SD,WACE,MAAO,MACT,KAACq/G,CAAA,CAbW,CAASjqG,GAAAA,IAyTvB,ME7TA,GF6TA,GGxRA,MCrCA,OAAmBkpC,GAAAA,G,ykBC4fnB,SAzfW,WAwCT,SAAAklE,EAAYzuG,EAAK0uG,EAAkBhmH,IAAMmF,EAAAA,GAAAA,GAAA,KAAA4gH,IAAA7zG,EAAAA,EAAAA,GAAA,mBAAAA,EAAAA,EAAAA,GAAA,qBAAAA,EAAAA,EAAAA,GAAA,wBAAAA,EAAAA,EAAAA,GAAA,sBAAAA,EAAAA,EAAAA,GAAA,4BAAAA,EAAAA,EAAAA,GAAA,4BAAAA,EAAAA,EAAAA,GAAA,8BAAAA,EAAAA,EAAAA,GAAA,6BAAAA,EAAAA,EAAAA,GAAA,6BAAAA,EAAAA,EAAAA,GAAA,+BAAAA,EAAAA,EAAAA,GAAA,0BAAAA,EAAAA,EAAAA,GAAA,2BAAAA,EAAAA,EAAAA,GAAA,2BAAAA,EAAAA,EAAAA,GAAA,yBAAAA,EAAAA,EAAAA,GAAA,4BAAAA,EAAAA,EAAAA,GAAA,6BAAAA,EAAAA,EAAAA,GAAA,0BAAAA,EAAAA,EAAAA,GAAA,yBAAAA,EAAAA,EAAAA,GAAA,+BAAAA,EAAAA,EAAAA,GAAA,4BAAAA,EAAAA,EAAAA,GAAA,mBACvCnZ,KAAKiK,GAAiBhD,EAAKgD,GAC3BjK,KAAKuoD,KAAiB,KAEtBvoD,KAAKinD,QAAiB,KACtBjnD,KAAK+kD,MAAiB,KACtB/kD,KAAKgc,YAAiB,KACtBhc,KAAKogD,YAAiB,KACtBpgD,KAAKwoD,cAAiB,KACtBxoD,KAAK8xD,aAAiB,KACtB9xD,KAAKmgD,aAAiB,KACtBngD,KAAKyoD,eAAiB,KACtBzoD,KAAKonD,UAAiB,KACtBpnD,KAAKmnD,WAAiB,KAEtBnnD,KAAKktH,WAAmBD,EACxBjtH,KAAKqnD,SAAmB,GACxBrnD,KAAKmtH,aAAmB,EACxBntH,KAAKykG,cAAmB,EACxBzkG,KAAKk+D,WAAmB,EACxBl+D,KAAK0kG,UAAmB,EAExB1kG,KAAKotH,eAAmB,CACtBhmE,UAAW,kBAAM,CAAK,EACtBD,WAAY,kBAAM,CAAK,GAGzBnnD,KAAK2pD,YAAc,KAGnB3pD,KAAKoc,eAAemC,GAEpBve,KAAKqtH,QAAOh2G,GAAAA,GAAC,CAAC,EACTpQ,GAAI,IACPshD,KAAMthD,EAAK89C,MAAM19B,OAASrnB,KAAKue,IAAIvD,SAASpC,KAAKyO,QAGnDrnB,KAAKstH,UACP,CAqaC,OAraAjhH,EAAAA,GAAAA,GAAA2gH,EAAA,EAAAtpH,IAAA,iBAAA6C,MAED,SAAegY,GACb/D,GAAAA,GAAAA,SAAiB+D,GAEjBve,KAAKue,IAAMA,CACb,GAAC,CAAA7a,IAAA,WAAA6C,MAED,WAAW,IAAAoG,EAAA,KACT3M,KAAKue,IAAIvD,SAASpC,KAAKmvC,GAAG,gBAAgB,SAAAx7C,GAAgE,IAA7DqnB,EAAOrnB,EAAPqnB,QAAS5X,EAAWzP,EAAXyP,YAAawiD,EAAmBjyD,EAAnBiyD,oBAAqB7U,EAAWp9C,EAAXo9C,YACtF,GAAI/1B,IAAYjnB,EAAK1C,KAAwC0C,EAAK06C,SAASrP,MAAK,SAAAtqC,GAAsB,OAAAA,EAAnBsO,YAAeqL,OAAsBrL,EAAYqL,IAAI,IAAG,CACzI,IAAI0H,EAAa,EAEjB,IAEM/S,EAAYxG,IAAIxF,UAAYwuD,EAAoBxuD,SAAWgM,EAAYzG,IAAIvF,UAAYwuD,EAAoBxuD,UAC7G+e,EAAapiB,EAAK4R,IAAIxD,IAAIhD,cAAcw1G,sBAAsB/uD,GAElE,CAAE,MAAOlgE,GACPgiB,KAAM,kBAANA,CAAyBhiB,EAC3B,CAEAqO,EAAK06C,SAASnnD,KAAK,CACjB8b,YAAAA,EACA2tC,YAAAA,EACA56B,WAAAA,EACAmvC,WAAW,IAGbj+C,GAAAA,SAAgB,oBAAqB,CACnC2T,QAAAA,EACA5X,YAAAA,EACA2tC,YAAAA,EACA6U,oBAAAA,GAEJ,CACF,IAEAx+D,KAAKue,IAAIvD,SAASpC,KAAKmvC,GAAG,8BAA8B,SAAAlmC,GAA8E,IAA3E+R,EAAO/R,EAAP+R,QAAS5X,EAAW6F,EAAX7F,YAAkC2tC,GAAF9nC,EAAnB28C,oBAAgC38C,EAAX8nC,aAAa6jE,EAAY3rG,EAAZ2rG,aAEjH,GADA5zG,QAAQ4jB,IAAI,iCACR5J,IAAYjnB,EAAK1C,GAAI,CACvB,IAKMwjH,EAAuB,CAC3BrmE,UANgComE,EAA1BpmE,UAOND,WAPgCqmE,EAAfrmE,YAUnBx6C,EAAK06C,SAASnnD,KAAK,CACjB8b,YAAAA,EACA2tC,YAAAA,EACA6jE,aAAcC,IAGhBxtG,GAAAA,SAAgB,iCAAkC,CAChD2T,QAAAA,EACA5X,YAAAA,EACAwxG,aAAcC,IAGhB9gH,EAAK+gH,oBAAoB,YAAaD,EAAsBzxG,GAC5DrP,EAAK+gH,oBAAoB,aAAcD,EAAsBzxG,EAC/D,CACF,GACF,GAAC,CAAAtY,IAAA,UAAA6C,MAED,SAAQT,GAAQ,IAAAmW,EAAA,KACd/K,OAAOtL,KAAKE,GAAQ5C,SAAQ,SAACQ,GAC3BuY,EAAKvY,GAAOoC,EAAOpC,EACrB,GACF,GAAC,CAAAA,IAAA,SAAA6C,MAED,SAAOT,GACL9F,KAAKqtH,QAAQvnH,GACb9F,KAAKktH,WAAWS,gBAEhB1tG,GAAAA,SAAgB,cAAejgB,KAAM8F,EACvC,GAAC,CAAApC,IAAA,sBAAA6C,MAED,SAAoBqnH,EAAYJ,EAAcxxG,GAE5C,GADApC,QAAQ4jB,IAAI,2BACPx9B,KAAKk+D,WAILsvD,EAAaI,KAIlBJ,EAAaI,GAAc,IAAIvwF,GAAAA,EAAUmwF,EAAaI,IAEQ,IAA1D5tH,KAAK4tH,GAAYl7D,WAAW86D,EAAaI,KAA7C,CAIA,IAAMxuG,EAAUpf,KAAKotH,eAAeQ,GAEpC,GAAuB,mBAAZxuG,GAINpD,EAAL,CAEiBA,EAATqL,KAAR,IAEMw3C,EAAWz/C,EAAQouG,EAAcxtH,MAEvC,GAAK6+D,GAAaA,EAASzX,WAAcyX,EAAS1X,WAE3C,CACL,IAAQC,EAA0ByX,EAA1BzX,UAAWD,EAAe0X,EAAf1X,WAEnBnnD,KAAK6tH,wBAAwB,CAAEzmE,UAAAA,EAAWD,WAAAA,GAAcnrC,EAAYqL,KACtE,MALErnB,KAAK8tH,yBAAyB9xG,EAAYqL,KAPpB,CARxB,CAqBF,GAEA,CAAA3jB,IAAA,cAAA6C,MAIA,SAAY0T,EAAUskD,GACpB,IAAMtW,EAAOjoD,KAGFsvD,EAEPiP,EAFFvuD,QACAwuD,EACED,EADFC,oBAGF,GAAIx+D,KAAKue,IAAIvD,SAASpC,KAAKyO,OAASrnB,KAAK+kD,MAAM19B,KAK/C,GAAIrnB,KAAKmtH,YACPvzG,QAAQ4J,KAAK,6CADf,CAKAxjB,KAAKwE,OAAO,CACV2oH,aAAa,IAGf,IAAMnxG,EAAchc,KAAKue,IAAIvD,SAASrC,KAAKyO,gBAE3CpnB,KAAKue,IAAIvD,SAASpC,KAAKg+D,gBAAgB52E,KAAK+kD,MAAM19B,KAAM,CACtDnH,MAAO,eACPjZ,KAAM,CACJ2sB,QAAS5zB,KAAKiK,GACd+R,YAAAA,EACAwiD,oBAAAA,EACA7U,YAAa,CACX35C,QAASs/C,MAKftvD,KAAKue,IAAIvD,SAASpC,KAAKmvC,GAAG,uBAAuB,SAAA7lC,GAAmBA,EAAP0R,UAC3Cq0B,EAAKh+C,KACnBjK,KAAKyf,cAELwoC,EAAKzjD,OAAO,CACVigG,cAAc,EACd0oB,aAAa,EACbxjE,YAAWtyC,GAAAA,GAAA,GACN4wC,EAAK0B,aAAW,IACnB7mC,mBAAoBwsC,MAIxBr1C,GAAS,GAEb,IAEAja,KAAKue,IAAIvD,SAASpC,KAAKmvC,GAAG,wBAAwB,SAAAnlC,GAAmBA,EAAPgR,UAC5Cq0B,EAAKh+C,KACnBjK,KAAKyf,cAELwoC,EAAKzjD,OAAO,CACV2oH,aAAa,IAIflzG,GAAS,GAEb,GAhDA,MAPEL,QAAQ4J,KAAK,uEAwDjB,GAAC,CAAA9f,IAAA,gBAAA6C,MAED,SAAckhD,GACZ,IAAAsmE,EAAqC/tH,KAAKqnD,SAASrP,MAAK,SAAAt1B,GAAsB,OAAAA,EAAnB1G,YAAeqL,OAAsBogC,CAAe,IAAvGzrC,EAAW+xG,EAAX/xG,YAEAhM,EAFwB+9G,EAAXpkE,YAEb35C,QAERhQ,KAAKwE,OAAO,CACV2oH,aAAa,EACb1oB,cAAc,EACdzoF,YAAAA,EACA2tC,YAAWtyC,GAAAA,GAAA,GACNrX,KAAK2pD,aAAW,IACnB7mC,mBAAoB9S,IAEtBq3C,SAAU,KAGZrnD,KAAKue,IAAIvD,SAASpC,KAAKg+D,gBAAgBnvB,EAAiB,CACtDvnC,MAAO,sBACPjZ,KAAM,CACJ2sB,QAAS5zB,KAAKiK,KAGpB,GAAC,CAAAvG,IAAA,iBAAA6C,MAED,SAAekhD,GACb,IAAMumE,EAAkBhuH,KAAKqnD,SAASj4C,QAAO,SAAA0U,GAC3C,OADiEA,EAAnB9H,YAAeqL,OAC7CogC,CAClB,IAEAznD,KAAKwE,OAAO,CACV2oH,aAAa,EACb9lE,SAAU2mE,IAGZhuH,KAAKue,IAAIvD,SAASpC,KAAKg+D,gBAAgBnvB,EAAiB,CACtDvnC,MAAO,uBACPjZ,KAAM,CACJ2sB,QAAS5zB,KAAKiK,KAGpB,GAEA,CAAAvG,IAAA,wBAAA6C,MAOA,SAAsBinH,EAAcjvD,EAAgBtkD,EAAUg0G,GAI5D,GAHAr0G,QAAQ4jB,IAAI,6BACZ5jB,QAAQ4jB,IAAI,eAAgBgwF,GAC5B5zG,QAAQ4jB,IAAI,iBAAkB+gC,IACzBv+D,KAAKk+D,UACR,MAAM,IAAI3/D,MAAM,6CAADmE,OAA8C1C,KAAKiK,KAGpE,IAAAikH,EAAkCV,EAGlC,KAFAA,EAAe,CAAEpmE,UADA8mE,EAAT9mE,UACoBD,WADC+mE,EAAV/mE,aAIjB,MAAM,IAAI5oD,MAAM,gDAGlB,IAAM0pD,EAAOjoD,KAEb,GAAIA,KAAKue,IAAIvD,SAASpC,KAAKyO,OAASrnB,KAAK+kD,MAAM19B,KAA/C,CAKA,IACWioC,EAEPiP,EAFFvuD,QACAwuD,EACED,EADFC,oBAGIxiD,EAAchc,KAAKue,IAAIvD,SAASrC,KAAKyO,gBAI3CpnB,KAAKue,IAAIvD,SAASpC,KAAKg+D,gBAAgB52E,KAAK+kD,MAAM19B,KAAM,CACtDnH,MAAO,6BACPjZ,KAAM,CACJ2sB,QAAS5zB,KAAKiK,GACd+R,YAAAA,EACAwiD,oBAAAA,EACA7U,YAAa,CACX35C,QAASs/C,GAEXk+D,aAAAA,KAIJxtH,KAAKue,IAAIvD,SAASpC,KAAKmvC,GAAG,6BAA6B,SAAAnkC,GAA6C,IAAjCgQ,EAAOhQ,EAAPgQ,QAASu6F,EAAUvqG,EAAVuqG,WAE1E,GAF8FvqG,EAARi7C,SACtFjlD,QAAQ4jB,IAAI,gCACR5J,IAAYq0B,EAAKh+C,GAAI,CACvBjK,KAAKyf,cAKL,IAAMo/C,EAAW5W,EAAKilE,WAAW3yG,SAAS4zG,GAE1C,IAAKtvD,EAEH,OADAjlD,QAAQzO,MAAM,mCAAoCgjH,GAC3Cl0G,EAAS,MAAM,GAOxB,GAHW4kD,EAASze,cAAgB6H,EAAK7H,aAC9Bye,EAAS1e,eAAiB8H,EAAK9H,aAGxC,OAAOlmC,EAAS4kD,GAAU,GAK5B,GAAgC,mBAArBovD,EAET,OAAOh0G,EAAS4kD,GAIKovD,EAAiBhmE,EAAM4W,GAI5CA,EAAS/+B,aAAY,SAAAsuF,GAAQ,OAAIn0G,EAAS4kD,EAAUuvD,EAAS,GAAE7vD,GAE/DtkD,EAAS4kD,GAAU,EAEvB,CACF,IAEA7+D,KAAKue,IAAIvD,SAASpC,KAAKmvC,GAAG,8BAA8B,SAAA16B,GAAuB,IAAXuG,EAAOvG,EAAPuG,QAClEha,QAAQ4jB,IAAI,iCACR5J,IAAYq0B,EAAKh+C,KACnBjK,KAAKyf,cAGLxF,EAAS,MAAM,GAEnB,GA1EA,MAFEL,QAAQzO,MAAM,uEA8ElB,GAEA,CAAAzH,IAAA,0BAAA6C,MAKA,SAAwBo4D,EAAWlX,GACjC7tC,QAAQ4jB,IAAI,4CAA6CmhC,GACzD,IAAQve,EAAsEpgD,KAAtEogD,YAAaD,EAAyDngD,KAAzDmgD,aAAc8G,EAA2CjnD,KAA3CinD,QAASuB,EAAkCxoD,KAAlCwoD,cAAeC,EAAmBzoD,KAAnByoD,eACnDrB,EAA0BuX,EAA1BvX,UAAWD,EAAewX,EAAfxX,WAEb6mE,EAAkBhuH,KAAKqnD,SAASj4C,QAAO,SAAAme,GAC3C,OADiEA,EAAnBvR,YAAeqL,OAC7CogC,CAClB,IAEAznD,KAAKwE,OAAO,CACV2oH,aAAa,EACb9lE,SAAU2mE,IAGZp0G,QAAQ4jB,IAAI,+BAEZ,IAAMqhC,EAAW7+D,KAAKktH,WAAWzlG,OAAO,CACtC2/B,UAAAA,EACAD,WAAAA,EACA/G,YAAAA,EACAoI,cAAAA,EACArI,aAAAA,EACAsI,eAAAA,EACAxB,QAAAA,IAGFrtC,QAAQ4jB,IAAI,eAAgBqhC,GAC5BjlD,QAAQ4jB,IAAI,oBAAqBx9B,KAAKktH,YACtCtzG,QAAQ4jB,IAAI,gBAAiB,CAC3B5J,QAAS5zB,KAAKiK,GACdkkH,WAAYtvD,EAAS50D,KAGvB2P,QAAQ4jB,IAAI,gCAEZx9B,KAAKue,IAAIvD,SAASpC,KAAKg+D,gBAAgBnvB,EAAiB,CACtDvnC,MAAO,4BACPjZ,KAAM,CACJ2sB,QAAS5zB,KAAKiK,GACdkkH,WAAYtvD,EAAS50D,KAG3B,GAAC,CAAAvG,IAAA,2BAAA6C,MAED,SAAyBkhD,GAEvB,IAAMumE,EAAkBhuH,KAAKqnD,SAASj4C,QAAO,SAAAqe,GAC3C,OADiEA,EAAnBzR,YAAeqL,OAC7CogC,CAClB,IAEAznD,KAAKwE,OAAO,CACV2oH,aAAa,EACb9lE,SAAU2mE,IAGZhuH,KAAKue,IAAIvD,SAASpC,KAAKg+D,gBAAgBnvB,EAAiB,CACtDvnC,MAAO,6BACPjZ,KAAM,CACJ2sB,QAAS5zB,KAAKiK,KAGpB,GAEA,CAAAvG,IAAA,8BAAA6C,MAKA,SAA4BqO,EAAMwK,GAChC,IAAKpf,KAAKuoD,KACR,MAAM,IAAIhqD,MAAM,qCAElB,GAAa,cAATqW,GAAiC,eAATA,EAC1B,MAAM,IAAIrW,MAAM,+BAADmE,OAAgCkS,EAAI,2CAKrD,OAFA5U,KAAKotH,eAAex4G,GAAQwK,EAErBpf,IACT,KAACgtH,CAAA,CAnfQ,GCKX,M,6oBCAA,IA6DMqB,GAAmB,SAAC15F,EAAOqzB,GAC/B,IAN8C3gC,EAMxCinG,EA9DuB,SAAC35F,GAE9B,GAAIA,GAASA,EAAMyrB,cAAgBsJ,GAAAA,GAAAA,UAAAA,WAA0B/0B,EAAMyrB,aACjE,OAAO,EAET,GAAIzrB,GAASA,EAAMwrB,eAAiBuJ,GAAAA,GAAAA,UAAAA,WAA0B/0B,EAAMwrB,cAClE,OAAO,EAGT,IAMYn+C,EANN87C,EAAS,CACb7zC,GAAI,UACJ86C,MAAK1tC,GAAA,CACHgQ,KAAM,SACN0H,WAAY26B,GAAAA,GAAAA,UAAAA,EAAAA,MAAuBA,GAAAA,GAAAA,UAAAA,aAE3B1nD,EAAS,CAAC,EAChBkP,OAAOtL,KAAKkV,GAAAA,GAAAA,OAAiB5X,SAAQ,SAACQ,GACpC1B,EAAO0B,GAAOgmD,GAAAA,GAAAA,UAAAA,EAAAA,MAAuB,CACnC15C,QAAS05C,GAAAA,GAAAA,UAAAA,cAA6B5uC,GAAAA,GAAAA,MAAgBpX,IACtDqM,UAAW25C,GAAAA,GAAAA,UAAAA,YAA2B5uC,GAAAA,GAAAA,MAAgBpX,KAE1D,IACO1B,IAGXm+C,aAAcuJ,GAAAA,GAAAA,UAAAA,WACdjB,eAAgB,UAChBtB,WAAYuC,GAAAA,GAAAA,UAAAA,UACZtJ,YAAasJ,GAAAA,GAAAA,UAAAA,WACblB,cAAe,UACfpB,UAAWsC,GAAAA,GAAAA,UAAAA,UACXoI,aAAcpI,GAAAA,GAAAA,UAAAA,EAAAA,MAAuBA,GAAAA,GAAAA,UAAAA,WACrC+6C,aAAc,WACd0oB,YAAa,WACbjvD,UAAW,WACXjX,QAAS,WACTy9C,SAAU,WACV/6C,YAAaD,GAAAA,GAAAA,UAAAA,EAAAA,MAAuB,CAClC3mC,aAAc,UACdD,mBAAoB,aAIlByrG,EAAU7kE,GAAAA,GAAAA,UAAAA,MAAqB5L,EAAQnpB,GAAO,GAMpD,OAJK45F,GACHjuG,KAAM,mBAANA,CAA0B,uCAAwCw9B,EAAQ,OAAQnpB,GAG7E45F,CACT,CAYwBC,CAAuB75F,GACvC85F,EAXsB,SAAHliH,EAAyBy7C,GAAN,OAAAz7C,EAAbw4C,MAAS19B,OAC/B2gC,CAAQ,CAUI0mE,CAAsB/5F,EAAOqzB,GAC5C2mE,GARwCtnG,EAQSsN,EARlBowB,MAAS19B,MAEtCunG,GAAc3uH,QAAU2uH,GAAcv0G,SAASgN,IAQvD,OAAOinG,GAAiBG,GAAgBE,CAC1C,EAqaA,MChfA,GD8EgB,SAAAE,IAAAn0G,EAAAA,GAAAA,GAAAo0G,EAAAD,GAAA,I,IAAAl0G,G,EAAAm0G,E,maAWd,SAAAA,IAAc,IAAAniH,EAMe,OANfP,EAAAA,GAAAA,GAAA,KAAA0iH,GACZniH,EAAAgO,EAAAtZ,KAAA,OAAO8X,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAyBM,WACbA,EAAKoiH,kBACP,KAAC51G,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAEmB,SAAAkV,GAAkB,IAAfmmC,EAAQnmC,EAARmmC,SACrBr7C,EAAKoN,MAAM7W,SAAQ,SAACyxB,GACdA,GAASA,EAAMowB,OAASpwB,EAAMowB,MAAM19B,OAAS2gC,IAC/CrzB,EAAM+vE,UAAW,EAErB,GACF,KAACvrF,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAEmB,SAAAuV,GAAkB,IAAf8lC,EAAQ9lC,EAAR8lC,SACrBr7C,EAAKoN,MAAM7W,SAAQ,SAACyxB,GACdA,GAASA,EAAMowB,OAASpwB,EAAMowB,MAAM19B,OAAS2gC,IAC/CrzB,EAAM+vE,UAAW,EAErB,GACF,KAACvrF,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAEmB,SAAAiW,GAAkB,IAAfolC,EAAQplC,EAARolC,SACrBr7C,EAAKqiH,kBAAkBhnE,EACzB,KAAC7uC,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAEmB,SAAC0a,GACnB,IAAI4nG,EAAWtiH,EAAKuiH,cAChBD,EAAShvH,SAEXgvH,EAAWA,EAAS7tH,KAAI,SAAC8D,GAAI,OAAKwkD,GAAAA,GAAAA,UAChCxkD,EACA,KACA,QACA,cACA,gBACA,eACA,iBACA,YACA,eACA,aACA,cACA,eACA,YACA,UACA,WACA,cACD,IAEDyH,EAAK4R,IAAIvD,SAASpC,KAAKg+D,gBAAgBvvD,EAAM,CAC3CnH,MAAO,aACPjZ,KAAM,CACJ4R,OAAQo2G,KAIhB,KAAC91G,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBACmB,SAAC0a,GACnB1a,EAAKqiH,kBAAkB3nG,GACvB1a,EAAK4R,IAAIvD,SAASpC,KAAKg+D,gBAAgBvvD,EAAM,CAC3CnH,MAAO,cACPjZ,KAAM,CAAC,GAEX,KAACkS,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAEoB,SAAC0a,GACpB,IAAM8nG,EAAaxiH,EAAKyiH,cAAc/nG,GAElC8nG,EAAWlvH,QACbkvH,EAAWjsH,SAAQ,SAAAwf,GAAY,IAATzY,EAAEyY,EAAFzY,GACpB0C,EAAK0iH,cAAcplH,EACrB,GAEJ,KAACkP,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAEkB,SAAAmX,GAA0B,IAAvBkkC,EAAQlkC,EAARkkC,SAEdsnE,EAF8BxrG,EAANjL,OAEAzJ,QAAO,SAAAwU,GAAA,IAAG3Z,EAAE2Z,EAAF3Z,GAAaod,EAAIzD,EAAbmhC,MAAS19B,KAAI,OACtD1a,EAAK4N,SAAStQ,IAAOod,IAAS2gC,CAAQ,IAGzCr7C,EAAK4iH,sBAAsB,CAAE12G,OAAQy2G,EAAgBtnE,SAAAA,GACvD,KAAC7uC,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAEiB,SAAA0gB,GAAyB,IAAtB26B,EAAQ36B,EAAR26B,SAAUrzB,EAAKtH,EAALsH,MACzBA,GAASA,EAAMowB,OAASpwB,EAAMowB,MAAM19B,OAAS2gC,GAC3CqmE,GAAiB15F,EAAOqzB,IAC1Br7C,EAAK6iH,cAAc76F,EAGzB,KAACxb,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAEoB,SAAA4gB,GAA2B,IAAxBy6B,EAAQz6B,EAARy6B,SAAUp0B,EAAOrG,EAAPqG,QAC1Be,EAAQhoB,EAAK4N,SAASqZ,GAExBe,GAASA,EAAMowB,OAASpwB,EAAMowB,MAAM19B,OAAS2gC,GAC/Cr7C,EAAK0iH,cAAcz7F,EAEvB,IAvHEjnB,EAAKwP,aAAe,SACpBxP,EAAKkS,WAAe,CAAEgqG,IAEtBl8G,EAAK8iH,YAAc,WAAO,EAAC9iH,CAC7B,CATC,OASAN,EAAAA,GAAAA,GAAAyiH,EAAA,EAAAprH,IAAA,cAAA6C,MAED,WAAc,IAYN0D,EAZMgS,EAAA,KACZjc,KAAKue,IAAIvD,SAASpC,KAAKmvC,GAAG,QAAS/nD,KAAK0vH,cACxC1vH,KAAKue,IAAIvD,SAASpC,KAAKmvC,GAAG,cAAe/nD,KAAKssH,mBAC9CtsH,KAAKue,IAAIvD,SAASpC,KAAKmvC,GAAG,eAAgB/nD,KAAKusH,oBAC/CvsH,KAAKue,IAAIvD,SAASpC,KAAKmvC,GAAG,aAAc/nD,KAAK2vH,kBAC7C3vH,KAAKue,IAAIvD,SAASpC,KAAKmvC,GAAG,cAAe/nD,KAAK4vH,mBAC9C5vH,KAAKue,IAAIvD,SAASpC,KAAKmvC,GAAG,YAAa/nD,KAAK6vH,iBAC5C7vH,KAAKue,IAAIvD,SAASpC,KAAKmvC,GAAG,eAAgB/nD,KAAK8vH,oBAC/C9vH,KAAKue,IAAIvD,SAASpC,KAAKmvC,GAAG,cAAe/nD,KAAK+vH,mBAC9C/vH,KAAKue,IAAIvD,SAASpC,KAAKmvC,GAAG,cAAe/nD,KAAKgwH,mBAE9ChwH,KAAKyvH,aACCxlH,EAAKi1B,KAAKivB,MACP,oBAAAzrD,OAASuZ,EAAKsC,IAAIvD,SAASpC,KAAKyO,KAAI,KAAA3kB,SAAMuH,EAAE,EAEvD,GAAC,CAAAvG,IAAA,mBAAA6C,MAoGD,WAAmB,IAAA8V,EAAA,KACjBrc,KAAKkvH,cAAchsH,SAAQ,SAACsjE,GAC1BnqD,EAAKmzG,cAAchpD,EACrB,GACF,GAEA,CAAA9iE,IAAA,UAAA6C,MAiBA,SAAQU,GAAM,IAAAgpH,EAAAC,EACJjmH,EAAkEhD,EAAlEgD,GAAIm9C,EAA8DngD,EAA9DmgD,UAAWD,EAAmDlgD,EAAnDkgD,WAAY/G,EAAuCn5C,EAAvCm5C,YAAaD,EAA0Bl5C,EAA1Bk5C,aAAiB7X,GAAI7f,EAAAA,EAAAA,GAAKxhB,EAAIshC,IAGhEigB,EACVrH,GAAYf,GADdvrC,WAGY4zC,EACVtH,GAAYhB,GADdtrC,WAIF,GACiD,QAA/Co7G,EAACn1G,GAAAA,GAAAA,UAAoBslC,EAAYvjC,sBAAc,IAAAozG,GAA9CA,EAAgDl7G,WACD,QAAhDm7G,EAACp1G,GAAAA,GAAAA,UAAoBqlC,EAAatjC,sBAAc,IAAAqzG,GAA/CA,EAAiDn7G,UAFpD,CAOA,IAAMo7G,EAAmB,IAAI9yF,GAAAA,EAAU+pB,GAAWhX,GAAGt1B,GAAAA,GAAAA,UAAoBslC,EAAYvjC,eAAe9H,WAC9Fq7G,EAAoB,IAAI/yF,GAAAA,EAAU8pB,GAAY/W,GAAGt1B,GAAAA,GAAAA,UAAoBqlC,EAAatjC,eAAe9H,WAEjG4f,EAAQ,IAAIq4F,GAAMhtH,KAAKue,IAAKve,KAAIqX,GAAA,CACpCpN,GAAcA,GAAMjK,KAAKyvH,cACzBroE,UAAc+oE,EACdhpE,WAAcipE,EACdhwE,YAAcA,EACdoI,cAAAA,EACArI,aAAcA,EACdsI,eAAAA,GACGngB,IAKL,OAFAtoC,KAAK6b,OAAO8Y,EAAOA,EAAM1qB,IAElB0qB,CAlBP,CAmBF,GAAC,CAAAjxB,IAAA,gBAAA6C,MAED,SAAcU,GACZ,IAAM0tB,EAAQ30B,KAAKqwH,QAAQppH,GAEvB0tB,GACF1U,GAAAA,SAAgB,YAAa0U,EAEjC,GAAC,CAAAjxB,IAAA,wBAAA6C,MAED,SAAAknB,GAA4C,IAAA1Q,EAAA,KAApBlE,EAAM4U,EAAN5U,OAAQmvC,EAAQv6B,EAARu6B,SACxBsoE,EAAY,GAElBz3G,EAAO3V,SAAQ,SAAC+D,GACd,GAAIonH,GAAiBpnH,EAAM+gD,GAAW,CACpC,IAAMrzB,EAAQ5X,EAAKszG,QAAQppH,GAG3B0tB,GAAS27F,EAAUpwH,KAAKy0B,EAC1B,CACF,IAEI27F,EAAUrwH,QACZggB,GAAAA,SAAgB,aAAcqwG,EAElC,GAEA,CAAA5sH,IAAA,gBAAA6C,MAIA,SAAcqtB,GACZ,IACE,IAAMe,EAAQ30B,KAAKua,SAASqZ,GAExBe,IACF30B,KAAKuwH,YAAY38F,GACjB3T,GAAAA,SAAgB,eAAgB0U,GAEpC,CACA,MAAOr2B,GACLsb,QAAQzO,MAAM7M,EAChB,CACF,GAAC,CAAAoF,IAAA,gBAAA6C,MAED,WAAgB,IAAA+W,EAAA,KACV2xG,EAAWjvH,KAAK+Z,MAAM3K,QAAO,SAAAue,GAAgB,OAAAA,EAAbo3B,MAAS19B,OAAsB/J,EAAKiB,IAAIvD,SAASpC,KAAKyO,IAAI,IAO9F4nG,EAAWA,EAAS7tH,KAAI,SAAC8D,GAAI,OAAKwkD,GAAAA,GAAAA,UAChCxkD,EACA,KACA,QACA,cACA,gBACA,eACA,iBACA,YACA,aACA,eACA,cACA,WACA,cACA,eACA,YACA,UACA,WACA,cACD,IAEDlF,KAAKue,IAAIxD,IAAIlD,QAAQyB,QAAQ,WAAY21G,EAC3C,GAAC,CAAAvrH,IAAA,cAAA6C,MAED,WACE,OAAOvG,KAAKue,IAAIxD,IAAIlD,QAAQ0B,QAAQ,aAAe,EACrD,GAAC,CAAA7V,IAAA,gBAAA6C,MAED,SAAc8gB,GACZ,OAAOrnB,KAAK+Z,MAAM3K,QAAO,SAAAye,GAAA,IAAGk3B,EAAKl3B,EAALk3B,MAAK,OAAO19B,IAAS09B,EAAM19B,IAAI,GAC7D,GAEA,CAAA3jB,IAAA,SAAA6C,MAQA,SAAOU,GACL,IAAM0tB,EAAQ30B,KAAKqwH,QAAOh5G,GAAAA,GAAC,CAAC,EACvBpQ,GAAI,IACP89C,MAAO/kD,KAAKue,IAAIvD,SAASrC,KAAKyO,mBAGhC,GAAKuN,EA4BL,OA1BA30B,KAAK2tH,gBAEL3tH,KAAKue,IAAIvD,SAASpC,KAAK8+D,gBAAgB,CACrCx3D,MAAO,YACPjZ,KAAM,CACJ0tB,MAAO+0B,GAAAA,GAAAA,UACL/0B,EACA,KACA,QACA,cACA,gBACA,eACA,eACA,iBACA,YACA,aACA,cACA,eACA,YACA,UACA,WACA,kBAKCA,CACT,GAAC,CAAAjxB,IAAA,eAAA6C,MAED,WAAe,IAAAwoD,EAAA,KACb/uD,KAAK+Z,MAAM7W,SAAQ,SAACyxB,GACdA,GAASA,EAAMowB,OAASpwB,EAAMowB,MAAM19B,OAAS0nC,EAAKxwC,IAAIvD,SAASpC,KAAKyO,OACtEsN,EAAM+vE,UAAW,EAErB,IACA1kG,KAAK2tH,gBACL3tH,KAAKue,IAAIvD,SAASpC,KAAK8+D,gBAAgB,CACrCx3D,MAAO,cACPjZ,KAAM,CAAC,GAEX,GAAC,CAAAvD,IAAA,eAAA6C,MAED,WAAe,IAAAwmH,EAAA,KACb/sH,KAAK+Z,MAAM7W,SAAQ,SAACyxB,GACdA,GAASA,EAAMowB,OAASpwB,EAAMowB,MAAM19B,OAAS0lG,EAAKxuG,IAAIvD,SAASpC,KAAKyO,OACtEsN,EAAM+vE,UAAW,EAErB,IACA1kG,KAAK2tH,gBACL3tH,KAAKue,IAAIvD,SAASpC,KAAK8+D,gBAAgB,CACrCx3D,MAAO,cACPjZ,KAAM,CAAC,GAEX,GAAC,CAAAvD,IAAA,kBAAA6C,MAED,WAAkB,IAAAiqH,EAAA,KAEhB,QADqBxwH,KAAK+Z,MAAM3K,QAAO,SAAA2e,GAAA,IAAG22E,EAAQ32E,EAAR22E,SAAuB,OAAA32E,EAAbg3B,MAAS19B,OAAuBmpG,EAAKjyG,IAAIvD,SAASpC,KAAKyO,MAAQq9E,CAAQ,IACnGzkG,MAC1B,GAEA,CAAAyD,IAAA,SAAA6C,MAIA,SAAOqtB,GACL5zB,KAAKuwH,YAAY38F,GACjB5zB,KAAKue,IAAIvD,SAASpC,KAAK8+D,gBAAgB,CACrCx3D,MAAO,eACPjZ,KAAM,CACJ2sB,QAAAA,KAGJ5zB,KAAK2tH,eACP,GAEA,CAAAjqH,IAAA,gBAAA6C,MAOA,SAAc2Z,EAAOmH,EAAMpgB,EAAMgT,GAC/Bja,KAAKue,IAAIvD,SAASpC,KAAKg+D,gBAAgBvvD,EAAM,CAC3CnH,MAAAA,EACAjZ,KAAAA,IAGGgT,IAILja,KAAKue,IAAIvD,SAASpC,KAAKmvC,GAAG,kBAAkB,SAAA95B,GAAiC,IAArB+5B,EAAQ/5B,EAAR+5B,SAAUp0B,EAAO3F,EAAP2F,QAChEtT,KAAM,mBAANA,CAA0B,+BAAgC0nC,GACtD3gC,IAAS2gC,IACXhoD,KAAKyf,cAELa,KAAM,mBAANA,CAA0B,oBAE1BrG,EAAS2Z,GAEb,IAEA5zB,KAAKue,IAAIvD,SAASpC,KAAKmvC,GAAG,mBAAmB,SAAA9K,GAAwB,IAAZ+K,EAAQ/K,EAAR+K,SACnD3gC,IAAS2gC,IACXhoD,KAAKyf,cAELxF,GAAS,GAEb,IACF,GAAC,CAAAvW,IAAA,KAAA6C,MAED,SAAG8Z,EAAWjB,GAEZ,OADAa,GAAAA,UAAiBI,EAAWjB,GACrBpf,IACT,GAAC,CAAA0D,IAAA,MAAA6C,MAED,SAAI8Z,EAAWjB,GAEb,OADAa,GAAAA,YAAmBI,EAAWjB,GACvBpf,IACT,IAAC,EAAA0D,IAAA,OAAA8F,IAvZD,WACE,MAAO,QACT,KAACslH,CAAA,CATa,CJ7EI,SAAC2B,GAAyB,QAAA7wG,EAAA7e,UAAAd,OAAXywH,EAAM,IAAAtwH,MAAAwf,EAAA,EAAAA,EAAA,KAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAN4wG,EAAM5wG,EAAA,GAAA/e,UAAA+e,GAEvC,IAAM8xC,EAAI,SAAA++D,IAAAj2G,EAAAA,GAAAA,GAAAk2G,EAAAD,GAAA,I,IAAAh2G,G,EAAAi2G,E,maAER,SAAAA,IAAqB,IAAAjkH,GAAAP,EAAAA,GAAAA,GAAA,KAAAwkH,GAAA,QAAArwG,EAAAxf,UAAAd,OAANqsE,EAAI,IAAAlsE,MAAAmgB,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJ8rD,EAAI9rD,GAAAzf,UAAAyf,GAKf,OAJF7T,EAAAgO,EAAAtZ,KAAA0e,MAAApF,EAAA,OAAAjY,OAAS4pE,IAETokD,EAAOxtH,SAAQ,SAAC2tH,GACdA,EAAMjxH,UAAUka,aAAazY,MAAIwZ,EAAAA,GAAAA,GAAAlO,GACnC,IAAEA,CACJ,CAAC,OAAAN,EAAAA,GAAAA,GAAAukH,EAAA,CARO,CAA2BH,GAW/BK,EAAY,SAAC7mB,EAAQ3xB,GACzBpnE,OAAO6/G,oBAAoBz4C,GAExB51E,OAAOwO,OAAO8/G,sBAAsB14C,IACpCp1E,SAAQ,SAACyiD,GACJA,EAAKp4C,MAAM,wFAKf2D,OAAO+/G,eAAehnB,EAAQtkD,EAAMz0C,OAAOggH,yBAAyB54C,EAAQ3yB,GAC9E,GACJ,EAOA,OALA+qE,EAAOxtH,SAAQ,SAAC2tH,GACdC,EAAUl/D,EAAKhyD,UAAWixH,EAAMjxH,WAChCkxH,EAAUl/D,EAAMi/D,EAClB,IAEOj/D,CACT,CI4CyBu/D,CAAYvyG,GAAAA,GAAkB/E,GAAAA,KE/EvB,IAIXu3G,GAAU,SAAAvkE,IAAAnyC,EAAAA,GAAAA,GAAA02G,EAAAvkE,GAAA,I,IAAAlyC,G,EAAAy2G,E,maA0B7B,SAAAA,EAAYz6G,GAAM,IAAA06G,EAAAC,EAAA3kH,EAmCK,OAnCLP,EAAAA,GAAAA,GAAA,KAAAglH,GAChBzkH,EAAAgO,EAAAtZ,KAAA,KAAMsV,IAAKwC,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,YAzBD,eAAYwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,2BAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBA0BtBiN,QAAQ4jB,IAAI,kCAAmC7mB,GAE/ChK,EAAKs+C,YAAc,CACjB,KAAQ,EACR,gBAAiB,EACjB,gBAAiB,EACjB,gBAAiB,EACjB,OAAU,EACV,IAAO,GAGTt+C,EAAK4kH,OAAS56G,EAAK+xC,UACnB/7C,EAAKg8C,gBAAkBhyC,EAAKgyC,gBAE5Bh8C,EAAK2W,MAAQ,CACX2Q,KAAM,EAEN25B,qBAAqB,EAErBtiC,mBAAmB,EACnBkgC,iBAAiB,EAEjBgmE,YAAa,KACbC,iBAAiB,EAEjBC,YAAa,KACbC,iBAAiB,EAEjBxmE,eAAe,EACfrvC,YAAY,IAGdo4C,EAAAA,GAAAA,IAAAm9D,GAAAx2G,EAAAA,GAAAA,GAAAlO,IAAAwnD,EAAAA,GAAAA,GAAAi9D,EAAAxxH,YAAA,gBAAAyxH,GAAAhwH,KAAAgwH,IACAn9D,EAAAA,GAAAA,IAAAo9D,GAAAz2G,EAAAA,GAAAA,GAAAlO,IAAAwnD,EAAAA,GAAAA,GAAAi9D,EAAAxxH,YAAA,gBAAA0xH,GAAAjwH,KAAAiwH,GAAqB3kH,CACvB,CAgLC,OA9KDN,EAAAA,GAAAA,GAAA+kH,EAAA,EAAA1tH,IAAA,YAAA6C,MACA,WAAY,IAAA0V,EAAA,KACJsB,EAAOvd,KACP2W,EAAO3W,KAAK2W,KACZiC,EAAO5Y,KAAK2W,KAAKiC,KAEjB24G,EAASvxH,KAAKuxH,OACd5oE,EAAkB3oD,KAAK2oD,gBAE7B,MAAO,EAAA3nC,EAAAA,EAAAA,GAAAC,IAAAA,MAEL,SAAAO,IAAA,OAAAP,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OACEsT,QAAQ4jB,IAAI,wBACZ5jB,QAAQ4jB,IAAI,cAAe7mB,GAI3BiC,EAAKwvC,YAAY,CACfloC,MAAO,iBAGTtH,EAAK+0C,KAAK,aAAa,WACJpwC,EAAK+F,MAAd2Q,MAEI,GAIZ1W,EAAKitC,WAAW,CACdoD,qBAAqB,GACpB,CAAE35B,KAAM,QACb,IAAE,wBAAAxS,EAAAJ,OAAA,GAAAG,EAAA,MACHR,EAAAA,EAAAA,GAAAC,IAAAA,MAGD,SAAAC,IAAA,OAAAD,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OACEsT,QAAQ4jB,IAAI,iCACZ5jB,QAAQ4jB,IAAI,cAAe7mB,GAqC3BsF,EAAKuuC,WAAW,CACdgB,iBAAiB,GAChB,CAAEv3B,KAAM,kBAAkB,wBAAA1S,EAAAF,OAAA,GAAAH,EAAA,KAI/B,WACEtH,QAAQ4jB,IAAI,iCACZ5jB,QAAQ4jB,IAAI,cAAe7mB,GAE3BiC,EAAK+0C,KAAK,mBAAmB,SAAA9rC,GAAgB,IAAb2tD,EAAM3tD,EAAN2tD,OAC9B51D,QAAQ4jB,IAAI,iCAAkCgyC,GAC9C51D,QAAQ4jB,IAAI,qBAGZ5jB,QAAQ4jB,IAAI,mBAEZjgB,EAAKitC,WAAW,CACdgnE,YAAahiD,EACbiiD,iBAAiB,GAChB,CAAEx9F,KAAM,iBACb,GACF,GAACjT,EAAAA,EAAAA,GAAAC,IAAAA,MAGD,SAAAkB,IAAA,IAAA0K,EAAA8jB,EAAAihF,EAAApiD,EAAA,OAAAvuD,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,OAiBG,GAhBDsT,QAAQ4jB,IAAI,iCACZ5jB,QAAQ4jB,IAAI,cAAe7mB,GAIrBkW,EAASlW,EAAKwwC,WACdxW,EAAKh6B,EAAKqF,YAAYrF,EAAKwpC,aAAap4C,eAAeiI,QAE7D4J,QAAQ4jB,IAAI,QAAD96B,OAASmqB,EAAM,KAAAnqB,OAAIiU,EAAKwpC,aAAY,uBAAAz9C,OAAsBiuC,EAAE,SAGnE4gF,EAAO70G,YAAc/F,EAAKwpC,aAAatjC,gBACzC+0G,EAAWL,GAET5oE,EAAgBjsC,YAAc/F,EAAKwpC,aAAatjC,gBAClD+0G,EAAWjpE,GAERipE,EAAU,CAAFvvG,EAAA/b,KAAA,eACL,IAAI/H,MAAM,eAADmE,OAAgBiU,EAAKwpC,eAAe,QAEnDvmC,QAAQ4jB,IAAI,cAAeo0F,GAAS,eAAAvvG,EAAA/b,KAAA,GAGjBsrH,EAAStiD,gBAAgB,CAAE3+B,GAAAA,EAAI9jB,OAAAA,IAAS,QAAvD2iD,EAAMntD,EAAAX,KAEZ9H,QAAQ4jB,IAAI,oBAAD96B,OAAqB8sE,IAEhC52D,EAAKwvC,YAAY,CACfloC,MAAO,kBACPjZ,KAAM,CACJuoE,OAAAA,KAIJjyD,EAAKitC,WAAW,CACdknE,YAAaliD,EACbmiD,iBAAiB,GAChB,iBAAgB,yBAAAtvG,EAAAhB,OAAA,GAAAc,EAAA,KAIrB,WACEvI,QAAQ4jB,IAAI,0BAWZjgB,EAAKitC,WAAW,CACd1uC,YAAY,GACX,SACL,EAGA,WACElC,QAAQ4jB,IAAI,sBAEd,EAEJ,GAAC,CAAA95B,IAAA,kBAAA6C,MAED,WAGE+Z,KAAM,iBAANA,CAAwB,oBAFXtgB,KAIR0qD,SAAS,CACZS,eAAe,IACd,EACL,KAACimE,CAAA,CA9O4B,CAASn0G,KAAI9D,EAAAA,EAAAA,GAAvBi4G,GAAU,WAGZ,iBAAM,YAAY,ICPL,IAGXS,GAAU,SAAAhlE,IAAAnyC,EAAAA,GAAAA,GAAAm3G,EAAAhlE,GAAA,I,IAAAlyC,G,EAAAk3G,E,maA2B7B,SAAAA,EAAYl7G,GAAM,IAAA06G,EAAAC,EAAA3kH,GAAAP,EAAAA,GAAAA,GAAA,KAAAylH,GAChBllH,EAAAgO,EAAAtZ,KAAA,KAAMsV,IAAKwC,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,YA1BD,eAAYwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,2BAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBA2BtBiN,QAAQ4jB,IAAI,8BAA+B7mB,GAE3ChK,EAAKs+C,YAAc,CACjB,KAAQ,EACR,gBAAiB,EACjB,gBAAiB,EACjB,gBAAiB,EACjB,OAAU,EACV,IAAO,GAGTt+C,EAAK4kH,OAAS56G,EAAK+xC,UACnB/7C,EAAKg8C,gBAAkBhyC,EAAKgyC,gBAE5Bh8C,EAAK2W,MAAQ,CACX2Q,KAAM,EAENq3B,gBAAgB,EAChBC,YAAY,EAEZjgC,mBAAmB,EACnBkgC,iBAAiB,EAEjBgmE,YAAa,KACbC,iBAAiB,EAEjBC,YAAa,KACbC,iBAAiB,EAEjBxmE,eAAe,EACfrvC,YAAY,GAGd,IAAMyB,GAAI1C,EAAAA,GAAAA,GAAAlO,GAUW,OATR4Q,EAAK5G,KAAKiC,KAElB+0C,KAAK,oBAAoB,WAC5BpwC,EAAKmtC,SAAS,CACZ,EAEJ,KAEAwJ,EAAAA,GAAAA,IAAAm9D,GAAAx2G,EAAAA,GAAAA,GAAAlO,IAAAwnD,EAAAA,GAAAA,GAAA09D,EAAAjyH,YAAA,gBAAAyxH,GAAAhwH,KAAAgwH,IACAn9D,EAAAA,GAAAA,IAAAo9D,GAAAz2G,EAAAA,GAAAA,GAAAlO,IAAAwnD,EAAAA,GAAAA,GAAA09D,EAAAjyH,YAAA,gBAAA0xH,GAAAjwH,KAAAiwH,GAAqB3kH,CACvB,CA2LC,OAzLDN,EAAAA,GAAAA,GAAAwlH,EAAA,EAAAnuH,IAAA,YAAA6C,MACA,WAAY,IAAA0V,EAAA,KACJsB,EAAOvd,KACP2W,EAAO3W,KAAK2W,KACZiC,EAAO5Y,KAAK2W,KAAKiC,KAEjB24G,EAASvxH,KAAKuxH,OACd5oE,EAAkB3oD,KAAK2oD,gBAE7B,MAAO,EAAA3nC,EAAAA,EAAAA,GAAAC,IAAAA,MAEL,SAAAO,IAAA,IAAA2C,EAAAmnC,EAAAC,EAAA,OAAAtqC,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OAMoC,GALlCsT,QAAQ4jB,IAAI,wBACZ5jB,QAAQ4jB,IAAI,cAAe7mB,GAE3BwN,EAEuC5G,EAAK+F,MAApCgoC,EAAcnnC,EAAdmnC,eAAgBC,EAAUpnC,EAAVonC,YAEpBD,IAAkBC,EAAU,CAAA9pC,EAAAnb,KAAA,eAAAmb,EAAAQ,OAAA,UACvB,GAAI,OAmBO,OAhBpB1E,EAAKmtC,SAAS,CACZY,gBAAgB,IAGlB1yC,EAAKmvC,GAAG,gBAAgB,WACtBnvC,EAAKwvC,YAAY,CACfloC,MAAO,aAEX,IAEAtH,EAAKwvC,YAAY,CACfloC,MAAO,cAGT3C,EAAKitC,WAAW,CACde,YAAY,GACX,CAAEt3B,KAAM,SAASxS,EAAAQ,OAAA,UAEb,GAAI,yBAAAR,EAAAJ,OAAA,GAAAG,EAAA,MACZR,EAAAA,EAAAA,GAAAC,IAAAA,MAGD,SAAAC,IAAA,OAAAD,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OACEsT,QAAQ4jB,IAAI,iCACZ5jB,QAAQ4jB,IAAI,cAAe7mB,GAqC3BsF,EAAKuuC,WAAW,CACdgB,iBAAiB,GAChB,CAAEv3B,KAAM,kBAAkB,wBAAA1S,EAAAF,OAAA,GAAAH,EAAA,MAC9BF,EAAAA,EAAAA,GAAAC,IAAAA,MAGD,SAAAkB,IAAA,IAAA0K,EAAA8jB,EAAAihF,EAAApiD,EAAA,OAAAvuD,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,OAiBG,GAhBDsT,QAAQ4jB,IAAI,iCACZ5jB,QAAQ4jB,IAAI,cAAe7mB,GAIrBkW,EAASlW,EAAKwwC,WACdxW,EAAKh6B,EAAKqF,YAAYrF,EAAKwpC,aAAap4C,eAAeiI,QAE7D4J,QAAQ4jB,IAAI,QAAD96B,OAASmqB,EAAM,KAAAnqB,OAAIiU,EAAKwpC,aAAY,uBAAAz9C,OAAsBiuC,EAAE,SAGnE4gF,EAAO70G,YAAc/F,EAAKwpC,aAAatjC,gBACzC+0G,EAAWL,GAET5oE,EAAgBjsC,YAAc/F,EAAKwpC,aAAatjC,gBAClD+0G,EAAWjpE,GAERipE,EAAU,CAAFvvG,EAAA/b,KAAA,eACL,IAAI/H,MAAM,eAADmE,OAAgBiU,EAAKwpC,eAAe,QAEnDvmC,QAAQ4jB,IAAI,cAAeo0F,GAAS,eAAAvvG,EAAA/b,KAAA,GAGjBsrH,EAAStiD,gBAAgB,CAAE3+B,GAAAA,EAAI9jB,OAAAA,IAAS,QAAvD2iD,EAAMntD,EAAAX,KAEZ9H,QAAQ4jB,IAAI,oBAAD96B,OAAqB8sE,IAEhC52D,EAAKwvC,YAAY,CACfloC,MAAO,kBACPjZ,KAAM,CACJuoE,OAAAA,KAIJjyD,EAAKitC,WAAW,CACdgnE,YAAahiD,EACbiiD,iBAAiB,GAChB,iBAAgB,yBAAApvG,EAAAhB,OAAA,GAAAc,EAAA,KAIrB,WACEvI,QAAQ4jB,IAAI,iCACZ5jB,QAAQ4jB,IAAI,cAAe7mB,GAE3BiC,EAAK+0C,KAAK,mBAAmB,SAAAzrC,GAAgB,IAAbstD,EAAMttD,EAANstD,OAC9B51D,QAAQ4jB,IAAI,iCAAkCgyC,GAC9C51D,QAAQ4jB,IAAI,qBAGZ5jB,QAAQ4jB,IAAI,mBAEZjgB,EAAKitC,WAAW,CACdknE,YAAaliD,EACbmiD,iBAAiB,GAChB,CAAE19F,KAAM,iBACb,GACF,EAGA,WACEra,QAAQ4jB,IAAI,0BAYZjgB,EAAKitC,WAAW,CACd1uC,YAAY,GACX,CAAEmY,KAAM,UACb,EAGA,WACEra,QAAQ4jB,IAAI,sBAEd,EAEJ,GAAC,CAAA95B,IAAA,kBAAA6C,MAED,WAGE+Z,KAAM,iBAANA,CAAwB,oBAFXtgB,KAIR0qD,SAAS,CACZS,eAAe,IACd,EACL,KAAC0mE,CAAA,CApQ4B,CAAS50G,KAAI9D,EAAAA,EAAAA,GAAvB04G,GAAU,WAGZ,iBAAM,YAAY,I,uBCNI,IASnCC,GAAY,SAAAC,IAAAr3G,EAAAA,GAAAA,GAAAo3G,EAAAC,GAAA,IA+WfC,EAJAC,EA/CAC,E,IA5Tev3G,G,EAAAm3G,E,maAUhB,SAAAA,EAAYn7G,EAAMiE,GAAwB,IAAAy2G,EAAA1kH,EAGxC,IAHwCP,EAAAA,GAAAA,GAAA,KAAA0lH,GACxCnlH,EAAAgO,EAAAtZ,KAAA,KAAMsV,IAAKwC,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iCAENiO,EAAQsC,SACX,MAAM,IAAI3e,MAAM,0CAElB,IAAKqc,EAAQu3G,cAAgD,mBAAzBv3G,EAAQu3G,aAC1C,MAAM,IAAI5zH,MAAM,gBAADmE,OAAiBkY,EAAQsC,SAAQ,8CAElD,IAAKtC,EAAQw3G,uBAAkE,mBAAlCx3G,EAAQw3G,sBACnD,MAAM,IAAI7zH,MAAM,gBAADmE,OAAiBkY,EAAQsC,SAAQ,uDAoBlD,GAjBAvQ,EAAKwlH,aAAev3G,EAAQu3G,aAC5BxlH,EAAKylH,sBAAwBx3G,EAAQw3G,sBAErCzlH,EAAK8hD,SAAW,MAChB9hD,EAAKyqG,YAAczgG,EAAKygG,YACxBzqG,EAAKyvG,UAAYxhG,EAAQsC,SAEzBvQ,EAAKm9C,mBAAoB,EACzBn9C,EAAK0lH,wBACL1lH,EAAKs+C,YAAct+C,EAAK2lH,iBAExB3lH,EAAK4lH,YAAc57G,EAAKgyC,gBACxBh8C,EAAK6lH,QAAU77G,EAAK+xC,UAEpB/7C,EAAKsiD,aAAetiD,EAAK4lH,YACzB5lH,EAAK2hD,eAAiB3hD,EAAK6lH,SAEtB7lH,EAAK4lH,YACR,MAAM,IAAIh0H,MAAM,GAADmE,OAAIiK,EAAKyqG,YAAW,gDAErC,IAAKzqG,EAAK6lH,QACR,MAAM,IAAIj0H,MAAM,GAADmE,OAAIiK,EAAKyqG,YAAW,4CAGrCzqG,EAAK2W,MAAQ,CACX2Q,KAAM,EAENk3B,eAAe,EAEfonD,oBAAqB,KACrBjnD,gBAAgB,EAChBC,YAAY,EAEZknE,aAAe,KACfxvG,WAAY,KAEZqI,mBAAmB,EACnBkgC,iBAAiB,EACjB/hC,QAAS,KAETipG,mCAAoC,KACpC/U,yBAAyB,EACzB9L,qBAAqB,EAErBvuG,OAAQ,KAERmvG,gBAAgB,EAChBkgB,gBAAgB,EAEhBC,mCAAoC,KACpCpa,gCAAiC,KAEjCrG,sBAAuB,KACvB9mD,YAAY,EAEZvvC,YAAY,EACZiyC,aAAa,EAEb8kE,yBAAyB,EACzBrlE,yBAAyB,EAEzBowD,qBAAqB,EACrBC,yBAA0B,MAG5BlxG,EAAKmmH,gBAEL,IAAMv1G,GAAI1C,EAAAA,GAAAA,GAAAlO,GA+CW,OA7CjBA,EAAK8gD,WACPlwC,EAAK5G,KAAKiC,KAAKmvC,GAAG,sBAAsB,SAAC9gD,GACvC,IACEqjD,EACErjD,EADFqjD,kCAEF/sC,EAAKmtC,SAAS,CACZJ,kCAAAA,IACC,EACL,IACA/sC,EAAK5G,KAAKiC,KAAKmvC,GAAG,qBAAqB,SAAC9gD,GACtC,IACE2rH,EACE3rH,EADF2rH,mCAEFr1G,EAAKmtC,SAAS,CACZkoE,mCAAAA,GAEJ,MAEAr1G,EAAK5G,KAAKiC,KAAK+0C,KAAK,oBAAoB,WACtCpwC,EAAKmtC,SAAS,CACZmoE,yBAAyB,GAE7B,IAEAt1G,EAAK5G,KAAKiC,KAAKmvC,GAAG,oBAAoB,WACpCxqC,EAAKmtC,SAAS,CACZqoE,gBAAgB,GAEpB,IAEAx1G,EAAK5G,KAAKiC,KAAKmvC,GAAG,wBAAwB,WACxC,IAAQ2qE,EAAuCn1G,EAAK+F,MAA5CovG,mCAEJA,IACF94G,QAAQ4jB,IAAI,sBACZjgB,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,sBACPjZ,KAAM,CACJyrH,mCAAAA,KAIR,MAGFx+D,EAAAA,GAAAA,IAAAm9D,GAAAx2G,EAAAA,GAAAA,GAAAlO,IAAAwnD,EAAAA,GAAAA,GAAA29D,EAAAlyH,YAAA,gBAAAyxH,GAAAhwH,KAAAgwH,GAAqB1kH,CACvB,CAwRC,OAxRAN,EAAAA,GAAAA,GAAAylH,EAAA,EAAApuH,IAAA,gBAAA6C,MAED,YACE2tD,EAAAA,GAAAA,IAAAC,EAAAA,GAAAA,GAAA29D,EAAAlyH,WAAA,sBAAAyB,KAAA,KACF,GAEA,CAAAqC,IAAA,YAAA6C,MACA,WAAY,IAAA0V,EAAA,KACJsB,EAAOvd,KAEb,OAAIA,KAAK8rD,UACA,CAIL,WACE7vC,EAAK+2G,YACP,EAIA,WACEz1G,EAAK01G,uBACP,EAIA,WACE3yG,KAAM,iBAANA,CAAwB,6BACxBrE,EAAKi3G,cACP,EAIA,WACEj3G,EAAK63F,aACP,GAEA9yF,EAAAA,EAAAA,GAAAC,IAAAA,MAEA,SAAAO,IAAA,OAAAP,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,cAAAmb,EAAAnb,KAAA,EAC6B2V,EAAKk3G,uBAAsB,OAApC,IAAA1xG,EAAAC,KACA,CAAFD,EAAAnb,KAAA,eAAAmb,EAAAnb,KAAA,EACRiX,EAAKg1G,YAAYa,aAAa,CAClC71G,KAAAA,IACA,wBAAAkE,EAAAJ,OAAA,GAAAG,EAAA,MAINR,EAAAA,EAAAA,GAAAC,IAAAA,MAEA,SAAAkB,IAAA,IAAAc,EAAA,OAAAhC,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,OAEc,OAAV2c,EACEhH,EAAKqH,MADPL,WAAUZ,EAAA/b,KAAA,EAGNojD,GAAAA,GAAAA,QAAAA,wBAAmC1oC,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAC,IAAA,OAAAD,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,cAAAib,EAAAjb,KAAA,EACZiX,EAAKg1G,YAAYc,cAAc,CACzDtwG,aAAcxF,EAAK40G,eACnBrvG,mBAAoBvF,EAAK60G,sBAAsB70G,EAAK5G,MACpDsM,WAAAA,IACA,OAJiB,IAAA1B,EAAAG,KAMA,CAAFH,EAAAjb,KAAA,eAAAib,EAAAjb,KAAA,EACTiX,EAAKg1G,YAAYe,sBAAsB,CAAE/1G,KAAAA,IAAO,cAAAgE,EAAAU,OAAA,UAC/C,GAAI,cAAAV,EAAAU,OAAA,UAEN,GAAK,wBAAAV,EAAAF,OAAA,GAAAH,EAAA,MACZ,wBAAAmB,EAAAhB,OAAA,GAAAc,EAAA,MAGJnB,EAAAA,EAAAA,GAAAC,IAAAA,MAEA,SAAAa,IAAA,OAAAb,IAAAA,MAAA,SAAAe,GAAA,cAAAA,EAAA/Z,KAAA+Z,EAAA1b,MAAA,cAAA0b,EAAA1b,KAAA,EACQ2V,EAAKu2G,QAAQe,iBAAiB,CAClCh2G,KAAAA,IACA,wBAAAyE,EAAAX,OAAA,GAAAS,EAAA,KAKJ,WACEvE,EAAK5G,KAAKiC,KAAK+0C,KAAK,yBAAyB,WAC3C,IAAQ6qD,EAAoCj7F,EAAK+F,MAAzCk1F,gCAERj7F,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,gBACPjZ,KAAM,CACJuxG,gCAAAA,IAGN,IAEAj7F,EAAKitC,WAAW,CACd1uC,YAAY,GACX,CAAEmY,KAAM,UACb,EAIA,WAAO,GAGF,EACLjT,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAA0B,IAAA,OAAA1B,IAAAA,MAAA,SAAAmC,GAAA,cAAAA,EAAAnb,KAAAmb,EAAA9c,MAAA,OACE2V,EAAK+2G,aAAY,wBAAA5vG,EAAA/B,OAAA,GAAAsB,EAAA,MAGnB3B,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAiD,IAAA,OAAAjD,IAAAA,MAAA,SAAAoD,GAAA,cAAAA,EAAApc,KAAAoc,EAAA/d,MAAA,OACE2V,EAAK63F,cAAa,wBAAAzvF,EAAAhD,OAAA,GAAA6C,EAAA,MAGpBlD,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAA4C,IAAA,IAAA2vG,EAAAlwH,EAAA2f,EAAA,OAAAhC,IAAAA,MAAA,SAAAgD,GAAA,cAAAA,EAAAhc,KAAAgc,EAAA3d,MAAA,OAaG,OAZI2V,EAAKqH,MAAMhgB,SAAQkwH,EAIlBv3G,EAAK2zC,iBAFPtsD,EAAMkwH,EAANlwH,OACA2f,EAAUuwG,EAAVvwG,WAGFhH,EAAK4zC,qBAAqB5sC,GAAY,GAEtChH,EAAKyuC,SAAS,CACZpnD,OAAAA,EACA2f,WAAAA,IACC,IACJgB,EAAA3d,KAAA,EAEKiX,EAAKg1G,YAAYa,aAAa,CAClC71G,KAAAA,EAKAk2G,iBAAiB,IACjB,wBAAAxvG,EAAA5C,OAAA,GAAAwC,EAAA,MAGJ7C,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAsuB,IAAA,OAAAtuB,IAAAA,MAAA,SAAAivB,GAAA,cAAAA,EAAAjoC,KAAAioC,EAAA5pC,MAAA,OACE2V,EAAKk3G,uBACFpyF,MAAK,SAAC2yF,GACDA,GACFz3G,EAAKuuC,WAAW,CAAC,EAAG,kBAExB,IAAE,wBAAAta,EAAA7uB,OAAA,GAAAkuB,EAAA,MAGNvuB,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAuvB,IAAA,OAAAvvB,IAAAA,MAAA,SAAAkwB,GAAA,cAAAA,EAAAlpC,KAAAkpC,EAAA7qC,MAAA,cAAA6qC,EAAA7qC,KAAA,EACQ2V,EAAKu2G,QAAQe,iBAAiB,CAClCh2G,KAAAA,IACA,wBAAA4zB,EAAA9vB,OAAA,GAAAmvB,EAAA,MAGJxvB,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAywB,IAAA,OAAAzwB,IAAAA,MAAA,SAAAuxB,GAAA,cAAAA,EAAAvqC,KAAAuqC,EAAAlsC,MAAA,OAEEiX,EAAKitC,WAAW,CACd1uC,YAAY,GACX,UAAS,wBAAA02B,EAAAnxB,OAAA,GAAAqwB,EAAA,MAGd1wB,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAA6/B,IAAA,OAAA7/B,IAAAA,MAAA,SAAA+/B,GAAA,cAAAA,EAAA/4C,KAAA+4C,EAAA16C,MAAA,wBAAA06C,EAAA3/B,OAAA,GAAAy/B,EAAA,KAGN,GAAC,CAAAp9C,IAAA,0BAAA6C,MAED,WACE,IAAMsmE,EAAW,CACf9pD,aAAc/iB,KAAKmyH,eACnBrvG,mBAAoB9iB,KAAKoyH,sBAAsBpyH,KAAK2W,OAGtD,OAAO3W,KAAKuyH,YAAYoB,gBAAgB9mD,EAC1C,GAAC,CAAAnpE,IAAA,YAAA6C,OAAA2rH,GAAAlxG,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAu7B,IAAA,IAAAv5B,EAAA2wG,EAAAv3G,EAAA,YAAA4E,IAAAA,MAAA,SAAAw7B,GAAA,cAAAA,EAAAx0C,KAAAw0C,EAAAn2C,MAAA,OAaG,OAZO2c,EAAejjB,KAAKsjB,MAApBL,WAEF2wG,EAAgB,WAAiB,IAAhB1+F,EAAIn0B,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,KAC5Bsb,EAAK1F,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,yBAGT7D,EAAKquC,SAAS,CACZynD,sBAAuBj9E,EACvBm2B,YAAY,EACZ0C,aAAa,IACZ,EACL,EAACtR,EAAAx0C,KAAA,EAAAw0C,EAAAn2C,KAAA,EAG2BtG,KAAKuyH,YAAYsB,YAAY,CAAE5wG,WAAAA,IAAa,OAArD,IAAAw5B,EAAA/6B,KAEA,CAAF+6B,EAAAn2C,KAAA,SAGE,OAFfga,KAAM,iBAANA,CAAwB,0BAExBszG,IAAen3E,EAAAx6B,OAAA,UAER,GAAI,QAAAw6B,EAAAn2C,KAAA,iBAG4B,OAH5Bm2C,EAAAx0C,KAAA,GAAAw0C,EAAAh5B,GAAAg5B,EAAA,SAGb7iC,QAAQ4J,KAAK,qBAAoBi5B,EAAAh5B,IAAQg5B,EAAAx6B,OAAA,UAElC,GAAK,eAAAw6B,EAAAx6B,OAAA,SAGPjiB,KAAKuyH,YAAYuB,OAAO,CAC7BhxG,mBAAoB9iB,KAAKoyH,sBAAsBpyH,KAAK2W,QAEnDoqB,MAAK,SAAC7L,GACL,QAAKA,IAKL0+F,EAAc1+F,IAEP,EACT,IAAE,OACK,SAAC/pB,GAAK,OAAK,CAAK,KAAC,yBAAAsxC,EAAAp7B,OAAA,GAAAm7B,EAAA,mBAC3B,kBAAA01E,EAAAnyG,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,kBAAA6C,OAAA0rH,GAAAjxG,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAk7B,IAAA,OAAAl7B,IAAAA,MAAA,SAAAs7B,GAAA,cAAAA,EAAAt0C,KAAAs0C,EAAAj2C,MAAA,cAAAi2C,EAAAt6B,OAAA,UACS,GAAI,wBAAAs6B,EAAAl7B,OAAA,GAAA86B,EAAA,KACZ,kBAAA81E,EAAAlyG,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,cAAA6C,OAAAyrH,GAAAhxG,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAy7B,EAAkBq3E,GAAO,IAAAhoE,EAAAzoD,EAAA2f,EAAA0vG,EAAAvoE,EAAA4pE,EAAAC,EAAApgF,EAAApqB,EAAA1M,EAAA,YAAAkE,IAAAA,MAAA,SAAA27B,GAAA,cAAAA,EAAA30C,KAAA20C,EAAAt2C,MAAA,OACqC,GADrCylD,EAC0C/rD,KAAKsjB,MAA9DhgB,EAAMyoD,EAANzoD,OAAQ2f,EAAU8oC,EAAV9oC,WAAY0vG,EAAc5mE,EAAd4mE,eAAgBvoE,EAAgB2B,EAAhB3B,iBAEvC2pE,EAAO,CAAAn3E,EAAAt2C,KAAA,cACJ,IAAI/H,MAAM,oEAAmE,UAEhF6rD,EAAgB,CAAAxN,EAAAt2C,KAAA,cACb,IAAI/H,MAAM,yCAAwC,OAerC,OAbjB+E,GAAUA,GAAUywH,GACtBn6G,QAAQ4J,KAAK,wDAEXmvG,GACF/4G,QAAQ4J,KAAK,0DAEflD,KAAM,iBAANA,CAAwB,2BAAD5d,OAA4BqxH,IAE7CC,EAAch0H,KAAKue,IAAIxD,IAAIlL,QAAQzR,OAAOmlB,UAAU3f,GAAOC,KAAKkwH,EAAS,QAAQvzH,SAAS,OAE5FyiB,GAAc+wG,GAChBp6G,QAAQ4J,KAAK,+BAAD9gB,OAAgCugB,EAAU,aAAAvgB,OAAYsxH,IAAcC,EAExDj0H,KAAKwyH,QAAQ/iE,aAAarF,GAA5CvW,EAAaogF,EAAbpgF,cAAa+I,EAAAt2C,KAAA,GACCtG,KAAKwyH,QAAQl4E,WAAWzG,GAAc,QAEW,GAFjEpqB,EAAOmzB,EAAAl7B,KAEbpB,KAAM,iBAANA,CAAwB,WAAD5d,OAAYmxC,EAAa,cAAAnxC,OAAa+mB,IAE7C,IAAZA,EAAa,CAAAmzB,EAAAt2C,KAAA,SAGc,MAF7BtG,KAAKwqD,WAAW,CACdmoE,gBAAgB,GACf,CAAE1+F,KAAM,kBACL,IAAI11B,MAAM,8BAADmE,OAA+BmxC,EAAa,aAAAnxC,OAAY+mB,IAAU,QAGnFzpB,KAAKwyH,QAAQt0B,SAAS,CACpB/zC,aAAcC,EACd9mD,OAAQywH,IACPhzF,MAAK,SAAC7L,GACP5U,KAAM,iBAANA,CAAwB,WAAD5d,OAAYwyB,IACnCnY,EAAK2tC,SAAS,CACZ8tD,gCAAiCtjF,IAGnC5U,KAAM,iBAANA,CAAwB,qBAAD5d,OAAsBqa,EAAKuG,MAAMk1F,kCAExDz7F,EAAKytC,WAAW,CACdmoE,gBAAgB,GACf,CAAE1+F,KAAM,iBACb,IAAE,yBAAA2oB,EAAAv7B,OAAA,GAAAq7B,EAAA,UACH,SAAA/6B,GAAA,OAAAqwG,EAAAjyG,MAAA,KAAAhf,UAAA,MAAA+wH,CAAA,CAlae,CAASllE,IAsa3B,YChbgD,IAG1CsnE,GAAO,SAAAC,IAAAz5G,EAAAA,GAAAA,GAAAw5G,EAAAC,GAAA,I,IAAAx5G,G,EAAAu5G,E,maAUX,SAAAA,EAAYv9G,GAAM,OAAAvK,EAAAA,GAAAA,GAAA,KAAA8nH,GAAAv5G,EAAAtZ,KAAA,KACVsV,EAAM,CACVuG,SAAU,UACVi1G,aAAcx7G,EAAK4H,IAAI8xC,gBAAgB7wC,KAAK7I,EAAK4H,KACjD6zG,sBAAuBz7G,EAAK4H,IAAIywC,yBAAyBxvC,KAAK7I,EAAK4H,MAEvE,CAPC,OAOAlS,EAAAA,GAAAA,GAAA6nH,EAAA,OAAAxwH,IAAA,UAAA6C,MAfD,WACE,MAAO,GAAP7D,OAAU1C,KAAKod,cAAa,KAAA1a,OAAI1C,KAAKqd,YACvC,GAAC,CAAA3Z,IAAA,cAAA6C,MACD,WACE,OAAOuU,GAAAA,GAAAA,MAAAA,GACT,GAAC,CAAApX,IAAA,YAAA6C,MACD,WACE,OAAOuU,GAAAA,GAAAA,MAAAA,GACT,KAACo5G,CAAA,CATU,CAASpC,IAoBtB,Y,uBCtByC,IASnCsC,GAAY,SAAArC,IAAAr3G,EAAAA,GAAAA,GAAA05G,EAAArC,GAAA,IAwWfC,EAjBAC,EAzDAoC,E,IA9Re15G,G,EAAAy5G,E,maAYhB,SAAAA,EAAYz9G,EAAMiE,GAAwB,IAAAy2G,EAAA1kH,EAGxC,IAHwCP,EAAAA,GAAAA,GAAA,KAAAgoH,GACxCznH,EAAAgO,EAAAtZ,KAAA,KAAMsV,IAAKwC,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iCAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAuRI,WACfA,EAAK6lH,QAAQ8B,wBAAwB,CACnCnqE,aAAcx9C,EAAK2W,MAAM8mC,iBACzB9mD,OAAQqJ,EAAK2W,MAAMhgB,SAElBy9B,MAAK,SAACwzF,GACL5nH,EAAK+9C,SAAS,CACZgoD,YAAa6hB,GAEjB,GACJ,KA/RO35G,EAAQsC,SACX,MAAM,IAAI3e,MAAM,0CAElB,IAAKqc,EAAQu3G,cAAgD,mBAAzBv3G,EAAQu3G,aAC1C,MAAM,IAAI5zH,MAAM,gBAADmE,OAAiBkY,EAAQsC,SAAQ,8CAElD,IAAKtC,EAAQw3G,uBAAkE,mBAAlCx3G,EAAQw3G,sBACnD,MAAM,IAAI7zH,MAAM,gBAADmE,OAAiBkY,EAAQsC,SAAQ,uDAqBlD,GAlBAvQ,EAAKwlH,aAAev3G,EAAQu3G,aAC5BxlH,EAAKylH,sBAAwBx3G,EAAQw3G,sBAErCzlH,EAAK8hD,SAAW,MAChB9hD,EAAKyqG,YAAczgG,EAAKygG,YACxBzqG,EAAKyvG,UAAYxhG,EAAQsC,SAEzBvQ,EAAK+gD,YAAa,EAClB/gD,EAAKm9C,mBAAoB,EACzBn9C,EAAK0lH,wBACL1lH,EAAKs+C,YAAct+C,EAAK2lH,iBAExB3lH,EAAK4lH,YAAc57G,EAAK+xC,UACxB/7C,EAAK6lH,QAAU77G,EAAKgyC,gBAEpBh8C,EAAKsiD,aAAetiD,EAAK4lH,YACzB5lH,EAAK2hD,eAAiB3hD,EAAK6lH,SAEtB7lH,EAAK4lH,YACR,MAAM,IAAIh0H,MAAM,OAADmE,OAAQiK,EAAKyqG,YAAW,4CAEzC,IAAKzqG,EAAK6lH,QACR,MAAM,IAAIj0H,MAAM,OAADmE,OAAQiK,EAAKyqG,YAAW,wCAGzCzqG,EAAK2W,MAAQ,CACX2Q,KAAM,EAENk3B,eAAe,EAEfonD,oBAAqB,KACrBjnD,gBAAgB,EAChBsC,qBAAqB,EAErB8kE,mCAAoC,KAEpCzvG,WAAY,KAEZqI,mBAAmB,EACnBkgC,iBAAiB,EACjB/hC,QAAS,KAETooF,qBAAqB,EAErB2G,gCAAiC,KACjCoa,mCAAoC,KAEpCjV,yBAAyB,EACzBlL,gBAAgB,EAEhBN,sBAAuB,KACvB9mD,YAAY,EAEZmpE,YAAa,KACb9hB,YAAa,KACb52F,YAAY,EACZiyC,aAAa,EAEbT,oBAAoB,EAEpBzB,cAAe,MAGjB,IAAMtuC,GAAI1C,EAAAA,GAAAA,GAAAlO,GAaW,OAXjBA,EAAKm/C,WACPn/C,EAAKgK,KAAKiC,KAAK+0C,KAAK,sBAAqB,eAAAjgD,GAAAsT,EAAAA,EAAAA,GAAAC,IAAAA,MAAE,SAAAO,EAAAjV,GAAA,IAAAmmH,EAAA,OAAAzxG,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OACzCosH,EAAkCnmH,EAAlCmmH,mCAEAn1G,EAAKmtC,SAAS,CACZgoE,mCAAAA,IACC,GAAK,wBAAAjxG,EAAAJ,OAAA,GAAAG,EAAA,KACT,gBAAAG,GAAA,OAAAjU,EAAAqS,MAAA,KAAAhf,UAAA,EANwC,IAS3C4L,EAAKmmH,iBACL5+D,EAAAA,GAAAA,IAAAm9D,GAAAx2G,EAAAA,GAAAA,GAAAlO,IAAAwnD,EAAAA,GAAAA,GAAAigE,EAAAx0H,YAAA,gBAAAyxH,GAAAhwH,KAAAgwH,GAAqB1kH,CACvB,CAwSC,OAxSAN,EAAAA,GAAAA,GAAA+nH,EAAA,EAAA1wH,IAAA,gBAAA6C,MAED,YACE2tD,EAAAA,GAAAA,IAAAC,EAAAA,GAAAA,GAAAigE,EAAAx0H,WAAA,sBAAAyB,KAAA,KACF,GAEA,CAAAqC,IAAA,YAAA6C,MACA,WAAY,IAAA0V,EAAA,KACJsB,EAAOvd,KAGb,OAAIA,KAAKytD,UACA,EAELzsC,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAC,IAAA,OAAAD,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OACE2V,EAAKw4G,eAAc,wBAAAlzG,EAAAF,OAAA,GAAAH,EAAA,KAIrB,WACEjF,EAAK22F,cACP,EAGA,WACE32F,EAAK63F,aACP,GAEA9yF,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAkB,IAAA,OAAAlB,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,OACE2V,EAAKu2G,QAAQkC,eAAe,CAC1Bn3G,KAAAA,IACA,wBAAA8E,EAAAhB,OAAA,GAAAc,EAAA,MAGJnB,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAa,IAAA,OAAAb,IAAAA,MAAA,SAAAe,GAAA,cAAAA,EAAA/Z,KAAA+Z,EAAA1b,MAAA,cAAA0b,EAAA1b,KAAA,EACQiX,EAAKg1G,YAAYoC,eAAe,CACpCp3G,KAAAA,EACAkxC,SAAU,QACV,wBAAAzsC,EAAAX,OAAA,GAAAS,EAAA,MAGJd,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAA0B,IAAA,OAAA1B,IAAAA,MAAA,SAAAmC,GAAA,cAAAA,EAAAnb,KAAAmb,EAAA9c,MAAA,cAAA8c,EAAA9c,KAAA,EACQiX,EAAKg1G,YAAYqC,uBAAuB,CAAEr3G,KAAAA,IAAO,wBAAA6F,EAAA/B,OAAA,GAAAsB,EAAA,KAIzD,WACEpF,EAAK5G,KAAKiC,KAAK+0C,KAAK,iBAAiB,SAAA7pC,GAAuC,IAArC00F,EAA+B10F,EAA/B00F,gCACrCj7F,EAAKmtC,SAAS,CACZ8tD,gCAAAA,GAEJ,IAEAj7F,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,0BAGT3C,EAAKitC,WAAW,CACd1uC,YAAY,GACX,SACL,EAGA,WAAO,GAGF,EACLkF,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAiD,IAAA,OAAAjD,IAAAA,MAAA,SAAAoD,GAAA,cAAAA,EAAApc,KAAAoc,EAAA/d,MAAA,OACE2V,EAAKw4G,eAAc,wBAAApwG,EAAAhD,OAAA,GAAA6C,EAAA,MAGrBlD,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAA4C,IAAA,OAAA5C,IAAAA,MAAA,SAAAgD,GAAA,cAAAA,EAAAhc,KAAAgc,EAAA3d,MAAA,OACE2V,EAAK63F,cAAa,wBAAA7vF,EAAA5C,OAAA,GAAAwC,EAAA,MAGpB7C,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAuvB,IAAA,OAAAvvB,IAAAA,MAAA,SAAAkwB,GAAA,cAAAA,EAAAlpC,KAAAkpC,EAAA7qC,MAAA,cAAA6qC,EAAA7qC,KAAA,EACQojD,GAAAA,GAAAA,QAAAA,wBAAmC1oC,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAsuB,IAAA,OAAAtuB,IAAAA,MAAA,SAAAivB,GAAA,cAAAA,EAAAjoC,KAAAioC,EAAA5pC,MAAA,cAAA4pC,EAAA5pC,KAAA,EACT2V,EAAKs2G,YAAYsC,iBAAiB54G,GAAK,OAAhD,IAAAi0B,EAAAxuB,KACA,CAAFwuB,EAAA5pC,KAAA,QAGE,OAFpB2V,EAAKuuC,WAAW,CACdqnD,qBAAqB,GACpB,kBAAiB3hE,EAAAjuB,OAAA,UACb,GAAI,cAAAiuB,EAAAjuB,OAAA,UAEN,GAAK,wBAAAiuB,EAAA7uB,OAAA,GAAAkuB,EAAA,MACZ,wBAAA4B,EAAA9vB,OAAA,GAAAmvB,EAAA,MAGJxvB,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAA6/B,IAAA,OAAA7/B,IAAAA,MAAA,SAAA+/B,GAAA,cAAAA,EAAA/4C,KAAA+4C,EAAA16C,MAAA,cAAA06C,EAAA16C,KAAA,EAEQojD,GAAAA,GAAAA,QAAAA,wBAAmC1oC,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAywB,IAAA,IAAAvtB,EAAAlB,EAAAmnC,EAAA,OAAAnpC,IAAAA,MAAA,SAAAuxB,GAAA,cAAAA,EAAAvqC,KAAAuqC,EAAAlsC,MAAA,OAGtB,GAHsB6d,EAIpC5G,EAAK+F,MAFPL,EAAUkB,EAAVlB,WACAmnC,EAAgBjmC,EAAhBimC,kBAEEnnC,IAAcmnC,EAAgB,CAAA5X,EAAAlsC,KAAA,gBAAAksC,EAAAlsC,KAAA,EACJiX,EAAKg1G,YAAYc,cAAc,CACzDtwG,aAAcxF,EAAK60G,sBAAsB70G,EAAK5G,MAC9CmM,mBAAoBvF,EAAK40G,eACzBlvG,WAAAA,IACA,OAJiB,IAAAuvB,EAAA9wB,KAKA,CAAF8wB,EAAAlsC,KAAA,gBAAAksC,EAAAlsC,KAAA,EACe2V,EAAKs2G,YAAYuC,mBAAmB,CAAEv3G,KAAAA,IAAO,OAAtD,IAAAi1B,EAAA9wB,KAEA,CAAF8wB,EAAAlsC,KAAA,gBAAAksC,EAAAlsC,KAAA,GACX2V,EAAKu2G,QAAQkC,eAAe,CAChCn3G,KAAAA,IACA,eAAAi1B,EAAAvwB,OAAA,UACK,GAAI,QAEXrI,QAAQ4J,KAAK,iDAAgD,QAAAgvB,EAAAlsC,KAAA,iBAM/D,OAFFiX,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,wBACPsyB,EAAAvwB,OAAA,UACK,GAAK,yBAAAuwB,EAAAnxB,OAAA,GAAAqwB,EAAA,MAEd,wBAAAsP,EAAA3/B,OAAA,GAAAy/B,EAAA,MAGJ9/B,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAk7B,IAAA,OAAAl7B,IAAAA,MAAA,SAAAs7B,GAAA,cAAAA,EAAAt0C,KAAAs0C,EAAAj2C,MAAA,cAAAi2C,EAAAj2C,KAAA,EACQojD,GAAAA,GAAAA,QAAAA,wBAAmC1oC,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAu7B,IAAA,IAAA4N,EAAA2qE,EAAAlhF,EAAAmhF,EAAAxc,EAAAl1G,EAAA,OAAA2d,IAAAA,MAAA,SAAAw7B,GAAA,cAAAA,EAAAx0C,KAAAw0C,EAAAn2C,MAAA,OAKnB,OAFnB8jD,EACEnuC,EAAKqH,MADP8mC,iBAAgB2qE,EAEQ94G,EAAKqyC,eAAemB,aAAarF,GAAnDvW,EAAakhF,EAAblhF,cAAa4I,EAAAn2C,KAAA,EAEU2V,EAAKu2G,QAAQ5+E,cAAcC,GAAc,OAAlD,KAAhBmhF,EAAgBv4E,EAAA/6B,MAEA,CAAF+6B,EAAAn2C,KAAA,SAEZ,OAAEkyG,EACJwc,EADFrrF,KAAI8S,EAAAn2C,KAAA,EAGe2V,EAAKu2G,QAAQluG,oBAAoBk0F,GAAgC,OAMrF,OANKl1G,EAAMm5C,EAAA/6B,OAEVzF,EAAKuuC,WAAW,CACdlnD,OAAAA,EACAk1G,gCAAAA,GACC,sBACJ/7D,EAAAx6B,OAAA,UACM,GAAI,eAAAw6B,EAAAx6B,OAAA,UAEJ,GAAK,yBAAAw6B,EAAAp7B,OAAA,GAAAm7B,EAAA,MAEd,wBAAAD,EAAAl7B,OAAA,GAAA86B,EAAA,MAGJn7B,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAy7B,IAAA,OAAAz7B,IAAAA,MAAA,SAAA27B,GAAA,cAAAA,EAAA30C,KAAA20C,EAAAt2C,MAAA,cAAAs2C,EAAAt2C,KAAA,EACQiX,EAAKg1G,YAAYqC,uBAAuB,CAAEr3G,KAAAA,IAAO,wBAAAq/B,EAAAv7B,OAAA,GAAAq7B,EAAA,MAGzD17B,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAi8B,IAAA,OAAAj8B,IAAAA,MAAA,SAAAk8B,GAAA,cAAAA,EAAAl1C,KAAAk1C,EAAA72C,MAAA,OAEEiX,EAAKitC,WAAW,CACd1uC,YAAY,GACX,UAAS,wBAAAqhC,EAAA97B,OAAA,GAAA67B,EAAA,MAGdl8B,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAA+9B,IAAA,OAAA/9B,IAAAA,MAAA,SAAAi+B,GAAA,cAAAA,EAAAj3C,KAAAi3C,EAAA54C,MAAA,wBAAA44C,EAAA79B,OAAA,GAAA29B,EAAA,KAKN,GAAC,CAAAt7C,IAAA,sBAAA6C,MAED,WAEE,OAD0BvG,KAAKsjB,MAAvBuwB,aAEV,GAAC,CAAAnwC,IAAA,kBAAA6C,OAAA8tH,GAAArzG,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAq9B,IAAA,OAAAr9B,IAAAA,MAAA,SAAA69B,GAAA,cAAAA,EAAA72C,KAAA62C,EAAAx4C,MAAA,OACEtG,KAAKwqD,WAAW,CAAC,EAAG,CAAEv2B,KAAM,iBAAiB,wBAAA6qB,EAAAz9B,OAAA,GAAAi9B,EAAA,UAC9C,kBAAA+1E,EAAAt0G,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,YAAA6C,MAcD,WAAY,IAAA8V,EAAA,KACJkB,EAAOvd,KACbovD,EAAqC7xC,EAAK+F,MAAlC8mC,EAAgBgF,EAAhBhF,iBAAkB9mD,EAAM8rD,EAAN9rD,OAE1B,OAAOia,EAAKi1G,QAAQsB,OAAO,CACzB3pE,aAAcC,EACd9mD,OAAQA,IAEPy9B,MAAK,SAAC7L,GACL,QAAKA,IAIL7Y,EAAK1F,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,0BAGT3C,EAAKmtC,SAAS,CACZynD,sBAAuBj9E,EACvBm2B,YAAY,EACZ0C,aAAa,IACZ,IAEI,EACT,IAAE,OACK,SAAC5iD,GACN,MAAI,mBAAmB8C,KAAK9C,IAE1BoS,EAAKmtC,SAAS,CACZW,YAAY,EACZ0C,aAAa,IACZ,IACI,IAEPn0C,QAAQ4J,KAAK,cAAerY,IAErB,EAEX,GACJ,GAAC,CAAAzH,IAAA,kBAAA6C,OAAA0rH,GAAAjxG,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAs+B,IAAA,IAAAwM,EAAAomD,EAAA9mD,EAAA,OAAApqC,IAAAA,MAAA,SAAAw+B,GAAA,cAAAA,EAAAx3C,KAAAw3C,EAAAn5C,MAAA,OAC2C,GAD3CylD,EACgD/rD,KAAKsjB,MAA3C6uF,EAAqBpmD,EAArBomD,sBAAuB9mD,EAAUU,EAAVV,YAC3B8mD,IAAyB9mD,EAAU,CAAA5L,EAAAn5C,KAAA,gBAAAm5C,EAAAn5C,KAAA,EAC3BtG,KAAKwyH,QAAQyC,QAAQ9iB,GAAsB,WAAA1yD,EAAA/9B,KAAE,CAAF+9B,EAAAn5C,KAAA,eAAAm5C,EAAAx9B,OAAA,UAC5C,GAAI,OAMR,OAJHrI,QAAQ4J,KAAK,wCACbxjB,KAAK0qD,SAAU,CACbynD,sBAAuB,KACvB9mD,YAAY,IACX5L,EAAAx9B,OAAA,UACI,GAAK,eAAAw9B,EAAAx9B,OAAA,UAGT,GAAK,yBAAAw9B,EAAAp+B,OAAA,GAAAk+B,EAAA,UACb,kBAAA0yE,EAAAlyG,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,cAAA6C,OAAAyrH,GAAAhxG,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAA66D,EAAkBi4C,GAAO,IAAAtnE,EAAAnpD,EAAA2f,EAAAwvF,EAAAuhB,EAAA/sH,EAAA8V,EAAA,YAAAkE,IAAAA,MAAA,SAAA86D,GAAA,cAAAA,EAAA9zE,KAAA8zE,EAAAz1E,MAAA,OACmB,GADnBmmD,EACwBzsD,KAAKsjB,MAA5ChgB,EAAMmpD,EAANnpD,OAAQ2f,EAAUwpC,EAAVxpC,WAAYwvF,EAAchmD,EAAdgmD,eAEvBshB,EAAO,CAAAh4C,EAAAz1E,KAAA,cACJ,IAAI/H,MAAM,oEAAmE,OAkBpF,OAhBG+E,GAAUA,GAAUywH,GACtBn6G,QAAQ4J,KAAK,wDAEXivF,GACF74F,QAAQ4J,KAAK,0DAEflD,KAAM,iBAANA,CAAwB,2BAAD5d,OAA4BqxH,IAE7CC,EAAch0H,KAAKue,IAAIxD,IAAIlL,QAAQzR,OAAOmlB,UAAU3f,GAAOC,KAAKkwH,EAAS,QAAQvzH,SAAS,OAE5FyiB,GAAc+wG,GAChBp6G,QAAQ4J,KAAK,+BAAD9gB,OAAgCugB,EAAU,aAAAvgB,OAAYsxH,IAE9D/sH,EAAO,CACX8b,aAAc/iB,KAAKoyH,sBAAsBpyH,KAAK2W,MAC9CrT,OAAQywH,GACTh4C,EAAAz1E,KAAA,GAEKtG,KAAKuyH,YAAYr0B,SAASj3F,GAAM,SAACiuB,GACrC5U,KAAM,iBAANA,CAAwB,WAAD5d,OAAYwyB,IACnCnY,EAAK2tC,SAAS,CACZkoE,mCAAoC19F,EACpCyoF,yBAAyB,GAE7B,IAAG58E,MAAK,WAENhkB,EAAKytC,WAAW,CACdioD,gBAAgB,GACf,eACL,IAAE,yBAAA12B,EAAA16D,OAAA,GAAAy6D,EAAA,UACH,SAAAt5D,GAAA,OAAAwvG,EAAAjyG,MAAA,KAAAhf,UAAA,MAAAqzH,CAAA,CA9Ye,CAASxnE,IAiZ3B,YC3ZgD,IAG1CsoE,GAAO,SAAAC,IAAAz6G,EAAAA,GAAAA,GAAAw6G,EAAAC,GAAA,I,IAAAx6G,G,EAAAu6G,E,maAaX,SAAAA,EAAYv+G,GAAM,OAAAvK,EAAAA,GAAAA,GAAA,KAAA8oH,GAAAv6G,EAAAtZ,KAAA,KACVsV,EAAM,CACVuG,SAAU,UACVi1G,aAAcx7G,EAAK4H,IAAI8xC,gBAAgB7wC,KAAK7I,EAAK4H,KACjD6zG,sBAAuBz7G,EAAK4H,IAAIywC,yBAAyBxvC,KAAK7I,EAAK4H,MAEvE,CARC,OAQAlS,EAAAA,GAAAA,GAAA6oH,EAAA,OAAAxxH,IAAA,UAAA6C,MAlBD,WACE,MAAO,GAAP7D,OAAU1C,KAAKod,cAAa,KAAA1a,OAAI1C,KAAKqd,YACvC,GAAC,CAAA3Z,IAAA,cAAA6C,MAED,WACE,OAAOuU,GAAAA,GAAAA,MAAAA,GACT,GAAC,CAAApX,IAAA,YAAA6C,MAED,WACE,OAAOuU,GAAAA,GAAAA,MAAAA,GACT,KAACo6G,CAAA,CAXU,CAASd,IAsBtB,Y,uBCxByC,IAYpBgB,GAAiB,SAAArD,IAAAr3G,EAAAA,GAAAA,GAAA06G,EAAArD,GAAA,IAwXnCC,EANAC,EA/CAC,E,IAnUmCv3G,G,EAAAy6G,E,maAWpC,SAAAA,EAAYz+G,EAAYiE,GAA6B,IAAAy2G,EAAA1kH,EAEnD,IAFmDP,EAAAA,GAAAA,GAAA,KAAAgpH,GACnDzoH,EAAAgO,EAAAtZ,KAAA,KAAMsV,IAAKwC,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iCAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,0BAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBACNiO,EAAQ26B,UACX,MAAM,IAAIh3C,MAAM,gDAElB,IAAKqc,EAAQgC,eACX,MAAM,IAAIre,MAAM,6BAADmE,OAA8BkY,EAAQ26B,UAAS,qCAEhE,IAAK36B,EAAQu3G,cAAgD,mBAAzBv3G,EAAQu3G,aAC1C,MAAM,IAAI5zH,MAAM,qBAADmE,OAAsBkY,EAAQgC,eAAc,aAAAla,OAAYkY,EAAQ26B,UAAS,8CAE1F,IAAK36B,EAAQw3G,uBAAkE,mBAAlCx3G,EAAQw3G,sBACnD,MAAM,IAAI7zH,MAAM,qBAADmE,OAAsBkY,EAAQgC,eAAc,aAAAla,OAAYkY,EAAQ26B,UAAS,uDAoB1F,GAjBA5oC,EAAKiQ,eAAiBhC,EAAQgC,eAC9BjQ,EAAK4oC,UAAY36B,EAAQ26B,UACzB5oC,EAAKwlH,aAAev3G,EAAQu3G,aAC5BxlH,EAAKylH,sBAAwBx3G,EAAQw3G,sBAErCzlH,EAAK8hD,SAAW,MAEhB9hD,EAAKm9C,mBAAoB,EACzBn9C,EAAK0lH,wBACL1lH,EAAKs+C,YAAct+C,EAAK2lH,iBAExB3lH,EAAK6wG,aAAe7mG,EAAKgyC,gBACzBh8C,EAAK6lH,QAAU77G,EAAK+xC,UAEpB/7C,EAAKsiD,aAAetiD,EAAK6wG,aACzB7wG,EAAK2hD,eAAiB3hD,EAAK6lH,SAEtB7lH,EAAK6wG,aACR,MAAM,IAAIj/G,MAAM,wDAElB,IAAKoO,EAAK6lH,QACR,MAAM,IAAIj0H,MAAM,mDAGlBoO,EAAK2W,MAAQ,CACX2Q,KAAM,EAENk3B,eAAe,EAEfonD,oBAAqB,KACrBjnD,gBAAgB,EAChBC,YAAY,EAEZknE,aAAe,KACfxvG,WAAY,KAEZqI,mBAAmB,EACnBkgC,iBAAiB,EACjB/hC,QAAS,KAETkiC,+BAAgC,KAChCgyD,yBAAyB,EACzB9L,qBAAqB,EAErBvuG,OAAQ,KAERmvG,gBAAgB,EAChBkgB,gBAAgB,EAEhB5uG,+BAAgC,KAChCy0F,gCAAiC,KAEjCrG,sBAAuB,KACvB9mD,YAAY,EAEZvvC,YAAY,EACZiyC,aAAa,EAEb8kE,yBAAyB,EACzBrlE,yBAAyB,EAEzBowD,qBAAqB,EACrBC,yBAA0B,KAC1BjC,gBAAiB,GAGnBjvG,EAAKmmH,gBAEL,IAAMv1G,GAAI1C,EAAAA,GAAAA,GAAAlO,GA+CW,OA7CjBA,EAAK8gD,WACPlwC,EAAK5G,KAAKiC,KAAKmvC,GAAG,sBAAsB,SAAC9gD,GACvC,IACEqjD,EACErjD,EADFqjD,kCAEF/sC,EAAKmtC,SAAS,CACZJ,kCAAAA,IACC,EACL,IACA/sC,EAAK5G,KAAKiC,KAAKmvC,GAAG,qBAAqB,SAAC9gD,GACtC,IACE8c,EACE9c,EADF8c,+BAEFxG,EAAKmtC,SAAS,CACZ3mC,+BAAAA,GAEJ,MAEAxG,EAAK5G,KAAKiC,KAAK+0C,KAAK,oBAAoB,WACtCpwC,EAAKmtC,SAAS,CACZmoE,yBAAyB,GAE7B,IAEAt1G,EAAK5G,KAAKiC,KAAKmvC,GAAG,oBAAoB,WACpCxqC,EAAKmtC,SAAS,CACZqoE,gBAAgB,GAEpB,IAEAx1G,EAAK5G,KAAKiC,KAAKmvC,GAAG,wBAAwB,WACxC,IAAQ4D,EAAmCpuC,EAAK+F,MAAxCqoC,+BAEJA,IACF/xC,QAAQ4jB,IAAI,sBACZjgB,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,sBACPjZ,KAAM,CACJ0kD,+BAAAA,KAIR,MAGFuI,EAAAA,GAAAA,IAAAm9D,GAAAx2G,EAAAA,GAAAA,GAAAlO,IAAAwnD,EAAAA,GAAAA,GAAAihE,EAAAx1H,YAAA,gBAAAyxH,GAAAhwH,KAAAgwH,GAAqB1kH,CACvB,CA6RC,OA7RAN,EAAAA,GAAAA,GAAA+oH,EAAA,EAAA1xH,IAAA,gBAAA6C,MAED,YACE2tD,EAAAA,GAAAA,IAAAC,EAAAA,GAAAA,GAAAihE,EAAAx1H,WAAA,sBAAAyB,KAAA,KACF,GAEA,CAAAqC,IAAA,YAAA6C,MACA,WAAY,IAAA0V,EAAA,KACJsB,EAAOvd,KAEb,OAAIA,KAAK8rD,UACA,CAIL,WACE7vC,EAAK+2G,YACP,EAIA,WACEz1G,EAAK01G,uBACP,EAIA,WACE3yG,KAAM,iBAANA,CAAwB,6BACxBrE,EAAKi3G,cACP,EAIA,WACEj3G,EAAK63F,aACP,GAEA9yF,EAAAA,EAAAA,GAAAC,IAAAA,MAEA,SAAAO,IAAA,OAAAP,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,cAAAmb,EAAAnb,KAAA,EAC6B2V,EAAKk3G,uBAAsB,OAApC,IAAA1xG,EAAAC,KAEA,CAAFD,EAAAnb,KAAA,eAAAmb,EAAAnb,KAAA,EACRiX,EAAKigG,aAAa6X,kBAAkB,CACxC93G,KAAAA,IACA,wBAAAkE,EAAAJ,OAAA,GAAAG,EAAA,MAINR,EAAAA,EAAAA,GAAAC,IAAAA,MAEA,SAAAkB,IAAA,IAAAc,EAAA,OAAAhC,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,OAEc,OAAV2c,EACEhH,EAAKqH,MADPL,WAAUZ,EAAA/b,KAAA,EAGNojD,GAAAA,GAAAA,QAAAA,wBAAmC1oC,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAC,IAAA,OAAAD,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,cAAAib,EAAAjb,KAAA,EACZiX,EAAKigG,aAAa6V,cAAc,CAC1DtwG,aAAcxF,EAAK40G,eACnBrvG,mBAAoBvF,EAAK60G,sBAAsB70G,EAAK5G,MACpDsM,WAAAA,IACA,OAJiB,IAAA1B,EAAAG,KAMA,CAAFH,EAAAjb,KAAA,eAAAib,EAAAjb,KAAA,EACTiX,EAAKigG,aAAa8V,sBAAsB,CAAE/1G,KAAAA,IAAO,cAAAgE,EAAAU,OAAA,UAChD,GAAI,cAAAV,EAAAU,OAAA,UAEN,GAAK,wBAAAV,EAAAF,OAAA,GAAAH,EAAA,MACZ,wBAAAmB,EAAAhB,OAAA,GAAAc,EAAA,MAGJnB,EAAAA,EAAAA,GAAAC,IAAAA,MAEA,SAAAa,IAAA,OAAAb,IAAAA,MAAA,SAAAe,GAAA,cAAAA,EAAA/Z,KAAA+Z,EAAA1b,MAAA,cAAA0b,EAAA1b,KAAA,EACQ2V,EAAKu2G,QAAQe,iBAAiB,CAClCh2G,KAAAA,IACA,wBAAAyE,EAAAX,OAAA,GAAAS,EAAA,KAKJ,WACEvE,EAAK5G,KAAKiC,KAAK+0C,KAAK,yBAAyB,WAC3C,IAAQ6qD,EAAoCj7F,EAAK+F,MAAzCk1F,gCAERj7F,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,gBACPjZ,KAAM,CACJuxG,gCAAAA,IAGN,IAEAj7F,EAAKitC,WAAW,CACd1uC,YAAY,GACX,CAAEmY,KAAM,UACb,EAIA,WAAO,GAGF,EACLjT,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAA0B,IAAA,OAAA1B,IAAAA,MAAA,SAAAmC,GAAA,cAAAA,EAAAnb,KAAAmb,EAAA9c,MAAA,OACE2V,EAAK+2G,aAAY,wBAAA5vG,EAAA/B,OAAA,GAAAsB,EAAA,MAGnB3B,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAiD,IAAA,OAAAjD,IAAAA,MAAA,SAAAoD,GAAA,cAAAA,EAAApc,KAAAoc,EAAA/d,MAAA,OACE2V,EAAK63F,cAAa,wBAAAzvF,EAAAhD,OAAA,GAAA6C,EAAA,MAGpBlD,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAA4C,IAAA,IAAA2vG,EAAAlwH,EAAA2f,EAAA,OAAAhC,IAAAA,MAAA,SAAAgD,GAAA,cAAAA,EAAAhc,KAAAgc,EAAA3d,MAAA,OAaG,OAZI2V,EAAKqH,MAAMhgB,SAAQkwH,EAIlBv3G,EAAK2zC,iBAFPtsD,EAAMkwH,EAANlwH,OACA2f,EAAUuwG,EAAVvwG,WAGFhH,EAAK4zC,qBAAqB5sC,GAAY,GAEtChH,EAAKyuC,SAAS,CACZpnD,OAAAA,EACA2f,WAAAA,IACC,IACJgB,EAAA3d,KAAA,EAEKiX,EAAKigG,aAAa6X,kBAAkB,CACxC93G,KAAAA,EAKAk2G,iBAAiB,IACjB,wBAAAxvG,EAAA5C,OAAA,GAAAwC,EAAA,MAGJ7C,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAuvB,IAAA,OAAAvvB,IAAAA,MAAA,SAAAkwB,GAAA,cAAAA,EAAAlpC,KAAAkpC,EAAA7qC,MAAA,cAAA6qC,EAAA7qC,KAAA,EACQojD,GAAAA,GAAAA,QAAAA,wBAAmC1oC,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAsuB,IAAA,OAAAtuB,IAAAA,MAAA,SAAAivB,GAAA,cAAAA,EAAAjoC,KAAAioC,EAAA5pC,MAAA,cAAA4pC,EAAA5pC,KAAA,EACb2V,EAAKk3G,uBAAsB,OAApC,IAAAjjF,EAAAxuB,KACA,CAAFwuB,EAAA5pC,KAAA,QACwB,OAAtC2V,EAAKuuC,WAAW,CAAC,EAAG,mBAAkBta,EAAAjuB,OAAA,UAC/B,GAAI,cAAAiuB,EAAAjuB,OAAA,UAEN,GAAK,wBAAAiuB,EAAA7uB,OAAA,GAAAkuB,EAAA,MACZ,wBAAA4B,EAAA9vB,OAAA,GAAAmvB,EAAA,MAGJxvB,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAywB,IAAA,OAAAzwB,IAAAA,MAAA,SAAAuxB,GAAA,cAAAA,EAAAvqC,KAAAuqC,EAAAlsC,MAAA,cAAAksC,EAAAlsC,KAAA,EACQ2V,EAAKu2G,QAAQe,iBAAiB,CAClCh2G,KAAAA,IACA,wBAAAi1B,EAAAnxB,OAAA,GAAAqwB,EAAA,MAGJ1wB,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAA6/B,IAAA,OAAA7/B,IAAAA,MAAA,SAAA+/B,GAAA,cAAAA,EAAA/4C,KAAA+4C,EAAA16C,MAAA,OAEEiX,EAAKitC,WAAW,CACd1uC,YAAY,GACX,UAAS,wBAAAklC,EAAA3/B,OAAA,GAAAy/B,EAAA,MAGd9/B,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAu7B,IAAA,OAAAv7B,IAAAA,MAAA,SAAAw7B,GAAA,cAAAA,EAAAx0C,KAAAw0C,EAAAn2C,MAAA,wBAAAm2C,EAAAp7B,OAAA,GAAAm7B,EAAA,KAGN,GAAC,CAAA94C,IAAA,0BAAA6C,MAED,WACE,IAAMsmE,EAAW,CACf9pD,aAAc/iB,KAAKmyH,eACnBrvG,mBAAoB9iB,KAAKoyH,sBAAsBpyH,KAAK2W,OAGtD,OAAO3W,KAAKw9G,aAAamW,gBAAgB9mD,EAC3C,GAAC,CAAAnpE,IAAA,YAAA6C,OAAA2rH,GAAAlxG,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAk7B,IAAA,IAAAl5B,EAAA2wG,EAAAv3G,EAAA,YAAA4E,IAAAA,MAAA,SAAAs7B,GAAA,cAAAA,EAAAt0C,KAAAs0C,EAAAj2C,MAAA,OAaG,OAZO2c,EAAejjB,KAAKsjB,MAApBL,WAEF2wG,EAAgB,WAAiB,IAAhB1+F,EAAIn0B,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,KAC5Bsb,EAAK1F,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,yBAGT7D,EAAKquC,SAAS,CACZynD,sBAAuBj9E,EACvBm2B,YAAY,EACZ0C,aAAa,IACZ,EACL,EAACxR,EAAAt0C,KAAA,EAAAs0C,EAAAj2C,KAAA,EAG2BtG,KAAKw9G,aAAaqW,YAAY,CAAE5wG,WAAAA,IAAa,OAAtD,IAAAs5B,EAAA76B,KAEA,CAAF66B,EAAAj2C,KAAA,SAGE,OAFfga,KAAM,iBAANA,CAAwB,0BAExBszG,IAAer3E,EAAAt6B,OAAA,UAER,GAAI,QAAAs6B,EAAAj2C,KAAA,iBAG4B,OAH5Bi2C,EAAAt0C,KAAA,GAAAs0C,EAAA94B,GAAA84B,EAAA,SAGb3iC,QAAQ4J,KAAK,qBAAoB+4B,EAAA94B,IAAQ84B,EAAAt6B,OAAA,UAElC,GAAK,eAAAs6B,EAAAt6B,OAAA,SAGPjiB,KAAKw9G,aAAasW,OAAO,CAC9BhxG,mBAAoB9iB,KAAKoyH,sBAAsBpyH,KAAK2W,QAEnDoqB,MAAK,SAAC7L,GACL,QAAKA,IAKL0+F,EAAc1+F,IAEP,EACT,IAAE,OACK,SAAC/pB,GAAK,OAAK,CAAK,KAAC,yBAAAoxC,EAAAl7B,OAAA,GAAA86B,EAAA,mBAC3B,kBAAA+1E,EAAAnyG,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,kBAAA6C,OAAA0rH,GAAAjxG,EAAAA,EAAAA,GAAAC,IAAAA,MAID,SAAAy7B,IAAA,OAAAz7B,IAAAA,MAAA,SAAA27B,GAAA,cAAAA,EAAA30C,KAAA20C,EAAAt2C,MAAA,cAAAs2C,EAAA36B,OAAA,UACS,GAAI,wBAAA26B,EAAAv7B,OAAA,GAAAq7B,EAAA,KACZ,kBAAAu1E,EAAAlyG,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,cAAA6C,OAAAyrH,GAAAhxG,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAi8B,EAAkB62E,GAAO,IAAAhoE,EAAAzoD,EAAA2f,EAAA0vG,EAAAvoE,EAAA4pE,EAAAC,EAAApgF,EAAApqB,EAAA1M,EAAA,YAAAkE,IAAAA,MAAA,SAAAk8B,GAAA,cAAAA,EAAAl1C,KAAAk1C,EAAA72C,MAAA,OACqC,GADrCylD,EAC0C/rD,KAAKsjB,MAA9DhgB,EAAMyoD,EAANzoD,OAAQ2f,EAAU8oC,EAAV9oC,WAAY0vG,EAAc5mE,EAAd4mE,eAAgBvoE,EAAgB2B,EAAhB3B,iBAEvC2pE,EAAO,CAAA52E,EAAA72C,KAAA,cACJ,IAAI/H,MAAM,oEAAmE,UAEhF6rD,EAAgB,CAAAjN,EAAA72C,KAAA,cACb,IAAI/H,MAAM,yCAAwC,OAetC,OAbhB+E,GAAUA,GAAUywH,GACtBn6G,QAAQ4J,KAAK,wDAEXmvG,GACF/4G,QAAQ4J,KAAK,0DAEflD,KAAM,iBAANA,CAAwB,2BAAD5d,OAA4BqxH,IAE7CC,EAAch0H,KAAKue,IAAIxD,IAAIlL,QAAQzR,OAAOmlB,UAAU3f,GAAOC,KAAKkwH,EAAS,QAAQvzH,SAAS,OAE5FyiB,GAAc+wG,GAChBp6G,QAAQ4J,KAAK,+BAAD9gB,OAAgCugB,EAAU,aAAAvgB,OAAYsxH,IAAcC,EAE1Dj0H,KAAKwyH,QAAQ/iE,aAAarF,GAA3CvW,EAAaogF,EAAbpgF,cAAasJ,EAAA72C,KAAA,GACEtG,KAAKwyH,QAAQl4E,WAAWzG,GAAc,QAEW,GAFjEpqB,EAAO0zB,EAAAz7B,KAEbpB,KAAM,iBAANA,CAAwB,WAAD5d,OAAYmxC,EAAa,cAAAnxC,OAAa+mB,IAE7C,IAAZA,EAAa,CAAA0zB,EAAA72C,KAAA,SAGY,MAF3BtG,KAAKwqD,WAAW,CACdmoE,gBAAgB,GACf,CAAC1+F,KAAM,kBACJ,IAAI11B,MAAM,8BAADmE,OAA+BmxC,EAAa,aAAAnxC,OAAY+mB,IAAU,QAGnFzpB,KAAKwyH,QAAQt0B,SAAS,CACpB/zC,aAAcC,EACd9mD,OAAQywH,IACPhzF,MAAK,SAAC7L,GACP5U,KAAM,iBAANA,CAAwB,WAAD5d,OAAYwyB,IACnCnY,EAAK2tC,SAAS,CACZ8tD,gCAAiCtjF,IAGnC5U,KAAM,iBAANA,CAAwB,qBAAD5d,OAAsBqa,EAAKuG,MAAMk1F,kCAExDz7F,EAAKytC,WAAW,CACdmoE,gBAAgB,GACf,CAAE1+F,KAAM,iBACb,IAAE,yBAAAkpB,EAAA97B,OAAA,GAAA67B,EAAA,UACH,SAAAv7B,GAAA,OAAAqwG,EAAAjyG,MAAA,KAAAhf,UAAA,MAAAq0H,CAAA,CA3amC,CAASxoE,ICV/C,kBAAgBrX,GAAc,IAEtB+/E,EAAY,SAAAC,IAAA76G,EAAAA,GAAAA,GAAA46G,EAAAC,GAAA,I,IAAA56G,G,EAAA26G,E,maAchB,SAAAA,EAAY3+G,GAAM,IAAAhK,EAOuB,OAPvBP,EAAAA,GAAAA,GAAA,KAAAkpH,GAChB3oH,EAAAgO,EAAAtZ,KAAA,KAAMsV,EAAM,CACViG,eAAgB,MAChB24B,UAAAA,EACA48E,aAAcx7G,EAAK4H,IAAI8xC,gBAAgB7wC,KAAK7I,EAAK4H,KACjD6zG,sBAAuBz7G,EAAK4H,IAAIywC,yBAAyBxvC,KAAK7I,EAAK4H,QACnEpF,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBACFA,EAAKyvG,UAAYkZ,EAAan4G,UAASxQ,CACzC,CAVC,OAUAN,EAAAA,GAAAA,GAAAipH,EAAA,OAAA5xH,IAAA,UAAA6C,MAlBD,WACE,MAAO,GAAP7D,OAAU1C,KAAKod,cAAa,KAAA1a,OAAI1C,KAAKqd,YACvC,GAAC,CAAA3Z,IAAA,cAAA6C,MACD,WACE,MAAO,IAAP7D,OAAW1C,KAAK4c,eAAc,KAAAla,OAAI6yC,EAAU14B,cAC9C,GAAC,CAAAnZ,IAAA,YAAA6C,MACD,WACE,OAAOuU,GAAAA,GAAAA,MAAAA,GACT,KAACw6G,CAAA,CAZe,CAASF,IAyB3B,OAzB4Cj8G,EAAAA,EAAAA,GAAtCm8G,EAAY,wBAyBXA,CACR,E,uBC9BwC,IAYpBE,GAAiB,SAAAzD,IAAAr3G,EAAAA,GAAAA,GAAA86G,EAAAzD,GAAA,IA4XnCC,EAjBAC,EAzDAoC,E,IAlTmC15G,G,EAAA66G,E,maAWpC,SAAAA,EAAY7+G,EAAYiE,GAA6B,IAAAy2G,EAAA1kH,EAEnD,IAFmDP,EAAAA,GAAAA,GAAA,KAAAopH,GACnD7oH,EAAAgO,EAAAtZ,KAAA,KAAMsV,IAAKwC,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iCAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,0BAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBA4SI,WACfA,EAAK6lH,QAAQ8B,wBAAwB,CACnCnqE,aAAcx9C,EAAK2W,MAAM8mC,iBACzB9mD,OAAQqJ,EAAK2W,MAAMhgB,SAElBy9B,MAAK,SAACwzF,GACL5nH,EAAK+9C,SAAS,CACZgoD,YAAa6hB,GAEjB,GACJ,KArTO35G,EAAQ26B,UACX,MAAM,IAAIh3C,MAAM,gDAElB,IAAKqc,EAAQgC,eACX,MAAM,IAAIre,MAAM,6BAADmE,OAA8BkY,EAAQ26B,UAAS,qCAEhE,IAAK36B,EAAQu3G,cAAgD,mBAAzBv3G,EAAQu3G,aAC1C,MAAM,IAAI5zH,MAAM,qBAADmE,OAAsBkY,EAAQgC,eAAc,aAAAla,OAAYkY,EAAQ26B,UAAS,8CAE1F,IAAK36B,EAAQw3G,uBAAkE,mBAAlCx3G,EAAQw3G,sBACnD,MAAM,IAAI7zH,MAAM,qBAADmE,OAAsBkY,EAAQgC,eAAc,aAAAla,OAAYkY,EAAQ26B,UAAS,uDAsB1F,GAnBA5oC,EAAKiQ,eAAiBhC,EAAQgC,eAC9BjQ,EAAK4oC,UAAY36B,EAAQ26B,UACzB5oC,EAAKwlH,aAAev3G,EAAQu3G,aAC5BxlH,EAAKylH,sBAAwBx3G,EAAQw3G,sBAErCzlH,EAAK8hD,SAAW,MAEhB9hD,EAAK+gD,YAAa,EAClB/gD,EAAKm9C,mBAAoB,EACzBn9C,EAAK0lH,wBAEL1lH,EAAKs+C,YAAct+C,EAAK2lH,iBAExB3lH,EAAK6wG,aAAe7mG,EAAK+xC,UACzB/7C,EAAK6lH,QAAe77G,EAAKgyC,gBAEzBh8C,EAAKsiD,aAAetiD,EAAK6wG,aACzB7wG,EAAK2hD,eAAiB3hD,EAAK6lH,SAEtB7lH,EAAK6wG,aACR,MAAM,IAAIj/G,MAAM,mDAElB,IAAKoO,EAAK6lH,QACR,MAAM,IAAIj0H,MAAM,8CAGlBoO,EAAK2W,MAAQ,CACX2Q,KAAM,EAENk3B,eAAe,EAEfonD,oBAAqB,KACrBjnD,gBAAgB,EAChBsC,qBAAqB,EAErBjC,+BAAgC,KAEhC1oC,WAAY,KAEZqI,mBAAmB,EACnBkgC,iBAAiB,EACjB/hC,QAAS,KAETooF,qBAAqB,EAErB2G,gCAAiC,KACjCz0F,+BAAgC,KAEhCzgB,OAAQ,KAERq6G,yBAAyB,EACzBlL,gBAAgB,EAEhBN,sBAAuB,KACvB9mD,YAAY,EAEZmpE,YAAa,KACb9hB,YAAa,KACb52F,YAAY,EACZiyC,aAAa,EACblC,cAAe,MAGjB,IAAMtuC,GAAI1C,EAAAA,GAAAA,GAAAlO,GAaW,OAXjBA,EAAKm/C,WACPn/C,EAAKgK,KAAKiC,KAAK+0C,KAAK,sBAAqB,eAAAjgD,GAAAsT,EAAAA,EAAAA,GAAAC,IAAAA,MAAE,SAAAO,EAAAjV,GAAA,IAAAo/C,EAAA,OAAA1qC,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OACzCqlD,EAA8Bp/C,EAA9Bo/C,+BAEApuC,EAAKmtC,SAAS,CACZiB,+BAAAA,IACC,GAAK,wBAAAlqC,EAAAJ,OAAA,GAAAG,EAAA,KACT,gBAAAG,GAAA,OAAAjU,EAAAqS,MAAA,KAAAhf,UAAA,EANwC,IAS3C4L,EAAKmmH,iBACL5+D,EAAAA,GAAAA,IAAAm9D,GAAAx2G,EAAAA,GAAAA,GAAAlO,IAAAwnD,EAAAA,GAAAA,GAAAqhE,EAAA51H,YAAA,gBAAAyxH,GAAAhwH,KAAAgwH,GAAqB1kH,CACvB,CA2TC,OA3TAN,EAAAA,GAAAA,GAAAmpH,EAAA,EAAA9xH,IAAA,gBAAA6C,MAED,YACE2tD,EAAAA,GAAAA,IAAAC,EAAAA,GAAAA,GAAAqhE,EAAA51H,WAAA,sBAAAyB,KAAA,KACF,GAEA,CAAAqC,IAAA,YAAA6C,MACA,WAAY,IAAA0V,EAAA,KACJsB,EAAOvd,KAEb,OAAIA,KAAKytD,UACA,EAELzsC,EAAAA,EAAAA,GAAAC,IAAAA,MAEA,SAAAC,IAAA,OAAAD,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OACE2V,EAAKw4G,eAAc,wBAAAlzG,EAAAF,OAAA,GAAAH,EAAA,KAKrB,WACEjF,EAAK22F,cACP,EAIA,WACE32F,EAAK63F,aACP,GAEA9yF,EAAAA,EAAAA,GAAAC,IAAAA,MAEA,SAAAkB,IAAA,OAAAlB,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,cAAA+b,EAAA/b,KAAA,EACQ2V,EAAKu2G,QAAQkC,eAAe,CAChCn3G,KAAAA,IACA,wBAAA8E,EAAAhB,OAAA,GAAAc,EAAA,MAGJnB,EAAAA,EAAAA,GAAAC,IAAAA,MAEA,SAAAa,IAAA,OAAAb,IAAAA,MAAA,SAAAe,GAAA,cAAAA,EAAA/Z,KAAA+Z,EAAA1b,MAAA,cAAA0b,EAAA1b,KAAA,EACQ2V,EAAKuhG,aAAaiY,oBAAoB,CAC1Cl4G,KAAAA,EACAkxC,SAAU,QACV,wBAAAzsC,EAAAX,OAAA,GAAAS,EAAA,MAGJd,EAAAA,EAAAA,GAAAC,IAAAA,MAEA,SAAA0B,IAAA,OAAA1B,IAAAA,MAAA,SAAAmC,GAAA,cAAAA,EAAAnb,KAAAmb,EAAA9c,MAAA,cAAA8c,EAAA9c,KAAA,EACQiX,EAAKigG,aAAaoX,uBAAuB,CAAEr3G,KAAAA,IAAO,wBAAA6F,EAAA/B,OAAA,GAAAsB,EAAA,KAK1D,WACEpF,EAAK5G,KAAKiC,KAAK+0C,KAAK,iBAAiB,SAAA7pC,GAAuC,IAArC00F,EAA+B10F,EAA/B00F,gCACrCj7F,EAAKmtC,SAAS,CACZ8tD,gCAAAA,GAEJ,IAEAj7F,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,0BAGT3C,EAAKitC,WAAW,CACd1uC,YAAY,GACX,SACL,EAIA,WAAO,GAGF,EACLkF,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAiD,IAAA,OAAAjD,IAAAA,MAAA,SAAAoD,GAAA,cAAAA,EAAApc,KAAAoc,EAAA/d,MAAA,OACE2V,EAAKw4G,eAAc,wBAAApwG,EAAAhD,OAAA,GAAA6C,EAAA,MAGrBlD,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAA4C,IAAA,OAAA5C,IAAAA,MAAA,SAAAgD,GAAA,cAAAA,EAAAhc,KAAAgc,EAAA3d,MAAA,OACE2V,EAAK63F,cAAa,wBAAA7vF,EAAA5C,OAAA,GAAAwC,EAAA,MAGpB7C,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAuvB,IAAA,OAAAvvB,IAAAA,MAAA,SAAAkwB,GAAA,cAAAA,EAAAlpC,KAAAkpC,EAAA7qC,MAAA,cAAA6qC,EAAA7qC,KAAA,EACQojD,GAAAA,GAAAA,QAAAA,wBAAmC1oC,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAsuB,IAAA,OAAAtuB,IAAAA,MAAA,SAAAivB,GAAA,cAAAA,EAAAjoC,KAAAioC,EAAA5pC,MAAA,cAAA4pC,EAAA5pC,KAAA,EACT2V,EAAKuhG,aAAaqX,iBAAiB54G,GAAK,OAAjD,IAAAi0B,EAAAxuB,KAEA,CAAFwuB,EAAA5pC,KAAA,QAGE,OAFpB2V,EAAKuuC,WAAW,CACdqnD,qBAAqB,GACpB,kBAAiB3hE,EAAAjuB,OAAA,UACb,GAAI,cAAAiuB,EAAAjuB,OAAA,UAEN,GAAK,wBAAAiuB,EAAA7uB,OAAA,GAAAkuB,EAAA,MACZ,wBAAA4B,EAAA9vB,OAAA,GAAAmvB,EAAA,MAGJxvB,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAA6/B,IAAA,OAAA7/B,IAAAA,MAAA,SAAA+/B,GAAA,cAAAA,EAAA/4C,KAAA+4C,EAAA16C,MAAA,cAAA06C,EAAA16C,KAAA,EAEQojD,GAAAA,GAAAA,QAAAA,wBAAmC1oC,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAywB,IAAA,IAAAvtB,EAAAlB,EAAAmnC,EAAA,OAAAnpC,IAAAA,MAAA,SAAAuxB,GAAA,cAAAA,EAAAvqC,KAAAuqC,EAAAlsC,MAAA,OAGtB,GAHsB6d,EAIpC5G,EAAK+F,MAFPL,EAAUkB,EAAVlB,WACAmnC,EAAgBjmC,EAAhBimC,kBAEEnnC,IAAcmnC,EAAgB,CAAA5X,EAAAlsC,KAAA,gBAAAksC,EAAAlsC,KAAA,EACJiX,EAAKigG,aAAa6V,cAAc,CAC1DtwG,aAAcxF,EAAK60G,sBAAsB70G,EAAK5G,MAC9CmM,mBAAoBvF,EAAK40G,eACzBlvG,WAAAA,IACA,OAJiB,IAAAuvB,EAAA9wB,KAKA,CAAF8wB,EAAAlsC,KAAA,gBAAAksC,EAAAlsC,KAAA,EAEY2V,EAAKuhG,aAAakY,kBAAkB,CAC7D3yG,aAAcxF,EAAK60G,sBAAsB70G,EAAK5G,MAC9CmM,mBAAoBvF,EAAK40G,iBACzB,OAHgB,OAAA3/E,EAAA9wB,KAAA8wB,EAAAlsC,KAAG,GAIO2V,EAAKuhG,aAAakY,kBAAkB,CAC9D3yG,aAAcxF,EAAK40G,eACnBrvG,mBAAoBvF,EAAK60G,sBAAsB70G,EAAK5G,QACpD,QAHiB,OAAA67B,EAAA9wB,KAAA8wB,EAAAlsC,KAAG,GAKQ2V,EAAKuhG,aAAasX,mBAAmB,CAAEv3G,KAAAA,IAAO,QAAvD,IAAAi1B,EAAA9wB,KAEA,CAAF8wB,EAAAlsC,KAAA,gBAAAksC,EAAAlsC,KAAA,GACX2V,EAAKu2G,QAAQkC,eAAe,CAChCn3G,KAAAA,IACA,eAAAi1B,EAAAvwB,OAAA,UACK,GAAI,QAEXrI,QAAQ4J,KAAK,iDAAgD,QAAAgvB,EAAAlsC,KAAA,iBAG/DsT,QAAQ4jB,IAAI,yBAAwB,QAAAgV,EAAAlsC,KAAA,iBAKpC,OAFFiX,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,wBACPsyB,EAAAvwB,OAAA,UACK,GAAK,yBAAAuwB,EAAAnxB,OAAA,GAAAqwB,EAAA,MAEd,wBAAAsP,EAAA3/B,OAAA,GAAAy/B,EAAA,MAGJ9/B,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAk7B,IAAA,OAAAl7B,IAAAA,MAAA,SAAAs7B,GAAA,cAAAA,EAAAt0C,KAAAs0C,EAAAj2C,MAAA,cAAAi2C,EAAAj2C,KAAA,EACQojD,GAAAA,GAAAA,QAAAA,wBAAmC1oC,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAu7B,IAAA,IAAA4N,EAAA2qE,EAAAlhF,EAAAmhF,EAAAxc,EAAAl1G,EAAA,OAAA2d,IAAAA,MAAA,SAAAw7B,GAAA,cAAAA,EAAAx0C,KAAAw0C,EAAAn2C,MAAA,OAMjB,OANiBm2C,EAAAx0C,KAAA,EAIpCmiD,EACEnuC,EAAKqH,MADP8mC,iBAAgB2qE,EAEQ94G,EAAKqyC,eAAemB,aAAarF,GAAnDvW,EAAakhF,EAAblhF,cAAa4I,EAAAn2C,KAAA,EAEU2V,EAAKu2G,QAAQ5+E,cAAcC,GAAc,OAAlD,KAAhBmhF,EAAgBv4E,EAAA/6B,MAEA,CAAF+6B,EAAAn2C,KAAA,SAEZ,OAAEkyG,EACJwc,EADFrrF,KAAI8S,EAAAn2C,KAAA,GAGe2V,EAAKu2G,QAAQluG,oBAAoBk0F,GAAgC,QAMrF,OANKl1G,EAAMm5C,EAAA/6B,OAEVzF,EAAKuuC,WAAW,CACdlnD,OAAAA,EACAk1G,gCAAAA,GACC,sBACJ/7D,EAAAx6B,OAAA,UACM,GAAI,eAAAw6B,EAAAx6B,OAAA,UAEJ,GAAK,QAAAw6B,EAAAn2C,KAAA,iBAIE,OAJFm2C,EAAAx0C,KAAA,GAAAw0C,EAAAh5B,GAAAg5B,EAAA,SAGd7iC,QAAQ4jB,IAAI,oCACZ5jB,QAAQzO,MAAKsxC,EAAAh5B,IAAGg5B,EAAAx6B,OAAA,UACT,GAAK,yBAAAw6B,EAAAp7B,OAAA,GAAAm7B,EAAA,oBAEd,wBAAAD,EAAAl7B,OAAA,GAAA86B,EAAA,MAGJn7B,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAy7B,IAAA,OAAAz7B,IAAAA,MAAA,SAAA27B,GAAA,cAAAA,EAAA30C,KAAA20C,EAAAt2C,MAAA,cAAAs2C,EAAAt2C,KAAA,EACQiX,EAAKigG,aAAaoX,uBAAuB,CAAEr3G,KAAAA,IAAO,wBAAAq/B,EAAAv7B,OAAA,GAAAq7B,EAAA,MAG1D17B,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAi8B,IAAA,OAAAj8B,IAAAA,MAAA,SAAAk8B,GAAA,cAAAA,EAAAl1C,KAAAk1C,EAAA72C,MAAA,OAEEiX,EAAKitC,WAAW,CACd1uC,YAAY,GACX,UAAS,wBAAAqhC,EAAA97B,OAAA,GAAA67B,EAAA,MAGdl8B,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAA+9B,IAAA,OAAA/9B,IAAAA,MAAA,SAAAi+B,GAAA,cAAAA,EAAAj3C,KAAAi3C,EAAA54C,MAAA,wBAAA44C,EAAA79B,OAAA,GAAA29B,EAAA,KAGN,GAAC,CAAAt7C,IAAA,kBAAA6C,OAAA8tH,GAAArzG,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAq9B,IAAA,OAAAr9B,IAAAA,MAAA,SAAA69B,GAAA,cAAAA,EAAA72C,KAAA62C,EAAAx4C,MAAA,OACEtG,KAAKwqD,WAAW,CAAC,EAAG,CAAEv2B,KAAM,iBAAiB,wBAAA6qB,EAAAz9B,OAAA,GAAAi9B,EAAA,UAC9C,kBAAA+1E,EAAAt0G,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,YAAA6C,MAcD,WAAY,IAAA8V,EAAA,KACJkB,EAAOvd,KACbovD,EAAqC7xC,EAAK+F,MAAlC8mC,EAAgBgF,EAAhBhF,iBAAkB9mD,EAAM8rD,EAAN9rD,OAE1B,OAAOia,EAAKi1G,QAAQsB,OAAO,CACzB3pE,aAAcC,EACd9mD,OAAQA,IAEPy9B,MAAK,SAAC7L,GACL,QAAKA,IAIL7Y,EAAK1F,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,0BAGT3C,EAAKmtC,SAAS,CACZynD,sBAAuBj9E,EACvBm2B,YAAY,EACZ0C,aAAa,IACZ,IAEI,EACT,IAAE,OACK,SAAC5iD,GACN,MAAI,mBAAmB8C,KAAK9C,IAE1BoS,EAAKmtC,SAAS,CACZW,YAAY,EACZ0C,aAAa,IACZ,IACI,IAEPn0C,QAAQ4J,KAAK,cAAerY,IAErB,EAEX,GACJ,GAAC,CAAAzH,IAAA,kBAAA6C,OAAA0rH,GAAAjxG,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAs+B,IAAA,IAAAwM,EAAAomD,EAAA9mD,EAAA,OAAApqC,IAAAA,MAAA,SAAAw+B,GAAA,cAAAA,EAAAx3C,KAAAw3C,EAAAn5C,MAAA,OAC2C,GAD3CylD,EACgD/rD,KAAKsjB,MAA3C6uF,EAAqBpmD,EAArBomD,sBAAuB9mD,EAAUU,EAAVV,YAC3B8mD,IAAyB9mD,EAAU,CAAA5L,EAAAn5C,KAAA,gBAAAm5C,EAAAn5C,KAAA,EAC3BtG,KAAKwyH,QAAQyC,QAAQ9iB,GAAsB,WAAA1yD,EAAA/9B,KAAE,CAAF+9B,EAAAn5C,KAAA,eAAAm5C,EAAAx9B,OAAA,UAC5C,GAAI,OAMR,OAJHrI,QAAQ4J,KAAK,6CACbxjB,KAAK0qD,SAAU,CACbynD,sBAAuB,KACvB9mD,YAAY,IACX5L,EAAAx9B,OAAA,UACI,GAAK,eAAAw9B,EAAAx9B,OAAA,UAGT,GAAK,yBAAAw9B,EAAAp+B,OAAA,GAAAk+B,EAAA,UACb,kBAAA0yE,EAAAlyG,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,cAAA6C,OAAAyrH,GAAAhxG,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAA66D,EAAkBi4C,GAAO,IAAAtnE,EAAAnpD,EAAA2f,EAAAwvF,EAAAuhB,EAAA/sH,EAAA8V,EAAA,YAAAkE,IAAAA,MAAA,SAAA86D,GAAA,cAAAA,EAAA9zE,KAAA8zE,EAAAz1E,MAAA,OACmB,GADnBmmD,EACwBzsD,KAAKsjB,MAA5ChgB,EAAMmpD,EAANnpD,OAAQ2f,EAAUwpC,EAAVxpC,WAAYwvF,EAAchmD,EAAdgmD,eAEvBshB,EAAO,CAAAh4C,EAAAz1E,KAAA,cACJ,IAAI/H,MAAM,oEAAmE,OAkBpF,OAhBG+E,GAAUA,GAAUywH,GACtBn6G,QAAQ4J,KAAK,wDAEXivF,GACF74F,QAAQ4J,KAAK,0DAEflD,KAAM,iBAANA,CAAwB,2BAAD5d,OAA4BqxH,IAE7CC,EAAch0H,KAAKue,IAAIxD,IAAIlL,QAAQzR,OAAOmlB,UAAU3f,GAAOC,KAAKkwH,EAAS,QAAQvzH,SAAS,OAE5FyiB,GAAc+wG,GAChBp6G,QAAQ4J,KAAK,+BAAD9gB,OAAgCugB,EAAU,aAAAvgB,OAAYsxH,IAE9D/sH,EAAO,CACX8b,aAAc/iB,KAAKoyH,sBAAsBpyH,KAAK2W,MAC9CrT,OAAQywH,GACTh4C,EAAAz1E,KAAA,GAEKtG,KAAKw9G,aAAatf,SAASj3F,GAAM,SAACiuB,GACtC5U,KAAM,iBAANA,CAAwB,WAAD5d,OAAYwyB,IACnCnY,EAAK2tC,SAAS,CACZ3mC,+BAAgCmR,EAChCyoF,yBAAyB,GAE7B,IAAG58E,MAAK,WAENhkB,EAAKytC,WAAW,CACdioD,gBAAgB,GACf,eACL,IAAE,yBAAA12B,EAAA16D,OAAA,GAAAy6D,EAAA,UACH,SAAAt5D,GAAA,OAAAwvG,EAAAjyG,MAAA,KAAAhf,UAAA,MAAAy0H,CAAA,CAlamC,CAAS5oE,ICV/C,kBAAgBrX,GAAc,IACtBogF,EAAY,SAAAC,IAAAl7G,EAAAA,GAAAA,GAAAi7G,EAAAC,GAAA,I,IAAAj7G,G,EAAAg7G,E,maAchB,SAAAA,EAAYh/G,GAAM,IAAAhK,EAQuB,OARvBP,EAAAA,GAAAA,GAAA,KAAAupH,GAChBhpH,EAAAgO,EAAAtZ,KAAA,KAAMsV,EAAM,CACViG,eAAgB,MAChB24B,UAAAA,EACA48E,aAAcx7G,EAAK4H,IAAI8xC,gBAAgB7wC,KAAK7I,EAAK4H,KACjD6zG,sBAAuBz7G,EAAK4H,IAAIywC,yBAAyBxvC,KAAK7I,EAAK4H,QACnEpF,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAEFA,EAAKyvG,UAAYuZ,EAAax4G,UAASxQ,CACzC,CAXC,OAWAN,EAAAA,GAAAA,GAAAspH,EAAA,OAAAjyH,IAAA,UAAA6C,MAnBD,WACE,MAAO,GAAP7D,OAAU1C,KAAKod,cAAa,KAAA1a,OAAI1C,KAAKqd,YACvC,GAAC,CAAA3Z,IAAA,cAAA6C,MACD,WACE,OAAOuU,GAAAA,GAAAA,MAAAA,GACT,GAAC,CAAApX,IAAA,YAAA6C,MACD,WACE,MAAO,IAAP7D,OAAW1C,KAAK4c,eAAc,KAAAla,OAAI6yC,EAAU14B,cAC9C,KAAC84G,CAAA,CAZe,CAASH,IA0B3B,OA1B4Cr8G,EAAAA,EAAAA,GAAtCw8G,EAAY,wBA0BXA,CACR,E,gDC7BuC,IAGlCE,GAAS,SAAA9D,IAAAr3G,EAAAA,GAAAA,GAAAm7G,EAAA9D,GAAA,IA0TZC,EAjBAC,EAzDAoC,E,IAhPY15G,G,EAAAk7G,E,maAiBb,SAAAA,EAAYl/G,GAAM,IAAA06G,EAAA1kH,EAwBhB,IAxBgBP,EAAAA,GAAAA,GAAA,KAAAypH,GAChBlpH,EAAAgO,EAAAtZ,KAAA,KAAMsV,IAAKwC,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAoOI,WACfA,EAAKmpH,UAAUxB,wBAAwB,CACrCnqE,aAAcx9C,EAAK2W,MAAM8mC,iBACzB9mD,OAAQqJ,EAAK2W,MAAMhgB,SAElBy9B,MAAK,SAACwzF,GACL5nH,EAAK+9C,SAAS,CACZgoD,YAAa6hB,GAEjB,GACJ,IA7OE5nH,EAAK8hD,SAAW,QAEhB9hD,EAAKyvG,UAAYyZ,EAAU14G,UAE3BxQ,EAAKs+C,YAAc,CACjB,KAAQ,EACR,gBAAiB,EACjB,eAAgB,EAChB,YAAa,EACb,gBAAiB,EACjB,eAAgB,EAChB,OAAU,EACV,IAAO,GAGTt+C,EAAKopH,QAAUp/G,EAAK+xC,UACpB/7C,EAAKmpH,UAAYn/G,EAAKgyC,gBAEtBh8C,EAAKsiD,aAAetiD,EAAKopH,QACzBppH,EAAK2hD,eAAiB3hD,EAAKmpH,UAC3BnpH,EAAK+gD,YAAa,GAEb/gD,EAAKopH,QACR,MAAM,IAAIx3H,MAAM,gDAElB,IAAKoO,EAAKmpH,UACR,MAAM,IAAIv3H,MAAM,kDAwCG,OArCrBoO,EAAK2W,MAAQ,CACX2Q,KAAM,EAENk3B,eAAe,EAEfonD,oBAAqB,KACrBjnD,gBAAgB,EAChBsC,qBAAqB,EAErBjC,+BAAgC,KAEhC1oC,WAAY,KAEZqI,mBAAmB,EACnBkgC,iBAAiB,EACjB/hC,QAAS,KAETooF,qBAAqB,EAErB2G,gCAAiC,KACjCz0F,+BAAgC,KAEhC45F,yBAAyB,EACzBlL,gBAAgB,EAEhBN,sBAAuB,KACvB9mD,YAAY,EAEZmpE,YAAa,KACb9hB,YAAa,KACb52F,YAAY,EACZiyC,aAAa,EAEbT,oBAAoB,GAGtB3gD,EAAKmmH,iBACL5+D,EAAAA,GAAAA,IAAAm9D,GAAAx2G,EAAAA,GAAAA,GAAAlO,IAAAwnD,EAAAA,GAAAA,GAAA0hE,EAAAj2H,YAAA,gBAAAyxH,GAAAhwH,KAAAgwH,GAAqB1kH,CACvB,CAvEC,OAuEAN,EAAAA,GAAAA,GAAAwpH,EAAA,EAAAnyH,IAAA,gBAAA6C,MAED,YACE2tD,EAAAA,GAAAA,IAAAC,EAAAA,GAAAA,GAAA0hE,EAAAj2H,WAAA,sBAAAyB,KAAA,KACF,GAEA,CAAAqC,IAAA,YAAA6C,MACA,WAAY,IAAA0V,EAAA,KACJsB,EAAOvd,KAEb,MAAO,EAELghB,EAAAA,EAAAA,GAAAC,IAAAA,MAEA,SAAAO,IAAA,OAAAP,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OACE2V,EAAKw4G,eAAc,wBAAAhzG,EAAAJ,OAAA,GAAAG,EAAA,KAKrB,WACEvF,EAAK22F,cACP,EAIA,WACE32F,EAAK63F,aACP,GAEA9yF,EAAAA,EAAAA,GAAAC,IAAAA,MAEA,SAAAa,IAAA,IAAAk0G,EAAA7uE,EAAAiI,EAAA5D,EAAApB,EAAA6rE,EAAA,OAAAh1G,IAAAA,MAAA,SAAAe,GAAA,cAAAA,EAAA/Z,KAAA+Z,EAAA1b,MAAA,OAgC2C,GA/BnC0vH,EAAoB,SAACE,GACzB,IAAA/xG,EAAgE5G,EAAK+F,MAA7DgnC,EAAiCnmC,EAAjCmmC,kCAAmCF,EAAgBjmC,EAAhBimC,iBAEvCE,IAIJ/sC,EAAKmtC,SAAS,CACZJ,kCAAmC4rE,IAGrC34G,EAAK5G,KAAKiC,KAAK+0C,KAAK,uBAAuB,WACzCpwC,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAQ,qBACRjZ,KAAM,CACJkjD,aAAcC,EACdE,kCAAmC4rE,IAGzC,IAEA34G,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,qBACPjZ,KAAM,CACJkjD,aAAeC,EACfE,kCAAoC4rE,KAG1C,EAEQ/uE,EAAe5pC,EAAK5G,KAApBwwC,WAAUiI,EAC4B7xC,EAAK+F,MAA3CkoC,EAAe4D,EAAf5D,gBAAiBpB,EAAgBgF,EAAhBhF,kBAErBoB,EAAiB,CAAFxpC,EAAA1b,KAAA,eAAA0b,EAAA1b,KAAA,EACXiX,EAAKu4G,UAAUK,WAAW,CAC9BhsE,aAAcC,EACdv9B,OAAQs6B,IACR,OAGyB,OAAvB8uE,EAAuB,eAAAp0G,GAAAb,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,IAAA,IAAAk1G,EAAAviF,EAAAhJ,EAAAqrF,EAAAzsG,EAAA0mC,EAAA,OAAAlvC,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OACT,OADS8vH,EACJn6G,EAAK65G,UAAUrmE,aAAarF,GAA9CvW,EAAauiF,EAAbviF,cAAatyB,EAAAjb,KAAA,EACE2V,EAAK65G,UAAU5rF,cAAc2J,GAAc,OAApD,GAEU,KAFlBhJ,EAAQtpB,EAAAG,MAEDzhB,OAAY,CAAAshB,EAAAjb,KAAA,eAAAib,EAAAU,OAAA,UAChB,GAAK,OAGe,OAAvBi0G,EAAOrrF,EAAS,GAAGlB,KAAIpoB,EAAAjb,KAAA,EAEP2V,EAAK65G,UAAUx7E,WAAW8P,GAAiB,OAUhE,OAVK3gC,EAAOlI,EAAAG,MAEPyuC,EAAgB,IAAI9yB,GAAAA,EAAU5T,GAAS8hB,uBAAuB4b,EAAW3D,MAAM,SAGnFjmC,EAAKmtC,SAAS,CACZqF,cAAe,IAAI1yB,GAAAA,EAAU5T,GAAS0mB,IAAI,KAAKC,GAAG,KAGpD4lF,EAAkBE,IACnB30G,EAAAU,OAAA,SAEMkuC,GAAa,yBAAA5uC,EAAAF,OAAA,GAAAH,EAAA,KACrB,kBAvB4B,OAAAW,EAAA9B,MAAA,KAAAhf,UAAA,KAAAihB,EAAA1b,KAAG,EAyB1BojD,GAAAA,GAAAA,QAAAA,uBAAmC,eAAAxnC,GAAAlB,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAkB,EAAOisC,GAAU,OAAAntC,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,OACpC,GAAKiX,EAAK+F,MAAvB6nC,cAEY,CAAF9oC,EAAA/b,KAAA,eAAA+b,EAAA/b,KAAA,EACH2vH,IAAyB,cAAA5zG,EAAAJ,OAAA,SAAAI,EAAAX,MAAA,OAEtC0sC,IAAY,wBAAA/rC,EAAAhB,OAAA,GAAAc,EAAA,KAEf,gBAAAR,GAAA,OAAAO,EAAAnC,MAAA,KAAAhf,UAAA,EARwC,IAQvC,OAEwBwc,EAAK+F,MAAvB6nC,eAGN5tC,EAAKitC,WAAW,CACd6rE,qBAAqB,GACpB,CAAEpiG,KAAM,cACZ,yBAAAjS,EAAAX,OAAA,GAAAS,EAAA,MAGHd,EAAAA,EAAAA,GAAAC,IAAAA,MAEA,SAAA0B,IAAA,OAAA1B,IAAAA,MAAA,SAAAmC,GAAA,cAAAA,EAAAnb,KAAAmb,EAAA9c,MAAA,cAAA8c,EAAA9c,KAAA,EACQiX,EAAKw4G,QAAQN,oBAAoB,CACrCl4G,KAAAA,EACAkxC,SAAU,UACV,wBAAArrC,EAAA/B,OAAA,GAAAsB,EAAA,MAGJ3B,EAAAA,EAAAA,GAAAC,IAAAA,MAEA,SAAAiD,IAAA,OAAAjD,IAAAA,MAAA,SAAAoD,GAAA,cAAAA,EAAApc,KAAAoc,EAAA/d,MAAA,cAAA+d,EAAA/d,KAAA,EACQiX,EAAKw4G,QAAQO,oBAAoB,CAAE/4G,KAAAA,IAAO,wBAAA8G,EAAAhD,OAAA,GAAA6C,EAAA,KAKlD,WACE3G,EAAK5G,KAAKiC,KAAK+0C,KAAK,iBAAiB,SAAA7pC,GAAuC,IAArC00F,EAA+B10F,EAA/B00F,gCACrCj7F,EAAKmtC,SAAS,CACZ8tD,gCAAAA,GAEJ,IAEAj7F,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,0BAGT3C,EAAKitC,WAAW,CACd1uC,YAAY,GACX,SACL,EAIA,WAAO,EAEX,GAAC,CAAApY,IAAA,kBAAA6C,OAAA8tH,GAAArzG,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAA4C,IAAA,OAAA5C,IAAAA,MAAA,SAAAgD,GAAA,cAAAA,EAAAhc,KAAAgc,EAAA3d,MAAA,OACEtG,KAAKwqD,WAAW,CAAC,EAAG,CAAEv2B,KAAM,iBAAiB,wBAAAhQ,EAAA5C,OAAA,GAAAwC,EAAA,UAC9C,kBAAAwwG,EAAAt0G,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,YAAA6C,MAcD,WAAY,IAAA8V,EAAA,KACJkB,EAAOvd,KACbu2H,EAAqCh5G,EAAK+F,MAAlC8mC,EAAgBmsE,EAAhBnsE,iBAAkB9mD,EAAMizH,EAANjzH,OAE1B,OAAOia,EAAKu4G,UAAUhC,OAAO,CAC3B3pE,aAAcC,EACd9mD,OAAQA,IAEPy9B,MAAK,SAAC7L,GACL,QAAKA,IAIL7Y,EAAK1F,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,0BAGT3C,EAAKmtC,SAAS,CACZynD,sBAAuBj9E,EACvBm2B,YAAY,EACZ0C,aAAa,IACZ,IAEI,EACT,IAAE,OACK,SAAC5iD,GACN,MAAI,mBAAmB8C,KAAK9C,IAE1BoS,EAAKmtC,SAAS,CACZW,YAAY,EACZ0C,aAAa,IACZ,IACI,IAEPn0C,QAAQ4J,KAAK,gBAAiBrY,IAEvB,EAEX,GACJ,GAAC,CAAAzH,IAAA,kBAAA6C,OAAA0rH,GAAAjxG,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAsuB,IAAA,IAAAwc,EAAAomD,EAAA9mD,EAAA,OAAApqC,IAAAA,MAAA,SAAAivB,GAAA,cAAAA,EAAAjoC,KAAAioC,EAAA5pC,MAAA,OAC2C,GAD3CylD,EACgD/rD,KAAKsjB,MAA3C6uF,EAAqBpmD,EAArBomD,sBAAuB9mD,EAAUU,EAAVV,YAC3B8mD,IAAyB9mD,EAAU,CAAAnb,EAAA5pC,KAAA,gBAAA4pC,EAAA5pC,KAAA,EAC3BtG,KAAK81H,UAAUb,QAAQ9iB,GAAsB,WAAAjiE,EAAAxuB,KAAE,CAAFwuB,EAAA5pC,KAAA,eAAA4pC,EAAAjuB,OAAA,UAC9C,GAAI,OAMR,OAJHrI,QAAQ4J,KAAK,0CACbxjB,KAAK0qD,SAAU,CACbynD,sBAAuB,KACvB9mD,YAAY,IACXnb,EAAAjuB,OAAA,UACI,GAAK,eAAAiuB,EAAAjuB,OAAA,UAGT,GAAK,yBAAAiuB,EAAA7uB,OAAA,GAAAkuB,EAAA,UACb,kBAAA0iF,EAAAlyG,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,cAAA6C,OAAAyrH,GAAAhxG,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAuvB,EAAkBujF,GAAO,IAAAtnE,EAAAnpD,EAAA2f,EAAAwvF,EAAAuhB,EAAA/sH,EAAA8V,EAAA,YAAAkE,IAAAA,MAAA,SAAAkwB,GAAA,cAAAA,EAAAlpC,KAAAkpC,EAAA7qC,MAAA,OACmB,GADnBmmD,EACwBzsD,KAAKsjB,MAA5ChgB,EAAMmpD,EAANnpD,OAAQ2f,EAAUwpC,EAAVxpC,WAAYwvF,EAAchmD,EAAdgmD,eAEvBshB,EAAO,CAAA5iF,EAAA7qC,KAAA,cACJ,IAAI/H,MAAM,oEAAmE,OAkBpF,OAhBG+E,GAAUA,GAAUywH,GACtBn6G,QAAQ4J,KAAK,wDAEXivF,GACF74F,QAAQ4J,KAAK,0DAEflD,KAAM,iBAANA,CAAwB,2BAAD5d,OAA4BqxH,IAE7CC,EAAch0H,KAAKue,IAAIxD,IAAIlL,QAAQzR,OAAOmlB,UAAU3f,GAAOC,KAAKkwH,EAAS,QAAQvzH,SAAS,OAE5FyiB,GAAc+wG,GAChBp6G,QAAQ4J,KAAK,+BAAD9gB,OAAgCugB,EAAU,aAAAvgB,OAAYsxH,IAE9D/sH,EAAO,CACX8b,aAAc/iB,KAAKue,IAAIywC,yBAAyBhvD,KAAK2W,MACrDrT,OAAQywH,GACT5iF,EAAA7qC,KAAA,GAEKtG,KAAK+1H,QAAQ73B,SAASj3F,GAAM,SAACiuB,GACjC5U,KAAM,iBAANA,CAAwB,WAAD5d,OAAYwyB,IACnCnY,EAAK2tC,SAAS,CACZ3mC,+BAAgCmR,EAChCyoF,yBAAyB,GAE7B,IAAG58E,MAAK,WAENhkB,EAAKytC,WAAW,CACdioD,gBAAgB,GACf,eACL,IAAE,yBAAAthE,EAAA9vB,OAAA,GAAAmvB,EAAA,UACH,SAAAhuB,GAAA,OAAAwvG,EAAAjyG,MAAA,KAAAhf,UAAA,OAAA2C,IAAA,UAAA6C,MAzVD,WACE,MAAO,GAAP7D,OAAU1C,KAAKod,cAAa,KAAA1a,OAAI1C,KAAKqd,YACvC,GAAC,CAAA3Z,IAAA,cAAA6C,MACD,WACE,OAAOuU,GAAAA,GAAAA,MAAAA,KACT,GAAC,CAAApX,IAAA,YAAA6C,MACD,WACE,OAAOuU,GAAAA,GAAAA,MAAAA,GACT,KAAC+6G,CAAA,CAfY,CAASjpE,IAmWxB,Y,uBCvWyC,IAGnC4pE,GAAS,SAAAzE,IAAAr3G,EAAAA,GAAAA,GAAA87G,EAAAzE,GAAA,IAyRZC,EAJAC,EA9CAC,E,IAvOYv3G,G,EAAA67G,E,maAgBb,SAAAA,EAAY7/G,GAAM,IAAA06G,EAAA1kH,EAuBhB,IAvBgBP,EAAAA,GAAAA,GAAA,KAAAoqH,GAChB7pH,EAAAgO,EAAAtZ,KAAA,KAAMsV,IAAKwC,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBACXA,EAAK8hD,SAAW,QAChB9hD,EAAKyvG,UAAYoa,EAAUr5G,UAE3BxQ,EAAKs+C,YAAc,CACjB,KAAQ,EACR,iBAAkB,EAClB,gBAAiB,EACjB,eAAgB,EAChB,WAAY,EACZ,oBAAqB,EACrB,gBAAiB,EACjB,OAAU,EACV,IAAO,GAGTt+C,EAAKopH,QAAUp/G,EAAKgyC,gBACpBh8C,EAAKmpH,UAAYn/G,EAAK+xC,UAEtB/7C,EAAKsiD,aAAetiD,EAAKopH,QACzBppH,EAAK2hD,eAAiB3hD,EAAKmpH,WAEtBnpH,EAAKopH,QACR,MAAM,IAAIx3H,MAAM,gDAElB,IAAKoO,EAAKmpH,UACR,MAAM,IAAIv3H,MAAM,kDAGlBoO,EAAK2W,MAAQ,CACX2Q,KAAM,EAENk3B,eAAe,EAEfonD,oBAAqB,KACrBjnD,gBAAgB,EAChBC,YAAY,EAEZknE,aAAe,KACfxvG,WAAY,KAEZqI,mBAAmB,EACnBkgC,iBAAiB,EACjB/hC,QAAS,KAETkiC,+BAAgC,KAChCgyD,yBAAyB,EACzB9L,qBAAqB,EAErBvuG,OAAQ,KAERmvG,gBAAgB,EAChBgkB,kBAAkB,EAElB1yG,+BAAgC,KAChCy0F,gCAAiC,KAEjCrG,sBAAuB,KACvB9mD,YAAY,EAEZvvC,YAAY,EACZiyC,aAAa,EAEb8kE,yBAAyB,EACzBrlE,yBAAyB,EAEzBowD,qBAAqB,EACrBC,yBAA0B,MAG5BlxG,EAAKmmH,gBAEL,IAAMv1G,GAAI1C,EAAAA,GAAAA,GAAAlO,GAsBW,OArBrB4Q,EAAK5G,KAAKiC,KAAK+0C,KAAK,oBAAoB,WACtCpwC,EAAKmtC,SAAS,CACZmoE,yBAAyB,GAE7B,IAEAt1G,EAAK5G,KAAKiC,KAAKmvC,GAAG,wBAAwB,WACxCnuC,QAAQ4jB,IAAI,2BACZ,IAAQmuB,EAAmCpuC,EAAK+F,MAAxCqoC,+BAEJA,IACF/xC,QAAQ4jB,IAAI,sBACZjgB,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,sBACPjZ,KAAM,CACJ0kD,+BAAAA,KAIR,KAEAuI,EAAAA,GAAAA,IAAAm9D,GAAAx2G,EAAAA,GAAAA,GAAAlO,IAAAwnD,EAAAA,GAAAA,GAAAqiE,EAAA52H,YAAA,gBAAAyxH,GAAAhwH,KAAAgwH,GAAqB1kH,CACvB,CAjGC,OAiGAN,EAAAA,GAAAA,GAAAmqH,EAAA,EAAA9yH,IAAA,gBAAA6C,MAED,YACE2tD,EAAAA,GAAAA,IAAAC,EAAAA,GAAAA,GAAAqiE,EAAA52H,WAAA,sBAAAyB,KAAA,KACF,GAEA,CAAAqC,IAAA,YAAA6C,MACA,WAAY,IAAA0V,EAAA,KACJsB,EAAOvd,KAEb,MAAO,CAIL,WACEic,EAAK+2G,YACP,EAIA,WACEz1G,EAAK01G,uBACP,EAIA,WACE3yG,KAAM,iBAANA,CAAwB,+BACxBrE,EAAKi3G,cACP,EAIA,WACEj3G,EAAK63F,aACP,GAEA9yF,EAAAA,EAAAA,GAAAC,IAAAA,MAEA,SAAAO,IAAA,OAAAP,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,cAAAmb,EAAAnb,KAAA,EACQiX,EAAKw4G,QAAQW,oBAAoB,CACrCn5G,KAAAA,EACAkxC,SAAU,UACV,wBAAAhtC,EAAAJ,OAAA,GAAAG,EAAA,MAGJR,EAAAA,EAAAA,GAAAC,IAAAA,MAEA,SAAAC,IAAA,OAAAD,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,cAAAib,EAAAjb,KAAA,EACQiX,EAAKw4G,QAAQY,qBAAqB,CAAEp5G,KAAAA,IAAO,wBAAAgE,EAAAF,OAAA,GAAAH,EAAA,MAGnDF,EAAAA,EAAAA,GAAAC,IAAAA,MAEA,SAAAkB,IAAA,OAAAlB,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,cAAA+b,EAAA/b,KAAA,EACQojD,GAAAA,GAAAA,QAAAA,wBAAoC,SAAC0E,GACzC,IAAAjqC,EAAsE5G,EAAK+F,MAAnEhgB,EAAM6gB,EAAN7gB,OAAQ8mD,EAAgBjmC,EAAhBimC,iBAEhB,QAFiEjmC,EAA/Bq0F,kCAM7BpuD,EAKE7sC,EAAKu4G,UAAU53B,SAAS,CAC7B/zC,aAAcC,EACd9mD,OAAAA,EACAgsD,mBAAoB/xC,EAAK5G,KAAKiyC,wBAE7B7nB,MAAK,SAAC7L,GAKL,OAJAtb,QAAQ4jB,IAAI,gBAAiBtI,GAC7B3X,EAAKmtC,SAAS,CACZ8tD,gCAAiCtjF,IAChC,IACI,CACT,IAAE,OACK,SAAC/pB,GAAK,OAAK,IAAI,KAhBtByO,QAAQzO,MAAM,uEACP,MAgBX,IAAE,OAEFoS,EAAKitC,WAAW,CACdisE,kBAAkB,GACjB,CAAExiG,KAAM,kBAAkB,wBAAA5R,EAAAhB,OAAA,GAAAc,EAAA,KAK/B,WACE5E,EAAK5G,KAAKiC,KAAK+0C,KAAK,yBAAyB,WAC3C,IAAQ6qD,EAAoCj7F,EAAK+F,MAAzCk1F,gCAERj7F,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,gBACPjZ,KAAM,CACJuxG,gCAAAA,IAGN,IAEAj7F,EAAKitC,WAAW,CACd1uC,YAAY,GACX,CAAEmY,KAAM,UACb,EAIA,WAAO,EAEX,GAAC,CAAAvwB,IAAA,0BAAA6C,MAED,WACE,IAAMsmE,EAAW,CACf9pD,aAAc/iB,KAAKue,IAAI8xC,kBACvBvtC,mBAAoB9iB,KAAKue,IAAIywC,yBAAyBhvD,KAAK2W,OAG7D,OAAO3W,KAAK+1H,QAAQpC,gBAAgB9mD,EACtC,GAAC,CAAAnpE,IAAA,YAAA6C,OAAA2rH,GAAAlxG,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAa,IAAA,IAAAmB,EAAA2wG,EAAAv3G,EAAA,YAAA4E,IAAAA,MAAA,SAAAe,GAAA,cAAAA,EAAA/Z,KAAA+Z,EAAA1b,MAAA,OAaG,OAZO2c,EAAejjB,KAAKsjB,MAApBL,WAEF2wG,EAAgB,WAAiB,IAAhB1+F,EAAIn0B,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,KAC5Bsb,EAAK1F,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,yBAGT7D,EAAKquC,SAAS,CACZynD,sBAAuBj9E,EACvBm2B,YAAY,EACZ0C,aAAa,IACZ,EACL,EAAC/rC,EAAA/Z,KAAA,EAAA+Z,EAAA1b,KAAA,EAG2BtG,KAAK+1H,QAAQlC,YAAY,CAAE5wG,WAAAA,IAAa,OAAjD,IAAAjB,EAAAN,KAEA,CAAFM,EAAA1b,KAAA,SAGE,OAFfga,KAAM,iBAANA,CAAwB,0BAExBszG,IAAe5xG,EAAAC,OAAA,UAER,GAAI,QAAAD,EAAA1b,KAAA,iBAG4B,OAH5B0b,EAAA/Z,KAAA,GAAA+Z,EAAAyB,GAAAzB,EAAA,SAGbpI,QAAQ4J,KAAK,qBAAoBxB,EAAAyB,IAAQzB,EAAAC,OAAA,UAElC,GAAK,eAAAD,EAAAC,OAAA,SAGPjiB,KAAK+1H,QAAQjC,OAAO,CACzBhxG,mBAAoB9iB,KAAKue,IAAIywC,yBAAyBhvD,KAAK2W,QAE1DoqB,MAAK,SAAC7L,GACL,QAAKA,IAIL0+F,EAAc1+F,IAEP,EACT,IAAE,OACK,SAAC/pB,GAAK,OAAK,CAAK,KAAC,yBAAA6W,EAAAX,OAAA,GAAAS,EAAA,mBAC3B,kBAAAowG,EAAAnyG,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,kBAAA6C,OAAA0rH,GAAAjxG,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAA0B,IAAA,OAAA1B,IAAAA,MAAA,SAAAmC,GAAA,cAAAA,EAAAnb,KAAAmb,EAAA9c,MAAA,cAAA8c,EAAAnB,OAAA,UACS,GAAI,wBAAAmB,EAAA/B,OAAA,GAAAsB,EAAA,KACZ,kBAAAsvG,EAAAlyG,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,cAAA6C,OAAAyrH,GAAAhxG,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAiD,EAAkB6vG,GAAO,IAAAhoE,EAAAzoD,EAAA2f,EAAAwzG,EAAArsE,EAAA4pE,EAAA4C,EAAA/iF,EAAApqB,EAAA1M,EAAA,YAAAkE,IAAAA,MAAA,SAAAoD,GAAA,cAAAA,EAAApc,KAAAoc,EAAA/d,MAAA,OACuD,GADvDylD,EAC4D/rD,KAAKsjB,MAAhFhgB,EAAMyoD,EAANzoD,OAAQ2f,EAAU8oC,EAAV9oC,WAA0B8oC,EAAd0mD,eAAgBgkB,EAAgB1qE,EAAhB0qE,iBAAkBrsE,EAAgB2B,EAAhB3B,iBAEzD2pE,EAAO,CAAA1vG,EAAA/d,KAAA,cACJ,IAAI/H,MAAM,oEAAmE,UAEhF6rD,EAAgB,CAAA/lC,EAAA/d,KAAA,cACb,IAAI/H,MAAM,yCAAwC,OAerC,OAbjB+E,GAAUA,GAAUywH,GACtBn6G,QAAQ4J,KAAK,wDAEXizG,GACF78G,QAAQ4J,KAAK,0DAEflD,KAAM,iBAANA,CAAwB,2BAAD5d,OAA4BqxH,IAE7CC,EAAch0H,KAAKue,IAAIxD,IAAIlL,QAAQzR,OAAOmlB,UAAU3f,GAAOC,KAAKkwH,EAAS,QAAQvzH,SAAS,OAE5FyiB,GAAc+wG,GAChBp6G,QAAQ4J,KAAK,+BAAD9gB,OAAgCugB,EAAU,aAAAvgB,OAAYsxH,IAAc4C,EAExD52H,KAAK81H,UAAUrmE,aAAarF,GAA9CvW,EAAa+iF,EAAb/iF,cAAaxvB,EAAA/d,KAAA,GACCtG,KAAK81H,UAAUx7E,WAAWzG,GAAc,QAES,GAFjEpqB,EAAOpF,EAAA3C,KAEbpB,KAAM,iBAANA,CAAwB,WAAD5d,OAAYmxC,EAAa,cAAAnxC,OAAa+mB,IAE7C,IAAZA,EAAa,CAAApF,EAAA/d,KAAA,SAGc,MAF7BtG,KAAKwqD,WAAW,CACdisE,kBAAkB,GACjB,CAAExiG,KAAM,kBACL,IAAI11B,MAAM,8BAADmE,OAA+BmxC,EAAa,aAAAnxC,OAAY+mB,IAAU,eAAApF,EAAA/d,KAAA,GAG7EtG,KAAK81H,UAAU53B,SAAS,CAC5B/zC,aAAcC,EACd9mD,OAAQywH,IACP,SAAC7+F,GACF5U,KAAM,iBAANA,CAAwB,WAAD5d,OAAYwyB,IACnCnY,EAAK2tC,SAAS,CACZ8tD,gCAAiCtjF,GAErC,IAAE,QACF5U,KAAM,iBAANA,CAAwB,qBAAD5d,OAAsB1C,KAAKsjB,MAAMk1F,kCAExDx4G,KAAKwqD,WAAW,CACdisE,kBAAkB,GACjB,CAAExiG,KAAM,kBAAkB,yBAAA5P,EAAAhD,OAAA,GAAA6C,EAAA,UAC9B,SAAAvC,GAAA,OAAAqwG,EAAAjyG,MAAA,KAAAhf,UAAA,OAAA2C,IAAA,UAAA6C,MApUD,WACE,MAAO,GAAP7D,OAAU1C,KAAKod,cAAa,KAAA1a,OAAI1C,KAAKqd,YACvC,GAAC,CAAA3Z,IAAA,cAAA6C,MACD,WACE,OAAOuU,GAAAA,GAAAA,MAAAA,GACT,GAAC,CAAApX,IAAA,YAAA6C,MACD,WACE,OAAOuU,GAAAA,GAAAA,MAAAA,KACT,KAAC07G,CAAA,CAfY,CAAS5pE,IA+UxB,Y,uBC9UA,kBAAgBrX,GAAc,IAEtBshF,EAAc,SAAA9E,IAAAr3G,EAAAA,GAAAA,GAAAm8G,EAAA9E,GAAA,IA0TjBC,EAjBAC,EAzDAoC,E,IAhPiB15G,G,EAAAk8G,E,maAiBlB,SAAAA,EAAYlgH,GAAM,IAAA06G,EAAA1kH,EAwBhB,IAxBgBP,EAAAA,GAAAA,GAAA,KAAAyqH,GAChBlqH,EAAAgO,EAAAtZ,KAAA,KAAMsV,IAAKwC,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAoOI,WACfA,EAAKmpH,UAAUxB,wBAAwB,CACrCnqE,aAAcx9C,EAAK2W,MAAM8mC,iBACzB9mD,OAAQqJ,EAAK2W,MAAMhgB,SAElBy9B,MAAK,SAACwzF,GACL5nH,EAAK+9C,SAAS,CACZgoD,YAAa6hB,GAEjB,GACJ,IA7OE5nH,EAAK8hD,SAAW,QAEhB9hD,EAAKyvG,UAAYya,EAAe15G,UAEhCxQ,EAAKs+C,YAAc,CACjB,KAAQ,EACR,gBAAiB,EACjB,eAAgB,EAChB,YAAa,EACb,gBAAiB,EACjB,eAAgB,EAChB,OAAU,EACV,IAAO,GAGTt+C,EAAK6wG,aAAe7mG,EAAK+xC,UACzB/7C,EAAKmpH,UAAiBn/G,EAAKgyC,gBAE3Bh8C,EAAKsiD,aAAetiD,EAAK6wG,aACzB7wG,EAAK2hD,eAAiB3hD,EAAKmpH,UAC3BnpH,EAAK+gD,YAAa,GAEb/gD,EAAK6wG,aACR,MAAM,IAAIj/G,MAAM,qDAElB,IAAKoO,EAAKmpH,UACR,MAAM,IAAIv3H,MAAM,kDAwCG,OArCrBoO,EAAK2W,MAAQ,CACX2Q,KAAM,EAENk3B,eAAe,EAEfonD,oBAAqB,KACrBjnD,gBAAgB,EAChBsC,qBAAqB,EAErBjC,+BAAgC,KAEhC1oC,WAAY,KAEZqI,mBAAmB,EACnBkgC,iBAAiB,EACjB/hC,QAAS,KAETooF,qBAAqB,EAErB2G,gCAAiC,KACjCz0F,+BAAgC,KAEhCzgB,OAAQ,KAERq6G,yBAAyB,EACzBlL,gBAAgB,EAEhBN,sBAAuB,KACvB9mD,YAAY,EAEZmpE,YAAa,KACb9hB,YAAa,KACb52F,YAAY,EACZiyC,aAAa,GAGfphD,EAAKmmH,iBACL5+D,EAAAA,GAAAA,IAAAm9D,GAAAx2G,EAAAA,GAAAA,GAAAlO,IAAAwnD,EAAAA,GAAAA,GAAA0iE,EAAAj3H,YAAA,gBAAAyxH,GAAAhwH,KAAAgwH,GAAqB1kH,CACvB,CAtEC,OAsEAN,EAAAA,GAAAA,GAAAwqH,EAAA,EAAAnzH,IAAA,gBAAA6C,MAED,YACE2tD,EAAAA,GAAAA,IAAAC,EAAAA,GAAAA,GAAA0iE,EAAAj3H,WAAA,sBAAAyB,KAAA,KACF,GAEA,CAAAqC,IAAA,YAAA6C,MACA,WAAY,IAAA0V,EAAA,KACJsB,EAAOvd,KAEb,MAAO,EAELghB,EAAAA,EAAAA,GAAAC,IAAAA,MAEA,SAAAO,IAAA,OAAAP,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OACE2V,EAAKw4G,eAAc,wBAAAhzG,EAAAJ,OAAA,GAAAG,EAAA,KAKrB,WACEvF,EAAK22F,cACP,EAIA,WACE32F,EAAK63F,aACP,GAEA9yF,EAAAA,EAAAA,GAAAC,IAAAA,MAEA,SAAAa,IAAA,IAAAk0G,EAAA7uE,EAAAiI,EAAA5D,EAAApB,EAAA6rE,EAAA,OAAAh1G,IAAAA,MAAA,SAAAe,GAAA,cAAAA,EAAA/Z,KAAA+Z,EAAA1b,MAAA,OAgC2C,GA/BnC0vH,EAAoB,SAACE,GACzB,IAAA/xG,EAAgE5G,EAAK+F,MAA7DgnC,EAAiCnmC,EAAjCmmC,kCAAmCF,EAAgBjmC,EAAhBimC,iBAEvCE,IAIJ/sC,EAAKmtC,SAAS,CACZJ,kCAAmC4rE,IAGrC34G,EAAK5G,KAAKiC,KAAK+0C,KAAK,uBAAuB,WACzCpwC,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAQ,qBACRjZ,KAAM,CACJkjD,aAAcC,EACdE,kCAAmC4rE,IAGzC,IAEA34G,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,qBACPjZ,KAAM,CACJkjD,aAAeC,EACfE,kCAAoC4rE,KAG1C,EAEQ/uE,EAAe5pC,EAAK5G,KAApBwwC,WAAUiI,EAC4B7xC,EAAK+F,MAA3CkoC,EAAe4D,EAAf5D,gBAAiBpB,EAAgBgF,EAAhBhF,kBAErBoB,EAAiB,CAAFxpC,EAAA1b,KAAA,eAAA0b,EAAA1b,KAAA,EACXiX,EAAKu4G,UAAUK,WAAW,CAC9BhsE,aAAcC,EACdv9B,OAAQs6B,IACR,OAGyB,OAAvB8uE,EAAuB,eAAAp0G,GAAAb,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,IAAA,IAAAk1G,EAAAviF,EAAAhJ,EAAAqrF,EAAAzsG,EAAA0mC,EAAA,OAAAlvC,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OACT,OADS8vH,EACJn6G,EAAK65G,UAAUrmE,aAAarF,GAA9CvW,EAAauiF,EAAbviF,cAAatyB,EAAAjb,KAAA,EACE2V,EAAK65G,UAAU5rF,cAAc2J,GAAc,OAApD,GAEU,KAFlBhJ,EAAQtpB,EAAAG,MAEDzhB,OAAY,CAAAshB,EAAAjb,KAAA,eAAAib,EAAAU,OAAA,UAChB,GAAK,OAGe,OAAvBi0G,EAAOrrF,EAAS,GAAGlB,KAAIpoB,EAAAjb,KAAA,EAEP2V,EAAK65G,UAAUx7E,WAAW8P,GAAiB,OAUhE,OAVK3gC,EAAOlI,EAAAG,MAEPyuC,EAAgB,IAAI9yB,GAAAA,EAAU5T,GAAS8hB,uBAAuB4b,EAAW3D,MAAM,SAGnFjmC,EAAKmtC,SAAS,CACZqF,cAAe,IAAI1yB,GAAAA,EAAU5T,GAAS0mB,IAAI,KAAKC,GAAG,KAGpD4lF,EAAkBE,IACnB30G,EAAAU,OAAA,SAEMkuC,GAAa,yBAAA5uC,EAAAF,OAAA,GAAAH,EAAA,KACrB,kBAvB4B,OAAAW,EAAA9B,MAAA,KAAAhf,UAAA,KAAAihB,EAAA1b,KAAG,EAyB1BojD,GAAAA,GAAAA,QAAAA,uBAAmC,eAAAxnC,GAAAlB,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAkB,EAAOisC,GAAU,OAAAntC,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,OACpC,GAAKiX,EAAK+F,MAAvB6nC,cAEY,CAAF9oC,EAAA/b,KAAA,eAAA+b,EAAA/b,KAAA,EACH2vH,IAAyB,cAAA5zG,EAAAJ,OAAA,SAAAI,EAAAX,MAAA,OAEtC0sC,IAAY,wBAAA/rC,EAAAhB,OAAA,GAAAc,EAAA,KAEf,gBAAAR,GAAA,OAAAO,EAAAnC,MAAA,KAAAhf,UAAA,EARwC,IAQvC,OAEwBwc,EAAK+F,MAAvB6nC,eAGN5tC,EAAKitC,WAAW,CACd6rE,qBAAqB,GACpB,CAAEpiG,KAAM,cACZ,yBAAAjS,EAAAX,OAAA,GAAAS,EAAA,MAGHd,EAAAA,EAAAA,GAAAC,IAAAA,MAEA,SAAA0B,IAAA,OAAA1B,IAAAA,MAAA,SAAAmC,GAAA,cAAAA,EAAAnb,KAAAmb,EAAA9c,MAAA,cAAA8c,EAAA9c,KAAA,EACQ2V,EAAKuhG,aAAaiY,oBAAoB,CAC1Cl4G,KAAAA,EACAkxC,SAAU,UACV,wBAAArrC,EAAA/B,OAAA,GAAAsB,EAAA,MAGJ3B,EAAAA,EAAAA,GAAAC,IAAAA,MAEA,SAAAiD,IAAA,OAAAjD,IAAAA,MAAA,SAAAoD,GAAA,cAAAA,EAAApc,KAAAoc,EAAA/d,MAAA,cAAA+d,EAAA/d,KAAA,EACQiX,EAAKigG,aAAa8Y,oBAAoB,CAAE/4G,KAAAA,IAAO,wBAAA8G,EAAAhD,OAAA,GAAA6C,EAAA,KAKvD,WACE3G,EAAK5G,KAAKiC,KAAK+0C,KAAK,iBAAiB,SAAA7pC,GAAuC,IAArC00F,EAA+B10F,EAA/B00F,gCACrCj7F,EAAKmtC,SAAS,CACZ8tD,gCAAAA,GAEJ,IAEAj7F,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,0BAGT3C,EAAKitC,WAAW,CACd1uC,YAAY,GACX,SACL,EAIA,WAAO,EAEX,GAAC,CAAApY,IAAA,kBAAA6C,OAAA8tH,GAAArzG,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAA4C,IAAA,OAAA5C,IAAAA,MAAA,SAAAgD,GAAA,cAAAA,EAAAhc,KAAAgc,EAAA3d,MAAA,OACEtG,KAAKwqD,WAAW,CAAC,EAAG,CAAEv2B,KAAM,iBAAiB,wBAAAhQ,EAAA5C,OAAA,GAAAwC,EAAA,UAC9C,kBAAAwwG,EAAAt0G,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,YAAA6C,MAcD,WAAY,IAAA8V,EAAA,KACJkB,EAAOvd,KACbu2H,EAAqCh5G,EAAK+F,MAAlC8mC,EAAgBmsE,EAAhBnsE,iBAAkB9mD,EAAMizH,EAANjzH,OAE1B,OAAOia,EAAKu4G,UAAUhC,OAAO,CAC3B3pE,aAAcC,EACd9mD,OAAQA,IAEPy9B,MAAK,SAAC7L,GACL,QAAKA,IAIL7Y,EAAK1F,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,0BAGT3C,EAAKmtC,SAAS,CACZynD,sBAAuBj9E,EACvBm2B,YAAY,EACZ0C,aAAa,IACZ,IAEI,EACT,IAAE,OACK,SAAC5iD,GACN,MAAI,mBAAmB8C,KAAK9C,IAE1BoS,EAAKmtC,SAAS,CACZW,YAAY,EACZ0C,aAAa,IACZ,IACI,IAEPn0C,QAAQ4J,KAAK,gBAAiBrY,IAEvB,EAEX,GACJ,GAAC,CAAAzH,IAAA,kBAAA6C,OAAA0rH,GAAAjxG,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAsuB,IAAA,IAAAwc,EAAAomD,EAAA9mD,EAAA,OAAApqC,IAAAA,MAAA,SAAAivB,GAAA,cAAAA,EAAAjoC,KAAAioC,EAAA5pC,MAAA,OAC2C,GAD3CylD,EACgD/rD,KAAKsjB,MAA3C6uF,EAAqBpmD,EAArBomD,sBAAuB9mD,EAAUU,EAAVV,YAC3B8mD,IAAyB9mD,EAAU,CAAAnb,EAAA5pC,KAAA,gBAAA4pC,EAAA5pC,KAAA,EAC3BtG,KAAK81H,UAAUb,QAAQ9iB,GAAsB,WAAAjiE,EAAAxuB,KAAE,CAAFwuB,EAAA5pC,KAAA,eAAA4pC,EAAAjuB,OAAA,UAC9C,GAAI,OAMR,OAJHrI,QAAQ4J,KAAK,+CACbxjB,KAAK0qD,SAAU,CACbynD,sBAAuB,KACvB9mD,YAAY,IACXnb,EAAAjuB,OAAA,UACI,GAAK,eAAAiuB,EAAAjuB,OAAA,UAGT,GAAK,yBAAAiuB,EAAA7uB,OAAA,GAAAkuB,EAAA,UACb,kBAAA0iF,EAAAlyG,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,cAAA6C,OAAAyrH,GAAAhxG,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAuvB,EAAkBujF,GAAO,IAAAtnE,EAAAnpD,EAAA2f,EAAAwvF,EAAAuhB,EAAA/sH,EAAA8V,EAAA,YAAAkE,IAAAA,MAAA,SAAAkwB,GAAA,cAAAA,EAAAlpC,KAAAkpC,EAAA7qC,MAAA,OACmB,GADnBmmD,EACwBzsD,KAAKsjB,MAA5ChgB,EAAMmpD,EAANnpD,OAAQ2f,EAAUwpC,EAAVxpC,WAAYwvF,EAAchmD,EAAdgmD,eAEvBshB,EAAO,CAAA5iF,EAAA7qC,KAAA,cACJ,IAAI/H,MAAM,oEAAmE,OAkBpF,OAhBG+E,GAAUA,GAAUywH,GACtBn6G,QAAQ4J,KAAK,wDAEXivF,GACF74F,QAAQ4J,KAAK,0DAEflD,KAAM,iBAANA,CAAwB,2BAAD5d,OAA4BqxH,IAE7CC,EAAch0H,KAAKue,IAAIxD,IAAIlL,QAAQzR,OAAOmlB,UAAU3f,GAAOC,KAAKkwH,EAAS,QAAQvzH,SAAS,OAE5FyiB,GAAc+wG,GAChBp6G,QAAQ4J,KAAK,+BAAD9gB,OAAgCugB,EAAU,aAAAvgB,OAAYsxH,IAE9D/sH,EAAO,CACX8b,aAAc/iB,KAAKue,IAAIywC,yBAAyBhvD,KAAK2W,MACrDrT,OAAQywH,GACT5iF,EAAA7qC,KAAA,GAEKtG,KAAKw9G,aAAatf,SAASj3F,GAAM,SAACiuB,GACtC5U,KAAM,iBAANA,CAAwB,WAAD5d,OAAYwyB,IACnCnY,EAAK2tC,SAAS,CACZ3mC,+BAAgCmR,EAChCyoF,yBAAyB,GAE7B,IAAG58E,MAAK,WAENhkB,EAAKytC,WAAW,CACdioD,gBAAgB,GACf,eACL,IAAE,yBAAAthE,EAAA9vB,OAAA,GAAAmvB,EAAA,UACH,SAAAhuB,GAAA,OAAAwvG,EAAAjyG,MAAA,KAAAhf,UAAA,OAAA2C,IAAA,UAAA6C,MAxVD,WACE,MAAO,GAAP7D,OAAU1C,KAAKod,cAAa,KAAA1a,OAAI1C,KAAKqd,YACvC,GAAC,CAAA3Z,IAAA,cAAA6C,MACD,WACE,OAAOuU,GAAAA,GAAAA,MAAAA,KACT,GAAC,CAAApX,IAAA,YAAA6C,MACD,WACE,MAAO,IAAP7D,OAAW1C,KAAK4c,eAAc,KAAAla,OAAI6yC,EAAU14B,cAC9C,KAACg6G,CAAA,CAhBiB,CAASjqE,IAmW7B,OAnW0CzzC,EAAAA,EAAAA,GAApC09G,EAAc,wBAmWbA,CACR,E,uBCvWD,kBAAgBthF,GAAc,IAEtBuhF,EAAc,SAAA/E,IAAAr3G,EAAAA,GAAAA,GAAAo8G,EAAA/E,GAAA,IA8QjBC,EAJAC,EA9CAC,E,IA5NiBv3G,G,EAAAm8G,E,maAiBlB,SAAAA,EAAYngH,GAAM,IAAA06G,EAAA1kH,EAwBhB,IAxBgBP,EAAAA,GAAAA,GAAA,KAAA0qH,GAChBnqH,EAAAgO,EAAAtZ,KAAA,KAAMsV,IAAKwC,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBACXA,EAAK8hD,SAAW,QAEhB9hD,EAAKyvG,UAAY0a,EAAe35G,UAEhCxQ,EAAKs+C,YAAc,CACjB,KAAQ,EACR,iBAAkB,EAClB,gBAAiB,EACjB,eAAgB,EAChB,WAAY,EACZ,oBAAqB,EACrB,gBAAiB,EACjB,OAAU,EACV,IAAO,GAGTt+C,EAAK6wG,aAAe7mG,EAAKgyC,gBACzBh8C,EAAKmpH,UAAYn/G,EAAK+xC,UAEtB/7C,EAAKsiD,aAAetiD,EAAK6wG,aACzB7wG,EAAK2hD,eAAiB3hD,EAAKmpH,WAEtBnpH,EAAK6wG,aACR,MAAM,IAAIj/G,MAAM,0DAElB,IAAKoO,EAAKmpH,UACR,MAAM,IAAIv3H,MAAM,uDAGlBoO,EAAK2W,MAAQ,CACX2Q,KAAM,EAENk3B,eAAe,EAEfonD,oBAAqB,KACrBjnD,gBAAgB,EAChBC,YAAY,EAEZknE,aAAe,KACfxvG,WAAY,KAEZqI,mBAAmB,EACnBkgC,iBAAiB,EACjB/hC,QAAS,KAETkiC,+BAAgC,KAChCgyD,yBAAyB,EACzB9L,qBAAqB,EAErBvuG,OAAQ,KAERmvG,gBAAgB,EAChBgkB,kBAAkB,EAElB1yG,+BAAgC,KAChCy0F,gCAAiC,KAEjCrG,sBAAuB,KACvB9mD,YAAY,EAEZvvC,YAAY,EACZiyC,aAAa,EAEb8kE,yBAAyB,EACzBrlE,yBAAyB,EAEzBowD,qBAAqB,EACrBC,yBAA0B,KAC1BjC,gBAAiB,GAGnBjvG,EAAKmmH,gBAEL,IAAMv1G,GAAI1C,EAAAA,GAAAA,GAAAlO,GAOW,OANrB4Q,EAAK5G,KAAKiC,KAAK+0C,KAAK,oBAAoB,WACtCpwC,EAAKmtC,SAAS,CACZmoE,yBAAyB,GAE7B,KAEA3+D,EAAAA,GAAAA,IAAAm9D,GAAAx2G,EAAAA,GAAAA,GAAAlO,IAAAwnD,EAAAA,GAAAA,GAAA2iE,EAAAl3H,YAAA,gBAAAyxH,GAAAhwH,KAAAgwH,GAAqB1kH,CACvB,CApFC,OAoFAN,EAAAA,GAAAA,GAAAyqH,EAAA,EAAApzH,IAAA,gBAAA6C,MAED,YACE2tD,EAAAA,GAAAA,IAAAC,EAAAA,GAAAA,GAAA2iE,EAAAl3H,WAAA,sBAAAyB,KAAA,KACF,GAEA,CAAAqC,IAAA,YAAA6C,MACA,WAAY,IAAA0V,EAAA,KACJsB,EAAOvd,KAEb,MAAO,CAIL,WACEic,EAAK+2G,YACP,EAIA,WACEz1G,EAAK01G,uBACP,EAIA,WACE3yG,KAAM,iBAANA,CAAwB,+BACxBrE,EAAKi3G,cACP,EAIA,WACEj3G,EAAK63F,aACP,GAEA9yF,EAAAA,EAAAA,GAAAC,IAAAA,MAEA,SAAAO,IAAA,OAAAP,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,cAAAmb,EAAAnb,KAAA,EACQiX,EAAKigG,aAAakZ,oBAAoB,CAC1Cn5G,KAAAA,EACAkxC,SAAU,UACV,wBAAAhtC,EAAAJ,OAAA,GAAAG,EAAA,MAGJR,EAAAA,EAAAA,GAAAC,IAAAA,MAEA,SAAAC,IAAA,OAAAD,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,cAAAib,EAAAjb,KAAA,EACQiX,EAAKigG,aAAamZ,qBAAqB,CAAEp5G,KAAAA,IAAO,wBAAAgE,EAAAF,OAAA,GAAAH,EAAA,MAGxDF,EAAAA,EAAAA,GAAAC,IAAAA,MAEA,SAAAkB,IAAA,OAAAlB,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,cAAA+b,EAAA/b,KAAA,EACQojD,GAAAA,GAAAA,QAAAA,wBAAoC,SAAC0E,GACzC,IAAAjqC,EAAsE5G,EAAK+F,MAAnEhgB,EAAM6gB,EAAN7gB,OAAQ8mD,EAAgBjmC,EAAhBimC,iBAEhB,QAFiEjmC,EAA/Bq0F,kCAM7BpuD,EAKE7sC,EAAKu4G,UAAU53B,SAAS,CAC7B/zC,aAAcC,EACd9mD,OAAAA,EACAgsD,mBAAoB/xC,EAAK5G,KAAKiyC,wBAE7B7nB,MAAK,SAAC7L,GAIL,OAHA3X,EAAKmtC,SAAS,CACZ8tD,gCAAiCtjF,IAChC,IACI,CACT,IAAE,OACK,SAAC/pB,GAAK,OAAK,IAAI,KAftByO,QAAQzO,MAAM,uEACP,MAeX,IAAE,OAEFoS,EAAKitC,WAAW,CACdisE,kBAAkB,GACjB,CAAExiG,KAAM,kBAAkB,wBAAA5R,EAAAhB,OAAA,GAAAc,EAAA,KAK/B,WACE5E,EAAK5G,KAAKiC,KAAK+0C,KAAK,yBAAyB,WAC3C,IAAQ6qD,EAAoCj7F,EAAK+F,MAAzCk1F,gCAERj7F,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,gBACPjZ,KAAM,CACJuxG,gCAAAA,IAGN,IAEAj7F,EAAKitC,WAAW,CACd1uC,YAAY,GACX,CAAEmY,KAAM,UACb,EAIA,WAAO,EAEX,GAAC,CAAAvwB,IAAA,0BAAA6C,MAED,WACE,IAEMsmE,EAAW,CACf9pD,aAAc/iB,KAAKue,IAAI8xC,kBACvBvtC,mBAAoB9iB,KAAKue,IAAIywC,yBAJlBhvD,KAIgD2W,OAG7D,OAAO3W,KAAKw9G,aAAamW,gBAAgB9mD,EAC3C,GAAC,CAAAnpE,IAAA,YAAA6C,OAAA2rH,GAAAlxG,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAa,IAAA,IAAAmB,EAAA2wG,EAAAv3G,EAAA,YAAA4E,IAAAA,MAAA,SAAAe,GAAA,cAAAA,EAAA/Z,KAAA+Z,EAAA1b,MAAA,OAaG,OAZO2c,EAAejjB,KAAKsjB,MAApBL,WAEF2wG,EAAgB,WAAiB,IAAhB1+F,EAAIn0B,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,KAC5Bsb,EAAK1F,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,yBAGT7D,EAAKquC,SAAS,CACZynD,sBAAuBj9E,EACvBm2B,YAAY,EACZ0C,aAAa,IACZ,EACL,EAAC/rC,EAAA/Z,KAAA,EAAA+Z,EAAA1b,KAAA,EAG2BtG,KAAKw9G,aAAaqW,YAAY,CAAE5wG,WAAAA,IAAa,OAAtD,IAAAjB,EAAAN,KAEA,CAAFM,EAAA1b,KAAA,SAGE,OAFfga,KAAM,iBAANA,CAAwB,0BAExBszG,IAAe5xG,EAAAC,OAAA,UAER,GAAI,QAAAD,EAAA1b,KAAA,iBAG4B,OAH5B0b,EAAA/Z,KAAA,GAAA+Z,EAAAyB,GAAAzB,EAAA,SAGbpI,QAAQ4J,KAAK,qBAAoBxB,EAAAyB,IAAQzB,EAAAC,OAAA,UAElC,GAAK,eAAAD,EAAAC,OAAA,SAGPjiB,KAAKw9G,aAAasW,OAAO,CAC9BhxG,mBAAoB9iB,KAAKue,IAAIywC,yBAAyBhvD,KAAK2W,QAE1DoqB,MAAK,SAAC7L,GACL,QAAKA,IAIL0+F,EAAc1+F,IAEP,EACT,IAAE,OACK,SAAC/pB,GAAK,OAAK,CAAK,KAAC,yBAAA6W,EAAAX,OAAA,GAAAS,EAAA,mBAC3B,kBAAAowG,EAAAnyG,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,kBAAA6C,OAAA0rH,GAAAjxG,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAA0B,IAAA,OAAA1B,IAAAA,MAAA,SAAAmC,GAAA,cAAAA,EAAAnb,KAAAmb,EAAA9c,MAAA,cAAA8c,EAAAnB,OAAA,UACS,GAAI,wBAAAmB,EAAA/B,OAAA,GAAAsB,EAAA,KACZ,kBAAAsvG,EAAAlyG,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,cAAA6C,OAAAyrH,GAAAhxG,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAiD,EAAkB6vG,GAAO,IAAAhoE,EAAAzoD,EAAA2f,EAAAwzG,EAAArsE,EAAA4pE,EAAA4C,EAAA/iF,EAAApqB,EAAA1M,EAAA,YAAAkE,IAAAA,MAAA,SAAAoD,GAAA,cAAAA,EAAApc,KAAAoc,EAAA/d,MAAA,OACuD,GADvDylD,EAC4D/rD,KAAKsjB,MAAhFhgB,EAAMyoD,EAANzoD,OAAQ2f,EAAU8oC,EAAV9oC,WAA0B8oC,EAAd0mD,eAAgBgkB,EAAgB1qE,EAAhB0qE,iBAAkBrsE,EAAgB2B,EAAhB3B,iBAEzD2pE,EAAO,CAAA1vG,EAAA/d,KAAA,cACJ,IAAI/H,MAAM,oEAAmE,UAEhF6rD,EAAgB,CAAA/lC,EAAA/d,KAAA,cACb,IAAI/H,MAAM,yCAAwC,OAetC,OAbhB+E,GAAUA,GAAUywH,GACtBn6G,QAAQ4J,KAAK,wDAEXizG,GACF78G,QAAQ4J,KAAK,0DAEflD,KAAM,iBAANA,CAAwB,2BAAD5d,OAA4BqxH,IAE7CC,EAAch0H,KAAKue,IAAIxD,IAAIlL,QAAQzR,OAAOmlB,UAAU3f,GAAOC,KAAKkwH,EAAS,QAAQvzH,SAAS,OAE5FyiB,GAAc+wG,GAChBp6G,QAAQ4J,KAAK,+BAAD9gB,OAAgCugB,EAAU,aAAAvgB,OAAYsxH,IAAc4C,EAE1D52H,KAAK81H,UAAUrmE,aAAarF,GAA7CvW,EAAa+iF,EAAb/iF,cAAaxvB,EAAA/d,KAAA,GACEtG,KAAK81H,UAAUx7E,WAAWzG,GAAc,QAES,GAFjEpqB,EAAOpF,EAAA3C,KAEbpB,KAAM,iBAANA,CAAwB,WAAD5d,OAAYmxC,EAAa,cAAAnxC,OAAa+mB,IAE7C,IAAZA,EAAa,CAAApF,EAAA/d,KAAA,SAGY,MAF3BtG,KAAKwqD,WAAW,CACdisE,kBAAkB,GACjB,CAACxiG,KAAM,kBACJ,IAAI11B,MAAM,8BAADmE,OAA+BmxC,EAAa,aAAAnxC,OAAY+mB,IAAU,eAAApF,EAAA/d,KAAA,GAG7EtG,KAAK81H,UAAU53B,SAAS,CAC5B/zC,aAAcC,EACd9mD,OAAQywH,IACP,SAAC7+F,GACF5U,KAAM,iBAANA,CAAwB,WAAD5d,OAAYwyB,IACnCnY,EAAK2tC,SAAS,CACZ8tD,gCAAiCtjF,GAErC,IAAE,QACF5U,KAAM,iBAANA,CAAwB,qBAAD5d,OAAsB1C,KAAKsjB,MAAMk1F,kCAExDx4G,KAAKwqD,WAAW,CACdisE,kBAAkB,GACjB,CAAExiG,KAAM,kBAAkB,yBAAA5P,EAAAhD,OAAA,GAAA6C,EAAA,UAC9B,SAAAvC,GAAA,OAAAqwG,EAAAjyG,MAAA,KAAAhf,UAAA,OAAA2C,IAAA,UAAA6C,MAxTD,WACE,MAAO,GAAP7D,OAAU1C,KAAKod,cAAa,KAAA1a,OAAI1C,KAAKqd,YACvC,GAAC,CAAA3Z,IAAA,cAAA6C,MACD,WACE,MAAO,IAAP7D,OAAW1C,KAAK4c,eAAc,KAAAla,OAAI6yC,EAAU14B,cAC9C,GAAC,CAAAnZ,IAAA,YAAA6C,MACD,WACE,OAAOuU,GAAAA,GAAAA,MAAAA,KACT,KAACg8G,CAAA,CAhBiB,CAASlqE,IAmU7B,OAnU0CzzC,EAAAA,EAAAA,GAApC29G,EAAc,wBAmUbA,CACR,E,gBCrUgBh8G,GAAAA,GAAAA,UAAAA,KACFA,GAAAA,GAAAA,UAAAA,I,uBCL0B,IASnCi8G,GAAS,SAAAhF,IAAAr3G,EAAAA,GAAAA,GAAAq8G,EAAAhF,GAAA,IA4WZC,EAjBAC,EAzDAoC,E,IAlSY15G,G,EAAAo8G,E,maAeb,SAAAA,EAAYpgH,EAAMiE,GAAqB,IAAAy2G,EAAA1kH,EAGrC,IAHqCP,EAAAA,GAAAA,GAAA,KAAA2qH,GACrCpqH,EAAAgO,EAAAtZ,KAAA,KAAMsV,IAAKwC,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iCAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAwRI,WACfA,EAAKqqH,SAAS1C,wBAAwB,CACpCnqE,aAAcx9C,EAAK2W,MAAM8mC,iBACzB9mD,OAAQqJ,EAAK2W,MAAMhgB,SAElBy9B,MAAK,SAACwzF,GACL5nH,EAAK+9C,SAAS,CACZgoD,YAAa6hB,GAEjB,GACJ,KAhSO35G,EAAQsC,SACX,MAAM,IAAI3e,MAAM,uCAElB,IAAKqc,EAAQu3G,cAAgD,mBAAzBv3G,EAAQu3G,aAC1C,MAAM,IAAI5zH,MAAM,aAADmE,OAAckY,EAAQsC,SAAQ,8CAE/C,IAAKtC,EAAQw3G,uBAAkE,mBAAlCx3G,EAAQw3G,sBACnD,MAAM,IAAI7zH,MAAM,aAADmE,OAAckY,EAAQsC,SAAQ,uDAuB/C,GApBAvQ,EAAKwlH,aAAev3G,EAAQu3G,aAC5BxlH,EAAKylH,sBAAwBx3G,EAAQw3G,sBAErCzlH,EAAK8hD,SAAW,OAChB9hD,EAAKsqH,QAAUtgH,EAAKygG,YACpBzqG,EAAKyvG,UAAYxhG,EAAQsC,SAEzBvQ,EAAK+gD,YAAa,EAClB/gD,EAAKm9C,mBAAoB,EACzBn9C,EAAK0lH,wBACL1lH,EAAKs+C,YAAct+C,EAAK2lH,iBAExB3lH,EAAKuqH,QAAUvgH,EAAK+xC,UACpB/7C,EAAKqqH,SAAWrgH,EAAKgyC,gBAGrBh8C,EAAK4lH,YAAc5lH,EAAKuqH,QACxBvqH,EAAKsiD,aAAetiD,EAAKuqH,QACzBvqH,EAAK2hD,eAAiB3hD,EAAKqqH,UAEtBrqH,EAAKuqH,QACR,MAAM,IAAI34H,MAAM,GAADmE,OAAIiK,EAAKyvG,UAAS,wCAEnC,IAAKzvG,EAAKqqH,SACR,MAAM,IAAIz4H,MAAM,GAADmE,OAAIiK,EAAKyvG,UAAS,yCAInCzvG,EAAK2W,MAAQ,CACX2Q,KAAM,EAENk3B,eAAe,EAEfonD,oBAAqB,KACrBjnD,gBAAgB,EAChBsC,qBAAqB,EAErB8kE,mCAAoC,KAEpCzvG,WAAY,KAEZqI,mBAAmB,EACnBkgC,iBAAiB,EACjB/hC,QAAS,KAETooF,qBAAqB,EAErB2G,gCAAiC,KACjCoa,mCAAoC,KAEpCjV,yBAAyB,EACzBlL,gBAAgB,EAEhBN,sBAAuB,KACvB9mD,YAAY,EAEZmpE,YAAa,KACb9hB,YAAa,KACb52F,YAAY,EACZiyC,aAAa,EAEbT,oBAAoB,EAEpBzB,cAAe,MAGjB,IAAMtuC,GAAI1C,EAAAA,GAAAA,GAAAlO,GAaW,OAXjBA,EAAKm/C,WACPn/C,EAAKgK,KAAKiC,KAAK+0C,KAAK,sBAAqB,eAAAjgD,GAAAsT,EAAAA,EAAAA,GAAAC,IAAAA,MAAE,SAAAO,EAAAjV,GAAA,IAAAmmH,EAAA,OAAAzxG,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OACzCosH,EAAkCnmH,EAAlCmmH,mCAEAn1G,EAAKmtC,SAAS,CACZgoE,mCAAAA,IACC,GAAK,wBAAAjxG,EAAAJ,OAAA,GAAAG,EAAA,KACT,gBAAAG,GAAA,OAAAjU,EAAAqS,MAAA,KAAAhf,UAAA,EANwC,IAS3C4L,EAAKmmH,iBACL5+D,EAAAA,GAAAA,IAAAm9D,GAAAx2G,EAAAA,GAAAA,GAAAlO,IAAAwnD,EAAAA,GAAAA,GAAA4iE,EAAAn3H,YAAA,gBAAAyxH,GAAAhwH,KAAAgwH,GAAqB1kH,CACvB,CAsSC,OAtSAN,EAAAA,GAAAA,GAAA0qH,EAAA,EAAArzH,IAAA,gBAAA6C,MAED,YACE2tD,EAAAA,GAAAA,IAAAC,EAAAA,GAAAA,GAAA4iE,EAAAn3H,WAAA,sBAAAyB,KAAA,KACF,GAEA,CAAAqC,IAAA,YAAA6C,MACA,WAAY,IAAA0V,EAAA,KACJsB,EAAOvd,KAGb,OAAIA,KAAKytD,UACA,EAELzsC,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAC,IAAA,OAAAD,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OACE2V,EAAKw4G,eAAc,wBAAAlzG,EAAAF,OAAA,GAAAH,EAAA,KAIrB,WACEjF,EAAK22F,cACP,EAGA,WACE32F,EAAK63F,aACP,GAEA9yF,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAkB,IAAA,OAAAlB,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,OACE2V,EAAK+6G,SAAStC,eAAe,CAC3Bn3G,KAAAA,IACA,wBAAA8E,EAAAhB,OAAA,GAAAc,EAAA,MAGJnB,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAa,IAAA,OAAAb,IAAAA,MAAA,SAAAe,GAAA,cAAAA,EAAA/Z,KAAA+Z,EAAA1b,MAAA,cAAA0b,EAAA1b,KAAA,EACQiX,EAAK25G,QAAQvC,eAAe,CAChCp3G,KAAAA,EACAkxC,SAAUxyC,EAAKwyC,WACf,wBAAAzsC,EAAAX,OAAA,GAAAS,EAAA,MAGJd,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAA0B,IAAA,OAAA1B,IAAAA,MAAA,SAAAmC,GAAA,cAAAA,EAAAnb,KAAAmb,EAAA9c,MAAA,cAAA8c,EAAA9c,KAAA,EACQiX,EAAK25G,QAAQtC,uBAAuB,CAAEr3G,KAAAA,IAAO,wBAAA6F,EAAA/B,OAAA,GAAAsB,EAAA,KAIrD,WACEpF,EAAK5G,KAAKiC,KAAK+0C,KAAK,iBAAiB,SAAA7pC,GAAuC,IAArC00F,EAA+B10F,EAA/B00F,gCACrCj7F,EAAKmtC,SAAS,CACZ8tD,gCAAAA,GAEJ,IAEAj7F,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,0BAGT3C,EAAKitC,WAAW,CACd1uC,YAAY,GACX,SACL,EAGA,WAAO,GAGF,EACLkF,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAiD,IAAA,OAAAjD,IAAAA,MAAA,SAAAoD,GAAA,cAAAA,EAAApc,KAAAoc,EAAA/d,MAAA,OACE2V,EAAKw4G,eAAc,wBAAApwG,EAAAhD,OAAA,GAAA6C,EAAA,MAGrBlD,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAA4C,IAAA,OAAA5C,IAAAA,MAAA,SAAAgD,GAAA,cAAAA,EAAAhc,KAAAgc,EAAA3d,MAAA,OACE2V,EAAK63F,cAAa,wBAAA7vF,EAAA5C,OAAA,GAAAwC,EAAA,MAGpB7C,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAuvB,IAAA,OAAAvvB,IAAAA,MAAA,SAAAkwB,GAAA,cAAAA,EAAAlpC,KAAAkpC,EAAA7qC,MAAA,cAAA6qC,EAAA7qC,KAAA,EACQojD,GAAAA,GAAAA,QAAAA,wBAAmC1oC,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAsuB,IAAA,OAAAtuB,IAAAA,MAAA,SAAAivB,GAAA,cAAAA,EAAAjoC,KAAAioC,EAAA5pC,MAAA,cAAA4pC,EAAA5pC,KAAA,EACT2V,EAAKi7G,QAAQrC,iBAAiB54G,GAAK,OAA5C,IAAAi0B,EAAAxuB,KACA,CAAFwuB,EAAA5pC,KAAA,QAGE,OAFpB2V,EAAKuuC,WAAW,CACdqnD,qBAAqB,GACpB,kBAAiB3hE,EAAAjuB,OAAA,UACb,GAAI,cAAAiuB,EAAAjuB,OAAA,UAEN,GAAK,wBAAAiuB,EAAA7uB,OAAA,GAAAkuB,EAAA,MACZ,wBAAA4B,EAAA9vB,OAAA,GAAAmvB,EAAA,MAGJxvB,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAA6/B,IAAA,OAAA7/B,IAAAA,MAAA,SAAA+/B,GAAA,cAAAA,EAAA/4C,KAAA+4C,EAAA16C,MAAA,cAAA06C,EAAA16C,KAAA,EAEQojD,GAAAA,GAAAA,QAAAA,wBAAmC1oC,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAywB,IAAA,IAAAvtB,EAAAlB,EAAAmnC,EAAA,OAAAnpC,IAAAA,MAAA,SAAAuxB,GAAA,cAAAA,EAAAvqC,KAAAuqC,EAAAlsC,MAAA,OAGtB,GAHsB6d,EAIpC5G,EAAK+F,MAFPL,EAAUkB,EAAVlB,WACAmnC,EAAgBjmC,EAAhBimC,kBAEEnnC,IAAcmnC,EAAgB,CAAA5X,EAAAlsC,KAAA,gBAAAksC,EAAAlsC,KAAA,EACJiX,EAAK25G,QAAQ7D,cAAc,CACrDtwG,aAAcxF,EAAK60G,sBAAsB70G,EAAK5G,MAC9CmM,mBAAoBvF,EAAK40G,eACzBlvG,WAAAA,IACA,OAJiB,IAAAuvB,EAAA9wB,KAKA,CAAF8wB,EAAAlsC,KAAA,gBAAAksC,EAAAlsC,KAAA,EACe2V,EAAKi7G,QAAQpC,mBAAmB,CAAEv3G,KAAAA,IAAO,OAAlD,IAAAi1B,EAAA9wB,KAEA,CAAF8wB,EAAAlsC,KAAA,gBAAAksC,EAAAlsC,KAAA,GACX2V,EAAK+6G,SAAStC,eAAe,CACjCn3G,KAAAA,IACA,eAAAi1B,EAAAvwB,OAAA,UACK,GAAI,QAEXrI,QAAQ4J,KAAK,iDAAgD,QAAAgvB,EAAAlsC,KAAA,iBAM/D,OAFFiX,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,wBACPsyB,EAAAvwB,OAAA,UACK,GAAK,yBAAAuwB,EAAAnxB,OAAA,GAAAqwB,EAAA,MAEd,wBAAAsP,EAAA3/B,OAAA,GAAAy/B,EAAA,MAGJ9/B,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAk7B,IAAA,OAAAl7B,IAAAA,MAAA,SAAAs7B,GAAA,cAAAA,EAAAt0C,KAAAs0C,EAAAj2C,MAAA,cAAAi2C,EAAAj2C,KAAA,EACQojD,GAAAA,GAAAA,QAAAA,wBAAmC1oC,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAu7B,IAAA,IAAA4N,EAAA+sE,EAAAtjF,EAAAmhF,EAAAxc,EAAAl1G,EAAA,OAAA2d,IAAAA,MAAA,SAAAw7B,GAAA,cAAAA,EAAAx0C,KAAAw0C,EAAAn2C,MAAA,OAKnB,OAFnB8jD,EACEnuC,EAAKqH,MADP8mC,iBAAgB+sE,EAEQl7G,EAAK+6G,SAASvnE,aAAarF,GAA7CvW,EAAasjF,EAAbtjF,cAAa4I,EAAAn2C,KAAA,EAEU2V,EAAK+6G,SAASpjF,cAAcC,GAAc,OAAnD,KAAhBmhF,EAAgBv4E,EAAA/6B,MAEA,CAAF+6B,EAAAn2C,KAAA,SAEZ,OAAEkyG,EACJwc,EADFrrF,KAAI8S,EAAAn2C,KAAA,EAGe2V,EAAK+6G,SAAS1yG,oBAAoBk0F,GAAgC,OAMtF,OANKl1G,EAAMm5C,EAAA/6B,OAEVzF,EAAKuuC,WAAW,CACdlnD,OAAAA,EACAk1G,gCAAAA,GACC,sBACJ/7D,EAAAx6B,OAAA,UACM,GAAI,eAAAw6B,EAAAx6B,OAAA,UAEJ,GAAK,yBAAAw6B,EAAAp7B,OAAA,GAAAm7B,EAAA,MAEd,wBAAAD,EAAAl7B,OAAA,GAAA86B,EAAA,MAGJn7B,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAy7B,IAAA,OAAAz7B,IAAAA,MAAA,SAAA27B,GAAA,cAAAA,EAAA30C,KAAA20C,EAAAt2C,MAAA,cAAAs2C,EAAAt2C,KAAA,EACQiX,EAAK25G,QAAQtC,uBAAuB,CAAEr3G,KAAAA,IAAO,wBAAAq/B,EAAAv7B,OAAA,GAAAq7B,EAAA,MAGrD17B,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAi8B,IAAA,OAAAj8B,IAAAA,MAAA,SAAAk8B,GAAA,cAAAA,EAAAl1C,KAAAk1C,EAAA72C,MAAA,OAEEiX,EAAKitC,WAAW,CACd1uC,YAAY,GACX,UAAS,wBAAAqhC,EAAA97B,OAAA,GAAA67B,EAAA,MAGdl8B,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAA+9B,IAAA,OAAA/9B,IAAAA,MAAA,SAAAi+B,GAAA,cAAAA,EAAAj3C,KAAAi3C,EAAA54C,MAAA,wBAAA44C,EAAA79B,OAAA,GAAA29B,EAAA,KAGN,GAAC,CAAAt7C,IAAA,uBAAA6C,MAED,WAEE,OAD0BvG,KAAKsjB,MAAvBuwB,aAEV,GAAC,CAAAnwC,IAAA,kBAAA6C,OAAA8tH,GAAArzG,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAq9B,IAAA,OAAAr9B,IAAAA,MAAA,SAAA69B,GAAA,cAAAA,EAAA72C,KAAA62C,EAAAx4C,MAAA,OACEtG,KAAKwqD,WAAW,CAAC,EAAG,CAAEv2B,KAAM,iBAAiB,wBAAA6qB,EAAAz9B,OAAA,GAAAi9B,EAAA,UAC9C,kBAAA+1E,EAAAt0G,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,YAAA6C,MAcD,WAAY,IAAA8V,EAAA,KACJkB,EAAOvd,KACbovD,EAAqC7xC,EAAK+F,MAAlC8mC,EAAgBgF,EAAhBhF,iBAAkB9mD,EAAM8rD,EAAN9rD,OAE1B,OAAOia,EAAKy5G,SAASlD,OAAO,CAC1B3pE,aAAcC,EACd9mD,OAAQA,IAEPy9B,MAAK,SAAC7L,GACL,QAAKA,IAIL7Y,EAAK1F,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,0BAGT3C,EAAKmtC,SAAS,CACZynD,sBAAuBj9E,EACvBm2B,YAAY,EACZ0C,aAAa,IACZ,IAEI,EACT,IAAE,OACK,SAAC5iD,GACN,MAAI,mBAAmB8C,KAAK9C,IAE1BoS,EAAKmtC,SAAS,CACZW,YAAY,EACZ0C,aAAa,IACZ,IACI,IAEPn0C,QAAQ4J,KAAK,GAAD9gB,OAAI6a,EAAKkxC,SAAQ,aAAA/rD,OAAYyI,KAElC,EAEX,GACJ,GAAC,CAAAzH,IAAA,kBAAA6C,OAAA0rH,GAAAjxG,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAs+B,IAAA,IAAAwM,EAAAomD,EAAA9mD,EAAA,OAAApqC,IAAAA,MAAA,SAAAw+B,GAAA,cAAAA,EAAAx3C,KAAAw3C,EAAAn5C,MAAA,OAC2C,GAD3CylD,EACgD/rD,KAAKsjB,MAA3C6uF,EAAqBpmD,EAArBomD,sBAAuB9mD,EAAUU,EAAVV,YAC3B8mD,IAAyB9mD,EAAU,CAAA5L,EAAAn5C,KAAA,gBAAAm5C,EAAAn5C,KAAA,EAC3BtG,KAAKg3H,SAAS/B,QAAQ9iB,GAAsB,WAAA1yD,EAAA/9B,KAAE,CAAF+9B,EAAAn5C,KAAA,eAAAm5C,EAAAx9B,OAAA,UAC7C,GAAI,OAMR,OAJHrI,QAAQ4J,KAAK,GAAD9gB,OAAI1C,KAAKo8G,UAAS,kCAC9Bp8G,KAAK0qD,SAAU,CACbynD,sBAAuB,KACvB9mD,YAAY,IACX5L,EAAAx9B,OAAA,UACI,GAAK,eAAAw9B,EAAAx9B,OAAA,UAGT,GAAK,yBAAAw9B,EAAAp+B,OAAA,GAAAk+B,EAAA,UACb,kBAAA0yE,EAAAlyG,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,cAAA6C,OAAAyrH,GAAAhxG,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAA66D,EAAkBi4C,GAAO,IAAAtnE,EAAAnpD,EAAA2f,EAAAwvF,EAAAuhB,EAAA/sH,EAAA8V,EAAA,YAAAkE,IAAAA,MAAA,SAAA86D,GAAA,cAAAA,EAAA9zE,KAAA8zE,EAAAz1E,MAAA,OACmB,GADnBmmD,EACwBzsD,KAAKsjB,MAA5ChgB,EAAMmpD,EAANnpD,OAAQ2f,EAAUwpC,EAAVxpC,WAAYwvF,EAAchmD,EAAdgmD,eAEvBshB,EAAO,CAAAh4C,EAAAz1E,KAAA,cACJ,IAAI/H,MAAM,oEAAmE,OAkBpF,OAhBG+E,GAAUA,GAAUywH,GACtBn6G,QAAQ4J,KAAK,wDAEXivF,GACF74F,QAAQ4J,KAAK,0DAEflD,KAAM,iBAANA,CAAwB,2BAAD5d,OAA4BqxH,IAE7CC,EAAch0H,KAAKue,IAAIxD,IAAIlL,QAAQzR,OAAOmlB,UAAU3f,GAAOC,KAAKkwH,EAAS,QAAQvzH,SAAS,OAE5FyiB,GAAc+wG,GAChBp6G,QAAQ4J,KAAK,+BAAD9gB,OAAgCugB,EAAU,aAAAvgB,OAAYsxH,IAE9D/sH,EAAO,CACX8b,aAAc/iB,KAAKoyH,sBAAsBpyH,KAAK2W,MAC9CrT,OAAQywH,GACTh4C,EAAAz1E,KAAA,GAEKtG,KAAKk3H,QAAQh5B,SAASj3F,GAAM,SAACiuB,GACjC5U,KAAM,iBAANA,CAAwB,WAAD5d,OAAYwyB,IACnCnY,EAAK2tC,SAAS,CACZkoE,mCAAoC19F,EACpCyoF,yBAAyB,GAE7B,IAAG58E,MAAK,WAENhkB,EAAKytC,WAAW,CACdioD,gBAAgB,GACf,eACL,IAAE,yBAAA12B,EAAA16D,OAAA,GAAAy6D,EAAA,UACH,SAAAt5D,GAAA,OAAAwvG,EAAAjyG,MAAA,KAAAhf,UAAA,MAAAg2H,CAAA,CAlZY,CAASnqE,ICVkB,IAGpCwqE,GAAQ,SAAAC,IAAA38G,EAAAA,GAAAA,GAAA08G,EAAAC,GAAA,I,IAAA18G,G,EAAAy8G,E,maAUZ,SAAAA,EAAYzgH,GAAM,OAAAvK,EAAAA,GAAAA,GAAA,KAAAgrH,GAAAz8G,EAAAtZ,KAAA,KACVsV,EAAM,CACVuG,SAAUk6G,EAASj6G,UACnBg1G,aAAcx7G,EAAK4H,IAAI8xC,gBAAgB7wC,KAAK7I,EAAK4H,KACjD6zG,sBAAuBz7G,EAAK4H,IAAIywC,yBAAyBxvC,KAAK7I,EAAK4H,MAEvE,CAPC,OAOAlS,EAAAA,GAAAA,GAAA+qH,EAAA,OAAA1zH,IAAA,UAAA6C,MAfD,WACE,MAAO,GAAP7D,OAAU1C,KAAKod,cAAa,KAAA1a,OAAI1C,KAAKqd,YACvC,GAAC,CAAA3Z,IAAA,cAAA6C,MACD,WACE,OAAOuU,GAAAA,GAAAA,MAAAA,IACT,GAAC,CAAApX,IAAA,YAAA6C,MACD,WACE,OAAOuU,GAAAA,GAAAA,MAAAA,GACT,KAACs8G,CAAA,CATW,CD4Zd,ICzYA,Y,uBCrByC,IASnCE,GAAS,SAAAvF,IAAAr3G,EAAAA,GAAAA,GAAA48G,EAAAvF,GAAA,IAiXZC,EAJAC,EA/CAC,E,IA9TYv3G,G,EAAA28G,E,maAeb,SAAAA,EAAY3gH,EAAMiE,GAAqB,IAAAy2G,EAAA1kH,EAGrC,IAHqCP,EAAAA,GAAAA,GAAA,KAAAkrH,GACrC3qH,EAAAgO,EAAAtZ,KAAA,KAAMsV,IAAKwC,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iCAENiO,EAAQsC,SACX,MAAM,IAAI3e,MAAM,uCAElB,IAAKqc,EAAQu3G,cAAgD,mBAAzBv3G,EAAQu3G,aAC1C,MAAM,IAAI5zH,MAAM,aAADmE,OAAckY,EAAQsC,SAAQ,8CAE/C,IAAKtC,EAAQw3G,uBAAkE,mBAAlCx3G,EAAQw3G,sBACnD,MAAM,IAAI7zH,MAAM,aAADmE,OAAckY,EAAQsC,SAAQ,uDAsB/C,GAnBAvQ,EAAKwlH,aAAev3G,EAAQu3G,aAC5BxlH,EAAKylH,sBAAwBx3G,EAAQw3G,sBAErCzlH,EAAK8hD,SAAW,OAChB9hD,EAAKsqH,QAAUtgH,EAAKygG,YACpBzqG,EAAKyvG,UAAYxhG,EAAQsC,SAEzBvQ,EAAKm9C,mBAAoB,EACzBn9C,EAAK0lH,wBACL1lH,EAAKs+C,YAAct+C,EAAK2lH,iBAExB3lH,EAAKuqH,QAAUvgH,EAAKgyC,gBACpBh8C,EAAKqqH,SAAWrgH,EAAK+xC,UAGrB/7C,EAAK4lH,YAAc5lH,EAAKuqH,QACxBvqH,EAAKsiD,aAAetiD,EAAKuqH,QACzBvqH,EAAK2hD,eAAiB3hD,EAAKqqH,UAEtBrqH,EAAKuqH,QACR,MAAM,IAAI34H,MAAM,GAADmE,OAAIiK,EAAKyvG,UAAS,wCAEnC,IAAKzvG,EAAKqqH,SACR,MAAM,IAAIz4H,MAAM,GAADmE,OAAIiK,EAAKyvG,UAAS,yCAInCzvG,EAAK2W,MAAQ,CACX2Q,KAAM,EAENk3B,eAAe,EAEfonD,oBAAqB,KACrBjnD,gBAAgB,EAChBC,YAAY,EAEZknE,aAAe,KACfxvG,WAAY,KAEZqI,mBAAmB,EACnBkgC,iBAAiB,EACjB/hC,QAAS,KAETipG,mCAAoC,KACpC/U,yBAAyB,EACzB9L,qBAAqB,EAErBvuG,OAAQ,KAERmvG,gBAAgB,EAChBkgB,gBAAgB,EAEhBC,mCAAoC,KACpCpa,gCAAiC,KAEjCrG,sBAAuB,KACvB9mD,YAAY,EAEZvvC,YAAY,EACZiyC,aAAa,EAEb8kE,yBAAyB,EACzBrlE,yBAAyB,EAEzBowD,qBAAqB,EACrBC,yBAA0B,MAG5BlxG,EAAKmmH,gBAEL,IAAMv1G,GAAI1C,EAAAA,GAAAA,GAAAlO,GAyCW,OAvCjBA,EAAK8gD,WACPlwC,EAAK5G,KAAKiC,KAAKmvC,GAAG,sBAAsB,SAAC9gD,GACvC,IACEqjD,EACErjD,EADFqjD,kCAEF/sC,EAAKmtC,SAAS,CACZJ,kCAAAA,IACC,EACL,IACA/sC,EAAK5G,KAAKiC,KAAKmvC,GAAG,qBAAqB,SAAC9gD,GACtC,IACE2rH,EACE3rH,EADF2rH,mCAEFr1G,EAAKmtC,SAAS,CACZkoE,mCAAAA,GAEJ,MAEAr1G,EAAK5G,KAAKiC,KAAK+0C,KAAK,oBAAoB,WACtCpwC,EAAKmtC,SAAS,CACZmoE,yBAAyB,GAE7B,IAEAt1G,EAAK5G,KAAKiC,KAAKmvC,GAAG,wBAAwB,WACxC,IAAQ2qE,EAAuCn1G,EAAK+F,MAA5CovG,mCAEJA,IACF94G,QAAQ4jB,IAAI,sBACZjgB,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,sBACPjZ,KAAM,CACJyrH,mCAAAA,KAIR,MAGFx+D,EAAAA,GAAAA,IAAAm9D,GAAAx2G,EAAAA,GAAAA,GAAAlO,IAAAwnD,EAAAA,GAAAA,GAAAmjE,EAAA13H,YAAA,gBAAAyxH,GAAAhwH,KAAAgwH,GAAqB1kH,CACvB,CAwRC,OAxRAN,EAAAA,GAAAA,GAAAirH,EAAA,EAAA5zH,IAAA,gBAAA6C,MAED,YACE2tD,EAAAA,GAAAA,IAAAC,EAAAA,GAAAA,GAAAmjE,EAAA13H,WAAA,sBAAAyB,KAAA,KACF,GAEA,CAAAqC,IAAA,YAAA6C,MACA,WAAY,IAAA0V,EAAA,KACJsB,EAAOvd,KAEb,OAAIA,KAAK8rD,UACA,CAIL,WACE7vC,EAAK+2G,YACP,EAIA,WACEz1G,EAAK01G,uBACP,EAIA,WACE3yG,KAAM,iBAANA,CAAwB,8BACxBrE,EAAKi3G,cACP,EAIA,WACEj3G,EAAK63F,aACP,GAEA9yF,EAAAA,EAAAA,GAAAC,IAAAA,MAEA,SAAAO,IAAA,OAAAP,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,cAAAmb,EAAAnb,KAAA,EAC6B2V,EAAKk3G,uBAAsB,OAApC,IAAA1xG,EAAAC,KACA,CAAFD,EAAAnb,KAAA,eAAAmb,EAAAnb,KAAA,EACRiX,EAAK25G,QAAQ9D,aAAa,CAC9B71G,KAAAA,IACA,wBAAAkE,EAAAJ,OAAA,GAAAG,EAAA,MAINR,EAAAA,EAAAA,GAAAC,IAAAA,MAEA,SAAAkB,IAAA,IAAAc,EAAA,OAAAhC,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,OAEc,OAAV2c,EACEhH,EAAKqH,MADPL,WAAUZ,EAAA/b,KAAA,EAGNojD,GAAAA,GAAAA,QAAAA,wBAAmC1oC,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAC,IAAA,OAAAD,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,cAAAib,EAAAjb,KAAA,EACZiX,EAAK25G,QAAQ7D,cAAc,CACrDtwG,aAAcxF,EAAK40G,eACnBrvG,mBAAoBvF,EAAK60G,sBAAsB70G,EAAK5G,MACpDsM,WAAAA,IACA,OAJiB,IAAA1B,EAAAG,KAMA,CAAFH,EAAAjb,KAAA,eAAAib,EAAAjb,KAAA,EACTiX,EAAK25G,QAAQ5D,sBAAsB,CAAE/1G,KAAAA,IAAO,cAAAgE,EAAAU,OAAA,UAC3C,GAAI,cAAAV,EAAAU,OAAA,UAEN,GAAK,wBAAAV,EAAAF,OAAA,GAAAH,EAAA,MACZ,wBAAAmB,EAAAhB,OAAA,GAAAc,EAAA,MAGJnB,EAAAA,EAAAA,GAAAC,IAAAA,MAEA,SAAAa,IAAA,OAAAb,IAAAA,MAAA,SAAAe,GAAA,cAAAA,EAAA/Z,KAAA+Z,EAAA1b,MAAA,cAAA0b,EAAA1b,KAAA,EACQ2V,EAAK+6G,SAASzD,iBAAiB,CACnCh2G,KAAAA,IACA,wBAAAyE,EAAAX,OAAA,GAAAS,EAAA,KAKJ,WACEvE,EAAK5G,KAAKiC,KAAK+0C,KAAK,yBAAyB,WAC3C,IAAQ6qD,EAAoCj7F,EAAK+F,MAAzCk1F,gCAERj7F,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,gBACPjZ,KAAM,CACJuxG,gCAAAA,IAGN,IAEAj7F,EAAKitC,WAAW,CACd1uC,YAAY,GACX,CAAEmY,KAAM,UACb,EAIA,WAAO,GAGF,EACLjT,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAA0B,IAAA,OAAA1B,IAAAA,MAAA,SAAAmC,GAAA,cAAAA,EAAAnb,KAAAmb,EAAA9c,MAAA,OACE2V,EAAK+2G,aAAY,wBAAA5vG,EAAA/B,OAAA,GAAAsB,EAAA,MAGnB3B,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAiD,IAAA,OAAAjD,IAAAA,MAAA,SAAAoD,GAAA,cAAAA,EAAApc,KAAAoc,EAAA/d,MAAA,OACE2V,EAAK63F,cAAa,wBAAAzvF,EAAAhD,OAAA,GAAA6C,EAAA,MAGpBlD,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAA4C,IAAA,IAAA2vG,EAAAlwH,EAAA2f,EAAA,OAAAhC,IAAAA,MAAA,SAAAgD,GAAA,cAAAA,EAAAhc,KAAAgc,EAAA3d,MAAA,OAaG,OAZI2V,EAAKqH,MAAMhgB,SAAQkwH,EAIlBv3G,EAAK2zC,iBAFPtsD,EAAMkwH,EAANlwH,OACA2f,EAAUuwG,EAAVvwG,WAGFhH,EAAK4zC,qBAAqB5sC,GAAY,GAEtChH,EAAKyuC,SAAS,CACZpnD,OAAAA,EACA2f,WAAAA,IACC,IACJgB,EAAA3d,KAAA,EAEKiX,EAAK25G,QAAQ9D,aAAa,CAC9B71G,KAAAA,EAKAk2G,iBAAiB,IACjB,wBAAAxvG,EAAA5C,OAAA,GAAAwC,EAAA,MAGJ7C,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAsuB,IAAA,OAAAtuB,IAAAA,MAAA,SAAAivB,GAAA,cAAAA,EAAAjoC,KAAAioC,EAAA5pC,MAAA,OACE2V,EAAKk3G,uBACFpyF,MAAK,SAAC2yF,GACDA,GACFz3G,EAAKuuC,WAAW,CAAC,EAAG,kBAExB,IAAE,wBAAAta,EAAA7uB,OAAA,GAAAkuB,EAAA,MAGNvuB,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAuvB,IAAA,OAAAvvB,IAAAA,MAAA,SAAAkwB,GAAA,cAAAA,EAAAlpC,KAAAkpC,EAAA7qC,MAAA,cAAA6qC,EAAA7qC,KAAA,EACQ2V,EAAK+6G,SAASzD,iBAAiB,CACnCh2G,KAAAA,IACA,wBAAA4zB,EAAA9vB,OAAA,GAAAmvB,EAAA,MAGJxvB,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAywB,IAAA,OAAAzwB,IAAAA,MAAA,SAAAuxB,GAAA,cAAAA,EAAAvqC,KAAAuqC,EAAAlsC,MAAA,OAEEiX,EAAKitC,WAAW,CACd1uC,YAAY,GACX,UAAS,wBAAA02B,EAAAnxB,OAAA,GAAAqwB,EAAA,MAGd1wB,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAA6/B,IAAA,OAAA7/B,IAAAA,MAAA,SAAA+/B,GAAA,cAAAA,EAAA/4C,KAAA+4C,EAAA16C,MAAA,wBAAA06C,EAAA3/B,OAAA,GAAAy/B,EAAA,KAGN,GAAC,CAAAp9C,IAAA,0BAAA6C,MAED,WACE,IAAMsmE,EAAW,CACf9pD,aAAc/iB,KAAKmyH,eACnBrvG,mBAAoB9iB,KAAKoyH,sBAAsBpyH,KAAK2W,OAGtD,OAAO3W,KAAKk3H,QAAQvD,gBAAgB9mD,EACtC,GAAC,CAAAnpE,IAAA,YAAA6C,OAAA2rH,GAAAlxG,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAu7B,IAAA,IAAAv5B,EAAA2wG,EAAAv3G,EAAA,YAAA4E,IAAAA,MAAA,SAAAw7B,GAAA,cAAAA,EAAAx0C,KAAAw0C,EAAAn2C,MAAA,OAaG,OAZO2c,EAAejjB,KAAKsjB,MAApBL,WAEF2wG,EAAgB,WAAiB,IAAhB1+F,EAAIn0B,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,KAC5Bsb,EAAK1F,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,yBAGT7D,EAAKquC,SAAS,CACZynD,sBAAuBj9E,EACvBm2B,YAAY,EACZ0C,aAAa,IACZ,EACL,EAACtR,EAAAx0C,KAAA,EAAAw0C,EAAAn2C,KAAA,EAG2BtG,KAAKk3H,QAAQrD,YAAY,CAAE5wG,WAAAA,IAAa,OAAjD,IAAAw5B,EAAA/6B,KAEA,CAAF+6B,EAAAn2C,KAAA,SAGE,OAFfga,KAAM,iBAANA,CAAwB,0BAExBszG,IAAen3E,EAAAx6B,OAAA,UAER,GAAI,QAAAw6B,EAAAn2C,KAAA,iBAG4B,OAH5Bm2C,EAAAx0C,KAAA,GAAAw0C,EAAAh5B,GAAAg5B,EAAA,SAGb7iC,QAAQ4J,KAAK,qBAAoBi5B,EAAAh5B,IAAQg5B,EAAAx6B,OAAA,UAElC,GAAK,eAAAw6B,EAAAx6B,OAAA,SAGPjiB,KAAKk3H,QAAQpD,OAAO,CACzBhxG,mBAAoB9iB,KAAKoyH,sBAAsBpyH,KAAK2W,QAEnDoqB,MAAK,SAAC7L,GACL,QAAKA,IAKL0+F,EAAc1+F,IAEP,EACT,IAAE,OACK,SAAC/pB,GAAK,OAAK,CAAK,KAAC,yBAAAsxC,EAAAp7B,OAAA,GAAAm7B,EAAA,mBAC3B,kBAAA01E,EAAAnyG,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,kBAAA6C,OAAA0rH,GAAAjxG,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAk7B,IAAA,OAAAl7B,IAAAA,MAAA,SAAAs7B,GAAA,cAAAA,EAAAt0C,KAAAs0C,EAAAj2C,MAAA,cAAAi2C,EAAAt6B,OAAA,UACS,GAAI,wBAAAs6B,EAAAl7B,OAAA,GAAA86B,EAAA,KACZ,kBAAA81E,EAAAlyG,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,cAAA6C,OAAAyrH,GAAAhxG,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAy7B,EAAkBq3E,GAAO,IAAAhoE,EAAAzoD,EAAA2f,EAAA0vG,EAAAvoE,EAAA4pE,EAAAuD,EAAA1jF,EAAApqB,EAAA1M,EAAA,YAAAkE,IAAAA,MAAA,SAAA27B,GAAA,cAAAA,EAAA30C,KAAA20C,EAAAt2C,MAAA,OACqC,GADrCylD,EAC0C/rD,KAAKsjB,MAA9DhgB,EAAMyoD,EAANzoD,OAAQ2f,EAAU8oC,EAAV9oC,WAAY0vG,EAAc5mE,EAAd4mE,eAAgBvoE,EAAgB2B,EAAhB3B,iBAEvC2pE,EAAO,CAAAn3E,EAAAt2C,KAAA,cACJ,IAAI/H,MAAM,oEAAmE,UAEhF6rD,EAAgB,CAAAxN,EAAAt2C,KAAA,cACb,IAAI/H,MAAM,yCAAwC,OAerC,OAbjB+E,GAAUA,GAAUywH,GACtBn6G,QAAQ4J,KAAK,wDAEXmvG,GACF/4G,QAAQ4J,KAAK,0DAEflD,KAAM,iBAANA,CAAwB,2BAAD5d,OAA4BqxH,IAE7CC,EAAch0H,KAAKue,IAAIxD,IAAIlL,QAAQzR,OAAOmlB,UAAU3f,GAAOC,KAAKkwH,EAAS,QAAQvzH,SAAS,OAE5FyiB,GAAc+wG,GAChBp6G,QAAQ4J,KAAK,+BAAD9gB,OAAgCugB,EAAU,aAAAvgB,OAAYsxH,IAAcuD,EAExDv3H,KAAKg3H,SAASvnE,aAAarF,GAA7CvW,EAAa0jF,EAAb1jF,cAAa+I,EAAAt2C,KAAA,GACCtG,KAAKg3H,SAAS18E,WAAWzG,GAAc,QAEU,GAFjEpqB,EAAOmzB,EAAAl7B,KAEbpB,KAAM,iBAANA,CAAwB,WAAD5d,OAAYmxC,EAAa,cAAAnxC,OAAa+mB,IAE7C,IAAZA,EAAa,CAAAmzB,EAAAt2C,KAAA,SAGc,MAF7BtG,KAAKwqD,WAAW,CACdmoE,gBAAgB,GACf,CAAE1+F,KAAM,kBACL,IAAI11B,MAAM,8BAADmE,OAA+BmxC,EAAa,aAAAnxC,OAAY+mB,IAAU,QAGnFzpB,KAAKg3H,SAAS94B,SAAS,CACrB/zC,aAAcC,EACd9mD,OAAQywH,IACPhzF,MAAK,SAAC7L,GACP5U,KAAM,iBAANA,CAAwB,WAAD5d,OAAYwyB,IACnCnY,EAAK2tC,SAAS,CACZ8tD,gCAAiCtjF,IAGnC5U,KAAM,iBAANA,CAAwB,qBAAD5d,OAAsBqa,EAAKuG,MAAMk1F,kCAExDz7F,EAAKytC,WAAW,CACdmoE,gBAAgB,GACf,CAAE1+F,KAAM,iBACb,IAAE,yBAAA2oB,EAAAv7B,OAAA,GAAAq7B,EAAA,UACH,SAAA/6B,GAAA,OAAAqwG,EAAAjyG,MAAA,KAAAhf,UAAA,MAAAu2H,CAAA,CApaY,CAAS1qE,ICVkB,IAGpC4qE,GAAQ,SAAAC,IAAA/8G,EAAAA,GAAAA,GAAA88G,EAAAC,GAAA,I,IAAA98G,G,EAAA68G,E,maAUZ,SAAAA,EAAY7gH,GAAM,OAAAvK,EAAAA,GAAAA,GAAA,KAAAorH,GAAA78G,EAAAtZ,KAAA,KACVsV,EAAM,CACVuG,SAAUs6G,EAASr6G,UACnBg1G,aAAcx7G,EAAK4H,IAAI8xC,gBAAgB7wC,KAAK7I,EAAK4H,KACjD6zG,sBAAuBz7G,EAAK4H,IAAIywC,yBAAyBxvC,KAAK7I,EAAK4H,MAEvE,CAPC,OAOAlS,EAAAA,GAAAA,GAAAmrH,EAAA,OAAA9zH,IAAA,UAAA6C,MAfD,WACE,MAAO,GAAP7D,OAAU1C,KAAKod,cAAa,KAAA1a,OAAI1C,KAAKqd,YACvC,GAAC,CAAA3Z,IAAA,cAAA6C,MACD,WACE,OAAOuU,GAAAA,GAAAA,MAAAA,GACT,GAAC,CAAApX,IAAA,YAAA6C,MACD,WACE,OAAOuU,GAAAA,GAAAA,MAAAA,IACT,KAAC08G,CAAA,CATW,CD+ad,IC5ZA,Y,uBCrByC,IAapBE,GAAc,SAAA3F,IAAAr3G,EAAAA,GAAAA,GAAAg9G,EAAA3F,GAAA,IAyXhCC,EAjBAC,EAzDAoC,E,IA/SgC15G,G,EAAA+8G,E,maAcjC,SAAAA,EAAY/gH,EAAYiE,GAA0B,IAAAy2G,EAAA1kH,EAEhD,IAFgDP,EAAAA,GAAAA,GAAA,KAAAsrH,GAChD/qH,EAAAgO,EAAAtZ,KAAA,KAAMsV,IAAKwC,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,0BAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iCAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAsSI,WACfA,EAAKqqH,SAAS1C,wBAAwB,CACpCnqE,aAAcx9C,EAAK2W,MAAM8mC,iBACzB9mD,OAAQqJ,EAAK2W,MAAMhgB,SAElBy9B,MAAK,SAACwzF,GACL5nH,EAAK+9C,SAAS,CACZgoD,YAAa6hB,GAEjB,GACJ,KA/SO35G,EAAQ26B,UACX,MAAM,IAAIh3C,MAAM,6CAElB,IAAKqc,EAAQgC,eACX,MAAM,IAAIre,MAAM,0BAADmE,OAA2BkY,EAAQ26B,UAAS,qCAE7D,IAAK36B,EAAQu3G,cAAgD,mBAAzBv3G,EAAQu3G,aAC1C,MAAM,IAAI5zH,MAAM,kBAADmE,OAAmBkY,EAAQgC,eAAc,aAAAla,OAAYkY,EAAQ26B,UAAS,8CAEvF,IAAK36B,EAAQw3G,uBAAkE,mBAAlCx3G,EAAQw3G,sBACnD,MAAM,IAAI7zH,MAAM,kBAADmE,OAAmBkY,EAAQgC,eAAc,aAAAla,OAAYkY,EAAQ26B,UAAS,uDAyBvF,GAtBA5oC,EAAKiQ,eAAiBhC,EAAQgC,eAC9BjQ,EAAK4oC,UAAY36B,EAAQ26B,UACzB5oC,EAAKwlH,aAAev3G,EAAQu3G,aAC5BxlH,EAAKylH,sBAAwBx3G,EAAQw3G,sBAErCzlH,EAAK8hD,SAAW,OAChB9hD,EAAKyvG,UAAYxhG,EAAQsC,SAEzBvQ,EAAK+gD,YAAa,EAClB/gD,EAAKm9C,mBAAoB,EACzBn9C,EAAK0lH,wBAEL1lH,EAAKs+C,YAAct+C,EAAK2lH,iBAExB3lH,EAAKgrH,aAAehhH,EAAK+xC,UACzB/7C,EAAKqqH,SAAWrgH,EAAKgyC,gBAGrBh8C,EAAK6wG,aAAe7wG,EAAKgrH,aACzBhrH,EAAKsiD,aAAetiD,EAAKgrH,aACzBhrH,EAAK2hD,eAAiB3hD,EAAKqqH,UAEtBrqH,EAAKgrH,aACR,MAAM,IAAIp5H,MAAM,GAADmE,OAAIiK,EAAKyvG,UAAS,6CAEnC,IAAKzvG,EAAKqqH,SACR,MAAM,IAAIz4H,MAAM,GAADmE,OAAIiK,EAAKyvG,UAAS,yCAInCzvG,EAAK2W,MAAQ,CACX2Q,KAAM,EAENk3B,eAAe,EAEfonD,oBAAqB,KACrBjnD,gBAAgB,EAChBsC,qBAAqB,EAErBjC,+BAAgC,KAEhC1oC,WAAY,KAEZqI,mBAAmB,EACnBkgC,iBAAiB,EACjB/hC,QAAS,KAETooF,qBAAqB,EAErB2G,gCAAiC,KACjCz0F,+BAAgC,KAEhCzgB,OAAQ,KAERq6G,yBAAyB,EACzBlL,gBAAgB,EAEhBN,sBAAuB,KACvB9mD,YAAY,EAEZmpE,YAAa,KACb9hB,YAAa,KACb52F,YAAY,EACZiyC,aAAa,EACblC,cAAe,MAGjB,IAAMtuC,GAAI1C,EAAAA,GAAAA,GAAAlO,GAaW,OAXjBA,EAAKm/C,WACPn/C,EAAKgK,KAAKiC,KAAK+0C,KAAK,sBAAqB,eAAAjgD,GAAAsT,EAAAA,EAAAA,GAAAC,IAAAA,MAAE,SAAAO,EAAAjV,GAAA,IAAAo/C,EAAA,OAAA1qC,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OACzCqlD,EAA8Bp/C,EAA9Bo/C,+BAEApuC,EAAKmtC,SAAS,CACZiB,+BAAAA,IACC,GAAK,wBAAAlqC,EAAAJ,OAAA,GAAAG,EAAA,KACT,gBAAAG,GAAA,OAAAjU,EAAAqS,MAAA,KAAAhf,UAAA,EANwC,IAS3C4L,EAAKmmH,iBACL5+D,EAAAA,GAAAA,IAAAm9D,GAAAx2G,EAAAA,GAAAA,GAAAlO,IAAAwnD,EAAAA,GAAAA,GAAAujE,EAAA93H,YAAA,gBAAAyxH,GAAAhwH,KAAAgwH,GAAqB1kH,CACvB,CAiTC,OAjTAN,EAAAA,GAAAA,GAAAqrH,EAAA,EAAAh0H,IAAA,gBAAA6C,MAED,YACE2tD,EAAAA,GAAAA,IAAAC,EAAAA,GAAAA,GAAAujE,EAAA93H,WAAA,sBAAAyB,KAAA,KACF,GAEA,CAAAqC,IAAA,YAAA6C,MACA,WAAY,IAAA0V,EAAA,KACJsB,EAAOvd,KAEb,OAAIA,KAAKytD,UACA,EAELzsC,EAAAA,EAAAA,GAAAC,IAAAA,MAEA,SAAAC,IAAA,OAAAD,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OACE2V,EAAKw4G,eAAc,wBAAAlzG,EAAAF,OAAA,GAAAH,EAAA,KAKrB,WACEjF,EAAK22F,cACP,EAIA,WACE32F,EAAK63F,aACP,GAEA9yF,EAAAA,EAAAA,GAAAC,IAAAA,MAEA,SAAAkB,IAAA,OAAAlB,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,cAAA+b,EAAA/b,KAAA,EACQ2V,EAAK+6G,SAAStC,eAAe,CACjCn3G,KAAAA,IACA,wBAAA8E,EAAAhB,OAAA,GAAAc,EAAA,MAGJnB,EAAAA,EAAAA,GAAAC,IAAAA,MAEA,SAAAa,IAAA,OAAAb,IAAAA,MAAA,SAAAe,GAAA,cAAAA,EAAA/Z,KAAA+Z,EAAA1b,MAAA,cAAA0b,EAAA1b,KAAA,EACQ2V,EAAK07G,aAAalC,oBAAoB,CAC1Cl4G,KAAAA,EACAkxC,SAAUxyC,EAAKwyC,WACf,wBAAAzsC,EAAAX,OAAA,GAAAS,EAAA,MAGJd,EAAAA,EAAAA,GAAAC,IAAAA,MAEA,SAAA0B,IAAA,OAAA1B,IAAAA,MAAA,SAAAmC,GAAA,cAAAA,EAAAnb,KAAAmb,EAAA9c,MAAA,cAAA8c,EAAA9c,KAAA,EACQiX,EAAKo6G,aAAa/C,uBAAuB,CAAEr3G,KAAAA,IAAO,wBAAA6F,EAAA/B,OAAA,GAAAsB,EAAA,KAK1D,WACEpF,EAAK5G,KAAKiC,KAAK+0C,KAAK,iBAAiB,SAAA7pC,GAAuC,IAArC00F,EAA+B10F,EAA/B00F,gCACrCj7F,EAAKmtC,SAAS,CACZ8tD,gCAAAA,GAEJ,IAEAj7F,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,0BAGT3C,EAAKitC,WAAW,CACd1uC,YAAY,GACX,SACL,EAIA,WAAO,GAGF,EACLkF,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAiD,IAAA,OAAAjD,IAAAA,MAAA,SAAAoD,GAAA,cAAAA,EAAApc,KAAAoc,EAAA/d,MAAA,OACE2V,EAAKw4G,eAAc,wBAAApwG,EAAAhD,OAAA,GAAA6C,EAAA,MAGrBlD,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAA4C,IAAA,OAAA5C,IAAAA,MAAA,SAAAgD,GAAA,cAAAA,EAAAhc,KAAAgc,EAAA3d,MAAA,OACE2V,EAAK63F,cAAa,wBAAA7vF,EAAA5C,OAAA,GAAAwC,EAAA,MAGpB7C,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAuvB,IAAA,OAAAvvB,IAAAA,MAAA,SAAAkwB,GAAA,cAAAA,EAAAlpC,KAAAkpC,EAAA7qC,MAAA,cAAA6qC,EAAA7qC,KAAA,EACQojD,GAAAA,GAAAA,QAAAA,wBAAmC1oC,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAsuB,IAAA,OAAAtuB,IAAAA,MAAA,SAAAivB,GAAA,cAAAA,EAAAjoC,KAAAioC,EAAA5pC,MAAA,cAAA4pC,EAAA5pC,KAAA,EACT2V,EAAK07G,aAAa9C,iBAAiB54G,GAAK,OAAjD,IAAAi0B,EAAAxuB,KAEA,CAAFwuB,EAAA5pC,KAAA,QAGE,OAFpB2V,EAAKuuC,WAAW,CACdqnD,qBAAqB,GACpB,kBAAiB3hE,EAAAjuB,OAAA,UACb,GAAI,cAAAiuB,EAAAjuB,OAAA,UAEN,GAAK,wBAAAiuB,EAAA7uB,OAAA,GAAAkuB,EAAA,MACZ,wBAAA4B,EAAA9vB,OAAA,GAAAmvB,EAAA,MAGJxvB,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAA6/B,IAAA,OAAA7/B,IAAAA,MAAA,SAAA+/B,GAAA,cAAAA,EAAA/4C,KAAA+4C,EAAA16C,MAAA,cAAA06C,EAAA16C,KAAA,EAEQojD,GAAAA,GAAAA,QAAAA,wBAAmC1oC,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAywB,IAAA,IAAAvtB,EAAAlB,EAAAmnC,EAAA,OAAAnpC,IAAAA,MAAA,SAAAuxB,GAAA,cAAAA,EAAAvqC,KAAAuqC,EAAAlsC,MAAA,OAGtB,GAHsB6d,EAIpC5G,EAAK+F,MAFPL,EAAUkB,EAAVlB,WACAmnC,EAAgBjmC,EAAhBimC,kBAEEnnC,IAAcmnC,EAAgB,CAAA5X,EAAAlsC,KAAA,gBAAAksC,EAAAlsC,KAAA,EACJiX,EAAKo6G,aAAatE,cAAc,CAC1DtwG,aAAcxF,EAAK60G,sBAAsB70G,EAAK5G,MAC9CmM,mBAAoBvF,EAAK40G,eACzBlvG,WAAAA,IACA,OAJiB,IAAAuvB,EAAA9wB,KAKA,CAAF8wB,EAAAlsC,KAAA,gBAAAksC,EAAAlsC,KAAA,EACe2V,EAAK07G,aAAa7C,mBAAmB,CAAEv3G,KAAAA,IAAO,OAAvD,IAAAi1B,EAAA9wB,KAEA,CAAF8wB,EAAAlsC,KAAA,gBAAAksC,EAAAlsC,KAAA,GACX2V,EAAK+6G,SAAStC,eAAe,CACjCn3G,KAAAA,IACA,eAAAi1B,EAAAvwB,OAAA,UACK,GAAI,QAEXrI,QAAQ4J,KAAK,iDAAgD,QAAAgvB,EAAAlsC,KAAA,iBAG/DsT,QAAQ4jB,IAAI,yBAAwB,QAAAgV,EAAAlsC,KAAA,iBAKpC,OAFFiX,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,wBACPsyB,EAAAvwB,OAAA,UACK,GAAK,yBAAAuwB,EAAAnxB,OAAA,GAAAqwB,EAAA,MAEd,wBAAAsP,EAAA3/B,OAAA,GAAAy/B,EAAA,MAGJ9/B,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAk7B,IAAA,OAAAl7B,IAAAA,MAAA,SAAAs7B,GAAA,cAAAA,EAAAt0C,KAAAs0C,EAAAj2C,MAAA,cAAAi2C,EAAAj2C,KAAA,EACQojD,GAAAA,GAAAA,QAAAA,wBAAmC1oC,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAu7B,IAAA,IAAA4N,EAAA+sE,EAAAtjF,EAAAmhF,EAAAxc,EAAAl1G,EAAA,OAAA2d,IAAAA,MAAA,SAAAw7B,GAAA,cAAAA,EAAAx0C,KAAAw0C,EAAAn2C,MAAA,OAMjB,OANiBm2C,EAAAx0C,KAAA,EAIpCmiD,EACEnuC,EAAKqH,MADP8mC,iBAAgB+sE,EAEQl7G,EAAK+6G,SAASvnE,aAAarF,GAA7CvW,EAAasjF,EAAbtjF,cAAa4I,EAAAn2C,KAAA,EAEU2V,EAAK+6G,SAASpjF,cAAcC,GAAc,OAAnD,KAAhBmhF,EAAgBv4E,EAAA/6B,MAEA,CAAF+6B,EAAAn2C,KAAA,SAEZ,OAAEkyG,EACJwc,EADFrrF,KAAI8S,EAAAn2C,KAAA,GAGe2V,EAAK+6G,SAAS1yG,oBAAoBk0F,GAAgC,QAMtF,OANKl1G,EAAMm5C,EAAA/6B,OAEVzF,EAAKuuC,WAAW,CACdlnD,OAAAA,EACAk1G,gCAAAA,GACC,sBACJ/7D,EAAAx6B,OAAA,UACM,GAAI,eAAAw6B,EAAAx6B,OAAA,UAEJ,GAAK,QAAAw6B,EAAAn2C,KAAA,iBAIE,OAJFm2C,EAAAx0C,KAAA,GAAAw0C,EAAAh5B,GAAAg5B,EAAA,SAGd7iC,QAAQ4jB,IAAI,GAAD96B,OAAIuZ,EAAKmgG,UAAS,oBAC7BxiG,QAAQzO,MAAKsxC,EAAAh5B,IAAGg5B,EAAAx6B,OAAA,UACT,GAAK,yBAAAw6B,EAAAp7B,OAAA,GAAAm7B,EAAA,oBAEd,wBAAAD,EAAAl7B,OAAA,GAAA86B,EAAA,MAGJn7B,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAy7B,IAAA,OAAAz7B,IAAAA,MAAA,SAAA27B,GAAA,cAAAA,EAAA30C,KAAA20C,EAAAt2C,MAAA,cAAAs2C,EAAAt2C,KAAA,EACQiX,EAAKo6G,aAAa/C,uBAAuB,CAAEr3G,KAAAA,IAAO,wBAAAq/B,EAAAv7B,OAAA,GAAAq7B,EAAA,MAG1D17B,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAi8B,IAAA,OAAAj8B,IAAAA,MAAA,SAAAk8B,GAAA,cAAAA,EAAAl1C,KAAAk1C,EAAA72C,MAAA,OAEEiX,EAAKitC,WAAW,CACd1uC,YAAY,GACX,UAAS,wBAAAqhC,EAAA97B,OAAA,GAAA67B,EAAA,MAGdl8B,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAA+9B,IAAA,OAAA/9B,IAAAA,MAAA,SAAAi+B,GAAA,cAAAA,EAAAj3C,KAAAi3C,EAAA54C,MAAA,wBAAA44C,EAAA79B,OAAA,GAAA29B,EAAA,KAGN,GAAC,CAAAt7C,IAAA,kBAAA6C,OAAA8tH,GAAArzG,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAq9B,IAAA,OAAAr9B,IAAAA,MAAA,SAAA69B,GAAA,cAAAA,EAAA72C,KAAA62C,EAAAx4C,MAAA,OACEtG,KAAKwqD,WAAW,CAAC,EAAG,CAAEv2B,KAAM,iBAAiB,wBAAA6qB,EAAAz9B,OAAA,GAAAi9B,EAAA,UAC9C,kBAAA+1E,EAAAt0G,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,YAAA6C,MAcD,WAAY,IAAA8V,EAAA,KACJkB,EAAOvd,KACbovD,EAAqC7xC,EAAK+F,MAAlC8mC,EAAgBgF,EAAhBhF,iBAAkB9mD,EAAM8rD,EAAN9rD,OAE1B,OAAOia,EAAKy5G,SAASlD,OAAO,CAC1B3pE,aAAcC,EACd9mD,OAAQA,IAEPy9B,MAAK,SAAC7L,GACL,QAAKA,IAIL7Y,EAAK1F,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,0BAGT3C,EAAKmtC,SAAS,CACZynD,sBAAuBj9E,EACvBm2B,YAAY,EACZ0C,aAAa,IACZ,IAEI,EACT,IAAE,OACK,SAAC5iD,GACN,MAAI,mBAAmB8C,KAAK9C,IAE1BoS,EAAKmtC,SAAS,CACZW,YAAY,EACZ0C,aAAa,IACZ,IACI,IAEPn0C,QAAQ4J,KAAK,mBAAoBrY,IAE1B,EAEX,GACJ,GAAC,CAAAzH,IAAA,kBAAA6C,OAAA0rH,GAAAjxG,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAs+B,IAAA,IAAAwM,EAAAomD,EAAA9mD,EAAA,OAAApqC,IAAAA,MAAA,SAAAw+B,GAAA,cAAAA,EAAAx3C,KAAAw3C,EAAAn5C,MAAA,OAC2C,GAD3CylD,EACgD/rD,KAAKsjB,MAA3C6uF,EAAqBpmD,EAArBomD,sBAAuB9mD,EAAUU,EAAVV,YAC3B8mD,IAAyB9mD,EAAU,CAAA5L,EAAAn5C,KAAA,gBAAAm5C,EAAAn5C,KAAA,EAC3BtG,KAAKg3H,SAAS/B,QAAQ9iB,GAAsB,WAAA1yD,EAAA/9B,KAAE,CAAF+9B,EAAAn5C,KAAA,eAAAm5C,EAAAx9B,OAAA,UAC7C,GAAI,OAMR,OAJHrI,QAAQ4J,KAAK,GAAD9gB,OAAI1C,KAAKo8G,UAAS,kCAC9Bp8G,KAAK0qD,SAAU,CACbynD,sBAAuB,KACvB9mD,YAAY,IACX5L,EAAAx9B,OAAA,UACI,GAAK,eAAAw9B,EAAAx9B,OAAA,UAGT,GAAK,yBAAAw9B,EAAAp+B,OAAA,GAAAk+B,EAAA,UACb,kBAAA0yE,EAAAlyG,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,cAAA6C,OAAAyrH,GAAAhxG,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAA66D,EAAkBi4C,GAAO,IAAAtnE,EAAAnpD,EAAA2f,EAAAwvF,EAAAuhB,EAAA/sH,EAAA8V,EAAA,YAAAkE,IAAAA,MAAA,SAAA86D,GAAA,cAAAA,EAAA9zE,KAAA8zE,EAAAz1E,MAAA,OACmB,GADnBmmD,EACwBzsD,KAAKsjB,MAA5ChgB,EAAMmpD,EAANnpD,OAAQ2f,EAAUwpC,EAAVxpC,WAAYwvF,EAAchmD,EAAdgmD,eAEvBshB,EAAO,CAAAh4C,EAAAz1E,KAAA,cACJ,IAAI/H,MAAM,oEAAmE,OAkBpF,OAhBG+E,GAAUA,GAAUywH,GACtBn6G,QAAQ4J,KAAK,wDAEXivF,GACF74F,QAAQ4J,KAAK,0DAEflD,KAAM,iBAANA,CAAwB,2BAAD5d,OAA4BqxH,IAE7CC,EAAch0H,KAAKue,IAAIxD,IAAIlL,QAAQzR,OAAOmlB,UAAU3f,GAAOC,KAAKkwH,EAAS,QAAQvzH,SAAS,OAE5FyiB,GAAc+wG,GAChBp6G,QAAQ4J,KAAK,+BAAD9gB,OAAgCugB,EAAU,aAAAvgB,OAAYsxH,IAE9D/sH,EAAO,CACX8b,aAAc/iB,KAAKoyH,sBAAsBpyH,KAAK2W,MAC9CrT,OAAQywH,GACTh4C,EAAAz1E,KAAA,GAEKtG,KAAK23H,aAAaz5B,SAASj3F,GAAM,SAACiuB,GACtC5U,KAAM,iBAANA,CAAwB,WAAD5d,OAAYwyB,IACnCnY,EAAK2tC,SAAS,CACZ3mC,+BAAgCmR,EAChCyoF,yBAAyB,GAE7B,IAAG58E,MAAK,WAENhkB,EAAKytC,WAAW,CACdioD,gBAAgB,GACf,eACL,IAAE,yBAAA12B,EAAA16D,OAAA,GAAAy6D,EAAA,UACH,SAAAt5D,GAAA,OAAAwvG,EAAAjyG,MAAA,KAAAhf,UAAA,MAAA22H,CAAA,CA/ZgC,CAAS9qE,ICX5C,kBAAgBrX,GAAc,IACtBqiF,EAAa,SAAAC,IAAAn9G,EAAAA,GAAAA,GAAAk9G,EAAAC,GAAA,I,IAAAl9G,G,EAAAi9G,E,maAcjB,SAAAA,EAAYjhH,GAAM,IAAAhK,EASwB,OATxBP,EAAAA,GAAAA,GAAA,KAAAwrH,GAChBjrH,EAAAgO,EAAAtZ,KAAA,KAAMsV,EAAM,CACVuG,SAAU06G,EAAcz6G,UACxBP,eAAgB,MAChB24B,UAAAA,EACA48E,aAAcx7G,EAAK4H,IAAI8xC,gBAAgB7wC,KAAK7I,EAAK4H,KACjD6zG,sBAAuBz7G,EAAK4H,IAAIywC,yBAAyBxvC,KAAK7I,EAAK4H,QACnEpF,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAEFA,EAAKyvG,UAAYwb,EAAcz6G,UAASxQ,CAC1C,CAZC,OAYAN,EAAAA,GAAAA,GAAAurH,EAAA,OAAAl0H,IAAA,UAAA6C,MApBD,WACE,MAAO,GAAP7D,OAAU1C,KAAKod,cAAa,KAAA1a,OAAI1C,KAAKqd,YACvC,GAAC,CAAA3Z,IAAA,cAAA6C,MACD,WACE,OAAOuU,GAAAA,GAAAA,MAAAA,IACT,GAAC,CAAApX,IAAA,YAAA6C,MACD,WACE,MAAO,IAAP7D,OAAW1C,KAAK4c,eAAc,KAAAla,OAAI6yC,EAAU14B,cAC9C,KAAC+6G,CAAA,CAZgB,CAASF,IA2B5B,OA3B0Cv+G,EAAAA,EAAAA,GAApCy+G,EAAa,wBA2BZA,CACR,E,uBC/BwC,IAapBE,GAAc,SAAA/F,IAAAr3G,EAAAA,GAAAA,GAAAo9G,EAAA/F,GAAA,IAyXhCC,EANAC,EA/CAC,E,IApUgCv3G,G,EAAAm9G,E,maAcjC,SAAAA,EAAYnhH,EAAYiE,GAA0B,IAAAy2G,EAAA1kH,EAEhD,IAFgDP,EAAAA,GAAAA,GAAA,KAAA0rH,GAChDnrH,EAAAgO,EAAAtZ,KAAA,KAAMsV,IAAKwC,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,0BAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iCACNiO,EAAQ26B,UACX,MAAM,IAAIh3C,MAAM,6CAElB,IAAKqc,EAAQgC,eACX,MAAM,IAAIre,MAAM,0BAADmE,OAA2BkY,EAAQ26B,UAAS,qCAE7D,IAAK36B,EAAQu3G,cAAgD,mBAAzBv3G,EAAQu3G,aAC1C,MAAM,IAAI5zH,MAAM,kBAADmE,OAAmBkY,EAAQgC,eAAc,aAAAla,OAAYkY,EAAQ26B,UAAS,8CAEvF,IAAK36B,EAAQw3G,uBAAkE,mBAAlCx3G,EAAQw3G,sBACnD,MAAM,IAAI7zH,MAAM,kBAADmE,OAAmBkY,EAAQgC,eAAc,aAAAla,OAAYkY,EAAQ26B,UAAS,uDAuBvF,GApBA5oC,EAAKiQ,eAAiBhC,EAAQgC,eAC9BjQ,EAAK4oC,UAAY36B,EAAQ26B,UACzB5oC,EAAKwlH,aAAev3G,EAAQu3G,aAC5BxlH,EAAKylH,sBAAwBx3G,EAAQw3G,sBAErCzlH,EAAK8hD,SAAW,OAChB9hD,EAAKyvG,UAAYxhG,EAAQsC,SAEzBvQ,EAAKm9C,mBAAoB,EACzBn9C,EAAK0lH,wBACL1lH,EAAKs+C,YAAct+C,EAAK2lH,iBAExB3lH,EAAKgrH,aAAehhH,EAAKgyC,gBACzBh8C,EAAKqqH,SAAWrgH,EAAK+xC,UAGrB/7C,EAAK6wG,aAAe7wG,EAAKgrH,aACzBhrH,EAAKsiD,aAAetiD,EAAKgrH,aACzBhrH,EAAK2hD,eAAiB3hD,EAAKqqH,UAEtBrqH,EAAKgrH,aACR,MAAM,IAAIp5H,MAAM,GAADmE,OAAIiK,EAAKyvG,UAAS,6CAEnC,IAAKzvG,EAAKqqH,SACR,MAAM,IAAIz4H,MAAM,GAADmE,OAAIiK,EAAKyvG,UAAS,yCAInCzvG,EAAK2W,MAAQ,CACX2Q,KAAM,EAENk3B,eAAe,EAEfonD,oBAAqB,KACrBjnD,gBAAgB,EAChBC,YAAY,EAEZknE,aAAe,KACfxvG,WAAY,KAEZqI,mBAAmB,EACnBkgC,iBAAiB,EACjB/hC,QAAS,KAETkiC,+BAAgC,KAChCgyD,yBAAyB,EACzB9L,qBAAqB,EAErBvuG,OAAQ,KAERmvG,gBAAgB,EAChBkgB,gBAAgB,EAEhB5uG,+BAAgC,KAChCy0F,gCAAiC,KAEjCrG,sBAAuB,KACvB9mD,YAAY,EAEZvvC,YAAY,EACZiyC,aAAa,EAEb8kE,yBAAyB,EACzBrlE,yBAAyB,EAEzBowD,qBAAqB,EACrBC,yBAA0B,KAC1BjC,gBAAiB,GAGnBjvG,EAAKmmH,gBAEL,IAAMv1G,GAAI1C,EAAAA,GAAAA,GAAAlO,GAyCW,OAvCjBA,EAAK8gD,WACPlwC,EAAK5G,KAAKiC,KAAKmvC,GAAG,sBAAsB,SAAC9gD,GACvC,IACEqjD,EACErjD,EADFqjD,kCAEF/sC,EAAKmtC,SAAS,CACZJ,kCAAAA,IACC,EACL,IACA/sC,EAAK5G,KAAKiC,KAAKmvC,GAAG,qBAAqB,SAAC9gD,GACtC,IACE8c,EACE9c,EADF8c,+BAEFxG,EAAKmtC,SAAS,CACZ3mC,+BAAAA,GAEJ,MAEAxG,EAAK5G,KAAKiC,KAAK+0C,KAAK,oBAAoB,WACtCpwC,EAAKmtC,SAAS,CACZmoE,yBAAyB,GAE7B,IAEAt1G,EAAK5G,KAAKiC,KAAKmvC,GAAG,wBAAwB,WACxC,IAAQ4D,EAAmCpuC,EAAK+F,MAAxCqoC,+BAEJA,IACF/xC,QAAQ4jB,IAAI,sBACZjgB,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,sBACPjZ,KAAM,CACJ0kD,+BAAAA,KAIR,MAGFuI,EAAAA,GAAAA,IAAAm9D,GAAAx2G,EAAAA,GAAAA,GAAAlO,IAAAwnD,EAAAA,GAAAA,GAAA2jE,EAAAl4H,YAAA,gBAAAyxH,GAAAhwH,KAAAgwH,GAAqB1kH,CACvB,CA6RC,OA7RAN,EAAAA,GAAAA,GAAAyrH,EAAA,EAAAp0H,IAAA,gBAAA6C,MAED,YACE2tD,EAAAA,GAAAA,IAAAC,EAAAA,GAAAA,GAAA2jE,EAAAl4H,WAAA,sBAAAyB,KAAA,KACF,GAEA,CAAAqC,IAAA,YAAA6C,MACA,WAAY,IAAA0V,EAAA,KACJsB,EAAOvd,KAEb,OAAIA,KAAK8rD,UACA,CAIL,WACE7vC,EAAK+2G,YACP,EAIA,WACEz1G,EAAK01G,uBACP,EAIA,WACE3yG,KAAM,iBAANA,CAAwB,8BACxBrE,EAAKi3G,cACP,EAIA,WACEj3G,EAAK63F,aACP,GAEA9yF,EAAAA,EAAAA,GAAAC,IAAAA,MAEA,SAAAO,IAAA,OAAAP,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,cAAAmb,EAAAnb,KAAA,EAC6B2V,EAAKk3G,uBAAsB,OAApC,IAAA1xG,EAAAC,KAEA,CAAFD,EAAAnb,KAAA,eAAAmb,EAAAnb,KAAA,EACRiX,EAAKo6G,aAAatC,kBAAkB,CACxC93G,KAAAA,IACA,wBAAAkE,EAAAJ,OAAA,GAAAG,EAAA,MAINR,EAAAA,EAAAA,GAAAC,IAAAA,MAEA,SAAAkB,IAAA,IAAAc,EAAA,OAAAhC,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,OAEc,OAAV2c,EACEhH,EAAKqH,MADPL,WAAUZ,EAAA/b,KAAA,EAGNojD,GAAAA,GAAAA,QAAAA,wBAAmC1oC,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAC,IAAA,OAAAD,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,cAAAib,EAAAjb,KAAA,EACZiX,EAAKo6G,aAAatE,cAAc,CAC1DtwG,aAAcxF,EAAK40G,eACnBrvG,mBAAoBvF,EAAK60G,sBAAsB70G,EAAK5G,MACpDsM,WAAAA,IACA,OAJiB,IAAA1B,EAAAG,KAMA,CAAFH,EAAAjb,KAAA,eAAAib,EAAAjb,KAAA,EACTiX,EAAKo6G,aAAarE,sBAAsB,CAAE/1G,KAAAA,IAAO,cAAAgE,EAAAU,OAAA,UAChD,GAAI,cAAAV,EAAAU,OAAA,UAEN,GAAK,wBAAAV,EAAAF,OAAA,GAAAH,EAAA,MACZ,wBAAAmB,EAAAhB,OAAA,GAAAc,EAAA,MAGJnB,EAAAA,EAAAA,GAAAC,IAAAA,MAEA,SAAAa,IAAA,OAAAb,IAAAA,MAAA,SAAAe,GAAA,cAAAA,EAAA/Z,KAAA+Z,EAAA1b,MAAA,cAAA0b,EAAA1b,KAAA,EACQ2V,EAAK+6G,SAASzD,iBAAiB,CACnCh2G,KAAAA,IACA,wBAAAyE,EAAAX,OAAA,GAAAS,EAAA,KAKJ,WACEvE,EAAK5G,KAAKiC,KAAK+0C,KAAK,yBAAyB,WAC3C,IAAQ6qD,EAAoCj7F,EAAK+F,MAAzCk1F,gCAERj7F,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,gBACPjZ,KAAM,CACJuxG,gCAAAA,IAGN,IAEAj7F,EAAKitC,WAAW,CACd1uC,YAAY,GACX,CAAEmY,KAAM,UACb,EAIA,WAAO,GAGF,EACLjT,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAA0B,IAAA,OAAA1B,IAAAA,MAAA,SAAAmC,GAAA,cAAAA,EAAAnb,KAAAmb,EAAA9c,MAAA,OACE2V,EAAK+2G,aAAY,wBAAA5vG,EAAA/B,OAAA,GAAAsB,EAAA,MAGnB3B,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAiD,IAAA,OAAAjD,IAAAA,MAAA,SAAAoD,GAAA,cAAAA,EAAApc,KAAAoc,EAAA/d,MAAA,OACE2V,EAAK63F,cAAa,wBAAAzvF,EAAAhD,OAAA,GAAA6C,EAAA,MAGpBlD,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAA4C,IAAA,IAAA2vG,EAAAlwH,EAAA2f,EAAA,OAAAhC,IAAAA,MAAA,SAAAgD,GAAA,cAAAA,EAAAhc,KAAAgc,EAAA3d,MAAA,OAaG,OAZI2V,EAAKqH,MAAMhgB,SAAQkwH,EAIlBv3G,EAAK2zC,iBAFPtsD,EAAMkwH,EAANlwH,OACA2f,EAAUuwG,EAAVvwG,WAGFhH,EAAK4zC,qBAAqB5sC,GAAY,GAEtChH,EAAKyuC,SAAS,CACZpnD,OAAAA,EACA2f,WAAAA,IACC,IACJgB,EAAA3d,KAAA,EAEKiX,EAAKo6G,aAAatC,kBAAkB,CACxC93G,KAAAA,EAKAk2G,iBAAiB,IACjB,wBAAAxvG,EAAA5C,OAAA,GAAAwC,EAAA,MAGJ7C,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAuvB,IAAA,OAAAvvB,IAAAA,MAAA,SAAAkwB,GAAA,cAAAA,EAAAlpC,KAAAkpC,EAAA7qC,MAAA,cAAA6qC,EAAA7qC,KAAA,EACQojD,GAAAA,GAAAA,QAAAA,wBAAmC1oC,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAsuB,IAAA,OAAAtuB,IAAAA,MAAA,SAAAivB,GAAA,cAAAA,EAAAjoC,KAAAioC,EAAA5pC,MAAA,cAAA4pC,EAAA5pC,KAAA,EACb2V,EAAKk3G,uBAAsB,OAApC,IAAAjjF,EAAAxuB,KACA,CAAFwuB,EAAA5pC,KAAA,QACwB,OAAtC2V,EAAKuuC,WAAW,CAAC,EAAG,mBAAkBta,EAAAjuB,OAAA,UAC/B,GAAI,cAAAiuB,EAAAjuB,OAAA,UAEN,GAAK,wBAAAiuB,EAAA7uB,OAAA,GAAAkuB,EAAA,MACZ,wBAAA4B,EAAA9vB,OAAA,GAAAmvB,EAAA,MAGJxvB,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAywB,IAAA,OAAAzwB,IAAAA,MAAA,SAAAuxB,GAAA,cAAAA,EAAAvqC,KAAAuqC,EAAAlsC,MAAA,cAAAksC,EAAAlsC,KAAA,EACQ2V,EAAK+6G,SAASzD,iBAAiB,CACnCh2G,KAAAA,IACA,wBAAAi1B,EAAAnxB,OAAA,GAAAqwB,EAAA,MAGJ1wB,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAA6/B,IAAA,OAAA7/B,IAAAA,MAAA,SAAA+/B,GAAA,cAAAA,EAAA/4C,KAAA+4C,EAAA16C,MAAA,OAEEiX,EAAKitC,WAAW,CACd1uC,YAAY,GACX,UAAS,wBAAAklC,EAAA3/B,OAAA,GAAAy/B,EAAA,MAGd9/B,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAu7B,IAAA,OAAAv7B,IAAAA,MAAA,SAAAw7B,GAAA,cAAAA,EAAAx0C,KAAAw0C,EAAAn2C,MAAA,wBAAAm2C,EAAAp7B,OAAA,GAAAm7B,EAAA,KAGN,GAAC,CAAA94C,IAAA,0BAAA6C,MAED,WACE,IAAMsmE,EAAW,CACf9pD,aAAc/iB,KAAKmyH,eACnBrvG,mBAAoB9iB,KAAKoyH,sBAAsBpyH,KAAK2W,OAGtD,OAAO3W,KAAK23H,aAAahE,gBAAgB9mD,EAC3C,GAAC,CAAAnpE,IAAA,YAAA6C,OAAA2rH,GAAAlxG,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAk7B,IAAA,IAAAl5B,EAAA2wG,EAAAv3G,EAAA,YAAA4E,IAAAA,MAAA,SAAAs7B,GAAA,cAAAA,EAAAt0C,KAAAs0C,EAAAj2C,MAAA,OAaG,OAZO2c,EAAejjB,KAAKsjB,MAApBL,WAEF2wG,EAAgB,WAAiB,IAAhB1+F,EAAIn0B,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,KAC5Bsb,EAAK1F,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,yBAGT7D,EAAKquC,SAAS,CACZynD,sBAAuBj9E,EACvBm2B,YAAY,EACZ0C,aAAa,IACZ,EACL,EAACxR,EAAAt0C,KAAA,EAAAs0C,EAAAj2C,KAAA,EAG2BtG,KAAK23H,aAAa9D,YAAY,CAAE5wG,WAAAA,IAAa,OAAtD,IAAAs5B,EAAA76B,KAEA,CAAF66B,EAAAj2C,KAAA,SAGE,OAFfga,KAAM,iBAANA,CAAwB,0BAExBszG,IAAer3E,EAAAt6B,OAAA,UAER,GAAI,QAAAs6B,EAAAj2C,KAAA,iBAG4B,OAH5Bi2C,EAAAt0C,KAAA,GAAAs0C,EAAA94B,GAAA84B,EAAA,SAGb3iC,QAAQ4J,KAAK,qBAAoB+4B,EAAA94B,IAAQ84B,EAAAt6B,OAAA,UAElC,GAAK,eAAAs6B,EAAAt6B,OAAA,SAGPjiB,KAAK23H,aAAa7D,OAAO,CAC9BhxG,mBAAoB9iB,KAAKoyH,sBAAsBpyH,KAAK2W,QAEnDoqB,MAAK,SAAC7L,GACL,OAAIA,IAKJ0+F,EAAc1+F,IAEP,EACT,IAAE,OACK,SAAC/pB,GAAK,OAAK,CAAK,KAAC,yBAAAoxC,EAAAl7B,OAAA,GAAA86B,EAAA,mBAC3B,kBAAA+1E,EAAAnyG,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,kBAAA6C,OAAA0rH,GAAAjxG,EAAAA,EAAAA,GAAAC,IAAAA,MAID,SAAAy7B,IAAA,OAAAz7B,IAAAA,MAAA,SAAA27B,GAAA,cAAAA,EAAA30C,KAAA20C,EAAAt2C,MAAA,cAAAs2C,EAAA36B,OAAA,UACS,GAAI,wBAAA26B,EAAAv7B,OAAA,GAAAq7B,EAAA,KACZ,kBAAAu1E,EAAAlyG,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,cAAA6C,OAAAyrH,GAAAhxG,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAi8B,EAAkB62E,GAAO,IAAAhoE,EAAAzoD,EAAA2f,EAAA0vG,EAAAvoE,EAAA4pE,EAAAuD,EAAA1jF,EAAApqB,EAAA1M,EAAA,YAAAkE,IAAAA,MAAA,SAAAk8B,GAAA,cAAAA,EAAAl1C,KAAAk1C,EAAA72C,MAAA,OACqC,GADrCylD,EAC0C/rD,KAAKsjB,MAA9DhgB,EAAMyoD,EAANzoD,OAAQ2f,EAAU8oC,EAAV9oC,WAAY0vG,EAAc5mE,EAAd4mE,eAAgBvoE,EAAgB2B,EAAhB3B,iBAEvC2pE,EAAO,CAAA52E,EAAA72C,KAAA,cACJ,IAAI/H,MAAM,oEAAmE,UAEhF6rD,EAAgB,CAAAjN,EAAA72C,KAAA,cACb,IAAI/H,MAAM,yCAAwC,OAetC,OAbhB+E,GAAUA,GAAUywH,GACtBn6G,QAAQ4J,KAAK,wDAEXmvG,GACF/4G,QAAQ4J,KAAK,0DAEflD,KAAM,iBAANA,CAAwB,2BAAD5d,OAA4BqxH,IAE7CC,EAAch0H,KAAKue,IAAIxD,IAAIlL,QAAQzR,OAAOmlB,UAAU3f,GAAOC,KAAKkwH,EAAS,QAAQvzH,SAAS,OAE5FyiB,GAAc+wG,GAChBp6G,QAAQ4J,KAAK,+BAAD9gB,OAAgCugB,EAAU,aAAAvgB,OAAYsxH,IAAcuD,EAE1Dv3H,KAAKg3H,SAASvnE,aAAarF,GAA5CvW,EAAa0jF,EAAb1jF,cAAasJ,EAAA72C,KAAA,GACEtG,KAAKg3H,SAAS18E,WAAWzG,GAAc,QAEU,GAFjEpqB,EAAO0zB,EAAAz7B,KAEbpB,KAAM,iBAANA,CAAwB,WAAD5d,OAAYmxC,EAAa,cAAAnxC,OAAa+mB,IAE7C,IAAZA,EAAa,CAAA0zB,EAAA72C,KAAA,SAGY,MAF3BtG,KAAKwqD,WAAW,CACdmoE,gBAAgB,GACf,CAAC1+F,KAAM,kBACJ,IAAI11B,MAAM,8BAADmE,OAA+BmxC,EAAa,aAAAnxC,OAAY+mB,IAAU,QAGnFzpB,KAAKg3H,SAAS94B,SAAS,CACrB/zC,aAAcC,EACd9mD,OAAQywH,IACPhzF,MAAK,SAAC7L,GACP5U,KAAM,iBAANA,CAAwB,WAAD5d,OAAYwyB,IACnCnY,EAAK2tC,SAAS,CACZ8tD,gCAAiCtjF,IAGnC5U,KAAM,iBAANA,CAAwB,qBAAD5d,OAAsBqa,EAAKuG,MAAMk1F,kCAExDz7F,EAAKytC,WAAW,CACdmoE,gBAAgB,GACf,CAAE1+F,KAAM,iBACb,IAAE,yBAAAkpB,EAAA97B,OAAA,GAAA67B,EAAA,UACH,SAAAv7B,GAAA,OAAAqwG,EAAAjyG,MAAA,KAAAhf,UAAA,MAAA+2H,CAAA,CA5agC,CAASlrE,ICX5C,kBAAgBrX,GAAc,IAEtBwiF,EAAa,SAAAC,IAAAt9G,EAAAA,GAAAA,GAAAq9G,EAAAC,GAAA,I,IAAAr9G,G,EAAAo9G,E,maAajB,SAAAA,EAAYphH,GAAM,IAAAhK,EAQwB,OARxBP,EAAAA,GAAAA,GAAA,KAAA2rH,GAChBprH,EAAAgO,EAAAtZ,KAAA,KAAMsV,EAAM,CACVuG,SAAU66G,EAAc56G,UACxBP,eAAgB,MAChB24B,UAAAA,EACA48E,aAAcx7G,EAAK4H,IAAI8xC,gBAAgB7wC,KAAK7I,EAAK4H,KACjD6zG,sBAAuBz7G,EAAK4H,IAAIywC,yBAAyBxvC,KAAK7I,EAAK4H,QACnEpF,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBACFA,EAAKyvG,UAAY2b,EAAc56G,UAASxQ,CAC1C,CAVC,OAUAN,EAAAA,GAAAA,GAAA0rH,EAAA,OAAAr0H,IAAA,UAAA6C,MAlBD,WACE,MAAO,GAAP7D,OAAU1C,KAAKod,cAAa,KAAA1a,OAAI1C,KAAKqd,YACvC,GAAC,CAAA3Z,IAAA,cAAA6C,MACD,WACE,MAAO,IAAP7D,OAAW1C,KAAK4c,eAAc,KAAAla,OAAI6yC,EAAU14B,cAC9C,GAAC,CAAAnZ,IAAA,YAAA6C,MACD,WACE,OAAOuU,GAAAA,GAAAA,MAAAA,IACT,KAACi9G,CAAA,CAZgB,CAASD,IAyB5B,OAzB0C3+G,EAAAA,EAAAA,GAApC4+G,EAAa,wBAyBZA,CACR,EC/B+C,IAG1CE,GAAO,SAAA9D,IAAAz5G,EAAAA,GAAAA,GAAAu9G,EAAA9D,GAAA,I,IAAAx5G,G,EAAAs9G,E,maAUX,SAAAA,EAAYthH,GAAM,OAAAvK,EAAAA,GAAAA,GAAA,KAAA6rH,GAAAt9G,EAAAtZ,KAAA,KACVsV,EAAM,CACVuG,SAAU,UACVi1G,aAAcx7G,EAAK4H,IAAI25G,gBAAgB14G,KAAK7I,EAAK4H,KACjD6zG,sBAAuBz7G,EAAK4H,IAAI45G,yBAAyB34G,KAAK7I,EAAK4H,MAEvE,CAPC,OAOAlS,EAAAA,GAAAA,GAAA4rH,EAAA,OAAAv0H,IAAA,UAAA6C,MAfD,WACE,MAAO,GAAP7D,OAAU1C,KAAKod,cAAa,KAAA1a,OAAI1C,KAAKqd,YACvC,GAAC,CAAA3Z,IAAA,cAAA6C,MACD,WACE,OAAOuU,GAAAA,GAAAA,MAAAA,GACT,GAAC,CAAApX,IAAA,YAAA6C,MACD,WACE,OAAOuU,GAAAA,GAAAA,MAAAA,GACT,KAACm9G,CAAA,CATU,CAASnG,IAoBtB,YCvBgD,IAG1CsG,GAAO,SAAAjD,IAAAz6G,EAAAA,GAAAA,GAAA09G,EAAAjD,GAAA,I,IAAAx6G,G,EAAAy9G,E,maAaX,SAAAA,EAAYzhH,GAAM,OAAAvK,EAAAA,GAAAA,GAAA,KAAAgsH,GAAAz9G,EAAAtZ,KAAA,KACVsV,EAAM,CACVuG,SAAU,UACVi1G,aAAcx7G,EAAK4H,IAAI25G,gBAAgB14G,KAAK7I,EAAK4H,KACjD6zG,sBAAuBz7G,EAAK4H,IAAI45G,yBAAyB34G,KAAK7I,EAAK4H,MAEvE,CARC,OAQAlS,EAAAA,GAAAA,GAAA+rH,EAAA,OAAA10H,IAAA,UAAA6C,MAlBD,WACE,MAAO,GAAP7D,OAAU1C,KAAKod,cAAa,KAAA1a,OAAI1C,KAAKqd,YACvC,GAAC,CAAA3Z,IAAA,cAAA6C,MAED,WACE,OAAOuU,GAAAA,GAAAA,MAAAA,GACT,GAAC,CAAApX,IAAA,YAAA6C,MAED,WACE,OAAOuU,GAAAA,GAAAA,MAAAA,GACT,KAACs9G,CAAA,CAXU,CAAShE,IAsBtB,YCtBA,kBAAgB7+E,GAAc,IAEtB8iF,EAAY,SAAA9C,IAAA76G,EAAAA,GAAAA,GAAA29G,EAAA9C,GAAA,I,IAAA56G,G,EAAA09G,E,maAchB,SAAAA,EAAY1hH,GAAM,IAAAhK,EAOuB,OAPvBP,EAAAA,GAAAA,GAAA,KAAAisH,GAChB1rH,EAAAgO,EAAAtZ,KAAA,KAAMsV,EAAM,CACViG,eAAgB,MAChB24B,UAAAA,EACA48E,aAAcx7G,EAAK4H,IAAI25G,gBAAgB14G,KAAK7I,EAAK4H,KACjD6zG,sBAAuBz7G,EAAK4H,IAAI45G,yBAAyB34G,KAAK7I,EAAK4H,QACnEpF,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBACFA,EAAKyvG,UAAYic,EAAal7G,UAASxQ,CACzC,CAVC,OAUAN,EAAAA,GAAAA,GAAAgsH,EAAA,OAAA30H,IAAA,UAAA6C,MAlBD,WACE,MAAO,GAAP7D,OAAU1C,KAAKod,cAAa,KAAA1a,OAAI1C,KAAKqd,YACvC,GAAC,CAAA3Z,IAAA,cAAA6C,MACD,WACE,MAAO,IAAP7D,OAAW1C,KAAK4c,eAAc,KAAAla,OAAI6yC,EAAU14B,cAC9C,GAAC,CAAAnZ,IAAA,YAAA6C,MACD,WACE,OAAOuU,GAAAA,GAAAA,MAAAA,GACT,KAACu9G,CAAA,CAZe,CAASjD,IAyB3B,OAzB4Cj8G,EAAAA,EAAAA,GAAtCk/G,EAAY,wBAyBXA,CACR,EC5BD,kBAAgB9iF,GAAc,IACtB+iF,EAAY,SAAA1C,IAAAl7G,EAAAA,GAAAA,GAAA49G,EAAA1C,GAAA,I,IAAAj7G,G,EAAA29G,E,maAchB,SAAAA,EAAY3hH,GAAM,IAAAhK,EAQuB,OARvBP,EAAAA,GAAAA,GAAA,KAAAksH,GAChB3rH,EAAAgO,EAAAtZ,KAAA,KAAMsV,EAAM,CACViG,eAAgB,MAChB24B,UAAAA,EACA48E,aAAcx7G,EAAK4H,IAAI25G,gBAAgB14G,KAAK7I,EAAK4H,KACjD6zG,sBAAuBz7G,EAAK4H,IAAI45G,yBAAyB34G,KAAK7I,EAAK4H,QACnEpF,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAEFA,EAAKyvG,UAAYkc,EAAan7G,UAASxQ,CACzC,CAXC,OAWAN,EAAAA,GAAAA,GAAAisH,EAAA,OAAA50H,IAAA,UAAA6C,MAnBD,WACE,MAAO,GAAP7D,OAAU1C,KAAKod,cAAa,KAAA1a,OAAI1C,KAAKqd,YACvC,GAAC,CAAA3Z,IAAA,cAAA6C,MACD,WACE,OAAOuU,GAAAA,GAAAA,MAAAA,GACT,GAAC,CAAApX,IAAA,YAAA6C,MACD,WACE,MAAO,IAAP7D,OAAW1C,KAAK4c,eAAc,KAAAla,OAAI6yC,EAAU14B,cAC9C,KAACy7G,CAAA,CAZe,CAAS9C,IA0B3B,OA1B4Cr8G,EAAAA,EAAAA,GAAtCm/G,EAAY,wBA0BXA,CACR,EC/B+C,IAG1CC,GAAS,SAAApE,IAAAz5G,EAAAA,GAAAA,GAAA69G,EAAApE,GAAA,I,IAAAx5G,G,EAAA49G,E,maAUb,SAAAA,EAAY5hH,GAAM,OAAAvK,EAAAA,GAAAA,GAAA,KAAAmsH,GAAA59G,EAAAtZ,KAAA,KACVsV,EAAM,CACVuG,SAAU,YACVi1G,aAAcx7G,EAAK4H,IAAIi6G,kBAAkBh5G,KAAK7I,EAAK4H,KACnD6zG,sBAAuBz7G,EAAK4H,IAAIk6G,2BAA2Bj5G,KAAK7I,EAAK4H,MAEzE,CAPC,OAOAlS,EAAAA,GAAAA,GAAAksH,EAAA,OAAA70H,IAAA,UAAA6C,MAfD,WACE,MAAO,GAAP7D,OAAU1C,KAAKod,cAAa,KAAA1a,OAAI1C,KAAKqd,YACvC,GAAC,CAAA3Z,IAAA,cAAA6C,MACD,WACE,OAAOuU,GAAAA,GAAAA,MAAAA,KACT,GAAC,CAAApX,IAAA,YAAA6C,MACD,WACE,OAAOuU,GAAAA,GAAAA,MAAAA,GACT,KAACy9G,CAAA,CATY,CAASzG,IAmBxB,YCtBgD,IAG1C4G,GAAS,SAAAvD,IAAAz6G,EAAAA,GAAAA,GAAAg+G,EAAAvD,GAAA,I,IAAAx6G,G,EAAA+9G,E,maAUb,SAAAA,EAAY/hH,GAAM,OAAAvK,EAAAA,GAAAA,GAAA,KAAAssH,GAAA/9G,EAAAtZ,KAAA,KACVsV,EAAM,CACVuG,SAAU,YACVi1G,aAAcx7G,EAAK4H,IAAIi6G,kBAAkBh5G,KAAK7I,EAAK4H,KACnD6zG,sBAAuBz7G,EAAK4H,IAAIk6G,2BAA2Bj5G,KAAK7I,EAAK4H,MAEzE,CAPC,OAOAlS,EAAAA,GAAAA,GAAAqsH,EAAA,OAAAh1H,IAAA,UAAA6C,MAfD,WACE,MAAO,GAAP7D,OAAU1C,KAAKod,cAAa,KAAA1a,OAAI1C,KAAKqd,YACvC,GAAC,CAAA3Z,IAAA,cAAA6C,MACD,WACE,OAAOuU,GAAAA,GAAAA,MAAAA,GACT,GAAC,CAAApX,IAAA,YAAA6C,MACD,WACE,OAAOuU,GAAAA,GAAAA,MAAAA,KACT,KAAC49G,CAAA,CATY,CAAStE,IAmBxB,YCnBA,kBAAgB7+E,GAAc,IAEtBojF,EAAc,SAAApD,IAAA76G,EAAAA,GAAAA,GAAAi+G,EAAApD,GAAA,I,IAAA56G,G,EAAAg+G,E,maAclB,SAAAA,EAAYhiH,GAAM,IAAAhK,EAOyB,OAPzBP,EAAAA,GAAAA,GAAA,KAAAusH,GAChBhsH,EAAAgO,EAAAtZ,KAAA,KAAMsV,EAAM,CACViG,eAAgB,QAChB24B,UAAAA,EACA48E,aAAcx7G,EAAK4H,IAAIi6G,kBAAkBh5G,KAAK7I,EAAK4H,KACnD6zG,sBAAuBz7G,EAAK4H,IAAIk6G,2BAA2Bj5G,KAAK7I,EAAK4H,QACrEpF,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBACFA,EAAKyvG,UAAYuc,EAAex7G,UAASxQ,CAC3C,CAVC,OAUAN,EAAAA,GAAAA,GAAAssH,EAAA,OAAAj1H,IAAA,UAAA6C,MAlBD,WACE,MAAO,GAAP7D,OAAU1C,KAAKod,cAAa,KAAA1a,OAAI1C,KAAKqd,YACvC,GAAC,CAAA3Z,IAAA,cAAA6C,MACD,WACE,MAAO,IAAP7D,OAAW1C,KAAK4c,eAAc,KAAAla,OAAI6yC,EAAU14B,cAC9C,GAAC,CAAAnZ,IAAA,YAAA6C,MACD,WACE,OAAOuU,GAAAA,GAAAA,MAAAA,GACT,KAAC69G,CAAA,CAZiB,CAASvD,IAyB7B,OAzB8Cj8G,EAAAA,EAAAA,GAAxCw/G,EAAc,0BAyBbA,CACR,EC5BD,kBAAgBpjF,GAAc,IAEtBqjF,EAAc,SAAAhD,IAAAl7G,EAAAA,GAAAA,GAAAk+G,EAAAhD,GAAA,I,IAAAj7G,G,EAAAi+G,E,maAclB,SAAAA,EAAYjiH,GAAM,IAAAhK,EAOyB,OAPzBP,EAAAA,GAAAA,GAAA,KAAAwsH,GAChBjsH,EAAAgO,EAAAtZ,KAAA,KAAMsV,EAAM,CACViG,eAAgB,QAChB24B,UAAAA,EACA48E,aAAcx7G,EAAK4H,IAAIi6G,kBAAkBh5G,KAAK7I,EAAK4H,KACnD6zG,sBAAuBz7G,EAAK4H,IAAIk6G,2BAA2Bj5G,KAAK7I,EAAK4H,QACrEpF,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBACFA,EAAKyvG,UAAYwc,EAAez7G,UAASxQ,CAC3C,CAVC,OAUAN,EAAAA,GAAAA,GAAAusH,EAAA,OAAAl1H,IAAA,UAAA6C,MAlBD,WACE,MAAO,GAAP7D,OAAU1C,KAAKod,cAAa,KAAA1a,OAAI1C,KAAKqd,YACvC,GAAC,CAAA3Z,IAAA,cAAA6C,MACD,WACE,OAAOuU,GAAAA,GAAAA,MAAAA,GACT,GAAC,CAAApX,IAAA,YAAA6C,MACD,WACE,MAAO,IAAP7D,OAAW1C,KAAK4c,eAAc,KAAAla,OAAI6yC,EAAU14B,cAC9C,KAAC+7G,CAAA,CAZiB,CAASpD,IAyB7B,OAzB8Cr8G,EAAAA,EAAAA,GAAxCy/G,EAAc,0BAyBbA,CACR,EC/B+C,IAG1CC,GAAY,SAAA1E,IAAAz5G,EAAAA,GAAAA,GAAAm+G,EAAA1E,GAAA,I,IAAAx5G,G,EAAAk+G,E,maAUhB,SAAAA,EAAYliH,GAAM,OAAAvK,EAAAA,GAAAA,GAAA,KAAAysH,GAAAl+G,EAAAtZ,KAAA,KACVsV,EAAM,CACVuG,SAAU,eACVi1G,aAAcx7G,EAAK4H,IAAIu6G,qBAAqBt5G,KAAK7I,EAAK4H,KACtD6zG,sBAAuBz7G,EAAK4H,IAAIw6G,8BAA8Bv5G,KAAK7I,EAAK4H,MAE5E,CAPC,OAOAlS,EAAAA,GAAAA,GAAAwsH,EAAA,OAAAn1H,IAAA,UAAA6C,MAfD,WACE,MAAO,GAAP7D,OAAU1C,KAAKod,cAAa,KAAA1a,OAAI1C,KAAKqd,YACvC,GAAC,CAAA3Z,IAAA,cAAA6C,MACD,WACE,OAAOuU,GAAAA,GAAAA,MAAAA,MACT,GAAC,CAAApX,IAAA,YAAA6C,MACD,WACE,OAAOuU,GAAAA,GAAAA,MAAAA,GACT,KAAC+9G,CAAA,CATe,CAAS/G,IAmB3B,YCtBgD,IAG1CkH,GAAY,SAAA7D,IAAAz6G,EAAAA,GAAAA,GAAAs+G,EAAA7D,GAAA,I,IAAAx6G,G,EAAAq+G,E,maAUhB,SAAAA,EAAYriH,GAAM,OAAAvK,EAAAA,GAAAA,GAAA,KAAA4sH,GAAAr+G,EAAAtZ,KAAA,KACVsV,EAAM,CACVuG,SAAU,eACVi1G,aAAcx7G,EAAK4H,IAAIu6G,qBAAqBt5G,KAAK7I,EAAK4H,KACtD6zG,sBAAuBz7G,EAAK4H,IAAIw6G,8BAA8Bv5G,KAAK7I,EAAK4H,MAE5E,CAPC,OAOAlS,EAAAA,GAAAA,GAAA2sH,EAAA,OAAAt1H,IAAA,UAAA6C,MAfD,WACE,MAAO,GAAP7D,OAAU1C,KAAKod,cAAa,KAAA1a,OAAI1C,KAAKqd,YACvC,GAAC,CAAA3Z,IAAA,cAAA6C,MACD,WACE,OAAOuU,GAAAA,GAAAA,MAAAA,GACT,GAAC,CAAApX,IAAA,YAAA6C,MACD,WACE,OAAOuU,GAAAA,GAAAA,MAAAA,MACT,KAACk+G,CAAA,CATe,CAAS5E,IAmB3B,Y,gmBCrBoC,IAI9B6E,GAAc,SAAAC,IAAAx+G,EAAAA,GAAAA,GAAAu+G,EAAAC,GAAA,IAk4BjBC,EA7BDC,EA3EAC,EA9ICC,EAvBDC,EAtEAC,EA1BAC,EA9IAC,EA9JAC,EAjEAC,EA3CAC,E,IA7HkBl/G,G,EAAAs+G,E,maAgDlB,SAAAA,EAAYr+G,GAAS,IAAAjO,EAGnB,IAHmBP,EAAAA,GAAAA,GAAA,KAAA6sH,GACnBtsH,EAAAgO,EAAAtZ,KAAA,OAhDF8X,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,YACoB,OACpBwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBACyB3L,IACzBmY,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAC0B3L,IAC1BmY,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBACwB3L,IACxBmY,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAC0B3L,IAASmY,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,WAChB,MACnBwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBACwB3L,IACxBmY,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAC6B3L,IAK7BmY,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,0BAC+B3L,IAE/BmY,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eACkB3L,IAASmY,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBACX3L,IAASmY,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eACV3L,IAASmY,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAEO,IAAKwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,0BACF,IAAKwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBACf,IAAKwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,2BACM,IAEnCwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAC2B3L,IAASmY,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,2BAGpCwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,WACe3L,GAauB,mBAAzB4Z,EAAQu4B,aACjB,MAAM,IAAI50C,MAAM,oCAElB,GAAqC,mBAA1Bqc,EAAQsvB,cACjB,MAAM,IAAI3rC,MAAM,qCAElB,GAAmC,mBAAxBqc,EAAQ04B,YACjB,MAAM,IAAI/0C,MAAM,mCAqC4B,MAnCX,mBAAxBqc,EAAQ8tB,aAEjB9uB,QAAQ4J,KAAK,+FAEyB,mBAA7B5I,EAAQ00B,kBAEjB11B,QAAQ4J,KAAK,uGAGf7W,EAAK+P,UAAiB9B,EAAQ2gG,UAAYzgG,GAAAA,GAAAA,MAAAA,IAC1CnO,EAAKwmC,aAAiBv4B,EAAQu4B,aAC9BxmC,EAAKu9B,cAAiBtvB,EAAQsvB,cAC9Bv9B,EAAK2mC,YAAiB14B,EAAQ04B,YAC9B3mC,EAAKinC,cAAiBh5B,EAAQg5B,cAC9BjnC,EAAK8jC,SAAiB71B,EAAQ61B,UAAY,IAC1C9jC,EAAK+7B,YAAiB9tB,EAAQ8tB,aAAgB,WAAO,EACrD/7B,EAAK2iC,iBAAmB10B,EAAQ00B,kBAAqB,kBAAM,CAAC,EAG5D3iC,EAAKkoC,mBAAqBj6B,EAAQi6B,yBAAsB7zC,EAExD2L,EAAKiD,QAAiBgL,EAAQhL,SAAW,MACzCjD,EAAKib,SAAiBhN,EAAQgN,SAE9Bjb,EAAKmtH,oBAAsBl/G,EAAQk/G,sBAAuB,EAC1DntH,EAAKotH,uBAAyBn/G,EAAQm/G,yBAA0B,EAChEptH,EAAKqtH,aAAep/G,EAAQo/G,eAAgB,EAC5CrtH,EAAKstH,wBAA0Br/G,EAAQq/G,0BAA2B,EAElEttH,EAAKutH,eAAiBt/G,EAAQs/G,gBAC5B,SAAC5uF,GAEC,MAAO,CAAE3B,KADc2B,EAAf3B,KACOc,KADQa,EAATb,KAEhB,EAEF99B,EAAK2iE,gBAAkB10D,EAAQ00D,gBAAe3iE,CAChD,CAs2BC,OAt2BAN,EAAAA,GAAAA,GAAA4sH,EAAA,EAAAv1H,IAAA,YAAA6C,MAED,SAAUgY,IACR21C,EAAAA,GAAAA,IAAAC,EAAAA,GAAAA,GAAA8kE,EAAAr5H,WAAA,kBAAAyB,KAAA,KAAgBkd,GAEhBve,KAAKue,IAAMA,EAGX,IAAA47G,EASIn6H,KAAK4nB,SAAQwyG,EAAAD,EARf/xG,KACQiyG,EAAQD,EAAdzlH,KACQ2lH,EAAUF,EAAlBhqH,OAAMmqH,EAAAJ,EAERlsH,KACQusH,EAAQD,EAAd5lH,KACQ8lH,EAAUF,EAAlBnqH,OAIAiqH,GAAYC,IAAYt6H,KAAKue,IAAIxD,IAAIlL,QAAQ+X,SAASyyG,GAAYC,GAClEE,GAAYC,IAAYz6H,KAAKue,IAAIxD,IAAIlL,QAAQ+X,SAAS4yG,GAAYC,GAEtEz6H,KAAKuP,QACHvP,KAAKue,IAAIoJ,YACL3nB,KAAKue,IAAIxD,IAAIlL,QAAQ+X,SAASyyG,GAC9Br6H,KAAKue,IAAIxD,IAAIlL,QAAQ+X,SAAS4yG,EAEtC,GAEA,CAAA92H,IAAA,WAAA6C,OAAAszH,GAAA74G,EAAAA,EAAAA,GAAAC,IAAAA,MAWA,SAAAO,EAAAjV,GAAA,IAAAkjC,EAAAzpC,EAAA00H,EAAAzrF,EAAAj/B,EAAA2/B,EAAAgrF,EAAAC,EAAA,OAAA35G,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OAKgB,OAJdmpC,EAAUljC,EAAVkjC,WACAzpC,EAAIuG,EAAJvG,KAAI00H,EAAAnuH,EACJ0iC,MAAAA,OAAK,IAAAyrF,EAAG,OAAMA,EACd1qH,EAAOzD,EAAPyD,QACA2/B,EAAcpjC,EAAdojC,eAAcluB,EAAAnb,KAAA,EAUgBtG,KAAKsvC,iBAAiB,CAClDG,YAAY,EACZz/B,QAAAA,EACAi/B,MAAAA,EACApR,OAAQ,OACR0Q,OAAQvoC,EACR2pC,eAAAA,IACA,OAGqC,OAVjCgrF,EAAel5G,EAAAC,KASfk5G,EAAe,IAAIv9F,GAAAA,EAAUs9F,GACnC36H,KAAKywC,SAAWmqF,EAAat9F,WAAU7b,EAAAQ,OAAA,SAEhCwtB,EACHmrF,EACAA,EAAanyF,UAAU,KAAK2H,GAAG,EAAG/S,GAAAA,EAAAA,WAAmB,wBAAA5b,EAAAJ,OAAA,GAAAG,EAAA,UAC1D,SAAAG,GAAA,OAAAk4G,EAAA95G,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,0BAAA6C,OAAAqzH,GAAA54G,EAAAA,EAAAA,GAAAC,IAAAA,MAOA,SAAAa,EAA8B+oB,GAAQ,IAAAgwF,EAAAC,EAAAC,EAAAC,EAAA/+G,EAAA,KAAAg/G,EAAAl6H,UAAA,OAAAkgB,IAAAA,MAAA,SAAAe,GAAA,cAAAA,EAAA/Z,KAAA+Z,EAAA1b,MAAA,OAYf,OAZiBu0H,EAAuBI,EAAAh7H,OAAA,QAAAe,IAAAi6H,EAAA,GAAAA,EAAA,GAAG,IAE1DH,EAAgB,eAAAptH,GAAAsT,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,EAAOsnB,EAAMxiC,EAAMgK,GAAO,IAAAkrH,EAAA,OAAAj6G,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OACM,OAAvDkiC,EAAO,IAAInL,GAAAA,EAAUmL,GAAMuC,aAAa,KAAKzN,WAAU/b,EAAAjb,KAAA,EACvB2V,EAAKk/G,SAAS,CAAE1rF,YAAY,EAAMzpC,KAAAA,EAAMipC,MAAO,OAAQj/B,QAAAA,IAAU,OAA1E,OAAjBkrH,EAAiB35G,EAAAG,KAAAH,EAAAU,OAAA,SAEhB,IAAIob,GAAAA,EAAUmL,GAAM29B,WAAW+0D,GAClC,IAAI79F,GAAAA,EAAUmL,GAAMC,UAAUyyF,GAAmB59F,WACjD,GAAC,wBAAA/b,EAAAF,OAAA,GAAAH,EAAA,KACN,gBAPqBoB,EAAAC,EAAAmB,GAAA,OAAAhW,EAAAqS,MAAA,KAAAhf,UAAA,KAUhBg6H,EAAe,eAAAl5G,GAAAb,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAkB,EAAOmpB,GAAO,IAAA9C,EAAAxiC,EAAAojC,EAAAgyF,EAAAC,EAAAC,EAAA,OAAAr6G,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,WAGhC2V,EAAK69G,oBAAqB,CAAFz3G,EAAA/b,KAAA,eAAA+b,EAAAJ,OAAA,SAAS,GAAC,OAUmC,GAPvEumB,EAIE8C,EAJF9C,KACAxiC,EAGEslC,EAHFtlC,KACAojC,EAEEkC,EAFFlC,cACegyF,EACb9vF,EADFzB,cAIIwxF,EAAwDD,EADX,EAAI,EAAI,GAGvD,IAAI/9F,GAAAA,EAAUg+F,GAA6B9vF,uBAAuBsvF,GAA0B,CAAFx4G,EAAA/b,KAAA,eAAA+b,EAAAJ,OAAA,SACrFo5G,GAA2B,UAAAh5G,EAAApa,KAAA,IAI9BmzH,EAAa,GAAC,CAAA/4G,EAAA/b,KAAA,gBAAA+b,EAAAJ,OAAA,SACT,GAAC,YAGNumB,EAAM,CAAFnmB,EAAA/b,KAAA,gBAAA+b,EAAA/b,KAAA,GACoBw0H,EAAiBtyF,EAAMxiC,EAAMojC,GAAc,QAApD,OAAXkyF,EAAWj5G,EAAAX,KAAAW,EAAAJ,OAAA,SACVq5G,GAAW,cAGd,IAAI/8H,MAAM,0BAADmE,OAA2B04H,EAAU,YAAA14H,OAAW8lC,EAAI,YAAA9lC,OAAWsD,EAAI,qBAAAtD,OAAoB0mC,EAAa,OAAK,QAG9B,OAH8B/mB,EAAApa,KAAA,GAAAoa,EAAAoB,GAAApB,EAAA,SAGxHzI,QAAQzO,MAAM,+DAAgEkX,EAAAoB,GAAI2rB,SAAQ/sB,EAAAJ,OAAA,SAEnFo5G,GAA2B,yBAAAh5G,EAAAhB,OAAA,GAAAc,EAAA,mBAErC,gBApCoBoC,GAAA,OAAA1C,EAAA9B,MAAA,KAAAhf,UAAA,KAAAihB,EAAA1b,KAAG,EAsCYya,QAAQ05B,IAAI5P,EAASzpC,IAAI25H,IAAiB,OAAnD,OAArBC,EAAqBh5G,EAAAN,KAAAM,EAAAC,OAAA,SAEpB4oB,EAASz7B,QAAO,SAACmsH,EAAMh0H,GAE5B,OADA+Y,KAAM,kBAANA,CAAyB,cAAD5d,OAAe6E,EAAK,MAAMyzH,EAAYzzH,IACvD,IAAI81B,GAAAA,EAAU29F,EAAYzzH,IAAQgkC,uBAAuBsvF,EAClE,KAAE,wBAAA74G,EAAAX,OAAA,GAAAS,EAAA,KACH,SAAAU,GAAA,OAAAo3G,EAAA75G,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,0BAAA6C,OAAAozH,GAAA34G,EAAAA,EAAAA,GAAAC,IAAAA,MAKA,SAAAiD,EAA8B2mB,GAAQ,OAAA5pB,IAAAA,MAAA,SAAAoD,GAAA,cAAAA,EAAApc,KAAAoc,EAAA/d,MAAA,cAAA+d,EAAApC,OAAA,SAC7B,IAAIlB,QAAO,eAAAmB,GAAAlB,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAA0B,EAAOxB,GAAO,IAAAihC,EAAA,OAAAnhC,IAAAA,MAAA,SAAAmC,GAAA,cAAAA,EAAAnb,KAAAmb,EAAA9c,MAAA,OACzB87C,EAAWvX,EAASz7B,QAAO,SAACk8B,GAKhC,GAFIA,EADFzB,cAGkB,EAClB,OAAO,CAEX,IACA1oB,EAAQihC,GAAS,wBAAAh/B,EAAA/B,OAAA,GAAAsB,EAAA,KAClB,gBAAAmsB,GAAA,OAAA5sB,EAAAnC,MAAA,KAAAhf,UAAA,EAXiB,KAWhB,wBAAAsjB,EAAAhD,OAAA,GAAA6C,EAAA,KACH,SAAAooB,GAAA,OAAAqtF,EAAA55G,MAAA,KAAAhf,UAAA,IACD,CAAA2C,IAAA,mBAAA6C,MASA,SAAiBU,GAAsB,IAAhBu0H,EAAUz6H,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,EAClCuf,KAAM,kBAANA,CAAyB,uBAAwBk7G,GACjD,IACEjxF,EAGEtjC,EAHFsjC,OACAgJ,EAEEtsC,EAFFssC,MACAjwC,EACE2D,EADF3D,OAGIm4H,EAAaz7H,KAAKue,IAAIxD,IAAIlL,QAAQoY,SAAS0kB,KAAK,CACpDqqC,OAAQ,CACNhtC,OAAQO,EACRh7B,QAASvP,KAAKuP,SAEhBA,QAASvP,KAAKuP,UAGVmsH,EAAgB17H,KAAKue,IAAIxD,IAAIlL,QAAQgiE,YAAY8pD,YACjDhqD,EAAU3xE,KAAKue,IAAIxD,IAAIlL,QAAQiY,OAAOE,QAE1ChoB,KAAKue,IAAIvD,SAASrC,KAAKiF,SAAS5d,KAAK4P,SAASgB,gBAC9C5Q,KAAKuP,SAGDqsH,EAAgBroF,EAAMsoF,iBAAiBL,EAAYC,EAAWzkD,OAAOhtC,OAAQ0xF,GAE7EI,EAAkB97H,KAAKue,IAAIxD,IAAIlL,QAAQoY,SAAS0kB,KAAK,CACzDp9B,QAASvP,KAAKuP,QACdynE,OAAQ,CACNznE,QAASvP,KAAKuP,QACdy6B,OAAQyxF,EAAWzkD,OAAOhtC,OAC1BC,MAAOjqC,KAAKue,IAAIxD,IAAIlL,QAAQ06B,OAAOwxF,QAAQ,CACzC/7H,KAAKue,IAAIxD,IAAIlL,QAAQ06B,OAAO25B,UAAU83D,OAAOrqD,EAAQz4B,KAAK0iF,GAAgBF,GAE1E17H,KAAKue,IAAIvD,SAASrC,KAAKiF,SAAS5d,KAAK4P,SAASuY,qBAC9CvkB,GAAOC,KAAKP,EAAO3C,QAAQ,MAAO,IAAK,YAG1CspC,MAEHsJ,EAAM0oF,eAAeT,EAAYM,EACnC,GAEA,CAAAp4H,IAAA,eAAA6C,MASA,SAAaU,GAA8B,IACnCi1H,EAAiB,MAAHx5H,QADK3B,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,aACU8b,eAChCs/G,EAAan8H,KAAKue,IAAIxD,IAAIlL,QAAQusH,QAAQF,GAExCj5G,EAA6Dhc,EAA7Dgc,WAAY6sC,EAAiD7oD,EAAjD6oD,eAAgBtB,EAAiCvnD,EAAjCunD,mBAAoBE,EAAaznD,EAAbynD,SAElDnkB,EAASvqC,KAAKue,IAAIxD,IAAIlL,QAAQ06B,OAAOwxF,QAAQ,CAEjD/7H,KAAKue,IAAIxD,IAAIlL,QAAQusH,QAAQC,QAC7Bz4H,GAAOC,KAAK,KAAM,OAClB7D,KAAKue,IAAIxD,IAAIlL,QAAQusH,QAAQE,eAE7BH,EACAv4H,GAAOC,KAAKof,EAAY,OACxBjjB,KAAKue,IAAIxD,IAAIlL,QAAQusH,QAAQE,eAE7B14H,GAAOC,KAAK2qD,EAAoB,OAChCxuD,KAAKue,IAAIxD,IAAIlL,QAAQusH,QAAQG,SAC7Bv8H,KAAKue,IAAIxD,IAAIlL,QAAQusH,QAAQI,MAE7B54H,GAAOC,KAAK2qD,EAAoB,OAEhCxuD,KAAKue,IAAIxD,IAAIlL,QAAQusH,QAAQK,QAE7Bz8H,KAAKue,IAAIxD,IAAIlL,QAAQ06B,OAAO7/B,OAAOsxH,OAAOttE,GAC1C1uD,KAAKue,IAAIxD,IAAIlL,QAAQusH,QAAQM,uBAC7B18H,KAAKue,IAAIxD,IAAIlL,QAAQusH,QAAQO,QAC7B/4H,GAAOC,KAAKisD,EAAgB,OAE5B9vD,KAAKue,IAAIxD,IAAIlL,QAAQusH,QAAQQ,SAE7B58H,KAAKue,IAAIxD,IAAIlL,QAAQusH,QAAQS,cAY/B,MAAO,CACLhpF,cAViB7zC,KAAKue,IAAIxD,IAAIlL,QAAQoY,SAAS0kB,KAAK,CACpDqqC,OAAQ,CACNhtC,OAAQO,EACRh7B,QAASvP,KAAKuP,SAEhBA,QAASvP,KAAKuP,UAEiBS,QAI/Bu6B,OAAAA,EAEJ,GAAC,CAAA7mC,IAAA,wBAAA6C,MAED,SAAsBstC,GAA+B,IAAAx3B,EAAA,KACnD,OAAO,IAAI0E,QAAO,eAAA6B,GAAA5B,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAsuB,EAAOpuB,GAAO,IAAA0pB,EAAAiyF,EAAAC,EAAA,OAAA97G,IAAAA,MAAA,SAAAivB,GAAA,cAAAA,EAAAjoC,KAAAioC,EAAA5pC,MAAA,cAAA4pC,EAAA5pC,KAAA,EACH+V,EAAK6tB,cAAc2J,GAAc,OACnC,OADpBhJ,EAAQqF,EAAAxuB,KACRo7G,EAAoB,eAAAp6G,GAAA1B,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAA4C,EAAOynB,GAAO,IAAAhP,EAAA,OAAArb,IAAAA,MAAA,SAAAgD,GAAA,cAAAA,EAAAhc,KAAAgc,EAAA3d,MAAA,cAAA2d,EAAAhc,KAAA,EAAAgc,EAAA3d,KAAA,EAEpB+V,EAAKqsB,YAAY4C,EAAQ3B,MAAK,OAAvC,OAAJrN,EAAIrY,EAAAvC,KAAAuC,EAAAhC,OAAA,SAAA5K,GAAAA,GAAA,GAELi0B,GACAhP,IAAI,cAAArY,EAAAhc,KAAA,EAAAgc,EAAAR,GAAAQ,EAAA,SAAAA,EAAAhC,OAAA,UAGF,GAAK,yBAAAgC,EAAA5C,OAAA,GAAAwC,EAAA,kBAEf,gBAVyBysB,GAAA,OAAA5tB,EAAA3C,MAAA,KAAAhf,UAAA,KAAAmvC,EAAA5pC,KAAG,EAYEya,QAAQ05B,IAAI5P,EAASzpC,IAAI07H,IAAsB,OAAxEC,EAAgB7sF,EAAAxuB,KACtBP,EAAQ47G,EAAiB3tH,QAAO,SAACk8B,GAAO,OAAiB,IAAZA,CAAiB,KAAG,wBAAA4E,EAAA7uB,OAAA,GAAAkuB,EAAA,KAClE,gBAAAF,GAAA,OAAAzsB,EAAA7C,MAAA,KAAAhf,UAAA,EAhBiB,GAiBpB,GAAC,CAAA2C,IAAA,qBAAA6C,MAED,SAAmBskC,GACjB,QAAI7qC,KAAK+5H,wBACmBlvF,EAASz7B,QAAO,SAACk8B,GAI3C,OAH0BA,EAAQ/B,OAAOn6B,QAAO,SAAC66B,GAC/C,MAA6C,aAAtCA,EAAM+yF,eAAex8H,SAAS,GACvC,IACyBP,SAAWqrC,EAAQ/B,OAAOtpC,MACrD,IAC6BA,SAAW4qC,EAAS5qC,OACnD,GACA,CAAAyD,IAAA,cAAA6C,OAAAmzH,GAAA14G,EAAAA,EAAAA,GAAAC,IAAAA,MAWA,SAAAuvB,EAAkBvpC,EAAMg2H,EAAUC,GAAQ,IAAA1uE,EAAAE,EAAAyuE,EAAAtpF,EAAAkV,EAAAq0E,EAAAvyF,EAAAwyF,EAAAC,EAAAC,EAAAtsF,EAAAusF,EAAAC,EAAA,OAAAx8G,IAAAA,MAAA,SAAAkwB,GAAA,cAAAA,EAAAlpC,KAAAkpC,EAAA7qC,MAAA,OAM3B,GALLkoD,EAAiCvnD,EAAjCunD,mBAAoBE,EAAaznD,EAAbynD,SAAQyuE,EACFn9H,KAAKyvD,aAAaxoD,EAAMi2H,GAAlDrpF,EAAaspF,EAAbtpF,cAAqBspF,EAAN5yF,OAGrBwe,EAEEk0E,EAFFl0E,aAEEk0E,EADFruE,YAGe,CAAFzd,EAAA7qC,KAAA,QACwC,OAArDsT,QAAQ4jB,IAAI,0CAAyC2T,EAAAlvB,OAAA,iBAIoC,OAArFm7G,OAA8Cp8H,IAAxBi8H,EAAStuE,WAA4BsuE,EAAStuE,WAAa,IAAIxd,EAAA7qC,KAAA,EAE7DtG,KAAK09H,sBAAsB7pF,GAAc,OAAlD,IAAfhJ,EAAesG,EAAAzvB,MAEPzhB,OAAQ,CAAFkxC,EAAA7qC,KAAA,gBAAA6qC,EAAAlvB,OAAA,sCAOnB,IAHKo7G,EAAgBr9H,KAAK29H,mBAAmB9yF,KAE5CjxB,QAAQ4J,KAAK,kBAAD9gB,OAAmBmxC,EAAa,2CAE1CkV,IAAes0E,EAAa,CAAAlsF,EAAA7qC,KAAA,YAEzBukC,EAAS5qC,OAAQ,CAAFkxC,EAAA7qC,KAAA,gBAAA6qC,EAAAlvB,OAAA,uCAAAkvB,EAAA7qC,KAAA,GACmBtG,KAAK49H,wBAAwB/yF,GAAS,QAA/C,GAAxByyF,EAAwBnsF,EAAAzvB,KAC1BmpB,EAAS5qC,SAAWq9H,EAAkBr9H,OAAM,CAAAkxC,EAAA7qC,KAAA,gBAAA6qC,EAAAlvB,OAAA,yBAAAkvB,EAAA7qC,KAAA,GAC1CojD,GAAAA,GAAAA,QAAAA,UAAuB,IAAG,YAC5B2zE,EAAe,CAAFlsF,EAAA7qC,KAAA,gBAAA6qC,EAAAlvB,OAAA,+DAAAkvB,EAAAlvB,OAAA,oCAK8D,OAD3Es7G,EAAgBN,EAAS12H,MAAMwkC,aAAa,KAAKqG,eACjDH,EAAgBpG,EAAS7iC,QAAO,SAACupC,EAAIztB,GAAY,OAAOytB,EAAPztB,EAARumB,QAA8B,GAAE,GAAE8G,EAAA7qC,KAAA,GAEjDtG,KAAK69H,wBAAwBhzF,EAAUuyF,GAAmB,QAEQ,GAF5FI,EAAiBrsF,EAAAzvB,KAEjB+7G,EAAwBD,EAAkBx1H,QAAO,SAACupC,EAAI3tB,GAAY,OAAO2tB,EAAP3tB,EAARymB,QAA8B,GAAE,IAE5FkzF,EAAcnyF,cAAc6F,GAAe,CAAFE,EAAA7qC,KAAA,gBAAA6qC,EAAAlvB,OAAA,mCAAAvf,OACV66H,EAAcjgG,WAAU,WAAA56B,OAAUuuC,EAAY,eAAAvuC,OAAcmxC,IAAa,WAEvG7zC,KAAKg6H,gBAAgBiD,EAASvuE,SAAWA,GAAQ,CAAAvd,EAAA7qC,KAAA,gBAAA6qC,EAAAlvB,OAAA,sCAAAvf,OAChBu6H,EAASvuE,SAAQ,WAAAhsD,OAAUgsD,EAAQ,eAAAhsD,OAAcmxC,IAAa,WAE/F7zC,KAAKi6H,yBAA2BgD,EAASzuE,qBAAuBA,EAAkB,CAAArd,EAAA7qC,KAAA,gBAAA6qC,EAAAlvB,OAAA,iDAAAvf,OACtCu6H,EAASzuE,mBAAkB,WAAA9rD,OAAU8rD,IAAkB,YAEpG+uE,EAAcnyF,cAAcqyF,GAAwB,CAAFtsF,EAAA7qC,KAAA,gBAAA6qC,EAAAlvB,OAAA,mCAAAvf,OACnB66H,EAAc/8H,WAAU,2BAAAkC,OAA0B06H,EAAkB,WAAA16H,OAAU+6H,EAAqB,eAAA/6H,OAAcmxC,IAAa,yBAAA1C,EAAA9vB,OAAA,GAAAmvB,EAAA,UAElK,SAAAgB,EAAA0B,EAAA4nC,GAAA,OAAA4+C,EAAA35G,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,aAAA6C,MASA,SAAWU,EAAM62H,EAAkCZ,GAAmB,IAAAngH,EAAA,KAC5DotC,EAAyBljD,EAAzBkjD,aAAct9B,EAAW5lB,EAAX4lB,OAEtB,OAAO,IAAI9L,QAAO,eAAAsM,GAAArM,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAywB,EAAOvwB,EAASiB,GAAM,IAAA27G,EAAAlqF,EAAAkc,EAAAhtC,EAAAiuB,EAAA0C,EAAA7I,EAAAmzF,EAAAvtF,EAAAQ,EAAAC,EAAAygC,EAAAp+B,EAAA,OAAAtyB,IAAAA,MAAA,SAAAuxB,GAAA,cAAAA,EAAAvqC,KAAAuqC,EAAAlsC,MAAA,OAEhB,OAFgBksC,EAAAvqC,KAAA,EAAA81H,EAEXhhH,EAAK0yC,aAAatF,EAAc+yE,GAAlDrpF,EAAakqF,EAAblqF,cAAarB,EAAAlsC,KAAA,EAEOyW,EAAKo2B,aAAaU,GAAc,OAAzC,GAAbkc,EAAavd,EAAA9wB,MACf,IAAI2b,GAAAA,EAAU0yB,GAAe3kB,cAAc,GAAI,CAAFoH,EAAAlsC,KAAA,QAEhB,OAA/B8b,EAAO,yBAAwBowB,EAAAvwB,OAAA,iBAQ8C,OAHzEc,EAAehG,EAAKwB,IAAIvD,SAASrC,KAAKiF,SAASb,EAAKnN,SAASiB,aAE7DmgC,EAAgBnkB,EAAOke,aAAa,KAAKqG,eAAe9T,WACxDoW,EAAgB,IAAI32B,EAAKwB,IAAIxD,IAAIlL,QAAQouH,mBAAmBlhH,EAAKxN,SAAQijC,EAAAlsC,KAAA,GACnDyW,EAAKmtB,cAAcnnB,GAAa,QAA9C,OAAR8nB,EAAQ2H,EAAA9wB,KAAA8wB,EAAAlsC,KAAA,GACcyW,EAAKo+G,SAAS,CAAE1rF,YAAY,EAAMz/B,QAAS+S,IAAe,QAG7B,GAHnDi7G,EAAUxrF,EAAA9wB,KACV+uB,EAAgButF,EAAW5sF,eAAe9T,WAC1C2T,EAAgBpG,EAAS7iC,QAAO,SAACupC,EAAIhkB,GAAY,OAAOgkB,EAAPhkB,EAAR8c,QAA8B,GAAE,GACzE6G,EAAgBD,EAAeD,EAAYP,IAE7CQ,EAAeR,EAAWO,GAAS,CAAAwB,EAAAlsC,KAAA,eAC/B,IAAI/H,MAAM,wBAADmE,OAAyBuuC,EAAY,OAAAvuC,OAAM+tC,EAAQ,OAAA/tC,OAAMsuC,IAAY,QAGtFnG,EAAS3nC,SAAQ,SAACooC,GAChB,IAAA4yF,EAAuBnhH,EAAKm9G,eAAe5uF,GAAnC3B,EAAIu0F,EAAJv0F,KAAMc,EAAIyzF,EAAJzzF,KACdiJ,EAAGhB,SAAS/I,EAAMc,EAAM,WAC1B,IACAiJ,EAAGjB,UAAUoB,EAAe7C,GAE5B0C,EAAGjB,UAAU11B,EAAKwB,IAAIvD,SAASrC,KAAKiF,SAASb,EAAKnN,SAASiB,aAAcqgC,GAEnEygC,EAAU50D,EAAKwB,IAAIxD,IAAIlL,QAAQiY,OAAOE,QAE1CjL,EAAKwB,IAAIvD,SAASrC,KAAKiF,SAASb,EAAKnN,SAASgB,gBAC9CmM,EAAKxN,SAGPmkC,EAAGyqF,SAASj7H,SAAQ,SAAC+mC,EAAO1iC,GAC1BmsC,EAAGwF,KAAK3xC,EAAOoqE,EACjB,IAEMp+B,EAAQG,EAAG0qF,kBAEoB,mBAA1BN,GACTA,EAAsBvqF,EAAM88B,SAG9BtzD,EAAKu2B,YAAYC,EAAMR,SAAShS,MAAK,SAAC/+B,GACpCmf,EAAQnf,EACV,IAAE,OAAQ,SAAC1D,GACT8jB,EAAO9jB,EACT,IAAEk0C,EAAAlsC,KAAA,iBAAAksC,EAAAvqC,KAAA,GAAAuqC,EAAA/uB,GAAA+uB,EAAA,SAGFpwB,EAAMowB,EAAA/uB,IAAK,yBAAA+uB,EAAAnxB,OAAA,GAAAqwB,EAAA,mBAEd,gBAAAysC,EAAAR,GAAA,OAAAtwD,EAAAtN,MAAA,KAAAhf,UAAA,EA3DiB,GA4DpB,GAEA,CAAA2C,IAAA,aAAA6C,OAAAkzH,GAAAz4G,EAAAA,EAAAA,GAAAC,IAAAA,MAKA,SAAA6/B,EAAiB75C,EAAMi2H,GAAiB,IAAAltH,EAAAquH,EAAAxqF,EAAAhJ,EAAAoG,EAAA,OAAAhwB,IAAAA,MAAA,SAAA+/B,GAAA,cAAAA,EAAA/4C,KAAA+4C,EAAA16C,MAAA,UAGlB,iBAATW,EAAiB,CAAA+5C,EAAA16C,KAAA,QAC1B0J,EAAU/I,EAAI+5C,EAAA16C,KAAA,mBAES,YAAhBwB,EAAAA,EAAAA,GAAOb,GAAiB,CAAA+5C,EAAA16C,KAAA,QAAA+3H,EACLr+H,KAAKyvD,aAAaxoD,EAAMi2H,GAA1CrpF,EAAawqF,EAAbxqF,cAER7jC,EAAU6jC,EAAamN,EAAA16C,KAAA,sBAGjB,IAAI/H,MAAM,mBAAkB,eAAAyiD,EAAA16C,KAAA,GAGRtG,KAAKkqC,cAAcl6B,GAAQ,QAC8D,OAD/G66B,EAAQmW,EAAAt/B,KACRuvB,EAAgBpG,GAAYA,EAAS5qC,QAAU4qC,EAAS7iC,QAAO,SAACupC,EAAI9jB,GAAY,OAAO8jB,EAAP9jB,EAAR4c,QAA8B,GAAE,IAAM,EAAC2W,EAAA/+B,OAAA,SAE9GgvB,GAAY,yBAAA+P,EAAA3/B,OAAA,GAAAy/B,EAAA,UACpB,SAAAo9B,EAAAuJ,GAAA,OAAAgyC,EAAA15G,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,4BAAA6C,OAAAizH,GAAAx4G,EAAAA,EAAAA,GAAAC,IAAAA,MAQA,SAAAu7B,EAAgCv1C,EAAWwiG,EAAmByzB,GAAiB,IAAA/yE,EAAA7mD,EAAAgsD,EAAAC,EAAA+uE,EAAA/zF,EAAAsJ,EAAAH,EAAA7I,EAAAmzF,EAAAvtF,EAAAQ,EAAAue,EAAAjc,EAAAghF,EAAA7oF,EAAApuB,EAAA,YAAA2D,IAAAA,MAAA,SAAAw7B,GAAA,cAAAA,EAAAx0C,KAAAw0C,EAAAn2C,MAAA,OAOE,OANvE6jD,EAA6CljD,EAA7CkjD,aAAc7mD,EAA+B2D,EAA/B3D,OAAQgsD,EAAuBroD,EAAvBqoD,mBAExBC,EAAeD,GAA2CtvD,KAAKue,IAAIvD,SAASrC,KAAKiF,SAAS5d,KAAK4P,SAASiB,aAAYytH,EAExFt+H,KAAKyvD,aAAatF,EAAc+yE,GAA1D3yF,EAAM+zF,EAAN/zF,OAAQsJ,EAAayqF,EAAbzqF,cAEVH,EAAgB,IAAI1zC,KAAKue,IAAIxD,IAAIlL,QAAQouH,mBAAmBj+H,KAAKuP,SAAQktC,EAAAn2C,KAAA,EACnDtG,KAAKkqC,cAAc2J,GAAc,OAA/C,OAARhJ,EAAQ4R,EAAA/6B,KAAA+6B,EAAAn2C,KAAA,EAEctG,KAAKm7H,SAAS,CAAE1rF,YAAY,EAAMz/B,QAAS6jC,EAAelE,eAAgB,aAAa,OAInH,GAJMquF,EAAUvhF,EAAA/6B,KACV+uB,EAAgButF,EAAW5sF,eAAe9T,WAC1C2T,EAAgBpG,EAAS7iC,QAAO,SAACupC,EAAI5jB,GAAY,OAAO4jB,EAAP5jB,EAAR0c,QAA8B,GAAE,GAG7C,mBAAvBrqC,KAAK4zC,cAA4B,CAAA6I,EAAAn2C,KAAA,gBAAAm2C,EAAAn2C,KAAA,GAChBtG,KAAK4zC,cAAcC,GAAc,QAA1C,KAAX2b,EAAW/S,EAAA/6B,OAEZ8tC,EAAYx/C,QAAQjI,eAAiBwnD,EAAYxnD,cAAa,CAAA00C,EAAAn2C,KAAA,gBAAAm2C,EAAAx6B,OAAA,SAG1D,CACLypB,KAAM8jB,EAAY7lB,KAClB40F,mBAAmB,IACpB,YAID,IAAIlhG,GAAAA,EAAU4T,GAAck1B,WAAW11B,GAAW,CAAFgM,EAAAn2C,KAAA,eAC5C,IAAI/H,MAAM,wBAADmE,OAAyBuuC,EAAY,OAAAvuC,OAAM+tC,IAAW,QAwB7C,OArBtBg5D,GACF/1D,EAAG8qF,YAAYr0E,EAAauE,UAG9B7jB,EAAS3nC,SAAQ,SAACooC,GAChB,IAAAmzF,EAAuBnhH,EAAK48G,eAAe5uF,GAAnC3B,EAAI80F,EAAJ90F,KAAMc,EAAIg0F,EAAJh0F,KACdiJ,EAAGhB,SAAS/I,EAAMc,EAAM,WAC1B,IACAiJ,EAAGjB,UAAU8c,EAAate,EAAeR,GAEnC8C,EAAQG,EAAG0qF,kBAEjB1qF,EAAGyqF,SAAS/8H,KAAI,SAACH,EAAGsG,GAAK,OACvB+V,EAAKohH,iBAAiB,CACpBn0F,OAAAA,EACAjnC,OAAAA,EACAiwC,MAAAA,GACChsC,EAAM,IAGLgtH,EAAQhhF,EAAMR,QACdrH,EAAO6H,EAAM88B,QAAO5zB,EAAAx6B,OAAA,SAEnB,CACLsyG,MAAAA,EACA7oF,KAAAA,IACD,yBAAA+Q,EAAAp7B,OAAA,GAAAm7B,EAAA,UAEF,SAAA+qC,EAAAC,EAAAE,GAAA,OAAA8xC,EAAAz5G,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,4BAAA6C,OAAAgzH,GAAAv4G,EAAAA,EAAAA,GAAAC,IAAAA,MAQA,SAAAk7B,EAAgCl1C,EAAMwiG,GAAQ,IAAAl2D,EAAA,OAAAtyB,IAAAA,MAAA,SAAAs7B,GAAA,cAAAA,EAAAt0C,KAAAs0C,EAAAj2C,MAAA,cAAAi2C,EAAAj2C,KAAA,EACxBtG,KAAK2+H,0BAA0B13H,EAAMwiG,GAAS,OAAvD,OAALl2D,EAAKgJ,EAAA76B,KAAA66B,EAAAt6B,OAAA,SAEJsxB,EAAMghF,OAAK,wBAAAh4E,EAAAl7B,OAAA,GAAA86B,EAAA,UACnB,SAAA0rC,EAAA+2C,GAAA,OAAArF,EAAAx5G,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,0BAAA6C,MAOA,SAAwBU,GACtB,OAAOjH,KAAK2+H,0BAA0B13H,GAAM,EAC9C,GAAC,CAAAvD,IAAA,iBAAA6C,OAAA+yH,GAAAt4G,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAs+B,EAAA1xB,GAAA,IAAAtQ,EAAAshH,EAAA9iH,EAAAi6G,EAAA7uE,EAAAiI,EAAA5D,EAAArB,EAAA20E,EAAAC,EAAAC,EAAA,OAAA/9G,IAAAA,MAAA,SAAAw+B,GAAA,cAAAA,EAAAx3C,KAAAw3C,EAAAn5C,MAAA,OA+CsB,GA9CpBiX,EAAIsQ,EAAJtQ,KAIMshH,EAAY7+H,KACZ+b,EAAO/b,KAAK0c,UAAU3U,cAEtBiuH,EAAoB,SAACE,GACzB,IAAA/xG,EAGI5G,EAAK+F,MAF4B+mC,EAA6BlmC,EAAhEmmC,kCACkBH,EAAYhmC,EAA9BimC,iBAGEC,IAIJ9sC,EAAKmtC,SAAS,CACZJ,kCAAmC4rE,IAGrC34G,EAAK5G,KAAKiC,KAAK+0C,KAAK,uBAAuB,WACzCpwC,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,qBACPjZ,KAAM,CACJkjD,aAAAA,EACAG,kCAAmC4rE,IAGzC,IAEA34G,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,qBACPjZ,KAAM,CACJkjD,aAAAA,EACAG,kCAAmC4rE,KAGzC,EAII/uE,EAMA5pC,EAPF5G,KACEwwC,WAAUiI,EAMV7xC,EAJF+F,MACEkoC,EAAe4D,EAAf5D,gBACkBrB,EAAYiF,EAA9BhF,kBAIAoB,EAAiB,CAAF/L,EAAAn5C,KAAA,QACK,OAAhBw4H,EAAgB,eAAA/wG,GAAA/M,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAy7B,IAAA,OAAAz7B,IAAAA,MAAA,SAAA27B,GAAA,cAAAA,EAAA30C,KAAA20C,EAAAt2C,MAAA,cAAAs2C,EAAA30C,KAAA,EAAA20C,EAAAt2C,KAAA,EAEfu4H,EAAU1I,WAAW,CACzBhsE,aAAAA,EACAt9B,OAAQs6B,IACR,cAAAvK,EAAA36B,OAAA,UACK,GAAI,UAAA26B,EAAA30C,KAAA,EAAA20C,EAAAn5B,GAAAm5B,EAAA,SAEC,0BAARA,EAAAn5B,GAA+B,CAAAm5B,EAAAt2C,KAAA,SACI,OAArCsT,QAAQ4J,KAAK,yBAAwBo5B,EAAA36B,OAAA,UAC9B,GAAI,WAEC,aAAR26B,EAAAn5B,GAAkB,CAAAm5B,EAAAt2C,KAAA,SASlB,OAPFsT,QAAQ4J,KAAK,mEACbjG,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,mBACPjZ,KAAM,CAAC,IAETsW,EAAKmtC,SAAS,CACZkB,gBAAgB,IAChBhP,EAAAt2C,KAAA,GACIojD,GAAAA,GAAAA,QAAAA,UAAuB,IAAG,eAAA9M,EAAA36B,OAAA,UACzB,GAAK,QAEZrI,QAAQ4jB,IAAI,mBAAkBof,EAAAn5B,IAAM,eAAAm5B,EAAA36B,OAAA,UAInC,GAAI,yBAAA26B,EAAAv7B,OAAA,GAAAq7B,EAAA,kBACZ,kBA9BqB,OAAA3uB,EAAAhO,MAAA,KAAAhf,UAAA,KAAA0+C,EAAAn5C,KAAG,EAgCnBojD,GAAAA,GAAAA,QAAAA,uBAAmC,eAAAz7B,GAAAjN,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAi8B,EAAOkR,GAAU,OAAAntC,IAAAA,MAAA,SAAAk8B,GAAA,cAAAA,EAAAl1C,KAAAk1C,EAAA72C,MAAA,OACpC,GAAKiX,EAAK+F,MAAvB6nC,cAEY,CAAFhO,EAAA72C,KAAA,eAAA62C,EAAA72C,KAAA,EACHw4H,IAAkB,cAAA3hF,EAAAl7B,OAAA,SAAAk7B,EAAAz7B,MAAA,OAE/B0sC,IAAY,wBAAAjR,EAAA97B,OAAA,GAAA67B,EAAA,KAEf,gBAAAuhC,GAAA,OAAAxwD,EAAAlO,MAAA,KAAAhf,UAAA,EARwC,IAQvC,OAGoB,OAAlBg+H,EAAkB,eAAA9hF,GAAAj8B,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAA+9B,IAAA,IAAAigF,EAAAprF,EAAAhJ,EAAAqrF,EAAAzsG,EAAA0mC,EAAA,OAAAlvC,IAAAA,MAAA,SAAAi+B,GAAA,cAAAA,EAAAj3C,KAAAi3C,EAAA54C,MAAA,OACJ,OADI24H,EACCJ,EAAUpvE,aAAatF,GAAzCtW,EAAaorF,EAAbprF,cAAaqL,EAAA54C,KAAA,EACEu4H,EAAU30F,cAAc2J,GAAc,OAA/C,GAEU,KAFlBhJ,EAAQqU,EAAAx9B,MAEDzhB,OAAY,CAAAi/C,EAAA54C,KAAA,eAAA44C,EAAAj9B,OAAA,UAChB,GAAK,OAGe,OAAvBi0G,EAAOrrF,EAAS,GAAGlB,KAAIuV,EAAA54C,KAAA,EAEPu4H,EAAUvkF,WAAW6P,GAAa,OAUvD,OAVK1gC,EAAOy1B,EAAAx9B,MAEPyuC,EAAgB,IAAI9yB,GAAAA,EAAU5T,GAAS8hB,uBAAuB4b,EAAW3D,MAAM,SAGnFjmC,EAAKmtC,SAAS,CACZqF,cAAe,IAAI1yB,GAAAA,EAAU5T,GAAS0mB,IAAI,KAAKC,GAAG,KAGpD4lF,EAAkBE,IACnBh3E,EAAAj9B,OAAA,SAEMkuC,GAAa,yBAAAjR,EAAA79B,OAAA,GAAA29B,EAAA,KACrB,kBAvBuB,OAAA/B,EAAAl9B,MAAA,KAAAhf,UAAA,KAAA0+C,EAAAn5C,KAAG,GAyBrBojD,GAAAA,GAAAA,QAAAA,uBAAmC,eAAArL,GAAAr9B,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAq9B,EAAO8P,GAAU,OAAAntC,IAAAA,MAAA,SAAA69B,GAAA,cAAAA,EAAA72C,KAAA62C,EAAAx4C,MAAA,OACpC,GAAKiX,EAAK+F,MAAvB6nC,cAEY,CAAFrM,EAAAx4C,KAAA,eAAAw4C,EAAAx4C,KAAA,EACHy4H,IAAoB,cAAAjgF,EAAA78B,OAAA,SAAA68B,EAAAp9B,MAAA,OAEjC0sC,IAAY,wBAAAtP,EAAAz9B,OAAA,GAAAi9B,EAAA,KAEf,gBAAA28B,GAAA,OAAA58B,EAAAt+B,MAAA,KAAAhf,UAAA,EARwC,IAQvC,QAEwBwc,EAAK+F,MAAvB6nC,eAGN5tC,EAAKitC,YAAUw0E,EAAA,IAAA7lH,EAAAA,EAAAA,GAAA6lH,EAAA,KAAAt8H,OACPqZ,EAAI,kBAAkB,IAAI5C,EAAAA,EAAAA,GAAA6lH,EAAA,sBACZ,GAAIA,GACvB,CAAE/qG,KAAM,cACZ,yBAAAwrB,EAAAp+B,OAAA,GAAAk+B,EAAA,UACF,SAAAi/B,GAAA,OAAA86C,EAAAv5G,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,0BAAA6C,OAAA8yH,GAAAr4G,EAAAA,EAAAA,GAAAC,IAAAA,MAOA,SAAA66D,EAA8B70E,GAAI,IAAAssC,EAAA,OAAAtyB,IAAAA,MAAA,SAAA86D,GAAA,cAAAA,EAAA9zE,KAAA8zE,EAAAz1E,MAAA,cAAAy1E,EAAAz1E,KAAA,EACZtG,KAAKk/H,wBAAwBj4H,GAAK,OAA3C,OAALssC,EAAKwoC,EAAAr6D,KAAAq6D,EAAA95D,OAAA,SAEJsxB,EAAMghF,OAAK,wBAAAx4C,EAAA16D,OAAA,GAAAy6D,EAAA,UACnB,SAAAZ,GAAA,OAAAm+C,EAAAt5G,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,WAAA6C,MAUA,SAASU,GAAqE,IAAA8nD,EAAA,KAA/D06C,EAAiB1oG,UAAAd,OAAA,QAAAe,IAAAD,UAAA,IAAAA,UAAA,GAAUm8H,EAAiBn8H,UAAAd,OAAA,EAAAc,UAAA,QAAAC,EACzD,OAAO,IAAI+f,QAAO,eAAAg+B,GAAA/9B,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAk+G,EAAOh+G,EAASiB,GAAM,IAAAmxB,EAAAvxC,EAAAyc,EAAA,OAAAwC,IAAAA,MAAA,SAAAm+G,GAAA,cAAAA,EAAAn3H,KAAAm3H,EAAA94H,MAAA,OAEd,OAFc84H,EAAAn3H,KAAA,EAErC2R,QAAQ4jB,IAAI,YAAW4hG,EAAA94H,KAAA,EACHyoD,EAAK4vE,0BAA0B13H,EAAMwiG,EAAUyzB,GAAS,OAAjE,KAAL3pF,EAAK6rF,EAAA19G,MAED68G,kBAAmB,CAAFa,EAAA94H,KAAA,QACN,OAAnB6a,EAAQoyB,EAAM7H,MAAK0zF,EAAAn9G,OAAA,iBAMG,OAFxB3B,KAAM,kBAANA,CAAyB,kBAAmBizB,EAAMghF,OAElD36G,QAAQ4jB,IAAI,aAAY4hG,EAAA94H,KAAA,GACHyoD,EAAKzb,YAAYC,EAAMghF,OAAM,QAIlD,OAJMvyH,EAAMo9H,EAAA19G,KAEZ9H,QAAQ4jB,IAAI,kBAAmBx7B,GAE/Bo9H,EAAA94H,KAAA,GACMojD,GAAAA,GAAAA,QAAAA,UAAuB,IAAG,eAAA01E,EAAA94H,KAAA,GAERyoD,EAAKkmE,QAAQ1hF,EAAM7H,MAAK,QAAjC0zF,EAAA19G,KAGbP,EAAQoyB,EAAM7H,OAEd9xB,QAAQ4J,KAAK,yBAA0B,0BACvCpB,EAAO,+BAAiCmxB,EAAM7H,OAC/C0zF,EAAA94H,KAAA,iBAAA84H,EAAAn3H,KAAA,GAAAm3H,EAAA37G,GAAA27G,EAAA,SAGDxlH,QAAQ4J,KAAK,yBAA0B47G,EAAA37G,GAAM2rB,SAK3C3wB,EADE2gH,EAAA37G,GAAM3c,KAAO,YAAYmH,KAAKmxH,EAAA37G,GAAM3c,IAAI44B,MAC3B,eACN,sBAAsBzxB,KAAKmxH,EAAA37G,GAAM2rB,SACtC,yBAAyBnhC,KAAKmxH,EAAA37G,GAAM2rB,SACvB,mBAEA,gBAGLgwF,EAAA37G,GAGdrB,EAAO3D,GAAa,yBAAA2gH,EAAA/9G,OAAA,GAAA89G,EAAA,mBAEvB,gBAAAnjD,EAAAC,GAAA,OAAAl9B,EAAAh/B,MAAA,KAAAhf,UAAA,EAhDiB,GAiDpB,GAEA,CAAA2C,IAAA,UAAA6C,OAAA6yH,GAAAp4G,EAAAA,EAAAA,GAAAC,IAAAA,MAKA,SAAAo+G,EAAcnJ,GAAI,IAAA7sF,EAAA,OAAApoB,IAAAA,MAAA,SAAAq+G,GAAA,cAAAA,EAAAr3H,KAAAq3H,EAAAh5H,MAAA,OACO,OAAvBsT,QAAQ4jB,IAAI,YAAW8hG,EAAAh5H,KAAA,EACFtG,KAAK0oC,YAAYwtF,GAAK,OACd,GADvB7sF,EAAMi2F,EAAA59G,KACZ9H,QAAQ4jB,IAAI,SAAU6L,KAClBA,GACCA,EAAOD,eACPC,EAAOM,MACNN,EAAOM,KAAK5hC,eAAiBmuH,EAAKnuH,eAAc,CAAAu3H,EAAAh5H,KAAA,eAAAg5H,EAAAr9G,OAAA,UAE7C,GAAI,cAAAq9G,EAAAr9G,OAAA,UAEN,GAAK,wBAAAq9G,EAAAj+G,OAAA,GAAAg+G,EAAA,UACb,SAAAE,GAAA,OAAAnG,EAAAr5G,MAAA,KAAAhf,UAAA,IACD,CAAA2C,IAAA,SAAA6C,MASA,SAAOU,EAAWi2H,GAChB,OAAOl9H,KAAKk+F,SAASj3F,GAAM,EAAMi2H,EACnC,GAAC,CAAAx5H,IAAA,mBAAA6C,OAAA4yH,GAAAn4G,EAAAA,EAAAA,GAAAC,IAAAA,MAGD,SAAAu+G,EAAAlgF,GAAA,IAAAmgF,EAAAliH,EAAAshH,EAAA9iH,EAAA,OAAAkF,IAAAA,MAAA,SAAAy+G,GAAA,cAAAA,EAAAz3H,KAAAy3H,EAAAp5H,MAAA,OAM2C,OALzCiX,EAAI+hC,EAAJ/hC,KAIMshH,EAAY7+H,KACZ+b,EAAO/b,KAAK0c,UAAU3U,cAAa23H,EAAAp5H,KAAA,EAEnCojD,GAAAA,GAAAA,QAAAA,wBAAoC,SAAC0E,GACzC,IAAAmoE,EAIIh5G,EAAK+F,MAHPhgB,EAAMizH,EAANjzH,OACkB6mD,EAAYosE,EAA9BnsE,iBAIF,QAH8DmsE,EAA5D/d,kCAOGruD,EAKE00E,EAAU3gC,SAAS,CACxB/zC,aAAAA,EACA7mD,OAAAA,EACAgsD,mBAAoB/xC,EAAK5G,KAAKiyC,wBAE7B7nB,MAAK,SAAC7L,GAKL,OAJAtb,QAAQ4jB,IAAI,gBAAiBtI,GAC7B3X,EAAKmtC,SAAS,CACZ8tD,gCAAiCtjF,IAChC,IACI,CACT,IAAE,OACK,SAAC/pB,GAAK,OAAK,IAAI,KAhBtByO,QAAQzO,MAAM,uEACP,MAgBX,IAAE,OAEFoS,EAAKitC,YAAUi1E,EAAA,IAAAtmH,EAAAA,EAAAA,GAAAsmH,EAAA,KAAA/8H,OACPqZ,EAAI,cAAc,IAAI5C,EAAAA,EAAAA,GAAAsmH,EAAA,mBACX,GAAIA,GACpB,CAAExrG,KAAM,kBAAkB,wBAAAyrG,EAAAr+G,OAAA,GAAAm+G,EAAA,UAC9B,SAAAG,GAAA,OAAAxG,EAAAp5G,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,sBAAA6C,MAED,SAAoBk5E,GAAiB,IAAAstC,EAAA,KACnC,OAAO,IAAIhsG,SAAQ,SAACI,QACcngB,IAA5B+rH,EAAKl4E,mBACPk4E,EAAKl4E,mBAAmB,CACtBnJ,KAAM+zC,EACNvqD,KAAMuqD,IACL1+C,MAAK,SAAC6+F,GACP,GAAIA,EAAU,CACZ,IAAMC,EAAaD,EAASn/H,MAAM,KAClC,GAAIo/H,EAAW5/H,OAAO,EAEpB,YADAkhB,EAAQ0+G,EAAW,GAGvB,CACA1+G,GAAQ,EACV,IAEAA,GAAQ,EAEZ,GACF,KAAC83G,CAAA,CAt8BiB,CAAS55G,GAAAA,IA08B7B,Y,ykBC17BA,SAlBa,SAAAygH,IAAAplH,EAAAA,GAAAA,GAAAqlH,EAAAD,GAAA,I,IAAAnlH,G,EAAAolH,E,maACX,SAAAA,EAAYnlH,GAAS,OAAAxO,EAAAA,GAAAA,GAAA,KAAA2zH,GAAAplH,EAAAtZ,KAAA,KAAAgW,GAAAA,GAAA,GAEduD,GAAO,IACVhL,QAAS,MACTgY,SAAU,CACRQ,KAAM,CACJzT,KAAM,WAER1G,KAAM,CACJ0G,KAAM,cAId,CAAC,OAAAtI,EAAAA,GAAAA,GAAA0zH,EAAA,CAdU,CAAS9G,I,ylBCAtB,IAAM34G,GAAQ0/G,KAAO,mBAEfC,GAAW,SAAA/G,IAAAx+G,EAAAA,GAAAA,GAAAulH,EAAA/G,GAAA,IAw5BdgH,EApBAC,EA7BAC,EAfAC,EArDAC,EAvEAC,EA7IAC,EA1BDC,EA1BAC,EAzBCC,EAdDC,EAfAC,EAhBAC,EAhBAC,EArBAC,EAZAC,EAnBAC,EA3CAC,EAxBAC,EA9BAC,EAnCAC,EAjBAC,EAnDAC,EArBAC,EArCCC,EAxBDrR,EAdCsR,E,IAzGchnH,G,EAAAslH,E,maAgCf,SAAAA,EAAYrlH,GAAS,IAAAjO,EAGnB,IAHmBP,EAAAA,GAAAA,GAAA,KAAA6zH,GACnBtzH,EAAAgO,EAAAtZ,KAAA,OAAO8X,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,2BAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,4BAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,2BAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBApBQwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBACFwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iCAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,0BA+kBfwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAKsB,SAAC8yE,GAAe,OACpC9yE,EAAKi1H,YAAY/kF,eAAe4iC,GAC7B1+C,MAAK,SAAA6+F,GACJ,IACE,IAAMiC,EAAUl1H,EAAKm1H,QAAQ17C,WAAWw5C,EAAS31F,OACjD,OAAOt9B,EAAKo1H,UAAUC,WAAWH,EAAQt4F,OAAO,IAAI9oC,MAAM,MAAM,EAClE,CAAE,MAAOnC,GAEP,YADAgiB,GAAM,mCAAqChiB,EAAI8wC,QAEjD,CACF,GAAE,SAzkBqBpuC,IAArB4Z,EAAQ8qC,SACV,MAAM,IAAInnD,MAAM,oDAElB,GAAoC,mBAAzBqc,EAAQu4B,aACjB,MAAM,IAAI50C,MAAM,wCAElB,GAA+B,iBAApBqc,EAAQ5K,QACjB,MAAM,IAAIzR,MAAM,mCAElB,IAAK6B,MAAMsxB,QAAQ9W,EAAQsoC,KACzB,MAAM,IAAI3kD,MAAM,+BAElB,QAA+ByC,IAA3B4Z,EAAQqnH,eACV,MAAM,IAAI1jI,MAAM,eAADmE,OAAgBkY,EAAQ8qC,SAAQ,0CAEjD,QAA6B1kD,IAAzB4Z,EAAQsnH,aACV,MAAM,IAAI3jI,MAAM,eAADmE,OAAgBkY,EAAQ8qC,SAAQ,wCAEjD,QAA6B1kD,IAAzB4Z,EAAQu3G,aACV,MAAM,IAAI5zH,MAAM,eAADmE,OAAgBkY,EAAQ8qC,SAAQ,wCAEjD,QAAsC1kD,IAAlC4Z,EAAQw3G,sBACV,MAAM,IAAI7zH,MAAM,eAADmE,OAAgBkY,EAAQ8qC,SAAQ,iDAoBH,MAlBN,mBAA7B9qC,EAAQkoC,kBAEjBlpC,QAAQ4J,KAAK,2GAGf7W,EAAKiO,QAAiBA,EACtBjO,EAAKqD,QAAiB4K,EAAQ5K,QAC9BrD,EAAKu2C,IAAiBtoC,EAAQsoC,IAE9Bv2C,EAAK+4C,SAAiB9qC,EAAQ8qC,SAE9B/4C,EAAK+P,UAAiB9B,EAAQ8qC,SAE9B/4C,EAAK05D,SAAiBzrD,EAAQyrD,UAAY,IAC1C15D,EAAKw1H,gBAAkBvnH,EAAQunH,iBAAmB,IAClDx1H,EAAKi2C,SAAiBhoC,EAAQgoC,UAAY,IAC1Cj2C,EAAKwmC,aAAiBv4B,EAAQu4B,aAC9BxmC,EAAKm2C,iBAAmBloC,EAAQkoC,kBAAqB,WAAO,EAC5Dn2C,EAAK2iE,gBAAkB10D,EAAQ00D,gBAAe3iE,CAChD,CA4+BC,OA5+BAN,EAAAA,GAAAA,GAAA4zH,EAAA,EAAAv8H,IAAA,YAAA6C,MAED,SAAUgY,GAIR,IAHA21C,EAAAA,GAAAA,IAAAC,EAAAA,GAAAA,GAAA8rE,EAAArgI,WAAA,kBAAAyB,KAAA,KAAgBkd,GAEhBve,KAAKue,IAAMA,EAC0C,mBAA1Cve,KAAKue,IAAIve,KAAK4a,QAAQqnH,gBAC/B,MAAM,IAAI1jI,MAAM,eAADmE,OAAgB1C,KAAK0lD,SAAQ,wBAAAhjD,OAAuB1C,KAAK4a,QAAQqnH,eAAc,kBAEhG,GAAmD,mBAAxCjiI,KAAKue,IAAIve,KAAK4a,QAAQsnH,cAC/B,MAAM,IAAI3jI,MAAM,eAADmE,OAAgB1C,KAAK0lD,SAAQ,wBAAAhjD,OAAuB1C,KAAK4a,QAAQsnH,aAAY,kBAE9F,GAAmD,mBAAxCliI,KAAKue,IAAIve,KAAK4a,QAAQu3G,cAC/B,MAAM,IAAI5zH,MAAM,eAADmE,OAAgB1C,KAAK0lD,SAAQ,wBAAAhjD,OAAuB1C,KAAK4a,QAAQu3G,aAAY,kBAE9F,GAA4D,mBAAjDnyH,KAAKue,IAAIve,KAAK4a,QAAQw3G,uBAC/B,MAAM,IAAI7zH,MAAM,eAADmE,OAAgB1C,KAAK0lD,SAAQ,wBAAAhjD,OAAuB1C,KAAK4a,QAAQw3G,sBAAqB,kBAGvGpyH,KAAK4hI,YAAc5hI,KAAKue,IAAIve,KAAK4a,QAAQqnH,gBAAgBziH,KAAKxf,KAAKue,IAAhDve,GACnBA,KAAK+hI,UAAY/hI,KAAKue,IAAIve,KAAK4a,QAAQsnH,cAAc1iH,KAAKxf,KAAKue,IAA9Cve,GACjBA,KAAKmyH,aAAenyH,KAAKue,IAAIve,KAAK4a,QAAQu3G,cAAc3yG,KAAKxf,KAAKue,KAClEve,KAAKoyH,sBAAwBpyH,KAAKue,IAAIve,KAAK4a,QAAQw3G,uBAAuB5yG,KAAKxf,KAAKue,KAEpFve,KAAK8hI,QAAW,IAAIh9C,KAAJ,CAAqB9kF,KAAKkjD,KAE1CljD,KAAKilD,SAAW,IAAIjlD,KAAK4hI,YAAYz+E,SAASnjD,KAAKkjD,IAAKljD,KAAKgQ,QAC/D,GAAC,CAAAtM,IAAA,iBAAA6C,OAAAo7H,GAAA3gH,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAO,IAAA,OAAAP,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OACiD,OAA/Cga,GAAM,0BAA2BtgB,KAAK4iD,UAASnhC,EAAAxZ,KAAA,EAAAwZ,EAAAnb,KAAA,EAGvBtG,KAAK8iD,iBAAiB,CAAE7T,MAAO,SAAS,OAA9DjvC,KAAK4iD,SAAQnhC,EAAAC,KAAAD,EAAAnb,KAAG,GAAH,aAAAmb,EAAAxZ,KAAG,EAAHwZ,EAAAgC,GAAAhC,EAAA,SAEbnB,GAAM,eAAD5d,OAAgB1C,KAAK0lD,SAAQ,6BAAAhjD,OAA4B+e,EAAAgC,GAAI2rB,QAAO,+BAAA1sC,OAA8B1C,KAAK4iD,WAAW,QAGzHtiC,GAAM,yBAA0BtgB,KAAK4iD,UAAS,yBAAAnhC,EAAAJ,OAAA,GAAAG,EAAA,kBAC/C,kBAAAmgH,EAAA5hH,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,SAAA6C,OAAA8pH,GAAArvG,EAAAA,EAAAA,GAAAC,IAAAA,MAUA,SAAAC,EAAaja,EAAM62H,GAAqB,OAAA78G,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,WAEpCW,EAAKwrH,cAEFxrH,EAAKwrH,eAAexrH,EAAK6b,qBAE1B7b,EAAKwsH,kBAEJzzH,KAAKoiI,kBAAiB,CAAA7gH,EAAAjb,KAAA,eAAAib,EAAAU,OAAA,SAElBjiB,KAAKqiI,iBAAiBp7H,EAAM62H,IAAsB,cAAAv8G,EAAAU,OAAA,SAElDjiB,KAAKsiI,WAAWr7H,EAAM62H,IAAsB,wBAAAv8G,EAAAF,OAAA,GAAAH,EAAA,UAEtD,SAAAS,EAAAa,GAAA,OAAA6tG,EAAAtwG,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,OAAA6C,OAAAm7H,GAAA1gH,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAa,EAAWygH,EAAYj2D,GAAI,IAAAk2D,EAAA1E,EAAA7hH,EAAA,KAAAg/G,EAAAl6H,UAAA,OAAAkgB,IAAAA,MAAA,SAAAe,GAAA,cAAAA,EAAA/Z,KAAA+Z,EAAA1b,MAAA,OAAqC,GAAnCk8H,EAAOvH,EAAAh7H,OAAA,QAAAe,IAAAi6H,EAAA,GAAAA,EAAA,GAAG,CAAC,EAAG6C,EAAqB7C,EAAAh7H,OAAA,EAAAg7H,EAAA,QAAAj6H,EACb,mBAAtChB,KAAKilD,SAASK,QAAQi9E,GAA0B,CAAAvgH,EAAA1b,KAAA,cACnD,IAAI/H,MAAM,oBAADmE,OAAqB1C,KAAK0lD,SAAQ,gBAAAhjD,OAAe6/H,EAAU,iBAAe,cAAAvgH,EAAA1b,KAAA,EAGrFtG,KAAKyiI,iBAAgB,cAAAzgH,EAAAC,OAAA,SAEpB,IAAIlB,QAAO,eAAAxU,GAAAyU,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAkB,EAAOhB,EAASiB,GAAM,IAAAsgH,EAAAC,EAAAvyH,EAAAwyH,EAAA38D,EAAA,OAAAhlD,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,OAOiC,OANlE8J,EAAMiH,GAAA,CACVxT,KAAMoY,EAAKk2G,eACXvvE,SAAU3mC,EAAK2mC,UACZ4/E,GAGLliH,GAAM,eAAD5d,OAAgBuZ,EAAKypC,SAAQ,QAAAhjD,OAAO6/H,EAAU,cAAcnyH,GAAOiS,EAAA/b,KAAA,GAEhDo8H,EAAAzmH,EAAKgpC,SAASK,SAAQi9E,GAAWxiH,MAAA2iH,GAAAt5G,EAAAA,EAAAA,GAAIkjD,IAAMkC,YAAYp+D,GAAO,OAGV,OAHtEwyH,EAASvgH,EAAAX,KACftR,EAAY,IAAI,IAAIitB,GAAAA,EAAUulG,GAAW73F,aAAa9uB,EAAKkmH,iBAAiB/xF,GAAG,EAAG/S,GAAAA,EAAAA,UAAoBC,YAAcrhB,EAAKoqD,SAEzH/lD,GAAM,mBAAD5d,OAAoBuZ,EAAKypC,SAAQ,QAAAhjD,OAAO6/H,EAAU,WAAWK,GAAUvgH,EAAA/b,KAAA,GAEtDq8H,EAAA1mH,EAAKgpC,SAASK,SAAQi9E,GAAWxiH,MAAA4iH,GAAAv5G,EAAAA,EAAAA,GAAIkjD,IAAM3tC,KAAKvuB,GACnE23C,GAAG,mBAAmB,SAAC7yB,GACe,mBAA1B4oG,GACTA,EAAsB5oG,EAE1B,IACC6yB,GAAG,SAAS,SAACzpD,GACZ8jB,EAAO9jB,EACT,IAAE,OARE2nE,EAAO5jD,EAAAX,KAUbP,EAAQ8kD,GAAQ,yBAAA5jD,EAAAhB,OAAA,GAAAc,EAAA,KACjB,gBAAAuB,EAAAa,GAAA,OAAAhY,EAAAwT,MAAA,KAAAhf,UAAA,EAzBiB,KAyBhB,wBAAAihB,EAAAX,OAAA,GAAAS,EAAA,UACH,SAAAQ,EAAAC,GAAA,OAAAm/G,EAAA3hH,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,aAAA6C,OAAAk7H,GAAAzgH,EAAAA,EAAAA,GAAAC,IAAAA,MAUA,SAAA0B,EAAiB1b,EAAM62H,GAAqB,IAAA76G,EAAAH,EAAA+J,EAAAg2G,EAAA3tG,EAAAo3C,EAAA,OAAArrD,IAAAA,MAAA,SAAAmC,GAAA,cAAAA,EAAAnb,KAAAmb,EAAA9c,MAAA,OAMD,OALjC2c,EAA2Chc,EAA3Cgc,WAAYH,EAA+B7b,EAA/B6b,mBAAoB+J,EAAW5lB,EAAX4lB,OAElCg2G,EAAY7iI,KAAK+hI,UAAUvgD,MAAM30D,EAAOrsB,YAExC00B,EAAO,KAAHxyB,OAAQugB,EAAWtiB,QAAQ,MAAO,KACtC2rE,EAAO,CAAEp3C,EAAMpS,GAAoBM,EAAAnB,OAAA,SAElCjiB,KAAK2+B,KAAK,aAAc,GAAFj8B,OAAM4pE,GAAO,CAAE/lE,MAAOs8H,GAAa/E,IAAsB,wBAAA16G,EAAA/B,OAAA,GAAAsB,EAAA,UACvF,SAAA2pB,EAAAwC,GAAA,OAAA2yF,EAAA1hH,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,mBAAA6C,OAAAi7H,GAAAxgH,EAAAA,EAAAA,GAAAC,IAAAA,MAUA,SAAAiD,EAAuBjd,EAAM62H,GAAqB,IAAA76G,EAAAH,EAAA+J,EAAA4lG,EAAAoQ,EAAA3tG,EAAApvB,EAAA,OAAAmb,IAAAA,MAAA,SAAAoD,GAAA,cAAAA,EAAApc,KAAAoc,EAAA/d,MAAA,OACY,OAApD2c,EAAyDhc,EAAzDgc,WAAYH,EAA6C7b,EAA7C6b,mBAAoB+J,EAAyB5lB,EAAzB4lB,OAAQ4lG,EAAiBxrH,EAAjBwrH,aAAYpuG,EAAA/d,KAAA,EAEtDtG,KAAKyiI,iBAAgB,OAM8B,OAJnDI,EAAY7iI,KAAK+hI,UAAUvgD,MAAM30D,EAAOrsB,YAExC00B,EAAO,KAAHxyB,OAAQugB,EAAWtiB,QAAQ,MAAO,KAEtCmF,EAAS,CAAEovB,EAAMpS,EAAoB2vG,GAAcpuG,EAAApC,OAAA,SAElDjiB,KAAK2+B,KAAK,mBAAoB,GAAFj8B,OAAMoD,GAAS,CAAES,MAAOs8H,GAAa/E,IAAsB,wBAAAz5G,EAAAhD,OAAA,GAAA6C,EAAA,UAC/F,SAAAmrB,EAAAiB,GAAA,OAAAkxF,EAAAzhH,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,aAAA6C,MAMA,SAAWU,GACT,IAAQ8b,EAAiB9b,EAAjB8b,aAER,OAAO/iB,KAAKilD,SAASK,QAAQhL,WAAWv3B,GAAc1hB,KAAK,CACzDwC,KAAM7D,KAAKmyH,gBAEf,GAEA,CAAAzuH,IAAA,QAAA6C,MAOA,SAAMU,GACJ,IAAQ8b,EAAqC9b,EAArC8b,aAAcD,EAAuB7b,EAAvB6b,mBAEtB,OAAO9iB,KAAKilD,SAASK,QAAQxsC,MAAMiK,EAAcD,GAAoBzhB,MACvE,GAEA,CAAAqC,IAAA,kBAAA6C,OAAAg7H,GAAAvgH,EAAAA,EAAAA,GAAAC,IAAAA,MAOA,SAAA4C,EAAsB5c,GAAI,IAAA0P,EAAA8S,EAAA,OAAAxI,IAAAA,MAAA,SAAAgD,GAAA,cAAAA,EAAAhc,KAAAgc,EAAA3d,MAAA,cAAA2d,EAAA3d,KAAA,EACLtG,KAAK8Y,MAAM7R,GAAK,OAI8B,OAJ3D0P,EAAIsN,EAAAvC,KAEVpB,GAAM,aAAc3J,GAEd8S,EAAU9S,GAAQA,EAAK8S,QAAU7qB,SAAS+X,EAAK8S,SAAW,EAACxF,EAAAhC,OAAA,SAE1DwH,EAAU,GAAC,wBAAAxF,EAAA5C,OAAA,GAAAwC,EAAA,UACnB,SAAA2tB,GAAA,OAAA+vF,EAAAxhH,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,eAAA6C,OAAA+6H,GAAAtgH,EAAAA,EAAAA,GAAAC,IAAAA,MAOA,SAAAsuB,EAAmBtoC,GAAI,IAAA8b,EAAAD,EAAAy6G,EAAAuF,EAAAr5G,EAAA9S,EAAAsM,EAAA+wG,EAAA+O,EAAA1mH,EAAA,YAAA4E,IAAAA,MAAA,SAAAivB,GAAA,cAAAA,EAAAjoC,KAAAioC,EAAA5pC,MAAA,OACgD,OAA7Dyc,EAAkE9b,EAAlE8b,aAAcD,EAAoD7b,EAApD6b,mBAAoBy6G,EAAgCt2H,EAAhCs2H,cAAeuF,EAAiB77H,EAAjB67H,aAAY5yF,EAAA5pC,KAAA,EAE/CojD,GAAAA,GAAAA,QAAAA,wBAAoC,kBACxDrtC,EAAKi+B,WAAW,CAAEv3B,aAAAA,GAAe,IAClC,OAFY,OAAP0G,EAAOymB,EAAAxuB,KAAAwuB,EAAA5pC,KAAG,EAGGojD,GAAAA,GAAAA,QAAAA,wBAAoC,kBACrDrtC,EAAK4oC,SAASK,QAAQxsC,MAAMiK,EAAcD,GAAoBzhB,MAAM,IACrE,OAOmF,GAT9EsV,EAAIu5B,EAAAxuB,KAIFuB,EAAetM,EAAfsM,WACR3C,GAAM,kBAAmB2C,GAEnB+wG,EAAc,GAAHtxH,OAAMugB,EAAWtiB,QAAQ,MAAO,KAEjD2f,GAAM,+BAAD5d,OAAgCogI,EAAY,sBAAApgI,OAAqBsxH,IAElE8O,IAAiB9O,EAAW,CAAA9jF,EAAA5pC,KAAA,gBAAA4pC,EAAAjuB,OAAA,2BAAAvf,OACLogI,EAAY,WAAApgI,OAAUsxH,IAAW,QAI5D,KADM+O,EAAmB,IAAI1lG,GAAAA,EAAUkgG,GAAexyF,aAAa,OAE9CK,cAAc3hB,GAAU,CAAFymB,EAAA5pC,KAAA,gBAAA4pC,EAAAjuB,OAAA,4BAAAvf,OACfqgI,EAAiBviI,WAAU,WAAAkC,OAAU+mB,IAAO,yBAAAymB,EAAA7uB,OAAA,GAAAkuB,EAAA,KAEzE,SAAA2D,GAAA,OAAAouF,EAAAvhH,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,kBAAA6C,OAAA86H,GAAArgH,EAAAA,EAAAA,GAAAC,IAAAA,MAIA,SAAAuvB,IAAA,IAAAwyF,EAAAjmH,EAAA,YAAAkE,IAAAA,MAAA,SAAAkwB,GAAA,cAAAA,EAAAlpC,KAAAkpC,EAAA7qC,MAAA,WACMtG,KAAKijI,eAAgB,CAAF9xF,EAAA7qC,KAAA,eAAA6qC,EAAAlvB,OAAA,SAASjiB,KAAKijI,gBAAc,cAAA9xF,EAAA7qC,KAAA,EAEvBtG,KAAKilD,SAASi+E,cAAc,YAAa,CACnEC,UAAW,EACXC,QAAS,WACT,OAeiC,OAlB7BJ,EAAa7xF,EAAAzvB,KAKnB1hB,KAAKilD,SAAShlC,OAAOojH,UAAU,CAAEF,UAAW,EAAGC,QAAS,WACrDr7E,GAAG,QAAQ,SAAA7nC,GACVnD,EAAKkmH,eAAe/iI,KAAKggB,EAC3B,IACC6nC,GAAG,WAAW,SAAC7nC,GACdtG,QAAQzO,MAAM,sCACd4R,EAAKkmH,eAAiB,IACxB,IACCl7E,GAAG,SAAS,SAAAzpD,GACXsb,QAAQzO,MAAM7M,GACdye,EAAKkmH,eAAiB,IACxB,IAEFjjI,KAAKijI,eAAiBD,EAAa7xF,EAAAlvB,OAAA,SAE5B+gH,GAAa,wBAAA7xF,EAAA9vB,OAAA,GAAAmvB,EAAA,UACrB,kBAAA6wF,EAAAthH,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,WAAA6C,OAAA66H,GAAApgH,EAAAA,EAAAA,GAAAC,IAAAA,MAMA,SAAAywB,EAAezqC,GAAI,IAAAgc,EAAA+/G,EAAAM,EAAAC,EAAA97G,EAAAqB,EAAAwf,EAAA,OAAArnB,IAAAA,MAAA,SAAAuxB,GAAA,cAAAA,EAAAvqC,KAAAuqC,EAAAlsC,MAAA,OACC,OAAV2c,EAAehc,EAAfgc,WAAUuvB,EAAAlsC,KAAA,EAEUtG,KAAKwjI,kBAAiB,OAUjD,OAVKR,EAAaxwF,EAAA9wB,KAEb4hH,EAAaN,EAChB5zH,QAAO,SAAA1B,GAAe,OAAAA,EAAZ+1H,aAAgCzP,cAAgB,KAALtxH,OAAUugB,EAAWtiB,QAAQ,KAAK,IAAK,IAAC4iI,GAAAG,EAAAA,GAAAA,GAE7DJ,GAA3B77G,EAAM87G,EAAA,GAAEz6G,EAAKy6G,EAAA,IAAKj7F,EAAIi7F,EAAAhiI,MAAA,KAElB+mC,EAAKroC,QACf2Z,QAAQzO,MAAM,qCAAsCm9B,GAErDkK,EAAAvwB,OAAA,SAEM,CAAEwF,EAAQqB,IAAO,wBAAA0pB,EAAAnxB,OAAA,GAAAqwB,EAAA,UACzB,SAAAopC,GAAA,OAAAsmD,EAAArhH,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,YAAA6C,OAAA46H,GAAAngH,EAAAA,EAAAA,GAAAC,IAAAA,MAOA,SAAA6/B,EAAgB75C,GAAI,IAAA08H,EAAAC,EAAAn8G,EAAAqB,EAAA,OAAA7H,IAAAA,MAAA,SAAA+/B,GAAA,cAAAA,EAAA/4C,KAAA+4C,EAAA16C,MAAA,cAAA06C,EAAA16C,KAAA,EACctG,KAAK6jI,SAAS58H,GAAK,OAA9B,GAA8B08H,EAAA3iF,EAAAt/B,KAAAkiH,GAAAxuE,EAAAA,GAAAA,GAAAuuE,EAAA,GAA3Cl8G,EAAMm8G,EAAA,GAAE96G,EAAK86G,EAAA,GAEhBn8G,EAAQ,CAAFu5B,EAAA16C,KAAA,SACoC,OAA7Cga,GAAM,qBAAD5d,OAAsBuE,EAAKgc,aAAa+9B,EAAA/+B,OAAA,SACtC,WAAS,YACPwF,GAAWqB,EAAK,CAAAk4B,EAAA16C,KAAA,SACP,OAAlBga,GAAM,aAAY0gC,EAAA/+B,OAAA,SACX,QAAM,WAEM,YAAf6G,EAAM5I,MAAmB,CAAA8gC,EAAA16C,KAAA,SACT,OAAlBga,GAAM,aAAY0gC,EAAA/+B,OAAA,SACX,aAAW,WACM,UAAf6G,EAAM5I,MAAiB,CAAA8gC,EAAA16C,KAAA,SACjB,OAAfga,GAAM,UAAS0gC,EAAA/+B,OAAA,SACR,YAAU,QAEY,OAA7B3B,GAAM,wBAAuB0gC,EAAA/+B,OAAA,SACtB,SAAO,yBAAA++B,EAAA3/B,OAAA,GAAAy/B,EAAA,UAGnB,SAAAq9B,GAAA,OAAAgjD,EAAAphH,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,cAAA6C,MAMA,SAAYU,GACV,OAAOjH,KAAK8jI,UAAU78H,GACnB85B,MAAK,SAACy/C,GAAM,MACA,aAAXA,CAAqB,GAE3B,GAEA,CAAA98E,IAAA,eAAA6C,OAAA26H,GAAAlgH,EAAAA,EAAAA,GAAAC,IAAAA,MAMA,SAAAu7B,EAAmBv1C,GAAI,IAAAu5E,EAAA,OAAAv/D,IAAAA,MAAA,SAAAw7B,GAAA,cAAAA,EAAAx0C,KAAAw0C,EAAAn2C,MAAA,cAAAm2C,EAAAn2C,KAAA,EACAtG,KAAK8jI,UAAU78H,GAAK,OAA7B,OAANu5E,EAAM/jC,EAAA/6B,KAAA+6B,EAAAx6B,OAAA,SACM,cAAXu+D,GAAsB,wBAAA/jC,EAAAp7B,OAAA,GAAAm7B,EAAA,UAC9B,SAAAmhC,GAAA,OAAAujD,EAAAnhH,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,kBAAA6C,MAIA,WACE,QAASvG,KAAKilD,SAASK,QAAQy+E,eACjC,GAEA,CAAArgI,IAAA,kBAAA6C,OAAA06H,GAAAjgH,EAAAA,EAAAA,GAAAC,IAAAA,MAKA,SAAAk7B,EAAsBp5B,GAAoB,IAAA/S,EAAAsN,EAAA,YAAA2D,IAAAA,MAAA,SAAAs7B,GAAA,cAAAA,EAAAt0C,KAAAs0C,EAAAj2C,MAAA,cAAAi2C,EAAAj2C,KAAA,EACfojD,GAAAA,GAAAA,QAAAA,wBAAoC,kBAC3DpsC,EAAK0mH,uBAAuBjhH,EAAa,IAC1C,OAFe,OAAZ/S,EAAYusC,EAAA76B,KAAA66B,EAAAt6B,OAAA,SAGTjS,GAAO,wBAAAusC,EAAAl7B,OAAA,GAAA86B,EAAA,KACf,SAAA+hC,GAAA,OAAA+iD,EAAAlhH,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,yBAAA6C,OAAAy6H,GAAAhgH,EAAAA,EAAAA,GAAAC,IAAAA,MAMA,SAAAi8B,EAA6Bn6B,GAAoB,IAAAgsC,EAAA,YAAA9tC,IAAAA,MAAA,SAAAk8B,GAAA,cAAAA,EAAAl1C,KAAAk1C,EAAA72C,MAAA,cAAA62C,EAAAl7B,OAAA,SACxC,IAAIlB,QAAO,eAAAc,GAAAb,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAy7B,EAAOv7B,EAASiB,GAAM,IAAAqwG,EAAA,OAAAxxG,IAAAA,MAAA,SAAA27B,GAAA,cAAAA,EAAA30C,KAAA20C,EAAAt2C,MAAA,cAAAs2C,EAAA30C,KAAA,EAAA20C,EAAAt2C,KAAA,EAEVyoD,EAAK9J,SAASK,QAAQy+E,gBAAgBhhH,GAAc1hB,KAAK,CAClFwC,KAAMkrD,EAAKojE,iBACX,OAFIM,EAAY71E,EAAAl7B,KAIlBP,EAAQsxG,GAAa71E,EAAAt2C,KAAA,gBAAAs2C,EAAA30C,KAAA,EAAA20C,EAAAn5B,GAAAm5B,EAAA,SAGrBx6B,EAAMw6B,EAAAn5B,IAAK,yBAAAm5B,EAAAv7B,OAAA,GAAAq7B,EAAA,kBAEd,gBAAA6qC,EAAAC,GAAA,OAAA3lE,EAAA9B,MAAA,KAAAhf,UAAA,EAXiB,KAWhB,wBAAAo8C,EAAA97B,OAAA,GAAA67B,EAAA,KACH,SAAAuqC,GAAA,OAAAu5C,EAAAjhH,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,kBAAA6C,OAAAw6H,GAAA//G,EAAAA,EAAAA,GAAAC,IAAAA,MAQA,SAAA+9B,EAAsB/3C,GAAI,OAAAga,IAAAA,MAAA,SAAAi+B,GAAA,cAAAA,EAAAj3C,KAAAi3C,EAAA54C,MAAA,cAAA44C,EAAAj9B,OAAA,SACjBjiB,KAAKikI,qBAAqB,CAC/BlhH,aAAc9b,EAAK8b,aACnBD,mBAAoB9iB,KAAKmyH,eACzB7uH,OAAQ2D,EAAK3D,UACb,wBAAA47C,EAAA79B,OAAA,GAAA29B,EAAA,UACH,SAAA0oC,GAAA,OAAAq5C,EAAAhhH,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,WAAA6C,OAAAu6H,GAAA9/G,EAAAA,EAAAA,GAAAC,IAAAA,MAQA,SAAAq9B,EAAer3C,EAAM62H,GAAqB,OAAA78G,IAAAA,MAAA,SAAA69B,GAAA,cAAAA,EAAA72C,KAAA62C,EAAAx4C,MAAA,cAAAw4C,EAAA78B,OAAA,SACjCjiB,KAAKkkI,cAAc,CACxBnhH,aAAc9b,EAAK8b,aACnBD,mBAAoB9iB,KAAKmyH,eACzB7uH,OAAQ2D,EAAK3D,QACZw6H,IAAsB,wBAAAh/E,EAAAz9B,OAAA,GAAAi9B,EAAA,UAC1B,SAAAupC,EAAA+2C,GAAA,OAAAkC,EAAA/gH,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,yBAAA6C,OAAAs6H,GAAA7/G,EAAAA,EAAAA,GAAAC,IAAAA,MAOA,SAAAs+B,EAA6Bt4C,GAAI,OAAAga,IAAAA,MAAA,SAAAw+B,GAAA,cAAAA,EAAAx3C,KAAAw3C,EAAAn5C,MAAA,cAAAm5C,EAAAx9B,OAAA,SACxBjiB,KAAKikI,qBAAqB,CAC/BlhH,aAAc/iB,KAAKmyH,eACnBrvG,mBAAoB7b,EAAK6b,mBACzBxf,OAAQ2D,EAAK3D,UACb,wBAAAm8C,EAAAp+B,OAAA,GAAAk+B,EAAA,UACH,SAAAi/B,GAAA,OAAAqiD,EAAA9gH,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,kBAAA6C,OAAAq6H,GAAA5/G,EAAAA,EAAAA,GAAAC,IAAAA,MAQA,SAAA66D,EAAsB70E,EAAM62H,GAAqB,OAAA78G,IAAAA,MAAA,SAAA86D,GAAA,cAAAA,EAAA9zE,KAAA8zE,EAAAz1E,MAAA,cAAAy1E,EAAA95D,OAAA,SACxCjiB,KAAKkkI,cAAc,CACxBnhH,aAAc/iB,KAAKmyH,eACnBrvG,mBAAoB7b,EAAK6b,mBACzBxf,OAAQ2D,EAAK3D,QACZw6H,IAAsB,wBAAA/hD,EAAA16D,OAAA,GAAAy6D,EAAA,UAC1B,SAAA2C,EAAAxD,GAAA,OAAA2lD,EAAA7gH,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,uBAAA6C,OAAAo6H,GAAA3/G,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAo+G,EAA2Bp4H,GAAI,IAAA8b,EAAAD,EAAAxf,EAAAypH,EAAA,YAAA9rG,IAAAA,MAAA,SAAAq+G,GAAA,cAAAA,EAAAr3H,KAAAq3H,EAAAh5H,MAAA,OACmB,OAAxCyc,EAA6C9b,EAA7C8b,aAAcD,EAA+B7b,EAA/B6b,mBAAoBxf,EAAW2D,EAAX3D,OAAMg8H,EAAAh5H,KAAA,EAE1CtG,KAAKyiI,iBAAgB,cAAAnD,EAAAr9G,OAAA,SAEpB,IAAIlB,QAAO,eAAAmB,GAAAlB,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAk+G,EAAOh+G,EAASiB,GAAM,IAAA2xG,EAAA3jH,EAAA+zH,EAAA,OAAAljH,IAAAA,MAAA,SAAAm+G,GAAA,cAAAA,EAAAn3H,KAAAm3H,EAAA94H,MAAA,OAMtC,OALKytH,EAAU,KAAHrxH,OAAQY,EAAO3C,QAAQ,MAAO,KAErCyP,EAAS,CACbvM,KAAMkpH,EAAKoF,eACXvvE,SAAUmqE,EAAKnqE,UAChBw8E,EAAAn3H,KAAA,EAAAm3H,EAAA94H,KAAA,EAGsBymH,EAAK9nE,SAASK,QAAQ4+E,cAAcnQ,EAAShxG,EAAcD,GAAoB0rD,YAAYp+D,GAAO,OAAjH+zH,EAAM/E,EAAA19G,KACZP,EAAQ,IAAIkc,GAAAA,EAAU8mG,GAAQp5F,aAAagiF,EAAKoV,iBAAiB/xF,GAAG,EAAG/S,GAAAA,EAAAA,UAAoBC,YAAW8hG,EAAA94H,KAAA,gBAAA84H,EAAAn3H,KAAA,EAAAm3H,EAAA37G,GAAA27G,EAAA,SAGtGxlH,QAAQzO,MAAM,4BAA2Bi0H,EAAA37G,IACzCtC,EAAQ4rG,EAAK1mD,UAAS,yBAAA+4D,EAAA/9G,OAAA,GAAA89G,EAAA,kBAEzB,gBAAAnjD,EAAAC,GAAA,OAAA/5D,EAAAnC,MAAA,KAAAhf,UAAA,EAhBiB,KAgBhB,wBAAAu+H,EAAAj+G,OAAA,GAAAg+G,EAAA,UACH,SAAAnkD,GAAA,OAAAylD,EAAA5gH,MAAA,KAAAhf,UAAA,IACD,CAAA2C,IAAA,gBAAA6C,OAAAm6H,GAAA1/G,EAAAA,EAAAA,GAAAC,IAAAA,MASA,SAAAu+G,EAAoBv4H,EAAM62H,GAAqB,IAAA/6G,EAAAD,EAAAxf,EAAAywH,EAAA,OAAA9yG,IAAAA,MAAA,SAAAy+G,GAAA,cAAAA,EAAAz3H,KAAAy3H,EAAAp5H,MAAA,OAGC,OAFtCyc,EAA6C9b,EAA7C8b,aAAcD,EAA+B7b,EAA/B6b,mBAAoBxf,EAAW2D,EAAX3D,OAEpCywH,EAAU,KAAHrxH,OAAQY,EAAO3C,QAAQ,MAAO,KAAG++H,EAAAp5H,KAAA,EAExCtG,KAAKyiI,iBAAgB,cAAA/C,EAAAz9G,OAAA,SAEpBjiB,KAAK2+B,KAAK,gBAAiB,CAAEo1F,EAAShxG,EAAcD,GAAsB,CAAC,EAAGg7G,IAAsB,wBAAA4B,EAAAr+G,OAAA,GAAAm+G,EAAA,UAC5G,SAAAD,EAAAI,GAAA,OAAAe,EAAA3gH,MAAA,KAAAhf,UAAA,IASD,CAAA2C,IAAA,SAAA6C,OAAAk6H,GAAAz/G,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAAmjH,EAAan9H,GAAI,IAAA62H,EAAAh7G,EAAAuhH,EAAAtjI,UAAA,OAAAkgB,IAAAA,MAAA,SAAAqjH,GAAA,cAAAA,EAAAr8H,KAAAq8H,EAAAh+H,MAAA,OACW,OADTw3H,EAA+BuG,EAAApkI,OAAA,QAAAe,IAAAqjI,EAAA,GAAAA,EAAA,GAAG,KAC3CvhH,EAAuB7b,EAAvB6b,mBAAkBwhH,EAAAh+H,KAAA,EAEpBtG,KAAKyiI,iBAAgB,cAAA6B,EAAAriH,OAAA,SAEpBjiB,KAAK2+B,KAAK,SAAU,CAAE7b,GAAsB,CAAC,EAAGg7G,IAAsB,wBAAAwG,EAAAjjH,OAAA,GAAA+iH,EAAA,UAC9E,SAAAG,GAAA,OAAA9D,EAAA1gH,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,YAAA6C,MAMA,SAAUU,GACR,IAAQ6b,EAAuB7b,EAAvB6b,mBAER,OAAO9iB,KAAKilD,SAASK,QAAQjiC,UAAUP,GAAoBzhB,KAAK,CAC9DwC,KAAM7D,KAAKmyH,iBAEVpxF,MAAK,SAACz9B,GAEL,OADAgd,GAAM,oBAAqBhd,GACpBA,IAAW,SAAS2K,KAAK3K,GAAUA,EAAS,IACrD,IAAE,OACK,SAAC6H,GAAK,OAAKA,CAAK,GAC3B,GAAC,CAAAzH,IAAA,eAAA6C,OAAAi6H,GAAAx/G,EAAAA,EAAAA,GAAAC,IAAAA,MA+BD,SAAAujH,EAAA5hH,GAAA,IAAArF,EAAAk2G,EAAAgR,EAAAx2E,EAAA9G,EAAAlkC,EAAA4pD,EAAA63D,EAAA7yB,EAAA1mD,EAAA,OAAAlqC,IAAAA,MAAA,SAAA0jH,GAAA,cAAAA,EAAA18H,KAAA08H,EAAAr+H,MAAA,OA2BqB,OA1BnBiX,EAAIqF,EAAJrF,KACAk2G,EAAe7wG,EAAf6wG,gBAKMgR,EAAUzkI,MAAIiuD,EAMhB1wC,EAAK5G,MAJPqF,YACSiyC,EAAT7G,UACAD,EAAU8G,EAAV9G,WACW8G,EAAXlF,YAGM9lC,EAAe1F,EAAK+F,MAApBL,WAEF4pD,EAAW,CACf/pD,mBAAoB2hH,EAAQrS,sBAAsB70G,EAAK5G,MACvDsM,WAAYA,EACZ4J,OAAQs6B,EACRsrE,aAAel1G,EAAK5G,KAAKkyC,uBACrBtrC,EAAK5G,KAAKkyC,uBACV47E,EAAQrS,sBAAsB70G,EAAK5G,MACvC88G,gBAAAA,GAGIiR,EAAa,eAAAhiH,GAAA1B,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAA2jH,IAAA,IAAAzgH,EAAA0tF,EAAAlmD,EAAA,OAAA1qC,IAAAA,MAAA,SAAA4jH,GAAA,cAAAA,EAAA58H,KAAA48H,EAAAv+H,MAAA,OAGY,GAHZ6d,EAIhB5G,EAAK+F,MAFPuuF,EAAmB1tF,EAAnB0tF,oBACAlmD,EAA8BxnC,EAA9BwnC,+BAGGkmD,EAAqB,CAAFgzB,EAAAv+H,KAAA,SAEyB,OAFzBu+H,EAAA58H,KAAA,EAEpB+3H,KAAO,iBAAPA,CAAyB,qBAAoB6E,EAAAv+H,KAAA,EACpBiX,EAAKuxC,0BAAyB,OAAvC,IAAA+1E,EAAAnjH,KACA,CAAFmjH,EAAAv+H,KAAA,SAC4C,OAAxDsT,QAAQ4J,KAAK,4CAA2CqhH,EAAAv+H,KAAA,GAClDiX,EAAKg1G,YAAYuB,OAAO,CAC5BhxG,mBAAoB2hH,EAAQrS,sBAAsB70G,EAAK5G,QACtD,SAACmuH,GACF9E,KAAO,iBAAPA,CAAyB,wBAAyB8E,EACpD,IAAE,QAE6C,OAAjD9E,KAAO,iBAAPA,CAAyB,cAAenzD,GAASg4D,EAAAv+H,KAAA,GAC3Cm+H,EAAQh9G,OAAOolD,GAAU,SAAC33C,GAC9B8qG,KAAO,iBAAPA,CAAyB,sBAAuB9qG,GAChD3X,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,sBACPjZ,KAAM,CACJ0kD,+BAAgCz2B,KAIpC3X,EAAKmtC,SAAS,CACZiB,+BAAgCz2B,EAChCyoF,yBAAyB,EACzBC,qBAAqB,IACpB,EACL,IAAE,QAAAinB,EAAAv+H,KAAA,oBAAAu+H,EAAA58H,KAAA,GAAA48H,EAAAphH,GAAAohH,EAAA,UAEEtnH,EAAK+F,MAAMqoC,+BAAgC,CAAFk5E,EAAAv+H,KAAA,SAKnC,OAJRsT,QAAQzO,MAAM,2CACdoS,EAAKmtC,SAAS,CACZizD,yBAAyB,EACzBC,qBAAqB,IACpB,GAAKinB,EAAA5iH,OAAA,UACD,GAAI,QAcL,MAZH,oBAAoBhU,KAAK42H,EAAAphH,GAAI2rB,SAChCx1B,QAAQzO,MAAM,aAADzI,OAAcmiI,EAAAphH,GAAI2rB,UACrB,aAAanhC,KAAK42H,EAAAphH,GAAI2rB,SAChCx1B,QAAQzO,MAAM,8BAADzI,OAA+BmiI,EAAAphH,GAAI2rB,UAEhDx1B,QAAQzO,MAAK05H,EAAAphH,IAGflG,EAAKmtC,SAAS,CACZizD,yBAAyB,EACzBC,qBAAqB,EACrBC,yBAA0BgnB,EAAAphH,GAAI2rB,UAC7B,GAAKy1F,EAAA5iH,OAAA,SAED,MAAI,QAAA4iH,EAAAv+H,KAAA,iBAGbiX,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,sBACPjZ,KAAM,CACJ0kD,+BAAAA,EACA1oC,WAAAA,KAEF,eAAA4hH,EAAA5iH,OAAA,UAEG,GAAI,yBAAA4iH,EAAAxjH,OAAA,GAAAujH,EAAA,mBACZ,kBArEkB,OAAAliH,EAAA3C,MAAA,KAAAhf,UAAA,KAAA4jI,EAAAr+H,KAAG,EAuEYojD,GAAAA,GAAAA,QAAAA,wBAAoC,kBACpEg7E,GAAe,IAChB,OAFK7yB,EAAmB8yB,EAAAjjH,KAIjBypC,EAAkB5tC,EAAK+F,MAAvB6nC,cAEJ0mD,IAAwB1mD,IAC1B60E,KAAO,iBAAPA,CAAyB,eACzBziH,EAAKitC,WAAW,CACdqnD,oBAAAA,GACC,CAAC59E,KAAM,cACX,yBAAA0wG,EAAAtjH,OAAA,GAAAmjH,EAAA,UACF,SAAAO,GAAA,OAAAvE,EAAAzgH,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,wBAAA6C,OAAAg6H,GAAAv/G,EAAAA,EAAAA,GAAAC,IAAAA,MAGD,SAAA+jH,EAAAlhH,GAAA,IAAAvG,EAAAknH,EAAAQ,EAAAjiH,EAAAyvF,EAAA,OAAAxxF,IAAAA,MAAA,SAAAikH,GAAA,cAAAA,EAAAj9H,KAAAi9H,EAAA5+H,MAAA,OAoCwB,OAnCtBiX,EAAIuG,EAAJvG,KAIMknH,EAAUzkI,KAEhBud,EAAK5G,KAAKiC,KAAK+0C,KAAK,oBAAmB,eAAAtgC,GAAArM,EAAAA,EAAAA,GAAAC,IAAAA,MAAE,SAAAkkH,EAAAvhH,GAAA,IAAAG,EAAAC,EAAA,OAAA/C,IAAAA,MAAA,SAAAmkH,GAAA,cAAAA,EAAAn9H,KAAAm9H,EAAA9+H,MAAA,OAG/B,OAHuCyd,EAA8BH,EAA9BG,+BAC/CxG,EAAKmtC,SAAS,CACZ3mC,+BAAAA,IACC,GAAKqhH,EAAA9+H,KAAA,EAEuBojD,GAAAA,GAAAA,QAAAA,oBAAiC,CAC9DnsC,KAAAA,EACAsF,SAAU4hH,EACVlmH,IAAKkmH,EAAQlmH,IACbwF,+BAAAA,IACA,OALIC,EAAgBohH,EAAA1jH,MAOKnE,EAAK+F,MAAxBmvF,gBAEezuF,IACrBg8G,KAAO,iBAAPA,CAAyB,qBAAsBj8G,EAAgCC,GAC/EzG,EAAKitC,WAAW,CACdioD,gBAAgB,EAChBnvG,OAAQ0gB,GACP,CAACiQ,KAAM,uBACX,wBAAAmxG,EAAA/jH,OAAA,GAAA8jH,EAAA,KACF,gBAAAE,GAAA,OAAAh4G,EAAAtN,MAAA,KAAAhf,UAAA,EArBsC,IAuBvCwc,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,8BAGe3C,EAAK5G,KAArBqF,YAEFipH,EAAgB,eAAA13G,GAAAvM,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAqkH,IAAA,OAAArkH,IAAAA,MAAA,SAAAskH,GAAA,cAAAA,EAAAt9H,KAAAs9H,EAAAj/H,MAAA,cAAAi/H,EAAAj/H,KAAA,EACVojD,GAAAA,GAAAA,QAAAA,0BAAuC,CAClDnsC,KAAAA,EACAsF,SAAU4hH,EACV3hH,mBAAoB2hH,EAAQrS,sBAAsB70G,EAAK5G,MACvDoM,aAAc0hH,EAAQtS,eACtB5zG,IAAKkmH,EAAQlmH,MACb,cAAAgnH,EAAAtjH,OAAA,SAAAsjH,EAAA7jH,MAAA,wBAAA6jH,EAAAlkH,OAAA,GAAAikH,EAAA,KACH,kBARqB,OAAA/3G,EAAAxN,MAAA,KAAAhf,UAAA,KAAAmkI,EAAA5+H,KAAG,EAUQojD,GAAAA,GAAAA,QAAAA,wBAAoC,SAAC0E,GACpE,IAAAgB,EAAuC7xC,EAAK+F,MAApCmvF,EAAcrjD,EAAdqjD,eAAgBpnD,EAAU+D,EAAV/D,WAExB,OAAIonD,GAAkBpnD,GACpB+C,KAEO,GAGF62E,GACT,IAAE,OAVIjiH,EAAkBkiH,EAAAxjH,KAYhB+wF,EAAmBl1F,EAAK+F,MAAxBmvF,eAEJzvF,IAAuByvF,IACzButB,KAAO,iBAAPA,CAAyB,iCAAkCh9G,GAE3DzF,EAAKitC,WAAW,CACdioD,gBAAgB,EAChBnvG,OAAQ0f,GACP,CAAEiR,KAAM,uBACZ,yBAAAixG,EAAA7jH,OAAA,GAAA2jH,EAAA,UACF,SAAAQ,GAAA,OAAAjF,EAAAxgH,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,iBAAA6C,OAAA+5H,GAAAt/G,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAwkH,EAAAh4G,GAAA,IAAAlQ,EAAAkxC,EAAA,OAAAxtC,IAAAA,MAAA,SAAAykH,GAAA,cAAAA,EAAAz9H,KAAAy9H,EAAAp/H,MAAA,OAkCI,OAjCFiX,EAAIkQ,EAAJlQ,KACAkxC,EAAQhhC,EAARghC,SAOAlxC,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,yBAGT3C,EAAK5G,KAAKiC,KAAK+0C,KAAK,WAADjrD,OAAY+rD,EAAQ,YAAW,WAChD,IAAA8nE,EAGIh5G,EAAK+F,MAFW6mC,EAAYosE,EAA9BnsE,iBACmColB,EAAM+mD,EAAzCjsE,kCAGF/sC,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,UAAFxd,OAAa+rD,EAAQ,WAC1BxnD,KAAM,CACJkjD,aAAAA,EACAG,kCAAmCklB,IAGzC,IAEwBjyD,EAAK5G,KAArBqF,YAERuB,EAAK5G,KAAKiC,KAAKmvC,GAAG,uBAAuB,SAAAp6B,GAAwC,IAArCg+B,EAA8Bh+B,EAA9Bg+B,+BAC1CpuC,EAAKmtC,SAAS,CACZiB,+BAAAA,IACC,EACL,IAAE+5E,EAAAp/H,KAAA,EAEgCtG,KAAK60H,iBAAiBt3G,GAAK,OAApCmoH,EAAAhkH,OAGSnE,EAAK+F,MAA7BuuF,qBAONt0F,EAAKitC,WAAW,CACdqnD,qBAAqB,GACpB,CAAE59E,KAAM,mBAEd,yBAAAyxG,EAAArkH,OAAA,GAAAokH,EAAA,UACF,SAAAE,GAAA,OAAArF,EAAAvgH,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,gBAAA6C,OAAA85H,GAAAr/G,EAAAA,EAAAA,GAAAC,IAAAA,MAGD,SAAA2kH,EAAoB3+H,GAAI,IAAA8b,EAAAD,EAAAG,EAAAtM,EAAA65G,EAAA,YAAAvvG,IAAAA,MAAA,SAAA4kH,GAAA,cAAAA,EAAA59H,KAAA49H,EAAAv/H,MAAA,OAIV,OAFVyc,EAGE9b,EAHF8b,aACAD,EAEE7b,EAFF6b,mBACAG,EACEhc,EADFgc,WAAU4iH,EAAAv/H,KAAA,EAGOojD,GAAAA,GAAAA,QAAAA,wBAAoC,WACrD,OAAO8mE,EAAKvrE,SAASK,QAAQxsC,MAAMiK,EAAcD,GAAoBzhB,MACvE,IAAE,OAFQ,OAAJsV,EAAIkvH,EAAAnkH,KAAAmkH,EAAA5jH,OAAA,SAIFtL,GAAQA,EAAKsM,YAActM,EAAKsM,aAAe,KAALvgB,OAAUugB,IAAY,wBAAA4iH,EAAAxkH,OAAA,GAAAukH,EAAA,KACzE,SAAAE,GAAA,OAAAzF,EAAAtgH,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,mBAAA6C,OAAA65H,GAAAp/G,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAA8kH,EAAuBxoH,GAAI,IAAAknH,EAAA,OAAAxjH,IAAAA,MAAA,SAAA+kH,GAAA,cAAAA,EAAA/9H,KAAA+9H,EAAA1/H,MAAA,OACL,OAAdm+H,EAAUzkI,KAAIgmI,EAAA1/H,KAAA,EAEcojD,GAAAA,GAAAA,QAAAA,wBAAmC1oC,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAglH,IAAA,IAAAx8G,EAAAy8G,EAAA,OAAAjlH,IAAAA,MAAA,SAAAklH,GAAA,cAAAA,EAAAl+H,KAAAk+H,EAAA7/H,MAAA,cAAA6/H,EAAA7/H,KAAA,EAC9Cm+H,EAAQnqF,WAAW,CACvCv3B,aAAc0hH,EAAQlmH,IAAIywC,yBAAyBzxC,EAAK5G,QACxD,OAIgG,GAN5F8S,EAAO08G,EAAAzkH,KAIbs+G,KAAO,iBAAPA,CAAyB,6BAA8Bv2G,GAEjDy8G,EAAsB,IAAI7oG,GAAAA,EAAUonG,EAAQ1C,UAAUvgD,MAAMjkE,EAAK5G,KAAKywC,UAAU5mD,cAElF,IAAI68B,GAAAA,EAAU5T,GAAS8hB,uBAAuB26F,GAAsB,CAAFC,EAAA7/H,KAAA,eAAA6/H,EAAAlkH,OAAA,UAC7D,GAAI,OAEPwH,EAAU,GACZ7P,QAAQ4J,KAAK,4EAAD9gB,OAA6E+mB,EAAO,aAAA/mB,OAAYwjI,EAAoB1lI,aACjI,eAAA2lI,EAAAlkH,OAAA,UAGI,GAAK,yBAAAkkH,EAAA9kH,OAAA,GAAA4kH,EAAA,MACZ,OAlBuB,IAAAD,EAAAtkH,KAoBA,CAAFskH,EAAA1/H,KAAA,eAAA0/H,EAAA/jH,OAAA,UACd,GAAI,cAAA+jH,EAAA/jH,OAAA,UAEN,GAAK,wBAAA+jH,EAAA3kH,OAAA,GAAA0kH,EAAA,UACb,SAAAK,GAAA,OAAAhG,EAAArgH,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,qBAAA6C,OAAA45H,GAAAn/G,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAolH,EAAAt4G,GAAA,IAAAxQ,EAAAk1G,EAAA6T,EAAA,OAAArlH,IAAAA,MAAA,SAAAslH,GAAA,cAAAA,EAAAt+H,KAAAs+H,EAAAjgI,MAAA,OACM,GAAJiX,EAAIwQ,EAAJxQ,MAIIvd,KAAKoiI,kBAAmB,CAAFmE,EAAAjgI,KAAA,eAAAigI,EAAAjgI,KAAA,EACGtG,KAAK+jI,gBAC9B/jI,KAAKoyH,sBAAsB70G,EAAK5G,OACjC,OAGsB,GALjB87G,EAAY8T,EAAA7kH,KAGZ4kH,EAAoB/oH,EAAK5G,KAAKiyC,sBAChCrrC,EAAK5G,KAAKiyC,sBACV5oD,KAAKmyH,eAELM,EAAa1qH,gBAAkBu+H,EAAiBv+H,cAAa,CAAAw+H,EAAAjgI,KAAA,eAAAigI,EAAAtkH,OAAA,UACxD,GAAI,cAAAskH,EAAAtkH,OAAA,UAGR,GAAK,wBAAAskH,EAAAllH,OAAA,GAAAglH,EAAA,UACb,SAAAG,GAAA,OAAArG,EAAApgH,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,yBAAA6C,OAAA25H,GAAAl/G,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAwlH,EAAAx4G,GAAA,IAAA1Q,EAAAknH,EAAAiC,EAAAt/E,EAAAu/E,EAAA1jH,EAAA3f,EAAA2D,EAAA2/H,EAAAnU,EAAA6T,EAAAO,EAAAC,EAAA,OAAA7lH,IAAAA,MAAA,SAAA8lH,GAAA,cAAAA,EAAA9+H,KAAA8+H,EAAAzgI,MAAA,OAYG,OAXDiX,EAAI0Q,EAAJ1Q,KAIMknH,EAAUzkI,KAAI0mI,EACenpH,EAAK5G,KAAhCywC,EAASs/E,EAATt/E,UAAsBs/E,EAAX1qH,YAAW2qH,EACCppH,EAAK+F,MAA5BL,EAAU0jH,EAAV1jH,WAAY3f,EAAMqjI,EAANrjI,OAEd2D,EAAO,CACX8b,aAAc0hH,EAAQrS,sBAAsB70G,EAAK5G,MACjDrT,OAAAA,GACDyjI,EAAAzgI,KAAA,EAE+Bm+H,EAAQuC,aAAa,CACnDjkH,aAAc0hH,EAAQrS,sBAAsB70G,EAAK5G,MACjDmM,mBAAoB2hH,EAAQtS,eAC5BoL,cAAen2E,EACf07E,aAAc7/G,IACd,OALqB,KAAjB2jH,EAAiBG,EAAArlH,MAOA,CAAFqlH,EAAAzgI,KAAA,SAEoD,OADvEsT,QAAQzO,MAAM,kDAAmDy7H,GACjErpH,EAAK5G,KAAKsJ,OAAO4nC,SAAS,0BAA2B++E,GAAkBG,EAAA9kH,OAAA,sBAKrE1E,EAAKg1G,YAAY6P,kBAAmB,CAAF2E,EAAAzgI,KAAA,gBAAAygI,EAAAzgI,KAAA,GACTm+H,EAAQV,gBACjCU,EAAQrS,sBAAsB70G,EAAK5G,OACpC,QAGyB,GALpB87G,EAAYsU,EAAArlH,KAGZ4kH,EAAoB/oH,EAAK5G,KAAKiyC,sBAChCrrC,EAAK5G,KAAKiyC,sBACV67E,EAAQtS,eAERM,EAAa1qH,gBAAkBu+H,EAAiBv+H,cAAa,CAAAg/H,EAAAzgI,KAAA,SAS7D,OARFsT,QAAQzO,MACN,sFACAm7H,EACA7T,GAEFl1G,EAAK5G,KAAKsJ,OAAO4nC,SAAS,4BAA6B,CACrDo/E,OAAQX,EACRY,OAAQzU,IACRsU,EAAA9kH,OAAA,kBA6BW,OAvBX4kH,EAAkB,WACtBtpH,EAAK5G,KAAKiC,KAAK+0C,KAAK,6BAA6B,WAC/C,IAAQ5pC,EAAmCxG,EAAK+F,MAAxCS,+BAERxG,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,oBACPjZ,KAAM,CACJ8c,+BAAAA,IAGN,IAEiBxG,EAAK+F,MAAd2Q,MAEI,GAIZ1W,EAAKitC,WAAW,CACdioD,gBAAgB,GACf,eACL,EAEMq0B,EAAW,eAAA7pF,GAAAj8B,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAkmH,EAAOC,GAAY,IAAAC,EAAA,OAAApmH,IAAAA,MAAA,SAAAqmH,GAAA,cAAAA,EAAAr/H,KAAAq/H,EAAAhhI,MAAA,OACf,GAAKiX,EAAK+F,MAAxBmvF,eAEa,CAAF60B,EAAAhhI,KAAA,SAEI,GAFJghI,EAAAr/H,KAAA,EAESsV,EAAK+F,MAArBkxG,YAEU,CAAF8S,EAAAhhI,KAAA,gBAAAghI,EAAAhhI,KAAA,EACkBm+H,EAAQ8C,gBAAgB,CACtDxkH,aAAc9b,EAAK8b,aACnBzf,OAAAA,IACA,OAHI+jI,EAAiBC,EAAA5lH,KAIvBnE,EAAKmtC,SAAS,CACZ8pE,YAAa6S,IAEfrH,KAAO,iBAAPA,CAAyB,mBAAoBqH,GAAkB,eAAAC,EAAAhhI,KAAA,GAG3Dm+H,EAAQvmC,SAASj3F,GAAM,SAACiuB,GAC5B3X,EAAKmtC,SAAS,CACZ+nD,gBAAgB,EAChB1uF,+BAAgCmR,EAChCyoF,yBAAyB,EACzBrwD,oBAAoB,IACnB,GAEH/vC,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,oBACPjZ,KAAM,CACJ8c,+BAAgCmR,IAGtC,IAAE,QAEY,OAAdkyG,IAAcE,EAAArlH,OAAA,UACP,GAAI,WAAAqlH,EAAAr/H,KAAA,GAAAq/H,EAAA7jH,GAAA6jH,EAAA,UAEN,oBAAoBr5H,KAAKq5H,EAAA7jH,GAAI2rB,SAAQ,CAAAk4F,EAAAhhI,KAAA,SAE1B,OADdsT,QAAQzO,MAAM,aAADzI,OAAc4kI,EAAA7jH,GAAI2rB,UAC/Bg4F,IAAcE,EAAArlH,OAAA,UACP,GAAI,QACD,aAAahU,KAAKq5H,EAAA7jH,GAAI2rB,SAChCx1B,QAAQzO,MAAM,8BAADzI,OAA+B4kI,EAAA7jH,GAAI2rB,UACtC,6BAA6BnhC,KAAKq5H,EAAA7jH,GAAI2rB,UAChDx1B,QAAQzO,MAAM,8BAADzI,OAA+B4kI,EAAA7jH,GAAI2rB,UAEhD4wF,KAAO,iBAAPA,CAAyB,4EAEMziH,EAAK+F,MAA5BgqC,qBAGN/vC,EAAK5G,KAAKiC,KAAK+0C,KAAK,kBAAkB,SAAAtP,GAAsC,IAApCt6B,EAA8Bs6B,EAA9Bt6B,+BACtCxG,EAAKmtC,SAAS,CACZ3mC,+BAAAA,IAGF8iH,GACF,IAEAtpH,EAAKmtC,SAAS,CACZ4C,oBAAoB,MAKxB1zC,QAAQzO,MAAKm8H,EAAA7jH,IACd,QAIC,OAFFlG,EAAKmtC,SAAS,CACZizD,yBAAyB,IACzB2pB,EAAArlH,OAAA,SAEK,MAAI,eAAAqlH,EAAArlH,OAAA,UAIR,GAAI,yBAAAqlH,EAAAjmH,OAAA,GAAA8lH,EAAA,mBACZ,gBA7EgBK,GAAA,OAAAvqF,EAAAl9B,MAAA,KAAAhf,UAAA,KAAAgmI,EAAAzgI,KAAG,GA+ESojD,GAAAA,GAAAA,QAAAA,wBAAoC,SAAC09E,GAAY,OAC5EN,EAAYM,EAAa,IAC1B,QAFmBL,EAAArlH,MAKlBmlH,IACD,yBAAAE,EAAA1lH,OAAA,GAAAolH,EAAA,UACF,SAAAgB,GAAA,OAAAvH,EAAAngH,MAAA,KAAAhf,UAAA,MAAAk/H,CAAA,CA1jCc,CAAS5gH,GAAAA,IA8jC1B,Y,ykBCjjCA,SAfa,SAAAqoH,IAAAhtH,EAAAA,GAAAA,GAAAitH,EAAAD,GAAA,I,IAAA/sH,G,EAAAgtH,E,maACX,SAAAA,EAAY/sH,GAQT,OARkBxO,EAAAA,GAAAA,GAAA,KAAAu7H,GACnB/sH,EAAOvD,GAAAA,GAAA,GACFuD,GAAO,IACVqnH,eAAgB,oBAChBC,aAAc,kBACd/P,aAAc,kBACdC,sBAAuB,2BACvB1sE,SAAU5qC,GAAAA,GAAAA,MAAAA,MACXH,EAAAtZ,KAAA,KACKuZ,EACR,CAAC,OAAAvO,EAAAA,GAAAA,GAAAs7H,EAAA,CAXU,CAAS1H,I,ykBCetB,SAfa,SAAAyH,IAAAhtH,EAAAA,GAAAA,GAAAktH,EAAAF,GAAA,I,IAAA/sH,G,EAAAitH,E,maACX,SAAAA,EAAYhtH,GAQT,OARkBxO,EAAAA,GAAAA,GAAA,KAAAw7H,GACnBhtH,EAAOvD,GAAAA,GAAA,GACFuD,GAAO,IACVqnH,eAAgB,oBAChBC,aAAc,kBACd/P,aAAc,kBACdC,sBAAuB,2BACvB1sE,SAAU5qC,GAAAA,GAAAA,MAAAA,MACXH,EAAAtZ,KAAA,KACKuZ,EACR,CAAC,OAAAvO,EAAAA,GAAAA,GAAAu7H,EAAA,CAXU,CAAS3H,I,ykBCetB,SAfe,SAAAyH,IAAAhtH,EAAAA,GAAAA,GAAAmtH,EAAAH,GAAA,I,IAAA/sH,G,EAAAktH,E,maACb,SAAAA,EAAYjtH,GAQT,OARkBxO,EAAAA,GAAAA,GAAA,KAAAy7H,GACnBjtH,EAAOvD,GAAAA,GAAA,GACFuD,GAAO,IACVqnH,eAAgB,sBAChBC,aAAc,oBACd/P,aAAc,oBACdC,sBAAuB,6BACvB1sE,SAAU5qC,GAAAA,GAAAA,MAAAA,QACXH,EAAAtZ,KAAA,KACKuZ,EACR,CAAC,OAAAvO,EAAAA,GAAAA,GAAAw7H,EAAA,CAXY,CAAS5H,I,ykBCexB,SAfkB,SAAAyH,IAAAhtH,EAAAA,GAAAA,GAAAotH,EAAAJ,GAAA,I,IAAA/sH,G,EAAAmtH,E,maAChB,SAAAA,EAAYltH,GAQT,OARkBxO,EAAAA,GAAAA,GAAA,KAAA07H,GACnBltH,EAAOvD,GAAAA,GAAA,GACFuD,GAAO,IACVqnH,eAAgB,yBAChBC,aAAc,uBACd/P,aAAc,uBACdC,sBAAuB,gCACvB1sE,SAAU5qC,GAAAA,GAAAA,MAAAA,SACXH,EAAAtZ,KAAA,KACKuZ,EACR,CAAC,OAAAvO,EAAAA,GAAAA,GAAAy7H,EAAA,CAXe,CAAS7H,I,4CCA3B,IAAM8H,GAAal3D,KAAAA,WACbm3D,GAAan3D,KAAAA,KAAAA,OAEbo3D,GAAS,SAAA/O,IAAAx+G,EAAAA,GAAAA,GAAAutH,EAAA/O,GAAA,IAogBbE,EAxEAC,EAzBAE,EAtEAC,EA1BAC,EA9FAC,EA7IAE,EA1BAC,E,IA9Dal/G,G,EAAAstH,E,maAuBb,SAAAA,EAAYrtH,GAAS,IAAAjO,EAGnB,IAHmBP,EAAAA,GAAAA,GAAA,KAAA67H,GACnBt7H,EAAAgO,EAAAtZ,KAAA,OAAO8X,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,yBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,yBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,4BAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAE6B,mBAAzBiO,EAAQu4B,aACjB,MAAM,IAAI50C,MAAM,sCAElB,GAAqC,mBAA1Bqc,EAAQsvB,cACjB,MAAM,IAAI3rC,MAAM,uCAElB,GAAmC,mBAAxBqc,EAAQ04B,YACjB,MAAM,IAAI/0C,MAAM,qCAkB2C,MAhB1B,mBAAxBqc,EAAQ8tB,aAEjB9uB,QAAQ4J,KAAK,iGAEyB,mBAA7B5I,EAAQ00B,kBAEjB11B,QAAQ4J,KAAK,yGAGf7W,EAAK+P,UAAY5B,GAAAA,GAAAA,MAAAA,MACjBnO,EAAKwmC,aAAev4B,EAAQu4B,aAC5BxmC,EAAKu9B,cAAgBtvB,EAAQsvB,cAC7Bv9B,EAAK2mC,YAAc14B,EAAQ04B,YAC3B3mC,EAAKinC,cAAgBh5B,EAAQg5B,cAC7BjnC,EAAK8jC,SAAW71B,EAAQ61B,UAAY,IACpC9jC,EAAK+7B,YAAc9tB,EAAQ8tB,aAAgB,WAAQ,EACnD/7B,EAAK2iC,iBAAmB10B,EAAQ00B,kBAAqB,kBAAM,CAAC,EAAC3iC,CAC/D,CA2eC,OA3eAN,EAAAA,GAAAA,GAAA47H,EAAA,EAAAvkI,IAAA,YAAA6C,MAED,SAAUgY,IACR21C,EAAAA,GAAAA,IAAAC,EAAAA,GAAAA,GAAA8zE,EAAAroI,WAAA,kBAAAyB,KAAA,KAAgBkd,GAEhBve,KAAKue,IAAMA,EAEXve,KAAKuP,QAAUvP,KAAKue,IAAIvD,SAASrC,KAAKiF,SAASrH,MAAMhH,OACvD,GAEA,CAAA7L,IAAA,WAAA6C,OAAAszH,GAAA74G,EAAAA,EAAAA,GAAAC,IAAAA,MAUA,SAAAO,EAAAjV,GAAA,IAAAkjC,EAAAzpC,EAAA00H,EAAAzrF,EAAAj/B,EAAA4qH,EAAA,OAAA35G,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OACkC,OADjBmpC,EAAUljC,EAAVkjC,WAAYzpC,EAAIuG,EAAJvG,KAAI00H,EAAAnuH,EAAE0iC,MAAAA,OAAK,IAAAyrF,EAAG,OAAMA,EAAE1qH,EAAOzD,EAAPyD,QAAOyR,EAAAgC,GACjC4Z,GAAAA,EAAS5b,EAAAnb,KAAA,EAAOtG,KAAKsvC,iBAAiB,CAC3DG,WAAAA,EACAz/B,QAAAA,EACAi/B,MAAAA,EACApR,OAAQ,OACR0Q,OAAQvoC,IACR,OAE0B,OAF1Byb,EAAA6nB,GAAA7nB,EAAAC,KANEk5G,EAAe,IAAHn5G,EAAAgC,GAAAhC,EAAA6nB,IAQhBtpC,KAAKywC,SAAWmqF,EAAYn5G,EAAAQ,OAAA,SAErBwtB,EACHmrF,EACAA,EAAanyF,UAAU,KAAK2H,GAAG,EAAG/S,GAAAA,EAAAA,WAAmB,wBAAA5b,EAAAJ,OAAA,GAAAG,EAAA,UAC1D,SAAAG,GAAA,OAAAk4G,EAAA95G,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,0BAAA6C,OAAAqzH,GAAA54G,EAAAA,EAAAA,GAAAC,IAAAA,MAOA,SAAAa,EAA8B+oB,GAAQ,IAAAgwF,EAAAC,EAAAoN,EAAAnN,EAAAC,EAAA/+G,EAAA,KAAAg/G,EAAAl6H,UAAA,OAAAkgB,IAAAA,MAAA,SAAAe,GAAA,cAAAA,EAAA/Z,KAAA+Z,EAAA1b,MAAA,OAWf,OAXiBu0H,EAAuBI,EAAAh7H,OAAA,QAAAe,IAAAi6H,EAAA,GAAAA,EAAA,GAAG,IAC1DH,EAAgB,eAAAptH,GAAAsT,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,EAAOsnB,EAAMxiC,EAAMgK,GAAO,IAAAkrH,EAAA,OAAAj6G,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,cAAAib,EAAAjb,KAAA,EACjB2V,EAAKk/G,SAAS,CAAE1rF,YAAY,EAAMzpC,KAAAA,EAAMipC,MAAO,OAAQj/B,QAAAA,IAAU,OAA1E,OAAjBkrH,EAAiB35G,EAAAG,KAAAH,EAAAU,OAAA,SAEhB,IAAIob,GAAAA,EAAUmL,GAAM29B,WAAW+0D,GAClC,IAAI79F,GAAAA,EAAUmL,GAAMC,UAAUyyF,GAAmB59F,WACjD,GAAC,wBAAA/b,EAAAF,OAAA,GAAAH,EAAA,KACN,gBANqBoB,EAAAC,EAAAmB,GAAA,OAAAhW,EAAAqS,MAAA,KAAAhf,UAAA,KAQhBmnI,EAA4B,SAAAC,GAAK,OAAIA,EAAQ,EAAI,EAAI,CAAC,EAEtDpN,EAAe,eAAA74G,GAAAlB,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAkB,EAAAN,GAAA,IAAA8nB,EAAAE,EAAAwxF,EAAA/+F,EAAAkM,EAAAxiC,EAAAojC,EAAA,OAAAnoB,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,OACsD,GAD7CqjC,EAAI9nB,EAAJ8nB,KAAME,EAAahoB,EAAbgoB,cAC/BwxF,EAA8B6M,EAA0Br+F,IAE1D,IAAIxM,GAAAA,EAAUg+F,GAA6B9vF,uBAAuBsvF,GAA0B,CAAFx4G,EAAA/b,KAAA,eAAA+b,EAAAJ,OAAA,SACrFo5G,GAA2B,cAAAh5G,EAAApa,KAAA,EAAAoa,EAAA/b,KAAA,EAIf2V,EAAKysB,YAAYiB,GAAK,OAER,GAF3BrN,EAAIja,EAAAX,KAEF8mB,EAA8BlM,EAA9BkM,KAAMxiC,EAAwBs2B,EAAxBt2B,KAAMojC,EAAkB9M,EAAlB8M,eAEhBZ,EAAM,CAAFnmB,EAAA/b,KAAA,gBAAA+b,EAAA/b,KAAA,GACOw0H,EAAiBtyF,EAAMxiC,EAAMojC,GAAc,eAAA/mB,EAAAJ,OAAA,SAAAI,EAAAX,MAAA,cAGpD,IAAInjB,MAAM,UAADmE,OAAW,CAAEmnC,cAAAA,EAAerB,KAAAA,EAAMxiC,KAAAA,EAAMojC,cAAAA,KAAkB,QAGmB,OAHnB/mB,EAAApa,KAAA,GAAAoa,EAAAoB,GAAApB,EAAA,SAGzEzI,QAAQzO,MAAM,iEAAkEkX,EAAAoB,GAAI2rB,SAAQ/sB,EAAAJ,OAAA,SACrFo5G,GAA2B,yBAAAh5G,EAAAhB,OAAA,GAAAc,EAAA,mBAErC,gBAtBoBoC,GAAA,OAAArC,EAAAnC,MAAA,KAAAhf,UAAA,KAAAihB,EAAA1b,KAAG,EAwBEya,QAAQ05B,IAAI5P,EAASzpC,IAAI25H,IAAiB,OAAnD,OAAXC,EAAWh5G,EAAAN,KAAAM,EAAAC,OAAA,SAEV4oB,EAASz7B,QAAO,SAACmsH,EAAMh0H,GAG5B,OAFA+Y,KAAM,kBAANA,CAAyB,cAAD5d,OAAe6E,EAAK,MAAMyzH,EAAYzzH,IAEvD,IAAI81B,GAAAA,EAAU29F,EAAYzzH,IAAQgkC,uBAAuBsvF,EAClE,KAAE,wBAAA74G,EAAAX,OAAA,GAAAS,EAAA,KACH,SAAAU,GAAA,OAAAo3G,EAAA75G,MAAA,KAAAhf,UAAA,IACD,CAAA2C,IAAA,mBAAA6C,MASA,SAAiBU,GAAsB,IAAhBu0H,EAAUz6H,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,EAClCuf,KAAM,kBAANA,CAAyB,uBAAwBk7G,GACjD,IAAQjxF,EAAuBtjC,EAAvBsjC,OAAQmJ,EAAezsC,EAAfysC,GAAIpwC,EAAW2D,EAAX3D,OACdo4H,EAAW17H,KAAKue,IAAIxD,IAAIlL,QAAQgiE,YAAY8pD,YAG5CpsH,EAAUvP,KAAKue,IAAIoJ,YAAckpD,KAAAA,SAAAA,QAA2BA,KAAAA,SAAAA,QAElEn9B,EAAGnK,OAAOiyF,GAAYwB,eAAiB,WACvC,IAAMrsH,EAAa,IAAIo3H,GAAW/nI,KAAKue,IAAIvD,SAASrC,KAAKiF,SAASrH,MAAM3F,gBAAiBrB,GACnF20D,EAAY2M,KAAAA,YAAAA,QAAAA,KAAiCn9B,EAAI/iC,EAAY+qH,EAAUF,EAAYjxF,GACnF69F,EAAYJ,GAAWtlI,OAAO,CAClCwhE,EAAUmkE,QACVL,GAAWM,0BAA0B5M,KAEjC6M,EAAUvoI,KAAKue,IAAIxD,IAAIlL,QAAQoY,SAAS0kB,KAAK,CACjDqqC,OAAQh3E,KAAKue,IAAIxD,IAAIlL,QAAQoY,SAAS6kB,MAAM,CAC1CkqC,OAAQ,CACNhtC,OAAQO,EACRN,MAAOjqC,KAAKue,IAAIxD,IAAIlL,QAAQ06B,OAAOwxF,QAAQ,CACzCqM,EACApoI,KAAKue,IAAIvD,SAASrC,KAAKiF,SAASrH,MAAM4R,qBACtCvkB,GAAOC,KAAKP,EAAO3C,QAAQ,MAAO,IAAK,cAM/C+yC,EAAGnK,OAAOiyF,GAAYgN,aAAaD,EAAQE,QAC7C,GAEA,CAAA/kI,IAAA,eAAA6C,MASA,SAAaU,GAA8B,IACnCi1H,EAAiB,MAAHx5H,QADK3B,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,aACU8b,eAChCs/G,EAAan8H,KAAKue,IAAIxD,IAAIlL,QAAQusH,QAAQF,GAExCj5G,EAA6Dhc,EAA7Dgc,WAAY6sC,EAAiD7oD,EAAjD6oD,eAAgBtB,EAAiCvnD,EAAjCunD,mBAAoBE,EAAaznD,EAAbynD,SAClDnkB,EAASvqC,KAAKue,IAAIxD,IAAIlL,QAAQ06B,OAAOwxF,QAAQ,CAEjD/7H,KAAKue,IAAIxD,IAAIlL,QAAQusH,QAAQC,QAC7Bz4H,GAAOC,KAAK,KAAM,OAClB7D,KAAKue,IAAIxD,IAAIlL,QAAQusH,QAAQE,eAE7BH,EACAv4H,GAAOC,KAAKof,EAAY,OACxBjjB,KAAKue,IAAIxD,IAAIlL,QAAQusH,QAAQE,eAE7B14H,GAAOC,KAAK2qD,EAAoB,OAChCxuD,KAAKue,IAAIxD,IAAIlL,QAAQusH,QAAQG,SAC7Bv8H,KAAKue,IAAIxD,IAAIlL,QAAQusH,QAAQI,MAE7B54H,GAAOC,KAAK2qD,EAAoB,OAEhCxuD,KAAKue,IAAIxD,IAAIlL,QAAQusH,QAAQK,QAE7Bz8H,KAAKue,IAAIxD,IAAIlL,QAAQ06B,OAAO7/B,OAAOsxH,OAAOttE,GAC1C1uD,KAAKue,IAAIxD,IAAIlL,QAAQusH,QAAQM,uBAC7B18H,KAAKue,IAAIxD,IAAIlL,QAAQusH,QAAQO,QAC7B/4H,GAAOC,KAAKisD,EAAgB,OAE5B9vD,KAAKue,IAAIxD,IAAIlL,QAAQusH,QAAQQ,SAE7B58H,KAAKue,IAAIxD,IAAIlL,QAAQusH,QAAQS,cAM/B,MAAO,CACLhpF,cAJiB7zC,KAAKue,IAAIxD,IAAIlL,QAAQoY,SAAS0kB,KAAK,CAAEqqC,OAAQ,CAAEhtC,OAAQO,EAAQh7B,QAASvP,KAAKuP,SAAWA,QAASvP,KAAKuP,UACxFS,QAI/Bu6B,OAAAA,EAEJ,GAEA,CAAA7mC,IAAA,cAAA6C,OAAAmzH,GAAA14G,EAAAA,EAAAA,GAAAC,IAAAA,MAWA,SAAA0B,EAAkB1b,EAAMg2H,EAAUC,GAAQ,IAAA1uE,EAAAE,EAAAyuE,EAAAtpF,EAAAupF,EAAAvyF,EAAA0yF,EAAAtsF,EAAAusF,EAAAC,EAAA,OAAAx8G,IAAAA,MAAA,SAAAmC,GAAA,cAAAA,EAAAnb,KAAAmb,EAAA9c,MAAA,OAIc,OAH9CkoD,EAAiCvnD,EAAjCunD,mBAAoBE,EAAaznD,EAAbynD,SAAQyuE,EACFn9H,KAAKyvD,aAAaxoD,EAAMi2H,GAAlDrpF,EAAaspF,EAAbtpF,cAAqBspF,EAAN5yF,OAEjB6yF,EAAqBH,EAAStuE,YAAc,IAAIvrC,EAAA9c,KAAA,EAC/BtG,KAAKkqC,cAAc2J,GAAc,OAEwB,OAF1EhJ,EAAQznB,EAAA1B,KACR67G,EAAgBN,EAAS12H,MAAMwkC,aAAa,KAAKqG,eACjDH,EAAepG,EAAS7iC,QAAO,SAACupC,EAAI3uB,GAAY,OAAO2uB,EAAP3uB,EAARynB,QAA8B,GAAE,GAAEjnB,EAAA9c,KAAA,GAEhDtG,KAAK69H,wBAAwBhzF,EAAUuyF,GAAmB,QACQ,GAD5FI,EAAiBp6G,EAAA1B,KACjB+7G,EAAwBD,EAAkBx1H,QAAO,SAACupC,EAAI7uB,GAAY,OAAO6uB,EAAP7uB,EAAR2nB,QAA8B,GAAE,IAE5FkzF,EAAcnyF,cAAc6F,GAAe,CAAF7tB,EAAA9c,KAAA,gBAAA8c,EAAAnB,OAAA,mCAAAvf,OACV66H,EAAcjgG,WAAU,WAAA56B,OAAUuuC,EAAY,eAAAvuC,OAAcmxC,IAAa,aAExGopF,EAASvuE,SAAWA,GAAQ,CAAAtrC,EAAA9c,KAAA,gBAAA8c,EAAAnB,OAAA,sCAAAvf,OACMu6H,EAASvuE,SAAQ,WAAAhsD,OAAUgsD,EAAQ,eAAAhsD,OAAcmxC,IAAa,WAEhGopF,EAASzuE,qBAAuBA,EAAkB,CAAAprC,EAAA9c,KAAA,gBAAA8c,EAAAnB,OAAA,iDAAAvf,OACLu6H,EAASzuE,mBAAkB,WAAA9rD,OAAU8rD,IAAkB,YAEpG+uE,EAAcnyF,cAAcqyF,GAAwB,CAAFr6G,EAAA9c,KAAA,gBAAA8c,EAAAnB,OAAA,mCAAAvf,OACnB66H,EAAc/8H,WAAU,2BAAAkC,OAA0B06H,EAAkB,WAAA16H,OAAU+6H,EAAqB,eAAA/6H,OAAcmxC,IAAa,yBAAAzwB,EAAA/B,OAAA,GAAAsB,EAAA,UAElK,SAAA2pB,EAAAwC,EAAAO,GAAA,OAAAqqF,EAAA35G,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,aAAA6C,MASA,SAAWU,EAAM62H,EAAuBZ,GAAU,IAAA7gH,EAAA,KACxC8tC,EAAyBljD,EAAzBkjD,aAAct9B,EAAW5lB,EAAX4lB,OAEtB,OAAO,IAAI9L,QAAO,eAAA+C,GAAA9C,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAiD,EAAO/C,EAASiB,GAAM,IAAAsmH,EAAA70F,EAAA9wB,EAAA8nB,EAAAmG,EAAAgtF,EAAAvtF,EAAAQ,EAAA2gC,EAAA5vE,EAAA,OAAAif,IAAAA,MAAA,SAAAoD,GAAA,cAAAA,EAAApc,KAAAoc,EAAA/d,MAAA,OAKkC,OALlC+d,EAAApc,KAAA,EAAAygI,EAGXrsH,EAAKozC,aAAatF,EAAc+yE,GAAlDrpF,EAAa60F,EAAb70F,cAEF9wB,EAAe1G,EAAKkC,IAAIvD,SAASrC,KAAKiF,SAASrH,MAAM1F,aAAYwT,EAAA/d,KAAA,EAEhD+V,EAAK6tB,cAAcnnB,GAAa,OAEvD,OAFM8nB,EAAQxmB,EAAA3C,KACRsvB,EAAYnkB,EAAOke,aAAa,KAAKqG,eAAe9T,WAC1DjZ,EAAA/d,KAAA,EACyB+V,EAAK8+G,SAAS,CACrC1rF,YAAY,EACZz/B,QAAS+S,IACT,OAGmD,GAN/Ci7G,EAAU35G,EAAA3C,KAIV+uB,EAAWutF,EAAW5sF,eAAe9T,cACrC2T,EAAepG,EAAS7iC,QAAO,SAACupC,EAAI3tB,GAAY,OAAO2tB,EAAP3tB,EAARymB,QAA8B,GAAE,IAE3DoG,EAAWO,GAAS,CAAA3sB,EAAA/d,KAAA,eAC/B,IAAI/H,MAAM,wBAADmE,OAAyBuuC,EAAY,OAAAvuC,OAAM+tC,EAAQ,OAAA/tC,OAAMsuC,IAAY,QAWrF,OARK4gC,GAAc,IAAIf,KAAAA,cACrBhtE,KAAKgnC,GACL8F,GAAGkD,EAAe7C,GAClB8gC,OAAOz1D,EAAKkC,IAAIvD,SAASrC,KAAKiF,SAASrH,MAAM1F,cAC7CqoC,KAAK78B,EAAKkC,IAAIvD,SAASrC,KAAKiF,SAASrH,MAAM3F,iBAET,mBAA1BktH,GACTA,EAAsBlsD,EAAY+2D,WAAWh/F,MAC9CtlB,EAAApc,KAAA,GAAAoc,EAAA/d,KAAA,GAGsB+V,EAAKi3B,YAAY3zC,OAAOiyE,EAAYG,cAAa,QAAhE/vE,EAAMqiB,EAAA3C,KACZP,EAAQnf,GAAOqiB,EAAA/d,KAAA,iBAAA+d,EAAApc,KAAA,GAAAoc,EAAAZ,GAAAY,EAAA,UAGfjC,EAAMiC,EAAAZ,IAAK,QAAAY,EAAA/d,KAAA,iBAAA+d,EAAApc,KAAA,GAAAoc,EAAAilB,GAAAjlB,EAAA,SAIbjC,EAAMiC,EAAAilB,IAAK,yBAAAjlB,EAAAhD,OAAA,GAAA6C,EAAA,2BAEd,gBAAAosB,EAAAkB,GAAA,OAAA1tB,EAAA/D,MAAA,KAAAhf,UAAA,EA1CiB,GA2CpB,GAEA,CAAA2C,IAAA,aAAA6C,OAAAkzH,GAAAz4G,EAAAA,EAAAA,GAAAC,IAAAA,MAKA,SAAA4C,EAAiB5c,EAAMi2H,GAAQ,IAAAltH,EAAAquH,EAAAxqF,EAAAhJ,EAAAoG,EAAA,OAAAhwB,IAAAA,MAAA,SAAAgD,GAAA,cAAAA,EAAAhc,KAAAgc,EAAA3d,MAAA,UAGT,iBAATW,EAAiB,CAAAgd,EAAA3d,KAAA,QAC1B0J,EAAU/I,EAAIgd,EAAA3d,KAAA,mBAES,YAAhBwB,EAAAA,EAAAA,GAAOb,GAAiB,CAAAgd,EAAA3d,KAAA,QAAA+3H,EACLr+H,KAAKyvD,aAAaxoD,EAAMi2H,GAA1CrpF,EAAawqF,EAAbxqF,cAER7jC,EAAU6jC,EAAa5vB,EAAA3d,KAAA,sBAGjB,IAAI/H,MAAM,mBAAkB,eAAA0lB,EAAA3d,KAAA,GAGbtG,KAAKkqC,cAAcl6B,GAAQ,QACkE,OAD9G66B,EAAQ5mB,EAAAvC,KACRuvB,EAAepG,GAAYA,EAAS5qC,QAAU4qC,EAAS7iC,QAAO,SAACupC,EAAIlkB,GAAY,OAAOkkB,EAAPlkB,EAARgd,QAA8B,GAAE,IAAM,EAACpmB,EAAAhC,OAAA,SAE7GgvB,GAAY,yBAAAhtB,EAAA5C,OAAA,GAAAwC,EAAA,UACpB,SAAAqvB,EAAA4nC,GAAA,OAAA2+C,EAAA15G,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,4BAAA6C,OAAAizH,GAAAx4G,EAAAA,EAAAA,GAAAC,IAAAA,MAQA,SAAAsuB,EAAgCtoC,EAAMwiG,EAAUyzB,GAAS,IAAA/yE,EAAA7mD,EAAAgsD,EAAAC,EAAA+uE,EAAA/zF,EAAAsJ,EAAAhJ,EAAAmzF,EAAAvtF,EAAAQ,EAAAue,EAAA9b,EAAA6gF,EAAA7oF,EAAA3uB,EAAA,YAAAkE,IAAAA,MAAA,SAAAivB,GAAA,cAAAA,EAAAjoC,KAAAioC,EAAA5pC,MAAA,OAI1B,OAHrB6jD,EAA6CljD,EAA7CkjD,aAAc7mD,EAA+B2D,EAA/B3D,OAAQgsD,EAAuBroD,EAAvBqoD,mBACxBC,EAAeD,GAA2CtvD,KAAKue,IAAIvD,SAASrC,KAAKiF,SAASrH,MAAM1F,aAAYytH,EAEhFt+H,KAAKyvD,aAAatF,EAAc+yE,GAA1D3yF,EAAM+zF,EAAN/zF,OAAQsJ,EAAayqF,EAAbzqF,cAAa3D,EAAA5pC,KAAA,EACNtG,KAAKkqC,cAAc2J,GAAc,OAA1C,OAARhJ,EAAQqF,EAAAxuB,KAAAwuB,EAAA5pC,KAAG,EAEQtG,KAAKm7H,SAAS,CACrC1rF,YAAY,EACZz/B,QAAS6jC,IACT,OAE8E,GAL1EmqF,EAAU9tF,EAAAxuB,KAIV+uB,EAAWutF,EAAW5sF,eAAe9T,WACrC2T,EAAepG,EAAS7iC,QAAO,SAACupC,EAAIhkB,GAAY,OAAOgkB,EAAPhkB,EAAR8c,QAA8B,GAAE,IAE1E,IAAIhN,GAAAA,EAAU4T,GAAck1B,WAAW11B,GAAW,CAAFP,EAAA5pC,KAAA,YAEhB,mBAAvBtG,KAAK4zC,cAA4B,CAAA1D,EAAA5pC,KAAA,gBAAA4pC,EAAA5pC,KAAA,GAChBtG,KAAK4zC,cAAcC,GAAc,QAA1C,KAAX2b,EAAWtf,EAAAxuB,OAEZ8tC,EAAYx/C,QAAQjI,eAAiBwnD,EAAYxnD,cAAa,CAAAmoC,EAAA5pC,KAAA,gBAAA4pC,EAAAjuB,OAAA,SAG1D,CACLypB,KAAM8jB,EAAY7lB,KAClB40F,mBAAmB,IACpB,QAEoE,cAGjE,IAAIhgI,MAAM,wBAADmE,OAAyBuuC,EAAY,OAAAvuC,OAAM+tC,IAHa,QAAAP,EAAA5pC,KAAA,SAGF,QAuB1C,OAnBzBotC,EAAK,IAAIm9B,KAAAA,aAEX44B,GACF/1D,EAAGk1F,cAAcz+E,EAAauE,UAGhChb,EAAG7vC,KAAKgnC,GACR6I,EAAG/C,GAAG4e,EAAate,EAAeR,GAElCiD,EAAGnK,OAAOnoC,KAAI,SAACH,EAAGsG,GAAK,OACrBwV,EAAK2hH,iBAAiB,CACpBn0F,OAAAA,EACAjnC,OAAAA,EACAowC,GAAAA,GACCnsC,EAAM,IAILgtH,EAAQ7gF,EAAGlzC,WACXkrC,EAAOgI,EAAGi1F,WAAWzzG,KAAIgb,EAAAjuB,OAAA,SAEvB,CACLsyG,MAAAA,EACA7oF,KAAAA,IACD,yBAAAwE,EAAA7uB,OAAA,GAAAkuB,EAAA,UAEH,SAAA4uC,EAAAR,EAAAO,GAAA,OAAAs7C,EAAAz5G,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,4BAAA6C,OAAAgzH,GAAAv4G,EAAAA,EAAAA,GAAAC,IAAAA,MAQA,SAAAuvB,EAAgCvpC,EAAMwiG,GAAQ,IAAAl2D,EAAA,OAAAtyB,IAAAA,MAAA,SAAAkwB,GAAA,cAAAA,EAAAlpC,KAAAkpC,EAAA7qC,MAAA,cAAA6qC,EAAA7qC,KAAA,EACxBtG,KAAK2+H,0BAA0B13H,EAAMwiG,GAAS,OAAvD,OAALl2D,EAAKpC,EAAAzvB,KAAAyvB,EAAAlvB,OAAA,SAEJsxB,EAAMghF,OAAK,wBAAApjF,EAAA9vB,OAAA,GAAAmvB,EAAA,UACnB,SAAAi3C,EAAAF,GAAA,OAAAgyC,EAAAx5G,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,0BAAA6C,MAOA,SAAwBU,GACtB,OAAOjH,KAAK2+H,0BAA0B13H,GAAM,EAC9C,GAEA,CAAAvD,IAAA,0BAAA6C,OAAA8yH,GAAAr4G,EAAAA,EAAAA,GAAAC,IAAAA,MAOA,SAAAywB,EAA8BzqC,GAAI,IAAAssC,EAAA,OAAAtyB,IAAAA,MAAA,SAAAuxB,GAAA,cAAAA,EAAAvqC,KAAAuqC,EAAAlsC,MAAA,cAAAksC,EAAAlsC,KAAA,EACZtG,KAAKk/H,wBAAwBj4H,GAAK,OAA3C,OAALssC,EAAKf,EAAA9wB,KAAA8wB,EAAAvwB,OAAA,SAEJsxB,EAAMghF,OAAK,wBAAA/hF,EAAAnxB,OAAA,GAAAqwB,EAAA,UACnB,SAAA81C,GAAA,OAAA6xC,EAAAt5G,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,WAAA6C,MAUA,SAASU,EAAMwiG,EAAUyzB,GAAU,IAAA5/G,EAAA,KACjC,OAAO,IAAIyD,QAAO,eAAA0M,GAAAzM,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAA6/B,EAAO3/B,EAASiB,GAAM,IAAAmxB,EAAA90B,EAAA,OAAAwC,IAAAA,MAAA,SAAA+/B,GAAA,cAAAA,EAAA/4C,KAAA+4C,EAAA16C,MAAA,cAAA06C,EAAA/4C,KAAA,EAAA+4C,EAAA16C,KAAA,EAEjBgX,EAAKqhH,0BAA0B13H,EAAMwiG,EAAUyzB,GAAS,OAAjE,KAAL3pF,EAAKyN,EAAAt/B,MAED68G,kBAAmB,CAAFv9E,EAAA16C,KAAA,QACN,OAAnB6a,EAAQoyB,EAAM7H,MAAKsV,EAAA/+B,OAAA,iBAImC,OAAxD3B,KAAM,kBAANA,CAAyB,kBAAmBizB,EAAMghF,OAAMvzE,EAAA16C,KAAA,GAEnCgX,EAAKg2B,YAAYC,EAAMghF,OAAM,QAAtC,OAAAvzE,EAAAt/B,KAAAs/B,EAAA16C,KAAG,GAITojD,GAAAA,GAAAA,QAAAA,UAAuB,IAAG,eAAA1I,EAAA16C,KAAA,GAERgX,EAAK23G,QAAQ1hF,EAAM7H,MAAK,QAAjCsV,EAAAt/B,KAGbP,EAAQoyB,EAAM7H,OAEd9xB,QAAQ4J,KAAK,2BAA4B,0BACzCpB,EAAO,iCACR4+B,EAAA16C,KAAA,iBAAA06C,EAAA/4C,KAAA,GAAA+4C,EAAAv9B,GAAAu9B,EAAA,SAGDpnC,QAAQ4J,KAAK,2BAA4Bw9B,EAAAv9B,GAAM2rB,SAK7C3wB,EADEuiC,EAAAv9B,GAAM3c,KAAO,YAAYmH,KAAK+yC,EAAAv9B,GAAM3c,IAAI44B,MAC3B,eACN,sBAAsBzxB,KAAK+yC,EAAAv9B,GAAM2rB,SACtC,yBAAyBnhC,KAAK+yC,EAAAv9B,GAAM2rB,SACvB,mBAEA,gBAGL4R,EAAAv9B,GAGdrB,EAAO3D,GAAa,yBAAAuiC,EAAA3/B,OAAA,GAAAy/B,EAAA,mBAEvB,gBAAA4mC,EAAAG,GAAA,OAAAp6D,EAAA1N,MAAA,KAAAhf,UAAA,EA7CiB,GA8CpB,GAEA,CAAA2C,IAAA,UAAA6C,OAAA6yH,GAAAp4G,EAAAA,EAAAA,GAAAC,IAAAA,MAKA,SAAAu7B,EAAc05E,GAAI,IAAA7sF,EAAA,OAAApoB,IAAAA,MAAA,SAAAw7B,GAAA,cAAAA,EAAAx0C,KAAAw0C,EAAAn2C,MAAA,cAAAm2C,EAAAn2C,KAAA,EACKtG,KAAK0oC,YAAYwtF,GAAK,OAA/B,MAAN7sF,EAAMoT,EAAA/6B,OAEP2nB,EAAOD,eACPC,EAAOM,MACNN,EAAOM,KAAK5hC,eAAiBmuH,EAAKnuH,eAAc,CAAA00C,EAAAn2C,KAAA,eAAAm2C,EAAAx6B,OAAA,UAE7C,GAAI,cAAAw6B,EAAAx6B,OAAA,UAEN,GAAK,wBAAAw6B,EAAAp7B,OAAA,GAAAm7B,EAAA,UACb,SAAAoiF,GAAA,OAAAxF,EAAAr5G,MAAA,KAAAhf,UAAA,IACD,CAAA2C,IAAA,SAAA6C,MASA,SAAOU,EAAMi2H,GACX,OAAOl9H,KAAKk+F,SAASj3F,GAAM,EAAMi2H,EACnC,KAAC+K,CAAA,CA/hBY,CAAS5oH,GAAAA,IAmiBxB,Y,ykBCjfA,SAtDc,SAAAygH,IAAAplH,EAAAA,GAAAA,GAAAmuH,EAAA/I,GAAA,I,IAAAnlH,G,EAAAkuH,E,maACZ,SAAAA,EAAYjuH,GAAS,OAAAxO,EAAAA,GAAAA,GAAA,KAAAy8H,GAAAluH,EAAAtZ,KAAA,KAAAgW,GAAAA,GAAA,GAEduD,GAAO,IACV2gG,SAAU,OACV3rG,QAAS,OACTgY,SAAU,CACRQ,KAAM,CACJzT,KAAM,WACNvE,OAAQ,CACNwiE,cAAe,8BACfqiB,OAAQ,KACRvlF,MAAO,CACLmjE,OAAS,SACTC,QAAS,UAEXC,WAAY,GACZC,WAAY,EACZC,IAAK,MAGThlE,KAAM,CACJ0G,KAAM,WACNvE,OAAQ,CACNwiE,cAAe,8BACfqiB,OAAQ,KACRvlF,MAAO,CACLmjE,OAAS,SACTC,QAAS,UAEXC,WAAY,GACZC,WAAY,EACZC,IAAK,OAIX6mD,qBAAqB,EACrBC,wBAAwB,EACxBC,cAAc,EACdC,yBAAyB,EACzBC,eAAgB,SAAC5uF,GAKf,MAAO,CACL3B,KAFE2B,EAFF3B,KAKAc,KAHEa,EADFuoC,YAMJ,IAEJ,CAAC,OAAAxnE,EAAAA,GAAAA,GAAAw8H,EAAA,CAnDW,CAAS5P,I,ykBCAmC,IAGpD6P,GAAgB,SAAA5P,IAAAx+G,EAAAA,GAAAA,GAAAouH,EAAA5P,GAAA,IAysCnBiH,EA/BAC,EAdAC,EA7KAH,EAlDA6I,EAvEAxI,EAnLAyI,EAtCDvI,EAnBAC,EAzBCC,EAdDC,EAfAC,EAhBAC,EAhBAC,EAtBAC,EAZAC,EA5BAgI,EAZA/H,EA3CAC,EAxBAC,EA9BAC,EApCAC,EA/BAC,EAlCAC,EArBAC,EAzBApR,EA/DA6Y,EA3CCxH,EAbAC,E,IA/HmBhnH,G,EAAAmuH,E,maAsCpB,SAAAA,EAAYluH,GAAS,IAAAjO,EAGnB,IAHmBP,EAAAA,GAAAA,GAAA,KAAA08H,GACnBn8H,EAAAgO,EAAAtZ,KAAA,OAAO8X,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,2BAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,4BAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,0BAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAvBQwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBACFwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iCAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,0BAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAqrBfwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAKsB,SAAC8yE,GAAe,OACpC9yE,EAAKi1H,YAAY/kF,eAAe4iC,GAC7B1+C,MAAK,SAAA6+F,GACJ,IACE,IAAMiC,EAAUl1H,EAAKm1H,QAAQ17C,WAAWw5C,EAAS31F,OACjD,OAAOt9B,EAAKo1H,UAAUC,WAAWH,EAAQt4F,OAAO,IAAI9oC,MAAM,MAAM,EAClE,CAAE,MAAOnC,GAEP,YADAgiB,KAAM,kBAANA,CAAyB,mCAAqChiB,EAAI8wC,QAEpE,CACF,GAAE,SA5qB2BpuC,IAA3B4Z,EAAQgC,eACV,MAAM,IAAIre,MAAM,+DAElB,IAAKqc,EAAQjG,KACX,MAAM,IAAIpW,MAAM,qCAElB,IAAMmW,EAAS,IAAHhS,OAAOkY,EAAQgC,eAAeC,cAAa,KAAAna,OAAIkY,EAAQjG,KAAKkI,eACxE,IAAK3L,OAAOpL,OAAOgV,GAAAA,GAAAA,OAAiBT,SAAS3F,GAC3C,MAAM,IAAInW,MAAM,gDAElB,GAA+B,iBAApBqc,EAAQ5K,QACjB,MAAM,IAAIzR,MAAM,wCAElB,GAAgC,iBAArBqc,EAAQiiB,SACjB,MAAM,IAAIt+B,MAAM,yCAElB,IAAK6B,MAAMsxB,QAAQ9W,EAAQsoC,KACzB,MAAM,IAAI3kD,MAAM,oCAElB,GAAoC,iBAAzBqc,EAAQuuH,aACjB,MAAM,IAAI5qI,MAAM,6CAElB,IAAK6B,MAAMsxB,QAAQ9W,EAAQwuH,UACzB,MAAM,IAAI7qI,MAAM,yCAElB,QAA+ByC,IAA3B4Z,EAAQqnH,eACV,MAAM,IAAI1jI,MAAM,oBAADmE,OAAqBkY,EAAQgC,eAAc,0CAE5D,QAA6B5b,IAAzB4Z,EAAQsnH,aACV,MAAM,IAAI3jI,MAAM,oBAADmE,OAAqBkY,EAAQgC,eAAc,wCAE5D,QAA6B5b,IAAzB4Z,EAAQu3G,aACV,MAAM,IAAI5zH,MAAM,oBAADmE,OAAqBkY,EAAQgC,eAAc,wCAE5D,QAAsC5b,IAAlC4Z,EAAQw3G,sBACV,MAAM,IAAI7zH,MAAM,oBAADmE,OAAqBkY,EAAQgC,eAAc,iDAsBE,MApBtB,mBAA7BhC,EAAQkoC,kBAEjBlpC,QAAQ4J,KAAK,gHAIf7W,EAAKiO,QAAiBA,EACtBjO,EAAK+P,UAAiB9B,EAAQjG,KAAKkI,cACnClQ,EAAKiQ,eAAiBhC,EAAQgC,eAE9BjQ,EAAKqD,QAAiB4K,EAAQ5K,QAC9BrD,EAAKu2C,IAAiBtoC,EAAQsoC,IAC9Bv2C,EAAKkwB,SAAiBjiB,EAAQiiB,SAC9BlwB,EAAKw8H,aAAiBvuH,EAAQuuH,aAC9Bx8H,EAAKy8H,SAAiBxuH,EAAQwuH,SAE9Bz8H,EAAK05D,SAAiBzrD,EAAQyrD,UAAY,IAC1C15D,EAAKw1H,gBAAkBvnH,EAAQunH,iBAAmB,IAClDx1H,EAAKi2C,SAAiBhoC,EAAQgoC,UAAY,IAC1Cj2C,EAAKwmC,aAAiBv4B,EAAQu4B,aAC9BxmC,EAAKm2C,iBAAmBloC,EAAQkoC,kBAAqB,WAAO,EAAEn2C,CAEhE,CAynCC,OAznCAN,EAAAA,GAAAA,GAAAy8H,EAAA,EAAAplI,IAAA,YAAA6C,MAED,SAAUgY,GAIR,IAHA21C,EAAAA,GAAAA,IAAAC,EAAAA,GAAAA,GAAA20E,EAAAlpI,WAAA,kBAAAyB,KAAA,KAAgBkd,GAEhBve,KAAKue,IAAMA,EAC0C,mBAA1Cve,KAAKue,IAAIve,KAAK4a,QAAQqnH,gBAC/B,MAAM,IAAI1jI,MAAM,oBAADmE,OAAqB1C,KAAK4c,eAAc,wBAAAla,OAAuB1C,KAAK4a,QAAQqnH,eAAc,kBAE3G,GAAmD,mBAAxCjiI,KAAKue,IAAIve,KAAK4a,QAAQsnH,cAC/B,MAAM,IAAI3jI,MAAM,oBAADmE,OAAqB1C,KAAK4c,eAAc,wBAAAla,OAAuB1C,KAAK4a,QAAQsnH,aAAY,kBAEzG,GAAmD,mBAAxCliI,KAAKue,IAAIve,KAAK4a,QAAQu3G,cAC/B,MAAM,IAAI5zH,MAAM,oBAADmE,OAAqB1C,KAAK4c,eAAc,wBAAAla,OAAuB1C,KAAK4a,QAAQu3G,aAAY,kBAEzG,GAA4D,mBAAjDnyH,KAAKue,IAAIve,KAAK4a,QAAQw3G,uBAC/B,MAAM,IAAI7zH,MAAM,oBAADmE,OAAqB1C,KAAK4c,eAAc,wBAAAla,OAAuB1C,KAAK4a,QAAQw3G,sBAAqB,kBAGlHpyH,KAAK4hI,YAAc5hI,KAAKue,IAAIve,KAAK4a,QAAQqnH,gBAAgBziH,KAAKxf,KAAKue,IAAhDve,GACnBA,KAAK+hI,UAAY/hI,KAAKue,IAAIve,KAAK4a,QAAQsnH,cAAc1iH,KAAKxf,KAAKue,IAA9Cve,GACjBA,KAAKmyH,aAAenyH,KAAKue,IAAIve,KAAK4a,QAAQu3G,cAAc3yG,KAAKxf,KAAKue,KAClEve,KAAKoyH,sBAAwBpyH,KAAKue,IAAIve,KAAK4a,QAAQw3G,uBAAuB5yG,KAAKxf,KAAKue,KAEpFve,KAAK8hI,QAAiB,IAAIh9C,KAAJ,CAAqB9kF,KAAKkjD,KAChDljD,KAAKilD,SAAiB,IAAIjlD,KAAK4hI,YAAYz+E,SAASnjD,KAAKkjD,IAAKljD,KAAKgQ,SACnEhQ,KAAKoS,MAAiB,IAAIpS,KAAK4hI,YAAYz+E,SAASnjD,KAAKopI,SAAUppI,KAAKmpI,aAC1E,GAAC,CAAAzlI,IAAA,iBAAA6C,OAAAo7H,GAAA3gH,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAO,IAAA,OAAAP,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OAEiD,OAA/Cga,KAAM,0BAA2BtgB,KAAK4iD,UAASnhC,EAAAxZ,KAAA,EAAAwZ,EAAAnb,KAAA,EAGvBtG,KAAK8iD,iBAAiB,CAAE7T,MAAO,SAAS,OAA9DjvC,KAAK4iD,SAAQnhC,EAAAC,KAAAD,EAAAnb,KAAG,GAAH,aAAAmb,EAAAxZ,KAAG,EAAHwZ,EAAAgC,GAAAhC,EAAA,SAEbnB,KAAM,oBAAD5d,OAAqB1C,KAAK4c,eAAc,6BAAAla,OAA4B+e,EAAAgC,GAAI2rB,QAAO,+BAAA1sC,OAA8B1C,KAAK4iD,WAAW,QAGpItiC,KAAM,yBAA0BtgB,KAAK4iD,UAAS,yBAAAnhC,EAAAJ,OAAA,GAAAG,EAAA,kBAC/C,kBAAAmgH,EAAA5hH,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,OAAA6C,OAAAm7H,GAAA1gH,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAkB,EAAWogH,EAAYj2D,GAAI,IAAAk2D,EAAA1E,EAAA7hH,EAAA,KAAA45E,EAAA90F,UAAA,OAAAkgB,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,OAAqC,GAAnCk8H,EAAO3sC,EAAA51F,OAAA,QAAAe,IAAA60F,EAAA,GAAAA,EAAA,GAAG,CAAC,EAAGioC,EAAqBjoC,EAAA51F,OAAA,EAAA41F,EAAA,QAAA70F,EACb,mBAAtChB,KAAKilD,SAASK,QAAQi9E,GAA0B,CAAAlgH,EAAA/b,KAAA,cACnD,IAAI/H,MAAM,yBAADmE,OAA0B1C,KAAK4c,eAAc,gBAAAla,OAAe6/H,EAAU,iBAAe,cAAAlgH,EAAA/b,KAAA,EAGhGtG,KAAKyiI,iBAAgB,cAAApgH,EAAAJ,OAAA,SAEpB,IAAIlB,QAAO,eAAAxU,GAAAyU,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAC,EAAOC,EAASiB,GAAM,IAAAsgH,EAAAC,EAAAvyH,EAAAwyH,EAAA38D,EAAA,OAAAhlD,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OAO4C,OAN7E8J,EAAMiH,GAAA,CACVxT,KAAMoY,EAAKk2G,eACXvvE,SAAU3mC,EAAK2mC,UACZ4/E,GAGLliH,KAAM,oBAAD5d,OAAqBuZ,EAAKW,eAAc,QAAAla,OAAO6/H,EAAU,cAAcnyH,GAAOmR,EAAAjb,KAAA,GAE7Do8H,EAAAzmH,EAAKgpC,SAASK,SAAQi9E,GAAWxiH,MAAA2iH,GAAAt5G,EAAAA,EAAAA,GAAIkjD,IAAMkC,YAAYp+D,GAAO,OAGD,OAH/EwyH,EAASrhH,EAAAG,KACbtR,EAAY,IAAI,IAAIitB,GAAAA,EAAUulG,GAAW73F,aAAa9uB,EAAKkmH,iBAAiB/xF,GAAG,EAAG/S,GAAAA,EAAAA,UAAoBC,YAAcrhB,EAAKoqD,SAEzH/lD,KAAM,8CAAD5d,OAA+C6/H,EAAU,WAAWK,GAAUrhH,EAAAjb,KAAA,GAC7Dq8H,EAAA1mH,EAAKgpC,SAASK,SAAQi9E,GAAWxiH,MAAA4iH,GAAAv5G,EAAAA,EAAAA,GAAIkjD,IAAM3tC,KAAKvuB,GACnE23C,GAAG,mBAAmB,SAAC7yB,GACe,mBAA1B4oG,GACTA,EAAsB5oG,EAE1B,IAAE,OACK,SAAC/pB,GACNiX,EAAO,CAAEgtB,QAASjkC,EAAMikC,QAASwzF,UAAW,IAAIvlG,GAAAA,EAAUulG,GAAWn6F,UAAU,KAAKjoC,YACtF,IAAE,OAREylE,EAAO1kD,EAAAG,KAUbP,EAAQ8kD,GAAQ,yBAAA1kD,EAAAF,OAAA,GAAAH,EAAA,KACjB,gBAAAoB,EAAAC,GAAA,OAAAhW,EAAAwT,MAAA,KAAAhf,UAAA,EAxBiB,KAwBhB,wBAAAshB,EAAAhB,OAAA,GAAAc,EAAA,UACH,SAAAR,EAAAa,GAAA,OAAAk/G,EAAA3hH,MAAA,KAAAhf,UAAA,IASD,CAAA2C,IAAA,UAAA6C,OAAA2iI,GAAAloH,EAAAA,EAAAA,GAAAC,IAAAA,MACA,SAAA0B,EAAc1b,GAAI,IAAA62H,EAAAjxG,EAAAxpB,EAAAgmI,EAAAhtH,EAAA,KAAAitH,EAAAvoI,UAAA,OAAAkgB,IAAAA,MAAA,SAAAmC,GAAA,cAAAA,EAAAnb,KAAAmb,EAAA9c,MAAA,OAI6C,OAJ3Cw3H,EAA+BwL,EAAArpI,OAAA,QAAAe,IAAAsoI,EAAA,GAAAA,EAAA,GAAG,KAC5Cz8G,EAAW5lB,EAAX4lB,OAEFxpB,EAAM,IAAIg6B,GAAAA,EAAU,IAAIt+B,IAAIiB,KAAK68B,UACjCwsG,EAAY,IAAIhsG,GAAAA,EAAUxQ,GAAQ22B,MAAMngD,GAAK7C,WAAU4iB,EAAA9c,KAAA,EAEvDtG,KAAKyiI,iBAAgB,cAAAr/G,EAAAnB,OAAA,SAEpB,IAAIlB,QAAO,eAAArT,GAAAsT,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAa,EAAOX,EAASiB,GAAM,IAAAhS,EAAAwyH,EAAA5gI,EAAA,OAAAif,IAAAA,MAAA,SAAAe,GAAA,cAAAA,EAAA/Z,KAAA+Z,EAAA1b,MAAA,OAKpC,OALoC0b,EAAA/Z,KAAA,EAE/BmI,EAAS,CACbvM,KAAMwY,EAAK81G,eACXvvE,SAAUvmC,EAAKumC,UAChB5gC,EAAA1b,KAAA,EAEuB+V,EAAKjK,MAAMkzC,QAAQ8gB,QAAQ/pD,EAAKrM,QAASq5H,GAAW76D,YAAYp+D,GAAO,OAIlB,OAJvEwyH,EAAS5gH,EAAAN,KACftR,EAAY,IAAI,IAAIitB,GAAAA,EAAUulG,GAAW73F,aAAa1uB,EAAK8lH,iBAAiB/xF,GAAG,EAAG/S,GAAAA,EAAAA,UAAoBC,YAAcjhB,EAAKgqD,SAGzH/lD,KAAM,oBAAD5d,OAAqB2Z,EAAKO,eAAc,yBAAyBxM,GAAO4R,EAAA1b,KAAA,EAExD+V,EAAKjK,MAAMkzC,QAAQ8gB,QAAQ/pD,EAAKrM,QAASq5H,GAAW1qG,KAAKvuB,GAC3E23C,GAAG,mBAAmB,SAAC7yB,GACe,mBAA1B4oG,GACTA,EAAsB5oG,EAE1B,IAAE,OACK,SAAC/pB,GACNiX,EAAO,CAAEgtB,QAASjkC,EAAMikC,QAASwzF,UAAW,IAAIvlG,GAAAA,EAAUulG,GAAWn6F,UAAU,KAAKjoC,YACtF,IAAE,OAREwB,EAAMggB,EAAAN,KAUZP,EAAQnf,GAAOggB,EAAA1b,KAAA,iBAAA0b,EAAA/Z,KAAA,GAAA+Z,EAAAyB,GAAAzB,EAAA,SAGfI,EAAMJ,EAAAyB,IAAK,yBAAAzB,EAAAX,OAAA,GAAAS,EAAA,mBAEd,gBAAAyC,EAAA+nB,GAAA,OAAA5+B,EAAAqS,MAAA,KAAAhf,UAAA,EA5BiB,KA4BhB,wBAAAqiB,EAAA/B,OAAA,GAAAsB,EAAA,UACH,SAAAe,GAAA,OAAAwlH,EAAAnpH,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,iBAAA6C,MAMA,SAAeU,GAAuB,IAAA8V,EAAA,KAC5BgoC,EAAU99C,EAAV89C,MAER,OAAO,IAAIhkC,QAAO,eAAAc,GAAAb,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAiD,EAAO/C,EAASiB,GAAM,IAAApgB,EAAA,OAAAif,IAAAA,MAAA,SAAAoD,GAAA,cAAAA,EAAApc,KAAAoc,EAAA/d,MAAA,cAAA+d,EAAApc,KAAA,EAAAoc,EAAA/d,KAAA,EAEhByW,EAAK3K,MAAMkzC,QAAQC,UAAUR,EAAOhoC,EAAK/M,SAAS3O,KAAK,CAC1EwC,KAAMkZ,EAAKo1G,iBACX,OAFInwH,EAAMqiB,EAAA3C,KAIZP,EAAQnf,GAAOqiB,EAAA/d,KAAA,gBAAA+d,EAAApc,KAAA,EAAAoc,EAAAZ,GAAAY,EAAA,SAGfjC,EAAMiC,EAAAZ,IAAK,yBAAAY,EAAAhD,OAAA,GAAA6C,EAAA,kBAEd,gBAAA4qB,EAAAO,GAAA,OAAAxtB,EAAA9B,MAAA,KAAAhf,UAAA,EAXiB,GAYpB,GAEA,CAAA2C,IAAA,SAAA6C,OAAA8pH,GAAArvG,EAAAA,EAAAA,GAAAC,IAAAA,MASA,SAAA4C,EAAa5c,EAAM62H,GAAqB,OAAA78G,IAAAA,MAAA,SAAAgD,GAAA,cAAAA,EAAAhc,KAAAgc,EAAA3d,MAAA,WAEpCW,EAAKwrH,cAEFxrH,EAAKwrH,eAAexrH,EAAK6b,qBAE1B7b,EAAKwsH,kBAEJzzH,KAAKoiI,kBAAiB,CAAAn+G,EAAA3d,KAAA,eAAA2d,EAAAhC,OAAA,SAElBjiB,KAAKqiI,iBAAiBp7H,EAAM62H,IAAsB,cAAA75G,EAAAhC,OAAA,SAElDjiB,KAAKsiI,WAAWr7H,EAAM62H,IAAsB,wBAAA75G,EAAA5C,OAAA,GAAAwC,EAAA,UAEtD,SAAAysB,EAAAkB,GAAA,OAAA6+E,EAAAtwG,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,aAAA6C,OAAAk7H,GAAAzgH,EAAAA,EAAAA,GAAAC,IAAAA,MASA,SAAAsuB,EAAiBtoC,EAAM62H,GAAqB,IAAA76G,EAAAH,EAAA+J,EAAAxpB,EAAAgmI,EAAAn0G,EAAAo3C,EAAA,OAAArrD,IAAAA,MAAA,SAAAivB,GAAA,cAAAA,EAAAjoC,KAAAioC,EAAA5pC,MAAA,OAO6B,OAN/D2c,EAA2Chc,EAA3Cgc,WAAYH,EAA+B7b,EAA/B6b,mBAAoB+J,EAAW5lB,EAAX4lB,OAElCxpB,EAAM,IAAIg6B,GAAAA,EAAU,IAAIt+B,IAAIiB,KAAK68B,UACjCwsG,EAAY,IAAIhsG,GAAAA,EAAUxQ,GAAQ22B,MAAMngD,GAAK7C,WAE7C00B,EAAO,KAAHxyB,OAAQugB,EAAWtiB,QAAQ,MAAO,KACtC2rE,EAAO,CAAEp3C,EAAMpS,EAAoBumH,EAAWrpI,KAAKmpI,cAAcj5F,EAAAjuB,OAAA,SAEhEjiB,KAAK2+B,KAAK,aAAc,GAAFj8B,OAAM4pE,GAAO,CAAC,EAAGwxD,IAAsB,wBAAA5tF,EAAA7uB,OAAA,GAAAkuB,EAAA,UACrE,SAAA2D,EAAA4nC,GAAA,OAAA2mD,EAAA1hH,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,mBAAA6C,OAAAi7H,GAAAxgH,EAAAA,EAAAA,GAAAC,IAAAA,MASA,SAAAuvB,EAAuBvpC,EAAM62H,GAAqB,IAAA76G,EAAAH,EAAA+J,EAAA4lG,EAAApvH,EAAAgmI,EAAAn0G,EAAAo3C,EAAA,OAAArrD,IAAAA,MAAA,SAAAkwB,GAAA,cAAAA,EAAAlpC,KAAAkpC,EAAA7qC,MAAA,OAOqC,OAN7E2c,EAAyDhc,EAAzDgc,WAAYH,EAA6C7b,EAA7C6b,mBAAoB+J,EAAyB5lB,EAAzB4lB,OAAQ4lG,EAAiBxrH,EAAjBwrH,aAE1CpvH,EAAM,IAAIg6B,GAAAA,EAAU,IAAIt+B,IAAIiB,KAAK68B,UACjCwsG,EAAY,IAAIhsG,GAAAA,EAAUxQ,GAAQ22B,MAAMngD,GAAK7C,WAE7C00B,EAAO,KAAHxyB,OAAQugB,EAAWtiB,QAAQ,MAAO,KACtC2rE,EAAO,CAAEp3C,EAAMpS,EAAoB2vG,EAAc4W,EAAWrpI,KAAKmpI,cAAch4F,EAAAlvB,OAAA,SAE9EjiB,KAAK2+B,KAAK,mBAAoB,GAAFj8B,OAAM4pE,GAAO,CAAC,EAAGwxD,IAAsB,wBAAA3sF,EAAA9vB,OAAA,GAAAmvB,EAAA,UAC3E,SAAA2tC,EAAAR,GAAA,OAAA6jD,EAAAzhH,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,QAAA6C,MAOA,SAAMU,GACJ,IAAQ8b,EAAqC9b,EAArC8b,aAAcD,EAAuB7b,EAAvB6b,mBAEtB,OAAO9iB,KAAKilD,SAASK,QAAQxsC,MAAMiK,EAAcD,GAAoBzhB,MACvE,GAEA,CAAAqC,IAAA,kBAAA6C,OAAAg7H,GAAAvgH,EAAAA,EAAAA,GAAAC,IAAAA,MAOA,SAAAywB,EAAsBzqC,GAAI,IAAA0P,EAAA8S,EAAA,OAAAxI,IAAAA,MAAA,SAAAuxB,GAAA,cAAAA,EAAAvqC,KAAAuqC,EAAAlsC,MAAA,cAAAksC,EAAAlsC,KAAA,EACLtG,KAAK8Y,MAAM7R,GAAK,OAI8B,OAJ3D0P,EAAI67B,EAAA9wB,KAEVpB,KAAM,aAAc3J,GAEd8S,EAAU9S,GAAQA,EAAK8S,QAAU7qB,SAAS+X,EAAK8S,SAAW,EAAC+oB,EAAAvwB,OAAA,SAE1DwH,EAAU,GAAC,wBAAA+oB,EAAAnxB,OAAA,GAAAqwB,EAAA,UACnB,SAAAwsC,GAAA,OAAAqjD,EAAAxhH,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,aAAA6C,MAMA,SAAWU,GACT,IAAQ8b,EAAiB9b,EAAjB8b,aAER,OAAO/iB,KAAKilD,SAASK,QAAQhL,WAAWv3B,GAAc1hB,KAAK,CACzDwC,KAAM7D,KAAKmyH,gBAEf,GAEA,CAAAzuH,IAAA,eAAA6C,OAAA+6H,GAAAtgH,EAAAA,EAAAA,GAAAC,IAAAA,MAOA,SAAA6/B,EAAmB75C,GAAI,IAAA8b,EAAAD,EAAAy6G,EAAAuF,EAAAr5G,EAAA9S,EAAAsM,EAAA+wG,EAAA+O,EAAAzlH,EAAA,YAAA2D,IAAAA,MAAA,SAAA+/B,GAAA,cAAAA,EAAA/4C,KAAA+4C,EAAA16C,MAAA,OACgD,OAA7Dyc,EAAkE9b,EAAlE8b,aAAcD,EAAoD7b,EAApD6b,mBAAoBy6G,EAAgCt2H,EAAhCs2H,cAAeuF,EAAiB77H,EAAjB67H,aAAY9hF,EAAA16C,KAAA,EAE/CojD,GAAAA,GAAAA,QAAAA,wBAAoC,kBACxDpsC,EAAKg9B,WAAW,CAAEv3B,aAAAA,GAAe,IAClC,OAFY,OAAP0G,EAAOu3B,EAAAt/B,KAAAs/B,EAAA16C,KAAG,EAGGojD,GAAAA,GAAAA,QAAAA,wBAAoC,kBACrDpsC,EAAK2nC,SAASK,QAAQxsC,MAAMiK,EAAcD,GAAoBzhB,MAAM,IACrE,OAOsG,GATjGsV,EAAIqqC,EAAAt/B,KAIFuB,EAAetM,EAAfsM,WACR3C,KAAM,kBAANA,CAAyB,kBAAmB2C,GAEtC+wG,EAAc,GAAHtxH,OAAMugB,EAAWtiB,QAAQ,MAAO,KAEjD2f,KAAM,kBAANA,CAAyB,+BAAD5d,OAAgCogI,EAAY,sBAAApgI,OAAqBsxH,IAErF8O,IAAiB9O,EAAW,CAAAhzE,EAAA16C,KAAA,gBAAA06C,EAAA/+B,OAAA,2BAAAvf,OACLogI,EAAY,WAAApgI,OAAUsxH,IAAW,QAGqB,KAA3E+O,EAAmB,IAAI1lG,GAAAA,EAAUkgG,GAAexyF,aAAa/qC,KAAK68B,WAEnDuO,cAAc3hB,GAAU,CAAFu3B,EAAA16C,KAAA,gBAAA06C,EAAA/+B,OAAA,4BAAAvf,OACfqgI,EAAiBviI,WAAU,WAAAkC,OAAU+mB,IAAO,yBAAAu3B,EAAA3/B,OAAA,GAAAy/B,EAAA,UAEzE,SAAA2mC,GAAA,OAAA65C,EAAAvhH,MAAA,KAAAhf,UAAA,IAGD,CAAA2C,IAAA,kBAAA6C,OAAA86H,GAAArgH,EAAAA,EAAAA,GAAAC,IAAAA,MAIA,SAAAu7B,IAAA,IAAAwmF,EAAAj0E,EAAA,YAAA9tC,IAAAA,MAAA,SAAAw7B,GAAA,cAAAA,EAAAx0C,KAAAw0C,EAAAn2C,MAAA,WACMtG,KAAKijI,eAAgB,CAAFxmF,EAAAn2C,KAAA,eAAAm2C,EAAAx6B,OAAA,SAASjiB,KAAKijI,gBAAc,cAAAxmF,EAAAn2C,KAAA,EAEvBtG,KAAKilD,SAASi+E,cAAc,YAAa,CACnEC,UAAW,EACXC,QAAS,WACT,OAeiC,OAlB7BJ,EAAavmF,EAAA/6B,KAKnB1hB,KAAKilD,SAAShlC,OAAOojH,UAAU,CAAEF,UAAW,EAAGC,QAAS,WACrDr7E,GAAG,QAAQ,SAAA7nC,GACV6uC,EAAKk0E,eAAe/iI,KAAKggB,EAC3B,IACC6nC,GAAG,WAAW,SAAC7nC,GACdtG,QAAQzO,MAAM,2CACd4jD,EAAKk0E,eAAiB,IACxB,IACCl7E,GAAG,SAAS,SAAAzpD,GACXsb,QAAQzO,MAAM7M,GACdywD,EAAKk0E,eAAiB,IACxB,IAEFjjI,KAAKijI,eAAiBD,EAAavmF,EAAAx6B,OAAA,SAE5B+gH,GAAa,wBAAAvmF,EAAAp7B,OAAA,GAAAm7B,EAAA,UACrB,kBAAA6kF,EAAAthH,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,WAAA6C,OAAA66H,GAAApgH,EAAAA,EAAAA,GAAAC,IAAAA,MAMA,SAAAk7B,EAAel1C,GAAI,IAAAgc,EAAA+/G,EAAAM,EAAAC,EAAA97G,EAAAqB,EAAAwf,EAAA,OAAArnB,IAAAA,MAAA,SAAAs7B,GAAA,cAAAA,EAAAt0C,KAAAs0C,EAAAj2C,MAAA,OACC,OAAV2c,EAAehc,EAAfgc,WAAUs5B,EAAAj2C,KAAA,EAEUtG,KAAKwjI,kBAAiB,OAUjD,OAVKR,EAAazmF,EAAA76B,KAEb4hH,EAAaN,EAChB5zH,QAAO,SAAA8S,GAAe,OAAAA,EAAZuhH,aAAgCzP,cAAgB,KAALtxH,OAAUugB,EAAWtiB,QAAQ,KAAK,IAAK,IAAC4iI,GAAAG,EAAAA,GAAAA,GAE7DJ,GAA3B77G,EAAM87G,EAAA,GAAEz6G,EAAKy6G,EAAA,IAAKj7F,EAAIi7F,EAAAhiI,MAAA,KAElB+mC,EAAKroC,QACf2Z,QAAQzO,MAAM,qCAAsCm9B,GAErDiU,EAAAt6B,OAAA,SAEM,CAAEwF,EAAQqB,IAAO,wBAAAyzB,EAAAl7B,OAAA,GAAA86B,EAAA,UACzB,SAAAorC,GAAA,OAAA65C,EAAArhH,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,YAAA6C,OAAA46H,GAAAngH,EAAAA,EAAAA,GAAAC,IAAAA,MAOA,SAAAy7B,EAAgBz1C,GAAI,IAAA08H,EAAAC,EAAAn8G,EAAAqB,EAAA,OAAA7H,IAAAA,MAAA,SAAA27B,GAAA,cAAAA,EAAA30C,KAAA20C,EAAAt2C,MAAA,cAAAs2C,EAAAt2C,KAAA,EACctG,KAAK6jI,SAAS58H,GAAK,OAA9B,GAA8B08H,EAAA/mF,EAAAl7B,KAAAkiH,GAAAxuE,EAAAA,GAAAA,GAAAuuE,EAAA,GAA3Cl8G,EAAMm8G,EAAA,GAAE96G,EAAK86G,EAAA,GAEhBn8G,EAAQ,CAAFm1B,EAAAt2C,KAAA,SACoC,OAA7Cga,KAAM,qBAAD5d,OAAsBuE,EAAKgc,aAAa25B,EAAA36B,OAAA,SACtC,WAAS,YACPwF,GAAWqB,EAAK,CAAA8zB,EAAAt2C,KAAA,SACP,OAAlBga,KAAM,aAAYs8B,EAAA36B,OAAA,SACX,QAAM,WAEM,YAAf6G,EAAM5I,MAAmB,CAAA08B,EAAAt2C,KAAA,SACT,OAAlBga,KAAM,aAAYs8B,EAAA36B,OAAA,SACX,aAAW,WACM,UAAf6G,EAAM5I,MAAiB,CAAA08B,EAAAt2C,KAAA,SACjB,OAAfga,KAAM,UAASs8B,EAAA36B,OAAA,SACR,YAAU,QAEY,OAA7B3B,KAAM,wBAAuBs8B,EAAA36B,OAAA,SACtB,SAAO,yBAAA26B,EAAAv7B,OAAA,GAAAq7B,EAAA,UAGnB,SAAA8qC,GAAA,OAAA25C,EAAAphH,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,cAAA6C,MAMA,SAAYU,GACV,OAAOjH,KAAK8jI,UAAU78H,GACnB85B,MAAK,SAACy/C,GAAM,MACA,aAAXA,CAAqB,GAE3B,GAEA,CAAA98E,IAAA,eAAA6C,OAAA26H,GAAAlgH,EAAAA,EAAAA,GAAAC,IAAAA,MAMA,SAAAi8B,EAAmBj2C,GAAI,IAAAu5E,EAAA,OAAAv/D,IAAAA,MAAA,SAAAk8B,GAAA,cAAAA,EAAAl1C,KAAAk1C,EAAA72C,MAAA,cAAA62C,EAAA72C,KAAA,EACAtG,KAAK8jI,UAAU78H,GAAK,OAA7B,OAANu5E,EAAMrjC,EAAAz7B,KAAAy7B,EAAAl7B,OAAA,SACM,cAAXu+D,GAAsB,wBAAArjC,EAAA97B,OAAA,GAAA67B,EAAA,UAC9B,SAAAwqC,GAAA,OAAAw5C,EAAAnhH,MAAA,KAAAhf,UAAA,IAGD,CAAA2C,IAAA,oBAAA6C,OAAA0iI,GAAAjoH,EAAAA,EAAAA,GAAAC,IAAAA,MAKA,SAAA+9B,EAAwB/3C,GAAI,IAAA8b,EAAAD,EAAAnM,EAAAib,EAAAm7F,EAAA,YAAA9rG,IAAAA,MAAA,SAAAi+B,GAAA,cAAAA,EAAAj3C,KAAAi3C,EAAA54C,MAAA,OACc,OAAhCyc,EAAqC9b,EAArC8b,aAAcD,EAAuB7b,EAAvB6b,mBAAkBo8B,EAAA54C,KAAA,EAErBojD,GAAAA,GAAAA,QAAAA,wBAAoC,kBACrDqjE,EAAK9nE,SAASK,QAAQxsC,MAAMiK,EAAcD,GAAoBzhB,MAAM,IACrE,OAIkF,OAN7EsV,EAAIuoC,EAAAx9B,KAIFkQ,EAAUjb,EAAVib,MAERtR,KAAM,kBAANA,CAAyB,mCAAD5d,OAAoCkvB,EAAM/U,gBAAiBqiC,EAAAj9B,OAAA,SAE3EjiB,KAAKmpI,aAAatsH,eAAiB+U,EAAM/U,eAAa,wBAAAqiC,EAAA79B,OAAA,GAAA29B,EAAA,UAC/D,SAAA6oC,GAAA,OAAAohD,EAAAlpH,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,kBAAA6C,MAIA,WACE,QAASvG,KAAKilD,SAASK,QAAQy+E,eACjC,GAGA,CAAArgI,IAAA,kBAAA6C,OAAA06H,GAAAjgH,EAAAA,EAAAA,GAAAC,IAAAA,MAKA,SAAAq9B,EAAsBv7B,GAAoB,IAAA/S,EAAAwgH,EAAA,YAAAvvG,IAAAA,MAAA,SAAA69B,GAAA,cAAAA,EAAA72C,KAAA62C,EAAAx4C,MAAA,cAAAw4C,EAAAx4C,KAAA,EACZojD,GAAAA,GAAAA,QAAAA,wBAAoC,kBAC9D8mE,EAAKwT,uBAAuBjhH,EAAa,IAC1C,OAFkB,OAAf/S,EAAe8uC,EAAAp9B,KAAAo9B,EAAA78B,OAAA,SAGZjS,GAAO,wBAAA8uC,EAAAz9B,OAAA,GAAAi9B,EAAA,KACf,SAAAsgF,GAAA,OAAAqC,EAAAlhH,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,yBAAA6C,OAAAy6H,GAAAhgH,EAAAA,EAAAA,GAAAC,IAAAA,MAKA,SAAA66D,EAA6B/4D,GAAY,IAAAwmH,EAAA,YAAAtoH,IAAAA,MAAA,SAAA86D,GAAA,cAAAA,EAAA9zE,KAAA8zE,EAAAz1E,MAAA,OACmB,OAA1Dga,KAAM,kBAANA,CAAyB,iCAAiCy7D,EAAA95D,OAAA,SACnD,IAAIlB,QAAO,eAAA6B,GAAA5B,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAs+B,EAAOp+B,EAASiB,GAAM,IAAAqwG,EAAA,OAAAxxG,IAAAA,MAAA,SAAAw+B,GAAA,cAAAA,EAAAx3C,KAAAw3C,EAAAn5C,MAAA,cAAAm5C,EAAAx3C,KAAA,EAAAw3C,EAAAn5C,KAAA,EAEVijI,EAAKtkF,SAASK,QAAQy+E,gBAAgBhhH,GAAc1hB,KAAK,CAClFwC,KAAM0lI,EAAKpX,iBACX,OAFIM,EAAYhzE,EAAA/9B,KAGlBpB,KAAM,kBAANA,CAAyB,gCAAgCmyG,GAEzDtxG,EAAQsxG,GAAahzE,EAAAn5C,KAAA,gBAAAm5C,EAAAx3C,KAAA,EAAAw3C,EAAAh8B,GAAAg8B,EAAA,SAGrBr9B,EAAMq9B,EAAAh8B,IAAK,yBAAAg8B,EAAAp+B,OAAA,GAAAk+B,EAAA,kBAEd,gBAAAk/B,EAAAxD,GAAA,OAAAr4D,EAAA7C,MAAA,KAAAhf,UAAA,EAZiB,KAYhB,wBAAAg7E,EAAA16D,OAAA,GAAAy6D,EAAA,KACH,SAAA0C,GAAA,OAAAwiD,EAAAjhH,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,kBAAA6C,OAAAw6H,GAAA//G,EAAAA,EAAAA,GAAAC,IAAAA,MAQA,SAAAk+G,EAAsBl4H,GAAI,OAAAga,IAAAA,MAAA,SAAAm+G,GAAA,cAAAA,EAAAn3H,KAAAm3H,EAAA94H,MAAA,cAAA84H,EAAAn9G,OAAA,SACjBjiB,KAAKikI,qBAAqB,CAC/BlhH,aAAc9b,EAAK8b,aACnBD,mBAAoB9iB,KAAKmyH,eACzB7uH,OAAQ2D,EAAK3D,UACb,wBAAA87H,EAAA/9G,OAAA,GAAA89G,EAAA,UACH,SAAAjkD,GAAA,OAAA6lD,EAAAhhH,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,WAAA6C,OAAAu6H,GAAA9/G,EAAAA,EAAAA,GAAAC,IAAAA,MAQA,SAAAo+G,EAAep4H,EAAM62H,GAAqB,OAAA78G,IAAAA,MAAA,SAAAq+G,GAAA,cAAAA,EAAAr3H,KAAAq3H,EAAAh5H,MAAA,cAAAg5H,EAAAr9G,OAAA,SACjCjiB,KAAKkkI,cAAc,CACxBnhH,aAAc9b,EAAK8b,aACnBD,mBAAoB9iB,KAAKmyH,eACzB7uH,OAAQ2D,EAAK3D,QACXw6H,IAAsB,wBAAAwB,EAAAj+G,OAAA,GAAAg+G,EAAA,UAC3B,SAAArjD,EAAAC,GAAA,OAAA6kD,EAAA/gH,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,yBAAA6C,OAAAs6H,GAAA7/G,EAAAA,EAAAA,GAAAC,IAAAA,MAOA,SAAAu+G,EAA6Bv4H,GAAI,OAAAga,IAAAA,MAAA,SAAAy+G,GAAA,cAAAA,EAAAz3H,KAAAy3H,EAAAp5H,MAAA,cAAAo5H,EAAAz9G,OAAA,SACxBjiB,KAAKikI,qBAAqB,CAC/BlhH,aAAc/iB,KAAKmyH,eACnBrvG,mBAAoB7b,EAAK6b,mBACzBxf,OAAQ2D,EAAK3D,UACb,wBAAAo8H,EAAAr+G,OAAA,GAAAm+G,EAAA,UACH,SAAAD,GAAA,OAAAsB,EAAA9gH,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,kBAAA6C,OAAAq6H,GAAA5/G,EAAAA,EAAAA,GAAAC,IAAAA,MAQA,SAAAmjH,EAAsBn9H,EAAM62H,GAAqB,OAAA78G,IAAAA,MAAA,SAAAqjH,GAAA,cAAAA,EAAAr8H,KAAAq8H,EAAAh+H,MAAA,cAAAg+H,EAAAriH,OAAA,SACxCjiB,KAAKkkI,cAAc,CACxBnhH,aAAc/iB,KAAKmyH,eACnBrvG,mBAAoB7b,EAAK6b,mBACzBxf,OAAQ2D,EAAK3D,QACZw6H,IAAsB,wBAAAwG,EAAAjjH,OAAA,GAAA+iH,EAAA,UAC1B,SAAAzE,EAAA4E,GAAA,OAAA3D,EAAA7gH,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,uBAAA6C,OAAAo6H,GAAA3/G,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAujH,EAA2Bv9H,GAAI,IAAA8b,EAAAD,EAAAxf,EAAAkmI,EAAA,YAAAvoH,IAAAA,MAAA,SAAA0jH,GAAA,cAAAA,EAAA18H,KAAA08H,EAAAr+H,MAAA,OACmB,OAAxCyc,EAA6C9b,EAA7C8b,aAAcD,EAA+B7b,EAA/B6b,mBAAoBxf,EAAW2D,EAAX3D,OAAMqhI,EAAAr+H,KAAA,EAE1CtG,KAAKyiI,iBAAgB,cAAAkC,EAAA1iH,OAAA,SAEpB,IAAIlB,QAAO,eAAA2B,GAAA1B,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAA2jH,EAAOzjH,EAASiB,GAAM,IAAA2xG,EAAA3jH,EAAAwyH,EAAA,OAAA3hH,IAAAA,MAAA,SAAA4jH,GAAA,cAAAA,EAAA58H,KAAA48H,EAAAv+H,MAAA,OAMtC,OALKytH,EAAU,KAAHrxH,OAAQY,EAAO3C,QAAQ,MAAO,KAErCyP,EAAS,CACbvM,KAAM2lI,EAAKrX,eACXvvE,SAAU4mF,EAAK5mF,UAChBiiF,EAAA58H,KAAA,EAAA48H,EAAAv+H,KAAA,EAGyBkjI,EAAKvkF,SAASK,QAAQ4+E,cAAcnQ,EAAShxG,EAAcD,GAAoB0rD,YAAYp+D,GAAO,OAApHwyH,EAASiC,EAAAnjH,KACfP,EAAQ,IAAIkc,GAAAA,EAAUulG,GAAW73F,aAAay+F,EAAKrH,iBAAiB/xF,GAAG,EAAG/S,GAAAA,EAAAA,UAAoBC,YAAWunG,EAAAv+H,KAAA,gBAAAu+H,EAAA58H,KAAA,EAAA48H,EAAAphH,GAAAohH,EAAA,SAGzGjrH,QAAQzO,MAAM,uBAAsB05H,EAAAphH,IACpCtC,EAAQqoH,EAAKnjE,UAAS,yBAAAw+D,EAAAxjH,OAAA,GAAAujH,EAAA,kBAEzB,gBAAAY,EAAAH,GAAA,OAAA3iH,EAAA3C,MAAA,KAAAhf,UAAA,EAhBiB,KAgBhB,wBAAA4jI,EAAAtjH,OAAA,GAAAmjH,EAAA,UACH,SAAAO,GAAA,OAAApE,EAAA5gH,MAAA,KAAAhf,UAAA,IACD,CAAA2C,IAAA,gBAAA6C,OAAAm6H,GAAA1/G,EAAAA,EAAAA,GAAAC,IAAAA,MASA,SAAAkkH,EAAoBl+H,EAAM62H,GAAqB,IAAA/6G,EAAAD,EAAAxf,EAAAywH,EAAA,OAAA9yG,IAAAA,MAAA,SAAAmkH,GAAA,cAAAA,EAAAn9H,KAAAm9H,EAAA9+H,MAAA,OAGC,OAFtCyc,EAA6C9b,EAA7C8b,aAAcD,EAA+B7b,EAA/B6b,mBAAoBxf,EAAW2D,EAAX3D,OAEpCywH,EAAU,KAAHrxH,OAAQY,EAAO3C,QAAQ,MAAO,KAAGykI,EAAA9+H,KAAA,EAExCtG,KAAKyiI,iBAAgB,cAAA2C,EAAAnjH,OAAA,SAEpBjiB,KAAK2+B,KAAK,gBAAiB,CAAEo1F,EAAShxG,EAAcD,GAAsB,CAAC,EAAGg7G,IAAsB,wBAAAsH,EAAA/jH,OAAA,GAAA8jH,EAAA,UAC5G,SAAAQ,EAAAG,GAAA,OAAApF,EAAA3gH,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,SAAA6C,OAAAk6H,GAAAz/G,EAAAA,EAAAA,GAAAC,IAAAA,MAOA,SAAAqkH,EAAar+H,EAAM62H,GAAgC,IAAAh7G,EAAA,OAAA7B,IAAAA,MAAA,SAAAskH,GAAA,cAAAA,EAAAt9H,KAAAs9H,EAAAj/H,MAAA,OACvB,OAAlBwc,EAAuB7b,EAAvB6b,mBAAkByiH,EAAAj/H,KAAA,EAEpBtG,KAAKyiI,iBAAgB,cAAA8C,EAAAtjH,OAAA,SAEpBjiB,KAAK2+B,KAAK,SAAU,CAAE7b,GAAsB,CAAC,EAAGg7G,IAAsB,wBAAAyH,EAAAlkH,OAAA,GAAAikH,EAAA,UAC9E,SAAAc,EAAAI,GAAA,OAAA/F,EAAA1gH,MAAA,KAAAhf,UAAA,IAED,CAAA2C,IAAA,YAAA6C,MAMA,SAAUU,GAAM,IAAAwiI,EAAA,KACN3mH,EAAuB7b,EAAvB6b,mBAER,OAAO,IAAI/B,QAAO,eAAA+C,GAAA9C,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAA+jH,EAAO7jH,EAASiB,GAAM,IAAA9e,EAAAomI,EAAA,OAAAzoH,IAAAA,MAAA,SAAAikH,GAAA,cAAAA,EAAAj9H,KAAAi9H,EAAA5+H,MAAA,cAAA4+H,EAAAj9H,KAAA,EAAAi9H,EAAA5+H,KAAA,EAEhBmjI,EAAKxkF,SAASK,QAAQjiC,UAAUP,GAAoBzhB,KAAK,CAC5EwC,KAAM4lI,EAAKtX,iBACX,OAFI7uH,EAAM4hI,EAAAxjH,KAINgoH,EAAcpmI,IAAW,SAAS2K,KAAK3K,GAAUA,EAAS,KAEhE6d,EAAQuoH,GAAYxE,EAAA5+H,KAAA,gBAAA4+H,EAAAj9H,KAAA,EAAAi9H,EAAAzhH,GAAAyhH,EAAA,SAGpB9iH,EAAM8iH,EAAAzhH,IAAK,yBAAAyhH,EAAA7jH,OAAA,GAAA2jH,EAAA,kBAEd,gBAAAyC,EAAAD,GAAA,OAAA1jH,EAAA/D,MAAA,KAAAhf,UAAA,EAbiB,GAcpB,GAAC,CAAA2C,IAAA,oBAAA6C,OAAAyiI,GAAAhoH,EAAAA,EAAAA,GAAAC,IAAAA,MAqBD,SAAAglH,EAAAriH,GAAA,IAAArG,EAAAk2G,EAAAgR,EAAAx2E,EAAA9G,EAAAlkC,EAAA4pD,EAAA63D,EAAA7yB,EAAA1mD,EAAAw+E,EAAA,YAAA1oH,IAAAA,MAAA,SAAAklH,GAAA,cAAAA,EAAAl+H,KAAAk+H,EAAA7/H,MAAA,OAuCqB,OAtCnBiX,EAAIqG,EAAJrG,KACAk2G,EAAe7vG,EAAf6vG,gBAKMgR,EAAUzkI,MAAIiuD,EAMhB1wC,EAAK5G,MAJPqF,YACSiyC,EAAT7G,UACAD,EAAU8G,EAAV9G,WACW8G,EAAXlF,YAGM9lC,EAAe1F,EAAK+F,MAApBL,YAEF4pD,EAAW,CACf/pD,mBAAoB2hH,EAAQrS,sBAAsB70G,EAAK5G,MACvDsM,WAAAA,EACA4J,OAAQs6B,EACRsrE,aAAel1G,EAAK5G,KAAKkyC,uBACrBtrC,EAAK5G,KAAKkyC,uBACV47E,EAAQrS,sBAAsB70G,EAAK5G,MACvC88G,gBAAAA,EACAmW,SAAS,IAWFA,SAAU,EAGblF,EAAa,eAAAr3G,GAAArM,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAA2kH,IAAA,IAAArgF,EAAAJ,EAAA/V,EAAAwzF,EAAA,OAAA3hH,IAAAA,MAAA,SAAA4kH,GAAA,cAAAA,EAAA59H,KAAA49H,EAAAv/H,MAAA,OACO,GAAKiX,EAAK+F,MAA7BuuF,oBAEkB,CAAFg0B,EAAAv/H,KAAA,SAEyB,OAFzBu/H,EAAA59H,KAAA,EAEpBqY,KAAM,iBAANA,CAAwB,sBAAqBulH,EAAAv/H,KAAA,EAErBm+H,EAAQv+D,eAAe,CAC7CnhB,MAAO0/E,EAAQtS,iBACf,OAM6C,GARzC5sE,EAASsgF,EAAAnkH,KAITyjC,EAAkB,IAAI9nB,GAAAA,EAAUkoB,GACnCnV,GAAG,EAAG/S,GAAAA,EAAAA,UACN8S,IAAI,IAAI9S,GAAAA,EAAU,IAAIt+B,IAAI4qI,EAAK9sG,WAElCvc,KAAM,iBAANA,CAAwB,YAAailC,IAEjCJ,EAAgBghB,WAAWhf,GAAa,CAAF0+E,EAAAv/H,KAAA,SACuD,OAA/Fga,KAAM,iBAANA,CAAwB,+BAAgC6kC,EAAgB7nB,WAAY6pB,GAAW0+E,EAAAv/H,KAAA,GACzFm+H,EAAQr+D,QAAQ,CACpBv5C,OAAQs6B,IACR,QAGwC,OAA5C7mC,KAAM,iBAANA,CAAwB,qBAAoBulH,EAAAv/H,KAAA,GACnBiX,EAAKuxC,0BAAyB,QAAvC,IAAA+2E,EAAAnkH,KACA,CAAFmkH,EAAAv/H,KAAA,SAC4C,OAAxDsT,QAAQ4J,KAAK,4CAA2CqiH,EAAAv/H,KAAA,GAClDm+H,EAAQ3Q,OAAO,CACnBhxG,mBAAoB2hH,EAAQrS,sBAAsB70G,EAAK5G,QACtD,SAACmuH,GACFxkH,KAAM,iBAANA,CAAwB,wBAAyBwkH,EACnD,IAAE,eAAAe,EAAAv/H,KAAA,GAEEm+H,EAAQh9G,OAAOolD,EAAQ,eAAAt/C,GAAAvM,EAAAA,EAAAA,GAAAC,IAAAA,MAAE,SAAAwkH,EAAOvwG,GAAI,OAAAjU,IAAAA,MAAA,SAAAykH,GAAA,cAAAA,EAAAz9H,KAAAy9H,EAAAp/H,MAAA,OACxCga,KAAM,iBAANA,CAAwB,sBAAuB4U,GAC/C3X,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,sBACPjZ,KAAM,CACJ0kD,+BAAgCz2B,KAIpC3X,EAAK5G,KAAKiC,KAAKmvC,GAAG,wBAAwB,WACxCxqC,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,sBACPjZ,KAAM,CACJ0kD,+BAAgCz2B,IAGtC,IAEA3X,EAAKmtC,SAAS,CACZiB,+BAAgCz2B,EAChCyoF,yBAAyB,EACzBC,qBAAqB,IACpB,GAEHt9F,KAAM,iBAANA,CAAwB,gBAAiB4U,GAAK,wBAAAwwG,EAAArkH,OAAA,GAAAokH,EAAA,KAC/C,gBAAAoE,GAAA,OAAAt8G,EAAAxN,MAAA,KAAAhf,UAAA,EAzB4B,IAyB3B,QAAA8kI,EAAAv/H,KAAA,oBAAAu/H,EAAA59H,KAAA,GAAA49H,EAAApiH,GAAAoiH,EAAA,UAGEtoH,EAAK+F,MAAMqoC,+BAAgC,CAAFk6E,EAAAv/H,KAAA,SAKnC,OAJRsT,QAAQzO,MAAM,2CACdoS,EAAKmtC,SAAS,CACZizD,yBAAyB,EACzBC,qBAAqB,IACpB,GAAKioB,EAAA5jH,OAAA,UACD,GAAI,QAEa,GAAlBmtB,EAAOy2F,EAAApiH,GAAP2rB,QAASwzF,EAASiD,EAAApiH,GAATm/G,WAEZ,qBAAqB30H,KAAKmhC,GAAQ,CAAAy2F,EAAAv/H,KAAA,SAMnC,OALFsT,QAAQzO,MAAM,6BAADzI,OAA8BkgI,EAAS,gBAEpDrlH,EAAKmtC,SAAS,CACZizD,yBAAyB,EACzB/B,gBAAiBgnB,IACjBiD,EAAA5jH,OAAA,SAEK,MAAI,QACD,oBAAoBhU,KAAKmhC,GACnCx1B,QAAQzO,MAAM,aAADzI,OAAc0sC,IACjB,aAAanhC,KAAKmhC,GAC5Bx1B,QAAQzO,MAAM,8BAADzI,OAA+B0sC,IAClC,6BAA6BnhC,KAAKmhC,GAC5Cx1B,QAAQzO,MAAM,uCAADzI,OAAwC0sC,KAC3C,0CAA0CnhC,KAAKmhC,IAE/C,sCAAsCnhC,KAAKmhC,GADrDx1B,QAAQzO,MAAK06H,EAAApiH,KAKd,QAKC,OAHFlG,EAAKmtC,SAAS,CACZkzD,qBAAqB,EACrBC,yBAA0BgoB,EAAApiH,GAAM2rB,UAChCy2F,EAAA5jH,OAAA,SAEK,MAAI,eAAA4jH,EAAA5jH,OAAA,UAIR,GAAI,yBAAA4jH,EAAAxkH,OAAA,GAAAukH,EAAA,mBACZ,kBAzGkB,OAAAv4G,EAAAtN,MAAA,KAAAhf,UAAA,KAAAolI,EAAA7/H,KAAG,EA2GYojD,GAAAA,GAAAA,QAAAA,wBAAoC,kBACpEg7E,GAAe,IAChB,OAFK7yB,EAAmBs0B,EAAAzkH,KAIjBypC,EAAkB5tC,EAAK+F,MAAvB6nC,cAEJ0mD,IAAwB1mD,IAC1B7qC,KAAM,iBAANA,CAAwB,eACxB/C,EAAKitC,WAAW,CACdqnD,oBAAAA,GACC,CAAC59E,KAAM,cACX,yBAAAkyG,EAAA9kH,OAAA,GAAA4kH,EAAA,UACF,SAAA6D,GAAA,OAAAd,EAAAjpH,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,wBAAA6C,OAAAg6H,GAAAv/G,EAAAA,EAAAA,GAAAC,IAAAA,MAGD,SAAAkmH,EAAA15G,GAAA,IAAAlQ,EAAAknH,EAAAQ,EAAAjiH,EAAAyvF,EAAA,OAAAxxF,IAAAA,MAAA,SAAAqmH,GAAA,cAAAA,EAAAr/H,KAAAq/H,EAAAhhI,MAAA,OAoCwB,OAnCtBiX,EAAIkQ,EAAJlQ,KAIMknH,EAAUzkI,KAEhBud,EAAK5G,KAAKiC,KAAK+0C,KAAK,oBAAmB,eAAA9/B,GAAA7M,EAAAA,EAAAA,GAAAC,IAAAA,MAAE,SAAA8kH,EAAAp4G,GAAA,IAAA5J,EAAAC,EAAA,OAAA/C,IAAAA,MAAA,SAAA+kH,GAAA,cAAAA,EAAA/9H,KAAA+9H,EAAA1/H,MAAA,OAG/B,OAHuCyd,EAA8B4J,EAA9B5J,+BAC/CxG,EAAKmtC,SAAS,CACZ3mC,+BAAAA,IACC,GAAKiiH,EAAA1/H,KAAA,EAEuBojD,GAAAA,GAAAA,QAAAA,oBAAiC,CAC9DnsC,KAAAA,EACAsF,SAAUtF,EAAKigG,aACfj/F,IAAKhB,EAAKgB,IACVwF,+BAAAA,IACA,OALIC,EAAgBgiH,EAAAtkH,MAOKnE,EAAK+F,MAAxBmvF,gBAEezuF,IACrB1D,KAAM,iBAANA,CAAwB,qBAAsByD,EAAgCC,GAC9EzG,EAAKitC,WAAW,CACdioD,gBAAgB,EAChBnvG,OAAQ0gB,GACP,CAACiQ,KAAM,uBACX,wBAAA+xG,EAAA3kH,OAAA,GAAA0kH,EAAA,KACF,gBAAAgE,GAAA,OAAAl8G,EAAA9N,MAAA,KAAAhf,UAAA,EArBsC,IAuBvCwc,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,8BAGe3C,EAAK5G,KAArBqF,YAEFipH,EAAgB,eAAAl3G,GAAA/M,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAolH,IAAA,OAAAplH,IAAAA,MAAA,SAAAslH,GAAA,cAAAA,EAAAt+H,KAAAs+H,EAAAjgI,MAAA,cAAAigI,EAAAjgI,KAAA,EACVojD,GAAAA,GAAAA,QAAAA,0BAAuC,CAClDnsC,KAAAA,EACAsF,SAAU4hH,EACV3hH,mBAAoBvF,EAAK60G,sBAAsB70G,EAAK5G,MACpDoM,aAAcxF,EAAK40G,eACnB5zG,IAAKhB,EAAKgB,MACV,cAAAgoH,EAAAtkH,OAAA,SAAAskH,EAAA7kH,MAAA,wBAAA6kH,EAAAllH,OAAA,GAAAglH,EAAA,KACH,kBARqB,OAAAt4G,EAAAhO,MAAA,KAAAhf,UAAA,KAAAumI,EAAAhhI,KAAG,EAUQojD,GAAAA,GAAAA,QAAAA,wBAAoC,SAAC0E,GACpE,IAAAjqC,EAAuC5G,EAAK+F,MAApCmvF,EAActuF,EAAdsuF,eAAgBpnD,EAAUlnC,EAAVknC,WAExB,OAAIonD,GAAkBpnD,GACpB+C,KAEO,GAGF62E,GACT,IAAE,OAVIjiH,EAAkBskH,EAAA5lH,KAYhB+wF,EAAmBl1F,EAAK+F,MAAxBmvF,eAEJzvF,IAAuByvF,IACzBnyF,KAAM,iBAANA,CAAwB,iCAAkC0C,GAE1DzF,EAAKitC,WAAW,CACdioD,gBAAgB,EAChBnvG,OAAQ0f,GACP,CAAEiR,KAAM,uBACZ,yBAAAqzG,EAAAjmH,OAAA,GAAA8lH,EAAA,UACF,SAAA6C,GAAA,OAAAzJ,EAAAxgH,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,sBAAA6C,OAAAwiI,GAAA/nH,EAAAA,EAAAA,GAAAC,IAAAA,MAGD,SAAAwlH,EAAAx4G,GAAA,IAAA1Q,EAAAkxC,EAAA,OAAAxtC,IAAAA,MAAA,SAAA8lH,GAAA,cAAAA,EAAA9+H,KAAA8+H,EAAAzgI,MAAA,OAkCI,OAjCFiX,EAAI0Q,EAAJ1Q,KACAkxC,EAAQxgC,EAARwgC,SAOAlxC,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,yBAGT3C,EAAK5G,KAAKiC,KAAK+0C,KAAK,WAADjrD,OAAY+rD,EAAQ,YAAW,WAChD,IAAAW,EAGI7xC,EAAK+F,MAFW6mC,EAAYiF,EAA9BhF,iBACmColB,EAAMpgB,EAAzC9E,kCAGF/sC,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,UAAFxd,OAAa+rD,EAAQ,WAC1BxnD,KAAM,CACJkjD,aAAAA,EACAG,kCAAmCklB,IAGzC,IAEwBjyD,EAAK5G,KAArBqF,YAERuB,EAAK5G,KAAKiC,KAAKmvC,GAAG,uBAAuB,SAAA9K,GAAwC,IAArC0O,EAA8B1O,EAA9B0O,+BAC1CpuC,EAAKmtC,SAAS,CACZiB,+BAAAA,IACC,EACL,IAAEo7E,EAAAzgI,KAAA,EAEgCtG,KAAK60H,iBAAiBt3G,GAAK,OAApCwpH,EAAArlH,OAGSnE,EAAK+F,MAA7BuuF,qBAGNt0F,EAAKitC,WAAW,CACdqnD,qBAAqB,GACpB,CAAE59E,KAAM,mBAEd,yBAAA8yG,EAAA1lH,OAAA,GAAAolH,EAAA,UACF,SAAAwD,GAAA,OAAAlB,EAAAhpH,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,yBAAA6C,OAAA25H,GAAAl/G,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAipH,EAAA7rF,GAAA,IAAA9gC,EAAAknH,EAAAiC,EAAAt/E,EAAAmvE,EAAAtzG,EAAA3f,EAAA2D,EAAA2/H,EAAAnU,EAAA6T,EAAAO,EAAAC,EAAA,OAAA7lH,IAAAA,MAAA,SAAAkpH,GAAA,cAAAA,EAAAliI,KAAAkiI,EAAA7jI,MAAA,OAYG,OAXDiX,EAAI8gC,EAAJ9gC,KAIMknH,EAAUzkI,KAAI0mI,EACenpH,EAAK5G,KAAhCywC,EAASs/E,EAATt/E,UAAsBs/E,EAAX1qH,YAAWu6G,EACCh5G,EAAK+F,MAA5BL,EAAUszG,EAAVtzG,WAAY3f,EAAMizH,EAANjzH,OAEd2D,EAAO,CACX8b,aAAcxF,EAAK60G,sBAAsB70G,EAAK5G,MAC9CrT,OAAAA,GACD6mI,EAAA7jI,KAAA,EAE+Bm+H,EAAQuC,aAAa,CACnDjkH,aAAcxF,EAAK60G,sBAAsB70G,EAAK5G,MAC9CmM,mBAAoBvF,EAAK40G,eACzBoL,cAAen2E,EACf07E,aAAc7/G,IACd,OALqB,KAAjB2jH,EAAiBuD,EAAAzoH,MAOA,CAAFyoH,EAAA7jI,KAAA,SAEoD,OADvEsT,QAAQzO,MAAM,kDAAmDy7H,GACjErpH,EAAK5G,KAAKsJ,OAAO4nC,SAAS,0BAA2B++E,GAAkBuD,EAAAloH,OAAA,sBAKrEwiH,EAAQrC,kBAAmB,CAAF+H,EAAA7jI,KAAA,gBAAA6jI,EAAA7jI,KAAA,GACAm+H,EAAQV,gBACjCxmH,EAAK60G,sBAAsB70G,EAAK5G,OACjC,QAGsB,GALjB87G,EAAY0X,EAAAzoH,KAGZ4kH,EAAoB/oH,EAAK5G,KAAKiyC,sBAChCrrC,EAAK5G,KAAKiyC,sBACVrrC,EAAK40G,eAELM,EAAa1qH,eAAiBu+H,EAAiBv+H,cAAa,CAAAoiI,EAAA7jI,KAAA,SAU5D,OATFsT,QAAQzO,MACN,uFACAm7H,EACA7T,GAGFl1G,EAAK5G,KAAKsJ,OAAO4nC,SAAS,6BAA8B,CACtDo/E,OAAQX,EACRY,OAAQzU,IACR0X,EAAAloH,OAAA,yBAAAkoH,EAAA7jI,KAAA,GAM4Bm+H,EAAQ/O,kBAAkB,CAC1D3yG,aAAcxF,EAAK60G,sBAAsB70G,EAAK5G,MAC9CmM,mBAAoBvF,EAAK40G,iBACzB,QAHuB,GAAAgY,EAAAzoH,KAKC,CAAFyoH,EAAA7jI,KAAA,SAC2D,OAAjFsT,QAAQzO,MAAM,oEAAmEg/H,EAAAloH,OAAA,kBA2BlE,OAvBX4kH,EAAkB,WACtBtpH,EAAK5G,KAAKiC,KAAK+0C,KAAK,6BAA6B,WAC/C,IAAQ5pC,EAAmCxG,EAAK+F,MAAxCS,+BAERxG,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,oBACPjZ,KAAM,CACJ8c,+BAAAA,IAGN,IAEiBxG,EAAK+F,MAAd2Q,MAEI,GAIZ1W,EAAKitC,WAAW,CACdioD,gBAAgB,GACf,eACL,EAEMq0B,EAAW,eAAA/nF,GAAA/9B,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAmpH,EAAOhD,GAAY,IAAAC,EAAA,OAAApmH,IAAAA,MAAA,SAAAopH,GAAA,cAAAA,EAAApiI,KAAAoiI,EAAA/jI,MAAA,OACf,GAAKiX,EAAK+F,MAAxBmvF,eAEa,CAAF43B,EAAA/jI,KAAA,SAEI,GAFJ+jI,EAAApiI,KAAA,EAESsV,EAAK+F,MAArBkxG,YAEU,CAAF6V,EAAA/jI,KAAA,gBAAA+jI,EAAA/jI,KAAA,EACkBm+H,EAAQ8C,gBAAgB,CACtDxkH,aAAc9b,EAAK8b,aACnBzf,OAAAA,IACA,OAHI+jI,EAAiBgD,EAAA3oH,KAIvBnE,EAAKmtC,SAAS,CACZ8pE,YAAa6S,IAEf/mH,KAAM,iBAANA,CAAwB,mBAAoB+mH,GAAkB,eAAAgD,EAAA/jI,KAAA,GAG1Dm+H,EAAQvmC,SAASj3F,GAAM,SAACiuB,GAC5B3X,EAAKmtC,SAAS,CACZ+nD,gBAAgB,EAChB1uF,+BAAgCmR,EAChCyoF,yBAAyB,EACzBrwD,oBAAoB,IACnB,GAEH/vC,EAAK5G,KAAKiC,KAAKwvC,YAAY,CACzBloC,MAAO,oBACPjZ,KAAM,CACJ8c,+BAAgCmR,IAGtC,IAAE,QAEY,OAAdkyG,IAAciD,EAAApoH,OAAA,UACP,GAAI,WAAAooH,EAAApiI,KAAA,GAAAoiI,EAAA5mH,GAAA4mH,EAAA,UAEN,oBAAoBp8H,KAAKo8H,EAAA5mH,GAAI2rB,SAAQ,CAAAi7F,EAAA/jI,KAAA,SAE1B,OADdsT,QAAQzO,MAAM,aAADzI,OAAc2nI,EAAA5mH,GAAI2rB,UAC/Bg4F,IAAciD,EAAApoH,OAAA,UACP,GAAI,QACD,aAAahU,KAAKo8H,EAAA5mH,GAAI2rB,SAChCx1B,QAAQzO,MAAM,8BAADzI,OAA+B2nI,EAAA5mH,GAAI2rB,UACtC,6BAA6BnhC,KAAKo8H,EAAA5mH,GAAI2rB,UAChDx1B,QAAQzO,MAAM,8BAADzI,OAA+B2nI,EAAA5mH,GAAI2rB,UAEhD9uB,KAAM,iBAANA,CAAwB,4EAEO/C,EAAK+F,MAA5BgqC,qBAGN/vC,EAAK5G,KAAKiC,KAAK+0C,KAAK,kBAAkB,SAAArO,GAAsC,IAApCv7B,EAA8Bu7B,EAA9Bv7B,+BACtCxG,EAAKmtC,SAAS,CACZ3mC,+BAAAA,IAGF8iH,GACF,IAEAtpH,EAAKmtC,SAAS,CACZ4C,oBAAoB,MAKxB1zC,QAAQzO,MAAKk/H,EAAA5mH,IACd,QAIC,OAFFlG,EAAKmtC,SAAS,CACZizD,yBAAyB,IACzB0sB,EAAApoH,OAAA,SAEK,MAAI,eAAAooH,EAAApoH,OAAA,UAIR,GAAI,yBAAAooH,EAAAhpH,OAAA,GAAA+oH,EAAA,mBACZ,gBA7EgBE,GAAA,OAAAvrF,EAAAh/B,MAAA,KAAAhf,UAAA,KAAAopI,EAAA7jI,KAAG,GA+ESojD,GAAAA,GAAAA,QAAAA,wBAAoC,SAAC09E,GAAY,OAC5EN,EAAYM,EAAa,IAC1B,QAFmB+C,EAAAzoH,MAKlBmlH,IACD,yBAAAsD,EAAA9oH,OAAA,GAAA6oH,EAAA,UACF,SAAAK,GAAA,OAAArK,EAAAngH,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,gBAAA6C,OAAA85H,GAAAr/G,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAupH,EAAoBvjI,GAAI,IAAA8b,EAAAD,EAAAG,EAAAtM,EAAA8zH,EAAA,YAAAxpH,IAAAA,MAAA,SAAAypH,GAAA,cAAAA,EAAAziI,KAAAyiI,EAAApkI,MAAA,OAIV,OAFVyc,EAGE9b,EAHF8b,aACAD,EAEE7b,EAFF6b,mBACAG,EACEhc,EADFgc,WAAUynH,EAAApkI,KAAA,EAGOojD,GAAAA,GAAAA,QAAAA,wBAAoC,WACrD,OAAO+gF,EAAKxlF,SAASK,QAAQxsC,MAAMiK,EAAcD,GAAoBzhB,MACvE,IAAE,OAFQ,OAAJsV,EAAI+zH,EAAAhpH,KAAAgpH,EAAAzoH,OAAA,SAIFtL,GAAQA,EAAKsM,YAActM,EAAKsM,aAAe,KAALvgB,OAAUugB,IAAY,wBAAAynH,EAAArpH,OAAA,GAAAmpH,EAAA,KACzE,SAAAG,GAAA,OAAAtK,EAAAtgH,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,mBAAA6C,OAAA65H,GAAAp/G,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAA2pH,EAAuBrtH,GAAI,IAAAknH,EAAAr9E,EAAA,OAAAnmC,IAAAA,MAAA,SAAA4pH,GAAA,cAAAA,EAAA5iI,KAAA4iI,EAAAvkI,MAAA,OAER,OADXm+H,EAAUzkI,KACRonD,EAAc7pC,EAAK5G,KAAnBywC,UAASyjF,EAAAvkI,KAAA,EAEiBojD,GAAAA,GAAAA,QAAAA,wBAAmC1oC,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAA6pH,IAAA,IAAArhH,EAAApmB,EAAA6iI,EAAA,OAAAjlH,IAAAA,MAAA,SAAA8pH,GAAA,cAAAA,EAAA9iI,KAAA8iI,EAAAzkI,MAAA,cAAAykI,EAAAzkI,KAAA,EAC9Cm+H,EAAQnqF,WAAW,CACvCv3B,aAAcxF,EAAK60G,sBAAsB70G,EAAK5G,QAC9C,OAK4D,GAPxD8S,EAAOshH,EAAArpH,KAIPre,EAAM,IAAIg6B,GAAAA,EAAU,IAAIt+B,IAAI0lI,EAAQ5nG,UACpCqpG,EAAsB,IAAI7oG,GAAAA,EAAU+pB,GAAW5D,MAAMngD,GAE3Did,KAAM,iBAANA,CAAwB,6BAA8BmJ,IAElD,IAAI4T,GAAAA,EAAU5T,GAAS8hB,uBAAuB26F,GAAsB,CAAF6E,EAAAzkI,KAAA,gBAAAykI,EAAA9oH,OAAA,UAC7D,GAAI,QAEPwH,EAAU,GACZ7P,QAAQ4J,KAAK,4EAAD9gB,OAA6E+mB,EAAO,aAAA/mB,OAAYwjI,EAAoB1lI,aACjI,eAAAuqI,EAAA9oH,OAAA,UAGI,GAAK,yBAAA8oH,EAAA1pH,OAAA,GAAAypH,EAAA,MACZ,OAnBuB,IAAAD,EAAAnpH,KAqBA,CAAFmpH,EAAAvkI,KAAA,eAAAukI,EAAA5oH,OAAA,UACd,GAAI,cAAA4oH,EAAA5oH,OAAA,UAEN,GAAK,wBAAA4oH,EAAAxpH,OAAA,GAAAupH,EAAA,UACb,SAAAI,GAAA,OAAA5K,EAAArgH,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,qBAAA6C,OAAA45H,GAAAn/G,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAgqH,EAAAltD,GAAA,IAAAxgE,EAAAk1G,EAAA6T,EAAA,OAAArlH,IAAAA,MAAA,SAAAiqH,GAAA,cAAAA,EAAAjjI,KAAAijI,EAAA5kI,MAAA,OACM,GAAJiX,EAAIwgE,EAAJxgE,MAIIvd,KAAKoiI,kBAAmB,CAAF8I,EAAA5kI,KAAA,eAAA4kI,EAAA5kI,KAAA,EACGtG,KAAK+jI,gBAC9B/jI,KAAKoyH,sBAAsB70G,EAAK5G,OACjC,OAGsB,GALjB87G,EAAYyY,EAAAxpH,KAGZ4kH,EAAoB/oH,EAAK5G,KAAKiyC,sBAChCrrC,EAAK5G,KAAKiyC,sBACV5oD,KAAKmyH,eAELM,EAAa1qH,gBAAkBu+H,EAAiBv+H,cAAa,CAAAmjI,EAAA5kI,KAAA,eAAA4kI,EAAAjpH,OAAA,UACxD,GAAI,cAAAipH,EAAAjpH,OAAA,UAGR,GAAK,wBAAAipH,EAAA7pH,OAAA,GAAA4pH,EAAA,UACb,SAAAE,GAAA,OAAAhL,EAAApgH,MAAA,KAAAhf,UAAA,MAAA+nI,CAAA,CA7tCmB,CAASzpH,GAAAA,IAmuC/B,Y,ykBCrtCA,SAhBkB,SAAA+rH,IAAA1wH,EAAAA,GAAAA,GAAA2wH,EAAAD,GAAA,I,IAAAzwH,G,EAAA0wH,E,maAChB,SAAAA,EAAYzwH,GAST,OATkBxO,EAAAA,GAAAA,GAAA,KAAAi/H,GACnBzwH,EAAOvD,GAAAA,GAAA,GACFuD,GAAO,IACVqnH,eAAgB,oBAChBC,aAAc,kBACd/P,aAAc,kBACdC,sBAAuB,2BACvBx1G,eAAgB9B,GAAAA,GAAAA,MAAAA,IAChB7F,SAAU6F,GAAAA,GAAAA,eAAAA,MAAAA,gBACXH,EAAAtZ,KAAA,KACKuZ,EACR,CAAC,OAAAvO,EAAAA,GAAAA,GAAAg/H,EAAA,CAZe,CAASvC,I,ykBCgB3B,SAhBkB,SAAAsC,IAAA1wH,EAAAA,GAAAA,GAAA4wH,EAAAF,GAAA,I,IAAAzwH,G,EAAA2wH,E,maAChB,SAAAA,EAAY1wH,GAST,OATkBxO,EAAAA,GAAAA,GAAA,KAAAk/H,GACnB1wH,EAAOvD,GAAAA,GAAA,GACFuD,GAAO,IACVqnH,eAAgB,oBAChBC,aAAc,kBACd/P,aAAc,kBACdC,sBAAuB,2BACvBx1G,eAAgB9B,GAAAA,GAAAA,MAAAA,IAChB7F,SAAU6F,GAAAA,GAAAA,eAAAA,MAAAA,gBACXH,EAAAtZ,KAAA,KACKuZ,EACR,CAAC,OAAAvO,EAAAA,GAAAA,GAAAi/H,EAAA,CAZe,CAASxC,I,ykBCgB3B,SAhBoB,SAAAsC,IAAA1wH,EAAAA,GAAAA,GAAA6wH,EAAAH,GAAA,I,IAAAzwH,G,EAAA4wH,E,maAClB,SAAAA,EAAY3wH,GAST,OATkBxO,EAAAA,GAAAA,GAAA,KAAAm/H,GACnB3wH,EAAOvD,GAAAA,GAAA,GACFuD,GAAO,IACVqnH,eAAgB,sBAChBC,aAAc,oBACd/P,aAAc,oBACdC,sBAAuB,6BACvBx1G,eAAgB9B,GAAAA,GAAAA,MAAAA,MAChB7F,SAAU6F,GAAAA,GAAAA,eAAAA,WAAAA,gBACXH,EAAAtZ,KAAA,KACKuZ,EACR,CAAC,OAAAvO,EAAAA,GAAAA,GAAAk/H,EAAA,CAZiB,CAASzC,I,ykBhQe3B/3G,GAAmB7tB,SAAQ,SAAC+R,GAC1B/D,OAAOtL,KAAK0oB,GAAOrZ,IAAW/R,SAAQ,SAACw5B,GAChC5hB,GAAAA,GAAAA,UAAoB4hB,IACvBgtB,GAAAA,GAAAA,eAAoBz0C,GAAUu2H,SAAS9uG,EAAapO,GAAOrZ,GAAUynB,GAAaG,SAEtF,GACF,IiQsDF,IAAM4uG,G7JToB,WAAyB,IAAxBC,EAAO3qI,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,aAEhC,OAAOkM,KAAAA,QAAay+H,EACtB,C6JMa5tH,G7JnBX,CAAE,SAAU,UAAW,YACpB5a,SAAQ,SAAAyoI,GACPx+C,GAAQplC,GAAG4jF,GAAQ,WACjB/xH,QAAQ4jB,IAAI,kBACZ2vD,GAAQy+C,KAAK,EAAG,WAChBz+C,GAAQ0+C,MACV,GACF,I6JeJ,IAAIh2E,IAAU,EAERzc,GAAS,SAACn7B,IACA,SAAR6tH,IACAj2E,GACF53C,IAEAG,WAAW0tH,EAAO,IAEtB,CACAA,EACF,EAEMC,GAAa,eAAAx/H,GAAAyU,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,IAAA,OAAAD,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,cAAAib,EAAAjb,KAAA,EACd0R,GAASmhC,YAAYC,QAAMp4B,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAO,IAAA,IAAA42B,EAAA4zF,EAAAjrF,EAAAkrF,EAAA1tF,EAAA2tF,EAAAx0H,EAAA2wB,EAAA,OAAApnB,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OAC1BoR,EAAO+gC,GAAAA,IAAAA,UACPpQ,EAAgC,UAEtC7tB,GAAAA,GAAAA,MAAc,CACZjL,QAA+B,UAE/BwL,IAAK,CACHrD,KAAAA,EACAO,QAASwgC,GAAAA,IAAAA,QACTtgC,QAASsgC,GAAAA,IAAAA,UACTrgC,WAAYqgC,GAAAA,IAAAA,QACZpgC,UAAWogC,GAAAA,MAAAA,UACXngC,aAAcmgC,GAAAA,MAAAA,QACdlgC,aAAckgC,GAAAA,OAAAA,UACdjgC,gBAAiBigC,GAAAA,OAAAA,QACjB5oC,QAAAA,EACA0G,MAAAA,EACAjQ,KAAAA,EACAsR,SAAU,CACRrB,MAAO,CACL6R,KAAM85C,GAAQ3rD,MAAMqR,SAAS8kB,QAC7Bz+B,KAAMi0D,GAAQ3rD,MAAMqR,SAASC,SAE/BvhB,KAAM,CACJ8hB,KAAM85C,GAAQ57D,KAAKshB,SAAS8kB,QAC5Bz+B,KAAMi0D,GAAQ57D,KAAKshB,SAAS8kB,UAGhC70B,QAAS4T,OAAOpS,aAChBvB,eAAgB2T,OAAO3T,eACvBE,SAAAA,GACAE,YAAaoW,GAAAA,QACb7V,SAAU6V,GAAAA,QAMZtT,SAAU,CACR,IAAI8L,GAAAA,QAAS,CAEXtR,IAAK6D,aAAaE,QAAQwN,GAAAA,gBAAAA,KAE1BtR,IAAK4D,aAAaE,QAAQwN,GAAAA,gBAAAA,KAC1BrR,MAAO2D,aAAaE,QAAQwN,GAAAA,gBAAAA,KAC5BpR,OAAQ0D,aAAaE,QAAQwN,GAAAA,gBAAAA,KAC7BxR,IAAK8D,aAAaE,QAAQwN,GAAAA,gBAAAA,KAC1BxQ,MAAO8C,aAAaE,QAAQwN,GAAAA,gBAAAA,OAC5BzgB,KAAM+S,aAAaE,QAAQwN,GAAAA,gBAAAA,QAE7B,IAAI8hG,GAAS,CACX4iB,KAAAA,GACAn9G,OAAQ,CACN69G,UAAW,CACTC,MAAO,CACL99G,GAAAA,WAAAA,WAKR,IAAIwgG,IAENh2G,MAAO,CACL,IAAI6uH,GAAQ,CACV33H,QAASse,GAAAA,aAAAA,IACT40B,IAAK/d,GAAkBV,iBACvB0O,aAAc,SAACnjC,GAAO,OAAKyoC,GAAAA,IAAAA,aAAyBzoC,EAAQ,EAC5D8yC,iBAAkB,kBAAMN,GAAAA,IAAAA,kBAAoC,EAC5D8sB,gBAAiB,SAAAztD,GAAA,IAAG8uB,EAAE9uB,EAAF8uB,GAAI9jB,EAAMhL,EAANgL,OAAM,OAAO4rB,GAAAA,IAAAA,KAAiB,CAAE9H,GAAAA,EAAI9jB,OAAAA,GAAS,IAEvE,IAAI+6G,GAAQ,CACV53H,QAASse,GAAAA,aAAAA,IACT40B,IAAK/d,GAAkBV,iBACvB0O,aAAc,SAACnjC,GAAO,OAAKyoC,GAAAA,IAAAA,aAAyBzoC,EAAQ,EAC5D8yC,iBAAkB,kBAAMN,GAAAA,IAAAA,kBAAoC,EAC5D8sB,gBAAiB,SAAAptD,GAAA,IAAGyuB,EAAEzuB,EAAFyuB,GAAI9jB,EAAM3K,EAAN2K,OAAM,OAAO4rB,GAAAA,IAAAA,KAAiB,CAAE9H,GAAAA,EAAI9jB,OAAAA,GAAS,KACrEnqB,QAAA0mB,EAAAA,EAAAA,GACGkF,UAAY,QAAN8pB,EAAN9pB,GAAAA,YAAY,IAAA8pB,GAAuB,QAAvB4zF,EAAZ5zF,EAAclnB,6BAAqB,IAAA86G,GAAnCA,EAAqCt2H,MAAS,CACjD,IAAImyH,GAAU,CACZ73H,QAASse,GAAAA,aAAAA,MACT40B,IAAK/d,GAAkBV,iBACvB0O,aAAc,SAACnjC,GAAO,OAAKyoC,GAAAA,MAAAA,aAA2BzoC,EAAQ,EAC9D8yC,iBAAkB,kBAAMN,GAAAA,MAAAA,kBAAsC,EAC9D8sB,gBAAiB,SAAA1sD,GAAA,IAAG+tB,EAAE/tB,EAAF+tB,GAAI9jB,EAAMjK,EAANiK,OAAM,OAAO4rB,GAAAA,MAAAA,KAAmB,CAAE9H,GAAAA,EAAI9jB,OAAAA,GAAS,KAEvE,KAAEzD,EAAAA,EAAAA,GACDkF,UAAY,QAANyyB,EAANzyB,GAAAA,YAAY,IAAAyyB,GAAuB,QAAvBkrF,EAAZlrF,EAAc7vB,6BAAqB,IAAA+6G,GAAnCA,EAAqCt2H,OAAU,CAClD,IAAImyH,GAAa,CACf93H,QAASse,GAAAA,aAAAA,SACT40B,IAAK/d,GAAkBV,iBACvB0O,aAAc,SAACnjC,GAAO,OAAKyoC,GAAAA,OAAAA,aAA4BzoC,EAAQ,EAC/D8yC,iBAAkB,kBAAMN,GAAAA,OAAAA,kBAAuC,EAC/D8sB,gBAAiB,SAAA5sD,GAAA,IAAGiuB,EAAEjuB,EAAFiuB,GAAI9jB,EAAMnK,EAANmK,OAAM,OAAO4rB,GAAAA,OAAAA,KAAoB,CAAE9H,GAAAA,EAAI9jB,OAAAA,GAAS,KAExE,IAAE,CACN,IAAIkzG,GAAQ,CACV5sF,aAAc,SAACnjC,GAAO,OAAKq/D,GAAAA,aAA0B,CACnDr/D,QAAAA,EACAq4B,QAAAA,GACA,EACF6B,cAAe,SAACl6B,GAAO,OAAKq/D,GAAAA,cAA2B,CACrDr/D,QAAAA,EACAq4B,QAAAA,GACA,EACFiL,YAAa,SAACC,GAAK,OAAK87B,GAAAA,YAAyB,CAC/C97B,MAAAA,EACAlL,QAAAA,GACA,EACFK,YAAa,SAACxT,GAAI,OAAKm6C,GAAAA,YAAyB,CAC9Cn6C,KAAAA,EACAmT,QAAAA,GACA,EACFuL,cAAe,SAACC,GAAa,OAAKw7B,GAAAA,cAA2B,CAC3Dx7B,cAAAA,EACAxL,QAAAA,GACA,EACFiH,iBAAkB,SAAC10B,GAAO,OAAKy0D,GAAAA,iBAA6Bh4D,GAAAA,GAAC,CAAC,EACzDuD,GAAO,IACVytB,QAAAA,IACA,EACFwM,mBAAoB,SAACj6B,GAAO,OAAKy0D,GAAAA,mBAA+Bh4D,GAAAA,GAAC,CAAC,EAC7DuD,GAAO,IACVytB,QAAAA,IACA,EACFinC,gBAAiB,SAAAxrD,GAAA,IAAG6sB,EAAE7sB,EAAF6sB,GAAI9jB,EAAM/I,EAAN+I,OAAM,OAAO4rB,GAAAA,IAAAA,gBAA4B,CAAE9H,GAAAA,EAAI9jB,OAAAA,GAAS,IAElF,IAAIo7G,GAAU,CACZ90F,aAAc,SAACnjC,GAAO,OAAKyoC,GAAAA,MAAAA,aAA2BzoC,EAAQ,EAC9Dk6B,cAAe,SAAC2J,GAAa,OAAK4E,GAAAA,MAAAA,cAA4B5E,EAAc,EAC5EP,YAAa,SAACC,GAAK,OAAKkF,GAAAA,MAAAA,YAA0BlF,EAAM,EACxD7K,YAAa,SAACiB,GAAI,OAAK8O,GAAAA,MAAAA,YAA0B9O,EAAK,EACtDiK,cAAe,SAACC,GAAa,OAAK4E,GAAAA,MAAAA,cAA4B5E,EAAc,EAC5EvE,iBAAkB,SAAA1rB,GAAA,IAAG6rB,EAAU7rB,EAAV6rB,WAAYR,EAAKrrB,EAALqrB,MAAOj/B,EAAO4T,EAAP5T,QAASu+B,EAAM3qB,EAAN2qB,OAAM,OAAO2zB,GAAQ3rD,MAAM+4B,iBAAiB,CAAEG,WAAAA,EAAYR,MAAAA,EAAOj/B,QAAAA,EAASu+B,OAAAA,GAAS,IAEtI,IAAIs6F,GAAS,CACX11F,aAAc,SAACnjC,GAAO,OAAK4jE,GAAAA,aAAuB,CAChD5jE,QAAAA,EACAq4B,QAAAA,GACA,EACF6B,cAAe,SAACl6B,GAAO,OAAK4jE,GAAAA,cAAwB,CAClD5jE,QAAAA,EACAq4B,QAAAA,GACA,EACFiL,YAAa,SAACC,GAAK,OAAKqgC,GAAAA,YAAsB,CAC5CrgC,MAAAA,EACAlL,QAAAA,GACA,EACFK,YAAa,SAACxT,GAAI,OAAK0+C,GAAAA,YAAsB,CAC3C1+C,KAAAA,EACAmT,QAAAA,GACA,EACFuL,cAAe,SAACC,GAAa,OAAK+/B,GAAAA,cAAwB,CACxD//B,cAAAA,EACAxL,QAAAA,GACA,EACFiH,iBAAkB,SAAC10B,GAAO,OAAKg5D,GAAAA,iBAA0Bv8D,GAAAA,GAAC,CAAC,EACtDuD,GAAO,IACVytB,QAAAA,IACA,EACFwM,mBAAoB,SAACj6B,GAAO,OAAKg5D,GAAAA,mBAA4Bv8D,GAAAA,GAAC,CAAC,EAC1DuD,GAAO,IACVytB,QAAAA,IACA,MACFjf,EAAAA,EAAAA,GAEElY,OAAOtL,KAAK0oB,GAAAA,OACbltB,KAAI,SAAAsC,GAAG,OACN,IAAI2nI,GAAa,CACf12H,KAAMjR,EACN0lI,SAAUlmF,KACVlzC,QAASse,GAAAA,aAAAA,MAETuO,SAAUvO,GAAAA,MAAa5qB,GAAKm5B,SAC5BssG,aAAc76G,GAAAA,MAAa5qB,GAAKsM,QAChCmjC,aAAc,SAACnjC,GAAO,OAAKyoC,GAAAA,MAAAA,aAA2BzoC,EAASse,GAAAA,MAAa5qB,GAAKsM,QAASse,GAAAA,MAAa5qB,GAAKm5B,SAAS,EAErHimB,iBAAkB,eAAG7T,GAAHluC,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAa,CAAC,GAAXkuC,MAAK,OAAY6X,GAAU7hC,MAAM69B,iBAAiB,CAAE7T,MAAAA,GAAQ,EACjFiU,IAAK/d,GAAkBX,YACvB,MACHpb,EAAAA,EAAAA,GAEClY,OAAOtL,KAAK0oB,GAAAA,OACbltB,KAAI,SAAAsC,GAAG,OACN,IAAI4nI,GAAa,CACf32H,KAAMjR,EACN0lI,SAAUlmF,KACVlzC,QAASse,GAAAA,aAAAA,MAETuO,SAAUvO,GAAAA,MAAa5qB,GAAKm5B,SAC5BssG,aAAc76G,GAAAA,MAAa5qB,GAAKsM,QAChCmjC,aAAc,SAACnjC,GAAO,OAAKyoC,GAAAA,MAAAA,aAA2BzoC,EAASse,GAAAA,MAAa5qB,GAAKsM,QAASse,GAAAA,MAAa5qB,GAAKm5B,SAAS,EAErHimB,iBAAkB,eAAG7T,GAAHluC,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAa,CAAC,GAAXkuC,MAAK,OAAY6X,GAAU3hC,MAAM29B,iBAAiB,CAAE7T,MAAAA,GAAQ,EACjFiU,IAAK/d,GAAkBX,YACvB,MACHpb,EAAAA,EAAAA,GAEClY,OAAOtL,KAAK0oB,GAAAA,YACfltB,KAAI,SAAAsC,GAAG,OACN,IAAI6nI,GAAe,CACjB52H,KAAMjR,EACN0lI,SAAUlmF,KACVlzC,QAASse,GAAAA,aAAAA,WAETuO,SAAUvO,GAAAA,WAAkB5qB,GAAKm5B,SACjCssG,aAAc76G,GAAAA,WAAkB5qB,GAAKsM,QACrCmjC,aAAc,SAACnjC,GAAO,OAAKyoC,GAAAA,WAAAA,aAAgCzoC,EAASse,GAAAA,WAAkB5qB,GAAKsM,QAASse,GAAAA,WAAkB5qB,GAAKm5B,SAAS,EAEpIimB,iBAAkB,eAAG7T,GAAHluC,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAa,CAAC,GAAXkuC,MAAK,OAAY6X,GAAUvhC,WAAWu9B,iBAAiB,CAAE7T,MAAAA,GAAQ,EACtFiU,IAAK/d,GAAkBX,YACvB,MAGNvpB,MAAO,CACLm2G,GACAS,GAEAqC,GACAgB,GAEA+C,GACAG,IAAO11H,QAAA0mB,EAAAA,EAAAA,GAEFkF,UAAY,QAANiwB,EAANjwB,GAAAA,YAAY,IAAAiwB,GAAuB,QAAvB2tF,EAAZ3tF,EAAcrtB,6BAAqB,IAAAg7G,GAAnCA,EAAqCx2H,MAAS,CACjD6iH,GACAG,IACE,IAAE,CAENG,GACAG,GAKAnD,GACAW,GAKAY,GACAI,KAAQpuG,EAAAA,EAAAA,GAEJlY,OAAOtL,KAAK0oB,GAAAA,OACbltB,KAAI,SAAAsC,GAAG,OAAI20H,GAAa30H,EAAI,MAAC0lB,EAAAA,EAAAA,GAC5BlY,OAAOtL,KAAK0oB,GAAAA,OACbltB,KAAI,SAAAsC,GAAG,OAAI40H,GAAa50H,EAAI,MAAC0lB,EAAAA,EAAAA,GAE1BlY,OAAOtL,KAAK0oB,GAAAA,YACfltB,KAAI,SAAAsC,GAAG,OAAIi1H,GAAej1H,EAAI,MAAC0lB,EAAAA,EAAAA,GAC9BlY,OAAOtL,KAAK0oB,GAAAA,YACbltB,KAAI,SAAAsC,GAAG,OAAIk1H,GAAel1H,EAAI,MAAC0lB,EAAAA,EAAAA,GAE9BlY,OAAOtL,KAAK0oB,GAAAA,OACbltB,KAAI,SAAAsC,GAAG,OAAI4xH,GAAa5xH,EAAI,MAAC0lB,EAAAA,EAAAA,GAE5BlY,OAAOtL,KAAK0oB,GAAAA,OACbltB,KAAI,SAAAsC,GAAG,OAAIiyH,GAAajyH,EAAI,MAAC0lB,EAAAA,EAAAA,GAE5BlY,OAAOtL,KAAK0oB,GAAAA,OACbltB,KAAI,SAAAsC,GAAG,OAAIozH,GAAepzH,EAAI,MAAC0lB,EAAAA,EAAAA,GAE9BlY,OAAOtL,KAAK0oB,GAAAA,OACbltB,KAAI,SAAAsC,GAAG,OAAImzH,GAAenzH,EAAI,MAAC0lB,EAAAA,EAAAA,GAE9BlY,OAAOtL,KAAK0oB,GAAAA,OACbltB,KAAI,SAAAsC,GAAG,OAAIq0H,GAAcr0H,EAAI,MAAC0lB,EAAAA,EAAAA,GAE7BlY,OAAOtL,KAAK0oB,GAAAA,OACbltB,KAAI,SAAAsC,GAAG,OAAIk0H,GAAcl0H,EAAI,QAGjC,GAGH+nB,OAAOjR,QAAUA,GAAAA,GAAAA,SACjBq7C,IAAU,EAAI,wBAAAp0C,EAAAJ,OAAA,GAAAG,EAAA,MACd,wBAAAD,EAAAF,OAAA,GAAAH,EAAA,KACH,kBAxRkB,OAAA3U,EAAAwT,MAAA,KAAAhf,UAAA,KC1DnB,SAlCkB,SAAHwL,GAAA,IAAMiiD,EAAkBjiD,EAAlBiiD,mBAAoBvrC,EAAU1W,EAAV0W,WAAYyrC,EAAQniD,EAARmiD,SAAUoB,EAAcvjD,EAAdujD,eAAc,OAC3Es4C,KAAAA,cAAA,2NAAA1lG,OASeugB,EAAU,yEAAAvgB,OAGV8rD,EAAkB,kGAAA9rD,OAIlB8rD,EAAkB,yFAAA9rD,OAIGgsD,EAAQ,wGAAAhsD,OAG7BotD,EAAc,mGAOvB,E,OC3B2B,I,GAIdu8E,GADpB7kC,KAAWrjD,GAAOwkD,CAAAC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAA2xH,EAAAhhC,GAAA,I,IAAA1wF,G,EAAA0xH,E,maAAA,SAAAA,IAAA,OAAAjgI,EAAAA,GAAAA,GAAA,KAAAigI,GAAA1xH,EAAAoF,MAAA,KAAAhf,UAAA,CAahB,OAbgBsL,EAAAA,GAAAA,GAAAggI,EAAA,EAAA3oI,IAAA,SAAA6C,MAEjB,WACE,IAAQ6jD,EAAqBpqD,KAAK0gB,MAA1B0pC,iBACR,OAAKA,EAEHg+C,KAAAA,cAACkkC,GAAS,CACRrpH,WAAYmnC,EAAiBnnC,WAC7BurC,mBAAoBpE,EAAiBoE,mBACrCE,SAAUtE,EAAiBsE,SAC3BoB,eAAgB1F,EAAiB0F,iBANP,IAShC,KAACu8E,CAAA,CAbgB,CACwB7gC,GAAAA,aAAS5C,GCPT,IAOtB2jC,GADpB/kC,KCTD,CAAgB,MAAQ,2BAA2B,MAAQ,2BAA2B,OAAS,2BAA2B,YAAc,4BDSpH,CAAE0C,eAAe,GAAOvB,CAAAC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAA6xH,EAAAlhC,GAAA,I,IAAA1wF,G,EAAA4xH,E,maAAA,SAAAA,IAAA,OAAAngI,EAAAA,GAAAA,GAAA,KAAAmgI,GAAA5xH,EAAAoF,MAAA,KAAAhf,UAAA,CA8BzC,OA9ByCsL,EAAAA,GAAAA,GAAAkgI,EAAA,EAAA7oI,IAAA,SAAA6C,MAE1C,WACE,IAAAimI,EAOIxsI,KAAK0gB,MANPnD,KACS62F,EAASo4B,EAAhBlpH,MAEoB6mC,EAAYqiF,EADhClpH,MACE8mC,iBAKN,OACEg+C,KAAAA,cAAA,OAAKC,UAAU,SACbD,KAAAA,cAAA,UAAQC,UAAU,SAASC,QAAS,kBAAM7qD,SAAS1G,SAASu7D,KAAO,gBAAgB,GACjFlK,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,sBAAsB+4F,eAAe,sBAE5DoF,KAAAA,cAAA,MAAIC,UAAU,SACZD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,qBAAqB+4F,eAAe,gBAE3DoF,KAAAA,cAAA,OAAKC,UAAU,eACbD,KAAAA,cAAA,YACEA,KAAAA,cAACikC,GAAa,CAACI,gBAAiBtiF,MAGpCi+C,KAAAA,cAAA,OAAKC,UAAU,eACbD,KAAAA,cAAA,YAAO3uF,KAAKC,UAAU06F,EAAW,KAAM,KAI/C,KAACm4B,CAAA,CA9ByC,CACT/gC,GAAAA,aAAS5C,GERd,IAGxB8jC,GAAkB,SAAArhC,IAAA3wF,EAAAA,GAAAA,GAAAgyH,EAAArhC,GAAA,I,IAAA1wF,G,EAAA+xH,E,maActB,SAAAA,EAAYhsH,GAAO,IAAA/T,EAK4B,OAL5BP,EAAAA,GAAAA,GAAA,KAAAsgI,GACjB//H,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAcI,WAChB,IAAQgK,EAAShK,EAAK+T,MAAd/J,KAEJA,EAAK4G,KAAK+F,MAAMxH,kBAGG9a,IADAwZ,GAAAA,GAAAA,SAAiBQ,SAASnC,OAAO0B,SAAS5D,EAAK1M,KAElEwuC,GAAAA,KAAAA,uBAAoC9hC,EAAK1M,IAE3CwuC,GAAAA,KAAAA,YAAyB9hC,EAAK1M,IAC9BwuC,GAAAA,KAAAA,eAEJ,IAxBmB/3B,EAAT/J,KAEHoxC,GAAG,eAAgBp7C,EAAKggI,iBAAgBhgI,CAC/C,CAyBC,OAzBAN,EAAAA,GAAAA,GAAAqgI,EAAA,EAAAhpI,IAAA,uBAAA6C,MAED,WACmBvG,KAAK0gB,MAAd/J,KACH+6F,IAAI,eAAgB1xG,KAAK2sI,iBAE9B3sI,KAAK2sI,iBACP,GAAC,CAAAjpI,IAAA,SAAA6C,MAgBD,WACE,OAAO,IACT,KAACmmI,CAAA,CA7CqB,CAASlhC,GAAAA,YAASryF,EAAAA,EAAAA,GAApCuzH,GAAkB,YAEH,CACjB/1H,KAAMm1F,KAAAA,MAAgB,CACpBvuF,KAAMuuF,KAAAA,MAAgB,CACpBxoF,MAAOwoF,KAAAA,MAAgB,CACrB73E,KAAM63E,KAAAA,OAAAA,WACNhwF,WAAYgwF,KAAAA,KAAAA,aACX8gC,aAEL3iI,GAAI6hG,KAAAA,OAAAA,aACH8gC,aAqCP,Y,OCjC8C,IAsCxCC,IApCL3xE,EAAAA,EAAAA,KAAQ,SAAA3uD,GAcH,IAAAugI,EAAAvgI,EAbJopB,KACE3L,EAAO8iH,EAAP9iH,QACAC,EAAO6iH,EAAP7iH,QACAC,EAAS4iH,EAAT5iH,UACAC,EAAU2iH,EAAV3iH,WACAY,EAAO+hH,EAAP/hH,QACAvB,EAASsjH,EAATtjH,UACAO,EAAQ+iH,EAAR/iH,SACAqB,EAAU0hH,EAAV1hH,WACAI,EAAUshH,EAAVthH,WAEYnE,EAAI9a,EAAlBspB,WAAcxO,KACd2O,EAAgBzpB,EAAhBypB,iBAEM+2G,EAAY,CAChB/iH,EACAC,EACAC,EACAC,EACAY,EACAvB,EACAO,GAGF,MAAO,CACLyB,WAAAA,EACAzR,MAAO,GAAFrX,OAAMqqI,GACXC,eAAgB,GAAFtqI,OAAMqqI,GACpB3hH,YAAUhC,EAAAA,EAAAA,GAAMlY,OAAOtL,KAAKwlB,GAAYhqB,KAAI,SAAA8E,GAAC,OAAKklB,EAAWllB,EAAE,KAC/DwtB,YAAasC,EAAiBtC,YAC9BrM,KAAAA,EAEJ,GAE4CshF,CAAAC,GAA3CuB,KAAWhmD,GAAQ,CAAE+lD,eAAe,GAAO+iC,CAAArkC,GAAA,SAAAskC,IAAAxyH,EAAAA,GAAAA,GAAAmyH,EAAAK,GAAA,IAgGzCC,E,IAhGyCxyH,G,EAAAkyH,E,maA4E1C,SAAAA,EAAYnsH,GAAO,IAAA/T,EAmBhB,OAnBgBP,EAAAA,GAAAA,GAAA,KAAAygI,GACjBlgI,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uCAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,8BAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,8BAnEdwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,4BAM2B,SAACinB,GAC1B,IAAAm4B,EAYIp/C,EAAK2W,MAAK8pH,EAAArhF,EAXZp1C,KAAI02H,EAAAD,EACF7vH,KAAI+vH,EAAAD,EACF/pH,MACE2Q,EAAIq5G,EAAJr5G,KACAm2B,EAAgBkjF,EAAhBljF,iBAMNzzC,GAJoB02H,EAAhB/pH,MAEE8pH,EAAJ7vH,KAEEwuC,EAAJp1C,MAGF,GAAIsd,GAAQ,EAAG,CAEb,IAAIs5G,EAAU9zH,KAAKE,MAAMN,aAAaE,QAAQ,eAK9C,GAHgB,OAAZg0H,GAAuC,IAAnBA,EAAQttI,SAC9BstI,EAAU,KAEPA,EAAQlzH,SAASuZ,GAAU,CAC9B25G,EAAQrtI,KAAK0zB,GAEb,IACE3pB,EASE0M,EATF1M,GACAm2C,EAQEzpC,EARFypC,YACAD,EAOExpC,EAPFwpC,aACAiH,EAMEzwC,EANFywC,UACAD,EAKExwC,EALFwwC,WACAyB,EAIEjyC,EAJFiyC,sBACAC,EAGElyC,EAHFkyC,uBACA9D,EAEEpuC,EAFFouC,MACA/oC,EACErF,EADFqF,YAGIwxH,EAAa,CACjBvjI,GAAAA,EACAm2C,YAAAA,EACAD,aAAAA,EACAiH,UAAWA,EAAU9pB,WACrB6pB,WAAYA,EAAW7pB,WACvBsrB,sBAAAA,EACAC,uBAAAA,EACA9D,MAAAA,EACA/oC,YAAAA,EACAouC,iBAAAA,GAEIqjF,EAAah0H,KAAKC,UAAU8zH,GAElCn0H,aAAaC,QAAQ,aAAcG,KAAKC,UAAU6zH,IAClDlzC,cAAc1tF,EAAK+gI,oBAEnB/qF,GAAAA,KAAAA,QAAsB8qF,EACxB,CACF,CACF,KAACt0H,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBA+LkB,WACjB,IAAAghI,EAYIhhI,EAAK2W,MAXP3M,KACE1M,EAAE0jI,EAAF1jI,GAAE2jI,EAAAD,EACFpwH,KACE+F,MACE6nC,EAAayiF,EAAbziF,cACArvC,EAAU8xH,EAAV9xH,WACAuvC,EAAUuiF,EAAVviF,WACAD,EAAawiF,EAAbxiF,cAMR,SAAKD,GAAiBrvC,GAAcuvC,GAAcD,IAIlDz+C,EAAKkhI,eAAe5jI,GAEpB0C,EAAK+9C,UAAS,iBAAO,CACnBojF,iBAAiB,EAClB,IAEM,GACT,KAAC30H,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAEkB,WAEjB,QAAkB,IAD8BA,EAAK2W,MAA7C3M,KAAQ4G,KAAQ+F,MAAS2Q,KAEnC,KAAC9a,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAaiB,WAChB,IAAAohI,EAYIphI,EAAK2W,MAXP3M,KACE1M,EAAE8jI,EAAF9jI,GAAE+jI,EAAAD,EACFxwH,KACE+F,MACExH,EAAUkyH,EAAVlyH,WACAsvC,EAAa4iF,EAAb5iF,cACAn3B,EAAI+5G,EAAJ/5G,KACAo3B,EAAU2iF,EAAV3iF,WAMR,SAAIvvC,GAAcsvC,GAAiBn3B,EAAO,GAAKo3B,KAC7C1+C,EAAKkhI,eAAe5jI,IACb,EAIX,KAACkP,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAEc,SAACinB,GACd6kB,GAAAA,KAAAA,cAA2B7kB,EAC7B,KAACza,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAEgB,SAACinB,GAChB6kB,GAAAA,KAAAA,iBAA8B7kB,GAC9B6kB,GAAAA,KAAAA,aAA0B7kB,EAC5B,KAACza,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAEiB,WAChB,IAAQgK,EAAShK,EAAK2W,MAAd3M,KACA4G,EAAuB5G,EAAvB4G,KAAM4iC,EAAiBxpC,EAAjBwpC,aACdh8B,EAA2C5G,EAAK+F,MAAxC2Q,EAAI9P,EAAJ8P,KAAeu3B,GAAFrnC,EAAPsF,QAAwBtF,EAAfqnC,iBAEjBylD,EAA8B/uC,GAAQolC,SAASvR,gBAAgB,CAAEphF,KAAMwrC,IAKxEqL,GAAmBv3B,KAJIg9E,EACxB,EACA,GAKFtkG,EAAK+9C,UAAS,iBAAO,CAAEgwD,eAAe,EAAM,IAF5C/tG,EAAK+9C,UAAS,iBAAO,CAAEgwD,eAAe,EAAO,GAIjD,KAACvhG,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,yBAEuB,WACtB,IAAAshI,EAWIthI,EAAK2W,MAVP3M,KACE4G,KACE+F,MACEgqC,EAAkB2gF,EAAlB3gF,mBACAC,EAAwB0gF,EAAxB1gF,yBACAslE,EAAuBob,EAAvBpb,wBACArlE,EAAuBygF,EAAvBzgF,wBAMJF,IAAuBC,GACrB5gD,EAAK2W,MAAM3M,MAAQhK,EAAK2W,MAAM3M,KAAK4G,OACrC5Q,EAAK2W,MAAM3M,KAAK4G,KAAK2wH,sBACrBvhI,EAAK+9C,SAAS,CACZqyD,mBAAmB,IAErBtxF,OAAOrN,YAAW,WAChBzR,EAAK+9C,SAAS,CACZqyD,mBAAmB,GAEvB,GAAG,OAIH8V,IAA4BrlE,GAC1B7gD,EAAK2W,MAAM3M,MAAQhK,EAAK2W,MAAM3M,KAAK4G,MACrC5Q,EAAK2W,MAAM3M,KAAK4G,KAAK4wH,uBAG3B,KAACh1H,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAEqB,WACpB,IAAA8/C,EAUI9/C,EAAK2W,MAAK8qH,EAAA3hF,EATZ91C,KAEEypC,GADKguF,EAALrpF,MACWqpF,EAAXhuF,aACAgH,EAASgnF,EAAThnF,UACAjH,EAAYiuF,EAAZjuF,aACAgH,EAAUinF,EAAVjnF,WAEFknF,EAAiB5hF,EAAjB4hF,kBACY5hF,EAAZqwD,aAGEuxB,IAIJ1hI,EAAK+9C,UAAS,iBAAO,CACnB2jF,mBAAmB,EACpB,IAEDvtG,GAAAA,KAAe,SAAU,GAAI,CAC3BpC,KAAM,CACJlpB,IAAK7I,EAAK2W,MAAMmjE,WAChBrmC,YAAAA,EACAgH,UAAWA,EAAU5mD,WACrB2/C,aAAAA,EACAgH,WAAYA,EAAW3mD,cAExBugC,MAAK,SAACutG,GACP10H,QAAQ0iB,KAAK,kBAAmBgyG,EAAG3kG,MACnCh9B,EAAK+9C,UAAS,iBAAO,CACnBoyD,cAAc,EACf,GACH,IAAE,OAAO,SAAC3xG,GACRyO,QAAQ4J,KAAK,gBAAiBrY,GAC9BwB,EAAK+9C,UAAS,iBAAO,CACnBoyD,cAAc,EACf,GACH,IACF,KAAC3jG,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEsB,SAAAO,IAAA,IAAAjE,EAAA,OAAA0D,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OAGb,GAIiC,mBAJrCiX,EAEA5Q,EAAK2W,MAHP3M,KACE4G,MAIYgxH,qBAAmC,CAAA9sH,EAAAnb,KAAA,eAAAmb,EAAAnb,KAAA,EACfiX,EAAKgxH,uBAAsB,OAApC9sH,EAAAC,MAEvB/U,EAAK+9C,UAAS,iBAAO,CACnB8jF,mBAAmB,EACpB,IACF,wBAAA/sH,EAAAJ,OAAA,GAAAG,EAAA,OAEJrI,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAEe,WACd,IAAA48F,EASI58F,EAAK2W,MALDs6F,EAAmBrU,EAHzB5yF,KACE4G,KACE+F,MACEs6F,oBAIMrU,EAAZuT,aAGGc,GAILjxG,EAAK+9C,UAAS,iBAAO,CACnBoyD,cAAc,EACf,GACH,KAAC3jG,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAEgB,WACf,IAAA+nG,EAYI/nG,EAAK2W,MAAKmrH,EAAA/5B,EAXZ/9F,KAIMgnG,GAHW8wB,EAAf9lF,gBAG2B8lF,EAF3BlxH,KACE+F,MACEq6F,yBAKJh0F,EAAQ+qF,EADV9+D,aACEjsB,UAI4B,IAA5Bg0F,GACFz7C,GAAQolC,SAASvR,gBAAgB,CAAEphF,KAAMgV,IAEzChd,EAAK+hI,sBAEL/hI,EAAK+9C,UAAS,iBAAO,CACnBoyD,cAAc,EACf,GAEL,KAAC3jG,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAEa,WACZA,EAAK+9C,UAAS,SAACpnC,GAAK,MAAM,CACxBqrH,aAAcrrH,EAAMqrH,YACrB,GACH,KAACx1H,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,YAEU,WACT,IAAgB6pC,EAAa7pC,EAAK+T,MAA1B2iF,KAAQ7sD,OAChB7pC,EAAK+T,MAAM8U,QAAQt1B,KAAK+uG,GAAaz4D,EAAQ,KAC/C,IA5aE7pC,EAAK2W,MAAQ,CACXq4F,iBAAiB,EACjBhlG,KAAM,KACN4xC,MAAM,EACN3S,aAAc,KACdg5F,aAAc,KACdC,WAAY,KACZ/xB,cAAc,EACdpC,eAAe,EACfgC,eAAe,EACfiyB,aAAa,EACbG,oCAAoC,EACpC/xB,mBAAmB,EACnBsxB,mBAAmB,EACnBP,iBAAiB,EACjBiB,UAAW,IACZpiI,CACH,CAogBC,OApgBAN,EAAAA,GAAAA,GAAAwgI,EAAA,EAAAnpI,IAAA,oBAAA6C,OAAA4mI,GAAAnsH,EAAAA,EAAAA,GAAAC,IAAAA,MAGD,SAAAC,IAAA,IAAAsoF,EAAAzvF,EAAAizH,EAAA5hH,EAAAsgF,EAAA93E,EAAA4B,EAAAhK,EAAAvP,EAAA,YAAAgF,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OAQG,GAPDsT,QAAQrQ,MAAM,yBAA0B,gBAAeigG,EAETxpG,KAAK0gB,MAA3C3G,EAAKyvF,EAALzvF,MAAOizH,EAAcxjC,EAAdwjC,eAAgB5hH,EAAUo+E,EAAVp+E,WAAUsgF,EACqB1rG,KAAK0gB,MAA1CkT,EAAO83E,EAA1Bn+F,MAAS6C,OAAUwjB,QAAa4B,EAAOk2E,EAAPl2E,QAAShK,EAAUkgF,EAAVlgF,WAEzCC,OAAOujH,aAAsD,IAAvCvjH,OAAOujH,YAAYC,WAAWr6H,MACxD6W,OAAOsrB,SAASu5D,SAGb18E,EAAS,CAAFrS,EAAAjb,KAAA,QACgC,OAA1CkvB,EAAQt1B,KAAK+uG,GAAa53D,GAAM++C,WAAU70E,EAAAU,OAAA,iBAeJ,GAXxCjiB,KAAK+sB,QAAU,CAAC,EAChBigH,EAAe9pI,SAAQ,SAAAgC,GACrB+W,EAAK8Q,QAAQ7nB,EAAKykB,UAAYzkB,EAAK8K,OACrC,IACAob,EAAWloB,SAAQ,SAAAgC,GACjB+W,EAAK8Q,QAAQ7nB,EAAKykB,UAAYzkB,EAAK8K,OACrC,IAAEuR,EAAAtZ,KAAA,GAGA2R,QAAQ4jB,IAAI,iBACZ5jB,QAAQ4jB,IAAI,UAAW5J,GACvBha,QAAQ4jB,IAAI,UAAW/R,OAAOjR,UAC1BiR,OAAOjR,QAAS,CAAF+G,EAAAjb,KAAA,SAChBtG,KAAKsiI,WAAW,CAAE1uG,QAAAA,EAAS7Z,MAAAA,EAAOqR,WAAAA,EAAYI,WAAAA,IAAajK,EAAAjb,KAAA,wBAAAib,EAAAjb,KAAA,GAErDmyC,GAAAA,KAAAA,OAAmB,eAAAl3B,EAAAjb,KAAA,GACnBylI,KAAe,QACrB/rI,KAAKsiI,WAAW,CAAE1uG,QAAAA,EAAS7Z,MAAAA,EAAOqR,WAAAA,EAAYI,WAAAA,IAAa,QAAAjK,EAAAjb,KAAA,iBAAAib,EAAAtZ,KAAA,GAAAsZ,EAAAkC,GAAAlC,EAAA,UAI7D3H,QAAQzO,MAAKoW,EAAAkC,IACbg1B,GAAAA,cAAAA,KAA2B39B,GAAAA,cAAAA,kBAA2C,CACpE3P,MAAO,iDAETnL,KAAK0gB,MAAM8U,QAAQt1B,KAAK+uG,GAAa53D,GAAM++C,WAAU,QAGvDx8E,QAAQy2B,WAAU,yBAAA9uB,EAAAF,OAAA,GAAAH,EAAA,oBACnB,kBAAAisH,EAAAptH,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,aAAA6C,MAED,SAAW6J,GAAQ,IAAAiM,EAAA,KACTuX,EAA2CxjB,EAA3CwjB,QAAS7Z,EAAkC3J,EAAlC2J,MAAOqR,EAA2Bhb,EAA3Bgb,WAAYI,EAAepb,EAAfob,WAC9B7U,EAAO,IAAI2xC,GAAK10B,EAASpZ,GAAAA,GAAAA,UAC/Bi+B,GAAAA,KAAAA,aAA0B9hC,GAC1B8U,OAAOyjH,YAAcv4H,EAErBiD,QAAQ4jB,IAAI,SAAU7mB,GACtBiD,QAAQ4jB,IAAI,kBAAmB7mB,EAAK4G,KAAK6+F,WAEzC,IAAMyyB,EAAavwB,GAAe3nG,EAAK4G,KAAK6+F,WACtCpyF,EAAUjQ,EAAM3K,QAAO,SAAAlK,GAAI,MAAsB,QAAlBA,EAAKykB,QAAkB,IACtDw2B,EAAexpC,EAAKwpC,aAAatjC,cACjC+4B,EAAe77B,EAAMrX,OAAO0oB,GAC/Bhc,QAAO,SAAAlK,GAAI,OAAIA,EAAK4wC,QAAU5wC,EAAKynB,SAAS9P,gBAAkBsjC,EAAej7C,EAAKykB,WAAaw2B,CAAY,IAAE,GAC7F,CACjB,CACEx2B,SAAUhT,EAAKwpC,aACftzB,OAAQlW,EAAKwwC,YAEf,CACEx9B,SAAUhT,EAAKypC,YACfvzB,OAAQlW,EAAKywC,YAINlkD,SAAQ,SAAAgC,GACjBuzC,GAAAA,KAAAA,gBAA6BvzC,EAAKykB,SAAU6B,EAAWzjB,eACpDg5B,MAAK,SAAAouG,GACJ,IAAMtiH,EAASsiH,EAASniH,OAAO9nB,EAAK2nB,QAEhCG,OAAOH,IAAW,GACpBxQ,EAAKquC,UAAS,iBAAO,CAAEkkF,aAAc,SAAU,IAE/CvyH,EAAKquC,UAAS,iBAAO,CAAEkkF,aAAc,UAAW,GAEpD,GACJ,IAEAh1H,QAAQ4jB,IAAI,mCAAoC7mB,GAEhD3W,KAAK0qD,SAAS,CACZ/zC,KAAAA,EACAqT,QAAAA,EACA6kH,WAAAA,EACAj5F,aAAAA,EACA6wC,WAAYz8D,EAAQ,GAAGha,SACtBhQ,KAAKovI,uBAMV,GAAC,CAAA1rI,IAAA,yBAAA6C,MAGD,WAAyB,IAAAwW,EAAA,KACvBsyH,EAOIrvI,KAAKsjB,MANP3M,EAAI04H,EAAJ14H,KAGIsd,EAAIo7G,EAFR14H,KACE4G,KACE0W,KAKNq7G,EAAwDtvI,KAAK0gB,MAAlCkT,EAAO07G,EAA1B/hI,MAAS6C,OAAUwjB,QAAaF,EAAW47G,EAAX57G,YAMxC,GAJIO,GAAQ,IAAMP,EAAYrZ,SAASuZ,IACrC5zB,KAAKuvI,aAAa37G,GAGP,OAATjd,EAAe,CACjB,GAAI3W,KAAKwvI,mBAAqBxvI,KAAKyvI,mBACjC,OAEFzvI,KAAK0tI,mBAAqBzzC,aAAY,WACpCl9E,EAAK2yH,yBAAyB97G,EAChC,GAAG,KAEH,IAAM+7G,EAAgB11C,aAAY,WAChC,IAAM21C,EAAoB7yH,EAAKyyH,kBACzBrkF,EAAgBpuC,EAAK0yH,mBAEvBG,GACFjtF,GAAAA,KAAAA,WAEEwI,GACFxI,GAAAA,KAAAA,UAGEitF,GAAqBzkF,EACvBkvC,cAAcs1C,IAIhB5yH,EAAK8yH,iBACL9yH,EAAK+yH,wBACL/yH,EAAKyuC,kBACLzuC,EAAKgzH,gBACLhzH,EAAKwxH,uBACP,GAAG,KAEGyB,EAAyB5xH,YAAW,WACnCrB,EAAKkzH,oBACRxkH,OAAOsrB,SAASu5D,QAEpB,GAAG,MAEHtwG,KAAKkwI,4BAA8BF,EACnChwI,KAAKmwI,mBAAqBR,CAC5B,CACF,GAAC,CAAAjsI,IAAA,uBAAA6C,MAED,WACE8zF,cAAcr6F,KAAKmwI,oBACnB14D,aAAaz3E,KAAKkwI,6BAClB71C,cAAcr6F,KAAK0tI,mBACrB,GAAC,CAAAhqI,IAAA,oBAAA6C,MAmCD,SAAkB4E,EAAOmxB,GACvBt8B,KAAK0qD,UAAS,iBAAO,CACnBqkF,UAAWzyG,EACZ,IAEDmc,GAAAA,cAAAA,KACE39B,GAAAA,cAAAA,kBACA,CAAE3P,MAAOA,EAAMikC,SAEnB,GAAC,CAAA1rC,IAAA,SAAA6C,MA2MD,WACE,IAAA6pI,EAAwDpwI,KAAK0gB,MAArD2G,EAAI+oH,EAAJ/oH,KAAM+D,EAAUglH,EAAVhlH,WAAYoK,EAAO46G,EAAP56G,QAAiBghB,EAAM45F,EAAd/sC,KAAQ7sD,OAC3C65F,EAgBIrwI,KAAKsjB,MAfP3M,EAAI05H,EAAJ15H,KACAk4H,EAAUwB,EAAVxB,WACAj5F,EAAYy6F,EAAZz6F,aACAg5F,EAAYyB,EAAZzB,aACA5kH,EAAOqmH,EAAPrmH,QACA8yF,EAAYuzB,EAAZvzB,aACApC,EAAa21B,EAAb31B,cACAgC,EAAa2zB,EAAb3zB,cACAj2B,EAAU4pD,EAAV5pD,WACAkoD,EAAW0B,EAAX1B,YACAtwB,EAAqBgyB,EAArBhyB,sBAEAtB,GADeszB,EAAf10B,gBACiB00B,EAAjBtzB,mBACA+wB,EAAeuC,EAAfvC,gBACAiB,EAASsB,EAATtB,UAGF,OAAKp4H,GAASk4H,GAAexnH,GAASunH,EAKpCxmC,KAAAA,cAACuB,GAAAA,SAAQ,KACLmkC,EAiDA1lC,KAAAA,cAAA,OAAKC,UAAU,oBACbD,KAAAA,cAAA,MAAIC,UAAU,WAAWC,QAAStoG,KAAKswI,UACrCloC,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,mBAAmB+4F,eAAe,2BAGxD+rC,GACC3mC,KAAAA,cAAA,WACG2mC,GAIL3mC,KAAAA,cAAA,UACEA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,mBACH+4F,eAAe,oCAGnBoF,KAAAA,cAAA,OAAKC,UAAU,aAAaC,QAAStoG,KAAKuwI,aACxCnoC,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,YAAY+4F,eAAe,YAlEpDoF,KAAAA,cAAA,OAAKC,UAAS,GAAA3lG,OAAK41D,EAAAA,GAAW,kBAAoB,SAChD8vC,KAAAA,cAACymC,EAAU,CACT/8G,WAAY1G,EACZsxF,cAAeA,EACf/Q,cAAgC,WAAjBijC,EACfp5G,QAASA,EACT7e,KAAMA,EACN8vE,WAAYA,EACZ7wC,aAAcA,EACduO,OAAQA,GACRu2D,cAAeA,EACf1wF,QAASA,EACT8yF,aAAcA,EACduB,sBAAuBA,EACvBtB,kBAAmBA,EACnBvmE,OAAQA,EACRzpB,QAAS/sB,KAAK+sB,UAEhBq7E,KAAAA,cAAA,WACEA,KAAAA,cAAA,KAAGC,UAAU,aAAamoC,KAAK,gBAC7BpoC,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,YACH+4F,eAAe,gCAEjBoF,KAAAA,cAAA,QAAMC,UAAU,aAAaC,QAAStoG,KAAKuwI,aACzCnoC,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,YACH+4F,eAAe,WAGnBoF,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,SACH+4F,eAAe,SAEjBoF,KAAAA,cAAA,QAAMC,UAAU,aAAaC,QAAS,kBAAM78E,OAAOsrB,SAASu5D,QAAQ,GAClElI,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,aACH+4F,eAAe,sBAKpB37E,IAAS1Q,EAAKouC,MAAM19B,MACnB+gF,KAAAA,cAACskC,GAAkB,CAAC/1H,KAAMA,MA4BjCg4H,GACCvmC,KAAAA,cAACmkC,GAAK,CAAChvH,KAAM5G,EAAK4G,QA9Ef,IAkFX,KAACsvH,CAAA,CApmByC,CAChB4D,GAAAA,iBAAa7nC,KAAAA,GAsmBzC,UAAegF,EAAAA,GAAAA,IAAWi/B,I,mBC9pBd6D,GAAQ,SAARA,GAAQ,OAARA,EAAQ,gBAARA,EAAQ,cAARA,CAAQ,MAURC,GAAY,SAAZA,GAAY,OAAZA,EAAY,oBAAZA,EAAY,kBAAZA,EAAY,YAAZA,CAAY,MAMZC,GAAU,SAAVA,GAAU,OAAVA,EAAU,kBAAVA,EAAU,oBAAVA,CAAU,M,ykBChBa,I,GAUdC,GADpB1mC,KCXD,CAAgB,QAAU,6BDWN,CAAED,eAAe,GAAOvB,CAAAC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAAm2H,EAAAxlC,GAAA,I,IAAA1wF,G,EAAAk2H,E,maAE1C,SAAAA,EAAYnwH,GAAO,OAAAtU,EAAAA,GAAAA,GAAA,KAAAykI,GAAAl2H,EAAAtZ,KAAA,KACXqf,EACR,CA4BC,OA5BArU,EAAAA,GAAAA,GAAAwkI,EAAA,EAAAntI,IAAA,SAAA6C,MAED,WACE,IAAAijG,EAMIxpG,KAAK0gB,MALP1Q,EAAOw5F,EAAPx5F,QACA8tC,EAAM0rD,EAAN1rD,OACAlpC,EAAI40F,EAAJ50F,KAEAmpC,EAAKyrD,EAALzrD,MAGF,IAAK/tC,EAAS,OAAO,KAErB,IAAM8gI,EAAe9gI,EAAQurF,UAAU,EAAG,GACpCw1C,EAAa/gI,EAAQurF,UAAUvrF,EAAQ/P,OAAS,EAAG+P,EAAQ/P,QAC3DgkD,EAAQrvC,IAAS43B,GAAAA,SAAuB,UAAY,GAE1D,OACE47D,MAAA1qD,cAAA,QAAM2qD,UAAS,UAAar6F,MAAOgC,EAAS+tC,MAAK1mC,GAAAA,GAAA,GAAO0mC,GAAK,IAAEkG,MAAAA,KAC5DnG,IAAW4e,GAAcs0E,MACxB5oC,MAAA1qD,cAACisD,GAAAA,SAAQ,KACNmnC,EAAa,MAAmBC,GAGnC/gI,EAIR,KAAC6gI,CAAA,CAhCyC,CACPrlC,GAAAA,aAAS5C,GEM9C,IAEqBqoC,GADpB9mC,KCnBD,CAAgB,OAAS,2BAA2B,MAAQ,2BAA2B,YAAc,2BAA2B,OAAS,2BAA2B,QAAU,4BDmB1J,CAAED,eAAe,GAAOvB,CAAAC,GAAA,SAAAskC,IAAAxyH,EAAAA,GAAAA,GAAAu2H,EAAA/D,GAAA,I,IAAAvyH,G,EAAAs2H,E,maAG1C,SAAAA,IACE,OADY7kI,EAAAA,GAAAA,GAAA,KAAA6kI,GACZt2H,EAAAtZ,KAAA,KAEF,CAoBC,OApBAgL,EAAAA,GAAAA,GAAA4kI,EAAA,EAAAvtI,IAAA,SAAA6C,MAED,WACE,IAAAijG,EAA2DxpG,KAAK0gB,MAA5C1S,EAAKw7F,EAALx7F,MAAOkjI,EAAkB1nC,EAAlB0nC,mBAAoBlhI,EAAOw5F,EAAPx5F,QAE/C,OACEo4F,KAAAA,cAAA,OAAKC,UAAU,UACbD,KAAAA,cAAA,OAAKC,UAAS,SAAA3lG,OAAWwuI,EAAqB,cAAgB,KAC3DljI,EAAOkjI,GAEV9oC,KAAAA,cAAA,OAAKC,UAAU,WAEfD,KAAAA,cAAA,OAAKC,UAAU,WACbD,KAAAA,cAACyoC,GAAO,CACN7gI,QAASA,EACT8tC,OAAQ4e,GAAcs0E,SAKhC,KAACC,CAAA,CA1ByC,CACRR,GAAAA,iBAAa7nC,GEpBjD,MCDA,GAAe,IAA0B,4BCAzC,GAAe,IAA0B,yB,OCyBzC,I,GAEqBuoC,GADpBhnC,KHzBD,CAAgB,GAAK,2BAA2B,OAAS,2BAA2B,SAAW,2BAA2B,UAAU,2BAA2B,UAAU,4BAA4B,iBAAiB,2BAA2B,MAAQ,2BAA2B,KAAO,2BAA2B,MAAQ,4BAA4B,QAAU,4BAA4B,QAAU,2BAA2B,KAAO,4BGyBxZ,CAAED,eAAe,GAAOvB,CAAAC,GAAA,SAAAskC,IAAAxyH,EAAAA,GAAAA,GAAAy2H,EAAAjE,GAAA,I,IAAAvyH,G,EAAAw2H,E,maAG1C,SAAAA,IACE,OADY/kI,EAAAA,GAAAA,GAAA,KAAA+kI,GACZx2H,EAAAtZ,KAAA,KAEF,CAiCC,OAjCAgL,EAAAA,GAAAA,GAAA8kI,EAAA,EAAAztI,IAAA,SAAA6C,MAED,WACE,IAAAijG,EAAuDxpG,KAAK0gB,MAApDmM,EAAM28E,EAAN38E,OAAQnY,EAAM80F,EAAN90F,OAAQzK,EAAEu/F,EAAFv/F,GAAI83B,EAAGynE,EAAHznE,IAAKsS,EAASm1D,EAATn1D,UAAWmsC,EAAMgpB,EAANhpB,OAE5C,OACE4nB,KAAAA,cAAA,OAAKC,UAAS,MAAA3lG,OAAQ89E,IACpB4nB,KAAAA,cAAA,OAAKC,UAAU,UACZx7E,EAAOyQ,WAAW,IAAE5oB,GAEvB0zF,KAAAA,cAAA,OAAKC,UAAS,SAAA3lG,OAAW2xC,KACzB+zD,KAAAA,cAAA,OAAKC,UAAU,WACZp+F,EACCm+F,KAAAA,cAAA,KAAGC,UAAU,UAAUiK,KAAMvwE,EAAKkoE,OAAO,UACvC7B,KAAAA,cAACyoC,GAAO,CACN7gI,QAAS/F,EACT6zC,OAAQ4e,GAAcs0E,SAI1B5oC,KAAAA,cAAA,YAAM,MAGVA,KAAAA,cAAA,OAAKC,UAAU,kBACZ7nB,GAAUmwD,GAAah9C,SACtByU,KAAAA,cAAA,OAAKgE,IAAKglC,KAEX5wD,GAAUmwD,GAAaU,MACtBjpC,KAAAA,cAAA,OAAKgE,IAAKklC,MAKpB,KAACH,CAAA,CAvCyC,CACZV,GAAAA,iBAAa7nC,GCAD,IA2BtC2oC,IAnBLr2E,EAAAA,EAAAA,KAAQ,SAAA3uD,GASS,OADEA,EAAlBspB,WAAcxO,KACE9a,EAAhBypB,iBACK,CAML,CACD,GAC2C2yE,CAAAC,GAA3CuB,KCpDD,CAAgB,UAAY,2BAA2B,UAAY,2BAA2B,OAAS,2BAA2B,WAAa,2BAA2B,QAAU,4BAA4B,SAAW,2BAA2B,WAAa,2BAA2B,0BAA4B,4BDoDtS,CAAED,eAAe,GAAO+iC,CAAArkC,GAAA,SAAAskC,IAAAxyH,EAAAA,GAAAA,GAAA62H,EAAArE,GAAA,I,IAAAvyH,G,EAAA42H,E,maAS1C,SAAAA,EAAY7wH,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAAmlI,GACjB5kI,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAPVvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,UAIY,OA2HVwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,cAIa,WAEXA,EAAK6oB,QAAQt1B,KAAKm3C,GAAM9mC,OAC1B,IA7HE,IAAQilB,EAAY9U,EAAZ8U,QAOP,OAND7oB,EAAK6oB,QAAUA,EAEf7oB,EAAK2W,MAAQ,CAEX3M,KAAM,KACNy9F,UAAW,MACZznG,CACH,CAiRC,OAjRAN,EAAAA,GAAAA,GAAAklI,EAAA,EAAA7tI,IAAA,qBAAA6C,MAED,WAAqB,IAAA0V,EAAA,KACnButF,EAQIxpG,KAAK0gB,MAETgrF,GATOlC,EAALzvF,MACcyvF,EAAdwjC,eACUxjC,EAAVp+E,WAEQo+E,EADRnG,KACE7sD,OAK8Cx2C,KAAK0gB,OAA9BkT,EAAO83E,EAA1Bn+F,MAAS6C,OAAUwjB,QAAa4B,EAAOk2E,EAAPl2E,QAEtC,GAAK5B,EAKL,IACE,IAAMjd,EAAO,IAAI2xC,GAAK10B,EAASpZ,GAAAA,GAAAA,UAC/BZ,QAAQ4jB,IAAI,mBAAD96B,OAAoBiU,EAAK4G,KAAK6+F,YAEzCp8G,KAAK0qD,UAAS,iBAAO,CACnB/zC,KAAAA,EACAy9F,UAAWz9F,EAAK4G,KAAK+F,MACtB,IAED22E,aAAY,WACVh+E,EAAKyuC,UAAS,iBAAO,CACnB0pD,UAAWz9F,EAAK4G,KAAK+F,MACtB,GACH,GAAG,IAEL,CAAE,MAAOnY,GACPyO,QAAQzO,MAAMA,GACdstC,GAAAA,cAAAA,KAA2B39B,GAAAA,cAAAA,kBAA2C,CACpE3P,MAAO,+CAETnL,KAAK0gB,MAAM8U,QAAQt1B,KAAK+uG,GAAa53D,GAAM++C,UAC7C,MAzBE5gE,EAAQt1B,KAAK+uG,GAAa53D,GAAM++C,UA8BpC,GAAC,CAAA1yF,IAAA,oBAAA6C,MAED,WACsCvG,KAAKsjB,MAAjC3M,MAER66H,EAAAA,GAAAA,GAA4DxxI,KAAK0gB,OAuBjEiiC,GAAAA,KAAAA,QAAsBlpC,KAAKC,UAAU,CACnC,GAGJ,GAAC,CAAAhW,IAAA,uBAAA6C,MAED,WACE,GAED,CAAA7C,IAAA,SAAA6C,MAoCD,WACE,IAAA+oI,EAIItvI,KAAK0gB,MAETqrC,GALMujF,EAAJjoH,KACOioH,EAAP95G,QACc85G,EAAdjsC,KAAQ7sD,OAMNx2C,KAAKsjB,OAFP3M,EAAIo1C,EAAJp1C,KACAy9F,EAASroD,EAATqoD,UAGIq9B,EAAkB96H,EAAKwpC,aAAap4C,cACpC2pI,EAAiB/6H,EAAKypC,YAAYr4C,cAElC4pI,EAEJh7H,EAAK4H,IAAIvD,SAASrC,KAAKiF,SAAS6zH,GAAiBzhI,SAEjD2G,EAAK4H,IAAIvD,SAASrC,KAAKiF,SAAS6zH,GAAiB5gI,aAE7C+gI,EAEJj7H,EAAK4H,IAAIvD,SAASrC,KAAKiF,SAAS8zH,GAAgB1hI,SAEhD2G,EAAK4H,IAAIvD,SAASrC,KAAKiF,SAAS8zH,GAAgB7gI,aAE5CghI,EAAyBl7H,EAAKqF,YAAY01H,GAAgB1hI,QAC1D8hI,EAA4Bn7H,EAAKqF,YAAYy1H,GAAiBzhI,QAE9D+hI,EAAkBp7H,EAAK1M,GAC1BxJ,MAAM,KAAKW,KAAI,SAAAmhE,GAAI,OAClB3jE,SAAS2jE,IAASA,EACf9hE,MAAM,IACNuH,QAAO,SAACq0B,EAAK21G,EAAQzqI,GACpB,MAAI,CACF,EAAG,EAAG,EAAG,EACTg7D,EAAKtiE,OAAO,EAAGsiE,EAAKtiE,OAAO,EAAGsiE,EAAKtiE,OAAO,EAAGsiE,EAAKtiE,OAAO,GACzDoa,SAAS9S,GACF80B,EAAM21G,EACD,IAAVzqI,EACK80B,EAAM,IACRA,CACT,GAAG,GAAG,IACR76B,KAAK,KAGHywI,EAAU,CACdplH,OAAQlW,EAAK4xC,KAAO5xC,EAAKywC,UAAYzwC,EAAKwwC,WAC1Cx9B,SAAUhT,EAAK4xC,KAAO5xC,EAAKypC,YAAczpC,EAAKwpC,aAC9CjrB,KAAMk/E,EAAUod,YAChBhxC,OAAS4zB,EAAUod,YAGhBpd,EAAUqd,gBAGTkf,GAAaU,KAFbV,GAAah9C,QAHfg9C,GAAauB,SAMfnwG,IAAK,MAEPkwG,EAAQlwG,IAAMkwG,EAAQ/8G,KAAOgtC,GAAQn5C,aAAa63E,QAAQqxC,EAAQtoH,SAAS5hB,cAAekqI,EAAQ/8G,MAAQ,KAE1G,IAAMi9G,EAAU,CACdtlH,OAAQlW,EAAK4xC,KAAO5xC,EAAKwwC,WAAaxwC,EAAKywC,UAC3Cz9B,SAAUhT,EAAK4xC,KAAO5xC,EAAKwpC,aAAexpC,EAAKypC,YAC/ClrB,KAAMk/E,EAAUsd,YAChBlxC,OAAS4zB,EAAUsd,YAGhBtd,EAAUud,gBAGTgf,GAAaU,KAFbV,GAAah9C,QAHfg9C,GAAauB,SAMfnwG,IAAK,MAEPowG,EAAQpwG,IAAMowG,EAAQj9G,KAAOgtC,GAAQn5C,aAAa63E,QAAQuxC,EAAQxoH,SAAS5hB,cAAeoqI,EAAQj9G,MAAQ,KAG1G,IAAMk9G,EAA0Bh+B,EAAUt4F,WAAkC80H,GAAWyB,SAAhCzB,GAAWj9C,QAE5D2+C,EAAWlqC,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,gBAAgB+4F,eAAe,QAC/DuvC,EAAanqC,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,kBAAkB+4F,eAAe,UACnEwvC,EAAapqC,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,kBAAkB+4F,eAAe,UAEzE,OACEoF,KAAAA,cAAA,OAAKC,UAAU,aACbD,KAAAA,cAAA,MAAIC,UAAU,aACZD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,kBAAkB+4F,eAAe,gBAExDoF,KAAAA,cAAA,OAAKC,UAAU,UAAS,IAAE0pC,GAC1B3pC,KAAAA,cAAA,OAAKC,UAAS,cAAA3lG,OAAgB0vI,IAC3BA,IAAexB,GAAWj9C,SACzByU,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,0BAA0B+4F,eAAe,eAE/DovC,IAAexB,GAAWyB,UACzBjqC,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,2BAA2B+4F,eAAe,iBAGnEoF,KAAAA,cAAA,OAAKC,UAAU,cACbD,KAAAA,cAAC6oC,GAAM,CACLjjI,MAAO2I,EAAK4xC,KAAOiqF,EAAaF,EAChCpB,oBAAqBv6H,EAAK4xC,KAC1Bv4C,QAAS2G,EAAK4xC,KAAOspF,EAAyBF,IAEhDvpC,KAAAA,cAAC+oC,GAAE,CACDtkH,OAAQolH,EAAQplH,OAChBnY,OAAQu9H,EAAQtoH,SAChB1f,GAAIgoI,EAAQ/8G,KAEZ6M,IAAKkwG,EAAQlwG,IACbsS,UAAW,QACXmsC,OAAQyxD,EAAQzxD,SAElB4nB,KAAAA,cAAC6oC,GAAM,CACLjjI,MAAO2I,EAAK4xC,KAAO+pF,EAAWC,EAC9BrB,mBAAoBv6H,EAAK4xC,KACzBv4C,QAAS2G,EAAK4xC,KAAOqpF,EAAmBE,KAG5C1pC,KAAAA,cAAA,OAAKC,UAAU,cACbD,KAAAA,cAAC6oC,GAAM,CACLjjI,MAAO2I,EAAK4xC,KAAOiqF,EAAaF,EAChCpB,oBAAqBv6H,EAAK4xC,KAC1Bv4C,QAAS2G,EAAK4xC,KAAOupF,EAA4BF,IAEnDxpC,KAAAA,cAAC+oC,GAAE,CACDtkH,OAAQslH,EAAQtlH,OAChBnY,OAAQy9H,EAAQxoH,SAChB1f,GAAIkoI,EAAQj9G,KAEZ6M,IAAKowG,EAAQpwG,IACbsS,UAAW,OACXmsC,OAAQ2xD,EAAQ3xD,SAElB4nB,KAAAA,cAAC6oC,GAAM,CACLjjI,MAAO2I,EAAK4xC,KAAO+pF,EAAWC,EAC9BrB,mBAAoBv6H,EAAK4xC,KACzBv4C,QAAS2G,EAAK4xC,KAAOopF,EAAgBE,KAIxCO,IAAexB,GAAWyB,UACzBjqC,KAAAA,cAAA,OAAKC,UAAU,6BACbD,KAAAA,cAACwD,GAAM,CAACrB,OAAK,EAACjC,QAAStoG,KAAKyyI,YAAYrqC,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,yBAAyB+4F,eAAe,qBAIxG,EAOP,KAACuuC,CAAA,CArSyC,CACpBd,GAAAA,iBAAa7nC,KAAAA,GAuSrC,UAAegF,EAAAA,GAAAA,IAAW2jC,I,mBExVS,I,GAoBdmB,GADpBlrC,KCvBD,CAAgB,gBAAkB,2BAA2B,KAAO,2BAA2B,QAAU,4BAA4B,WAAW,2BAA2B,aAAa,2BAA2B,MAAQ,2BAA2B,OAAS,4BAA4B,MAAQ,2BAA2B,YAAc,4BDuBxT,CAAE0C,eAAe,GAAOvB,CAAAC,GAAA,SAAA0R,IAAA5/F,EAAAA,GAAAA,GAAAg4H,EAAAp4B,GAAA,I,IAAA3/F,G,EAAA+3H,E,maAI1C,SAAAA,EAAYhyH,GAAO,IAAA/T,EAMhB,OANgBP,EAAAA,GAAAA,GAAA,KAAAsmI,GACjB/lI,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,2BAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAQE,SAACuT,EAAOQ,GAClBR,GACFA,EAAMs8F,iBAGR,IACEm2B,EAEEjyH,EAFFiyH,WAAUC,EAERlyH,EADFmyH,cAAAA,OAAa,IAAAD,GAAQA,EAIrB7mD,EACEp/E,EAAK2W,MADPyoE,QAGFtzC,GAAAA,SAAAA,WAA4B,CAC1B/0C,IAAKivI,EACL5mD,QAASA,IAGP8mD,GACFA,EAAc9mD,GAGhBp/E,EAAKmmI,eACP,KAAC35H,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAwBa,WAAc,IAAb1B,EAAClK,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,KACZ4L,EAAKomI,kBAKN9nI,GAAKA,EAAE+nI,SAAwB,IAAb/nI,EAAEgoI,QACtBtmI,EAAKumI,cAAc,KAAMvmI,EAAK+T,OAIhC/T,EAAKomI,gBACF1xG,QAAQ0c,MAAMo1F,QAAU,UAAYxmI,EAAKomI,gBAAgB1xG,QAAQ+xG,aAAe,MACrF,KAACj6H,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAEe,SAACuT,GAAK,OAAKvT,EAAK+9C,SAAS,CAACqhC,QAAS7rE,EAAM+pF,OAAO1jG,OAAO,KAAA4S,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAEvD,WACd,IAAA0mI,EAA2B1mI,EAAK2W,MAAxBgwH,OAAAA,OAAM,IAAAD,GAAQA,EAEtB1mI,EAAK+9C,SAAS,CACZ4oF,QAASA,GAEb,IA9EE3mI,EAAKomI,gBAAkB3qC,KAAAA,YACvBz7F,EAAK2W,MAAQ,CACXgwH,QAAQ,EACRvnD,QAAS,IACVp/E,CACH,CA0HC,OA1HAN,EAAAA,GAAAA,GAAAqmI,EAAA,EAAAhvI,IAAA,oBAAA6C,MA4BD,WACE,IACEosI,EACE3yI,KAAK0gB,MADPiyH,WAKI5mD,EAAUtzC,GAAAA,SAAAA,WAA4Bk6F,GAExC5mD,GACF/rF,KAAK0qD,SAAS,CACZqhC,QAAAA,GAGN,GAAC,CAAAroF,IAAA,qBAAA6C,MAED,SAAmBiuG,GACbx0G,KAAK0gB,MAAM4yH,QAAUtzI,KAAK0gB,MAAM4yH,SAAW9+B,EAAU8+B,QAAUtzI,KAAK0gB,MAAM6yH,UAC5EvzI,KAAKwzI,aAET,GAAC,CAAA9vI,IAAA,SAAA6C,MA2BD,WAAS,IAAA0V,EAAA,KACPutF,EAKIxpG,KAAK0gB,MAHPg0B,GADK80D,EAALjgB,MACIigB,EAAJ90D,MAAI++F,EAAAjqC,EACJ/0D,QAAAA,OAAO,IAAAg/F,GAAQA,EAAAC,EAAAlqC,EACfmqC,YAAAA,OAAW,IAAAD,GAAQA,EAGrB3nF,EAGI/rD,KAAKsjB,MAAKswH,EAAA7nF,EAFZunF,OAAAA,OAAM,IAAAM,GAAQA,EAAAC,EAAA9nF,EACdggC,QAAAA,OAAO,IAAA8nD,EAAG,GAAEA,EAGd,OACEzrC,KAAAA,cAAA,OAAKC,UAAU,cACZ5zD,IAAY6+F,EACXlrC,KAAAA,cAAA,QAAMC,UAAU,QAAQkrC,SAAU,SAACtoI,GAAC,OAAKgR,EAAKi3H,cAAcjoI,EAAGgR,EAAKyE,MAAM,GACxE0nF,KAAAA,cAAA,YACE0rC,IAAK9zI,KAAK+yI,gBACV1qC,UAAU,kBAAkBp+F,GAAG,kBAE/B8pI,QAAS/zI,KAAKwzI,YACd5pC,SAAU5pG,KAAKg0I,cAEfztI,MAAOwlF,IAETqc,KAAAA,cAAA,QAAMC,UAAU,SAASC,QAAS,SAACr9F,GAAC,OAAKgR,EAAKi3H,cAAcjoI,EAAGgR,EAAKyE,MAAM,GAAE,KAC5E0nF,KAAAA,cAAA,QAAMC,UAAU,QAAQC,QAAS,kBAAMrsF,EAAK62H,eAAe,GAAE,MAG/D1qC,KAAAA,cAAA,OAAKC,UAAU,WAAWC,QAAS,kBAAMrsF,EAAK62H,eAAe,GAC3D1qC,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,aAAa+4F,eAAe,iBAIpD2wC,GACCvrC,KAAAA,cAAA,OAAKC,UAAU,QACZ3zD,GACC0zD,KAAAA,cAAA,YAAMvqD,EAAAA,GAAAA,GAAOnJ,GAAMoJ,OAAO,SAE3BiuC,GACCqc,KAAAA,cAAA,OAAKC,UAAU,eAAetc,IAM1C,KAAC2mD,CAAA,CArIyC,CACJtqC,KAAAA,iBAAmBQ,G,ykBEVnB,IAGnBqrC,GADpB9pC,KChBD,CAAgB,OAAS,2BAA2B,GAAK,2BAA2B,UAAY,2BAA2B,OAAS,2BAA2B,IAAM,2BAA2B,KAAO,2BAA2B,KAAO,2BAA2B,QAAU,2BAA2B,YAAc,2BAA2B,IAAM,2BAA2B,MAAQ,2BAA2B,KAAO,2BAA2B,QAAU,4BAA4B,UAAY,2BAA2B,cAAgB,4BAA4B,YAAc,2BAA2B,sBAAwB,2BAA2B,QAAU,2BAA2B,eAAiB,2BAA2B,SAAW,2BAA2B,QAAU,2BAA2B,WAAa,2BAA2B,eAAiB,2BAA2B,WAAa,2BAA2B,aAAe,2BAA2B,WAAa,6BDgBx8B,CAAED,eAAe,GAAOvB,CAAAC,GAAA,SAAAskC,IAAAxyH,EAAAA,GAAAA,GAAAu5H,EAAA/G,GAAA,I,IAAAvyH,G,EAAAs5H,E,maAE1C,SAAAA,EAAYvzH,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAA6nI,GACjBtnI,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAoBK,SAAAO,IAAA,IAAAgoF,EAAAh+E,EAAA5W,EAAA,OAAAqM,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OAAAkjG,EACY78F,EAAK+T,MAA1B8K,EAAUg+E,EAAVh+E,WAAY5W,EAAI40F,EAAJ50F,KAEhB4W,GACFitB,GAAAA,KAAAA,gBAA6B7jC,EAAM4W,EAAWzjB,eAAeg5B,MAAK,SAACmzG,GACjEvnI,EAAK+9C,UAAS,iBAAO,CACnBwpF,eAAAA,EACAC,UAAU,EACX,GACH,IACD,wBAAA1yH,EAAAJ,OAAA,GAAAG,EAAA,OACFrI,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEkB,SAAAC,IAAA,IAAAwqF,EAAA0oC,EAAAx/H,EAAA5E,EAAA6c,EAAA0iC,EAAA+6B,EAAAkJ,EAAA31B,EAAAl0C,EAAAF,EAAAqD,EAAA,OAAA7L,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OAAAolG,EAUb/+F,EAAK+T,MAAK0zH,EAAA1oC,EARZ/gB,YACE/1E,EAAIw/H,EAAJx/H,KACW5E,EAAOokI,EAAlBhmG,UACAvhB,EAAMunH,EAANvnH,OACA0iC,EAAW6kF,EAAX7kF,YACA+6B,EAAW8pD,EAAX9pD,YAEWkJ,EAAOkY,EAApB/gB,aAGI9sB,EAAaplB,GAAAA,KAAAA,UAAuB,CACxCzoC,QAAAA,EACA2Z,SAAU/U,OAIR+U,EAGEk0C,EAHFl0C,SACAF,EAEEo0C,EAFFp0C,QACAqD,EACE+wC,EADF/wC,mBAGF2rB,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,SAA2B,CAC7C6O,SAAAA,EACA3Z,QAAAA,EACAyZ,QAAAA,EACA4qH,aAAcx2E,EACd/wC,mBAAAA,EACAshB,UAAWmhB,GAAe+6B,EAC1Bz9D,OAAAA,EACA2mE,QAAAA,EACAnlE,gBAAiB,GACjBw7D,QAAS,WACPl9E,EAAK+9C,SAAS,CACZ4pF,OAAO,GAEX,KAEH,wBAAA/yH,EAAAF,OAAA,GAAAH,EAAA,OACF/H,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEqB,SAAAa,IAAA,IAAA6oE,EAAA,OAAA1pE,IAAAA,MAAA,SAAAe,GAAA,cAAAA,EAAA/Z,KAAA+Z,EAAA1b,MAAA,OACZqkF,EAAgBh+E,EAAK+T,MAArBiqE,YAERlyC,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,QAA0B,CAC5C6oF,SAAU,WAAF,IAAA4wC,GAAAvzH,EAAAA,EAAAA,GAAAC,IAAAA,MAAE,SAAAkB,IAAA,OAAAlB,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,cAAA+b,EAAA/b,KAAA,EACFmyC,GAAAA,SAAAA,cAA+BkyC,EAAY1gF,IAAG,OACpD0C,EAAK+9C,SAAS,CACZ8pF,WAAW,IACX,wBAAAnyH,EAAAhB,OAAA,GAAAc,EAAA,KACH,yBAAAoyH,EAAAx0H,MAAA,KAAAhf,UAAA,EALS,KAMV,wBAAAihB,EAAAX,OAAA,GAAAS,EAAA,OACH3I,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,yBAEuB,WACtB,IAEIqnF,EAEArnF,EAAK+T,MAHPuzE,UACED,SAIEv9C,EAAO,GAAH/zC,OAAMszF,MAAetzF,OAAG20C,GAAM6/C,UAAS,iBAAAx0F,OAAgBsxF,GAEjEv7C,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,MAAwB,CAC1C27B,KAAAA,EACAzoC,MAAO,sCAEX,KAACmL,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAEiB,WAChB,IAAA2iI,EAKI3iI,EAAK+T,MAJP8U,EAAO85G,EAAP95G,QAEEw+D,EAAQs7C,EADVr7C,UACED,SAIEygD,EAAY,GAAH/xI,OAAM20C,GAAM6/C,UAAS,iBAAAx0F,OAAgBsxF,GAEpDx+D,EAAQt1B,KAAKu0I,EACf,KAACt7H,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,cAEY,SAAC0nC,EAAW9tC,EAAOmuI,EAAe9/H,GAC7C,IAAAw7H,EAA6BzjI,EAAK+T,MAA1BgqE,EAAM0lD,EAAN1lD,OAAQz1E,EAAQm7H,EAARn7H,SAChB,OAAQL,GACN,IAAK,sBAEL,IAAK,sBAEL,IAAK,iBAAkBA,EAAO,MAIhC,OACEwzF,MAAA1qD,cAAA,OAAKzzC,GAAG,wBACLoqC,IAAcqgG,EACXtsC,MAAA1qD,cAAA,OAAK2qD,UAAU,UAAQ,KAAA3lG,OACf6jB,WAAWyG,OAAOzmB,GAAOkoE,QAAQ,KAAM,IAAE75D,EAAKiI,cACnD5H,EACCmzF,MAAA1qD,cAAA,QAAM2qD,UAAU,iBAAiBpzF,EAAS4H,eACxC,GACQ,YAAX6tE,EACC0d,MAAA1qD,cAAA,QAAM2qD,UAAU,gBAAeD,MAAA1qD,cAACkxD,GAAO,CAAC3kG,GAAG,qBAAoB,YAC7D,IAGNm+F,MAAA1qD,cAAA,OAAK2qD,UAAU,UAAQ,KAAA3lG,OACf6jB,WAAWyG,OAAOzmB,GAAOkoE,QAAQ,KAAO,IAC7C75D,EAAKiI,cACL5H,EACCmzF,MAAA1qD,cAAA,QAAM2qD,UAAU,iBAAiBpzF,EAAS4H,eACxC,IAMhB,KAAC1D,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAEkB,SAACyD,GAClB,IACE2mC,EAKE3mC,EALF2mC,SACA49F,EAIEvkI,EAJFukI,WACAC,EAGExkI,EAHFwkI,UACAjgI,EAEEvE,EAFFuE,KACAugB,EACE9kB,EADF8kB,KAaF,OAVI4xB,GAAUhR,QAAQ,CAAEnhC,KAAAA,MAIpBggI,EADE59F,EAASk/C,SAAS57E,SAASu6H,GAChB,MAAHlyI,OAASwyB,GAEN,SAAHxyB,OAAYiS,EAAI,QAAAjS,OAAOwyB,IAIrC7d,GAAAA,GAAA,GACK0/B,GAAQ,IACXk/C,SAAU0+C,GAEd,IA9KE,IAAQz/G,EAAkDxU,EAAlDwU,KAAMtgB,EAA4C8L,EAA5C9L,KAAMg3E,EAAsClrE,EAAtCkrE,WAAYjB,EAA0BjqE,EAA1BiqE,YAAakqD,EAAan0H,EAAbm0H,SACvCC,EAAUnqD,GAAeA,EAAY1gF,GACrC4hF,EAAM,GAAHnpF,OAAMoyI,GAAW5/G,EAAI,KAAAxyB,OAAIkS,GASjC,OAPDjI,EAAK2W,MAAQ,CACXuxH,SAAWA,GAAY,cACvBX,eAAgB,EAChBnoD,QAAStzC,GAAAA,SAAAA,qBAAsCmzC,EAAYC,GAC3D2oD,WAAW,EACXF,OAAO,EACPH,UAAU,GACXxnI,CACH,CA4aC,OA5aAN,EAAAA,GAAAA,GAAA4nI,EAAA,EAAAvwI,IAAA,oBAAA6C,MAED,WACEvG,KAAK+0I,kBACP,GAAC,CAAArxI,IAAA,SAAA6C,MAgKD,WAAS,IAAA0V,EAAA,KACP+4H,EAaIh1I,KAAK0gB,MAZP8K,EAAUwpH,EAAVxpH,WACAxb,EAAOglI,EAAPhlI,QACci0F,EAAiB+wC,EAA/BtoH,aACA9X,EAAIogI,EAAJpgI,KACAy/B,EAAS2gG,EAAT3gG,UACA9tC,EAAKyuI,EAALzuI,MACM0uI,EAASD,EAAf9/G,KACA2U,EAAamrG,EAAbnrG,cACA6gD,EAAMsqD,EAANtqD,OACAC,EAAWqqD,EAAXrqD,YACAj2C,EAAIsgG,EAAJtgG,KACAu/C,EAAS+gD,EAAT/gD,UAIAkgD,EACEn0I,KAAKsjB,MADP6wH,SAGIe,EAAgBllI,EAAU,GAAHtN,OAAMsN,EAAQzO,MAAM,EAAG,GAAE,OAAAmB,OAAMsN,EAAQzO,OAAO,IAAO,GAC5E2zB,EAAQy1D,GAAeA,EAAYthD,OAAUshD,EAAYthD,OAAS4rG,EAExElpF,EAA6C/rD,KAAKsjB,MAA1C4wH,EAAcnoF,EAAdmoF,eAAgBM,EAASzoF,EAATyoF,UAAWF,EAAKvoF,EAALuoF,MAC7Ba,IAAYjB,GAAiBp2H,GAA6B,CAC9DqmB,KAAM+vG,EACN3tI,MAAAA,IAGI6uI,EAAiBzqD,EACnBA,EAAYp7B,YACVo7B,EAAYp7B,YACZo7B,EAAYL,YACd,GAOA+qD,EALoBlqC,KAAG,SAAU,CACnC,GAAoB,OAAd92D,EACN,IAAqB,OAAdA,EACP,KAAsB,SAAdA,IAINs2C,IACF0qD,EAAoBlqC,KAAG,SAAU,CAC/B,GAAoB,OAAd92D,EACN,IAAqB,OAAdA,EACP,KAAsB,SAAdA,KAIZ,IAAMihG,EAAqB3qD,IAAgBA,EAAYhhD,MAAsB,OAAd0K,GAA6C,QAAvBs2C,EAAYnK,SAAqBg0D,IAAcF,EAChIiB,EAAqB,gBACrBC,EAAoBptC,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,6BAA6B+4F,eAAe,oBACrFrY,IAAwC,UAAvBA,EAAYnK,QAAuB8zD,KACtDiB,EAAqB,UACrBC,EAAoBptC,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,yBAAyB+4F,eAAe,aAE/ErY,IAAwC,cAAvBA,EAAYnK,QAA2Bg0D,KAC1De,EAAqB,cACrBC,EAAoBptC,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,6BAA6B+4F,eAAe,cAGvF,IAAIyyC,EAAS,IAAH/yI,OAAOy/C,GAAevtC,GAAM,GAAM,QAAAlS,OAAOwyB,GAUnD,MARe,YAAXw1D,GAAwBC,EAAYqJ,WACtCyhD,EAAS,GAAH/yI,OAAM20C,GAAMm8C,QAAO,KAAA9wF,OAAIioF,EAAYqJ,WAG5B,YAAXtJ,GAAwBuJ,EAAUD,WACpCyhD,EAAS,GAAH/yI,OAAM20C,GAAM6/C,UAAS,iBAAAx0F,OAAgBuxF,EAAUD,WAIrDoU,MAAA1qD,cAAA0qD,MAAAuB,SAAA,KACEvB,MAAA1qD,cAAA,MAAI2qD,UAAU,cACZD,MAAA1qD,cAAA,UACE0qD,MAAA1qD,cAAA,OAAK2qD,UAAS,GAAA3lG,OAAK2yI,EAAiB,gBAClCjtC,MAAA1qD,cAAA,OAAK2qD,UAAU,aACbD,MAAA1qD,cAACg4F,GAAAA,GAAI,CAAC/kG,GAAI8kG,GACRrtC,MAAA1qD,cAAA,OAAKi4F,MAAM,KAAKxrG,OAAO,KAAKyrG,QAAQ,YAAY3qC,KAAK,QACnD7C,MAAA1qD,cAAA,QAAM7wC,EAAE,UAAUgpI,OAAO,UAAUC,YAAY,MAC/C1tC,MAAA1qD,cAAA,QAAM7wC,EAAE,gBAAgBgpI,OAAO,UAAUC,YAAY,UAK7D1tC,MAAA1qD,cAAA,OAAK2qD,UAAU,eACbD,MAAA1qD,cAAA,WACc,YAAXgtC,EACC0d,MAAA1qD,cAAA0qD,MAAAuB,SAAA,KACEvB,MAAA1qD,cAACg4F,GAAAA,GAAI,CAAC/kG,GAAI8kG,GACRrtC,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,mBACH+4F,eAAe,oBACfl9F,OAAQ,CACN4E,OAAQ,GAAFhI,OAAKioF,EAAY1gF,GAAE,KAAAvH,OAAIioF,EAAYorD,mBAI/C3tC,MAAA1qD,cAAA,OAAK2qD,UAAS,GAAA3lG,OAAK6yI,EAAkB,UAClCC,IAGLptC,MAAA1qD,cAAA0qD,MAAAuB,SAAA,KACEvB,MAAA1qD,cAACg4F,GAAAA,GAAI,CACH/kG,GAAI,SAACoG,GAAQ,OAAK96B,EAAK+5H,iBAAiB,CACtCj/F,SAAAA,EACA49F,WAAYc,EACZb,UAAW,UAAFlyI,OAAYuhG,EAAiB,KAAAvhG,OAAIkS,EAAI,KAC9CD,KAAMsvF,EAAoB,IAAHvhG,OAAOuhG,EAAiB,KAAAvhG,OAAIkS,GAASA,EAC5DsgB,KAAMA,GACN,GAEW,YAAXw1D,EACA0d,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,6BAA6B+4F,eAAe,SAE/DoF,MAAA1qD,cAAA0qD,MAAAuB,SAAA,KAEkB,OAAdt1D,EACI+zD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,gBAAgB+4F,eAAe,qBAAqBl9F,OAAQ,CACjFkK,QAASklI,EAAgB9sC,MAAA1qD,cAAA,YAAM0qD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,UAAU+4F,eAAe,SAAS,IAAEkyC,GAAwB,MAGlG,SAAd7gG,EACI+zD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,gBAAgB+4F,eAAe,iBAAiBl9F,OAAQ,CAC7EkK,QAASklI,EAAgB9sC,MAAA1qD,cAAA,YAAM0qD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,QAAQ+4F,eAAe,OAAO,IAAEkyC,GAAwB,MAE5G9sC,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,gBAAgB+4F,eAAe,WAQzD,YAAXtY,EACA0d,MAAA1qD,cAAA0qD,MAAAuB,SAAA,KACwB,YAArB1V,EAAUzT,QACT4nB,MAAA1qD,cAAA,OAAK2qD,UAAU,oBACbD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,gCAAgC+4F,eAAe,aAGlD,WAArB/O,EAAUzT,QACT4nB,MAAA1qD,cAAA,OAAK2qD,UAAU,eACbD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,8BAA8B+4F,eAAe,cAGhD,WAArB/O,EAAUzT,QACT4nB,MAAA1qD,cAAA,OAAK2qD,UAAU,eACbD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,+BAA+B+4F,eAAe,eAKvEoF,MAAA1qD,cAAA,OAAK2qD,UAAWx+D,EAAgB,EAAI,eAAiB,oBAClDA,EAAgB,EAAIA,EAAgB,EACnCu+D,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,eAAe+4F,eAAe,aACnDoF,MAAA1qD,cAAA,KAAG40D,KAAK,KAAIlK,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,gBAAgB+4F,eAAe,eAChEoF,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,gBAAgB+4F,eAAe,mBASlEoF,MAAA1qD,cAACg1F,GAAU,CACTnpD,MAAOoB,GAAeA,EAAYpB,MAClC70C,KAAMA,EACNi/F,aAAa,EACbhB,WAAYz9G,IAIby1D,GAAeA,EAAYF,SAC1B2d,MAAA1qD,cAAA,OAAK2qD,UAAU,yBACbD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,2BACH+4F,eAAe,aACd,IACHoF,MAAA1qD,cAAA,QAAM2qD,UAAU,WAAW1d,EAAYF,UAK/B,YAAXC,GAAsC,OAAdr2C,GACvB+zD,MAAA1qD,cAAA,OAAK2qD,UAAU,kBACbD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,2BACH+4F,eAAe,qBACd,IACHoF,MAAA1qD,cAAA,OAAKK,MAAO,CAAEC,QAAS,OAAQi4F,WAAY,WACzC7tC,MAAA1qD,cAACmzF,GAAO,CAAC7gI,QAASolI,EAAgBt3F,OAAQ4e,GAAcs0E,QACxD5oC,MAAA1qD,cAAA,QAAM2qD,UAAU,YAAW,IAAE1d,EAAYurD,WAAW,QAO3DZ,GACCltC,MAAA1qD,cAAA,OAAK2qD,UAAU,cACbD,MAAA1qD,cAAA,UAAQ4qD,QAAStoG,KAAKm2I,kBACpB/tC,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,uBAAuB+4F,eAAe,SAE7DoF,MAAA1qD,cAAA,UAAQ4qD,QAAStoG,KAAKo2I,qBACpBhuC,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,0BAA0B+4F,eAAe,cAKxD,YAAXtY,GAA6C,YAArBuJ,EAAUzT,QACjC4nB,MAAA1qD,cAAA,OAAK2qD,UAAU,kBACXpU,EAAUC,SACVkU,MAAA1qD,cAAA0qD,MAAAuB,SAAA,KACEvB,MAAA1qD,cAAA,YACE0qD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,mCACH+4F,eAAe,qDAEnBoF,MAAA1qD,cAAA,UAAQ4qD,QAAStoG,KAAKq2I,uBACpBjuC,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,gCACH+4F,eAAe,gBAKnBoF,MAAA1qD,cAAA0qD,MAAAuB,SAAA,KACEvB,MAAA1qD,cAAA,YACE0qD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,oCACH+4F,eAAe,gCAGnBoF,MAAA1qD,cAAA,UAAQ4qD,QAAStoG,KAAKs2I,iBACpBluC,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,4BACH+4F,eAAe,eAS7BoF,MAAA1qD,cAAA,OAAK2qD,UAAWgtC,GACb1qD,EACG3qF,KAAKumB,WAAW8tB,EAAW9tC,EAAO,MAAOqO,GACzC5U,KAAKumB,WAAW8tB,EAAW9tC,EAAO,KAAMqO,GAC3Cu/H,GAAYgB,EACX/sC,MAAA1qD,cAAA,QAAM2qD,UAAU,aAAY,IACxB8sC,EAAS,IAEV3pH,GAED,QAMhB,KAACyoH,CAAA,CA7byC,CACXxD,GAAAA,iBAAa7nC,GEjB9C,UAAgB,MAAQ,4BAA4B,WAAa,4BAA4B,OAAS,2BAA2B,QAAU,2BAA2B,YAAc,4BAA4B,YAAc,4BAA4B,SAAW,2BAA2B,IAAM,6BCAtS,IAAgB,QAAU,2BAA2B,eAAiB,2BAA2B,cAAgB,4B,UCGhF,IAmBZ2tC,GADpB/uC,KAAWrjD,GAAQ,CAAE+lD,eAAe,GAAOvB,EAAAyG,GAAA,SAAAvG,IAAAnuF,EAAAA,GAAAA,GAAA67H,EAAA1tC,GAAA,I,IAAAluF,G,EAAA47H,E,maAY1C,SAAAA,EAAY71H,GAAO,IAAA/T,EAKhB,OALgBP,EAAAA,GAAAA,GAAA,KAAAmqI,GACjB5pI,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,2BAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,2BAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAoBG,SAAC1C,GAChB0C,EAAK+9C,UAAS,iBAAO,CAAE8rF,SAAUvsI,EAAI,GACvC,KAACkP,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,yBAEuB,WAMtB,IALA,IAAA0iG,GAAAx0F,EAAAA,GAAAA,GAAAlO,GAAyB8pI,EAAMpnC,EAAvBqnC,gBAEJC,EAFoDtnC,EAAvBunC,gBAEjBzqI,SAAS,GAAG0qI,MACxBC,EAAKL,EAAOtqI,SAAS,GAAG0qI,MAEnB92I,EAAI,EAAGA,EAAI42I,EAAG12I,OAAQF,IAC7B42I,EAAG52I,GAAGg+C,MAAM43F,MAAQ,GAAHjzI,OAAMo0I,EAAG/2I,GAAGg3I,YAAW,KAE5C,IA/BEpqI,EAAK2W,MAAQ,CACXkzH,SAAU,GACX7pI,CACH,CAmFC,OAnFAN,EAAAA,GAAAA,GAAAkqI,EAAA,EAAA7yI,IAAA,oBAAA6C,MAED,WACwB,iBAAlBvG,KAAK0gB,MAAMzW,KACbwhB,OAAOuvE,iBAAiB,SAAUh7F,KAAKg3I,uBACvCh3I,KAAKg3I,wBAET,GAAC,CAAAtzI,IAAA,uBAAA6C,MAED,WACwB,iBAAlBvG,KAAK0gB,MAAMzW,IACbwhB,OAAOwvE,oBAAoB,SAAUj7F,KAAKg3I,sBAE9C,GAAC,CAAAtzI,IAAA,wBAAA6C,MAiBD,SAAsB0wI,EAAWC,GAC/B,IAAA1tC,EAA2BxpG,KAAK0gB,MAAxBy2H,EAAI3tC,EAAJ2tC,KAER,OAFuB3tC,EAAT4tC,YAEOH,EAAUG,WAAaD,IAASF,EAAUE,MAAQn3I,KAAKsjB,MAAMkzH,WAAaU,EAAUV,QAC3G,GAAC,CAAA9yI,IAAA,SAAA6C,MAED,WAAS,IAAA0V,EAAA,KACPyvF,EAQI1rG,KAAK0gB,MAPP22H,EAAM3rC,EAAN2rC,OACAF,EAAIzrC,EAAJyrC,KACAG,EAAS5rC,EAAT4rC,UACAC,EAAW7rC,EAAX6rC,YACAH,EAAS1rC,EAAT0rC,UACAI,EAAW9rC,EAAX8rC,YACAptC,EAASsB,EAATtB,UAGF,OACEhC,KAAAA,cAAA,SAAOC,UAAU,QAAQ+B,UAAS,SAAA1nG,OAAW0nG,GAAa0pC,IAAK,SAAC2D,GAAK,OAAKx7H,EAAKy7H,YAAcD,CAAK,GAChGrvC,KAAAA,cAAA,SAAO0rC,IAAK,SAAC6D,GAAK,OAAK17H,EAAK26H,gBAAkBe,CAAK,GACjDvvC,KAAAA,cAAA,UAEIivC,GAAUA,EAAOjoI,QAAO,SAAApB,GAAK,QAAMA,CAAK,IAAE5M,KAAI,SAAC4M,EAAOzG,GAAK,OACzD6gG,KAAAA,cAAA,MAAI1kG,IAAK6D,GAAQyG,EAAW,MAKpCo6F,KAAAA,cAAA,SAAO0rC,IAAK,SAAC8D,GAAK,OAAK37H,EAAKy6H,gBAAkBkB,CAAK,GAE/CR,GACEhvC,KAAAA,cAAA,UACEA,KAAAA,cAAA,MAAIC,UAAU,cAAcmvC,KAK/BJ,IAAcD,EAAKl3I,QAClBmoG,KAAAA,cAAA,UACEA,KAAAA,cAAA,MAAIC,UAAU,cAAckvC,KAK/BH,KAAeD,EAAKl3I,QAAUk3I,EAAK/1I,KAAI,SAACy2I,EAAKC,GAC5C,GAAyB,mBAAdR,EACT,OAAOA,EAAUO,EAAKC,EAAU77H,EAAKqH,MAAMkzH,SAAUv6H,EAAK87H,eAE9D,KAKV,KAACxB,CAAA,CArGyC,CACTnuC,KAAAA,YAAejvF,EAAAA,EAAAA,GAAAi2F,GAAA,eAK1B,CACpBmoC,YAAanvC,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,UAAU+4F,eAAe,uBAC3Dw0C,YAAapvC,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,UAAU+4F,eAAe,eAC3Dq0C,OAAQ,KATgCzuC,GAUzCwG,MAAAxG,G,2CC5BI,I,gBCF2D,IDE1B4C,GAChCwsC,GCAaC,IDDmBzsC,GCAnB5C,GAAA,SAAAC,IAAAnuF,EAAAA,GAAAA,GAAAu9H,EAAApvC,GAAA,I,IAAAluF,G,EAAAs9H,E,maAAA,SAAAA,IAAA,OAAA7rI,EAAAA,GAAAA,GAAA,KAAA6rI,GAAAt9H,EAAAoF,MAAA,KAAAhf,UAAA,CASlB,OATkBsL,EAAAA,GAAAA,GAAA4rI,EAAA,EAAAv0I,IAAA,SAAA6C,MAEnB,WACE,IAAAijG,EAA2BxpG,KAAK0gB,MAAxB3G,EAAKyvF,EAALzvF,MAAUuuB,GAAI7f,EAAAA,EAAAA,GAAA+gF,EAAAjhE,IACd+uG,EAAchvG,EAAdgvG,UAER,OACElvC,KAAAA,cAACmuC,IAAK1qC,EAAAA,GAAAA,GAAA,GAAKvjE,EAAI,CAAEgvG,UAAWA,EAAWH,KAAMp9H,IAEjD,KAACk+H,CAAA,CATkB,CAC4B7vC,KAAAA,YDAzC4vC,GAAc,SAAAnvC,IAAAnuF,EAAAA,GAAAA,GAAAs9H,EAAAnvC,GAAA,I,IAAAluF,G,EAAAq9H,E,maAAA,SAAAA,IAAA,IAAArrI,GAAAP,EAAAA,GAAAA,GAAA,KAAA4rI,GAAA,QAAAp4H,EAAA7e,UAAAd,OAAAqsE,EAAA,IAAAlsE,MAAAwf,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAwsD,EAAAxsD,GAAA/e,UAAA+e,GAiBjB,OAjBiBnT,EAAAgO,EAAAtZ,KAAA0e,MAAApF,EAAA,OAAAjY,OAAA4pE,KAAAnzD,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,YASP,WACT,IAAA68F,EAA4C78F,EAAK+T,MAAzCw3H,EAAY1uC,EAAZ0uC,aAAcn+H,EAAKyvF,EAALzvF,MAAOo+H,EAAU3uC,EAAV2uC,WAEI16F,SAAS26F,gBAAgBC,UAAY56F,SAAS26F,gBAAgBE,cAE/D76F,SAAS/e,KAAK65G,aAAeL,GAAgBn+H,EAAM9Z,SAAWk4I,GAAcp+H,EAAM9Z,QAChH0M,EAAK+T,MAAM83H,SAEf,IAAC7rI,CAAA,CAKA,OALAN,EAAAA,GAAAA,GAAA2rI,EAAA,EAAAt0I,IAAA,oBAAA6C,MAhBD,WACEklB,OAAOuvE,iBAAiB,SAAUh7F,KAAKy4I,SACzC,GAAC,CAAA/0I,IAAA,uBAAA6C,MAED,WACEklB,OAAOwvE,oBAAoB,SAAUj7F,KAAKy4I,SAC5C,GAAC,CAAA/0I,IAAA,SAAA6C,MAYD,WACE,IAAAmlG,EAAuD1rG,KAAK0gB,MAAd4nB,GAA/BojE,EAAP8sC,QAAqB9sC,EAAZwsC,aAAwBxsC,EAAVysC,YAAmB1vH,EAAAA,EAAAA,GAAAijF,EAAAnjE,KAClD,OAAO6/D,KAAAA,cAACoD,GAAcljE,EACxB,KAAC0vG,CAAA,CAtBiB,CAAS5vC,KAAAA,YA0BdswC,UAAY,CACzBF,QAAS1sC,KAAAA,KACTosC,aAAcpsC,KAAAA,OACd/xF,MAAO+xF,KAAAA,MACPqsC,WAAYrsC,KAAAA,QAGPksC,ICjCuDpvC,ICJhE,UAAgB,iBAAmB,2BAA2B,gBAAkB,2BAA2B,gBAAkB,4BAA4B,KAAO,4BAA4B,UAAY,4BAA4B,MAAQ,2BAA2B,MAAQ,4BAA4B,IAAM,2BAA2B,QAAU,4BAA4B,MAAQ,2BAA2B,IAAM,4BAA4B,QAAU,2BAA2B,KAAO,2BAA2B,KAAO,2BAA2B,IAAM,2BAA2B,QAAU,2BAA2B,QAAU,4BAA4B,UAAY,4BCgBxpB,GAAepB,IAAf,EAXuB,WAAH,OAClBY,KAAAA,cAAA,OAAKC,UAAU,qBACbD,KAAAA,cAAA,OAAKC,UAAU,QACfD,KAAAA,cAAA,OAAKC,UAAU,QACfD,KAAAA,cAAA,OAAKC,UAAU,UACfD,KAAAA,cAAA,OAAKC,UAAU,SACfD,KAAAA,cAAA,OAAKC,UAAU,SACfD,KAAAA,cAAA,OAAKC,UAAU,QACX,GAGkClkD,GAAQ,CAAE+lD,eAAe,ICLnE,GAAe1C,IAAf,EANqB,WAAH,OAChBY,KAAAA,cAAA,OAAKC,UAAU,mBACbD,KAAAA,cAAA,OAAKC,UAAU,QACX,GAGgClkD,GAAQ,CAAE+lD,eAAe,ICKjE,GAAe1C,IAAf,EAXA,WAEE,OACEY,KAAAA,cAAA,OAAKC,UAAU,qBACbD,KAAAA,cAAA,OAAKC,UAAU,QACfD,KAAAA,cAAA,OAAKC,UAAU,QACfD,KAAAA,cAAA,OAAKC,UAAU,UAGrB,GAE0ClkD,GAAQ,CAAE+lD,eAAe,ICCnE,GAAe1C,IAAf,EAZA,WAEE,OACEY,KAAAA,cAAA,OAAKC,UAAU,qBACbD,KAAAA,cAAA,OAAKC,UAAU,QACfD,KAAAA,cAAA,OAAKC,UAAU,QACfD,KAAAA,cAAA,OAAKC,UAAU,UACfD,KAAAA,cAAA,OAAKC,UAAU,SAGrB,GAE0ClkD,GAAQ,CAAE+lD,eAAe,IC+BnE,GAAe1C,IAAf,EAxCA,SAAuB9mF,GACrB,IAAQoqF,EAAuEpqF,EAAvEoqF,MAAO6tC,EAAgEj4H,EAAhEi4H,MAAOC,EAAyDl4H,EAAzDk4H,gBAAiBC,EAAwCn4H,EAAxCm4H,gBAAiBC,EAAuBp4H,EAAvBo4H,QAASC,EAAcr4H,EAAdq4H,UAEjE,OACE3wC,KAAAA,cAACuB,GAAAA,SAAQ,KAELivC,EACExwC,KAAAA,cAAA,OAAKC,UAAS,oCAAA3lG,OAAsCooG,EAAQ,OAAS,GAAE,KAAApoG,OAAIi2I,EAAQ,QAAU,KAEzF7tC,EACE1C,KAAAA,cAAA,OAAKC,UAAU,aACbD,KAAAA,cAAA,SAAG,mBACHA,KAAAA,cAAA,YAAM,iDAEN,GAEJ0C,GAAUiuC,EAA+B,GAAnB3wC,KAAAA,cAAC4wC,GAAY,MACrC5wC,KAAAA,cAAC6wC,GAAc,MACf7wC,KAAAA,cAAC6wC,GAAc,OAEf,GAGJJ,EACEzwC,KAAAA,cAAA,OAAKC,UAAU,oCACbD,KAAAA,cAAC8wC,GAAc,OAEf,GAGJJ,EACE1wC,KAAAA,cAAA,OAAKC,UAAU,4BACbD,KAAAA,cAAC+wC,GAAc,OAEf,GAIZ,GAEyCh1F,GAAQ,CAAE+lD,eAAe,ICblE,GAAe1C,IAAf,EA9BmB,SAAHj7F,GAAyD,IAAnD6sI,EAAW7sI,EAAX6sI,YAAa7F,EAAQhnI,EAARgnI,SAAU3pC,EAAQr9F,EAARq9F,SAAUyvC,EAAW9sI,EAAX8sI,YAE/CC,EAAe,SAAAruI,GACnBA,EAAEuxG,iBAEF+2B,GACF,EASA,OACEnrC,KAAAA,cAAA,QAAMC,UAAU,aAAakrC,SAAU+F,GACrClxC,KAAAA,cAAA,SAAOmxC,YAAY,SAAShzI,MAAO6yI,EAAaxkI,KAAK,OAAOg1F,SAAUA,IACtExB,KAAAA,cAAA,OAAKC,UAAU,WACbD,KAAAA,cAAA,UAAQC,UAAU,OAAOC,QAASgxC,EAAc1kI,KAAK,UACnDwzF,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,iBAAiB+4F,eAAe,UAEvDoF,KAAAA,cAAA,UAAQC,UAAS,OAAA3lG,OAAS02I,EAAc,SAAW,IAAM9wC,QAdrC,SAAAr9F,GACxBA,EAAEuxG,iBACFvxG,EAAEuuI,kBAEFH,GACF,EAS2FzkI,KAAK,UACxFwzF,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,gBAAgB+4F,eAAe,UAK9D,GCjCA,CAAgB,WAAa,2BAA2B,QAAU,2BAA2B,KAAO,2BAA2B,IAAM,2BAA2B,OAAS,4BDmC3H,CAAEkH,eAAe,IEnC/D,IAAgB,KAAO,2BAA2B,sBAAwB,4BAA4B,sBAAwB,2BAA2B,uBAAyB,2BAA2B,MAAQ,4BAA4B,QAAU,2BAA2B,gBAAkB,2BAA2B,eAAiB,4BAA4B,IAAM,2BAA2B,SAAW,4BAA4B,MAAQ,2BAA2B,MAAQ,2BAA2B,OAAS,2BAA2B,QAAU,2BAA2B,UAAY,4BAA4B,cAAgB,4BAA4B,OAAS,2BAA2B,kBAAoB,2BAA2B,KAAO,4B,aCoBrvB,IAAMn5C,GAAgBziC,IAAUA,GAAAA,SA6C1BmrH,IAAY9wC,IA3CjBztC,EAAAA,EAAAA,KAAQ,SAAA3uD,GAmBH,IAAAugI,EAAAvgI,EAlBJopB,KAmBA,MAAO,CACL1uB,KAAM,CACJsO,IApBKu3H,EAAP/hH,QAqBEvV,IApBKs3H,EAAP9iH,QAqBEvU,IApBKq3H,EAAP7iH,QAqBEvU,MApBOo3H,EAAT5iH,UAqBEvU,OApBQm3H,EAAV3iH,WAqBEvU,OApBQk3H,EAAV1iH,WAqBEvU,KApBMi3H,EAARziH,SAqBEvU,IApBKg3H,EAAPxiH,QAqBEvU,KApBM+2H,EAARviH,SAqBEvU,KApBM82H,EAARtiH,SAqBEvU,IApBK62H,EAAPriH,QAqBElU,MApBOu2H,EAATtjH,UAqBEljB,KApBMwmI,EAAR/iH,SAqBE3T,IApBK02H,EAAPniH,QAqBEzU,IApBK42H,EAAPhiH,SAsBAU,WArBUshH,EAAVthH,WAuBJ,IAAEyhH,GAEDzlC,KAAWrjD,GAAQ,CAAE+lD,eAAe,IAAOvB,GAAAC,IAD3C8wC,EAAAA,EAAAA,IAAU9wC,GAAAqkC,GAAArkC,GAAA,SAAAskC,IAAAxyH,EAAAA,GAAAA,GAAA++H,EAAAvM,GAAA,IA2FRC,EA/DAwM,E,IA5BQh/H,G,EAAA8+H,E,maAKT,SAAAA,EAAY/4H,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAAqtI,GACjB9sI,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,aAHF,IAAKwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBA2BI,WACnB,IAAA68F,EAAsC78F,EAAK+T,MAAnC8U,EAAOg0E,EAAPh0E,QAAiBghB,EAAMgzD,EAAdnG,KAAQ7sD,OAEzBhhB,EAAQt1B,KAAK+uG,GAAaz4D,EAAQa,GAAM9mC,QAC1C,KAAC4I,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,cAEY,WACX,IAAAo/C,EAGIp/C,EAAK2W,MAFP1O,EAAIm3C,EAAJn3C,KACA5E,EAAO+7C,EAAP/7C,QAGF,GAAI4E,GAAQ5E,EAEVyoC,GAAAA,SAAAA,YAA6B,CAC3B9uB,SAAU/U,EACV5E,QAAAA,IAEC+wB,MAAK,SAAChnB,GACP6/H,GAAiB,CACfl2I,IAAK,YAAFhB,OAAckS,EAAK7M,cAAa,KAAArF,OAAIsN,EAAQjI,eAC/C2pE,KAAM,KACNzqE,KAAM8S,IAEHpN,EAAKktI,WACRltI,EAAK+9C,SAAS,CAAE3wC,MAAAA,GAEpB,QACK,CAEL,IACM+/H,EADUrhG,GAAAA,KAAAA,WAAwB,CAAC,GACZr3C,KAAI,SAACmP,GAOhC,MAAO,CACLqE,KAHErE,EAHFoZ,SAOAgD,SAJEpc,EAFFoc,SAOA3c,QALEO,EADFP,QAQJ,IAAGZ,QAAO,SAACmB,GAAM,MAAwB,kBAAnBA,EAAOP,OAA2B,IAExDyoC,GAAAA,SAAAA,gBAAiCqhG,GAAc/4G,MAAK,SAAChnB,GACnD6/H,GAAiB,CACfl2I,IAAK,eACLguE,KAAM,KACNzqE,KAAM8S,IAEHpN,EAAKktI,WACRltI,EAAK+9C,SAAS,CAAE3wC,MAAAA,GAEpB,GACF,CACF,KAACZ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,aAgDW,SAACkrI,EAAKC,GAChB,IAAApsC,EAGI/+F,EAAK+T,MAFP8U,EAAOk2E,EAAPl2E,QACAhK,EAAUkgF,EAAVlgF,WAGF,OACE48E,KAAAA,cAAC6rC,IAAGpoC,EAAAA,GAAAA,GAAA,CAACnoG,IAAKo0I,GAAcD,EAAG,CAAEhD,SAAS,UAAUrpH,WAAYA,EAAYgK,QAASA,IAErF,IAvIE,IASIzb,EATJggI,EAOIr5H,EANFnT,MACE6C,OAAM4pI,EAAAD,EACJnlI,KAAAA,OAAI,IAAAolI,EAAG,KAAIA,EAAAC,EAAAF,EACX/pI,QAAAA,OAAO,IAAAiqI,EAAG,KAAIA,EAenB,OARClgI,EAAQ6/H,GADNhlI,GAAQ5E,EACc,YAADtN,OAAakS,EAAK7M,cAAa,KAAArF,OAAIsN,EAAQjI,eAE1C,gBAE1B4E,EAAK2W,MAAQ,CACX1O,KAAAA,EACA5E,QAAAA,EACA+J,MAAAA,GACDpN,CACH,CAoLC,OApLAN,EAAAA,GAAAA,GAAAotI,EAAA,EAAA/1I,IAAA,uBAAA6C,OAAAozI,GAAA34H,EAAAA,EAAAA,GAAAC,IAAAA,MA4DD,SAAAO,IAAA,OAAAP,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OACEsT,QAAQ4jB,IAAI,0BACZx9B,KAAK65I,WAAY,EAAI,wBAAAp4H,EAAAJ,OAAA,GAAAG,EAAA,UACtB,kBAAAm4H,EAAA55H,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,oBAAA6C,OAAA4mI,GAAAnsH,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAC,IAAA,OAAAD,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OACEsT,QAAQ4jB,IAAI,wBACZx9B,KAAKk6I,aAAY,wBAAA34H,EAAAF,OAAA,GAAAH,EAAA,UAClB,kBAAAisH,EAAAptH,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,qBAAA6C,MAED,SAAmBiuG,GAAW,IAAAv4F,EAAA,KAC5Bk+H,EAOIn6I,KAAK0gB,MANPnT,MACE6C,OAAMgqI,EAAAD,EACJvlI,KAAAA,OAAI,IAAAwlI,EAAG,KAAIA,EAAAC,EAAAF,EACXnqI,QAAAA,OAAO,IAAAqqI,EAAG,KAAIA,EAKpBC,EAOI9lC,EANFjnG,MACE6C,OAAMmqI,EAAAD,EACJtqI,QAASwqI,OAAW,IAAAD,EAAG,KAAIA,EAAAE,EAAAH,EAC3B1lI,KAKN,GAAK4lI,IAAgBxqI,SALD,IAAAyqI,EAAG,KAAIA,KAKoB7lI,EAAO,CACpD,IAAImF,EAEFA,EAAQ6/H,GADNhlI,GAAQ5E,EACc,YAADtN,OAAakS,EAAK7M,cAAa,KAAArF,OAAIsN,EAAQjI,eAE1C,gBAE1B/H,KAAK0qD,SAAS,CACZ91C,KAAAA,EACA5E,QAAAA,EACA+J,MAAAA,IACC,WACDkC,EAAKi+H,YACP,GACF,CACF,GAAC,CAAAx2I,IAAA,SAAA6C,MAaD,WACE,IACEm0I,EACE16I,KAAK0gB,MADPg6H,UAGFjuF,EAGIzsD,KAAKsjB,MAFPq3H,EAAaluF,EAAbkuF,cACA5gI,EAAK0yC,EAAL1yC,MAGF,GAAI4gI,EAAe,OAAO,KAE1B,IAAMC,EACJxyC,KAAAA,cAAA,OAAKC,UAAU,0BACbD,KAAAA,cAAA,UACEA,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,qBAAqB+4F,eAAe,cAEzDjpF,GAASA,EAAM9Z,OAAS,EACxBmoG,KAAAA,cAACmuC,GAAK,CAACY,KAAMp9H,EAAOsuF,UAAU,kBAAkBivC,UAAWt3I,KAAKs3I,YAEhElvC,KAAAA,cAACyyC,GAAa,CAACjC,iBAAe,EAAC9tC,OAAK,EAAC6tC,OAAK,KAKhD,OAAI+B,EACKE,EAIPxyC,KAAAA,cAAA,OAAKC,UAAU,QACZt3C,KAAkBziC,GAAAA,aACjB85E,KAAAA,cAAA,MAAIC,UAAU,aACZD,KAAAA,cAAA,MAAIC,UAAU,gBAAgBC,QAAStoG,KAAK86I,oBAC1C1yC,KAAAA,cAAA,KAAGkK,KAAK,IAAIjK,UAAU,qBACpBD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,sBAAsB+4F,eAAe,mBAG9DoF,KAAAA,cAAA,MAAIC,UAAU,wBACZD,KAAAA,cAAA,KAAGkK,KAAK,IAAIjK,UAAU,qBACpBD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,qBAAqB+4F,eAAe,gBAKjEoF,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,OAAKC,UAAU,yBACbD,KAAAA,cAAA,OAAKC,UAAU,yBACXtuF,GAASA,EAAM9Z,OAAS,EACxBmoG,KAAAA,cAAA,YAIAA,KAAAA,cAACyyC,GAAa,CAAChC,iBAAe,KAGlCzwC,KAAAA,cAAA,OAAKC,UAAU,0BACZuyC,KAMb,KAACnB,CAAA,CAhNQ,CAEgBhJ,GAAAA,iBAAa7nC,KAAAA,KAAAA,IAiNxC,UAAegF,EAAAA,GAAAA,IAAW6rC,IClR1B,IAAgB,eAAiB,2BAA2B,eAAiB,2BAA2B,cAAgB,4BAA4B,aAAe,4B,UCenG,IAG1DsB,GADLvzC,KAAWrjD,GAAQ,CAAE+lD,eAAe,GAAOvB,EAAAyG,GAAA,SAAA/D,IAAA3wF,EAAAA,GAAAA,GAAAqgI,EAAA1vC,GAAA,I,IAAA1wF,G,EAAAogI,E,maAAA,SAAAA,IAAA,IAAApuI,GAAAP,EAAAA,GAAAA,GAAA,KAAA2uI,GAAA,QAAAn7H,EAAA7e,UAAAd,OAAAqsE,EAAA,IAAAlsE,MAAAwf,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAwsD,EAAAxsD,GAAA/e,UAAA+e,GA2DzC,OA3DyCnT,EAAAgO,EAAAtZ,KAAA0e,MAAApF,EAAA,OAAAjY,OAAA4pE,KAAAnzD,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,aAM9B,SAACm8F,GACX,IACS7+F,EACL0C,EAAK+T,MADPm3H,IAAO5tI,GAGT,KAAI6+F,EAAW,GAEf,IACE,IAAQvrF,EAASk7B,GAAAA,KAAAA,YAAyBxuC,GAAlCsT,KAER4G,EAGI5G,EAFF+F,MAASxH,EAAUqI,EAAVrI,WAAYuvC,EAAUlnC,EAAVknC,WAAYp3B,EAAI9P,EAAJ8P,KAAM87B,EAAa5rC,EAAb4rC,cAAe8hD,EAAmB1tF,EAAnB0tF,oBAC9C1xD,EACN5iC,EADF5G,KAAQwpC,aAGV,GAAIrkC,GAAcuvC,EAAY,OAE9B,IAAM2vF,EAAcvmI,GAAAA,GAAU0rC,IAAiB1rC,GAAAA,GAAU0rC,GAAcrrC,QAAUR,GAAAA,GAAAA,KAKjF,GAAI2f,KAHY+mH,EAAc,EAAI,KACXA,EAAgC,IAAlBjrF,GAAuB8hD,GAM1D,OAHAj4F,QAAQrQ,MAAM,kCAAmC,eACjDqQ,QAAQ4jB,IAAI,kBAAD96B,OAAmBuH,EAAE,2BAChC2P,QAAQy2B,WAIV9yB,EAAKuwC,YAAY/sB,MAAK,SAAC/+B,GACrB4X,QAAQ4jB,IAAI,WAAYx7B,EAC1B,GACF,CAAE,MAAO1D,GACPsb,QAAQzO,MAAM,cAAe7M,EAC/B,CACF,KAAC6a,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAEmB,SAACmP,EAAqBuvC,EAAqBF,GAC7D,OAAIrvC,EACKssF,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,eAAe+4F,eAAe,aAExD33C,EACK+8C,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,eAAe+4F,eAAe,aAExD73C,EACKi9C,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,gBAAgB+4F,eAAe,YAGtD,EACT,KAAC7pF,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAEkB,WACjB8rC,GAAAA,OAAAA,MAAqB,mBACvB,IAAC9rC,CAAA,CAsGA,OAtGAN,EAAAA,GAAAA,GAAA0uI,EAAA,EAAAr3I,IAAA,oBAAA6C,MACD,WACE,IACoBT,EAChB9F,KAAK0gB,MAAMm3H,IADbztF,iBAGF,GAAKtkD,EAAL,CAEA,IAEMgjG,EAF6B,IAAlBhjG,EAAO4oD,SAEIxvB,KAAKivB,MAEjCnuD,KAAK8tD,UAAUg7C,EANI,CAOrB,GAAC,CAAAplG,IAAA,SAAA6C,MAED,WAAS,IAAA00I,EAELpD,EACE73I,KAAK0gB,MADPm3H,IAGF,GAAY,cAARA,EACF,OAAO,KAGT,IACEzwF,EAWEywF,EAXFzwF,UACAhH,EAUEy3F,EAVFz3F,YACA+G,EASE0wF,EATF1wF,WACkBrhD,EAQhB+xI,EARFztF,iBACA2F,EAOE8nF,EAPF9nF,cACA1E,EAMEwsF,EANFxsF,WACApE,EAKE4wF,EALF5wF,QACA9G,EAIE03F,EAJF13F,aACArkC,EAGE+7H,EAHF/7H,WACA7R,EAEE4tI,EAFF5tI,GACAkhD,EACE0sF,EADF1sF,cAGIinD,EAAgBtsG,GAAUiqD,EAAgB,EAC1CsiD,EAAgBv2F,GAAcuvC,EAE9B3W,EAAOxV,KAAKivB,MAAQ,IAE1B,GAAKroD,EAAL,CAIA,IAAMo1I,EAAkBr9F,KAAAA,KAAY/3C,EAAO4oD,UAAYha,GAAMoJ,OAAO,uBAE9Dq9F,EAAUl0F,EAAO,GAAAvkD,OAClB20C,GAAM2/C,UAAS,KAAAt0F,OAAIuH,GAAE,GAAAvH,OAErB20C,GAAM0/C,WAAU,KAAAr0F,OAAIuH,GAKzB,OAHAm9C,EAAY,IAAI/pB,GAAAA,EAAU+pB,GAC1BD,EAAa,IAAI9pB,GAAAA,EAAU8pB,GAGzBihD,KAAAA,cAAA,MAAI1kG,IAAKuG,GACPm+F,KAAAA,cAAA,UACEA,KAAAA,cAAA,YAAM,WAAc,GAAA1lG,OAChB0kD,EAAUqnB,QAAQ,GAAE,KAAA/rE,OAAI09C,EAAYvjC,gBAE1CurF,KAAAA,cAAA,UACEA,KAAAA,cAAA,YAAM,YAAe,GAAA1lG,OACjBykD,EAAWsnB,QAAQ,GAAE,KAAA/rE,OAAIy9C,EAAatjC,gBAE5CurF,KAAAA,cAAA,UACEA,KAAAA,cAAA,YAAM,aACL8yC,EAAgBz6I,MAAM,KAAKW,KAAI,SAAC8D,EAAMxB,GAAG,OACxC0kG,KAAAA,cAACuB,GAAAA,SAAQ,CAACjmG,IAAKA,GAAK,IAAEwB,EAAgB,KAG1CkjG,KAAAA,cAAA,UACEA,KAAAA,cAAA,YAAM,UACNA,KAAAA,cAAA,KACEgC,UAAWe,MAAE8vC,EAAA,IAAA9hI,EAAAA,EAAAA,GAAA8hI,EACV92F,GAAAA,eAAwBroC,IAAU3C,EAAAA,EAAAA,GAAA8hI,EAClC92F,GAAAA,eAAwBkH,IAAUlyC,EAAAA,EAAAA,GAAA8hI,EAClC92F,GAAAA,eAAuBgH,IAAkBrvC,IAAcuvC,GAA0B4vF,KAGnFj7I,KAAKo7I,kBAAkBt/H,EAAYuvC,EAAYF,IAE9CknD,GACAjK,KAAAA,cAAA,OAAKC,UAAU,gBACZ+J,EACChK,KAAAA,cAACM,GAAK,CAACh6C,SAA4B,IAAlB5oD,EAAO4oD,SAAiBs6C,cAAehpG,KAAK8tD,YAE7Ds6C,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,eAAe+4F,eAAe,4BAM7DoF,KAAAA,cAAA,UACEA,KAAAA,cAACstC,GAAAA,GAAI,CAAC/kG,GAAIwqG,EAAS7yC,QAAStoG,KAAKq7I,kBAC/BjzC,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,eAAe+4F,eAAe,WApD3D,CAyDF,KAAC+3C,CAAA,CAjKyC,CACnBvvC,GAAAA,YAASryF,EAAAA,EAAAA,GAAAi2F,GAAA,YACb,CACjByoC,IAAK/rC,KAAAA,SAHmClD,GAIzCwG,MAAAxG,GAgKH,UAAegF,EAAAA,GAAAA,IAAWmtC,I,glBC7KmB,I,MAGxBO,GADpB9zC,KAAUnwF,GAAAA,GAAC,CAAC,EAAI8sC,ICVjB,CAAgB,aAAe,6BDUY,CAAE+lD,eAAe,GAAOvB,CAAAC,GAAA,SAAAskC,IAAAxyH,EAAAA,GAAAA,GAAA4gI,EAAApO,GAAA,I,IAAAvyH,G,EAAA2gI,E,maAAA,SAAAA,IAAA,OAAAlvI,EAAAA,GAAAA,GAAA,KAAAkvI,GAAA3gI,EAAAoF,MAAA,KAAAhf,UAAA,CA4BhE,OA5BgEsL,EAAAA,GAAAA,GAAAivI,EAAA,EAAA53I,IAAA,SAAA6C,MAGjE,WACE,IAAMsS,EAAW7Y,KAAK0gB,MAAhB7H,OAEN,OAAe,OAAXA,GAAqC,IAAlBA,EAAO5Y,OACrB,KAIPmoG,KAAAA,cAAA,OAAKC,UAAU,gBACbD,KAAAA,cAAA,UACEA,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,gBAAgB+4F,eAAe,mBAEtDoF,KAAAA,cAACmuC,GAAK,CACJtsI,GAAG,gBACHmgG,UAAWjmD,GAAAA,YACXgzF,KAAMt+H,EAAO5V,UACbq0I,UAAW,SAACO,EAAKtwI,GAAK,OACpB6gG,KAAAA,cAAC2yC,GAAU,CACTr3I,IAAK6D,EACLswI,IAAKA,GACL,IAKZ,KAACyD,CAAA,CA5BgE,CACzB7K,GAAAA,iBAAa7nC,GEMvD,IAAM2yC,GAAgB,SAACxhI,EAAO3K,GAC5B,MAAe,SAAXA,EACK2K,EAAM3K,QAAO,SAAA7C,GAAY,MAAqB,QAArBA,EAAT8nC,SAAmC,IAG7C,aAAXjlC,EACK2K,EAAM3K,QAAO,SAAA1B,GAAY,MAAqB,OAArBA,EAAT2mC,SAAkC,IAGpDt6B,CACT,EAeMyhI,IAAO7yC,IAbZztC,EAAAA,EAAAA,KAAQ,SAAAr5C,GAAA,IACC2J,EAAU3J,EAAlB8T,KAAQnK,WAAUiwH,EAAA55H,EAClB2T,QACEzM,EAAY0yH,EAAZ1yH,aACA3Z,EAAMqsI,EAANrsI,OACA4Z,EAAWyyH,EAAXzyH,YAAW,MAER,CACLwC,WAAAA,EACAzR,MAAOwhI,GAAcxyH,EAAc3Z,GACnC4Z,YAAAA,EACD,IAC+C2/E,GAAAC,GAA/CpB,KAAWk0C,GAAY,CAAExxC,eAAe,GAAO+iC,CAAArkC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAA8gI,EAAAnwC,GAAA,I,IAAA1wF,G,EAAA6gI,E,maAG9C,SAAAA,EAAY96H,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAAovI,GACjB7uI,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAwCK,SAACoN,GAClBpN,EAAK+9C,UAAS,iBAAO,CAAE3wC,MAAAA,EAAO,GAChC,KAACZ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,YAEU,WACT,IAAQoN,EAAUpN,EAAK+T,MAAf3G,MACkBpN,EAAK2W,MAAvBq4H,cAEY5hI,EAAM9Z,QACxB0M,EAAK+9C,UAAS,SAAApnC,GAAK,MAAK,CACtBq4H,cAAer4H,EAAMq4H,cAAgB78I,KAAKo+B,IAAI,GAAInjB,EAAM9Z,OAASqjB,EAAMq4H,eACxE,GAEL,KAACxiI,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,aAEW,SAACkrI,EAAKC,GAChB,IAAQtsH,EAAe7e,EAAK+T,MAApB8K,WACAowH,EAAiBjvI,EAAK2W,MAAtBs4H,aAER,OACExzC,MAAA1qD,cAACu2F,IAAGpoC,EAAAA,GAAAA,GAAA,CACFrgF,WAAYA,EACZ9nB,IAAKo0I,EACLlsD,WAAYgwD,GACR/D,GAGV,KAAC1+H,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAEoB,SAAAuV,GAAgB,IAC3B3b,EADoB2b,EAAN+nF,OACd1jG,MAERoG,EAAK+9C,UAAS,iBAAO,CAAE0uF,YAAa7yI,EAAO,GAC7C,KAAC4S,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAEc,WACb,IAAAo/C,EAA+Bp/C,EAAK2W,MAA5B81H,EAAWrtF,EAAXqtF,YAAar/H,EAAKgyC,EAALhyC,MAErB,GAAIq/H,GAAeA,EAAYn5I,OAAQ,CACrC,IAAM47I,EAAU9hI,EAAM3K,QAAO,SAAAwT,GAAA,IAAG5S,EAAO4S,EAAP5S,QAAO,OAAOA,GAAWA,EAAQqK,SAAS++H,EAAYrxI,cAAc,IACpG4E,EAAK+9C,UAAS,iBAAO,CAAE3wC,MAAO8hI,EAAS,GAEzC,MACElvI,EAAK0sI,aAET,KAAClgI,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,WAES,WACRA,EAAK+9C,UAAS,iBAAO,CAAE0sF,WAAW,EAAM,IACxCh5H,YAAW,kBAAMzR,EAAK+9C,UAAS,iBAAO,CAAE0sF,WAAW,EAAO,GAAE,GAAE,IAChE,KAACj+H,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAEa,WAEZA,EAAKmvI,UACL,IAAQ/hI,EAAUpN,EAAK+T,MAAf3G,MACRpN,EAAK+9C,UAAS,iBAAO,CAAE0uF,YAAa,GAAI,IAExCzsI,EAAKovI,iBAAiBhiI,EACxB,IAjGE,IACEA,EAME2G,EANF3G,MAAKiiI,EAMHt7H,EALFnT,MACE6C,OACE+2D,KAAAA,OAAI,IAAA60E,EAAG,KAAIA,EAKXJ,EAAenjG,GAAAA,SAAAA,cASpB,OAPD9rC,EAAK2W,MAAQ,CACX6jD,KAAAA,EACAptD,MAAAA,EACAq/H,YAAa,GACbhC,WAAW,EACXuE,cAAe,GACfC,aAAcA,GAAgB,MAC/BjvI,CACH,CAqIC,OArIAN,EAAAA,GAAAA,GAAAmvI,EAAA,EAAA93I,IAAA,oBAAA6C,MAED,WACEkyC,GAAAA,KAAAA,kBAEAwjG,IAAiB,WACfxjG,GAAAA,KAAAA,gBACF,GACF,GAAC,CAAA/0C,IAAA,qBAAA6C,MAED,SAAmBiuG,GACjB,IAAe0nC,EAAc1nC,EAArBz6F,MACAA,EAAU/Z,KAAK0gB,MAAf3G,MAEJA,IAAUmiI,GACZl8I,KAAK+7I,iBAAiBhiI,EAE1B,GAAC,CAAArW,IAAA,SAAA6C,MA+DD,WACE,IAAAkmD,EAA0CzsD,KAAKsjB,MAAvC81H,EAAW3sF,EAAX2sF,YAAar/H,EAAK0yC,EAAL1yC,MAAOq9H,EAAS3qF,EAAT2qF,UACpBpuH,EAAgBhpB,KAAK0gB,MAArBsI,YAGR,OACEo/E,MAAA1qD,cAACisD,GAAAA,SAAQ,KACTvB,MAAA1qD,cAAA,WAAS2qD,UAAU,WACjBD,MAAA1qD,cAAA,MAAI2qD,UAAU,kBACZD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,yBAAyB+4F,eAAe,cAE9DjpF,EACCquF,MAAA1qD,cAAA,WACE0qD,MAAA1qD,cAACy+F,GAAU,CACT/C,YAAaA,EACb7F,SAAUvzI,KAAKo8I,aACfxyC,SAAU5pG,KAAKq8I,mBACfhD,YAAar5I,KAAKq5I,cAEpBjxC,MAAA1qD,cAAA,WAEI3jC,EAAM9Z,OAAS,IAAMm3I,EACnBhvC,MAAA1qD,cAACu6F,GAAmB,CAClB7tC,UAAWjmD,GAAAA,QACXkzF,OArBD,GAsBCa,aAAc,IACdM,QAASx4I,KAAKs8I,SACdnE,WAAYp+H,EAAM9Z,OAClB8Z,MAAOA,EAAMxY,MAAM,EAAGvB,KAAKsjB,MAAMq4H,eACjCrE,UAAWt3I,KAAKs3I,YAGlBlvC,MAAA1qD,cAACm9F,GAAa,CAACjC,iBAAe,EAAC9tC,OAAQssC,EAAW2B,WAAS,MAMjE3wC,MAAA1qD,cAAA,OAAK2qD,UAAU,iBACbD,MAAA1qD,cAACm9F,GAAa,CAACjC,iBAAe,MAMrCvjG,GAAAA,KAAAA,gBAAsC+yD,MAAA1qD,cAAC+7F,GAAY,CAACiB,WAAS,IAE5D1xH,EAAY/oB,OAAS,GACrBmoG,MAAA1qD,cAAC49F,GAAY,CAACziI,OAAQmQ,EAAY5Z,QAAO,SAAClK,GAAI,OAAKA,EAAK+uB,MAAQ,CAAC,MAKvE,KAACunH,CAAA,CA9J6C,CAC1BhwC,GAAAA,aAAS5C,KAAAA,IAgK/B,UAAegF,EAAAA,GAAAA,IAAW4tC,I,+CCxL1B,SAAerxC,IAAf,EAVkB,SAACzpF,GACjB,IAAQ4nF,EAA8C5nF,EAA9C4nF,QAAuB0C,GAAuBtqF,EAArC2nF,UAAqC3nF,EAArBzW,IAAAA,OAAE,IAAA+gG,EAAG,GAAEA,EAAK1iE,GAAI7f,EAAAA,EAAAA,GAAK/H,EAAK6nB,IAE3D,OACE6/D,MAAA1qD,cAAA,OAAAmuD,EAAAA,GAAAA,GAAA,CAAK5hG,GAAIA,EAAIo+F,UAAU,UAAa//D,EAAI,CAAEkoG,KAAK,cAAcloC,QAASA,IACpEF,MAAA1qD,cAAA,OAAK2qD,UAAU,OAAOmoC,KAAK,cAGjC,GChBA,CAAgB,OAAS,2BAA2B,KAAO,4BDkBd,CAAEtmC,eAAe,I,UEjBtDj5E,GAAe3C,GAAAA,KAAAA,WACjB6pB,KAAoB7pB,UAAY,QAAN8pB,GAAN9pB,GAAAA,YAAY,IAAA8pB,IAAI,QAAJC,GAAZD,GAAcliB,UAAE,IAAAmiB,KAAhBA,GAAkB7e,uBAE/B+iH,GAAc,GAAH75I,QAAA0mB,EAAAA,EAAAA,GAChB6H,KAAcA,GAAW1b,KAAS4iC,GAAyD,GAAxC,CAAC,CAAExjC,KAAM,MAAO6nI,QAAS,cAAiBpzH,EAAAA,EAAAA,IAE9F6H,IAAcA,GAAWzb,IAAM,CAAC,CAAEb,KAAM,MAAO6nI,QAAS,aAAgB,KAAEpzH,EAAAA,EAAAA,IAE1E6H,IAAcA,GAAWxb,IAAM,CAAC,CAAEd,KAAM,MAAO6nI,QAAS,iBAAoB,KAAEpzH,EAAAA,EAAAA,IAE9E6H,IAAcA,GAAWvb,MAAQ,CAAC,CAAEf,KAAM,QAAS6nI,QAAS,gBAAmB,KAAEpzH,EAAAA,EAAAA,IAEjF6H,IAAcA,GAAWtb,OAAS,CAAC,CAAEhB,KAAM,SAAU6nI,QAAS,iBAAoB,KAAEpzH,EAAAA,EAAAA,IAEpF6H,IAAcA,GAAWpb,KAAO,CAAC,CAAElB,KAAM,OAAQ6nI,QAAS,SAAY,KAAEpzH,EAAAA,EAAAA,IAExE6H,IAAcA,GAAWnb,IAAM,CAAC,CAAEnB,KAAM,MAAO6nI,QAAS,WAAc,KAAEpzH,EAAAA,EAAAA,IAExE6H,IAAcA,GAAWlb,KAAO,CAAC,CAAEpB,KAAM,OAAQ6nI,QAAS,cAAiB,KAAEpzH,EAAAA,EAAAA,IAE7E6H,IAAcA,GAAWjb,KAAO,CAAC,CAAErB,KAAM,OAAQ6nI,QAAS,cAAiB,KAAEpzH,EAAAA,EAAAA,IAE7E6H,IAAcA,GAAWhb,IAAM,CAAC,CAAEtB,KAAM,MAAO6nI,QAAS,YAAe,KAAEpzH,EAAAA,EAAAA,IAEzE6H,IAAcA,GAAW/a,IAAM,CAAC,CAAEvB,KAAM,MAAO6nI,QAAS,cAAiB,KAAEpzH,EAAAA,EAAAA,IAE3E6H,IAAcA,GAAWrb,OAAS,CAAC,CAAEjB,KAAM,SAAU6nI,QAAS,eAAkB,KAAEpzH,EAAAA,EAAAA,IAElF6H,IAAcA,GAAW9a,OAAS,CAAC,CAAExB,KAAM,SAAU6nI,QAAS,WAAc,KAAEpzH,EAAAA,EAAAA,IAC9E6H,IAAcA,GAAW7a,IAAM,CAAC,CAAEzB,KAAM,MAAO6nI,QAAS,QAAW,KAAEpzH,EAAAA,EAAAA,IAErE6H,IAAcA,GAAW5a,IAAM,CAAC,CAAE1B,KAAM,MAAO6nI,QAAS,QAAW,KAAEpzH,EAAAA,EAAAA,IAErE6H,IAAcA,GAAW3a,KAAO,CAAC,CAAE3B,KAAM,OAAQ6nI,QAAS,SAAY,KAAEpzH,EAAAA,EAAAA,GAEvE6H,KAAcA,GAAW1a,OAAW4hC,GAAyD,GAAxC,CAAC,CAAExjC,KAAM,QAAS6nI,QAAS,YAAepzH,EAAAA,EAAAA,GAC/F6H,KAAcA,GAAW3qB,MAAU6xC,GAA4D,GAA3C,CAAC,CAAExjC,KAAM,OAAQ6nI,QAAS,gBAAmBpzH,EAAAA,EAAAA,GAEnGkF,GAAAA,MAAe,CAAC,CAAE3Z,KAAM,OAAQ6nI,QAAS,aAAc9vH,aAAc,QAAW,KAAEtD,EAAAA,EAAAA,GAClFkF,GAAAA,MACA,CACA,CAAE3Z,KAAM,OAAQ6nI,QAAS,kBAAmB9vH,aAAc,OAC1D,CAAE/X,KAAM,OAAQ6nI,QAAS,SAAU9vH,aAAc,OACjD,CAAE/X,KAAM,OAAQ6nI,QAAS,OAAQ9vH,aAAc,QAE/C,KAAEtD,EAAAA,EAAAA,GACFkF,GAAAA,WAAoB,CAAC,CAAE3Z,KAAM,OAAQ6nI,QAAS,aAAc9vH,aAAc,UAAa,KAAEtD,EAAAA,EAAAA,GAEzF,CAAC,CAAEzU,KAAM,OAAQ6nI,QAAS,OAAQ9vH,aAAc,UACYtD,EAAAA,EAAAA,GAC5DkF,GAAAA,MAAe,CAAC,CAAE3Z,KAAM,QAAS6nI,QAAS,QAAS9vH,aAAc,QAAW,KAAEtD,EAAAA,EAAAA,GAC9EkF,GAAAA,MAAe,CAAC,CAAE3Z,KAAM,QAAS6nI,QAAS,QAAS9vH,aAAc,QAAW,KAAEtD,EAAAA,EAAAA,GAC9EkF,GAAAA,WAAoB,CAAC,CAAE3Z,KAAM,aAAc6nI,QAAS,QAAS9vH,aAAc,UAAa,KAAEtD,EAAAA,EAAAA,GAC1FkF,GAAAA,UAAmB,CAAC,CAAE3Z,KAAM,YAAa6nI,QAAS,QAAS9vH,aAAc,SAAY,KAAEtD,EAAAA,EAAAA,GACvFkF,GAAAA,SAAkB,CAAC,CAAE3Z,KAAM,WAAY6nI,QAAS,QAAS9vH,aAAc,QAAW,KAAEtD,EAAAA,EAAAA,GACpFkF,GAAAA,UAAmB,CAAC,CAAE3Z,KAAM,YAAa6nI,QAAS,QAAS9vH,aAAc,SAAY,KAAEtD,EAAAA,EAAAA,GACvFkF,GAAAA,UAAmB,CAAC,CAAE3Z,KAAM,YAAa6nI,QAAS,QAAS9vH,aAAc,SAAY,KAAEtD,EAAAA,EAAAA,GACvFkF,GAAAA,SAAkB,CAAC,CAAE3Z,KAAM,WAAY6nI,QAAS,QAAS9vH,aAAc,QAAW,KAAEtD,EAAAA,EAAAA,GACpFkF,GAAAA,SAAkB,CAAC,CAAE3Z,KAAM,WAAY6nI,QAAS,QAAS9vH,aAAc,QAAW,KAAEtD,EAAAA,EAAAA,GACpFkF,GAAAA,YAAqB,CAAC,CAAE3Z,KAAM,cAAe6nI,QAAS,QAAS9vH,aAAc,WAAc,KAAEtD,EAAAA,EAAAA,GAC7FkF,GAAAA,SAAkB,CAAC,CAAE3Z,KAAM,WAAY6nI,QAAS,QAAS9vH,aAAc,WAAc,KAAEtD,EAAAA,EAAAA,GACvFkF,GAAAA,MAAe,CAAC,CAAE3Z,KAAM,QAAS6nI,QAAS,QAAS9vH,aAAc,QAAW,KAAEtD,EAAAA,EAAAA,GAC9EkF,GAAAA,MAAe,CAAC,CAAE3Z,KAAM,QAAS6nI,QAAS,QAAS9vH,aAAc,QAAW,KAAEtD,EAAAA,EAAAA,GAC9EkF,GAAAA,OAAgB,CAAC,CAAE3Z,KAAM,SAAU6nI,QAAS,QAAS9vH,aAAc,SAAY,KAGxE+vH,GAAa,GAAH/5I,QAAA0mB,EAAAA,EAAAA,GACf6H,KAAcA,GAAW1b,KAAS4iC,GAAyD,GAAxC,CAAC,CAAExjC,KAAM,MAAO6nI,QAAS,cAAiBpzH,EAAAA,EAAAA,IAC9F6H,IAAcA,GAAWzb,IAAM,CAAC,CAAEb,KAAM,MAAO6nI,QAAS,aAAgB,KAAEpzH,EAAAA,EAAAA,IAC1EkF,GAAAA,OAAkB2C,KAAcA,GAAWzb,IAAqE,GAA7D,CAAC,CAAEb,KAAM,QAAS6nI,QAAS,QAAS9vH,aAAc,UAAatD,EAAAA,EAAAA,IAClH6H,IAAcA,GAAWxb,IAAM,CAAC,CAAEd,KAAM,MAAO6nI,QAAS,iBAAoB,KAAEpzH,EAAAA,EAAAA,IAC9EkF,GAAAA,OAAkB2C,KAAcA,GAAWxb,IAAqE,GAA7D,CAAC,CAAEd,KAAM,QAAS6nI,QAAS,QAAS9vH,aAAc,UAAatD,EAAAA,EAAAA,IAClH6H,IAAcA,GAAWvb,MAAQ,CAAC,CAAEf,KAAM,QAAS6nI,QAAS,gBAAmB,KAAEpzH,EAAAA,EAAAA,IACjFkF,GAAAA,YAAuB2C,KAAcA,GAAWvb,MAA8E,GAApE,CAAC,CAAEf,KAAM,aAAc6nI,QAAS,QAAS9vH,aAAc,YAAetD,EAAAA,EAAAA,IAChI6H,IAAcA,GAAWtb,OAAS,CAAC,CAAEhB,KAAM,SAAU6nI,QAAS,iBAAoB,KAAEpzH,EAAAA,EAAAA,IACpF6H,IAAcA,GAAWpb,KAAO,CAAC,CAAElB,KAAM,OAAQ6nI,QAAS,SAAY,KAAEpzH,EAAAA,EAAAA,IACxEkF,GAAAA,WAAsB2C,KAAcA,GAAWpb,KAA2E,GAAlE,CAAC,CAAElB,KAAM,YAAa6nI,QAAS,QAAS9vH,aAAc,WAActD,EAAAA,EAAAA,IAC5H6H,IAAcA,GAAWnb,IAAM,CAAC,CAAEnB,KAAM,MAAO6nI,QAAS,WAAc,KAAEpzH,EAAAA,EAAAA,IACxEkF,GAAAA,UAAqB2C,KAAcA,GAAWnb,IAAwE,GAAhE,CAAC,CAAEnB,KAAM,WAAY6nI,QAAS,QAAS9vH,aAAc,UAAatD,EAAAA,EAAAA,IACxH6H,IAAcA,GAAWlb,KAAO,CAAC,CAAEpB,KAAM,OAAQ6nI,QAAS,cAAiB,KAAEpzH,EAAAA,EAAAA,IAC7EkF,GAAAA,WAAsB2C,KAAcA,GAAWlb,KAA2E,GAAlE,CAAC,CAAEpB,KAAM,YAAa6nI,QAAS,QAAS9vH,aAAc,WAActD,EAAAA,EAAAA,IAC5H6H,IAAcA,GAAWjb,KAAO,CAAC,CAAErB,KAAM,OAAQ6nI,QAAS,cAAiB,KAAEpzH,EAAAA,EAAAA,IAC7EkF,GAAAA,WAAsB2C,KAAcA,GAAWjb,KAA2E,GAAlE,CAAC,CAAErB,KAAM,YAAa6nI,QAAS,QAAS9vH,aAAc,WAActD,EAAAA,EAAAA,IAC5H6H,IAAcA,GAAWhb,IAAM,CAAC,CAAEtB,KAAM,MAAO6nI,QAAS,gBAAmB,KAAEpzH,EAAAA,EAAAA,IAC7EkF,GAAAA,UAAqB2C,KAAcA,GAAWhb,IAAwE,GAAhE,CAAC,CAAEtB,KAAM,WAAY6nI,QAAS,QAAS9vH,aAAc,UAAatD,EAAAA,EAAAA,IACxH6H,IAAcA,GAAW/a,IAAM,CAAC,CAAEvB,KAAM,MAAO6nI,QAAS,cAAiB,KAAEpzH,EAAAA,EAAAA,IAC3EkF,GAAAA,UAAqB2C,KAAcA,GAAW/a,IAAwE,GAAhE,CAAC,CAAEvB,KAAM,WAAY6nI,QAAS,QAAS9vH,aAAc,UAAatD,EAAAA,EAAAA,IACxH6H,IAAcA,GAAWrb,OAAS,CAAC,CAAEjB,KAAM,SAAU6nI,QAAS,eAAkB,KAAEpzH,EAAAA,EAAAA,IAClFkF,GAAAA,aAAwB2C,KAAcA,GAAWrb,OAAiF,GAAtE,CAAC,CAAEjB,KAAM,cAAe6nI,QAAS,QAAS9vH,aAAc,aAAgBtD,EAAAA,EAAAA,IACpI6H,IAAcA,GAAW9a,OAAS,CAAC,CAAExB,KAAM,SAAU6nI,QAAS,WAAc,KAAEpzH,EAAAA,EAAAA,IAC9E6H,IAAcA,GAAW7a,IAAM,CAAC,CAAEzB,KAAM,MAAO6nI,QAAS,QAAW,KAAEpzH,EAAAA,EAAAA,IACrE6H,IAAcA,GAAW5a,IAAM,CAAC,CAAE1B,KAAM,MAAO6nI,QAAS,QAAW,KAAEpzH,EAAAA,EAAAA,IACrEkF,GAAAA,UAAqB2C,KAAcA,GAAW9a,OAA8E,GAAnE,CAAC,CAAExB,KAAM,WAAY6nI,QAAS,QAAS9vH,aAAc,aAAgBtD,EAAAA,EAAAA,IAC9HkF,GAAAA,OAAkB2C,KAAcA,GAAW7a,IAAqE,GAA7D,CAAC,CAAEzB,KAAM,QAAS6nI,QAAS,QAAS9vH,aAAc,UAAatD,EAAAA,EAAAA,IAClHkF,GAAAA,OAAkB2C,KAAcA,GAAW5a,IAAqE,GAA7D,CAAC,CAAE1B,KAAM,QAAS6nI,QAAS,QAAS9vH,aAAc,UAAatD,EAAAA,EAAAA,IAClHkF,GAAAA,QAAmB2C,KAAcA,GAAW3a,KAAwE,GAA/D,CAAC,CAAE3B,KAAM,SAAU6nI,QAAS,QAAS9vH,aAAc,WAActD,EAAAA,EAAAA,GACrH6H,KAAcA,GAAW1a,OAAW4hC,GAAyD,GAAxC,CAAC,CAAExjC,KAAM,QAAS6nI,QAAS,YAAepzH,EAAAA,EAAAA,GAC/F6H,KAAcA,GAAW3qB,MAAU6xC,GAA4D,GAA3C,CAAC,CAAExjC,KAAM,OAAQ6nI,QAAS,gBClGtF,MCDA,GAAe,IAA0B,wBCAzC,GAAe,IAA0B,wBCAzC,GAAe,IAA0B,wBCAzC,GAAe,IAA0B,0BCAzC,GAAe,IAA0B,2BCAzC,GAAe,IAA0B,2BCAzC,GAAe,IAA0B,yBCAzC,GAAe,IAA0B,wBCAzC,GAAe,IAA0B,yBCAzC,GAAe,IAA0B,yBCAzC,GAAe,IAA0B,wBCAzC,GAAe,IAA0B,wBCAzC,GAAe,IAA0B,yBCAzC,GAAe,IAA0B,wBCAzC,GAAe,IAA0B,0BCAzC,GAAe,IAA0B,wBCAzC,GAAe,IAA0B,yBCAzC,GAAe,IAA0B,yBCAzC,GAAe,IAA0B,yBCAzC,GAAe,IAA0B,wBCAzC,GAAe,IAA0B,wBCAzC,GAAe,IAA0B,wBCAzC,GAAe,IAA0B,uBCAzC,GAAe,IAA0B,wBCAzC,GAAe,IAA0B,wBCAzC,GAAe,IAA0B,wBCsCzC,IACEjnI,IAAAA,GACA,iBAAkBA,GAClB,sBAAuBA,GACvB,sBAAuBA,GACvBgC,KAAAA,GACAmlI,IC5Ca,IAA0B,wBD6CvCC,IAAAA,GACAC,GAAAA,GACAC,IAAAA,GACAC,IAAAA,GACAC,IAAAA,GACAC,IAAAA,GACAxnI,IAAAA,GACAC,IAAAA,GACAC,MAAAA,GACAC,OAAAA,GACAC,OAAAA,GACAC,KAAAA,GACAC,IAAAA,GACAC,KAAAA,GACAC,KAAAA,GACAC,IAAAA,GACAC,IAAAA,GACA+mI,KAAAA,GACAC,IAAAA,GACAzmI,KAAAA,GACAE,KAAAA,GACAwmI,MAAAA,GACAC,IAAAA,GACAC,IAAAA,GACAzmI,IErEa,IAA0B,wBFsEvCF,KGtEa,IAA0B,yBHuEvCH,MIvEa,IAA0B,0BJwEvCjQ,KKxEa,IAA0B,yBLyEvC6P,OMzEa,IAA0B,wBN0EvCC,IO1Ea,IAA0B,2BP2EvCC,IQ3Ea,IAA0B,wBR4EvCC,KS5Ea,IAA0B,0BCSlC,IAAMgnI,GAAgBpsI,OAAOtL,KAAK23I,IAwFzC,SAAepzC,IAAf,EAhEqB,SAACzpF,GACpB,IAAQ0pF,EAA8C1pF,EAA9C0pF,UAAWrsD,EAAmCr9B,EAAnCq9B,MAAa2H,EAAsBhlC,EAA5B/L,KAAiB2jE,EAAW53D,EAAX43D,OAC3CzzB,EAGI1D,GAAYuE,GAFR/wC,EAAIkwC,EAAV9oC,KAIF,GAHY8oC,EAAVhwC,gBAGkB,IAATF,EACT,OAAOyzF,KAAAA,cAAA,SAAGA,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,iBAAiB+4F,eAAe,WAGjE,GAAI1qB,EACF,OACE8vB,KAAAA,cAAA,OACEC,UAAU,YACV+D,IAAK9zB,EACLv6B,MAAOA,EACPuuD,IAAI,OACJkkC,KAAK,UAKX,IAAMgN,EA7CR,SAAyB7oI,GACvB,IACE,IAAK,IAAMjR,KAAOsuB,GAAiB,KAAAyrH,EAC3BxoI,EAAW+c,GAAgBtuB,GAAKuR,SAChCid,EAA6B,QAAzBurH,EAAGnvH,GAAOrZ,GAAUN,UAAK,IAAA8oI,OAAA,EAAtBA,EAAwBvrH,KAErC,GAAIA,EAAM,OAAOA,CACnB,CACF,CAAE,MAAO/mB,GACPyO,QAAQrQ,MAAM,kBAAmB,cACjCqQ,QAAQzO,MAAM,+BACdyO,QAAQy2B,UACV,CACF,CAgCoBqtG,CAAgB/oI,EAAK5M,eAEvC,OAAIy1I,EAEAp1C,KAAAA,cAAA,OACEC,UAAU,YACV+B,UAAWA,EACXgC,IAAKoxC,EACLlxC,IAAG,GAAA5pG,OAAKiS,EAAI,SACZ67H,KAAK,UAKS8M,GAAcjjI,SAAS1F,EAAK5M,eAI5CqgG,KAAAA,cAAA,OACEC,UAAU,YACV+B,UAAWA,EACXgC,IAAKmxC,GAAM5oI,EAAK5M,eAChBukG,IAAG,GAAA5pG,OAAKiS,EAAI,SACZ67H,KAAK,UAMTpoC,KAAAA,cAAA,QACEgC,UAAWA,EACXrsD,MAAOA,EACPsqD,UAAU,OACVmoC,KAAK,UAEJ77H,EAAK2mF,OAAO,GAAGz+E,cAGtB,GC7FA,CAAgB,KAAO,2BAA2B,UAAY,6BCK9D,IAAM8gI,GAAwB,CAC5B,IAAO,SACP,iBAAkB,SAClB,sBAAuB,SACvB,sBAAuB,SACvB,MAAS,UACT,KAAQ,UACR,IAAO,UACP,KAAQ,UACR,KAAQ,QACR,IAAO,QACP,IAAO,QACP,OAAU,UACV,OAAU,UACV,IAAO,UACP,IAAO,UACP,KAAQ,UACR,KAAQ,UACR,MAAS,QACT,KAAQ,SAgJV,SAAen2C,IAAf,EAvIa,SAAU9mF,GAAkB,IAAAk9H,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA/tH,EAAAC,EACvC+tH,EAII7+H,EAHF1a,KAAAA,OAAI,IAAAu5I,EAAG,GAAEA,EACTn1C,EAEE1pF,EAFF0pF,UACAz1F,EACE+L,EADF/L,KAGIkxC,EAAYlxC,EAAK5M,cACjBy3I,EAAclC,GAAcjjI,SAASwrC,GACrC45F,EAAaC,GAAU/qI,GACzBgrI,GAAoB,GAGtBrxH,UAAwB,QAAlBsvH,EAANtvH,GAAAA,MAAcu3B,UAAU,IAAA+3F,GAAxBA,EAA0B1rH,MACvB5D,UAAwB,QAAlBuvH,EAANvvH,GAAAA,MAAcu3B,UAAU,IAAAg4F,GAAxBA,EAA0B3rH,MAC1B5D,UAA6B,QAAvBwvH,EAANxvH,GAAAA,WAAmBu3B,UAAU,IAAAi4F,GAA7BA,EAA+B5rH,MAC/B5D,UAA4B,QAAtByvH,EAANzvH,GAAAA,UAAkBu3B,UAAU,IAAAk4F,GAA5BA,EAA8B7rH,MAC9B5D,UAA2B,QAArB0vH,EAAN1vH,GAAAA,SAAiBu3B,UAAU,IAAAm4F,GAA3BA,EAA6B9rH,MAC7B5D,UAA4B,QAAtB2vH,EAAN3vH,GAAAA,UAAkBu3B,UAAU,IAAAo4F,GAA5BA,EAA8B/rH,MAC9B5D,UAA4B,QAAtB4vH,EAAN5vH,GAAAA,UAAkBu3B,UAAU,IAAAq4F,GAA5BA,EAA8BhsH,MAC9B5D,UAA2B,QAArB6vH,EAAN7vH,GAAAA,SAAiBu3B,UAAU,IAAAs4F,GAA3BA,EAA6BjsH,MAC7B5D,UAA2B,QAArB8vH,EAAN9vH,GAAAA,SAAiBu3B,UAAU,IAAAu4F,GAA3BA,EAA6BlsH,MAC7B5D,UAA8B,QAAxB+vH,EAAN/vH,GAAAA,YAAoBu3B,UAAU,IAAAw4F,GAA9BA,EAAgCnsH,MAChC5D,UAA2B,QAArBgwH,EAANhwH,GAAAA,SAAiBu3B,UAAU,IAAAy4F,GAA3BA,EAA6BpsH,MAC7B5D,UAAwB,QAAlBiwH,EAANjwH,GAAAA,MAAcu3B,UAAU,IAAA04F,GAAxBA,EAA0BrsH,MAC1B5D,UAAwB,QAAlBkwH,EAANlwH,GAAAA,MAAcu3B,UAAU,IAAA24F,GAAxBA,EAA0BtsH,MAC1B5D,UAAyB,QAAnBmwH,EAANnwH,GAAAA,OAAeu3B,UAAU,IAAA44F,GAAzBA,EAA2BvsH,QAE9BytH,GAAoB,GAKtB,IAAM5hG,EAEF,CACF43F,MAAO,GAAFjzI,OAAKsD,EAAI,MACdmkC,OAAQ,GAAFznC,OAAKsD,EAAI,OAGb23I,GAAsB93F,KACxB9H,EAAM6hG,gBAAkBjC,GAAsB93F,IAG5Cv3B,UAAwB,QAAlBowH,EAANpwH,GAAAA,MAAcu3B,UAAU,IAAA64F,GAAxBA,EAA0BmB,cAC5B9hG,EAAM6hG,gBAAkBtxH,GAAAA,MAAau3B,GAAWg6F,aAG9CvxH,UAAwB,QAAlBqwH,EAANrwH,GAAAA,MAAcu3B,UAAU,IAAA84F,GAAxBA,EAA0BkB,cAC5B9hG,EAAM6hG,gBAAkBtxH,GAAAA,MAAau3B,GAAWg6F,aAG9CvxH,UAA6B,QAAvBswH,EAANtwH,GAAAA,WAAmBu3B,UAAU,IAAA+4F,GAA7BA,EAA+BiB,cACjC9hG,EAAM6hG,gBAAkBtxH,GAAAA,WAAkBu3B,GAAWg6F,aAGnDvxH,UAA4B,QAAtBuwH,EAANvwH,GAAAA,UAAkBu3B,UAAU,IAAAg5F,GAA5BA,EAA8BgB,cAChC9hG,EAAM6hG,gBAAkBtxH,GAAAA,UAAiBu3B,GAAWg6F,aAGlDvxH,UAA2B,QAArBwwH,EAANxwH,GAAAA,SAAiBu3B,UAAU,IAAAi5F,GAA3BA,EAA6Be,cAC/B9hG,EAAM6hG,gBAAkBtxH,GAAAA,SAAgBu3B,GAAWg6F,aAGjDvxH,UAA4B,QAAtBywH,EAANzwH,GAAAA,UAAkBu3B,UAAU,IAAAk5F,GAA5BA,EAA8Bc,cAChC9hG,EAAM6hG,gBAAkBtxH,GAAAA,UAAiBu3B,GAAWg6F,aAGlDvxH,UAA4B,QAAtB0wH,EAAN1wH,GAAAA,UAAkBu3B,UAAU,IAAAm5F,GAA5BA,EAA8Ba,cAChC9hG,EAAM6hG,gBAAkBtxH,GAAAA,UAAiBu3B,GAAWg6F,aAGlDvxH,UAA2B,QAArB2wH,EAAN3wH,GAAAA,SAAiBu3B,UAAU,IAAAo5F,GAA3BA,EAA6BY,cAC/B9hG,EAAM6hG,gBAAkBtxH,GAAAA,SAAgBu3B,GAAWg6F,aAGjDvxH,UAA2B,QAArB4wH,EAAN5wH,GAAAA,SAAiBu3B,UAAU,IAAAq5F,GAA3BA,EAA6BW,cAC/B9hG,EAAM6hG,gBAAkBtxH,GAAAA,SAAgBu3B,GAAWg6F,aAGjDvxH,UAA8B,QAAxB6wH,EAAN7wH,GAAAA,YAAoBu3B,UAAU,IAAAs5F,GAA9BA,EAAgCU,cAClC9hG,EAAM6hG,gBAAkBtxH,GAAAA,YAAmBu3B,GAAWg6F,aAGpDvxH,UAA2B,QAArB8wH,EAAN9wH,GAAAA,SAAiBu3B,UAAU,IAAAu5F,GAA3BA,EAA6BS,cAC/B9hG,EAAM6hG,gBAAkBtxH,GAAAA,SAAgBu3B,GAAWg6F,aAGjDvxH,UAAwB,QAAlB+wH,EAAN/wH,GAAAA,MAAcu3B,UAAU,IAAAw5F,GAAxBA,EAA0BQ,cAC5B9hG,EAAM6hG,gBAAkBtxH,GAAAA,MAAau3B,GAAWg6F,aAG9CvxH,UAAyB,QAAnBgxH,EAANhxH,GAAAA,OAAeu3B,UAAU,IAAAy5F,GAAzBA,EAA2BO,cAC7B9hG,EAAM6hG,gBAAkBtxH,GAAAA,OAAcu3B,GAAWg6F,aAK/CvxH,UAAAA,GAAAA,UAA0B,QAAViD,EAAI9F,cAAM,IAAA8F,GAAqB,QAArBC,EAAND,EAAQE,2BAAmB,IAAAD,GAA3BA,EAA6BvxB,QACnDwrB,OAAOgG,oBAAoBvuB,SAAQ,SAAC0uB,GAC9BA,EAAMjd,KAAK5M,gBAAkB89C,IAC3Bj0B,EAAMM,OAAMytH,GAAoB,GAChC/tH,EAAMiuH,cAAc9hG,EAAM6hG,gBAAkBhuH,EAAMiuH,aAE1D,IAGF,IAAMC,EAAoB,CACxBnrI,KAAMkxC,EACNwiD,UAAW,GACXtqD,MAAO,CAAC,EACRu6B,OAAQmnE,GAaV,OAVID,GAAeG,EACjBG,EAAkBz3C,UAAY,QAE9By3C,EAAkBz3C,UAAY,SAC9By3C,EAAkB/hG,MAAQ,CACxBgiG,WAAY,GAAFr9I,OAAKsD,EAAI,MACnBg6I,SAAU,GAAFt9I,OAAKsD,EAAO,EAAC,QAKvBoiG,MAAA1qD,cAAA,OACE2qD,UAAS,QAAA3lG,OAAU+8I,EAAa,WAAa,IAC7Cr1C,UAAWA,EACXrsD,MAAOA,GAEPqqD,MAAA1qD,cAACuiG,GAAiBH,GAGxB,GvCtKA,CAAgB,KAAO,2BAA2B,SAAW,2BAA2B,KAAO,4BAA4B,OAAS,4BuCwK5F,CAAE51C,eAAe,ICxKzD,IAAgB,QAAU,2BAA2B,YAAc,2BAA2B,eAAiB,2BAA2B,SAAW,2BAA2B,uBAAyB,2BAA2B,OAAS,2BAA2B,QAAU,2BAA2B,WAAa,4BAA4B,KAAO,2BAA2B,OAAS,4BAA4B,MAAQ,2BAA2B,gBAAkB,2BAA2B,WAAa,2BAA2B,UAAY,4BAA4B,SAAW,2BAA2B,oBAAsB,2BAA2B,cAAgB,2BAA2B,KAAO,2BAA2B,iBAAmB,2BAA2B,kBAAoB,4BAA4B,SAAW,2BAA2B,aAAe,2BAA2B,aAAe,2BAA2B,cAAgB,4BAA4B,WAAa,4BAA4B,aAAe,2BAA2B,KAAO,2BAA2B,IAAM,2BAA2B,OAAS,2BAA2B,QAAU,2BAA2B,MAAQ,2BAA2B,UAAY,2BAA2B,MAAQ,4BCI/wC,IAAMjmD,GAAQ,SAAChwB,EAAMyrC,GAC1B,OAAIzrC,IAASyrC,EACJ,UACEpH,EAAAA,GAAWoH,EAAKzrC,EAAOyrC,EAAKzrC,GAC9B,QAEF,EACT,ECkBA,UAAeinC,EAAAA,EAAAA,IAAQ,CACrBjlC,aAAc,gBADhB,CAEGuxE,MAnBiB,SAAHj7F,GAAA,IAAM2zI,EAAa3zI,EAAb2zI,cAAe/zI,EAAQI,EAARJ,SAAU8nB,EAAI1nB,EAAJ0nB,KAA4BksH,EAAO5zI,EAA7B0pB,aAAgBhC,KAAiBmsH,EAAO7zI,EAAP6zI,QAASC,EAAM9zI,EAAN8zI,OAAM,OACpGj4C,KAAAA,cAAA,OAAKC,UAAS,UAAA3lG,OAAY09I,EAAU,UAAY,MAC5C9nF,EAAAA,KAAa+nF,GACbj4C,KAAAA,cAAA,OAAKC,UAAS,cAAA3lG,OAAgBuhD,GAAMhwB,EAAMksH,KACvCA,EAAUlsH,ECbjBm0E,KAAAA,cAAA,OAAKkE,IAAI,SAASF,IAAI,m2BDaYn4E,GAGhCm0E,KAAAA,cAAA,OAAKC,UAAS,aAAA3lG,OAAwB,MAATuxB,EAAe,SAAW,KACrDm0E,KAAAA,cAAA,UACG83C,GAEH93C,KAAAA,cAAA,KAAGC,UAAU,WACVl8F,IAGD,GAImBg4C,GAAQ,CAAE+lD,eAAe,KEzB7C,IAAMo2C,GAAiB,WAAH,OACzBl4C,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,yBACH+4F,eAAe,2BACf,EAeJ,SAAewE,IAAf,EAXgB,WAAH,OACXY,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAA,QAAMC,UAAU,YACdD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,uBACH+4F,eAAe,8CAGlB,GAG8B7+C,GAAQ,CAAE+lD,eAAe,IAErD,IAAMq2C,GAAiB,WAAH,OACzBn4C,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,yBACH+4F,eAAe,2CACf,EAGSw9C,GAAW,WAAH,OACnBp4C,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,uBACH+4F,eAAe,2CACf,ECxBEjyC,GAAgBziC,IAAUA,GAAAA,SA+DhC,SAAek5E,IAAf,EA7DA,SAAmB9mF,GACjB,IAAQ4nF,EAAqE5nF,EAArE4nF,QAASn9F,EAA4DuV,EAA5DvV,MAAOs1I,EAAqD//H,EAArD+/H,SAAUC,EAA2ChgI,EAA3CggI,UAAWp1C,EAAgC5qF,EAAhC4qF,YAAaq1C,EAAmBjgI,EAAnBigI,eAE1D,OACEv4C,MAAA1qD,cAAA0qD,MAAAuB,SAAA,KACEvB,MAAA1qD,cAAA0qD,MAAAuB,SAAA,KACEvB,MAAA1qD,cAAA0qD,MAAAuB,SAAA,KACEvB,MAAA1qD,cAACkjG,GAAW,CAAC3sH,KAAM,EAAGisH,cAAeI,OACjCvvF,IACAq3C,MAAA1qD,cAACmjG,GAAO,OAGZz4C,MAAA1qD,cAAA,OAAK2qD,UAAS,0BAAA3lG,OAA4Bg+I,EAAUzgJ,OAAS,EAAI,WAAa,KAC3EygJ,EAAUt/I,KAAI,SAACs+D,EAAIn4D,GAClB,IAAQoN,EAAgC+qD,EAAhC/qD,KAAM6nI,EAA0B98E,EAA1B88E,QAAS9vH,EAAiBgzC,EAAjBhzC,aACjBo0H,EAAc,GAAHp+I,OAAMgqB,EAAe,GAAHhqB,OAAMgqB,GAAYhqB,OAAGiS,GAAI,GAAAjS,OAAQiS,IAE9DosI,EAAmB,GAAAr+I,OACvBgqB,EAAe,IAAHhqB,OAAOgqB,EAAY,KAAAhqB,OAAIiS,GAAI,GAAAjS,OAAQiS,IAC9CkI,cAEH,OACEurF,MAAA1qD,cAAA,OACEzzC,GAAI62I,EAAY/4I,cAPC,SAQjBrE,IAAK6D,EACL8gG,UAAS,QAAA3lG,OAAU+9I,EAASM,GAAoB,eAAiB,IACjEz4C,QAAS,kBAAMgD,EAAYy1C,EAAiB,GAE5C34C,MAAA1qD,cAAA,OAAK2qD,UAAU,QACbD,MAAA1qD,cAACsjG,GAAI,CAACrsI,KAAMA,EAAM0zF,UAAU,qBAE9BD,MAAA1qD,cAAA,MAAI2qD,UAAU,oBACZD,MAAA1qD,cAAA,UAAI0qD,MAAA1qD,cAAA,SAAI/oC,IACRyzF,MAAA1qD,cAAA,UACGhxB,GAAgB,IAAJhqB,OAAQgqB,EAAY,MAChC8vH,IAKX,MAGJp0C,MAAA1qD,cAACkuD,GAAM,CAAC3hG,GAAG,cAAco+F,UAAU,aAAa1I,SAAUx0F,EAAOm9F,QAASA,GACxEF,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,sBAAsB+4F,eAAe,gBAI3D1qC,EAAAA,KAAYmoF,aAAQ,EAARA,EAAUttI,MAAOwtI,GAE5Bv4C,MAAA1qD,cAAA,WACE0qD,MAAA1qD,cAACkjG,GAAW,CAAC3sH,KAAM,EAAGisH,cAAeK,KAAkBH,SAAO,GAC3DI,OAOf,GAEqCr8F,GAAQ,CAAE+lD,eAAe,ICjE9D,IACE30F,IAAAA,GACAoB,KAAAA,GACAnB,IAAAA,GACAiB,KAAAA,GACAwqI,cClBa,IAA0B,kCDmBvCC,IEnBa,IAA0B,wBFoBvCC,IGpBa,IAA0B,wBHqBvCC,UIrBa,IAA0B,8BJsBvCC,eKtBa,IAA0B,mCLuBvCC,YMvBa,IAA0B,iCC2VzC,IAAe1zC,EAAAA,GAAAA,IAAWpG,MAtU1B,SAAoB9mF,GAClB,IACU81B,EAON91B,EAPF2iF,KAAQ7sD,OACR8xD,EAME5nF,EANF4nF,QACAv0E,EAKErT,EALFqT,WACA5oB,EAIEuV,EAJFvV,MACAo2I,EAGE7gI,EAHF6gI,SACAC,EAEE9gI,EAFF8gI,mBACAz2H,EACErK,EADFqK,QAGI02H,EAAc,CAClBN,IAAK,CACH5rI,KAAK,GAEPmsI,KAAM,CAAC,EACPxqD,UAAW,CAAC,EACZoqD,YAAa,CAAC,GAGVK,EAAa,CACjBC,QAAS,CAAC,EACVT,IAAK,CAAC,EACNO,KAAM,CAAC,EACPxqD,UAAW,CAAC,EACZoqD,YAAa,CAAC,GAGRjzH,EAAoBvT,GAAAA,aAAAA,gBAEtB+mI,EAAcpoI,KAAKE,MAAMN,aAAaE,QAAQ8U,IAEhD0F,EAAW5gB,MAEbsuI,EAAYN,IAAI5rI,KAAM,EAEtBksI,EAAYC,KAAKnsI,KAAM,EAEvBksI,EAAYvqD,UAAU3hF,KAAM,EAE5BksI,EAAYH,YAAY/rI,KAAM,EAE9BosI,EAAWC,QAAQrsI,IAAMwV,EAAQtB,QAAU,KAAMo4H,EAAY5hJ,SAAU4hJ,EAAYxnI,SAAS,SAAWwnI,EAAYxnI,SAAS,OAAD3X,OAAQqoB,EAAQ/a,UAE3I2xI,EAAWR,IAAI5rI,IAAMkjC,GAAAA,YAAAA,oBAErBkpG,EAAWD,KAAKnsI,IAAMkjC,GAAAA,YAAAA,qBAEtBkpG,EAAWzqD,UAAU3hF,IAAMkjC,GAAAA,YAAAA,qBAE3BkpG,EAAWL,YAAY/rI,KAAM,GAG/B,IAAAkyF,GAA4BC,EAAAA,GAAAA,UAAS,CACnCzjD,MAAO,CACLg9F,eAAe,EACfE,KAAK,EACLC,WAAW,EACXC,gBAAgB,GAElB/hD,SAAU,KACVqI,GAAAvyC,EAAAA,GAAAA,GAAAqyC,EAAA,GARKq6C,EAAMn6C,EAAA,GAAEo6C,EAASp6C,EAAA,GAUxBG,GAA2DJ,EAAAA,GAAAA,WAAS,GAAMK,GAAA3yC,EAAAA,GAAAA,GAAA0yC,EAAA,GAAnEk6C,EAAsBj6C,EAAA,GAAEk6C,EAAwBl6C,EAAA,GAEjDm6C,GAA0BC,EAAAA,GAAAA,SAAO,GAEvC1qC,GAAgE/P,EAAAA,GAAAA,WAAS,GAAMgQ,GAAAtiD,EAAAA,GAAAA,GAAAqiD,EAAA,GAAxE2qC,EAAyB1qC,EAAA,GAAE2qC,EAA0B3qC,EAAA,GAC5DG,GAAwDnQ,EAAAA,GAAAA,WAAS,GAAMoQ,GAAA1iD,EAAAA,GAAAA,GAAAyiD,EAAA,GAAhEyqC,EAAqBxqC,EAAA,GAAEyqC,EAAsBzqC,EAAA,GACpD0qC,GAAgD96C,EAAAA,GAAAA,WAAS,GAAM+6C,GAAArtF,EAAAA,GAAAA,GAAAotF,EAAA,GAAxDE,EAAiBD,EAAA,GAAEE,EAAkBF,EAAA,GAC5CG,GAAgDl7C,EAAAA,GAAAA,WAAS,GAAMm7C,GAAAztF,EAAAA,GAAAA,GAAAwtF,EAAA,GAC/DE,GADwBD,EAAA,GAAoBA,EAAA,IACcn7C,EAAAA,GAAAA,WAAS,IAAMq7C,GAAA3tF,EAAAA,GAAAA,GAAA0tF,EAAA,GAAlEE,EAAsBD,EAAA,GAAEE,EAAuBF,EAAA,IAEtD96C,EAAAA,GAAAA,YAAU,WACR,IAEqC,oBAAxBi7C,qBAGLhB,EAAwB7gH,SAAW6hH,qBAGrCA,oBACGC,gDACApiH,MAAK,SAAA/+B,GACAA,GACFigJ,GAAyB,EAE7B,IAAE,OACK,SAAAh3I,GAAC,OAAI2O,QAAQzO,MAAMF,EAAE,GAGpC,CAAE,MAAOE,GACPyO,QAAQzO,MAAMA,EAChB,CACF,IAEA,IAqCMs2C,EAAevwC,OAAOtL,KAAKmuB,GAAY3kB,QAAO,SAACswD,GAAE,OAAK3rC,EAAW2rC,EAAG,IAAE,IAAM,uBAC5Etc,EAAc3B,EAAa15C,cAE3Bq7I,EAAQ,CACZ,CACE1jH,KAAM,CACJ2jH,GAAI,cACJC,GAAI,aACJC,GAAI,kBACJC,GAAI,gBACJC,GAAI,gBACJjtG,GACF7hC,KAAM,gBACN6nI,QAAS,CACP6G,GAAI,6BACJC,GAAI,8BACJC,GAAI,gCACJC,GAAI,gCACJC,GAAI,+BACJjtG,GACFkpD,SAAUiiD,EAAWC,QAAQx+F,GAC7BsgG,UAAW/B,EAAWC,QAAQx+F,GAC9BugG,eAAgB,WACd,GAAIrB,EACF,OAAO,KAETC,GAAuB,GACvB5/F,GAAAA,aAAAA,iBAAuC,GAADjgD,OAAI++C,EAAY,WACxD,GAEF,CACE/hB,KAAM,MACN/qB,KAAM,MACN6nI,QAAS,CACP6G,GAAI,wCACJC,GAAI,sCACJC,GAAI,wCACJC,GAAI,qDACJC,GAAI,kDACJjtG,GACFkpD,QAAS+hD,EAAYN,IAAI/9F,GACzBsgG,UAAW/B,EAAWR,IAAI/9F,GAC1BugG,eAAgB,WACd,GAAIjB,EACF,OAAO,KAETC,GAAmB,GACnBhgG,GAAAA,aAAAA,iBAAuC,GAADjgD,OAAI++C,EAAY,QACxD,GAoBF,CACE/hB,KAAM,iBACN/qB,KAAM,iBACN6nI,QAAS,CACP6G,GAAI,wEACJC,GAAI,wEACJC,GAAI,6DACJC,GAAI,yEACJC,GAAI,2EACJjtG,GACFkpD,QAAS+hD,EAAYvqD,UAAU9zC,GAC/BsgG,UAAW/B,EAAWzqD,UAAU9zC,GAChCugG,eAAgB,WACd,GAAIX,EACF,OAAO,KAETC,GAAwB,GACxBtgG,GAAAA,aAAAA,iBAAuC,GAADjgD,OAAI++C,EAAY,aACxD,IA4BJ,OAxBIugG,GACFoB,EAAMljJ,KAAK,CACTw/B,KAAM,cACN/qB,KAAM,cACN6nI,QAAS,CACP6G,GAAI,iEACJC,GAAI,qEACJC,GAAI,yDACJC,GAAI,0EACJC,GAAI,2EACJjtG,GAEFkpD,QAAS+hD,EAAYH,YAAYl+F,GACjCsgG,UAAW/B,EAAWL,YAAYl+F,GAClCugG,eAAgB,WACd,GAAIvB,EACF,OAAO,KAETC,GAA2B,GAC3B1/F,GAAAA,aAAAA,iBAAuC,GAADjgD,OAAI++C,EAAY,gBACxD,IAKF2mD,MAAA1qD,cAAA,YACI4a,EAAAA,KAAakpF,GAEXp5C,MAAA1qD,cAAA,WACE0qD,MAAA1qD,cAACkjG,GAAW,CAACV,cAAeI,KAAkBrsH,KAAM,EAAGmsH,SAAO,GAC5Dh4C,MAAA1qD,cAACmjG,GAAO,QAIhBz4C,MAAA1qD,cAAA,WACE0qD,MAAA1qD,cAAA,WACE0qD,MAAA1qD,cAACkjG,GAAW,CAACV,cAAeK,KAAkBtsH,KAAM,EAAGosH,OAAQmB,GAC5DhB,MAEHp4C,MAAA1qD,cAAA,OAAK2qD,UAAU,0BACZ+6C,EAAMhiJ,KAAI,SAACs+D,EAAIn4D,GACd,IAAQoN,EAA4C+qD,EAA5C/qD,KAAM6nI,EAAsC98E,EAAtC88E,QAAS98G,EAA6BggC,EAA7BhgC,KAAMggE,EAAuBhgC,EAAvBggC,QAASgkD,EAAchkF,EAAdgkF,UAEhCE,EAAY,CAAC,OAAQ,aAAc,aAErC9B,EAAO79F,MAAMtvC,IAAS+qF,GAASkkD,EAAU1jJ,KAAK,gBAC7Cw/F,GAASkkD,EAAU1jJ,KAAK,gBAEzBwjJ,GAAWE,EAAU1jJ,KAAK,iBAC9B,IAAM2jJ,EAAaD,EAAUpiJ,KAAK,KAElC,OACE4mG,MAAA1qD,cAAA,OACEh6C,IAAK6D,EACL8gG,UAAS,GAAA3lG,OAAKmhJ,GACd55I,GAAI0K,EACJ2zF,QAAS,WAEP,YADiC,IAAtB5oC,EAAGikF,gBAAkCjkF,EAAGikF,iBA9KjD,SAACp8I,EAAOm4D,GAC1B,IAAQ/qD,EAA6B+qD,EAA7B/qD,KAAM+qF,EAAuBhgC,EAAvBggC,QAEd,GAFqChgC,EAAdgkF,UAEP,gBAAZhkF,EAAG/qD,KAGL,OADAmvI,MAAM,mDACC,KAGT,GAAKpkD,EAAL,CAIA,IAAMqkD,EAASjC,EAAO79F,MAEtB/yC,OAAOtL,KAAKk8I,EAAO79F,OAAO/gD,SAAQ,SAAAw8D,GAE9BqkF,EAAOrkF,GADLA,IAAO/qD,CAKb,IACAotI,EAAU,CAAE99F,MAAO8/F,EAAQzkD,SAAU3qF,IACrCkiB,GAAAA,aAAAA,cAAoC,CAAEjiB,KAAM,SAAU3N,KAAM0N,IAC5D4sI,EAAS,KAbT,CAcF,CAsJyBj2C,CAAY/jG,EAAOm4D,EAC5B,GAEA0oC,MAAA1qD,cAAA,OAAK2qD,UAAU,SACV3I,GAAWgkD,IAEVt7C,MAAA1qD,cAAA,WACIgmG,GAAat7C,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,mBAAmB+4F,eAAe,UACrE0gD,GAAat7C,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,wBAAwB+4F,eAAe,iBAIlFoF,MAAA1qD,cAAA,OAAK2qD,UAAU,QACbD,MAAA1qD,cAAA,OAAK2qD,UAAU,qBACbD,MAAA1qD,cAAA,OACE0uD,IAAKmxC,GAAM5oI,GACX23F,IAAG,GAAA5pG,OAAKiS,EAAI,SACZ67H,KAAK,WAGTpoC,MAAA1qD,cAAA,MAAI2qD,UAAU,oBACZD,MAAA1qD,cAAA,UACE0qD,MAAA1qD,cAAA,SAAIhe,IAEN0oE,MAAA1qD,cAAA,UAAK8+F,KAKf,MAGJp0C,MAAA1qD,cAACkuD,GAAM,CACL3hG,GAAG,kBACHo+F,UAAU,aACV1I,SAAUx0F,GAA6B,KAApB22I,EAAOxiD,UAAuC,gBAApBwiD,EAAOxiD,SACpDgJ,QA7Na,WACfv0E,EAAW5gB,IACbwvC,GAAAA,aAAAA,SAA+B,OAE/BA,GAAAA,aAAAA,WAEF2lD,GAEF,GAuNQF,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,sBAAsB+4F,eAAe,oBAKpE,GACiD7+C,GAAQ,CAAE+lD,eAAe,K,OC/U1E,I,SAAMn5C,GAAgBziC,IAAUA,GAAAA,SACxB2C,GAAe3C,GAAAA,KAAAA,WAGF01H,IADpB9oF,EAAAA,EAAAA,KAAQ,SAAA3uD,GAAsB,MAAsB,CAAEwnB,WAAZxnB,EAA/BwnB,WAAcha,MAAyC,GAAE4uF,CAAAC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAAspI,EAAA34C,GAAA,I,IAAA1wF,G,EAAAqpI,E,maAOnE,SAAAA,EAAYtjI,GAAO,IAAAgX,EAAA/qB,GAAAP,EAAAA,GAAAA,GAAA,KAAA43I,GACjBr3I,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBALK4vI,KAAWpjI,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAEZ8vI,KAAUtjI,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAoLd,SAACgI,GACbguC,GAAAA,aAAAA,iBAAuChuC,GACvC,IAAQ4sI,EAAa50I,EAAK+T,MAAlB6gI,SACAd,EAAa9zI,EAAK2W,MAAlBm9H,SAEFwD,GAAY9qI,EAAAA,EAAAA,GAAA,GAAMxE,GAAQ8rI,EAAS9rI,IACzChI,EAAK+9C,UAAS,iBAAO,CAAE+1F,SAAUwD,EAAc,IAC/CptH,GAAAA,aAAAA,cAAoC,CAAEjiB,KAAM,aAAc3N,KAAMg9I,IAChE1C,EAAS,KACX,IAzLE,IAAQxtH,EAAerT,EAAfqT,WACJzF,UAAsB,QAAhBoJ,EAANpJ,GAAAA,KAAAA,iBAAsB,IAAAoJ,GAAtBA,EAAwBz3B,SAC1B0M,EAAKu3I,iBAAmB,GAEnBjzH,KAAcA,GAAW1b,KAC5B5I,EAAKu3I,iBAAiBhkJ,KAAK,CAAEyU,KAAM,MAAO6nI,QAAS,YAEhDvrH,KAAcA,GAAW1a,OAC5B5J,EAAKu3I,iBAAiBhkJ,KAAK,CAAEyU,KAAM,QAAS6nI,QAAS,UAElDvrH,KAAcA,GAAW3qB,MAC5BqG,EAAKu3I,iBAAiBhkJ,KAAK,CAAEyU,KAAM,OAAQ6nI,QAAS,cAGtDtrI,OAAOpL,OAAOwoB,GAAAA,oBAA2BprB,SAAQ,SAAAwK,GAA+C,IAA5Cic,EAAQjc,EAARic,SAAUkyC,EAASnuD,EAATmuD,UACxDlyC,GAAYkyC,GACdlvD,EAAKu3I,iBAAiBhkJ,KAAK,CAAEyU,KAAMgV,EAAU6yH,QAAS3gF,GAE1D,IAGAvtC,GAAAA,KAAAA,UAAAA,SAA8B,SAACsD,GAC7B,IAAMjd,EAAOid,EAAMjd,KAAK5M,cAClBkN,EAAW2c,EAAM3c,SAASlN,cAEhC4E,EAAKu3I,iBAAiBhkJ,KAAK,CACzByU,KAAMA,EAAKkI,cACX2/H,QAAS5qH,EAAMhI,SACf8C,aAAcsF,GAAgB/c,GAAU0U,SAAS9M,eAErD,IAEIyR,GAAAA,KAAAA,mBACEA,GAAAA,OAAkB2C,KAAcA,GAAWzb,KAAM7I,EAAKu3I,iBAAiBhkJ,KAAK,CAAEyU,KAAM,QAAS6nI,QAAS,QAAS9vH,aAAc,SAC7H4B,GAAAA,OAAkB2C,KAAcA,GAAWxb,KAAM9I,EAAKu3I,iBAAiBhkJ,KAAK,CAAEyU,KAAM,QAAS6nI,QAAS,QAAS9vH,aAAc,SAC7H4B,GAAAA,YAAuB2C,KAAcA,GAAWvb,OAAQ/I,EAAKu3I,iBAAiBhkJ,KAAK,CAAEyU,KAAM,aAAc6nI,QAAS,QAAS9vH,aAAc,WACzI4B,GAAAA,WAAsB2C,KAAcA,GAAWpb,MAAOlJ,EAAKu3I,iBAAiBhkJ,KAAK,CAAEyU,KAAM,YAAa6nI,QAAS,QAAS9vH,aAAc,UACtI4B,GAAAA,UAAqB2C,KAAcA,GAAWnb,KAAMnJ,EAAKu3I,iBAAiBhkJ,KAAK,CAAEyU,KAAM,WAAY6nI,QAAS,QAAS9vH,aAAc,SACnI4B,GAAAA,WAAsB2C,KAAcA,GAAWlb,MAAOpJ,EAAKu3I,iBAAiBhkJ,KAAK,CAAEyU,KAAM,YAAa6nI,QAAS,QAAS9vH,aAAc,UACtI4B,GAAAA,WAAsB2C,KAAcA,GAAWjb,MAAOrJ,EAAKu3I,iBAAiBhkJ,KAAK,CAAEyU,KAAM,YAAa6nI,QAAS,QAAS9vH,aAAc,UACtI4B,GAAAA,UAAqB2C,KAAcA,GAAWhb,KAAMtJ,EAAKu3I,iBAAiBhkJ,KAAK,CAAEyU,KAAM,WAAY6nI,QAAS,QAAS9vH,aAAc,SACnI4B,GAAAA,UAAqB2C,KAAcA,GAAW/a,KAAMvJ,EAAKu3I,iBAAiBhkJ,KAAK,CAAEyU,KAAM,WAAY6nI,QAAS,QAAS9vH,aAAc,SACnI4B,GAAAA,aAAwB2C,KAAcA,GAAWrb,QAASjJ,EAAKu3I,iBAAiBhkJ,KAAK,CAAEyU,KAAM,cAAe6nI,QAAS,QAAS9vH,aAAc,YAC5I4B,GAAAA,UAAqB2C,KAAcA,GAAW9a,QAASxJ,EAAKu3I,iBAAiBhkJ,KAAK,CAAEyU,KAAM,WAAY6nI,QAAS,QAAS9vH,aAAc,YACtI4B,GAAAA,OAAkB2C,KAAcA,GAAW7a,KAAMzJ,EAAKu3I,iBAAiBhkJ,KAAK,CAAEyU,KAAM,QAAS6nI,QAAS,QAAS9vH,aAAc,SAC7H4B,GAAAA,OAAkB2C,KAAcA,GAAW5a,KAAM1J,EAAKu3I,iBAAiBhkJ,KAAK,CAAEyU,KAAM,QAAS6nI,QAAS,QAAS9vH,aAAc,SAC7H4B,GAAAA,QAAmB2C,KAAcA,GAAW3a,MAAO3J,EAAKu3I,iBAAiBhkJ,KAAK,CAAEyU,KAAM,SAAU6nI,QAAS,QAAS9vH,aAAc,WAIxI,IAAMspB,EAAoBV,KAEpBv7B,EAAQga,EACX3kB,QAAO,SAAAyS,GAAY,OAAAA,EAATuQ,SAAyB,IAEnChjB,QAAO,SAAA8S,GAAA,IAAGvN,EAAIuN,EAAJvN,KAAI,OAAOqhC,EAAkB37B,SAAS1F,EAAK,IAElDwvI,EAAcx3I,EAAKu3I,iBAAiB9iJ,KAAI,SAAAwhB,GAAO,OAAAA,EAAJjO,IAAe,IAE1DyuI,EAAQrpI,EACX3Y,KAAI,SAAAshB,GAAkB,MAAQ,CAAE/N,KAArB+N,EAAJ/N,KAA+B6nI,QAAhB95H,EAATyP,UAA6C,IAC1D/iB,QAAO,SAAA0U,GAAA,IAAGnP,EAAImP,EAAJnP,KAAI,OAAQwvI,EAAY9pI,SAAS1F,EAAK,IAE7C8rI,EAAW,CAAC,EAClB1mI,EAAM7W,SAAQ,SAAA0gB,GAAkB,IAAf+F,EAAQ/F,EAAR+F,SAAiB82H,EAAS92H,IAAY,CAAM,IAE7D,IAQsC4H,EAAAC,EAoCjB4yH,EA5CjBC,GAAkB,EA2GrB,OAzGDnzI,OAAOtL,KAAKosB,IAAiB9uB,SAAQ,SAACQ,GAC/B4qB,GAAO0D,GAAgBtuB,GAAKuR,YAC/BovI,GAAkB,EAEtB,IAEItzF,IAAiBszF,IACT,QAAV9yH,EAAI9F,cAAM,IAAA8F,GAAqB,QAArBC,EAAND,EAAQE,2BAAmB,IAAAD,GAA3BA,EAA6BvxB,OAE/BwrB,OAAOgG,oBAAoBxuB,UAAUC,SAAQ,SAAC0uB,GAC5C,IAAMjd,EAAOid,EAAMjd,KAAK5M,cAClBkN,EAAW2c,EAAM3c,SAASlN,cAC1B2kB,EAAesF,GAAgB/c,GAAU0U,SAAS9M,cAClDynI,EAAe33I,EAAK43I,gBAAgBvsG,MAAK,SAACwsG,GAAS,IAAAC,EAAAC,EAAA,OAEzC,QAAdD,EAAAD,EAAU7vI,YAAI,IAAA8vI,OAAA,EAAdA,EAAgB18I,iBAAkB4M,IAA0B,QAAlB+vI,EAAAF,EAAUvvI,gBAAQ,IAAAyvI,OAAA,EAAlBA,EAAoB38I,iBAAkBkN,CAAQ,IAGtFqZ,GAAOrZ,GAAUN,KAAU2vI,GAC7B33I,EAAK43I,gBAAgBx5I,QAAQ,CAC3B4J,KAAMA,EAAKkI,cACX2/H,QAASluH,GAAOrZ,GAAUN,GAAMiV,SAEhC3U,SAAAA,EACAyX,aAAAA,GAGN,IAGI4B,GAAAA,MAAaA,GAAAA,aACf3hB,EAAK43I,gBAAgBrkJ,KAAK,CACxByU,KAAM2Z,GAAAA,WAAAA,cACNkuH,QAASluH,GAAAA,MAAaA,GAAAA,YAAmB1E,SACzC8C,aAAc,SAOlB4B,GAAAA,KAAAA,wBAAsCA,GAAAA,KAAAA,uBAAAA,SACrB81H,EAwDRrzF,GAAiBpkD,EAAK43I,gBAAkB53I,EAAKu3I,iBARtDhzI,OAAOtL,KAAKw+I,GAAUlhJ,SAAQ,SAACyhJ,EAAWp9I,GACxC68I,EAASO,GAAWhwH,MAAQyvH,EAASnkJ,OAASsH,CAChD,IACA+mB,GAAAA,KAAAA,uBAAAA,SAA2C,SAACvS,EAAM4Y,IAlD7B,SAACiwH,EAAUjwH,GAC9B,IAAAkwB,EAGI1D,GAAYyjG,GAFd7oI,EAAI8oC,EAAJ9oC,KACAlH,EAAUgwC,EAAVhwC,WAEEgwI,GAAgB,EAChBC,EAAkB,GAChBlgI,EAAgB,IAAI47E,OACxB,CACE,YACA,kEACA,oDACA,MACAh/F,KAAK,KAGT,GACIojJ,EAASr3I,MAAMqX,GACjB,CACC,IAAAmgI,EAAoBH,EAASnkJ,MAAM,KAAIukJ,GAAA5vF,EAAAA,GAAAA,GAAA2vF,EAAA,GAAtCD,EAAeE,EAAA,GACjBH,GAAgB,CAClB,CACA3zI,OAAOtL,KAAKw+I,GAAUlhJ,SAAQ,SAACyhJ,GAC7B,GAAIE,GACF,GAAIT,EAASO,GAAWhwI,OAASmwI,GACI,UAAhCV,EAASO,GAAWnI,QAGvB,OADA4H,EAASO,GAAWhwH,MAAQA,GACrB,OAGT,GAAI9f,GACF,GAAIuvI,EAASO,GAAWhwI,OAASoH,GAC5BqoI,EAASO,GAAWj4H,eAAiB7X,EAAWgI,cAGnD,OADAunI,EAASO,GAAWhwH,MAAQA,GACrB,OAGT,GAAIyvH,EAASO,GAAWhwI,OAASoH,EAE/B,OADAqoI,EAASO,GAAWhwH,MAAQA,GACrB,CAIf,GACF,CAKEswH,CAAalpI,EAAM4Y,EACrB,IACAyvH,EAASl5G,MAAK,SAACg6G,EAAOC,GAAK,OAAKD,EAAMvwH,MAAQwwH,EAAMxwH,KAAK,KAK7DhoB,EAAK2W,MAAQ,CACXm9H,SAAAA,EACA2C,MAAAA,EACA1C,UAAY3vF,GAAiBpkD,EAAK43I,gBAAkB53I,EAAKu3I,kBAC1Dv3I,CACH,CA2EC,OA3EAN,EAAAA,GAAAA,GAAA23I,EAAA,EAAAtgJ,IAAA,SAAA6C,MAaD,WACE,IAAAijG,EASIxpG,KAAK0gB,MARP8gI,EAAkBh4C,EAAlBg4C,mBACAl5C,EAAOkB,EAAPlB,QACAn9F,EAAKq+F,EAALr+F,MACAo2I,EAAQ/3C,EAAR+3C,SACAx2H,EAAOy+E,EAAPz+E,QACAkJ,EAAIu1E,EAAJv1E,KACAmxH,EAAuB57C,EAAvB47C,wBACAzE,EAAcn3C,EAAdm3C,eAEF50F,EAAgC/rD,KAAKsjB,MAA7Bm9H,EAAQ10F,EAAR00F,SAAUC,EAAS30F,EAAT20F,UAElB,OACEt4C,MAAA1qD,cAAA,WAEI8jG,EAEIp5C,MAAA1qD,cAACi9D,GAAU,CACTxvG,MAAOA,EACPm9F,QAASA,EACTv0E,WAAYqxH,EACZ7D,SAAUA,EACVj2C,YAAatrG,KAAKsrG,YAClBvgF,QAASA,EACTy2H,oBAAkB,IAIpBp5C,MAAA1qD,cAAA,WAEa,IAATzpB,GAEAm0E,MAAA1qD,cAAC89D,GAAS,CACRrwG,MAAOA,EACPm9F,QAASA,EACTi5C,SAAUA,EACVj2C,YAAatrG,KAAKsrG,YAClBm1C,SAAUA,EACVC,UAAWA,EACXC,eAAgBA,IAKT,IAAT1sH,GAEAm0E,MAAA1qD,cAACi9D,GAAU,CACTxvG,MAAOA,EACP4f,QAASA,EACTu9E,QAASA,EACTv0E,WAAYqxH,EACZ7D,SAAUA,EACVj2C,YAAatrG,KAAKsrG,eASpC,KAAC04C,CAAA,CAlQkE,CAC3Bx4C,GAAAA,aAAS5C,G,2GCSnD,IAAMy8C,KAAsB/2H,UAAY,QAAN8pB,GAAN9pB,GAAAA,YAAY,IAAA8pB,IAAI,QAAJC,GAAZD,GAAcliB,UAAE,IAAAmiB,KAAhBA,GAAkB7e,uBACxCglB,KAAuDlwB,UAAY,QAANyyB,GAANzyB,GAAAA,YAAY,IAAAyyB,KAAZA,GAAcvC,oDAwV3E,UAAe0c,EAAAA,EAAAA,IAAQ,CACrBjlC,aAAc,eACdlC,WAAY,aACZuxH,SAAU,OACV5vH,KAAM,QAJR,EAKGgkH,EAAAA,EAAAA,IAAWlyC,MA3Vd,SAAsB9mF,GACpB,IACE8U,EAME9U,EANF8U,QACqB+vH,EAKnB7kI,EALFqT,WAAcha,MAAKyrI,EAKjB9kI,EAJFuV,aAAgBlC,EAAUyxH,EAAVzxH,WAAYC,EAAMwxH,EAANxxH,OAAMyxH,EAIhC/kI,EAHFq2B,SAAYk/C,EAAQwvD,EAARxvD,SAAU/gE,EAAIuwH,EAAJvwH,KACtBowH,EAEE5kI,EAFF4kI,SACQj3H,EACN3N,EADFgV,KAAQrH,gBAGFmoB,GAAWkvG,EAAAA,GAAAA,KAAXlvG,OAEFmvG,EAAiB1vD,EAASx1F,MAAM,KAAK,GAGzCsqB,EACEu6H,EADFv6H,QAGI66H,EAAcntG,GAAAA,KAAAA,WACN,CAAC,GACZrpC,QAAO,SAAA7C,GAAA,IAAGod,EAAQpd,EAARod,SAAQ,OAAQ0E,EAAgBhU,SAASsP,EAAS,KAE/Ds+E,EAAAA,GAAAA,YAAU,WACR,GAAI09C,IACiBtsI,GAAAA,QAAqB,mBAEb2+B,MAAK,SAAC0nB,GAC/B,GAAIA,EAAGrlD,SAAS,KAAM,CACpB,IAAAslD,EAA4BD,EAAGj/D,MAAM,KAAIm/D,GAAAxK,EAAAA,GAAAA,GAAAuK,EAAA,GAAlCE,EAAMD,EAAA,GACb,OADwBA,EAAA,GACjBC,IAAW8lF,EAAe9oI,aACnC,CACA,OAAO6iD,IAAOimF,EAAe9oI,aAC/B,KAGEgpI,GAAS,GAG0B,SAAjCF,EAAe9oI,eAA0B,CAG3C,IAAMipI,EAAgBzsI,GAAAA,QACX,mBACR2+B,MAAK,SAAC4C,GAAG,OAAKA,EAAIvgC,SAASsrI,EAAe,IAC7CltG,GAAAA,KAAAA,kBAA+BqtG,GAAiBH,EAAe9oI,eAAe,GAC9EyuF,GACF,CAEJ,GAAG,CAACrV,IAEJ,IA6JIurD,EA7JJ/5C,GAAwBC,EAAAA,GAAAA,UAAS,GAAEC,GAAAvyC,EAAAA,GAAAA,GAAAqyC,EAAA,GAA5BxzE,EAAI0zE,EAAA,GAAEo+C,EAAOp+C,EAAA,GACpBG,GAA0BJ,EAAAA,GAAAA,UAAS,oBAAmBK,GAAA3yC,EAAAA,GAAAA,GAAA0yC,EAAA,GAA/C38F,EAAK48F,EAAA,GAAEw5C,EAAQx5C,EAAA,GACtB0P,GAA4B/P,EAAAA,GAAAA,WAAS,GAAMgQ,GAAAtiD,EAAAA,GAAAA,GAAAqiD,EAAA,GAApCuuC,EAAOtuC,EAAA,GAAEmuC,EAAQnuC,EAAA,GAElBuuC,EAAS,WACbzwH,EAAQt1B,KAAK+uG,GAAaz4D,EAAQa,GAAM6+C,MAC1C,EAMMoV,EAAc,WAGlB,GADAi2C,EAAS,MACI,IAATttH,IAAeutH,EAEjB,OADA3qH,GAAAA,aAAAA,cAAoC,CAAEjiB,KAAM,OAAQ3N,KAAMgtB,EAAO,IAC1D8xH,EAAQ9xH,EAAO,GAExB5a,GAAAA,QAAqByB,GAAAA,aAAAA,gBAAuC,GAC5DmrI,GACF,EA0IIN,IACFnE,EAAqB+D,EAAcvtG,MAAK,SAAAtqC,GAAA,IAAGiH,EAAIjH,EAAJiH,KAAMM,EAAQvH,EAARuH,SAAU1O,EAAKmH,EAALnH,MAAK,OAAQ0O,EAAW1O,EAAMsW,cAAgBlI,KAAUgxI,EAAe9oI,aAAa,OAE7IkX,EAAW4xH,EAAe59I,gBAAiB,GAI3Ci+I,GACFC,IAGF,IAAMC,EAAWluI,GAASmhC,YAAY+e,kBAChCiuF,KAAYzG,GAAUwG,IAA0B,YAAbA,GAAuC,SAAbA,IAAuBxG,GAAUwG,GAE9FE,EAAiC,QAAZF,GAAsB53H,GAAAA,KAAAA,kBAA+C,SAAb43H,EAEnF,OACE99C,MAAA1qD,cAAA,OAAK2qD,UAAU,WACZu9C,EAAY3lJ,OACXmoG,MAAA1qD,cAAC2oG,GAAS,CACRh+C,UAAU,cACVC,QAAS29C,EACT,cAAY,mBAEZ,KAEJ79C,MAAA1qD,cAAA,OAAK2qD,UAAW/vC,EAAAA,GAAW,iBAAmB,YAC5C8vC,MAAA1qD,cAAA,UACE0qD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,sBAAsB+4F,eAAe,sBACzD,IACA2iD,GAAkBA,EAAe9oI,eAEpCurF,MAAA1qD,cAAA,OAAK2qD,UAAU,kBACXg9C,IACAj9C,MAAA1qD,cAAA0qD,MAAAuB,SAAA,KACEvB,MAAA1qD,cAAA,WACE0qD,MAAA1qD,cAAA,UAAQ4qD,QAxKQ,WAC5B7vD,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,sBACtB,EAsKsDlG,KAAK,UAC3CwzF,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,6BAA6B+4F,eAAe,+BAC1D,IAEToF,MAAA1qD,cAACkxD,GAAO,CAAC3kG,GAAG,sCACVm+F,MAAA1qD,cAAA,YACE0qD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,qCACH+4F,eAAe,0BAEjBoF,MAAA1qD,cAAA,WACA0qD,MAAA1qD,cAAA,WACA0qD,MAAA1qD,cAAA,OAAK2qD,UAAU,uBACbD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,iDACH+4F,eAAe,6BAMzBoF,MAAA1qD,cAAA,WACE0qD,MAAA1qD,cAAA,UAAQ4qD,QA1LO,WAC3B7vD,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,qBACtB,EAwLqDlG,KAAK,UAC1CwzF,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,4BAA4B+4F,eAAe,iCACzD,IAEToF,MAAA1qD,cAACkxD,GAAO,CAAC3kG,GAAG,sCACVm+F,MAAA1qD,cAAA,YACE0qD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,oCACH+4F,eAAe,+CAEjBoF,MAAA1qD,cAAA,WACA0qD,MAAA1qD,cAAA,WACA0qD,MAAA1qD,cAAA,OAAK2qD,UAAU,uBACbD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,gDACH+4F,eAAe,8BAQ5BojD,GACCh+C,MAAA1qD,cAAA0qD,MAAAuB,SAAA,MACI3xF,GAAS2F,eACTyqF,MAAA1qD,cAAA,WACE0qD,MAAA1qD,cAAA,UAAQ4qD,QA5OI,WAC1B9yE,EAAQt1B,KAAK+uG,GAAaz4D,EAAQa,GAAMq/C,eAC1C,EA0OsD9hF,KAAK,UACxCuxI,GACC/9C,MAAA1qD,cAAA,OAAK2qD,UAAU,oBAAoB+D,IAAK+5C,IAE1C/9C,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,2BAA2B+4F,eAAe,oBACxD,IAEToF,MAAA1qD,cAACkxD,GAAO,CAAC3kG,GAAG,qCACVm+F,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,mCACH+4F,eAAe,qDAU3BxkD,GAEI4pD,MAAA1qD,cAAA,OAAKK,MAAO,CAAEC,QAAS,OAAQsoG,eAAgB,SAAU3Q,MAAO,MAAO4Q,OAAQ,SAC7En+C,MAAA1qD,cAACkuD,GAAM,CAACnB,MAAI,EAACJ,WAAS,EAAC/B,QApPV,WACzB7vD,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,uBACtB,GAmPgBstF,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,2BACH+4F,eAAe,yBAMrBoF,MAAA1qD,cAACsmG,GAAY,CACX/vH,KAAMA,EACNutH,mBAAoBA,EACpBr2I,MAAOA,EACPm9F,QArPG,WAIf,GAFAi5C,EAAS,MAEJrwI,OAAOpL,OAAOiuB,GAAY1Z,UAAS,IAAkB,IAAT4Z,EAAjD,CAKA,IAGyC+sC,EAHnCwlF,GAAsBt1I,OAAOtL,KAAKmuB,GAAY1Z,SAAS,QAAWnJ,OAAOtL,KAAKmuB,GAAY1Z,SAAS,QAAmB,SAAT6a,EAC5BqsC,E,65BAAAC,CAA/DzwC,GAAmB3vB,KAAI,SAAC6T,GAAQ,OAAK+c,GAAgB/c,EAAS,KAE7C,IAAzC,IAAAssD,EAAAE,MAAAT,EAAAO,EAAArgE,KAAAwgE,MAA2C,KAAhC+kF,EAAWzlF,EAAAz6D,MACdmgJ,EAAeD,EAAYxxI,SAAS4H,cACpC6P,EAAe+5H,EAAY98H,SAAS9M,cACpCnZ,EAAM,IAAHhB,OAAOgqB,EAAY,KAAAhqB,OAAIgkJ,GAEhC,GAAI3yH,EAAWrwB,IAAQ8iJ,EAWrB,OAVA/tG,GAAAA,KAAAA,kBAA+BguG,EAAY98H,SAAS9M,eAAe,GACnExD,GAAAA,QAAqByB,GAAAA,aAAAA,gBAAuC,GAE5DmrI,SAEAxtG,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,eAAiC,CACnD7F,SAAUyxI,EACVh6H,aAAc+5H,EAAY98H,UAKhC,CAAC,OAAArrB,GAAAijE,EAAAt2D,EAAA3M,EAAA,SAAAijE,EAAAn+D,GAAA,CAED,GAAIojJ,EAQF,OAPAt1I,OAAOtL,KAAKmuB,GAAY7wB,SAAQ,SAACymB,GAC3BoK,EAAWpK,IACb8uB,GAAAA,KAAAA,kBAA+B9uB,EAAS9M,eAAe,EAE3D,IACAxD,GAAAA,QAAqByB,GAAAA,aAAAA,gBAAuC,QAC5DmrI,IAIF,GAAKjyH,EAAO/zB,QAAoB,IAATg0B,IAAcutH,EAArC,CAKA,GAAa,IAATvtH,GAAcutH,EAChB,OAAQxtH,GACN,IAAK,gBACH9iB,OAAOtL,KAAKmuB,GAAY7wB,SAAQ,SAACw8D,GAC/B,GAAI3rC,EAAW2rC,GAAK,CAClB,IAAMomF,EAAgBzsI,GAAAA,QACX,mBACR2+B,MAAK,SAAC4C,GAAG,OAAKA,EAAIvgC,SAAS,GAAD3X,OAAIg9D,EAAE,KAAI,IACvCjnB,GAAAA,KAAAA,kBAA+BqtG,GAAiBpmF,EAAG7iD,eAAe,EACpE,CACF,IACA,MACF,IAAK,MACH,GAAIkX,EAAW5gB,IACb,OAAKslC,GAAAA,YAAAA,yBAULA,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,QAA0B,CAC5C9M,MACEo6F,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,2BACH+4F,eAAe,4CAGnB5zD,QACEg5D,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,6BACH+4F,eAAe,iFAGnBQ,SAAU4E,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,yBAAyB+4F,eAAe,OACvEO,QAAS6E,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,wBAAwB+4F,eAAe,QACrEW,SAAU,WACRlrD,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,qBAAuC,CACzDb,SAAU,WACRw+B,GAAAA,KAAAA,kBAA+B,uBAAuB,GACtD6yD,GACF,GAEJ,EACA7H,SAAU,WACRhrD,GAAAA,KAAAA,kBAA+B,uBAAuB,GACtD6yD,GACF,SAnCA7yD,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,qBAAuC,CACzDb,SAAU,WACRw+B,GAAAA,KAAAA,kBAA+B,uBAAuB,GACtD6yD,GACF,IAmCN,MACF,IAAK,iBACH,GAAIv3E,EAAW5gB,IAQb,YAPAslC,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,kBAAoC,CACtDb,SAAU,WACRw+B,GAAAA,KAAAA,kBAA+B,kBAAkB,GACjD6yD,GACF,EACAq7C,iBAAiB,IAIrB,MACF,QACE/sI,QAAQ4J,KAAK,2BAGnB8nF,GAzEA,MAFEi2C,EAAS,mBArCX,MAFEA,EAAS,mBAmHb,EA8HcA,SAAUA,EACVx2H,QAASA,EACTq6H,wBAAyBrxH,EACzB4sH,eAAyB,SAATzrH,KAOhC,GAMuCivB,GAAQ,CAAE+lD,eAAe,MCxWhE,GAAe1C,IAAf,EAPiB,WAAH,OACZY,KAAAA,cAAA,OAAKgC,UAAU,aACbhC,KAAAA,cAAA,MAAIC,UAAU,QACZD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,YAAY+4F,eAAe,qBAE9C,GCZR,CAAgB,KAAO,8BCAvB,IAAgB,OAAS,2BAA2B,WAAa,2BAA2B,aAAe,2BAA2B,cAAgB,2BAA2B,kBAAoB,2BAA2B,SAAW,2BAA2B,OAAS,4BAA4B,cAAgB,4BAA4B,yBAA2B,2BAA2B,wBAA0B,2BAA2B,YAAc,4BCAhd,IAAgB,YAAc,2BAA2B,oBAAsB,2BAA2B,2BAA6B,4BAA4B,IAAM,2BAA2B,YAAc,2BAA2B,aAAe,2BAA2B,oBAAsB,2BAA2B,aAAe,2BAA2B,OAAS,2BAA2B,cAAgB,4BAA4B,eAAiB,2BAA2B,KAAO,4B,+lBCWrf,IAAQxpE,GAA0BlL,GAAAA,KAAAA,GAAAA,sBAM5B0nB,GAAoB1nB,GAAAA,KAAAA,WACpBs4H,IAAoBt4H,UAAY,QAAN8pB,GAAN9pB,GAAAA,YAAY,IAAA8pB,IAAI,QAAJC,GAAZD,GAAcliB,UAAE,IAAAmiB,IAAK,QAALwuG,GAAhBxuG,GAAkB5e,WAAG,IAAAotH,QAAf,EAANA,GAAuBntH,SAAWpL,GAAAA,KAAAA,GAAAA,IAAAA,OAAAA,OAAmC,EACzFw4H,IAAmBx4H,UAAY,QAANyyB,GAANzyB,GAAAA,YAAY,IAAAyyB,IAAI,QAAJgmG,GAAZhmG,GAAc7qB,UAAE,IAAA6wH,IAAK,QAALC,GAAhBD,GAAkBttH,WAAG,IAAAutH,QAAf,EAANA,GAAuBrtH,QAAUrL,GAAAA,KAAAA,GAAAA,IAAAA,MAAAA,OAAkC,EAEtF24H,GAAa,CAAC,EACdC,GAAgB,CAAC,EACnBN,IACFt4H,GAAAA,KAAAA,GAAAA,IAAAA,OAAAA,KAA8B,SAAC64H,EAASC,GACtCH,GAAW,cAADvkJ,OAAe0kJ,KAAc,EACvCF,GAAc,cAADxkJ,OAAe0kJ,IAAc,kBAAH1kJ,OAAqB0kJ,EAAQ,UACtE,IAGF,IAAMC,GAAY,CAAC,EACbC,GAAe,CAAC,EAClBR,IACFx4H,GAAAA,KAAAA,GAAAA,IAAAA,MAAAA,KAA6B,SAAC64H,EAASC,GACrCC,GAAU,aAAD3kJ,OAAc0kJ,KAAc,EACrCE,GAAa,aAAD5kJ,OAAc0kJ,IAAc,iBAAH1kJ,OAAoB0kJ,EAAQ,UACnE,IAGF,IAAMG,GAAiBlwI,GAAAA,GAAA,GAClB6vI,IAAa,IAChBM,UAAW,kBACXC,WAAY,kBACZC,UAAW,mBACRJ,IA4VL,SAAel/C,KAAAA,KAAW+B,MAAWyD,EAAAA,GAAAA,KAxVzB,SAAUltF,GAAO,IAAAinI,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EACX1kD,EAAoB5iF,EAA5B2iF,KAAQC,cAChBmE,GAA4CC,EAAAA,GAAAA,UAAQrwF,GAAAA,GAAC,CAAC,EACjD4vI,IAAU,IACbO,WAAW,EACXC,YAAY,EACZC,WAAW,GACRL,KACH1/C,GAAAvyC,EAAAA,GAAAA,GAAAqyC,EAAA,GANKwgD,EAActgD,EAAA,GAAEugD,EAAiBvgD,EAAA,GAQxCG,GAAoCJ,EAAAA,GAAAA,UAAQrwF,GAAAA,GAAC,CAAC,EACzC4vI,IAAU,IACbO,WAAW,EACXC,YAAY,EACZC,WAAW,GACRL,KACHt/C,GAAA3yC,EAAAA,GAAAA,GAAA0yC,EAAA,GANKqgD,EAAUpgD,EAAA,GAAEqgD,EAAargD,EAAA,GAQ1BsgD,EAAiB,SAACC,GACtBJ,EAAiB7wI,GAAAA,GAAC,CAAC,EAAI4wI,GAAc,IAAA9uI,EAAAA,EAAAA,GAAA,GAAGmvI,GAAWL,EAAeK,MAE7DH,EAAWG,KACd3lG,GAAAA,IAAAA,OAAoB2gD,EAAc,CAAEr5F,GAAIs9I,GAAkBe,MAC1DF,EAAa/wI,GAAAA,GAAC,CAAC,EAAI8wI,GAAU,IAAAhvI,EAAAA,EAAAA,GAAA,GAAGmvI,GAAU,KAE9C,EAOA7wC,GAAwB/P,EAAAA,GAAAA,UAAS,CAC/BnyF,IAAK,EACLC,IAAK,EACLC,IAAK,EACLC,MAAO,EACPC,OAAQ,EACRE,KAAM,EACNC,IAAK,EACLC,KAAM,EACNC,KAAM,EACNC,IAAK,IACLyhG,GAAAtiD,EAAAA,GAAAA,GAAAqiD,EAAA,GAXKjvE,EAAIkvE,EAAA,GAAE6wC,EAAO7wC,EAAA,IAapBzP,EAAAA,GAAAA,YAAU,WACR,IAAI4O,GAAW,EAGS,SAAA2xC,IAgCvB,OAhCuBA,GAAAxnI,EAAAA,EAAAA,GAAAC,IAAAA,MAAxB,SAAAC,IAAA,IAAAunI,EAAAC,EAAAC,EAAA,OAAA1nI,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,UAAAib,EAAAtZ,KAAA,EAGS+tC,KAAqBA,GAAkBzgC,IAAG,CAAAgM,EAAAjb,KAAA,QACtB,OAAjBmiJ,EAAa,KAAIlnI,EAAAjb,KAAA,EACO2uC,GAAAA,gBAAyB,CAAEhG,MAAO,OAAQ5G,QAxF9E,YAwFwF,OAA5EqgH,EAAennI,EAAAG,KACjBm1F,GACF0xC,GAAQ,SAACK,GAAQ,OAAAvxI,GAAAA,GAAA,GACZuxI,GAAQ,IAEXrzI,IAAKzW,KAAKgvC,KAAK46G,EAAkBD,IAAW,IAE/C,OAIGE,EAAmB,eAAAp8I,GAAAyU,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAO,EAAO44B,GAAe,IAAA9hB,EAAA,OAAArX,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,cAAAmb,EAAAnb,KAAA,EAC9Bk8C,GAAcpI,GAAS0I,mBAAkB,OAArDxqB,EAAG7W,EAAAC,KACLm1F,GACF0xC,GAAQ,SAACK,GAAQ,OAAAvxI,GAAAA,GAAA,GACZuxI,GAAQ,IAAAzvI,EAAAA,EAAAA,GAAA,MAAAzW,OACP03C,IA3CO7zC,EA2CmB+xB,EA3CT,IAAI+E,GAAAA,EAAU92B,GAC5CkiC,UAAU,KACV2H,GAAG,EAAG/S,GAAAA,EAAAA,iBACNC,cAHmB,IAAC/2B,CA2CuB,IAErC,wBAAAkb,EAAAJ,OAAA,GAAAG,EAAA,KACF,gBARwBG,GAAA,OAAApV,EAAAwT,MAAA,KAAAhf,UAAA,KAUzBmQ,OAAOtL,KAAK0oB,GAAAA,oBAA2BprB,SAAQ,SAACk3C,GACzCpE,KAAqBA,GAAkBoE,EAAQryC,gBAAgB4gJ,EAAoBvuG,EAAQryC,cAClG,IAAEwZ,EAAAjb,KAAA,iBAAAib,EAAAtZ,KAAA,GAAAsZ,EAAAkC,GAAAlC,EAAA,SAEFohC,GAAAA,IAAAA,OAAoB,yBAADjgD,OAA0B6e,EAAAkC,GAAM2rB,QAAO,MAAI,yBAAA7tB,EAAAF,OAAA,GAAAH,EAAA,mBAEjEsnI,EAAAzoI,MAAA,KAAAhf,UAAA,CAMD,OAJIknJ,EAAeR,YArCA,WAGKe,EAAAzoI,MAAC,KAADhf,UAAA,CAmCtBimF,GAGK,WACL6vB,GAAW,CACb,CACF,GAAG,CAACoxC,EAAeR,aAEnB,IAAMoB,EAAyB,GAC/B33I,OAAOtL,KAAK0oB,GAAAA,oBAA2BprB,SAAQ,SAACk3C,GACzCpE,KAAqBA,GAAkBoE,EAAQryC,gBAClD8gJ,EAAkB3oJ,KAAK,CACrBwU,OAAQ0lC,EACR9hB,IAAKkQ,EAAK4R,EAAQryC,eAClB+gJ,KAAM,QAGZ,IACA,IAAMC,EAAiB,GAAHrmJ,QAAA0mB,EAAAA,EAAAA,IACZ4sB,IAAqBA,GAAkBzgC,IAAO,CAAC,CACnDb,OAAQ,MACR4jB,IAAKkQ,EAAKjzB,IACVuzI,KAAM,WACNE,WAAY3zG,GAAAA,IAAAA,cACT,IACFwzG,GAGCI,EAAwB,GAC9B/3I,OAAOtL,KAAK0oB,GAAAA,oBAA2BprB,SAAQ,SAACk3C,GACzCpE,KAAqBA,GAAkBoE,EAAQryC,gBAClDkhJ,EAAiB/oJ,KAAK,CACpBwU,OAAQ0lC,EACR8uG,WAAYhgH,GAAmBkR,IAGrC,IACA,IAAM+uG,EAAgB,GAAHzmJ,QAAA0mB,EAAAA,EAAAA,IACX4sB,IAAqBA,GAAkBzgC,IAAO,CAAC,CACnDb,OAAQ,MACRw0I,WAAYhgH,GAAmB,SAC5B,IACF+/G,GAGCG,EAAa,SAACC,EAAUx/I,GAC5B,OAAOw/I,EAASjoJ,KAAI,SAAC+lJ,EAASC,GAAa,IAAAnM,EAAAqO,EACzC,OACElhD,KAAAA,cAAA,WAASgC,UAAWjmD,GAAAA,KAClBikD,KAAAA,cAAA,QAAMgC,UAAWjmD,GAAAA,YAAoBmkD,QAAS,kBAAM+/C,EAAe,GAAD3lJ,OAAImH,EAAM,SAAAnH,OAAQ0kJ,GAAW,GAC7Fh/C,KAAAA,cAAA,OAAKgC,UAAWe,MAAE8vC,EAAA,IAAA9hI,EAAAA,EAAAA,GAAA8hI,EACf92F,GAAAA,QAAgB,IAAIhrC,EAAAA,EAAAA,GAAA8hI,EACpB92F,GAAAA,cAAuB8jG,EAAe,GAADvlJ,OAAImH,EAAM,SAAAnH,OAAQ0kJ,KAAWnM,MAEpEkM,EAAQn5I,OAEXo6F,KAAAA,cAAA,OAAKgC,UAAWe,MAAEm+C,EAAA,IAAAnwI,EAAAA,EAAAA,GAAAmwI,EACfnlG,GAAAA,cAAsB,IAAIhrC,EAAAA,EAAAA,GAAAmwI,EAC1BnlG,GAAAA,oBAA6B8jG,EAAe,GAADvlJ,OAAImH,EAAM,SAAAnH,OAAQ0kJ,KAAWkC,KAExEnC,EAAQjgG,SAIjB,GACF,EAEA,OACEkhD,KAAAA,cAAA,OAAKgC,UAAS,GAAA1nG,OAAKyhD,GAAAA,cACjBikD,KAAAA,cAAA,MAAIgC,UAAWjmD,GAAAA,qBACbikD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,gBAAgB+4F,eAAe,SAEtDoF,KAAAA,cAAA,OAAKgC,UAAWjmD,GAAAA,4BACbyiG,IACCx+C,KAAAA,cAAAA,KAAAA,SAAA,KACGghD,EAAW96H,GAAAA,KAAAA,GAAAA,IAAAA,OAA2B,YAGzCkL,IACA4uE,KAAAA,cAAA,WAASgC,UAAWjmD,GAAAA,KAClBikD,KAAAA,cAAA,QAAMgC,UAAWjmD,GAAAA,YAAoBmkD,QAAS,kBAAM+/C,EAAe,YAAY,GAC7EjgD,KAAAA,cAAA,OAAKgC,UAAWe,MAAEw8C,EAAA,IAAAxuI,EAAAA,EAAAA,GAAAwuI,EACfxjG,GAAAA,QAAgB,IAAIhrC,EAAAA,EAAAA,GAAAwuI,EACpBxjG,GAAAA,cAAuB8jG,EAAeT,WAASG,MAElDv/C,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,kBAAkB+4F,eAAe,qCAExDoF,KAAAA,cAAA,OAAKgC,UAAWe,MAAEy8C,EAAA,IAAAzuI,EAAAA,EAAAA,GAAAyuI,EACfzjG,GAAAA,cAAsB,IAAIhrC,EAAAA,EAAAA,GAAAyuI,EAC1BzjG,GAAAA,oBAA6B8jG,EAAeT,WAASI,KAEtDx/C,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,mBACH+4F,eAAc,8NAStBoF,KAAAA,cAAA,WAASgC,UAAWjmD,GAAAA,KAClBikD,KAAAA,cAAA,QAAMgC,UAAWjmD,GAAAA,YAAoBmkD,QAAS,kBAAM+/C,EAAe,aAAa,GAC9EjgD,KAAAA,cAAA,OAAKgC,UAAWe,MAAE08C,EAAA,IAAA1uI,EAAAA,EAAAA,GAAA0uI,EACf1jG,GAAAA,QAAgB,IAAIhrC,EAAAA,EAAAA,GAAA0uI,EACpB1jG,GAAAA,cAAuB8jG,EAAeR,YAAUI,MAEnDz/C,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,kBAAkB+4F,eAAe,iCAExDoF,KAAAA,cAAA,OAAKgC,UAAWe,MAAE28C,EAAA,IAAA3uI,EAAAA,EAAAA,GAAA2uI,EACf3jG,GAAAA,cAAsB,IAAIhrC,EAAAA,EAAAA,GAAA2uI,EAC1B3jG,GAAAA,oBAA6B8jG,EAAeR,YAAUK,KAEvD1/C,KAAAA,cAAA,SACEA,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,mBAAmB+4F,eAAe,6FAEzDoF,KAAAA,cAAA,SACEA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,oBACH+4F,eAAc,mXAKdl9F,OAAQ,CACN6jB,SAAU,MACV4/H,UAAW,YAIjBnhD,KAAAA,cAAA,SACEA,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,oBAAoB+4F,eAAe,6GAG1DoF,KAAAA,cAAA,KAAGgC,UAAWjmD,GAAAA,cACZikD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,oBAAoB+4F,eAAe,0BAGzD+lD,EAAe3nJ,KAAI,SAAC8D,EAAMqC,GACzB,IAAQmN,EAAkCxP,EAAlCwP,OAAQ4jB,EAA0BpzB,EAA1BozB,IAAKwwH,EAAqB5jJ,EAArB4jJ,KAAME,EAAe9jJ,EAAf8jJ,WAE3B,OACE5gD,KAAAA,cAAA,OAAKgC,UAAWjmD,GAAAA,eAAuBzgD,IAAK6D,GAC1C6gG,KAAAA,cAAA,YACG1zF,EAAO,KAGT,IACA4jB,EACC8vE,KAAAA,cAAA,YACEA,KAAAA,cAAA,SAAI9vE,GACH,IACAwwH,EACA,IACAE,GACC5gD,KAAAA,cAAA,KAAGgC,UAAWjmD,GAAAA,KAAamuD,KAAM02C,EAAY/+C,OAAO,SAASuI,IAAI,cAC/DpK,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,gBAAgB+4F,eAAe,eAK1DoF,KAAAA,cAAC2E,GAAY,MAIrB,IAEA3E,KAAAA,cAAA,WAEAA,KAAAA,cAAA,KAAGgC,UAAWjmD,GAAAA,cACZikD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,gBAAgB+4F,eAAe,kCAGrDmmD,EAAc/nJ,KAAI,SAAC8D,EAAMqC,GACxB,IAAQmN,EAAuBxP,EAAvBwP,OAAQw0I,EAAehkJ,EAAfgkJ,WAEhB,OACE9gD,KAAAA,cAAA,KAAGgC,UAAWjmD,GAAAA,eAAuBzgD,IAAK6D,GACxC6gG,KAAAA,cAAA,YACG1zF,EAAO,KAGT,IACAw0I,EAEG9gD,KAAAA,cAAA,eAAA1lG,OACMwmJ,EAAW5wH,IAAG,OAClB8vE,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,2BAA2B+4F,eAAe,iBAC9D,IACDoF,KAAAA,cAAA,SAAIl/D,GAAcx0B,EAAQ,OACzB,IACAA,GAGH0zF,KAAAA,cAAA,YAAM,MAGhB,MAIJA,KAAAA,cAAA,WAASgC,UAAWjmD,GAAAA,KAClBikD,KAAAA,cAAA,QAAMgC,UAAWjmD,GAAAA,YAAoBmkD,QAAS,kBAAM+/C,EAAe,YAAY,GAC7EjgD,KAAAA,cAAA,OAAKgC,UAAWe,MAAE48C,EAAA,IAAA5uI,EAAAA,EAAAA,GAAA4uI,EACf5jG,GAAAA,QAAgB,IAAIhrC,EAAAA,EAAAA,GAAA4uI,EACpB5jG,GAAAA,cAAuB8jG,EAAeP,WAASK,MAElD3/C,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,kBAAkB+4F,eAAe,iCAExDoF,KAAAA,cAAA,OAAKgC,UAAWe,MAAE68C,EAAA,IAAA7uI,EAAAA,EAAAA,GAAA6uI,EACf7jG,GAAAA,cAAsB,IAAIhrC,EAAAA,EAAAA,GAAA6uI,EAC1B7jG,GAAAA,oBAA6B8jG,EAAeP,WAASM,KAEtD5/C,KAAAA,cAAA,SACEA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,mBACH+4F,eAAc,sQAMlBoF,KAAAA,cAAA,SACEA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,oBACH+4F,eAAe,oEAGnBoF,KAAAA,cAAA,SACEA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,oBACH+4F,eAAc,mMAIhBoF,KAAAA,cAAA,WACAA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,oBACH+4F,eAAc,yTAMlBoF,KAAAA,cAAA,SACEA,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,oBAAoB+4F,eAAe,qGAI7D8jD,IACC1+C,KAAAA,cAAAA,KAAAA,SAAA,KACGghD,EAAW96H,GAAAA,KAAAA,GAAAA,IAAAA,MAA0B,WAMlD,IAEsD61B,GAAQ,CAAE+lD,eAAe,K,kFCjYzEs/C,GAAiB,SAAHj9I,GAAuF,IAAjFJ,EAAQI,EAARJ,SAAUi+F,EAAS79F,EAAT69F,UAAWhiF,EAAI7b,EAAJ6b,KAAMqhI,EAAUl9I,EAAVk9I,WAAYC,EAAQn9I,EAARm9I,SAAUC,EAAgBp9I,EAAhBo9I,iBAAqBrhH,GAAI7f,EAAAA,EAAAA,GAAAlc,EAAAg8B,IAC5FqhH,EAAqBz+C,KAAG,iBAAkB,CAC9C,KAAQ/iF,EACR,WAAcqhI,EACd,iBAAoBE,IAGtB,GAAIF,GAAcC,EAAU,CAC1B,IAAMG,EAAuB1+C,KAAG,mBAAoB,CAClD,WAAcs+C,EACd,SAAYC,IAGd,OACEthD,KAAAA,cAAA,OAAAyD,EAAAA,GAAAA,GAAA,CAAKxD,UAAWuhD,EAAoBx/C,UAAWA,GAAe9hE,GAC5D8/D,KAAAA,cAAA,OAAKC,UAAWwhD,GACb19I,GAIT,CAEA,OACEi8F,KAAAA,cAAA,OAAAyD,EAAAA,GAAAA,GAAA,CAAKxD,UAAWuhD,EAAoBx/C,UAAWA,GAAe9hE,GAC3Dn8B,EAGP,EAEAq9I,GAAe9Q,UAAY,CACzBvsI,SAAU2/F,KAAAA,KACV1jF,KAAM0jF,KAAAA,KACN29C,WAAY39C,KAAAA,KACZ49C,SAAU59C,KAAAA,KACV69C,iBAAkB79C,KAAAA,KAClB1B,UAAW0B,KAAAA,QAGb,SAAe3B,IAAf,CAA0Bq/C,GC7C1B,CAAgB,eAAiB,4BAA4B,iBAAmB,2BAA2B,SAAW,2BAA2B,WAAa,2BAA2B,iBAAmB,2BAA2B,KAAO,4BD6C5L,CAAEt/C,eAAe,IERnE,GAAeC,IAAf,EA5BA,SAAiBzpF,GACf,IACEvU,EAGEuU,EAHFvU,SAAQihG,EAGN1sF,EAFF4nF,QAAAA,OAAO,IAAA8E,EAAG,WAAe,EAAAA,EAAA08C,EAEvBppI,EADFqpI,cAAAA,OAAa,IAAAD,GAAQA,EAGvBE,EAA8C5hD,KAAAA,SAAe,KAAI6hD,GAAA70F,EAAAA,GAAAA,GAAA40F,EAAA,GAA1DE,EAAeD,EAAA,GAAEE,EAAkBF,EAAA,GAc1C,OAZAhiD,EAAAA,GAAAA,YAAU,WACR,GAAI8hD,EAAe,CACjB,IAAMK,EAAmC3sG,SAAS4sG,cAAc,0DAE5DD,GACFD,EAAmBC,EAAa9R,cAC3B8R,EAAa7R,cACb,IAET,CACF,IAGEnwC,KAAAA,cAAA,OAAKC,UAAW0hD,EAAgB,uBAAyB,UAAWzhD,QAASA,EAASvqD,MAAOgsG,EAAgB,CAAEO,UAAW,GAAF5nJ,OAAKwnJ,EAAkB,GAAE,OAAS,CAAC,GACxJ/9I,EAGP,GCnCA,CAAgB,QAAU,2BAA2B,qBAAuB,6B,mGCuC5E,SAAeg+F,IAAf,EAzBe,SAAH59F,GAQO,IAPjBJ,EAAQI,EAARJ,SAAQo+I,EAAAh+I,EACRi+I,WAAAA,OAAU,IAAAD,GAAQA,EAAAE,EAAAl+I,EAClBm+I,mBAAAA,OAAkB,IAAAD,GAAOA,EAAAE,EAAAp+I,EACzBq+I,iBAAAA,OAAgB,IAAAD,GAAOA,EAAAE,EAAAt+I,EACvBu+I,aAAAA,OAAY,IAAAD,GAAQA,EAAAE,EAAAx+I,EACpBm9I,SAAAA,OAAQ,IAAAqB,GAAQA,EACbziH,GAAI7f,EAAAA,EAAAA,GAAAlc,EAAAg8B,IAGD8/D,EAAY8C,KAAG,oBAAqB,CACxCq/C,WAAYA,EACZE,mBAAoBA,EACpBE,iBAAkBA,EAClBE,aAAcA,EACdpB,SAAUA,IAGZ,OACEthD,KAAAA,cAAA,OAAAyD,EAAAA,GAAAA,GAAA,CAAKxD,UAAWA,GAAe//D,GAC7B8/D,KAAAA,cAAA,OAAKC,UAAU,mBAAmBl8F,GAGxC,GCrCA,CAAgB,kBAAoB,2BAA2B,WAAa,2BAA2B,aAAe,2BAA2B,SAAW,2BAA2B,mBAAqB,4BAA4B,iBAAmB,4BAA4B,gBAAkB,4BDuC/P,CAAE+9F,eAAe,I,OE7B1B,IA+BZ8gD,IANpB9vF,EAAAA,EAAAA,KAAQ,SAAA3uD,GACqB,MACvB,CACLw9I,cAF4Bx9I,EAA5B2pB,GAAM/B,uBAGP,GAC2Cw0E,CAAAC,GAA3CuB,KCxCD,CAAgB,MAAQ,2BAA2B,oBAAsB,2BAA2B,OAAS,2BAA2B,cAAgB,4BAA4B,MAAQ,2BAA2B,UAAY,2BAA2B,YAAc,2BAA2B,WAAa,2BAA2B,iBAAmB,4BAA4B,+BAAiC,4BAA4B,QAAU,2BAA2B,sBAAwB,2BAA2B,SAAW,2BAA2B,aAAe,6BDwCpjB,CAAED,eAAe,GAAO+iC,CAAArkC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAAswI,EAAA3/C,GAAA,I,IAAA1wF,G,EAAAqwI,E,maAAA,SAAAA,IAAA,IAAAr+I,GAAAP,EAAAA,GAAAA,GAAA,KAAA4+I,GAAA,QAAAprI,EAAA7e,UAAAd,OAAAqsE,EAAA,IAAAlsE,MAAAwf,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAwsD,EAAAxsD,GAAA/e,UAAA+e,GAkEzC,OAlEyCnT,EAAAgO,EAAAtZ,KAAA0e,MAAApF,EAAA,OAAAjY,OAAA4pE,KAAAnzD,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAGpB,OAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,SA2ClB,SAACuT,EAAO+qI,GACd,IAAAzhD,EAA8C78F,EAAK+T,MAA3C/L,EAAI60F,EAAJ70F,KAAM1N,EAAIuiG,EAAJviG,KAAMy8F,EAAO8F,EAAP9F,QAAqB8F,EAAZ0hD,eAO3BzyG,GAAAA,OAAAA,MAAqB9jC,GAEjB+uF,GAA8B,mBAAZA,GACpBA,EAAQunD,GAINhkJ,SAAAA,EAAMy8F,SAAmC,mBAAjBz8F,EAAKy8F,SAE/Bz8F,EAAKy8F,QAAQunD,GAGnB,IAACt+I,CAAA,CAsEA,OAtEAN,EAAAA,GAAAA,GAAA2+I,EAAA,EAAAtnJ,IAAA,oBAAA6C,MA7DD,WAAoB,IAAA0V,EAAA,KAClByvF,EAII1rG,KAAK0gB,MAHPyqI,EAAqBz/C,EAArBy/C,sBACAC,EAAgB1/C,EAAhB0/C,iBACAz2I,EAAI+2F,EAAJ/2F,KAKF,GAFA8W,OAAOuvE,iBAAiB,YAAY,kBAAMviD,GAAAA,OAAAA,MAAqB9jC,EAAK,IAEhEw2I,EAAuB,CACzB,IAAIE,EAAkB5/H,OAAOsrB,SAAS7hB,KAGtCl1B,KAAKsrJ,oBAAsBrxD,aAAY,WACjCxuE,OAAOsrB,SAAS7hB,MAAQm2H,IACM,mBAArBD,GACLA,EAAiB3/H,OAAOsrB,SAAS7hB,MACnCm2H,EAAkB5/H,OAAOsrB,SAAS7hB,MAQpCmlE,cAAcp+E,EAAKqvI,qBACnBrvI,EAAK6M,MAAM,MAAM,IAGvB,GAAG,IACL,CACF,GAAC,CAAAplB,IAAA,uBAAA6C,MAED,WACE,IAAQoO,EAAS3U,KAAK0gB,MAAd/L,KAER8W,OAAOwvE,oBAAoB,YAAY,kBAAMxiD,GAAAA,OAAAA,MAAqB9jC,EAAK,IAEvE0lF,cAAcr6F,KAAKsrJ,oBACrB,GAAC,CAAA5nJ,IAAA,SAAA6C,MAwBD,WACE,IAAA+oI,EAaItvI,KAAK0gB,MAZP0pF,EAASklC,EAATllC,UACAp8F,EAAKshI,EAALthI,MACA24I,EAAerX,EAAfqX,gBACAuE,EAAY5b,EAAZ4b,aACA/+I,EAAQmjI,EAARnjI,SACAo/I,EAAcjc,EAAdic,eACAC,EAAwBlc,EAAxBkc,yBACAC,EAAsBnc,EAAtBmc,uBACApjD,EAASinC,EAATjnC,UACAqjD,EAAUpc,EAAVoc,WACA3B,EAAaza,EAAbya,cACA4B,EAAerc,EAAfqc,gBAGIC,EAAiBzgD,KAAG,QAAS,CACjC,UAAaogD,IAGf,OACEnjD,KAAAA,cAACyjD,GAAO,CAAC9B,cAAeA,EAAe1hD,UAAWA,GAChDD,KAAAA,cAAA,OACEC,UAAW8C,KAAG,CACZ2gD,OAAO,EACPC,oBAAqBhC,IAEvB3/C,UAAWA,GAGT9vF,QAAQtM,GAAS24I,IACfv+C,KAAAA,cAAA,OAAKC,UAAU,UAGbD,KAAAA,cAACohD,GAAc,CAACnhD,UAAU,iBACxBD,KAAAA,cAAA,OAAKC,UAAWujD,EAAgBpb,KAAK,SAASxiI,GAE5C24I,IAAoBuE,GAClB9iD,KAAAA,cAACi+C,GAAS,CAACh+C,UAAS,eAAA3lG,OAAiBgpJ,EAAa,aAAe,IAAMpjD,QAAStoG,KAAK8oB,MAAO,cAAY,qBAOpHs/E,KAAAA,cAAA,OAAKC,UAAW8C,KAAG,CACjB6gD,kBAAkB,EAClBC,+BAAgClC,KAG9BA,EAEI3hD,KAAAA,cAAA,OAAKC,UAAWsjD,EAAkB,yCAA2C,gCAAiCvhD,UAAU,6BACrHj+F,GAIHi8F,KAAAA,cAAC8jD,GAAM,CAAC1B,YAAU,EAACE,mBAAoBc,EAA0BZ,iBAAkBa,GACjFrjD,KAAAA,cAAA,OAAKC,UAAWsjD,EAAkB,mBAAqB,WACpDx/I,MASrB,KAAC6+I,CAAA,CAxIyC,CACTx/C,GAAAA,aAAS5C,KAAAA,GEnCtCqrC,GAAM,SAAH1nI,GAAA,IAAMJ,EAAQI,EAARJ,SAAUi+F,EAAS79F,EAAT69F,UAAS,OAChChC,KAAAA,cAAA,OAAKgC,UAAWA,GACdhC,KAAAA,cAAA,OAAKC,UAAU,OACZl8F,GAEC,EAGR8nI,GAAIyE,UAAY,CACdvsI,SAAU2/F,KAAAA,KAAAA,WACV1B,UAAW0B,KAAAA,QAGb,SAAe3B,IAAf,CAA0B8pC,GCnB1B,CAAgB,IAAM,6BCsBtB,GAAezsC,IAAf,EAXc,SAAC9mF,GACb,IAAQ0pF,EAAgC1pF,EAAhC0pF,UAAW+hD,EAAqBzrI,EAArByrI,MAAK5M,EAAgB7+H,EAAd1a,KAAAA,OAAI,IAAAu5I,EAAG,GAAEA,EAEnC,OACEn3C,KAAAA,cAAA,OAAKC,UAAU,QAAQ+B,UAAWA,GAChChC,KAAAA,cAAC44C,GAAI,CAACrsI,KAAMw3I,EAAM,GAAInmJ,KAAMA,IAC5BoiG,KAAAA,cAAC44C,GAAI,CAACrsI,KAAMw3I,EAAM,GAAInmJ,KAAMA,IAGlC,GCpBA,CAAgB,MAAQ,6BCcxB,GAAemkG,IAAf,EATY,SAAH59F,GAAA,IAAMyB,EAAKzB,EAALyB,MAAO7B,EAAQI,EAARJ,SAAQ,OAC5Bi8F,KAAAA,cAAA,OAAKC,UAAU,OACbD,KAAAA,cAAA,OAAKC,UAAU,SAASr6F,GACxBo6F,KAAAA,cAAA,OAAKC,UAAU,WACZl8F,GAEC,GCXR,CAAgB,IAAM,4BAA4B,MAAQ,2BAA2B,QAAU,6BCY/F,GAAeg+F,IAAf,EAPc,SAAH59F,GAAA,IAAMhG,EAAKgG,EAALhG,MAAOojB,EAAQpd,EAARod,SAAQ,OAC9By+E,KAAAA,cAAA,QAAMC,UAAU,SACdD,KAAAA,cAAA,YAAO7hG,EAAO,KACd6hG,KAAAA,cAAA,QAAMC,UAAU,YAAY,IAAK1+E,EAAS9M,eACrC,GCTT,CAAgB,MAAQ,2BAA2B,SAAW,6BCQ9D,IAAM7O,GACJo6F,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,SAAS+4F,eAAe,aAW/C,SAAewE,IAAf,EARgB,SAAHj7F,GAAA,IAAM66C,EAAS76C,EAAT66C,UAAWD,EAAU56C,EAAV46C,WAAY/G,EAAW7zC,EAAX6zC,YAAaD,EAAY5zC,EAAZ4zC,aAAY,OACjEioD,KAAAA,cAAC6rC,GAAG,CAACjmI,MAAOA,IACVo6F,KAAAA,cAACgkD,GAAK,CAAC7lJ,MAAO4gD,EAAYx9B,SAAUw2B,IACpCioD,KAAAA,cAAA,QAAMC,UAAU,SAAQ,KACxBD,KAAAA,cAACgkD,GAAK,CAAC7lJ,MAAO6gD,EAAWz9B,SAAUy2B,IAC/B,GCjBR,CAAgB,MAAQ,6B,OCUxB,IAAMpyC,IAAQ+0F,EAAAA,GAAAA,IAAe,CAC3BspD,aAAc,CACZpiJ,GAAI,iBACJ+4F,eAAgB,mBAKdqpD,GADL7kD,KCjBD,CAAgB,MAAQ,4BDiBLmB,CAAAC,GAAA,SAAAskC,IAAAxyH,EAAAA,GAAAA,GAAA2xI,EAAAnf,GAAA,I,IAAAvyH,G,EAAA0xI,E,maAAA,SAAAA,IAAA,OAAAjgJ,EAAAA,GAAAA,GAAA,KAAAigJ,GAAA1xI,EAAAoF,MAAA,KAAAhf,UAAA,CAehB,OAfgBsL,EAAAA,GAAAA,GAAAggJ,EAAA,EAAA3oJ,IAAA,SAAA6C,MAEjB,WACE,IAAAijG,EAA0DxpG,KAAK0gB,MAAvDy/B,EAAYqpD,EAAZrpD,aAAcC,EAAWopD,EAAXppD,YAAa0R,EAAY03C,EAAZ13C,aAAcuxC,EAAImG,EAAJnG,KACjD,OACE+E,KAAAA,cAAC6rC,GAAG,CAACjmI,MAAOq1F,EAAKC,cAAct1F,GAAMq+I,eACnCjkD,KAAAA,cAACgkD,GAAK,CAAC7lJ,MAAO,EAAGojB,SAAUw2B,IAC1B,IACDioD,KAAAA,cAAA,OAAKC,UAAU,SACbD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,iBAAiB+4F,eAAe,OAEtD,IACDoF,KAAAA,cAACgkD,GAAK,CAAC7lJ,MAAO,IAAI82B,GAAAA,EAAUy0B,GAActxD,WAAYmpB,SAAUy2B,IAGtE,KAACisG,CAAA,CAfgB,CACQ5b,GAAAA,iBAAa7nC,GAiBxC,UAAegF,EAAAA,GAAAA,IAAWy+C,I,OEvBoB,IAIxCC,GADLniD,KCfD,CAAgB,MAAQ,2BAA2B,aAAe,2BAA2B,OAAS,2BAA2B,KAAO,6BDerHxB,CAAAC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAA4xI,EAAAjhD,GAAA,I,IAAA1wF,G,EAAA2xI,E,maAAA,SAAAA,IAAA,IAAA3/I,GAAAP,EAAAA,GAAAA,GAAA,KAAAkgJ,GAAA,QAAA1sI,EAAA7e,UAAAd,OAAAqsE,EAAA,IAAAlsE,MAAAwf,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAwsD,EAAAxsD,GAAA/e,UAAA+e,GAehB,OAfgBnT,EAAAgO,EAAAtZ,KAAA0e,MAAApF,EAAA,OAAAjY,OAAA4pE,KAAAnzD,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAED,WACd,IAAA4/I,EAAiD5/I,EAAK+T,MAA9C8rI,MAASpsG,EAAWmsG,EAAXnsG,YAAaD,EAAYosG,EAAZpsG,aAE9BwC,GAAAA,YAAAA,SAA8B,GAADjgD,OAAIy9C,EAAY,MAAAz9C,OAAK09C,IAClDzzC,EAAKsxD,cACLxlB,GAAAA,OAAAA,MAAqB,aACvB,KAACt/B,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAEa,WACZ,IAAQ6/I,EAAU7/I,EAAK+T,MAAf8rI,MAER/zG,GAAAA,KAAAA,YAAyB+zG,EAAOA,EAAMtuF,WACtCzlB,GAAAA,KAAAA,YACF,IAAC9rC,CAAA,CAqBA,OArBAN,EAAAA,GAAAA,GAAAigJ,EAAA,EAAA5oJ,IAAA,SAAA6C,MAED,WACE,IAAAijG,EAA8FxpG,KAAK0gB,MAAK+rI,EAAAjjD,EAAhGgjD,MAASplG,EAASqlG,EAATrlG,UAAWD,EAAUslG,EAAVtlG,WAAY/G,EAAWqsG,EAAXrsG,YAAaD,EAAYssG,EAAZtsG,aAAc2R,EAAY26F,EAAZ36F,aAAgB46F,EAAMljD,EAANkjD,OAEnF,OACEtkD,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAACukD,GAAK,CAACtkD,UAAU,QAAQ8jD,MAAO,CAAEhsG,EAAcC,GAAep6C,KAAM,KACrEoiG,KAAAA,cAACwkD,GAAO,CAAOxlG,UAAAA,EAAWD,WAAAA,EAAY/G,YAAAA,EAAaD,aAAAA,IACnDioD,KAAAA,cAACikD,GAAY,CAAOlsG,aAAAA,EAAcC,YAAAA,EAAa0R,aAAAA,IAE/Cs2C,KAAAA,cAAC6rC,GAAG,CAAC5rC,UAAU,gBACbD,KAAAA,cAACwD,GAAM,CAACvD,UAAU,SAASkC,OAAK,EAACjC,QAASokD,GACxCtkD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,OAAO+4F,eAAe,UAE7CoF,KAAAA,cAACwD,GAAM,CAACvD,UAAU,SAASp+F,GAAG,UAAUsgG,OAAK,EAACjC,QAAStoG,KAAK6sJ,eAC1DzkD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,iBAAiB+4F,eAAe,UAK/D,KAACspD,CAAA,CApCgB,CACQ9gD,GAAAA,aAAS5C,GAsCpC,UAAegF,EAAAA,GAAAA,IAAW0+C,I,ksBEjD1B,IACMQ,GAAe,SAACrnJ,EAAGwF,GAAC,OAAKqP,QAAQrP,EAAEg/F,OAAO76E,QAAQ,EASlD29H,GAAQ,SAACrsI,GACb,IAAQssI,EAAoFtsI,EAApFssI,UAAWC,EAAyEvsI,EAAzEusI,YAAaC,EAA4DxsI,EAA5DwsI,QAASzlJ,EAAmDiZ,EAAnDjZ,KAAM0lJ,EAA6CzsI,EAA7CysI,SAAUC,EAAmC1sI,EAAnC0sI,YAAaxjD,EAAsBlpF,EAAtBkpF,SAAathE,GAAI7f,EAAAA,EAAAA,GAAK/H,EAAK6nB,IAC3FkO,EAAOu2G,GAAaC,EAE1B,OAAQvsI,EAAM9L,MACZ,IAAK,WACH,OACEwzF,KAAAA,cAAA,SAAAyD,EAAAA,GAAAA,GAAA,GACMvjE,EAAI,CACRlZ,QAAS9U,QAAQm8B,EAAKlwC,OACtBqjG,SAAUnzD,EAAK51B,OAAOisI,OAG5B,IAAK,QACH,OACE1kD,KAAAA,cAAA,SAAAyD,EAAAA,GAAAA,GAAA,GACMvjE,EAAI,CACRlZ,QAASqnB,EAAKlwC,QAAUma,EAAMna,MAC9BqjG,SAAU,SAAA3+F,GACJA,EAAEg/F,OAAO76E,SACXqnB,EAAKrxC,IAAIsb,EAAMna,MAEnB,KAIN,QACE,IAAM6jG,EAlCc,SAAH79F,EAAgDhG,EAAO4E,GAAK,IAAA8vI,EAAtD7wC,EAAS79F,EAAT69F,UAAWijD,EAAY9gJ,EAAZ8gJ,aAAcC,EAAa/gJ,EAAb+gJ,cAAa,OACjEniD,KAAGf,GAAS6wC,EAAA,IAAA9hI,EAAAA,EAAAA,GAAA8hI,EACToS,GAAgB,UAAY/yI,QAAQnP,KAAMgO,EAAAA,EAAAA,GAAA8hI,EAC1CqS,GAAiB,WAAahzI,QAAQnP,GAAmB,KAAV5E,IAAa00I,GAC7D,CA8BoBsS,CAAkBjlH,EAAM0kH,EAAUzmJ,MAAOymJ,EAAU7hJ,OAC/D2B,EAAOwN,QAAQ7S,GAAQ+lJ,KAAY,QAEnCC,EAASp2I,GAAAA,GAAA,GACVixB,GAAI,IACP8hE,UAAAA,EACA7jG,WAAkC,IAApBymJ,EAAUzmJ,MAAwB5G,OAAOqtJ,EAAUzmJ,OAAS,GAC1EqjG,SAAUojD,EAAUnsI,QAAO,SAACpb,EAAGwF,GAC7B,IAAIc,EAAMd,EAAEg/F,OAAO1jG,MAenB,GAbI2mJ,GAAWnhJ,IACbA,EAAMA,EAAIpL,QAAQ,IAAI6/F,OAAO,KAAD99F,OAAMwqJ,EAAO,MAAM,KAAM,KAGnD5kH,EAAKolH,kBAAoB3hJ,IACR,IAAfA,EAAI9L,QAAwB,MAAR8L,IACtBA,EAAM,MAEJtG,EAAE8H,MAAM,QAAUxB,EAAIwB,MAAM,QAAoC,IAA1B9H,EAAE8H,MAAM,OAAOtN,QAAgB8L,EAAIwB,MAAM,OAAOtN,OAAS,IACjG8L,EAAMtG,IAINgC,GAAQsE,EAAK,CACf,GAAIqhJ,EACF,OAAOrhJ,EAAIpL,QAAQysJ,EAAa,IAE7B,GAAoB,OAAhBA,IAAwC,IAAhBA,EAC/B,OAAOrhJ,EAAIpL,QAAQ,WAAY,GAEnC,CAEA,MADwB,mBAAbipG,GAAyBA,EAAS3+F,GACtCc,CACT,MAQF,OALItE,IACFgmJ,EAAUhmJ,KAAOA,EACjBgmJ,EAAUN,SAAWA,GAGhB/kD,KAAAA,cAAoBt7F,EAAM2gJ,GAGvC,EAE0BjiD,GAAAA,UCpF1BkqC,GAAAA,GAAAA,UAAiB,SAACiY,GAAS,OAAKjY,GAAAA,GAAAA,IAAAA,MAAAA,GAAAA,GAAI,CAAKiY,GAASjrJ,QAAA0mB,EAAAA,EAAAA,GAAKlY,OAAOtL,KAAK+nJ,EAAUrqI,SAAO,EAKpF,SAAeoyH,GAAI,GCkBnB,GAAevrC,IAAf,EAnBe,SAAH59F,GAA8C,IAAxCkd,EAAOld,EAAPkd,QAASmkI,EAAarhJ,EAAbqhJ,cAAeC,EAASthJ,EAATshJ,UAExC,OACEzlD,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,OAAKC,UAAU,cACbD,KAAAA,cAAA,OAAKC,UAAU,SACbD,KAAAA,cAAA,QAAMC,UAAU,OAAOC,QAAS,kBAAMslD,EAAc,IAAIvwH,GAAAA,EAAU5T,GAAS0mB,IAAI,GAAG,GAAEi4D,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,WAAW+4F,eAAe,SACnIoF,KAAAA,cAAA,QAAMC,UAAU,OAAOC,QAAS,kBAAMslD,EAAc,IAAIvwH,GAAAA,EAAU5T,GAAS0mB,IAAI,GAAG,GAAEi4D,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,WAAW+4F,eAAe,SACnIoF,KAAAA,cAAA,QAAMC,UAAU,OAAOC,QAAS,kBAAMslD,EAAc,IAAIvwH,GAAAA,EAAU5T,GAAS0mB,IAAI,GAAGpF,aAAa,GAAG,GAAEq9D,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,WAAW+4F,eAAe,SACnJoF,KAAAA,cAAA,QAAMC,UAAU,OAAOC,QAAS,kBAAMslD,EAAc,IAAIvwH,GAAAA,EAAU5T,GAAS0mB,IAAI,GAAG,GAAEi4D,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,WAAW+4F,eAAe,WAErIoF,KAAAA,cAAA,OAAKC,UAAU,gBACbD,KAAAA,cAAC0lD,GAAS,CAACxlD,QAASulD,MAK9B,GCzBA,CAAgB,WAAa,4BAA4B,QAAU,4BAA4B,MAAQ,2BAA2B,KAAO,2BAA2B,aAAe,4BD2BzI,CAAE3jD,eAAe,I,iCEvB3D,IAEM6jD,GAAU,mBAEKC,GAAgB,SAAA3iD,IAAA3wF,EAAAA,GAAAA,GAAAszI,EAAA3iD,GAAA,I,IAAA1wF,G,EAAAqzI,E,maAAA,SAAAA,IAAA,IAAArhJ,GAAAP,EAAAA,GAAAA,GAAA,KAAA4hJ,GAAA,QAAApuI,EAAA7e,UAAAd,OAAAqsE,EAAA,IAAAlsE,MAAAwf,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAwsD,EAAAxsD,GAAA/e,UAAA+e,GAmDqC,OAnDrCnT,EAAAgO,EAAAtZ,KAAA0e,MAAApF,EAAA,OAAAjY,OAAA4pE,KAAAnzD,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAoCnB,SAACshJ,EAAYC,GAC3B,IAAMhuI,EAAQu9B,SAAS0wG,YAAY,SAEnCjuI,EAAMkuI,UAAUH,GAAY,GAAM,GAElC,IAAMpmG,EAAW,WAAH,OAASl7C,EAAK0hJ,WAAWpyC,cAAc/7F,EAAM,EAEvDguI,EACF9vI,WAAWypC,GAGXA,GAEJ,KAAC1uC,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,YAEU,SAAAJ,GAAA,IAAGygJ,EAASzgJ,EAATygJ,UAAWzmJ,EAAKgG,EAALhG,MAAK,OAAOymJ,EAAYA,EAAUzmJ,MAAQA,CAAK,IAAAoG,CAAA,CAavE,OAbuEN,EAAAA,GAAAA,GAAA2hJ,EAAA,EAAAtqJ,IAAA,oBAAA6C,MAtCxE,YACE+nJ,EAAAA,GAAAA,GAAStuJ,KAAKquJ,YAEVruJ,KAAK0gB,MAAM6tI,UACbvuJ,KAAKquJ,WAAWrzD,iBAAiB+yD,GAAS/tJ,KAAK0gB,MAAM6tI,SAEzD,GAAC,CAAA7qJ,IAAA,uBAAA6C,MAED,WACMvG,KAAK0gB,MAAM6tI,UACbvuJ,KAAKquJ,WAAWpzD,oBAAoB8yD,GAAS/tJ,KAAK0gB,MAAM6tI,UAG1DvuJ,KAAKi8G,cA7BO,mBA8Bd,GAAC,CAAAv4G,IAAA,4BAAA6C,MAED,SAA0B0wI,GAEpBj3I,KAAKwuJ,SAASvX,KAAej3I,KAAKwuJ,SAASxuJ,KAAK0gB,QAClD1gB,KAAKi8G,cApCK,mBAoCiB,EAE/B,GAAC,CAAAv4G,IAAA,SAAA6C,MAmBD,WAAS,IAAA0V,EAAA,KACPutF,EAAgCxpG,KAAK0gB,MAA7BssI,EAASxjD,EAATwjD,UAActsI,GAAK+H,EAAAA,EAAAA,GAAA+gF,EAAAjhE,IAE3B,OACE6/D,KAAAA,cAAA,YAAAyD,EAAAA,GAAAA,GAAA,CACEioC,IAAK,SAACp0E,GAAE,OAAKzjD,EAAKoyI,WAAa3uF,CAAE,GAC7Bh/C,EAAK,CACTna,MAAOymJ,EAAUzmJ,MACjBqjG,SAAUojD,EAAUnsI,QAAO,SAACpb,EAAGwF,GAAC,OAAKA,EAAEg/F,OAAO1jG,KAAK,MAGzD,KAACynJ,CAAA,CAhEkC,CAASxiD,GAAAA,YAASryF,EAAAA,EAAAA,GAAlC60I,GAAgB,YAEhB,CACjBhB,UAAWlhD,KAAAA,OAAAA,WACXyiD,SAAUziD,KAAAA,QACX3yF,EAAAA,EAAAA,GALkB60I,GAAgB,eAOb,CACpB7W,KAAM,I,k3BCN+C,IAIpC4V,GADpB5iD,KCbD,CAAgB,MAAQ,2BAA2B,aAAe,2BAA2B,KAAO,2BAA2B,eAAiB,2BAA2B,WAAa,2BAA2B,SAAW,2BAA2B,UAAY,2BAA2B,MAAQ,2BAA2B,OAAS,4BAA4B,OAAS,2BAA2B,UAAY,2BAA2B,WAAa,4BAA4B,MAAQ,2BAA2B,cAAgB,6BDa3f,CAAED,eAAe,GAAOvB,EAAAyG,GAAA,SAAA/D,IAAA3wF,EAAAA,GAAAA,GAAAqyI,EAAA1hD,GAAA,I,IAAA1wF,G,EAAAoyI,E,maAAA,SAAAA,IAAA,IAAApgJ,GAAAP,EAAAA,GAAAA,GAAA,KAAA2gJ,GAAA,QAAAntI,EAAA7e,UAAAd,OAAAqsE,EAAA,IAAAlsE,MAAAwf,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAwsD,EAAAxsD,GAAA/e,UAAA+e,GA2DzC,OA3DyCnT,EAAAgO,EAAAtZ,KAAA0e,MAAApF,EAAA,OAAAjY,OAAA4pE,KAAAnzD,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eA2B5B,WACZ,IAAQ8hJ,EAAY9hJ,EAAK+T,MAAjB+tI,QAOR,GALIA,GACFA,IAIEn2F,EAAAA,GAAU,CACZ,IAAMo2F,EAASjxG,SAASkxG,eAAe,iBACnCD,GACFA,EAAOE,UAAU5lJ,IAAI,gBAEzB,CACA6tB,GAAAA,YAAAA,gBAAoC,EACtC,KAAC1d,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,cAEY,SAACuT,GACZ,IAAQ2uI,EAAWliJ,EAAK+T,MAAhBmuI,OAOR,GALIA,GACFA,EAAO3uI,GAILo4C,EAAAA,GAAU,CACZ,IAAMo2F,EAASjxG,SAASkxG,eAAe,iBACnCD,GACFA,EAAOE,UAAUtvF,OAAO,gBAE5B,CACAzoC,GAAAA,YAAAA,gBAAoC,EACtC,IAAClqB,CAAA,CA0EA,OA1EAN,EAAAA,GAAAA,GAAA0gJ,EAAA,EAAArpJ,IAAA,SAAA6C,MAED,WACE,IAAAijG,EAwBIxpG,KAAK0gB,MAvBP2nF,EAASmB,EAATnB,UACA+B,EAASZ,EAATY,UACA0kD,EAAuBtlD,EAAvBslD,wBACAC,EAAcvlD,EAAdulD,eACAC,EAAUxlD,EAAVwlD,WACAC,EAAQzlD,EAARylD,SACAC,EAAE1lD,EAAF0lD,GACAC,EAAa3lD,EAAb2lD,cACahkJ,EAAKq+F,EAAlBwjD,UAAa7hJ,MACb6hJ,EAASxjD,EAATwjD,UACAoC,EAAgB5lD,EAAhB4lD,iBACAC,EAAgB7lD,EAAhB6lD,iBACAC,EAAU9lD,EAAV8lD,WACA9gD,EAAShF,EAATgF,UACA+gD,EAAW/lD,EAAX+lD,YACA5vD,EAAQ6J,EAAR7J,SACAuN,EAAQ1D,EAAR0D,SACAt4F,EAAI40F,EAAJ50F,KACAsmC,EAAIsuD,EAAJtuD,KACAs0G,EAAYhmD,EAAZgmD,aACAhkI,EAAUg+E,EAAVh+E,WACAvhB,EAAEu/F,EAAFv/F,GACGq+B,GAAI7f,EAAAA,EAAAA,GAAA+gF,EAAAjhE,IAGHknH,EAA0BtkD,KAAG,iBAAkB,CACnDukD,UAAWvkJ,EACXmkJ,WAAYA,EACZH,cAAeA,EACfQ,OAAQT,IAGJU,EAAct3F,EAAAA,GAEhB,CACAm2F,QAASzuJ,KAAK6vJ,YACdhB,OAAQ7uJ,KAAK8vJ,YAHb,CAAC,EAMC/xG,EAAQ,SAAHr7C,OAAYssJ,EAAa,aAAe,GAAE,KAAAtsJ,OAAI8sJ,EAAe,eAAiB,GAAE,KAAA9sJ,OACzF2lG,GAAwB,IAG1B,OACED,KAAAA,cAAA,OAAKC,UAAU,OAAO+B,UAAWA,GAC/BhC,KAAAA,cAAA,OAAKC,UAAWonD,EAAyBrlD,UAAW0kD,GACjD1mD,KAAAA,cAAoBoG,EAAYuhD,GAAWC,GAAc34I,GAAAA,GAAA,GE3HhD,WAAW,IAAiB,IAA3BqJ,EAAK3f,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,CAAC,EAAC6e,EAAA7e,UAAAd,OAAKgwJ,EAAO,IAAA7vJ,MAAAwf,EAAA,EAAAA,EAAA,KAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAPmwI,EAAOnwI,EAAA,GAAA/e,UAAA+e,GACzC,IAAMozE,EAAO,CAAC,EAQd,OANAhiF,OAAOtL,KAAK8a,GAAOxd,SAAQ,SAAAQ,GACpBusJ,EAAQ51I,SAAS3W,KACpBwvF,EAAKxvF,GAAOgd,EAAMhd,GAEtB,IAEOwvF,CACT,CFkHeg9D,CAAY5nH,EAAM,WAAS,IAC9B+/D,UAAWtqD,EACXqsD,UAAW2kD,EACXhxG,MAAOsxG,EACPrC,UAAAA,EACAp4I,KAAAA,EACA3K,GAAAA,EACA01F,SAAUA,GAAYuN,EACtBijD,YAAaZ,EACba,IAAK,OACLC,aAAc,OACXT,IAEJ10G,EAAO,GAAKktD,KAAAA,cAAA,KAAGC,UAAU,UAAQ,IAAA3lG,OAAMw4C,GAAQ1vB,GAC/C0jI,GACC9mD,KAAAA,cAAA,KAAGC,UAAU,aACXD,KAAAA,cAAA,KAAGgC,UAAU,gBAAgB9B,QAAS2mD,MAI3C30I,QAAQnP,IAAUikJ,IAAqBhnD,KAAAA,cAAA,OAAKC,UAAU,SAASl9F,GAGtE,KAAC4hJ,CAAA,CArIyC,CACTvhD,GAAAA,YAASryF,EAAAA,EAAAA,GAAAi2F,GAAA,YACvB,CACjBhF,UAAW0B,KAAAA,OACXwkD,cAAexkD,KAAAA,OACfijD,eAAgBjjD,KAAAA,OAChBytC,YAAaztC,KAAAA,UAAoB,CAACA,KAAAA,OAAkBA,KAAAA,SACpDl3F,KAAMk3F,KAAAA,OACNkhD,UAAWlhD,KAAAA,OAAAA,WACXyjD,YAAazjD,KAAAA,KACb0C,UAAW1C,KAAAA,KACXnM,SAAUmM,KAAAA,KACVoB,SAAUpB,KAAAA,KACVxtF,SAAUwtF,KAAAA,KACV55E,KAAM45E,KAAAA,KACNzI,KAAMyI,KAAAA,UACP3yF,EAAAA,EAAAA,GAAAi2F,GAAA,eAEqB,CACpBmgD,aAAa,EACb/gD,WAAW,EACX7O,UAAU,EACVuN,UAAU,EACV5uF,UAAU,EACV1J,KAAM,SAxBkCg0F,GAyBzCwG,MAAAxG,GGZH,SAAeuB,IAAf,EAlBc,SAAH59F,GAAA,IAAM69F,EAAS79F,EAAT69F,UAAWzK,EAAQpzF,EAARozF,SAAiB11F,GAAFsC,EAALg9E,MAASh9E,EAAFtC,IAAIsmJ,EAAchkJ,EAAdgkJ,eAAcC,EAAAjkJ,EAAE8pE,UAAAA,OAAS,IAAAm6E,GAAQA,EAAEjX,EAAWhtI,EAAXgtI,YAAaptI,EAAQI,EAARJ,SAAQ,OACvGi8F,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,OAAKC,UAAU,aAAa+B,UAAWA,GACrChC,KAAAA,cAAC2kD,GAAK,CACJ1kD,UAAU,YACVymD,wBAAwB,iBACxB9B,UAAWuD,EACX37I,KAAK,SACLs4I,QAAS72E,EAAY,MAAQ,OAC7BpsE,GAAIA,EACJsvI,YAAaA,EACb55C,SAAUA,IAEXxzF,GAEM,GCvBb,CAAgB,WAAa,4BAA4B,UAAY,2BAA2B,eAAiB,6BC6BjH,GAAeg+F,IAAf,EAzB0B,SAAH59F,GAAA,IAAAkkJ,EAAAlkJ,EACrB69F,UAAAA,OAAS,IAAAqmD,EAAG,KAAIA,EAChB9wD,EAAQpzF,EAARozF,SACApW,EAAKh9E,EAALg9E,MACAt/E,EAAEsC,EAAFtC,GACAsmJ,EAAchkJ,EAAdgkJ,eACAhX,EAAWhtI,EAAXgtI,YACAn5F,EAAW7zC,EAAX6zC,YACAD,EAAY5zC,EAAZ4zC,aAAY,OAEZioD,KAAAA,cAACsoD,GAAK,CACJroD,UAAU,SACV+B,UAAWA,EACX7gB,MAAOA,EACPt/E,GAAIA,EACJ01F,SAAUA,EACV4wD,eAAgBA,EAChBhX,YAAaA,GAEbnxC,KAAAA,cAAA,QAAMC,UAAU,iBACbloD,EAAa,MAAIC,GAEd,GC1BV,CAAgB,cAAgB,2BAA2B,OAAS,6BCE7D,IAAMuwG,GAAelzG,SAAS4sG,cAAc,QACtCuG,GAAiBnzG,SAASkxG,eAAe,UAEzCkC,GAAkB,SAACC,GAE9BH,GAAa5yG,MAAMgzG,SAAaD,EAAM,SAAW,MACnD,EAEaE,GAA2B,SAAC9wI,GACN,MAAdA,EAAMxc,MAGvBwc,EAAMs8F,iBACN/+D,SAASwzG,YAAY,cAAc,EAAO,KAE9C,EAEaC,GAAe,SAACvD,GAAS,IAAEwD,EAAcpwJ,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,KAAI,OAE3DqwJ,IAAAA,aAAsBzD,EAAWwD,GAAkBP,GAAe,ECCpE,SAAezmD,IAAf,EAde,SAACzpF,GACd,IAAMwR,EAA4BxR,EAA5BwR,KAAMlkB,EAAsB0S,EAAtB1S,MAAO6G,EAAe6L,EAAf7L,WAEnB,OACEuzF,KAAAA,cAAA,OAAKC,UAAU,aACbD,KAAAA,cAAA,QAAMC,UAAU,UACdD,KAAAA,cAAC63C,GAAY,CAAC53C,UAAU,OAAO1zF,KAAMud,KAErCrd,EAAU,GAAAnS,OAAOsL,EAAM0zC,WAAW,IAAI,IAAG,MAAAh/C,OAAKmS,EAAU,KAAM7G,EAGtE,GCnBA,CAAgB,UAAY,2BAA2B,KAAO,2BAA2B,OAAS,6BCD1D,IAOnBqjJ,GAAY,SAAAhmD,IAAA3wF,EAAAA,GAAAA,GAAA22I,EAAAhmD,GAAA,I,IAAA1wF,G,EAAA02I,E,maAAA,SAAAA,IAAA,IAAA1kJ,GAAAP,EAAAA,GAAAA,GAAA,KAAAilJ,GAAA,QAAAzxI,EAAA7e,UAAAd,OAAAqsE,EAAA,IAAAlsE,MAAAwf,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAwsD,EAAAxsD,GAAA/e,UAAA+e,GAqB9B,OArB8BnT,EAAAgO,EAAAtZ,KAAA0e,MAAApF,EAAA,OAAAjY,OAAA4pE,KAAAnzD,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAWf,SAACG,GACfH,EAAK2kJ,WAAaxkJ,CACpB,KAACqM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAEoB,SAACuT,GACpB,IAAQqxI,EAAkB5kJ,EAAK+T,MAAvB6wI,cAEJ5kJ,EAAK2kJ,aAAe3kJ,EAAK2kJ,WAAWE,SAAStxI,EAAM+pF,SACrDsnD,GAEJ,IAAC5kJ,CAAA,CAIA,OAJAN,EAAAA,GAAAA,GAAAglJ,EAAA,EAAA3tJ,IAAA,oBAAA6C,MAlBD,WACEk3C,SAASu9C,iBAAiB,YAAah7F,KAAKyxJ,mBAC9C,GAAC,CAAA/tJ,IAAA,uBAAA6C,MAED,WACEk3C,SAASw9C,oBAAoB,YAAaj7F,KAAKyxJ,mBACjD,GAAC,CAAA/tJ,IAAA,SAAA6C,MAcD,WACE,OAAO6hG,KAAAA,cAAA,OAAK0rC,IAAK9zI,KAAK0xJ,eAAgB1xJ,KAAK0gB,MAAMvU,SACnD,KAACklJ,CAAA,CAzB8B,CAAS7lD,GAAAA,WCN1C,UAAgB,SAAW,2BAA2B,OAAS,2BAA2B,MAAQ,2BAA2B,SAAW,2BAA2B,YAAc,2BAA2B,aAAe,2BAA2B,eAAiB,2BAA2B,iBAAmB,4BAA4B,OAAS,2BAA2B,aAAe,2BAA2B,aAAe,4BAA4B,cAAgB,4BAA4B,YAAc,4BAA4B,SAAW,2BAA2B,UAAY,2BAA2B,KAAO,2BAA2B,OAAS,2BAA2B,SAAW,2BAA2B,kBAAoB,2BAA2B,cAAgB,2BAA2B,WAAa,4B,OCM/xB,IA0BZmmD,GADpBxnD,KAAWhmD,GAAQ,CAAE+lD,eAAe,GAAOvB,CAAAC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAAi3I,EAAAtmD,GAAA,I,IAAA1wF,G,EAAAg3I,E,maAE1C,SAAAA,EAAYjxI,GAAsB,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAAulJ,GAChChlJ,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAYA,WACZA,EAAK+9C,UAAS,iBAAO,CACnBknG,oBAAoB,EACrB,GACH,KAACz4I,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,cAEY,WACUA,EAAK+T,MAAlBi/E,UAGRhzF,EAAK+9C,UAAS,iBAAO,CACnBknG,oBAAoB,EACrB,GACH,KAACz4I,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAEmB,SAACzH,GACnB,IAAQ2sJ,EAAallJ,EAAK+T,MAAlBmxI,SAGgB,mBAAbA,GAA4B3sJ,EAAKy6F,WAC1CkyD,EAAS3sJ,GACTyH,EAAK+9C,SAAS,CAAEonG,cAAe5sJ,EAAKqB,SAGtCoG,EAAKolJ,aACP,KAAC54I,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAEoB,WACnB,IAAA68F,EAII78F,EAAK+T,MAHP3G,EAAKyvF,EAALzvF,MACAi4I,EAAkBxoD,EAAlBwoD,mBACeC,EAAkBzoD,EAAjCsoD,cAGeI,EACbvlJ,EAAK2W,MADPwuI,cAGIA,EAAgBG,GAAsBC,EACtCC,EAAep4I,EAAMi+B,MAAK,SAAAzrC,GAAQ,OAAAA,EAALhG,QAAsBurJ,CAAa,IAEtE,QAAqB9wJ,IAAjBmxJ,EAA4B,CAC9B,GAAkC,mBAAvBH,EAAmC,CAC5C,IAAMI,EAAaD,EAAankJ,OAASmkJ,EAAahgI,UACtD,OACEi2E,KAAAA,cAAA,OACEC,UAAS,qBAAA3lG,OAAuByvJ,EAAaxyD,SAAW,WAAa,GAAE,KAAAj9F,OACrEyvJ,EAAaE,uBAAyB,gBAAkB,KAGzDD,EAGP,CACA,OAAOJ,EAAmBG,EAE5B,CACF,KAACh5I,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAEoB,WACnB,IAAQ2lJ,EAAkB3lJ,EAAK+T,MAAvB4xI,cACAV,EAAuBjlJ,EAAK2W,MAA5BsuI,mBACFW,EAAc7c,GAAAA,KAAQ76H,EAAAA,GAAAA,GAAAlO,GAAO,cAE/BilJ,IAEGU,GACHC,EAAYC,WAAWptJ,IAAI,IAG7BuH,EAAKolJ,cAET,IAjFE,IAAQD,EAAkBpxI,EAAlBoxI,cAOP,OALDnlJ,EAAK2W,MAAQ,CACXsuI,oBAAoB,EACpBE,cAAAA,EACAU,WAAY,GACZrnJ,OAAO,GACRwB,CACH,CAuLC,OAvLAN,EAAAA,GAAAA,GAAAslJ,EAAA,EAAAjuJ,IAAA,SAAA6C,MA2ED,WAAS,IAAA0V,EAAA,KACPyvF,EAYI1rG,KAAK0gB,MAXP0pF,EAASsB,EAATtB,UACAz1F,EAAI+2F,EAAJ/2F,KACA4kI,EAAW7tC,EAAX6tC,YACAx/H,EAAK2xF,EAAL3xF,MACA+3I,EAAapmD,EAAbomD,cACAQ,EAAa5mD,EAAb4mD,cACAG,EAAU/mD,EAAV+mD,WACAC,EAAShnD,EAATgnD,UACAliB,EAAI9kC,EAAJ8kC,KACAmiB,EAAUjnD,EAAVinD,WACAhzD,EAAQ+L,EAAR/L,SAGF5zC,EAA2C/rD,KAAKsjB,MAAxCsuI,EAAkB7lG,EAAlB6lG,mBAAoBY,EAAUzmG,EAAVymG,WACtBI,EAAoBznD,KAAG,WAAY,CAAEv1B,OAAQg8E,IAErCiB,EACVnd,GAAAA,IAAS11I,KAAM,cADjBwyJ,WAGEM,EAAgB/4I,GAEfu4I,GAAiBE,IACpBM,EAAgB/4I,EACb3K,QAAO,SAAClK,GAAI,OAAKA,EAAKyP,KAAK0F,SAASm4I,EAAW31I,cAAc,IAC7DzN,QAAO,SAAClK,GAAI,OAAKA,EAAKqB,QAAUurJ,CAAa,KAGlD,IAAMiB,EAAqC,IAAzBD,EAAc7yJ,OAC1B+yJ,EAAoBF,EAAc7yJ,OAAS,EAE3CgzJ,EAAaziB,EAAO,WAAH9tI,OAAc8tI,GAAS,iBAE9C,OACEpoC,KAAAA,cAACipD,GAAY,CAACE,cAAevxJ,KAAKyxJ,oBAChCrpD,KAAAA,cAAA,OACEC,UAAS,GAAA3lG,OAAKkwJ,GACdxoD,UAAWA,GAEXhC,KAAAA,cAAA,OACEgC,UAAW6oD,EACX5qD,UAAS,+CAAA3lG,OAES,SAAdgwJ,EAAuB,OAAS,GAAE,oBAAAhwJ,OACjCswJ,EAA+B,GAAX,SAAa,kBAEtC1qD,QAAS0qD,EAAoBhzJ,KAAKkzJ,WAAa,kBAAM,IAAI,GAGxDF,IAAsBrzD,GAAYyI,KAAAA,cAAA,OAAKC,UAAS,SAAA3lG,OAAyB,SAAdgwJ,EAAuB,OAAS,MAG3Fd,IAAuBU,EACtBlqD,KAAAA,cAAC2kD,GAAK,CACJ1kD,UAAU,cACVkxC,YAAaA,EACbyT,UAAW6F,EACXtD,aAAW,IAGbvvJ,KAAKmzJ,sBAKRvB,GACCxpD,KAAAA,cAAA,OAAKC,UAAS,UAAA3lG,OAAY+vJ,EAAa,aAAe,KACnD99I,EAAOyzF,KAAAA,cAAA,QAAMC,UAAU,YAAY1zF,GAAe,GAElDo+I,EACC3qD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,6BAA6B+4F,eAAe,eAC/DgwD,EACFF,EAAc1xJ,KAAI,SAAC8D,EAAMqC,GACvB,OAAKrC,EAAKs6D,OAgBH,KAdH4oC,KAAAA,cAAA,OACEn+F,GAAI/E,EAAKqB,MACT7C,IAAK6D,EACL8gG,UAAU,eACVC,QAAS,WACPuqD,EAAiBztJ,IAAI,IACrB6W,EAAKm3I,kBAAkBluJ,EACzB,GAECytJ,EAAWztJ,GAMpB,IAEAkjG,KAAAA,cAAA,OACEC,UAAU,eACVC,QAAS,WACPuqD,EAAiBztJ,IAAI,IACrB6W,EAAKm3I,kBAAkBN,EAAc,GACvC,GAECH,EAAWG,EAAc,OAQ1C,KAACnB,CAAA,CApMyC,CACNnmD,GAAAA,aAAS5C,GCC/C,SA9BuB,SAACloF,GACtB,IACE0pF,EAQE1pF,EARF0pF,UACA0nD,EAOEpxI,EAPFoxI,cACAD,EAMEnxI,EANFmxI,SACA99H,EAKErT,EALFqT,WAAUs/H,EAKR3yI,EAJF/L,KAAAA,OAAI,IAAA0+I,EAAG,GAAEA,EAAAC,EAIP5yI,EAHF64H,YAAAA,OAAW,IAAA+Z,EAAG,GAAEA,EAChBtB,EAEEtxI,EAFFsxI,mBAAkBuB,EAEhB7yI,EADFi/E,SAAAA,OAAQ,IAAA4zD,GAAQA,EAGZC,EAAwB,SAACtuJ,GAAI,OAAKkjG,KAAAA,cAACqrD,GAAWvuJ,EAAQ,EACtDwuJ,EAA0B1B,GAAsBwB,EACtD,OACEprD,KAAAA,cAACupD,GAAQ,CACPvnD,UAAWA,EACXmvC,YAAaA,EACbx/H,MAAOga,EACP+9H,cAAeA,EACfE,mBAAoB0B,EACpBf,WAAYa,EACZ3B,SAAUA,EACVlyD,SAAUA,EACVhrF,KAAMA,EACN67H,KAAK,kBAGX,ECkGA,IAAe5iC,EAAAA,GAAAA,IAAWpG,MAxHN,SAAC9mF,GAAU,IAAAizI,EAE3BhgD,EA0BEjzF,EA1BFizF,WACA79D,EAyBEp1B,EAzBFo1B,QACA89G,EAwBElzI,EAxBFkzI,iBACA9B,EAuBEpxI,EAvBFoxI,cACAD,EAsBEnxI,EAtBFmxI,SACA99H,EAqBErT,EArBFqT,WACAmnB,EAoBEx6B,EApBFw6B,KACAq+F,EAmBE74H,EAnBF64H,YACAhwD,EAkBE7oE,EAlBF6oE,MACAoW,EAiBEj/E,EAjBFi/E,SACAyK,EAgBE1pF,EAhBF0pF,UACAmmD,EAeE7vI,EAfF6vI,eACAv7C,EAcEt0F,EAdFs0F,QACAvrF,EAaE/I,EAbF+I,QACAte,EAYEuV,EAZFvV,MACAlB,EAWEyW,EAXFzW,GACA4pJ,EAUEnzI,EAVFmzI,QACAC,EASEpzI,EATFozI,MACAC,EAQErzI,EARFqzI,gBACAC,EAOEtzI,EAPFszI,WACAC,EAMEvzI,EANFuzI,aACAzoI,EAKE9K,EALF8K,WACAuoH,EAIErzH,EAJFqzH,QACAqb,EAGE1uI,EAHF0uI,iBACAX,EAEE/tI,EAFF+tI,QACAI,EACEnuI,EADFmuI,OAGI1hD,EAAY,WAAO,EACnB+mD,EAAcngI,EAAW3kB,QAAO,SAAClK,GAAI,OAAMA,EAAKstB,eAAe,IAC/D2hI,EAAe1qI,GAAWkqF,EAEhC,OACEvL,MAAA1qD,cAAA,OAAK2qD,UAAU,eACbD,MAAA1qD,cAAA,OAAK2qD,UAAU,OACZ9e,GAAS6e,MAAA1qD,cAAA,UAAQ2qD,UAAU,SAAS9e,GAEpCyrB,GACC5M,MAAA1qD,cAAA,OAAK2qD,UAAU,gBACbD,MAAA1qD,cAACkxD,GAAO,CAAC3kG,GAAIA,GAAK+qG,KAKxB5M,MAAA1qD,cAAA,OAAK2qD,UAAU,aAAa+B,UAAWA,GACrChC,MAAA1qD,cAACqvG,GAAK,CACJ1kD,UAAU,YACVymD,wBAAwB,iBACxBC,eAAe,mBACf9kJ,GAAI4pJ,EACJ7G,UAAWuD,EACX37I,KAAK,SACL2kI,YAAaA,EACb2T,QAAQ,SACR8B,WAAY7jJ,EACZw0F,SAAUA,EACV8uD,QAASA,GAAoBthD,EAC7B0hD,OAAQA,GAAkB1hD,EAC1B4mC,QAASA,GAAoB5mC,EAC7BinD,UAAWpD,GACX5B,iBAAkBA,IAEnBl0G,EAAO,GACNktD,MAAA1qD,cAAA,KAAG2qD,UAAU,WAAS,IAAA3lG,OACfw4C,GAAO,IAAE1vB,GAGjByoI,GAAgBA,EAEjB7rD,MAAA1qD,cAAC22G,GAAc,CACbrC,mBAAoB,SAAC9sJ,GACnB,IAAQ2P,EAAessC,GAAYj8C,EAAKqB,OAAhCsO,WAER,OAAOA,EAAa,GAAHnS,OAAMwC,EAAK8I,MAAM0zC,WAAW,IAAI,IAAG,MAAAh/C,OAAKmS,EAAU,KAAM3P,EAAKitB,SAChF,EACAk2E,UAAU,iBACVkxC,YAAY,yBACZuY,cAAeA,EACfD,SAAUA,EACV99H,WAAYmgI,KAGkB,cAAjC3qE,SAAY,QAAPoqE,EAALpqE,EAAO7oE,aAAK,IAAAizI,OAAP,EAALA,EAAc3wD,kBACZ4wD,IACAO,GACEr+G,GACCsyD,MAAA1qD,cAAA,QACE2qD,UACE,IAAIhrE,GAAAA,EAAU5T,GAAS08C,WAAW,IAAI9oC,GAAAA,EAAU22H,GAAYhpH,KAAK2oE,KACjE,IAAIt2E,GAAAA,EAAU22H,GAAY5oH,cAAc,GACpC,MACA,WAGNg9D,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,WACH+4F,eAAe,uDACfl9F,OAAQ,CACNwuJ,iBAAkB,GAAF5xJ,OAAK,IAAI26B,GAAAA,EAAU5T,GAASy1C,MAC1Cy0C,GACD,KAAAjxG,OAAIovJ,EAAcj1I,eACnBm4F,QAAS5M,MAAA1qD,cAACkxD,GAAO,CAAC3kG,GAAI6pJ,GAAO,IAAEC,OAMvC3rD,MAAA1qD,cAAA,QAAM2qD,UAAU,eACdD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,aACH+4F,eAAe,uDAM7B,GC/HA,CAAgB,YAAc,2BAA2B,IAAM,4BAA4B,MAAQ,2BAA2B,WAAa,2BAA2B,QAAU,2BAA2B,aAAe,2BAA2B,QAAU,2BAA2B,UAAY,2BAA2B,YAAc,2BAA2B,eAAiB,2BAA2B,IAAM,2BAA2B,qBAAuB,2BAA2B,eAAiB,2BAA2B,SAAW,4BDiIte,CAAEkH,eAAe,KElI3E,GAAe,IAA0B,0BCsBzC,GAAeC,IAAf,EAbkB,WAChB,OACE/B,KAAAA,cAAA,OAAKC,UAAU,YAAYp+F,GAAG,MAC5Bm+F,KAAAA,cAAA,OAAKC,UAAU,iBAAiB+D,IAAKmoD,KACrCnsD,KAAAA,cAAA,QAAMC,UAAU,iBAAgB,SAEhCD,KAAAA,cAACwG,GAAO,CAAC3kG,GAAG,OAAOuhF,MAAM,EAAO8iB,MAAO,UACrClG,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,gBAAgB+4F,eAAe,qFAI5D,GCnBA,CAAgB,UAAY,2BAA2B,eAAiB,2BAA2B,cAAgB,4BDqBtE,CAAEkH,eAAe,IEnB9D,IAAMsqD,GAAkB,CAAC,MAAO,OAIhC,SAFyB,SAACC,GAAa,OAAKD,GAAgBn6I,SAASo6I,EAAM1sJ,cAAc,E,OC0BzF,I,GAKM2sJ,GAA8B,SAAAhqJ,GAClC,IAAMiqJ,EAAch1J,OAAO+K,GAM3B,OAJsBiqJ,EAAYv6I,QAAQ,OACrBu6I,EAAYC,YAAY,IAI/C,EAYqBC,IAVpB35F,EAAAA,EAAAA,KACC,SAAA3uD,GAAA,IACEwnB,EAAUxnB,EAAVwnB,WAAU,MACL,CACLA,WAAY+gI,GAA8B/gI,EAAWtB,cACrDC,iBAAkBoiI,GAA8B/gI,EAAWpB,iBAC3DoiI,eAAgBhhI,EACjB,GAEyC40E,CAAAC,GAA3CuB,KCtDD,CAAgB,QAAU,2BAA2B,WAAa,2BAA2B,aAAe,2BAA2B,OAAS,2BAA2B,WAAa,2BAA2B,gBAAkB,4BAA4B,OAAS,2BAA2B,MAAQ,2BAA2B,MAAQ,2BAA2B,YAAc,2BAA2B,SAAW,4BDsD3Y,CAAED,eAAe,GAAO+iC,CAAArkC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAAm6I,EAAAxpD,GAAA,I,IAAA1wF,G,EAAAk6I,E,maAK1C,SAAAA,EAAYn0I,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAAyoJ,GACjBloJ,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,8CAAAe,GAAAsT,EAAAA,EAAAA,GAAAC,IAAAA,MAqEiB,SAAAO,EAAOkL,GAAY,IAAAsoI,EAAA,OAAA/zI,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,cAAAmb,EAAAnb,KAAA,EACTmyC,GAAQ/rB,EAAa3kB,eAAeuyC,aAAY,OAAjF06G,EAAwBvzI,EAAAC,KAE9B/U,EAAK+9C,UAAS,iBAAO,CACnBsqG,yBAAAA,EACD,IAAE,wBAAAvzI,EAAAJ,OAAA,GAAAG,EAAA,KACJ,gBAAAG,GAAA,OAAAjU,EAAAqS,MAAA,KAAAhf,UAAA,EA3Ea,KA2EboY,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,UAEQ,WACP,IAAAo/C,EAAsCp/C,EAAK2W,MAAnC68B,EAAY4L,EAAZ5L,aAAcC,EAAW2L,EAAX3L,YAEtBzzC,EAAKsoJ,qBAAqB90G,GAC1BxzC,EAAKuoJ,oBAAoB90G,EAC3B,KAACjnC,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,2BAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEyB,SAAAC,IAAA,IAAAurC,EAAAhE,EAAAD,EAAA2sG,EAAAC,EAAA,OAAAn0I,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OAGT,GAHSmmD,EAIpB9/C,EAAK2W,MAFPmlC,EAAcgE,EAAdhE,eAG+C,MAF/CD,EAAaiE,EAAbjE,eAEiD,CAAAjnC,EAAAjb,KAAA,eAAAib,EAAAjb,KAAA,EACzCmyC,GAAQ+P,EAAczgD,eAAeuyC,aAAY,OAAA/4B,EAAAkC,GAAAlC,EAAAG,KAAAH,EAAAjb,KAAA,eAAAib,EAAAkC,GACvD,EAAC,OAFsB,GAArB0xI,EAAqB5zI,EAAAkC,GAGwB,KAAnBglC,EAAqB,CAAAlnC,EAAAjb,KAAA,gBAAAib,EAAAjb,KAAA,GAC3CmyC,GAAQgQ,EAAe1gD,eAAeuyC,aAAY,QAAA/4B,EAAA+nB,GAAA/nB,EAAAG,KAAAH,EAAAjb,KAAA,iBAAAib,EAAA+nB,GACxD,EAAC,QAFC8rH,EAAsB7zI,EAAA+nB,GAI5B38B,EAAK+9C,UAAS,iBAAO,CACnByqG,sBAAAA,EACAC,uBAAAA,EACD,IAAE,yBAAA7zI,EAAAF,OAAA,GAAAH,EAAA,OACJ/H,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,8BAAAuV,GAAAlB,EAAAA,EAAAA,GAAAC,IAAAA,MAEc,SAAAkB,EAAOg+B,GAAY,IAAAk1G,EAAA5rI,EAAAqD,EAAAwoI,EAAAC,EAAAC,EAAA,OAAAv0I,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,OAEL,OADrB+uJ,EAAa58G,GAAAA,KAAAA,UAAuB,CAAE9uB,SAAUw2B,IAAe99B,EAAAoB,GACnD4Z,GAAAA,EAAShb,EAAA/b,KAAA,EACnBmyC,GAAAA,KAAAA,mBAAgC48G,GAAW,OAAAhzI,EAAAinB,GAAAjnB,EAAAX,KAD/C+H,EAAU,IAAHpH,EAAAoB,GAAApB,EAAAinB,IAGLxc,EAAuBuoI,EAAvBvoI,mBAENA,EAAqB,IAAIuQ,GAAAA,EAAUvQ,GAE7BwoI,EAAiBxoI,EAAmBxG,SAAWwG,EAAmBq5C,WAAW,GAC/E18C,EAAQuhB,KAAKle,GACbrD,EAEE8rI,EAAqBzuG,GAAUhR,QAAQ,CAAEnhC,KAAMwrC,IAEjDm1G,EAAep2F,MAAMvyD,EAAK2W,MAAMmyI,yBADhCH,EAGEE,EAAeD,EAAkBnqH,cAAc,GAAKmqH,EAAoB,IAAIl4H,GAAAA,EAAU,GAE5F1wB,EAAK+9C,SAAS,CACZjhC,QAAS+rI,EAAah1J,aACtB,yBAAA6hB,EAAAhB,OAAA,GAAAc,EAAA,KACH,gBAAAK,GAAA,OAAAN,EAAAnC,MAAA,KAAAhf,UAAA,EAxBA,KAwBAoY,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAEc,SAACwzC,EAAcC,GAC5B,IAAMs1G,EAAc5uG,GAAUhR,QAAQ,CAAEnhC,KAAMwrC,IACxCw1G,EAAa7uG,GAAUhR,QAAQ,CAAEnhC,KAAMyrC,IAE7CzzC,EAAK+9C,UAAS,iBAAO,CACnBirG,WAAAA,EACAD,YAAAA,EACD,GACH,KAACv8I,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sCAAAiW,GAAA5B,EAAAA,EAAAA,GAAAC,IAAAA,MAEsB,SAAAa,EAAOq+B,GAAY,IAAArK,EAAA2/G,EAAA,OAAAx0I,IAAAA,MAAA,SAAAe,GAAA,cAAAA,EAAA/Z,KAAA+Z,EAAA1b,MAAA,OACiB,GAAnDwvC,EAAUgR,GAAUhR,QAAQ,CAAEnhC,KAAMwrC,KAEtCjb,GAAuB7qB,SAAS8lC,IAAkBrK,EAAO,CAAA9zB,EAAA1b,KAAA,eAAA0b,EAAA1b,KAAA,EACrB47D,GAAQ/hB,GAAc7Q,iBAAiB,CAAEzR,OAAQ,OAAQoR,MAAO,SAAS,OAAzGwmH,EAAuBzzI,EAAAN,KAE7B/U,EAAK+9C,SAAS,CACZ+qG,wBAAAA,IACA,wBAAAzzI,EAAAX,OAAA,GAAAS,EAAA,KAEL,gBAAAQ,GAAA,OAAAM,EAAA7C,MAAA,KAAAhf,UAAA,EAZA,KAYAoY,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qCAAA+V,GAAA1B,EAAAA,EAAAA,GAAAC,IAAAA,MAEqB,SAAA0B,EAAOy9B,GAAW,IAAAtK,EAAA8/G,EAAA,OAAA30I,IAAAA,MAAA,SAAAmC,GAAA,cAAAA,EAAAnb,KAAAmb,EAAA9c,MAAA,OACkB,GAAlDwvC,EAAUgR,GAAUhR,QAAQ,CAAEnhC,KAAMyrC,KAEtClb,GAAuB7qB,SAAS+lC,IAAiBtK,EAAO,CAAA1yB,EAAA9c,KAAA,eAAA8c,EAAA9c,KAAA,EACrB47D,GAAQ9hB,GAAa9Q,iBAAiB,CAAEzR,OAAQ,OAAQoR,MAAO,SAAS,OAAvG2mH,EAAsBxyI,EAAA1B,KAE5B/U,EAAK+9C,SAAS,CACZkrG,uBAAAA,IACA,wBAAAxyI,EAAA/B,OAAA,GAAAsB,EAAA,KAEL,gBAAAJ,GAAA,OAAAG,EAAA3C,MAAA,KAAAhf,UAAA,EAZA,KAYAoY,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oCAAAmX,GAAA9C,EAAAA,EAAAA,GAAAC,IAAAA,MAEoB,SAAAiD,EAAOi8B,EAAcC,GAAW,IAAAy1G,EAAAC,EAAAhkG,EAAA,OAAA7wC,IAAAA,MAAA,SAAAoD,GAAA,cAAAA,EAAApc,KAAAoc,EAAA/d,MAAA,cAAA+d,EAAA/d,KAAA,EACfmyC,GAAAA,KAAAA,gBAA6B0H,EAAc,OAAM,OAA1D,OAArB01G,EAAqBxxI,EAAA3C,KAAA2C,EAAA/d,KAAG,EACKmyC,GAAAA,KAAAA,gBAA6B2H,EAAa,OAAM,OAAzD,GAApB01G,EAAoBzxI,EAAA3C,KAEY,SAAjBy+B,GAA2C,SAAhBC,EAAsB,CAAA/7B,EAAA/d,KAAA,gBAAA+d,EAAA/d,KAAA,EAC5DmyC,GAAAA,KAAAA,gBAA6B0H,EAAcC,GAAY,OAAA/7B,EAAAZ,GAAAY,EAAA3C,KAAA2C,EAAA/d,KAAA,iBAAA+d,EAAAZ,GAC7D,IAAI4Z,GAAAA,EAAUw4H,GAAkB1lH,IAAI2lH,GAAiB1lH,GAAG,EAAG/S,GAAAA,EAAAA,YAAqB,QAFlE,OAAZy0B,EAAYztC,EAAAZ,GAAAY,EAAApC,OAAA,SAIX,IAAIlB,SAAQ,SAACI,EAASiB,GAC3BzV,EAAK+9C,SAAS,CAAEoH,aAAAA,IAAgB,kBAAM3wC,GAAQ,EAAK,GACrD,KAAE,yBAAAkD,EAAAhD,OAAA,GAAA6C,EAAA,KACH,gBAAAR,EAAAa,GAAA,OAAAT,EAAA/D,MAAA,KAAAhf,UAAA,EAbA,KAaAoY,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,yCAAAiX,GAAA5C,EAAAA,EAAAA,GAAAC,IAAAA,MAEyB,SAAA4C,EAAOsuI,GAAY,IAAA5rJ,EAAAsO,EAAA00F,EAAAppD,EAAAiH,EAAAD,EAAA,OAAAlmC,IAAAA,MAAA,SAAAgD,GAAA,cAAAA,EAAAhc,KAAAgc,EAAA3d,MAAA,OAMzC,GALMC,EAAsB4rJ,EAAtB5rJ,MAAOsO,EAAes9I,EAAft9I,WAAU00F,EACuB58F,EAAK2W,MAA7C68B,EAAYopD,EAAZppD,aAAciH,EAASmiD,EAATniD,UAAWD,EAAUoiD,EAAVpiD,WAEjCx6C,EAAK+9C,SAAS,CACZzD,SAAS,IAGP9G,IAAiB55C,EAAK,CAAA0d,EAAA3d,KAAA,QACxBqG,EAAKkhJ,YAAW5pI,EAAA3d,KAAA,gBAEY,OAA5BqG,EAAKopJ,UAAU51G,GAAal8B,EAAA3d,KAAA,GACtBqG,EAAKq6H,aAAa7mF,GAAa,eAAAl8B,EAAA3d,KAAA,GAC/BqG,EAAKqpJ,mBAAmB71G,EAAc55C,GAAM,QAClDoG,EAAKspJ,aAAa91G,EAAc55C,GAEhCoG,EAAK+9C,UAAS,iBAAO,CACnBtK,YAAa75C,EACbiiD,cAAe3zC,EAChB,IAAG,WACqBlI,EAAK2W,MAApBqyI,aAGNhpJ,EAAKupJ,0BACLvpJ,EAAKwpJ,6BAA6BthJ,GAEtC,KAEIsyC,EAAa,GAAKC,EAAY,KAChCz6C,EAAKypJ,sBAAsBhvG,GAC3Bz6C,EAAK0pJ,uBAAuBlvG,IAG9Bx6C,EAAK2pJ,SAAQ,yBAAAryI,EAAA5C,OAAA,GAAAwC,EAAA,KAEhB,gBAAAyoB,GAAA,OAAA1oB,EAAA7D,MAAA,KAAAhf,UAAA,EArCA,KAqCAoY,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,0CAAA0gB,GAAArM,EAAAA,EAAAA,GAAAC,IAAAA,MAE0B,SAAAsuB,EAAO4iH,GAAY,IAAA5rJ,EAAAsO,EAAA6/F,EAAAt0D,EAAA+G,EAAAC,EAAA,OAAAnmC,IAAAA,MAAA,SAAAivB,GAAA,cAAAA,EAAAjoC,KAAAioC,EAAA5pC,MAAA,OAM1C,GALMC,EAAsB4rJ,EAAtB5rJ,MAAOsO,EAAes9I,EAAft9I,WAAU6/F,EACoC/nG,EAAK2W,MAA1D88B,EAAWs0D,EAAXt0D,YAAyBs0D,EAAZv0D,aAAcgH,EAAUutD,EAAVvtD,WAAYC,EAASstD,EAATttD,UAE/Cz6C,EAAK+9C,SAAS,CACZzD,SAAS,IAGP7G,IAAgB75C,EAAK,CAAA2pC,EAAA5pC,KAAA,QACvBqG,EAAKkhJ,YAAW39G,EAAA5pC,KAAA,gBAEK,OAArBqG,EAAKopJ,UAAUxvJ,GAAM2pC,EAAA5pC,KAAA,GACfqG,EAAKq6H,aAAazgI,GAAM,eAAA2pC,EAAA5pC,KAAA,GACxBqG,EAAKqpJ,mBAAmBzvJ,EAAO65C,GAAY,QACjDzzC,EAAKspJ,aAAa1vJ,EAAO65C,GAEzBzzC,EAAK+9C,UAAS,iBAAO,CACnBvK,aAAc55C,EACdkiD,eAAgB5zC,EACjB,IAAG,WACsBlI,EAAK2W,MAArBoyI,cAGN/oJ,EAAKupJ,0BACLvpJ,EAAKwpJ,6BAA6BthJ,GAEtC,KAEIsyC,EAAa,GAAKC,EAAY,KAChCz6C,EAAKypJ,sBAAsBhvG,GAC3Bz6C,EAAK0pJ,uBAAuBlvG,IAG9Bx6C,EAAK2pJ,SAAQ,yBAAApmH,EAAA7uB,OAAA,GAAAkuB,EAAA,KAEhB,gBAAAT,GAAA,OAAAzhB,EAAAtN,MAAA,KAAAhf,UAAA,EArCA,KAqCAoY,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,4BAE0B,SAACpG,GAC1B,GAAKmuJ,GAA4BnuJ,GASjC,OALAoG,EAAK4pJ,gBAAgB,CACnB3hJ,KAAM,OACNrO,MAAAA,IAGKA,CACT,KAAC4S,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,yBAEuB,SAACpG,GACvB,GAAKmuJ,GAA4BnuJ,GASjC,OALAoG,EAAK4pJ,gBAAgB,CACnB3hJ,KAAM,MACNrO,MAAAA,IAGKA,CACT,KAAC4S,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,0BAEwB,SAACpG,GACxB,GAAKmuJ,GAA4BnuJ,GASjC,OALAoG,EAAK4pJ,gBAAgB,CACnB3hJ,KAAM,OACNrO,MAAAA,IAGKA,CACT,KAAC4S,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAEiB,SAAA4gB,GAAqB,IAAlB3Y,EAAI2Y,EAAJ3Y,KAAMrO,EAAKgnB,EAALhnB,MACzB8oI,EAAuF1iI,EAAK2W,MAApFkzI,EAAUnnB,EAAVmnB,WAAY1kG,EAAYu9E,EAAZv9E,aAAc1K,EAASioF,EAATjoF,UAAWD,EAAUkoF,EAAVloF,WAAY/G,EAAWivF,EAAXjvF,YAAaD,EAAYkvF,EAAZlvF,aActE,OAZa,SAATvrC,GAA4B,QAATA,GAChBjI,EAAK8pJ,WACR9pJ,EAAK+9C,SAAS,CAAE+rG,WAAW,IAUvB7hJ,GACN,IAAK,OAMH,IAAM8hJ,EAAgB,IAAIr5H,GAAAA,EAAU92B,GAAS,GAE7C,GAAIiwJ,EAAY,CACd,IAAMG,EAAkB,IAAIt5H,GAAAA,EAAU92B,GAAOkiC,UAAU2e,GAEvDz6C,EAAK+9C,SAAS,CACZoH,aAAc6kG,EAAgBvrH,cAAc,GAAKurH,EAAgBn2J,WAAa,GAC9E2mD,WAAYuvG,EAAcl2J,YAE9B,KAAO,CACL,IAAMo2J,EAAeF,EAAc3rH,aAAa+mB,GAAgB,GAC7D1hB,GAAGt1B,GAAAA,cAAwBslC,EAAYr4C,eAAgBs1B,GAAAA,EAAAA,YAE1D1wB,EAAK+9C,SAAS,CACZvD,WAAYuvG,EAAcl2J,WAC1B4mD,UAAWwvG,EAAap2J,YAE5B,CACA,MAGF,IAAK,MAMH,IAAMo2J,EAAe,IAAIv5H,GAAAA,EAAU92B,GAAS,GAE5C,GAAIiwJ,EAAY,CACd,IAAMG,EAAkB,IAAIt5H,GAAAA,EAAU8pB,GAAY1e,UAAUliC,GAE5DoG,EAAK+9C,SAAS,CACZoH,aAAc6kG,EAAgBvrH,cAAc,GAAKurH,EAAgBn2J,WAAa,GAC9E4mD,UAAWwvG,EAAap2J,YAE5B,KAAO,CACL,IAAMk2J,EAAgBE,EAAanuH,UAAUqpB,GAAgB,GAC1D1hB,GAAGt1B,GAAAA,cAAwBqlC,EAAap4C,eAAgBs1B,GAAAA,EAAAA,YAE3D1wB,EAAK+9C,SAAS,CACZvD,WAAYuvG,EAAcl2J,WAC1B4mD,UAAWwvG,EAAap2J,YAE5B,CAEA,MAGF,IAAK,OACH,GAAI,IAAI68B,GAAAA,EAAU8pB,GAAY/b,cAnYpB,MAmYiE,CAMzE,IAAMwrH,EAAe,IAAIv5H,GAAAA,EAAU8pB,GAAY1e,UAAUliC,GAAS,GAElEoG,EAAK+9C,SAAS,CACZtD,UAAWwvG,EAAap2J,YAE5B,KAAO,CAML,IAAMk2J,EAAgB,IAAIr5H,GAAAA,EAAU92B,GAAS,GAAGwkC,aAAaqc,GAE7Dz6C,EAAK+9C,SAAS,CACZvD,WAAYuvG,EAAcl2J,YAE9B,CAEA,MAEF,QACEoZ,QAAQzO,MAAM,gBAGpB,KAACgO,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,cAEY,YAGXkqJ,EAFmBlqJ,EAAK+T,MAAhBm2I,QAEDlqJ,EAAK2W,MACd,KAACnK,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAEe,SAACpG,GACfoG,EAAK+9C,UAAS,iBAAO,CACnBvD,WAAY,IAAI9pB,GAAAA,EAAU92B,GAAO/F,WAClC,IAEDmM,EAAK0pJ,uBAAuB9vJ,EAC9B,KAAC4S,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAEkB,SAACpG,GAClB,IAAKA,EAAO,CACV,IAAQ45C,EAAiBxzC,EAAK2W,MAAtB68B,aACRxzC,EAAKmqJ,yBAAyB,CAAEvwJ,MAAO45C,GACzC,CACAxzC,EAAK+9C,UAAS,iBAAO,CAAE8rG,WAAYjwJ,EAAO,GAC5C,KAAC4S,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,aAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEW,SAAAywB,IAAA,IAAA2+F,EAAAlwF,EAAAC,EAAAg1G,EAAAD,EAAA3sG,EAAAC,EAAA,OAAAxnC,IAAAA,MAAA,SAAAuxB,GAAA,cAAAA,EAAAvqC,KAAAuqC,EAAAlsC,MAAA,OAAA+pI,EAQN1jI,EAAK2W,MANP68B,EAAYkwF,EAAZlwF,aACAC,EAAWiwF,EAAXjwF,YACAg1G,EAAsB/kB,EAAtB+kB,uBACAD,EAAqB9kB,EAArB8kB,sBACA3sG,EAAa6nF,EAAb7nF,cACAC,EAAc4nF,EAAd5nF,eAGF97C,EAAK+9C,UAAS,iBAAO,CACnBvK,aAAcC,EACdqI,eAAgBD,EAChBrB,WAAY,GACZiuG,uBAAwBD,EAExB/0G,YAAaD,EACbqI,cAAeC,EACfrB,UAAW,GACX+tG,sBAAuBC,EACxB,IAACp0I,EAAAA,EAAAA,GAAAC,IAAAA,MAAE,SAAAuvB,IAAA,OAAAvvB,IAAAA,MAAA,SAAAkwB,GAAA,cAAAA,EAAAlpC,KAAAkpC,EAAA7qC,MAAA,cAAA6qC,EAAA7qC,KAAA,EACIqG,EAAKq6H,aAAa5mF,GAAY,cAAAjP,EAAA7qC,KAAA,EAC9BqG,EAAKqpJ,mBAAmB51G,EAAaD,GAAa,OAExD1H,GAAAA,MAAAA,kBAAgC2H,GAEhCzzC,EAAKspJ,aAAatpJ,EAAK2W,MAAM68B,aAAcxzC,EAAK2W,MAAM88B,aACtDzzC,EAAK2pJ,SAAQ,wBAAAnlH,EAAA9vB,OAAA,GAAAmvB,EAAA,MACb,wBAAAgC,EAAAnxB,OAAA,GAAAqwB,EAAA,OACHv4B,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,aAEW,SAACpG,GACX,IAAM+4F,EAAW7mD,GAAAA,MAAAA,kBAAgClyC,GACnC+4F,EAASl+F,KAAI,SAAA8D,GAAI,OAAIA,EAAKqB,KAAK,IAAE8T,SAAS1N,EAAK2W,MAAM88B,cAGjEzzC,EAAK+9C,UAAS,iBAAO,CACnBtK,YAAak/C,EAAS,GAAG/4F,MAC1B,GAEL,IAlcE,IAEsBgrB,EAAAC,EAFdulI,EAAgBr2I,EAAhBq2I,YAEJzoI,UAAAA,GAAAA,WACQ,QAAViD,EAAI9F,cAAM,IAAA8F,GAAqB,QAArBC,EAAND,EAAQE,2BAAmB,IAAAD,GAA3BA,EAA6BvxB,OAC/BwrB,OAAOgG,oBAAoBvuB,SAAQ,SAAC0uB,GAClCqT,GAAiBrT,EAAMjd,KAAK5M,eAAiB,CAC/C,IAEAk9B,GAAiB3W,GAAAA,YAAqB,GAI1C,IAAAT,EAA2EkpI,GAAe,CAAC,EAAnFjlG,EAAYjkC,EAAZikC,aAAc1K,EAASv5B,EAATu5B,UAAWD,EAAUt5B,EAAVs5B,WAAY/G,EAAWvyB,EAAXuyB,YAAaD,EAAYtyB,EAAZsyB,aAuBzD,OArBDxzC,EAAK2W,MAAQ,CACXmG,QAAS,KACTisI,aAAa,EACbC,YAAY,EACZz3F,WAAW,EACXjX,SAAS,EACTwvG,WAAW,EACXD,YAAY,EACZpvG,UAAWA,GAAa,GACxBD,WAAYA,GAAc,GAC1B2K,aAAcA,GAAgB,EAC9B1R,YAAaA,GAAe,MAC5BD,aAAcA,GAAgB,MAC9BqI,cAAe,GACfC,eAAgB,GAChBmtG,uBAAwB3wH,GAAiBmb,IAAgBnb,GAAAA,IACzDwwH,wBAAyBxwH,GAAiBkb,IAAiBlb,GAAAA,IAC3D+vH,yBAA0B,EAE1BG,sBAAuB,EACvBC,uBAAwB,GACzBzoJ,CACH,CAkmBC,OAlmBAN,EAAAA,GAAAA,GAAAwoJ,EAAA,EAAAnxJ,IAAA,oBAAA6C,MAED,WACE,IAAAywJ,EAAsCh3J,KAAKsjB,MAAnC68B,EAAY62G,EAAZ72G,aAAcC,EAAW42G,EAAX52G,YAEtB3H,GAAAA,MAAAA,kBAAgC0H,GAChCngD,KAAKgnI,aAAa7mF,GAClBngD,KAAKg2J,mBAAmB71G,EAAcC,GACtCpgD,KAAKi2J,aAAa91G,EAAcC,GAChCpgD,KAAKs2J,SACLt2J,KAAKk2J,0BAEL,IAAArxG,EAGI1D,GAAYhB,GADFsI,GADE5D,EAAd9oC,KAC0B8oC,EAA1BhwC,YAEF2sC,EAGIL,GAAYf,GADFoI,GADChH,EAAbzlC,KACyBylC,EAAzB3sC,YAGE4zC,IACFzoD,KAAK0qD,UAAS,iBAAO,CAAEjC,eAAAA,EAAgB,IACvCzoD,KAAKm2J,6BAA6B1tG,IAEhCD,IACFxoD,KAAK0qD,UAAS,iBAAO,CAAElC,cAAAA,EAAe,IACtCxoD,KAAKm2J,6BAA6B3tG,GAEtC,GAAC,CAAA9kD,IAAA,SAAA6C,MAmYD,WAAS,IAAA0V,EAAA,KACPutF,EAAyCxpG,KAAK0gB,MAAtCqT,EAAUy1E,EAAVz1E,WAAYrB,EAAgB82E,EAAhB92E,iBAEpBukI,EAeIj3J,KAAKsjB,MAdPwuC,EAAYmlG,EAAZnlG,aACA1K,EAAS6vG,EAAT7vG,UACAD,EAAU8vG,EAAV9vG,WACA/G,EAAW62G,EAAX72G,YACAD,EAAY82G,EAAZ92G,aACAs1G,EAAuBwB,EAAvBxB,wBACAG,EAAsBqB,EAAtBrB,uBACAnsI,EAAOwtI,EAAPxtI,QACAurI,EAAwBiC,EAAxBjC,yBACAwB,EAAUS,EAAVT,WACAt4F,EAAS+4F,EAAT/4F,UAEAw3F,GADOuB,EAAPhwG,QACWgwG,EAAXvB,aACAC,EAAUsB,EAAVtB,WAIIuB,EAAmB,KACnBC,EAAkB,IAAI95H,GAAAA,EAAU23H,GAA0B7uF,WAAW+wF,KAAsBvB,GAAcD,GACzG0B,EAAS1hB,GAAAA,IAAS11I,KAAM,eAAgB,YAAa,cAErDq3J,EAAqB3B,EAEvB,KADAxwH,GAAuB7qB,SAAS8lC,GAAgBs1G,EAA0BxwH,GAAiBmb,GAGzFk3G,EAAoB3B,EAEtB,KADAzwH,GAAuB7qB,SAAS+lC,GAAew1G,EAAyB3wH,GAAiBmb,GAQvF4pD,GAFiBhT,GAA2B52C,IAAgB42C,GAA2B72C,IAEzE2R,IACd1K,IAAcD,GACf,IAAI9pB,GAAAA,EAAU8pB,GAAY/b,cAAc3hB,IACxC,IAAI4T,GAAAA,EAAU8pB,GAAYgf,WAAWkxF,IACrC,IAAIh6H,GAAAA,EAAU+pB,GAAW+e,WAAWmxF,IACpCH,GAqBL,MAnBgC,KAA5BC,EAAOjwG,WAAW5gD,OAAgB6wJ,EAAOjwG,WAAW5gD,MAAQ,GAC9D6wJ,EAAOjwG,WAAW/gC,OAAM,SAAC7f,GAAK,OAAM,IAAI82B,GAAAA,EAAU92B,GAAO6kC,cAAcisH,EAAkB,GACvFjvD,KAAAA,cAAA,YACEA,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,iBAAiB+4F,eAAe,sCACpD,IACAq0D,IAIwB,KAA3BD,EAAOhwG,UAAU7gD,OAAgB6wJ,EAAOhwG,UAAU7gD,MAAQ,GAC5D6wJ,EAAOhwG,UAAUhhC,OAAM,SAAC7f,GAAK,OAAM,IAAI82B,GAAAA,EAAU92B,GAAO6kC,cAAcksH,EAAiB,GACrFlvD,KAAAA,cAAA,YACEA,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,iBAAiB+4F,eAAe,qCACpD,IACAs0D,IAMLlvD,KAAAA,cAAA,OAAKC,UAAS,oBACZD,KAAAA,cAAA,OAAKC,UAAU,cACbD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,qBAAqB+4F,eAAe,8FAG3DoF,KAAAA,cAACmvD,GAAW,CACVhuE,MAAO6e,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,cAAc+4F,eAAe,SACzDgS,QAAS5M,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,aAAa+4F,eAAe,uFAC1DutD,eAAgB6G,EAAOjwG,WAAWo9D,KAAKvkH,KAAKq2J,wBAC5CjH,kBAAgB,EAChB0C,cAAe3xG,EACf0xG,SAAU7xJ,KAAK82J,yBACf7sJ,GAAG,aACHwf,QAASA,EACTsK,WAAYA,EACZwlH,YAAY,eAEdnxC,KAAAA,cAACovD,GAAM,CACL5J,cAAe5tJ,KAAK4tJ,cACpBnkI,QAASA,EACTokI,UAAW7tJ,KAAK6tJ,YAGlBzlD,KAAAA,cAACmvD,GAAW,CACVhuE,MAAO6e,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,cAAc+4F,eAAe,QACzDgS,QAAS5M,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,aAAa+4F,eAAe,mDAC1DutD,eAAgB6G,EAAOhwG,UAAUm9D,KAAKvkH,KAAKo2J,uBAC3ChH,kBAAgB,EAChB0C,cAAe1xG,EACfyxG,SAAU7xJ,KAAKy3J,wBACfxtJ,GAAG,YACH8pB,WAAYrB,EACZ6mH,YAAY,eAGdnxC,KAAAA,cAAA,OAAKC,UAAU,gBACbD,KAAAA,cAACsvD,GAAiB,CAChBnuE,MAAO6e,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,cAAc+4F,eAAe,kBACzDutD,eAAgB6G,EAAOtlG,aAAayyD,KAAKvkH,KAAK23J,0BAC9Ch4D,UAAW62D,EACXvsJ,GAAG,eACHsvI,YAAY,6BACZn5F,YAAaA,EACbD,aAAcA,KAIlBioD,KAAAA,cAAA,OAAKC,UAAU,mBACbD,KAAAA,cAAA,OAAKC,UAAU,UACbD,KAAAA,cAACwvD,GAAM,CAACxoI,QAASonI,EAAY5sD,SAAU5pG,KAAK63J,mBAC5CzvD,KAAAA,cAAA,OAAKC,UAAU,cACbD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,cAAc+4F,eAAe,yBACjD,IACDoF,KAAAA,cAACwG,GAAO,CAAC3kG,GAAG,UACVm+F,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,SAAS+4F,eAAe,oCAKnDoF,KAAAA,cAAA,OAAKC,UAAU,UACbD,KAAAA,cAACwvD,GAAM,CAACxoI,QAAS8uC,EAAW0rC,SAAU,kBAAM3tF,EAAKyuC,UAAS,SAACpnC,GAAK,MAAM,CAAE46C,WAAY56C,EAAM46C,UAAW,GAAE,IACvGkqC,KAAAA,cAAA,OAAKC,UAAU,cACbD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,cAAc+4F,eAAe,yBACjD,IACDoF,KAAAA,cAACwG,GAAO,CAAC3kG,GAAG,UACVm+F,KAAAA,cAAA,OAAKrqD,MAAO,CAAE+5G,UAAW,WACvB1vD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,yBACH+4F,eAAc,+NAEdl9F,OAAQ,CAAE62F,EAAGyL,KAAAA,cAAA,mBArGA,GA6HxB+uD,GACC/uD,KAAAA,cAAA,OAAKC,UAAU,SACZstD,GACCvtD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,+BACH+4F,eAAe,gFACfl9F,OAAQ,CACNs6C,YAAaA,EAAYvjC,cACzBk7I,UAAWb,KAIhBxB,GACCttD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,gCACH+4F,eAAe,iFACfl9F,OAAQ,CACNq6C,aAAcA,EAAatjC,cAC3Bk7I,UAAWb,MAOnBhmJ,OAAOpL,OAAOsxJ,GAAQh2J,KAAI,SAAC8D,EAAMqC,GAAK,OAAK+S,QAAQpV,EAAKiG,OACpDi9F,KAAAA,cAAA,OAAK1kG,IAAK6D,EAAO8gG,UAAU,SAASnjG,EAAKiG,OACzC,EAAE,IAGRi9F,KAAAA,cAACwD,GAAM,CAACvD,UAAU,SAASgC,WAAS,EAACI,MAAI,EAAC9K,SAAUqK,EAAY1B,QAAStoG,KAAKg4J,YAC5E5vD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,cAAc+4F,eAAe,UAI1D,KAAC6xD,CAAA,CA9oByC,CACNrpD,GAAAA,aAAS5C,KAAAA,GElDF,IAkBxB1Z,GADpBib,KCtBD,CAAgB,QAAU,4BDsBPxB,CAAAC,GAAA,SAAAC,IAAAnuF,EAAAA,GAAAA,GAAAw0E,EAAA2Z,GAAA,I,IAAAluF,G,EAAAu0E,E,maAEjB,SAAAA,EAAYxuE,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAA8iF,GACjBviF,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,4BAmBa,SAAC6/I,GAC1B7/I,EAAK+9C,SAAS,CACZutG,KAAM,gBACNzL,MAAAA,GAEJ,KAACrzI,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,4BAE0B,WAEzBA,EAAK+9C,SAAS,CACZutG,KAAM,aAEV,IA7BE,IAAMC,EAAYx3I,GAASA,EAAMzZ,KAC3Bm5C,EAAc83G,EAAYA,EAAU93G,YAAc,MAClDD,EAAe+3G,EAAYA,EAAU/3G,aAAe,MAQzD,OANDxzC,EAAK2W,MAAQ,CACX20I,KAAM,YACNzL,MAAO,CACLpsG,YAAAA,EACAD,aAAAA,IAEHxzC,CACH,CA0CC,OA1CAN,EAAAA,GAAAA,GAAA6iF,EAAA,EAAAxrF,IAAA,uBAAA6C,MAED,WACEklB,OAAO0sI,SAAS,CAAEp0D,IAAK,GACzB,GAAC,CAAArgG,IAAA,SAAA6C,MAgBD,WACE,IAAAwlD,EAAwB/rD,KAAKsjB,MAArB20I,EAAIlsG,EAAJksG,KAAMzL,EAAKzgG,EAALygG,MACN73I,EAAS3U,KAAK0gB,MAAd/L,KAEF3G,EACK,cAATiqJ,EACE7vD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,QAAQ+4F,eAAe,mBAE5CoF,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,YAAY+4F,eAAe,kBAGpD,OACEoF,KAAAA,cAAC4iD,GAAK,CAACr2I,KAAMA,EAAM3G,MAAOA,GACxBo6F,KAAAA,cAAA,OAAKC,UAAU,WACH,cAAT4vD,EACC7vD,KAAAA,cAACysD,GAAQ,CAACkC,YAAavK,EAAOqK,OAAQ72J,KAAKo4J,2BAE3ChwD,KAAAA,cAACkkD,GAAY,CAACE,MAAOA,EAAOE,OAAQ1sJ,KAAKq4J,4BAKnD,KAACnpE,CAAA,CA1DgB,CACgBkZ,KAAAA,aAAeQ,GEmIlD,SAAepB,IAAf,EApJA,SAAmB9mF,GACjB,IACEynD,EAoBEznD,EApBFynD,aACAmwF,EAmBE53I,EAnBF43I,UACAC,EAkBE73I,EAlBF63I,oBACAC,EAiBE93I,EAjBF83I,UACAC,EAgBE/3I,EAhBF+3I,eACAvzF,EAeExkD,EAfFwkD,WACAwzF,EAcEh4I,EAdFg4I,YACArzF,EAaE3kD,EAbF2kD,WACAszF,EAYEj4I,EAZFi4I,YACAC,EAWEl4I,EAXFk4I,aACAC,EAUEn4I,EAVFm4I,cACAC,EASEp4I,EATFo4I,UACAC,EAQEr4I,EARFq4I,iBACAC,EAOEt4I,EAPFs4I,iBACAC,EAMEv4I,EANFu4I,oBACAC,EAKEx4I,EALFw4I,oBACAC,EAIEz4I,EAJFy4I,iBACA/yF,EAGE1lD,EAHF0lD,QACAnI,EAEEv9C,EAFFu9C,YACAm7F,EACE14I,EADF04I,qBAGIC,EAAcF,EAUpB,OACE/wD,MAAA1qD,cAACstG,GAAK,CACJr2I,KAAM2jJ,EACNtqJ,MAAOo6F,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,aAAa+4F,eAAe,iBAExDoF,MAAA1qD,cAAA,WAAS2qD,UAAU,cACjBD,MAAA1qD,cAAA,KAAG2qD,UAAU,yBACXD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,uBACH+4F,eAAe,2JAIjBo2D,GACAhxD,MAAA1qD,cAAA,KAAG2qD,UAAU,WACXD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,yBACH+4F,eAAe,qHAKpB76B,GACCigC,MAAA1qD,cAAA,KAAG2qD,UAAU,WACXD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,mBAAmB+4F,eAAe,mCAI3DoF,MAAA1qD,cAAA,OAAK2qD,UAAS,eAAA3lG,OAAiBylE,GAAgBowF,EAAoB,GAAGe,SAAW,WAAa,KAC5FlxD,MAAA1qD,cAAC65G,GAAW,CACVhuE,MAAO6e,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,cAAc+4F,eAAe,SACzDgS,QACE5M,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,aACH+4F,eAAe,uFAGnButD,eAAgBkI,EAAer1F,YAC/B0uF,cAAe5sF,EAAW3+D,MAC1BsrJ,SAAUkH,EACV9uJ,GAAG,cACHwf,QAASivI,EAAYjvI,QACrBsK,WAAYwkI,EACZhf,YAAY,OACZxF,QAASklB,IAGX7wD,MAAA1qD,cAAA,OAAK2qD,UAAS,UAAA3lG,OAAY02J,EAAuB,GAAK,aACpDhxD,MAAA1qD,cAAC65G,GAAW,CACVhuE,MAAO6e,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,cAAc+4F,eAAe,QACzDgS,QACE5M,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,aACH+4F,eAAe,mDAGnButD,eAAgBkI,EAAep1F,YAC/ByuF,cAAezsF,EAAW9+D,MAC1BsrJ,SAAUmH,EACV/uJ,GAAG,cACHwf,QAASkvI,EAAYlvI,QACrBsK,WAAYykI,EACZjf,YAAY,OACZxF,QAASmlB,IAGVG,EACCF,EACE/wD,MAAA1qD,cAACkuD,GAAM,CACLjM,SAAUi5D,EACVtwD,QA9EK,WACnBliC,EAAQsyF,EAAaD,EAAer1F,YAAY78D,MAClD,EA6EgB6lB,QAAS0sI,EACTzuD,WAAS,EACTE,OAAK,GAELnC,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,4BACH+4F,eAAe,kBACfl9F,OAAQ,CAAE8rB,MAAOszC,EAAWvwD,SAIhCyzF,MAAA1qD,cAACkuD,GAAM,CACLjM,SAAUi5D,EACVtwD,QAxFK,WACnBliC,EAAQuyF,EAAaF,EAAep1F,YAAY98D,MAClD,EAuFgB6lB,QAAS0sI,EACTzuD,WAAS,EACTE,OAAK,GAELnC,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,4BACH+4F,eAAe,kBACfl9F,OAAQ,CAAE8rB,MAAOyzC,EAAW1wD,SAKlCyzF,MAAA1qD,cAACkuD,GAAM,CACLjM,SAAUk5D,EACVvwD,QAASrqC,EACT7xC,QAAS0sI,EACTzuD,WAAS,EACTE,OAAK,GAELnC,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,SAAS+4F,eAAe,eAQ7D,GCxJA,CAAgB,WAAa,2BAA2B,sBAAwB,2BAA2B,QAAU,2BAA2B,YAAc,2BAA2B,SAAW,2BAA2B,OAAS,2BAA2B,aAAe,4BD0JrO,CAAEkH,eAAe,IEnH9D,IAAMqvD,GAAuB,CAAC,CAC5B1kJ,WAAY,IACZsd,UAAW,IACXxd,KAAM,IACN2kJ,UAAU,IAGNnqE,GAAU,SAAAkc,IAAA3wF,EAAAA,GAAAA,GAAAy0E,EAAAkc,GAAA,I,IAAA1wF,G,EAAAw0E,E,maACd,SAAAA,EAAYzuE,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAA+iF,GACjBxiF,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAyFA,SAACxB,GACbyO,QAAQrQ,MAAM,wBAAyB,eACvCqQ,QAAQzO,MAAMA,GACdyO,QAAQy2B,WAERoI,GAAAA,cAAAA,KAA2B39B,GAAAA,cAAAA,kBAA2C,CACpE3P,MAAOA,EAAMikC,UAGfuT,GAAAA,QAAAA,OAAwBx3C,EAAMikC,QAChC,KAACj2B,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAEe,WACd,IAAQu4D,EAAev4D,EAAK2W,MAApB4hD,WAERv4D,EAAK+9C,UAAS,iBAAO,CACnBn7C,QAAS8lC,GAAAA,YAA2B6vB,EAAWrwD,YAAcqwD,EAAW3+D,MAAMsW,eAC/E,GACH,KAAC1D,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAEiB,SAAConB,EAAYmxC,GAC7B,OAAOnxC,EAAW3kB,QAChB,SAAClK,GAAI,OAAKA,EAAK2P,aAAeqwD,EAAWrwD,YAAc3P,EAAKqB,QAAU2+D,EAAW3+D,KAAK,GAE1F,KAAC4S,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAEiB,WAChB,IAAQ44I,EAAkB54I,EAAK+T,MAAvB6kI,cACRx5F,EAAmCp/C,EAAK2W,MAAhC4hD,EAAUnZ,EAAVmZ,WAAYnxC,EAAUg4B,EAAVh4B,WAEdykI,EAAY7rJ,EAAK6sJ,gBAAgBzlI,EAAYmxC,GAE9CszF,EAAUv4J,OAMb0M,EAAK+9C,UAAS,iBAAO,CACnB8tG,UAAAA,EACAnzF,WAAYmzF,EAAU,GACtBn1F,YAAa,IACbs1F,YAAalgH,GAAAA,KAAAA,UAAuB,CAAE9uB,SAAU6uI,EAAU,GAAGjyJ,QAC7D6yJ,sBAAsB,EACvB,IAXDzsJ,EAAK+9C,UAAS,iBAAO,CACnB8tG,UAAWjT,EACX6T,sBAAsB,EACvB,GAUL,KAACjgJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,yBAAAJ,GAAAyU,EAAAA,EAAAA,GAAAC,IAAAA,MAES,SAAAO,EAAOjR,EAAQsc,GAAM,IAAAqI,EAAA,OAAAjU,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OAG1B,OAFHqG,EAAK+9C,UAAS,iBAAO,CACnBouG,WAAW,EACZ,IAAEr3I,EAAAxZ,KAAA,EAAAwZ,EAAAnb,KAAA,EAGkBmyC,GAAQloC,EAAO0E,UAAUmxD,QAAQ,CAClDz1B,GAAI0E,GAAAA,WAA0B9kC,EAAOmc,aAAa3kB,eAClD4M,KAAMpE,EAAOoc,SACbE,OAAAA,IACA,OAJIqI,EAAIzT,EAAAC,KAMV+2B,GAAAA,cAAAA,KAA2B39B,GAAAA,cAAAA,YAAqC,CAC9D27B,KAAM1tB,GAAa63E,QAAQrwF,EAAOmc,aAAa3kB,cAAemtB,GAC9DukI,WAAW,IAGb1+F,GAAgB,sBAAuBxqD,EAAOoc,SAAUE,EAAQi+F,KAEhEn+G,EAAKssJ,sBACLtsJ,EAAKusJ,sBAAqBz3I,EAAAnb,KAAA,iBAAAmb,EAAAxZ,KAAA,GAAAwZ,EAAAgC,GAAAhC,EAAA,SAE1B9U,EAAK64C,YAAW/jC,EAAAgC,IAAO,QAIpB,OAJoBhC,EAAAxZ,KAAA,GAEvB0E,EAAK+9C,UAAS,iBAAO,CACnBouG,WAAW,EACZ,IAAEr3I,EAAAwuF,OAAA,6BAAAxuF,EAAAJ,OAAA,GAAAG,EAAA,yBAEN,gBAAAG,EAAAa,GAAA,OAAAjW,EAAAwT,MAAA,KAAAhf,UAAA,EA9BA,KA8BAoY,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEkB,SAAAC,IAAA,IAAAvM,EAAA83C,EAAAl9C,EAAAmpJ,EAAAC,EAAAv1F,EAAAC,EAAA9kC,EAAA,OAAAtd,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OAMd,OALKqO,EAAShI,EAAK+T,MAAd/L,KAAI83C,EAC4D9/C,EAAK2W,MAArE/T,EAAOk9C,EAAPl9C,QAASmpJ,EAAWjsG,EAAXisG,YAAaC,EAAWlsG,EAAXksG,YAAav1F,EAAW3W,EAAX2W,YAAaC,EAAW5W,EAAX4W,YAExD12D,EAAK+9C,UAAS,iBAAO,CACnBouG,WAAW,EACZ,IAAEv3I,EAAAtZ,KAAA,EAAAsZ,EAAAjb,KAAA,EAG2BmyC,GAAAA,QAAAA,iBAAiC,CAC3DjkB,QAASjlB,EAAQklB,eACjB/H,aAAcgsI,EAAYhsI,aAAa3kB,cACvCg7D,aAAc21F,EAAY1oJ,QAC1BgzD,kBAAmB01F,EAAYv2F,gBAC/Bc,mBAAoBy1F,EAAY77H,SAChCqmC,kBAAmBy1F,EAAYx2F,gBAC/BgB,mBAAoBw1F,EAAY97H,SAChCumC,YAAAA,EACAC,YAAAA,IACA,OAG8C,GAb1C9kC,EAAahd,EAAAG,KAYnB/U,EAAK+sJ,kBAAkBhB,EAAat1F,GACpCz2D,EAAK+sJ,kBAAkBf,EAAat1F,IAEhC9kC,IAAYA,EAASo7H,QAAO,CAAAp4I,EAAAjb,KAAA,gBAAAib,EAAAjb,KAAA,GACxBmyC,GAAAA,QAAAA,sBAAsC,CAC1CjkB,QAASjlB,EAAQklB,eACjBswB,MAAO2zG,EAAY1oJ,UACnB,QAEFyoC,GAAAA,OAAAA,MAAqB9jC,GACrB8jC,GAAAA,cAAAA,KAA2B39B,GAAAA,cAAAA,QAAiC,CAC1Ds0B,QACEg5D,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,oBACH+4F,eAAe,8CAGnBzhF,EAAAjb,KAAA,iBAEFmyC,GAAAA,cAAAA,KAA2B39B,GAAAA,cAAAA,QAAiC,CAC1Ds0B,QACEg5D,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,yBACH+4F,eAAe,4CAGnB,QAAAzhF,EAAAjb,KAAA,iBAAAib,EAAAtZ,KAAA,GAAAsZ,EAAAkC,GAAAlC,EAAA,SAGJ5U,EAAK64C,YAAWjkC,EAAAkC,IAAO,QAIpB,OAJoBlC,EAAAtZ,KAAA,GAEvB0E,EAAK+9C,UAAS,iBAAO,CACnBouG,WAAW,EACZ,IAAEv3I,EAAA0uF,OAAA,6BAAA1uF,EAAAF,OAAA,GAAAH,EAAA,2BAEN/H,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kCAAAkV,GAAAb,EAAAA,EAAAA,GAAAC,IAAAA,MAEkB,SAAAkB,EAAO5b,GAAK,IAAAmyJ,EAAA,OAAAz3I,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,OACvBoyJ,EAAcjgH,GAAAA,KAAAA,UAAuB,CAAE9uB,SAAUpjB,EAAMA,QAE7DoG,EAAK+9C,UACH,iBAAO,CACLwa,WAAY3+D,EACZmyJ,YAAAA,EACD,IACD,WACE/rJ,EAAKssJ,sBACLtsJ,EAAKitJ,gBACLjtJ,EAAKktJ,iBACP,IACD,wBAAAx3I,EAAAhB,OAAA,GAAAc,EAAA,KACF,gBAAAG,GAAA,OAAAT,EAAA9B,MAAA,KAAAhf,UAAA,EAhBA,KAgBAoY,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAEkB,SAACpG,GAClB,IAAMoyJ,EAAclgH,GAAAA,KAAAA,UAAuB,CAAE9uB,SAAUpjB,EAAMA,QAE7DoG,EAAK+9C,UACH,iBAAO,CACL2a,WAAY9+D,EACZoyJ,YAAAA,EACD,IACD,WACEhsJ,EAAKusJ,qBACP,GAEJ,KAAC//I,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAEmB,SAAC4D,EAAQsc,GAC3B,IAAMitI,EAAoB/+F,GACxB,sBACAxqD,EAAOoc,SACPE,EACAi+F,KAGF/vD,GACE,sBACAxqD,EAAOoc,SACP,IAAI0Q,GAAAA,EAAUy8H,GAAc56F,MAAMryC,GAClCi+F,IAEJ,KAAC3xG,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEqB,SAAAa,IAAA,IAAAynF,EAAAmvD,EAAAt1F,EAAA7d,EAAA,OAAAtkC,IAAAA,MAAA,SAAAe,GAAA,cAAAA,EAAA/Z,KAAA+Z,EAAA1b,MAAA,OAEwD,GAFxDijG,EACiB58F,EAAK2W,MAAlCo1I,EAAWnvD,EAAXmvD,YAAat1F,EAAWmmC,EAAXnmC,YACjB7d,EAAYsV,GAAgB,sBAAuB69F,EAAY/rI,UAEnD,CAAF3K,EAAA1b,KAAA,eAAA0b,EAAA1b,KAAA,EACMqG,EAAKotJ,oBAAoBrB,GAAY,OAAvDnzG,EAASvjC,EAAAN,KAAA,OAGX/U,EAAK+9C,UAAS,iBAAO,CACnByuG,iBAAkB,IAAI97H,GAAAA,EAAUkoB,GAAW4gB,WAAW/C,GACvD,IAAE,wBAAAphD,EAAAX,OAAA,GAAAS,EAAA,OACJ3I,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEqB,SAAA0B,IAAA,IAAA+xF,EAAAikD,EAAA,OAAA13I,IAAAA,MAAA,SAAAmC,GAAA,cAAAA,EAAAnb,KAAAmb,EAAA9c,MAAA,OAEwD,GAFxDouG,EACiB/nG,EAAK2W,MAAlCq1I,EAAWjkD,EAAXikD,YAAwBjkD,EAAXrxC,YACLxI,GAAgB,sBAAuB89F,EAAYhsI,UAEnD,CAAFvJ,EAAA9c,KAAA,eAAA8c,EAAA9c,KAAA,EACMqG,EAAKotJ,oBAAoBpB,GAAY,OAA9Cv1I,EAAA1B,KAAA,wBAAA0B,EAAA/B,OAAA,GAAAsB,EAAA,OAEZxJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qCAAA+V,GAAA1B,EAAAA,EAAAA,GAAAC,IAAAA,MAEqB,SAAAiD,EAAO3T,GAAM,OAAA0Q,IAAAA,MAAA,SAAAoD,GAAA,cAAAA,EAAApc,KAAAoc,EAAA/d,MAAA,cAAA+d,EAAA/d,KAAA,EACpBwgD,GAAUv2C,EAAO0E,UAAUixD,eAAe,CACrDnhB,MAAOx0C,EAAOP,QACdg1C,QAAS3P,GAAAA,WAA0B9kC,EAAOmc,aAAa3kB,eACvDk9C,SAAU10C,EAAO4xD,gBACjBtlC,SAAUtsB,EAAOssB,WACjB,cAAAxY,EAAApC,OAAA,SAAAoC,EAAA3C,MAAA,wBAAA2C,EAAAhD,OAAA,GAAA6C,EAAA,KACH,gBAAA3B,GAAA,OAAAG,EAAA3C,MAAA,KAAAhf,UAAA,EATA,KASAoY,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAEqB,WACpB,IAAA0iI,EAAkD1iI,EAAK2W,MAA/C8/C,EAAWisE,EAAXjsE,YAAaC,EAAWgsE,EAAXhsE,YAAaq1F,EAAWrpB,EAAXqpB,YAE5BsB,EAAgB,SAACntI,GACrB,OAAO,IAAIwQ,GAAAA,EAAUxQ,GAAQvG,SAAW,IAAI+W,GAAAA,EAAUxQ,GAAQse,UAAU,EAC1E,EAEA,OACE6uH,EAAc52F,IACd42F,EAAc32F,IACd,IAAIhmC,GAAAA,EAAUq7H,EAAYjvI,SAAS08C,WAAW/C,EAElD,IAxTE,IAAQmiF,EAAkB7kI,EAAlB6kI,cACR0U,EAAmCxhH,GAAAA,QAAAA,iBAAiC,CAClE1kB,WAAYwxH,EACZjkD,YAAY,IAFRvtE,EAAUkmI,EAAVlmI,WAAYo0C,EAAY8xF,EAAZ9xF,aAKdixF,GAAuB,GAEvBjxF,GAAiBp0C,EAAW9zB,SAC9B8zB,EAAawlI,IAEGt5J,SAAQm5J,GAAuB,GAGjD,IAAMl0F,EAAanxC,EAAW,GACxB2kI,EAAcjgH,GAAAA,KAAAA,UAAuB,CAAE9uB,SAAUu7C,EAAW3+D,QAC5DgJ,EAAU8lC,GAAAA,YAA2B6vB,EAAWrwD,YAAcqwD,EAAW3+D,MAAMsW,eAEjF27I,EAAY7rJ,EAAK6sJ,gBAAgBzlI,EAAYmxC,GAE5CszF,EAAUv4J,SACbu4J,EAAYe,GACZH,GAAuB,GAGzB,IAAM/zF,EAAamzF,EAAU,GACvBG,EAAclgH,GAAAA,KAAAA,UAAuB,CAAE9uB,SAAU07C,EAAW9+D,QAgBjE,OAdDoG,EAAK2W,MAAQ,CACX/T,QAAAA,EACA44D,aAAAA,EACAp0C,WAAAA,EACAykI,UAAAA,EACAE,YAAAA,EACAC,YAAAA,EACAzzF,WAAAA,EACAG,WAAAA,EACAjC,YAAa,GACb+1F,kBAAkB,EAClB91F,YAAa,GACby1F,WAAW,EACXM,qBAAAA,GACDzsJ,CACH,CA6TC,OA7TAN,EAAAA,GAAAA,GAAA8iF,EAAA,EAAAzrF,IAAA,qBAAA6C,MAED,SAAmBiuG,EAAWC,GAC5B,IAAAjL,EAAyCxpG,KAAK0gB,MAAtC6kI,EAAa/7C,EAAb+7C,cAAe2U,EAAa1wD,EAAb0wD,cACDC,EAAiD1lD,EAA/DtsC,aAA4CiyF,EAAmB3lD,EAA/B1gF,WAChCmxC,EAAellE,KAAKsjB,MAApB4hD,WAEFm1F,EAA4BriJ,GAASwiC,qBAErC8/G,EAA+BtiJ,GAASokD,6BAA6B8I,EAAW3+D,OAUtF,GAPEyR,GAAS2F,gBAENw8I,IAAqBG,GAAgCD,KAEpDF,IAAqBG,GAGX,CACd,IAAAC,EAAmC9hH,GAAAA,QAAAA,iBAAiC,CAClE1kB,WAAYwxH,EACZ2U,cAAAA,IAFInmI,EAAUwmI,EAAVxmI,WAAYo0C,EAAYoyF,EAAZpyF,aAKdA,IACFp0C,EAAaqmI,GAGf,IAAIl1F,EAAanxC,EAAW,GACxBykI,EAAYx4J,KAAKw5J,gBAAgBzlI,EAAYmxC,GAC7CG,EAAamzF,EAAU,GAE3Bx4J,KAAK0qD,UAAS,iBAAO,CACnByd,aAAAA,EACAp0C,WAAAA,EACAmxC,WAAAA,EACAszF,UAAAA,EACAnzF,WAAAA,EACA91D,QAAS8lC,GAAAA,YAA2B6vB,EAAWrwD,YAAcqwD,EAAW3+D,MAAMsW,eAC/E,GACH,CACF,GAAC,CAAAnZ,IAAA,SAAA6C,MAqOD,WACE,IAAQoO,EAAS3U,KAAK0gB,MAAd/L,KACR07H,EAWIrwI,KAAKsjB,MAVPyQ,EAAUs8G,EAAVt8G,WACAykI,EAASnoB,EAATmoB,UACAtzF,EAAUmrE,EAAVnrE,WACAG,EAAUgrE,EAAVhrE,WACAqzF,EAAWroB,EAAXqoB,YACAC,EAAWtoB,EAAXsoB,YACAG,EAASzoB,EAATyoB,UACAK,EAAgB9oB,EAAhB8oB,iBACAC,EAAoB/oB,EAApB+oB,qBACAjxF,EAAYkoE,EAAZloE,aAGIivF,EAAS1hB,GAAAA,IAAS11I,KAAM,cAAe,eACvC64J,EAAgB74J,KAAKw6J,wBAA0BpB,GAAwBN,EAIvEF,EAAeC,EAErB,OACEzwD,MAAA1qD,cAAC+8G,GAAS,CACRtyF,aAAcA,EACdixF,qBAAsBA,EACtBd,UAAW3jJ,EACX8jJ,eAAgBrB,EAChBmB,oBAAqBxkI,EACrBykI,UAAWA,EACXtzF,WAAYA,EACZwzF,YAAaA,EACbrzF,WAAYA,EACZszF,YAAaA,EACbC,aAAcA,EACdC,cAAeA,EACfC,UAAWA,EACXC,iBAAkB/4J,KAAK+4J,iBACvBE,oBAAqBj5J,KAAKi5J,oBAC1BC,oBAAqBl5J,KAAKk5J,oBAC1BC,iBAAkBA,EAClBH,iBAAkBh5J,KAAKg5J,iBACvB5yF,QAASpmE,KAAKomE,QACdnI,YAAaj+D,KAAK8iE,kBAGxB,KAACqsB,CAAA,CA5Wa,CAASqc,GAAAA,WA+WzB,UAAetwC,EAAAA,EAAAA,KAAQ,SAAAp3C,GAAA,IAAGiQ,EAAUjQ,EAAViQ,WAAY4B,EAAI7R,EAAJ6R,KAAI,MAAQ,CAChD4vH,cAAexxH,EAAWha,MAC1ByR,WAAYmK,EAAKnK,WAClB,GAHD,CAGI2jE,ICvYJ,GAAegb,IAAf,EAbmB,SAAH59F,GAAA,IAAMJ,EAAQI,EAARJ,SAAUuuJ,EAAKnuJ,EAALmuJ,MAAOC,EAAUpuJ,EAAVouJ,WAAYC,EAAcruJ,EAAdquJ,eAAc,OAC/DxyD,KAAAA,cAAA,OACEC,UAAW8C,KACT,QACA,CAAEuvD,MAAOA,GACT,CAAEC,WAAYA,GACd,CAAEC,eAAgBA,KAGnBzuJ,EACG,GCtBR,CAAgB,MAAQ,2BAA2B,eAAiB,2BAA2B,WAAa,2BAA2B,MAAQ,4BDyBjG,CAAE+9F,eAAe,I,gBEE/D,SAAe1C,IAAf,EAnBW,SAAHj7F,GAAA,IAAM0iJ,EAAQ1iJ,EAAR0iJ,SAAU4L,EAAUtuJ,EAAVsuJ,WAAuB,OAAAtuJ,EAAXuuJ,YAClC1yD,KAAAA,cAAA,OAAKC,UAAU,QACbD,KAAAA,cAAA,QAAMC,UAAU,QAAQC,QAAS2mD,GAAU,KAG3C7mD,KAAAA,cAAC2yD,GAAAA,EAAQ,CACPzuG,YAAa,CAAE0uG,WAAY,CAAEC,MAAO,gBACpCC,SAAU,SAACl5J,EAAQmJ,GACXnJ,GACJ64J,EAAW74J,aAAM,EAANA,EAAQq7C,UAGvB,IAEE,GCtBR,CAAgB,KAAO,2BAA2B,MAAQ,4BD2BpB,CAAE6sD,eAAe,IEmBvD,GAAeC,IAAf,EA9ByB,SAACzpF,GACxB,IAAQiqE,EAAgBjqE,EAAhBiqE,YAEJwwE,EAAc,WAAHz4J,OAAeioF,EAAYp7B,YAAeo7B,EAAYp7B,YAAco7B,EAAYL,aAS/F,OAPA6wE,EAAc,GAAHz4J,OAAMy4J,EAAW,YAAAz4J,OAAWioF,EAAY99D,QACnDsuI,EAAc,GAAHz4J,OAAMy4J,EAAW,mBAAAz4J,OAAkBioF,EAAY1gF,GAAE,KAAAvH,OAAIioF,EAAYorD,eAExEprD,EAAYpB,QACd4xE,EAAc,GAAHz4J,OAAMy4J,EAAW,aAAAz4J,OAAYg+F,UAAU/V,EAAYpB,SAI9D6e,KAAAA,cAAA,OAAKC,UAAU,oBACbD,KAAAA,cAAA,UACEA,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,wBAAwB+4F,eAAe,2CAA2Cl9F,OAAQ6kF,KAEhHA,EAAYpB,OACX6e,KAAAA,cAAA,YAAOzd,EAAYpB,OAEC,QAArBoB,EAAY/1E,MACXwzF,KAAAA,cAAA,KAAGkK,KAAM6oD,GACP/yD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,iCAAiC+4F,eAAe,iCAGzEoF,KAAAA,cAAA,WAGN,GC5CA,CAAgB,iBAAmB,4BD8CiB,CAAE8B,eAAe,IEpBrE,GAAeC,IAAf,EAtB0B,SAACzpF,GACzB,IACE4X,EAGE5X,EAHF4X,IACA4E,EAEExc,EAFFwc,IACAvT,EACEjJ,EADFiJ,SAGF,OACEy+E,KAAAA,cAAA,OAAKC,UAAU,qBACbD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,mBACH+4F,eAAe,kEACfl9F,OAAQ,CACNwyB,IAAAA,EACA4E,IAAAA,EACAvT,SAAAA,KAKV,GCxBA,CAAgB,kBAAoB,6BD0BiB,CAAEugF,eAAe,IE1BtE,IAAgB,KAAO,2BAA2B,OAAS,2BAA2B,KAAO,2BAA2B,YAAY,2BAA2B,QAAU,2BAA2B,QAAU,2BAA2B,WAAa,2BAA2B,QAAU,4BAA4B,OAAS,2BAA2B,SAAW,4BAA4B,WAAa,2BAA2B,MAAQ,2BAA2B,MAAQ,2BAA2B,UAAY,2BAA2B,UAAY,2BAA2B,SAAW,2BAA2B,gBAAkB,2BAA2B,mBAAqB,2BAA2B,UAAY,4BAA4B,oBAAsB,2BAA2B,OAAS,2BAA2B,WAAa,2BAA2B,OAAS,2BAA2B,sBAAwB,2BAA2B,kBAAoB,2BAA2B,QAAU,2BAA2B,cAAgB,4BAA4B,wBAA0B,2BAA2B,KAAO,2BAA2B,iBAAmB,2BAA2B,qBAAuB,2BAA2B,yBAA2B,2BAA2B,+BAAiC,2BAA2B,UAAY,2BAA2B,qBAAuB,2BAA2B,kBAAoB,2BAA2B,OAAS,2BAA2B,SAAW,2BAA2B,OAAS,2BAA2B,IAAM,4BCsClmD,GAAeC,IAAf,EAxBa,SAAH59F,GAAmE,IAA7DJ,EAAQI,EAARJ,SAAUwkC,EAAEpkC,EAAFokC,GAAIyqH,EAAQ7uJ,EAAR6uJ,SAAUC,EAAG9uJ,EAAH8uJ,IAAK7oD,EAAGjmG,EAAHimG,IAAKpI,EAAS79F,EAAT69F,UAChD,OAAIz5D,EAEAy3D,KAAAA,cAACkzD,GAAAA,GAAO,CAACjzD,UAAU,OAAO13D,GAAIA,GAC3BxkC,GAMLi8F,KAAAA,cAAA,KACEC,UAAU,OACV+B,UAAWA,EACXkI,KAAM8oD,GAAYC,EAElBpxD,OAAQoxD,EAAM,SAAW,KAEzB7oD,IAAKA,GAAO,MAEXrmG,EAGP,GCpCA,CAAgB,KAAO,8BCGvB,I,GAAMovJ,GAAc,SAAC76I,GACnB,IAAQmR,EAAqCnR,EAArCmR,OAAQ60D,EAA6BhmE,EAA7BgmE,QAAShX,EAAoBhvD,EAApBgvD,MAAOvjE,EAAauU,EAAbvU,SAC1BqvJ,EAAc3pI,EAAO9pB,cACvB+tB,EAAM,IAcV,OAVI4wD,GAA2B,QAAhB80E,EACb1lI,EAAMxH,GAAAA,IAAAA,UACGohD,EACT55C,EAAMxH,GAAAA,IAAAA,OACmB,UAAhBktI,EACT1lI,EAAMxH,GAAAA,IAAAA,UACmB,SAAhBktI,IACT1lI,EAAMxH,GAAAA,IAAAA,cAGD85E,KAAAA,cAACqzD,GAAI,CAACJ,IAAKvlI,GAAM3pB,EAC1B,EAEMuvJ,GAAe,SAACh7I,GACpB,IACEmR,EAMEnR,EANFmR,OACA7hB,EAKE0Q,EALF1Q,QACA7D,EAIEuU,EAJFvU,SACAg2D,EAGEzhD,EAHFyhD,gBACAukB,EAEEhmE,EAFFgmE,QACAhX,EACEhvD,EADFgvD,MAEI8rF,EAAc3pI,EAAO9pB,cACvB0uC,EAAO,IAcX,OAVIiwC,GAA2B,QAAhB80E,EACb/kH,EAAOnoB,GAAAA,KAAAA,UACEohD,EACTj5B,EAAOnoB,GAAAA,KAAAA,OACkB,UAAhBktI,EACT/kH,EAAOnoB,GAAAA,KAAAA,UACkB,SAAhBktI,IACT/kH,EAAOnoB,GAAAA,KAAAA,cAIP85E,KAAAA,cAAAA,KAAAA,SAAA,KACmB,SAAhBozD,EACGpzD,KAAAA,cAACqzD,GAAI,CAACJ,IAAG,GAAA34J,OAAK+zC,EAAI,eAAA/zC,OAAcsN,IAAY7D,GAC5Cu6E,EACA0hB,KAAAA,cAACqzD,GAAI,CAACJ,IAAG,GAAA34J,OAAK+zC,EAAI,WAAA/zC,OAAUy/D,EAAe,OAAAz/D,OAAMsN,IAAY7D,GAC7Di8F,KAAAA,cAACqzD,GAAI,CAACJ,IAAG,GAAA34J,OAAK+zC,EAAI,aAAA/zC,OAAYsN,IAAY7D,GAIpD,E,ykBCpDe,SAASwvJ,GAAcj7I,GACpC,IACEq9B,EAKEr9B,EALFq9B,MACAp0B,EAIEjJ,EAJFiJ,SACAw4C,EAGEzhD,EAHFyhD,gBACAnyD,EAEE0Q,EAFF1Q,QACA4rJ,EACEl7I,EADFk7I,YASIC,EACJzzD,KAAAA,cAACyoC,GAAO,CACN7gI,QAASA,EACT8tC,OAAQ4e,GAAcs0E,MACtBjzF,MAAK1mC,GAAAA,GAAA,GAAO0mC,GAVQ,CACtBiiG,SAAU,OACV8b,WAAY,OACZ73G,MAAO,yBAWT,OACEmkD,KAAAA,cAAA,WACIwzD,EAIEC,EAHFzzD,KAAAA,cAACszD,GAAY,CAAC7pI,OAAQlI,EAAUw4C,gBAAiBA,EAAiBnyD,QAASA,GACxE6rJ,GAKX,CC5BkD,I,GAG7BE,GADpB5xD,KCXD,CAAgB,KAAO,2BAA2B,cAAgB,2BAA2B,OAAS,2BAA2B,IAAM,2BAA2B,kBAAoB,2BAA2B,OAAS,2BAA2B,kBAAoB,2BAA2B,QAAU,4BAA4B,cAAgB,2BAA2B,iBAAmB,2BAA2B,qBAAuB,2BAA2B,SAAW,4BDW5c,CAAED,eAAe,GAAOvB,CAAAC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAAqhJ,EAAA1wD,GAAA,I,IAAA1wF,G,EAAAohJ,E,maAE1C,SAAAA,EAAYr7I,GAAO,IAAA/T,EAKhB,OALgBP,EAAAA,GAAAA,GAAA,KAAA2vJ,GACjBpvJ,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,aAOF,SAACyD,GACX,IAAQ65F,EAAW75F,EAAX65F,OACFtgF,EAAgCsgF,EAAhCtgF,SAAU3Z,EAAsBi6F,EAAtBj6F,QAAS2c,EAAas9E,EAAbt9E,SAEzBhgB,EAAK+9C,SAAS,CACZsxG,cAAc,IACb,WACD,IAAAxyD,EAGI78F,EAAK+T,MAFP8U,EAAOg0E,EAAPh0E,QACQghB,EAAMgzD,EAAdnG,KAAQ7sD,OAGV,OAAQ7sB,EAAS5hB,eACf,IAAK,iBACL,IAAK,sBACH4hB,EAAW,MAGf,IAAMsyI,EAAc,GAAHv5J,OAAMiqB,EAAW,UAAHjqB,OAAaiqB,GAAQ,IAAAjqB,OAASinB,GAAU,KAAAjnB,OAAIsN,EAAO,SAG9EwlB,EAAQuhB,SAASk/C,WAAagmE,GAChCzmI,EAAQt1B,KACN+uG,GAAaz4D,EAAQylH,GAG3B,GACF,KAAC9iJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,aAEW,WACVA,EAAK+9C,UAAS,iBAAO,CACnBsxG,cAAc,EACf,GACH,KAAC7iJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAEmB,WAClBA,EAAK+9C,UAAS,SAACpnC,GAAK,MAAM,CACxB04I,cAAe14I,EAAM04I,aACtB,GACH,KAAC7iJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAEmB,SAACuvJ,EAAe/3H,GAClC,OAAOrmB,GAA6B,CAClCvX,MAAO21J,EACP/3H,KAAAA,GAEJ,IAnDEx3B,EAAK2W,MAAQ,CACX04I,cAAc,GACfrvJ,CACH,CAyLC,OAzLAN,EAAAA,GAAAA,GAAA0vJ,EAAA,EAAAr4J,IAAA,SAAA6C,MAkDD,WAAS,IAAA41J,EAAAC,EAAAngJ,EAAA,KACPyvF,EAOI1rG,KAAK0gB,MANPqgI,EAAgBr1C,EAAhBq1C,iBACAuU,EAAc5pD,EAAd4pD,eACA3rI,EAAQ+hF,EAAR/hF,SACA6B,EAAUkgF,EAAVlgF,WACA6wI,EAAS3wD,EAAT2wD,UACA7nH,EAAck3D,EAAdl3D,eAIAwnH,EACEh8J,KAAKsjB,MADP04I,aAGI/mJ,EAAwC,QAAhCknJ,EAAGpb,EAAiB1M,oBAAY,IAAA8nB,OAAA,EAA7BA,EAA+BlnJ,SAC1CqnJ,IAAcvb,SAAmC,QAAnBqb,EAAhBrb,EAAkBj3H,yBAAiB,IAAAsyI,IAAnCA,EAAqC1gH,aACrD17C,KAAKu8J,kBAAkBjH,EAAgBvU,EAAiBj3H,kBAAkB4xB,YAG9E,OACE0sD,MAAA1qD,cAAC2zG,GAAY,CAACE,cAAevxJ,KAAKw8J,WAChCp0D,MAAA1qD,cAAA,OACEzzC,GAAG,uBACHo+F,UAAU,oBACVC,QAAStoG,KAAKy8J,mBAEdr0D,MAAA1qD,cAAA,OAAK2qD,UAAU,QACbD,MAAA1qD,cAACsjG,GAAI,CAACrsI,KAAMosI,EAAiBp3H,YAG/By+E,MAAA1qD,cAAA,WACE0qD,MAAA1qD,cAAA,SACGqjG,EAAiBp3H,SACjB1U,GAAYmzF,MAAA1qD,cAAA,QAAM2qD,UAAU,iBAAiBpzF,EAAS4H,gBAEzDurF,MAAA1qD,cAAA,QAAM2qD,UAAU,WAAW7zD,GAC3B4zD,MAAA1qD,cAAA,QAAM2qD,UAAU,iBACb/vC,EAAAA,GAAW8vC,MAAA1qD,cAACi+G,GAAa,CAAC3rJ,QAASwkC,EAAgBonH,aAAW,IAAM,KAIzExzD,MAAA1qD,cAAA,OAAK2qD,UAAU,UACbD,MAAA1qD,cAAA0qD,MAAAuB,SAAA,KACG7rF,GAA6B,CAC5BvX,MAAO+uJ,EACP35D,mBAAoB,IAClB,IACHx5C,GAAex4B,GAAU,GAAM9M,eAGlCurF,MAAA1qD,cAAA,QAAM2qD,UAAU,OACbi0D,GACCl0D,MAAA1qD,cAAA0qD,MAAAuB,SAAA,KACG2yD,EAAY,IAAE9wI,KAKvB48E,MAAA1qD,cAAA,OAAK2qD,UAAW8C,KAAG,oBAAqB,CAAEv1B,OAAQomF,OAGnDA,GACC5zD,MAAA1qD,cAAA,OAAK2qD,UAAU,oBACZg0D,EAAUj7J,KAAI,SAAC8D,EAAMqC,GACpB,GAAKouB,GAA2BzwB,GAAhC,CAEA,IACEwnB,EASExnB,EATFwnB,aACA/C,EAQEzkB,EARFykB,SACAF,EAOEvkB,EAPFukB,QACAI,EAME3kB,EANF2kB,aACAD,EAKE1kB,EALF0kB,SACA3U,EAIE/P,EAJF+P,SACAjF,EAGE9K,EAHF8K,QACA8Z,EAEE5kB,EAFF4kB,kBAGI4yI,EADFx3J,EADF4wC,QAE2BqM,GAAex4B,GAAU,GAAM+3B,WAAW,IAAD,IAAS7kC,cAAgBslC,GAAex4B,GAAU,GAAM9M,cAExH8/I,IAAkB7yI,UAAAA,EAAmB4xB,aACvCz/B,EAAKsgJ,kBAAkB9yI,EAASK,aAAiB,EAAjBA,EAAmB4xB,YAGjDkhH,EAAS,GAAHl6J,OACVgqB,EAAeA,EAAa3kB,cAAgB,IAAErF,OAC7CinB,EAAS5hB,eAEZ,OACEqgG,MAAA1qD,cAAA,OAAKzzC,GAAE,GAAAvH,OAAKk6J,EAAM,QAAQl5J,IAAK6D,EAC7B8gG,UAAW8C,KAAG,yCAA0C,CACtDxL,UAAWl2E,GAAWI,IAExBy+E,QAAS,kBAAMrsF,EAAK4gJ,UAAU,CAAE5yD,OAAQ/kG,GAAO,GAE/CkjG,MAAA1qD,cAACsjG,GAAI,CAACrsI,KAAMzP,EAAKykB,WAEjBy+E,MAAA1qD,cAAA,WACE0qD,MAAA1qD,cAAA,SACG9zB,EACA3U,GAAYmzF,MAAA1qD,cAAA,QAAM2qD,UAAU,iBAAiBpzF,EAAS4H,gBAEzDurF,MAAA1qD,cAAA,QAAM2qD,UAAU,WAAWr4F,GAC3Bo4F,MAAA1qD,cAAA,QAAM2qD,UAAU,iBACb/vC,EAAAA,GAAW8vC,MAAA1qD,cAACi+G,GAAa,CAAC3rJ,QAASA,EAAS4rJ,aAAW,IAAM,KAIlExzD,MAAA1qD,cAAA,OAAK2qD,UAAU,UACbD,MAAA1qD,cAAA,YACE0qD,MAAA1qD,cAAA,QAAMzzC,GAAE,GAAAvH,OAAKk6J,EAAM,kBACf/yI,EAKE,IAJA/L,GAA6B,CAC3BvX,MAAOkjB,EACPkyE,mBAAoB,KAGpB,IACP+gE,GAGHt0D,MAAA1qD,cAAA,QAAM2qD,UAAU,OACbs0D,GACCv0D,MAAA1qD,cAAA0qD,MAAAuB,SAAA,KACGgzD,EAAgB,IAAEnxI,KA3Dc,CAkE/C,KAKV,KAACuwI,CAAA,CAjMyC,CACFvwD,GAAAA,aAAS5C,GEcnD,IAAMk0D,GAAc,CAClB,CACEC,KAAM,OACNC,aAAc50D,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,yBAAyB+4F,eAAe,SAC3Ei6D,YAAa70D,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,6BAA6B+4F,eAAe,qBAC9EgS,QACE5M,KAAAA,cAACwG,GAAO,CAAC3kG,GAAG,qCACVm+F,KAAAA,cAAA,OAAKC,UAAU,kBACbD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,oCACH+4F,eAAe,0FAMzB,CACE+5D,KAAM,SACNC,aAAc50D,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,2BAA2B+4F,eAAe,WAC7Ei6D,YAAa70D,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,+BAA+B+4F,eAAe,mBAChFgS,QACE5M,KAAAA,cAACwG,GAAO,CAAC3kG,GAAG,uCACVm+F,KAAAA,cAAA,OAAKC,UAAU,kBACbD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,sCACH+4F,eAAe,2FAMzB,CACE+5D,KAAM,OACNC,aAAc50D,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,yBAAyB+4F,eAAe,SAC3Ei6D,YAAa70D,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,6BAA6B+4F,eAAe,kBAC9EgS,QACE5M,KAAAA,cAACwG,GAAO,CAAC3kG,GAAG,qCACVm+F,KAAAA,cAAA,OAAKC,UAAU,kBACbD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,oCACH+4F,eAAe,2FAMzB,CACE+5D,KAAM,SACNC,aAAc50D,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,2BAA2B+4F,eAAe,WAC7Ei6D,YAAa,KACbjoD,QACE5M,KAAAA,cAACwG,GAAO,CAAC3kG,GAAG,uCACVm+F,KAAAA,cAAA,OAAKC,UAAU,kBACbD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,sCACH+4F,eAAe,6BASNk6D,GADpB/yD,KCzFD,CAAgB,YAAY,2BAA2B,mBAAmB,2BAA2B,mBAAmB,2BAA2B,WAAa,4BAA4B,eAAiB,2BAA2B,oBAAsB,2BAA2B,iBAAmB,2BAA2B,iBAAmB,2BAA2B,2BAA2B,2BAA2B,WAAa,4BDyFpa,CAAED,eAAe,GAAOvB,CAAAC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAAwiJ,EAAA7xD,GAAA,I,IAAA1wF,G,EAAAuiJ,E,maAE1C,SAAAA,EAAYx8I,GAAO,IAAA/T,EAKhB,OALgBP,EAAAA,GAAAA,GAAA,KAAA8wJ,GACjBvwJ,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAOI,SAACuT,IAEjBi9I,EADmBxwJ,EAAK+T,MAAhBy8I,QACDj9I,EAAM+pF,OAAO1jG,MAAOoG,EAAK2W,MAAM85I,eACxC,KAACjkJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,0BAEwB,SAACuT,GACxB,IAAQi9I,EAAWxwJ,EAAK+T,MAAhBy8I,OACRxwJ,EAAK+9C,SAAS,CACZ0yG,eAAgBl9I,EAAM+pF,OAAO1jG,QAE/B42J,EAAO,SAAUj9I,EAAM+pF,OAAO1jG,MAChC,IAhBEoG,EAAK2W,MAAQ,CACX85I,eAAgB,IACjBzwJ,CACH,CAgFC,OAhFAN,EAAAA,GAAAA,GAAA6wJ,EAAA,EAAAx5J,IAAA,SAAA6C,MAeD,WAAS,IAAA0V,EAAA,KACPutF,EAIIxpG,KAAK0gB,MAHP02H,EAAS5tC,EAAT4tC,UACAimB,EAAS7zD,EAAT6zD,UACA70H,EAAIghE,EAAJhhE,KAGF,OACE4/D,KAAAA,cAAA,OAAKC,UAAU,aACZy0D,GAAY17J,KAAI,SAACk3B,EAAK/wB,GACrB,IAAM+1J,EAAyB,WAAbhlI,EAAIykI,KAClB9gJ,EAAKqH,MAAM85I,eACX,IAAI//H,GAAAA,EAAUmL,EAAKlQ,EAAIykI,OAAO5sH,IAAI,MAAMC,GAAG,EAAG/S,GAAAA,EAAAA,iBAA2BC,WAE7E,OACE8qE,KAAAA,cAACA,KAAAA,SAAc,CAAC1kG,IAAK6D,GACnB6gG,KAAAA,cAAA,SACExzF,KAAK,QACLrO,MAAO+xB,EAAIykI,KACX9yJ,GAAIquB,EAAIykI,KACR10D,UAAU,mBACVj5E,QAASgoH,EAAY,SAAW9+G,EAAIykI,KAAOM,IAAc/kI,EAAIykI,KAC7DnzD,SAAU3tF,EAAKshJ,kBAGjBn1D,KAAAA,cAAA,SAAOo1D,QAASllI,EAAIykI,KAAM10D,UAAU,oBAClCD,KAAAA,cAAA,WACEA,KAAAA,cAAA,QAAMC,UAAU,cAAc/vE,EAAI0kI,cACjC,IACA1kI,EAAI08E,SAGNoiC,EACChvC,KAAAA,cAAA,OAAKC,UAAU,cACbD,KAAAA,cAAC2E,GAAY,OAGf3E,KAAAA,cAAA,OAAKC,UAAU,uBACbD,KAAAA,cAAA,QAAMC,UAAU,oBACbi1D,EAAU,aAEbl1D,KAAAA,cAAA,QAAMC,UAAU,oBACb/vE,EAAI2kI,aAEQ,WAAdI,GAA0BA,IAAc/kI,EAAIykI,MAC3C30D,KAAAA,cAAA,SACEC,UAAU,mBACVzzF,KAAK,QACL3K,GAAG,WACH0K,KAAK,SACLuoB,IAAI,IACJugI,IAAI,MACJl3J,MAAO0V,EAAKqH,MAAM85I,eAClBxzD,SAAU3tF,EAAKyhJ,2BAQ7B,IAIR,KAACR,CAAA,CAxFyC,CACL1xD,GAAAA,aAAS5C,GEgJhD,SAAeuB,IAAf,EAhMqB,SAAUzpF,GAA0B,IAAAmhF,EA4BnD87D,EA1BFxL,EAgBEzxI,EAhBFyxI,aACAxoI,EAeEjJ,EAfFiJ,SACA6B,EAcE9K,EAdF8K,WACAoyI,EAaEl9I,EAbFk9I,aAAYC,EAaVn9I,EAZFo9I,sBAAAA,OAAqB,IAAAD,EAAG,EAACA,EAAAE,EAYvBr9I,EAXFwzH,eAAAA,OAAc,IAAA6pB,EAAG,EAACA,EAClB3mB,EAUE12H,EAVF02H,UACU4mB,EASRt9I,EATFopB,SACAuE,EAQE3tB,EARF2tB,WACA+1D,EAOE1jF,EAPF0jF,aACA65D,EAMEv9I,EANFu9I,UACA1vH,EAKE7tB,EALF6tB,OACA2vH,EAIEx9I,EAJFw9I,mBACAC,EAGEz9I,EAHFy9I,oBACArB,EAEEp8I,EAFFo8I,YACAsB,EACE19I,EADF09I,cAIAtoH,EAEEq8G,EAFFr8G,QACAn4B,EACEw0I,EADFx0I,YAGI0gJ,EAAiBT,EACjBU,EAAmB30I,EAIzB,OAAQ6B,EAAWzjB,eACjB,IAAK,MACH41J,EAAmB,IACnB,MACF,IAAK,MACHA,EAAmB,IACnB,MACF,QACEA,EAAmBnyI,EAGvB,IAAIse,EAAWk0H,GAGX55D,IAAiBtuD,IAA8B,QAAnB+rD,EAAAptF,GAAAA,GAAUkV,UAAS,IAAAk4E,OAAA,EAAnBA,EAAqB/sF,SAAUR,GAAAA,GAAAA,IAAmBqJ,IAChFmsB,EAAWk0H,EAAgBjzH,aAAa,IAG1C,IAAMwzH,EAAWz0H,EAASkB,KAAKqD,GAEzBmwH,EAAe1oH,EACjBgoH,EAAwB,EACtBhgJ,GAA6B,CAAEvX,MAAOujC,EAAU3F,KAAK25H,IACrD,EACF5pB,EAAiB,EACfp2H,GAA6B,CAAEvX,MAAOujC,EAAU3F,KAAK+vG,IACrD,EAEAuqB,EAAiBr6D,GACnB8vC,EAAiB,EACfp2H,GAA6B,CAAEvX,MAAO8nC,EAAYlK,KAAK+vG,IAEzD,EAEEwqB,EAAexqB,EAAiB,IAAMp+F,EACxCh4B,GAA6B,CAAEvX,MAAOg4J,EAAUp6H,KAAK+vG,IACrD,EAEEyqB,EACJv2D,MAAA1qD,cAAA0qD,MAAAuB,SAAA,KACGu0D,EAAmB,cAEnB,IACA3vH,EAAO,UAER65D,MAAA1qD,cAAA,KAAG40D,KAAMj7D,GAAMwgD,gBAAiBoS,OAAO,SAASuI,IAAI,cAAa,OAChE,IAAI,IAEJ,KAIL,OACEpK,MAAA1qD,cAAA,WAAS2qD,UAAU,gBAChB41D,GACC71D,MAAA1qD,cAAA,OAAK2qD,UAAU,UACbD,MAAA1qD,cAAA,QAAM2qD,UAAU,eACdD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,4BAA4B+4F,eAAe,sBAElEoF,MAAA1qD,cAACw/G,GAAS,CACRG,UAAWc,EAEX31H,KAAMs0H,EAENK,OAAQiB,EACRhnB,UAAWA,KAKjBhvC,MAAA1qD,cAAA,OAAK2qD,UAAU,UACbD,MAAA1qD,cAAA,QAAM2qD,UAAU,eACdD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,uBAAuB+4F,eAAe,gBAE7DoF,MAAA1qD,cAAA,OAAK0sD,UAAU,cACZgtC,EACGhvC,MAAA1qD,cAAA,OAAK2qD,UAAU,cAAaD,MAAA1qD,cAACqvD,GAAY,OAEzC3E,MAAA1qD,cAAA,QAAM2qD,UAAU,MAAMp+F,GAAG,wBAEtBg0J,GAAaC,EAAqB,EAAIS,EAAkB,MACvD70H,EAAS,IAEVu0H,EACA,IACAG,EAAe,GAAK,IAAJ97J,OAAQi7J,GAAgBj7J,OAAG87J,EAAY,MAG7D,IACDp2D,MAAA1qD,cAACkxD,GAAO,CAAC3kG,GAAG,+BACVm+F,MAAA1qD,cAAA,OAAKK,MAAO,CAAE6gH,SAAU,OAAQ9G,UAAW,WACzC1vD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,8BACH+4F,eAAe,wFAOxBoB,IAAiBzmF,GAChByqF,MAAA1qD,cAAA,OAAK2qD,UAAU,UACbD,MAAA1qD,cAAA,QAAM2qD,UAAU,eACdD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,yBAAyB+4F,eAAe,gBAAgB,KAG/EoF,MAAA1qD,cAAA,OAAK0sD,UAAU,cACbhC,MAAA1qD,cAAA,OAAK2qD,UAAU,wBACbD,MAAA1qD,cAAA,YACG0mD,EAAa9rE,IAAI,KAGnB,IACD8vE,MAAA1qD,cAAA,YACE0qD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,mCAAmC+4F,eAAe,+CAExE,IACDoF,MAAA1qD,cAAA,YACG0mD,EAAalnE,IAAI,IAEjBohI,IAGJlnB,EACGhvC,MAAA1qD,cAAA,OAAK2qD,UAAU,cAAaD,MAAA1qD,cAACqvD,GAAY,OAEzC3E,MAAA1qD,cAAA,QAAM2qD,UAAU,MAAMp+F,GAAG,yBACrBokC,EAAW,IAEZiwH,EACA,IACAG,EAAiB,GAAK,IAAJ/7J,OAAQi7J,GAAgBj7J,OAAG+7J,EAAc,SAOtE3oH,IAAYn4B,GACZyqF,MAAA1qD,cAAA,OAAK2qD,UAAU,UACbD,MAAA1qD,cAAA,QAAM2qD,UAAU,eACdD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,uBAAuB+4F,eAAe,yBAE7DoF,MAAA1qD,cAAA,OAAK0sD,UAAU,cACZgtC,EACGhvC,MAAA1qD,cAAA,OAAK2qD,UAAU,cAAaD,MAAA1qD,cAACqvD,GAAY,OAEzC3E,MAAA1qD,cAAA,QAAM2qD,UAAU,MAAMp+F,GAAG,yBACrBs0J,EAAS,IAEVF,EACA,IACAK,EAAe,GAAK,IAAJh8J,OAAQi7J,GAAgBj7J,OAAGg8J,EAAY,QAQ1E,GCxOA,CAAgB,aAAe,2BAA2B,OAAS,2BAA2B,YAAc,2BAA2B,WAAa,2BAA2B,WAAa,2BAA2B,IAAM,2BAA2B,qBAAuB,4BD0O/N,CAAEx0D,eAAe,I,glBEhMjE,IAqHM20D,IApDL3jG,EAAAA,EAAAA,KACC,SAAA3uD,GAAA,IAAAugI,EAAAvgI,EACEopB,KACE3L,EAAO8iH,EAAP9iH,QACAC,EAAO6iH,EAAP7iH,QACAC,EAAS4iH,EAAT5iH,UACAC,EAAU2iH,EAAV3iH,WACAC,EAAU0iH,EAAV1iH,WACAC,EAAQyiH,EAARziH,SACAC,EAAOwiH,EAAPxiH,QACAC,EAAQuiH,EAARviH,SACAC,EAAQsiH,EAARtiH,SACAC,EAAOqiH,EAAPriH,QACAC,EAAUoiH,EAAVpiH,WACAC,EAAOmiH,EAAPniH,QACAC,EAAOkiH,EAAPliH,QACAC,EAAQiiH,EAARjiH,SACAC,EAAOgiH,EAAPhiH,QACAC,EAAO+hH,EAAP/hH,QACAvB,EAASsjH,EAATtjH,UACAO,EAAQ+iH,EAAR/iH,SAI0B,MACvB,CACLyB,WALYshH,EAAVthH,WAMFuhH,UAAW,CACT/iH,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAvB,EACAO,EAvBY+iH,EAAZhhH,cA0BFi+H,cAxB4Bx9I,EAA5B2pB,GAAM/B,uBAyBP,GAEyCw0E,CAAAC,GAA3CuB,KAAWhmD,GAAQ,CAAE+lD,eAAe,GAAO+iC,CAAArkC,GAAA,SAAAC,IAAAnuF,EAAAA,GAAAA,GAAAmkJ,EAAAh2D,GAAA,I,IAAAluF,G,EAAAkkJ,E,maAM1C,SAAAA,EAAYn+I,GAAO,IAAA07I,EAAAzvJ,GAAAP,EAAAA,GAAAA,GAAA,KAAAyyJ,GACjBlyJ,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,WALJ,IAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,cAEsC,OAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eA4I1C,SAACxB,GAAiC,IAAlBo0E,EAAOx+E,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,IACtC6Y,QAAQzO,MAAMA,GACdw3C,GAAAA,SAAAA,OAAyB,WAADjgD,OAAY68E,EAAO,sBAAA78E,OAAqByI,EAAMikC,QAAO,MAE7Ex1B,QAAQrQ,MAAM,cAAe,eAC7BqQ,QAAQzO,MAAM,qBAADzI,OAAsB68E,EAAO,cAAA78E,OAAa+W,KAAKC,UAAUvO,GAAM,MAC5EyO,QAAQy2B,WAERoI,GAAAA,cAAAA,KACE39B,GAAAA,cAAAA,kBACA,CAAE3P,MAAO,SAAFzI,OAAWyI,EAAMwJ,KAAI,eAAAjS,OAAcyI,EAAMikC,QAAO,eAAA1sC,OAAc68E,EAAO,MAEhF,KAACpmE,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gCAE8B,SAACmyJ,GAC9B,IAAAt1D,EAGI78F,EAAK+T,MAFP8U,EAAOg0E,EAAPh0E,QACQghB,EAAMgzD,EAAdnG,KAAQ7sD,OAGV,GACGtlC,OAAOtL,KAAKk5J,GAAkB7+J,SACc,IAAzCiR,OAAOtL,KAAKk5J,GAAkB7+J,QAAiB01B,GAA2BmpI,EAAiB,KAFjG,CAmBA,IAAMC,EAAcppI,GAA2BmpI,EAAiB,IAAMA,EAAiB,GAAKA,EAAiB,GAErGn1I,EAAgCo1I,EAAhCp1I,SAAU3Z,EAAsB+uJ,EAAtB/uJ,QAAS2c,EAAaoyI,EAAbpyI,SACvBqyI,EAAiBr1I,EAErB,OAAQA,EAAS5hB,eACf,IAAK,iBACL,IAAK,sBACHi3J,EAAiB,MAGrB,IAAMC,EAAetyI,EAAW,UAAHjqB,OAAaiqB,GAAQ,IAAAjqB,OAASs8J,GAE3DxpI,EAAQt1B,KACN+uG,GAAaz4D,EAAQ,GAAF9zC,OAAKu8J,EAAY,KAAAv8J,OAAIsN,EAAO,UAhBjD,MAbEyoC,GAAAA,cAAAA,KACE39B,GAAAA,cAAAA,QACA,CACEs0B,QACEg5D,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,qBACH+4F,eAAe,0BAyB3B,KAAC7pF,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAEoB,WACnB,IAAQ1F,EAAS0F,EAAK+T,MAAdzZ,KAER0F,EAAK+9C,UAAS,iBAAO,CACnBq2F,iBAAkB95I,EACnB,GACH,KAACkS,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEa,SAAAO,IAAA,IAAAuqC,EAAA3d,EAAA8wH,EAAAlvJ,EAAA2lE,EAAA0G,EAAA8iF,EAAAtyI,EAAAgR,EAAAuhI,EAAAC,EAAA9wH,EAAA+wH,EAAAhC,EAAAhlI,EAAA,OAAArX,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OAgByB,OAhBzBylD,EAURp/C,EAAK2W,MARE8qB,EAAS2d,EAAlB/7C,QAAOkvJ,EAAAnzG,EACPomG,aACEniJ,EAAOkvJ,EAAPlvJ,QACA2lE,EAAeupF,EAAfvpF,gBACA0G,EAAc6iF,EAAd7iF,eAEF8iF,EAAepzG,EAAfozG,gBACAtyI,EAAMk/B,EAANl/B,OAGEgR,EAAS,OACT83C,IAAiB93C,EAAS,iBAC1Bw+C,IAAgBx+C,EAAS,YAEvBuhI,EAAYpyI,OAAOH,IAAW,EAACpL,EAAAxZ,KAAA,EAAAwZ,EAAAnb,KAAA,EAGV47D,GAAQ3sD,IAAI+5B,iBAAiB,CACpDzR,OAAAA,EACAoR,MAAO,OACPj/B,QAAAA,EACAo+B,UAAAA,EACAvhB,OAAQuyI,EACRxvH,UAAU,IACV,OAPY,OAOZyvH,EAAA59I,EAAAC,KAPM6sB,EAAM8wH,EAAN9wH,OAAM9sB,EAAAnb,KAAA,GASgB2uC,GAAAA,uBAAgC,CAAE5M,QAhWlE,YAgW4E,QAEb,GAFvDi3H,EAAe79I,EAAAC,KACf47I,EAAY,IAAIjgI,GAAAA,EAAUiiI,EAAgB17H,MAAMuM,IAAI,MAAMC,GAAG,EAAG/S,GAAAA,EAAAA,iBAChE/E,EAAMglI,EAAUvyH,aAAawD,GAAQxD,aAAa,MACnDp+B,EAAK4yJ,QAAS,CAAF99I,EAAAnb,KAAA,gBAAAmb,EAAAQ,OAAA,kBACjBtV,EAAK+9C,UAAS,SAACpnC,GAAK,MAAM,CACxB66I,oBAAqB,OACrBrB,YAAawC,EACbE,WAAYlC,EAAUhgI,WACtBiR,OAAAA,EACA/F,KAAInxB,GAAAA,GAAA,GACCiM,EAAMklB,MAAI,IACbi3H,MAAOnnI,EACPrM,MAAO3I,EAAMklB,KAAKtsB,QAAQ8uB,KAAK1S,GAAK8X,GAAG+uH,EAAiB9hI,GAAAA,EAAAA,cAE3D,IAAE5b,EAAAnb,KAAA,iBAAAmb,EAAAxZ,KAAA,GAAAwZ,EAAAgC,GAAAhC,EAAA,SAEH9U,EAAK64C,YAAW/jC,EAAAgC,IAAO,yBAAAhC,EAAAJ,OAAA,GAAAG,EAAA,qBAE1BrI,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAEe,SAAC0wJ,EAAmBqC,GAClC,IAAAjzG,EAAiD9/C,EAAK2W,MAA9Cw5I,EAAWrwG,EAAXqwG,YAAavuH,EAAMke,EAANle,OAAQ4wH,EAAe1yG,EAAf0yG,gBACvB7B,EAA0B,WAAdD,EACd,IAAIhgI,GAAAA,EAAUqiI,GACd,IAAIriI,GAAAA,EAAUy/H,EAAYO,IAAYltH,IAAI,MAAMC,GAAG,EAAG/S,GAAAA,EAAAA,iBAGpD/E,EAAMglI,EAAUvyH,aAAawD,GAAQxD,aAAa,MAEpDp+B,EAAK4yJ,UACP5yJ,EAAK+9C,UAAS,SAACpnC,GAAK,MAAM,CACxB66I,oBAAqBd,EACrBmC,WAAYlC,EAAUhgI,WACtBkL,KAAInxB,GAAAA,GAAA,GACCiM,EAAMklB,MAAI,IACbi3H,MAAOnnI,EACPrM,MAAO3I,EAAMklB,KAAKtsB,QAAQ8uB,KAAK1S,GAAK8X,GAAG+uH,EAAiB9hI,GAAAA,EAAAA,cAE3D,IACD1wB,EAAKgzJ,qBAET,KAACxmJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEgB,SAAAC,IAAA,IAAAyI,EAAA4/E,EAAA4oD,EAAA/tD,EAAAv3E,EAAAsyI,EAAAS,EAAAC,EAAAC,EAAA77D,EAAAr/E,EAAAiZ,EAAA,OAAA5c,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OAekB,GAbvBqjB,EACNhd,EAAK+T,MADPzZ,KAAQ0iB,SAAQ4/E,EAOd58F,EAAK2W,MAJP6uI,EAAY5oD,EAAZ4oD,aACA/tD,EAAYmF,EAAZnF,aACAv3E,EAAM08E,EAAN18E,OACAsyI,EAAe51D,EAAf41D,gBAGIS,EAAcz9G,GAAex4B,GAAU,GAAM5hB,cAC7C83J,EAAez7D,EAAel7D,GAAcipH,EAAaxlI,UAAYhD,EAAUkD,GAAU,EAC3FizI,EAAc,IAAIziI,GAAAA,EAAU,GAEhC1wB,EAAK+9C,SAAS,CAAEq1G,UAAU,IAAOx+I,EAAAtZ,KAAA,GAG3BkqJ,EAAar8G,QAAS,CAAFv0B,EAAAjb,KAAA,SAKgC,OAJhD29F,EAAoBkuD,EAAazlI,aACjC9H,EAAgButI,EAAal9I,SAGnC+vB,GAAWi/D,GAAkBnlG,KAAAC,IAAG,IAAOogK,GAAe59I,EAAAjb,KAAA,GAC/Bk8C,GAAcyhD,GAAmB30D,iBAAiB,CACvEzR,OAAQ,SACR,QAEyB,OAJ3BmH,GAAWxvB,IAAG+L,EAAAG,KAAAH,EAAAkC,GAII4Z,GAAAA,EAAS9b,EAAAjb,KAAA,GAAOwgD,GAAUliC,GAAe0qB,iBAAiB,CAC1EzR,OAAQ,SACR,QAAAtc,EAAA+nB,GAAA/nB,EAAAG,KAFFo+I,EAAc,IAAHv+I,EAAAkC,GAAAlC,EAAA+nB,IAAA/nB,EAAAjb,KAAG,GAAH,kBAKJ4+B,GAAuB7qB,SAASulJ,GAAc,CAAFr+I,EAAAjb,KAAA,SAKxB,OAJvBu3B,EAAS,OACTs0H,EAAax8E,kBAAiB93C,EAAS,iBACvCs0H,EAAa91E,iBAAgBx+C,EAAS,YAAUtc,EAAA8vB,GAElChU,GAAAA,EAAS9b,EAAAjb,KAAA,GAAO47D,GAAQ09F,GAAatwH,iBAAiB,CACtEzR,OAAAA,EACAoR,MAAO,OACPj/B,QAASmiJ,EAAaniJ,QACtB6c,OAAAA,IACA,QAAAtL,EAAA+vB,GAAA/vB,EAAAG,KALFo+I,EAAc,IAAHv+I,EAAA8vB,GAAA9vB,EAAA+vB,IAOXtM,GAAW46H,GAAeE,EAAYxiI,WAElC60H,EAAaziF,OACf/iE,EAAKqzJ,cACN,QAGCrzJ,EAAK4yJ,UACP5yJ,EAAK+9C,UAAS,SAACpnC,GAAK,MAAM,CACxBklB,KAAInxB,GAAAA,GAAA,GACCiM,EAAMklB,MAAI,IACbi3H,MAAOK,EACP5jJ,QAAS,IAAImhB,GAAAA,EAAUwiI,GAAczvH,GAAG+uH,EAAiB9hI,GAAAA,EAAAA,YACzDpR,MAAO6zI,EAAY90H,KAAK60H,GAAczvH,GAAG+uH,EAAiB9hI,GAAAA,EAAAA,YAC1DwiI,aAAc,IAAIxiI,GAAAA,EAAUwiI,KAE/B,IACDlzJ,EAAKgzJ,sBACNp+I,EAAAjb,KAAA,iBAAAib,EAAAtZ,KAAA,GAAAsZ,EAAA0+I,GAAA1+I,EAAA,SAED5U,EAAK64C,YAAWjkC,EAAA0+I,IAAO,QAEW,OAFX1+I,EAAAtZ,KAAA,GAEvB0E,EAAK+9C,SAAS,CAAEq1G,UAAU,IAAQx+I,EAAA0uF,OAAA,6BAAA1uF,EAAAF,OAAA,GAAAH,EAAA,2BAErC/H,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEc,SAAAa,IAAA,IAAA4yF,EAAA/jE,EAAA9jB,EAAAqzI,EAAA13H,EAAA2pH,EAAAgO,EAAAC,EAAAr0E,EAAA2f,EAAA20D,EAAA12I,EAAA3Z,EAAAwjF,EAAA3J,EAAAl1E,EAAA2rJ,EAAAC,EAAA,OAAAt/I,IAAAA,MAAA,SAAAe,GAAA,cAAAA,EAAA/Z,KAAA+Z,EAAA1b,MAAA,OA6BZ,GA5BDq8C,GAAAA,SAAAA,UAA2B+xD,EAUvB/nG,EAAK2W,MAPEqtB,EAAE+jE,EAAX1kG,QACA6c,EAAM6nF,EAAN7nF,OACAqzI,EAAKxrD,EAALwrD,MACA13H,EAAIksE,EAAJlsE,KACA2pH,EAAYz9C,EAAZy9C,aACAgO,EAAezrD,EAAfyrD,gBAAeC,EAAA1rD,EACf3oB,QAAAA,OAAO,IAAAq0E,EAAG,GAAEA,EAAA10D,EAMV/+F,EAAK+T,MAAK2/I,EAAA30D,EAFZzkG,KAAQ0iB,EAAQ02I,EAAR12I,SAAU3Z,EAAOqwJ,EAAPrwJ,QAASwjF,EAAO6sE,EAAP7sE,QAAS3J,EAAOw2E,EAAPx2E,QACpCl1E,EAAI+2F,EAAJ/2F,KAGFhI,EAAK+9C,UAAS,iBAAO,CACnB81G,WAAW,EACZ,IAEKF,EAAc,CAClBz8J,KAAMmM,EACN2gC,GAAAA,EACA9jB,OAAAA,EACAoiB,MAAO,OACPt6B,KAAMw9I,EAAar8G,QAAUnsB,EAAS5hB,cAAgB,GACtD0oC,SAAU0hH,EAAaziF,OAASlnC,EAAKi3H,QAGnCjsE,IAAW0sE,EAAK,CAAAl+I,EAAA1b,KAAA,gBAAA0b,EAAA1b,KAAA,EACZmyC,GAAAA,SAAAA,YAA6B+6C,EAAQvpF,GAAI,QAASi2J,EAAOlwJ,GAAQ,OAWtE,OATDyoC,GAAAA,cAAAA,KAA2B39B,GAAAA,cAAAA,gBAAyC,CAClE+R,OAAAA,EACAlD,SAAAA,EACA3Z,QAAS2gC,IAEXhkC,EAAK+9C,UAAS,iBAAO,CAAE81G,WAAW,EAAO,IACzC/nH,GAAAA,OAAAA,MAAqB9jC,GACjBk1E,aAAmBxnD,UACrBwnD,IACD7nE,EAAAC,OAAA,sBAICkwI,EAAa91E,iBAAkB81E,EAAax8E,gBAAe,CAAA3zD,EAAA1b,KAAA,SAa3D,OAZEi6J,EAAgBzlJ,GAAAA,OAAAA,eAEhBq3I,EAAax8E,kBAAiB4qF,EAAgBzlJ,GAAAA,OAAAA,qBAElD29B,GAAAA,OAAAA,MAAqB9jC,GAErB8jC,GAAAA,OAAAA,KAAoB8nH,EAAe,CACjChwJ,OAAQ4hJ,EACR3+D,QAAAA,EACA8sE,YAAAA,EACAz2E,QAAAA,EACA3gD,SAAUV,EAAKq3H,eACf79I,EAAAC,OAAA,yBAAAD,EAAA1b,KAAA,GAIEmyC,GAAQ0nH,GACXxhI,KAAK2hI,GACLv/H,KAAI,eAAAne,GAAA5B,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAkB,EAAOoxB,GAAK,IAAAlK,EAAAqC,EAAA+0H,EAAA9zI,EAAAo0H,EAAA2f,EAAA,OAAAz/I,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,OAC6B,GAA7CmyC,GAAQ0nH,GAAiB7lH,WAAW3wB,IAEhC6pE,EAAS,CAAFnxE,EAAA/b,KAAA,eAAA+b,EAAA/b,KAAA,EACHmyC,GAAAA,SAAAA,YAA6B+6C,EAAQvpF,GAAI,QAASspC,EAAOvjC,GAAQ,OAGrErD,EAAK4yJ,SACP5yJ,EAAK+9C,UAAS,iBAAO,CACnB81G,WAAW,EACZ,IAGC32E,aAAmBxnD,UACrBwnD,IAIIxgD,EAAS64B,GAAQn5C,aAAa+3E,QACjCqxD,EAAaxlI,SACVwlI,EAAaxlI,SACbwlI,EAAaxoI,SACjB4pB,GAEU7H,EAASrC,EAAbqK,GAGF+sH,EAAc,CAClB5zI,OAAAA,EACAuc,cAAep5B,EACf+4B,gBAAiB4H,EACjB/G,WAAW,EACXV,SAAUV,EAAKq3H,cAGjBjmB,GAAiB,CACfl2I,IAAK,UAAFhB,OAAYinB,EAAS5hB,cAAa,KAAArF,OAAIgpC,GACzCgmC,KAAM,KACNzqE,KAAMw5J,IAER99G,GAAAA,SAAAA,WAEIopC,GACFtzC,GAAAA,SAAAA,WAA4B,CAC1B/0C,IAAKgoC,EACLqgD,QAAAA,IAIIp/D,EAAyCwlI,EAAzCxlI,SAAoBo0H,EAAqBoR,EAA/BxoI,SACZ+2I,EAAYx+F,GAAQn5C,aAAa4nD,YAAYhkD,GAAYo0H,EAAkBr1G,GAEjFw0D,GAAmBwgE,GAAU,yBAAAr+I,EAAAhB,OAAA,GAAAc,EAAA,KAC9B,gBAAAR,GAAA,OAAAiB,EAAA7C,MAAA,KAAAhf,UAAA,EArDI,IAsDJggC,MAAK,WACJ0X,GAAAA,OAAAA,MAAqB9jC,EACvB,IAAE,OACK,SAACxJ,GACN,IAAQgnJ,EAAiBxlJ,EAAK2W,MAAtB6uI,aACFwO,EAAYx1J,EAAMrE,IAAMqE,EAAMrE,IAAI44B,KAAO,GACzCkhI,EAAc,CAClBjsJ,KAAM,CACJ1K,GAAI,cACJ+4F,eAAgB,oBAElB5zD,QAAS,CACPnlC,GAAI,sBACJ+4F,eAAgB,2CAIhB,kDAAkD/0F,KAAK0yJ,KACzDC,EAAYxxH,QAAU,CACpBnlC,GAAI,cACJ+4F,eAAgB,yEAIpBr2F,EAAK64C,YAAYr6C,EAAO,kBAAFzI,OAAoByvJ,EAAavoI,SAAQ,uBAAAlnB,OAAsBk+J,EAAYxxH,QAAQ4zD,iBAErGr2F,EAAK4yJ,SACP5yJ,EAAK+9C,UAAS,iBAAO,CACnB81G,WAAW,EACZ,GAEL,IAAE,yBAAAx+I,EAAAX,OAAA,GAAAS,EAAA,OACL3I,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,YA2BU,WACTA,EAAK+9C,UAAS,SAACpnC,GAAK,MAAM,CACxBu9I,aAAcv9I,EAAMu9I,YACrB,GACH,KAAC1nJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,cAEY,SAAC1F,GACZ,GAAIA,EAAM,CACR,IAAM+I,GAAkC,IAAvB/I,EAAKmT,QAAQ,KAAenT,EAAKxG,MAAM,KAAK,GAAGA,MAAM,KAAK,GAAKwG,EAC1E4lB,GAAiC,IAAvB5lB,EAAKmT,QAAQ,MAAenT,EAAKxG,MAAM,KAAK,GAE5DkM,EAAK+9C,UAAS,iBAAO,CAAE16C,QAAAA,EAAS,KACjB,IAAX6c,GAAkBlgB,EAAK+9C,UAAS,iBAAO,CAAE79B,OAAAA,EAAQ,IACrDlgB,EAAKsiJ,UACP,CACF,KAAC91I,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAEc,SAACpG,GACd,IAAA8oI,EAQI1iI,EAAK2W,MAPPy9H,EAAgB1R,EAAhB0R,iBACAoe,EAAe9vB,EAAf8vB,gBACAjrB,EAAc7E,EAAd6E,eACA4d,EAAaziB,EAAbyiB,cAEOziB,EADP8iB,aACEziF,QAKE/iE,EAAKm0J,aACPrpF,aAAa9qE,EAAKm0J,aAGpBn0J,EAAKm0J,YAAc1iJ,YAAW,WAC5BzR,EAAKqzJ,aACP,GAAG,MAGL,IAAMe,EAAoB7sB,EAAe9oG,cAAc,GAEnD0mH,IAAkB/Q,EAAiBp3H,SACrChd,EAAK+9C,SAAS,CACZs2G,WAAYz6J,GAASw6J,EACjB7sB,EAAe1wF,MAAMj9C,GAAO6pC,GAAG,EAAG/S,GAAAA,EAAAA,YAAsB78B,WACxD,GACJqsB,OAAQtmB,IAGVoG,EAAK+9C,SAAS,CACZs2G,WAAYz6J,EACZsmB,OAAQtmB,GAASw6J,EACb,IAAI1jI,GAAAA,EAAU92B,GAAO4pC,IAAI+jG,GAAgB9jG,GAAG+uH,GAAiB3+J,WAC7D,IAGV,KAAC2Y,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAEa,WACZ,IAAA2iI,EAGI3iI,EAAK+T,MAFP8U,EAAO85G,EAAP95G,QACQghB,EAAM84F,EAAdjsC,KAAQ7sD,OAEF7hC,EAAShI,EAAK+T,MAAd/L,KAER6gB,EAAQt1B,KAAK+uG,GAAaz4D,EAAQa,GAAM6+C,OACxCz9C,GAAAA,OAAAA,MAAqB9jC,EACvB,KAACwE,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,2BAEyB,SAACpG,GACzBoG,EAAK+9C,SAAS,CACZonG,cAAevrJ,GAEnB,KAAC4S,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAEoB,WACnB,IAAA0jI,EAOI1jI,EAAK2W,MANP6uI,EAAY9hB,EAAZ8hB,aACA/tD,EAAYisC,EAAZjsC,aACA+6D,EAAe9uB,EAAf8uB,gBACAjrB,EAAc7D,EAAd6D,eACA35F,EAAQ81F,EAAR91F,SACA/R,EAAI6nG,EAAJ7nG,KAIIsB,EAAWqoH,EAAar8G,QAAU,IAAIzY,GAAAA,EAAU,GAAKmL,EAAKi3H,MAC1DwB,EAAa78D,EACf,IAAI/mE,GAAAA,EAAU+mE,EAAa9rE,KAAKmQ,UAHR,KAGuCsC,aAAawP,EAAS9wB,SACrF,IAAI4T,GAAAA,EAAU,GACZ6jI,EAAY,IAAI7jI,GAAAA,EAAUkd,EAAS9wB,QAAQy1C,MAAMp1B,GAAUo1B,MAAM+hG,GAAY7wH,GAAG+uH,EAAiB9hI,GAAAA,EAAAA,aACjG8jI,EAAgBD,EAAUn2H,aAAampG,GAAgB9jG,GAAG,EAAG/S,GAAAA,EAAAA,YAE/D6jI,EAAU91H,cAAcmP,EAAS9wB,UAAYy3I,EAAU5wG,oBAAoB,GAC7E3jD,EAAK+9C,UAAS,SAACpnC,GAAK,MAAM,CACxBi3B,SAAQljC,GAAAA,GAAA,GACHiM,EAAMi3B,UAAQ,IACjBhmB,gBAAiB,IAAI8I,GAAAA,EAAU,GAC/B+jI,YAAa,IAAI/jI,GAAAA,EAAU,KAE9B,IAED1wB,EAAK+9C,UAAS,SAACpnC,GAAK,MAAM,CACxBi3B,SAAQljC,GAAAA,GAAA,GACHiM,EAAMi3B,UAAQ,IACjBhmB,gBAAiB2sI,EACjBE,YAAaD,IAEhB,GAEL,KAAChoJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAEe,WACd,IAAQ4tC,EAAa5tC,EAAK2W,MAAlBi3B,SAER5tC,EAAK+9C,SAAS,CACZ79B,OAAQ0tB,EAAShmB,gBAAgB/zB,WACjCwgK,WAAYzmH,EAAS6mH,YAAY5gK,YAErC,KAAC2Y,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,4BAE0B,WACzB,IAAAqqJ,EAAwDrqJ,EAAK2W,MAArD8gF,EAAY4yD,EAAZ5yD,aAAcv3E,EAAMmqI,EAANnqI,OAAQ2b,EAAIwuH,EAAJxuH,KAAM22H,EAAenI,EAAfmI,gBAGhCkC,EAAoBj9D,EACpB,IAAI/mE,GAAAA,EAAU+mE,EAAa9rE,KAAKmQ,UAHR,KAGuCsC,aAAale,GAC5E,IAAIwQ,GAAAA,EAAU,GAElBgkI,EAAoB,IAAIhkI,GAAAA,EAAUxQ,GAAQue,cAAc,IACnDi2H,EAAkBj2H,cAAc5C,EAAKq3H,cACtCwB,EACA74H,EAAKq3H,aAETlzJ,EAAK+9C,UAAS,SAACpnC,GAAK,MAAM,CACxBklB,KAAInxB,GAAAA,GAAA,GACCiM,EAAMklB,MAAI,IACbtsB,QAASmlJ,EAAkBjxH,GAAG+uH,EAAiB9hI,GAAAA,EAAAA,YAC/CpR,MAAOuc,EAAKi3H,MAAMz0H,KAAKq2H,GAAmBjxH,GAAG+uH,EAAiB9hI,GAAAA,EAAAA,cAEjE,GACH,KAAClkB,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAEqB,SAACyD,GACrB,IAAQ2wI,EAAqBp0I,EAAK2W,MAA1By9H,iBACAugB,EAAoBlxJ,EAApBkxJ,gBACFC,EAAuBp/G,GAAe4+F,EAAiBp3H,UAAU,GAAM9M,cACzE7a,GAAS,EAQb,OANAs/J,EAAgBp+J,SAAQ,SAAAgC,GAClBA,EAAKykB,WAAa43I,IACpBv/J,EAASkD,EAAK4kB,mBAAqB5kB,EAAK4kB,kBAAkB4xB,WAE9D,IAEO15C,CACT,IApqBE,IACE+qI,EAEErsH,EAFFqsH,UACMgU,EACJrgI,EADFzZ,KAIAmnC,EAIE2yG,EAJF3yG,UACAzkB,EAGEo3H,EAHFp3H,SACS63I,EAEPzgB,EAFF/wI,QACAqkI,EACE0M,EADF1M,aAGI8qB,EAAkBrkJ,GAAAA,cAAwBqnC,GAAex4B,GAAU,GAAM5hB,eACzEoqJ,EAAe15G,GAAAA,KAAAA,mBACnB47F,aAAY,EAAZA,EAAc1nH,WAAYhD,EAC1B63I,GAGIp9D,EAAel7D,IAAmBmrG,aAAY,EAAZA,EAAc1nH,WAAYhD,GAE5Dw2I,EAAkBhO,EAAal9I,UAAY0U,EAAS5hB,cACtD05J,EAAqB93I,EAAS9M,cAG5B6kJ,EAAoB30B,EAAU/0F,MAAK,SAACznC,GACxC,GAAIyhB,GAAgBmgI,EAAal9I,UAAW,CAC1C,IAAM0sJ,EAAiB3vI,GAAgBmgI,EAAal9I,UAAU0U,SAAS9M,cAGvE,OAFA4kJ,EAAqBE,EAEdpxJ,EAAOoZ,SAAS9M,gBAAkB8kJ,CAC3C,CACF,IAEMztB,EAAmD,QAAlCkoB,EAAArb,EAAiBj3H,yBAAiB,IAAAsyI,GAAlCA,EAAoC1gH,WACvD,IAAIre,GAAAA,EAAU0jH,EAAiBj3H,kBAAkB4xB,YACjD,IAAIre,GAAAA,EAAU,GAyCjB,OAvCD1wB,EAAK2W,MAAQ,CACXk9I,WAAW,EACXp8D,aAAAA,EACAy8D,aAAa,EACb7wJ,QAASo+B,GAAa,GACtB4yH,WAAY,GACZn0I,OAAQ,GACRslI,aAAAA,EACAgO,gBAAAA,EACAsB,mBAAAA,EACAtC,gBAAAA,EACArN,cAAenoI,EACfu2I,MAAO,GACP7xI,gBAAiBoqB,GAAAA,KAAAA,iBACjBsoG,iBAAAA,EACA2gB,kBAAmBA,GAAqB,CAAC,EACzCxtB,eAAAA,EACA4oB,YAAa,CACXp5H,KAAM,KACNC,OAAQ,MACRC,KAAM,MACNqI,OAAQ,OAEVkyH,oBAAqB,GACrB31H,KAAM,CACJi3H,MAAO,IAAIpiI,GAAAA,EAAU,GACrBnhB,QAAS,IAAImhB,GAAAA,EAAU,GACvBpR,MAAO,IAAIoR,GAAAA,EAAU,GACrBwiI,aAAc,IAAIxiI,GAAAA,EAAU,IAE9Bkd,SAAU,CACR9wB,QAAS,IAAI4T,GAAAA,EAAU80H,EAAa1oI,SAAW,GAC/C8K,gBAAiB,IAAI8I,GAAAA,EAAU,GAC/B+jI,YAAa,IAAI/jI,GAAAA,EAAU,IAE7BmiI,WAAY,KACZO,UAAU,EACVxxH,YAAQvtC,EACR4gK,eAAiB7gB,EAAiBvtD,SACnC7mF,CACH,CA+/BC,OA//BAN,EAAAA,GAAAA,GAAAwyJ,EAAA,EAAAn7J,IAAA,uBAAA6C,MAED,WACEvG,KAAKu/J,SAAU,EAEXv/J,KAAK8gK,aACPrpF,aAAaz3E,KAAK8gK,YAEtB,GAAC,CAAAp9J,IAAA,oBAAA6C,MAED,WACEvG,KAAK6hK,iBACLl/G,GAAAA,SAAAA,SACF,GAAC,CAAAj/C,IAAA,qBAAA6C,MAED,SAAmBiuG,EAAWC,GAC5B,IACQqtD,EACJttD,EADFvtG,KAIQ86J,EAENttD,EAFF5nF,OACYm1I,EACVvtD,EADFusD,WAGF/J,EAIIj3J,KAAKsjB,MAHPuJ,EAAMoqI,EAANpqI,OACAm0I,EAAU/J,EAAV+J,WACAjgB,EAAgBkW,EAAhBlW,iBAGF3Q,EAGIpwI,KAAK0gB,MAFPqsH,EAASqD,EAATrD,UACA9lI,EAAImpI,EAAJnpI,KAGI63J,EAAmBnpI,GAA4B8iB,GAAAA,KAAAA,eAEhC,IADDqmH,EAAiBmD,WAAU,SAAA1xJ,GAAM,OAAIA,EAAOoZ,WAAao3H,EAAiBp3H,UAAYpZ,EAAOP,UAAY+wI,EAAiB/wI,OAAO,KAEnJhQ,KAAKkiK,6BAA6BpD,GAGpC,IAAMqD,EAA0Bp1B,EAAU/0F,MAAK,SAAA9C,GAAQ,OAAIA,EAASvrB,WAAao3H,EAAiBp3H,UAAYurB,EAASllC,UAAY+wI,EAAiB/wI,OAAO,IACvJmyJ,GAA2BA,EAAwB14I,UAAYs3H,EAAiBt3H,SAClFzpB,KAAK0qD,UAAS,iBAAO,CACnBq2F,iBAAgB1pI,GAAAA,GAAA,GAAO0pI,GAAgB,IAAEt3H,QAAS04I,EAAwB14I,UAC3E,IAGCq4I,IAAa76J,GACfjH,KAAKoiK,qBAGHL,IAAel1I,GAAUm1I,IAAmBhB,GAC9ChhK,KAAKqiK,0BAET,GAAC,CAAA3+J,IAAA,mBAAA6C,MA2WD,WACE,IACUojB,EACN3pB,KAAK0gB,MADPzZ,KAAQ0iB,SAEV24I,EAAkCtiK,KAAKsjB,MAA/BtT,EAAOsyJ,EAAPtyJ,QAASmiJ,EAAYmQ,EAAZnQ,aAEjB,IAAKniJ,EAAS,OAAO,EAErB,GAAsD,QAAlDmyC,GAAex4B,GAAU,GAAO5hB,cAClC,QAAK+c,GAAAA,EAAAA,cAAAA,IAA4B9U,IACxByoC,GAAAA,IAAAA,iBAA6BzoC,GAKxC,GAAImiJ,EAAar8G,QAAS,CACxB,IAAMppB,EAAeylI,EAAazlI,aAAa7P,cAC/C,OAAOiI,GAAAA,EAAAA,cAAwB4H,GAAc1c,EAC/C,CAEA,IAAMozC,EAAcjB,GAAex4B,GAAU,GAAM9M,cAEnD,OAAOiI,GAAAA,EAAAA,cAAwBs+B,GAAapzC,EAC9C,GAAC,CAAAtM,IAAA,SAAA6C,MA+JD,WAAS,IAAAg8J,EAAAtmJ,EAAA,KACPumJ,EAyBIxiK,KAAKsjB,MAxBP48I,EAAKsC,EAALtC,MACArzI,EAAM21I,EAAN31I,OACA7c,EAAOwyJ,EAAPxyJ,QACAuqC,EAAQioH,EAARjoH,SACAmnH,EAAiBc,EAAjBd,kBACAlB,EAASgC,EAAThC,UACAQ,EAAUwB,EAAVxB,WACAS,EAAkBe,EAAlBf,mBACAZ,EAAW2B,EAAX3B,YACA3sB,EAAcsuB,EAAdtuB,eACAirB,EAAeqD,EAAfrD,gBACApe,EAAgByhB,EAAhBzhB,iBACA+Q,EAAa0Q,EAAb1Q,cACA1tD,EAAYo+D,EAAZp+D,aACA57D,EAAIg6H,EAAJh6H,KACAu3H,EAAQyC,EAARzC,SACAxxH,EAAMi0H,EAANj0H,OACA4vH,EAAmBqE,EAAnBrE,oBACArB,EAAW0F,EAAX1F,YACA0C,EAAUgD,EAAVhD,WACArN,EAAYqQ,EAAZrQ,aAESsQ,EAAWD,EADpBrQ,aACEziF,MAIJslE,EAAkDh1I,KAAK0gB,MAA/C/L,EAAIqgI,EAAJrgI,KAAM0uF,EAAI2xC,EAAJ3xC,KAAM73E,EAAUwpH,EAAVxpH,WAAYu+H,EAAa/U,EAAb+U,cAC1BqN,EAAS1hB,GAAAA,IAAS11I,KAAM,UAAW,SAAU,QAAS,aAAc,WAGxE2pB,EAIEo3H,EAJFp3H,SACS6qB,EAGPusG,EAHF/wI,QACSslJ,EAEPvU,EAFFt3H,QACA+pE,EACEutD,EADFvtD,QAGI6oE,EAAY1mI,GAA4B8iB,GAAAA,KAAAA,cACxC8oH,EAAuBp/G,GAAe4+F,EAAiBp3H,UAAU,GAAM9M,cACvE6lJ,EAAoBvgH,GAAe2vG,GAAe,GAAMj1I,cACxD8lJ,EAA8B3iK,KAAK4iK,oBAAoB,CAC3DtB,gBAAiBjF,IAEbwG,EAA4B,IAAIxlI,GAAAA,EAAUqkI,aAAiB,EAAjBA,EAAmBj4I,SAAS08C,WAAW39B,EAAKi3H,OACtF3B,EAAwB,IAAIzgI,GAAAA,GAAUqkI,SAAoC,QAAnBa,EAAjBb,EAAmB53I,yBAAiB,IAAAy4I,OAAnB,EAAjBA,EAAsC7mH,aAAc,GAE1FonH,EAAsB3Q,EAAar8G,QACrC,IAAIzY,GAAAA,EAAUxQ,GAAQue,cAAcmP,EAAS9wB,SAC7C,IAAI4T,GAAAA,EAAUxQ,GAAQme,KAAKxC,EAAKvc,OAAOmf,cAAcmP,EAAS9wB,SAE5DugF,IACFn9E,GACC2zI,KACEN,IACDlgK,KAAK4wE,oBACNuhF,EAAar8G,SAAW+sH,GACxBC,GAGA,IAAIzlI,GAAAA,EAAUxQ,GAAQujB,KAAO+uH,EAG5B4D,GAAShgE,EAAAA,GAAAA,IAAe,CAC5BigE,cAAe,CACb/4J,GAAI,mBACJ+4F,eAAgB,QAElBigE,kBAAmB,CACjBh5J,GAAI,6BACJ+4F,eAAgB,wBAElBkgE,mBAAoB,CAClBj5J,GAAI,8BACJ+4F,eAAgB,4BAElBmgE,cAAe,CACbl5J,GAAI,yBACJ+4F,eAAgB,uBAElBogE,eAAgB,CACdn5J,GAAI,0BACJ+4F,eAAgB,oCAElBqgE,iBAAkB,CAChBp5J,GAAI,2BACJ+4F,eAAgB,iCAcdsgE,EAAeP,EATnBjR,IAAkBtmI,EACd8sC,EAAAA,GAAQ,yCAGRA,EAAAA,GAAQ,kCAORirG,EACJn7D,KAAAA,cAAAA,KAAAA,SAAA,KACGy4D,GACCz4D,KAAAA,cAAC2yD,GAAQ,CACP9L,SAAUjvJ,KAAKivJ,SACf6L,YAAa96J,KAAKwlD,YAClBq1G,WAAY76J,KAAK66J,aAGpBrnE,GAAW4U,KAAAA,cAACo7D,GAAgB,CAAC74E,YAAa6I,KACzCu2D,GACA3hD,KAAAA,cAAA,KAAGC,UAAW8pD,EAAar8G,QAAU,WAAa,UAChDsyD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,cACH+4F,eAAe,sGACfl9F,OAAQ,CACNk8E,UAAWomB,KAAAA,cAAA,YAAO+pD,EAAar8G,QAAU9Q,GAAWxvB,IAAMgzB,EAAKvc,MAAMqR,YACrEu3E,GAAIzM,KAAAA,cAAA,WACJnhG,KAAM,GAAFvE,OAAK++J,OAMjBr5D,KAAAA,cAAA,OAAKrqD,MAAO,CAAE0lH,aAAc,SAC1Br7D,KAAAA,cAAA,OAAKC,UAAU,yBACbD,KAAAA,cAACs7D,GAAU,KACTt7D,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,cAAc+4F,eAAe,uBAEpDoF,KAAAA,cAAC2zD,IAAYlwD,EAAAA,GAAAA,GAAA,GACP7rG,KAAK0gB,MAAK,CACdqgI,iBAAkBA,EAClBuU,eAAgBA,EAChB3rI,SAAUA,EACV6B,WAAYA,EACZ6wI,UAAWA,EACX7nH,eAAgBA,OAItB4zD,KAAAA,cAAA,OAAKC,UAAU,aACbD,KAAAA,cAACs7D,GAAU,KACTt7D,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,eAAe+4F,eAAe,aAClD,IACDoF,KAAAA,cAACwG,GAAO,CAAC3kG,GAAG,UACVm+F,KAAAA,cAAA,OAAKrqD,MAAO,CAAE+5G,UAAW,WACvB1vD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,SACH+4F,eAAe,2EACfl9F,OAAQ,CACN+uG,GAAIzM,KAAAA,cAAA,WACJz+E,SAAU,GAAFjnB,OAAKinB,EAAS9M,qBAMhCurF,KAAAA,cAAC2kD,GAAK,CACJ9iJ,GAAG,iBACH+iJ,UAAWoK,EAAOpnJ,QAClBu/I,aAAW,EACXrC,QAAQ,aACR3T,YAAW,SAAA72I,OAAWinB,EAAS9M,cAAa,wBAC5CqyI,GAAI52F,EAAAA,GACJ22F,SAAUjvJ,KAAKivJ,WAGhBj/I,IAAYhQ,KAAK4wE,oBAChBw3B,KAAAA,cAAA,OAAKC,UAAU,mBACbD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,0BACH+4F,eAAe,+BAKvBoF,KAAAA,cAAA,OAAKC,UAAU,WAAWtqD,MAAO,CAAE0lH,aAAc,SAE/Cr7D,KAAAA,cAAA,OAAKrqD,MAAOqmD,EAAe,CAAEu/D,MAAO,aAAW3iK,EAAWqnG,UAAU,wBACjEs6D,GACCv6D,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAA,QACEC,UAAW8C,KAAG,2BAA4B,CACxCy4D,+BAAgC9R,EAAcj1I,gBAAkB2O,IAElE88E,QAAS,kBAAMrsF,EAAKw7I,wBAAwBjsI,EAAW,GAEtDA,GAEH48E,KAAAA,cAAA,QAAMC,UAAU,eAGpBD,KAAAA,cAAA,QACEC,UAAW8C,KAAG,2BAA4B,CACxCy4D,+BACElB,IAAsBnB,IAE1Bj5D,QAAS,kBAAMrsF,EAAKw7I,wBAAwB1W,EAAiBp3H,SAAS,GAErE43I,IAILn5D,KAAAA,cAAA,KAAGrqD,MAAOqmD,EAAe,CAAEu/D,MAAO,aAAW3iK,EAAWqnG,UAAU,WAC/D,IAAIhrE,GAAAA,EAAUxQ,GAAQue,cAAc,IAAMu3H,GACzCt/D,EAAKC,cAAc,CACjBr5F,GAAIq5J,EAAar5J,GACjB+4F,eAAgBsgE,EAAatgE,gBAC5B,CACDn2E,OAAQilI,IAAkBtmI,EACtB,IAAI6R,GAAAA,EAAU2jI,GAAY5wH,GAAG,EAAG/S,GAAAA,EAAAA,YAAsBC,WACtD,IAAID,GAAAA,EAAUxQ,GAAQujB,GAAG,EAAG/S,GAAAA,EAAAA,YAAsBC,WACtD3T,SAAUmoI,IAAkBtmI,EAAaA,EAAa+1I,EAAqB1kJ,iBAKjFurF,KAAAA,cAACs7D,GAAU,KACTt7D,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,YAAY+4F,eAAe,YAElDoF,KAAAA,cAAA,OAAKC,UAAU,SACbD,KAAAA,cAAC2kD,GAAK,CACJ9iJ,GAAG,cACHijJ,QAAQ,SACRkH,UAAWpD,GACXhE,UAAW8E,IAAkB/Q,EAAiBp3H,SAC1CytI,EAAOvqI,OAAO03F,KAAKvkH,KAAK6jK,cACxBzM,EAAO4J,WAAWz8C,KAAKvkH,KAAK6jK,iBAMhCz/D,GAEEgE,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAA,OAAKrqD,MAAO,CAAE+lH,WAAY,SACxB17D,KAAAA,cAACwD,GAAM,CAACjM,SAAUogE,EAAUt1D,MAAI,EAACG,KAAG,EAACtC,QAAStoG,KAAK+jK,cAAe95J,GAAG,eACnEm+F,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,YAAY+4F,eAAe,WAGlD1qC,EAAAA,IACA8vC,KAAAA,cAACwG,GAAO,CAAC3kG,GAAG,cAAcqkG,MAAM,MAAM9iB,MAAM,GAC1C4c,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,mBACH+4F,eAAe,uHACfl9F,OAAQ,CACN+uG,GAAIzM,KAAAA,cAAA,iBASnB2hD,GACC3hD,KAAAA,cAAA,OAAKC,UAAS,UAAA3lG,OAAYq9J,EAAW,OAAS,KAC3C5N,EAAar8G,SAAW+sH,EAErBz6D,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,+BACH+4F,eAAe,mDACfl9F,OAAQ,CACN67J,cAAeD,aAAiB,EAAjBA,EAAmB/3I,YAItC4wB,EAAShmB,gBAAgB4W,UAAU,GAEjCi9D,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,kCACH+4F,eAAe,+BAGjBoF,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,cACH+4F,eAAe,6DACfl9F,OAAQ,CACNk+J,eAAgBlS,IAAkB/Q,EAAiBp3H,SAC/C4wB,EAAShmB,gBAAgB+I,WACzBid,EAAS6mH,YAAY9jI,WACzB3T,SAAUmoI,IAAkB/Q,EAAiBp3H,SACzC43I,EACA/1I,KAIb,IACD48E,KAAAA,cAACwG,GAAO,CAAC3kG,GAAG,UACVm+F,KAAAA,cAAA,OAAKrqD,MAAO,CAAE6gH,SAAU,OAAQ9G,UAAW,WACzC1vD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,SACH+4F,eAAe,yEACfl9F,OAAQ,CACN+uG,GAAIzM,KAAAA,cAAA,kBAQlBA,KAAAA,cAAA,OAAKC,UAAU,sBACbD,KAAAA,cAACs7D,GAAU,KACTt7D,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,UAAU+4F,eAAe,aAEhDoF,KAAAA,cAAA,OAAKC,UAAU,SACbD,KAAAA,cAAC2kD,GAAK,CACJC,UAAWoK,EAAOrrE,QAClBwtD,YACEl2C,EAAKC,cAAc,CACjBr5F,GAAI,UACJ+4F,eAAgB,gBAM1BoF,KAAAA,cAAA,OAAKC,UAAU,mBACbD,KAAAA,cAAA,OAAKC,UAAU,aACbD,KAAAA,cAACwD,GAAM,CAAChB,KAAG,EAACK,MAAI,EAACV,OAAK,EAACjC,QAAStoG,KAAKikK,aACnC77D,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,yBAAyB+4F,eAAe,aAGjEoF,KAAAA,cAAA,OAAKC,UAAU,aACbD,KAAAA,cAACwD,GAAM,CACL3hG,GAAG,aACHsgG,OAAK,EACLK,KAAG,EACHK,MAAI,EACJ7+E,QAASo0I,EACT7gE,SAAUqK,EACV1B,QAAStoG,KAAKs5I,cAEdlxC,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,mBAAmB+4F,eAAe,SACtD,IAAG,GAAAtgG,OACAinB,EAAS9M,mBAKpBunF,GAAgB+tD,EAAar8G,SAC5BsyD,KAAAA,cAAC87D,IAAiBr4D,EAAAA,GAAAA,GAAA,GAAKzH,EAAY,CAAEz6E,SAAUA,KAEhD6pE,GACC4U,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAA,WACAA,KAAAA,cAAA,OAAKC,UAAU,WAAWtqD,MAAO,CAAE0lH,aAAc,SAC/Cr7D,KAAAA,cAAA,OAAKC,UAAU,cACbD,KAAAA,cAAA,OAAKC,UAAU,aACbD,KAAAA,cAACs7D,GAAU,CAAChJ,OAAK,GACftyD,KAAAA,cAAA,QAAMC,UAAU,cACdD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,gBAAgB+4F,eAAe,uBAK5DoF,KAAAA,cAAA,OAAKC,UAAU,SACbD,KAAAA,cAAC2kD,GAAK,CACJ1kD,UAAU,QACV2kD,UAAWoK,EAAO8I,MAClB3mB,YAAW,GAAA72I,OAAK2gG,EAAKC,cAAcy/D,EAAOM,uBAIhDj7D,KAAAA,cAACwD,GAAM,CACLvD,UAAU,aACVoC,MAAI,EACJG,KAAG,EACHP,WAAS,EACT1K,UAAWugE,GAASM,EACpBl4D,QAAStoG,KAAKs5I,cAEbknB,EACCp4D,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,qBAAqB+4F,eAAe,kBAEzDoF,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,6BACH+4F,eAAe,8BAMxB+mD,GACC3hD,KAAAA,cAAA,OAAKrqD,MAAO,CAAEs3D,WAAY,QACxBjN,KAAAA,cAAC+7D,GAAY,CACXhS,aAAcA,EACdxoI,SAAUA,EACV6B,WAAYA,EACZoyI,aAAc6D,EACd3D,sBAAuBA,EACvB5pB,eAAgBA,EAChBgqB,mBAAoBsB,EACpBpoB,UAAW2oB,EACX37D,aAAcA,EACd65D,UAAWwE,EACXl0H,OAAQA,EACRuuH,YAAaA,EACbqB,oBAAqBA,EACrBC,cAAep+J,KAAKokK,cACpBt6H,SAAUtB,EAAKi3H,MACfpxH,WAAY7F,EAAKtsB,YAO3B,OACEksF,KAAAA,cAAC4iD,GAAK,CACJr2I,KAAMA,EACN+uF,QAAS1jG,KAAKikK,YACdj2J,MAAK,GAAAtL,OAAK2gG,EAAKC,cAAcy/D,EAAOC,eAAiB,KAAGtgK,OAAGinB,EAAS9M,gBAEnE0mJ,EAGP,KAAC1E,CAAA,CArlCyC,CAChBz2D,KAAAA,aAAeQ,KAAAA,GAulC3C,UAAegF,EAAAA,GAAAA,IAAWixD,I,mlBC1tCmB,IAiBvCwF,IAfLnpG,EAAAA,EAAAA,KACC,SAAA3uD,GAAA,IAAAugI,EAAAvgI,EACEopB,KACEnK,EAAUshH,EAAVthH,WACAL,EAAmB2hH,EAAnB3hH,oBACuB4B,EAAO+/G,EAA9B3hH,oBAAuB4B,QAEnBoH,EAAsB5nB,EAA5B2pB,GAAM/B,uBAAsB,MACvB,CACL3I,WAAAA,EACAzR,MAAO,CAACoR,GAAmBzoB,QAAA0mB,EAAAA,EAAAA,GAAK2D,IAChCg9H,cAAe51H,EAChB,GAE6Dw0E,CAAAC,GAA/DuB,KAAU9yF,GAAAA,GAAC,CAAC,EAAI8sC,IC5CjB,CAAgB,uBAAyB,2BAA2B,YAAc,2BAA2B,gBAAkB,2BAA2B,UAAY,6BD4C9H,CAAE+lD,eAAe,GAAO+iC,EAAA79B,GAAA,SAAAvG,IAAAnuF,EAAAA,GAAAA,GAAA2pJ,EAAAx7D,GAAA,I,IAAAluF,G,EAAA0pJ,E,maAU9D,SAAAA,EAAY3jJ,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAAi4J,GACjB13J,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,+BAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAgEK,SAAAO,IAAA,IAAA4iF,EAAAlnE,EAAA,OAAAjc,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OACG,OAAZ89F,EAAiBz3F,EAAK2W,MAAtB8gF,aAAY3iF,EAAAnb,KAAA,EAEC47D,GAAAA,IAAAA,iBAAgC,CAAErkC,OAAQ,gBAAiBoR,MAAO,SAAS,OAA5F/R,EAAQzb,EAAAC,KACZsjB,GAAAA,iBAAiC9H,EAE7BknE,IACFlnE,EAAM,IAAIG,GAAAA,EAAUH,GAAK8N,KAAKo5D,EAAalnE,KAAKI,YAGlD3wB,EAAK+9C,SAAS,CACZxtB,IAAAA,IACA,wBAAAzb,EAAAJ,OAAA,GAAAG,EAAA,OACHrI,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mCAAAkV,GAAAb,EAAAA,EAAAA,GAAAC,IAAAA,MAEmB,SAAAC,EAAOyI,GAAQ,IAAA3Z,EAAAs0J,EAAAx3I,EAAArD,EAAA+rI,EAAA,OAAAv0I,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OAEhB,OAAP0J,EACNrD,EAAK+T,MADPzZ,KAAQ+I,QAAOuR,EAAAjb,KAAA,EAQPmyC,GAAAA,YAAAA,eAAmCzoC,GAAQ,OAAAs0J,EAAA/iJ,EAAAG,KAHnDoL,EAAkBw3I,EAAlBx3I,mBAEArD,EAAO66I,EAAP76I,QAGI+rI,OACmBx0J,IAAvB8rB,GAAoCA,EAAqB,EACrD,IAAIuQ,GAAAA,EAAU5T,GAASuhB,KAAKle,GAAoBtsB,WAChDipB,EAEN9c,EAAK+9C,UAAS,iBAAO,CACnBjhC,QAAS+rI,EACV,IAAE,wBAAAj0I,EAAAF,OAAA,GAAAH,EAAA,KACJ,gBAAAS,GAAA,OAAAE,EAAA9B,MAAA,KAAAhf,UAAA,EAtBA,KAsBAoY,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEgB,SAAAkB,IAAA,IAAAqnF,EAAA7/E,EAAA6B,EAAA0oH,EAAA,OAAAjzH,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,OAGH,OAHGkjG,EAIX78F,EAAK+T,MAFCiJ,EAAQ6/E,EAAhBviG,KAAQ0iB,SACR6B,EAAUg+E,EAAVh+E,WAAUnJ,EAAA/b,KAAA,EAGiBmyC,GAAAA,KAAAA,gBAA6B9uB,EAAU6B,EAAWzjB,eAAc,OAAvFmsI,EAAc7xH,EAAAX,KAEpB/U,EAAK43J,UAAU56I,GAAYuqH,EAE3BvnI,EAAK+9C,UAAS,iBAAO,CACnBwpF,eAAAA,EACD,IAAE,wBAAA7xH,EAAAhB,OAAA,GAAAc,EAAA,OACJhJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEc,SAAAa,IAAA,IAAAiqC,EAAApb,EAAA9jB,EAAAqzI,EAAAx0D,EAAA20D,EAAA12I,EAAA3Z,EAAAwjF,EAAA3J,EAAAl1E,EAAA2rJ,EAAAt+J,EAAA0pC,EAAA,OAAAzqB,IAAAA,MAAA,SAAAe,GAAA,cAAAA,EAAA/Z,KAAA+Z,EAAA1b,MAAA,OAeZ,GAfYylD,EAC0Bp/C,EAAK2W,MAA3BqtB,EAAEob,EAAX/7C,QAAa6c,EAAMk/B,EAANl/B,OAAQqzI,EAAKn0G,EAALm0G,MAAKx0D,EAI9B/+F,EAAK+T,MAAK2/I,EAAA30D,EAFZzkG,KAAQ0iB,EAAQ02I,EAAR12I,SAAU3Z,EAAOqwJ,EAAPrwJ,QAAgBqwJ,EAAP52I,QAAS+pE,EAAO6sE,EAAP7sE,QAAS3J,EAAOw2E,EAAPx2E,QAC7Cl1E,EAAI+2F,EAAJ/2F,KAGFhI,EAAK+9C,UAAS,iBAAO,CAAE81G,WAAW,EAAM,IAExC7zJ,EAAK63J,kBAAkB76I,GAEnB22I,EAAc,CAChB3vH,GAAAA,EACA9jB,OAAAA,EACAoiB,MAAO,SAGLukD,IAAW0sE,EAAK,CAAAl+I,EAAA1b,KAAA,gBAAA0b,EAAA1b,KAAA,EACZmyC,GAAAA,SAAAA,YAA6B+6C,EAAQvpF,GAAI,QAASi2J,EAAOlwJ,GAAQ,OAWtE,OAVDyoC,GAAAA,OAAAA,OACAA,GAAAA,cAAAA,KAA2B39B,GAAAA,cAAAA,gBAAyC,CAClE+R,OAAAA,EACAlD,SAAAA,EACA3Z,QAAS2gC,IAEXhkC,EAAK+9C,UAAS,iBAAO,CAAE81G,WAAW,EAAOr1J,OAAO,EAAO,IACvDstC,GAAAA,OAAAA,MAAqB9jC,GACjBk1E,aAAmBxnD,UACrBwnD,IACD7nE,EAAAC,OAAA,kBAUH,OANAq+I,EAAWjpJ,GAAAA,GAAA,GACNipJ,GAAW,IAEdz8J,KAAMmM,IAGRgS,EAAA1b,KAAA,GACqBmyC,GAAAA,YAAAA,KAAyB6nH,GAAY,QAE1C,GAFVt+J,EAAMggB,EAAAN,KAERgqB,GAAO,GAEP1pC,EAAQ,CAAFggB,EAAA1b,KAAA,gBAAA0b,EAAA1b,KAAA,GAEKmyC,GAAAA,WAAAA,UAA6B,CACxC86C,OAAQvjF,EACR25C,YAAahZ,EACb9jB,OAAAA,EACAyL,IAAK,KACL2Z,MAAOjwC,IACP,QANF0pC,EAAI1pB,EAAAN,KAAA,QASN/U,EAAK83J,oBAAsBhsH,GAAAA,YAAAA,iBACzB,CACElF,MAAOvxC,EACP0pC,KAAAA,EACA17B,QAAS2gC,EACT9jB,OAAAA,EACAlD,SAAU,MACV6pE,QAAAA,IAEF,WACE7mF,EAAK+9C,SAAS,CACZz2B,KAAM,UACNsf,MAAOvxC,EACP0pC,KAAAA,EACA80H,WAAW,GAEf,IACA,WACE7zJ,EAAK+9C,SAAS,CACZz2B,KAAM,UACNsf,MAAOvxC,EACP0pC,KAAAA,EACA80H,WAAW,GAEf,IACD,yBAAAx+I,EAAAX,OAAA,GAAAS,EAAA,OACF3I,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEgB,SAAA0B,IAAA,IAAA8pC,EAAAhjC,EAAAyT,EAAAknE,EAAAsgE,EAAA9zH,EAAA+zH,EAAA,OAAA1jJ,IAAAA,MAAA,SAAAmC,GAAA,cAAAA,EAAAnb,KAAAmb,EAAA9c,MAAA,QAAAmmD,EAC0C9/C,EAAK2W,OAAtDuJ,OAAQpD,EAAOgjC,EAAPhjC,QAAiBgjC,EAAR9iC,SAAUuT,EAAGuvB,EAAHvvB,IAAKknE,EAAY33C,EAAZ23C,aAEvBz3F,EAAK+T,MAAdzZ,KAEJy9J,EAASxnI,EAETknE,IACExzD,EAAgB,IAAIvT,GAAAA,EAAU+mE,EAAa9rE,KAAKmQ,UAAU,KAAKsC,aAAathB,GAChFi7I,EAAS,IAAIrnI,GAAAA,EAAUqnI,GAAQ15H,KAAK4F,GAAetT,YAG/CqnI,EAAel7I,EACL,IAAZA,EACE,IAAI4T,GAAAA,EAAU5T,GAASy1C,MAAMwlG,GAAQlkK,WACrCipB,EACF,0BAEJ9c,EAAK+9C,SAAS,CACZ79B,OAAQ83I,IACR,wBAAAvhJ,EAAA/B,OAAA,GAAAsB,EAAA,OACHxJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAagB,WACfA,EAAK+9C,SACH,CACE8hD,cAAc,IAEhB,WACEpuF,YAAW,WACTzR,EAAK+9C,SAAS,CACZ8hD,cAAc,GAElB,GAAG,IACL,GAEJ,KAACrzF,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAEa,WACZ,IAAQgI,EAAShI,EAAK+T,MAAd/L,KACR8jC,GAAAA,OAAAA,MAAqB9jC,EACvB,KAACwE,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,YAEU,WACT,IAAQk0J,EAAgBl0J,EAAK2W,MAArBu9I,YAERl0J,EAAK+9C,UAAS,iBAAO,CACnBm2G,aAAcA,EACf,GACH,KAAC1nJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAEa,SAACrO,GACbsb,QAAQzO,MAAM7M,EAChB,KAAC6a,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,cAEY,SAAC1F,GACZ,GAAIA,EAAM,CACR,IAAM+I,EAAU/I,EAAKxG,MAAM,KAAK,GAAGA,MAAM,KAAK,GACxCosB,EAAS5lB,EAAKxG,MAAM,KAAK,GAC/BkM,EAAK+9C,UAAS,iBAAO,CACnB16C,QAAAA,EACA6c,OAAAA,EACD,IACDlgB,EAAKsiJ,UACP,CACF,KAAC91I,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAEa,WACZ,IAAQgI,EAAShI,EAAK+T,MAAd/L,KAER8jC,GAAAA,OAAAA,MAAqB9jC,EACvB,IAvRE,IAAAiwJ,EAGIlkJ,EAFFzZ,KAAkB4lB,GAAF+3I,EAARj7I,SAAgBi7I,EAAN/3I,QAAQuhB,EAASw2H,EAATx2H,UAAWp+B,EAAO40J,EAAP50J,QACrC+J,EACE2G,EADF3G,MAIIolJ,EAAkBrkJ,GAAAA,cAAAA,YAElBq3I,EAAep4I,EAAM3K,QAAO,SAAClK,GAAI,OAAKA,EAAK8K,UAAYA,CAAO,IAAE,GAEtErD,EAAK83J,qBAAsB,EAE3B,IAAIrgE,GAAoB,EAEpBlnE,EAAM8H,GAAAA,iBA4BT,OA1BG1W,IAAUA,GAAAA,MAAeA,GAAAA,KAAAA,KAAmBA,GAAAA,KAAAA,IAAAA,MAC9C81E,EAAe91E,GAAAA,KAAAA,IAAAA,OAGb4O,EAAM,IAAIG,GAAAA,EAAUH,GAAK8N,KAAKo5D,EAAalnE,KAAKI,YAIpD3wB,EAAK2W,MAAQ,CACX8gF,aAAAA,EACAnwE,KAAM,WACNusI,WAAW,EACXxwJ,QAASo+B,GAAwB,GACjCvhB,OAAQA,GAAkB,GAC1BpI,KAAM,GACNy6C,MAAO,GACPz1C,QAAS0oI,EAAa1oI,SAAW,EACjCo7I,WAAY,KACZ1F,gBAAAA,EACA2F,QAAS,EACT35J,OAAO,EACP45J,cAAc,EACdxxH,MAAO,GACPi5D,cAAc,EACd0zD,MAAO,GACPhjI,IAAAA,GACDvwB,CACH,CAiiBC,OAjiBAN,EAAAA,GAAAA,GAAAg4J,EAAA,EAAA3gK,IAAA,oBAAA6C,MAED,WAC6BvG,KAAKsjB,MAAxB4wH,eAAR,IAEUvqH,EACN3pB,KAAK0gB,MADPzZ,KAAQ0iB,SAGV3pB,KAAKwkK,kBAAkB76I,GAEvB3pB,KAAKukK,UAAY,CAAC,EAClBvkK,KAAKglK,iBACLhlK,KAAKilK,kBACP,GAAC,CAAAvhK,IAAA,uBAAA6C,MAED,WACMvG,KAAKykK,qBAAqBzkK,KAAKykK,qBACrC,GAAC,CAAA/gK,IAAA,mBAAA6C,MAgKD,WAGMvG,KAAK0gB,MADPzZ,KAAQ0iB,SADV,IAGQ3Z,EAAYhQ,KAAKsjB,MAAjBtT,QAER,QAAK8U,GAAAA,EAAAA,cAAAA,IAA4B9U,IACxByoC,GAAAA,IAAAA,iBAA6BzoC,EAExC,GAAC,CAAAtM,IAAA,SAAA6C,MAoDD,WACE,IAAAgjG,EAiBIvpG,KAAKsjB,MAhBPtT,EAAOu5F,EAAPv5F,QACA6c,EAAM08E,EAAN18E,OAEApD,GADI8/E,EAAJ9kF,KACO8kF,EAAP9/E,SACA+2I,EAASj3D,EAATi3D,UACAthG,EAAKqqC,EAALrqC,MACAg1E,EAAc3qC,EAAd2qC,eACAirB,EAAe51D,EAAf41D,gBACAh0J,EAAKo+F,EAALp+F,MACA8oB,EAAIs1E,EAAJt1E,KAEAyX,GADK69D,EAALh2D,MACIg2D,EAAJ79D,MAEAw0H,GADY32D,EAAZiD,aACKjD,EAAL22D,OACAW,EAAWt3D,EAAXs3D,YACAz8D,EAAYmF,EAAZnF,aAGFkrC,EAKItvI,KAAK0gB,MAJP/L,EAAI26H,EAAJ36H,KAAIuwJ,EAAA51B,EACJroI,KAAQ0iB,EAAQu7I,EAARv7I,SAAU6pE,EAAO0xE,EAAP1xE,QAElB6P,GADKisC,EAALv1H,MACIu1H,EAAJjsC,MAGFqR,EAA+B10G,KAAKsjB,MAA9B4Z,EAAGw3E,EAAHx3E,IAAUioI,EAAUzwD,EAAfx3E,IAEX,GAAIknE,GACEv3E,EAAQ,CACV,IAAI+jB,EAAgB,IAAIvT,GAAAA,EAAU+mE,EAAa9rE,KAAKmQ,UAAU,KAAKsC,aAAale,GAC5E,IAAIwQ,GAAAA,EAAU+mE,EAAalnE,KAAKkO,cAAcwF,KAChDA,EAAgB,IAAIvT,GAAAA,EAAU+mE,EAAalnE,MAE7CA,EAAM,IAAIG,GAAAA,EAAUH,GAAK8N,KAAK4F,GAAetT,UAC/C,CAGF,IAAI8nI,EAAgB,GAAH1iK,OAAMszF,MAAetzF,OAAG20C,GAAM6/C,UAAS,iBAAAx0F,OAAgBgpC,GACpE8nD,IACF4xE,EAAgB,GAAH1iK,OAAMszF,MAAetzF,OAAG20C,GAAM6/C,UAAS,wBAAAx0F,OAClD8wF,EAAQvpF,GAAE,KAAAvH,OACRgpC,IAGN,IAAM0rH,EAAS1hB,GAAAA,IAAS11I,KAAM,UAAW,SAAU,OAAQ,SAErD49J,EAAej0I,EAAS9M,cAExBmtF,GACHh6F,IACA6c,GACD2zI,GACAN,IACClgK,KAAK4wE,oBACN,IAAIvzC,GAAAA,EAAUxQ,GAAQue,cAAc3hB,IAGpC,IAAI4T,GAAAA,EAAUxQ,GAAQujB,KAAO+uH,EAGzB2F,EAAUj4I,EAASqnH,EAErB,IAAI72G,GAAAA,EAAUxQ,GAAQue,cAAc,IACtCgsH,EAAOvqI,OAAOzG,OACZ,SAAC7f,GAAK,OAAK,IAAI82B,GAAAA,EAAU92B,GAAO+pD,oBAAoB7mC,EAAQ,GAC5D2+E,KAAAA,cAAA,OAAKrqD,MAAO,CAAE43F,MAAO,QAASqK,SAAU,SACtC53C,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,0BACH+4F,eAAe,mDAMnBhjG,KAAKsjB,MAAMuJ,OAAS,GACtB7sB,KAAK0qD,SAAS,CACZ79B,OAAQ,GACRqyC,OAAO,IAIX,IAAM6jG,GAAShgE,EAAAA,GAAAA,IAAe,CAC5BigE,cAAe,CACb/4J,GAAI,mBACJ+4F,eAAgB,QAElBqgE,iBAAkB,CAChBp5J,GAAI,2BACJ+4F,eAAgB,iCAIdugE,EACJn7D,KAAAA,cAACuB,GAAAA,SAAQ,KACNk3D,GACCz4D,KAAAA,cAAC2yD,GAAQ,CACP9L,SAAUjvJ,KAAKivJ,SACf6L,YAAa96J,KAAK86J,YAClBD,WAAY76J,KAAK66J,aAGpBrnE,GAAW4U,KAAAA,cAACo7D,GAAgB,CAAC74E,YAAa6I,IACjC,aAATv/D,GACCm0E,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,KAAGC,UAAU,8BACXD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,cACH+4F,eAAe,sGACfl9F,OAAQ,CAAEk8E,UAAWomB,KAAAA,cAAA,YAAOlrE,GAAa23E,GAAIzM,KAAAA,cAAA,WAAQnhG,KAAM,GAAFvE,OAAKk7J,OAGlEx1D,KAAAA,cAAA,WACAA,KAAAA,cAAA,WACAA,KAAAA,cAAA,WACAA,KAAAA,cAAA,OAAKC,UAAU,YAAYtqD,MAAO,CAAE0lH,aAAc,SAChDr7D,KAAAA,cAACs7D,GAAU,KACTt7D,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,eAAe+4F,eAAe,aAAc,IACjEoF,KAAAA,cAACwG,GAAO,CAAC3kG,GAAG,UACVm+F,KAAAA,cAAA,OAAKrqD,MAAO,CAAE+5G,UAAW,WACvB1vD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,SACH+4F,eAAe,2EACfl9F,OAAQ,CAAE+uG,GAAIzM,KAAAA,cAAA,WAAQz+E,SAAU,GAAFjnB,OAAKinB,EAAS9M,qBAKpDurF,KAAAA,cAAC2kD,GAAK,CACJC,UAAWoK,EAAOpnJ,QAClBu/I,aAAW,EACXrC,QAAQ,aACR3T,YAAW,SAAA72I,OAAWinB,EAAS9M,cAAa,wBAC5CqyI,IAAE,EACFI,YAAU,EACVL,SAAUjvJ,KAAKivJ,WAEhBj/I,IAAYhQ,KAAK4wE,oBAChBw3B,KAAAA,cAAA,OAAKC,UAAU,WACbD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,0BACH+4F,eAAe,+BAKvBoF,KAAAA,cAAA,OAAKC,UAAU,WAAWtqD,MAAO,CAAE0lH,aAAc,SAC/Cr7D,KAAAA,cAAA,KAAGC,UAAU,WACV5+E,EAAQ,IAAEE,EAAS9M,eAEtBurF,KAAAA,cAACs7D,GAAU,KACTt7D,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,YAAY+4F,eAAe,YAGlDoF,KAAAA,cAAA,OAAKC,UAAU,SACbD,KAAAA,cAAC2kD,GAAK,CACJ1kD,UAAU,QACV2kD,UAAWoK,EAAOvqI,OAClBqgI,QAAQ,SACR3T,YAAY,mBACZr+F,KAAM4pH,EAAQr2F,QAAQ,GACtB2lF,UAAWpD,KAEb5oD,KAAAA,cAAA,OAAKrqD,MAAO,CAAE+lH,WAAY,SACxB17D,KAAAA,cAACwD,GAAM,CAACnB,MAAI,EAACG,KAAG,EAACtC,QAAStoG,KAAKqlK,eAAgB,cAAS,WAAS,eAC/Dj9D,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,YAAY+4F,eAAe,WAGlD1qC,EAAAA,IACA8vC,KAAAA,cAACk9D,GAAAA,EAAY,CAACr7J,GAAG,cAAc2K,KAAK,QAAQ25F,OAAO,QAAQlG,UAAU,aACnED,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,mBACH+4F,eAAe,uHACfl9F,OAAQ,CACN+uG,GAAIzM,KAAAA,cAAA,gBAKVgvD,EAAOvqI,OAAO1hB,OACdi9F,KAAAA,cAAA,OAAKC,UAAWnpC,EAAQ,UAAY,QAClCkpC,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,mBACH+4F,eAAe,2BACfl9F,OAAQ,CAAEk8E,UAAW,GAAFt/E,OAAKyiK,SAMlC/8D,KAAAA,cAAA,OAAKC,UAAU,mBACbD,KAAAA,cAAA,OAAKC,UAAU,aACbD,KAAAA,cAACwD,GAAM,CAACnB,MAAI,EAACG,KAAG,EAACK,MAAI,EAACtL,SAAUqK,EAAY1B,QAAStoG,KAAKs5I,cACvDknB,EACCp4D,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,qBAAqB+4F,eAAe,oBAG3DoF,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,mBAAmB+4F,eAAe,YAK/DoF,KAAAA,cAAA,OAAKC,UAAU,aACbD,KAAAA,cAACwD,GAAM,CAAChB,KAAG,EAACK,MAAI,EAACP,MAAI,EAACpC,QAAStoG,KAAKikK,aAClC77D,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,yBAAyB+4F,eAAe,eAKpE73F,GACCi9F,KAAAA,cAAA,OAAKC,UAAU,WACbD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,yBACH+4F,eAAe,4CACfl9F,OAAQ,CACNy/J,UAAWliE,EAAKC,cAAcn4F,EAAMwJ,MACpC8J,aAAc4kF,EAAKC,cAAcn4F,EAAMikC,SACvCylE,GAAIzM,KAAAA,cAAA,WACJz+E,SAAU,GAAFjnB,OAAKinB,OAKpB6pE,GACC4U,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,WACAA,KAAAA,cAAA,OACEC,UAAU,WACVtqD,MAAO,CAAE0lH,aAAc,SAEvBr7D,KAAAA,cAAA,OAAKC,UAAU,cACbD,KAAAA,cAAA,OAAKC,UAAU,aACbD,KAAAA,cAACs7D,GAAU,CAAChJ,OAAK,GACftyD,KAAAA,cAAA,QAAMC,UAAU,cACdD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,gBAAgB+4F,eAAe,uBAK5DoF,KAAAA,cAAA,OAAKC,UAAU,SACbD,KAAAA,cAAC2kD,GAAK,CACJ1kD,UAAU,QACV2kD,UAAWoK,EAAO8I,MAClB3mB,YAAW,GAAA72I,OAAK2gG,EAAKC,cAAcy/D,EAAOM,uBAIhDj7D,KAAAA,cAACwD,GAAM,CACLvD,UAAU,aACVoC,MAAI,EACJG,KAAG,EACHP,WAAS,EACT1K,UAAWugE,GAASM,EACpBl4D,QAAStoG,KAAKs5I,cAEbknB,EACCp4D,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,qBAAqB+4F,eAAe,oBAG3DoF,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,6BACH+4F,eAAe,+BAQnB,YAAT/uE,GACCm0E,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,KAAGC,UAAU,8BACXD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,sBAAsB+4F,eAAe,oBAC1DoF,KAAAA,cAAA,WACAA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,wBACH+4F,eAAe,0CAGnBoF,KAAAA,cAAA,OAAKC,UAAU,aACbD,KAAAA,cAAA,OAAKC,UAAU,eACfD,KAAAA,cAAA,WACEA,KAAAA,cAACmE,GAAS,CAAC91D,KAAM2uH,MAGrBh9D,KAAAA,cAAA,OAAKC,UAAU,eACbD,KAAAA,cAACwD,GAAM,CAACvD,UAAU,aAAauC,KAAG,EAACH,MAAI,EAACJ,WAAS,EAAC/B,QAAStoG,KAAKwlK,aAC9Dp9D,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,uBAAuB+4F,eAAe,cAOvE,OACEoF,KAAAA,cAAC4iD,GAAK,CACJr2I,KAAMA,EACN3G,MAAK,GAAAtL,OAAK2gG,EAAKC,cAAcy/D,EAAOC,eAAiB,KAAGtgK,OAAGinB,EAAS9M,gBAEnE0mJ,EAGP,KAACc,CAAA,CAzlB6D,CACxBj8D,KAAAA,YAAejvF,EAAAA,EAAAA,GAAAi2F,GAAA,YAClC,CACjBz6F,KAAMm3F,KAAAA,OACN7kG,KAAM6kG,KAAAA,SAJsDlD,GAK7DwG,MAAAxG,KAAAA,GAulBH,UAAegF,EAAAA,GAAAA,IAAWy2D,I,OEhoB1B,IAAMr2J,IAAQ+0F,EAAAA,GAAAA,IAAe,CAC3BtS,iBAAkB,CAChBxmF,GAAI,gBACJ+4F,eAAgB,cAKdvS,GADL0Z,KCfD,CAAgB,QAAU,4BAA4B,KAAO,2BAA2B,IAAM,4BDe1E,CAAED,eAAe,GAAOvB,CAAAC,GAAA,SAAA0R,IAAA5/F,EAAAA,GAAAA,GAAA+1E,EAAA6pB,GAAA,I,IAAA3/F,G,EAAA81E,E,maAAA,SAAAA,IAAA,IAAA9jF,GAAAP,EAAAA,GAAAA,GAAA,KAAAqkF,GAAA,QAAA7wE,EAAA7e,UAAAd,OAAAqsE,EAAA,IAAAlsE,MAAAwf,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAwsD,EAAAxsD,GAAA/e,UAAA+e,GAMzC,OANyCnT,EAAAgO,EAAAtZ,KAAA0e,MAAApF,EAAA,OAAAjY,OAAA4pE,KAAAnzD,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAEvB,WACjB,IAAQgI,EAAShI,EAAK+T,MAAd/L,KAER8jC,GAAAA,OAAAA,MAAqB9jC,EACvB,IAAChI,CAAA,CAkCA,OAlCAN,EAAAA,GAAAA,GAAAokF,EAAA,EAAA/sF,IAAA,SAAA6C,MAED,WACE,IAAAijG,EAA6BxpG,KAAK0gB,MAA1B/L,EAAI60F,EAAJ70F,KAAM0uF,EAAImG,EAAJnG,KAAMp8F,EAAIuiG,EAAJviG,KACZ2iB,EAAkB3iB,EAAlB2iB,SAAUlmB,EAAQuD,EAARvD,IAElB,OACE0kG,KAAAA,cAAC4iD,GAAK,CACJr2I,KAAMA,EACNgyI,iBAAe,EACfjjD,QAAS1jG,KAAKylK,iBACdz3J,MAAOq1F,EAAKC,cAAct1F,GAAMyiF,mBAEhC2X,KAAAA,cAAA,WAASC,UAAU,WACjBD,KAAAA,cAAA,KAAGC,UAAU,QACXD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,qBACH+4F,eAAe,yBACfl9F,OAAQ,CACN80C,IAAKhxB,MAIXw+E,KAAAA,cAAA,KAAGC,UAAU,MAAM+B,UAAU,mBAC1B1mG,GAEH0kG,KAAAA,cAACsF,GAAI,CAAChuE,KAAMh8B,GACV0kG,KAAAA,cAACwD,GAAM,CAACrB,OAAK,GACXnC,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,iBAAiB+4F,eAAe,YAMjE,KAACvS,CAAA,CAxCyC,CACb2X,KAAAA,iBAAmBQ,GA0ClD,UAAegF,EAAAA,GAAAA,IAAWnd,IE1D1B,IAAgB,KAAO,2BAA2B,YAAY,2BAA2B,KAAO,2BAA2B,MAAQ,4BAA4B,QAAU,2BAA2B,WAAa,2BAA2B,QAAU,4BAA4B,OAAS,2BAA2B,SAAW,2BAA2B,aAAe,2BAA2B,oBAAsB,2BAA2B,WAAa,2BAA2B,iBAAmB,2BAA2B,KAAO,2BAA2B,MAAQ,2BAA2B,MAAQ,4BAA4B,MAAQ,2BAA2B,OAAS,2BAA2B,WAAa,4BAA4B,UAAY,2BAA2B,UAAY,2BAA2B,UAAY,4BAA4B,SAAW,2BAA2B,cAAgB,4BAA4B,WAAa,2BAA2B,gBAAkB,2BAA2B,kBAAkB,2BAA2B,iBAAiB,2BAA2B,kBAAkB,4B,mlBCc9mC,IAAMi1E,GAAa,eACbC,IAAQ5iE,EAAAA,GAAAA,IAAe,CAC3B/0F,MAAO,CACL/D,GAAI,UACJ+4F,eAAgB,WAElB4iE,2BAA4B,CAC1B37J,GAAI,GAAFvH,OAAKgjK,GAAU,wBACjB1iE,eAAgB,gCAElB6iE,6BAA8B,CAC5B57J,GAAI,GAAFvH,OAAKgjK,GAAU,qBACjB1iE,eAAgB,8CAElB8iE,mBAAoB,CAClB77J,GAAI,GAAFvH,OAAKgjK,GAAU,uBACjB1iE,eAAgB,QAElB+iE,aAAc,CACZ97J,GAAI,GAAFvH,OAAKgjK,GAAU,iBACjB1iE,eAAgB,YAMd3T,IAAYsZ,GADjBwB,KAAU9yF,GAAAA,GAAC,CAAC,EAAI8sC,ICvCjB,CAAgB,QAAU,2BAA2B,mBAAqB,2BAA2B,MAAQ,2BAA2B,YAAc,4BAA4B,gBAAkB,2BAA2B,UAAY,2BAA2B,eAAiB,4BAA4B,cAAgB,2BAA2B,wBAA0B,2BAA2B,GAAK,2BAA2B,QAAU,6BDuCpZ,CAAE+lD,eAAe,KADzDwvC,EAAAA,EAAAA,IAAU9wC,GAAAD,GAAAC,GAAA,SAAAC,IAAAnuF,EAAAA,GAAAA,GAAA20E,EAAAwZ,GAAA,I,IAAAluF,G,EAAA00E,E,maAGT,SAAAA,EAAY3uE,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAAijF,GACjB1iF,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,2BAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAwDY,SAAAO,IAAA,OAAAP,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OACxBmyC,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,uBAAyC,CAC3D4oF,QAAS,WACP,IACMsiE,EAA8B,MADnB3sJ,aAAaE,QAAQuB,GAAAA,gBAAAA,aAEhCmZ,EAAQ+xI,EAAiB,UAAY,oBAE3Cr5J,EAAK+9C,SAAS,CACZs7G,cAAAA,EACA/xI,KAAAA,GAEJ,IACA,wBAAAxS,EAAAJ,OAAA,GAAAG,EAAA,OACHrI,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAEa,WACZ,IAAA68F,EAA8D78F,EAAK+T,MAA3D/L,EAAI60F,EAAJ70F,KAAIsxJ,EAAAz8D,EAAEh0E,QAAuBygE,EAAQgwE,EAApBlvH,SAAYk/C,SAAYiwE,EAAMD,EAANC,OAE7CjwE,EAAS57E,SAAS,YACpB6rJ,IAGFztH,GAAAA,OAAAA,MAAqB9jC,EACvB,IA9EE,IAAAiwJ,EAMIlkJ,EALFzZ,KACE+I,EAAO40J,EAAP50J,QACA2Z,EAAQi7I,EAARj7I,SACA1U,EAAQ2vJ,EAAR3vJ,SAIAkxJ,EAAe,GAGjBlxJ,GACGogC,GAAepgC,IACfogC,GAAepgC,GAAU0U,EAAS5hB,gBAClCstC,GAAepgC,GAAU0U,EAAS5hB,eAAeo+J,eAEpDA,EAAe9wH,GAAepgC,GAAU0U,EAAS5hB,eAAeo+J,cAGlE,IACMH,EAA8B,MADnB3sJ,aAAaE,QAAQuB,GAAAA,gBAAAA,aAGtCqrJ,EAAeA,EAAaxlK,QAAQ,iBAAkBqP,GAEtD,IAAMgvJ,EAAiB78G,GAAex4B,EAAS5hB,eAAe,GAExD+tC,EAAUgR,GAAUhR,QAAQ,CAAEnhC,KAAMgV,IACpCy8I,GAActwH,EAAU,SAAW,IAAM,IAAJpzC,OAAQs8J,EAAc,KAAAt8J,OAAIsN,EAAO,YAE5EtC,EAGK,SAACic,EAAUmsB,GACd,GAAIA,EAAS,CACX,IAAMuwH,EAAYllH,GAAYx3B,GAC9B,MAAO,CACL+S,YAAa2pI,EAAUtqJ,KACvBuqJ,gBAAiBD,EAAUxxJ,WAE/B,CACE,MAAO,CAAE6nB,YAAa,GAAI4pI,gBAAiB,GAE/C,CAVK,CAUF38I,EAAUmsB,GAZXpZ,EAAWhvB,EAAXgvB,YACA4pI,EAAe54J,EAAf44J,gBAqBD,OARD5lJ,EAAM8U,QAAQt1B,KAAKkmK,GAEnBz5J,EAAK2W,MAAQ,CACX2Q,KAAO+xI,EAAiB,UAAY,eACpCG,aAAAA,EACArwH,QAAAA,EACApZ,YAAAA,EACA4pI,gBAAAA,GACD35J,CACH,CAoIC,OApIAN,EAAAA,GAAAA,GAAAgjF,EAAA,EAAA3rF,IAAA,SAAA6C,MA2BD,WACE,IAAAmlG,EAKI1rG,KAAK0gB,MAJC81B,EAAMk1D,EAAdrI,KAAQ7sD,OACR7hC,EAAI+2F,EAAJ/2F,KACA0uF,EAAIqI,EAAJrI,KAAIg9D,EAAA30D,EACJzkG,KAAQ0iB,EAAQ02I,EAAR12I,SAAU3Z,EAAOqwJ,EAAPrwJ,QAGpB+7C,EAMI/rD,KAAKsjB,MALP6iJ,EAAYp6G,EAAZo6G,aACAlyI,EAAI83B,EAAJ93B,KACA6hB,EAAOiW,EAAPjW,QACApZ,EAAWqvB,EAAXrvB,YACA4pI,EAAev6G,EAAfu6G,gBAGIC,EAAuB5wI,GAA6B,CAAE3lB,QAAAA,EAAS2Z,SAAAA,EAAU6sB,OAAAA,IAE/E,OACE4xD,KAAAA,cAAC4iD,GAAK,CAACr2I,KAAMA,EAAM3G,MAAOq1F,EAAKC,cAAcqiE,GAAM33J,QACjDo6F,KAAAA,cAAA,OAAKC,UAAU,WACH,YAATp0E,GACCm0E,KAAAA,cAACuB,GAAAA,SAAQ,KACNw8D,GACC/9D,KAAAA,cAAA,OAAKC,UAAU,sBACbD,KAAAA,cAAA,MAAIC,UAAU,SACZD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,eAAe+4F,eAAe,mBAAmB,KAExEoF,KAAAA,cAAA,KAAGC,UAAU,cAAcm+D,wBAAyB,CAAEC,OAAQN,MAIlE/9D,KAAAA,cAAA,KAAGrqD,MAAO,CAAEiiG,SAAU,KACnBlqG,EACCsyD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,4BACH+4F,eAAe,yEACfl9F,OAAQ,CACN42B,YAAAA,EACA4pI,gBAAAA,KAIJl+D,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,iBACH+4F,eAAe,kCACfl9F,OAAQ,CAAE6jB,SAAU,GAAFjnB,OAAKinB,EAAS9M,mBAItCurF,KAAAA,cAACsF,GAAI,CAAChuE,KAAM1vB,GACVo4F,KAAAA,cAAA,OAAKC,UAAU,MACbD,KAAAA,cAAC+K,GAAE,CAACnjG,QAASA,IAEbo4F,KAAAA,cAAA,KAAGC,UAAU,WAAWr4F,GAExBo4F,KAAAA,cAAA,OAAKC,UAAU,mBACbD,KAAAA,cAAA,OAAKC,UAAU,aACbD,KAAAA,cAACwD,GAAM,CAAChB,KAAG,EAACL,OAAK,EAACU,MAAI,GACpB7C,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,aAAa+4F,eAAe,wBAGrDoF,KAAAA,cAAA,OAAKC,UAAU,aACbD,KAAAA,cAACwD,GAAM,CAAChB,KAAG,EAACF,MAAI,EAACO,MAAI,EAAC3C,QAAStoG,KAAKikK,aAClC77D,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,yBAAyB+4F,eAAe,gBAOtEujE,GACCn+D,KAAAA,cAAA,OAAKC,UAAU,kBACbD,KAAAA,cAAA,KAAGkK,KAAMi0D,EAAsBt8D,OAAO,SAASuI,IAAI,uBACjDpK,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,kBAAkB+4F,eAAe,6BAMtD,iBAAT/uE,GACCm0E,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,OAAKC,UAAU,mBACbD,KAAAA,cAAA,KAAGC,UAAU,mBACXD,KAAAA,cAAA,cACEA,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAMC,6BAE9Bx9D,KAAAA,cAAA,WACAA,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAME,gCAIhCz9D,KAAAA,cAAA,OAAKC,UAAU,wDACbD,KAAAA,cAACwD,GAAM,CAACnB,MAAI,EAACnC,QAAStoG,KAAK0mK,yBACzBt+D,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAMG,qBAE9B19D,KAAAA,cAACwD,GAAM,CAAClB,MAAI,EAACpC,QAAStoG,KAAKikK,aACzB77D,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAMI,kBAQ5C,KAAC12E,CAAA,CA9LQ,CAEgB+Y,KAAAA,aAAeQ,KAAAA,IA+L1C,UAAegF,EAAAA,GAAAA,IAAWve,I,aExN1B,IAAMrhF,IAAQ+0F,EAAAA,GAAAA,IAAe,CAC3B4jE,cAAe,CACb18J,GAAI,SACJ+4F,eAAgB,wBA+Cd1T,IAAaqZ,IA1ClBztC,EAAAA,EAAAA,KACC,SAAA3uD,GAAA,IAAAugI,EAAAvgI,EACEopB,KAgBU,MAEL,CACL5b,MAAO,CAlBE+yH,EAAP9iH,QACO8iH,EAAP7iH,QACS6iH,EAAT5iH,UACU4iH,EAAV3iH,WACU2iH,EAAV1iH,WACQ0iH,EAARziH,SACOyiH,EAAPxiH,QACQwiH,EAARviH,SACQuiH,EAARtiH,SACOsiH,EAAPriH,QACUqiH,EAAVpiH,WACOoiH,EAAPniH,QACOmiH,EAAPhiH,QACOgiH,EAAP/hH,QACS+hH,EAATtjH,UACQsjH,EAAR/iH,UAqBH,IACFkjH,GACA9iC,KChED,CAAgB,SAAW,2BAA2B,OAAS,4BAA4B,OAAS,2BAA2B,iBAAmB,+BDsBjJuvC,EAAAA,EAAAA,IAAU9wC,GAAAD,GAAAC,GAAAqkC,GAAArkC,GAAA,SAAAC,IAAAnuF,EAAAA,GAAAA,GAAA40E,EAAAuZ,GAAA,I,IAAAluF,G,EAAA20E,E,maAAA,SAAAA,IAAA,IAAA3iF,GAAAP,EAAAA,GAAAA,GAAA,KAAAkjF,GAAA,QAAA1vE,EAAA7e,UAAAd,OAAAqsE,EAAA,IAAAlsE,MAAAwf,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAwsD,EAAAxsD,GAAA/e,UAAA+e,GA8CR,OA9CQnT,EAAAgO,EAAAtZ,KAAA0e,MAAApF,EAAA,OAAAjY,OAAA4pE,KAAAnzD,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBA4CW,WAClB8rC,GAAAA,KAAAA,qBACF,IAAC9rC,CAAA,CA0DA,OA1DAN,EAAAA,GAAAA,GAAAijF,EAAA,EAAA5rF,IAAA,SAAA6C,MAED,WACE,IAAAijG,EAA8BxpG,KAAK0gB,MAA3B3G,EAAKyvF,EAALzvF,MAAOpF,EAAI60F,EAAJ70F,KAAM0uF,EAAImG,EAAJnG,KACfujE,EAAanuH,GAAAA,KAAAA,UAEbouH,EAAU,WAAH,OACX9sJ,EAAM3Y,KAAI,SAAC8D,EAAMqC,GAAK,OACpB6gG,KAAAA,cAACuB,GAAAA,SAAQ,CAACjmG,IAAK6D,GACb6gG,KAAAA,cAAA,SACGljG,EAAK0kB,SACL,IACDw+E,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,kBAAkB+4F,eAAe,cAExDoF,KAAAA,cAAA,SAAIljG,EAAK8K,SACTo4F,KAAAA,cAAA,SACGljG,EAAK0kB,SACL,IACDw+E,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,mBAAmB+4F,eAAe,gBACtD,KAGHoF,KAAAA,cAAA,SACGljG,EAAKyL,YAEC,GACX,EAGJ,OACEy3F,KAAAA,cAAC4iD,GAAK,CAACr2I,KAAMA,EAAM3G,MAAOq1F,EAAKC,cAAct1F,GAAM24J,gBACjDv+D,KAAAA,cAAA,OAAKC,UAAU,YACbD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,SACH+4F,eAAe,0JAGnBoF,KAAAA,cAAA,OAAKC,UAAU,oBACbD,KAAAA,cAACsF,GAAI,CAAChuE,KAAMknI,GACVx+D,KAAAA,cAACwD,GAAM,CAACvD,UAAU,SAASkC,OAAK,GAC9BnC,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,aAAa+4F,eAAe,yBAIjD,mBAAmB/0F,KAAK2lD,UAAUC,YAClCu0C,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAACwD,GAAM,CAACtD,QAAStoG,KAAK8mK,kBAAmBz+D,UAAU,SAASkC,OAAK,GAC/DnC,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,YAAY+4F,eAAe,yBAM1DoF,KAAAA,cAAA,OAAKC,UAAU,UACbD,KAAAA,cAACy+D,EAAO,OAIhB,KAACv3E,CAAA,CAxGQ,CA2CiB8Y,KAAAA,aAAeQ,KAAAA,KAAAA,IAgE3C,UAAegF,EAAAA,GAAAA,IAAWte,I,UEvH1B,IAAMthF,IAAQ+0F,EAAAA,GAAAA,IAAe,CAC3B4jE,cAAe,CACb18J,GAAI,YACJ+4F,eAAgB,sBAMdxT,IAAkBmZ,GADvBwB,KClBD,CAAgB,SAAW,2BAA2B,KAAO,+BDiB5DuvC,EAAAA,EAAAA,IAAU9wC,GAAAD,GAAAC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAA80E,EAAA6b,GAAA,I,IAAA1wF,G,EAAA60E,E,maAAA,SAAAA,IAAA,IAAA7iF,GAAAP,EAAAA,GAAAA,GAAA,KAAAojF,GAAA,QAAA5vE,EAAA7e,UAAAd,OAAAqsE,EAAA,IAAAlsE,MAAAwf,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAwsD,EAAAxsD,GAAA/e,UAAA+e,GAeR,OAfQnT,EAAAgO,EAAAtZ,KAAA0e,MAAApF,EAAA,OAAAjY,OAAA4pE,KAAAnzD,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAIK,WACZ,IAAA68F,EAA8E78F,EAAK+T,MAAKqmJ,EAAAv9D,EAAhFviG,KAAQk2F,YAA0ClzF,GAAf88J,EAAZ5mH,aAAyB4mH,EAAX3mH,YAAe2mH,EAAF98J,IAAQurB,EAAOg0E,EAAPh0E,QAEjDghB,EAAa7pC,EAAK+T,MAA3B2iF,KAAS7sD,OAEX2kG,EAAU,GAAHz4I,OAAM20C,GAAM0/C,WAAU,KAAAr0F,OAAIuH,GAGvC2P,QAAQ4jB,IAAI,qBAAD96B,OAAsBy4I,IACjC3lH,EAAQt1B,KAAK+uG,GAAaz4D,EAAQ2kG,IAClC1iG,GAAAA,OAAAA,MAAqB,qBACvB,IAAC9rC,CAAA,CAeA,OAfAN,EAAAA,GAAAA,GAAAmjF,EAAA,EAAA9rF,IAAA,SAAA6C,MAED,WACE,IAAQ88F,EAASrjG,KAAK0gB,MAAd2iF,KAER,OACE+E,KAAAA,cAAC4iD,GAAK,CAACr2I,KAAK,qBAAqB3G,MAAOq1F,EAAKC,cAAct1F,GAAM24J,gBAC/Dv+D,KAAAA,cAAA,OAAKC,UAAU,YACbD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,YAAY+4F,eAAe,oFAElDoF,KAAAA,cAAA,MAAIC,UAAU,OAAOC,QAAStoG,KAAKgnK,aACjC5+D,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,YAAY+4F,eAAe,8BAIxD,KAACxT,CAAA,CA9BQ,CAEsBgc,GAAAA,aAAS5C,KAAAA,IA+B1C,UAAegF,EAAAA,GAAAA,IAAWpe,IEzC1B,GAAe2a,IAAf,EAJiB,SAAH59F,GAAA,IAAMJ,EAAQI,EAARJ,SAAQ,OAC1Bi8F,KAAAA,cAAA,MAAIC,UAAU,YAAYl8F,EAAc,GCN1C,CAAgB,SAAW,6B,OCkB3B,I,GAAM6B,GAAQ,CACZo6F,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,gBAAgB+4F,eAAe,uBAWjCvT,IARpBv0B,EAAAA,EAAAA,KAAQ,SAAA3uD,GAAA,IACPypB,EAAgBzpB,EAAhBypB,iBACWhN,EAAWzc,EAAtBipB,QAAWxM,YAAW,MACjB,CACLi0E,QAASjnE,EAAiBtC,YAC1B1K,YAAAA,EACD,GAC2C2/E,CAAAC,GAA3CuB,KC7BD,CAAgB,MAAQ,4BAA4B,aAAe,2BAA2B,qBAAqB,4BD6B/F,CAAED,eAAe,GAAO+iC,CAAArkC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAA+0E,EAAA4b,GAAA,I,IAAA1wF,G,EAAA80E,E,maAAA,SAAAA,IAAA,OAAArjF,EAAAA,GAAAA,GAAA,KAAAqjF,GAAA90E,EAAAoF,MAAA,KAAAhf,UAAA,CA+BzC,OA/ByCsL,EAAAA,GAAAA,GAAAojF,EAAA,EAAA/rF,IAAA,SAAA6C,MAG1C,WACE,IAAAijG,EAAiCxpG,KAAK0gB,MAA9Bu8E,EAAOuM,EAAPvM,QAASj0E,EAAWwgF,EAAXxgF,YAEjB,OAEEo/E,KAAAA,cAAC4iD,GAAK,CAACr2I,KAAK,mBAAmB3G,MAAOA,GAAOy9I,wBAAwB,GACnErjD,KAAAA,cAAA,OAAKC,UAAU,SACbD,KAAAA,cAAA,OAAKC,UAAU,gBACbD,KAAAA,cAAC6+D,GAAQ,CAAC5+D,UAAU,sBAClBD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,qBAAqB+4F,eAAe,+BAEzDh6E,EAAY/oB,OAAS,EACrBmoG,KAAAA,cAACkzC,GAAY,CACX4rB,cAAc,EACdruJ,OAAQmQ,EACL5Z,QAAO,SAAAlK,GAAI,OAAyB,IAArBA,EAAK6oD,WAAqB,IACzC3+C,QAAO,SAAAlK,GAAI,OAAI+3F,EAAQ5iF,SAASnV,EAAK+E,GAAG,IACxCmF,QAAO,SAAAlK,GAAI,OAAIA,EAAK+uB,MAAQ,CAAC,MAGlCm0E,KAAAA,cAAA,UACEA,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,qBAAqB+4F,eAAe,8CAOvE,KAACvT,CAAA,CA/ByC,CACE+b,GAAAA,aAAS5C,KAAAA,GEhBb,IAQpC/Y,IANL30B,EAAAA,EAAAA,KAAQ,SAAA3uD,GACqB,MACvB,CACLw9I,cAF4Bx9I,EAA5B2pB,GAAM/B,uBAGP,GAC2Cw0E,CAAAC,GAA3CuB,KCrBD,CAAgB,KAAO,2BAA2B,kBAAoB,2BAA2B,gCAAkC,4BAA4B,OAAS,2BAA2B,MAAQ,2BAA2B,UAAY,2BAA2B,KAAO,2BAA2B,KAAO,4BAA4B,OAAS,2BAA2B,YAAc,2BAA2B,gBAAgB,2BAA2B,8BAA8B,2BAA2B,MAAQ,4BAA4B,oBAAsB,2BAA2B,OAAS,2BAA2B,QAAU,2BAA2B,sBAAwB,4BDqBrqB,CAAED,eAAe,GAAO+iC,CAAArkC,GAAA,SAAAC,IAAAnuF,EAAAA,GAAAA,GAAAm1E,EAAAgZ,GAAA,I,IAAAluF,G,EAAAk1E,E,maAAA,SAAAA,IAAA,IAAAljF,GAAAP,EAAAA,GAAAA,GAAA,KAAAyjF,GAAA,QAAAjwE,EAAA7e,UAAAd,OAAAqsE,EAAA,IAAAlsE,MAAAwf,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAwsD,EAAAxsD,GAAA/e,UAAA+e,GAiDzC,OAjDyCnT,EAAAgO,EAAAtZ,KAAA0e,MAAApF,EAAA,OAAAjY,OAAA4pE,KAAAnzD,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAE5B,WACZ,IAAA68F,EAAgC78F,EAAK+T,MAA7B/L,EAAI60F,EAAJ70F,KAAM1N,EAAIuiG,EAAJviG,KAAMy8F,EAAO8F,EAAP9F,QAEG,mBAAZA,GACTA,IAG0B,mBAAjBz8F,EAAKy8F,SACdz8F,EAAKy8F,UAGPjrD,GAAAA,OAAAA,MAAqB9jC,EACvB,KAACwE,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAEqB,SAACzH,GACrB,IAAAwmG,EAII/+F,EAAK+T,MAHCymJ,EAAOz7D,EAAfzkG,KAAQkgK,QACR3xI,EAAOk2E,EAAPl2E,QACQghB,EAAMk1D,EAAdrI,KAAQ7sD,OAGF7sB,EAA0CzkB,EAA1CykB,SAAU3Z,EAAgC9K,EAAhC8K,QAASiF,EAAuB/P,EAAvB+P,SAAU0X,EAAaznB,EAAbynB,SAErC,GAAgB,YAAZw6I,EACFx6J,EAAKs3J,cAELxrH,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,aAA+B,CACjD6O,SAAWgD,GAAYhD,EACvB3Z,QAAAA,EACAiF,SAAAA,QAEG,CACL,IAAI+pJ,EAAiBr1I,EACrB,OAAQA,EAAS5hB,eACf,IAAK,iBACL,IAAK,sBACHi3J,EAAiB,MAIrBryJ,EAAKs3J,cAELzuI,EAAQt1B,KACN+uG,GAAaz4D,GAAS7pB,EAAW,SAAW,IAAM,IAAJjqB,OAASiqB,GAAYqyI,EAAc,KAAAt8J,OAAKsN,EAAO,UAEjG,CAEF,IAACrD,CAAA,CA6GA,OA7GAN,EAAAA,GAAAA,GAAAwjF,EAAA,EAAAnsF,IAAA,SAAA6C,MAED,WAAS,IAAA0V,EAAA,KACPqzH,EAKItvI,KAJF0gB,MAAKwkJ,EAAA51B,EACHroI,KAAQ8sB,EAAUmxI,EAAVnxI,WAAYozI,EAAOjC,EAAPiC,QACpBpd,EAAaza,EAAbya,cASJ,OAJyB,GAArBh2H,EAAW9zB,QACbD,KAAKonK,oBAAoBrzI,EAAW2M,SAIpC0nE,KAAAA,cAAA,OAAKC,UAAW8C,KAAG,CACjB,iBAAiB,KAEjB/C,KAAAA,cAAA,OAAKC,UAAW8C,KAAG,CACjB,OAAS,EACT,oBAAuB4+C,KAEvB3hD,KAAAA,cAAA,OAAKC,UAAU,UACbD,KAAAA,cAAA,KAAGC,UAAU,SAAS8+D,GAEtB/+D,KAAAA,cAACi+C,GAAS,CAACh+C,UAAU,cAAcC,QAAStoG,KAAKikK,YAAa,cAAY,oBAE5E77D,KAAAA,cAAA,OAAKC,UAAW8C,KAAG,CACjB,SAAW,EACX,sBAAyB4+C,KAEzB3hD,KAAAA,cAAA,KAAGC,UAAU,QACXD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,mBACH+4F,eAAe,wDACfl9F,OAAQ,CAAEqhK,QAASA,EAAQp/J,kBAG/BqgG,KAAAA,cAAA,OAAKC,UAAW8C,KAAG,CACjB,mBAAqB,EACrB,gCAAmC4+C,KAElCh2H,EAAW3yB,KAAI,SAAC8D,EAAMqC,GAAU,IAAA8/J,EAC3BC,EAAWpiK,EAAKykB,SAAS5hB,cACzBw/J,EAAYriK,EAAKykB,SACjB69I,EAAgBtiK,EAAK0kB,SAEzB,OAAQ1kB,EAAKykB,UACX,IAAK,iBACH29I,EAAW,MACXC,EAAY,YACZC,EAAgB,YAChB,MACF,IAAK,sBACHF,EAAW,MACXC,EAAY,YACZC,EAAgB,YAChB,MACF,IAAK,sBACHF,EAAW,MACXC,EAAY,YACZC,EAAgB,aAIfjqB,GAAM+pB,IAAapiK,EAAK+P,UAAY/P,EAAKwnB,eAC5C46I,EAAWpiK,EAAKwnB,cAGlB,IAAI+6I,EAAalqB,GAAM+pB,GACnBI,EAAc,CAChB9nB,gBAAiB,IAGbh7H,EAA6B,QAAhByiJ,EAAGniK,EAAK+P,gBAAQ,IAAAoyJ,OAAA,EAAbA,EAAet/J,cAC/Bq7C,EAAcl+C,EAAKykB,SAAS5hB,cAElC,GAAI6c,GAAiB0J,GAAO1J,GAAew+B,GAAc,CACvD,IAAMxxB,EAAQtD,GAAO1J,GAAew+B,GAEhCxxB,EAAMM,OACRu1I,EAAa71I,EAAMM,MAEjBN,EAAMiuH,cACR6nB,EAAY9nB,gBAAkBhuH,EAAMiuH,YAExC,CAEA,OACEz3C,KAAAA,cAAA,OAAKC,UAAU,OAAO3kG,IAAK6D,EAAO+gG,QAAS,kBAAMrsF,EAAKmrJ,oBAAoBliK,EAAK,GAC7EkjG,KAAAA,cAAC63C,GAAY,CACX53C,UAAU,SACV1zF,KAAM4yJ,EACNjvF,OAAQmvF,GAAcA,EACtB1pH,MAAO2pH,IAETt/D,KAAAA,cAAA,OAAKC,UAAU,QACbD,KAAAA,cAAA,SAAIm/D,GACJn/D,KAAAA,cAAA,YAAOo/D,IAIf,OAMZ,KAAC33E,CAAA,CA9JyC,CACfuY,KAAAA,aAAeQ,KAAAA,GAgK5C,UAAegF,EAAAA,GAAAA,IAAW/d,I,UEzK1B,IAAM83E,IAAkB5kE,EAAAA,GAAAA,IAAe,CACrC/0F,MAAO,CACL/D,GAAI,4BACJ+4F,eAAgB,kBAElB5zD,QAAS,CACPnlC,GAAI,8BACJ+4F,eAAgB,gCAElBG,IAAK,CACHl5F,GAAI,0BACJ+4F,eAAgB,OAElBE,GAAI,CACFj5F,GAAI,yBACJ+4F,eAAgB,QAKdzT,GADL4a,KChCD,CAAgB,OAAS,4BAA4B,cAAgB,2BAA2B,MAAQ,2BAA2B,UAAY,2BAA2B,YAAc,2BAA2B,gBAAgB,2BAA2B,MAAQ,2BAA2B,OAAS,4BAA4B,QAAU,2BAA2B,uBAAuB,2BAA2B,aAAe,2BAA2B,iBAAiB,4BDgCpc,CAAED,eAAe,GAAOvB,EAAAyG,GAAA,SAAAvG,IAAAnuF,EAAAA,GAAAA,GAAA60E,EAAAsZ,GAAA,I,IAAAluF,G,EAAA40E,E,maAAA,SAAAA,IAAA,IAAA5iF,GAAAP,EAAAA,GAAAA,GAAA,KAAAmjF,GAAA,QAAA3vE,EAAA7e,UAAAd,OAAAqsE,EAAA,IAAAlsE,MAAAwf,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAwsD,EAAAxsD,GAAA/e,UAAA+e,GAwCzC,OAxCyCnT,EAAAgO,EAAAtZ,KAAA0e,MAAApF,EAAA,OAAAjY,OAAA4pE,KAAAnzD,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAM5B,WACZ,IAAA68F,EAAgC78F,EAAK+T,MAA7B/L,EAAI60F,EAAJ70F,KAAM1N,EAAIuiG,EAAJviG,KAAMy8F,EAAO8F,EAAP9F,QAEG,mBAAZA,GACTA,IAG0B,mBAAjBz8F,EAAKy8F,SACdz8F,EAAKy8F,UAGPjrD,GAAAA,OAAAA,MAAqB9jC,EACvB,KAACwE,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAEc,WACb,IAAQ1F,EAAS0F,EAAK+T,MAAdzZ,KACqB,mBAAlBA,EAAKw8F,UACdx8F,EAAKw8F,WAEP92F,EAAKs3J,aACP,KAAC9qJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAEe,WACd,IAAA++F,EAAiC/+F,EAAK+T,MAA9B/L,EAAI+2F,EAAJ/2F,KAAM1N,EAAIykG,EAAJzkG,KAAM08F,EAAQ+H,EAAR/H,SAEpBlrD,GAAAA,OAAAA,MAAqB9jC,GAEG,mBAAbgvF,GACTA,IAG2B,mBAAlB18F,EAAK08F,UACd18F,EAAK08F,UAET,IAACh3F,CAAA,CA2CA,OA3CAN,EAAAA,GAAAA,GAAAkjF,EAAA,EAAA7rF,IAAA,SAAA6C,MAED,WACE,IAAA+oI,EASItvI,KAAK0gB,MARP2iF,EAAIisC,EAAJjsC,KACI6hE,GAAA51B,EAAJ36H,KAAI26H,EACJroI,MACE+G,EAAKk3J,EAALl3J,MACAohC,EAAO81H,EAAP91H,QACAo0D,EAAQ0hE,EAAR1hE,SACAD,EAAO2hE,EAAP3hE,QAIEw/D,EAAS,CACb/0J,MAAOA,GAASq1F,EAAKC,cAAcqkE,GAAgB35J,OACnDohC,QAASA,GAAWi0D,EAAKC,cAAcqkE,GAAgBv4H,SACvD+zD,IAAKK,GAAYH,EAAKC,cAAcqkE,GAAgBxkE,KACpDD,GAAIK,GAAWF,EAAKC,cAAcqkE,GAAgBzkE,KAGpD,OACEkF,KAAAA,cAAA,OAAKC,UAAU,gBAAgBC,QAAStoG,KAAKikK,aAC3C77D,KAAAA,cAAA,OAAKC,UAAU,SACbD,KAAAA,cAAA,OAAKC,UAAU,UAGbD,KAAAA,cAACohD,GAAc,CAACnhD,UAAU,iBACxBD,KAAAA,cAAA,OAAKC,UAAU,SAAS06D,EAAO/0J,SAGnCo6F,KAAAA,cAAA,OAAKC,UAAU,WACbD,KAAAA,cAAA,OAAKC,UAAU,wBACbD,KAAAA,cAAA,KAAGC,UAAU,gBAAgB06D,EAAO3zH,UAEtCg5D,KAAAA,cAAA,OAAKC,UAAU,kBACbD,KAAAA,cAACwD,GAAM,CAACvD,UAAU,SAASqC,MAAI,EAACpC,QAAStoG,KAAK4nK,cAAe7E,EAAO7/D,IACpEkF,KAAAA,cAACwD,GAAM,CAACvD,UAAU,SAASoC,MAAI,EAACnC,QAAStoG,KAAK6sJ,eAAgBkW,EAAO5/D,QAMjF,KAAC5T,CAAA,CAnFyC,CACtB6Y,KAAAA,YAAejvF,EAAAA,EAAAA,GAAAi2F,GAAA,YAChB,CACjBzL,SAAUmI,KAAAA,OAH8BlD,GAIzCwG,MAAAxG,GAkFH,UAAegF,EAAAA,GAAAA,IAAWre,I,8BE5G1B,IAAMm2E,GAAa,yBACbmC,IAAa9kE,EAAAA,GAAAA,IAAe,CAChCw2C,YAAa,CACXtvI,GAAI,GAAFvH,OAAKgjK,GAAU,gBACjB1iE,eAAgB,mCAElB8kE,WAAY,CACV79J,GAAI,GAAFvH,OAAKgjK,GAAU,eACjB1iE,eAAgB,kCAwBd+kE,GADL59D,KAAWhmD,EAAAA,QAAQ,CAAE+lD,eAAe,GAAOvB,CAAAC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAAqtJ,EAAA18D,GAAA,I,IAAA1wF,G,EAAAotJ,E,maAa1C,SAAAA,EAAarnJ,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAA27J,GAClBp7J,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAZRvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAK8B,wEAAqEwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,cAE9E,IAAKwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,YAuDf,SAAC5M,GACV,IAAMioK,EAAOr7J,EAAK2W,MAAM0kJ,KAAKzmK,MAAM,GACnCymK,EAAK7tJ,OAAOpa,EAAG,GACf4M,EAAK+9C,SAAS,CAAEs9G,KAAAA,GAAQr7J,EAAKs7J,iBAC/B,KAAC9uJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,cAEY,SAACu7J,GAMb,IAYOF,EAZY,WACjB,GAAIr7J,EAAKw7J,WAAY,CAClB,IAAMC,EAAgCz7J,EAAK07J,aAAaj5J,QAAO,SAAC84J,EAAK3gK,GACpE,OAAOoF,EAAK07J,aAAapoK,OAAS,IAAMsH,CACzC,IAEA,OADAoF,EAAKw7J,YAAa,EACX,GAAPzlK,QAAA0mB,EAAAA,EAAAA,GAAWg/I,GAA6B,CAAEF,GAC5C,CACE,MAAO,GAAPxlK,QAAA0mB,EAAAA,EAAAA,GAAWzc,EAAK2W,MAAM0kJ,MAAI,CAAEE,GAEhC,CAEaI,GACb37J,EAAK+9C,SAAS,CAAEs9G,KAAAA,GAAQr7J,EAAKs7J,iBAC/B,KAAC9uJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,WAES,SAAC8xB,GACT,IACM8pI,EAAe9pI,EAAMtvB,OAAO1O,MAAM,QAExC,GAAkC,OAA9Bg+B,EAAMlxB,MAHW,YAInB,OAAO,KACF,GAA4B,KAAxBg7J,EAAatoK,OAAe,CAErC,IAAM+nK,EAAOO,EAAannK,KAAI,SAACuT,EAAM1K,GAAS,MAAO,CAAEA,GAAAA,EAAI0K,KAAAA,EAAO,IAClEhI,EAAK+9C,SAAS,CAAEs9G,KAAAA,IAAQ,WACtBr7J,EAAK67J,UAAUnnI,QAAQonI,aACvB97J,EAAKs7J,kBACP,GACF,MAAO,IAAKt7J,EAAK2W,MAAMolJ,KAGrB,OAFA/7J,EAAK+9C,SAAS,CAAEg+G,MAAM,IAEfngF,MAAM,SAAD7lF,OAAU+7B,IAASsC,MAAK,SAAC/+B,GACnC2K,EAAK+9C,SAAS,CAAEg+G,MAAM,GACxB,GAEJ,IAhGE,IAAAC,EAA6BjoJ,EAArBkoJ,SAAAA,OAAQ,IAAAD,GAAQA,EAClBE,EAAcx6J,GAAAA,GAAAA,QAAAA,KAA4B,SAACsG,EAAM1K,GAAS,MAAO,CAAEA,GAAAA,EAAI0K,KAAAA,EAAO,IAgBlD,OAd9Bi0J,IACFj8J,EAAKw7J,YAAa,EAElBx7J,EAAK07J,aAAe17J,EAAKm8J,oBAAoBroK,MAAM,KAAKW,KAAI,SAAAiO,GAC1D,OAAOw5J,EAAY7wH,MAAK,SAAAlsC,GAAG,OAAIA,EAAI6I,OAAStF,CAAI,GAClD,KAGF1C,EAAK2W,MAAQ,CACX0kJ,KAAM,GACNa,YAAAA,EACAE,sBAAsB,GAGxBp8J,EAAK67J,UAAYpgE,KAAAA,YAAiBz7F,CACpC,CAgHC,OAhHAN,EAAAA,GAAAA,GAAA07J,EAAA,EAAArkK,IAAA,oBAAA6C,MAED,WACE,IAAAyiK,EAA6BhpK,KAAK0gB,MAA1BkoJ,cAAQ,IAAAI,GAAQA,GAGtBhpK,KAAKipK,WAAWjpK,KAAKqoK,aAAaroK,KAAKqoK,aAAapoK,OAAS,GAEjE,GAAC,CAAAyD,IAAA,mBAAA6C,MAED,WACE,IAEIqjG,EAKA5pG,KANF0gB,MACEkpF,SAOEs/D,EAFFlpK,KAHFsjB,MACE0kJ,KAIe5mK,KAAI,SAAA+nK,GAAO,OAAIA,EAAQx0J,IAAI,IAC9C3U,KAAK0qD,SAAS,CAAEq+G,qBAAsBG,EAAMjpK,OAAS,KAErD,IAAM4H,EAAWqhK,EAAM1nK,KAAK,KAExBooG,aAAoBvnE,UACtBunE,EAAS/hG,EAEb,GAAC,CAAAnE,IAAA,SAAA6C,MAoDD,WACE,IAAAijG,EAWIxpG,KAVF0gB,MACE2iF,EAAImG,EAAJnG,KACAgH,EAASb,EAATa,UAASt+C,EAQT/rD,KANFsjB,MACE0kJ,EAAIj8G,EAAJi8G,KACAa,EAAW98G,EAAX88G,YACAE,EAAoBh9G,EAApBg9G,qBAEFP,EACExoK,KADFwoK,UAGF,OACEpgE,KAAAA,cAAA,OAAKghE,UAAU,KAAKh/D,UAAS,6BAAA1nG,OAAgC41D,EAAAA,GAAY,cAAgB,GAAE,KAAA51D,OAAK2nG,EAAa,eAAiB,KAC5HjC,KAAAA,cAACihE,KAAS,CACRv1B,IAAK00B,EACLR,KAAMA,EACNsB,YAAY,EACZT,YAAaA,EACbU,SAAUvpK,KAAKupK,SACfN,WAAYjpK,KAAKipK,WACjBO,QAASxpK,KAAKwpK,QAEdC,gBAAiBV,EAAuB1lE,EAAKC,cAAcukE,GAAWtuB,aAAe,GAErFmwB,iBAAkBrmE,EAAKC,cAAcukE,GAAWC,YAChD6B,WAAY,CAAC,QAAD,iBAIpB,KAAC5B,CAAA,CAlJyC,CAChBv8D,GAAAA,aAAS5C,GAoJrC,UAAegF,EAAAA,GAAAA,IAAWm6D,I,UC7K1B,IAAMJ,IAAkB5kE,EAAAA,GAAAA,IAAe,CACrC/0F,MAAO,CACL/D,GAAI,4BACJ+4F,eAAgB,kBAElB5zD,QAAS,CACPnlC,GAAI,8BACJ+4F,eAAgB,gCAElBG,IAAK,CACHl5F,GAAI,0BACJ+4F,eAAgB,OAElBE,GAAI,CACFj5F,GAAI,yBACJ+4F,eAAgB,QA4BdtT,IAxBLx0B,EAAAA,EAAAA,KAAQ,SAAA3uD,GAAA,IAAAugI,EAAAvgI,EACPopB,KACE3L,EAAO8iH,EAAP9iH,QACAC,EAAO6iH,EAAP7iH,QACAC,EAAS4iH,EAAT5iH,UACAC,EAAU2iH,EAAV3iH,WACAY,EAAO+hH,EAAP/hH,QACAvB,EAASsjH,EAATtjH,UACAO,EAAQ+iH,EAAR/iH,SACAqB,EAAU0hH,EAAV1hH,WAAU,MAEP,CACL4hH,eAAgB,CACdhjH,EACAC,EACAC,EACAC,EACAY,EACAvB,EACAO,GAEFqB,YAAUhC,EAAAA,EAAAA,GAAMlY,OAAOtL,KAAKwlB,GAAYhqB,KAAI,SAAA8E,GAAC,OAAKklB,EAAWllB,EAAE,KAChE,GAC2CyiG,CAAAC,GAA3CpB,KC3DD,CAAgB,OAAS,2BAA2B,cAAgB,2BAA2B,MAAQ,2BAA2B,UAAY,2BAA2B,MAAQ,2BAA2B,YAAc,2BAA2B,gBAAgB,2BAA2B,MAAQ,4BAA4B,OAAS,2BAA2B,QAAU,4BAA4B,gBAAgB,2BAA2B,aAAe,2BAA2B,aAAe,4BAA4B,kBAAoB,2BAA2B,eAAiB,4BAA4B,QAAU,2BAA2B,iBAAmB,2BAA2B,wBAA0B,2BAA2B,YAAc,2BAA2B,QAAU,4BD2DjxB,CAAE0C,eAAe,GAAO+iC,EAAA79B,GAAA,SAAAvG,IAAAnuF,EAAAA,GAAAA,GAAAg1E,EAAAmZ,GAAA,I,IAAAluF,G,EAAA+0E,E,maAQ1C,SAAAA,EAAYhvE,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAAsjF,GACjB/iF,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,yBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,yBA6EU,WACtB,IAEMi9J,GAFsBj9J,EAAK2W,MAAzBumJ,gBAKFC,EADmBn9J,EAAK+T,MAAMzZ,KAAK0tB,MAAjCwrB,aACwBtjC,cAC1BktJ,EAAoBp9J,EAAKq9J,cAAcF,GAE7Cn9J,EAAK+9C,SAAS,CACZm/G,gBAAiBD,EACjBK,cAAsC,IAAvBL,EAAgC,GAAKG,GAExD,KAAC5wJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAEa,WACZ,IAAA68F,EAAgC78F,EAAK+T,MAA7B/L,EAAI60F,EAAJ70F,KAAM1N,EAAIuiG,EAAJviG,KAAMy8F,EAAO8F,EAAP9F,QAEG,mBAAZA,GACTA,IAG0B,mBAAjBz8F,EAAKy8F,SACdz8F,EAAKy8F,UAGPjrD,GAAAA,OAAAA,MAAqB9jC,EACvB,KAACwE,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAEe,WACd,IAAA++F,EAAiC/+F,EAAK+T,MAA9B/L,EAAI+2F,EAAJ/2F,KAAM1N,EAAIykG,EAAJzkG,KAAM08F,EAAQ+H,EAAR/H,SACpB53C,EAA0Cp/C,EAAK2W,MAAvCumJ,EAAe99G,EAAf89G,gBAAiBI,EAAYl+G,EAAZk+G,aAEpBt9J,EAAKu9J,wBAIVzxH,GAAAA,OAAAA,MAAqB9jC,GAEG,mBAAbgvF,GACTA,EAAUkmE,EAAmBI,EAAe,MAGjB,mBAAlBhjK,EAAK08F,UACd18F,EAAK08F,SAAUkmE,EAAmBI,EAAe,MAErD,IAzHE,IAAQ7+I,EAA+B1K,EAA/B0K,WAAY4hH,EAAmBtsH,EAAnBssH,eAanB,OAXDrgI,EAAKq9J,cAAgB,CAAC,EAEJ,GAAHtnK,QAAA0mB,EAAAA,EAAAA,GAAO4jH,IAAc5jH,EAAAA,EAAAA,GAAKgC,IAC/BloB,SAAQ,SAAAgC,GACZA,EAAKykB,UAAYzkB,EAAK8K,UACxBrD,EAAKq9J,cAAc9kK,EAAKykB,SAAS9M,eAAiB3X,EAAK8K,QAE3D,IAEArD,EAAK2W,MAAQ,CACXumJ,iBAAiB,GAClBl9J,CACH,CAiMC,OAjMAN,EAAAA,GAAAA,GAAAqjF,EAAA,EAAAhsF,IAAA,sBAAA6C,MAED,WACE,IAAAkmD,EAA0CzsD,KAAKsjB,MAAvC2mJ,EAAYx9G,EAAZw9G,aAAcJ,EAAep9G,EAAfo9G,gBACd1pH,EAAiBngD,KAAK0gB,MAAMzZ,KAAK0tB,MAAjCwrB,aAER,OAAI0pH,IACG/kJ,GAAAA,EAAAA,cAAwBq7B,GAItBr7B,GAAAA,EAAAA,cAAwBq7B,GAAc8pH,IAH3CrwJ,QAAQ4J,KAAK,6CAAD9gB,OAA8Cy9C,KACnD,GAKb,GAAC,CAAAz8C,IAAA,sBAAA6C,MAED,WAEE,OAAO,CAyCT,GAAC,CAAA7C,IAAA,SAAA6C,MAkDD,WACE,IAAA+oI,EASItvI,KAAK0gB,MARP2iF,EAAIisC,EAAJjsC,KACI6hE,GAAA51B,EAAJ36H,KAAI26H,EACJroI,MACE+G,EAAKk3J,EAALl3J,MACAohC,EAAO81H,EAAP91H,QACAo0D,EAAQ0hE,EAAR1hE,SACAD,EAAO2hE,EAAP3hE,QAIEw/D,EAAS,CACb/0J,MAAOA,GAASq1F,EAAKC,cAAcqkE,GAAgB35J,OACnDohC,QAASA,GAAWi0D,EAAKC,cAAcqkE,GAAgBv4H,SACvD+zD,IAAKK,GAAYH,EAAKC,cAAcqkE,GAAgBxkE,KACpDD,GAAIK,GAAWF,EAAKC,cAAcqkE,GAAgBzkE,KAGpDqG,EAA0CvpG,KAAKsjB,MAAvCumJ,EAAetgE,EAAfsgE,gBAGFzS,GAH+B7tD,EAAZ0gE,aACRjqK,KAAKkqK,sBAEPx0B,GAAAA,IAAS11I,KAAM,iBAG9B,OACEooG,KAAAA,cAAA,OAAKC,UAAU,iBACbD,KAAAA,cAAA,OAAKC,UAAU,SACbD,KAAAA,cAAA,OAAKC,UAAU,UAGbD,KAAAA,cAACohD,GAAc,CAACnhD,UAAU,iBACxBD,KAAAA,cAAA,OAAKC,UAAU,SAAS06D,EAAO/0J,SAGnCo6F,KAAAA,cAAA,OAAKC,UAAU,WACbD,KAAAA,cAAA,OAAKC,UAAU,iBACbD,KAAAA,cAAA,KAAGC,UAAU,gBAAgB06D,EAAO3zH,SAEnCpvC,KAAKmqK,sBAEJ/hE,KAAAA,cAAA,YAEMpoG,KAAKkqK,uBACL9hE,KAAAA,cAAA,OAAKC,UAAU,SACbD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,2BAA2B+4F,eAAe,iCAIrEoF,KAAAA,cAAA,OAAKC,UAAU,kCACbD,KAAAA,cAAA,OAAKC,UAAU,kBAGbD,KAAAA,cAACwvD,GAAM,CAACxoI,QAASy6I,EAAiBjgE,SAAU5pG,KAAKoqK,wBACjDhiE,KAAAA,cAAA,QAAMC,UAAU,WACdD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,mBAAmB+4F,eAAe,2CAG3DoF,KAAAA,cAAA,OAAKC,UAAWwhE,EAAkB,2CAA6C,oBAC7EzhE,KAAAA,cAAA,OAAKC,UAAU,eACbD,KAAAA,cAAC2kD,GAAK,CAACzuI,UAAQ,EAAC0uI,UAAWoK,EAAO6S,aAAc/c,QAAQ,YAAY3T,YAAY,2CAMxFnxC,KAAAA,cAAA,WACEA,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,+BAA+B+4F,eAAe,qGAK3EoF,KAAAA,cAAA,OAAKC,UAAU,WACbD,KAAAA,cAACwD,GAAM,CAACvD,UAAU,SAASqC,MAAI,EAACpC,QAAStoG,KAAKikK,aAAclB,EAAO7/D,IACjEljG,KAAKkqK,uBACL9hE,KAAAA,cAACwD,GAAM,CAACvD,UAAU,SAASoC,MAAI,EAACnC,QAAStoG,KAAK6sJ,eAAgBkW,EAAO5/D,MAEpEnjG,KAAKkqK,uBACN9hE,KAAAA,cAACwD,GAAM,CAACvD,UAAU,SAAS1I,UAAQ,GAAEojE,EAAO5/D,OAMxD,KAACzT,CAAA,CA1NyC,CACb0Y,KAAAA,YAAejvF,EAAAA,EAAAA,GAAAi2F,GAAA,YACzB,CACjBzL,SAAUmI,KAAAA,OAH8BlD,GAIzCwG,MAAAxG,KAAAA,GAyNH,UAAegF,EAAAA,GAAAA,IAAWle,I,mlBEnQ1B,IAAMm4E,IAAa9kE,EAAAA,GAAAA,IAAe,CAChCsnE,yBAA0B,CACxBpgK,GAAI,2BACJ+4F,eAAgB,mDAElBsnE,kBAAmB,CACjBrgK,GAAI,oBACJ+4F,eAAgB,mCAElB4iE,2BAA4B,CAC1B37J,GAAI,wCACJ+4F,eAAgB,2DAElB6iE,6BAA8B,CAC5B57J,GAAI,qCACJ+4F,eAAgB,8CAElB8iE,mBAAoB,CAClB77J,GAAI,uCACJ+4F,eAAgB,QAElB+iE,aAAc,CACZ97J,GAAI,iCACJ+4F,eAAgB,YAcdrT,IAVLz0B,EAAAA,EAAAA,KACC,SAAA3uD,GAEW,MAEJ,CACLwe,QAHSxe,EADTopB,KACE5K,QAIH,GAEkE49E,CAAAC,GAApEuB,KAAU9yF,GAAAA,GAAC,CAAC,EAAIkzJ,ICzDjB,CAAgB,kBAAoB,4BAA4B,aAAe,2BAA2B,cAAgB,2BAA2B,wBAA0B,6BDyDlI,CAAErgE,eAAe,GAAO+iC,EAAA79B,GAAA,SAAAvG,IAAAnuF,EAAAA,GAAAA,GAAAi1E,EAAAkZ,GAAA,I,IAAAluF,G,EAAAg1E,E,maAOnE,SAAAA,EAAYjvE,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAAujF,GACjBhjF,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,2BAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MA+BY,SAAAO,IAAA,OAAAP,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OACxBmyC,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,uBAAyC,CAC3D4oF,QAAS,WACP,IACMsiE,EAA8B,MADnB3sJ,aAAaE,QAAQuB,GAAAA,gBAAAA,aAEhCmZ,EAAQ+xI,EAAiB,OAAS,eAExCr5J,EAAK+9C,SAAS,CACZs7G,cAAAA,EACA/xI,KAAAA,GAEJ,IACA,wBAAAxS,EAAAJ,OAAA,GAAAG,EAAA,OACHrI,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAEa,WACZ,IAAA68F,EAAgC78F,EAAK+T,MAA7B/L,EAAI60F,EAAJ70F,KAAM1N,EAAIuiG,EAAJviG,KAAMy8F,EAAO8F,EAAP9F,QAEG,mBAAZA,GACTA,IAG0B,mBAAjBz8F,EAAKy8F,SACdz8F,EAAKy8F,UAGPjrD,GAAAA,OAAAA,MAAqB9jC,EACvB,KAACwE,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEc,SAAAC,IAAA,IAAAwqF,EAAA/2F,EAAAsF,EAAA,OAAAgH,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OAAAolG,EAMT/+F,EAAK+T,MAJP/L,EAAI+2F,EAAJ/2F,KAEEsF,EAAQyxF,EADVzkG,KACEgT,SAIJw+B,GAAAA,OAAAA,MAAqB9jC,GAEjBsF,GAAYA,aAAoBooB,UAClCpoB,IACD,wBAAAsH,EAAAF,OAAA,GAAAH,EAAA,MAtED,IACM8kJ,EAA8B,MADnB3sJ,aAAaE,QAAQuB,GAAAA,gBAAAA,aAOrC,OAJDnO,EAAK2W,MAAQ,CACXknJ,SAAU,GACVxE,cAAAA,EACA/xI,KAAO+xI,EAAiB,OAAS,gBAClCr5J,CACH,CAwHC,OAxHAN,EAAAA,GAAAA,GAAAsjF,EAAA,EAAAjsF,IAAA,oBAAA6C,MAED,WACE,IAAA+oI,EAKItvI,KAAK0gB,MAHLG,EAAMyuH,EADRroI,KACE4Z,OAKE9Q,EAHGu/H,EAAPvkH,QAGwBhb,UAAUvP,SAAS,OACvCiqK,EAAa5pJ,GAAU,OAGvB2pJ,EAAW,GAAH9nK,OAAMszF,MAAetzF,OAAG20C,GAAM6/C,UAAS,SAAAx0F,OAAQ+nK,EAAU,KAAA/nK,OAAIqN,EAAS,KAAArN,OAAI8X,GAAAA,GAAAA,SAAiBQ,SAASpC,KAAKyO,MAEvHrnB,KAAK0qD,UAAS,iBAAO,CACnB8/G,SAAAA,EACD,GACH,GAAC,CAAA9mK,IAAA,SAAA6C,MA8CD,WACE,IAAA6pI,EAAuBpwI,KAAK0gB,MAApB/L,EAAIy7H,EAAJz7H,KAAM0uF,EAAI+sC,EAAJ/sC,KACdt3C,EAII/rD,KAAKsjB,MAHPknJ,EAAQz+G,EAARy+G,SAEAv2I,GADY83B,EAAZygD,aACIzgD,EAAJ93B,MAKE0yH,EAEA3mJ,KAAK0gB,MAHPzZ,KACE0/I,gBAIJ,OAEEv+C,KAAAA,cAAC4iD,GAAK,CAACr2I,KAAMA,EAAM3G,MAAK,GAAAtL,OAAK2gG,EAAKC,cAAcukE,GAAWyC,oBAAsB5mE,QAAS1jG,KAAKikK,YAAatd,gBAAiBA,GACjH,iBAAT1yH,GACCm0E,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,OAAKC,UAAU,mBACbD,KAAAA,cAAA,KAAGC,UAAU,mBACXD,KAAAA,cAAA,cACEA,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAWjC,6BAEnCx9D,KAAAA,cAAA,WACAA,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAWhC,gCAIrCz9D,KAAAA,cAAA,OAAKC,UAAU,wDACbD,KAAAA,cAACwD,GAAM,CAACnB,MAAI,EAACnC,QAAStoG,KAAK0mK,yBACzBt+D,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAW/B,qBAEnC19D,KAAAA,cAACwD,GAAM,CAAClB,MAAI,EAACpC,QAAStoG,KAAKikK,aACzB77D,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAW9B,iBAK/B,SAAT9xI,GACCm0E,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,KAAGC,UAAU,UACXD,KAAAA,cAACI,GAAAA,EAAuBq/D,GAAWwC,2BAErCjiE,KAAAA,cAAA,OAAKgC,UAAU,mBACbhC,KAAAA,cAACmE,GAAS,CAAC91D,KAAM+zH,EAAU59D,UAAU,KAEvCxE,KAAAA,cAAA,WACAA,KAAAA,cAACwD,GAAM,CAACnB,MAAI,EAACpC,UAAU,eAAegC,WAAS,EAAC/B,QAAStoG,KAAK0qK,cAC5DtiE,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,gCAAgC+4F,eAAe,8BAMhF,KAACrT,CAAA,CA1IkE,CACrCyY,KAAAA,YAAejvF,EAAAA,EAAAA,GAAAi2F,GAAA,YAC1B,CACjBz6F,KAAMm3F,KAAAA,OACN7kG,KAAM6kG,KAAAA,SAJ2DlD,GAKlEwG,MAAAxG,KAAAA,GAwIH,UAAegF,EAAAA,GAAAA,IAAWje,IEtM1B,IAAgB,mBAAqB,2BAA2B,cAAgB,4B,glBCsBhF,IAAMg7E,IAAc5nE,EAAAA,GAAAA,IAAe,CACjC/0F,MAAO,CACL/D,GAAI,qBACJ+4F,eAAgB,mCAElB4nE,mBAAoB,CAClB3gK,GAAI,kCACJ+4F,eAAgB,qCAElB6nE,wBAAyB,CACvB5gK,GAAI,uCACJ+4F,eAAgB,qCAElB8nE,kBAAmB,CACjB7gK,GAAI,iCACJ+4F,eAAgB,iBAElB+nE,mBAAoB,CAClB9gK,GAAI,kCACJ+4F,eAAgB,qBAElBgoE,iBAAkB,CAChB/gK,GAAI,gCACJ+4F,eAAgB,iCA+BdlT,GADLqa,KAAU9yF,GAAAA,GAAC,CAAC,EAAI8sC,IAAW8mH,IAAY,CAAE/gE,eAAe,GAAOvB,CAAAC,GAAA,SAAAC,IAAAnuF,EAAAA,GAAAA,GAAAo1E,EAAA+Y,GAAA,I,IAAAluF,G,EAAAm1E,E,maAE9D,SAAAA,EAAYpvE,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAA0jF,GACjBnjF,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBA0CC,WACb,IAAQ1F,EAAS0F,EAAK+T,MAAdzZ,KACR8kD,EAWIp/C,EAAK2W,MAVPtT,EAAO+7C,EAAP/7C,QACA6c,EAAMk/B,EAANl/B,OACA88B,EAAWoC,EAAXpC,YACA8gC,EAAO1+B,EAAP0+B,QACAlB,EAAKx9B,EAALw9B,MACAi3E,EAASz0G,EAATy0G,UAAS0K,EAAAn/G,EACT8R,WACYstG,EAAgBD,EAA1BvhJ,SAKEA,GAJMuhJ,EAARv+I,UAI4Bw+I,GAAkBtuJ,cAC9C2jJ,GAEJ7zJ,EAAK+9C,SAAS,CACZ81G,WAAW,IACZx/I,EAAAA,EAAAA,GAAAC,IAAAA,MAAE,SAAAO,IAAA,IAAA4tB,EAAAptC,EAAA,OAAAif,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OAEuC,OAFvCmb,EAAAxZ,KAAA,EAEOmnC,EAAU,GAAH1sC,OAAM+nF,EAAO,QAAA/nF,OAAO6mF,GAAK9nE,EAAAnb,KAAA,EACZmyC,GAAAA,SAAAA,WAA4B,CACpD9uB,SAAAA,EACAykB,UAAWp+B,EACXs6E,YAAarjF,EAAK+I,QAClB6c,OAAAA,EACA49D,QAAAA,EACAlB,MAAOn6C,EACPua,YAAAA,IACA,QARI3nD,EAAWyf,EAAAC,OASH1f,EAAOg/B,QAA4B,OAAlBh/B,EAAOg/B,QACpCr0B,EAAKy+J,kBAAkBppK,EAAOspF,WAE5BrkF,EAAK4iF,mBAAmBxnD,UAC1Bp7B,EAAK4iF,UACNpoE,EAAAnb,KAAA,gBAAAmb,EAAAxZ,KAAA,EAAAwZ,EAAAgC,GAAAhC,EAAA,SAED9U,EAAK64C,YAAW/jC,EAAAgC,IAAO,QAGzB9W,EAAK+9C,SAAS,CACZ81G,WAAW,IACX,yBAAA/+I,EAAAJ,OAAA,GAAAG,EAAA,kBAEN,KAACrI,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAEa,SAACxB,GACbw3C,GAAAA,cAAAA,OAA8Bx3C,GAC9ByO,QAAQzO,MAAMA,EAChB,KAACgO,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAEmB,SAAC2+E,GACnB4U,GAAmB,GAADx9F,OAAI20C,GAAMm8C,QAAO,KAAA9wF,OAAI4oF,EAAS,UAClD,KAACnyE,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,YAqBU,WACT,IAAQk0J,EAAgBl0J,EAAK2W,MAArBu9I,YAERl0J,EAAK+9C,UAAS,iBAAO,CACnBm2G,aAAcA,EACf,GACH,KAAC1nJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAEc,SAACpG,GACd,IAAAkmD,EAQI9/C,EAAK2W,MAPP+nJ,EAAU5+G,EAAV4+G,WACAlM,EAAe1yG,EAAf0yG,gBACArN,EAAarlG,EAAbqlG,cAAawZ,EAAA7+G,EACboR,WACYstG,EAAgBG,EAA1B3hJ,SAKEA,GAJM2hJ,EAAR3+I,UAI4Bw+I,GAAkBtuJ,cAE7CtW,EAKMurJ,IAAkBnoI,EAC3Bhd,EAAK+9C,SAAS,CACZs2G,WAAY,IAAI3jI,GAAAA,EAAU92B,GACvBi9C,MAAM6nH,GACNj7H,GAAG,EAAG/S,GAAAA,EAAAA,YACN78B,WACHqsB,OAAQtmB,IAGVoG,EAAK+9C,SAAS,CACZs2G,WAAYz6J,EACZsmB,OAAQ,IAAIwQ,GAAAA,EAAU92B,GACnB4pC,IAAIk7H,GACJj7H,GAAG+uH,EAAiB9hI,GAAAA,EAAAA,YACpB78B,aAlBLmM,EAAK+9C,SAAS,CACZs2G,WAAY,GACZn0I,OAAQ,IAmBd,KAAC1T,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,cAEY,SAAC1F,GACRA,GACF0F,EAAK+9C,SAAS,CACZ16C,QAAS/I,EAAKoT,SAAS,KAAOpT,EAAKxG,MAAM,KAAK,GAAKwG,IAClD,WACD0F,EAAKsiJ,UACP,GAEJ,KAAC91I,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,2BAEyB,SAACpG,GACzBoG,EAAK+9C,SAAS,CACZonG,cAAevrJ,EAAMoO,MAEzB,IA/KE,IAAAiwJ,EAOIlkJ,EANFzZ,KACE+I,EAAO40J,EAAP50J,QACA2Z,EAAQi7I,EAARj7I,SACAykB,EAASw2H,EAATx2H,UAASm9H,EAGT7qJ,EADF8qJ,aAAAA,OAAY,IAAAD,GAAQA,EAGhBz1H,EAAUgR,GAAUhR,QAAQ,CAAEnhC,KAAMgV,IACpCk0C,EAAaplB,GAAAA,KAAAA,UAAuB,CAAE9uB,SAAAA,IACtCw1I,EAAkBthG,EAAWhhC,SAC3B/S,EAAsB+zC,EAAtB/zC,kBACFuhJ,EAAavhJ,GAAqBA,EAAkB4xB,WACtD5xB,EAAkB4xB,WAClB,EAsB6D,OApBjE/uC,EAAK2W,MAAQ,CACXwyB,QAAAA,EACA0qH,WAAW,EACXK,aAAa,EACb4K,mBAAoBr9H,EACpBp+B,QAASo+B,GAAa,GACtBub,YAAa35C,GAAW,GACxBw7J,aAAAA,EACA/gF,QAAS,GACTlB,MAAO,GACPuoE,cAAenoI,EACfq3I,WAAY,GACZn0I,OAAQ,GACRw+I,WAAY,IAAIhuI,GAAAA,EAAUguI,GAC1BlM,gBAAAA,EACAh0J,MAAO,KACP2e,kBAAAA,EACA+zC,WAAAA,GAGFxkD,aAAaC,QAAQwB,GAAAA,aAAAA,gBAAwC,KAAInO,CACnE,CAyWC,OAzWAN,EAAAA,GAAAA,GAAAyjF,EAAA,EAAApsF,IAAA,mBAAA6C,MA2DD,WAAoC,IAAnBmlK,EAAY3qK,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,GAC9BwoG,EAMIvpG,KAAKsjB,MALPwyB,EAAOyzD,EAAPzzD,QACA9lC,EAAOu5F,EAAPv5F,QAEE2Z,EAAQ4/E,EADV1rC,WACEl0C,SAGEyqB,EAAes3H,GAAgB17J,EAErC,GAAI8lC,EACF,OAAOhxB,GAAAA,EAAAA,cAAAA,IAA4BsvB,GAGrC,IAAMu3H,EAAgBxpH,GAAex4B,GAAU,GAAM9M,cAErD,OAAOiI,GAAAA,EAAAA,cAAwB6mJ,GAAev3H,EAChD,GAAC,CAAA1wC,IAAA,SAAA6C,MA+DD,WACE,IAAAmuG,EAiBI10G,KAAKsjB,MAhBPtT,EAAO0kG,EAAP1kG,QACA25C,EAAW+qD,EAAX/qD,YACA98B,EAAM6nF,EAAN7nF,OACAm0I,EAAUtsD,EAAVssD,WACAv2E,EAAOiqB,EAAPjqB,QACA+1E,EAAS9rD,EAAT8rD,UACAK,EAAWnsD,EAAXmsD,YACA11J,EAAKupG,EAALvpG,MACA2mJ,EAAap9C,EAAbo9C,cACA2Z,EAAgB/2D,EAAhB+2D,iBAAgBG,EAAAl3D,EAChB72C,WACYstG,EAAgBS,EAA1BjiJ,SACAgD,EAAQi/I,EAARj/I,SAEFkxC,EAAU62C,EAAV72C,WACAwtG,EAAU32D,EAAV22D,WAEI1hJ,GAAagD,GAAaw+I,GAAkBtuJ,cAElD2sF,EAMIxpG,KAAK0gB,MALP/L,EAAI60F,EAAJ70F,KAEEu2I,EAAY1hD,EADdviG,KACEikJ,aAEF7nD,EAAImG,EAAJnG,KAGI+zD,EAAS1hB,GAAAA,IACb11I,KACA,UACA,cACA,aACA,SACA,UACA,SAGI6rK,EAAU,CACd,CACE15I,UAAW0rC,EAAWj0C,SACtBsI,KAAMi5I,EAAiBpjK,cACvB4M,KAAMw2J,EACNn9J,MAAOm9J,EACP5kK,MAAOojB,GAET,CACEwI,UAAW,MACXD,KAAM,MACNvd,KAAM,MACN3G,MAAO,MACPzH,MAAO,QAILyjG,GAAcn9E,GAAU2zI,IAAc72G,IAAgB8gC,KAAcz6E,IAAYhQ,KAAK4wE,mBAE3F,OACEw3B,KAAAA,cAAC4iD,GAAK,CACJr2I,KAAMA,EACN3G,MAAK,GAAAtL,OAAK2gG,EAAKC,cAAcqnE,GAAY38J,OAAS,KAAGtL,OAAGinB,EAAS9M,eACjEquI,aAAcA,GAEd9iD,KAAAA,cAAAA,KAAAA,SAAA,KACGy4D,GACCz4D,KAAAA,cAAC2yD,GAAQ,CACP9L,SAAUjvJ,KAAKivJ,SACf6L,YAAa96J,KAAKwlD,YAClBq1G,WAAY76J,KAAK66J,aAGrBzyD,KAAAA,cAAA,OAAKC,UAAU,sBACZojE,GACCrjE,KAAAA,cAAA,OAAKC,UAAU,aACbD,KAAAA,cAACs7D,GAAU,KACTt7D,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,uBACH+4F,eAAe,uCAGnBoF,KAAAA,cAAC2kD,GAAK,CACJoC,eAAa,EACbG,YAAU,EACVtC,UAAWoK,EAAOpnJ,QAClBu/I,aAAW,EACXrC,QAAQ,aACR3T,YAAal2C,EAAKC,cAAcqnE,GAAYC,mBAAoB,CAC9DjhJ,SAAUA,EAAS9M,gBAErBqyI,GAAI52F,EAAAA,GACJ22F,SAAUjvJ,KAAKivJ,WAEhBj/I,IAAYhQ,KAAK4wE,oBAChBw3B,KAAAA,cAAA,OAAKC,UAAU,WACbD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,gCACH+4F,eAAe,wBAMzBoF,KAAAA,cAAA,OAAKC,UAAU,aACbD,KAAAA,cAACs7D,GAAU,KACTt7D,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,4BACH+4F,eAAe,0CAGnBoF,KAAAA,cAAC2kD,GAAK,CACJC,UAAWoK,EAAOztG,YAClB4lG,aAAW,EACXJ,eAAa,EACbG,YAAU,EACVpC,QAAQ,aACR3T,YAAal2C,EAAKC,cAAcqnE,GAAYE,wBAAyB,CACnElhJ,SAAUA,EAAS9M,gBAErBqyI,GAAI52F,EAAAA,GACJ22F,SAAUjvJ,KAAKivJ,WAEhBtlG,IAAgB3pD,KAAK4wE,iBAAiBjnB,IACrCy+C,KAAAA,cAAA,OAAKC,UAAU,WACbD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,gCACH+4F,eAAe,wBAKvBoF,KAAAA,cAAA,OAAKC,UAAU,aACbD,KAAAA,cAACs7D,GAAU,KACTt7D,KAAAA,cAAA,YACEA,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,YAAY+4F,eAAe,cAGlDqoE,EAAWlgI,UAAU,IACrBi9D,KAAAA,cAAA,QAAMC,UAAU,iBAEZ,IAAIhrE,GAAAA,EAAUxQ,GAAQue,cAAc,GAChC0mH,IAAkBnoI,EAAQ,KAAAjnB,OACnBs+J,EAAU,aAAAt+J,OACVmqB,EAAM,KAAAnqB,OAAIinB,GACjB,IAIVy+E,KAAAA,cAAC2kD,GAAK,CACJ3iD,UAAW6gE,GAAAA,MACX1xB,YAAal2C,EAAKC,cAAcqnE,GAAYG,mBAC5C1W,UAAWpD,GACX9D,QAAQ,SACRoC,YAAU,EACVtC,UAAW8E,IAAkBnoI,EACzBytI,EAAOvqI,OAAO03F,KAAKvkH,KAAK6jK,cACxBzM,EAAO4J,WAAWz8C,KAAKvkH,KAAK6jK,gBAElCz7D,KAAAA,cAACisD,GAAc,CACbjqD,UAAW0hE,GAAAA,eACXha,cAAeA,EACfD,SAAU7xJ,KAAKy3J,wBACfzF,mBAAoB,SAAC9sJ,GAAI,OAAKA,EAAKitB,SAAS,EAC5C4B,WAAY83I,EACZlsE,SAAU0rE,EAAWlgI,UAAU,MAGnCi9D,KAAAA,cAAA,OAAKC,UAAU,aACbD,KAAAA,cAACs7D,GAAU,KACTt7D,KAAAA,cAAA,YACEA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,uBACH+4F,eAAe,uCAIrBoF,KAAAA,cAAC2kD,GAAK,CACJC,UAAWoK,EAAO3sE,QAClB6kE,YAAU,EACV/V,YAAal2C,EAAKC,cAAcqnE,GAAYI,uBAGhD3iE,KAAAA,cAAA,OAAKC,UAAU,YACbD,KAAAA,cAACs7D,GAAU,KACTt7D,KAAAA,cAAA,YACEA,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,qBAAqB+4F,eAAe,kBAG7DoF,KAAAA,cAAA,OAAKC,UAAU,QAAQtqD,MAAO,CAAE0lH,aAAc,SAC5Cr7D,KAAAA,cAAC2kD,GAAK,CACJyC,cAAY,EACZxC,UAAWoK,EAAO7tE,MAClBilB,WAAS,EACT+qC,YAAal2C,EAAKC,cAAcqnE,GAAYK,sBAIlD5iE,KAAAA,cAACwD,GAAM,CAACvB,WAAS,EAACI,MAAI,EAACG,KAAG,EAACjL,SAAUqK,EAAY1B,QAAStoG,KAAKs5I,cAC5DknB,EACCp4D,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,0BAA0B+4F,eAAe,kBAE9DoF,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,sBAAsB+4F,eAAe,oBAG7D73F,GACCi9F,KAAAA,cAAA,OAAKC,UAAU,WACbD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,qBACH+4F,eAAe,4CACfl9F,OAAQ,CACNy/J,UAAWliE,EAAKC,cAAcn4F,EAAMwJ,MACpC8J,aAAc4kF,EAAKC,cAAcn4F,EAAMikC,SACvCylE,GAAIzM,KAAAA,cAAA,WACJz+E,SAAU,GAAFjnB,OAAKinB,SAS/B,KAACmmE,CAAA,CApZ6D,CACrCsY,KAAAA,aAAeQ,GAsZ1C,UAAegF,EAAAA,GAAAA,IAAW9d,I,OCrd1B,IAAMizE,IAAShgE,EAAAA,GAAAA,IAAe,CAC5BgpE,MAAO,CACL9hK,GAAI,yBACJ+4F,eAAgB,kCAKdjT,GADLoa,KCpBD,CAAgB,OAAS,2BAA2B,QAAU,4BDoB3CxB,CAAAC,GAAA,SAAAC,IAAAnuF,EAAAA,GAAAA,GAAAq1E,EAAA8Y,GAAA,I,IAAAluF,G,EAAAo1E,E,maAEjB,SAAAA,EAAYrvE,GAAO,IAAA/T,EAIhB,OAJgBP,EAAAA,GAAAA,GAAA,KAAA2jF,GACjBpjF,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAMG,WACfA,EAAK+9C,SAAS,CACZ8hD,cAAc,IACb,WACDpuF,YAAW,WACTzR,EAAK+9C,SAAS,CACZ8hD,cAAc,GAElB,GAAG,IACL,GACF,IAfE7/F,EAAK2W,MAAQ,CACXkpF,cAAc,GACf7/F,CACH,CA2DC,OA3DAN,EAAAA,GAAAA,GAAA0jF,EAAA,EAAArsF,IAAA,SAAA6C,MAcD,WACE,IAAAijG,EAAkGxpG,KAA1F0gB,MAAS/L,EAAI60F,EAAJ70F,KAAM0uF,EAAImG,EAAJnG,KAAI2oE,EAAAxiE,EAAEviG,KAAQ0iB,EAAQqiJ,EAARriJ,SAAU3Z,EAAOg8J,EAAPh8J,QAAS2c,EAAQq/I,EAARr/I,SAAuB6/E,EAAmBxsG,KAA5BsjB,MAASkpF,aAE3E53F,EAAQ+X,EAAYA,EAAS5kB,cAAgB4hB,EAAS5hB,cAC1D,OAAQ4hB,GACN,IAAK,sBACL,IAAK,sBACL,IAAK,iBACH/U,EAAO,MAGX,IAAMq3J,EAAc,GAAHvpK,OAAMszF,MAAetzF,OAAG20C,GAAM8/C,cAAa,KAAAz0F,OAAIkS,EAAI,KAAAlS,OAAIsN,GAExE,OACEo4F,KAAAA,cAAC4iD,GAAK,CAACr2I,KAAMA,EAAM3G,MAAOq1F,EAAKC,cAAcy/D,GAAOgJ,QAClD3jE,KAAAA,cAAA,OAAKC,UAAU,WACbD,KAAAA,cAAA,KAAGrqD,MAAO,CAAEiiG,SAAU,KACpB53C,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,uBAAuB+4F,eAAe,uCAE7DoF,KAAAA,cAACK,KAAe,CACd/oE,KAAMusI,EACNp/D,OAAQ7sG,KAAK8sG,gBAEb1E,KAAAA,cAAA,WACEA,KAAAA,cAAA,SACG6jE,GAEH7jE,KAAAA,cAACwD,GAAM,CACLvD,UAAU,SACVkC,OAAK,EACLjC,QAAS,WAAO,EAChB3I,SAAU6M,EACVnC,WAAS,GAEPmC,EACApE,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,oBAAoB+4F,eAAe,gBAExDoF,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,kBAAkB+4F,eAAe,uBAQtE,KAACjT,CAAA,CAlEgB,CACYqY,KAAAA,aAAeQ,GAoE9C,UAAegF,EAAAA,GAAAA,IAAW7d,IEzF1B,IAAgB,OAAS,2BAA2B,cAAgB,2BAA2B,YAAc,4BAA4B,MAAQ,2BAA2B,gBAAgB,4BAA4B,8BAA8B,4BAA4B,MAAQ,2BAA2B,oBAAsB,2BAA2B,OAAS,2BAA2B,iBAAmB,4BAA4B,QAAU,2BAA2B,uBAAuB,2BAA2B,aAAe,2BAA2B,iBAAiB,4B,OCU3kB,IAAM43E,IAAkB5kE,EAAAA,GAAAA,IAAe,CACrC/0F,MAAO,CACL/D,GAAI,0BACJ+4F,eAAgB,cAElB5zD,QAAS,CACPnlC,GAAI,4BACJ+4F,eAAgB,uBAElBkpE,GAAI,CACFjiK,GAAI,uBACJ+4F,eAAgB,QA0BdhT,IAJL90B,EAAAA,EAAAA,KAAQ,SAAA3uD,GAA+B,MAAS,CAC/C4nB,uBADsC5nB,EAA5B2pB,GAAM/B,uBAEjB,GACkBw0E,CAAAC,GAAlBuB,KAAWhmD,GAAO8oF,CAAArkC,GAAA,SAAAC,IAAAnuF,EAAAA,GAAAA,GAAAs1E,EAAA6Y,GAAA,I,IAAAluF,G,EAAAq1E,E,maAAA,SAAAA,IAAA,IAAArjF,GAAAP,EAAAA,GAAAA,GAAA,KAAA4jF,GAAA,QAAApwE,EAAA7e,UAAAd,OAAAqsE,EAAA,IAAAlsE,MAAAwf,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAwsD,EAAAxsD,GAAA/e,UAAA+e,GA6ChB,OA7CgBnT,EAAAgO,EAAAtZ,KAAA0e,MAAApF,EAAA,OAAAjY,OAAA4pE,KAAAnzD,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,yBAEO,WACtB,IAAA68F,EAOI78F,EAAK+T,MANP/L,EAAI60F,EAAJ70F,KACA1N,EAAIuiG,EAAJviG,KAEEklK,EAAS3iE,EADXviG,KACEklK,UAEFzoE,EAAO8F,EAAP9F,QAGEyoE,IAEmB,mBAAZzoE,GACTA,IAG0B,mBAAjBz8F,EAAKy8F,SACdz8F,EAAKy8F,UAGPjrD,GAAAA,OAAAA,MAAqB9jC,GACvB,KAACwE,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,cAEY,WACX,IAAQgI,EAAShI,EAAK+T,MAAd/L,KAER8jC,GAAAA,OAAAA,MAAqB9jC,EACvB,KAACwE,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,YAEU,WACT,IAEIy/J,EAEAz/J,EAAK+T,MAHPzZ,KACEmlK,WAIiB,cAAjBtkK,EAAAA,EAAAA,GAAOskK,GACLA,KACFz/J,EAAK0/J,aAGP1/J,EAAK2/J,uBAET,IAAC3/J,CAAA,CAqDA,OArDAN,EAAAA,GAAAA,GAAA2jF,EAAA,EAAAtsF,IAAA,SAAA6C,MAED,WAAS,IAAA+iJ,EACP59C,EAUI1rG,KAAK0gB,MATP2iF,EAAIqI,EAAJrI,KAAIg9D,EAAA30D,EACJzkG,KACEslK,EAAQlM,EAARkM,SACAv+J,EAAKqyJ,EAALryJ,MACAohC,EAAOixH,EAAPjxH,QACAo9H,EAAOnM,EAAPmM,QACAC,EAAiBpM,EAAjBoM,kBAEFt4I,EAAsBu3E,EAAtBv3E,uBAGI4uI,EAAS,CACb/0J,MAAOA,GAASq1F,EAAKC,cAAcqkE,GAAgB35J,OACnDohC,QAASA,GAAWi0D,EAAKC,cAAcqkE,GAAgBv4H,SACvD88H,GAAIM,GAAWnpE,EAAKC,cAAcqkE,GAAgBuE,KAG9CQ,EAAgBD,EAAiB,4BAEvC,OACErkE,KAAAA,cAAA,OAAKgC,UAAWe,MAAEhyF,EAAAA,EAAAA,GAAC,CAAC,EACjBgrC,GAAAA,kBAA0B,KAE3BikD,KAAAA,cAAA,OAAKgC,UAAWe,MAAEm+C,EAAA,IAAAnwI,EAAAA,EAAAA,GAAAmwI,EACfnlG,GAAAA,OAAe,IAAIhrC,EAAAA,EAAAA,GAAAmwI,EACnBnlG,GAAAA,oBAA6BhwB,GAAsBm1H,KAEpDlhD,KAAAA,cAAA,OAAKC,UAAU,UAGbD,KAAAA,cAACohD,GAAc,CAACnhD,UAAU,iBACxBD,KAAAA,cAAA,OAAKC,UAAU,SAAS06D,EAAO/0J,OAE9Bu+J,GACCnkE,KAAAA,cAACi+C,GAAS,CAACh+C,UAAU,cAAcC,QAAStoG,KAAKqsK,eAIvDjkE,KAAAA,cAAA,OAAKC,UAAU,WACbD,KAAAA,cAAA,OAAKC,UAAU,wBACbD,KAAAA,cAAA,KAAGC,UAAU,gBAAgB06D,EAAO3zH,UAEtCg5D,KAAAA,cAAA,OAAKC,UAAU,kBACbD,KAAAA,cAACwD,GAAM,CAACvD,UAAWqkE,EAAajiE,MAAI,EAACnC,QAAStoG,KAAK2sK,UAAW5J,EAAOmJ,OAMjF,KAACl8E,CAAA,CAlGgB,CACMoY,KAAAA,aAAeQ,KAAAA,GAqGxC,UAAegF,EAAAA,GAAAA,IAAW5d,I,glBC7H1B,IAAQ/+D,GAAe3C,GAAAA,KAAAA,WAEjBs+I,GAAuC,GAE7C77I,GAAmB7tB,SAAQ,SAAC+R,GAC1B,IAAM43J,EAAgC76I,GAAgB/c,GACpC63J,EAAuBD,EAAjCljJ,SAE4BsH,GAAW67I,IAG7CF,GAAoB1sK,KAAK2sK,EAE7B,IAAE,IA2CI58E,GADLka,KAAU9yF,GAAAA,GAAC,CAAC,EAAI8sC,IC9EjB,CAAgB,aAAe,2BAA2B,UAAY,2BAA2B,WAAa,2BAA2B,iBAAmB,2BAA2B,MAAQ,2BAA2B,SAAW,2BAA2B,YAAc,2BAA2B,IAAM,2BAA2B,OAAS,2BAA2B,SAAW,4BAA4B,WAAa,2BAA2B,MAAQ,2BAA2B,iBAAmB,8BD8E3c,CAAE+lD,eAAe,GAAOvB,CAAAC,GAAA,SAAAC,IAAAnuF,EAAAA,GAAAA,GAAAu1E,EAAA4Y,GAAA,IA+L7DkkE,EAvDAC,EA1BAC,E,IA9G6DtyJ,G,EAAAs1E,E,maAE9D,SAAAA,EAAYvvE,GAAO,IAAAwsJ,EAAAvgK,GAAAP,EAAAA,GAAAA,GAAA,KAAA6jF,GACjBtjF,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAsCC,SAAAO,IAAA,IAAAuqC,EAAAo9E,EAAAvkH,EAAAuoJ,EAAAC,EAAAp9J,EAAAssB,EAAA3nB,EAAAkd,EAAAgL,EAAA,OAAA5b,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OAO0B,OAP1BylD,EACgEp/C,EAAK2W,MAA1E6lH,EAAYp9E,EAAZo9E,aAAcvkH,EAAamnC,EAAbnnC,cAAeuoJ,EAAYphH,EAAZohH,aAAcC,EAAqBrhH,EAArBqhH,sBAEnDzgK,EAAK+9C,UAAS,iBAAO,CAAEouG,WAAW,EAAM,IAElC9oJ,EAA2B,cAAjBm9J,EACZhkC,EACAikC,aAAqB,EAArBA,EAAuBjkC,aAAY1nH,EAAAnb,KAAA,EAEpBmyC,GAAQ7zB,GAAeyoJ,kBAAkBr9J,GAAQ,QAA9DssB,EAAI7a,EAAAC,OAGA/M,EAA2B2nB,EAA3B3nB,KAAMkd,EAAqByK,EAArBzK,OAAQgL,EAAaP,EAAbO,SAEtBlwB,EAAK+9C,UAAS,iBAAO,CACnBnV,UAAW5gC,EACX+nB,YAAa7K,EACb88D,cAAe9xD,EACf5I,KAAM,UACP,MAEDtnB,EAAK+9C,UAAS,iBAAO,CACnBusC,UAAU,EACX,IAED74E,YAAW,WACTzR,EAAK+9C,UAAS,iBAAO,CACnBusC,UAAU,EACX,GACH,GAAG,MAGLtqF,EAAK+9C,UAAS,iBAAO,CAAEouG,WAAW,EAAO,IAAE,wBAAAr3I,EAAAJ,OAAA,GAAAG,EAAA,OAC5CrI,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAEe,WACd,IAAA8/C,EAAuH9/C,EAAK2W,MAApHsB,EAAa6nC,EAAb7nC,cAAeukH,EAAY18E,EAAZ08E,aAAczsG,EAAW+vB,EAAX/vB,YAAaiyD,EAAaliC,EAAbkiC,cAAejiE,EAAY+/B,EAAZ//B,aAAcygJ,EAAY1gH,EAAZ0gH,aAAcC,EAAqB3gH,EAArB2gH,sBAEvFp9J,EAA2B,cAAjBm9J,EACZhkC,EACAikC,aAAqB,EAArBA,EAAuBjkC,aAE3B1wF,GAAQ7zB,GAAe0oJ,SAAS,CAC9Br4J,SAAU2P,EACVogE,aAAch1E,EACd6hB,OAAQ6K,EACRG,SAAU8xD,EACVjiE,aAAcA,EAAa3kB,gBAE7B,IAAMytC,EAAa,IAAH9yC,OAAOgqB,EAAa7P,cAAa,KAAAna,OAAIg6B,EAAY7f,eACjE47B,GAAAA,KAAAA,kBAA+BjD,GAAY,GAE3C7oC,EAAK+9C,SAAS,CACZz2B,KAAM,SAEV,KAAC9a,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEa,SAAAC,IAAA,OAAAD,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OACZmlB,OAAOsrB,SAASu5D,SAAQ,wBAAA/uF,EAAAF,OAAA,GAAAH,EAAA,OACzB/H,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAYoB,WACnBA,EAAK+9C,SAAS,CACZyiH,aAAc,aAElB,KAACh0J,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAEmB,WAClBA,EAAK+9C,SAAS,CACZyiH,aAAc,YAElB,KAACh0J,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAgBe,SAAC4gK,GAA2B,OAAK5gK,EAAK+9C,UAAS,iBAAO,CAAE6iH,WAAAA,EAAY,GAAE,KAAAp0J,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,YAE3E,SAAC8nJ,GAAU,OAAK9nJ,EAAK+9C,UAAS,iBAAO,CAAE8iH,cAAe/Y,EAAO,GAAE,KAAAt7I,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAExD,kBAAMA,EAAK+9C,UAAS,iBAAO,CAC3C8iH,cAAe,KACfC,sBAAuB,KACvBC,YAAa,GACbH,WAAY,GACZI,uBAAwB,GACxBC,qBAAqB,EACrBC,wBAAwB,EACxBT,sBAAuB,KACxB,GAAE,KAAAj0J,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,4BAEwB,SAACmhK,GAC1B,IAAAvkE,EAAwC58F,EAAK2W,MAArCsB,EAAa2kF,EAAb3kF,cAAe8H,EAAY68E,EAAZ78E,aACjBqhJ,EAAqD,GAE3DnB,GAAoB1pK,SAAQ,SAAA2pK,GAC1B,IAAMmB,EAAuBF,aAAa,EAAbA,EAAeG,UAAUpB,EAAeh9I,aACjEm+I,GACFD,EAAwB7tK,KAAK,CAC3BipI,aAAc6kC,EACd/4J,SAAU43J,EAAe53J,SACzB1O,MAAOsmK,EAAetmK,MACtBojB,SAAUkjJ,EAAeljJ,UAG/B,IAEAhd,EAAK+9C,UAAS,eAAAwjH,EAAAC,EAAA,MAAO,CACnBV,sBAAuBK,EACvBH,uBAAwBI,EACxBX,sBAAuBW,EAAwB,IAAM,KACrDnpJ,eAAyC,QAA1BspJ,EAAAH,EAAwB,UAAE,IAAAG,OAAA,EAA1BA,EAA4Bj5J,WAAY2P,EACvD8H,cAAwC,QAA1ByhJ,EAAAJ,EAAwB,UAAE,IAAAI,OAAA,EAA1BA,EAA4BxkJ,WAAY+C,EACvD,GACH,IA3KE,IAKoC0hJ,EAICC,EAAAC,EAT7BrnK,EAASyZ,EAATzZ,KAEJ2d,EAAgB3d,SAAc,QAAVimK,EAAJjmK,EAAMgO,gBAAQ,IAAAi4J,OAAV,EAAJA,EAAgBnlK,cAChC2kB,EAAezlB,aAAI,EAAJA,EAAMylB,aA8BxB,OA5BGA,IAAiB9H,IACnBA,EAA0F,QAA7EwpJ,EAAGxB,GAAoB50H,MAAM,SAAA/iC,GAAQ,OAAIA,EAAS0U,WAAa+C,CAAY,WAAE,IAAA0hJ,OAAA,EAA1EA,EAA4En5J,UAGzFyX,GAAiB9H,IACpBA,EAAsC,QAAzBypJ,EAAGzB,GAAoB,UAAE,IAAAyB,OAAA,EAAtBA,EAAwBp5J,SACxCyX,EAAqC,QAAzB4hJ,EAAG1B,GAAoB,UAAE,IAAA0B,OAAA,EAAtBA,EAAwB3kJ,UAGzChd,EAAK2W,MAAQ,CACX2Q,KAAM,eACNrP,cAAAA,EACA8H,aAAAA,EACAy8G,aAAc,GACd5zF,UAAW,GACX7Y,YAAa,GACbiyD,cAAe,EACfsI,UAAU,EACV6hE,WAAW,EACXqU,aAAc,YACdO,YAAa,GACbH,WAAY,GACZK,qBAAqB,EACrBJ,cAAe,KACfC,sBAAuB,KACvBI,wBAAwB,EACxBF,uBAAwB,GACxBP,sBAAuB,MACxBzgK,CACH,CAwhBC,OAxhBAN,EAAAA,GAAAA,GAAA4jF,EAAA,EAAAvsF,IAAA,mBAAA6C,MA+DD,WACE,IAAAmuG,EAA4E10G,KAAKsjB,MAAzE6lH,EAAYz0B,EAAZy0B,aAAcz8G,EAAYgoF,EAAZhoF,aAAc0gJ,EAAqB14D,EAArB04D,sBAE9Bp9J,EAA2B,cAFsC0kG,EAAZy4D,aAGvDhkC,EACAikC,aAAqB,EAArBA,EAAuBjkC,aAE3B,OAAOrkH,GAAAA,EAAAA,cAAwB4H,EAAa7P,eAAe7M,EAC7D,GAAC,CAAAtM,IAAA,gBAAA6C,OAAA0mK,GAAAjsJ,EAAAA,EAAAA,GAAAC,IAAAA,MAcD,SAAAkB,EAAoBurJ,GAAmB,IAAApoE,EAAAtjG,EAAA,OAAAif,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,OAGS,OAFuB+b,EAAApa,KAAA,EAEnEjI,KAAK0qD,SAAS,CAAEkjH,qBAAqB,IAAOvrJ,EAAA/b,KAAA,EACvBsrF,KAAAA,IAAU,GAADlvF,OAHJ,0CAG2B,WAAAA,OAAUgrK,IAAc,OAAjE,OAAN1rK,EAAMqgB,EAAAX,KAAAW,EAAAJ,OAAA,SACM,QADNqjF,EACLtjG,EAAOiF,YAAI,IAAAq+F,OAAA,EAAXA,EAAa89C,OAAK,OAEE,OAFF/gI,EAAApa,KAAA,EAAAoa,EAAAoB,GAAApB,EAAA,SAEzBzI,QAAQ4jB,IAAI,QAAOnb,EAAAoB,IAAQpB,EAAAJ,OAAA,SACpB,IAAE,QAEoC,OAFpCI,EAAApa,KAAA,GAETjI,KAAK0qD,SAAS,CAAEkjH,qBAAqB,IAAQvrJ,EAAA4tF,OAAA,6BAAA5tF,EAAAhB,OAAA,GAAAc,EAAA,wBAEhD,SAAAR,GAAA,OAAAsrJ,EAAAltJ,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,mBAAA6C,OAAAymK,GAAAhsJ,EAAAA,EAAAA,GAAAC,IAAAA,MA0CD,SAAAa,EAAuBysJ,GAAe,IAAAC,EAAAvnK,EAAA,OAAAga,IAAAA,MAAA,SAAAe,GAAA,cAAAA,EAAA/Z,KAAA+Z,EAAA1b,MAAA,OAGa,OAFmB0b,EAAA/Z,KAAA,EAElEjI,KAAK0qD,SAAS,CAAEmjH,wBAAwB,IAAO7rJ,EAAA1b,KAAA,EACxBsrF,KAAAA,IAAU,GAADlvF,OAHN,yCAG6B,KAAAA,OAAI6rK,IAAU,OAAAC,EAAAxsJ,EAAAN,KAA7Dza,EAAIunK,EAAJvnK,KAERjH,KAAKyuK,yBAAyBxnK,GAAK+a,EAAA1b,KAAA,iBAER,OAFQ0b,EAAA/Z,KAAA,GAAA+Z,EAAAyB,GAAAzB,EAAA,SAEnCpI,QAAQ4jB,IAAI,QAAOxb,EAAAyB,IAAQzB,EAAAC,OAAA,SACpB,IAAE,QAEuC,OAFvCD,EAAA/Z,KAAA,GAETjI,KAAK0qD,SAAS,CAAEmjH,wBAAwB,IAAQ7rJ,EAAAiuF,OAAA,6BAAAjuF,EAAAX,OAAA,GAAAS,EAAA,yBAEnD,SAAAU,GAAA,OAAAwqJ,EAAAjtJ,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,qBAAA6C,OAAAwmK,GAAA/rJ,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAA0B,EAAyB6xF,EAAWC,GAAS,IAAAi6D,EAAAC,EAAAC,EAAAC,EAAAx/B,EAAAq+B,EAAAE,EAAAJ,EAAAC,EAAAI,EAAAiB,EAAAvB,EAAA,OAAAtsJ,IAAAA,MAAA,SAAAmC,GAAA,cAAAA,EAAAnb,KAAAmb,EAAA9c,MAAA,OAkB1C,GAhBcsoK,EAEXn6D,EAFFi5D,YACYmB,EACVp6D,EADF84D,WAAUl+B,EASRrvI,KAAKsjB,MALPoqJ,EAAWr+B,EAAXq+B,YACAE,EAAmBv+B,EAAnBu+B,oBACAJ,EAAan+B,EAAbm+B,cACAC,EAAqBp+B,EAArBo+B,sBACAI,EAAsBx+B,EAAtBw+B,uBAGIiB,EAA+D,KAAxBpB,aAAW,EAAXA,EAAaztK,YACxDytK,aAAW,EAAXA,EAAaztK,QAAS,GAC2B,KAAZ,QAAlCyuK,EAAAhB,EAAYngK,MAAMqhK,UAAgB,IAAAF,OAAA,EAAlCA,EAAoCnnK,QACT,KAA3BsnK,aAAc,EAAdA,EAAgB5uK,YAInBytK,aAAW,EAAXA,EAAaztK,QAAS,GACY,sBAAT,QAAtB0uK,EAAAlxH,SAASsxH,qBAAa,IAAAJ,OAAA,EAAtBA,EAAwB1kK,KACxB2kK,IAAoBlB,GACpBoB,IACClB,EAAmB,CAAAxqJ,EAAA9c,KAAA,eAAA8c,EAAA9c,KAAA,EAEEtG,KAAKgvK,cAActB,GAAY,OAAlDH,EAAUnqJ,EAAA1B,KAChB1hB,KAAKivK,cAAc1B,GAAW,OAMJ,IAF1BC,GACIC,GACAI,EAGgC,CAAFzqJ,EAAA9c,KAAA,gBAAA8c,EAAA9c,KAAA,GAC5BtG,KAAKkvK,iBAAiB1B,EAAcvjK,IAAG,yBAAAmZ,EAAA/B,OAAA,GAAAsB,EAAA,UAEhD,SAAAL,EAAAC,GAAA,OAAAwqJ,EAAAhtJ,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,SAAA6C,MAED,WAAS,IAAA4oK,EAAAlzJ,EAAA,KACPo0H,EAiBIrwI,KAAKsjB,MAhBP2Q,EAAIo8G,EAAJp8G,KACArP,EAAayrH,EAAbzrH,cACAukH,EAAYkH,EAAZlH,aACA5zF,EAAS86F,EAAT96F,UACA7Y,EAAW2zG,EAAX3zG,YACAiyD,EAAa0hD,EAAb1hD,cACAmqE,EAASzoB,EAATyoB,UACA7hE,EAAQo5C,EAARp5C,SACAk2E,EAAY98B,EAAZ88B,aACAO,EAAWr9B,EAAXq9B,YACAH,EAAUl9B,EAAVk9B,WACAK,EAAmBv9B,EAAnBu9B,oBACAJ,EAAan9B,EAAbm9B,cACAK,EAAsBx9B,EAAtBw9B,uBACAF,EAAsBt9B,EAAtBs9B,uBACAP,EAAqB/8B,EAArB+8B,sBAGF5jE,EAGIxpG,KAAK0gB,MAFP/L,EAAI60F,EAAJ70F,KACA0uF,EAAImG,EAAJnG,KAGI+zD,EAAS1hB,GAAAA,IAAS11I,KAAM,eAAgB,eAExCgqG,GAEe,cAAjBmjE,GACKhkC,IACAikC,SAAAA,EAAuBjkC,gBAE3B2vB,IACC94J,KAAK4wE,mBAGL+5F,GAAc5nE,EAAAA,GAAAA,IAAe,CACjC6nE,mBAAoB,CAClB3gK,GAAI,iCACJ+4F,eAAgB,uBAElBosE,kBAAmB,CACjBnlK,GAAI,gCACJ+4F,eAAgB,gCAIpB,OACEoF,KAAAA,cAAC4iD,GAAK,CACJr2I,KAAMA,EACN3G,MAAOo6F,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,oBAAoB+4F,eAAe,oBAC/D2oD,iBAAe,EACfhF,iBAAe,GAEfv+C,KAAAA,cAAA,OAAKC,UAAU,gBACH,iBAATp0E,GACCm0E,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAA,OAAKC,UAAU,eACbD,KAAAA,cAAA,UACExzF,KAAK,SACLyzF,UAAS,OAAA3lG,OAA0B,cAAjByqK,EAA+B,SAAW,IAC5D7kE,QAAStoG,KAAKqvK,oBAEdjnE,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,eAAe+4F,eAAe,gBAErDoF,KAAAA,cAAA,UACExzF,KAAK,SACLyzF,UAAS,OAAA3lG,OAA0B,aAAjByqK,EAA8B,SAAW,IAC3D7kE,QAAStoG,KAAKsvK,mBAEdlnE,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,cAAc+4F,eAAe,gBAGpC,cAAjBmqE,EACC/kE,KAAAA,cAAA,OAAKC,UAAU,aACbD,KAAAA,cAACs7D,GAAU,CAAChJ,OAAK,GACftyD,KAAAA,cAAA,QAAMrqD,MAAO,CAAEiiG,SAAU,SACvB53C,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,qBACH+4F,eAAe,oBAIrBoF,KAAAA,cAAC2kD,GAAK,CACJ9iJ,GAAG,mBACH+iJ,UAAWoK,EAAOjuB,aAClBomB,aAAW,EACXrC,QAAQ,aACR3T,YAAal2C,EAAKC,cAAcqnE,EAAYC,sBAE9CxiE,KAAAA,cAACupD,GAAQ,CACPvnD,UAAW0hE,GAAAA,eACX/xJ,MAAO6yJ,GACP9a,cAAe9/H,GAAgBpN,GAAere,MAC9CyrJ,mBAAoB,SAAC9sJ,GAAI,OAAKA,EAAKqB,MAAMsW,aAAa,EACtD81I,WAAY,SAACztJ,GAAI,OAAKA,EAAKqB,MAAMsW,aAAa,EAC9Cg1I,SAAU,SAAC3sJ,GACT+W,EAAKyuC,SAAS,CACZ9lC,cAAe1f,EAAK+P,SACpByX,aAAcxnB,EAAKykB,UAEvB,EACAhV,KAAK,oBACL67H,KAAK,mBAENv5C,GACCmR,KAAAA,cAAA,OAAKC,UAAU,WACbD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,sBACH+4F,eAAe,iCACfl9F,OAAQ,CACNmP,SAAU2P,MAKjBukH,IAAiBnpI,KAAK4wE,oBACrBw3B,KAAAA,cAAA,OAAKC,UAAU,WACbD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,8BACH+4F,eAAe,sBAMvBoF,KAAAA,cAAA,OAAKC,UAAU,aACZmlE,EACCplE,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAA,OAAKC,UAAU,YACbD,KAAAA,cAACs7D,GAAU,CAAChJ,OAAK,GACftyD,KAAAA,cAAA,QAAMC,UAAU,SACdD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,qBAAqB+4F,eAAe,YAG7DoF,KAAAA,cAAA,OAAKC,UAAU,aACZmlE,EAAc+B,OAASnnE,KAAAA,cAAA,YAAMA,KAAAA,cAAA,OAAKgE,IAAKohE,EAAc+B,MAAOjjE,IAAKkhE,EAAcvjK,MAChFm+F,KAAAA,cAAA,gBAAA1lG,OAAW8qK,EAAc74J,KAAI,MAAAjS,OAAK8qK,EAAc37I,OAAM,OAExDu2E,KAAAA,cAAA,OAAKC,UAAU,oBACbD,KAAAA,cAACi+C,GAAS,CAAC/9C,QAAStoG,KAAKwvK,oBAI3B3B,EAEIzlE,KAAAA,cAAA,OAAKrqD,MAAO,CAAE0xH,QAAS,SACrBrnE,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,UAAU+4F,eAAe,gBAE7CoqE,GAAyBO,EAAuB1tK,OAAS,EAC5DmoG,KAAAA,cAAA,OAAKC,UAAU,YACbD,KAAAA,cAACs7D,GAAU,CAAChJ,OAAK,GACftyD,KAAAA,cAAA,QAAMC,UAAU,SACdD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,qBACH+4F,eAAe,oBAIrBoF,KAAAA,cAAA,OAAKC,UAAU,aAAa+kE,EAAsBjkC,cAClD/gC,KAAAA,cAACupD,GAAQ,CACPvnD,UAAW0hE,GAAAA,eACX/xJ,MAAO4zJ,EACP7b,cAAesb,EAAsB7mK,MACrCyrJ,mBAAoB,SAAC9sJ,GAAI,OAAKA,EAAKqB,MAAMsW,aAAa,EACtD81I,WAAY,SAACztJ,GAAI,OAAKA,EAAKqB,MAAMsW,aAAa,EAC9Cg1I,SAAU,SAAC3sJ,GACT+W,EAAKyuC,SAAS,CACZ9lC,cAAe1f,EAAK+P,SACpByX,aAAcxnB,EAAKykB,SACnByjJ,sBAAuBloK,GAE3B,EACAyP,KAAK,oBACL67H,KAAK,oBAITpoC,KAAAA,cAAA,OAAKrqD,MAAO,CAAE0xH,QAAS,SACrBrnE,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,6BAA6B+4F,eAAe,8DAM3EoF,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAACs7D,GAAU,CAAChJ,OAAK,GACftyD,KAAAA,cAAA,QAAMrqD,MAAO,CAAEiiG,SAAU,SACvB53C,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,SACH+4F,eAAe,aAIrBoF,KAAAA,cAAC2kD,GAAK,CACJ9iJ,GAAG,mBACH+iJ,UAAWoK,EAAOsW,YAClBne,aAAW,EACXhW,YAAal2C,EAAKC,cAAcqnE,EAAYyE,qBAGb,sBAAT,QAAtBD,EAAA1xH,SAASsxH,qBAAa,IAAAI,OAAA,EAAtBA,EAAwBllK,MACrByjK,aAAW,EAAXA,EAAaztK,QAAS,GAEvBmoG,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAA,OAAKC,UAAU,oBACbD,KAAAA,cAACi+C,GAAS,CAAC/9C,QAAStoG,KAAKwvK,mBAE3BpnE,KAAAA,cAAA,OAAKrqD,MAAO,CAAE0xH,QAAS,SACpB7B,EACGxlE,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,UAAU+4F,eAAe,gBAC9CuqE,aAAU,EAAVA,EAAYttK,QAAS,EAEnBmoG,KAAAA,cAAA,OAAKC,UAAU,cACZklE,EAAWnsK,KAAI,SAACsuK,EAAW3vK,GAAC,OAC3BqoG,KAAAA,cAAA,UACEC,UAAU,QACV3kG,IAAK3D,EACLuoG,QAAS,kBAAMrsF,EAAK0zJ,SAASD,EAAU,EACvC96J,KAAK,WAEJ86J,aAAS,EAATA,EAAWH,QAASnnE,KAAAA,cAAA,YAAMA,KAAAA,cAAA,OAAKgE,IAAKsjE,EAAUH,MAAOjjE,IAAKojE,EAAUzlK,MACrEm+F,KAAAA,cAAA,gBAAA1lG,OAAWgtK,EAAU/6J,KAAI,MAAAjS,OAAKgtK,EAAU79I,OAAM,MACvC,KAKbu2E,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,oBACH+4F,eAAe,8BACfl9F,OAAQ,CACN4nK,YAAAA,SAY1BtlE,KAAAA,cAACwD,GAAM,CACL3hG,GAAG,wBACHo+F,UAAU,mBACVkC,OAAK,EACLF,WAAS,EACT1K,SAAUqK,EACV1B,QAAStoG,KAAKs5I,aACdltH,QAAS0sI,GAET1wD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,SAAS+4F,eAAe,WAIzC,YAAT/uE,GACCm0E,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAA,OAAKC,UAAU,YACbD,KAAAA,cAACs7D,GAAU,CAAChJ,OAAK,GACftyD,KAAAA,cAAA,QAAMC,UAAU,SACdD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,qBACH+4F,eAAe,oBAIrBoF,KAAAA,cAAA,OAAKC,UAAU,aAEM,cAAjB8kE,EACIhkC,EACAikC,aAAqB,EAArBA,EAAuBjkC,eAIjC/gC,KAAAA,cAAA,OAAKC,UAAU,YACbD,KAAAA,cAACs7D,GAAU,CAAChJ,OAAK,GACftyD,KAAAA,cAAA,QAAMC,UAAU,SACdD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,UAAU+4F,eAAe,YAGlDoF,KAAAA,cAAA,OAAKC,UAAU,aAAa9yD,IAE9B6yD,KAAAA,cAAA,OAAKC,UAAU,YACbD,KAAAA,cAACs7D,GAAU,CAAChJ,OAAK,GACftyD,KAAAA,cAAA,QAAMC,UAAU,SACdD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,WAAW+4F,eAAe,aAGnDoF,KAAAA,cAAA,OAAKC,UAAU,aAAa3rE,IAE9B0rE,KAAAA,cAAA,OAAKC,UAAU,YACbD,KAAAA,cAACs7D,GAAU,CAAChJ,OAAK,GACftyD,KAAAA,cAAA,QAAMC,UAAU,SACdD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,aAAa+4F,eAAe,eAGrDoF,KAAAA,cAAA,OAAKC,UAAU,aAAa1Z,IAE9ByZ,KAAAA,cAACwD,GAAM,CACL3hG,GAAG,uBACHo+F,UAAU,mBACVkC,OAAK,EACLF,WAAS,EACT1K,SAAUqK,EACV1B,QAAStoG,KAAK6sJ,cACdzgI,QAAS0sI,GAET1wD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,qBACH+4F,eAAe,qBAKb,UAAT/uE,GACCm0E,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAA,MAAIC,UAAU,cACZD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,mBACH+4F,eAAe,8BAGnBoF,KAAAA,cAACwD,GAAM,CACL3hG,GAAG,wBACHo+F,UAAU,mBACVkC,OAAK,EACLF,WAAS,EACT1K,SAAUqK,EACV1B,QAAStoG,KAAKwlK,aAEdp9D,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,oBAAoB+4F,eAAe,YAOtE,KAAC/S,CAAA,CA/jB6D,CACnCmY,KAAAA,aAAeQ,GAikB5C,UAAegF,EAAAA,GAAAA,IAAW3d,IEhpB1B,IAAgB,YAAc,4BAA4B,OAAS,2BAA2B,mBAAmB,2BAA2B,KAAO,2BAA2B,cAAgB,2BAA2B,WAAa,2BAA2B,mBAAqB,2BAA2B,OAAS,2BAA2B,QAAU,2BAA2B,UAAY,2BAA2B,eAAiB,2BAA2B,qBAAqB,4BAA4B,WAAa,2BAA2B,OAAS,4BAA4B,QAAU,2BAA2B,YAAc,2BAA2B,uBAAyB,2BAA2B,cAAgB,2BAA2B,qBAAuB,2BAA2B,iBAAmB,4BAA4B,UAAY,2BAA2B,UAAY,2BAA2B,aAAe,2BAA2B,aAAe,4BAA4B,YAAc,4BAA4B,YAAc,2BAA2B,eAAiB,2BAA2B,oBAAsB,2BAA2B,gBAAkB,2BAA2B,iBAAmB,2BAA2B,gBAAkB,2BAA2B,aAAe,2BAA2B,mBAAqB,2BAA2B,gBAAkB,4BAA4B,OAAS,2BAA2B,cAAgB,2BAA2B,YAAc,4B,OCEj/C,I,GAcnB2/E,GADpBzlE,KCfD,CAAgB,aAAe,2BAA2B,WAAa,4BAA4B,KAAO,2BAA2B,iBAAmB,2BAA2B,KAAO,2BAA2B,KAAO,2BAA2B,eAAiB,4BDepP,CAAED,eAAe,GAAOvB,CAAAC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAAk1J,EAAAvkE,GAAA,I,IAAA1wF,G,EAAAi1J,E,maAK3C,SAAAA,EAAYlvJ,GAAO,IAAA/T,EAOoB,OAPpBP,EAAAA,GAAAA,GAAA,KAAAwjK,GAClBjjK,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAOvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAiBG,SAAC1B,GACZ0B,EAAKkjK,aAAaxuI,QAAQmwH,SAASvmJ,EAAEg/F,SACzCt9F,EAAK+9C,SAAS,CACb9hC,MAAM,GAGT,KAACzP,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAEa,WACb,IAAQic,EAASjc,EAAK2W,MAAdsF,KAERjc,EAAK+9C,SAAS,CACb9hC,MAAOA,GAET,KAACzP,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAEiB,SAACkU,GAClBlU,EAAK+9C,SAAS,CACb9hC,MAAM,IAGP/H,GACD,IArCClU,EAAK2W,MAAQ,CACZsF,MAAM,GAGPjc,EAAKkjK,aAAeznE,KAAAA,YAAkBz7F,CACvC,CAgEC,OAhEAN,EAAAA,GAAAA,GAAAujK,EAAA,EAAAlsK,IAAA,oBAAA6C,MAED,WACCk3C,SAASu9C,iBAAiB,YAAah7F,KAAK8vK,gBAAgB,EAC7D,GAAC,CAAApsK,IAAA,uBAAA6C,MAED,WACCk3C,SAASw9C,oBAAoB,YAAaj7F,KAAK8vK,gBAAgB,EAChE,GAAC,CAAApsK,IAAA,SAAA6C,MA0BD,WAAS,IAAA0V,EAAA,KACRutF,EAA6BxpG,KAAK0gB,MAA1B3G,EAAKyvF,EAALzvF,MAAOqwF,EAASZ,EAATY,UACPxhF,EAAS5oB,KAAKsjB,MAAdsF,KAER,OACCw/E,KAAAA,cAAA,OAAKC,UAAW0nE,KAAW,gBAAiBj8B,IAAK9zI,KAAK6vK,cACrDznE,KAAAA,cAAA,UAAQC,UAAU,aAAazzF,KAAK,SAAS0zF,QAAStoG,KAAKsrG,YAAalB,UAAU,qBACjFhC,KAAAA,cAAA,KAAGgC,UAAU,gBAAgB/B,UAAU,SACvCD,KAAAA,cAAA,KAAGgC,UAAU,gBAAgB/B,UAAU,SACvCD,KAAAA,cAAA,KAAGgC,UAAU,gBAAgB/B,UAAU,UAGxCD,KAAAA,cAAA,OAAKC,UAAS,GAAA3lG,OAAKqtK,KAAW,OAAQ3lE,EAAW,CAAExhF,KAAAA,MAEjD7O,EAAM3Y,KAAI,SAAC8D,EAAMqC,GAAK,OAAKrC,EAAKs6D,OAAS,KACxC4oC,KAAAA,cAAA,OAAK1kG,IAAK6D,EAAO8gG,UAAU,oBAC1BD,KAAAA,cAAA,UACCzI,SAAUz6F,EAAKy6F,SACfj8F,IAAK6D,EACLqN,KAAK,SACL0zF,QAAS,kBAAMrsF,EAAK+zJ,gBAAgB9qK,EAAK2b,OAAO,GAE/C3b,EAAK8I,OAGR,KAKN,KAAC4hK,CAAA,CA7E0C,CACFpkE,GAAAA,aAAS5C,GEKX,IAKlCqnE,GADL9lE,KAAWhmD,GAAQ,CAAE+lD,eAAe,GAAOvB,CAAAC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAAu1J,EAAA5kE,GAAA,I,IAAA1wF,G,EAAAs1J,E,maAG1C,SAAAA,EAAYvvJ,GAAO,IAAA/T,EA2BlB,OA3BkBP,EAAAA,GAAAA,GAAA,KAAA6jK,GACjBtjK,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAGO,WACnBA,EAAK+9C,SAAS,CACZwlH,gBAAgB,GAEpB,KAAC/2J,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAEc,WACb,IAAA68F,EAA0C78F,EAAK+T,MAA/BnZ,EAAKiiG,EAAbtkG,KAAQqC,MAASmjK,EAAYlhE,EAAZkhE,aACzBjyH,GAAAA,YAAAA,qBAAyClxC,GACzCmjK,GACF,KAACvxJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAEc,WACb,IAAA++F,EAA2C/+F,EAAK+T,MAAhCnZ,EAAKmkG,EAAbxmG,KAAQqC,MAAS4oK,EAAazkE,EAAbykE,cAGzB13H,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,QAA0B,CAC5C6oF,SAAU,WACRlrD,GAAAA,YAAAA,qBAAyClxC,GACzC4oK,GACF,GAGJ,IAACxjK,CAzBD,CAyFC,OAzFAN,EAAAA,GAAAA,GAAA4jK,EAAA,EAAAvsK,IAAA,SAAA6C,MA2BD,WACE,IAAA+oI,EAIItvI,KAAK0gB,MAHPxb,EAAIoqI,EAAJpqI,KACAizI,EAAU7I,EAAV6I,WAKAnoI,GAJcs/H,EAAdjsC,KAAQ7sD,OAONtxC,EAHF8K,SACA2Z,EAEEzkB,EAFFykB,SACAF,EACEvkB,EADFukB,QAGE2mJ,EAAoB,CACtB,CACEnmK,GAAI,KACJ+D,MAAOo6F,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,8BAA8B+4F,eAAe,WACzEniF,OAAQ7gB,KAAKqwK,aACb1wE,UAAU,GAEZ,CACE11F,GAAI,KACJ+D,MAAOo6F,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,8BAA8B+4F,eAAe,WACzEniF,OAAQ7gB,KAAKswK,aACb3wE,UAAU,IAOd,OAHmB,IAAfw4C,IACFi4B,EAAoB,IAGpBhoE,KAAAA,cAAA,MAAIC,UAAU,iBACZD,KAAAA,cAAA,MAAIC,UAAU,kBACZD,KAAAA,cAAA,OAAKC,UAAU,uBACbD,KAAAA,cAAC44C,GAAI,CAAC52C,UAAWjmD,GAAAA,gBAAwBxvC,KAAMgV,IAC/Cy+E,KAAAA,cAAA,OAAKC,UAAU,mBACbD,KAAAA,cAAA,OAAKC,UAAU,WACZr4F,GAEHo4F,KAAAA,cAAA,YACEA,KAAAA,cAAA,OAAKC,UAAU,oBACbD,KAAAA,cAAA,YACG,IAAI/qE,GAAAA,EAAU5T,GAAS2mB,GAAG,EAAG/S,GAAAA,EAAAA,aAAuB78B,WAAY,KAEnE4nG,KAAAA,cAAA,YAAOz+E,KAGXy+E,KAAAA,cAAA,cAAS,OAGZgoE,EAAkBnwK,OAAS,GAC1BmoG,KAAAA,cAAA,OAAKE,QAAStoG,KAAKuwK,mBAAoBloE,UAAU,mBAC/CD,KAAAA,cAACwnE,GAAY,CACXxlE,UAAU,iBACVrwF,MAAOq2J,MAOrB,KAACH,CAAA,CA9FyC,CACpBzkE,GAAAA,aAAS5C,GAiGjC,UAAegF,EAAAA,GAAAA,IAAWqiE,I,mlBC/GS,IAI7B//E,GADLia,KAAU9yF,GAAAA,GAAC,CAAC,EAAIkzJ,ICfjB,CAAgB,QAAU,8BDemB,CAAErgE,eAAe,GAAOvB,EAAAyG,GAAA,SAAAvG,IAAAnuF,EAAAA,GAAAA,GAAAw1E,EAAA2Y,GAAA,I,IAAAluF,G,EAAAu1E,E,maAOnE,SAAAA,EAAYxvE,GAAO,IAAA/T,EAMhB,OANgBP,EAAAA,GAAAA,GAAA,KAAA8jF,GACjBvjF,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAQE,SAAAO,IAAA,OAAAP,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OACdqG,EAAK6jK,iBAAgB,wBAAA/uJ,EAAAJ,OAAA,GAAAG,EAAA,OACtBrI,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAgBc,SAAAC,IAAA,IAAAvM,EAAA,OAAAsM,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OACLqO,EAAShI,EAAK+T,MAAd/L,KACR8jC,GAAAA,OAAAA,MAAqB9jC,GAEjBhI,EAAK+T,MAAMzZ,KAAKgT,UAClBtN,EAAK+T,MAAMzZ,KAAKgT,WACjB,wBAAAsH,EAAAF,OAAA,GAAAH,EAAA,MA9BDvU,EAAK2W,MAAQ,CACXyJ,QAAS,GACT1B,YAAY,GACb1e,CACH,CAuEC,OAvEAN,EAAAA,GAAAA,GAAA6jF,EAAA,EAAAxsF,IAAA,oBAAA6C,MAMD,WACEvG,KAAKwwK,gBACP,GAAC,CAAA9sK,IAAA,iBAAA6C,MAED,WAAiB,IAAA0V,EAAA,KAEfw8B,GAAAA,YAAAA,qBAAyC1X,MAAK,SAAChU,GAC7C9Q,EAAKyuC,SAAS,CACZ39B,QAAAA,EACA1B,YAAY,GAEhB,GACF,GAAC,CAAA3nB,IAAA,SAAA6C,MAWD,WAAS,IAAA8V,EAAA,KACPmtF,EAAuBxpG,KAAK0gB,MAApB/L,EAAI60F,EAAJ70F,KAAM0uF,EAAImG,EAAJnG,KACdt3C,EAAgC/rD,KAAKsjB,MAA7ByJ,EAAOg/B,EAAPh/B,QAAS1B,EAAU0gC,EAAV1gC,WACX8sH,EAAaprH,EAAQ9sB,OAErB4nK,GAAa9kE,EAAAA,GAAAA,IAAe,CAChC/0F,MAAO,CACL/D,GAAI,mBACJ+4F,eAAgB,uCAElBytE,SAAU,CACRxmK,GAAI,8BACJ+4F,eAAgB,oCAElB8H,MAAO,CACL7gG,GAAI,+BACJ+4F,eAAgB,uCAIpB,OACEoF,KAAAA,cAAC4iD,GAAK,CAACr2I,KAAMA,EAAM3G,MAAK,GAAAtL,OAAK2gG,EAAKC,cAAcukE,EAAW75J,SACzDo6F,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAACmuC,IAAK1qC,EAAAA,GAAAA,GAAA,CACJxD,UAAU,UACV8uC,KAAMpqH,EACNwqH,YAAW,GAAA70I,OAAK2gG,EAAKC,cAAej4E,EAAcw8I,EAAW4I,SAAW5I,EAAW/8D,QACnFwsC,UAAW,SAACO,EAAKtwI,EAAOivI,EAAUuB,GAAc,OAC9C3vC,KAAAA,cAAC6nE,GAAS,CACRvsK,IAAK6D,EACLA,MAAOA,EACP4wI,WAAYA,EACZjzI,KAAM2yI,EACN6yB,aAAcruJ,EAAKquJ,aACnByF,cAAe9zJ,EAAK8zJ,eACpB,GAEEnwK,KAAK0gB,SAKrB,KAACwvE,CAAA,CArFkE,CACpCkY,KAAAA,YAAejvF,EAAAA,EAAAA,GAAAi2F,GAAA,YAC3B,CACjBz6F,KAAMm3F,KAAAA,OACN7kG,KAAM6kG,KAAAA,SAJ2DlD,GAKlEwG,MAAAxG,GAmFH,UAAegF,EAAAA,GAAAA,IAAW1d,I,OE7F1B,IAAM23E,IAAa9kE,EAAAA,GAAAA,IAAe,CAChC2tE,SAAU,CACRzmK,GAAI,cACJ+4F,eAAgB,aAElB2tE,WAAY,CACV1mK,GAAI,oBACJ+4F,eAAgB,iBAKd7S,GADLga,KCrBD,CAAgB,KAAO,2BAA2B,QAAU,4BAA4B,OAAS,2BAA2B,KAAO,2BAA2B,iBAAmB,2BAA2B,UAAU,2BAA2B,YAAY,4BDqBzO,CAAED,eAAe,GAAOvB,CAAAC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAAy1E,EAAAkb,GAAA,I,IAAA1wF,G,EAAAw1E,E,maAAA,SAAAA,IAAA,IAAAxjF,GAAAP,EAAAA,GAAAA,GAAA,KAAA+jF,GAAA,QAAAvwE,EAAA7e,UAAAd,OAAAqsE,EAAA,IAAAlsE,MAAAwf,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAwsD,EAAAxsD,GAAA/e,UAAA+e,GA6BzC,OA7ByCnT,EAAAgO,EAAAtZ,KAAA0e,MAAApF,EAAA,OAAAjY,OAAA4pE,KAAAnzD,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,QAGlC,CACN6/F,cAAc,KACfrzF,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAEmB,WAClB,IAAA2iG,GAAAz0F,EAAAA,GAAAA,GAAAlO,GAAQ+T,MAASzZ,KAAQwvC,EAAI64D,EAAJ74D,KAAMzoC,EAAKshG,EAALthG,MAE3B4lD,UAAUtqD,QACZsqD,UAAUtqD,MAAM,CACd0E,MAAOA,EACP+zB,IAAK0U,IACL,MAAO78B,QAAQzO,OACjBstC,GAAAA,OAAAA,MAAqB,cAEzB,KAACt/B,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAEgB,WACfA,EAAK+9C,SAAS,CACZ8hD,cAAc,IACb,WACDpuF,YAAY,WACVzR,EAAK+9C,SAAS,CACZ8hD,cAAc,GAElB,GAAG,IACL,GACF,IAAC7/F,CAAA,CA0DA,OA1DAN,EAAAA,GAAAA,GAAA8jF,EAAA,EAAAzsF,IAAA,SAAA6C,MAED,WACE,IAAAylK,EAUIhsK,KATF0gB,MACEzZ,KACEwvC,EAAIu1H,EAAJv1H,KACAzoC,EAAKg+J,EAALh+J,MAIFw+F,EAEAxsG,KAHFsjB,MACEkpF,aAOJ,OACEpE,KAAAA,cAAC4iD,GAAK,CAACr2I,KAJE,aAIU3G,MAHJ,SAIXo6F,KAAAA,cAAA,QAAMC,UAAU,WAChBD,KAAAA,cAAA,KAAGC,UAAU,SAASiK,KAAM,gDAAkD5R,UAAUjqD,GAAQ,MAAQzoC,EAAOi8F,OAAO,UACpH7B,KAAAA,cAAA,KAAGC,UAAU,OAAO+B,UAAU,oBAC9BhC,KAAAA,cAAA,YAAM,aAERA,KAAAA,cAAA,KAAGC,UAAU,SAASiK,KAAM,yCAA2C10D,mBAAmB5vC,GAAS,QAAU0yF,UAAUjqD,GAAOwzD,OAAO,UACnI7B,KAAAA,cAAA,KAAGC,UAAU,OAAO+B,UAAU,mBAC9BhC,KAAAA,cAAA,YAAM,YAERA,KAAAA,cAAA,KAAGC,UAAU,SAASiK,KAAM,uDAAyD5R,UAAUjqD,GAAQ,UAAYmH,mBAAmB5vC,GAAQi8F,OAAO,UACnJ7B,KAAAA,cAAA,KAAGC,UAAU,OAAO+B,UAAU,oBAC9BhC,KAAAA,cAAA,YAAM,aAERA,KAAAA,cAAA,KAAGC,UAAU,SAASiK,KAAM,uBAAyB5R,UAAUjqD,GAAQ,YAAcmH,mBAAmB5vC,IACtGo6F,KAAAA,cAAA,KAAGC,UAAU,OAAO+B,UAAU,oBAC9BhC,KAAAA,cAAA,YAAM,WAGVA,KAAAA,cAAA,OAAKC,UAAU,oBACbD,KAAAA,cAACK,KAAe,CACd/oE,KAAM+W,EACNo2D,OAAQ7sG,KAAK8sG,gBAEb1E,KAAAA,cAACwD,GAAM,CAACnB,MAAI,EAAC9K,SAAU6M,GACrBpE,KAAAA,cAACI,GAAAA,EAAyBgE,EAAgBq7D,GAAW8I,WAAa9I,GAAW6I,aAInFtoE,KAAAA,cAACK,KAAe,CACZ/oE,KAAM+W,EACNo2D,OAAQ7sG,KAAK8sG,gBAEf1E,KAAAA,cAAA,OAAKC,UAAU,QACbD,KAAAA,cAAA,YAAO3xD,KAKjB,KAAC05C,CAAA,CAvFyC,CACxBqb,GAAAA,aAAS5C,GAyF7B,UAAegF,EAAAA,GAAAA,IAAWzd,I,mlBE5FwB,IAM5CC,IAJLl1B,EAAAA,EAAAA,KAAQ,SAAA3uD,GAA8B,MAAU,CAC/Cwe,QADqCxe,EAA3BopB,KAAQxK,oBAEnB,GACoEw9E,CAAAC,GAApEuB,KAAU9yF,GAAAA,GAAC,CAAC,EAAIkzJ,ICxBjB,CAAgB,eAAiB,2BAA2B,cAAgB,2BAA2B,uBAAyB,4BAA4B,cAAgB,2BAA2B,UAAY,6BDwBtK,CAAErgE,eAAe,GAAO+iC,EAAA79B,GAAA,SAAAvG,IAAAnuF,EAAAA,GAAAA,GAAA01E,EAAAyY,GAAA,I,IAAAluF,G,EAAAy1E,E,maAOnE,SAAAA,EAAY1vE,GAAO,IAAA/T,EAUhB,OAVgBP,EAAAA,GAAAA,GAAA,KAAAgkF,GACjBzjF,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAwFK,WACjBA,EAAKs3J,aACP,KAAC9qJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEe,SAAAO,IAAA,IAAAuqC,EAAA6kH,EAAAr9H,EAAAu5B,EAAAjpE,EAAA8sC,EAAA9jB,EAAAgkJ,EAAAC,EAAAplI,EAAA+0H,EAAAC,EAAA,OAAAz/I,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OAKZ,OALYylD,EAC2Dp/C,EAAK2W,MAAhEstJ,EAAY7kH,EAAlBrgB,KAAoB6H,EAAKwY,EAALxY,MAAOu5B,EAAM/gB,EAAN+gB,OAAQjpE,EAAIkoD,EAAJloD,KAAe8sC,EAAEob,EAAX/7C,QAAa6c,EAAMk/B,EAANl/B,OAE9DlgB,EAAK+9C,SAAS,CACZqmH,cAAc,IACdtvJ,EAAAnb,KAAA,EAEqBmyC,GAAAA,YAAAA,cAAkClF,EAAOu5B,EAAOv8D,QAAO,OAAhE,OAARsgK,EAAQpvJ,EAAAC,KAAAD,EAAAnb,KAAG,EACKmyC,GAAAA,YAAAA,YAAgCo4H,GAAS,OAGf,GAH1CC,EAAOrvJ,EAAAC,KACTgqB,GAAO,EAEPolI,GAAWA,EAAQnnI,OAAM+B,EAAOolI,EAAQnnI,OAExCinI,EAAc,CAAFnvJ,EAAAnb,KAAA,gBAAAmb,EAAAnb,KAAA,GACRmyC,GAAAA,WAAAA,UAA6B50C,EAAM+sK,EAAcC,EAAUnlI,GAAK,QAGpEA,GAEI+0H,EAAc,CAClB5zI,OAAAA,EACAuc,cAAevlC,EACfklC,gBAAiB4H,EACjB/G,WAAW,GAGbgwG,GAAiB,CACfl2I,IAAK,cAAFhB,OAAgBgpC,GACnBgmC,KAAM,KACNzqE,KAAMw5J,IAGR9zJ,EAAKs3J,cAECvD,EAAYx+F,GAAQn5C,aAAa4nD,YAAY,MAAOjlC,GAC1Dw0D,GAAmBwgE,IAEnB/zJ,EAAK+9C,SAAS,CACZi7C,SAAS,EACTorE,cAAc,IAEjB,yBAAAtvJ,EAAAJ,OAAA,GAAAG,EAAA,OACFrI,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEc,SAAAC,IAAA,IAAAurC,EAAAmkH,EAAA/sK,EAAA,OAAAod,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OACmB,GADnBmmD,EACwB9/C,EAAK2W,MAA5BstJ,EAAYnkH,EAAlB/gB,KAAoB7nC,EAAI4oD,EAAJ5oD,MACxB+sK,EAAc,CAAFrvJ,EAAAjb,KAAA,eAAAib,EAAAjb,KAAA,EACRmyC,GAAAA,WAAAA,SAA4B50C,EAAM+sK,GAAa,OACrDjkK,EAAKs3J,cAAa,wBAAA1iJ,EAAAF,OAAA,GAAAH,EAAA,OAErB/H,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAEa,WACZ,IAAA68F,EAAgC78F,EAAK+T,MAA7B/L,EAAI60F,EAAJ70F,KAAM1N,EAAIuiG,EAAJviG,KAAMy8F,EAAO8F,EAAP9F,QAEG,mBAAZA,GACTA,IAG0B,mBAAjBz8F,EAAKy8F,SACdz8F,EAAKy8F,UAGPjrD,GAAAA,OAAAA,MAAqB9jC,EACvB,IA1JEhI,EAAK2W,MAAQ,CACX2Q,KAAM,WACN+8I,mBAAmB,EACnBC,YAAY,EACZjhK,QAAS,GACT6c,OAAQ,GACRhpB,KAAM,IACP8I,CACH,CA+SC,OA/SAN,EAAAA,GAAAA,GAAA+jF,EAAA,EAAA1sF,IAAA,oBAAA6C,MAED,WAAoB,IAAA0V,EAAA,KAClBmC,YAAU4C,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAkB,IAAA,IAAA+uJ,EAAApkG,EAAAphC,EAAAylI,EAAAnhK,EAAAnM,EAAAgpB,EAAAtc,EAAA6gK,EAAA,OAAAnwJ,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,OAEa,GAFb4qK,EAGLj1J,EAAKyE,MADPzZ,KAAQ6lE,EAAMokG,EAANpkG,SAAQphC,EAAIwlI,EAAJxlI,MAGR,CAAFrpB,EAAA/b,KAAA,gBAAA+b,EAAA/b,KAAA,EACoBmyC,GAAAA,WAAAA,QAA2B/M,GAAK,OAIF,GAJlDohC,EAAWzqD,EAAAX,KAEI1R,EAAkC88D,EAA/CnjB,YAA8B9lD,EAAiBipE,EAAzBymB,OAAc1mE,EAAWigD,EAAXjgD,OAEtCtc,EAASkoC,GAAAA,YAAAA,gBAAoC50C,GAEtC,CAAFwe,EAAA/b,KAAA,SAGP,OAFF2V,EAAKyuC,SAAS,CACZz2B,KAAM,WACN5R,EAAAJ,OAAA,kBAIJhG,EAAKyuC,SACH,CACEz2B,KAAM,SACNyX,KAAAA,EACAohC,OAAMz1D,GAAAA,GAAA,GACDy1D,GAAM,IACTv8D,OAAAA,IAEFP,QAAAA,EACAnM,KAAAA,EACAgpB,OAAAA,IAEF,WAIE4rB,GAAAA,WAAAA,WAA8B50C,EAAM6nC,GAAM3K,MAAK,SAACswI,GAC1CA,EACF54H,GAAAA,YAAAA,WAA+B44H,EAAap/H,OAAOlR,MAAK,SAACqwI,GACvDn1J,EAAKyuC,SAAS,CACZnX,MAAO89H,EAAap/H,MACpB66B,OAAQskG,EACRH,WAAY1gK,EAAOR,UAAUvP,SAAS,SAAW6wK,EAAal9E,OAC9D68E,mBAAmB,GAEvB,IAEA/0J,EAAKyuC,SAAS,CACZz2B,KAAM,UAGZ,GACF,IACD5R,EAAA/b,KAAA,wBAAA+b,EAAA/b,KAAA,GAE0BmyC,GAAAA,YAAAA,WAA+Bq0B,GAAO,QAA/C,IAAZskG,EAAY/uJ,EAAAX,MAEA67D,MAAO,CAAFl7D,EAAA/b,KAAA,SAGnB,OAFF2V,EAAKyuC,SAAS,CACZz2B,KAAM,WACN5R,EAAAJ,OAAA,kBAIJhG,EAAKyuC,SAAS,CACZz2B,KAAM,SACNsf,MAAOu5B,EACPA,OAAQskG,EACRphK,QAASohK,EAAazgI,GACtB9sC,KAAMutK,EAAavtK,KACnBgpB,OAAQukJ,EAAavkJ,SACrB,yBAAAxK,EAAAhB,OAAA,GAAAc,EAAA,KAGR,GAAC,CAAAze,IAAA,SAAA6C,MAwED,WACE,IAAAmlG,EAGI1rG,KAAK0gB,MAFP/L,EAAI+2F,EAAJ/2F,KACQgyI,EAAej7C,EAAvBzkG,KAAQ0/I,gBAGVp9C,EAMIvpG,KAAKsjB,MALP2Q,EAAIs1E,EAAJt1E,KACA64C,EAAMy8B,EAANz8B,OACAikG,EAAYxnE,EAAZwnE,aACAC,EAAiBznE,EAAjBynE,kBACAC,EAAU1nE,EAAV0nE,WAGI7Z,EAAS1hB,GAAAA,IAAS11I,KAAM,UAAW,SAAU,QAE7CgO,EACJo6F,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,gCACH+4F,eAAe,6CAInB,OACEoF,KAAAA,cAAC4iD,GAAK,CACJr2I,KAAMA,EACN3G,MAAOA,EACP01F,QAAS1jG,KAAKikK,YACdtd,gBAAiBA,GAEjBv+C,KAAAA,cAAAA,KAAAA,SAAA,KACY,WAATn0E,GACCm0E,KAAAA,cAAA,KAAGC,UAAU,UACXD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,mCACH+4F,eAAe,wGAIrBoF,KAAAA,cAAA,OAAKC,UAAU,kBACH,aAATp0E,GACCm0E,KAAAA,cAAA,KAAGC,UAAU,UACXD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,yCACH+4F,eAAe,gBAIX,WAAT/uE,GACCm0E,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAA,KAAGC,UAAU,YACXD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,4CACH+4F,eAAe,kGAGnBoF,KAAAA,cAACwD,GAAM,CAACvD,UAAU,eAAeoC,MAAI,EAACnC,QAAStoG,KAAKsxK,kBAClDlpE,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,yCACH+4F,eAAe,kBAKb,WAAT/uE,GACCm0E,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAA,OAAKC,UAAU,YAAYtqD,MAAO,CAAE0lH,aAAc,SAChDr7D,KAAAA,cAACs7D,GAAU,KACTt7D,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,oCACH+4F,eAAe,sBAEhB,KAEHoF,KAAAA,cAAC2kD,GAAK,CAACC,UAAWoK,EAAOvzJ,KAAM87F,UAAQ,EAAC0I,UAAU,kBAAkBinD,YAAU,KAEhFlnD,KAAAA,cAAA,OAAKC,UAAU,YAAYtqD,MAAO,CAAE0lH,aAAc,SAChDr7D,KAAAA,cAACs7D,GAAU,KACTt7D,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,eAAe+4F,eAAe,aAClD,IACDoF,KAAAA,cAACwG,GAAO,CAAC3kG,GAAG,UACVm+F,KAAAA,cAAA,OAAKrqD,MAAO,CAAE+5G,UAAW,WACvB1vD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,SACH+4F,eAAe,2EACfl9F,OAAQ,CAAE+uG,GAAIzM,KAAAA,cAAA,WAAQz+E,SAAU,YAKxCy+E,KAAAA,cAAC2kD,GAAK,CAACC,UAAWoK,EAAOpnJ,QAAS2vF,UAAQ,EAAC0I,UAAU,kBAAkBinD,YAAU,KAEnFlnD,KAAAA,cAAA,OAAKC,UAAU,WAAWtqD,MAAO,CAAE0lH,aAAc,SAC/Cr7D,KAAAA,cAAA,KAAGC,UAAU,yBACVv7B,EAAOv8D,OAAOkZ,QACd,IAAI,OAGP2+E,KAAAA,cAACs7D,GAAU,KACTt7D,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,YAAY+4F,eAAe,YAGlDoF,KAAAA,cAAA,OAAKC,UAAU,SACbD,KAAAA,cAAC2kD,GAAK,CAAC1kD,UAAU,kBAAkB2kD,UAAWoK,EAAOvqI,OAAQ8yE,UAAQ,MAGxEqxE,EACC5oE,KAAAA,cAAA,OAAKC,UAAU,0BACbD,KAAAA,cAAC2E,GAAY,OAGf3E,KAAAA,cAAA,OAAKC,UAAU,kBACX4oE,GACA7oE,KAAAA,cAACwD,GAAM,CACLvD,UAAU,aACVoC,MAAI,EACJ9K,SAAUoxE,GAAgBE,EAC1B3oE,QAAStoG,KAAK6sJ,cACdxiD,WAAS,GAETjC,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,oCACH+4F,eAAe,aAIrBoF,KAAAA,cAACwD,GAAM,CACLvD,UAAU,aACVoC,MAAI,EACJ9K,SAAUoxE,EACVzoE,QAAS2oE,EAAajxK,KAAKikK,YAAcjkK,KAAKuxK,aAC9ClnE,WAAS,GAER4mE,EACC7oE,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,sCACH+4F,eAAe,UAGjBoF,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,qCACH+4F,eAAe,gBAcvC,KAAC5S,CAAA,CAjUkE,CACjCgY,KAAAA,YAAejvF,EAAAA,EAAAA,GAAAi2F,GAAA,YAC9B,CACjBz6F,KAAMm3F,KAAAA,OACN7kG,KAAM6kG,KAAAA,SAJ2DlD,GAKlEwG,MAAAxG,KAAAA,GA+TH,Y,glBEvUA,IAAM88D,GAAa,oBACbmC,IAAa9kE,EAAAA,GAAAA,IAAe,CAChC/0F,MAAO,CACL/D,GAAI,GAAFvH,OAAKgjK,GAAU,UACjB1iE,eAAgB,wBAElBwuE,oBAAqB,CACnBvnK,GAAI,GAAFvH,OAAKgjK,GAAU,gBACjB1iE,eAAgB,8EAElByuE,mBAAoB,CAClBxnK,GAAI,GAAFvH,OAAKgjK,GAAU,uBACjB1iE,eAAgB,wBAElB0uE,mBAAoB,CAClBznK,GAAI,GAAFvH,OAAKgjK,GAAU,uBACjB1iE,eAAgB,8EAElB2uE,gBAAiB,CACf1nK,GAAI,GAAFvH,OAAKgjK,GAAU,oBACjB1iE,eAAgB,kDAElB4uE,kBAAmB,CACjB3nK,GAAI,GAAFvH,OAAKgjK,GAAU,sBACjB1iE,eAAgB,+BAElB6uE,kBAAmB,CACjB5nK,GAAI,GAAFvH,OAAKgjK,GAAU,sBACjB1iE,eAAgB,qDAElB8uE,gBAAiB,CACf7nK,GAAI,GAAFvH,OAAKgjK,GAAU,qBACjB1iE,eAAgB,oDAChBl9F,OAAQ,CACNwsG,KACElK,KAAAA,cAACstC,GAAAA,GAAI,CAAC/kG,GAAI0G,GAAMw/C,iBACb,IACDuR,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,4BAA4B+4F,eAAe,8BAKxE+uE,YAAa,CACX9nK,GAAI,GAAFvH,OAAKgjK,GAAU,gBACjB1iE,eAAgB,sHAElBgvE,cAAe,CACb/nK,GAAI,GAAFvH,OAAKgjK,GAAU,kBACjB1iE,eAAgB,aAElBivE,WAAY,CACVhoK,GAAI,GAAFvH,OAAKgjK,GAAU,eACjB1iE,eAAgB,qBA+Bd3S,IARLn1B,EAAAA,EAAAA,KACC,SAAA3uD,GAC6B,MACtB,CACLwe,QAF2Bxe,EAA3BopB,KAAQxK,oBAGT,GAEkEw9E,CAAAC,GAApEuB,KAAU9yF,GAAAA,GAAC,CAAC,EAAIkzJ,ICvGjB,CAAgB,cAAgB,2BAA2B,UAAY,2BAA2B,aAAe,2BAA2B,wBAA0B,2BAA2B,UAAY,2BAA2B,cAAgB,2BAA2B,cAAgB,2BAA2B,cAAgB,2BAA2B,uBAAyB,2BAA2B,mBAAqB,2BAA2B,eAAiB,6BDuGjb,CAAErgE,eAAe,GAAO+iC,CAAArkC,GAAA,SAAAC,IAAAnuF,EAAAA,GAAAA,GAAA21E,EAAAwY,GAAA,I,IAAAluF,G,EAAA01E,E,maAEnE,SAAAA,EAAY3vE,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAAikF,GACjB1jF,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAoBA,WAAM,IAAAyrC,EAClBoxD,EAAgC78F,EAAK+T,MAA7B/L,EAAI60F,EAAJ70F,KAAM1N,EAAIuiG,EAAJviG,KAAMy8F,EAAO8F,EAAP9F,QAEG,mBAAZA,GACTA,IAGEz8F,GAAgC,mBAAjBA,EAAKy8F,QACtBz8F,EAAKy8F,UAELj4E,OAAOsrB,SAAS4vE,OAAOtvE,GAAM8+C,WAG4B7nE,UAAY,QAAN8pB,EAAN9pB,GAAAA,YAAY,IAAA8pB,OAAN,EAANA,EAAcoG,sDAGpDlJ,KACRpyC,SAAQ,SAACymB,GAClB8uB,GAAAA,KAAAA,kBAA+B9uB,EAAS9M,eAAe,EACzD,IACAxD,aAAaC,QAAQwB,GAAAA,aAAAA,eAAuC,SAG9D29B,GAAAA,OAAAA,MAAqB39B,GAAAA,OAAAA,wBACrB29B,GAAAA,OAAAA,MAAqB9jC,EACvB,KAACwE,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAEc,WACbg2C,GAAAA,OAAAA,WACAh2C,EAAKs3J,aACP,KAAC9qJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAEmB,WAClBA,EAAK+9C,SAAS,CACZz2B,KAAM,mBAEV,KAAC9a,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAEiB,SAACpF,GACjB,IAAAwkD,EAKIp/C,EAAK2W,MAJP4uJ,EAAWnmH,EAAXmmH,YACAC,EAAYpmH,EAAZomH,aACAjJ,EAAKn9G,EAALm9G,MACArhK,EAAQkkD,EAARlkD,SAKF,GAAIqhK,EAFgBiJ,EAAalyK,UAENiyK,EAAY3qK,GAAvC,CAcA,IAAM6qK,EAAcF,EAAY/3J,OAAO5S,EAAO,GAC9C4qK,EAAajyK,KAAI6f,MAAjBoyJ,GAAY/oJ,EAAAA,EAAAA,GAASgpJ,IAErBzlK,EAAK+9C,SAAS,CACZwnH,YAAAA,EACAC,aAAAA,EACAE,eAAe,EACfC,gBAAkBH,EAAa3wK,KAAK,OAASqG,IAC5C,WAC0B,IAAvBqqK,EAAYjyK,SACdoZ,aAAaC,QAAQwB,GAAAA,gBAAAA,YAAuC,KAC5DzB,aAAaC,QAAQwB,GAAAA,gBAAAA,iBAA4C,KACjEzB,aAAaC,QAAQwB,GAAAA,gBAAAA,eAA0C,KAC/D29B,GAAAA,cAAAA,oBAEA9rC,EAAK+9C,SAAS,CACZz2B,KAAM,UAGZ,GArBA,MAVEtnB,EAAK+9C,SAAS,CACZ2nH,eAAe,IACd,WACDj0J,YAAW,WACTzR,EAAK+9C,SAAS,CACZ2nH,eAAe,GAEnB,GAAG,IACL,GAwBJ,IApGE,IAAMxqK,EAAWwR,aAAaE,QAAQuB,GAAAA,gBAAAA,aAEhCo3J,EAAerqK,GAAyB,MAAbA,EAAoBA,EAASpH,MAAM,KAAO,GAC3EyxK,EAAYhnI,MAAK,iBAAM,GAAMpsC,KAAKyzK,QAAQ,IAE1C,IAAMrJ,EAASrhK,GAAyB,MAAbA,EAAoBA,EAASpH,MAAM,KAAO,GAUpE,OARDkM,EAAK2W,MAAQ,CACX2Q,KAAoB,MAAbpsB,EAAgB,kBACvBA,SAAAA,EACAqhK,MAAAA,EACAiJ,aAAc,GACdD,YAAAA,EACAI,iBAAiB,EACjBD,eAAe,GAChB1lK,CACH,CAoPC,OApPAN,EAAAA,GAAAA,GAAAgkF,EAAA,EAAA3sF,IAAA,SAAA6C,MAsFD,WAAS,IAAA0V,EAAA,KACPyvF,EAGI1rG,KAAK0gB,MAFP/L,EAAI+2F,EAAJ/2F,KACA0uF,EAAIqI,EAAJrI,KAGF52C,EAQIzsD,KAAKsjB,MAPP2Q,EAAIw4B,EAAJx4B,KACAi1I,EAAKz8G,EAALy8G,MACAiJ,EAAY1lH,EAAZ0lH,aACAtqK,EAAQ4kD,EAAR5kD,SACAqqK,EAAWzlH,EAAXylH,YACAI,EAAe7lH,EAAf6lH,gBACAD,EAAa5lH,EAAb4lH,cAGF,OAEEjqE,KAAAA,cAAC4iD,GAAK,CACJr2I,KAAMA,EACN3G,MAAK,GAAAtL,OAAK2gG,EAAKC,cAAcukE,GAAW75J,QACxC01F,QAAS1jG,KAAKikK,YACdtd,iBAAe,GAEL,oBAAT1yH,GACCm0E,KAAAA,cAAA,KAAGC,UAAU,yBACXD,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAW2J,sBAG3B,SAATv9I,GACCm0E,KAAAA,cAAA,KAAGC,UAAU,yBACXD,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAW6J,qBAG3B,YAATz9I,GACCm0E,KAAAA,cAAA,KAAGC,UAAU,yBACXD,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAWiK,kBAGrC1pE,KAAAA,cAAA,WACY,UAATn0E,GACCm0E,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAA,KAAGC,UAAU,yBACXD,KAAAA,cAACI,GAAAA,GAAgBqD,EAAAA,GAAAA,GAAA,GACXg8D,GAAWkK,YAAW,CAC1BjsK,OAAQ,CACN+uG,GAAIzM,KAAAA,cAAA,gBAGVA,KAAAA,cAAA,OAAKC,UAAU,iBACbD,KAAAA,cAACwD,GAAM,CACLnB,MAAI,EACJnC,QAAS,WACP3lD,GAAAA,OAAAA,UACA1mC,EAAKyuC,SAAS,CAAEz2B,KAAM,QACxB,GACAm0E,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAWmK,gBAEnC5pE,KAAAA,cAACwD,GAAM,CAAClB,MAAI,EAACpC,QAAStoG,KAAKikK,aACzB77D,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAWoK,eAK/B,UAATh+I,GACCm0E,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAA,KAAGC,UAAU,yBACXD,KAAAA,cAAA,OAAKC,UAAU,YAAY+D,IAAKomE,GAAOlmE,IAAI,WAC3ClE,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAW8J,kBAEnCvpE,KAAAA,cAAA,OAAKC,UAAU,YACbD,KAAAA,cAACwD,GAAM,CACLvD,UAAU,mCACVoC,MAAI,EACJnC,QAAStoG,KAAK0qK,cAEdtiE,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,uBAAuB+4F,eAAe,aAKzD,oBAAT/uE,GACCm0E,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAA,OAAKC,UAAU,aACbD,KAAAA,cAAA,OAAKC,UAAS,8BAAA3lG,OAAiC2vK,EAAiB,gBAAkB,KAE9EF,EAAa/wK,KAAI,SAACiO,EAAM9H,GAAK,OAC3B6gG,KAAAA,cAAA,UAAQ1kG,IAAK6D,EAAO+gG,QAAS,WAAQ,EAAG8B,UAAU,8BAA8Bg/D,UAAU,KAAKx0J,KAAK,UACjGvF,EACM,KAIf+4F,KAAAA,cAAA,OAAKC,UAAU,iBAEX6pE,EAAY9wK,KAAI,SAACiO,EAAM9H,GAAK,OAC1B6gG,KAAAA,cAAA,UAAQ1kG,IAAK6D,EAAO+gG,QAAS,kBAAMrsF,EAAKw2J,gBAAgBlrK,EAAM,EAAE6iG,UAAU,8BAA8Bg/D,UAAU,KAAKx0J,KAAK,UACzHvF,EACM,MAKjB+4F,KAAAA,cAAA,OAAKC,UAAU,YACbD,KAAAA,cAACwD,GAAM,CACLvD,UAAU,mCACVoC,MAAI,EACJ9K,SAAU2yE,EACVhqE,QAAStoG,KAAK0qK,cAEdtiE,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,uBAAuB+4F,eAAe,aAKzD,SAAT/uE,GACCm0E,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAA,OAAKC,UAAU,aACbD,KAAAA,cAAA,OAAKC,UAAU,eAAe+B,UAAU,8BAA8Bg/D,UAAU,MAE5EF,EAAM9nK,KAAI,SAACiO,EAAM9H,GAAK,OACpB6gG,KAAAA,cAAA,OAAK1kG,IAAK6D,EAAO8gG,UAAU,2BACzBD,KAAAA,cAAA,WACEA,KAAAA,cAAA,QAAMC,UAAU,aAAc9gG,EAAQ,GACtC6gG,KAAAA,cAAA,YAAO/4F,IAIP9H,EAAQ,IAAM2hK,EAAMjpK,QAAU,IAE5B,KAIZmoG,KAAAA,cAAA,KAAGC,UAAU,yBACXD,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAW+J,mBACjCxpE,KAAAA,cAAA,WACAA,KAAAA,cAACI,GAAAA,GAAgBqD,EAAAA,GAAAA,GAAA,GAAKg8D,GAAWgK,kBAAiB,CAAE/rK,OAAQ,CAAEm/F,OAAQluD,SAASC,eAInFoxD,KAAAA,cAAA,OAAKC,UAAU,0BACbD,KAAAA,cAACsF,GAAI,CAAChuE,KAAM73B,GACVugG,KAAAA,cAACwD,GAAM,CAACrB,OAAK,GACXnC,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,iBAAiB+4F,eAAe,WAGzDoF,KAAAA,cAAA,OAAKC,UAAU,sBACbD,KAAAA,cAACwD,GAAM,CAACrB,OAAK,EAACjC,QAAStoG,KAAK0yK,mBAC1BtqE,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,sBAAsB+4F,eAAe,kBAS5E,KAAC3S,CAAA,CAzQkE,CACrC+X,KAAAA,aAAeQ,KAAAA,GA2Q/C,UAAegF,EAAAA,GAAAA,IAAWvd,I,glBE5V1B,IAAMq1E,GAAa,wBACbmC,IAAa9kE,EAAAA,GAAAA,IAAe,CAChC/0F,MAAO,CACL/D,GAAI,GAAFvH,OAAKgjK,GAAU,UACjB1iE,eAAgB,6CAElB2vE,cAAe,CACb1oK,GAAI,GAAFvH,OAAKgjK,GAAU,kBACjB1iE,eAAgB,8BAElB4vE,YAAa,CACX3oK,GAAI,GAAFvH,OAAKgjK,GAAU,gBACjB1iE,eAAgB,sDAElBnP,MAAO,CACL5pF,GAAI,GAAFvH,OAAKgjK,GAAU,UACjB1iE,eAAgB,UAElB6vE,gBAAiB,CACf5oK,GAAI,GAAFvH,OAAKgjK,GAAU,qBACjB1iE,eAAgB,sBAElB8vE,cAAe,CACb7oK,GAAI,GAAFvH,OAAKgjK,GAAU,kBACjB1iE,eAAgB,gBAElB+vE,cAAe,CACb9oK,GAAI,GAAFvH,OAAKgjK,GAAU,kBACjB1iE,eAAgB,UAElBsvE,gBAAiB,CACfroK,GAAI,GAAFvH,OAAKgjK,GAAU,oBACjB1iE,eAAgB,uCAuBd1S,GADL6Z,KAAU9yF,GAAAA,GAAC,CAAC,EAAIkzJ,IC7EjB,CAAgB,mBAAqB,2BAA2B,cAAgB,2BAA2B,eAAiB,2BAA2B,oBAAsB,2BAA2B,UAAY,2BAA2B,eAAiB,6BD6EnN,CAAErgE,eAAe,GAAOvB,CAAAC,GAAA,SAAAC,IAAAnuF,EAAAA,GAAAA,GAAA41E,EAAAuY,GAAA,I,IAAAluF,G,EAAA21E,E,maAEnE,SAAAA,EAAY5vE,GAAO,IAAA/T,EAQhB,OARgBP,EAAAA,GAAAA,GAAA,KAAAkkF,GACjB3jF,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAcA,WACZ,IAAA68F,EAAgC78F,EAAK+T,MAA7B/L,EAAI60F,EAAJ70F,KAAM1N,EAAIuiG,EAAJviG,KAAMy8F,EAAO8F,EAAP9F,QAEG,mBAAZA,GACTA,IAGEz8F,GAAgC,mBAAjBA,EAAKy8F,QACtBz8F,EAAKy8F,UACMz8F,GAAQA,EAAK+rK,YACxBvnJ,OAAOsrB,SAAS4vE,OAAOtvE,GAAM8+C,UAG/B19C,GAAAA,OAAAA,MAAqB9jC,EACvB,KAACwE,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAEc,WACb,IAAQ1F,EAAS0F,EAAK+T,MAAdzZ,KAER0F,EAAKs3J,cAECh9J,GAAQA,EAAK+rK,aACjBvnJ,OAAOsrB,SAAS4vE,OAAOtvE,GAAM8+C,UAC7B1qE,OAAOsrB,SAASu5D,SAEpB,KAACn3F,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAEqB,WACpB,IAAQ9E,EAAa8E,EAAK2W,MAAlBzb,SAEHA,GAAa6f,GAAAA,sBAAoC7f,GAQtD8E,EAAK+9C,UAAS,iBAAO,CACnBr/B,YAAY,EACb,IAAG,WACF1e,EAAKyxC,cAAcv2C,EACrB,IAXE8E,EAAK+9C,SAAS,CACZuoH,mBAAmB,EACnB5nJ,YAAY,GAUlB,KAAClS,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAEe,SAAC9E,GAEfuW,YAAU4C,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAO,IAAA,OAAAP,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,cAAAmb,EAAAnb,KAAA,EACHmyC,GAAAA,KAAAA,cAA2B5wC,GAAS,OAC1C8E,EAAK+9C,UAAS,iBAAO,CACnBr/B,YAAY,EACZ4I,KAAM,QACP,IAED0uB,GAAAA,QAAAA,WAA2B,wBAAAlhC,EAAAJ,OAAA,GAAAG,EAAA,KAE/B,KAACrI,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAEsB,SAAC9E,GACtB8E,EAAK+9C,SAAS,CACZ7iD,SAAAA,GAEJ,IA1EE8E,EAAK2W,MAAQ,CACX2Q,KAAM,QACNpsB,SAAU,GACVorK,mBAAmB,EACnB5nJ,YAAY,GACb1e,CACH,CAmKC,OAnKAN,EAAAA,GAAAA,GAAAikF,EAAA,EAAA5sF,IAAA,oBAAA6C,MAED,WACEo8C,GAAAA,QAAAA,SACF,GAAC,CAAAj/C,IAAA,SAAA6C,MAkED,WACE,IAAAmlG,EAAuB1rG,KAAK0gB,MAApB/L,EAAI+2F,EAAJ/2F,KAAM0uF,EAAIqI,EAAJrI,KAEdt3C,EAKI/rD,KAAKsjB,MAJP2Q,EAAI83B,EAAJ93B,KACApsB,EAAQkkD,EAARlkD,SACAorK,EAAiBlnH,EAAjBknH,kBACA5nJ,EAAU0gC,EAAV1gC,WAGF,OACE+8E,KAAAA,cAAC4iD,GAAK,CACJr2I,KAAMA,EACN3G,MAAK,GAAAtL,OAAK2gG,EAAKC,cAAcukE,GAAW75J,QACxC01F,QAAS1jG,KAAKikK,YACdtd,iBAAiB,GAEjBv+C,KAAAA,cAAA,OAAKC,UAAU,sBACH,UAATp0E,GACCm0E,KAAAA,cAACuB,GAAAA,SAAQ,KACN9hG,GAAYorK,GACX7qE,KAAAA,cAAA,OAAKC,UAAU,2BACbD,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAWyK,kBAGrClqE,KAAAA,cAAA,OAAKC,UAAU,YAAY+B,UAAU,8BAA8Bg/D,UAAU,MAC3EhhE,KAAAA,cAACs7D,GAAU,KACTt7D,KAAAA,cAAA,QAAMC,UAAU,kBACdD,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAW8K,eAAiB,IAElDvqE,KAAAA,cAACwG,GAAO,CAAC3kG,GAAG,sCACVm+F,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,qCACH+4F,eAAe,0BAEjBoF,KAAAA,cAAA,WACAA,KAAAA,cAAA,WACAA,KAAAA,cAAA,OAAKC,UAAU,uBACbD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,iDACH+4F,eAAe,8BAO3BoF,KAAAA,cAAC2/D,GAAa,CACZa,SAA2B,YAAjBt6I,GAAAA,MACVs7E,SAAU5pG,KAAKkzK,wBAGnB9qE,KAAAA,cAAA,OAAKC,UAAU,iBACbD,KAAAA,cAACwD,GAAM,CAAClB,MAAI,EAACpC,QAAStoG,KAAKikK,aACzB77D,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAWkL,gBAEnC3qE,KAAAA,cAACwD,GAAM,CACL3hG,GAAG,uBACHwgG,MAAI,EACJ9K,UAAW93F,GAA2C,KAA/BA,EAASpH,MAAM,KAAKR,QAAiBorB,EAC5Di9E,QAAStoG,KAAKmzK,qBAEb9nJ,EACC+8E,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAWgL,iBAEjCzqE,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAWiL,kBAMjC,UAAT7+I,GACCm0E,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,KAAGC,UAAU,yBACXD,KAAAA,cAAA,OAAKC,UAAU,YAAY+D,IAAKomE,GAAOlmE,IAAI,WAC3ClE,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAW+K,cAEnCxqE,KAAAA,cAAA,OAAKC,UAAU,YACbD,KAAAA,cAACwD,GAAM,CACL3hG,GAAG,6BACHo+F,UAAU,mCACVoC,MAAI,EACJnC,QAAStoG,KAAK0qK,cAEdtiE,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAWh0E,WAQjD,KAACvD,CAAA,CA9KkE,CACjC8X,KAAAA,aAAeQ,GAgLnD,UAAegF,EAAAA,GAAAA,IAAWtd,I,OErP1B,IAAMu3E,IAAa9kE,EAAAA,GAAAA,IAAe,CAChC/0F,MAAO,CACL/D,GAAI,2BACJ+4F,eAAgB,qBAKdzS,GADL4Z,KChBD,CAAgB,OAAS,2BAA2B,QAAU,2BAA2B,GAAK,4BDgB1E,CAAED,eAAe,GAAOvB,CAAAC,GAAA,SAAAC,IAAAnuF,EAAAA,GAAAA,GAAA61E,EAAAsY,GAAA,I,IAAAluF,G,EAAA41E,E,maAG1C,SAAAA,EAAY7vE,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAAmkF,GACjB5jF,EAAAgO,EAAAtZ,KAAA,KAAMqf,GACN,IAEIiJ,EAEAjJ,EAHFzZ,KACE0iB,SAIAypJ,EAAgB,GASnB,OARG9kJ,IACCA,GAAAA,OACAA,GAAAA,MAAa3E,EAAS5hB,gBACtBumB,GAAAA,MAAa3E,EAAS5hB,eAAeqrK,gBACxCA,EAAgB9kJ,GAAAA,MAAa3E,EAAS5hB,eAAeqrK,eAEvDzmK,EAAK2W,MAAQ,CACX8vJ,cAAAA,GACDzmK,CACH,CAkBC,OAlBAN,EAAAA,GAAAA,GAAAkkF,EAAA,EAAA7sF,IAAA,SAAA6C,MAED,WACE,IAAAijG,EAQIxpG,KAPF0gB,MACE/L,EAAI60F,EAAJ70F,KACA0uF,EAAImG,EAAJnG,KAGA+vE,EAEApzK,KAHFsjB,MACE8vJ,cAIJ,OACEhrE,KAAAA,cAAC4iD,GAAK,CAACr2I,KAAMA,EAAM3G,MAAOq1F,EAAKC,cAAcukE,GAAW75J,QACtDo6F,KAAAA,cAAA,OAAKo+D,wBAAyB,CAAEC,OAAQ2M,KAG9C,KAAC7iF,CAAA,CAvCyC,CACX6X,KAAAA,aAAeQ,GAyChD,UAAegF,EAAAA,GAAAA,IAAWrd,IE1D1B,IAAgB,mBAAmB,4BAA4B,QAAU,4B,glBCqBzE,IAAMm1E,GAAa,mBACbmC,IAAa9kE,EAAAA,GAAAA,IAAe,CAChCswE,cAAe,CACbppK,GAAI,GAAFvH,OAAKgjK,GAAU,eACjB1iE,eAAgB,uBAElBh1F,MAAO,CACL/D,GAAI,GAAFvH,OAAKgjK,GAAU,UACjB1iE,eAAgB,oBAElBr5C,YAAa,CACX1/C,GAAI,GAAFvH,OAAKgjK,GAAU,uBACjB1iE,eAAgB,kCAElBswE,cAAe,CACbrpK,GAAI,GAAFvH,OAAKgjK,GAAU,WACjB1iE,eAAgB,yBAElBuwE,eAAgB,CACdtpK,GAAI,GAAFvH,OAAKgjK,GAAU,YACjB1iE,eAAgB,WAElB1Y,YAAa,CACXrgF,GAAI,GAAFvH,OAAKgjK,GAAU,gBACjB1iE,eAAgB,sBAElBwwE,YAAa,CACXvpK,GAAI,GAAFvH,OAAKgjK,GAAU,gBACjB1iE,eAAgB,WAElBywE,WAAY,CACVxpK,GAAI,GAAFvH,OAAKgjK,GAAU,qBACjB1iE,eAAgB,YAElB0wE,eAAgB,CACdzpK,GAAI,GAAFvH,OAAKgjK,GAAU,yBACjB1iE,eAAgB,aAElB2wE,UAAW,CACT1pK,GAAI,GAAFvH,OAAKgjK,GAAU,qBACjB1iE,eAAgB,gEAElB4wE,WAAY,CACV3pK,GAAI,GAAFvH,OAAKgjK,GAAU,qBACjB1iE,eAAgB,UAElB6wE,UAAW,CACT5pK,GAAI,GAAFvH,OAAKgjK,GAAU,uBACjB1iE,eAAgB,8DAElB8wE,gBAAiB,CACf7pK,GAAI,GAAFvH,OAAKgjK,GAAU,qBACjB1iE,eAAgB,YAElB+wE,mBAAoB,CAClB9pK,GAAI,GAAFvH,OAAKgjK,GAAU,wBACjB1iE,eAAgB,YAElBgxE,kBAAmB,CACjB/pK,GAAI,GAAFvH,OAAKgjK,GAAU,uBACjB1iE,eAAgB,gBAUdxS,GANL2Z,KAAU9yF,GAAAA,GAAAA,GAAC,CAAC,EACRkzJ,ICtFL,CAAgB,YAAc,2BAA2B,gBAAkB,2BAA2B,aAAa,2BAA2B,gBAAkB,2BAA2B,qBAAqB,2BAA2B,cAAc,2BAA2B,gBAAkB,2BAA2B,0BAA4B,2BAA2B,sBAAwB,2BAA2B,oBAAsB,2BAA2B,wBAA0B,2BAA2B,sBAAwB,2BAA2B,WAAa,2BAA2B,YAAc,2BAA2B,YAAc,2BAA2B,oBAAoB,2BAA2B,uBAAuB,2BAA2B,sBAAsB,2BAA2B,mBAAqB,2BAA2B,OAAS,2BAA2B,cAAgB,6BDwF/6B0J,IACF,CAAE/pE,eAAe,GAAOvB,CAAAC,GAAA,SAAAC,IAAAnuF,EAAAA,GAAAA,GAAA81E,EAAAqY,GAAA,I,IAAAluF,G,EAAA61E,E,maAGzB,SAAAA,EAAY9vE,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAAokF,GACjB7jF,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBA4BM,WAElBA,EAAKs3J,aACP,KAAC9qJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAEa,SAACs+I,GACb,IAAAzhD,EAAgC78F,EAAK+T,MAA7B/L,EAAI60F,EAAJ70F,KAAM1N,EAAIuiG,EAAJviG,KAAMy8F,EAAO8F,EAAP9F,QAEG,mBAAZA,GACTA,EAAQunD,GAGkB,mBAAjBhkJ,EAAKy8F,SACdz8F,EAAKy8F,QAAQunD,GAGfxyG,GAAAA,OAAAA,MAAqB9jC,EACvB,KAACwE,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAEkB,WACGA,EAAK+T,MAAjB8U,QAAR,IACQw+D,EAAarnF,EAAK2W,MAAlB0wE,SAERj9C,SAAS7hB,KAAO,GAAHxyB,OAAM20C,GAAMm8C,QAAO,KAAA9wF,OAAIsxF,GACpC51E,YAAW,WAAQ24B,SAASu5D,QAAS,GAAG,IAQ1C,KAACn3F,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAEkB,WACjB,IAAAunK,EAIIvnK,EAAK2W,MAHPkwE,QACE7I,YAAa6I,OAAO,IAAA0gF,GAAQA,EAIhC,GAAI1gF,EAAS,CACX,IACE5+E,EAKE4+E,EALF5+E,KACA26C,EAIEikC,EAJFjkC,YACA+6B,EAGEkJ,EAHFlJ,YACAz9D,EAEE2mE,EAFF3mE,OACAuhB,EACEolD,EADFplD,UAGI+lI,EAAY17H,GAAAA,KAAAA,kBAA+B7jC,EAAMw5B,GACvD,GAAI+lI,EAAW,CAEb,IAAIC,EAAet5J,GAAAA,OAAAA,SAEfq5J,EAAUx+F,kBAAiBy+F,EAAet5J,GAAAA,OAAAA,sBAE9C,IACE6O,EAIEwqJ,EAJFxqJ,SACA3Z,EAGEmkK,EAHFnkK,QACAyZ,EAEE0qJ,EAFF1qJ,QACAqD,EACEqnJ,EADFrnJ,mBAGF2rB,GAAAA,OAAAA,KAAoB27H,EAAc,CAChCzqJ,SAAAA,EACA3Z,QAAAA,EACAyZ,QAAAA,EACA4qH,aAAc8/B,EACdrnJ,mBAAAA,EACAshB,UAAWmhB,GAAe+6B,EAC1Bz9D,OAAQA,EACR2mE,QAAAA,EACA3J,QAAS,WACPl9E,EAAK+9C,SAAS,CACZ2pH,SAAS,GAEb,GAGJ,CAGF,CACF,KAACl7J,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAEsB,SAAC2nK,GACxB16J,QAAQ4jB,IAAI,2BAA4B82I,GACtC,IAAQtgF,EAAarnF,EAAK2W,MAAlB0wE,SAER,OAAOsgF,EAAYj6J,SAAS,IAAD3X,OAAK20C,GAAMm8C,QAAO,KAAA9wF,OAAIsxF,GACnD,KAAC76E,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAEsB,WACrB,IAQU4nI,EANN5pD,EAEAh+E,EAAK2W,MAHPkwE,QACE7I,YAKJlyC,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,QAA0B,CAC5C6oF,UAAQ4wC,GAAAvzH,EAAAA,EAAAA,GAAAC,IAAAA,MAAE,SAAAO,IAAA,OAAAP,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,cAAAmb,EAAAnb,KAAA,EACFmyC,GAAAA,SAAAA,cAA+BkyC,EAAY1gF,IAAG,OACpD0C,EAAK+9C,SAAS,CACZ6pH,aAAa,IACb,wBAAA9yJ,EAAAJ,OAAA,GAAAG,EAAA,KACH,kBAAA+yH,EAAAx0H,MAAA,KAAAhf,UAAA,IAEL,IAvIE,IAAA6jK,EAQIlkJ,EAPFzZ,KACEokB,EAAUu5I,EAAVv5I,WACAmpJ,EAAU5P,EAAV4P,WACAhhF,EAAOoxE,EAAPpxE,QACAQ,EAAQ4wE,EAAR5wE,SACAygF,EAAO7P,EAAP6P,QAiBH,OAbD9nK,EAAK2W,MAAQ,CACX+H,WAAAA,EACAmoE,QAAAA,EACAQ,SAAAA,EACAugF,aAAa,EACbF,SAAS,EACTvb,WAAW,EACX2b,QAAAA,EACAC,cAAgBD,GAGdppJ,GAAoC,mBAAfmpJ,GACvBA,GAAU35J,EAAAA,GAAAA,GAAAlO,IACXA,CACH,CAuVC,OAvVAN,EAAAA,GAAAA,GAAAmkF,EAAA,EAAA9sF,IAAA,SAAA6C,MAiHD,WACE,IACE88F,EACErjG,KAAK0gB,MADP2iF,KAGFt3C,EAQI/rD,KAAKsjB,MAPP0wE,EAAQjoC,EAARioC,SACA3oE,EAAU0gC,EAAV1gC,WACAmoE,EAAOznC,EAAPynC,QACA+gF,EAAWxoH,EAAXwoH,YACAF,EAAOtoH,EAAPsoH,QACAI,EAAO1oH,EAAP0oH,QACAC,EAAY3oH,EAAZ2oH,aAKgBC,GAAbnhF,GAAW,CAAC,GADf7I,YAAAA,OAAW,IAAAgqF,GAAQA,EAGjBn0F,EAAS,WACRn1D,GAAcs/D,IAAanK,EAASmK,EAAYnK,QACjD+zF,IAAa/zF,EAAS,UACtB6zF,IAAS7zF,EAAS,SAEtB,IAAMmzF,GAActoJ,GAAcs/D,EAAe,WAC7C0Y,EAAKC,cAAcukE,GAAW8L,UAAWhpF,GAGvC8pD,EAAY,GAAH/xI,OAAMszF,MAAetzF,OAAG20C,GAAMm8C,QAAO,KAAA9wF,OAAIsxF,GAGlD4gF,GAAgBvpJ,GAAcmoE,GAAiC,OAAtBA,EAAQn/C,UACjDqL,GAAYr0B,GAAcmoE,GAAWA,EAAQ9zC,QAC7CqrC,GAAa1/D,GAAcmoE,GAAWA,EAAQzI,SAE9C8pF,EAAqBv8G,EAAAA,GAErBw8G,GAA0BP,IAAgBF,IAAYO,IAAiB7pF,IAAarrC,GAEpFq1H,EAAsB,CAAC,wBAAD,kBAC5BA,EAAoB70K,KAAM20K,EAAkB,4CACvCC,GAAuBC,EAAoB70K,KAAK,uBAErD,IAAM80K,EAAc3pJ,EAClBg4E,EAAKC,cAAcukE,GAAWwL,eAC9BhwE,EAAKC,cAAcukE,GAAW75J,MAAO,CACnCtD,OAAQ,GAAFhI,OAAKioF,EAAY1gF,GAAE,KAAAvH,OAAIioF,EAAYorD,iBAIzCk/B,EAAgB,GAChBC,EAAc,GAElB,OAAQ10F,GACN,IAAK,QACHy0F,EAAgB5xE,EAAKC,cAAcukE,GAAWiM,iBAC9CoB,EAAc5/D,GAAaG,GAC3B,MACF,IAAK,YACHw/D,EAAgB5xE,EAAKC,cAAcukE,GAAWkM,oBAC9CmB,EAAc5/D,GAAaO,UAC3B,MACF,QACEo/D,EAAgB5xE,EAAKC,cAAcukE,GAAWmM,mBAC9CkB,EAAc5/D,GAAaS,QAG/B,OACE3N,KAAAA,cAAC4iD,GAAK,CACJr2I,KAAK,cAAc3G,MAAOgnK,EAC1BtxE,QAAS1jG,KAAKikK,YACdtd,iBAAiB,EACjBwE,uBAAuB,EACvBC,iBAAkBprJ,KAAKm1K,sBAEtBV,IAAYC,GACXtsE,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,OAAKC,UAAU,mBACbD,KAAAA,cAAA,OAAKC,UAAU,cACbD,KAAAA,cAAA,cACEA,KAAAA,cAACI,GAAAA,EAAsBq/D,GAAWgM,aAGtCzrE,KAAAA,cAACmE,GAAS,CACR91D,KAAMg+F,EACN7nC,UAAU,KAGdxE,KAAAA,cAAA,OAAKC,UAAU,qCACbD,KAAAA,cAACwD,GAAM,CACLnB,MAAI,EACJnC,QAAStoG,KAAKo1K,kBAEdhtE,KAAAA,cAACI,GAAAA,EAAsBq/D,GAAW+L,eAKzCc,GACCtsE,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,OAAKC,UAAU,+BACbD,KAAAA,cAAA,OAAKgC,UAAU,MAAO/B,UAAWh9E,EAAa,mBAAH,IACzC+8E,KAAAA,cAAA,OAAKC,UAAS,mCAAA3lG,OAAqC89E,IACjD4nB,KAAAA,cAAA,OAAKgE,IAAK8oE,EAAalnK,MAAOinK,EAAe3oE,IAAK2oE,IAClD7sE,KAAAA,cAAA,cAAS6sE,IAEX7sE,KAAAA,cAAA,OAAKC,UAAU,oBACXh9E,GAAcs/D,GACdyd,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,WACEA,KAAAA,cAAA,UAAQC,UAAU,iBAChBD,KAAAA,cAACI,GAAAA,GAAgBqD,EAAAA,GAAAA,GAAA,GAAMg8D,GAAW75J,MAAK,CAAGlI,OAAQ,CAAC4E,OAAQ,GAAFhI,OAAKioF,EAAY1gF,GAAE,KAAAvH,OAAIioF,EAAYorD,qBAGhG3tC,KAAAA,cAAA,WACEA,KAAAA,cAAA,YACEA,KAAAA,cAAA,cAASzd,EAAY99D,OAAO,IAAE89D,EAAY/1E,QAG9CwzF,KAAAA,cAAA,WACEA,KAAAA,cAAA,YACEA,KAAAA,cAACI,GAAAA,GAAgBqD,EAAAA,GAAAA,GAAA,GAAOg8D,GAAWl+G,YAAW,CAAG7jD,OAAQ,CACvD6jD,YAAay+C,KAAAA,cAAA,SAAIzd,EAAYp7B,sBAS3C64C,KAAAA,cAAA,SAAOC,UAAU,qBAAqB+B,UAAU,0BAC9ChC,KAAAA,cAAA,aACG/8E,EACC+8E,KAAAA,cAAA,UACEA,KAAAA,cAAA,MAAIC,UAAU,mBAAmBgtE,QAAS,KAG5CjtE,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAA,UACEA,KAAAA,cAAA,MAAIC,UAAU,UACZD,KAAAA,cAACI,GAAAA,EAAsBq/D,GAAWyL,iBAGtClrE,KAAAA,cAAA,UACEA,KAAAA,cAAA,MAAIC,UAAU,mBAAmB1d,EAAYF,UAE/C2d,KAAAA,cAAA,UACEA,KAAAA,cAAA,MAAIC,UAAU,SAASgtE,QAAS,GAC9BjtE,KAAAA,cAACI,GAAAA,EAAsBq/D,GAAWv9E,eAGtC8d,KAAAA,cAAA,UACEA,KAAAA,cAAA,MAAIC,UAAU,kBAAkBgtE,QAAS,GACvCjtE,KAAAA,cAAA,YAAOzd,EAAYL,YAAa,IAAI,IAAEK,EAAYorD,cAAc,OAGnEprD,EAAYp7B,aACX64C,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAA,UACEA,KAAAA,cAAA,MAAIC,UAAU,SAASgtE,QAAS,GAC9BjtE,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,6BAA6B+4F,eAAe,oBAGrEoF,KAAAA,cAAA,UACEA,KAAAA,cAAA,MAAIC,UAAU,kBAAkBgtE,QAAS,GAAI1qF,EAAYp7B,eAI9Do7B,EAAYpB,OACX6e,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAA,UACEA,KAAAA,cAAA,MAAIC,UAAU,SAASgtE,QAAS,GAC9BjtE,KAAAA,cAACI,GAAAA,EAAsBq/D,GAAW0L,kBAGtCnrE,KAAAA,cAAA,UACEA,KAAAA,cAAA,MAAIC,UAAU,kBAAkBgtE,QAAS,GACtC1qF,EAAYpB,aAU/B6e,KAAAA,cAAA,OAAKC,UAAW0sE,EAAoBvzK,KAAK,MACrCszK,IAA0BzpJ,GAAyB,QAAXm1D,GACxC4nB,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,OAAKC,UAAU,cACbD,KAAAA,cAACwD,GAAM,CACLnB,MAAI,EACJnC,QAAStoG,KAAKm2I,kBAEd/tC,KAAAA,cAACI,GAAAA,EAAsBq/D,GAAW4L,cAGtCrrE,KAAAA,cAAA,OAAKC,UAAU,cACbD,KAAAA,cAACwD,GAAM,CACLlB,MAAI,EACJpC,QAAStoG,KAAKs1K,sBAEdltE,KAAAA,cAACI,GAAAA,EAAsBq/D,GAAW6L,mBAK1CtrE,KAAAA,cAAA,OAAKC,UAAU,eACbD,KAAAA,cAACwD,GAAM,CACLnB,MAAI,EACJnC,QAAStoG,KAAKu1K,mBAEdntE,KAAAA,cAACI,GAAAA,EAAsBq/D,GAAW2L,eAGrCqB,GACCzsE,KAAAA,cAAA,OAAKC,UAAU,eACbD,KAAAA,cAAC2D,GAAW,CACV1B,WAAW,EACX5zD,KAAI,GAAA/zC,OAAK+xI,GACTzmI,MAAO2lK,OAQzB,KAACnjF,CAAA,CArXwB,CAED4X,KAAAA,aAAeQ,GAsXzC,UAAegF,EAAAA,GAAAA,IAAWpd,I,glBE9b1B,IAAMk1E,GAAa,0BAEbC,IAAQ5iE,EAAAA,GAAAA,IAAe,CAC3ByyE,iBAAkB,CAChBvrK,GAAI,GAAFvH,OAAKgjK,GAAU,UACjB1iE,eAAgB,iCAElByyE,mBAAoB,CAClBxrK,GAAI,GAAFvH,OAAKgjK,GAAU,uBACjB1iE,eAAgB,uBAElB0yE,0BAA2B,CACzBzrK,GAAI,GAAFvH,OAAKgjK,GAAU,8BACjB1iE,eAAgB,yBAElB4iE,2BAA4B,CAC1B37J,GAAI,GAAFvH,OAAKgjK,GAAU,wBACjB1iE,eAAgB,kDAElB6iE,6BAA8B,CAC5B57J,GAAI,GAAFvH,OAAKgjK,GAAU,qBACjB1iE,eAAgB,8CAElB8iE,mBAAoB,CAClB77J,GAAI,GAAFvH,OAAKgjK,GAAU,uBACjB1iE,eAAgB,QAElB+iE,aAAc,CACZ97J,GAAI,GAAFvH,OAAKgjK,GAAU,iBACjB1iE,eAAgB,UAElB2yE,sBAAuB,CACrB1rK,GAAI,GAAFvH,OAAKgjK,GAAU,0BACjB1iE,eAAgB,+CAElB4yE,0BAA2B,CACzB3rK,GAAI,GAAFvH,OAAKgjK,GAAU,8BACjB1iE,eAAgB,qBAElB6yE,eAAgB,CACd5rK,GAAI,GAAFvH,OAAKgjK,GAAU,sBACjB1iE,eAAgB,2CAElB8yE,kBAAmB,CACjB7rK,GAAI,GAAFvH,OAAKgjK,GAAU,4BACjB1iE,eAAgB,uBAElB+yE,iBAAkB,CAChB9rK,GAAI,GAAFvH,OAAKgjK,GAAU,qBACjB1iE,eAAgB,kCAElBgzE,gBAAiB,CACf/rK,GAAI,GAAFvH,OAAKgjK,GAAU,2BACjB1iE,eAAgB,qEAElBizE,kBAAmB,CACjBhsK,GAAI,GAAFvH,OAAKgjK,GAAU,sBACjB1iE,eAAgB,wBAElBkzE,iBAAkB,CAChBjsK,GAAI,GAAFvH,OAAKgjK,GAAU,qBACjB1iE,eAAgB,kDAElBmzE,qBAAsB,CACpBlsK,GAAI,GAAFvH,OAAKgjK,GAAU,yBACjB1iE,eAAgB,qCAElBozE,kBAAmB,CACjBnsK,GAAI,GAAFvH,OAAKgjK,GAAU,sBACjB1iE,eAAgB,wBAElBqzE,oBAAqB,CACnBpsK,GAAI,GAAFvH,OAAKgjK,GAAU,wBACjB1iE,eAAgB,qCAElBszE,WAAY,CACVrsK,GAAI,GAAFvH,OAAKgjK,GAAU,eACjB1iE,eAAgB,kBAElBuzE,cAAe,CACbtsK,GAAI,GAAFvH,OAAKgjK,GAAU,mBACjB1iE,eAAgB,wBAElBwzE,aAAc,CACZvsK,GAAI,GAAFvH,OAAKgjK,GAAU,iBACjB1iE,eAAgB,uBAElByzE,eAAgB,CACdxsK,GAAI,GAAFvH,OAAKgjK,GAAU,yBACjB1iE,eAAgB,wBAElB0zE,kBAAmB,CACjBzsK,GAAI,GAAFvH,OAAKgjK,GAAU,sBACjB1iE,eAAgB,qFAElB2zE,aAAc,CACZ1sK,GAAI,GAAFvH,OAAKgjK,GAAU,qBACjB1iE,eAAgB,iBAElB4zE,oBAAqB,CACnB3sK,GAAI,GAAFvH,OAAKgjK,GAAU,wBACjB1iE,eAAgB,yBAElB6zE,aAAc,CACZ5sK,GAAI,GAAFvH,OAAKgjK,GAAU,iBACjB1iE,eAAgB,UAElB8zE,wBAAyB,CACvB7sK,GAAI,GAAFvH,OAAKgjK,GAAU,uBACjB1iE,eAAgB,eAElB+zE,sBAAuB,CACrB9sK,GAAI,GAAFvH,OAAKgjK,GAAU,qBACjB1iE,eAAgB,eAElBg0E,6BAA8B,CAC5B/sK,GAAI,GAAFvH,OAAKgjK,GAAU,4BACjB1iE,eAAgB,eAElBi0E,0BAA2B,CACzBhtK,GAAI,GAAFvH,OAAKgjK,GAAU,yBACjB1iE,eAAgB,WAElBk0E,YAAa,CACXjtK,GAAI,GAAFvH,OAAKgjK,GAAU,UACjB1iE,eAAgB,SAElBm0E,cAAe,CACbltK,GAAI,GAAFvH,OAAKgjK,GAAU,kBACjB1iE,eAAgB,mCAElBo0E,mBAAoB,CAClBntK,GAAI,GAAFvH,OAAKgjK,GAAU,wBACjB1iE,eAAgB,qDAElBowE,cAAe,CACbnpK,GAAI,GAAFvH,OAAKgjK,GAAU,kBACjB1iE,eAAgB,kCAElBq0E,qBAAsB,CACpBptK,GAAI,GAAFvH,OAAKgjK,GAAU,yBACjB1iE,eAAgB,oDAElBs0E,uBAAwB,CACtBrtK,GAAI,GAAFvH,OAAKgjK,GAAU,2BACjB1iE,eAAgB,2DASdtS,IALLx1B,EAAAA,EAAAA,KAAQ,SAAA3uD,GAAA,IAAAugI,EAAAvgI,EAAGopB,KAAmC,MAAU,CACvD5K,QADyB+hH,EAAP/hH,QAElBE,mBAF6C6hH,EAAlB7hH,mBAG5B,GAC+D09E,CAAAC,GAA/DuB,KAAU9yF,GAAAA,GAAC,CAAC,EAAI8sC,IC5KjB,CAAgB,uBAAyB,2BAA2B,YAAc,2BAA2B,eAAiB,2BAA2B,sBAAwB,2BAA2B,UAAY,2BAA2B,aAAe,2BAA2B,cAAgB,2BAA2B,eAAiB,2BAA2B,mBAAqB,2BAA2B,cAAgB,4BAA4B,aAAe,2BAA2B,cAAgB,2BAA2B,wBAA0B,2BAA2B,gBAAkB,6BD4KpkB,CAAE+lD,eAAe,GAAO+iC,CAAArkC,GAAA,SAAAC,IAAAnuF,EAAAA,GAAAA,GAAAg2E,EAAAmY,GAAA,I,IAAAluF,G,EAAA+1E,E,maAE9D,SAAAA,EAAYhwE,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAAskF,GACjB/jF,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MA8CQ,SAAAC,IAAA,IAAArZ,EAAA,OAAAoZ,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OACZuB,EAAa8E,EAAK2W,MAAlBzb,SAER8E,EAAK+9C,SACH,CACEv/C,OAAO,EACPq1J,WAAW,IACZx/I,EAAAA,EAAAA,GAAAC,IAAAA,MACD,SAAAO,IAAA,OAAAP,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,UACOuB,GAAa6f,GAAAA,sBAAoC7f,GAAS,CAAA4Z,EAAAnb,KAAA,QAI3D,OAHFqG,EAAK+9C,SAAS,CACZv/C,MAAOi9F,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAM0R,sBACnC7W,WAAW,IACX/+I,EAAAQ,OAAA,oBAICw2B,GAAAA,YAAAA,mBAAuC5wC,EAASsH,QAAS,CAAFsS,EAAAnb,KAAA,QAIxD,OAHFqG,EAAK+9C,SAAS,CACZv/C,MAAOi9F,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAM2R,wBACnC9W,WAAW,IACX/+I,EAAAQ,OAAA,wBAAAR,EAAAnb,KAAA,EAIEmyC,GAAAA,YAAAA,aAAiC5wC,EAASsH,QAAO,OAEvDxC,EAAK4qK,6BAEL5qK,EAAK+9C,SAAS,CACZ81G,WAAW,EACXvsI,KAAM,UACN,yBAAAxS,EAAAJ,OAAA,GAAAG,EAAA,MAEL,wBAAAD,EAAAF,OAAA,GAAAH,EAAA,OACF/H,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,yBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEuB,SAAAkB,IAAA,OAAAlB,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,OACtBqG,EAAK+9C,SACH,CACE8sH,qBAAqB,IAEvB,WACEp5J,YAAW,WACTzR,EAAK+9C,SAAS,CACZ8sH,qBAAqB,GAEzB,GAAG,IACL,IACD,wBAAAn1J,EAAAhB,OAAA,GAAAc,EAAA,OACFhJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,6BAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAE2B,SAAAa,IAAA,IAAA21J,EAAA,OAAAx2J,IAAAA,MAAA,SAAAe,GAAA,cAAAA,EAAA/Z,KAAA+Z,EAAA1b,MAAA,OAClBmxK,EAAuB9qK,EAAK2W,MAA5Bm0J,mBAER9qK,EAAK+9C,SACH,CACEgtH,yBAAyB,IAE3B,WACE,IAAMl6H,EAAUC,SAASC,cAAc,KAGvCF,EAAQG,aACN,OAAM,gCAAAj7C,OAC0Bk7C,mBAAmB65H,KAErDj6H,EAAQG,aACN,WAAU,GAAAj7C,OACP+oB,OAAOsrB,SAASC,SAAQ,4BAAAt0C,OAA2Bm7C,OAASC,OAAO,cAAa,SAGrFN,EAAQO,MAAMC,QAAU,OACxBP,SAAS/e,KAAKuf,YAAYT,GAC1BA,EAAQU,QACRT,SAAS/e,KAAKyf,YAAYX,GAE1Bp/B,YAAW,WACTzR,EAAK+9C,SAAS,CACZgtH,yBAAyB,GAE7B,GAAG,IACL,IACD,wBAAA11J,EAAAX,OAAA,GAAAS,EAAA,OACF3I,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAEc,WACbA,EAAK+9C,SAAS,CACZitH,QAAS,GACTC,eAAgB,GAChB3jJ,KAAM,eACN9oB,OAAO,EACP4qK,kBAAkB,GAEtB,KAAC58J,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,2BAEyB,WACxBA,EAAK+9C,SAAS,CACZv/C,OAAO,EACPtD,SAAU,GACVkuK,kBAAkB,EAClB9hJ,KAAM,WAEV,KAAC9a,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEc,SAAA0B,IAAA,IAAAhO,EAAA,OAAAsM,IAAAA,MAAA,SAAAmC,GAAA,cAAAA,EAAAnb,KAAAmb,EAAA9c,MAAA,OACLqO,EAAShI,EAAK+T,MAAd/L,KAER8jC,GAAAA,YAAAA,kBACAA,GAAAA,OAAAA,MAAqB9jC,GACjBhI,EAAK+T,MAAMzZ,KAAKgT,UAClBtN,EAAK+T,MAAMzZ,KAAKgT,WACjB,wBAAAmJ,EAAA/B,OAAA,GAAAsB,EAAA,OACFxJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,0BAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEwB,SAAAiD,IAAA,IAAAuzJ,EAAA,OAAAx2J,IAAAA,MAAA,SAAAoD,GAAA,cAAAA,EAAApc,KAAAoc,EAAA/d,MAAA,OACfmxK,EAAuB9qK,EAAK2W,MAA5Bm0J,mBAERh/H,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,MAAwB,CAC1C9M,MAAO,+CACPyoC,KAAMghI,IACN,wBAAApzJ,EAAAhD,OAAA,GAAA6C,EAAA,OACH/K,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,2BAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEyB,SAAA4C,IAAA,OAAA5C,IAAAA,MAAA,SAAAgD,GAAA,cAAAA,EAAAhc,KAAAgc,EAAA3d,MAAA,OACxBmyC,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,uBAAyC,CAC3D4oF,QAAS,WACP,IACMsiE,EAA6B,MADlB3sJ,aAAaE,QAAQuB,GAAAA,gBAAAA,aAEhCmZ,EAAO+xI,EAAgB,wBAA0B,oBAEvDr5J,EAAK+9C,SAAS,CACZs7G,cAAAA,EACA/xI,KAAAA,GAEJ,IACA,wBAAAhQ,EAAA5C,OAAA,GAAAwC,EAAA,OACH1K,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAEa,WACZ,IAAA68F,EAAgC78F,EAAK+T,MAA7B/L,EAAI60F,EAAJ70F,KAAM1N,EAAIuiG,EAAJviG,KAAMy8F,EAAO8F,EAAP9F,QAEG,mBAAZA,GACTA,IAG0B,mBAAjBz8F,EAAKy8F,SACdz8F,EAAKy8F,UAGPjrD,GAAAA,OAAAA,MAAqB9jC,EACvB,KAACwE,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,8BAE4B,WAC3B,IAAAo/C,EAAoEp/C,EAAK2W,MAAjEzb,EAAQkkD,EAARlkD,SAAUmzE,EAAcjvB,EAAdivB,eAAgB68F,EAAe9rH,EAAf8rH,gBAElCnsE,GAF+D3/C,EAAZ+rH,aAEXnrK,EAAK+T,OAArCqK,EAAO2gF,EAAP3gF,QAASE,EAAkBygF,EAAlBzgF,mBAEbwsJ,EAAqB,GAEzBA,EAAqB,sBACrBA,GAAsB,GAAJ/0K,OAAOuoB,EAAmBjb,QAAO,QACnDynK,GAAsB,6JACtBA,GAAsB,OACtBA,GAAsB,qDAClBxsJ,EAAmB4mB,WAAW,KAChC4lI,GAAsB,GAAJ/0K,OAAOuoB,EAAmB4mB,WAAW,GAAGrxC,SAAS,OAAM,SACvEyqB,EAAmB4mB,WAAW,KAChC4lI,GAAsB,GAAJ/0K,OAAOuoB,EAAmB4mB,WAAW,GAAGrxC,SAAS,OAAM,SACvEyqB,EAAmB4mB,WAAW,KAChC4lI,GAAsB,GAAJ/0K,OAAOuoB,EAAmB4mB,WAAW,GAAGrxC,SAAS,OAAM,SAC3Ei3K,GAAsB,OACtBA,GAAsB,iEACtBA,GAAsB,oDACtBA,GAAsB,sBACtBA,GAAsB,GAAJ/0K,OAAOqoB,EAAQpa,WAAU,QAC3C8mK,GAAsB,oDACtBA,GAAsB,OACjBI,GASHJ,GAAsB,mCACtBA,GAAsB,oDACtBA,GAAsB,sBACtBA,GAAsB,SAXtBA,GAAsB,uBACtBA,GAAsB,GAAJ/0K,OAAOmF,EAAQ,QACjC4vK,GAAsB,yCACtBA,GAAsB,sBACtBA,GAAsB,4DACtBA,GAAsB,uBAAJ/0K,OAA2Bs4E,EAAe/qE,IAAG,QAC/DwnK,GAAsB,oJAOxBA,GAAsB,qEACtBA,GAAsB,kDAEtB9qK,EAAK+9C,SAAS,CACZ+sH,mBAAAA,GAEJ,KAACt+J,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAEgB,WACf,IAAA8/C,EAOI9/C,EAAK2W,MANPq0J,EAAOlrH,EAAPkrH,QACAC,EAAcnrH,EAAdmrH,eACA/vK,EAAQ4kD,EAAR5kD,SACAgwK,EAAeprH,EAAforH,gBACAE,EAAsBtrH,EAAtBsrH,uBACAD,EAAYrrH,EAAZqrH,aAGFnrK,EAAK+9C,SACH,CACEv/C,OAAO,EACPq1J,WAAW,EACXuV,kBAAkB,EAClBiC,wBAAwB,IACzBh3J,EAAAA,EAAAA,GAAAC,IAAAA,MACD,SAAAsuB,IAAA,IAAAvtC,EAAA+zK,EAAA,OAAA90J,IAAAA,MAAA,SAAAivB,GAAA,cAAAA,EAAAjoC,KAAAioC,EAAA5pC,MAAA,UACOqxK,KAAWA,EAAQ13K,OAAS,GAAC,CAAAiwC,EAAA5pC,KAAA,QAI9B,OAHFqG,EAAK+9C,SAAS,CACZv/C,MAAOi9F,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAMkQ,gBACnCrV,WAAW,IACXtwH,EAAAjuB,OAAA,oBAGA01J,GAAWC,EAAc,CAAA1nI,EAAA5pC,KAAA,QAIzB,OAHFqG,EAAK+9C,SAAS,CACZv/C,MAAOi9F,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAMmQ,mBACnCtV,WAAW,IACXtwH,EAAAjuB,OAAA,wBAAAiuB,EAAA5pC,KAAA,EAGiBmyC,GAAAA,YAAAA,kBACnBk/H,IACA9vK,GAAWA,EAASsH,UACpB0oK,IAAmBE,IAAyBD,GAC7C,QAJK91K,EAAMkuC,EAAAxuB,OAME1f,EAAOg/B,QAA2B,MAAjBh/B,EAAOg/B,QAOhCh/B,GAA0B,sBAAhBA,EAAOmJ,OANrBwB,EAAK4qK,6BACL5qK,EAAK+9C,SAAS,CACZ81G,WAAW,EACXvsI,KAAM,WAUFjyB,GAA0B,gDAAhBA,EAAOmJ,MAKnBwB,EAAK+9C,SAAS,CACZ81G,WAAW,EACXwX,wBAAwB,KAGpBjC,GAA8B,IAAX/zK,EACzB2K,EAAK+9C,SAAS,CACZ81G,WAAW,EACXuV,iBAAAA,EACA5qK,MAAOnJ,GAAUA,EAAOmJ,MAAQnJ,EAAOmJ,MAAQ,mBAItD,yBAAA+kC,EAAA7uB,OAAA,GAAAkuB,EAAA,KAGP,IA7TE,IACU0oI,EACNv3J,EADFzZ,KAAQgxK,SAGJH,EAAez+J,aAAaE,QAAQuB,GAAAA,gBAAAA,4BAGpCkrJ,EAA6B,MADlB3sJ,aAAaE,QAAQuB,GAAAA,gBAAAA,aAEhCi9J,IAA2BD,EAE7B7jJ,EAAO,eACP8jJ,IAA2B/R,IAAe/xI,EAAO,qBAErD,IAAIikJ,GAAuB,EAwB1B,MAvBgB,WAAbD,IACFC,GAAuB,EACvBjkJ,EAAO,SAGTtnB,EAAK2W,MAAQ,CACXq0J,QAAS,GACTC,eAAgB,GAChB3jJ,KAAAA,EACA9oB,OAAO,EACPq1J,WAAW,EACX0X,qBAAAA,EACAL,gBAAiBE,EACjBD,aAAAA,EACAC,uBAAAA,EACA/R,cAAAA,EACAn+J,SAAU,GACVmzE,gBAAgB,EAChBm9F,qBAAqB,EACrBC,iBAAiB,EACjBJ,wBAAwB,EACxBR,qBAAqB,EACrBE,yBAAyB,GAC1B/qK,CACH,CAggBC,OAhgBAN,EAAAA,GAAAA,GAAAqkF,EAAA,EAAAhtF,IAAA,oBAAA6C,MAED,WACEvG,KAAKu3K,4BACP,GAAC,CAAA7zK,IAAA,SAAA6C,MAqRD,WACE,IAAAgjG,EAmBIvpG,KAAKsjB,MAlBP2Q,EAAIs1E,EAAJt1E,KAGA9oB,GAFOo+F,EAAPouE,QACcpuE,EAAdquE,eACKruE,EAALp+F,OACAq1J,EAASj3D,EAATi3D,UAQAuV,GAPaxsE,EAAby8D,cAEsBz8D,EAAtBwuE,uBACQxuE,EAAR1hG,SACc0hG,EAAdvuB,eACmBuuB,EAAnB4uE,oBACe5uE,EAAf6uE,gBACgB7uE,EAAhBwsE,kBACAiC,EAAsBzuE,EAAtByuE,uBACAR,EAAmBjuE,EAAnBiuE,oBACAE,EAAuBnuE,EAAvBmuE,wBACAD,EAAkBluE,EAAlBkuE,mBACAS,EAAoB3uE,EAApB2uE,qBAGF5oC,EAAoDtvI,KAAK0gB,MAAjD/L,EAAI26H,EAAJ36H,KAAM0uF,EAAIisC,EAAJjsC,KAER+zD,GAFqB9nB,EAAPvkH,QAA2BukH,EAAlBrkH,mBAEdyqH,GAAAA,IAAS11I,KAAM,UAAW,iBAAkB,aAE3D,OACEooG,KAAAA,cAAC4iD,GAAK,CAACr2I,KAAMA,EAAM3G,MAAK,GAAAtL,OAAK2gG,EAAKC,cAAcqiE,GAAM6P,oBACpDptE,KAAAA,cAAA,OAAKC,UAAU,0BACH,sBAATp0E,GACCm0E,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,OAAKC,UAAU,mBACbD,KAAAA,cAAA,KAAGC,UAAU,mBACXD,KAAAA,cAAA,cACEA,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAMC,6BAE9Bx9D,KAAAA,cAAA,WACAA,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAME,gCAIhCz9D,KAAAA,cAAA,OAAKC,UAAU,wDACbD,KAAAA,cAACwD,GAAM,CAACnB,MAAI,EAACnC,QAAStoG,KAAK0mK,yBACzBt+D,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAMG,qBAE9B19D,KAAAA,cAACwD,GAAM,CAAClB,MAAI,EAACpC,QAAStoG,KAAKikK,aACzB77D,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAMI,iBAK1B,YAAT9xI,GACCm0E,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,KAAGC,UAAU,mBACXD,KAAAA,cAAA,cACEA,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAMuQ,mBAE9B9tE,KAAAA,cAAA,WACAA,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAMwQ,uBAE9B/tE,KAAAA,cAAA,OAAKC,UAAU,YAAY+B,UAAU,mBACnChC,KAAAA,cAACs7D,GAAU,KACTt7D,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAMyQ,oBAE9BhuE,KAAAA,cAAC2kD,GAAK,CACJ1kD,UAAU,sBACV2kD,UAAWoK,EAAOvvJ,SAClB0xI,YAAW,GAAA72I,OAAK2gG,EAAKC,cAAcqiE,GAAM0Q,sBACzC9mB,aAAW,KAGdpkJ,GAASi9F,KAAAA,cAAA,OAAKC,UAAU,kBAAkBl9F,GAC3Ci9F,KAAAA,cAAA,OAAKC,UAAU,yBACbD,KAAAA,cAACwD,GAAM,CAACnB,MAAI,EAAC9K,SAAU6gE,EAAWl4D,QAAStoG,KAAKq4K,qBAC7C7X,EACCp4D,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAM2Q,aAG9BluE,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAM4Q,iBAIlCnuE,KAAAA,cAACwD,GAAM,CAACnB,MAAI,EAAC9K,SAAU6gE,EAAWl4D,QAAStoG,KAAKs4K,cAC9ClwE,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAM6Q,iBAK1B,iBAATviJ,GACCm0E,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,KAAGC,UAAU,mBACXD,KAAAA,cAAA,cACEA,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAMgQ,wBAE9BvtE,KAAAA,cAAA,WACAA,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAMiQ,4BAE7BoC,GACC5vE,KAAAA,cAAA,OAAKC,UAAU,yBACbD,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAM+Q,oBAGhCtuE,KAAAA,cAAA,OAAKC,UAAU,YAAY+B,UAAU,mBACnChC,KAAAA,cAACs7D,GAAU,KACTt7D,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAMgR,eAE9BvuE,KAAAA,cAAC2kD,GAAK,CACJ1kD,UAAU,sBACV2kD,UAAWoK,EAAOugB,QAClB/iK,KAAK,WACL2kI,YAAW,GAAA72I,OAAK2gG,EAAKC,cAAcqiE,GAAM8P,qBACzClmB,aAAW,KAGfnnD,KAAAA,cAAA,OAAKC,UAAU,YAAY+B,UAAU,mBACnChC,KAAAA,cAACs7D,GAAU,KACTt7D,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAMiR,sBAE9BxuE,KAAAA,cAAC2kD,GAAK,CACJ1kD,UAAU,sBACV2kD,UAAWoK,EAAOwgB,eAClBhjK,KAAK,WACL2kI,YAAW,GAAA72I,OAAK2gG,EAAKC,cAAcqiE,GAAM+P,+BAEzCK,GAAoB5qK,GAASi9F,KAAAA,cAAA,OAAKC,UAAU,kBAAkBl9F,GAC/D4qK,GACC3tE,KAAAA,cAAA,OAAKC,UAAU,kBACbD,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAMoQ,oBAIlC3tE,KAAAA,cAAA,OAAKC,UAAU,gBACbD,KAAAA,cAACwD,GAAM,CAACnB,MAAI,EAACG,KAAG,EAACP,WAAS,EAAC1K,SAAU6gE,EAAWl4D,QAAStoG,KAAKu4K,gBAC3D/X,EACCp4D,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAM2Q,aAG9BluE,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAM8Q,mBAKnCV,GACC3tE,KAAAA,cAAA,OAAKC,UAAU,iBACbD,KAAAA,cAAA,SACEA,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAMqQ,kBAE9B5tE,KAAAA,cAACwD,GAAM,CAACnB,MAAI,EAACJ,WAAS,EAAC/B,QAAStoG,KAAKw4K,yBACnCpwE,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAMsQ,sBAM5B,UAAThiJ,GACCm0E,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,OAAKC,UAAU,aACbD,KAAAA,cAAA,WACEA,KAAAA,cAAA,OAAKC,UAAU,YAAY+D,IAAKomE,GAAOlmE,IAAI,YAE7ClE,KAAAA,cAAA,QACErqD,MAAO,CACLiiG,SAAU,OACVhiG,QAAS,QACT85G,UAAW,SACX2L,aAAc,SAGhBr7D,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAMwR,iBAG/Be,GACC9vE,KAAAA,cAAA,OAAKC,UAAU,qBAAqB+B,UAAU,mBAC5ChC,KAAAA,cAAA,UACEA,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAMyR,qBAE9BhvE,KAAAA,cAAA,WACEA,KAAAA,cAAA,WAAMqvE,GACNrvE,KAAAA,cAAA,KACEC,UAAU,OACV4B,OAAO,SACPqI,KAAK,6FAELlK,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAMyN,iBAGhChrE,KAAAA,cAAA,OAAKC,UAAU,iBACbD,KAAAA,cAACK,KAAe,CAAC/oE,KAAM+3I,EAAoB5qE,OAAQ7sG,KAAKy4K,uBACtDrwE,KAAAA,cAACwD,GAAM,CACLnB,MAAI,EACJ9K,SAAU63E,EACVlvE,QAAStoG,KAAKy4K,uBAEbjB,EACCpvE,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAMmR,yBAE5B1uE,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAMoR,yBAIlC3uE,KAAAA,cAACwD,GAAM,CACLnB,MAAI,EACJ9K,SAAU+3E,EACVpvE,QAAStoG,KAAK04K,2BAEbhB,EACCtvE,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAMqR,8BAE5B5uE,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAMsR,4BAGhC7uE,KAAAA,cAACwD,GAAM,CAACnB,MAAI,EAACnC,QAAStoG,KAAK24K,wBACzBvwE,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAMuR,gBAKpC9uE,KAAAA,cAACwD,GAAM,CAAChB,KAAG,EAACH,MAAI,EAACJ,WAAS,EAAC/B,QAAStoG,KAAK0qK,cACvCtiE,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAMkR,kBAQ5C,KAACnmF,CAAA,CA3iB6D,CAC7B0X,KAAAA,aAAeQ,KAAAA,GA6iBlD,UAAegF,EAAAA,GAAAA,IAAWld,I,glBEvsB1B,IAAMg1E,GAAa,uBAEbC,IAAQ5iE,EAAAA,GAAAA,IAAe,CAC3B/0F,MAAO,CACL/D,GAAI,GAAFvH,OAAKgjK,GAAU,UACjB1iE,eAAgB,gCAElB41E,UAAW,CACT3uK,GAAI,GAAFvH,OAAKgjK,GAAU,cACjB1iE,eAAgB,+CAElB61E,kBAAmB,CACjB5uK,GAAI,GAAFvH,OAAKgjK,GAAU,sBACjB1iE,eAAgB,kEAElB2zE,aAAc,CACZ1sK,GAAI,GAAFvH,OAAKgjK,GAAU,iBACjB1iE,eAAgB,iBAElBozE,kBAAmB,CACjBnsK,GAAI,GAAFvH,OAAKgjK,GAAU,sBACjB1iE,eAAgB,sBAElByyE,mBAAoB,CAClBxrK,GAAI,GAAFvH,OAAKgjK,GAAU,uBACjB1iE,eAAgB,uBAElB6yE,eAAgB,CACd5rK,GAAI,GAAFvH,OAAKgjK,GAAU,sBACjB1iE,eAAgB,2CAElB81E,gBAAiB,CACf7uK,GAAI,GAAFvH,OAAKgjK,GAAU,oBACjB1iE,eAAgB,+BAElBh8E,YAAa,CACX/c,GAAI,GAAFvH,OAAKgjK,GAAU,sBACjB1iE,eAAgB,gCAElBuzE,cAAe,CACbtsK,GAAI,GAAFvH,OAAKgjK,GAAU,YACjB1iE,eAAgB,0BAElBszE,WAAY,CACVrsK,GAAI,GAAFvH,OAAKgjK,GAAU,eACjB1iE,eAAgB,kBAElB+1E,aAAc,CACZ9uK,GAAI,GAAFvH,OAAKgjK,GAAU,WACjB1iE,eAAgB,UAElBg2E,aAAc,CACZ/uK,GAAI,GAAFvH,OAAKgjK,GAAU,oBACjB1iE,eAAgB,sHAElBi2E,gBAAiB,CACfhvK,GAAI,GAAFvH,OAAKgjK,GAAU,kBACjB1iE,eAAgB,oFAElBqzE,oBAAqB,CACnBpsK,GAAI,GAAFvH,OAAKgjK,GAAU,wBACjB1iE,eAAgB,kCAElBk2E,YAAa,CACXjvK,GAAI,GAAFvH,OAAKgjK,GAAU,gBACjB1iE,eAAgB,wDAElBm2E,WAAY,CACVlvK,GAAI,GAAFvH,OAAKgjK,GAAU,iBACjB1iE,eAAgB,uBAElBq0E,qBAAsB,CACpBptK,GAAI,GAAFvH,OAAKgjK,GAAU,yBACjB1iE,eAAgB,oDAElBs0E,uBAAwB,CACtBrtK,GAAI,GAAFvH,OAAKgjK,GAAU,2BACjB1iE,eAAgB,2DA0BdrS,IALLz1B,EAAAA,EAAAA,KAAQ,SAAA3uD,GAAA,IAAAugI,EAAAvgI,EAAGopB,KAAmC,MAAU,CACvD5K,QADyB+hH,EAAP/hH,QAElBE,mBAF6C6hH,EAAlB7hH,mBAG5B,GAC+D09E,CAAAC,GAA/DuB,KAAU9yF,GAAAA,GAAC,CAAC,EAAI8sC,ICzHjB,CAAgB,sBAAwB,2BAA2B,qBAAuB,2BAA2B,gBAAkB,2BAA2B,YAAc,2BAA2B,eAAiB,2BAA2B,sBAAwB,2BAA2B,aAAe,2BAA2B,cAAgB,2BAA2B,cAAgB,2BAA2B,gBAAkB,6BDyHpZ,CAAE+lD,eAAe,GAAO+iC,CAAArkC,GAAA,SAAAC,IAAAnuF,EAAAA,GAAAA,GAAAi2E,EAAAkY,GAAA,I,IAAAluF,G,EAAAg2E,E,maAE9D,SAAAA,EAAYjwE,GAAO,IAAA/T,EAWhB,OAXgBP,EAAAA,GAAAA,GAAA,KAAAukF,GACjBhkF,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAaC,SAAAO,IAAA,IAAA7M,EAAA,OAAAsM,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OACLqO,EAAShI,EAAK+T,MAAd/L,KAER8jC,GAAAA,YAAAA,kBACAA,GAAAA,OAAAA,MAAqB9jC,GACjBhI,EAAK+T,MAAMzZ,KAAKgT,UAClBtN,EAAK+T,MAAMzZ,KAAKgT,WACjB,wBAAAwH,EAAAJ,OAAA,GAAAG,EAAA,OACFrI,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAEa,WACZ,IAAA68F,EAAgC78F,EAAK+T,MAA7B/L,EAAI60F,EAAJ70F,KAAM1N,EAAIuiG,EAAJviG,KAAMy8F,EAAO8F,EAAP9F,QAEG,mBAAZA,GACTA,IAG0B,mBAAjBz8F,EAAKy8F,SACdz8F,EAAKy8F,UAGPjrD,GAAAA,OAAAA,MAAqB9jC,EACvB,KAACwE,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAEc,WACb8e,OAAO+J,QAAQ+yE,MACjB,KAACpvF,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEoB,SAAAkB,IAAA,IAAAta,EAAAy4J,EAAA,OAAAr/I,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,OACXuB,EAAa8E,EAAK2W,MAAlBzb,SAGEy4J,EACN3zJ,EAAK+T,MADPzZ,KAAQq5J,YAGV3zJ,EAAK+9C,SACH,CACE81G,WAAW,EACXr1J,OAAO,IACR6V,EAAAA,EAAAA,GAAAC,IAAAA,MACD,SAAAC,IAAA,IAAAlf,EAAA,OAAAif,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,UACOuB,GAAa6f,GAAAA,sBAAoC7f,GAAS,CAAA0Z,EAAAjb,KAAA,QAI3D,OAHFqG,EAAK+9C,SAAS,CACZv/C,MAAOi9F,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAM0R,sBACnC7W,WAAW,IACXj/I,EAAAU,OAAA,oBAGCw2B,GAAAA,YAAAA,iBAAqC5wC,EAASsH,QAAS,CAAFoS,EAAAjb,KAAA,QAItD,OAHFqG,EAAK+9C,SAAS,CACZv/C,MAAOi9F,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAM2R,wBACnC9W,WAAW,IACXj/I,EAAAU,OAAA,wBAAAV,EAAAjb,KAAA,EAIiBmyC,GAAAA,YAAAA,iBAAoCphC,GAAAA,GAAC,CAAC,EACtDipJ,GAAW,IACdz4J,SAAAA,KACA,OAHI7F,EAAMuf,EAAAG,KAKZ/U,EAAKysK,kBAAkBp3K,GAAO,yBAAAuf,EAAAF,OAAA,GAAAH,EAAA,MAEjC,wBAAAmB,EAAAhB,OAAA,GAAAc,EAAA,OACFhJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,cAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEY,SAAA0B,IAAA,IAAAg1J,EAAArX,EAAA,OAAAr/I,IAAAA,MAAA,SAAAmC,GAAA,cAAAA,EAAAnb,KAAAmb,EAAA9c,MAAA,OAIU,GAHbqxK,EAAYhrK,EAAK2W,MAAjBq0J,QAGErX,EACN3zJ,EAAK+T,MADPzZ,KAAQq5J,YAGLqX,KAAWA,EAAQ13K,OAAS,GAAC,CAAAmjB,EAAA9c,KAAA,QAG9B,OAFFqG,EAAK+9C,SAAS,CACZv/C,MAAOi9F,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAMkQ,kBACnCzyJ,EAAAnB,OAAA,iBAIJtV,EAAK+9C,SACH,CACEv/C,OAAO,EACPkuK,eAAe,EACf7Y,WAAW,IACZx/I,EAAAA,EAAAA,GAAAC,IAAAA,MACD,SAAAa,IAAA,IAAA9f,EAAA,OAAAif,IAAAA,MAAA,SAAAe,GAAA,cAAAA,EAAA/Z,KAAA+Z,EAAA1b,MAAA,cAAA0b,EAAA1b,KAAA,EACuBmyC,GAAAA,YAAAA,iBAAoCphC,GAAAA,GAAC,CAAC,EACtDipJ,GAAW,IACdxoF,SAAU6/F,KACV,OAHI31K,EAAMggB,EAAAN,KAIZ/U,EAAKysK,kBAAkBp3K,GAAO,wBAAAggB,EAAAX,OAAA,GAAAS,EAAA,MAEjC,wBAAAsB,EAAA/B,OAAA,GAAAsB,EAAA,OACFxJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mCAAAmX,GAAA9C,EAAAA,EAAAA,GAAAC,IAAAA,MAEmB,SAAAiD,EAAOliB,GAAM,IAAAgqK,EAAAz7J,EAAA+oK,EAAAzsJ,EAAAhpB,EAAA8sC,EAAA6iD,EAAA3J,EAAAn+C,EAAA+0H,EAAAC,EAAA,OAAAz/I,IAAAA,MAAA,SAAAoD,GAAA,cAAAA,EAAApc,KAAAoc,EAAA/d,MAAA,OAQpB,GARoB0lK,EAU3Br/J,EAAK+T,MARPzZ,KACEsJ,EAAMy7J,EAANz7J,OAAM+oK,EAAAtN,EACN1L,YAAezzI,EAAMysJ,EAANzsJ,OAAQhpB,EAAIy1K,EAAJz1K,KAAM8sC,EAAE2oI,EAAF3oI,GAC7B6iD,EAAOw4E,EAAPx4E,QACQw4E,EAAR9iI,SACc8iI,EAAduN,eACA1vF,EAAOmiF,EAAPniF,SAGA7nF,GAA4B,OAAlBA,EAAOg/B,OAAe,CAAA3c,EAAA/d,KAAA,SAkBC,GAjB3BolC,EAAS1pC,EAAT0pC,KAGF+0H,EAAc,CAClB5zI,OAAAA,EACAuc,cAAevlC,EACfklC,gBAAiB4H,EACjB/G,WAAW,GAGbgwG,GAAiB,CACfl2I,IAAK,cAAFhB,OAAgBgpC,GACnBgmC,KAAM,KACNzqE,KAAMw5J,IAGRhoH,GAAAA,OAAAA,OACAA,GAAAA,YAAAA,iBACI+6C,EAAS,CAAFnvE,EAAA/d,KAAA,gBAAA+d,EAAA/d,KAAA,GACHmyC,GAAAA,SAAAA,YAA6B+6C,EAAQvpF,GAAI,QAASyhC,EAAMn7B,EAAOP,SAAQ,QAG3E65E,aAAmBxnD,UACrBwnD,IAGI62E,EAAYx+F,GAAQn5C,aAAa4nD,YAAY,MAAOjlC,GAC1Dw0D,GAAmBwgE,GAAUr8I,EAAA/d,KAAA,iBAE7BqG,EAAK+9C,SAAS,CACZ81G,WAAW,EACX6Y,eAAgBr3K,EAAOmJ,MACvBA,MAAOnJ,EAAOmJ,OAAS,kBACvB,yBAAAkZ,EAAAhD,OAAA,GAAA6C,EAAA,KAEL,gBAAAvC,GAAA,OAAAmC,EAAA/D,MAAA,KAAAhf,UAAA,EAjDA,KAiDAoY,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAEmB,WAClBA,EAAK+9C,SAAS,CACZ81G,WAAW,EACXr1J,OAAO,EACP6b,aAAa,EACbqyJ,eAAe,EACfxxK,SAAU,IAEd,KAACsR,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAEsB,SAAC9E,GACtB8E,EAAK+9C,SAAS,CACZ7iD,SAAAA,GAEJ,KAACsR,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAEmB,WAClBA,EAAK+9C,SAAS,CACZ81G,WAAW,EACXr1J,OAAO,EACP6b,aAAa,EACbqyJ,eAAe,EACf1B,QAAS,IAEb,IApLEhrK,EAAK2W,MAAQ,CACXq0J,QAAS,GACTxsK,OAAO,EACPq1J,WAAW,EACX34J,SAAU,GACVuwK,iBAAiB,EACjBiB,eAAe,EACfryJ,aAAa,GACdra,CACH,CA2RC,OA3RAN,EAAAA,GAAAA,GAAAskF,EAAA,EAAAjtF,IAAA,SAAA6C,MA6KD,WACE,IAAAwlD,EAKI/rD,KAAKsjB,MAJPnY,EAAK4gD,EAAL5gD,MACAq1J,EAASz0G,EAATy0G,UACA6Y,EAAattH,EAAbstH,cACAryJ,EAAW+kC,EAAX/kC,YAGF0kF,EAAuB1rG,KAAK0gB,MAApB/L,EAAI+2F,EAAJ/2F,KAAM0uF,EAAIqI,EAAJrI,KACR+zD,EAAS1hB,GAAAA,IAAS11I,KAAM,WAE9B,OACEooG,KAAAA,cAAC4iD,GAAK,CAACr2I,KAAMA,EAAM3G,MAAK,GAAAtL,OAAK2gG,EAAKC,cAAcqiE,GAAM33J,SACpDo6F,KAAAA,cAAA,OAAKC,UAAU,0BACXrhF,GACAohF,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,KAAGC,UAAU,mBACXD,KAAAA,cAAA,cACEA,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAMiT,YAE9BxwE,KAAAA,cAAA,YAEFA,KAAAA,cAAA,OAAKC,UAAU,YAAY+B,UAAU,mBACnChC,KAAAA,cAACs7D,GAAU,KACTt7D,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAMgR,eAE9BvuE,KAAAA,cAAC2kD,GAAK,CACJ1kD,UAAU,sBACV2kD,UAAWoK,EAAOugB,QAClB/iK,KAAK,WACL2kI,YAAW,GAAA72I,OAAK2gG,EAAKC,cAAcqiE,GAAM8P,qBACzClmB,aAAW,KAGdpkJ,GAASi9F,KAAAA,cAAA,OAAKC,UAAU,kBAAkBl9F,GAC3Ci9F,KAAAA,cAAA,OAAKC,UAAU,iBACbD,KAAAA,cAACwD,GAAM,CAACnB,MAAI,EAAC9K,SAAU6gE,EAAWl4D,QAAStoG,KAAKw5K,YAC7ChZ,EACCp4D,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAM2Q,aAG9BluE,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAM4Q,iBAIlCnuE,KAAAA,cAACwD,GAAM,CAACnB,MAAI,EAAC9K,SAAU6gE,EAAWl4D,QAAStoG,KAAK4nK,cAC9Cx/D,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAMoT,gBAGhC3wE,KAAAA,cAAA,OAAKC,UAAU,wBACZgxE,GACCjxE,KAAAA,cAAA,OAAKC,UAAU,kBACbD,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAMsT,kBAGhC7wE,KAAAA,cAAA,SACEA,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAMqT,eAE9B5wE,KAAAA,cAACwD,GAAM,CAACnB,MAAI,EAACJ,WAAS,EAAC1K,SAAU6gE,EAAWl4D,QAAStoG,KAAKy5K,mBACxDrxE,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAM3+I,gBAKnCA,GACCohF,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,KAAGC,UAAU,mBACXD,KAAAA,cAAA,cACEA,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAMkT,oBAE9BzwE,KAAAA,cAAA,YAEFA,KAAAA,cAAA,OAAKC,UAAU,YAAY+B,UAAU,mBACnChC,KAAAA,cAACs7D,GAAU,KACTt7D,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAMyQ,oBAE9BhuE,KAAAA,cAAC2/D,GAAa,CAACn+D,SAAU5pG,KAAKkzK,qBAAsB7oE,WAAW,KAEhEl/F,GAASi9F,KAAAA,cAAA,OAAKC,UAAU,kBAAkBl9F,GAC3Ci9F,KAAAA,cAAA,OAAKC,UAAU,iBACbD,KAAAA,cAACwD,GAAM,CAACnB,MAAI,EAAC9K,SAAU6gE,EAAWl4D,QAAStoG,KAAK05K,oBAC7ClZ,EACCp4D,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAM2Q,aAG9BluE,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAM4Q,iBAIlCnuE,KAAAA,cAACwD,GAAM,CAACnB,MAAI,EAAC9K,SAAU6gE,EAAWl4D,QAAStoG,KAAK4nK,cAC9Cx/D,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAMoT,gBAGhC3wE,KAAAA,cAAA,OAAKC,UAAU,mBACbD,KAAAA,cAAA,SACEA,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAMuT,cAE9B9wE,KAAAA,cAACwD,GAAM,CAACnB,MAAI,EAACJ,WAAS,EAAC1K,SAAU6gE,EAAWl4D,QAAStoG,KAAK25K,mBACxDvxE,KAAAA,cAACI,GAAAA,EAAqBm9D,GAAMwT,gBAQ5C,KAACxoF,CAAA,CAzS6D,CACnCyX,KAAAA,aAAeQ,KAAAA,GA2S5C,UAAegF,EAAAA,GAAAA,IAAWjd,I,mlBErZmB,IAUvCG,IARL51B,EAAAA,EAAAA,KACC,SAAA3uD,GAC8B,MACvB,CACLw9I,cAF4Bx9I,EAA5B2pB,GAAM/B,uBAGP,GAE6Dw0E,CAAAC,GAA/DuB,KAAU9yF,GAAAA,GAAC,CAAC,EAAI8sC,ICzBjB,CAAgB,uBAAyB,2BAA2B,YAAc,2BAA2B,gBAAkB,2BAA2B,UAAY,6BDyB9H,CAAE+lD,eAAe,GAAO+iC,EAAA79B,GAAA,SAAAvG,IAAAnuF,EAAAA,GAAAA,GAAAo2E,EAAA+X,GAAA,I,IAAAluF,G,EAAAm2E,E,maAS9D,SAAAA,EAAYpwE,GAAO,IAAA/T,EAWhB,OAXgBP,EAAAA,GAAAA,GAAA,KAAA0kF,GACjBnkF,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,+BAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAsDG,WACfA,EAAK+9C,SAAS,CACZ8hD,cAAc,IACb,WACDpuF,YAAW,WACTzR,EAAK+9C,SAAS,CACZ8hD,cAAc,GAElB,GAAG,IACL,GACF,KAACrzF,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAEa,WACZ,IAAA68F,EAKI78F,EAAK+T,MAJP/L,EAAI60F,EAAJ70F,KAEEk1E,EAAO2f,EADTviG,KACE4iF,QAIJpxC,GAAAA,OAAAA,MAAqB9jC,GACjBk1E,aAAmBxnD,UACrBwnD,GAEJ,KAAC1wE,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAGa,SAAArO,GACZsb,QAAQzO,MAAM7M,EAChB,KAAC6a,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAEa,WACZ,IAAQgI,EAAShI,EAAK+T,MAAd/L,KAER8jC,GAAAA,OAAAA,MAAqB9jC,EACvB,IAvFEhI,EAAK83J,qBAAsB,EAE3B93J,EAAK2W,MAAQ,CACX2Q,KAAM,WACNusI,WAAW,EACXr1J,OAAO,EACPooC,MAAO,GACPi5D,cAAc,GACf7/F,CACH,CAwJC,OAxJAN,EAAAA,GAAAA,GAAAykF,EAAA,EAAAptF,IAAA,oBAAA6C,MAED,WAAoB,IAAA0V,EAAA,KAClBjc,KAAK0qD,SAAS,CACZ81G,WAAW,IACZx/I,EAAAA,EAAAA,GAAAC,IAAAA,MAAE,SAAAO,IAAA,IAAA0vJ,EAAAlhK,EAAAswJ,EAAAsZ,EAAAjpI,EAAA9jB,EAAA7qB,EAAA0pC,EAAA,OAAAzqB,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OAWU,OAXV4qK,EAaGj1J,EAAKyE,MAXPzZ,KAEI+I,EAAOkhK,EADT3gK,OACEP,QAEFswJ,EAAW4Q,EAAX5Q,YAAWsZ,EAAA1I,EACX5Q,YACE3vH,EAAEipI,EAAFjpI,GACA9jB,EAAM+sJ,EAAN/sJ,OAEKqkJ,EAAP19E,QAAO/xE,EAAAnb,KAAA,EAIUmyC,GAAAA,YAAAA,KAAyB6nH,GAAY,OAE1C,GAFVt+J,EAAMyf,EAAAC,KAERgqB,GAAO,GAEP1pC,EAAQ,CAAFyf,EAAAnb,KAAA,gBAAAmb,EAAAnb,KAAA,EAEKmyC,GAAAA,WAAAA,UAA6B,CACxC86C,OAAQvjF,EACR25C,YAAahZ,EACb9jB,OAAAA,EACAyL,IAAK,KACL2Z,MAAOjwC,IACP,OANF0pC,EAAIjqB,EAAAC,KAOJzF,EAAKyuC,SAAS,CACZz2B,KAAM,UACNsf,MAAOvxC,EACP0pC,KAAAA,EACA80H,WAAW,IACX,yBAAA/+I,EAAAJ,OAAA,GAAAG,EAAA,KAGR,GAAC,CAAA9d,IAAA,SAAA6C,MAwCD,WACE,IAAAwlD,EAOI/rD,KAAKsjB,MAJP2Q,GAFS83B,EAATy0G,UACKz0G,EAAL5gD,MACI4gD,EAAJ93B,MAEAyX,GADKqgB,EAALxY,MACIwY,EAAJrgB,MAIFggE,GAHc3/C,EAAZygD,aAYExsG,KAAK0gB,OARP/L,EAAI+2F,EAAJ/2F,KAAI0rJ,EAAA30D,EACJzkG,KAEI0iB,EAAQ02I,EADV9vJ,OACEoZ,SAEF6pE,EAAO6sE,EAAP7sE,QAEF6P,EAAIqI,EAAJrI,KAGE+hE,EAAgB,GAAH1iK,OAAMszF,MAAetzF,OAAG20C,GAAM6/C,UAAS,iBAAAx0F,OAAgBgpC,GACpE8nD,IACF4xE,EAAgB,GAAH1iK,OAAMszF,MAAetzF,OAAG20C,GAAM6/C,UAAS,wBAAAx0F,OAAuB8wF,EAAQvpF,GAAE,KAAAvH,OAAIgpC,IAG3F,IAAMq3H,GAAShgE,EAAAA,GAAAA,IAAe,CAC5BigE,cAAe,CACb/4J,GAAI,mBACJ+4F,eAAgB,QAElBqgE,iBAAkB,CAChBp5J,GAAI,2BACJ+4F,eAAgB,iCAIdugE,EACJn7D,KAAAA,cAACuB,GAAAA,SAAQ,KACNnW,GACC4U,KAAAA,cAACo7D,GAAgB,CAAC74E,YAAa6I,IAEvB,YAATv/D,GACCm0E,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,KAAGC,UAAU,8BACXD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,sBAAsB+4F,eAAe,oBAC1DoF,KAAAA,cAAA,WACAA,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,wBAAwB+4F,eAAe,0CAE9DoF,KAAAA,cAAA,OAAKC,UAAU,aACbD,KAAAA,cAAA,OAAKC,UAAU,eAGfD,KAAAA,cAAA,WACEA,KAAAA,cAACmE,GAAS,CAAC91D,KAAM2uH,MAGrBh9D,KAAAA,cAAA,OAAKC,UAAU,eACbD,KAAAA,cAACwD,GAAM,CAACvD,UAAU,aAAauC,KAAG,EAACH,MAAI,EAACJ,WAAS,EAAC/B,QAAStoG,KAAKwlK,aAC9Dp9D,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,uBAAuB+4F,eAAe,cAOvE,OACEoF,KAAAA,cAAC4iD,GAAK,CAACr2I,KAAMA,EAAM3G,MAAK,GAAAtL,OAAK2gG,EAAKC,cAAcy/D,EAAOC,eAAiB,KAAGtgK,OAAGinB,EAAS9M,gBACpF0mJ,EAGP,KAACzyE,CAAA,CA7K6D,CAC9BsX,KAAAA,YAAejvF,EAAAA,EAAAA,GAAAi2F,GAAA,YAC5B,CACjBz6F,KAAMm3F,KAAAA,OACN7kG,KAAM6kG,KAAAA,SAJsDlD,GAK7DwG,MAAAxG,KAAAA,GA2KH,UAAegF,EAAAA,GAAAA,IAAW9c,I,OE9L1B,IAAM40E,GAAa,qBACbmC,IAAa9kE,EAAAA,GAAAA,IAAe,CAChC/0F,MAAO,CACL/D,GAAI,GAAFvH,OAAKgjK,GAAU,UACjB1iE,eAAgB,uBAElB5zD,QAAS,CACPnlC,GAAI,GAAFvH,OAAKgjK,GAAU,YACjB1iE,eAAgB,wBAKdpS,GADLuZ,KCvBD,CAAgB,QAAU,2BAA2B,KAAO,2BAA2B,QAAU,4BDuB7E,CAAED,eAAe,GAAOvB,CAAAC,GAAA,SAAA0R,IAAA5/F,EAAAA,GAAAA,GAAAk2E,EAAA0pB,GAAA,I,IAAA3/F,G,EAAAi2E,E,maAAA,SAAAA,IAAA,IAAAjkF,GAAAP,EAAAA,GAAAA,GAAA,KAAAwkF,GAAA,QAAAhxE,EAAA7e,UAAAd,OAAAqsE,EAAA,IAAAlsE,MAAAwf,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAwsD,EAAAxsD,GAAA/e,UAAA+e,GAMzC,OANyCnT,EAAAgO,EAAAtZ,KAAA0e,MAAApF,EAAA,OAAAjY,OAAA4pE,KAAAnzD,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAEvB,WACjB,IAAQgI,EAAShI,EAAK+T,MAAd/L,KAER8jC,GAAAA,OAAAA,MAAqB9jC,EACvB,IAAChI,CAAA,CA2BA,OA3BAN,EAAAA,GAAAA,GAAAukF,EAAA,EAAAltF,IAAA,SAAA6C,MAED,WACE,IAAAijG,EAA6BxpG,KAAK0gB,MAA1B/L,EAAI60F,EAAJ70F,KAAM0uF,EAAImG,EAAJnG,KAAMp8F,EAAIuiG,EAAJviG,KACZ2iB,EAAsB3iB,EAAtB2iB,SAAU5Z,EAAY/I,EAAZ+I,QAElB,OACEo4F,KAAAA,cAAC4iD,GAAK,CACJr2I,KAAMA,EACN+uF,QAAS1jG,KAAKylK,iBACdz3J,MAAOq1F,EAAKC,cAAcukE,GAAW75J,QAErCo6F,KAAAA,cAAA,WAASC,UAAU,WACjBD,KAAAA,cAAA,KAAGC,UAAU,QACXD,KAAAA,cAACI,GAAAA,GAAgBqD,EAAAA,GAAAA,GAAA,GAAKg8D,GAAWz4H,QAAO,CACtCtpC,OAAQ,CACN80C,IAAKhxB,OAIXw+E,KAAAA,cAAA,KAAGC,UAAU,WACVr4F,IAMX,KAAC4gF,CAAA,CAjCyC,CACXwX,KAAAA,iBAAmBQ,GAmCpD,UAAegF,EAAAA,GAAAA,IAAWhd,I,UE5C1B,IAAM+2E,IAAkB5kE,EAAAA,GAAAA,IAAe,CACrC9sE,aAAc,CACZhsB,GAAI,yBACJ+4F,eAAgB,iBAElB62E,QAAS,CACP5vK,GAAI,oBACJ+4F,eAAgB,WAElBh1F,MAAO,CACL/D,GAAI,aACJ+4F,eAAgB,WAMdnS,IAAW8X,GADhBnB,KC/BD,CAAgB,OAAS,2BAA2B,YAAc,2BAA2B,cAAgB,2BAA2B,MAAQ,2BAA2B,UAAY,2BAA2B,gBAAgB,2BAA2B,MAAQ,2BAA2B,OAAS,2BAA2B,QAAU,4BAA4B,uBAAuB,2BAA2B,aAAe,2BAA2B,iBAAiB,6BD+Bnc,CAAE0C,eAAe,KADpCwvC,EAAAA,EAAAA,IAAU9wC,GAAAD,GAAAC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAAm2E,EAAAwa,GAAA,I,IAAA1wF,G,EAAAk2E,E,maAAA,SAAAA,IAAA,IAAAlkF,GAAAP,EAAAA,GAAAA,GAAA,KAAAykF,GAAA,QAAAjxE,EAAA7e,UAAAd,OAAAqsE,EAAA,IAAAlsE,MAAAwf,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAwsD,EAAAxsD,GAAA/e,UAAA+e,GAkCR,OAlCQnT,EAAAgO,EAAAtZ,KAAA0e,MAAApF,EAAA,OAAAjY,OAAA4pE,KAAAnzD,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAIK,WACZ,IAAA68F,EAA+C78F,EAAK+T,MAA5C/L,EAAI60F,EAAJ70F,KAAM1N,EAAIuiG,EAAJviG,KAAMy8F,EAAO8F,EAAP9F,QAASluE,EAAOg0E,EAAPh0E,QAAS6tE,EAAImG,EAAJnG,KACrBy2E,EAA6C7yK,EAAtDy8F,QAAoB/5E,EAAkC1iB,EAAlC0iB,SAAU3Z,EAAwB/I,EAAxB+I,QAAS+pK,EAAe9yK,EAAf8yK,WACvCvjI,EAAW6sD,EAAX7sD,OAEW,YAAfujI,GACFthI,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,aAA+B,CACjD6O,SAAAA,EACA3Z,QAAAA,IAIe,iBAAf+pK,GACFvkJ,EAAQt1B,KAAK+uG,GAAaz4D,EAAQa,GAAMphB,eAGnB,mBAAZytE,GACTA,IAGuB,mBAAdo2E,GACTA,IAGFrhI,GAAAA,OAAAA,MAAqB9jC,EACvB,KAACwE,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAEkB,WACjB,IAAQgI,EAAShI,EAAK+T,MAAd/L,KACR8jC,GAAAA,OAAAA,MAAqB9jC,EACvB,IAAChI,CAAA,CA2CA,OA3CAN,EAAAA,GAAAA,GAAAwkF,EAAA,EAAAntF,IAAA,SAAA6C,MAED,WACE,IAAAmlG,EAQI1rG,KAAK0gB,MAAK2/I,EAAA30D,EAPZzkG,KACE+G,EAAKqyJ,EAALryJ,MACAohC,EAAOixH,EAAPjxH,QACA2qI,EAAU1Z,EAAV0Z,WACAxN,EAAQlM,EAARkM,SAEFlpE,EAAIqI,EAAJrI,KAGI0/D,EAAS,CACbiX,YAAa32E,EAAKC,cAAcqkE,GAAgBoS,IAChD/rK,MAAOA,GAASq1F,EAAKC,cAAcqkE,GAAgB35J,QAGrD,OACEo6F,KAAAA,cAAA,OAAKC,UAAU,iBACbD,KAAAA,cAAA,OAAKC,UAAU,SACbD,KAAAA,cAAA,OAAKC,UAAU,UAGbD,KAAAA,cAACohD,GAAc,CAACnhD,UAAU,iBACxBD,KAAAA,cAAA,OAAKC,UAAU,SAAS06D,EAAO/0J,OAE9Bu+J,GAAankE,KAAAA,cAACi+C,GAAS,CAACh+C,UAAU,cAAcC,QAAStoG,KAAKi6K,qBAGnE7xE,KAAAA,cAAA,OAAKC,UAAU,WACbD,KAAAA,cAAA,OAAKC,UAAU,wBACbD,KAAAA,cAAA,KAAGC,UAAU,gBACVj5D,IAGLg5D,KAAAA,cAAA,OAAKC,UAAU,kBACbD,KAAAA,cAACwD,GAAM,CAACvD,UAAU,SAASqC,MAAI,EAACpC,QAAStoG,KAAKikK,aAAclB,EAAOiX,gBAM/E,KAACnpF,CAAA,CA7EQ,CAEe2a,GAAAA,aAAS5C,KAAAA,IA8EnC,UAAegF,EAAAA,GAAAA,IAAW/c,IE9G1B,IAAgB,SAAW,2BAA2B,gBAAgB,2BAA2B,8BAA8B,2BAA2B,MAAQ,2BAA2B,oBAAsB,2BAA2B,OAAS,2BAA2B,OAAS,4BAA4B,MAAQ,2BAA2B,uBAAuB,2BAA2B,YAAc,2BAA2B,QAAU,2BAA2B,OAAS,2BAA2B,SAAW,2BAA2B,UAAY,2BAA2B,SAAW,4BAA4B,aAAe,4B,OCYnlB,IAMxCE,IAJL71B,EAAAA,EAAAA,KAAQ,SAAA3uD,GAA+B,MAAU,CAChD4nB,uBADsC5nB,EAA5B2pB,GAAM/B,uBAEjB,GAC2Cw0E,CAAAC,GAA3CuB,KAAWhmD,GAAQ,CAAE+lD,eAAe,GAAO+iC,CAAArkC,GAAA,SAAAC,IAAAnuF,EAAAA,GAAAA,GAAAq2E,EAAA8X,GAAA,I,IAAAluF,G,EAAAo2E,E,maAE1C,SAAAA,EAAYrwE,GAAO,IAAA/T,EAOhB,OAPgBP,EAAAA,GAAAA,GAAA,KAAA2kF,GACjBpkF,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAiCA,WACZ,IAAA68F,EAGI78F,EAAK+T,MAFP/L,EAAI60F,EAAJ70F,KAAIq3J,EAAAxiE,EACJviG,KAAQizK,EAAYlO,EAAZkO,aAAcv5I,EAASqrI,EAATrrI,UAGnBu5I,IACE7gK,aAAaE,QAAQuB,GAAAA,aAAAA,gBAGxBnO,EAAKwtK,SAAS9iI,GAAM6+C,MAFpBvpF,EAAKwtK,SAAS9iI,GAAMphB,eAKJ,cAAhBnuB,EAAAA,EAAAA,GAAO64B,IACTA,GAAU,GAEZ8X,GAAAA,OAAAA,MAAqB9jC,EACvB,KAACwE,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEgB,SAAAC,IAAA,IAAAk5J,EAAAjhI,EAAA,OAAAl4B,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OACP8zK,EAAwBztK,EAAK2W,MAA7B82J,qBACFjhI,EAAcxsC,EAAK0tK,kBAEbC,UAAUlkH,GAAAA,UAA8Br1B,KAAI,eAAAlf,GAAAb,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAO,EAAOs0C,GAAS,OAAA70C,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,UAClEwvD,IAAa3c,EAAY6f,WAAU,CAAAv3C,EAAAnb,KAAA,QACtCmyC,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,WAA6B,CAC/Cs0B,QACEg5D,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,kCACH+4F,eAAe,iDAGnBvhF,EAAAnb,KAAA,kBAEG0R,GAASokD,6BAA6Bg+G,GAAsB,CAAF34J,EAAAnb,KAAA,eAAAmb,EAAAnb,KAAA,EACvD0R,GAASwjD,cAAc4+G,GAAoB,OAGnDztK,EAAK4tK,eAAezkH,GAAU,wBAAAr0C,EAAAJ,OAAA,GAAAG,EAAA,KAEjC,gBAAAG,GAAA,OAAAE,EAAA9B,MAAA,KAAAhf,UAAA,EAjBuD,IAiBtD,wBAAAwgB,EAAAF,OAAA,GAAAH,EAAA,OACH/H,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAEqB,WACAA,EAAK0tK,iBAEbC,UAAUlkH,GAAAA,eAAmCr1B,KAAI,eAAA7e,GAAAlB,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAkB,EAAO2zC,GAAS,OAAA70C,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,cAAA+b,EAAA/b,KAAA,EACtE0R,GAASyiD,kBAAiB,OAEhC9tD,EAAK4tK,eAAezkH,GAAU,wBAAAzzC,EAAAhB,OAAA,GAAAc,EAAA,KAC/B,gBAAAK,GAAA,OAAAN,EAAAnC,MAAA,KAAAhf,UAAA,EAJ4D,GAK/D,KAACoY,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAEgB,WACf,IAAQytK,EAAwBztK,EAAK2W,MAA7B82J,oBACFngH,EAAc5kB,GAAAA,YAA2B+kI,EAAoBv9J,eAInE,OAFA7E,GAAS8hD,eAAeG,EAAYxlC,gBAE7Bzc,GAASmkD,gBAClB,KAAChjD,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,4BAAAiW,GAAA5B,EAAAA,EAAAA,GAAAC,IAAAA,MAEY,SAAAa,EAAO4jC,EAAU/tB,GAAgB,IAAAyiJ,EAAA,OAAAn5J,IAAAA,MAAA,SAAAe,GAAA,cAAAA,EAAA/Z,KAAA+Z,EAAA1b,MAAA,OACpC8zK,EAAwBztK,EAAK2W,MAA7B82J,oBAERztK,EAAK+9C,UAAS,iBAAO,CACnB8vH,cAAc,EACd7iJ,iBAAmB0d,GAAAA,KAAAA,kBAAwC1d,EAC5D,IAEGyiJ,IAAwB10H,GAC1B/4C,EAAK+9C,UAAS,iBAAO,CACnB0vH,oBAAqB10H,EACtB,IACF,wBAAA1jC,EAAAX,OAAA,GAAAS,EAAA,KACF,gBAAAQ,EAAAC,GAAA,OAAAK,EAAA7C,MAAA,KAAAhf,UAAA,EAfA,IA3FC4L,EAAK2W,MAAQ,CACXk3J,cAAc,EACd7iJ,kBAAkB,EAClByiJ,oBAAqB,IACtBztK,CACH,CA8LC,OA9LAN,EAAAA,GAAAA,GAAA0kF,EAAA,EAAArtF,IAAA,WAAA6C,MAED,SAASkwC,GACP,IAAAi1D,EAII1rG,KAAK0gB,MAFP8U,GADIk2E,EAAJ/2F,KACO+2F,EAAPl2E,SACQghB,EAAMk1D,EAAdrI,KAAQ7sD,OAEVhhB,EAAQt1B,KAAK+uG,GAAaz4D,EAAQC,GACpC,GAAC,CAAA/yC,IAAA,iBAAA6C,MAED,SAAeuvD,GACb,IAAAw5E,EAGItvI,KAAK0gB,MAFP/L,EAAI26H,EAAJ36H,KAAIuwJ,EAAA51B,EACJroI,KAAQizK,EAAYhV,EAAZgV,aAAcv5I,EAASukI,EAATvkI,UAGpBm1B,IACGokH,GAAcl6K,KAAKm6K,SAAS9iI,GAAM6+C,MACnB,cAAhBpuF,EAAAA,EAAAA,GAAO64B,IACTA,GAAU,GAEZ8X,GAAAA,OAAAA,MAAqB9jC,GAEzB,GAAC,CAAAjR,IAAA,SAAA6C,MA+ED,WAAS,IAAA00I,EAAAqO,EAAArtI,EAAA,KACPm0H,EAAkDpwI,KAAK0gB,MAA/CyT,EAAsBi8G,EAAtBj8G,uBAAwBsmJ,EAAarqC,EAAbqqC,cAChC1uH,EAAgE/rD,KAAKsjB,MAA7Dk3J,EAAYzuH,EAAZyuH,aAAcJ,EAAmBruH,EAAnBquH,oBAAqBziJ,EAAgBo0B,EAAhBp0B,iBAErCuuH,EAAWluI,GAASmhC,YAAY+e,kBAChCiuF,KAAYzG,GAAUwG,IAA0B,YAAbA,GAAuC,SAAbA,IAAuBxG,GAAUwG,GAC9Fw0B,EAAoBh7B,GAAAA,cAG1B,OACEt3C,KAAAA,cAAA,OACEgC,UAAWe,MAAE8vC,EAAA,IAAA9hI,EAAAA,EAAAA,GAAA8hI,EACV92F,GAAAA,kBAA0B,IAAIhrC,EAAAA,EAAAA,GAAA8hI,EAC9B92F,GAAAA,+BAAwChwB,GAAsB8mH,KAGjE7yC,KAAAA,cAAA,OACEgC,UAAWe,MAAEm+C,EAAA,IAAAnwI,EAAAA,EAAAA,GAAAmwI,EACVnlG,GAAAA,OAAe,IAAIhrC,EAAAA,EAAAA,GAAAmwI,EACnBnlG,GAAAA,oBAA6BhwB,GAAsBm1H,KAGtDlhD,KAAAA,cAAA,OAAKC,UAAU,UACbD,KAAAA,cAAA,MAAIC,UAAU,SAAQD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,UAAU+4F,eAAe,cAClEy3E,GACAryE,KAAAA,cAACi+C,GAAS,CAAC/9C,QAAStoG,KAAKikK,eAI7B77D,KAAAA,cAAA,OAAKC,UAAU,wBACbD,KAAAA,cAAA,OAAKC,UAAU,eACbD,KAAAA,cAAA,MAAIC,UAAU,SACZD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,gBAAgB+4F,eAAe,oBAEtDoF,KAAAA,cAAA,OAAKC,UAAU,WACZn3F,OAAOpL,OAAOuvC,GAAAA,aACZjmC,QAAO,SAACG,GAAY,OAAK8lC,GAAAA,KAAAA,WAA+B9lC,EAAQoa,SAAS5hB,cAAc,IACvF3G,KACC,SACE8D,EACAqC,GAAK,OAEL6gG,KAAAA,cAAA,UACExzF,KAAK,SACLlR,IAAK6D,EACL8gG,UAAS,UAAA3lG,OAAY03K,IAAwBl1K,EAAKykB,SAAW,WAAa,IAC1E2+E,QAAS,kBAAMrsF,EAAK0+J,WAAWz1K,EAAKykB,SAAUzkB,EAAKyyB,iBAAiB,GAEpEywE,KAAAA,cAAC44C,GAAI,CAACh7I,KAAM,GAAI2O,KAAMzP,EAAKykB,SAAS5hB,gBACpCqgG,KAAAA,cAAA,QAAMC,UAAU,aAAanjG,EAAK22D,UAAUp7D,MAAM,KAAK,IAChD,MAMlB+5K,GACCpyE,KAAAA,cAAA,OAAKC,UAAS,eAAA3lG,OAAiB83K,EAAe,GAAK,aACjDpyE,KAAAA,cAAA,MAAIC,UAAU,SACZD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,eAAe+4F,eAAe,mBAErDoF,KAAAA,cAAA,OAAKC,UAAU,WACZrwF,GAASmhC,YAAY6c,qBACpBoyC,KAAAA,cAAA,OAAKC,UAAU,YACbD,KAAAA,cAACwD,GAAM,CAACrB,OAAK,EAACjC,QAAStoG,KAAK46K,gBACzBz0B,GACC/9C,KAAAA,cAAA,OAAKgE,IAAK+5C,EAAU75C,IAAKt0F,GAASmhC,YAAY8e,qBAE/CjgD,GAASmhC,YAAY8e,qBAI3BtgC,GACCywE,KAAAA,cAAA,OAAKC,UAAU,YACbD,KAAAA,cAACwD,GAAM,CAACrB,OAAK,EAACjC,QAAStoG,KAAK66K,qBAC1BzyE,KAAAA,cAAA,OAAKgE,IAAKsuE,EAAmBpuE,IAAI,kBACjClE,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,mCAAmC+4F,eAAe,wBAW7F,KAACjS,CAAA,CAxMyC,CACXqX,KAAAA,aAAeQ,KAAAA,GA0MhD,UAAegF,EAAAA,GAAAA,IAAW7c,I,OC5M6C,IAejEC,IARL91B,EAAAA,EAAAA,KAAQ,SAAA3uD,GAEa,MACf,CACL4nB,uBAH4B5nB,EAA5B2pB,GAAM/B,uBAINrI,aAHoBvf,EAApBopB,KAAQ7J,aAIT,GAC2C68E,CAAAC,GAA3CuB,KC9BD,CAAgB,OAAS,2BAA2B,cAAgB,2BAA2B,MAAQ,2BAA2B,aAAe,4BAA4B,2BAA6B,2BAA2B,MAAQ,2BAA2B,oBAAsB,4BAA4B,QAAU,2BAA2B,YAAc,2BAA2B,UAAY,2BAA2B,MAAQ,2BAA2B,oBAAsB,2BAA2B,cAAgB,2BAA2B,cAAgB,4BD8B1iB,CAAED,eAAe,GAAO+iC,CAAArkC,GAAA,SAAAC,IAAAnuF,EAAAA,GAAAA,GAAAs2E,EAAA6X,GAAA,I,IAAAluF,G,EAAAq2E,E,maAE1C,SAAAA,EAAYtwE,GAAO,IAAA/T,EAMhB,OANgBP,EAAAA,GAAAA,GAAA,KAAA4kF,GACjBrkF,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAQA,WACZ,IACEgI,EACEhI,EAAK+T,MADP/L,KAGF8jC,GAAAA,OAAAA,MAAqB9jC,EACvB,KAACwE,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAEe,WACdA,EAAK+9C,UAAS,iBAAO,CACnBouG,WAAW,EACZ,IAED9gJ,GAASykD,sBAAsB,CAC7BxiD,SAAU,WACRtN,EAAK+9C,UAAS,iBAAO,CACnBouG,WAAW,EACZ,GACH,GAEJ,KAAC3/I,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAEkB,WACjBA,EAAK+9C,UAAS,iBAAO,CACnBouG,WAAW,EACZ,IAED9gJ,GAASwkD,uBAAuB7vD,EAAKs3J,YACvC,KAAC9qJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEe,SAAAO,IAAA,IAAAsK,EAAA,OAAA7K,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OAKX,OAJKwlB,EAAiBnf,EAAK+T,MAAtBoL,aAERnf,EAAK+9C,UAAS,iBAAO,CACnBowH,iBAAiB,EAClB,IAAEr5J,EAAAnb,KAAA,EAEGmyC,GAAQ3sB,EAAanC,SAAS5hB,eAAeuyC,aAAY,OAE/Dl8B,YAAW,WACTzR,EAAK+9C,UAAS,iBAAO,CACnBowH,iBAAiB,EAClB,GACH,GAAG,KAAI,wBAAAr5J,EAAAJ,OAAA,GAAAG,EAAA,MAjDP7U,EAAK2W,MAAQ,CACXw1I,WAAW,EACXgiB,iBAAiB,GAClBnuK,CACH,CAoJC,OApJAN,EAAAA,GAAAA,GAAA2kF,EAAA,EAAAttF,IAAA,SAAA6C,MAgDD,WACE,IAAAijG,EAQIxpG,KAAK0gB,MAPPyT,EAAsBq1E,EAAtBr1E,uBAAsB4mJ,EAAAvxE,EACtB19E,aACEnO,EAAWo9J,EAAXp9J,YACA3N,EAAO+qK,EAAP/qK,QACAyZ,EAAOsxJ,EAAPtxJ,QACAE,EAAQoxJ,EAARpxJ,SAIJoiC,EAAuC/rD,KAAKsjB,MAApCw1I,EAAS/sG,EAAT+sG,UAAWgiB,EAAe/uH,EAAf+uH,gBAEb50B,EAAWluI,GAASmhC,YAAY6hI,kBAChCxgI,EAAqBxiC,GAASwiC,qBAE9B3D,EAAgB2D,EAElB4tD,KAAAA,cAACsF,GAAI,CAAChuE,KAAM1vB,GACVo4F,KAAAA,cAAA,YACEA,KAAAA,cAACyoC,GAAO,CACN7gI,QAASA,EACT8tC,OAAQ4e,GAAcu+G,KACtBrmK,KAAM43B,GAAAA,aAKd47D,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,mBAAmB+4F,eAAe,kCAEnDk4E,EAAgB1gI,EAAkB,GAAA93C,OACnC+mB,EAAO,KAAA/mB,OAAIinB,GACd,IAEIkyC,EAAYrhB,EAChBlsB,GAAAA,YAAmB3E,GAAUkyC,UAC7BusC,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,gCAAgC+4F,eAAe,oBAEtE,OACEoF,KAAAA,cAAA,OAAKC,UAAS,gBAAA3lG,OAAkByxB,EAAyB,6BAA+B,KACtFi0E,KAAAA,cAAA,OAAKC,UAAS,SAAA3lG,OAAWyxB,EAAyB,sBAAwB,KACxEi0E,KAAAA,cAAA,OAAKC,UAAU,UACbD,KAAAA,cAAA,OAAKC,UAAU,iBACbD,KAAAA,cAAA,MAAIC,UAAU,SACZD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,4BACH+4F,eAAe,uBAGnBoF,KAAAA,cAACi+C,GAAS,CAAC/9C,QAAStoG,KAAKikK,gBAG7B77D,KAAAA,cAAA,OAAKC,UAAU,WACbD,KAAAA,cAAA,OAAKC,UAAU,eACbD,KAAAA,cAAA,OAAKC,UAAU,aACbD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,oBAAoB+4F,eAAe,YAAY,IAAE,IACrE81D,EACC,IAEA1wD,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAA,UAAQC,UAAU,sBAAsBC,QAAStoG,KAAKq0G,eACpDjM,KAAAA,cAAA,KAAGgC,UAAU,qBAEd0wE,EACC1yE,KAAAA,cAAA,QAAMC,UAAU,iBAAgBD,KAAAA,cAAC2E,GAAY,OAE7C3E,KAAAA,cAAA,QAAMC,UAAU,SAAS6yE,KAKjC9yE,KAAAA,cAAA,KAAGC,UAAU,aACXD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,UAAU+4F,eAAe,YAAY,IAAE,IAC3D81D,EAAY,IAAM1wD,KAAAA,cAAA,QAAMC,UAAU,SAASxsC,IAE9CusC,KAAAA,cAAA,KAAGC,UAAU,aACXD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,cAAc+4F,eAAe,WAAW,IAAE,IAC9D81D,EAAY,IAAM1wD,KAAAA,cAAA,QAAMC,UAAU,SAAS69C,KAGhD99C,KAAAA,cAAA,QAAMC,UAAU,iBACbywD,EAAY1wD,KAAAA,cAAC2E,GAAY,MAAMl2D,GAElCuxD,KAAAA,cAAA,WAEIzqF,EACEyqF,KAAAA,cAACwD,GAAM,CAACnB,MAAI,EAACnC,QAAStoG,KAAKm7K,kBACzB/yE,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,qBAAqB+4F,eAAe,uBAG3DoF,KAAAA,cAACwD,GAAM,CAACnB,MAAI,EAACnC,QAAStoG,KAAKo7K,eACzBhzE,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,gCAAgC+4F,eAAe,uBAStF,KAAChS,CAAA,CA7JyC,CACToX,KAAAA,aAAeQ,KAAAA,GA+JlD,Y,glBE7KA,IAAM88D,GAAa,kBACbmC,IAAa9kE,EAAAA,GAAAA,IAAe,CAChC/0F,MAAO,CACL/D,GAAI,GAAFvH,OAAKgjK,GAAU,UACjB1iE,eAAgB,2BAElBq4E,UAAW,CACTpxK,GAAI,GAAFvH,OAAKgjK,GAAU,cACjB1iE,eAAgB,gBAElBs4E,cAAe,CACbrxK,GAAI,GAAFvH,OAAKgjK,GAAU,kBACjB1iE,eAAgB,mBAElBu4E,UAAW,CACTtxK,GAAI,GAAFvH,OAAKgjK,GAAU,cACjB1iE,eAAgB,oBAElBw4E,eAAgB,CACdvxK,GAAI,GAAFvH,OAAKgjK,GAAU,mBACjB1iE,eAAgB,uCAElBy4E,eAAgB,CACdxxK,GAAI,GAAFvH,OAAKgjK,GAAU,mBACjB1iE,eAAgB,4BAElB04E,UAAW,CACTzxK,GAAI,GAAFvH,OAAKgjK,GAAU,cACjB1iE,eAAgB,oBAElB24E,eAAgB,CACd1xK,GAAI,GAAFvH,OAAKgjK,GAAU,mBACjB1iE,eAAgB,4BAElB44E,eAAgB,CACd3xK,GAAI,GAAFvH,OAAKgjK,GAAU,mBACjB1iE,eAAgB,uCAElB64E,SAAU,CACR5xK,GAAI,GAAFvH,OAAKgjK,GAAU,oBACjB1iE,eAAgB,uDAElB4vE,YAAa,CACX3oK,GAAI,GAAFvH,OAAKgjK,GAAU,gBACjB1iE,eAAgB,sDAElBnP,MAAO,CACL5pF,GAAI,GAAFvH,OAAKgjK,GAAU,UACjB1iE,eAAgB,UAElB+vE,cAAe,CACb9oK,GAAI,GAAFvH,OAAKgjK,GAAU,kBACjB1iE,eAAgB,YAWd/R,GADLkZ,KAAU9yF,GAAAA,GAAC,CAAC,EAAI8sC,IC/EjB,CAAgB,QAAU,2BAA2B,KAAO,2BAA2B,IAAM,2BAA2B,UAAY,2BAA2B,eAAiB,2BAA2B,cAAgB,6BD+EnL,CAAE+lD,eAAe,GAAOvB,CAAAC,GAAA,SAAA0R,IAAA5/F,EAAAA,GAAAA,GAAAu2E,EAAAqpB,GAAA,I,IAAA3/F,G,EAAAs2E,E,maAE9D,SAAAA,EAAYvwE,GAAO,IAAA/T,EAYhB,OAZgBP,EAAAA,GAAAA,GAAA,KAAA6kF,GACjBtkF,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAcK,WACjB,IAAA68F,EAAgC78F,EAAK+T,MAA7B/L,EAAI60F,EAAJ70F,KAAM1N,EAAIuiG,EAAJviG,KAAMy8F,EAAO8F,EAAP9F,QAEG,mBAAZA,GACTA,IAGEz8F,GAAgC,mBAAjBA,EAAKy8F,QACtBz8F,EAAKy8F,UACMz8F,GAAQA,EAAK+rK,YACxBvnJ,OAAOsrB,SAAS4vE,OAAOtvE,GAAM8+C,UAG/B19C,GAAAA,OAAAA,MAAqB9jC,EACvB,KAACwE,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAEe,WACd,IAAAo/C,EAKIp/C,EAAK2W,MAJPw4J,EAAW/vH,EAAX+vH,YACAzwJ,EAAU0gC,EAAV1gC,WACAkwJ,EAASxvH,EAATwvH,UACAG,EAAS3vH,EAAT2vH,UAEEI,GAAezwJ,GACnB1e,EAAK+9C,SAAS,CACZr/B,YAAY,EACZwwJ,UAAU,EACVL,gBAAgB,EAChBI,gBAAgB,IACf,WACIL,GAAkC,IAArBA,EAAUt7K,QAAiBynB,GAAAA,qBAAmC6zJ,GAI3EG,GAAkC,IAArBA,EAAUz7K,QAAiBynB,GAAAA,qBAAmCg0J,GAKhF/uK,EAAK+9C,SAAS,CACZoxH,aAAa,IACZ,WACD19J,YAAU4C,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAO,IAAA,IAAAu6J,EAAA,OAAA96J,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OAE8G,OAF9Gmb,EAAAxZ,KAAA,EAED8zK,EAAsBr0J,GAAAA,+BAA6C,CAAC6zJ,EAAWG,IA/DrE,GA+DqGj6J,EAAAnb,KAAA,EAE/GmyC,GAAAA,KAAAA,cAA2BsjI,GAAoB,OACrDpvK,EAAK+9C,UAAS,iBAAO,CACnBsxH,YAAY,EACb,IAEDr5H,GAAAA,QAAAA,WAA2BlhC,EAAAnb,KAAA,gBAAAmb,EAAAxZ,KAAA,EAAAwZ,EAAAgC,GAAAhC,EAAA,SAE3B7H,QAAQ4jB,IAAI/b,EAAAgC,GAAE2rB,SACdziC,EAAK+9C,SAAS,CACZr/B,YAAY,EACZywJ,aAAa,EACbD,UAAU,EACVp9J,aAAcgD,EAAAgC,GAAE2rB,UAChB,yBAAA3tB,EAAAJ,OAAA,GAAAG,EAAA,kBAGR,IA3BE7U,EAAK+9C,SAAS,CAAEkxH,gBAAgB,EAAMvwJ,YAAY,IAJlD1e,EAAK+9C,SAAS,CAAE8wH,gBAAgB,EAAMnwJ,YAAY,GAgCtD,GACF,KAAClS,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAEc,WACb,IAAQ1F,EAAS0F,EAAK+T,MAAdzZ,KAER0F,EAAK84J,mBAECx+J,GAAQA,EAAK+rK,aACjBvnJ,OAAOsrB,SAAS4vE,OAAOtvE,GAAM8+C,UAC7B1qE,OAAOsrB,SAASu5D,SAEpB,IAxFE3jG,EAAK2W,MAAQ,CACXw4J,aAAa,EACbzwJ,YAAY,EACZkwJ,UAAW,GACXG,UAAW,GACXG,UAAU,EACVL,gBAAgB,EAChBI,gBAAgB,EAChBn9J,aAAc,GACdu9J,YAAY,GACbrvK,CACH,CAuMC,OAvMAN,EAAAA,GAAAA,GAAA4kF,EAAA,EAAAvtF,IAAA,SAAA6C,MA+ED,WAAS,IAAA0V,EAAA,KACPyvF,EAAuB1rG,KAAK0gB,MAApB/L,EAAI+2F,EAAJ/2F,KAAM0uF,EAAIqI,EAAJrI,KAEd52C,EAUIzsD,KAAKsjB,MATPw4J,EAAWrvH,EAAXqvH,YACAzwJ,EAAUohC,EAAVphC,WAGAwwJ,GAFSpvH,EAAT8uH,UACS9uH,EAATivH,UACQjvH,EAARovH,UACAL,EAAc/uH,EAAd+uH,eACAI,EAAcnvH,EAAdmvH,eACAn9J,EAAYguC,EAAZhuC,aACAu9J,EAAUvvH,EAAVuvH,WAGI5kB,EAAS1hB,GAAAA,IACb11I,KACA,YACA,aAGF,OACEooG,KAAAA,cAAC4iD,GAAK,CACJr2I,KAAMA,EACNgyI,iBAAe,EACfjjD,QAAS1jG,KAAKylK,iBACdz3J,MAAOq1F,EAAKC,cAAcukE,GAAW75J,QAErCo6F,KAAAA,cAAA,WAASC,UAAU,YACf2zE,GACA5zE,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAA,OAAKC,UAAU,aACbD,KAAAA,cAACs7D,GAAU,KACTt7D,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAW4T,iBAEnCrzE,KAAAA,cAAC2kD,GAAK,CACJoC,eAAa,EACbG,YAAU,EACVtC,UAAWoK,EAAOmkB,UAClBhsB,aAAW,EACX5vD,SAAUm8E,EACVrtB,QAAS,WAAQxyI,EAAKyuC,SAAS,CAAE8wH,gBAAgB,GAAS,EAC1DjiC,YAAal2C,EAAKC,cAAcukE,GAAW0T,aAE5CC,GACCpzE,KAAAA,cAAA,OAAKC,UAAU,WACbD,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAW2T,kBAIvCpzE,KAAAA,cAAA,OAAKC,UAAU,aACbD,KAAAA,cAACs7D,GAAU,KACTt7D,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAW8T,iBAEnCvzE,KAAAA,cAAC2kD,GAAK,CACJoC,eAAa,EACbG,YAAU,EACVtC,UAAWoK,EAAOskB,UAClB/7E,SAAUm8E,EACVrtB,QAAS,WAAQxyI,EAAKyuC,SAAS,CAAEkxH,gBAAgB,GAAS,EAC1DriC,YAAal2C,EAAKC,cAAcukE,GAAW6T,aAE5CE,GACCxzE,KAAAA,cAAA,OAAKC,UAAU,WACbD,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAW+T,kBAIvCxzE,KAAAA,cAAA,OAAKC,UAAU,cACXyzE,GACA1zE,KAAAA,cAAA,OAAKC,UAAU,iBACbD,KAAAA,cAACwD,GAAM,CAAClB,MAAI,EAAC/K,SAAUt0E,EAAYi9E,QAAStoG,KAAKylK,kBAC/Cr9D,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAWkL,gBAEnC3qE,KAAAA,cAACwD,GAAM,CACLnB,MAAI,EACJ9K,SAAUt0E,EACVi9E,QAAStoG,KAAKi8K,eAEd7zE,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAWwT,aAItCS,GACC1zE,KAAAA,cAACwD,GAAM,CACLvD,UAAU,0BACVoC,MAAI,EACJ9K,UAAU,GAEVyI,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAWyT,gBAGpCO,GACCzzE,KAAAA,cAAA,OAAKC,UAAU,WACbD,KAAAA,cAACI,GAAAA,GAAgBqD,EAAAA,GAAAA,GAAA,GAAKg8D,GAAWgU,SAAQ,CAAE/1K,OAAQ,CAAC2Y,aAAAA,SAM7Du9J,GACC5zE,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAA,KAAGC,UAAU,yBACXD,KAAAA,cAAA,OAAKC,UAAU,YAAY+D,IAAKomE,GAAOlmE,IAAI,WAC3ClE,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAW+K,cAEnCxqE,KAAAA,cAAA,OAAKC,UAAU,YACbD,KAAAA,cAACwD,GAAM,CACLvD,UAAU,mCACVoC,MAAI,EACJnC,QAAStoG,KAAK0qK,cAEdtiE,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAWh0E,WAQjD,KAAC5C,CAAA,CAtN6D,CAC7BmX,KAAAA,iBAAmBQ,GAwNtD,UAAegF,EAAAA,GAAAA,IAAW3c,I,glBElR1B,IAAMy0E,GAAa,oBACbmC,IAAa9kE,EAAAA,GAAAA,IAAe,CAChC/0F,MAAO,CACL/D,GAAI,GAAFvH,OAAKgjK,GAAU,UACjB1iE,eAAgB,yBAElByuE,mBAAoB,CAClBxnK,GAAI,GAAFvH,OAAKgjK,GAAU,uBACjB1iE,eAAgB,+BAElB0uE,mBAAoB,CAClBznK,GAAI,GAAFvH,OAAKgjK,GAAU,uBACjB1iE,eAAgB,oGAElB2uE,gBAAiB,CACf1nK,GAAI,GAAFvH,OAAKgjK,GAAU,oBACjB1iE,eAAgB,iCAElBk5E,kBAAmB,CACjBjyK,GAAI,GAAFvH,OAAKgjK,GAAU,sBACjB1iE,eAAgB,gCAElB8uE,gBAAiB,CACf7nK,GAAI,GAAFvH,OAAKgjK,GAAU,qBACjB1iE,eAAgB,kEAChBl9F,OAAQ,CACNwsG,KACElK,KAAAA,cAAC+zE,GAAAA,GAAQ,CAACxrI,GAAI0G,GAAMw/C,iBACjB,IACDuR,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,4BAA4B+4F,eAAe,8BAKxE+uE,YAAa,CACX9nK,GAAI,GAAFvH,OAAKgjK,GAAU,gBACjB1iE,eAAgB,4HAElBgvE,cAAe,CACb/nK,GAAI,GAAFvH,OAAKgjK,GAAU,kBACjB1iE,eAAgB,aAElBivE,WAAY,CACVhoK,GAAI,GAAFvH,OAAKgjK,GAAU,eACjB1iE,eAAgB,mBAElBo5E,QAAS,CACPnyK,GAAI,GAAFvH,OAAKgjK,GAAU,YACjB1iE,eAAgB,eAElBq5E,QAAS,CACPpyK,GAAI,GAAFvH,OAAKgjK,GAAU,YACjB1iE,eAAgB,aAElBs5E,QAAS,CACPryK,GAAI,GAAFvH,OAAKgjK,GAAU,YACjB1iE,eAAgB,aAElBu5E,cAAe,CACbtyK,GAAI,GAAFvH,OAAKgjK,GAAU,kBACjB1iE,eAAgB,uEAMd9R,GADLiZ,KAAU9yF,GAAAA,GAAC,CAAC,EAAIkzJ,ICvFjB,CAAgB,cAAgB,2BAA2B,UAAY,2BAA2B,aAAe,2BAA2B,wBAA0B,2BAA2B,UAAY,4BAA4B,cAAgB,2BAA2B,cAAgB,2BAA2B,cAAgB,2BAA2B,uBAAyB,4BAA4B,aAAe,2BAA2B,iBAAmB,2BAA2B,gBAAkB,2BAA2B,oBAAsB,4BAA4B,mBAAqB,2BAA2B,eAAiB,6BDuF1mB,CAAErgE,eAAe,GAAOvB,CAAAC,GAAA,SAAAC,IAAAnuF,EAAAA,GAAAA,GAAAw2E,EAAA2X,GAAA,I,IAAAluF,G,EAAAu2E,E,maAEnE,SAAAA,EAAYxwE,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAA8kF,GACjBvkF,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBA4BM,WAClB0M,aAAaC,QAAQwB,GAAAA,gBAAAA,YAAuC,KAC5DzB,aAAaC,QAAQwB,GAAAA,gBAAAA,iBAA4C,KACjEzB,aAAaC,QAAQwB,GAAAA,gBAAAA,eAA0C,KAC/D29B,GAAAA,cAAAA,oBACA9rC,EAAK+9C,SAAS,CACZz2B,KAAM,SAEV,KAAC9a,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAEa,WAAM,IAAAyrC,EAClBoxD,EAAgC78F,EAAK+T,MAA7B/L,EAAI60F,EAAJ70F,KAAM1N,EAAIuiG,EAAJviG,KAAMy8F,EAAO8F,EAAP9F,QAEG,mBAAZA,GACTA,IAGEz8F,GAAgC,mBAAjBA,EAAKy8F,QACtBz8F,EAAKy8F,UAELj4E,OAAOsrB,SAAS4vE,OAAOtvE,GAAM8+C,WAG4B7nE,UAAY,QAAN8pB,EAAN9pB,GAAAA,YAAY,IAAA8pB,OAAN,EAANA,EAAcoG,sDAGpDlJ,KACRpyC,SAAQ,SAACymB,GAClB8uB,GAAAA,KAAAA,kBAA+B9uB,EAAS9M,eAAe,EACzD,IACAxD,aAAaC,QAAQwB,GAAAA,aAAAA,eAAuC,SAG9D29B,GAAAA,OAAAA,MAAqB39B,GAAAA,OAAAA,wBACrB29B,GAAAA,OAAAA,MAAqB9jC,EACvB,KAACwE,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAEc,WACbg2C,GAAAA,OAAAA,WACAh2C,EAAKs3J,aACP,KAAC9qJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAEgB,SAAC6vK,EAAU98I,GAC1B,IAAM8d,EAAUC,SAASC,cAAc,KAGvCF,EAAQG,aAAa,OAAQ,gCAAFj7C,OAAkCk7C,mBAAmBle,KAChF8d,EAAQG,aAAa,WAAY,GAAFj7C,OAAK85K,EAAQ,KAAA95K,OAAIm7C,OAASC,OAAO,cAAa,SAE7EN,EAAQO,MAAMC,QAAU,OACxBP,SAAS/e,KAAKuf,YAAYT,GAC1BA,EAAQU,QACRT,SAAS/e,KAAKyf,YAAYX,GAE1B/E,GAAAA,cAAAA,KAA2B39B,GAAAA,cAAAA,QAAiC,CAC1Ds0B,QAXc,gCAalB,KAACj2B,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAEgB,SAAC8vK,GAChB,IAAQC,EAAoB/vK,EAAK2W,MAAzBo5J,gBACR/vK,EAAK+9C,SAAS,CACZgyH,gBAAerlK,GAAAA,GAAA,GACVqlK,GAAe,IAAAvjK,EAAAA,EAAAA,GAAA,MAAAzW,OACd+5K,IAAiB,KAG3B,KAACtjK,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAEmB,SAAC8vK,GACnB,IAAA1wH,EAMIp/C,EAAK2W,MALPq5J,EAAiB5wH,EAAjB4wH,kBAEAC,GADe7wH,EAAf2wH,gBACQ3wH,EAAR6wH,UACAC,EAAQ9wH,EAAR8wH,SACAC,EAAQ/wH,EAAR+wH,SAIIp9I,EAAO,+BAAAh9B,OAA+B+5K,EAAa,EAAC,UAAA/5K,OAAS+6C,SAAS1G,SAASC,SAAQ,SAAAt0C,OACxFi6K,EAAkBF,GAAa,MAAI,wBAExC,OACEr0E,KAAAA,cAAA,OAAKC,UAAU,gBACbD,KAAAA,cAAA,OAAKC,UAAU,mBACbD,KAAAA,cAAA,YACEA,KAAAA,cAACI,GAAAA,GAAgBqD,EAAAA,GAAAA,GAAA,GACXg8D,GAAW0U,cAAa,CAC5Bz2K,OAAQ,CACN4E,OAAS+xK,EAAa,EACtBM,SAAUtxJ,OAAOsrB,SAASC,cAIhCoxD,KAAAA,cAAA,YAAOu0E,EAAkBF,KAE3Br0E,KAAAA,cAAA,OAAKC,UAAU,uBACZu0E,EACCx0E,KAAAA,cAACwD,GAAM,CAACjM,UAAU,EAAM8K,MAAI,GAC1BrC,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAWuU,UAGnCh0E,KAAAA,cAACsF,GAAI,CAAChuE,KAAMA,EAAMmtE,OAAQ,WACxBlgG,EAAKqwK,eAAeP,EAEtB,GACEr0E,KAAAA,cAACwD,GAAM,CAACnB,MAAI,GACVrC,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAWuU,WAIvCh0E,KAAAA,cAACwD,GAAM,CAACjM,SAAUk9E,EAAUpyE,MAAI,EAACnC,QAAS,WACxC37F,EAAKswK,eAAe,sBAADv6K,OAAuB+5K,EAAa,EAAC,KAAA/5K,OAAI+6C,SAAS1G,SAASC,UAAWtX,GACzF/yB,EAAKqwK,eAAeP,EAEtB,GACEr0E,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAWwU,UAEjCS,EACA10E,KAAAA,cAACwD,GAAM,CAACjM,UAAU,EAAM8K,MAAI,GAC1BrC,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAWyU,UAGnCl0E,KAAAA,cAAA,KAAGkK,KAAM,uBAAyB5R,UAAUhhE,GAAQ,YAAcke,mBAAmB,+BAADl7C,OAAgC+5K,EAAa,EAAC,UAAA/5K,OAAS+6C,SAAS1G,SAASC,YAC3JoxD,KAAAA,cAACwD,GAAM,CAACnB,MAAI,EAACnC,QAAS,WACpB37F,EAAKqwK,eAAeP,EAEtB,GACEr0E,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAWyU,YAO/C,IAjKmBjjK,aAAaE,QAAQuB,GAAAA,gBAAAA,aAAtC,IACI6hK,EAAyBtjK,aAAaE,QAAQuB,GAAAA,gBAAAA,gBAClD,GAAI6hK,GAA2C,MAAtBA,EACvB,IACEA,EAAoBljK,KAAKE,MAAMgjK,EACjC,CAAE,MAAO1xK,GACP0xK,GAAoB,CACtB,MAEAA,GAAoB,EAcrB,OAXDhwK,EAAK2W,MAAQ,CACX2Q,KAAO0oJ,EAAiB,kBACxBA,kBAAAA,EACAC,UAAU,EACVC,UAAU,EACVC,UAAU,EACVJ,gBAAiB,CACf,GAAG,EACH,GAAG,EACH,GAAG,IAEN/vK,CACH,CAkPC,OAlPAN,EAAAA,GAAAA,GAAA6kF,EAAA,EAAAxtF,IAAA,SAAA6C,MA2ID,WAAS,IAAA0V,EAAA,KACPyvF,EAGI1rG,KAAK0gB,MAFP/L,EAAI+2F,EAAJ/2F,KACA0uF,EAAIqI,EAAJrI,KAGF52C,EAIIzsD,KAAKsjB,MAHP2Q,EAAIw4B,EAAJx4B,KAEAyoJ,GADiBjwH,EAAjBkwH,kBACelwH,EAAfiwH,iBAGIQ,IAAgBR,EAAgB,IAAMA,EAAgB,IAAMA,EAAgB,IAC5ES,GAAeT,EAAgB,GAAM,EAAI,IAAOA,EAAgB,GAAM,EAAI,IAAOA,EAAgB,GAAM,EAAI,GAEjH,OAEEt0E,KAAAA,cAAC4iD,GAAK,CACJr2I,KAAMA,EACN3G,MAAK,GAAAtL,OAAK2gG,EAAKC,cAAcukE,GAAW75J,QACxC01F,QAAS1jG,KAAKikK,YACdtd,iBAAe,GAEL,SAAT1yH,GACCm0E,KAAAA,cAAA,KAAGC,UAAU,yBACXD,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAW6J,qBAG3B,YAATz9I,GACCm0E,KAAAA,cAAA,KAAGC,UAAU,yBACXD,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAWiK,kBAGrC1pE,KAAAA,cAAA,WACY,UAATn0E,GACCm0E,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAA,KAAGC,UAAU,yBACXD,KAAAA,cAACI,GAAAA,GAAgBqD,EAAAA,GAAAA,GAAA,GACXg8D,GAAWkK,YAAW,CAC1BjsK,OAAQ,CACN+uG,GAAIzM,KAAAA,cAAA,gBAGVA,KAAAA,cAAA,OAAKC,UAAU,iBACbD,KAAAA,cAACwD,GAAM,CACLnB,MAAI,EACJnC,QAAS,WACP3lD,GAAAA,OAAAA,UACA1mC,EAAKyuC,SAAS,CAAEz2B,KAAM,QACxB,GACAm0E,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAWmK,gBAEnC5pE,KAAAA,cAACwD,GAAM,CAAClB,MAAI,EAACpC,QAAStoG,KAAKikK,aACzB77D,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAWoK,eAK/B,UAATh+I,GACCm0E,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAA,KAAGC,UAAU,yBACXD,KAAAA,cAAA,OAAKC,UAAU,YAAY+D,IAAKomE,GAAOlmE,IAAI,WAC3ClE,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAW8J,kBAEnCvpE,KAAAA,cAAA,OAAKC,UAAU,YACbD,KAAAA,cAACwD,GAAM,CACLvD,UAAU,mCACVoC,MAAI,EACJnC,QAAStoG,KAAK0qK,cAEdtiE,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,uBAAuB+4F,eAAe,aAKzD,SAAT/uE,GACCm0E,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAA,OAAKC,UAAU,aACZroG,KAAKo9K,kBAAkB,GACvBp9K,KAAKo9K,kBAAkB,GACvBp9K,KAAKo9K,kBAAkB,IAE1Bh1E,KAAAA,cAAA,WACEA,KAAAA,cAACI,GAAAA,GAAgBqD,EAAAA,GAAAA,GAAA,GACXg8D,GAAWqU,kBAAiB,CAChCp2K,OAAQ,CACNu3K,MAAOF,EACPlxJ,MAAO,OAIbm8E,KAAAA,cAAA,OAAKC,UAAU,0BACbD,KAAAA,cAAA,OAAKC,UAAU,sBACbD,KAAAA,cAACwD,GAAM,CAACrB,OAAK,EAAC5K,SAAUu9E,EAAa50E,QAAStoG,KAAK0yK,mBACjDtqE,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,sBAAsB+4F,eAAe,kBAS5E,KAAC9R,CAAA,CA/QkE,CACrCkX,KAAAA,aAAeQ,GAiR/C,UAAegF,EAAAA,GAAAA,IAAW1c,I,glBE9V1B,IAAMw0E,GAAa,4BACbmC,IAAa9kE,EAAAA,GAAAA,IAAe,CAChC/0F,MAAO,CACL/D,GAAI,GAAFvH,OAAKgjK,GAAU,UACjB1iE,eAAgB,2BAElBs6E,WAAY,CACVrzK,GAAI,GAAFvH,OAAKgjK,GAAU,eACjB1iE,eAAgB,gDAElBh8E,YAAa,CACX/c,GAAI,GAAFvH,OAAKgjK,GAAU,gBACjB1iE,eAAgB,kCAElBu6E,OAAQ,CACNtzK,GAAI,GAAFvH,OAAKgjK,GAAU,WACjB1iE,eAAgB,UAElBw6E,aAAc,CACZvzK,GAAI,GAAFvH,OAAKgjK,GAAU,iBACjB1iE,eAAgB,qCAMd7R,GADLgZ,KAAU9yF,GAAAA,GAAC,CAAC,EAAI8sC,ICpCjB,CAAgB,QAAU,2BAA2B,KAAO,2BAA2B,cAAgB,2BAA2B,aAAe,6BDoCzG,CAAE+lD,eAAe,GAAOvB,CAAAC,GAAA,SAAA0R,IAAA5/F,EAAAA,GAAAA,GAAAy2E,EAAAmpB,GAAA,I,IAAA3/F,G,EAAAw2E,E,maAE9D,SAAAA,EAAYzwE,GAAO,IAAA/T,EA4BlB,OA5BkBP,EAAAA,GAAAA,GAAA,KAAA+kF,GACjBxkF,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAGK,WACjB,IAAA68F,EAAgC78F,EAAK+T,MAA7B/L,EAAI60F,EAAJ70F,KAAM1N,EAAIuiG,EAAJviG,KAAMy8F,EAAO8F,EAAP9F,QAEG,mBAAZA,GACTA,IAGEz8F,GAAgC,mBAAjBA,EAAKy8F,QACtBz8F,EAAKy8F,UACMz8F,GAAQA,EAAK+rK,YACxBvnJ,OAAOsrB,SAAS4vE,OAAOtvE,GAAM8+C,UAG/B19C,GAAAA,OAAAA,MAAqB9jC,EACvB,KAACwE,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAEkB,WACjB,IAAA++F,EAA0B/+F,EAAK+T,MAAvBzZ,EAAIykG,EAAJzkG,KAAaykG,EAAPhI,QACdjrD,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,qBAAuC7T,EAC7D,KAACkS,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAEmB,WAClB,IAAA2iI,EAA0B3iI,EAAK+T,MAAvBzZ,EAAIqoI,EAAJroI,KAAaqoI,EAAP5rC,QACdjrD,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,sBAAwC7T,EAC9D,IAAC0F,CA1BD,CA0DC,OA1DAN,EAAAA,GAAAA,GAAA8kF,EAAA,EAAAztF,IAAA,SAAA6C,MA4BD,WACE,IAAA6pI,EAGIpwI,KAAK0gB,MAFP/L,EAAIy7H,EAAJz7H,KACA0uF,EAAI+sC,EAAJ/sC,KAGF,OACE+E,KAAAA,cAAC4iD,GAAK,CACJr2I,KAAMA,EACNgyI,iBAAe,EACfjjD,QAAS1jG,KAAKylK,iBACdz3J,MAAOq1F,EAAKC,cAAcukE,GAAW75J,QAErCo6F,KAAAA,cAAA,WAASC,UAAU,WACjBD,KAAAA,cAAA,OAAKC,UAAU,aACbD,KAAAA,cAAA,OAAKC,UAAU,gBACbD,KAAAA,cAACwD,GAAM,CAAC3hG,GAAG,2BAA2BwgG,MAAI,EAACnC,QAAStoG,KAAKy5K,mBACvDrxE,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAW7gJ,cAEnCohF,KAAAA,cAACwD,GAAM,CAAC3hG,GAAG,0BAA0BwgG,MAAI,EAACnC,QAAStoG,KAAKy9K,kBACtDr1E,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAWyV,aAEnCl1E,KAAAA,cAACwD,GAAM,CAAClB,MAAI,EAACpC,QAAStoG,KAAKylK,kBACzBr9D,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAW0V,YAO/C,KAACpsF,CAAA,CA9D6D,CACxBiX,KAAAA,iBAAmBQ,GAgE3D,UAAegF,EAAAA,GAAAA,IAAWzc,I,glBE1F1B,IAAMu0E,GAAa,yBACbmC,IAAa9kE,EAAAA,GAAAA,IAAe,CAChC/0F,MAAO,CACL/D,GAAI,GAAFvH,OAAKgjK,GAAU,UACjB1iE,eAAgB,uBAElBs6E,WAAY,CACVrzK,GAAI,GAAFvH,OAAKgjK,GAAU,eACjB1iE,eAAgB,mCAElBh8E,YAAa,CACX/c,GAAI,GAAFvH,OAAKgjK,GAAU,gBACjB1iE,eAAgB,qBAElBu6E,OAAQ,CACNtzK,GAAI,GAAFvH,OAAKgjK,GAAU,WACjB1iE,eAAgB,UAElBw6E,aAAc,CACZvzK,GAAI,GAAFvH,OAAKgjK,GAAU,iBACjB1iE,eAAgB,qBAMd5R,GADL+Y,KAAU9yF,GAAAA,GAAC,CAAC,EAAI8sC,ICpCjB,CAAgB,QAAU,2BAA2B,KAAO,2BAA2B,cAAgB,2BAA2B,aAAe,6BDoCzG,CAAE+lD,eAAe,GAAOvB,CAAAC,GAAA,SAAA0R,IAAA5/F,EAAAA,GAAAA,GAAA02E,EAAAkpB,GAAA,I,IAAA3/F,G,EAAAy2E,E,maAE9D,SAAAA,EAAY1wE,GAAO,IAAA/T,EA6BlB,OA7BkBP,EAAAA,GAAAA,GAAA,KAAAglF,GACjBzkF,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAGK,WACjB,IAAA68F,EAAgC78F,EAAK+T,MAA7B/L,EAAI60F,EAAJ70F,KAAM1N,EAAIuiG,EAAJviG,KAAMy8F,EAAO8F,EAAP9F,QAEG,mBAAZA,GACTA,IAGEz8F,GAAgC,mBAAjBA,EAAKy8F,QACtBz8F,EAAKy8F,UACMz8F,GAAQA,EAAK+rK,YACxBvnJ,OAAOsrB,SAAS4vE,OAAOtvE,GAAM8+C,UAG/B19C,GAAAA,OAAAA,MAAqB9jC,EACvB,KAACwE,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAEkB,WACjB,IAAA++F,EAA0B/+F,EAAK+T,MAAvBzZ,EAAIykG,EAAJzkG,KAAaykG,EAAPhI,QAEdjrD,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,kBAAoC7T,EAC1D,KAACkS,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAEmB,WAClB,IAAA2iI,EAA0B3iI,EAAK+T,MAAvBzZ,EAAIqoI,EAAJroI,KAAaqoI,EAAP5rC,QACdjrD,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,kBAAoC7T,EAC1D,IAAC0F,CA3BD,CA2DC,OA3DAN,EAAAA,GAAAA,GAAA+kF,EAAA,EAAA1tF,IAAA,SAAA6C,MA6BD,WACE,IAAA6pI,EAGIpwI,KAAK0gB,MAFP/L,EAAIy7H,EAAJz7H,KACA0uF,EAAI+sC,EAAJ/sC,KAGF,OACE+E,KAAAA,cAAC4iD,GAAK,CACJr2I,KAAMA,EACNgyI,iBAAe,EACfjjD,QAAS1jG,KAAKylK,iBACdz3J,MAAOq1F,EAAKC,cAAcukE,GAAW75J,QAErCo6F,KAAAA,cAAA,WAASC,UAAU,WACjBD,KAAAA,cAAA,OAAKC,UAAU,aACbD,KAAAA,cAAA,OAAKC,UAAU,gBACbD,KAAAA,cAACwD,GAAM,CAACnB,MAAI,EAACnC,QAAStoG,KAAKy5K,mBACzBrxE,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAW7gJ,cAEnCohF,KAAAA,cAACwD,GAAM,CAACnB,MAAI,EAACnC,QAAStoG,KAAKy9K,kBACzBr1E,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAWyV,aAEnCl1E,KAAAA,cAACwD,GAAM,CAAClB,MAAI,EAACpC,QAAStoG,KAAKylK,kBACzBr9D,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAW0V,YAO/C,KAACnsF,CAAA,CA/D6D,CAC3BgX,KAAAA,iBAAmBQ,GAiExD,UAAegF,EAAAA,GAAAA,IAAWxc,IE3F1B,IAcan4D,GAAmB,SAACre,GAC/B,OAAO,IAAImG,SAAQ,SAACI,EAASiB,GAC3B,IAAQ0tD,EAAgBl1D,EAAhBk1D,YACJxhD,GAAAA,KAAAA,QAAAA,kBACCA,GAAAA,KAAAA,WACAA,GAAAA,KAAAA,YACAA,GAAAA,KAAAA,QAAAA,gBAEHsjE,KAAAA,KACEtjE,GAAAA,KAAAA,QAAAA,iBACA,CACEwM,UAAWxM,GAAAA,KAAAA,UACXuM,WAAYvM,GAAAA,KAAAA,WACZte,QAAS8/D,IAEX/uC,MAAK,SAACj6B,GAAa,IAAA+qF,EAAAO,EAAAE,EAMjBG,EALE3rF,SACCA,GAAAA,EAAKG,MADNH,MAECA,GAAS,QAAN+qF,EAAH/qF,EAAKG,YAAI,IAAA4qF,GAATA,EAAW7wD,QACU,OAArBl6B,SAAS,QAANsrF,EAAHtrF,EAAKG,YAAI,IAAAmrF,OAAN,EAAHA,EAAWpxD,SAHZl6B,MAICA,GAAS,QAANwrF,EAAHxrF,EAAKG,YAAI,IAAAqrF,GAATA,EAAWvwD,IAEd5gB,EAAQra,SAAS,QAAN2rF,EAAH3rF,EAAKG,YAAI,IAAAwrF,OAAN,EAAHA,EAAW1wD,KAEnB3f,GAEJ,IAAE,OAAO,SAAC9jB,GACR8jB,GACF,IAEAA,EAAO,aAEX,GACF,EACas7J,GAAuB,WAClC,OAAO,IAAI38J,SAAQ,SAACI,EAASiB,GACvBkM,GAAAA,KAAAA,QAAAA,sBACCA,GAAAA,KAAAA,WACAA,GAAAA,KAAAA,YACAA,GAAAA,KAAAA,QAAAA,gBAEHsjE,KAAAA,KACEtjE,GAAAA,KAAAA,QAAAA,qBACA,CACEwM,UAAWxM,GAAAA,KAAAA,UACXuM,WAAYvM,GAAAA,KAAAA,aAEdyS,MAAK,SAACj6B,GAAa,IAAA62K,EACf72K,SACCA,GAAAA,EAAKG,MADNH,MAECA,GAAS,QAAN62K,EAAH72K,EAAKG,YAAI,IAAA02K,GAATA,EAAW38I,OAEd7f,EAAQra,aAAG,EAAHA,EAAKG,MAEbmb,GAEJ,IAAE,OAAO,SAAC9jB,GACR8jB,EAAO9jB,EACT,IAEA8jB,EAAO,aAEX,GACF,EACAqJ,OAAOmyJ,SA9EU,WACfhkK,QAAQ4jB,IAAI,OAAQlP,GAAAA,KAAAA,YACpBsjE,KAAAA,KACEnmE,OAAOoyJ,4BACP,CACE/iJ,UAAWxM,GAAAA,KAAAA,UACXuM,WAAYvM,GAAAA,KAAAA,aAEdyS,MAAK,SAACj6B,GACN8S,QAAQ4jB,IAAI,MAAO12B,aAAG,EAAHA,EAAKG,KAC1B,IAAE,OAAO,SAAC3I,GACRsb,QAAQ4jB,IAAI,WAAYl/B,EAC1B,GACF,EAkEAmtB,OAAOwN,iBAAmBA,GAC1BxN,OAAOiyJ,qBAAuBA,GAG9B,UACEzkJ,iBAAAA,GACAykJ,qBAAAA,I,OC9EF,IAAM/V,IAAkB5kE,EAAAA,GAAAA,IAAe,CACrC/0F,MAAO,CACL/D,GAAI,qBACJ+4F,eAAgB,oBAElB86E,kBAAmB,CACjB7zK,GAAI,4BACJ+4F,eAAgB,0EAElB+6E,mBAAoB,CAClB9zK,GAAI,6BACJ+4F,eAAgB,sBAElBg7E,uBAAwB,CACtB/zK,GAAI,iCACJ+4F,eAAgB,6BAMd3R,IAFLn2B,EAAAA,EAAAA,KAAQ,SAAA3uD,GAAO,MAAQ,CAAEopB,KAAVppB,EAAJopB,KAAoB,GACYgzE,CAAAC,GAA3CuB,KCtCD,CAAgB,OAAS,2BAA2B,cAAgB,2BAA2B,MAAQ,2BAA2B,UAAY,2BAA2B,YAAc,2BAA2B,gBAAgB,2BAA2B,MAAQ,2BAA2B,OAAS,4BAA4B,QAAU,2BAA2B,uBAAuB,2BAA2B,aAAe,2BAA2B,iBAAiB,4BDsCnc,CAAED,eAAe,GAAO+iC,CAAArkC,GAAA,SAAAC,IAAAnuF,EAAAA,GAAAA,GAAA22E,EAAAwX,GAAA,I,IAAAluF,G,EAAA02E,E,maAK1C,SAAAA,EAAY3wE,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAAilF,GACjB1kF,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAJA,WACZ8rC,GAAAA,OAAAA,MAAqB9jC,KACvB,IAGE,IAAA60F,EAOI78F,EAAK+T,MAHMu9J,GAHTz0E,EAAJnG,KAG4BmG,EAF5B7zE,KACE3L,QACEha,SAKA8hK,EAA+B,MADpBz4J,aAAaE,QAAQuB,GAAAA,gBAAAA,aASrC,OAPDnO,EAAK2W,MAAQ,CACXwuJ,gBAAAA,EACAoM,SAAS,EACTC,mBAAmB,EACnBF,gBAAAA,EACAG,UAAW,GACXC,kBAAkB,GACnB1xK,CACH,CA2KC,OA3KAN,EAAAA,GAAAA,GAAAglF,EAAA,EAAA3tF,IAAA,yBAAA6C,MAED,WAAyB,IAAA0V,EAAA,KACvBw8B,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,uBAAyC,CAC3D4oF,QAAS,WACP,IACMouE,EAA+B,MADpBz4J,aAAaE,QAAQuB,GAAAA,gBAAAA,aAEtCmB,EAAKyuC,SAAS,CACZonH,gBAAAA,GAEJ,GAEJ,GAAC,CAAApuK,IAAA,yBAAA6C,MAGD,WAAyB,IAAA8V,EAAA,KAErB4hK,EACEj+K,KAAKsjB,MADP26J,gBAGFj+K,KAAK0qD,SAAS,CACZyzH,mBAAmB,IAClB,WACDllJ,GAAiB,CACf62C,YAAamuG,IACZl9I,MAAK,SAACm9I,GACPtkK,QAAQ4jB,IAAI,WAAY0gJ,GACxB7hK,EAAKquC,SAAS,CACZwzH,QAAAA,EACAC,mBAAmB,GAEvB,IAAE,OAAO,SAAC7/K,GACRsb,QAAQ4jB,IAAI,oBAAqBl/B,GACjC+d,EAAKquC,SAAS,CACZwzH,SAAS,EACTC,mBAAmB,GAEvB,GACF,GAEF,GAAC,CAAAz6K,IAAA,oBAAA6C,MACD,WAAoB,IAAAwW,EAAA,KAClB2gK,KAAuB38I,MAAK,SAACzE,GAE3B,GAAIA,SAAQA,GAAAA,EAAM0E,QAA0B,OAAhB1E,aAAI,EAAJA,EAAM0E,SAA9B1E,MAAgDA,GAAAA,EAAM8hJ,UAAW,CACnE,IAEWH,EAKP3hJ,EALFtsB,QAEAouK,EAGE9hJ,EAHF8hJ,UAEAF,EACE5hJ,EADF4hJ,QAEFnhK,EAAK2tC,SAAS,CACZuzH,gBAAAA,EACAG,UAAAA,EACAC,kBAAkB,EAClBH,QAAAA,GAEJ,CACF,IAAE,OAAO,SAAC5/K,GACRsb,QAAQ4jB,IAAI,+BAAgCl/B,EAC9C,GACF,GAAC,CAAAoF,IAAA,SAAA6C,MACD,WACE,IACE88F,EACErjG,KAAK0gB,MADP2iF,KAEFt3C,EAOI/rD,KAAKsjB,MANPwuJ,EAAe/lH,EAAf+lH,gBACAoM,EAAOnyH,EAAPmyH,QACAC,EAAiBpyH,EAAjBoyH,kBACAF,EAAelyH,EAAfkyH,gBACAG,EAASryH,EAATqyH,UACAC,EAAgBtyH,EAAhBsyH,iBAGItb,EAAS,CACb/0J,MAAOq1F,EAAKC,cAAcqkE,GAAgB35J,QAI5C,OACEo6F,KAAAA,cAAC4iD,GAAK,CACJr2I,KAAI,uBACJ3G,MAAO+0J,EAAO/0J,MACd01F,QAAS1jG,KAAKikK,YACdtd,iBAAe,GAEfv+C,KAAAA,cAAA,WACI0pE,EAYA1pE,KAAAA,cAAAA,KAAAA,SAAA,KAAE,mBAGAA,KAAAA,cAAA,WACEA,KAAAA,cAAA,cAAQ,qHAIVA,KAAAA,cAAA,WACEA,KAAAA,cAAA,cAAS61E,KAETC,GACA91E,KAAAA,cAAA,WACEA,KAAAA,cAACwD,GAAM,CACLnB,MAAI,EACJr+E,QAAS+xJ,EACT71E,QAAStoG,KAAKs+K,uBAAuB9+J,KAAKxf,OAE1CooG,KAAAA,cAACI,GAAAA,EAAqBm/D,GAAgBqW,0BAI3CE,GACC91E,KAAAA,cAAA,WACEA,KAAAA,cAAA,cAAQ,qBACRA,KAAAA,cAAA,WAAM81E,IAGTG,GACCj2E,KAAAA,cAAA,aACEA,KAAAA,cAAA,aACEA,KAAAA,cAAA,UACEA,KAAAA,cAAA,UAAI,aACJA,KAAAA,cAAA,UAAI,SACJA,KAAAA,cAAA,UAAI,mBAGRA,KAAAA,cAAA,aACGg2E,EAAUn+K,OAAS,EAClBmoG,KAAAA,cAAAA,KAAAA,SAAA,KACGg2E,EAAUh9K,KAAI,SAACm9K,GACd,IACEC,EAIED,EAJFC,GACA7pK,EAGE4pK,EAHF5pK,KACAsnF,EAEEsiF,EAFFtiF,MACAwiF,EACEF,EADFE,WAEF,OACEr2E,KAAAA,cAAA,MAAI1kG,IAAK86K,GACPp2E,KAAAA,cAAA,UAAKzzF,GACLyzF,KAAAA,cAAA,UAAKnM,GACLmM,KAAAA,cAAA,UAAKq2E,GAGX,KAGFr2E,KAAAA,cAAA,UACEA,KAAAA,cAAA,MAAIitE,QAAS,GAAG,+BArE5BjtE,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAA,WACEA,KAAAA,cAACI,GAAAA,EAAqBm/D,GAAgBmW,oBAExC11E,KAAAA,cAAA,WACEA,KAAAA,cAACwD,GAAM,CAACnB,MAAI,EAACnC,QAAStoG,KAAK0+K,uBAAuBl/J,KAAKxf,OACrDooG,KAAAA,cAACI,GAAAA,EAAqBm/D,GAAgBoW,wBA0EtD,KAAC1sF,CAAA,CApMyC,CACT+W,KAAAA,aAAeQ,KAAAA,GAsMlD,UAAegF,EAAAA,GAAAA,IAAWvc,IEhM1B,IACE7B,mBAAAA,GACAmvF,WAAAA,GACAC,WAAAA,GACAzvF,WAAAA,GACA0vE,cAAAA,GACAwF,0BAAAA,GACA5zE,iBAAAA,GACApB,aAAAA,GACAC,cAAAA,GACAG,iBAAAA,GACAF,QAAAA,GACAG,iBAAAA,GAEAC,kBAAAA,GACAE,eAAAA,GACAC,aAAAA,GACAC,iBAAAA,GACAC,WAAAA,GACAC,eAAAA,GACAC,mBAAAA,GACAE,sBAAAA,GAEAG,mBAAAA,GACAC,YAAAA,GAEAE,qBAAAA,GACAC,eAAAA,GAEAC,mBAAAA,GAEAE,oBAAAA,GAEAD,YAAAA,GAEAE,mBAAAA,GACAC,qBAAAA,GAEAC,qBAAAA,GACAC,kBAAAA,GACAC,0BAAAA,GACAC,uBAAAA,GACAf,kBAAAA,GACAC,sBAAAA,GAEAe,qBAAAA,I,UCnFwC,IAMrBwtF,IAJpB3jH,EAAAA,EAAAA,IAAQ,CACP3lC,OAAQ,UAEkCozE,CAAAC,GAA3CuB,KCZD,CAAgB,eAAiB,2BAA2B,wBAA0B,6BDYlE,CAAED,eAAe,GAAO+iC,EAAA79B,GAAA,SAAA/D,IAAA3wF,EAAAA,GAAAA,GAAAmkK,EAAAxzE,GAAA,I,IAAA1wF,G,EAAAkkK,E,maAAA,SAAAA,IAAA,IAAAlyK,GAAAP,EAAAA,GAAAA,GAAA,KAAAyyK,GAAA,QAAAj/J,EAAA7e,UAAAd,OAAAqsE,EAAA,IAAAlsE,MAAAwf,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAwsD,EAAAxsD,GAAA/e,UAAA+e,GASzC,OATyCnT,EAAAgO,EAAAtZ,KAAA0e,MAAApF,EAAA,OAAAjY,OAAA4pE,KAAAnzD,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,QAOlC,CACNmyK,UAAW,IACZnyK,CAAA,CAyDA,OAzDAN,EAAAA,GAAAA,GAAAwyK,EAAA,EAAAn7K,IAAA,4BAAA6C,MAED,SAAAgG,GAAsC,IEpBhCwyK,EFoBsBxpJ,EAAMhpB,EAANgpB,OAClBupJ,EAAc9+K,KAAKsjB,MAAnBw7J,UAEFE,GEvBFD,EAAgD,gBAA/BthI,SAASwhI,YAAc,SACKj+K,IAAvByqB,OAAOyzJ,YAI1B,CACLz5K,EAAGgmB,OAAOyzJ,YACVC,EAAG1zJ,OAAO2zJ,aAIP,CACL35K,EAAGs5K,EAAethI,SAAS26F,gBAAgBinC,WAAa5hI,SAAS/e,KAAK2gJ,WACtEF,EAAGJ,EAAethI,SAAS26F,gBAAgBC,UAAY56F,SAAS/e,KAAK25G,YFUjC8mC,EAIhCjuK,OAAOtL,KAAK2vB,GAAQt1B,OAClB++K,EAAc,GAChBh/K,KAAK0qD,SAAS,CACZo0H,UAAWE,IAKXF,EAAY,IACdrzJ,OAAO0sI,SAAS,EAAG2mB,GAEnB9+K,KAAK0qD,SAAS,CACZo0H,UAAW,IAInB,GAAC,CAAAp7K,IAAA,SAAA6C,MAED,WACE,IAAAijG,EAA2CxpG,KAAK0gB,MAAxC6U,EAAMi0E,EAANj0E,OAAQC,EAAOg0E,EAAPh0E,QAASu0H,EAAavgD,EAAbugD,cAEnBu1B,EAAapuK,OAAOtL,KAAK2vB,GACzBgqJ,EAAgBruK,OAAOpL,OAAOyvB,GAEjCn0B,KAAI,SAAArB,GAAC,OAAIA,EAAE4oB,MAAM,IACjB3gB,QAAO,SAACq0B,EAAKt8B,GAAC,OAAKs8B,EAAMt8B,EAAIA,EAAIs8B,CAAG,GAAE,GAGzC,OAFuB/hB,QAAQglK,EAAWr/K,SAGxCmoG,KAAAA,cAAA,OAAKC,UAAS,GAAA3lG,OAAMqnJ,EAAmC,0BAAnB,mBAEhCu1B,EAAWl+K,KAAI,SAACsC,EAAK6D,GACnB,IAAAi4K,EAAoCjqJ,EAAO7xB,GAAnCiR,EAAI6qK,EAAJ7qK,KAAI8qK,EAAAD,EAAEv4K,KAAAA,OAAI,IAAAw4K,EAAG,CAAC,EAACA,EAAE92J,EAAM62J,EAAN72J,OAEzB,OAAIA,IAAW42J,EACNn3E,KAAAA,cAAoBs3E,GAAO/qK,GAAO,CACvCjR,IAAK6D,EACLoN,KAAAA,EACA1N,KAAAA,EACAuuB,QAAAA,EACAuoB,MAAO,CAAEp1B,OAAAA,KAGN,IACT,IAIR,KAACk2J,CAAA,CAlEyC,CACArzE,GAAAA,YAASryF,EAAAA,EAAAA,GAAAi2F,GAAA,YAEhC,CACjB75E,OAAQu2E,KAAAA,SAJgClD,GAKzCwG,MAAAxG,KAAAA,GGjBH,UAAgB,aAAe,4B,uCCuE/B,UAAe1tC,EAAAA,EAAAA,KAAQ,SAAAxtD,GAAuC,MAAU,CACtE6nB,OAD8B7nB,EAAN6nB,OAExBw0H,cAF4Dr8I,EAA5BwoB,GAAM/B,uBAGvC,GAHD,EAIEulH,EAAAA,EAAAA,IAEEvvC,MAnE2B,SAAH59F,GAAgD,IAA1CJ,EAAQI,EAARJ,SAAUqpB,EAAOjpB,EAAPipB,QAASD,EAAMhpB,EAANgpB,OAC7CoqJ,IAD6Dl3J,EAAAA,EAAAA,GAAAlc,EAAAg8B,IAC1Cr3B,OAAOtL,KAAK2vB,GAAQt1B,QAEvC2/K,EAAS1uK,OAAOpL,OAAOyvB,GAAQvtB,QAEnC,SAACq0B,EAAKt8B,GAAC,OAAMs8B,EAAMt8B,EAAE4oB,OAAS0T,EAAMt8B,EAAE4oB,MAAM,IAC3C,GAOCk3J,GALe3uK,OAAOtL,KAAK2vB,GAE7BrkB,OAAOpL,OAAOyvB,GAAQ0sI,WAAU,SAACliK,GAAC,OAAKA,EAAE4oB,SAAWi3J,CAAM,MAGlC,GACpBt0E,EAAc,SAAdA,EAAergG,GACnB,IAAK40K,GAAuBF,EAC1B,OAAQE,GAAsB,EAKwB,OAApD50K,EAAEg/F,OAAO61E,QAAQ,gCAC6B,OAA9C70K,EAAEg/F,OAAO61E,QAAQ,0BAEnBriI,SAAS/e,KAAK8yH,SAASvmJ,EAAEg/F,SACzB41E,IAEAA,GAAsB,EACtBp0J,OAAOwvE,oBAAoB,QAASqQ,GACpCltF,YAAW,WACT,GACC,GAEP,EAYA,OAVAgqF,KAAAA,WAAgB,WAKd,OAJIu3E,IACFl0J,OAAOwvE,oBAAoB,QAASqQ,GACpC7/E,OAAOuvE,iBAAiB,QAASsQ,IAE5B,WACL7/E,OAAOwvE,oBAAoB,QAASqQ,EACtC,CACF,IAGElD,KAAAA,cAAA,OACEgC,UAAWe,MAAEhyF,EAAAA,EAAAA,GAAC,CACZ4mK,4BAA4B,GAC3B57H,GAAAA,aAAsBw7H,KAGxBA,EACCv3E,KAAAA,cAACy2E,GAAc,CAAC90B,eAAa,EAACv0H,QAASA,IAEvCrpB,EAIR,GAQuCg4C,GAAQ,CAAE+lD,eAAe,MC7EhE,IAAgB,eAAiB,2BAA2B,UAAY,2BAA2B,QAAU,4B,aCU5GC,KAAWhmD,GAAQ,CAAE+lD,eAAe,GAAOvB,EAAAyG,GAAA,SAAA/D,IAAA3wF,EAAAA,GAAAA,GAAAslK,EAAA30E,GAAA,I,IAAA1wF,G,EAAAqlK,E,maAAA,SAAAA,IAAA,IAAArzK,GAAAP,EAAAA,GAAAA,GAAA,KAAA4zK,GAAA,QAAApgK,EAAA7e,UAAAd,OAAAqsE,EAAA,IAAAlsE,MAAAwf,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAwsD,EAAAxsD,GAAA/e,UAAA+e,GAwBzC,OAxByCnT,EAAAgO,EAAAtZ,KAAA0e,MAAApF,EAAA,OAAAjY,OAAA4pE,KAAAnzD,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAU5B,SAAC+yD,GACTA,GACFthD,YAAW,WACTshD,EAAGkvF,UAAU5lJ,IAAIm7C,GAAAA,QACnB,GAAG,EAEP,KAAChrC,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,SAEO,WACN,IAAA68F,EAAkC78F,EAAK+T,MAA/BwqI,EAAY1hD,EAAZ0hD,aAAcxnD,EAAO8F,EAAP9F,QAEjBwnD,GACHxnD,GAEJ,IAAC/2F,CAAA,CAyBA,OAzBAN,EAAAA,GAAAA,GAAA2zK,EAAA,EAAAt8K,IAAA,SAAA6C,MAED,WACE,IAAAmlG,EAAgC1rG,KAAK0gB,MAA7BvU,EAAQu/F,EAARv/F,SAAUk+F,EAASqB,EAATrB,UAGZ41E,EAA0B90E,KAAG,iBAAkB,CACnD,UAAad,IAGf,OAEEjC,KAAAA,cAACyjD,GAAO,KAGNzjD,KAAAA,cAAC8jD,GAAM,CAAC1B,YAAU,GAChBpiD,KAAAA,cAAA,OACEC,UAAW43E,EACXnsC,IAAK9zI,KAAKkgL,aAET/zK,IAKX,KAAC6zK,CAAA,CAjDyC,CACAx0E,GAAAA,YAASryF,EAAAA,EAAAA,GAAAi2F,GAAA,YAEhC,CACjBjjG,SAAU2/F,KAAAA,IAAAA,WACVzB,UAAWyB,KAAAA,KACXo/C,aAAcp/C,KAAAA,KACdpI,QAASoI,KAAAA,KAAAA,aACVsD,KCZyE,IAGvD+wE,GADpBh2E,KCRD,CAAgB,YAAY,2BAA2B,OAAS,2BAA2B,cAAgB,2BAA2B,MAAQ,2BAA2B,UAAY,2BAA2B,YAAc,2BAA2B,WAAa,2BAA2B,iBAAmB,2BAA2B,QAAU,4BDQrU,CAAED,eAAe,GAAOvB,EAAAyG,GAAA,SAAA/D,IAAA3wF,EAAAA,GAAAA,GAAAylK,EAAA90E,GAAA,I,IAAA1wF,G,EAAAwlK,E,maAAA,SAAAA,IAAA,OAAA/zK,EAAAA,GAAAA,GAAA,KAAA+zK,GAAAxlK,EAAAoF,MAAA,KAAAhf,UAAA,CAwCzC,OAxCyCsL,EAAAA,GAAAA,GAAA8zK,EAAA,EAAAz8K,IAAA,SAAA6C,MAc1C,WACE,IAAAijG,EAIIxpG,KAAK0gB,MAHP1S,EAAKw7F,EAALx7F,MACA7B,EAAQq9F,EAARr9F,SACAu3F,EAAO8F,EAAP9F,QAIF,OACE0E,KAAAA,cAAA,OAAKC,UAAU,aACbD,KAAAA,cAAA,OAAKC,UAAU,UAGbD,KAAAA,cAACohD,GAAc,CAACnhD,UAAU,iBACxBD,KAAAA,cAAA,OAAKC,UAAU,SAASr6F,GAExBo6F,KAAAA,cAACi+C,GAAS,CAACp8I,GAAG,mBAAmBo+F,UAAU,cAAcC,QAAS5E,MAGtE0E,KAAAA,cAAA,OAAKC,UAAU,oBACbD,KAAAA,cAAA,OAAKC,UAAU,WACZl8F,IAKX,KAACg0K,CAAA,CAxCyC,CACN30E,GAAAA,YAASryF,EAAAA,EAAAA,GAAAi2F,GAAA,YAC1B,CACjBjjG,SAAU2/F,KAAAA,KACV99F,MAAO89F,KAAAA,IACPpI,QAASoI,KAAAA,KACToH,UAAWpH,KAAAA,KACXs0E,SAAUt0E,KAAAA,QACX3yF,EAAAA,EAAAA,GAAAi2F,GAAA,eAEqB,CACpBgxE,UAAU,IAX8Bx3E,GAYzCwG,MAAAxG,GE+CH,SAAeuB,IAAf,EAtDwB,SAACzpF,GAA0B,IAAAu6H,EAAAqO,EACzCn9I,EAAmBuU,EAAnBvU,SAAUg7D,EAASzmD,EAATymD,KAEZk5G,EAAaj4E,KAAAA,OAAa,MAE5Bk4E,EAAa,EAOjB,MALa,YAATn5G,GAAuB7O,EAAAA,KACzBgoH,EAAa,GAEF,aAATn5G,IAAqBm5G,EAAa,GAGpCl4E,KAAAA,cAAA,WAASgC,UAAU,8BAChB3+E,OAAO80J,aAAen4E,KAAAA,cAAA,OAAKgC,UAAU,YAAYgC,IAAK3gF,OAAO80J,YAAaj0E,IAAI,SAC/ElE,KAAAA,cAAA,WACEC,UAAS,UAAA3lG,OAAY+oB,OAAO80J,YAAc,eAAiB,KAE3Dn4E,KAAAA,cAAA,OAAKgC,UAAU,iBAAiB/B,UAAU,gBAAgByrC,IAAKusC,GAC7Dj4E,KAAAA,cAAA,OAAKC,UAAU,iBACZ3nF,EAAM8/J,YAEPp4E,KAAAA,cAAA,OACEgC,UAAWe,MAAE8vC,EAAA,IAAA9hI,EAAAA,EAAAA,GAAA8hI,EACV92F,GAAAA,0BAAkC,IAAIhrC,EAAAA,EAAAA,GAAA8hI,EACtC92F,GAAAA,YAAoB,GAAI82F,KAG3B7yC,KAAAA,cAACq4E,GAAG,QAGRr4E,KAAAA,cAAA,OACEC,UAAW8C,KAAG,CACZu1E,kBAAkC,IAAfJ,EACnBK,SAAyB,IAAfL,GAAmC,IAAfA,EAC9B1qG,QAAQ,KAGVwyB,KAAAA,cAACw4E,GAAsB,KAAEz0K,IAE3Bi8F,KAAAA,cAAA,OACEgC,UAAWe,MAAEm+C,EAAA,IAAAnwI,EAAAA,EAAAA,GAAAmwI,EACVnlG,GAAAA,yBAAiC,IAAIhrC,EAAAA,EAAAA,GAAAmwI,EACrCnlG,GAAAA,YAAoB,GAAImlG,KAG3BlhD,KAAAA,cAACq4E,GAAG,SAMhB,GAE2Ct8H,GAAQ,CAAE+lD,eAAe,ICnEpE,IAAgB,OAAS,2BAA2B,IAAM,4BAA4B,YAAc,2BAA2B,KAAO,2BAA2B,WAAa,2BAA2B,kBAAoB,4BAA4B,gBAAkB,2BAA2B,YAAc,4BAA4B,kBAAoB,2BAA2B,eAAiB,2BAA2B,iBAAmB,2BAA2B,iBAAmB,2BAA2B,aAAe,2BAA2B,yBAA2B,2BAA2B,kBAAoB,2BAA2B,gBAAkB,2BAA2B,sBAAwB,4BAA4B,UAAY,2BAA2B,OAAS,2BAA2B,YAAc,2BAA2B,sBAAwB,2BAA2B,cAAgB,2BAA2B,oBAAsB,4BCD/9B,GAAe,IAA0B,2BCAzC,GAAe,IAA0B,4BC0KzC,GAAe1C,IAAf,EA3JoB,SAAHj7F,GAed,IAdDif,EAAUjf,EAAVif,WACAG,EAAcpf,EAAdof,eACA2wI,EAAW/vJ,EAAX+vJ,YACAukB,EAAet0K,EAAfs0K,gBACAC,EAAav0K,EAAbu0K,cACAC,EAAcx0K,EAAdw0K,eACAp3J,EAAQpd,EAARod,SAAQq3J,EAAAz0K,EACR00K,aAAAA,OAAY,IAAAD,GAAQA,EAAAE,EAAA30K,EACpB40K,cAAAA,OAAa,IAAAD,EAAG,WAAO,EAACA,EAAAE,EAAA70K,EACxB8e,WAAAA,OAAU,IAAA+1J,GAAQA,EAAAC,EAAA90K,EAClB+0K,YAAAA,OAAW,IAAAD,GAAOA,EAClBzsK,EAAIrI,EAAJqI,KAAI2sK,EAAAh1K,EACJi1K,aAAAA,OAAY,IAAAD,GAAQA,EAAAE,EAAAl1K,EACpBsf,qBAAAA,OAAoB,IAAA41J,EAAG,GAAEA,EAEzBh6E,GAA8CC,EAAAA,GAAAA,UAAS/7E,GAAeg8E,GAAAvyC,EAAAA,GAAAA,GAAAqyC,EAAA,GAA/Ds5C,EAAgBp5C,EAAA,GAAE75E,EAAiB65E,EAAA,GACpC52C,EAAgBziC,IAAUA,GAAAA,UAEhC25E,EAAAA,GAAAA,YAAU,WACK,WAATrzF,GAAqB+W,IAAmBH,EAAWzjB,cACrD+lB,EAAkB,OAElBA,EAAkBnC,EAEtB,GAAG,CAACA,IAEJ,IAAMiqD,EAASpqD,EAAaA,EAAWzjB,cAAgB,MAOvD,OAAQ4hB,GACN,IAAK,iBACL,IAAK,sBACHA,EAAW,MAIf,IAAMy9I,EAAsB,SAACz9I,GAC3BmE,EAAkBnE,GAClB8uB,GAAAA,KAAAA,mBAAgC9uB,EAClC,EAMM+3J,IAAqBpzJ,GAAAA,KAAAA,GAAAA,uBAAwCtW,GAAS2F,gBAAmB2Q,GAAAA,KAAAA,GAAAA,uBAEzFqzJ,GAAsBd,GAAmBa,EAE/C,OACEt5E,MAAA1qD,cAAA,OACE2qD,UAAS,GAAA3lG,OACJquD,IAAkBziC,GAAAA,YAAqB,0BAA4B,gBAGxE85E,MAAA1qD,cAAA,OAAK2qD,UAAU,iBAAiB+B,UAAU,2BACxChC,MAAA1qD,cAAA,KAAG2qD,UAAU,oBACVm5E,EACGp5E,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,oBAAoB+4F,eAAe,YACxDoF,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,mBAAmB+4F,eAAe,sBAE7DoF,MAAA1qD,cAAA,OAAK2qD,UAAU,oBACZh9E,GACC+8E,MAAA1qD,cAAA,OAAK2qD,UAAU,gBACbD,MAAA1qD,cAACqvD,GAAY,OAGhBg0C,IAAqBnrE,EAEpBwyB,MAAA1qD,cAAA,UACmB,QAAflyB,GAAuC,QAAfA,IAAyB48E,MAAA1qD,cAAA,OAAK0uD,IAAKw1E,GAAQt1E,IAAI,WAGtEhmF,MAAMg2I,GAAoF,GAArE,IAAIj/H,GAAAA,EAAUi/H,GAAalsH,GAAG,EAAG/S,GAAAA,EAAAA,aAAuB78B,YAIlF4nG,MAAA1qD,cAAA,KAAG0sD,UAAU,wBACiB,QAA3BzgF,EAAS9M,cAA0BurF,MAAA1qD,cAAA,OAAK0uD,IAAK72F,GAAK+2F,IAAI,QAAW,GACjE,IAAIjvE,GAAAA,EAAUwjJ,GAAiBzwI,GAAG,EAAG/S,GAAAA,EAAAA,aAAuB78B,aAInE4nG,MAAA1qD,cAAA,OAAK2qD,UAAU,yBACbD,MAAA1qD,cAAA,UACE9oC,KAAK,SACLyzF,UAAW04C,IAAqBnrE,EAAS,cAAW50E,EACpDsnG,QAAS,kBAAM8+D,EAAoBxxF,EAAO,GAEzCA,GAEHwyB,MAAA1qD,cAAA,QAAM2qD,UAAU,cAChBD,MAAA1qD,cAAA,UACE9oC,KAAK,SACLyzF,UAAW04C,IAAqBp3H,EAAW,cAAW3oB,EACtDsnG,QAAS,kBAAM8+D,EAAoBz9I,EAAS,GAE3Cs3J,GAAgBt3J,KAItBkC,EAAuB,GACtBu8E,MAAA1qD,cAAA,OAAK4qD,QA7DgB,WACzB7vD,GAAAA,WAAAA,gBACF,GA4DQ2vD,MAAA1qD,cAAA,KAAG2qD,UAAU,qBACXD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,gCACH+4F,eAAe,8CACfl9F,OAAQ,CACNrC,MAAOooB,OAMjBu8E,MAAA1qD,cAAA,OACE0sD,UAAWe,MAAEhyF,EAAAA,EAAAA,GAAC,CAAC,EACZgrC,GAAAA,0BAAkC,KAGrCikD,MAAA1qD,cAAA,OAAK2qD,UAAU,qBACZi5E,EACCl5E,MAAA1qD,cAAA,OAAK2qD,UAAU,OAAO+B,UAAU,6BAC9BhC,MAAA1qD,cAACkuD,GAAM,CAACnB,MAAI,EAAC9K,SAAU+hF,EAAiBz3K,GAAG,aAAaq+F,QAAS,kBAAMw4E,EAAc,UAAU,GAC7F14E,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,0BAA0B+4F,eAAe,eAEhEoF,MAAA1qD,cAACkuD,GAAM,CAACnB,MAAI,EAAC9K,SAAUgiF,EAAoB13K,GAAK03K,EAAiC,GAAZ,UAAgBr5E,QAAS,kBAAMy4E,EAAe,OAAO,GACxH34E,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,uBAAuB+4F,eAAe,gBAI/DoF,MAAA1qD,cAACkuD,GAAM,CAACnB,MAAI,EAAC9K,UAAWkhF,EAAiBx4E,UAAU,kBAAkBC,QAAS64E,GAC5E/4E,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,iBAAiB+4F,eAAe,iBAiBnE,GAEuC7+C,GAAQ,CAAE+lD,eAAe,I,gBC1KhE,SAAe,IAA0B,6BCCzC,IAAgB,YAAc,2BAA2B,gBAAkB,2BAA2B,mBAAqB,2BAA2B,iBAAmB,2BAA2B,eAAiB,4BAA4B,gBAAkB,6BC+DnQ,IAAewvC,EAAAA,EAAAA,IAAWlyC,MA/CN,SAAC9mF,GAUfA,EARF0pF,UADF,IAEEl4E,EAOExR,EAPFwR,KACAwN,EAMEhf,EANFgf,KACAmiJ,EAKEnhK,EALFmhK,QACAC,EAIEphK,EAJFohK,WACArrI,EAGE/1B,EAHF+1B,KACAsrI,EAEErhK,EAFFqhK,aACAvsJ,EACE9U,EADF8U,QAkBIwsJ,EAAkB,CAAEF,WAAY,IAAFp/K,OAAMo/K,IACpCG,EAAqB,CAAEC,gBAAiB,OAAFx/K,OAASo/K,EAAU,MACzD/jI,EAAQ+jI,GAAcA,EAAW7hL,OAAS,EAAI+hL,EAAkBC,EAEtE,OACE75E,KAAAA,cAAA,OAAKC,UAAU,cAActqD,MAAOA,EAAOuqD,QApBzB,WAClBu5E,GAAWA,IAEPprI,GAAQA,EAAKp8B,SAAS,QACxBoR,OAAOsrB,SAASu7D,KAAO77D,EAEnBA,GACFjhB,EAAQt1B,KAAKu2C,GAIjB,IAAMgqD,EAAashF,GAAgBriJ,EACnCijB,GAAAA,OAAAA,cAA8B89C,EAChC,GAQKqhF,GAAcA,EAAW7hL,OAAS,EAAImoG,KAAAA,cAAA,OAAKC,UAAU,uBAA0B,GAChFD,KAAAA,cAAA,WACEA,KAAAA,cAAA,OAAKC,UAAU,mBACbD,KAAAA,cAAA,OAAKgE,IAAKl6E,EAAMo6E,IAAI,MAEtBlE,KAAAA,cAAA,OAAKC,UAAU,oBACbD,KAAAA,cAAA,YAAO1oE,KAKjB,GAGkDykB,GAAQ,CAAE+lD,eAAe,K,aC7C3E,IAAM1wE,KAAyBlL,UAAY,QAAN8pB,GAAN9pB,GAAAA,YAAY,IAAA8pB,IAAI,QAAJC,GAAZD,GAAcliB,UAAE,IAAAmiB,KAAhBA,GAAkB7e,uBAgB3C2oJ,IADLjnH,EAAAA,EAAAA,KAAQ,SAAA3uD,GAAO,MAAQ,CAAEopB,KAAVppB,EAAJopB,KAAoB,GAAEgzE,CAAAC,GAAA,SAAAC,IAAAnuF,EAAAA,GAAAA,GAAAynK,EAAAt5E,GAAA,I,IAAAluF,G,EAAAwnK,E,maAIhC,SAAAA,EAAYzhK,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAA+1K,GACjBx1K,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,YAHH,IAAKwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAuBF,WACQ,IAAIy1K,GAAAA,GAAO,kBAAmB,CAChDC,aAAc,GACdC,cAAe,EAIfC,YAAa,CACX,IAAK,CACHD,cAAe,GAGjB,IAAK,CACHA,cAAe,EACfD,aAAc,MAItB,KAAClpK,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAEmB,SAAC61K,GACnB,IAAAh5E,EAII78F,EAAK+T,MAHPiV,EAAI6zE,EAAJ7zE,KAKE6gB,EAHwBgzD,EAA1BnG,KAAQ7sD,OAKLA,IAAQA,EAAS,MAEtB,IAAMisI,EAAa,8BAgBnB,OAbgBD,EACbphL,KAAI,SAACs+D,GACJ,IAAIgjH,EAAYhjH,EAAG,GACnB,GAAIgjH,EAAUroK,SAASooK,GAAa,CAClCC,EAAYA,EAAU/hL,QAAQ8hL,EANjB,oCAOb,IAAME,GAASv5J,EAAAA,EAAAA,GAAOs2C,GAGtB,OAFAijH,EAAUxoK,OAAO,EAAG,EAAG+9B,GAAW,CAAEviB,KAAAA,EAAM6gB,OAAAA,EAAQzU,IAAK2gJ,KAEhDC,CACT,CACA,OAAOjjH,CACT,IACCtwD,QAAO,SAACswD,GAAE,OAAKA,GAAMA,EAAGz/D,MAAM,GAEnC,KAACkZ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,cAEY,WACX,GACE8e,aAC6BzqB,IAA7ByqB,OAAOm3J,kBACP,CAEA,IAAMC,EAAgBp3J,OAAOm3J,kBAAkB3iL,OAASwrB,OAAOm3J,kBAAoB,GAEnF,IAAKj2K,EAAKkqG,SAAU,OAEpBlqG,EAAK+9C,UACH,iBAAO,CACLouF,QAASnsI,EAAKm2K,kBAAkBD,GAAezzK,QAAO,SAACswD,GAAE,OAAKA,GAAMA,EAAGz/D,MAAM,IAC7EorB,YAAY,EACb,IACD,kBAAM1e,EAAKo2K,aAAa,GAE5B,MACE,IACE,IAAMxpJ,EAAgBjL,GAAAA,KAAAA,GAAAA,cACtB,OAAOsjE,KAAAA,IACAr4D,GACJwH,MAAK,SAAArzB,GAAc,IAAXzG,EAAIyG,EAAJzG,KACD6xI,EAAUnsI,EAAKm2K,kBAAkB77K,GAAMmI,QAAO,SAACswD,GAAE,OAAKA,GAAMA,EAAGz/D,MAAM,IAEtE0M,EAAKkqG,UAEVlqG,EAAK+9C,UACH,iBAAO,CACLouF,QAAAA,EACAztH,YAAY,EACb,IACD,kBAAM1e,EAAKo2K,aAAa,GAE5B,IAAE,OACK,SAAC53K,GACNyO,QAAQzO,MAAM,cAAeA,EAC/B,GACJ,CAAE,MAAOA,GACPyO,QAAQzO,MAAMA,EAChB,CAEF,OAAO,IACT,KAACgO,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAEgB,WACf8rC,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,cACtB,KAAC3B,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAEgB,WACf8rC,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,YACtB,KAAC3B,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAEoB,WAEnB8rC,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,uBAAyC,CAC3D4oF,QAAS,WACP,IACMouE,EAA+B,MADpBz4J,aAAaE,QAAQuB,GAAAA,gBAAAA,aAEtCnO,EAAK+9C,SAAS,CACZonH,gBAAAA,GAEJ,GAEJ,KAAC34J,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,yBACuB,WACtB8rC,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,qBACtB,KAAC3B,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,6BAE2B,WAC1B8rC,GAAAA,WAAAA,gBACF,IA3IE,IACMq5H,EAA+B,MADpBz4J,aAAaE,QAAQuB,GAAAA,gBAAAA,aAMrC,OAJDnO,EAAK2W,MAAQ,CACXwuJ,gBAAAA,EACAzmJ,YAAY,EACZgyC,mBAAmB,GACpB1wD,CACH,CA6NC,OA7NAN,EAAAA,GAAAA,GAAA81K,EAAA,EAAAz+K,IAAA,oBAAA6C,MAED,WACEvG,KAAK62G,UAAW,EAChB72G,KAAKgjL,YACP,GAAC,CAAAt/K,IAAA,uBAAA6C,MAED,WACEvG,KAAK62G,UAAW,CAClB,GAAC,CAAAnzG,IAAA,SAAA6C,MA6HD,WACE,IAAAwlD,EAAqC/rD,KAAKsjB,MAAlCwuJ,EAAe/lH,EAAf+lH,gBAAiBh5B,EAAO/sF,EAAP+sF,QACjBjtH,EAAyB7rB,KAAK0gB,MAA9BmL,qBAEFo3J,EAAqB5pK,aAAaE,QAAQuB,GAAAA,aAAAA,kBAE1CooK,EACJ96E,GAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,+BACH+4F,eAAe,gEACfl9F,OAAQ,CACNrC,MAAOooB,KAKb,OAAOJ,OAAOsrB,SAAS7hB,OAASiuJ,GAAAA,SAAwB,KACtD/6E,GAAAA,cAAA,OAAKgC,UAAU,oBACbhC,GAAAA,cAAA,MAAIgC,UAAS,GAAA1nG,OAAKyhD,GAAAA,iBAChBikD,GAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,SAAS+4F,eAAe,YAC7CoF,GAAAA,cAAA,UAAQrqD,MAAO,CAACC,QAAS,QAASsqD,QAAStoG,KAAKojL,uBAAuB,SAEvEpjL,KAAKsjB,MAAM+H,WAIX+8E,GAAAA,cAAA,OACEn+F,GAAG,iBACHmgG,UAAS,UAAA1nG,OAAYyhD,GAAAA,iBACrBpG,MAAO,CAAEslI,UAAW,OAAQ5f,aAAc,OAAQ1S,SAAU,WAE5D3oD,GAAAA,cAAA,OAAKgC,UAAU,kBACZ97E,GAAAA,KAAAA,QAAAA,iBACC85E,GAAAA,cAAA,OAAKgC,UAAU,gBACbhC,GAAAA,cAACk7E,GAAW,CACVl5E,UAAU,sBACV03E,WAAW,SACXpiJ,KAAI,mBACJqiJ,aAAY,aACZF,QAAS7hL,KAAKojL,yBAInBv3J,EAAuB,GACtBu8E,GAAAA,cAAA,OAAKgC,UAAU,gBACbhC,GAAAA,cAACk7E,GAAW,CACVl5E,UAAU,sBACV03E,WAAW,SACXpiJ,KAAMwjJ,EACNnB,aAAY,eACZF,QAAS7hL,KAAKujL,8BAIlBN,IAAuBnR,IAAoBt4I,IAC3C4uE,GAAAA,cAAA,OAAKgC,UAAU,gBACbhC,GAAAA,cAACk7E,GAAW,CACVl5E,UAAU,sBACVl4E,KAAMsxJ,GACN9jJ,KACE0oE,GAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,sBACH+4F,eAAe,8BAGnB++E,aAAY,gBACZF,QAAS/P,EAAkB9xK,KAAKyjL,eAAiBzjL,KAAK0jL,sBAI3D5qC,GACCA,EAAQ74I,OAAS,GACjB64I,EAAQ13I,KAAI,SAACuiL,EAAQp8K,GAAK,OACxB6gG,GAAAA,cAAA,OAAK1kG,IAAK6D,EAAO6iG,UAAU,gBACzBhC,GAAAA,cAACk7E,GAAW,CACVxB,WAAU,GAAAp/K,OAAKihL,EAAO,IACtBzxJ,KAAMyxJ,EAAO,GACbjkJ,KAAMikJ,EAAO,GACbltI,KAAMktI,EAAO,KAEX,MAxDdv7E,GAAAA,cAACyyC,GAAa,CAAC/B,SAAO,IA+D9B,KAACqpC,CAAA,CA3O+B,CACP/5E,GAAAA,aAAeQ,GA6O1C,UAAegF,EAAAA,GAAAA,IAAWu0E,IC/Q1B,IAAgB,cAAgB,4BAA4B,QAAU,2BAA2B,cAAgB,2BAA2B,QAAU,2BAA2B,OAAS,2BAA2B,cAAgB,4BAA4B,iBAAmB,2BAA2B,KAAO,2BAA2B,eAAiB,2BAA2B,oBAAsB,2BAA2B,gBAAkB,4BAA4B,iBAAmB,2BAA2B,2BAA6B,2BAA2B,2BAA6B,2BAA2B,aAAe,2BAA2B,iBAAmB,4BAA4B,YAAc,2BAA2B,iBAAmB,2BAA2B,aAAe,2BAA2B,gBAAkB,2BAA2B,mBAAqB,4BAA4B,gBAAkB,2BAA2B,OAAS,4B,slBC6Cx+B,IAAMta,IAAa9kE,EAAAA,GAAAA,IAAe,CAChCj2E,mBAAoB,CAClB7iB,GAAI,eACJ+4F,eAAgB,uBAElB4gF,eAAgB,CACd35K,GAAI,iCACJ+4F,eAAgB,kCA2BdixC,IAAGtrC,IAtBRztC,EAAAA,EAAAA,KACC,SAAA3uD,GAAA,IAAAugI,EAAAvgI,EAEIopB,KACEnK,EAAUshH,EAAVthH,WAAUq4J,EAAA/2C,EACV9iH,QACEha,EAAO6zK,EAAP7zK,QACAW,EAAUkzK,EAAVlzK,WAEY,MAGd,CACJ6a,WAAAA,EACAI,eALkBkhH,EAAdlhH,eAMJk4J,cAAe,CACb9zK,QAAAA,EACAW,WAAAA,GAEH,IACFs8H,GACA9iC,KAAWhmD,GAAQ,CAAE+lD,eAAe,KAtBpCwvC,EAAAA,EAAAA,IAAU9wC,GAAAD,GAAAC,GAAAqkC,GAAArkC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAAu5H,EAAA5oC,GAAA,IAuCR8hC,E,IAvCQxyH,G,EAAAs5H,E,maAwBT,SAAAA,EAAYvzH,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAA6nI,GACjBtnI,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAiDQ,WACpB,IAAAo/C,EAIIp/C,EAAK2W,MAHPgI,EAAiBygC,EAAjBzgC,kBACAwqB,EAAOiW,EAAPjW,QACAqqH,EAAep0G,EAAfo0G,gBAEF4jB,EAKIp3K,EAAK+T,MAJPsjK,SACEjuI,EAAUguI,EAAVhuI,WACAp4B,EAAWomK,EAAXpmK,YAIJ,OAAI2N,EACK,KAGLyqB,IAAep4B,GACjBhR,EAAK+9C,SAAS,CACZp/B,mBAAmB,IAClB,WACDlN,YAAW,WACTzR,EAAK+9C,SAAS,CAACp/B,mBAAmB,GACpC,GAAG,IACL,IACO,WAGT3e,EAAK+9C,SAAS,CACZp/B,mBAAmB,IAClB,WAEDlN,YAAU4C,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAO,IAAA,IAAAyiK,EAAAt6J,EAAA3Z,EAAA,OAAAiR,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OAAA29K,EAGLt3K,EAAK+T,MADPsjK,SAAYr6J,EAAQs6J,EAARt6J,SAAU3Z,EAAOi0K,EAAPj0K,QAAOyR,EAAAgC,GAEvBkG,EAAQlI,EAAAnb,KACT,wBADSmb,EAAAgC,GACY,EAGrB,mBAHqBhC,EAAAgC,GAGL,EAGhB,wBAHgBhC,EAAAgC,GAGK,0BAAAhC,EAAAnb,KAAA,EALlBmyC,GAAAA,YAAAA,aAAgC,cAAAh3B,EAAAQ,OAAA,0BAAAR,EAAAnb,KAAA,EAGhCmyC,GAAAA,YAAAA,eAAmCzoC,GAAQ,cAAAyR,EAAAQ,OAAA,2BAAAR,EAAAnb,KAAA,GAG3CmyC,GAAAA,YAAAA,gBAAmC,eAAAh3B,EAAAQ,OAAA,wBAGrC8zB,GAAeD,IAAW99B,GAASwiC,qBAAoB,CAAA/4B,EAAAnb,KAAA,gBAAAmb,EAAAnb,KAAA,GACnD0R,GAASsiC,aAAY,QAAA74B,EAAAnb,KAAA,wBAAAmb,EAAAnb,KAAA,GAErBmyC,GAAQ0nH,GAAiB7lH,WAAW3wB,GAAS,QAIzDhd,EAAK+9C,UAAS,iBAAO,CACnBp/B,mBAAmB,EACpB,IAAE,yBAAA7J,EAAAJ,OAAA,GAAAG,EAAA,KACF,IACL,GACF,KAACrI,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAqBqB,WACpB,IACEq3K,EACEr3K,EAAK+T,MADPsjK,SAGFvrI,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,SAA2BkpK,EACjD,KAAC7qK,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAEgB,WACf,IAAA68F,EAII78F,EAAK+T,MAHPsjK,EAAQx6E,EAARw6E,SACAxuJ,EAAOg0E,EAAPh0E,QACA6tE,EAAImG,EAAJnG,KAGF,GAAwC,UAApC2gF,EAASr6J,SAAS5hB,cAKtB,GAAwC,SAApCi8K,EAASr6J,SAAS5hB,cAAtB,CAKA,IAAIi3J,EAAiBglB,EAASr6J,SAC9B,OAAQq6J,EAASr6J,SAAS5hB,eACxB,IAAK,iBACL,IAAK,sBACL,IAAK,sBACHi3J,EAAiB,MAIrB,IAAMC,EAAe+kB,EAASr3J,SAAW,UAAHjqB,OAAashL,EAASr3J,UAAQ,IAAAjqB,OAASs8J,GAE7ExpI,SAAAA,EAASt1B,KACP+uG,GAAa5L,aAAI,EAAJA,EAAM7sD,OAAQ,GAAF9zC,OAAKu8J,EAAY,KAAAv8J,OAAIshL,EAASh0K,QAAO,UAdhE,MAFErD,EAAKu3K,2BALLv3K,EAAKu3K,qBAuBT,KAAC/qK,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAEe,WACd,IAAAw3K,EAEIx3K,EAAK+T,MADPsjK,SAAYr6J,EAAQw6J,EAARx6J,SAAU3Z,EAAOm0K,EAAPn0K,QAASiF,EAAQkvK,EAARlvK,SAAU0X,EAAQw3J,EAARx3J,SAG3C8rB,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,aAA+B,CACjD6O,SAAWgD,GAAYhD,EACvB3Z,QAAAA,EACAiF,SAAAA,GAEJ,KAACkE,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,8BAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAE4B,SAAAC,IAAA,OAAAD,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OAC3BmyC,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,qBAAuC,CAAC,GAAE,wBAAAyG,EAAAF,OAAA,GAAAH,EAAA,OAC/D/H,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,+BAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAE6B,SAAAkB,IAAA,OAAAlB,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,OAC5BmyC,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,kBAAoC,CAAC,GAAE,wBAAAuH,EAAAhB,OAAA,GAAAc,EAAA,OAC5DhJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAEqB,WACpB,IAAAy3K,EAEIz3K,EAAK+T,MADPsjK,SAAYr6J,EAAQy6J,EAARz6J,SAAU3Z,EAAOo0K,EAAPp0K,QAGxByoC,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,mBAAqC,CACvD6O,SAAAA,EACA3Z,QAAAA,GAEJ,KAACmJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAEoB,WACnBA,EAAK+9C,SAAS,CACZwlH,gBAAgB,GAEpB,KAAC/2J,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,2BAEyB,WACxB,IAAA03K,EAEI13K,EAAK+T,MADPsjK,SAAYr6J,EAAQ06J,EAAR16J,SAAU3Z,EAAOq0K,EAAPr0K,QAAS2c,EAAQ03J,EAAR13J,SAGjC8rB,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,iBAAmC,CACrD6O,SAAAA,EACA3Z,QAAAA,EACA2c,SAAAA,GAEJ,KAACxT,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,yBAEuB,WACtB8rC,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,mBACtB,KAAC3B,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAEqB,WACpB,IAAA++F,EAYI/+F,EAAK+T,MAAK4jK,EAAA54E,EAXZs4E,SACEnnJ,EAAQynJ,EAARznJ,SACAjL,EAAK0yJ,EAAL1yJ,MACAuwC,EAAemiH,EAAfniH,gBACAr1C,EAAkBw3J,EAAlBx3J,mBACAnD,EAAQ26J,EAAR36J,SACAgD,EAAQ23J,EAAR33J,SACA3c,EAAOs0K,EAAPt0K,QACAyZ,EAAO66J,EAAP76J,QAEMiiF,EAARs4E,SAGFvrI,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,aAA+B,CACjD6O,UAAYgD,GAAuBhD,GAAU9M,cAC7C7M,QAAAA,EACAmyD,gBAAAA,EACAtlC,SAAAA,EACAjL,MAAAA,EACAnI,QAAAA,EACAqD,mBAAAA,GAEJ,KAAC3T,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAEc,WACb,IAAA2iI,EAGI3iI,EAAK+T,MAFP8U,EAAO85G,EAAP95G,QACA6tE,EAAIisC,EAAJjsC,KAEF7tE,SAAAA,EAASt1B,KAAK+uG,GAAa5L,aAAI,EAAJA,EAAM7sD,OAAQ,aAC3C,KAACr9B,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAEqB,WACpB,IAAAyjI,EAIIzjI,EAAK+T,MAHP8U,EAAO46G,EAAP56G,QACA6tE,EAAI+sC,EAAJ/sC,KACA2gF,EAAQ5zC,EAAR4zC,SAIEhlB,EAAiBglB,EAASr6J,SAC9B,OAAQq6J,EAASr6J,SAAS5hB,eACxB,IAAK,iBACL,IAAK,sBACL,IAAK,sBACHi3J,EAAiB,MAKrB,IAAMC,EAAe+kB,EAASr3J,SAAW,UAAHjqB,OAAashL,EAASr3J,UAAQ,IAAAjqB,OAASs8J,GAE7ExpI,SAAAA,EAASt1B,KACP+uG,GAAa5L,aAAI,EAAJA,EAAM7sD,OAAQ,GAAF9zC,OAAKu8J,EAAY,KAAAv8J,OAAIshL,EAASh0K,UAE3D,KAACmJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAEc,WACb,IAAA43K,EAEI53K,EAAK+T,MADPsjK,SAAYr6J,EAAQ46J,EAAR56J,SAAU3Z,EAAOu0K,EAAPv0K,QAASyZ,EAAO86J,EAAP96J,QAASqsB,EAAOyuI,EAAPzuI,QAASnpB,EAAQ43J,EAAR53J,SAG/ClD,EAAU,EACZgvB,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,WAA6B,CAC/Cs0B,QACEg5D,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,uCACH+4F,eAAe,gEAKrBvqD,GAAAA,KAAAA,iBAA8B,GAAD/1C,OAAIozC,EAAUnpB,EAAS9P,cAAgB8M,EAAQ,KAAAjnB,OAAIsN,IAChFyoC,GAAAA,cAAAA,KAA2B39B,GAAAA,cAAAA,QAAiC,CAC1Ds0B,QACEg5D,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,0BACH+4F,eAAe,oBAKzB,KAAC7pF,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,QAEM,WACL,IAAA63K,EAEI73K,EAAK+T,MADPsjK,SAAYh0K,EAAOw0K,EAAPx0K,QAAS4Z,EAAQ46J,EAAR56J,SAGvB6uB,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,mBAAqC,CACvD9K,QAAAA,EACA4Z,SAAAA,GAEJ,KAACzQ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAEgB,WACf,IAAAqoI,EAGIroI,EAAK+T,MAAK+jK,EAAAzvC,EAFZgvC,SAAYh0K,EAAOy0K,EAAPz0K,QAASW,EAAU8zK,EAAV9zK,WAAYiZ,EAAQ66J,EAAR76J,SACjCk6J,EAAa9uC,EAAb8uC,cAGFrrI,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,iBAAmC,CACrDpX,IAAKsM,KAAY8zK,aAAa,EAAbA,EAAe9zK,SAAU8zK,aAAa,EAAbA,EAAenzK,WAAaA,EACtEiZ,SAAAA,GAEJ,KAACzQ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAEoB,WACnB8rC,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,uBACtB,KAAC3B,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAEiB,WAChBqL,GAASykD,uBACX,IAhVE,IAAQ9yC,EAAuBjJ,EAAvBiJ,SAAUq6J,EAAatjK,EAAbsjK,SACZviI,EAAe93B,EAASA,SACxBmsB,EAAUgR,GAAUhR,QAAQ,CAAEnhC,KAAM8sC,IACpC0+G,EAAkB6jB,EAAS/uK,UAAYwsC,EAAa15C,cAQzD,OAND4E,EAAK2W,MAAQ,CACXgI,mBAAmB,EACnBo5J,gBAAgB,EAChBxU,gBAAgB,EAChBp6H,QAAAA,EACAqqH,gBAAAA,GACDxzJ,CACH,CAw2BC,OAx2BAN,EAAAA,GAAAA,GAAA4nI,EAAA,EAAAvwI,IAAA,oBAAA6C,OAAA4mI,GAAAnsH,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAa,IAAA,IAAA2H,EAAA,OAAAxI,IAAAA,MAAA,SAAAe,GAAA,cAAAA,EAAA/Z,KAAA+Z,EAAA1b,MAAA,OACUmjB,EAAYzpB,KAAK0gB,MAAMsjK,SAAvBv6J,QAERzpB,KAAK0qD,SAAS,CACZg6H,eAA4B,IAAZj7J,IAChB,wBAAAzH,EAAAX,OAAA,GAAAS,EAAA,UACH,kBAAAqrH,EAAAptH,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,qBAAA6C,MAED,SAAmBiuG,GACjB,IAEamwE,EAETnwE,EAHFwvE,SACEv6J,QAIJm7J,EAKI5kL,KAAK0gB,MAJPsjK,SACEr6J,EAAQi7J,EAARj7J,SACAF,EAAOm7J,EAAPn7J,QAIAA,EAAU,GACZgvB,GAAAA,UAAAA,aAA+B,CAAE53B,OAAQ,OAAQ8I,SAAAA,EAAUF,QAAAA,IAGzDk7J,IAAgBl7J,GAClBzpB,KAAK0qD,SAAS,CACZg6H,eAA4B,IAAZj7J,GAGtB,GAAC,CAAA/lB,IAAA,wBAAA6C,MA+DD,SAAsB0wI,EAAWC,GAC/B,IAAM2tC,EAAqB,SAAHjiK,GAA+B,MAAQ,CAC7DohK,SADoCphK,EAARohK,SAE5Bz8K,MAF2Cqb,EAALrb,MAGtCivI,SAHqD5zH,EAAR4zH,SAI9C,EACD,OACE/8H,KAAKC,UAASrC,GAAAA,GAAC,CAAC,EACXwtK,EAAmB5tC,IACnBC,MAELz9H,KAAKC,UAASrC,GAAAA,GAAC,CAAC,EAEXwtK,EAAmB7kL,KAAK0gB,QACxB1gB,KAAKsjB,OAGd,GAAC,CAAA5f,IAAA,SAAA6C,MAqND,WAAS,IAAAu+K,EAAAC,EAAAC,EA0BHC,EAzBJx4H,EAGIzsD,KAAKsjB,MAFPgI,EAAiBmhC,EAAjBnhC,kBACAo5J,EAAcj4H,EAAdi4H,eAGFQ,EAKIllL,KAAK0gB,MAJPsjK,EAAQkB,EAARlB,SACA3gF,EAAI6hF,EAAJ7hF,KACA73E,EAAU05J,EAAV15J,WACAI,EAAcs5J,EAAdt5J,eAIAjC,EASEq6J,EATFr6J,SACA+C,EAQEs3J,EARFt3J,aACAjD,EAOEu6J,EAPFv6J,QACAC,EAMEs6J,EANFt6J,iBACAE,EAKEo6J,EALFp6J,SACAkD,EAIEk3J,EAJFl3J,mBACAjD,EAGEm6J,EAHFn6J,aACA5U,EAEE+uK,EAFF/uK,SAIEkwK,GAAoB,EAEpBlE,EAJA+C,EADFluI,QAK6BnsB,EAAS+3B,WAAW,IAAD,IAAW/3B,EAE7D,OAAQs3J,GACN,IAAK,iBACL,IAAK,sBACL,IAAK,sBACHA,EAAe,MAIf+C,SAA2B,QAAnBc,EAARd,EAAUl6J,yBAAiB,IAAAg7J,GAA3BA,EAA6BppI,aAC/BupI,EAAsBnnK,GAA6B,CACjDvX,MAAOkjB,EACP0a,KAAM6/I,EAASl6J,kBAAkB4xB,cAIrC,IAAI0pI,GAAmB,EAErB92J,UAAa,QAAPy2J,EAANz2J,GAAAA,aAAa,IAAAy2J,GAA8C,QAA9CC,EAAbD,EAAgB/kL,KAAK0gB,MAAMiJ,SAASA,SAAS5hB,sBAAc,IAAAi9K,GAA3DA,EAA6D5R,gBAE7DgS,GAAmB,GAGrB,IAAMC,EAAW,WAAY55J,OAGvBu6I,EAA8B,MADnB3sJ,aAAaE,QAAQuB,GAAAA,gBAAAA,aAWlCs1J,EAAoC,CACtC,CACEnmK,GAAI,KACJ+D,MACEo6F,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,yBACH+4F,eAAe,YAGnBniF,OAAQ7gB,KAAK8gL,cACbnhF,UAAU,IACXj9F,QAAA0mB,EAAAA,EAAAA,GACGg8J,EACA,CACA,CACEn7K,GAAI,MACJ+D,MACEo6F,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,2BACH+4F,eAAe,oBAGnBniF,OAAQ7gB,KAAKslL,sBAGf,IAAE,CACN,CACEr7K,GAAI,KACJ+D,MACEo6F,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,sBAAsB+4F,eAAe,SAE5DniF,OAAQ7gB,KAAK+gL,eACbphF,SAAU+kF,IAEXp2J,GAAAA,KAAAA,kBAAgC,CAC/BrkB,GAAI,KACJ+D,MACEo6F,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,gBACH+4F,eAAe,aAGnBniF,OAAQ7gB,KAAKulL,aACb5lF,UAAU,GAEZ,CACE11F,GAAI,KACJ+D,MACEo6F,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,yBACH+4F,eAAe,YAGnBniF,OAAQ7gB,KAAKwlL,oBACb7lF,UAAWqmE,IAEZqf,GAAY,CACXp7K,GAAI,KACJ+D,MACEo6F,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,sBACH+4F,eAAe,iBAGnBniF,OAAQ7gB,KAAKylL,KACb9lF,UAAWqmE,IAEZ13I,GAAAA,KAAAA,oBAAkC,CACjCrkB,GAAI,KACJ+D,MACEo6F,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,iCACH+4F,eAAe,qBAGnBniF,OAAQ7gB,KAAK0lL,eACb/lF,UAAU,GAEZ,CACE11F,GAAI,KACJ+D,MACEo6F,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,sBAAsB+4F,eAAe,SAE5DniF,OAAQ7gB,KAAK2lL,aACbhmF,UAAU,KAEZvwF,QAAO,SAACswD,GAAE,OAAKA,CAAE,IAGjBpxC,GAAAA,KAAAA,iBAEA8hJ,EAAkBlwK,KAAK,CACrB+J,GAAI,KACJ+D,MACEo6F,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,yBACH+4F,eAAe,mBAGnBniF,OAAQ7gB,KAAK4lL,oBACbjmF,UAAU,IAEZywE,EAAkBlwK,KAAK,CACrB+J,GAAI,KACJ+D,MACEo6F,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,6BACH+4F,eAAe,0CAGnBniF,OAAQ7gB,KAAK6lL,wBACblmF,UAAU,KAIVqkF,EAASjuI,aACPiuI,EAASrmK,cAEbyyJ,EAAoB,CAAC,CACnBnmK,GAAI,EACJ+D,MACEo6F,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,4BACH+4F,eAAe,eAGnBniF,OAAQ7I,GAASykD,sBACjBkjC,UAAU,KAIVqkF,EAASjuI,YACRiuI,EAASrmK,cAEZyyJ,EAAoB,CAClB,CACEnmK,GAAI,KACJ+D,MACEo6F,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,qBACH+4F,eAAe,sBAGnBniF,OAAQ7I,GAASwkD,uBACjBmjC,UAAU,IACXj9F,QAAA0mB,EAAAA,EAAAA,GACEgnJ,KAIP,IAAI0V,GAAc,EACdC,EAAa,GAGjB,GAAI/B,EAAS5oG,eAAgB,OAAO,KAGlC4oG,EAAS3nG,iBACR2nG,EAASzmH,eAEVwoH,EAAa,gBACbD,GAAc,EACdX,GAAoB,EACpB/U,EAAoB,CAClB,CACEnmK,GAAI,EACJ+D,MACEo6F,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,sCACH+4F,eAAe,aAGnBniF,OAAQ7gB,KAAKgmL,2BACbrmF,UAAU,GAEZ,CACE11F,GAAI,KACJ+D,MACEo6F,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,sBAAsB+4F,eAAe,SAE5DniF,OAAQ7gB,KAAK2lL,aACbhmF,UAAU,KAKhB,IAAMikF,KACJI,EAASruG,iBACN/pD,GACAA,EAAeo4J,EAASh0K,UACxB4b,EAAeo4J,EAASh0K,SAASvM,QAClCmoB,EAAeo4J,EAASh0K,SAASvM,MAEjCugL,EAASruG,kBACNquG,EAASpuG,OAMZw6F,EAAkBlwK,KAAK,CACrB+J,GAAI,KACJ+D,MACEo6F,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,kCACH+4F,eAAe,kBAGnBniF,OAAQ7gB,KAAKimL,sBACbtmF,UAAU,KAdZomF,EAAa,aACbD,GAAc,EACdX,GAAoB,EACpB/U,EAAoB,IActBA,EAAkBlwK,KAAK,CACrB+J,GAAI,EACJ+D,MACEo6F,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,wCACH+4F,eAAe,uBAGnBniF,OAAQ7gB,KAAKkmL,4BACbvmF,UAAU,IAEPqkF,EAASpuG,QACZw6F,EAAkBlwK,KAAK,CACrB+J,GAAI,KACJ+D,MACEo6F,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,sBAAsB+4F,eAAe,SAE5DniF,OAAQ7gB,KAAK2lL,aACbhmF,UAAU,KAKhB,IAAMwmF,EAAmE,kBAAnCnC,EAASh0K,QAAQjI,gBAAsCiQ,GAASmhC,YAAY6c,oBAC5GkwF,EAAWluI,GAASmhC,YAAY+e,kBAEhCniB,EAAaiuI,EAASjuI,WACtBqwI,EAAsBrwI,GAAciuI,EAASrmK,YAC7C0oK,EAAuBtwI,IAAeiuI,EAASrmK,YAC/C2oK,EAA6BvwI,GAAc/9B,GAASwiC,qBACpD+rI,EAAgCxwI,IAAe/9B,GAASwiC,qBACxDgsI,EAAkB,GAAH9jL,OAAMuS,EAAWA,EAASlN,cAAgB,IAAErF,OAAGinB,EAAS5hB,eACvE0+K,OACoBzlL,IAAxBikL,IACCj4J,OAAO1G,MAAM2+J,IACda,IACCj8J,EAEH,OACGs8J,GACE/9E,MAAA1qD,cAAA,UACD0qD,MAAA1qD,cAAA,MAAI2qD,UAAS,kBACXD,MAAA1qD,cAAA,OAAK2qD,UAAU,uBACbD,MAAA1qD,cAACsjG,GAAI,CACH52C,UAAWjmD,GAAAA,gBACXxvC,KAAM0xK,GAAwBE,EAAgCrgC,EAAWv8H,IAI3Ey+E,MAAA1qD,cAAA,OAAKzzC,GAAIu8K,EAAkB,cAAen+E,UAAU,mBAClDD,MAAA1qD,cAAA,OAAK2qD,UAAU,WACbD,MAAA1qD,cAAA,KAAG4qD,QACD+9E,EACIrmL,KAAK0mL,gBACLH,EACE,kBAAM,IAAI,EACVvgB,GAAkBogB,GAAuBE,EACvCtmL,KAAKwlL,oBACL,kBAAM,IAAI,EAElBn9E,UAAS,GAAA3lG,OACPsjK,GAAiB1tG,EAAAA,GACb,uBACE0tG,GAAkBogB,GAAuBE,EACvC,wBACA,IAEVt4K,MAAK,UAAAtL,OAAYknB,EAAQ,YAExBA,EAEA3U,EACCmzF,MAAA1qD,cAAA,QAAM2qD,UAAU,iBAAe,IAAA3lG,OACxBuS,EAAS4H,gBAEd,MAMTgN,GAAgBs7J,GACf/8E,MAAA1qD,cAAA,OAAK0sD,UAAWjmD,GAAAA,cACdikD,MAAA1qD,cAAC69G,GAAW,CACVp5F,gBAAiB6hH,EAAS7hH,gBAC1BnyD,QAASg0K,EAASh0K,QAClB6hB,OAAQmyJ,EAASr6J,SACjB+8D,QAASs9F,EAASt9F,QAClBhX,MAAOs0G,EAASt0G,OAEhB04B,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,eACH+4F,eAAe,kBAGlB,IACDoF,MAAA1qD,cAACkxD,GAAO,CAAC3kG,GAAG,8BACVm+F,MAAA1qD,cAAA,OAAKK,MAAO,CAAE+5G,UAAW,WACvB1vD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,oCACH+4F,eAAe,wCAQzBoF,MAAA1qD,cAAA,QAAM2qD,UAAU,8BACby9E,GACC19E,MAAA1qD,cAACisD,GAAAA,SAAQ,KAMN08E,EACGj+E,MAAA1qD,cAACkuD,GAAM,CAACf,OAAK,EAACC,OAAK,EAACxC,QAAStwF,GAASykD,uBACpC2rC,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,oBAAoB+4F,eAAe,aAG1DujF,EAEIn+E,MAAA1qD,cAACkuD,GAAM,CAACf,OAAK,EAACC,OAAK,EAACxC,QAAStwF,GAASwkD,wBACpC4rC,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,qBAAqB+4F,eAAe,wBAG1Dt5E,GAAoB4B,EACrB04J,EAASruG,kBACNquG,EAASpuG,OACRwyB,MAAA1qD,cAAA,YACE0qD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,2BACH+4F,eAAe,gBAInBoF,MAAA1qD,cAAA,OAAK2qD,UAAU,YACVx+E,GAAgBs7J,IAAsB/8E,MAAA1qD,cAACqvD,GAAY,OAI5D3E,MAAA1qD,cAAA,UACEzzC,GAAG,4BACHo+F,UAAU,mBACVC,QAAStoG,KAAK80G,qBAEd1M,MAAA1qD,cAAA,KAAG0sD,UAAU,kBAAkB/B,UAAU,SACzCD,MAAA1qD,cAAA,QAAMzzC,GAAG,0BACN4f,EACG,IACA/L,GAA6B,CAC3BvX,MAAOkjB,EACPkyE,mBAAoB,IAClB,KAEVyM,MAAA1qD,cAAA,QAAM2qD,UAAU,8BACb44E,GAEqB,IAAvBn0J,GACCs7E,MAAA1qD,cAACisD,GAAAA,SAAQ,KACPvB,MAAA1qD,cAAA,WACA0qD,MAAA1qD,cAAA,QACE2qD,UAAU,qBACVr6F,MAAOq1F,aAAI,EAAJA,EAAMC,cACXukE,GAAW/6I,qBAGZA,EAAqB,GAAKs7E,MAAA1qD,cAAA0qD,MAAAuB,SAAA,KAAG,KAC7B78E,EAAoB,SAY3Cs7E,MAAA1qD,cAACisD,GAAAA,SAAQ,KACNo8E,EACC39E,MAAA1qD,cAAA,KAAG2qD,UAAU,eAAe09E,GAE3B/f,GAAkBge,EAASjuI,WAQ1BswI,EACEj+E,MAAA1qD,cAAA,KAAG2qD,UAAU,gBACXD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,iCACH+4F,eAAe,mBAGjBujF,EAEEn+E,MAAA1qD,cAAA,KAAG2qD,UAAU,gBACXD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,wCACH+4F,eAAe,2BAIrBoF,MAAA1qD,cAAA,OAAK2qD,UAAU,gBACbD,MAAA1qD,cAACgwD,GAAI,CAAChuE,KAAMskJ,EAASh0K,SAClBsoD,EAAAA,GACG8vC,MAAA1qD,cAACi+G,GAAa,CACZC,aAAW,EACXjyI,SAAUq6J,EAASr6J,SACnBw4C,gBAAiB6hH,EAAS7hH,gBAC1BnyD,QAASg0K,EAASh0K,QAClB+tC,MAAO,CACL4oI,SAAU,WACVC,OAAQ,UAIZx+E,MAAA1qD,cAAA,KAAGzzC,GAAE,GAAAvH,OACHgqB,EAAeA,EAAe/C,EAAS5hB,cAAgB4hB,EAAS5hB,cAAa,YAE5Ei8K,EAASh0K,WAxCxBo4F,MAAA1qD,cAAA,KAAG2qD,UAAU,mBAAmBC,QAAStoG,KAAK0jL,oBAC5Ct7E,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,wBACH+4F,eAAe,mBA+CxByjF,GAAmB7C,EAClBx7E,MAAA1qD,cAAA,OAAK2qD,UAAU,oBACZu7E,IAAmBtrH,EAAAA,IAClB8vC,MAAA1qD,cAAA,KAAG2qD,UAAU,gBAAgBC,QAAStoG,KAAKwlL,qBACxCniF,aAAI,EAAJA,EAAMC,cACLukE,GAAW+b,eACX,CACEngL,MAAOmgL,KAKd6C,GACCr+E,MAAA1qD,cAAA0qD,MAAAuB,SAAA,KACEvB,MAAA1qD,cAAA,SAAIunI,GACJ78E,MAAA1qD,cAAA,cAASlyB,KAIb,OAIJ66J,IAAyBE,GACzBn+E,MAAA1qD,cAAA,OAAK4qD,QAAStoG,KAAKuwK,mBAAoBloE,UAAU,mBAC/CD,MAAA1qD,cAACkyH,GAAY,CACXxlE,UAAU,iBACVrwF,MAAOq2J,MAOrB,KAACn8B,CAAA,CA/4BQ,CAuBOzoC,GAAAA,aAAS5C,KAAAA,KAAAA,IA23B3B,UAAegF,EAAAA,GAAAA,IAAWqmC,I,aCz7BpBz1F,GAAqDlwB,UAAY,QAAN8pB,GAAN9pB,GAAAA,YAAY,IAAA8pB,QAAN,EAANA,GAAcoG,mDACnE6mG,GAAmB/2H,UAAY,QAANyyB,GAANzyB,GAAAA,YAAY,IAAAyyB,IAAI,QAAJgmG,GAAZhmG,GAAc7qB,UAAE,IAAA6wH,QAAV,EAANA,GAAkBvtH,sBACrCu3B,GAAgBziC,IAAUA,GAAAA,SAkGhC,SAAek5E,IAAf,EAzFA,SAAwB9mF,GAA4B,IAAA69B,EAAAsoI,EAEhDxqB,EAGE37I,EAHF27I,UACAyqB,EAEEpmK,EAFFomK,iBACAj7J,EACEnL,EADFmL,qBAWIk7J,EAAez4J,UAAY,QAANiwB,EAANjwB,GAAAA,YAAY,IAAAiwB,GAAI,QAAJsoI,EAAZtoI,EAAcroB,UAAE,IAAA2wJ,IAAhBA,EAAkBrtJ,yBAEhCxhB,GAAS2F,cAChB,OACEyqF,MAAA1qD,cAAA,OAAK2qD,UAAU,cACZ0+E,GACC3+E,MAAA1qD,cAAA0qD,MAAAuB,SAAA,KACIq9E,IAAYA,GAAAA,MAAiBA,GAAAA,KAAAA,mBAAoCj2H,GACjEq3C,MAAA1qD,cAACupI,GAAM,CAACp7J,qBAAsBA,IAE9B,GAEFu8E,MAAA1qD,cAAA,MAAI2qD,UAAU,qBACZD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,aAAa+4F,eAAe,iBAEnDoF,MAAA1qD,cAAA,OAAK2qD,UAAU,mBACbD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,wBACH+4F,eAAe,wDAInBoF,MAAA1qD,cAAC64F,GAAK,CACJnsC,UAAS,GAAA1nG,OAAKyhD,GAAAA,YAAkB,qBAChCgzF,KAAMklB,EACN/kB,UAAW,SAACO,EAAKtwI,GAAK,OACpB6gG,MAAA1qD,cAACu2F,GAAG,CACFvwI,IAAK6D,EACLoiB,SAAUkuH,EACVmsC,SAAUnsC,GACV,IAGNzvC,MAAA1qD,cAAA,OAAK2qD,UAAU,yBACbD,MAAA1qD,cAACkuD,GAAM,CAAC3hG,GAAG,oBAAoBq+F,QA1CT,WAC9B7vD,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,eACtB,EAwC2E0vF,aAAW,EAACH,WAAS,GACpFjC,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,iBAAiB+4F,eAAe,sBAEtDxkD,KAAuD6mG,IACtDj9C,MAAA1qD,cAACkuD,GAAM,CAACtD,QA1CU,WAC5B7vD,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,sBACtB,EAwCoD+vF,OAAK,EAACp0D,MAAI,GAChD2xD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,6BAA6B+4F,eAAe,8BAA8B,IAE/FoF,MAAA1qD,cAACkxD,GAAO,CAAC3kG,GAAG,sCACVm+F,MAAA1qD,cAAA,YACE0qD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,qCACH+4F,eAAe,0BAEjBoF,MAAA1qD,cAAA,WACA0qD,MAAA1qD,cAAA,WACA0qD,MAAA1qD,cAAA,OAAK2qD,UAAU,uBACbD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,iDACH+4F,eAAe,8BAOzBxkD,IACA4pD,MAAA1qD,cAACkuD,GAAM,CAAC3hG,GAAG,cAAcq+F,QAASw+E,EAAkBt8E,aAAW,EAACH,WAAS,GACvEjC,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,WAAW+4F,eAAe,qBAMvD+jF,IAAe/uK,GAAS2F,eACxByqF,MAAA1qD,cAACqzC,GAAkB,CAAC0pF,eAAa,IAIzC,GAE0Ct2H,GAAQ,CAAE+lD,eAAe,I,slBC1FnE,IAAMjK,GAAOx0E,OAAOsrB,SAASC,UAAYyG,SAAS1G,SAASkpD,KACrDlvC,GAAgBziC,IAAUA,GAAAA,SAsG1B44J,IAAMv+E,IApGXztC,EAAAA,EAAAA,KACC,SAAA3uD,GAkCM,IAjCI8hB,EAAe9hB,EAAvBmpB,KAAQrH,gBACRsH,EAAIppB,EAAJopB,KAAIm3G,EAAAvgI,EACJopB,KACEnK,EAAUshH,EAAVthH,WACAxB,EAAO8iH,EAAP9iH,QACAC,EAAO6iH,EAAP7iH,QACAC,EAAS4iH,EAAT5iH,UACAC,EAAU2iH,EAAV3iH,WACAC,EAAU0iH,EAAV1iH,WACAC,EAAQyiH,EAARziH,SACAC,EAAOwiH,EAAPxiH,QACAE,EAAQsiH,EAARtiH,SACAC,EAAOqiH,EAAPriH,QACAK,EAAOgiH,EAAPhiH,QACAP,EAAQuiH,EAARviH,SACAQ,EAAO+hH,EAAP/hH,QACAvB,EAASsjH,EAATtjH,UACAO,EAAQ+iH,EAAR/iH,SACAW,EAAUoiH,EAAVpiH,WACAC,EAAOmiH,EAAPniH,QACAC,EAAOkiH,EAAPliH,QACAC,EAAQiiH,EAARjiH,SACAO,EAAU0hH,EAAV1hH,WACAJ,EAAkB8hH,EAAlB9hH,mBACAG,EAAmB2hH,EAAnB3hH,oBACAg8J,EAAuBr6C,EAAvBq6C,wBACA77J,EAAiBwhH,EAAjBxhH,kBACAO,EAAoBihH,EAApBjhH,qBACAF,EAAcmhH,EAAdnhH,eACAG,EAAYghH,EAAZhhH,aAEmBiI,EAAUxnB,EAA/BwnB,WAAcha,MACdwb,EAAMhpB,EAANgpB,OAwBA,MAAO,CACL6xJ,iBAvBuB,CACvBp9J,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAK,EACAC,EACAvB,EACAO,EACAW,EACAC,EACAC,EACAC,GAAQnoB,QAAA0mB,EAAAA,EAAAA,GACLlY,OAAOtL,KAAKwlB,GAAYhqB,KAAI,SAAC8E,GAAC,OAAKklB,EAAWllB,EAAE,MAKnD6tB,WAAAA,EACAzI,kBAAAA,EACAO,qBAAAA,EACAwC,gBAAAA,EACAsH,KAAAA,EACAhK,eAAAA,EACAH,WAAAA,EACAuhH,UAAW,CACT/iH,QAAAA,EACAC,QAAAA,EACAC,UAAAA,EACAC,WAAAA,EACAC,WAAAA,EACAC,SAAAA,EACAC,QAAAA,EACAC,SAAAA,EACAC,SAAAA,EACAC,QAAAA,EACAK,QAAAA,EACAJ,WAAAA,EACAC,QAAAA,EACAC,QAAAA,EACAC,SAAAA,EACAiB,aAAYzU,GAAAA,GAAA,GACPyU,GAAY,IACfnC,SAAU,iBAEZoB,QAAAA,EACAvB,UAAAA,EACAO,SAAAA,EACAiB,mBAAAA,EACAG,oBAAAA,EACAg8J,wBAAAA,GAEF5xJ,OAAAA,EAEJ,IACD03G,GAEA9iC,KAAWhmD,GAAQ,CAAE+lD,eAAe,IAAOvB,GAAAC,IAD3C8wC,EAAAA,EAAAA,IAAU9wC,GAAAqkC,GAAArkC,GAAA,SAAAskC,IAAAxyH,EAAAA,GAAAA,GAAAwsK,EAAAh6C,GAAA,I,IAAAvyH,G,EAAAusK,E,maAKT,SAAAA,EAAYxmK,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAA86K,GACjBv6K,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,YAHoC,OAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAmI/B,SAAAO,IAAA,IAAAuS,EAAA8sB,EAAA,OAAA5/B,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OAEmD,OADhEytB,EAAepnB,EAAK+T,MAApBqT,WACF8sB,EAAgB9sB,EAAW3yB,KAAI,SAAAygB,GAAA,IAAGtb,EAAKsb,EAALtb,MAAOoO,EAAIkN,EAAJlN,KAAI,OAAOpO,GAASoO,CAAI,IAAC8M,EAAAnb,KAAA,EAElEmyC,GAAAA,KAAAA,qBAAkCoI,GAAc,wBAAAp/B,EAAAJ,OAAA,GAAAG,EAAA,OACvDrI,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAEgB,SAACyD,GAChB,IAAQg3K,EAAqBz6K,EAAK2W,MAA1B8jK,iBACAp3K,EAAoBI,EAApBJ,QAAS6c,EAAWzc,EAAXyc,OACX3nB,EAAOkiL,EAAiBpvI,MAC5B,SAAA91B,GAAW,OAAAA,EAARyH,SAAwB5hB,gBAAkBqI,EAAOuZ,SAAS5hB,aAAa,IAG5E0wC,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,SAAyBzD,GAAAA,GAAA,GACxCnS,GAAI,IACPkpC,UAAWp+B,EACX6c,OAAAA,IAEJ,KAAC1T,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAEkB,WACjBg2C,GAAAA,OAAAA,qBACA,IAAA6mD,EAGI78F,EAAK+T,MAFP8U,EAAOg0E,EAAPh0E,QACQghB,EAAMgzD,EAAdnG,KAAQ7sD,OAGVhhB,EAAQt1B,KAAK+uG,GAAaz4D,EAAQa,GAAMphB,cAC1C,KAAC9c,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAEe,SAACw6J,GACf,IAAMzxH,EAAmB/f,KAGnBmpI,EAFqBnpI,GAA4B8iB,GAAAA,KAAAA,cAEXrpC,QAAO,SAAClK,GAClD,IAAQ6wC,EAA+C7wC,EAA/C6wC,WAAYp4B,EAAmCzY,EAAnCyY,YAAagM,EAAsBzkB,EAAtBykB,SAAUF,EAAYvkB,EAAZukB,QAE3C,OACe,SAAZ09I,GAAsB19I,MAClBssB,GAAeA,GAAcp4B,MAC7BozC,IAAiBrb,EAAiBr7B,SAASsP,GAEpD,IAEA8uB,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,eAAiC,CACnDiZ,WAAY+qI,EACZqI,QAAAA,GAEJ,KAAChuJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,6BAE2B,WAC1B8rC,GAAAA,cAAAA,KACE39B,GAAAA,cAAAA,QACA,CAAEs0B,QACAg5D,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,qBACH+4F,eAAe,0BAIvB,KAAC7pF,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,4BAE0B,WACzB,IAAA++F,EAGI/+F,EAAK+T,MAFP8U,EAAOk2E,EAAPl2E,QACQghB,EAAMk1D,EAAdrI,KAAQ7sD,OAEJ4wI,EAAmB3uI,GAAAA,KAAAA,WAAwB,CAAC,GAC5CqmH,EAAmBnpI,GAA4ByxJ,GAErD,GACGl2K,OAAOtL,KAAKk5J,GAAkB7+J,SACc,IAAzCiR,OAAOtL,KAAKk5J,GAAkB7+J,QAAiB01B,GAA2BmpI,EAAiB,KAFjG,CAQA,IAAMuoB,EAAuBvoB,EAAiB9mH,MAAK,SAACznC,GAAM,OACxDolB,GAA2BplB,KACrBA,EAAOsZ,cACR,IAAIwT,GAAAA,EAAU9sB,EAAOkZ,SAAS69J,YAAY,IAGjD,GAAKD,EAAL,CAKA,IAAQ19J,EAAgC09J,EAAhC19J,SAAU3Z,EAAsBq3K,EAAtBr3K,QAAS2c,EAAa06J,EAAb16J,SACvBqyI,EAAiBr1I,EAErB,OAAQA,EAAS5hB,eACf,IAAK,iBACL,IAAK,sBACL,IAAK,sBACHi3J,EAAiB,MAGrB,IAAMC,EAAetyI,EAAW,UAAHjqB,OAAaiqB,GAAQ,IAAAjqB,OAASs8J,GAE3DxpI,EAAQt1B,KACN+uG,GAAaz4D,EAAQ,GAAF9zC,OAAKu8J,EAAY,KAAAv8J,OAAIsN,EAAO,UAfjD,MAFErD,EAAK46K,2BATP,MAFE56K,EAAK46K,2BA8BT,KAACpuK,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,6BAE2B,SAAC4D,GAAW,IAAAi3K,EAGtC,OAFqBj3K,EAAOkZ,QAAU,IAA6B,QAA5B+9J,EAAIj3K,EAAOuZ,yBAAiB,IAAA09J,OAAA,EAAxBA,EAA0B9rI,YAG5D,IAAIre,GAAAA,EAAU9sB,EAAOkZ,SACzBshB,aAAax6B,EAAOuZ,kBAAkB4xB,YACtCtL,GAAG,EAAG/S,GAAAA,EAAAA,aACNC,WAGE,CACT,KAACnkB,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,0BAEwB,WACvB8rC,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,kBACtB,KAAC3B,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oCAGkC,SAACipC,GAKlC,OAJAA,EAAa1yC,SAAQ,SAACqN,GACpBA,EAAO+rJ,YAAc3vJ,EAAK86K,0BAA0Bl3K,EACtD,IAEOqlC,CACT,KAACz8B,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAEoB,SAAC4D,GAAW,IAAAm3K,EACzBhyI,EAAmB/f,KACnBhhB,EAAOpE,EAAOulC,QAChBvlC,EAAOoc,SAAS9P,cACftM,EAAOoZ,UAAYpZ,EAAOoE,KAE/B,QACIo8C,IAAiBrb,EAAiBr7B,SAAS1F,MACzCpE,EAAOsZ,cACgB,QADJ69J,EACpBn3K,EAAOuZ,yBAAiB,IAAA49J,GAAxBA,EAA0B/rI,WAC1BprC,EAAOkZ,QAAU,EAEblZ,EAAOkZ,QAAUlZ,EAAOuZ,kBAAkB6xB,UAG5C,CACT,KAACxiC,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,2BAEyB,SAACipC,GACzB,IAAInsB,EAAU,IAAI4T,GAAAA,EAAU,GAM5B,OAJAuY,EAAa1yC,SAAQ,SAACqN,GACpBkZ,EAAUA,EAAQuhB,KAAKr+B,EAAKg7K,mBAAmBp3K,GACjD,IAEOkZ,EAAQ6T,UACjB,KAACnkB,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,0BAEwB,SAACipC,GACxB,IAAInsB,EAAU,IAAI4T,GAAAA,EAAU,GAM5B,OAJAuY,EAAa1yC,SAAQ,SAACqN,GACpBkZ,EAAUA,EAAQuhB,KAAKz6B,EAAO+rJ,YAChC,IAEO7yI,EAAQ6T,UACjB,KAACnkB,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,YAEU,WAET,IAAMwhD,EAAMtQ,OAASC,OAAO,uBACtBtc,EAAYnoB,aAAaE,QAAQuB,GAAAA,aAAAA,mBAA4CqzC,EAC7Ey5H,EAAkB/pI,KAAOrc,EAAW,uBAEpCqmJ,EAAehqI,KAAOsQ,EAAK,uBAAuB25H,OAAOF,GACzDG,EAAiBlqI,KAAOsQ,EAAK,uBAAuB65H,QACxDJ,EAAgB5+K,IAAI,EAAG,UAGzBsmI,EAA0C3iI,EAAK+T,MAAvCqsH,EAASuC,EAATvC,UAAsB/iH,EAAOslH,EAAlBvC,UAEnBpgI,EAAKs7K,UAAY7pK,YAAU4C,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAC,IAAA,IAAAgnK,EAAAC,EAAAC,EAAAC,EAAAt7J,EAAA,OAAA9L,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,UACb,cAAT25F,IAA0C,aAAlB3xE,cAAM,EAANA,GAAAA,QAAgCtW,GAAS6hD,mBAAkB,CAAAt4C,EAAAjb,KAAA,eAAAib,EAAAU,OAAA,qBAInF8lK,IAAkBF,EAAY,CAAAtmK,EAAAjb,KAAA,SACkC,OAAlE+S,aAAaC,QAAQwB,GAAAA,aAAAA,iBAAyCqzC,GAAI5sC,EAAAtZ,KAAA,EAAAsZ,EAAAjb,KAAA,EAE3CgiL,GAAAA,YAAiB,OAgCJ,OAhC5BJ,EAAM3mK,EAAAG,KAENymK,EAKF,CACF3xI,OACE0xI,EAAO1xI,SACHod,UAAU20H,cAAgB30H,UAAUo7C,UAAY,SAASvuG,MAAM,KAAK,GAC1E8kG,GAAI2iF,EAAO3iF,IAITijF,GAAAA,WACFJ,EAAYloF,KAAyBhpD,OAErCixI,EAAiBM,WAAaL,GAG1BC,EAAqBn3K,OAAOpL,OAAOinI,GAEnChgH,EAAUs7J,EAAYjnL,KAAI,SAAC8D,GAAI,MAAM,CACzC2sB,OAAQ3sB,GAAQA,EAAKykB,SAAWzkB,EAAKykB,SAASlpB,MAAM,KAAK,GAAK,GAC9DmU,KAAM1P,GAAQA,EAAKykB,SAAWzkB,EAAKykB,SAASlpB,MAAM,KAAK,IAAM,SAAW,GACxEuP,QAAS9K,GAAQA,EAAK8K,QAAU9K,EAAK8K,QAAU,GAC/CyZ,QAASvkB,GAAQA,EAAKukB,QAAU,IAAI4T,GAAAA,EAAUn4B,EAAKukB,SAAS6T,WAAa,EACzEorJ,WAAYxjL,GAAQA,EAAK6K,UAAY7K,EAAK6K,UAAUvP,SAAS,OAAS,GACtEmoL,MAAOr6J,UAAAA,GAAAA,MAAgBA,GAAAA,MAAe,oBACvC,IAED65J,EAAiBp7J,QAAUA,EAAOxL,EAAAjb,KAAA,GAE5BgiL,GAAAA,WAAiBt+J,EAAQha,QAASkwF,KAAyBD,KAAMkoF,GAAiB,QAAA5mK,EAAAjb,KAAA,iBAAAib,EAAAtZ,KAAA,GAAAsZ,EAAAkC,GAAAlC,EAAA,SAExF3H,QAAQrQ,MAAM,sBAAuB,eACrCqQ,QAAQzO,MAAM,yBAADzI,OAAA6e,EAAAkC,KACb7J,QAAQy2B,WAAU,yBAAA9uB,EAAAF,OAAA,GAAAH,EAAA,mBAGrB,IACL,IAxWE,IAAA86H,EAKIt7H,EAJFnT,MACE6C,OAAU+2D,KAAAA,OAAI,IAAA60E,EAAG,KAAIA,EAEvBnwH,EACEnL,EADFmL,qBAGE+8J,EAAqB,EAe8C,MAb1D,YAATzhH,GAAuB7O,EAAAA,KACzBswH,EAAqB,GAEV,aAATzhH,IACFyhH,EAAqB,GAGvBj8K,EAAK2W,MAAQ,CACXslK,mBAAAA,EACAC,WAAY,EACZ7yI,kBAAmBrgB,KACnB9J,qBAAAA,GAEFJ,OAAOq9J,uBAAyB,WAAQn8K,EAAKm8K,wBAAyB,EAACn8K,CACzE,CA4YC,OA5YAN,EAAAA,GAAAA,GAAA66K,EAAA,EAAAxjL,IAAA,sBAAA6C,MAED,WACE,IAAA6pI,EAGIpwI,KAAK0gB,MAFP8U,EAAO46G,EAAP56G,QACQghB,EAAM45F,EAAd/sC,KAAQ7sD,OAGNx+B,GAAS2F,cACX6X,EAAQt1B,KAAK+uG,GAAaz4D,EAAQa,GAAM6+C,OAI1C93E,YAAW,WACTpG,GAASkjD,QAAQ,CAAC,EACpB,GAAG,IACL,GAAC,CAAAx3D,IAAA,qBAAA6C,MAED,SAAmBiuG,GACjB,IAAA8lC,EAMI9lC,EALFjnG,MACE6C,OAAU+2D,KAAM4hH,OAAQ,IAAAzuC,EAAG,KAAIA,EAEX0uC,EAEpBx0E,EAFF3oF,qBACsBo9J,EACpBz0E,EADFz9D,SAAYk/C,SAGd++C,EASIh1I,KAAK0gB,MAAKwoK,EAAAl0C,EARZznI,MACE6C,OAAU+2D,KAAAA,OAAI,IAAA+hH,EAAG,KAAIA,EAEvBr9J,EAAoBmpH,EAApBnpH,qBACAw3E,EAAI2xC,EAAJ3xC,KACQ7sD,EAAMw+F,EAAd3xC,KAAQ7sD,OACIy/C,EAAQ++C,EAApBj+F,SAAYk/C,SACZzgE,EAAOw/G,EAAPx/G,QAUF,GANEygE,EAASluF,gBAAkBkhL,EAAalhL,eACrCkuF,EAASluF,gBAAkBsvC,GAAMq/C,cAAc3uF,eAElD/H,KAAKmpL,sBAGHhiH,IAAS4hH,GAAYl9J,IAAyBm9J,EAA0B,CAC1E,IAAIJ,EAAqB,EAEZ,YAATzhH,GAAuB7O,EAAAA,KAAUswH,EAAqB,GAC7C,aAATzhH,IAAqByhH,EAAqB,GAEjC,SAATzhH,GACFiiH,IAAc,WACZ5zJ,EAAQt1B,KAAK+uG,GAAaz4D,EAAQa,GAAM6+C,MAC1C,GAAGmN,GAGLrjG,KAAK0qD,UAAS,iBAAO,CACnBk+H,mBAAAA,EACA/8J,qBAAAA,EACD,GACH,CAEA4rD,aAAaz3E,KAAKioL,UACpB,GAAC,CAAAvkL,IAAA,oBAAA6C,MAED,WACE,IAAA2+K,EAWIllL,KAAK0gB,MAAK2oK,EAAAnE,EAVZ33K,MACE6C,EAAMi5K,EAANj5K,OACU+2D,EAAIkiH,EAAdj5K,OAAU+2D,KACVplC,EAAGsnJ,EAAHtnJ,IAEFlW,EAAoBq5J,EAApBr5J,qBACA2J,EAAO0vJ,EAAP1vJ,QACYygE,EAAQivF,EAApBnuI,SAAYk/C,SACZoN,EAAI6hF,EAAJ7hF,KACQ7sD,EAAM0uI,EAAd7hF,KAAQ7sD,OAGNy/C,EAASluF,gBAAkBsvC,GAAMq/C,cAAc3uF,eACjD/H,KAAKmpL,sBAGP1wI,GAAAA,KAAAA,cAEAA,GAAAA,KAAAA,sBAEI1W,EAAI1nB,SAAS,SACfra,KAAK+gL,eAAe3wK,GAGT,SAAT+2D,GACFiiH,IAAc,WACZ5zJ,EAAQt1B,KAAK+uG,GAAaz4D,EAAQa,GAAM6+C,MAC1C,GAAGmN,GAELrjG,KAAK4gD,uBACL5gD,KAAK0qD,SAAS,CACZ7+B,qBAAAA,GAEJ,GAAC,CAAAnoB,IAAA,SAAA6C,MA8OD,WAAS,IAAAgrB,EACPw6B,EAGI/rD,KAAKsjB,MAFPslK,EAAkB78H,EAAlB68H,mBACA/8J,EAAoBkgC,EAApBlgC,qBAGFy9J,EAQItpL,KAAK0gB,MAPP2N,EAAei7J,EAAfj7J,gBACA/C,EAAiBg+J,EAAjBh+J,kBACAE,EAAU89J,EAAV99J,WACAG,EAAc29J,EAAd39J,eAAc49J,EAAAD,EACd/7K,MACE6C,OAAU+2D,KAAAA,OAAI,IAAAoiH,EAAG,KAAIA,IAIpBj7J,GAAAA,UAAyB,QAAViD,EAAI9F,cAAM,IAAA8F,GAANA,EAAQ+rE,qBAC9Bt9F,KAAKwpL,WAGP,IAAI5jC,EAAcjwH,GAA4B8iB,GAAAA,KAAAA,WAAwB,CAAC,IAEvEmtG,EAAc5lJ,KAAKypL,iCAAiC7jC,GAEpD,IAAM8jC,EAAe1pL,KAAK2pL,wBAAwB/jC,GAC5CgkC,EAAiB5pL,KAAK6pL,uBAAuBjkC,GAEnD,OACEx9C,MAAA1qD,cAACosI,GAAe,CACd3iH,KAAMA,EACNq5G,YACEp4E,MAAA1qD,cAAC8iI,GAAW,CACVh1J,WAAYA,EACZ8wI,YAAastB,EACb/I,gBAAiB6I,EACjB/9J,eAAgBA,EAChBm1J,cAAe9gL,KAAK8gL,cACpBC,eAAgB/gL,KAAK+pL,yBACrB1+J,WAAYC,EACZ1W,KAAK,SACL+U,SAAS,MACTkC,qBAAsBA,KAIF,IAAvB+8J,GACCxgF,MAAA1qD,cAACssI,GAAc,CACb3tB,UAAWzW,EACXv3H,gBAAiBA,EACjBy4J,iBAAkB9mL,KAAK8mL,iBACvBj7J,qBAAsBA,IAGF,IAAvB+8J,GAA4BxgF,MAAA1qD,cAAC89F,GAAYx7I,KAAK0gB,OACvB,IAAvBkoK,GAA4BxgF,MAAA1qD,cAAC+7F,IAAY5tC,EAAAA,GAAAA,GAAA,GAAK7rG,KAAK0gB,MAAK,CAAEg6H,WAAS,KAG1E,KAACwsC,CAAA,CA3aQ,CAEUz2C,GAAAA,iBAAa7nC,KAAAA,KAAAA,IA4alC,UAAegF,EAAAA,GAAAA,IAAWs5E,IC9iB1B,IAAgB,eAAiB,2BAA2B,aAAe,2BAA2B,aAAe,2BAA2B,UAAY,2BAA2B,KAAO,2BAA2B,cAAc,4BAA4B,UAAY,2BAA2B,OAAS,2BAA2B,QAAU,2BAA2B,SAAW,2BAA2B,UAAY,4BAA4B,mBAAqB,2BAA2B,iBAAmB,4BAA4B,OAAS,2BAA2B,WAAa,2BAA2B,OAAS,2BAA2B,WAAa,2BAA2B,MAAQ,2BAA2B,KAAO,2BAA2B,WAAa,2BAA2B,SAAW,2BAA2B,kBAAoB,2BAA2B,QAAU,2BAA2B,gBAAkB,2BAA2B,sBAAwB,2BAA2B,QAAU,2BAA2B,UAAY,2BAA2B,aAAe,2BAA2B,eAAiB,2BAA2B,MAAQ,2BAA2B,YAAc,2BAA2B,WAAa,2BAA2B,UAAY,4BAA4B,IAAM,2BAA2B,OAAS,2BAA2B,MAAQ,2BAA2B,iBAAmB,2BAA2B,mBAAqB,4BAA4B,YAAc,4BAA4B,IAAM,4BAA4B,OAAS,2BAA2B,MAAQ,2BAA2B,gBAAkB,4B,OCO5pD+C,GAAgB,GAKhBC,GAAW,CACtB,EAAG,CACDv1K,KAAM,gBACNqwC,QAAS,SAEX,SAAU,CACRrwC,KAAM,eACNqwC,QAAS,gBAEX,GAAI,CACFrwC,KAAM,WACNqwC,QAAS,SAEX,IAAK,CACHrwC,KAAM,eACNqwC,QAAS,SAEX,MAAO,CACLrwC,KAAM,cACNqwC,QAAS,eAEX,IAAK,CACHrwC,KAAM,cACNqwC,QAAS,eAEX,MAAO,CACLrwC,KAAM,iBACNqwC,QAAS,SAEX,MAAO,CACLrwC,KAAM,gBACNqwC,QAAS,UAUAmlI,IAAqBC,GAAG,CAAC,GAAJjxK,EAAAA,EAAAA,GAAAixK,GAC/B97J,GAAAA,YAAAA,IAAAA,eAAwC,CACvC3Z,KAAM,aACNmiB,OAAQxI,GAAAA,aAAAA,cACRg6C,QAASh6C,GAAAA,aAAAA,kBACVnV,EAAAA,EAAAA,GAAAixK,GACA97J,GAAAA,YAAAA,IAAAA,eAAwC,CACvC3Z,KAAM,cACNmiB,OAAQxI,GAAAA,aAAAA,kBACRg6C,QAASh6C,GAAAA,aAAAA,sBACVnV,EAAAA,EAAAA,GAAAixK,GACA97J,GAAAA,YAAAA,MAAAA,eAA0C,CACzC3Z,KAAM,YACNmiB,OAAQxI,GAAAA,aAAAA,gBACRg6C,QAASh6C,GAAAA,aAAAA,oBACVnV,EAAAA,EAAAA,GAAAixK,GACA97J,GAAAA,YAAAA,KAAAA,eAAyC,CACxC3Z,KAAM,YACNmiB,OAAQxI,GAAAA,aAAAA,gBACRg6C,QAASh6C,GAAAA,aAAAA,oBACVnV,EAAAA,EAAAA,GAAAixK,GACA97J,GAAAA,YAAAA,IAAAA,eAAwC,CACvC3Z,KAAM,aACNmiB,OAAQxI,GAAAA,aAAAA,iBACRg6C,QAASh6C,GAAAA,aAAAA,qBACVnV,EAAAA,EAAAA,GAAAixK,GACA97J,GAAAA,YAAAA,KAAAA,eAAyC,CACxC3Z,KAAM,eACNmiB,OAAQxI,GAAAA,aAAAA,mBACRg6C,QAASh6C,GAAAA,aAAAA,uBACVnV,EAAAA,EAAAA,GAAAixK,GACA97J,GAAAA,YAAAA,KAAAA,eAAyC,CACxC3Z,KAAM,YACNmiB,OAAQxI,GAAAA,aAAAA,gBACRg6C,QAASh6C,GAAAA,aAAAA,oBACVnV,EAAAA,EAAAA,GAAAixK,GACA97J,GAAAA,YAAAA,IAAAA,eAAwC,CACvC3Z,KAAM,YACNmiB,OAAQxI,GAAAA,aAAAA,gBACRg6C,QAASh6C,GAAAA,aAAAA,oBACVnV,EAAAA,EAAAA,GAAAixK,GACA97J,GAAAA,YAAAA,OAAAA,eAA2C,CAC1C3Z,KAAM,aACNmiB,OAAQxI,GAAAA,aAAAA,iBACRg6C,QAASh6C,GAAAA,aAAAA,qBACVnV,EAAAA,EAAAA,GAAAixK,GACA97J,GAAAA,YAAAA,OAAAA,eAA2C,CAC1C3Z,KAAM,aACNmiB,OAAQxI,GAAAA,aAAAA,aACRg6C,QAASh6C,GAAAA,aAAAA,iBACVnV,EAAAA,EAAAA,GAAAixK,GACA97J,GAAAA,YAAAA,IAAAA,eAAwC,CACvC3Z,KAAM,WACNmiB,OAAQxI,GAAAA,aAAAA,UACRg6C,QAASh6C,GAAAA,aAAAA,cACVnV,EAAAA,EAAAA,GAAAixK,GACA97J,GAAAA,YAAAA,IAAAA,eAAwC,CACvC3Z,KAAM,WACNmiB,OAAQxI,GAAAA,aAAAA,UACRg6C,QAASh6C,GAAAA,aAAAA,cACVnV,EAAAA,EAAAA,GAAAixK,GACA97J,GAAAA,YAAAA,KAAAA,eAAyC,CACxC3Z,KAAM,YACNmiB,OAAQxI,GAAAA,aAAAA,WACRg6C,QAASh6C,GAAAA,aAAAA,eACVnV,EAAAA,EAAAA,GAAAixK,GACA97J,GAAAA,YAAAA,IAAAA,eAAwC,CACvC3Z,KAAM,WACNmiB,OAAQxI,GAAAA,aAAAA,UACRg6C,QAASh6C,GAAAA,aAAAA,aACV87J,ICpHUC,GAAqB,SAACj6K,GAY9B,IAAAmhB,EAED+4J,EAQEl6K,EARFk6K,MAAKC,EAQHn6K,EAPFo6K,eAAAA,OAAc,IAAAD,GAAQA,EACtB9+G,EAMEr7D,EANFq7D,SACAg/G,EAKEr6K,EALFq6K,cACAC,EAIEt6K,EAJFs6K,WACAC,EAGEv6K,EAHFu6K,SACAt8I,EAEEj+B,EAFFi+B,WACAu8I,EACEx6K,EADFw6K,YAGIC,GAAYH,aAAU,EAAVA,EAAYvoH,kBAAmBx9B,GAC3CmmJ,GAAWH,aAAQ,EAARA,EAAUxoH,kBAAmBx9B,GAExCwiB,EAAarpC,GAAM+O,OAAO02B,mBAC9BknI,EACAC,EAAW7tJ,UAAYotJ,IAGnBc,EAAuB,IAAI1tJ,GAAAA,EAAUqtJ,EAAWjhK,SAAS2hB,cAC7D,IAAI/N,GAAAA,EAAUotJ,IAGVrsJ,EAAU,CAAC,WAAD17B,OACH4nL,EAAK,iBAAA5nL,OACJooL,EAAQ,kBAAApoL,OACPmoL,EAAS,mBAAAnoL,OACRykD,IAUhB,GARI4jI,GACF3sJ,EAAQl+B,KAAK,iBAADwC,OAAkBgoL,EAAW16K,UAGjC,QAAVuhB,EAAI9F,cAAM,IAAA8F,GAANA,EAAQ+rE,oBACVl/D,EAAQl+B,KAAK,qBAADwC,OAAsB2yC,GAAAA,aAAAA,mBAGhChH,EAAY,CACd,IAAQr+B,EAAqBq+B,EAArBr+B,QAASg7K,EAAY38I,EAAZ28I,QACjB5sJ,EAAQl+B,KAAK,iBAADwC,OAAkBsN,IAC9BouB,EAAQl+B,KAAK,0BAADwC,OAA2BsoL,GACzC,CAMA,GAJIR,GACFpsJ,EAAQl+B,KAAK,wBAGXurE,EAAU,CAGZ,IAAMw/G,EAAe,IAAI5tJ,GAAAA,EAAUouC,GAAUhjC,UD7DtB,KC8DvBrK,EAAQl+B,KAAK,uBAADwC,OAAwBuoL,GACtC,CAEA,MAAO,CACL5sJ,QAAS,CAAE,aAAcusJ,GACzB9sJ,SAAUM,EAAQ58B,KAAK,IAE3B,EAEa0pL,GAAmB,eAAA3+K,GAAAyU,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAO,EAAOpR,GAQzC,IAAAnJ,EAAAkkL,EAAAC,EAAAC,EAAAV,EAAAtkH,EAAAzjB,EAAAhiB,EAAA0qJ,EAAAC,EAAAtqG,EAAAuqG,EAAAC,EAAAC,EAAAC,EAAA,OAAA1qK,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OAmBC,GAZEW,EAOEmJ,EAPFnJ,KAAIkkL,EAOF/6K,EANFg7K,kBAAAA,OAAiB,IAAAD,EAAG,KAAIA,EACxBE,EAKEj7K,EALFi7K,gBACAV,EAIEv6K,EAJFu6K,SACAtkH,EAGEj2D,EAHFi2D,SACAzjB,EAEExyC,EAFFwyC,SACAhiB,EACExwB,EADFwwB,SAOEwqJ,EAAmB,CAAF3pK,EAAAnb,KAAA,eAAAmb,EAAAnb,KAAA,EAGlB,QAHkBglL,EACwB7yI,GACzC4yI,EAAgB1hK,SAAS5hB,sBAC1B,IAAAujL,OAAA,EAF0CA,EAExC98G,YAAYvnE,GAAK,QAFdskL,EAA4B9pK,EAAAC,gBAINnjB,MAC1BqiC,GAAWA,EAAQ2qJ,GAEnBtkL,EAAK04E,IAAM4rG,EACZ,OAaF,OAVKtqG,EAAiB5a,GAAYA,EAAWp/D,EAAK04E,IAAMtZ,EAAWp/D,EAAK04E,IACnE6rG,EAAiB5oI,EACnB9kC,GAAM+O,OAAO02B,mBAAmBX,EDlHT,GCmHvB37C,EAAK27C,SAEH6oI,EAAS,IAAIpuJ,GAAAA,EAAU4jD,GAAgBz9B,MAAMgoI,GAC7CE,EAAU5tK,GAAM+O,OAAO42B,sBAAsBgoI,EAAQxB,IACrD0B,EAAiB7tK,GAAM+O,OAAO42B,sBAClCx8C,EAAKmgD,WACLujI,aAAQ,EAARA,EAAU9tJ,WAAYotJ,IACvBxoK,EAAAQ,OAAA,SAEM,CACL0pK,eAAAA,EACA9+G,SAAU5lE,EACVykL,QAAAA,EACA5yB,WAAW,IACZ,yBAAAr3I,EAAAJ,OAAA,GAAAG,EAAA,KACF,gBA1D+BG,GAAA,OAAApV,EAAAwT,MAAA,KAAAhf,UAAA,KCxCpB6qL,GAAQ,SAARA,GAAQ,OAARA,EAAAA,EAAQ,2BAARA,EAAAA,EAAQ,mBAARA,EAAAA,EAAQ,uBAARA,CAAQ,MAMRC,GAAO,SAAPA,GAAO,OAAPA,EAAAA,EAAO,eAAPA,EAAAA,EAAO,+BAAPA,CAAO,MAKPC,GAAS,SAATA,GAAS,OAATA,EAAAA,EAAS,iBAATA,EAAAA,EAAS,qBAATA,CAAS,MAKTC,GAAY,SAAZA,GAAY,OAAZA,EAAAA,EAAY,+CAAZA,EAAAA,EAAY,6BAAZA,EAAAA,EAAY,yBAAZA,EAAAA,EAAY,iDAAZA,EAAAA,EAAY,yBAAZA,EAAAA,EAAY,uCAAZA,EAAAA,EAAY,6BAAZA,EAAAA,EAAY,qBAAZA,CAAY,MCxDxB,UAAgB,UAAY,2BAA2B,OAAS,2BAA2B,IAAM,2BAA2B,OAAS,2BAA2B,SAAW,2BAA2B,aAAe,2BAA2B,SAAW,2BAA2B,aAAe,2BAA2B,WAAa,2BAA2B,QAAU,2BAA2B,OAAS,2BAA2B,gBAAkB,2BAA2B,eAAiB,2BAA2B,cAAgB,4BAA4B,iBAAmB,4BAA4B,KAAO,2BAA2B,UAAY,2BAA2B,MAAQ,2BAA2B,QAAU,2BAA2B,eAAiB,2BAA2B,gBAAkB,2BAA2B,cAAgB,4BAA4B,cAAgB,2BAA2B,OAAS,2BAA2B,kBAAoB,2BAA2B,mBAAqB,2BAA2B,sBAAwB,2BAA2B,oBAAsB,2BAA2B,MAAQ,4BCyFrpC,GAAevkF,IAAf,EArFA,SAA0B9mF,GACxB,IAAA+mF,GAAiCC,EAAAA,GAAAA,WAAS,GAAMC,GAAAvyC,EAAAA,GAAAA,GAAAqyC,EAAA,GAAzCukF,EAAOrkF,EAAA,GAAEp+E,EAAao+E,EAAA,GAM7B,OACES,MAAA1qD,cAAA,WAAS2qD,UAAS,uBAAA3lG,OAAyBspL,EAAU,OAAS,KAC5D5jF,MAAA1qD,cAAA,UAAQ2qD,UAAU,MAAMC,QANH,WACvB/+E,GAAeyiK,EACjB,GAKM5jF,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,gBAAgB+4F,eAAe,uBAEpDoF,MAAA1qD,cAAA,QAAM2qD,UAAU,WAGjB2jF,GACC5jF,MAAA1qD,cAAA,OAAK2qD,UAAU,WACbD,MAAA1qD,cAAA,UACE0qD,MAAA1qD,cAAA,UACE0qD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,wBACH+4F,eAAe,wDAGnBoF,MAAA1qD,cAAA,UACE0qD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,qBACH+4F,eAAe,2DAGnBoF,MAAA1qD,cAAA,UACE0qD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,4BACH+4F,eAAe,qCAGnBoF,MAAA1qD,cAAA,UACE0qD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,uBACH+4F,eAAe,uDAGnBoF,MAAA1qD,cAAA,UACE0qD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,0BACH+4F,eAAe,6CAKrBoF,MAAA1qD,cAAA,KAAG2qD,UAAU,aACXD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,wBACH+4F,eAAe,kLAInBoF,MAAA1qD,cAAA,UACE0qD,MAAA1qD,cAAA,UACE0qD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,4BACH+4F,eAAe,iFAGnBoF,MAAA1qD,cAAA,UACE0qD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,sBACH+4F,eAAe,6FAKrBoF,MAAA1qD,cAAA,KACE2qD,UAAU,uBACViK,KAAK,0FACLrI,OAAO,UAEP7B,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,sBAAsB+4F,eAAe,2BAMtE,GCvFA,CAAgB,oBAAsB,2BAA2B,KAAO,2BAA2B,IAAM,2BAA2B,MAAQ,2BAA2B,QAAU,2BAA2B,UAAY,4BAA4B,qBAAuB,4BDyFvN,CAAEkH,eAAe,I,gBExBrE,SAAe1C,IAAf,EAzDA,SAAgB9mF,GAAO,IAAA0pK,EAEnB76K,EASEmR,EATFnR,QACA08K,EAQEvrK,EARFurK,cACAC,EAOExrK,EAPFwrK,eACAC,EAMEzrK,EANFyrK,WACAhkH,EAKEznD,EALFynD,aACAikH,EAIE1rK,EAJF0rK,iBACAC,EAGE3rK,EAHF2rK,sBACAC,EAEE5rK,EAFF4rK,kBACAC,EACE7rK,EADF6rK,oBAGEC,GAA2D,QAA7CpC,EAAAD,GAAsB56K,EAAQklB,uBAAe,IAAA21J,OAAA,EAA7CA,EAA+Cz1K,OAC/DyzF,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,SAAS+4F,eAAe,WAI/C,OAFImpF,IAAYK,EAAcpkF,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,gBAAgB+4F,eAAe,cAGhFoF,MAAA1qD,cAAA,OAAK2qD,UAAU,WACX8jF,GACA/jF,MAAA1qD,cAAA,UACE2qD,UAAS,OAAA3lG,OAASupL,IAAkBL,GAASa,WAAa,SAAW,GAAE,KAAA/pL,OAC5C,YAAzB2yC,GAAAA,MAAqC,WAAa,IAEpDizD,QAAS+jF,GAETjkF,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,aAAa+4F,eAAe,iBAInDkpF,GACA9jF,MAAA1qD,cAAA,UACEzzC,GAAG,2BACHo+F,UAAS,OAAA3lG,OAASupL,IAAkBL,GAASc,OAAS,SAAW,IACjEpkF,QAASgkF,GAERE,GAILpkF,MAAA1qD,cAAA,UACE2qD,UAAS,OAAA3lG,OAASupL,IAAkBL,GAASe,SAAW,SAAW,GAAE,KAAAjqL,OACnEylE,GAAgBikH,EAAiB9yB,SAAW,WAAa,IAE3DhxD,QAASikF,GAERj0H,EAAAA,GACC8vC,MAAA1qD,cAACkvI,GAAAA,IAAU,CAACtgF,IAAI,kBAEhBlE,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,WAAW+4F,eAAe,cAKzD,GAEkC7+C,GAAQ,CAAE+lD,eAAe,I,gBClB3D,SAAe1C,IAAf,EAxCA,SAAiB9mF,GACf,IAAQmsK,EAAqGnsK,EAArGmsK,WAAYtlL,EAAyFmZ,EAAzFnZ,MAAOulL,EAAkFpsK,EAAlFosK,WAAY74J,EAAsEvT,EAAtEuT,KAAM84J,EAAgErsK,EAAhEqsK,UAAWC,EAAqDtsK,EAArDssK,aAAcC,EAAuCvsK,EAAvCusK,UAAWC,EAA4BxsK,EAA5BwsK,aAAcC,EAAczsK,EAAdysK,UAc/F,OACE/kF,KAAAA,cAAA,OAAAyD,EAAAA,GAAAA,GAAA,CAAKxD,UAAU,eAAkB6kF,GAC9Bj5J,EAAKjmB,OAASo6F,KAAAA,cAAA,MAAIC,UAAU,gBAAgBp0E,EAAKjmB,OACjDimB,EAAKizB,SAAWkhD,KAAAA,cAAA,OAAKC,UAAU,kBAAkBp0E,EAAKizB,SACvDkhD,KAAAA,cAAA,OAAKC,UAAU,kBACXykF,GACA1kF,KAAAA,cAAA,UAAAyD,EAAAA,GAAAA,GAAA,GAAYohF,EAAS,CAAE3kF,QAlBjB,SAAAr9F,GACZgiL,EAAU3kF,QAAQr9F,GAClBkiL,GACF,EAe+Cv4K,KAAK,WAC1CwzF,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,OAAO+4F,eAAe,UAG9Cz7F,EAAQ,GACP6gG,KAAAA,cAAA,UAAAyD,EAAAA,GAAAA,GAAA,GAAYkhF,EAAS,CAAEn4K,KAAK,WAC1BwzF,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,OAAO+4F,eAAe,UAG/CoF,KAAAA,cAAA,UAAAyD,EAAAA,GAAAA,GAAA,GAAYmhF,EAAY,CAAE1kF,QAtBX,SAACr9F,GACpB+hL,EAAa1kF,QAAQr9F,GACjB6hL,GACFK,GAEJ,EAiBuDv4K,KAAK,WACnDi4K,IAAeC,EACZ1kF,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,iBAAiB+4F,eAAe,SACrDoF,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,kBAAkB+4F,eAAe,YAKpE,GC7CA,CAAgB,YAAc,2BAA2B,aAAe,2BAA2B,eAAiB,2BAA2B,cAAgB,4BD+CpH,CAAEkH,eAAe,IExCrD,IAAMkjF,GAAgB,SAAA/hF,IAAA3wF,EAAAA,GAAAA,GAAA0yK,EAAA/hF,GAAA,I,IAAA1wF,G,EAAAyyK,E,maAE3B,SAAAA,EAAY1sK,GAAO,IAAA/T,EAwEjB,OAxEiBP,EAAAA,GAAAA,GAAA,KAAAghL,GACjBzgL,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAENvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,yBAwEsB,SAAC1F,GACvB,IAAQu5E,EAAWv5E,EAAXu5E,OACiB,CAAC6sG,GAAAA,GAAAA,SAAiBA,GAAAA,GAAAA,SAEtBhzK,SAASmmE,IAC5B7zE,EAAK+9C,SAAS,CAAEg3C,KAAK,GAEzB,IA9EE/0F,EAAK2W,MAAQ,CACXo+E,KAAK,EACL12C,MAAO,CACL,CACE9D,QAASkhD,KAAAA,cAACI,GAAAA,EAAgB,CACxBv+F,GAAG,qBACH+4F,eAAe,0CACfl9F,OAAQ,CAAEwnL,WAAY7hK,OAAO6hK,cAE/BC,UAAW,SACXtjF,OAAQ,+BAEV,CACE/iD,QAASkhD,KAAAA,cAACI,GAAAA,EAAgB,CACxBv+F,GAAG,qBACH+4F,eAAe,iCACjBwqF,iBAAkB,EAClBvjF,OAAQ,4BAEV,CACE/iD,QAASkhD,KAAAA,cAACI,GAAAA,EAAgB,CACxBv+F,GAAG,qBACH+4F,eAAe,8EACjBwqF,iBAAkB,EAClBvjF,OAAQ,8BAEV,CACE/iD,QAASkhD,KAAAA,cAACI,GAAAA,EAAgB,CACxBv+F,GAAG,qBACH+4F,eAAe,gFAEjBiH,OAAQ,qBAEV,CACE/iD,QAASkhD,KAAAA,cAACI,GAAAA,EAAgB,CACxBv+F,GAAG,qBACH+4F,eAAe,+EAEjBwqF,iBAAkB,EAClBD,UAAW,OACXtjF,OAAQ,sBAEV,CACE/iD,QAASkhD,KAAAA,cAACI,GAAAA,EAAgB,CACxBv+F,GAAG,qBACH+4F,eAAe,oEAEjBwqF,iBAAkB,EAClBvjF,OAAQ,oBAEV,CACE/iD,QAASkhD,KAAAA,cAACI,GAAAA,EAAgB,CACxBv+F,GAAG,qBACH+4F,eAAe,yDAEjBwqF,iBAAkB,EAClBvjF,OAAQ,6BAEV,CACE/iD,QAASkhD,KAAAA,cAACI,GAAAA,EAAgB,CACxBv+F,GAAG,yBACH+4F,eAAe,iCAEjBuqF,UAAW,SACXtjF,OAAQ,iCAIdt9F,CACF,CAmCC,OAnCAN,EAAAA,GAAAA,GAAA+gL,EAAA,EAAA1pL,IAAA,SAAA6C,MAWD,WACE,IAAAwlD,EAAuB/rD,KAAKsjB,MAApBo+E,EAAG31C,EAAH21C,IAAK12C,EAAKe,EAALf,MACbw+C,EAAkCxpG,KAAK0gB,MAA/BysK,EAAS3jF,EAAT2jF,UAAWM,EAAUjkF,EAAVikF,WACnB,OACErlF,KAAAA,cAAA,OAAKgC,UAAU,gBACZqjF,GAAcrlF,KAAAA,cAACslF,GAAAA,GAAO,CACrBzzK,SAAUja,KAAK2tL,sBACfd,YAAU,EACVnrF,IAAKA,EACLksF,mBAAiB,EACjBC,iBAAkB,SAACntK,GAAK,OAAK0nF,KAAAA,cAACwG,IAAO/C,EAAAA,GAAAA,GAAA,CAACshF,UAAWA,GAAezsK,GAAS,EACzEotK,cAAY,EACZC,gBAAc,EACd/iI,MAAOA,EACP7G,OAAQ,CACNvpC,QAAS,CACP+N,OAAQ,IACRqlK,WAAY,UACZr4C,MAAO,QAMnB,KAACy3C,CAAA,CA9G0B,CAAS5hF,GAAAA,WCH/B,IAAMyiF,GAAiB,SAAA5iF,IAAA3wF,EAAAA,GAAAA,GAAAuzK,EAAA5iF,GAAA,I,IAAA1wF,G,EAAAszK,E,maAC5B,SAAAA,EAAYvtK,GAAO,IAAA/T,EAwBhB,OAxBgBP,EAAAA,GAAAA,GAAA,KAAA6hL,GACjBthL,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,yBA0BU,SAAC1F,GACvB,IAAQu5E,EAAWv5E,EAAXu5E,OACiB,CAAC6sG,GAAAA,GAAAA,SAAiBA,GAAAA,GAAAA,SAEtBhzK,SAASmmE,IAC5B7zE,EAAK+9C,SAAS,CAAEg3C,KAAK,GAEzB,IA/BE/0F,EAAK2W,MAAQ,CACXo+E,KAAK,EACL12C,MAAO,CACL,CACE9D,QACEkhD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,4BACH+4F,eAAc,kWAKdl9F,OAAQ,CACNs6C,YAAa,SAInBotI,iBAAkB,EAClBvjF,OAAQ,2BAGbt9F,CACH,CAqCC,OArCAN,EAAAA,GAAAA,GAAA4hL,EAAA,EAAAvqL,IAAA,SAAA6C,MAWD,WACE,IAAAwlD,EAAuB/rD,KAAKsjB,MAApBo+E,EAAG31C,EAAH21C,IAAK12C,EAAKe,EAALf,MACbw+C,EAAkCxpG,KAAK0gB,MAA/BysK,EAAS3jF,EAAT2jF,UAAWM,EAAUjkF,EAAVikF,WAEnB,OACErlF,MAAA1qD,cAAA,OAAK0sD,UAAU,gBACZqjF,GACCrlF,MAAA1qD,cAACgwI,GAAAA,GAAO,CACNzzK,SAAUja,KAAK2tL,sBACfd,YAAU,EACVnrF,IAAKA,EACLmsF,iBAAkB,SAACntK,GAAK,OAAK0nF,MAAA1qD,cAACkxD,IAAO/C,EAAAA,GAAAA,GAAA,CAACshF,UAAWA,GAAezsK,GAAS,EACzEotK,cAAY,EACZC,gBAAc,EACd/iI,MAAOA,EACP7G,OAAQ,CACNvpC,QAAS,CACP+N,OAAQ,IACRqlK,WAAY,UACZr4C,MAAO,QAOrB,KAACs4C,CAAA,CA/D2B,CAASziF,GAAAA,WC4UvC,UAAetwC,EAAAA,EAAAA,KAAQ,SAAAr5C,GAAO,MAAQ,CACpC8T,KAD4B9T,EAAJ8T,KAEzB,GAFD,EAEI+jH,EAAAA,EAAAA,IAAWlyC,MAtSf,SAAmB9mF,GAAuB,IAAAwtK,EAEtC14J,EAcE9U,EAdF8U,QACAG,EAaEjV,EAbFiV,KACAw4J,EAYEztK,EAZFytK,YACA11B,EAWE/3I,EAXF+3I,eACA21B,EAUE1tK,EAVF0tK,iBACAC,EASE3tK,EATF2tK,eACAC,EAQE5tK,EARF4tK,cACAC,EAOE7tK,EAPF6tK,aACAC,EAME9tK,EANF8tK,qBACAC,EAKE/tK,EALF+tK,kBACAC,EAIEhuK,EAJFguK,oBACAC,EAGEjuK,EAHFiuK,kBACAC,EAEEluK,EAFFkuK,qBACAC,EACEnuK,EADFmuK,qBAIAC,EAaEX,EAbFW,aACAC,EAYEZ,EAZFY,aACAh7J,EAWEo6J,EAXFp6J,WACAi7J,EAUEb,EAVFa,aACAC,EASEd,EATFc,qBACAxE,EAQE0D,EARF1D,cACAyE,EAOEf,EAPFe,gBACAvD,EAMEwC,EANFxC,eACAS,EAKE+B,EALF/B,iBACAlxI,EAIEizI,EAJFjzI,KACAwvI,EAGEyD,EAHFzD,WACAC,EAEEwD,EAFFxD,SACA7xB,EACEq1B,EADFr1B,UAGFrxD,GAAoDC,EAAAA,GAAAA,WAAS,GAAMC,GAAAvyC,EAAAA,GAAAA,GAAAqyC,EAAA,GAA5D0nF,EAAkBxnF,EAAA,GAAEynF,EAAqBznF,EAAA,GAChDG,GAAgDJ,EAAAA,GAAAA,WAAS,GAAMK,GAAA3yC,EAAAA,GAAAA,GAAA0yC,EAAA,GAAxDunF,EAAgBtnF,EAAA,GAAEunF,EAAmBvnF,EAAA,GAEtCwnF,EAAqBl2K,GAAAA,QAAqB,sBAChDo+F,GAAoC/P,EAAAA,GAAAA,WAAU6nF,GAAmB73E,GAAAtiD,EAAAA,GAAAA,GAAAqiD,EAAA,GAA1Dg2E,EAAU/1E,EAAA,GAAE83E,EAAa93E,EAAA,GAQ1By9B,EADgBs1C,IAA6C,QAAhCyD,EAAIxD,EAAW5gK,yBAAiB,IAAAokK,OAAA,EAA5BA,EAA8BxyI,aAEhE59B,GAA6B,CAC9BvX,MAAOkkL,EACPtmJ,KAAMumJ,EAAW5gK,kBAAkB4xB,aAGjC24D,EAAa,eAAA9nG,GAAAyU,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAO,EAAO6yB,EAAW9jC,GAAM,IAAA7M,EAAA,OAAAud,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,UACvC4K,OAAOtL,KAAK2K,GAAQtQ,OAAQ,CAAFwhB,EAAAnb,KAAA,eAAAmb,EAAAQ,OAAA,iBAK+B,OAHxDve,EAAM6M,EAAO0E,UAAY1E,EAAOoZ,SAElC0qB,IAAcy3I,GAAU2D,OAAOL,GAAsB,GACrD/6I,IAAcy3I,GAAU4D,SAASJ,GAAoB,GAAK7tK,EAAAnb,KAAA,EAExDmyC,GAAQ/0C,EAAIqE,eAAeuyC,WAAW/pC,EAAOoc,UAAS,OAE5D2hK,IAEAlwK,YAAW,WACLi2B,IAAcy3I,GAAU2D,OAAOL,GAAsB,GACrD/6I,IAAcy3I,GAAU4D,SAASJ,GAAoB,EAC3D,GAAG,KAAI,wBAAA7tK,EAAAJ,OAAA,GAAAG,EAAA,KACR,gBAhBkBG,EAAAa,GAAA,OAAAjW,EAAAwT,MAAA,KAAAhf,UAAA,KAkBb4uL,EAAiB,SAACt7I,EAAW9jC,GAGjC,OAFqBA,EAAOsZ,cAAgBmD,OAAO1G,MAAM/V,EAAOkZ,SAiBzD,KAbH2+E,MAAA1qD,cAAA,QAAM2qD,UAAU,kBACdD,MAAA1qD,cAAA,QAAM2qD,UAAU,SACdD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,aAAa+4F,eAAe,eAGnDoF,MAAA1qD,cAAA,UAAQ2qD,UAAU,mBAAmBC,QAAS,kBAAM+L,EAAchgE,EAAW9jC,EAAO,GACjFA,EAAOkZ,QACR2+E,MAAA1qD,cAAA,KAAG0sD,UAAU,kBAAkB/B,UAAU,UAOnD,EAEMunF,EAAqB,SAACr/K,GAC1B,IAAItJ,EAQJ,OANIiK,OAAOtL,KAAK2K,GAAQtQ,SACtBgH,EAAOsJ,EAAOulC,QACVngB,EAAKvK,WAAW7a,EAAOoc,SAAS5kB,eAChC4tB,EAAK,GAADjzB,OAAI6N,EAAOoZ,SAAS5hB,cAAa,UAGpCd,CACT,EAEQuvC,GAAWkvG,EAAAA,GAAAA,KAAXlvG,OAYFq5I,EAAiBD,EAAmBlF,GACpCoF,EAAeF,EAAmBjF,IAExC1iF,EAAAA,GAAAA,YAAU,WACRoM,EAAcy3E,GAAU2D,MAAO/E,EACjC,GAAG,CAACmF,aAAc,EAAdA,EAAgBpmK,WAEpBw+E,EAAAA,GAAAA,YAAU,WACRoM,EAAcy3E,GAAU4D,QAAS/E,EACnC,GAAG,CAACmF,aAAY,EAAZA,EAAcrmK,UAElB,IAzJmBljB,EACbutI,EAwJNj8B,GAAkDnQ,EAAAA,GAAAA,UAAS/xE,EAAKrK,mBAAkBwsF,IAAA1iD,EAAAA,GAAAA,GAAAyiD,EAAA,GAA3EvsF,GAAiBwsF,GAAA,GAAEpqF,GAAoBoqF,GAAA,GACxCi4E,IA1JaxpL,EA0JuB+kB,GAzJpCwoH,GAAMqO,EAAAA,GAAAA,WAEZl6C,EAAAA,GAAAA,YAAU,WACR6rC,EAAIzyG,QAAU96B,CAChB,GAAG,CAACA,IAEGutI,EAAIzyG,UAqJX4mE,EAAAA,GAAAA,YAAU,WACRv6E,GAAqBiI,EAAKrK,mBAGtBykK,KAA0Bp6J,EAAKrK,oBACjC+oF,EAAcy3E,GAAU2D,MAAO/E,GAC/Br2E,EAAcy3E,GAAU4D,QAAS/E,GAErC,GAAG,CAACh1J,EAAKrK,oBAET,IAAAk3H,IAAoD96C,EAAAA,GAAAA,WAAS,GAAM+6C,IAAArtF,EAAAA,GAAAA,GAAAotF,GAAA,GAA5DwtC,GAAkBvtC,GAAA,GAAEwtC,GAAqBxtC,GAAA,IAEhDx6C,EAAAA,GAAAA,YAAU,WACR,IAAIiQ,EASJ,OAPI83E,KACF93E,EAAY95F,YAAU4C,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAC,IAAA,OAAAD,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,cAAAib,EAAAjb,KAAA,EACfmoL,IAAmB,OACzBwB,IAAsB,GAAM,wBAAA1uK,EAAAF,OAAA,GAAAH,EAAA,KAC3B,MAGE,WACDg3F,GAAWzgC,aAAaygC,EAC9B,CACF,GAAG,CAAC83E,MAEJ/nF,EAAAA,GAAAA,YAAU,WACRwmF,GACF,GAAG,CAACS,aAAe,EAAfA,EAAiB3oL,MAAO6lL,aAAgB,EAAhBA,EAAkB7lL,MAAOuoL,IAErD,IAAMoB,GAAoBpB,GAAiBC,IAAiBlD,GAAQsE,eAAkBlB,EAEhFmB,GAAgB,SAAC7pL,GAAK,OAAM+f,MAAM0G,OAAOzmB,KAAWymB,OAAOzmB,GAAS,CAAC,EAsBrE8pL,GAAsBh7I,GAAAA,KAAAA,iBACtBi7I,GAAsB7kK,OAAOirB,eAC9B25I,GAAoBh2K,SAAS60K,EAAgB3oL,OAElD,OACE6hG,MAAA1qD,cAAA,QAAM78B,OAAO,IACXunF,MAAA1qD,cAACuwI,GAAiB,CAACR,WAAYA,EAAYN,UAtJ7B,WAChBqC,GAAc,GACdn2K,GAAAA,QAAqB,sBAAsB,EAC7C,IAqJI+uF,MAAA1qD,cAAA,OAAK2qD,UAAU,gBACbD,MAAA1qD,cAAC65G,GAAW,CACV/rI,WAAY0vB,EACZ/vC,MAAOyjL,EACP1zI,KAAMi6F,GAAaA,EACnBob,eAAgBkI,EAAegyB,cAAclmE,MAjC3B,SAACh+G,GACzB6nL,EAAiB7nL,IAEZ6lL,EAAiB9yB,UAAY82B,GAAc7pL,IAAUA,IAAUkkL,GAClEwF,IAAsB,GAKnBC,IAAmBxB,GAC1B,IAwBQ58B,cAAeo9B,EAAgB3oL,MAC/BstJ,QAAQ,8BACRta,YAAY,OACZxlH,WAAYA,EACZkgI,aACEk7B,EACE/mF,MAAA1qD,cAAA,OAAK2qD,UAAU,iBACbD,MAAA1qD,cAACqvD,GAAY,OAGf4iF,EAAe7D,GAAU2D,MAAO/E,GAGpC74B,SAAU,SAACtrJ,GAAK,OAAK8nL,EAAe,CAClCh6I,UAAWy3I,GAAU2D,MACrBlpL,MAAAA,GACA,KAIN6hG,MAAA1qD,cAAA,OAAK2qD,UAAS,cAAA3lG,OAAgB4tL,GAAsB,UAAY,KAC7DA,IACCloF,MAAA1qD,cAAA0qD,MAAAuB,SAAA,KACEvB,MAAA1qD,cAACkuD,GAAM,CACLxB,UAAU,uBACV/B,UAAU,kBACVj8E,QAAS0sI,EACTn5D,SAAUm5D,EACVxwD,QAASkmF,EACT1jF,OAAK,EACLD,OAAK,GAELzC,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,iBAAiB+4F,eAAe,uBAGvDoF,MAAA1qD,cAACkxD,GAAO,CAAC3kG,GAAG,uBAAuBqkG,MAAM,MAAM9iB,MAAM,GACnD4c,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,4BACH+4F,eAAc,uVAMdl9F,OAAQ,CACNs6C,YAAa8uI,EAAgB3oL,MAAMsW,mBAO7CurF,MAAA1qD,cAAA,OAAK2qD,UAAU,UACbD,MAAA1qD,cAACowG,GAAS,CAACxgD,YAAU,EAAChF,QAASimF,MAInCnmF,MAAA1qD,cAAA,OAAK2qD,UAAS,gBAAA3lG,OAAkB0pL,EAAiB9yB,SAAW,WAAa,KACvElxD,MAAA1qD,cAAC65G,GAAW,CACV53D,UAAWuwF,GACX1kK,WAAY0vB,EACZ/vC,MAAO2jL,GAAgBC,IAAiBlD,GAAQsE,cAAgBtB,EAChEt+B,eAAgBkI,EAAekzB,eAAepnE,MApF1B,SAACh+G,GAC3BooL,EAAkBpoL,GAEd6pL,GAAc7pL,IAAUA,IAAUolL,GACpCsE,IAAsB,EAE1B,IA+EQn+B,cAAes6B,EAAiB7lL,MAChCstJ,QAAQ,gCACR9/H,WAAYi7J,EACZ/6B,aACEo7B,EACEjnF,MAAA1qD,cAAA,OAAK2qD,UAAU,iBACbD,MAAA1qD,cAACqvD,GAAY,OAGf4iF,EAAe7D,GAAU4D,QAAS/E,GAGtC94B,SAAU,SAACtrJ,GACT8nL,EAAe,CACbh6I,UAAWy3I,GAAU4D,QACrBnpL,MAAAA,GAEJ,KAGH6lL,EAAiB9yB,UAChBlxD,MAAA1qD,cAAA,OAAK2qD,UAAU,qBACbD,MAAA1qD,cAACkuD,GAAM,CAAC3hG,GAAG,oBAAoBq+F,QAlLP,WAAM,IAAAioF,EAE9B7jK,EAAuC,QAA3B6jK,EAD2B7vK,EAArCytK,YAAe9C,gBACc1hK,gBAAQ,IAAA4mK,OAAA,EAAxBA,EAA0BxoL,cAE/CytB,EAAQt1B,KAAK+uG,GAAaz4D,EAAQa,GAAM6+C,OACxCz9C,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,eAAiC,CACnD4R,aAAAA,GAEJ,EA0KyEo+E,OAAK,EAACD,OAAK,GAC1EzC,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,iBAAiB+4F,eAAe,uBAMjE,GAIqC7+C,GAAQ,CAAE+lD,eAAe,MC7S9D,GAAe1C,IAAf,EAjCA,SAAuB9mF,GACrB,IAAQquK,EAA4BruK,EAA5BquK,aAAcyB,EAAc9vK,EAAd8vK,UAEhB/3I,EAAU,CACd,CACE7jC,KAAMi3K,GAAQvjI,KACdlZ,QAASg5D,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,OAAO+4F,eAAe,UAEtD,CACEpuF,KAAMi3K,GAAQsE,aACd/gJ,QAASg5D,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,eAAe+4F,eAAe,oBAIhE,OACEoF,MAAA1qD,cAAA,OAAK2qD,UAAU,kBACZ5vD,EAAQr3C,KAAI,SAACyf,GACZ,OACEunF,MAAA1qD,cAAA,SAAO2qD,UAAU,eACfD,MAAA1qD,cAAA,SACE9oC,KAAK,QACLD,KAAK,eACL87K,eAAgB1B,IAAiBluK,EAAOjM,KACxCg1F,SAAU,kBAAM4mF,EAAU3vK,EAAOjM,KAAK,IAEvCiM,EAAOuuB,QAGd,IAGN,GCnCA,CAAgB,eAAiB,2BAA2B,YAAc,4BDqCzB,CAAE86D,eAAe,I,UEjB5D/xD,KAAkB7pB,UAAY,QAAN8pB,GAAN9pB,GAAAA,YAAY,IAAA8pB,IAAI,QAAJC,GAAZD,GAAcliB,UAAE,IAAAmiB,KAAhBA,GAAkB7e,uBAgP1C,SAAeguE,IAAf,EA/NA,SAAkB9mF,GAAuB,IAAA0pK,EAErC50J,EAYE9U,EAZF8U,QACAs5J,EAWEpuK,EAXFouK,aACArjH,EAUE/qD,EAVF+qD,SACAl8D,EASEmR,EATFnR,QACAs9D,EAQEnsD,EARFmsD,SACA6+G,EAOEhrK,EAPFgrK,QACAhB,EAMEhqK,EANFgqK,WACAC,EAKEjqK,EALFiqK,SACAF,EAIE/pK,EAJF+pK,cACAY,EAGE3qK,EAHF2qK,gBACAnwI,EAEEx6B,EAFFw6B,KACA7M,EACE3tB,EADF2tB,WAGIxmC,EAAWwR,GAAAA,QAAqByB,GAAAA,gBAAAA,aACtC2sF,GAA0CC,EAAAA,GAAAA,UAAsB,MAAb7/F,GAAiB8/F,GAAAvyC,EAAAA,GAAAA,GAAAqyC,EAAA,GAA7Du+D,EAAar+D,EAAA,GAAE+oF,EAAgB/oF,EAAA,GAEhCgpF,EAAkBt3K,GAAAA,QAAqByB,GAAAA,aAAAA,gBACvC81K,GAAoB5qB,IAAkBhuJ,GAAS2F,cAsBjD2a,OAA0Bt3B,EAC1BirB,OAA4BjrB,EAC5B6vL,OAA8B7vL,EAC9B8vL,OAAgC9vL,EAChCyiC,OAA4BziC,EAEhC,GAAI6rE,EAAU,KAAAkkH,EAAAC,EAAAC,EACJ9pI,EAA0B0lB,EAA1B1lB,WAAYC,EAAcylB,EAAdzlB,UAEd8pI,EAAaC,GAAAA,OAAAA,sBACjBhqI,EACmB,QADT4pI,EACVrG,EAAW7tJ,gBAAQ,IAAAk0J,EAAAA,EAAI9G,IAEnBl5I,EAAWogJ,GAAAA,OAAAA,sBACf/pI,EACiB,QADR4pI,EACTrG,EAAS9tJ,gBAAQ,IAAAm0J,EAAAA,EAAI/G,IAIvBxmJ,EAAQ,GAAH/gC,OAAM,IAAI26B,GAAAA,EAAU6zJ,GAAY/gJ,IAAIY,GAAUX,GAF1B,GAE+C5vC,WAAU,KAAAkC,OAChFgoL,EAAW/gK,SAAQ,OAAAjnB,OACfioL,EAAShhK,UAEf,IAAMynK,EAAc,IAAI/zJ,GAAAA,EAAUotJ,GAAez/I,KAAK0gJ,GAASt7I,GANtC,GAezB,GAPA9X,EAAM,GAAH51B,OAAM,IAAI26B,GAAAA,EAAUquJ,GAASt7I,GARP,GAQ2B,KAAA1tC,OAAI6M,EAAQoa,UAG3D+gK,EAAW50I,UACd7pB,EAAQ,GAAHvpB,OAAM0uL,EAAW,KAAA1uL,OAAI6M,EAAQoa,WAGC,QAArCsnK,EAAI5F,EAAgBvhK,yBAAiB,IAAAmnK,GAAjCA,EAAmCxtJ,MAAO,CAC5C,IAAM4tJ,EAAcvzK,GAA6B,CAC/CvX,MAAOmlL,EACPvnJ,KAAMknJ,EAAgBvhK,kBAAkB2Z,QAEpC6tJ,EAAmBxzK,GAA6B,CACpDvX,MAAO6qL,EACPjtJ,KAAMknJ,EAAgBvhK,kBAAkB2Z,QAG1CotJ,EAAU,IAAHnuL,OAAO2uL,EAAW,KAAA3uL,OAAIw4C,EAAI,KACjC41I,EAAY,IAAHpuL,OAAO4uL,EAAgB,KAAA5uL,OAAIw4C,EAAI,IAC1C,CACF,CAEA,IAAMq2I,EACJnpF,MAAA1qD,cAACkuD,GAAM,CACL3hG,GAAG,mBACHsgG,OAAK,EACLF,WAAS,EACThC,UAAU,eACVC,QAzDkB,WACpBtwF,GAASkjD,QAAQ,CAAEg/G,cAAc,GACnC,GAyDI9xE,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,gCAAgC+4F,eAAe,oBAGlEwuF,EACJppF,MAAA1qD,cAAA,QAAM2qD,UAAU,aACdD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,sBAAsB+4F,eAAe,4BAE1DoF,MAAA1qD,cAACgwD,GAAI,CAAChuE,KAAMgrJ,EAAW16K,SACrBo4F,MAAA1qD,cAAA,QAAM2qD,UAAU,iBACdD,MAAA1qD,cAACmzF,GAAO,CACN7gI,QAAS06K,EAAW16K,QACpB8tC,OAAQwa,EAAAA,GAAWoE,GAAcs0E,MAAQt0E,GAAcu+G,KACvDrmK,KAAMoD,GAAS2F,cAAgB6uB,GAAAA,SAAuBA,GAAAA,cAOhE,OACE47D,MAAA1qD,cAAA,WAAS2qD,UAAU,YAChBlwD,GACCiwD,MAAA1qD,cAAA0qD,MAAAuB,SAAA,KACI3xF,GAAS2F,cAGTyqF,MAAA1qD,cAAA0qD,MAAAuB,SAAA,KAAG6nF,GAFHppF,MAAA1qD,cAAA0qD,MAAAuB,SAAA,KAAG4nF,IAMPnpF,MAAA1qD,cAAA0qD,MAAAuB,SAAA,MACI3xF,GAAS2F,iBAAmBgzK,IAAoB3qB,IAChD59D,MAAA1qD,cAAA0qD,MAAAuB,SAAA,KAAG4nF,GAEHZ,EAIEC,EACFxoF,MAAA1qD,cAACkuD,GAAM,CACL3hG,GAAG,sBACHo+F,UAAU,eACVqC,MAAI,EACJL,WAAS,EACT/B,QAvHS,WACnB7vD,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,uBAAyC,CAC3D4oF,QAAS,WACP,IAAM77F,EAAWwR,GAAAA,QAAqByB,GAAAA,gBAAAA,aAEtC41K,EAA8B,MAAb7oL,EACnB,GAEJ,GAiHYugG,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,2BAA2B+4F,eAAe,wBAGjEoF,MAAA1qD,cAAA0qD,MAAAuB,SAAA,KAAG6nF,GAdHppF,MAAA1qD,cAACkuD,GAAM,CAAC3hG,GAAG,kBAAkBo+F,UAAU,eAAeqC,MAAI,EAACL,WAAS,EAAC/B,QApG1D,WACnB,IAAMjmD,EAAaqoI,EAAW/9J,UAAY+9J,EAAW/gK,SAErD6L,EAAQt1B,KAAK,GAADwC,OAAI20C,GAAMphB,aAAY,KAAAvzB,OAAI2/C,EAAWxlC,eACnD,GAiGYurF,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,oBAAoB+4F,eAAe,oBAkBhEoF,MAAA1qD,cAAA,QAAM2qD,UAAU,aACdD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,UAAU+4F,eAAe,YAAY,IAAE,IAC5DoF,MAAA1qD,cAAA,QAAM2qD,UAAU,SAAS94F,EAAQssD,YAGlCizH,GACC1mF,MAAA1qD,cAAA,QAAM2qD,UAAU,aACdD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,SAAS+4F,eAAe,WAAW,IAAE,IAC1DoF,MAAA1qD,cAAA,QAAM2qD,UAAU,SAAsD,QAA/C+hF,EAAED,GAAsB56K,EAAQklB,uBAAe,IAAA21J,OAAA,EAA7CA,EAA+Cz1K,OAI5EyzF,MAAA1qD,cAAA,QAAM2qD,UAAU,aACdD,MAAA1qD,cAAA,YACE0qD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,oBAAoB+4F,eAAe,uBAAwB,IAChFoF,MAAA1qD,cAACkxD,GAAO,CAAC3kG,GAAG,qBACVm+F,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,iBACH+4F,eAAe,gGAET,KAGZoF,MAAA1qD,cAAA,QAAM2qD,UAAU,SAAS58B,EAAS,MAGnCp9B,IAAeygJ,GACd1mF,MAAA1qD,cAAA,QAAM2qD,UAAU,aACdD,MAAA1qD,cAAA,YACE0qD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,yBAAyB+4F,eAAe,gBAAiB,IAC9EoF,MAAA1qD,cAACkxD,GAAO,CAAC3kG,GAAG,0BACVm+F,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,2BACH+4F,eAAe,wEAET,KAGZoF,MAAA1qD,cAAA,QAAM2qD,UAAU,SACb,IAAIhrE,GAAAA,EAAUgR,EAAW28I,SAASjgJ,ad1NpB,Kc0N8CzN,WAAW,MAK7EmG,GACC2kE,MAAA1qD,cAAA,QAAM2qD,UAAU,aACdD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,YAAY+4F,eAAe,UAAU,IAAE,IAC5DoF,MAAA1qD,cAAA,QAAM2qD,UAAU,SAAS5kE,IAI5BioJ,GAAWpzJ,GACV8vE,MAAA1qD,cAAA,QAAM2qD,UAAU,aACdD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,MAAM+4F,eAAe,QAAQ,IAAE,IACpDoF,MAAA1qD,cAAA,QAAM2qD,UAAU,SACb/vE,EAAI,IAAEu4J,GAAWA,IAKvB5kK,GAASw+J,GAAiBiB,GACzBtjF,MAAA1qD,cAAA,QAAM2qD,UAAU,aACdD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,QAAQ+4F,eAAe,UAAU,IAAE,IACxDoF,MAAA1qD,cAAA,QAAM2qD,UAAU,SACbp8E,EAAM,IAAE6kK,GAAaA,IAMlC,GAEoC3sI,GAAQ,CAAE+lD,eAAe,IChQ7D,IAAMiD,GAAY,WAAO,EAkCzB,SAAe3F,IAAf,EAhCA,SAAkB9mF,GAChB,IACEs8I,EASEt8I,EATFs8I,aACAy0B,EAQE/wK,EARF+wK,aAAYl+B,EAQV7yI,EAPFi/E,SAAAA,OAAQ,IAAA4zD,GAAQA,EAAAm+B,EAOdhxK,EANFqzH,QAAAA,OAAO,IAAA29C,EAAGvkF,GAASukF,EAAAC,EAMjBjxK,EALF0zI,UAAAA,OAAS,IAAAu9B,EAAGxkF,GAASwkF,EACrB3kC,EAIEtsI,EAJFssI,UAAS4kC,EAIPlxK,EAHF2nF,UAAAA,OAAS,IAAAupF,EAAG,GAAEA,EAAAt+B,EAGZ5yI,EAFF64H,YAAAA,OAAW,IAAA+Z,EAAG,GAAEA,EAAAu+B,EAEdnxK,EADF6lI,OAAAA,OAAM,IAAAsrC,GAAQA,EAGhB,OACEzpF,MAAA1qD,cAAA,OAAK2qD,UAAS,gBAAA3lG,OAAkBi9F,EAAW,WAAa,KACtDyI,MAAA1qD,cAACgmH,GAAU,KACR1G,EAAa,IAAEy0B,GAElBrpF,MAAA1qD,cAACqvG,GAAK,CACJptD,SAAUA,EACV0I,UAAWA,EACX6kD,QAAQ,SACRkH,UAAWA,EACXrgB,QAASA,EACTiZ,UAAWA,EACXsC,WAAY/I,EACZhN,YAAaA,IAIrB,GAEoCp1F,GAAQ,CAAE+lD,eAAe,I,ykBCgG7D,SAAe1C,IAAf,EA7HA,SAAkB9mF,GAChB,IAAQouK,EAA6EpuK,EAA7EouK,aAAcr2B,EAA+D/3I,EAA/D+3I,eAAgBg2B,EAA+C/tK,EAA/C+tK,kBAAmBqD,EAA4BpxK,EAA5BoxK,cAAermH,EAAa/qD,EAAb+qD,SAElEsmH,EAAe,WACnB3zK,WAAWqwK,EAAmB,IAChC,EAEMuD,EAAiB,SAAC9xK,GACtB8wI,GAAyB9wI,GACzB4xK,GACF,EAEArqF,GAAsCC,EAAAA,GAAAA,WAAkB,GAAMC,GAAAvyC,EAAAA,GAAAA,GAAAqyC,EAAA,GAAvDwqF,EAAWtqF,EAAA,GAAEuqF,EAAcvqF,EAAA,GAClCG,GAAkDJ,EAAAA,GAAAA,WAAkB,GAAMK,GAAA3yC,EAAAA,GAAAA,GAAA0yC,EAAA,GAAnEqqF,EAAqBpqF,EAAA,GAAEqqF,EAAgBrqF,EAAA,GAC9C0P,GAAgD/P,EAAAA,GAAAA,WAAkB,GAAMgQ,GAAAtiD,EAAAA,GAAAA,GAAAqiD,EAAA,GAAjE46E,EAAgB36E,EAAA,GAAE46E,EAAmB56E,EAAA,GAU5C,OARAzP,EAAAA,GAAAA,YAAU,WACRiqF,EAAezmH,EhBvBX,IgBwBJ2mH,EACE3mH,EhBxBM,IgBwBsCA,EhB1B3C,IgB4BH6mH,EAAoB7mH,GhB5BjB,GgB6BL,GAAG,CAACA,IAGF28B,MAAA1qD,cAAA,WAAS2qD,UAAU,YACjBD,MAAA1qD,cAAC60I,GAAQ,CACPhsC,QAAM,EACNxS,QAASg+C,EACT39B,UAAWpD,GACXhE,UAAWyL,EAAehtF,SAC1BuxF,aACE50D,MAAA1qD,cAAA0qD,MAAAuB,SAAA,KACEvB,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,oBAAoB+4F,eAAe,uBACvD,QAGLyuF,aACErpF,MAAA1qD,cAACkxD,GAAO,CAAC3kG,GAAG,mBACVm+F,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,iBACH+4F,eAAe,kGAMtB8rF,GACC1mF,MAAA1qD,cAAC60I,GAAQ,CACPhsC,QAAM,EACN6N,UAAWpD,GACXhE,UAAWyL,EAAe+5B,aAC1Bx1B,aACE50D,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,sBACH+4F,eAAe,qCAMvBoF,MAAA1qD,cAAC60I,GAAQ,CACPhsC,QAAM,EACN5mD,SAAUmvF,EACVv1C,YAAY,OACZxF,QAASg+C,EACT39B,UAAW49B,EACXhlC,UAAWyL,EAAe71G,SAC1Bo6G,aACE50D,MAAA1qD,cAAA0qD,MAAAuB,SAAA,KACEvB,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,WAAW+4F,eAAe,cAAc,WAGjEyuF,aACErpF,MAAA1qD,cAACkxD,GAAO,CAAC3kG,GAAG,mBACVm+F,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,iBACH+4F,eAAe,2FAMvBoF,MAAA1qD,cAAC60I,GAAQ,CACP5yF,SAAUmvF,EACVv1C,YAAY,OACZxF,QAASg+C,EACT39B,UAAW49B,EACXhlC,UAAWyL,EAAepyF,SAC1B22F,aAAc50D,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,WAAW+4F,eAAe,cAC7DyuF,aACErpF,MAAA1qD,cAACkxD,GAAO,CAAC3kG,GAAG,mBACVm+F,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,iBACH+4F,eAAe,gFAMvBoF,MAAA1qD,cAAA,OAAK2qD,UAAU,mBACZ4pF,EACC7pF,MAAA1qD,cAAA,KAAG2qD,UAAU,iBACXD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,qBAAqB+4F,eAAe,0BAEzDmvF,EACF/pF,MAAA1qD,cAAA,KAAG2qD,UAAU,iBACXD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,2BACH+4F,eAAe,iCAGjBqvF,EACFjqF,MAAA1qD,cAAA,KAAG2qD,UAAU,mBACXD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,yBACH+4F,eAAe,8BAGjB,MAIZ,GAEkC3rF,GAAAA,GAAA,GCtIlC,CAAgB,SAAW,2BAA2B,gBAAkB,6BDsIpBo7K,IAAgB,CAAEvoF,eAAe,IEHrF,GAAe1C,IAAf,EA7HA,SAAkB9mF,GAChB,IACEnR,EAcEmR,EAdFnR,QACAu/K,EAaEpuK,EAbFouK,aACA4D,EAYEhyK,EAZFgyK,YACArH,EAWE3qK,EAXF2qK,gBACAZ,EAUE/pK,EAVF+pK,cACAmE,EASEluK,EATFkuK,qBACAC,EAQEnuK,EARFmuK,qBACA1mH,EAOEznD,EAPFynD,aACAwqH,EAMEjyK,EANFiyK,aACAC,EAKElyK,EALFkyK,aACA1D,EAIExuK,EAJFwuK,gBACA9C,EAGE1rK,EAHF0rK,iBACAjhL,EAEEuV,EAFFvV,MACA4jL,EACEruK,EADFquK,aAGF,OACE3mF,MAAA1qD,cAAA,eACIoxI,GAAiB5E,GAAS36K,aAAO,EAAPA,EAASklB,gBAOjC0zC,EACFigC,MAAA1qD,cAAA,KAAG2qD,UAAU,mBACXD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,mBAAmB+4F,eAAe,mCAEvD0vF,IAAgB3G,GAAa8G,kBAC/B/D,GACAC,IAAiBlD,GAAQsE,aACzB/nF,MAAA1qD,cAAA,KAAG2qD,UAAU,iBACXD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,4BACH+4F,eAAe,qGAGhBynF,EAID,IAAIptJ,GAAAA,EAAUguJ,aAAe,EAAfA,EAAiB5hK,SAAS0hB,UAAU,GACpDi9D,MAAA1qD,cAAA,KAAG2qD,UAAU,iBACXD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,iCACH+4F,eAAe,wEAGjB4rF,EACFxmF,MAAA1qD,cAAA,KAAG2qD,UAAU,iBACXD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,uBACH+4F,eAAe,mCACfl9F,OAAQ,CAAE6jB,SAAUulK,aAAe,EAAfA,EAAiBv6K,SAGvCk6K,GAAwBE,IAAiBlD,GAAQsE,aACnD/nF,MAAA1qD,cAAA,KAAG2qD,UAAU,iBACXD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,uBACH+4F,eAAe,mCACfl9F,OAAQ,CAAE6jB,SAAUyiK,aAAgB,EAAhBA,EAAkBz3K,SAGxCg+K,GAAgBC,GAAgB7D,IAAiBlD,GAAQsE,aAC3D/nF,MAAA1qD,cAAA,KAAG2qD,UAAU,iBACXD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,oBACH+4F,eAAe,sCAGjB2vF,EACFvqF,MAAA1qD,cAAA,KAAG2qD,UAAU,iBACXD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,oBACH+4F,eAAe,+BACfl9F,OAAQ,CAAE8rB,MAAOs9J,EAAgBv6K,SAGnCi+K,GAAgB7D,IAAiBlD,GAAQsE,aAC3C/nF,MAAA1qD,cAAA,KAAG2qD,UAAU,iBACXD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,oBACH+4F,eAAe,+BACfl9F,OAAQ,CAAE8rB,MAAOw6J,EAAiBz3K,SAGpC+9K,IAAgB3G,GAAa+G,qBAC/B1qF,MAAA1qD,cAAA,KAAG2qD,UAAU,iBACXD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,uBACH+4F,eAAe,+CAGjB0vF,IAAgB3G,GAAagH,YAC/B3qF,MAAA1qD,cAAA,KAAG2qD,UAAU,iBACXD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,wBACH+4F,eAAe,iCAGjB0vF,IAAgB3G,GAAaiH,UAC/B5qF,MAAA1qD,cAAA,KAAG2qD,UAAU,iBACXD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,uBACH+4F,eAAe,sFAGjB0vF,IAAgB3G,GAAakH,QAC/B7qF,MAAA1qD,cAAA,KAAG2qD,UAAU,mBACXD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,gCACH+4F,eAAe,kCAGjB,KA7EFoF,MAAA1qD,cAAA,KAAG2qD,UAAU,iBACXD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,eAAe+4F,eAAe,6BArBrDoF,MAAA1qD,cAAA,KAAG2qD,UAAU,mBACXD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,iCACH+4F,eAAe,+DAgGpB73F,GAASi9F,MAAA1qD,cAAA,OAAK2qD,UAAU,mBAAmBl9F,aAAK,EAALA,EAAOikC,SAGzD,GAEoC+U,GAAQ,CAAE+lD,eAAe,ICrH9C,SAASgpF,GAAgBxyK,GACtC,IACEo4I,EAcEp4I,EAdFo4I,UACA7xJ,EAaEyZ,EAbFzZ,KACAksL,EAYEzyK,EAZFyyK,OACAzvF,EAWEhjF,EAXFgjF,QACAluE,EAUE9U,EAVF8U,QACAk2J,EASEhrK,EATFgrK,QACAxwI,EAQEx6B,EARFw6B,KACA7M,EAOE3tB,EAPF2tB,WACAo9B,EAME/qD,EANF+qD,SACAl8D,EAKEmR,EALFnR,QACAk7K,EAIE/pK,EAJF+pK,cACAY,EAGE3qK,EAHF2qK,gBACAX,EAEEhqK,EAFFgqK,WACAC,EACEjqK,EADFiqK,SAGFljF,GAA0CC,EAAAA,GAAAA,WAAS,GAAMC,GAAAvyC,EAAAA,GAAAA,GAAAqyC,EAAA,GAAlD2rF,EAAazrF,EAAA,GAAE0rF,EAAgB1rF,EAAA,GAOtC,OACES,MAAA1qD,cAACstG,GAAK,CACJr2I,KAAM,eACN3G,MAAOo6F,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,cAAc+4F,eAAe,iBACzDU,QAASA,EACTijD,iBAAe,GAEfv+C,MAAA1qD,cAAA,OAAK0sD,UAAU,uBACX0uD,GACA1wD,MAAA1qD,cAAC41I,GAAQ,CACP99J,QAASA,EACTs5J,cAAc,EACdrjH,SAAUA,EACVl8D,QAASA,EACTs9D,SAAU5lE,EACVykL,QAASA,EACTjB,cAAeA,EACfY,gBAAiBA,EACjBX,WAAYA,EACZC,SAAUA,EACVzvI,KAAMA,EACN7M,WAAYA,IAGf+kJ,GACChrF,MAAA1qD,cAAA,KAAG0sD,UAAU,yBACXhC,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,wBAAwB+4F,eAAe,4CAGhEoF,MAAA1qD,cAACkuD,GAAM,CAACx/E,QAAS0sI,EAAWn5D,SAAUm5D,EAAWxwD,QAlCrC,WAChB+qF,GAAiB,GACjBF,GACF,EA+B2E5oF,OAAK,EAACF,WAAS,GAClFjC,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,OAAO+4F,eAAe,WAKrD,CCiRA,SAAewE,IAAf,EAvTA,SAAgB9mF,GAAoB,IAAA6yK,EAEhC/9J,EAeE9U,EAfF8U,QACA24J,EAcEztK,EAdFytK,YACAW,EAaEpuK,EAbFouK,aACAC,EAYEruK,EAZFquK,aACAvpI,EAWE9kC,EAXF8kC,YACAguI,EAUE9yK,EAVF8yK,eACA1B,EASEpxK,EATFoxK,cACA2B,EAQE/yK,EARF+yK,mBACAC,EAOEhzK,EAPFgzK,qBACA9E,EAMEluK,EANFkuK,qBACAC,EAKEnuK,EALFmuK,qBACA8E,EAIEjzK,EAJFizK,WACAtI,EAGE3qK,EAHF2qK,gBACAoD,EAEE/tK,EAFF+tK,kBACAmF,EACElzK,EADFkzK,oBAGAlB,EAqBEvE,EArBFuE,YACAnjL,EAoBE4+K,EApBF5+K,QACAk7K,EAmBE0D,EAnBF1D,cACAC,EAkBEyD,EAlBFzD,WACAwE,EAiBEf,EAjBFe,gBACA9C,EAgBE+B,EAhBF/B,iBACAzB,EAeEwD,EAfFxD,SACA99G,EAcEshH,EAdFthH,SACAxG,EAaE8nH,EAbF9nH,SACAzjB,EAYEurI,EAZFvrI,SACA+vI,EAWExE,EAXFwE,aACAC,EAUEzE,EAVFyE,aACA95B,EASEq1B,EATFr1B,UACA6yB,EAQEwC,EARFxC,eACA6G,EAOErE,EAPFqE,aACArnL,EAMEgjL,EANFhjL,MACAsgE,EAKE0iH,EALF1iH,SACAwjH,EAIEd,EAJFc,qBACAvD,EAGEyC,EAHFzC,QACAr9I,EAEE8/I,EAFF9/I,WACA6M,EACEizI,EADFjzI,KAGFusD,GAAwCC,EAAAA,GAAAA,WAAkB,GAAMC,GAAAvyC,EAAAA,GAAAA,GAAAqyC,EAAA,GAAzDosF,EAAYlsF,EAAA,GAAEmsF,EAAensF,EAAA,GAE9BosF,EAAe,eAAAxnL,GAAAyU,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAO,IAAA,OAAAP,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OACD,OAArBwtL,GAAgB,GAAKryK,EAAAnb,KAAA,EACfstL,IAAqB,wBAAAnyK,EAAAJ,OAAA,GAAAG,EAAA,KAC5B,kBAHoB,OAAAjV,EAAAwT,MAAA,KAAAhf,UAAA,KAKfqlE,EAAO,eAAA14D,GAAAsT,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,EAAOmzB,GAAS,IAAA+1I,EAAAplI,EAAAz0C,EAAAsc,EAAA4yD,EAAA,OAAAx+D,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OAad,OAZV0+C,EAAyB8pI,EACkB,QADN1E,EACvCD,GAAsB56K,EAAQklB,uBAAe,IAAA21J,OAAA,EAA7CA,EAA+CtzJ,OAC/Cue,GAAAA,aAA4B60I,GAAS36K,EAAQklB,gBAAgBuwB,SAE7Dz0C,EAASm6K,EACT79J,EAAS49J,EAETp2I,IAAcy3I,GAAU4D,UAC1Bn/K,EAASo6K,EACT99J,EAAS8+J,GAGXgI,GAAW,GAAKpyK,EAAAtZ,KAAA,EAAAsZ,EAAAjb,KAAA,EAGgBmyC,GAAQloC,EAAO0E,UAAUmxD,QAAQ,CAC7Dz1B,GAAIqU,EACJrwC,KAAMpE,EAAOoc,SACbE,OAAAA,IACA,OAMe,OAVX4yD,EAAel+D,EAAAG,KAMrB+2B,GAAAA,cAAAA,KAA2B39B,GAAAA,cAAAA,YAAqC,CAC9D27B,KAAM1tB,GAAa63E,QAAQrwF,EAAO0E,SAAUwqE,KAG9Ck0G,GAAW,GAAMpyK,EAAAjb,KAAA,GACXmoL,IAAmB,QAAAltK,EAAAjb,KAAA,iBAAAib,EAAAtZ,KAAA,GAAAsZ,EAAAkC,GAAAlC,EAAA,SAEzBikC,EAAWjkC,EAAAkC,IAAO,yBAAAlC,EAAAF,OAAA,GAAAH,EAAA,mBAErB,gBA/BYS,GAAA,OAAAjU,EAAAqS,MAAA,KAAAhf,UAAA,KAiCPizL,EAAO,eAAAnyK,GAAAb,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAkB,IAAA,IAAAuK,EAAAunK,EAAAzkH,EAAAkxF,EAAA,OAAAz/I,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,WACVwoL,EAAc,CAAFzsK,EAAA/b,KAAA,eAAA+b,EAAAJ,OAAA,oBACX4qD,EAAU,CAAFxqD,EAAA/b,KAAA,cAAQ,IAAI/H,MAAM,uCAAsC,UACjEsuE,EAASl8B,KAAO0E,GAAAA,aAA4B60I,GAAS36K,EAAQklB,gBAAgBuwB,SAAQ,CAAA3iC,EAAA/b,KAAA,eAAA+b,EAAAJ,OAAA,SAChFrI,QAAQ4jB,IAAI,6DAA8D,cAAY,OAaH,OAVtF9Q,EAAeg+J,EAAWz1K,SAAWy1K,EAAWh+J,aAAeg+J,EAAW/gK,SAC1EsqK,EAAYvJ,EAAWz1K,SAAWy1K,EAAW/9J,SAAW+9J,EAAW/gK,SAEzEg5B,GAAAA,MAAAA,YAA2B,YAADjgD,OACZ6M,EAAQssD,UAAS,MAAAn5D,OAAKgoL,EAAW/gK,SAAQ,QAAAjnB,OAAOioL,EAAShhK,WAEvEgqK,GAAW,GAAKtxK,EAAApa,KAAA,GAGVo+D,IAAUwG,EAAS8S,IAAMtZ,GACzBzjB,IAAUiqB,EAASjqB,SAAW9kC,GAAM+O,OAAO02B,mBAAmBX,EpB/H3C,IoB+HmEvgC,EAAA/b,KAAA,GAErEmyC,GAAQ/rB,EAAa3kB,eAAem6E,qBAAqB,CAC5Ej7E,KAAM4lE,IACN,SAFI2C,EAAMntD,EAAAX,QAKJg/I,EAAY33I,GAAa4nD,YAAYsjH,EAAUlsL,cAAeynE,GACpE0wB,GAAmBwgE,IAGrBoxB,IACA2B,IAAoBpxK,EAAA/b,KAAA,iBAAA+b,EAAApa,KAAA,GAAAoa,EAAAoB,GAAApB,EAAA,UAEpBmjC,EAAWnjC,EAAAoB,IAAO,QAGpBkwK,GAAW,GACXG,GAAgB,GAAM,yBAAAzxK,EAAAhB,OAAA,GAAAc,EAAA,oBACvB,kBApCY,OAAAN,EAAA9B,MAAA,KAAAhf,UAAA,KAsCPmzL,EAAU,eAAAhyK,GAAAlB,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAa,IAAA,IAAAqyK,EAAAznK,EAAA0nK,EAAAC,EAAAtD,EAAAuD,EAAAtD,EAAAhvL,EAAAuyL,EAAA7zB,EAAA,OAAAz/I,IAAAA,MAAA,SAAAe,GAAA,cAAAA,EAAA/Z,KAAA+Z,EAAA1b,MAAA,UACbyoL,IAAiBlD,GAAQvjI,MAASwmI,EAAY,CAAA9sK,EAAA1b,KAAA,eAAA0b,EAAAC,OAAA,iBASlC,OAPVyK,EAAeg+J,EAAWz1K,SAAWy1K,EAAWh+J,aAAeg+J,EAAW/gK,SAEhFg5B,GAAAA,gBAAAA,YAAqC,YAADjgD,OACtB6M,EAAQssD,UAAS,cAAAn5D,OACkB,QADlByxL,EAC3BhK,GAAsB56K,EAAQklB,uBAAe,IAAA0/J,OAAA,EAA7CA,EAA+Cx/K,KAAI,aAAAjS,OACzCgoL,EAAW/gK,SAAQ,QAAAjnB,OAAOioL,EAAShhK,WAEjDgqK,GAAW,GAAK3xK,EAAA/Z,KAAA,EAAA+Z,EAAA1b,KAAA,EAGOmyC,GAAAA,QAAAA,aAA6B,CAChDgzB,SAAAA,EACAxB,cAA4D,QAA/CmqH,EAAEjK,GAAsB56K,EAAQklB,uBAAe,IAAA2/J,OAAA,EAA7CA,EAA+Ct9J,OAC9DpK,aAAAA,EACAq4B,MAAO2lI,EAAW16K,QAClBq7D,UAAqC,QAA5BgpH,EAAE3J,EAAWvoH,uBAAe,IAAAkyH,EAAAA,EAAIxvJ,GAAUF,iBACnDwiB,WAAYsjI,EACZn/G,kBAAsC,QAArBylH,EAAErG,EAAW7tJ,gBAAQ,IAAAk0J,EAAAA,EAAI9G,GAC1C1+G,QAAiC,QAA1B+oH,EAAE3J,EAASxoH,uBAAe,IAAAmyH,EAAAA,EAAIzvJ,GAAUF,iBAC/CyiB,UAAWukI,EACXngH,gBAAkC,QAAnBwlH,EAAErG,EAAS9tJ,gBAAQ,IAAAm0J,EAAAA,EAAI/G,GACtC/gH,epB1KsB,GoB0KNspH,EAChBhmH,kBAAkB,IAClB,OAbIxqE,EAAMggB,EAAAN,KAeZiyK,GAAW,GAEP3xL,aAAkBzD,MAChByD,SAAe,QAATuyL,EAANvyL,EAAQotC,eAAO,IAAAmlJ,GAAfA,EAAiBhnL,MAAM,8BACzBimL,EAAezH,GAAa+G,sBAE5BttI,EAAYxjD,GAELA,SAAAA,EAAQy9E,kBACXihF,EAAY33I,GAAa4nD,YAC7B+5G,EAAWz1K,SAAWy1K,EAAW/9J,SAAW+9J,EAAW/gK,SACvD3nB,EAAOy9E,iBAGTygB,GAAmBwgE,IACpB1+I,EAAA1b,KAAA,iBAAA0b,EAAA/Z,KAAA,GAAA+Z,EAAAyB,GAAAzB,EAAA,SAEDwjC,EAAWxjC,EAAAyB,IAAO,QAGpBkwK,GAAW,GAAM,yBAAA3xK,EAAAX,OAAA,GAAAS,EAAA,mBAClB,kBAjDe,OAAAI,EAAAnC,MAAA,KAAAhf,UAAA,KAmDVktE,EAAY,eAAArrD,GAAA5B,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAA0B,IAAA,IAAA6xK,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA7yL,EAAA0+J,EAAA,OAAAz/I,IAAAA,MAAA,SAAAmC,GAAA,cAAAA,EAAAnb,KAAAmb,EAAA9c,MAAA,UACfyoL,IAAiBlD,GAAQsE,cAAiBrB,EAAY,CAAA1rK,EAAA9c,KAAA,eAAA8c,EAAAnB,OAAA,iBAO1C,OALhB0gC,GAAAA,gBAAAA,aAAsC,WAADjgD,OACqB,QADrB8xL,EACxBrK,GAAsB56K,EAAQklB,uBAAe,IAAA+/J,OAAA,EAA7CA,EAA+C7/K,KAAI,eAAAjS,OAC5DgoL,EAAW/gK,SAAQ,eAAAjnB,OACPioL,EAAShhK,WAEzBgqK,GAAW,GAAKvwK,EAAAnb,KAAA,EAAAmb,EAAA9c,KAAA,EAGOmyC,GAAAA,QAAAA,qBAAqC,CACxDwxB,cAA4D,QAA/CwqH,EAAEtK,GAAsB56K,EAAQklB,uBAAe,IAAAggK,OAAA,EAA7CA,EAA+C39J,OAC9DpK,aAAc2+J,EAAgB1hK,SAE9B8hD,SAAUwjH,EAAuBxjH,EAAW,EAC5C5B,OAAkC,QAA5B6qH,EAAEhK,EAAWvoH,uBAAe,IAAAuyH,EAAAA,EAAI7vJ,GAAUF,iBAChDulC,eAAmC,QAArByqH,EAAEjK,EAAW7tJ,gBAAQ,IAAA83J,EAAAA,EAAI1K,GACvCv/G,eAAgB+/G,EAChB3gH,OAAgC,QAA1B8qH,EAAEjK,EAASxoH,uBAAe,IAAAyyH,EAAAA,EAAI/vJ,GAAUF,iBAC9CwlC,eAAiC,QAAnB0qH,EAAElK,EAAS9tJ,gBAAQ,IAAAg4J,EAAAA,EAAI5K,GACrCh9G,eAAgB0+G,EAChB5mI,MAAO2lI,EAAW16K,QAClBk5D,epB5NsB,GoB4NNspH,IAChB,OAEExwL,OAfEA,EAAMohB,EAAA1B,OAeR1f,EAAQy9E,kBACJihF,EAAY33I,GAAa4nD,YAC7B+5G,EAAWz1K,SAAWy1K,EAAW/9J,SAAW+9J,EAAW/gK,SACvD3nB,EAAOy9E,iBAGTygB,GAAmBwgE,IACpBt9I,EAAA9c,KAAA,iBAAA8c,EAAAnb,KAAA,GAAAmb,EAAAK,GAAAL,EAAA,SAEDoiC,EAAWpiC,EAAAK,IAAO,QAED,OAFCL,EAAAnb,KAAA,GAElB0rL,GAAW,GAAMvwK,EAAA6sF,OAAA,6BAAA7sF,EAAA/B,OAAA,GAAAsB,EAAA,yBAEpB,kBAvCiB,OAAAC,EAAA7C,MAAA,KAAAhf,UAAA,KAyCZ+zL,EAAsBpB,IAEtBqB,EACJj8B,GACC45B,IAAgB3G,GAAaiJ,eAC1B7pL,KACY,QAAdooL,EAACpoL,EAAMikC,eAAO,IAAAmkJ,GAAbA,EAAehmL,MAAM,sCACpB0nL,IAAexK,KAAmBkB,EAElCuJ,EACJnG,IAAiBlD,GAAQsE,eACxBlB,IACAL,GAAwBC,GAErBsG,GACHJ,IAAuBnG,GAAwBnE,GAAiBkI,EAC7DyC,IACHL,IAAuBlG,GAAwBlD,GAAkBiH,EAE9DyC,GAAsBvG,GAAgBC,IAAiBlD,GAAQsE,aAE/DmF,GAAqBzoH,IAAaioH,IAAwBC,GAAsBE,EAEhFM,IACHR,IAAuBpC,IAAiB/D,GAAwBqG,EAE7DO,IACHT,IAAuBpC,IAAiBC,IAAiB/D,GAAwBoG,EAEpF,OACE7sF,MAAA1qD,cAAA,OAAK2qD,UAAU,UACZwrF,GACCzrF,MAAA1qD,cAACw1I,GAAe,CACdp6B,UAAWA,EACX7xJ,KAAM4lE,EACNsmH,OAAQa,EACRtwF,QAAS,kBAAMowF,GAAgB,EAAM,EACrCt+J,QAASA,EACTk2J,QAASA,EACTxwI,KAAMA,EACN7M,WAAYA,EACZo9B,SAAUA,EACVl8D,QAASA,EACTk7K,cAAeA,EACfY,gBAAiBA,EACjBX,WAAYA,EACZC,SAAUA,IAGbgI,EACCvqF,MAAA1qD,cAACkuD,GAAM,CACLx/E,QAAS0sI,EACTn5D,UAAWw1F,GAAuBD,EAClC5sF,QAAS,kBAAMliC,EAAQ0lH,GAAU2D,MAAM,EACvCplF,WAAS,EACTE,OAAK,GAELnC,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,4BACH+4F,eAAe,kBACfl9F,OAAQ,CAAE8rB,MAAOs9J,EAAgBv6K,SAGnCi+K,GAAgByC,GAClBjtF,MAAA1qD,cAACkuD,GAAM,CACLx/E,QAAS0sI,EACTn5D,UAAWy1F,IAAuBF,EAClC5sF,QAAS,kBAAMliC,EAAQ0lH,GAAU4D,QAAQ,EACzCrlF,WAAS,EACTE,OAAK,GAELnC,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,4BACH+4F,eAAe,kBACfl9F,OAAQ,CAAE8rB,MAAOw6J,EAAiBz3K,SAGnCm6K,EAIDC,IAAiBlD,GAAQvjI,KAC3B8/C,MAAA1qD,cAACkuD,GAAM,CAACx/E,QAAS0sI,EAAWn5D,UAAW41F,GAAuBjtF,QAAS4rF,EAAY3pF,OAAK,GACtFnC,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,OAAO+4F,eAAe,UAE3C+rF,IAAiBlD,GAAQsE,aAC3B/nF,MAAA1qD,cAACkuD,GAAM,CACLx/E,QAAS0sI,EACTn5D,UAAW61F,GACXltF,QAASr6B,EACTs8B,OAAK,GAELnC,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,eAAe+4F,eAAe,mBAEnD,KAhBFoF,MAAA1qD,cAACkuD,GAAM,CAACx/E,QAAS0sI,EAAWn5D,UAAW21F,GAAoBhtF,QAASyrF,EAAiBxpF,OAAK,GACxFnC,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,aAAa+4F,eAAe,iBAkB3D,GAEkC7+C,GAAQ,CAAE+lD,eAAe,I,ykBCxS3D,IAAMurF,GAAiB,CACrBC,WAAY,aACZp9G,OAAQ,SACRq9G,gBAAiB,kBACjBC,YAAa,eAGTC,GAAgB,CACpBhhL,WAAY,IACZsd,UAAW,IACXxd,KAAM,IACN2kJ,UAAU,GAGNw8B,GAAS,SAAA5oD,IAAAxyH,EAAAA,GAAAA,GAAAo7K,EAAA5oD,GAAA,I,IAAAvyH,G,EAAAm7K,E,maACb,SAAAA,EAAYp1K,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAA0pL,GACjBnpL,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,2BAyOY,SAACopL,EAAmB9J,GAC5C,IAAQ1mC,EAAkB54I,EAAK+T,MAAvB6kI,cAERywC,EAAuD/tH,GAAUF,iBAAiB,CAChFh0C,WAAYwxH,IADI0wC,EAAkBD,EAA9BjiK,WAAgCo0C,EAAY6tH,EAAZ7tH,aAGlCp0C,EAAoB,GAEpBo0C,IACF8tH,EAAqBF,GAGnB9J,IAAkBL,GAASa,aAC7B14J,EAAakiK,EAAmB7mL,QAAO,SAAAua,GACrC,IAAAk7B,EAA6B1D,GAAYx3B,EAASpjB,OAA1CwV,EAAI8oC,EAAJ9oC,KAAMlH,EAAUgwC,EAAVhwC,WACRtF,EAAU8lC,GAAAA,YAA2BxgC,GAAckH,GAEzD,QAASmuK,GAAS36K,aAAO,EAAPA,EAASklB,eAC7B,KAGGV,EAAW9zB,SACd8zB,EAAakiK,EAAmBh2L,OAASg2L,EAAqB,CAAEJ,KAGlE,IAAM3G,EAAkBn7J,EAAW,GAC/Bi7J,EAAeriL,EAAKupL,mBAAmBniK,EAAYm7J,GASvD,OANKF,EAAa/uL,SAChB+uL,EAAe,CAAC6G,KAKX,CACL1tH,aAAAA,EACA4tH,kBAAmBhiK,EACnBi7J,aAAAA,EACAE,gBAAAA,EACA9C,iBAPuB4C,EAAa,GASxC,KAAC71K,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAEsB,WAAM,IAAA4kB,EACnBm5J,EAAe/9K,EAAK2W,MAApBonK,WAEFyL,GAAazL,aAAU,EAAVA,EAAYz1K,YAAYy1K,aAAU,EAAVA,EAAY/gK,UACjDysK,EAAiB/gJ,GAAAA,KAAAA,IAAwB8gJ,aAAU,EAAVA,EAAYpuL,eACrDsuL,GAA4BrpK,OAAO1G,MAAY,QAAPiL,EAAC9F,cAAM,IAAA8F,OAAA,EAANA,EAAQ+kK,kBAClD7qK,OAAO6qK,iBAAmB,GAC1B7qK,OAAO6qK,iBAAmB,IAI/B,GADI7qK,OAAO6qK,gBAAkB,IAAG7qK,OAAO6qK,gBAAkB,GACrDF,SAAAA,EAAgBpmL,SAAWqmL,EAA0B,CAEvD,IAAME,EAAmB,IAAIl5J,GAAAA,EAAU5R,OAAO6qK,iBAAiB7tJ,UrB5V1C,KqB8VrB97B,EAAK+9C,UAAS,iBAAO,CACnBrc,WAAY,CACVr+B,QAASomL,EAAepmL,QACxBg7K,QAASh+J,OAAOupK,IAEnB,GACH,MACE5pL,EAAK+9C,UAAS,iBAAO,CACnBrc,YAAY,EACb,GAEL,KAACl1B,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,yBAEuB,SAAC6pL,GACvB,IAAAh1I,EAA6BL,GAAYq1I,EAAajwL,OAA9CwV,EAAIylC,EAAJzlC,KAAMlH,EAAU2sC,EAAV3sC,WACRw2K,EAAkB5yI,GAAAA,KAAAA,UAAuB,CAC7C9uB,SAAU9U,GAAckH,IAG1BpP,EAAK+9C,UAAS,iBAAO,CACnB2gI,gBAAAA,EACD,GACH,KAAClyK,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEe,SAAAC,IAAA,IAAAguK,EAAA3/K,EAAA,OAAA0R,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OACN4oL,EAAoBviL,EAAK2W,MAAzB4rK,gBAEF3/K,EAAU8lC,GAAAA,YAA2B65I,EAAgBr6K,YAAcq6K,EAAgB3oL,MAAMsW,eAE/FlQ,EAAK8pL,sBAAsBvH,GAE3BviL,EAAK+9C,UACH,iBAAO,CACLn7C,QAAAA,EACD,IAACyR,EAAAA,EAAAA,GAAAC,IAAAA,MACF,SAAAO,IAAA,OAAAP,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,cAAAmb,EAAAnb,KAAA,EACQqG,EAAK+pL,2BAA0B,wBAAAj1K,EAAAJ,OAAA,GAAAG,EAAA,MAExC,wBAAAD,EAAAF,OAAA,GAAAH,EAAA,OACF/H,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAEe,WACd,IAAAo/C,EAA8Cp/C,EAAK2W,MAA3C4rK,EAAenjI,EAAfmjI,gBAAiB9C,EAAgBrgI,EAAhBqgI,iBAEzBz/K,EAAK8pL,sBAAsBvH,GAE3B,IAAMxE,EAAajyI,GAAAA,KAAAA,UAAuB,CACxC9uB,SAAUulK,EAAgB3oL,QAEtBokL,EAAWlyI,GAAAA,KAAAA,UAAuB,CACtC9uB,SAAUyiK,EAAiB7lL,QAG7BoG,EAAK+9C,UAAS,iBAAO,CACnBggI,WAAAA,EACAC,SAAAA,EACD,GACH,KAACxxK,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAEsB,WACrB,IAAA8/C,EAAiC9/C,EAAK2W,MAA9BonK,EAAUj+H,EAAVi+H,WAAYC,EAAQl+H,EAARk+H,SAEd18F,EAAmB50E,GAAAA,QAAqByB,GAAAA,aAAAA,kBAE9C,GAAImzE,EAAkB,CACpB,IAAMh2D,EAAOyyJ,EAAW/9J,UAAY+9J,EAAW/gK,UAAY,GACrDqO,EAAM2yJ,EAASh+J,UAAYg+J,EAAShhK,UAAY,GAEtDskE,EAAiB0oG,cAAgB,CAC/B1+J,KAAAA,EACAD,IAAAA,GAEF3e,GAAAA,QAAqByB,GAAAA,aAAAA,iBAAyCmzE,EAChE,CACF,KAAC90E,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAEoB,SAAConB,EAAYm7J,GAShC,OARen7J,EAAW3kB,QAAO,SAAClK,GAAS,IAAA0xL,EACnCC,EAAsB3xL,EAAKqB,SAAU2oL,aAAe,EAAfA,EAAiB3oL,OAI5D,OAH0BrB,EAAK2P,YAAc3P,EAAKqB,MAAMsW,mBACtBqyK,aAAe,EAAfA,EAAiBr6K,cAAcq6K,SAAsB,QAAP0H,EAAf1H,EAAiB3oL,aAAK,IAAAqwL,OAAP,EAAfA,EAAwB/5K,kBAErCg6K,CACtD,GAGF,KAAC19K,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAEoB,WACnB,IAAA48F,EAAwC58F,EAAK2W,MAArCyQ,EAAUw1E,EAAVx1E,WAAYm7J,EAAe3lF,EAAf2lF,gBAChBF,EAAeriL,EAAKupL,mBAAmBniK,EAAYm7J,GAElDF,EAAa/uL,SAChB+uL,EAAe,CACb,CACEn6K,WAAY,IACZsd,UAAW,IACXxd,KAAM,IACN2kJ,UAAU,KAKhB3sJ,EAAK+9C,UACH,iBAAO,CACLskI,aAAAA,EACA5C,iBAAkB4C,EAAa,GAC/BrE,SAAUlyI,GAAAA,KAAAA,UAAuB,CAAE9uB,SAAUqlK,EAAa,GAAGzoL,QAC9D,IAACya,EAAAA,EAAAA,GAAAC,IAAAA,MACF,SAAAkB,IAAA,OAAAlB,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,OACEqG,EAAKmlL,gBAAe,wBAAAzvK,EAAAhB,OAAA,GAAAc,EAAA,KAG1B,KAAChJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAEa,SAACxB,GAAkB,IAAA2rL,EAAAC,EAAAxD,EAAAyD,EACvBC,EAA0BtqL,EAAK2W,MAA/B2zK,sBACFC,EAA2C,QAAxBJ,EAAGr9K,KAAKC,UAAUvO,UAAM,IAAA2rL,OAAA,EAArBA,EAAuBvpL,MAAM,gCACnD4pL,EAA4C,QAAxBJ,EAAGt9K,KAAKC,UAAUvO,UAAM,IAAA4rL,OAAA,EAArBA,EAAuBxpL,MAAM,iCACpD6pL,EAAgC,QAAhB7D,EAAGpoL,EAAMikC,eAAO,IAAAmkJ,OAAA,EAAbA,EAAehmL,MAAM,6BACxC8pL,EAAmC,QAAxBL,EAAGv9K,KAAKC,UAAUvO,UAAM,IAAA6rL,OAAA,EAArBA,EAAuBzpL,MAAM,4BAE7C2pL,EACFvqL,EAAK6mL,eAAezH,GAAagH,aACxBoE,EACTxqL,EAAK6mL,eAAezH,GAAa+G,sBACxBsE,EACTzqL,EAAK6mL,eAAezH,GAAauL,WACxBL,EACTtqL,EAAK6mL,eAAezH,GAAaiH,WACxBqE,EACT1qL,EAAK6mL,eAAezH,GAAaiJ,cAEjCroL,EAAK6mL,eAAezH,GAAakH,SAEjCr5K,QAAQrQ,MAAM,UAAW,eACzBqQ,QAAQzO,MAAMA,GACdyO,QAAQy2B,YAGV1jC,EAAK+9C,UAAS,iBAAO,CACnBouG,WAAW,EACX3tJ,MAAAA,EACD,GACH,KAACgO,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEmB,SAAAa,IAAA,IAAA4yF,EAAAu3E,EAAA8C,EAAAE,EAAA,OAAAhuK,IAAAA,MAAA,SAAAe,GAAA,cAAAA,EAAA/Z,KAAA+Z,EAAA1b,MAAA,OACuC,OADvCouG,EAC4C/nG,EAAK2W,MAA3D2oK,EAAav3E,EAAbu3E,cAAe8C,EAAYr6E,EAAZq6E,aAAcE,EAAoBv6E,EAApBu6E,qBAAoBjtK,EAAA1b,KAAA,EAEnDqG,EAAK+pL,2BAA0B,cAAA10K,EAAA1b,KAAA,EAC/BqG,EAAK4qL,aAAazL,GAAU2D,OAAM,OAYrC,GATDxD,IAAkBL,GAASc,QACxBqC,IAAiBlD,GAAQsE,cACzBlB,GAEHtiL,EAAKmlL,gBAGPnlL,EAAK+9C,UAAS,iBAAO,CACnBv/C,MAAO,KACR,IAEG8gL,IAAkBL,GAASa,WAAU,CAAAzqK,EAAA1b,KAAA,gBAAA0b,EAAA1b,KAAA,GACjCqG,EAAK6qL,oBAAmB,QAAAx1K,EAAA1b,KAAA,oBACrB2lL,IAAkBL,GAASc,OAAM,CAAA1qK,EAAA1b,KAAA,gBAAA0b,EAAA1b,KAAA,GACpCqG,EAAK8qL,0BAAyB,WAEhCxL,IAAkBL,GAASc,QAAUqC,IAAiBlD,GAAQsE,aAAY,CAAAnuK,EAAA1b,KAAA,gBAAA0b,EAAA1b,KAAA,GACtEqG,EAAK4qL,aAAazL,GAAU4D,SAAQ,yBAAA1tK,EAAAX,OAAA,GAAAS,EAAA,OAG/C3I,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAEqB,SAACxB,GACrB,IAAAusL,EAAiCj+K,KAAKE,MAAMxO,EAAMikC,SAA1C3qB,EAAIizK,EAAJjzK,KAAMkzK,EAAMD,EAANC,OAAQ7xL,EAAM4xL,EAAN5xL,OAKtB,GAJwB,MACC2e,GAAuC,UAAXkzK,GACb,kCAAXA,EAEkB,CAC7C,IAAMC,EAAiB9xL,EAAOspC,QAAQ7hC,MAAM,sBAQ5C,OANIqqL,GACFjrL,EAAK+9C,UAAS,iBAAO,CACnBusI,sBAAuBW,EAAe,GACvC,KAGI,CACT,CAEA,OAAO,CACT,KAACz+K,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEmB,SAAA0B,IAAA,IAAA0sH,EAAAy/C,EAAAv/K,EAAAk7K,EAAA3xB,EAAA8xB,EAAAn/G,EAAAi/G,EAAAC,EAAAt8I,EAAAg9I,EAAAhlH,EAAAzjB,EAAAi1I,EAAAznL,EAAAiuB,EAAAP,EAAAgoF,EAAA,OAAA7kG,IAAAA,MAAA,SAAAoD,GAAA,cAAAA,EAAApc,KAAAoc,EAAA/d,MAAA,OAaR,GAbQ+oI,EAcd1iI,EAAK2W,MAZPwrK,EAAYz/C,EAAZy/C,aACAv/K,EAAO8/H,EAAP9/H,QACAk7K,EAAap7C,EAAbo7C,cACA3xB,EAASzpB,EAATypB,UACA8xB,EAAWv7C,EAAXu7C,YACAn/G,EAAQ4jE,EAAR5jE,SACAi/G,EAAUr7C,EAAVq7C,WACAC,EAAQt7C,EAARs7C,SACAt8I,EAAUghG,EAAVhhG,WACAg9I,EAAeh8C,EAAfg8C,gBACAhlH,EAAQgpE,EAARhpE,SACAzjB,EAAQysF,EAARzsF,SAGGksI,GAAiBlE,EAAW,CAAAvmK,EAAA/d,KAAA,eAAA+d,EAAApC,OAAA,SACxBrI,QAAQ4jB,IAAI,0BAA2B,cAAY,OAM9C,KAFZ,IAAIH,GAAAA,EAAUotJ,GAAenkK,SAC1B,IAAI+W,GAAAA,EAAUotJ,GAAet/I,UAAU,IACvC2tH,GAGU,CAAFz0I,EAAA/d,KAAA,eAAA+d,EAAApC,OAAA,iBAEbtV,EAAK+9C,UAAS,iBAAO,CACnBouG,WAAW,EACX45B,iBAAa1xL,EACd,IAEG62L,GAAgB,EACdznL,EAASi6K,GAAmB,CAChCC,MAAO,SACP7+G,SAAAA,EACAg/G,cAAAA,EACAC,WAAAA,EACAC,SAAAA,EACAt8I,WAAAA,EACAu8I,YAAAA,IAEIvsJ,EAAsBjuB,EAAtBiuB,QAASP,EAAa1tB,EAAb0tB,SAAQgoF,EAAA7kG,IAAAA,MAAA,SAAA6kG,IAAA,IAAAnvG,EAAA1P,EAAA01F,EAAA,OAAA17E,IAAAA,MAAA,SAAAmC,GAAA,cAAAA,EAAAnb,KAAAmb,EAAA9c,MAAA,cAAA8c,EAAA9c,KAAA,EAGGw6B,GAAAA,IAAcopJ,GAAS36K,EAAQklB,gBAAgB9f,KAAMmpB,EAAU,CACrFO,QAAAA,EACAmB,aAAa,EACbmC,aAAc,SAACx2B,GACR0sL,GACHlrL,EAAK64C,YAAYr6C,EAErB,IACA,OARa,IAATwL,EAASyM,EAAA1B,gBAUOnjB,MAAK,CAAA6kB,EAAA9c,KAAA,SACJ,OAArBuxL,GAAgB,EAAKz0K,EAAA9c,KAAA,EAEF4kL,GAAoB,CACrCjkL,KAAM0P,EACNy0K,kBAAmBttJ,EAASvwB,MAAM,kBAClC89K,gBAAAA,EACAV,SAAAA,EACAtkH,SAAAA,EACAzjB,SAAAA,EACAhiB,QAASj0B,EAAK64C,cACd,OARIv+C,EAAImc,EAAA1B,KASV9H,QAAQ4jB,IAAI,sBAAuBv2B,GACnC0F,EAAK+9C,UAAS,kBAAArzC,GAAC,CAAD,EAAYpQ,EAAI,IAAImc,EAAA9c,KAAA,iBACzBqG,EAAKmrL,oBAAoBnhL,IAC5BgmF,EAAI0tF,GAAmB,CAC3BC,MAAO,SACPE,gBAAgB,EAChB/+G,SAAAA,EACAg/G,cAAAA,EACAC,WAAAA,EACAC,SAAAA,EACAt8I,WAAAA,EACAu8I,YAAAA,IAEFvsJ,EAAUs+D,EAAEt+D,QACZP,EAAW6+D,EAAE7+D,WAEbnxB,EAAK64C,YAAY7uC,GACjBkhL,GAAgB,GACjB,yBAAAz0K,EAAA/B,OAAA,GAAAykG,EAAA,gBAzCI+xE,EAAe,CAAFxzK,EAAA/d,KAAA,gBAAA+d,EAAA6hG,cAAAJ,IAAA,iBAAAzhG,EAAA/d,KAAA,kCAAA+d,EAAAhD,OAAA,GAAAsB,EAAA,OA2CrBxJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEqB,SAAAiD,IAAA,IAAAmsH,EAAA9gI,EAAAk7K,EAAAG,EAAAn/G,EAAAi/G,EAAAC,EAAAt8I,EAAAg9I,EAAAhlH,EAAAzjB,EAAAm1I,EAAA15J,EAAAP,EAAAk6J,EAAA/wL,EAAA,OAAAga,IAAAA,MAAA,SAAAgD,GAAA,cAAAA,EAAAhc,KAAAgc,EAAA3d,MAAA,OA4BjB,OA5BiB+pI,EAYhB1jI,EAAK2W,MAVP/T,EAAO8gI,EAAP9gI,QACAk7K,EAAap6C,EAAbo6C,cACAG,EAAWv6C,EAAXu6C,YACAn/G,EAAQ4kE,EAAR5kE,SACAi/G,EAAUr6C,EAAVq6C,WACAC,EAAQt6C,EAARs6C,SACAt8I,EAAUgiG,EAAVhiG,WACAg9I,EAAeh7C,EAAfg7C,gBACAhlH,EAAQgqE,EAARhqE,SACAzjB,EAAQytF,EAARztF,SAAQm1I,EAGoB1N,GAAmB,CAC/CC,MAAO,SACP7+G,SAAAA,EACAg/G,cAAAA,EACAC,WAAAA,EACAC,SAAAA,EACAt8I,WAAAA,EACAu8I,YAAAA,IAPMvsJ,EAAO05J,EAAP15J,QAASP,EAAQi6J,EAARj6J,SAUjBnxB,EAAKmlL,gBACLnlL,EAAK+9C,UAAS,iBAAO,CACnBghI,QAAS,GACT5yB,WAAW,EACZ,IAAE70I,EAAA3d,KAAA,EACyBw6B,GAAAA,IAAcopJ,GAAS36K,EAAQklB,gBAAgB9f,KAAMmpB,EAAU,CACzFO,QAAAA,EACAmB,aAAa,EACbmC,aAAch1B,EAAK64C,cACnB,OAJiB,OAAbwyI,EAAa/zK,EAAAvC,KAAAuC,EAAA3d,KAAG,EAKH4kL,GAAoB,CACrCjkL,KAAM+wL,EACN3M,gBAAAA,EACAV,SAAAA,EACAtkH,SAAAA,EACAzjB,SAAAA,IACA,OANI37C,EAAIgd,EAAAvC,KAOV/U,EAAK+9C,UAAS,kBAAArzC,GAAC,CAAD,EAAYpQ,EAAI,IAAI,yBAAAgd,EAAA5C,OAAA,GAAA6C,EAAA,OACnC/K,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,4BAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAE0B,SAAA4C,IAAA,IAAAmzI,EAAAznJ,EAAA87K,EAAAX,EAAAC,EAAA9gH,EAAAC,EAAAW,EAAA2/G,EAAA6N,EAAA,OAAAh3K,IAAAA,MAAA,SAAAivB,GAAA,cAAAA,EAAAjoC,KAAAioC,EAAA5pC,MAAA,OAQxB,GARwB0wJ,EACkCrqJ,EAAK2W,MAAxD/T,EAAOynJ,EAAPznJ,QAAS87K,EAAer0B,EAAfq0B,gBAAiBX,EAAU1zB,EAAV0zB,WAAYC,EAAQ3zB,EAAR2zB,SACxC9gH,GAAS6gH,aAAU,EAAVA,EAAYvoH,kBAAmBx9B,GACxCmlC,GAAS6gH,aAAQ,EAARA,EAAUxoH,kBAAmBx9B,GAExC8lC,EAAc5P,GAChB,yBAAwB,GAAAn4D,OACrB2yC,GAAAA,MAAoB,KAAA3yC,OAAImnE,EAAM,KAAAnnE,OAAIonE,IAGrB,CAAF55B,EAAA5pC,KAAA,gBAAA4pC,EAAA5pC,KAAA,EACMmyC,GAAAA,QAAAA,eAA+B,CACjD/rB,aAAc2+J,EAAgB1hK,SAC9B6K,QAASjlB,EAAQklB,eACjBm1C,eAA6D,QAA/CwgH,EAAED,GAAsB56K,EAAQklB,uBAAe,IAAA21J,OAAA,EAA7CA,EAA+C9hH,QAC/DuB,OAAAA,EACAC,OAAAA,IACA,OANFW,EAAWv6B,EAAAxuB,KAUXq5C,GACE,yBAAwB,GAAAr4D,OACrB2yC,GAAAA,MAAoB,KAAA3yC,OAAImnE,EAAM,KAAAnnE,OAAIonE,GACrCW,EALc,IAOf,QAGGwtH,EAAkBxtH,IAAgB/lC,GAExC/3B,EAAK+9C,UAAS,iBAAO,CACnBukI,qBAAsBgJ,EAAkB,KAAOxtH,EAC/CioH,YAAauF,EAAkBlM,GAAa8G,sBAAmB7xL,EAChE,IAAE,yBAAAkvC,EAAA7uB,OAAA,GAAAwC,EAAA,OACJ1K,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,2BAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEyB,SAAAsuB,IAAA,IAAA0nH,EAAA83B,EAAAE,EAAAxE,EAAA,OAAAxpK,IAAAA,MAAA,SAAAkwB,GAAA,cAAAA,EAAAlpC,KAAAkpC,EAAA7qC,MAAA,OACiC,GADjC2wJ,EACsCtqJ,EAAK2W,MAA3DyrK,EAAY93B,EAAZ83B,aAAcE,EAAoBh4B,EAApBg4B,qBAAsBxE,EAAaxzB,EAAbwzB,cAEvCwE,GAAyBxE,EAAa,CAAAt5I,EAAA7qC,KAAA,eAAA6qC,EAAAlvB,OAAA,iBAAAkvB,EAAA1tB,GAEnCsrK,EAAY59I,EAAA7qC,KAAA6qC,EAAA1tB,KACbooK,GAAQvjI,KAAI,EAAAnX,EAAA1tB,KAGZooK,GAAQsE,aAAY,yBAAAh/I,EAAA7qC,KAAA,EAFjBqG,EAAKurL,iBAAgB,cAAA/mJ,EAAAlvB,OAAA,0BAAAkvB,EAAA7qC,KAAA,GAGrBqG,EAAKwrL,qBAAoB,yBAAAhnJ,EAAA9vB,OAAA,GAAAkuB,EAAA,OAEpCp2B,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEgB,SAAAuvB,IAAA,IAAA6jJ,EAAAC,EAAAhyB,EAAA/yJ,EAAA87K,EAAAZ,EAAAC,EAAAC,EAAA9gH,EAAAC,EAAAqqH,EAAApD,EAAAC,EAAAoH,EAAA,OAAAn3K,IAAAA,MAAA,SAAAuxB,GAAA,cAAAA,EAAAvqC,KAAAuqC,EAAAlsC,MAAA,OAMM,OANNg8J,EAC2D31J,EAAK2W,MAAvE/T,EAAO+yJ,EAAP/yJ,QAAS87K,EAAe/oB,EAAf+oB,gBAAiBZ,EAAanoB,EAAbmoB,cAAeC,EAAUpoB,EAAVooB,WAAYC,EAAQroB,EAARqoB,SAEvD9gH,EAAmC,QAA7BwqH,EAAG3J,EAAWvoH,uBAAe,IAAAkyH,EAAAA,EAAI1vJ,GACvCmlC,EAAiC,QAA3BwqH,EAAG3J,EAASxoH,uBAAe,IAAAmyH,EAAAA,EAAI3vJ,GAE3Ch4B,EAAKgnL,YAAW,GAAKnhJ,EAAAvqC,KAAA,EAAAuqC,EAAAlsC,KAAA,EAGKmyC,GAAAA,QAAAA,aAA6B,CACnDwxB,cAA4D,QAA/CkqH,EAAEhK,GAAsB56K,EAAQklB,uBAAe,IAAA0/J,OAAA,EAA7CA,EAA+Cr9J,OAC9DpK,aAAc2+J,EAAgB1hK,SAC9B6K,QAASjlB,EAAQklB,eACjBo1C,OAAAA,EACAK,eAAmC,QAArB6mH,EAAErG,EAAW7tJ,gBAAQ,IAAAk0J,EAAAA,EAAI9G,GACvC7/G,SAAUqgH,EACV3gH,OAAAA,EACAK,eAAiC,QAAnB6mH,EAAErG,EAAS9tJ,gBAAQ,IAAAm0J,EAAAA,EAAI/G,KACrC,OATImO,EAAS5lJ,EAAA9wB,KAWf/U,EAAK+9C,UAAS,iBAAO,CACnBihI,eAAgByM,EACjB,IAAE5lJ,EAAAlsC,KAAA,iBAAAksC,EAAAvqC,KAAA,GAAAuqC,EAAA/uB,GAAA+uB,EAAA,SAEH7lC,EAAK64C,YAAWhT,EAAA/uB,IAAO,QAED,OAFC+uB,EAAAvqC,KAAA,GAEvB0E,EAAKgnL,YAAW,GAAMnhJ,EAAAy9D,OAAA,6BAAAz9D,EAAAnxB,OAAA,GAAAmvB,EAAA,2BAEzBr3B,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEoB,SAAAywB,IAAA,IAAA8wH,EAAAjzJ,EAAAk7K,EAAAY,EAAA4D,EAAAvE,EAAAC,EAAAyJ,EAAAM,EAAAC,EAAAE,EAAA7yL,EAAA,OAAAif,IAAAA,MAAA,SAAA+/B,GAAA,cAAAA,EAAA/4C,KAAA+4C,EAAA16C,MAAA,OAGE,OAHFk8J,EAC6E71J,EAAK2W,MAA7F/T,EAAOizJ,EAAPjzJ,QAASk7K,EAAajoB,EAAbioB,cAAeY,EAAe7oB,EAAf6oB,gBAAiB4D,EAAoBzsB,EAApBysB,qBAAsBvE,EAAUloB,EAAVkoB,WAAYC,EAAQnoB,EAARmoB,SAEnFh+K,EAAKgnL,YAAW,GAAK3yI,EAAA/4C,KAAA,EAAA+4C,EAAA16C,KAAA,EAGEmyC,GAAAA,QAAAA,4BAA4C,CAC/DjkB,QAASjlB,EAAQklB,eACjBg2C,YAAawkH,EACbhlH,cAA4D,QAA/CmqH,EAAEjK,GAAsB56K,EAAQklB,uBAAe,IAAA2/J,OAAA,EAA7CA,EAA+Ct9J,OAC9DpK,aAAc2+J,EAAgB1hK,SAC9BkgD,OAAkC,QAA5B6qH,EAAEhK,EAAWvoH,uBAAe,IAAAuyH,EAAAA,EAAI/vJ,GACtC+lC,eAAgB+/G,EAChBvgH,eAAmC,QAArByqH,EAAEjK,EAAW7tJ,gBAAQ,IAAA83J,EAAAA,EAAI1K,GACvC9/G,eAAiC,QAAnB0qH,EAAElK,EAAS9tJ,gBAAQ,IAAAg4J,EAAAA,EAAI5K,KACrC,OATIjoL,EAAMg/C,EAAAt/B,KAWZ/U,EAAK+9C,UAAS,iBAAO,CACnBihI,eAAgB3pL,EACjB,IAAEg/C,EAAA16C,KAAA,gBAAA06C,EAAA/4C,KAAA,EAAA+4C,EAAAv9B,GAAAu9B,EAAA,SAEHr0C,EAAK64C,YAAWxE,EAAAv9B,IAAO,QAGzB9W,EAAKgnL,YAAW,GAAM,yBAAA3yI,EAAA3/B,OAAA,GAAAqwB,EAAA,oBACvBv4B,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAEkB,SAACpG,GAClBoG,EAAK+9C,UAAS,iBAAO,CACnB+/H,cAAelkL,EAChB,GACH,KAAC4S,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAEmB,SAACpG,GACnBoG,EAAK+9C,UAAS,iBAAO,CACnBihI,eAAgBplL,EACjB,GACH,KAAC4S,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAEqB,WACpBA,EAAK+9C,UAAS,iBAAO,CACnBihI,eAAgB,GACjB,GACH,KAACxyK,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAEe,WACdA,EAAK+9C,UAAS,iBAAO,CAAEmiB,cAAU7rE,EAAW,IAC5C2L,EAAK+hL,qBACP,KAACv1K,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,8BAAA8gB,GAAAzM,EAAAA,EAAAA,GAAAC,IAAAA,MAEc,SAAA6/B,EAAOzM,GAAS,IAAAmgJ,EAAA6D,EAAA9oL,EAAAu/K,EAAArE,EAAAkB,EAAAjB,EAAAC,EAAA99J,EAAAtc,EAAAy0C,EAAAszI,EAAArjL,EAAAjF,EAAAmyD,EAAAtlC,EAAA0oB,EAAA,OAAAtkC,IAAAA,MAAA,SAAAw7B,GAAA,cAAAA,EAAAx0C,KAAAw0C,EAAAn2C,MAAA,OAa4C,GAb5C+xL,EAC0D1rL,EAAK2W,MAApF/T,EAAO8oL,EAAP9oL,QAASu/K,EAAYuJ,EAAZvJ,aAAcrE,EAAa4N,EAAb5N,cAAekB,EAAc0M,EAAd1M,eAAgBjB,EAAU2N,EAAV3N,WAAYC,EAAQ0N,EAAR1N,SAEtE99J,EAAS49J,EACTl6K,EAASm6K,EAETr2I,IAAcy3I,GAAU4D,UAC1B7iK,EAAS8+J,EACTp7K,EAASo6K,GAGL3lI,EAAyB8pI,EACkB,QADN0F,EACvCrK,GAAsB56K,EAAQklB,uBAAe,IAAA+/J,OAAA,EAA7CA,EAA+C19J,OAC/Cue,GAAAA,aAA4B60I,GAAS36K,EAAQklB,gBAAgBuwB,SAE5Dz0C,EAAOulC,QAAS,CAAF2G,EAAAn2C,KAAA,QACjBqG,EAAK4rL,eAAelkJ,GAAW,GAAMoI,EAAAn2C,KAAA,gBAEe,OAA5C2O,GAF6BqjL,EAEoB/nL,GAAjD0E,SAAUjF,EAAOsoL,EAAPtoL,QAASmyD,EAAem2H,EAAfn2H,gBAAiBtlC,EAAQy7J,EAARz7J,SAAQ4f,EAAAn2C,KAAA,GAC5BwgD,GAAU7xC,GAAUixD,eAAe,CACzDjhB,SAAUkd,EACVpd,MAAO/0C,EACP6sB,SAAAA,EACAmoB,QAAAA,IACA,QALIO,EAAS9I,EAAA/6B,KAOXmL,GACFlgB,EAAK4rL,eAAelkJ,EAAW,IAAIhX,GAAAA,EAAUxQ,GAAQue,cAAcma,IACpE,yBAAA9I,EAAAp7B,OAAA,GAAAy/B,EAAA,KAEJ,gBAAAn/B,GAAA,OAAA8L,EAAA1N,MAAA,KAAAhf,UAAA,EAhCA,KAgCAoY,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAEgB,SAAC0nC,EAAW9tC,GACvB8tC,IAAcy3I,GAAU2D,MAC1B9iL,EAAK+9C,UAAS,iBAAO,CAAEioI,aAAcpsL,EAAO,IAE5CoG,EAAK+9C,UAAS,iBAAO,CAAEkoI,aAAcrsL,EAAO,GAEhD,KAAC4S,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAEgB,SAACyD,GAChB,IAAQikC,EAAqBjkC,EAArBikC,UAAW9tC,EAAU6J,EAAV7J,MACnBiyL,EAA8C7rL,EAAK2W,MAA3C4rK,EAAesJ,EAAftJ,gBAAiB9C,EAAgBoM,EAAhBpM,iBAEnBqM,EAAoBpkJ,IAAcy3I,GAAU2D,OAASP,EAAgB3oL,QAAUA,EAAMA,MACrFmyL,EAAqBrkJ,IAAcy3I,GAAU4D,SAAWtD,EAAiB7lL,QAAUA,EAAMA,MAE3FkyL,GACF9rL,EAAK+9C,UACH,iBAAO,CACLwkI,gBAAiB3oL,EAClB,GACDoG,EAAKgsL,mBAILD,GACF/rL,EAAK+9C,UACH,iBAAO,CACL0hI,iBAAkB7lL,EACnB,GACDoG,EAAKisL,mBAGX,KAACz/K,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEmB,SAAAk7B,IAAA,IAAA+yI,EAAAxE,EAAA,OAAAzpK,IAAAA,MAAA,SAAA27B,GAAA,cAAAA,EAAA30C,KAAA20C,EAAAt2C,MAAA,OACV4oL,EAAoBviL,EAAK2W,MAAzB4rK,gBAEFxE,EAAajyI,GAAAA,KAAAA,UAAuB,CAAE9uB,SAAUulK,EAAgB3oL,QAEtEoG,EAAK+9C,UACH,iBAAO,CACLggI,WAAAA,EACD,IAAC1pK,EAAAA,EAAAA,GAAAC,IAAAA,MACF,SAAAu7B,IAAA,OAAAv7B,IAAAA,MAAA,SAAAs7B,GAAA,cAAAA,EAAAt0C,KAAAs0C,EAAAj2C,MAAA,OAG6B,OAF3BqG,EAAKitJ,gBACLjtJ,EAAKksL,qBACLlsL,EAAKmsL,uBAAsBv8I,EAAAj2C,KAAA,EACrBqG,EAAK8hL,oBAAmB,wBAAAlyI,EAAAl7B,OAAA,GAAAm7B,EAAA,MAEjC,wBAAAI,EAAAv7B,OAAA,GAAA86B,EAAA,OACFhjC,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAEoB,WACnB,IAAQy/K,EAAqBz/K,EAAK2W,MAA1B8oK,iBAERz/K,EAAK+9C,UACH,iBAAO,CACLigI,SAAUlyI,GAAAA,KAAAA,UAAuB,CAAE9uB,SAAUyiK,EAAiB7lL,QAC/D,IAACya,EAAAA,EAAAA,GAAAC,IAAAA,MACF,SAAAy7B,IAAA,OAAAz7B,IAAAA,MAAA,SAAAk8B,GAAA,cAAAA,EAAAl1C,KAAAk1C,EAAA72C,MAAA,cAAA62C,EAAA72C,KAAA,EACQqG,EAAK8hL,oBAAmB,wBAAAtxI,EAAA97B,OAAA,GAAAq7B,EAAA,KAGpC,KAACvjC,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAEc,WACb,IAAAosL,EAAmGpsL,EAAK2W,MAAhGyQ,EAAUglK,EAAVhlK,WAAY22J,EAAUqO,EAAVrO,WAAYwE,EAAe6J,EAAf7J,gBAAiB9C,EAAgB2M,EAAhB3M,iBAAkBzB,EAAQoO,EAARpO,SAEnE,IAFyFoO,EAAZ5wH,eAEzDikH,EAAiB9yB,SAArC,CAEA,IAAM01B,EAAeriL,EAAKupL,mBAAmBniK,EAAYq4J,GAEzDz/K,EAAK+9C,UACH,iBAAO,CACLggI,WAAYC,EACZuE,gBAAiB9C,EACjB4C,aAAAA,EACArE,SAAUD,EACV0B,iBAAkB8C,EACnB,IAACluK,EAAAA,EAAAA,GAAAC,IAAAA,MACF,SAAAi8B,IAAA,OAAAj8B,IAAAA,MAAA,SAAAi+B,GAAA,cAAAA,EAAAj3C,KAAAi3C,EAAA54C,MAAA,cAAA44C,EAAA54C,KAAA,EACQqG,EAAK8hL,oBAAmB,wBAAAvvI,EAAA79B,OAAA,GAAA67B,EAAA,KAbmB,CAgBvD,KAAC/jC,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAEsB,WACrB,IAAAqsL,EAAkDrsL,EAAK2W,MAA/C21K,EAAyBD,EAAzBC,0BAA2BvO,EAAUsO,EAAVtO,WAE7Bj0I,EAAO9gB,GAA6B,CACxC3lB,QAAS06K,EAAW16K,QACpB2Z,SAAU+gK,EAAW/gK,WAGvB,GAAI8sB,IAAuC,OAA9BwiJ,GAAsCA,EAA0BC,QAAS,CACpFvsL,EAAKgnL,YAAW,GAEhB,IAAMwF,EAAiB1tK,OAAO7C,KAAK6tB,GAEnC9pC,EAAK+9C,UACH,iBAAO,CACLuuI,0BAA2BE,EAC5B,GACDxsL,EAAKysL,4BAET,MAEEH,SAAAA,EAA2BI,OAE/B,KAAClgL,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,+BAE6B,WAC5B,IAAQssL,EAA8BtsL,EAAK2W,MAAnC21K,0BAEF9vF,EAAQlP,aAAY,WACpBg/F,SAAAA,EAA2BC,QAC7BvsL,EAAK2sL,uBAET,GAAG,KAEH3sL,EAAK+9C,UAAS,iBAAO,CACnB6uI,oBAAqBpwF,EACtB,GACH,KAAChwF,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,yBAEuB,WACtB,IAAA6sL,EAA2D7sL,EAAK2W,MAAxD21K,EAAyBO,EAAzBP,0BAA2BM,EAAmBC,EAAnBD,oBAE/BN,IACFA,EAA0BnwK,QAE1Bnc,EAAK+9C,UAAS,iBAAO,CACnBuuI,0BAA2B,KAC5B,KAGCM,IACFl/F,cAAck/F,GAEd5sL,EAAK+9C,UAAS,iBAAO,CACnB6uI,oBAAqB,KACtB,KAGH5sL,EAAKgnL,YAAW,EAClB,KAACx6K,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAEkB,WACjB,IAAQ4sL,EAAwB5sL,EAAK2W,MAA7Bi2K,oBAEJA,GACFl/F,cAAck/F,EAElB,KAACpgL,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,yBAEuB,WACtBA,EAAK+9C,UAAS,iBAAO,CACnBuhI,cAAeL,GAASa,WACxBqC,cAAc,EACdnD,eAAgB,GACjB,GACH,KAACxyK,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAEmB,WAClBA,EAAK+9C,UAAS,iBAAO,CACnBuhI,cAAeL,GAASc,OACxBoC,cAAc,EACdnD,eAAgB,GAChB9+G,cAAU7rE,EACX,GACH,KAACmY,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAEqB,WACpBA,EAAK+9C,UAAS,iBAAO,CACnBuhI,cAAeL,GAASe,SACzB,GACH,KAACxzK,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,aAEW,SAACiI,GACXjI,EAAKmlL,gBAELnlL,EAAK+9C,UAAS,iBAAO,CACnB+/H,cAAe,GACfsE,aAAcn6K,EACf,GACH,KAACuE,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAEiB,iBAAsE,MAAhE0M,GAAAA,QAAqByB,GAAAA,gBAAAA,YAA8C,KAAA3B,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,cAE9E,SAACpG,GACZoG,EAAK+9C,UAAS,iBAAO,CACnBouG,UAAWvyJ,EACZ,GACH,KAAC4S,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAEgB,SAACpG,GAChBoG,EAAK+9C,UAAS,iBAAO,CACnBgoI,YAAansL,EACd,GACH,KAAC4S,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAEoB,WACnBA,EAAK+9C,UAAS,iBAAO,CACnB+/H,cAAe,GAChB,GACH,KAACtxK,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAEsB,WACrB,IAAA8sL,EASI9sL,EAAK2W,MARPw1I,EAAS2gC,EAAT3gC,UACA2xB,EAAagP,EAAbhP,cACAC,EAAU+O,EAAV/O,WACAW,EAAeoO,EAAfpO,gBACA5/G,EAAQguH,EAARhuH,SACAiuH,EAAgBD,EAAhBC,iBACA92I,EAAQ62I,EAAR72I,SACAyjB,EAAQozH,EAARpzH,SAGIszH,EAAgBluH,IAChB,IAAIpuC,GAAAA,EAAUouC,GAAUtgC,UAAU,IACjC,IAAI9N,GAAAA,EAAUouC,GAAUrgC,cAAcsuJ,IAEvCE,EAAgB,IAAIv8J,GAAAA,EAAUulB,GAAU0kI,cACzC,IAAIjqJ,GAAAA,EAAUulB,GAAUxX,crBpgCpB,UqBsgCHyuJ,EAAgB,IAAIx8J,GAAAA,EAAUgpC,GAAUihH,eACxC,IAAIjqJ,GAAAA,EAAUgpC,GAAUF,WrBtgCrB,YqBugCF,IAAI9oC,GAAAA,EAAUgpC,GAAUj7B,crBtgCtB,eqBwgCH0uJ,EAAgBF,GAAiBC,GAAiBF,EAGxD,OAFkBtO,EAAgBxhK,cAAgB,IAAIwT,GAAAA,EAAUguJ,EAAgB5hK,SAAS0hB,UAAU,IAI9F2tH,GACAghC,GACA,IAAIz8J,GAAAA,EAAUotJ,GAAenkK,SAC7B,IAAI+W,GAAAA,EAAUotJ,GAAet/I,UAAU,IACvC,IAAI9N,GAAAA,EAAUotJ,GAAer/I,cAAcs/I,EAAWjhK,QAE7D,KAACtQ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAEkB,WACjB8rC,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,WACtB,IApgCE,IAMImxK,EANI1+K,EAA8CmT,EAA9CnT,MAAOie,EAAuC9K,EAAvC8K,WAAY+5H,EAA2B7kI,EAA3B6kI,cAAe/vH,EAAY9U,EAAZ8U,QAClCplB,EAAiB7C,EAAjB6C,OAAQnD,EAASM,EAATN,KAGZi/K,GAAiB,EACjBC,GAAa,EAGjB,OALasJ,GAAehqK,OAAOsuK,gBAMjC,KAAKtE,GAAeE,gBAClB1J,EAAgBL,GAASa,WACzBP,GAAiB,EACjB,MACF,KAAKuJ,GAAeG,YAClB3J,EAAgBL,GAASc,OACzBP,GAAa,EACb,MACF,KAAKsJ,GAAeC,WAClBzJ,EAAgBL,GAASa,WACzB,MACF,KAAKgJ,GAAen9G,OAClB2zG,EAAgBL,GAASc,OACzB,MACF,QACET,EAAgBL,GAASa,WAIA,YAAzBp3I,GAAAA,QACF42I,EAAgBL,GAASc,OACzBP,GAAa,GAGf,IAAM2C,EAAe7C,IAAkBL,GAASc,OAEhDsN,EAMIrtL,EAAKstL,wBAAwB10C,EAAe0mC,GAL9C8J,EAAiBiE,EAAjBjE,kBACA/G,EAAYgL,EAAZhL,aACAE,EAAe8K,EAAf9K,gBACA9C,EAAgB4N,EAAhB5N,iBACAjkH,EAAY6xH,EAAZ7xH,aAGF,GAAI9yB,GAAAA,KAAAA,iBAAsC,CACxC,IAAM6kJ,EAAsB30C,EAAcn2I,QAAO,SAAC+qL,GAAO,OAAKA,EAAQ5zL,MAAMsW,gBAAkBw4B,GAAAA,KAAAA,iBAAAA,aAAkD,IAC5I6kJ,EAAoBj6L,SACrBivL,GAD6B95H,EAAAA,GAAAA,GACV8kI,EAAmB,GAAvB,GAChBlL,EAAeriL,EAAKupL,mBAAmB3wC,EAAe2pC,GAE1D,CACA,GAAI75I,GAAAA,KAAAA,gBAAqC,CACvC,IAAM+kJ,EAAqB70C,EAAcn2I,QAAO,SAAC+qL,GAAO,OAAKA,EAAQ5zL,MAAMsW,gBAAkBw4B,GAAAA,KAAAA,gBAAAA,aAAiD,IAC1I+kJ,EAAmBn6L,SAASmsL,GAAHh3H,EAAAA,GAAAA,GAAuBglI,EAAkB,GAAtB,GAClD,CAGA,IAAKjyH,GAAgBl7D,EAAKM,MAAM,YAAc6C,EAAO6nB,MAAQ7nB,EAAO4nB,IAAK,CACvE,IAAMqiK,EAAqBtE,EAAkB/9I,MAC3C,SAAC9yC,GAAI,OAAKA,EAAKqB,MAAMwB,gBAAkBqI,EAAO6nB,KAAKlwB,aAAa,IAE7DsyL,GAAoB7kK,EAAQt1B,KAAK+uG,GAAa,GAAI,GAAFvsG,OAAK20C,GAAMg/C,aAEhE,IAAMikG,EAAkB3tL,EAAKupL,mBAAmBH,EAAmBsE,GAC7DE,EAAsBD,EAAgBtiJ,MAC1C,SAAC9yC,GAAI,OAAKA,EAAKqB,MAAMwB,gBAAkBqI,EAAO4nB,IAAIjwB,aAAa,IAG5DwyL,GAAqB/kK,EAAQt1B,KAAK+uG,GAAa,GAAI,GAAFvsG,OAAK20C,GAAMg/C,aAG7DgkG,GAAsBC,GAAmBC,IAC3CrL,EAAkBmL,EAClBrL,EAAesL,EACflO,EAAmBmO,EAEvB,CAEA,IAAMlP,EAAkB5yI,GAAAA,KAAAA,UAAuB,CAC7C9uB,SAAUulK,EAAgBr6K,YAAcq6K,EAAgB3oL,QAEpDmkL,EAAajyI,GAAAA,KAAAA,UAAuB,CACxC9uB,SAAUulK,EAAgB3oL,QAEtBokL,EAAWlyI,GAAAA,KAAAA,UAAuB,CACtC9uB,SAAUyiK,EAAiB7lL,QA0C5B,OAvCDoG,EAAK2W,MAAQ,CACXnY,MAAO,KACP8rL,sBAAuB,GACvBn+B,WAAW,EACXg2B,aAAAA,EACA5C,eAAAA,EACAC,WAAAA,EACAF,cAAAA,EACA0G,cAAc,EACdC,cAAc,EACdqG,0BAA2B,KAC3BM,oBAAqB,KACrBtK,qBAAsB,KACtB/zI,KAAMzvB,OAAOC,cAAgBF,EAC7BuI,WAAYgiK,EACZ/G,aAAAA,EACA3D,gBAAAA,EACA6D,gBAAAA,EACAzE,cAAe,GACfC,WAAYA,GAAc,CAAC,EAC3B0B,iBAAAA,EACAT,eAAgB,GAChBhB,SAAUA,GAAY,CAAC,EACvBoE,aAAclD,GAAQvjI,KACtBmjB,SAAU,GACV+mH,aAAc,GACdkH,iBAAkB,IAClBvxH,aAAAA,EACA54D,QACE8lC,GAAAA,YACE65I,EAAgBr6K,YAAcq6K,EAAgB3oL,MAAMsW,eAExDgwD,cAAU7rE,EACV0qL,QAAS,GACT9oI,SAAU,GACVyjB,SAAU,GACVqsH,iBAAa1xL,EACbqtC,YAAY,EACZu8I,YAAan/J,OAAOm/J,aAAe,IACpCj+K,CACH,CAoiCC,OApiCAN,EAAAA,GAAAA,GAAAypL,EAAA,EAAApyL,IAAA,oBAAA6C,MAED,WACEvG,KAAK45J,gBACL55J,KAAK84L,sBACP,GAAC,CAAAp1L,IAAA,qBAAA6C,MAED,SAAmBiuG,EAAWC,GAC5B,IAAAjL,EAA+CxpG,KAAK0gB,MAA5CoL,EAAY09E,EAAZ19E,aAAc0uK,EAAoBhxF,EAApBgxF,qBACAC,EAAqBjmF,EAAnC1oF,aACcquI,EAAuD1lD,EAArEtsC,aAA+CuyH,EAAsBjmF,EAArCw3E,cACxC0O,EAAmG36L,KAAKsjB,MAAhGovK,EAAWiI,EAAXjI,YAAa3+J,EAAU4mK,EAAV5mK,WAAYm7J,EAAeyL,EAAfzL,gBAAiBjD,EAAa0O,EAAb1O,cAA6B2O,EAAeD,EAA7BxyH,aAG3DkyF,IAA8BmgC,EADpBxiL,GAAS6gD,cAEnBgiI,EAAoC7iL,GAASokD,6BAA6B8yH,EAAgB3oL,OAC1Fu0L,EAAyB3gC,IACzB0gC,GAAqCxgC,GACrC0gC,GAAwB5gC,IAAqB0gC,EAC7CG,EAAyB7gC,GAAoBygC,EAG/CK,EAFeR,EAAiB98K,cAAgBmO,EAAanO,aAK7DmO,EAAanO,eAIPm9K,GACGC,KACCC,GAELP,EAAiBzqL,UAAY8b,EAAa9b,SAQnD,GAFsBi8K,IAAkByO,EAErB,CACjB,IAAAQ,EAIIl7L,KAAKi6L,wBAAwBlmK,EAAYk4J,GAH3C8J,EAAiBmF,EAAjBnF,kBACiBoF,EAAkBD,EAAnChM,gBACA/mH,EAAY+yH,EAAZ/yH,aAGIizH,EAAsH,IAA1FrF,EAAkB3mL,QAAO,SAAAua,GAAQ,OAAIA,EAASpjB,QAAU2oL,EAAgB3oL,KAAK,IAAEtG,OAG/Gk7L,EAAmB50L,QAAU2oL,EAAgB3oL,OAC1C60L,IAA8B1I,EAIjC1yL,KAAK0qD,UAAS,iBAAO,CACnByd,aAAAA,EACAp0C,WAAYgiK,EACb,GAAG/1L,KAAK64L,oBACCuC,IACVH,GAAiB,EAErB,CAEA,GAAIA,EAAgB,CAClB,IAAAI,EAMIr7L,KAAKi6L,wBAAwBlmK,EAAYk4J,GAL3C8J,EAAiBsF,EAAjBtF,kBACA/G,EAAYqM,EAAZrM,aACAE,EAAemM,EAAfnM,gBACA9C,EAAgBiP,EAAhBjP,iBACAjkH,EAAYkzH,EAAZlzH,aAGFnoE,KAAKy2L,sBAAsBvH,GAE3B,IAAMxE,EAAajyI,GAAAA,KAAAA,UAAuB,CACxC9uB,SAAUulK,EAAgB3oL,QAEtBokL,EAAWlyI,GAAAA,KAAAA,UAAuB,CACtC9uB,SAAUyiK,EAAiB7lL,QAG7BvG,KAAK0qD,UAAS,iBAAO,CACnByd,aAAAA,EACAp0C,WAAYgiK,EACZ7G,gBAAAA,EACAF,aAAAA,EACA5C,iBAAAA,EACA78K,QACE8lC,GAAAA,YACE65I,EAAgBr6K,YAAcq6K,EAAgB3oL,MAAMsW,eAExD6tK,WAAAA,EACAC,SAAAA,EACD,GACH,CACF,GAAC,CAAAjnL,IAAA,uBAAA6C,MAED,WACEvG,KAAKs7L,mBACLt7L,KAAKu7L,sBACP,GAAC,CAAA73L,IAAA,SAAA6C,MAiyBD,WACE,IAAQivB,EAAYx1B,KAAK0gB,MAAjB8U,QACRgmK,EAuBIx7L,KAAKsjB,MAtBP+nK,EAAemQ,EAAfnQ,gBACAY,EAAauP,EAAbvP,cACA6C,EAAY0M,EAAZ1M,aACA5C,EAAcsP,EAAdtP,eACAC,EAAUqP,EAAVrP,WACAwG,EAAY6I,EAAZ7I,aACAC,EAAY4I,EAAZ5I,aACA13I,EAAIsgJ,EAAJtgJ,KACAuvI,EAAa+Q,EAAb/Q,cACAyE,EAAesM,EAAftM,gBACAvD,EAAc6P,EAAd7P,eACAjB,EAAU8Q,EAAV9Q,WACAC,EAAQ6Q,EAAR7Q,SACAyB,EAAgBoP,EAAhBpP,iBACA2C,EAAYyM,EAAZzM,aACA5mH,EAAYqzH,EAAZrzH,aACA54D,EAAOisL,EAAPjsL,QACAs9D,EAAQ2uH,EAAR3uH,SACA6+G,EAAO8P,EAAP9P,QACAgH,EAAW8I,EAAX9I,YACAjnH,EAAQ+vH,EAAR/vH,SACAp9B,EAAUmtJ,EAAVntJ,WAGI+oH,EAAS1hB,GAAAA,IACb11I,KACA,WACA,WACA,WACA,eACA,gBACA,kBAGI4uL,EAAuB,IAAIvxJ,GAAAA,EAAUqtJ,EAAWjhK,SAAS0hB,UAAU,IACpE,IAAI9N,GAAAA,EAAUotJ,GACdz/I,KAAK0/I,SAAAA,EAAYz1K,SAAW,EAAIy2K,GAAW,GAC3CtgJ,cAAcs/I,EAAWjhK,SAExBolK,EAAuB,IAAIxxJ,GAAAA,EAAUstJ,EAASlhK,SAAS0hB,UAAU,IAClE,IAAI9N,GAAAA,EAAUsuJ,GAAgBvgJ,cAAcu/I,EAASlhK,SAE1D,OACE2+E,MAAA1qD,cAAA0qD,MAAAuB,SAAA,KACGuiF,GAAkB9jF,MAAA1qD,cAAC+9I,GAAgB,MAEnCvM,EAAgB51B,UAAY8yB,EAAiB9yB,UAC5ClxD,MAAA1qD,cAAA,KAAG2qD,UAAU,kBACXD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,wBACH+4F,eAAe,gIACfl9F,OAAQ,CACN41L,YAAansL,EAAQssD,WAAa,sBAM1CusC,MAAA1qD,cAAA,WAAS2qD,UAAU,aACjBD,MAAA1qD,cAACi+I,GAAM,CACLpsL,QAASA,EACT28K,eAAgBA,EAChBC,WAAYA,EACZF,cAAeA,EACf9jH,aAAcA,EACdikH,iBAAkBA,EAClBC,sBAAuBrsL,KAAKqsL,sBAC5BC,kBAAmBtsL,KAAKssL,kBACxBC,oBAAqBvsL,KAAKusL,sBAE3BN,IAAkBL,GAASe,SAC1BvkF,MAAA1qD,cAACivI,GAAQ,CACPmC,aAAcA,EACdr2B,eAAgBrB,EAChBq3B,kBAAmBzuL,KAAKyuL,kBACxBqD,cAAe9xL,KAAK8xL,cACpBrmH,SAAUA,IAGZ28B,MAAA1qD,cAAA0qD,MAAAuB,SAAA,KACEvB,MAAA1qD,cAAA,OAAK2qD,UAAS,GAAA3lG,OAAKylE,EAAe,WAAa,KAC7CigC,MAAA1qD,cAACk+I,GAAS,CACRzN,YAAanuL,KAAKsjB,MAClBm1I,eAAgBrB,EAChBi3B,eAAgBruL,KAAKquL,eACrBE,aAAcvuL,KAAKuuL,aACnBC,qBAAsBxuL,KAAKwuL,qBAC3BC,kBAAmBzuL,KAAKyuL,kBACxBL,iBAAkBpuL,KAAKouL,iBACvBE,cAAetuL,KAAKsuL,cACpBM,qBAAsBA,EACtBC,qBAAsBA,EACtBH,oBAAqB1uL,KAAK0uL,oBAC1BC,kBAAmB3uL,KAAK2uL,qBAI3B1C,IAAkBL,GAASc,QAC1BtkF,MAAA1qD,cAACm+I,GAAa,CAAC9M,aAAcA,EAAcyB,UAAWxwL,KAAKwwL,YAG7DpoF,MAAA1qD,cAAC41I,GAAQ,CACP99J,QAASA,EACTs5J,aAAcA,EACdrjH,SAAUA,EACVl8D,QAASA,EACTs9D,SAAUA,EACV6+G,QAASA,EACTjB,cAAeA,EACfY,gBAAiBA,EACjBX,WAAYA,EACZC,SAAUA,EACVzvI,KAAMA,EACN7M,WAAYA,IAGd+5D,MAAA1qD,cAACo+I,GAAQ,CACPvsL,QAASA,EACTu/K,aAAcA,EACd3mH,aAAcA,EACdymH,qBAAsBA,EACtBC,qBAAsBA,EACtB6D,YAAaA,EACbrH,gBAAiBA,EACjBZ,cAAeA,EACfkI,aAAcA,EACdC,aAAcA,EACd1D,gBAAiBA,EACjB9C,iBAAkBA,EAClB2C,aAAcA,IAGhB3mF,MAAA1qD,cAACq+I,GAAM,CACLvmK,QAASA,EACT24J,YAAanuL,KAAKsjB,MAClBwrK,aAAcA,EACdC,aAAcA,EACdvpI,YAAaxlD,KAAKwlD,YAClBguI,eAAgBxzL,KAAKwzL,eACrB1B,cAAe9xL,KAAK8xL,cACpB2B,mBAAoBzzL,KAAKyzL,mBACzBC,qBAAsB1zL,KAAK0zL,qBAC3B9E,qBAAsBA,EACtBC,qBAAsBA,EACtB8E,WAAY3zL,KAAK2zL,WACjBlF,kBAAmBzuL,KAAKyuL,kBACxBmF,oBAAqB5zL,KAAK4zL,oBAC1BvI,gBAAiBA,MAO/B,KAACyK,CAAA,CAvqCY,CAASrlD,GAAAA,eA0qCxB,UAAev1E,EAAAA,EAAAA,KAAQ,SAAAje,GAAA,IAAGlpB,EAAUkpB,EAAVlpB,WAAY4B,EAAIsnB,EAAJtnB,KAAMQ,EAAO8mB,EAAP9mB,QAAO,MAAQ,CACzDovH,cAAexxH,EAAWha,MAC1BmgJ,cAAevkI,EAAKvK,WACpBI,WAAYmK,EAAKnK,WACjBM,aAAc6J,EAAK7J,aACnB0uK,qBAAsBrkK,EAAQ7B,YAC/B,GAND,CAMIkzE,KAAWsuF,GAAW3xI,GAAQ,CAAE+lD,eAAe,KChuCnD,GAAeC,IAAf,EAZe,SAAH59F,GAAA,IAAM2lB,EAAI3lB,EAAJ2lB,KAAMlkB,EAAKzB,EAALyB,MAAOguL,EAASzvL,EAATyvL,UAAWr8F,EAAQpzF,EAARozF,SAAQ,OAChDyI,KAAAA,cAAA,OAAKC,UAAS,aAAA3lG,OAAei9F,EAAW,WAAa,KAClDztE,GACCk2E,KAAAA,cAAA,UACEA,KAAAA,cAAA,OAAKgE,IAAKl6E,KAGdk2E,KAAAA,cAAA,OAAKC,UAAS,eAAA3lG,OAAiBs5L,EAAY,YAAc,KAAOhuL,GAC5D,GCbR,CAAgB,UAAY,2BAA2B,SAAW,4BAA4B,YAAc,2BAA2B,UAAY,4BDiBzG,CAAEk8F,eAAe,IElB3D,GAAe,IAA0B,+BCAzC,GAAe,IAA0B,2B,gBCgCzC,IAAM1wE,KAAyBlL,UAAY,QAAN8pB,GAAN9pB,GAAAA,YAAY,IAAA8pB,IAAI,QAAJC,GAAZD,GAAcliB,UAAE,IAAAmiB,KAAhBA,GAAkB7e,uBAC3CquI,IAAa9kE,EAAAA,GAAAA,IAAe,CAChCk5F,oBAAqB,CACnBhyL,GAAI,0BACJ+4F,eAAgB,aAElBk5F,eAAgB,CACdjyL,GAAI,iCACJ+4F,eAAgB,YAElBm5F,uBAAwB,CACtBlyL,GAAI,yCACJ+4F,eAAgB,mCAElBo5F,qBAAsB,CACpBnyL,GAAI,0BACJ+4F,eAAgB,iBAElBq5F,cAAe,CACbpyL,GAAI,gCACJ+4F,eAAgB,kBAElBs5F,aAAc,CACZryL,GAAI,+BACJ+4F,eAAgB,mBAElBu5F,mBAAoB,CAClBtyL,GAAI,mCACJ+4F,eAAgB,sCAElB0jF,gBAAiB,CACfz8K,GAAI,oBACJ+4F,eAAgB,aA2Cdw5F,IAAa7zF,GADlBwB,KCzGD,CAAgB,cAAgB,2BAA2B,MAAQ,2BAA2B,SAAW,4BAA4B,oBAAsB,2BAA2B,cAAgB,2BAA2B,eAAiB,2BAA2B,yBAA2B,2BAA2B,aAAe,2BAA2B,kBAAoB,2BAA2B,mBAAqB,2BAA2B,mBAAqB,2BAA2B,OAAS,4BDyGjf,CAAED,eAAe,KADpCwvC,EAAAA,EAAAA,IAAU9wC,GAAAD,GAAAC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAA8hL,EAAAnxF,GAAA,I,IAAA1wF,G,EAAA6hL,E,maAGT,SAAAA,EAAY97K,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAAowL,GACjB7vL,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,aAiBF,WACV,OAAOA,EAAK+T,MAAMiJ,SAAS9M,aAC7B,KAAC1D,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAEoB,WACnB,IAAQgd,EAAahd,EAAK+T,MAAlBiJ,SACF8yK,EAAgBhkJ,GAAAA,KAAAA,UAAuB,CAC3C9uB,SAAAA,EACAozC,YAAavwB,GAAAA,WAGf,QAAOiwJ,GAAgBA,EAAczsL,OACvC,KAACmJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,8BAE4B,WAC3B,IAAM+H,EAAS/H,EAAK+vL,YACdC,EAAkBhwL,EAAKiwL,qBAE7B,QAAQD,GAEJ9mJ,GAAkBnhC,EAAQioL,EAChC,KAACxjL,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAEoB,WACnBA,EAAK+9C,SAAS,CACZmyI,sBAAsB,GAE1B,KAAC1jL,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAEe,WACdA,EAAK+9C,SAAS,CACZoyI,oBAAqB9kL,GAAS2F,cAC9BuiE,gBAAiBloE,GAASnH,cAAgB,IAE9C,KAACsI,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAmCmB,WAClBA,EAAK+9C,SAAS,CACZmyI,sBAAsB,IAGxBlwL,EAAKowL,aAAa,CAChBnoL,KAAM43B,GAAAA,OACNjmC,MAAOoG,EAAK2W,MAAMtT,SAEtB,KAACmJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAEgB,WACf,IACE6oB,EACE7oB,EAAK+T,MADP8U,QAEI9gB,EAAS/H,EAAK+vL,YAEpB/5I,GAAAA,aAAAA,uBAA6CjuC,GAE7C8gB,EAAQt1B,KAAK,GAADwC,OAAI20C,GAAMphB,aAAY,KAAAvzB,OAAIgS,GACxC,KAACyE,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,yBAEuB,WACtBqL,GAAAA,QACW,CACPkiK,cAAc,IAEfn5I,MAAK,SAACpjB,GACAA,GAILhR,EAAK+9C,SACH,CACEoyI,qBAAqB,EACrB58G,gBAAiBloE,GAASnH,cAAgB,KAE5C,WACElE,EAAKowL,aAAa,CAChBnoL,KAAM43B,GAAAA,SACNjmC,MAAOyR,GAASnH,cAEpB,GAEJ,IAAE,OAAO,SAAC1F,GACRyO,QAAQzO,MAAM,oBAAqBA,EACrC,GACJ,KAACgO,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,cAEY,WACX,IAAQqwL,EAAiBrwL,EAAK2W,MAAtB05K,aACRrwL,EAAK+9C,UAAS,iBAAO,CACnBsyI,cAAeA,EAChB,GACH,KAAC7jL,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAEiB,SAACrO,GACjBsb,QAAQzO,MAAM,aAAc7M,EAC9B,KAAC6a,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,cAEY,SAAC1F,GACZ,GAAIA,EAAM,CACR,IAAM+I,EAAU/I,EAAKoT,SAAS,KAAOpT,EAAKxG,MAAM,KAAK,GAAKwG,EAC1D0F,EAAKswL,aACLtwL,EAAKowL,aAAa,CAChBnoL,KAAM43B,GAAAA,OACNjmC,MAAOyJ,GAEX,CACF,KAACmJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAEoB,SAACuwL,GACpB,IAAsBC,EAAoBxwL,EAAK2W,MAAvC85K,aAEOA,EAA6BF,EAApC32L,MAAqB82L,EAAeH,EAAfG,WAER,0BAAjBD,EAKJzwL,EAAK+9C,SACH,CACE0yI,aAAcC,EAAaF,EAAkBC,IAE/C,WAKE,IAAI72L,EAJC62L,IAMDA,IAAiB5wJ,GAAAA,WACnBjmC,EAAQoG,EAAKiwL,sBAGXQ,IAAiB5wJ,GAAAA,WACnBjmC,EAAQyR,GAASnH,cAGfusL,IAAiB5wJ,GAAAA,UAAyBx0B,GAAS2F,cAGrDhR,EAAKowL,aAAa,CAChBnoL,KAAMwoL,EACN72L,MAAAA,IAJFoG,EAAK8vD,wBAOT,IA/BA9vD,EAAK2wL,gBAiCT,KAACnkL,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAEc,SAAC4wL,GACd,IAAA/zF,EAA+B78F,EAAK+T,MAA5BkpF,EAAQJ,EAARI,SAAUjgF,EAAQ6/E,EAAR7/E,SACV/U,EAAgB2oL,EAAhB3oL,KAAMrO,EAAUg3L,EAAVh3L,MAEU,mBAAbqjG,GAIXA,EAAS,CACPjgF,SAAAA,EACA/U,KAAAA,EACArO,MAAAA,GAEJ,KAAC4S,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,0BAEwB,SAAC6wL,GACxB,IAAA9xF,EAII/+F,EAAK+T,MAHPiJ,EAAQ+hF,EAAR/hF,SACAF,EAAOiiF,EAAPjiF,QACA+mH,EAAI9kC,EAAJ8kC,KAGFzkF,EAIIp/C,EAAK2W,MAHO65K,EAAepxI,EAA7BqxI,aACAN,EAAmB/wI,EAAnB+wI,oBACA58G,EAAen0B,EAAfm0B,gBAGEk9G,EAAgBI,GAAmBL,IAAoBK,EACvDA,EACAL,EAEEzoL,EAAS/H,EAAK+vL,YAELe,EAAoBhlJ,GAAAA,KAAAA,UAAuB,CACxD9uB,SAAAA,EACAozC,YAAavwB,GAAAA,WAFT/iB,SAMH2zK,IAAiB5wJ,GAAAA,UACd4wJ,IAAiB5wJ,GAAAA,WAAyBx0B,GAAS2F,gBAClD8L,IACLg0K,EAAkBh0K,GAGpB,IAAMi0K,EACJltD,IAAS7zE,GAAYghI,QAAUF,GAAuC,IAApBA,GAE9CG,EAAmB92I,GAAUhR,QAAQ,CAAEnhC,KAAMgV,KAAe,CAAC,MAAO,MAAO,SAAStP,SAAS3F,GAI7FmpL,GAAyB/2I,GAAUhR,QAAQ,CAAEnhC,KAAMgV,MACnD,CAAC,MAAO,MAAO,SAAStP,SAAS3F,GAEjCsmI,EAAcvmI,GAAAA,GAAUC,IAAWD,GAAAA,GAAUC,GAAQI,QAAUR,GAAAA,GAAAA,KAC/DwpL,EAA4BttD,IAAS7zE,GAAYghI,MAAQ3iD,EAEzDmL,EAAWnuI,GAAS2F,cACtB+hI,GAAU1nI,GAASmhC,YAAY6hI,qBAAsB,EACrDt7B,GAAU1nI,GAASmhC,YAAY+e,qBAAsB,EAEnD6lI,EAAqC,GAErCC,EAA6BrxL,EAAKqxL,6BAEnCxkK,KACCwkK,EACFD,EAAgB79L,KACd,CACEqG,MAAOimC,GAAAA,SACPta,KAAM+rK,GACNjwL,MAAQ0vL,EAUNt1F,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAWs0B,wBATjC/zF,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAWq0B,gBACjC9zF,KAAAA,cAACyoC,GAAO,CACN7gI,QAASrD,EAAKiwL,qBACd9+I,OAAQ4e,GAAcs0E,MACtBp8H,KAAM43B,GAAAA,YAMZmzD,SAAU+9F,KAGL1iD,GAAgB8hD,GACzBiB,EAAgB79L,KACd,CACEqG,MAAO,wBACP2rB,KAAM+rK,GACNjwL,MAAOo6F,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAWu0B,yBAM5CwB,IACEd,EACFiB,EAAgB79L,KACd,CACEqG,MAAOimC,GAAAA,SACPta,KAAMi0H,EACNn4I,MACEo6F,KAAAA,cAACuB,GAAAA,SAAQ,KACN3xF,GAASmhC,YAAYmiB,mBACtB8sC,KAAAA,cAACyoC,GAAO,CACN7gI,QAASkwE,EACTpiC,OAAQ4e,GAAcs0E,MACtBp8H,KAAM43B,GAAAA,cAOhBuxJ,EAAgB79L,KACd,CACEqG,MAAOimC,GAAAA,SACPta,KAAMi0H,EACNn4I,MAAOo6F,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAWw0B,eACxCgB,YAAY,KAMf7sD,IAAS7zE,GAAY+yH,SAAYsO,IAA+BH,GACnEE,EAAgB79L,KACd,CACEqG,MAAOimC,GAAAA,OACPta,KAAMgsK,GACNlwL,MAAOo6F,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAWy0B,cACxCjqC,wBAAyByrC,KAKPC,EAAgB3uL,QAAO,SAAA7C,GAAQ,OAAAA,EAALhG,QAAsB62L,CAAY,IAC/Dn9L,QAAU89L,EAAgB99L,SAAQm9L,EAAeW,EAAgB,GAAGx3L,OAEzFoG,EAAK+9C,SAAS,CACZqzI,gBAAAA,EACAX,aAAAA,GAEJ,IAvVE,IAAQzzK,EAAqDjJ,EAArDiJ,SAAQw0K,EAA6Cz9K,EAA3Cm7J,SAAAA,OAAQ,IAAAsiB,GAAQA,EAAAC,EAA2B19K,EAAzB08K,aAAAA,OAAY,IAAAgB,GAAQA,EAYvD,OAVDzxL,EAAK2W,MAAQ,CACXqG,SAAAA,EACAkyJ,SAAAA,EACA7rK,QAAS,GACTotL,aAAcA,GAAgB,WAC9BP,sBAAsB,EACtBC,oBAAqB9kL,GAAS2F,cAC9BuiE,gBAAiBloE,GAASnH,cAAe,GACzCmsL,cAAc,EACde,gBAAiB,IAClBpxL,CACH,CA+ZC,OA/ZAN,EAAAA,GAAAA,GAAAmwL,EAAA,EAAA94L,IAAA,oBAAA6C,MAsCD,WACEyR,GAASmhC,YAAY4O,GAAG,UAAW/nD,KAAKq+L,eACxCr+L,KAAKs+L,wBACP,GAAC,CAAA56L,IAAA,uBAAA6C,MAED,WACEyR,GAASmhC,YAAYu4D,IAAI,UAAW1xG,KAAKq+L,cAC3C,GAAC,CAAA36L,IAAA,qBAAA6C,MAED,SAAmBiuG,GAAW,IAAAv4F,EAAA,KAC5BqzH,EAA2EtvI,KAAK0gB,MAA9D69K,EAAWjvD,EAArB3lH,SAAuByzK,EAAY9tD,EAAZ8tD,aAAYoB,EAAAlvD,EAAEusC,SAAAA,OAAQ,IAAA2iB,GAAQA,EAAE/0K,EAAO6lH,EAAP7lH,QAE/Cg1K,EAAcjqF,EAAvB/qF,QAEPgjC,EAGIzsD,KAAKsjB,MAFGo7K,EAAWjyI,EAArB9iC,SAAQg1K,EAAAlyI,EACRovH,SAAU+iB,OAAW,IAAAD,GAAQA,EAG3Br4K,MAAM0G,OAAOyxK,KAAiBn4K,MAAM0G,OAAOvD,KAAag1K,IAAeh1K,GACzEzpB,KAAKs+L,uBAAuBlB,GAG1BmB,IAAgBG,GAAe7iB,IAAa+iB,GAC9C5+L,KAAK0qD,SAAS,CACZ/gC,SAAU40K,EACV1iB,SAAAA,IACC,WACD5/J,EAAKqiL,uBAAuBlB,EAC9B,GAEJ,GAAC,CAAA15L,IAAA,SAAA6C,MAuQD,WACE,IAAA6pI,EAIIpwI,KAAK0gB,MAHP6oE,EAAK6mD,EAAL7mD,MACAinD,EAAIJ,EAAJI,KAAIquD,EAAAzuD,EACJmJ,YAAAA,OAAW,IAAAslD,EAAG,gBAAeA,EAG/Bt1F,EAOIvpG,KAAKsjB,MANP85K,EAAY7zF,EAAZ6zF,aACAP,EAAoBtzF,EAApBszF,qBACAC,EAAmBvzF,EAAnBuzF,oBACAE,EAAYzzF,EAAZyzF,aACAnhB,EAAQtyE,EAARsyE,SACAkiB,EAAex0F,EAAfw0F,gBAGIrpL,EAAS1U,KAAK08L,YAEd1hD,EAAcvmI,GAAAA,GAAUC,IAAWD,GAAAA,GAAUC,GAAQI,QAAUR,GAAAA,GAAAA,KAC/DwpL,EAA4BttD,IAAS7zE,GAAYghI,MAAQ3iD,EAKzDgS,EAAYtX,GAAAA,IAAS11I,KAAM,WAMjC,OACEooG,KAAAA,cAAA,OAAKC,UAAS,iBAAA3lG,OAAmBm5K,EAAW,sBAAwB,KAClEzzE,KAAAA,cAAA,OAAKC,UAAU,SAAS9e,GACxB6e,KAAAA,cAACupD,GAAQ,CACPtpD,UAAU,WACVtuF,MAAOgkL,EACPjsC,cAAesrC,EACf9qC,eAAe,EACfG,YAAY,EACZC,UAAU,OACVliB,KAAMA,EACNmiB,WAAY,SAACztJ,GAAI,OAAKkjG,KAAAA,cAACqrD,GAAWvuJ,EAAQ,EAC1C2sJ,SAAU7xJ,KAAK8+L,qBAEhB1B,IAAiB5wJ,GAAAA,UAAwBx0B,GAAS0F,cAAgBo/K,GACjE10F,KAAAA,cAAA,OAAKC,UAAU,gCACbD,KAAAA,cAACwD,GAAM,CACLnB,MAAI,EACJpC,UAAU,SACVC,QAAStoG,KAAKy8D,uBAEd2rC,KAAAA,cAACI,GAAAA,EAAqBq/D,GAAW6e,oBAIrCoX,GAA6BV,IAAiB5wJ,GAAAA,QAC9C47D,KAAAA,cAAA,OAAKC,UAAU,iBACbD,KAAAA,cAAA,OAAKC,UAAS,gBAAA3lG,OAAkBm6L,EAAuB,qBAAuB,KAC5Ez0F,KAAAA,cAAA,OAAKC,UAAU,sBACbD,KAAAA,cAAC2kD,GAAK,CACJsC,iBAnCY,CACxBrP,SAAU,OACV++C,aAAc,YAkCF7xC,QAAQ,YACRuB,QAASzuJ,KAAKg/L,mBACdnwC,OAAQ7uJ,KAAKi/L,kBACb1lD,YAAaA,EACbyT,UAAWA,EAAUh9I,QACrBi/I,SAAUjvJ,KAAKi9L,WACf/tC,GAAI52F,EAAAA,GACJh6C,UAAQ,OAMjB0+K,GACC50F,KAAAA,cAAC2yD,GAAQ,CACP9L,SAAUjvJ,KAAKi9L,WACfniC,YAAa96J,KAAKk/L,gBAClBrkC,WAAY76J,KAAK66J,aAK3B,KAAC2hC,CAAA,CAlbQ,CAEiBhxF,GAAAA,aAAS5C,KAAAA,IAmbrC,UAAegF,EAAAA,GAAAA,IAAW4uF,I,aEthBmB,IAWxB2C,IAAax2F,IATjCztC,EAAAA,EAAAA,KACC,SAAA3uD,GAAA,IACEspB,EAAUtpB,EAAVspB,WAAU,MACL,CACLlH,SAAUkH,EAAWlH,SACrBE,YAAagH,EAAWhH,YACzB,IAEyC85E,GAAAC,GAA3CuB,KCjBD,CAAgB,MAAQ,2BAA2B,OAAS,2BAA2B,iBAAiB,4BAA4B,OAAS,2BAA2B,KAAO,2BAA2B,QAAU,4BDiBhM,CAAED,eAAe,GAAO+iC,EAAA79B,GAAA,SAAAvG,IAAAnuF,EAAAA,GAAAA,GAAAykL,EAAAt2F,GAAA,I,IAAAluF,G,EAAAwkL,E,maAAA,SAAAA,IAAA,OAAA/yL,EAAAA,GAAAA,GAAA,KAAA+yL,GAAAxkL,EAAAoF,MAAA,KAAAhf,UAAA,CAwCzC,OAxCyCsL,EAAAA,GAAAA,GAAA8yL,EAAA,EAAAz7L,IAAA,SAAA6C,MAY1C,WACE,IAAAijG,EAAkCxpG,KAAK0gB,MAA/BiO,EAAQ66E,EAAR76E,SAAUE,EAAW26E,EAAX36E,YAIlB,OACEu5E,KAAAA,cAAA,OAAKC,UAAS,SAAA3lG,OAAWisB,EAAW,SAAW,YAC7Cy5E,KAAAA,cAAA,MAAIC,UAAU,UACZ15E,GACAy5E,KAAAA,cAAA,QAAMC,UAAU,UAAS,WAGzB15E,IAAaE,GAAe,EACxBu5E,KAAAA,cAAA,QAAMC,UAAU,UAAS,iBACzBD,KAAAA,cAAA,QAAMC,UAAU,UAAQ,GAAA3lG,OAAKmsB,EAAW,mBAE9Cu5E,KAAAA,cAAA,QAAMC,UAAU,kBACdD,KAAAA,cAACwG,GAAO,CAAC3kG,GAAG,mCACVm+F,KAAAA,cAAA,OAAKrqD,MAAO,CAAE6gH,SAAU,OAAQ9G,UAAW,WACzC1vD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,kCACH+4F,eAAe,2ZAO7B,KAACm8F,CAAA,CAxCyC,CACD/2F,KAAAA,YAAejvF,EAAAA,EAAAA,GAAAi2F,GAAA,YACrC,CACjBzgF,SAAUm9E,KAAAA,KAAAA,WACVj9E,YAAai9E,KAAAA,UACd3yF,EAAAA,EAAAA,GAAAi2F,GAAA,eAEqB,CACpBzgF,UAAU,EACVE,YAAa,IAT2B+5E,GAUzCwG,MAAAxG,KAAAA,IElBH,SAAeuB,IAAf,EAJc,SAAH59F,GAAA,IAAMJ,EAAQI,EAARJ,SAAQ,OACvBi8F,KAAAA,cAAA,OAAKC,UAAU,SAASl8F,EAAe,GCNzC,CAAgB,MAAQ,6B,uCCSlBizL,GAAe,SAAH7yL,GAAA,IAAMJ,EAAQI,EAARJ,SAAU6B,EAAKzB,EAALyB,MAAOqxL,EAAQ9yL,EAAR8yL,SAAa/2J,GAAI7f,EAAAA,EAAAA,GAAAlc,EAAAg8B,IAAA,OACxD6/D,KAAAA,cAAA,OAAAyD,EAAAA,GAAAA,GAAA,CAAKxD,UAAU,YAAe//D,GAE1Bn8B,GACEi8F,KAAAA,cAACuB,GAAAA,SAAQ,KAEL37F,GACEo6F,KAAAA,cAAC2jE,GAAK,KAAE/9J,GAIVqxL,GACEj3F,KAAAA,cAAC6+D,GAAQ,KAAEo4B,IAMjB,EAGRD,GAAa1mD,UAAY,CACvB1qI,MAAO89F,KAAAA,KACPuzF,SAAUvzF,KAAAA,MAGZ,SAAetE,IAAf,CAA0B43F,GCnC1B,CAAgB,SAAW,6BCqB3B,GAAe53F,IAAf,EAZ0B,SAAC9mF,GACzB,IAAQ+1B,EAAmB/1B,EAAnB+1B,KAAMsiD,EAAar4E,EAAbq4E,SAEd,OACEqP,KAAAA,cAAA,OAAKC,UAAU,aACbD,KAAAA,cAACqzD,GAAI,CAACJ,IAAK5kH,EAAM4xD,UAAU,SAASmK,IAAI,uBACrCzZ,GAIT,GCnBA,CAAgB,UAAY,2BAA2B,OAAS,4BAA4B,OAAS,4BAA4B,YAAc,2BAA2B,KAAO,6B,UCcpI,I,GAYxBumG,IATpBpkI,EAAAA,EAAAA,KACC,SAAA3uD,GAAA,IACEwnB,EAAUxnB,EAAVwnB,WAAU,MACL,CACLA,WAAYA,EAAWha,MACvB2Y,iBAAkBqB,EAAWrB,iBAAiB,GAC/C,GAEyCi2E,CAAAC,GAA3CpB,KCzBD,CAAgB,eAAiB,2BAA2B,OAAS,2BAA2B,IAAM,2BAA2B,MAAQ,2BAA2B,KAAO,2BAA2B,QAAU,2BAA2B,QAAU,2BAA2B,SAAW,2BAA2B,mBAAqB,2BAA2B,oBAAsB,4BDyBxW,CAAE0C,eAAe,GAAO+iC,EAAA79B,GAAA,SAAA/D,IAAA3wF,EAAAA,GAAAA,GAAA4kL,EAAAj0F,GAAA,I,IAAA1wF,G,EAAA2kL,E,maAAA,SAAAA,IAAA,IAAA3yL,GAAAP,EAAAA,GAAAA,GAAA,KAAAkzL,GAAA,QAAA1/K,EAAA7e,UAAAd,OAAAqsE,EAAA,IAAAlsE,MAAAwf,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAwsD,EAAAxsD,GAAA/e,UAAA+e,GAqCzC,OArCyCnT,EAAAgO,EAAAtZ,KAAA0e,MAAApF,EAAA,OAAAjY,OAAA4pE,KAAAnzD,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAa5B,WACZ,IAAA68F,EAAsC78F,EAAK+T,MAAnC0/B,EAAWopD,EAAXppD,YAAaD,EAAYqpD,EAAZrpD,aAGhBA,GAAiBC,GAKtB3H,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,MAAwB,CAC1CslC,YAAAA,EACAD,aAAAA,GAIJ,KAAChnC,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAEa,WACZ,IAAA++F,EAAyC/+F,EAAK+T,MAAtCqT,EAAU23E,EAAV33E,WAAYrB,EAAgBg5E,EAAhBh5E,iBAEpB,YAAyB1xB,IAArB0xB,EACKqB,EAEFrB,CACT,IAAC/lB,CAAA,CAyDA,OAzDAN,EAAAA,GAAAA,GAAAizL,EAAA,EAAA57L,IAAA,SAAA6C,MAED,WACE,IAAA+oI,EAEmCtvI,KAAK0gB,MAFhC0/B,EAAWkvF,EAAXlvF,YAAaD,EAAYmvF,EAAZnvF,aACnBouI,EAAYj/C,EAAZi/C,aAAc92B,EAAuBnoB,EAAvBmoB,wBAAyBX,EAAwBxnB,EAAxBwnB,yBAA0Bxd,EAAYhK,EAAZgK,aACjEvlH,EAAUu7G,EAAVv7G,WAIF,OAJ8Bu7G,EAAhB58G,iBAKZ01E,KAAAA,cAAA,OAAKC,UAAU,UACbD,KAAAA,cAAA,OAAKC,UAAU,aACbD,KAAAA,cAAC6+D,GAAQ,KACP7+D,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,6BAA6B+4F,eAAe,wCAGrEoF,KAAAA,cAAA,OAAKC,UAAU,eACbD,KAAAA,cAAA,OAAKC,UAAU,OACbD,KAAAA,cAAA,OAAKC,UAAU,eACbD,KAAAA,cAAA,KAAGC,UAAU,QACXD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,QAAQ+4F,eAAe,cAI9CoF,KAAAA,cAACisD,GAAc,CACbhsD,UAAU,oCACVypD,cAAe3xG,EACf6xG,mBAAoB,SAAC9sJ,GAAI,OAAKA,EAAKitB,SAAS,EAC5C0/H,SAAUiF,EACV/iI,WAAYA,KAGhBq0E,KAAAA,cAACm3F,GAAI,CAACj3F,QAASimF,IACfnmF,KAAAA,cAAA,OAAKC,UAAU,gBACbD,KAAAA,cAAA,KAAGC,UAAU,QACXD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,iBAAiB+4F,eAAe,aAIvDoF,KAAAA,cAACisD,GAAc,CACbhsD,UAAU,qCACVypD,cAAe1xG,EACfyxG,SAAU4F,EACVzF,mBAAoB,SAAC9sJ,GAAI,OAAKA,EAAKitB,SAAS,EAC5C4B,WAAY/zB,KAAKw/L,kBAIvBp3F,KAAAA,cAACwD,GAAM,CAACvD,UAAU,SAASkC,OAAK,EAACjC,QAASgxC,GACxClxC,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,6BAA6B+4F,eAAe,kBAEnEoF,KAAAA,cAACwG,GAAO,CAAC3kG,GAAG,SACVm+F,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,QAAQ+4F,eAAe,iBAKtD,KAACs8F,CAAA,CA9FyC,CACU9zF,GAAAA,YAASryF,EAAAA,EAAAA,GAAAi2F,GAAA,YAE1C,CACjBm/E,aAAcziF,KAAAA,KACd/3E,WAAY+3E,KAAAA,IACZgrD,yBAA0BhrD,KAAAA,KAC1B2rD,wBAAyB3rD,KAAAA,KACzBwtC,aAAcxtC,KAAAA,KACd1rD,YAAa0rD,KAAAA,OAAAA,WACb3rD,aAAc2rD,KAAAA,OAAAA,aAV0BlD,GAWzCwG,MAAAxG,KAAAA,GElC8B,IAGZ62F,GADpBt1F,KCJD,CAAgB,MAAQ,2BAA2B,YAAc,6BDI7C,CAAED,eAAe,GAAOvB,CAAAC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAA+kL,EAAAp0F,GAAA,I,IAAA1wF,G,EAAA8kL,E,maAAA,SAAAA,IAAA,OAAArzL,EAAAA,GAAAA,GAAA,KAAAqzL,GAAA9kL,EAAAoF,MAAA,KAAAhf,UAAA,CAazC,OAbyCsL,EAAAA,GAAAA,GAAAozL,EAAA,EAAA/7L,IAAA,SAAA6C,MAE1C,WACE,OACE6hG,KAAAA,cAAA,WAASC,UAAW0nE,KAAW,UAC3B/vK,KAAK0gB,MAAMguI,QACXtmD,KAAAA,cAAA,OAAKC,UAAU,eACXroG,KAAK0gB,MAAMguI,QAGf1uJ,KAAK0gB,MAAMvU,SAGnB,KAACszL,CAAA,CAbyC,CACTj0F,GAAAA,aAAS5C,G,YEmB5C,SAvBe,SAAHr8F,GAAA,IAAMgwF,EAAGhwF,EAAHgwF,IAAKvuF,EAAKzB,EAALyB,MAAO9B,EAAWK,EAAXL,YAAW,OACvCk8F,MAAA1qD,cAAA,UACE9oC,KAAK,sBACL4xJ,wBAAyB,CACvBC,OAAQhtJ,KAAKC,UAAU,CACrB,WAAY,oBACZ,QAAS,UACTgmL,OAAQ,CACN1jG,GAAAA,OAAAA,OACAA,GAAAA,OAAAA,QACAA,GAAAA,OAAAA,SACAA,GAAAA,OAAAA,UAEFC,MAAOD,GAAAA,OAAAA,MACPj6D,IAAK66D,GAAOL,GACZ5nF,KAAM3G,EACN9B,YAAAA,EACAiwF,KAAMH,GAAAA,OAAAA,SAGV,ECnBiD,IAEhC2jG,GAAG,SAAAt0F,IAAA3wF,EAAAA,GAAAA,GAAAilL,EAAAt0F,GAAA,I,IAAA1wF,G,EAAAglL,E,maACtB,SAAAA,EAAYj/K,GAAO,IAAA/T,EAKhB,OALgBP,EAAAA,GAAAA,GAAA,KAAAuzL,IACjBhzL,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAED4C,MAAQ,CACXs8K,QAASljG,GAAWh8E,EAAMq2B,SAASk/C,WACpCtpF,CACH,CA8CC,OA9CAN,EAAAA,GAAAA,GAAAszL,EAAA,EAAAj8L,IAAA,qBAAA6C,MAED,SAAmBiuG,GACjB,IAAkBqrF,EAAiBrrF,EAA3Bz9D,SACAA,EAAa/2C,KAAK0gB,MAAlBq2B,SAER,GAAIA,EAASk/C,WAAa4pG,EAAa5pG,SAAU,CAC/C,IAAM2pG,EAAUljG,GAAW3lD,EAASk/C,UAEpCj2F,KAAK0qD,UAAS,iBAAO,CACnBk1I,QAAAA,EACD,GACH,CACF,GAAC,CAAAl8L,IAAA,wBAAA6C,MAED,SAAsB0wI,GACpB,OAAOj3I,KAAK0gB,MAAMq2B,SAASk/C,WAAaghD,EAAUlgG,SAASk/C,QAC7D,GAAC,CAAAvyF,IAAA,SAAA6C,MAED,WACE,IAAQq5L,EAAY5/L,KAAKsjB,MAAjBs8K,QAER,IAAKA,EACH,OAAO,KAGT,IAAQrjG,EAA4BqjG,EAA5BrjG,IAAKvuF,EAAuB4xL,EAAvB5xL,MAAO9B,EAAgB0zL,EAAhB1zL,YACd61B,EAAM66D,GAAOL,GAEnB,OACE6L,MAAA1qD,cAACoiJ,GAAAA,GAAY,CACX9xL,MAAOA,EACP9B,YAAaA,EACb6zL,UAAWh+J,EACXi+J,KAAM,CACJC,SAAU,CACR,WAAYjyL,EACZ,iBAAkB9B,EAClB,SAAU61B,EACV,WAAYi6D,GAAAA,OAAAA,QAIhBoM,MAAA1qD,cAACwiJ,GAAM,CAAC3jG,IAAKA,EAAKvuF,MAAOA,EAAO9B,YAAaA,IAGnD,KAACyzL,CAAA,CArDqB,CAASn0F,GAAAA,W,ykBCAQ,IAGpB20F,GAAO,SAAAC,IAAA1lL,EAAAA,GAAAA,GAAAylL,EAAAC,GAAA,I,IAAAzlL,G,EAAAwlL,E,maAAA,SAAAA,IAAA,IAAAxzL,GAAAP,EAAAA,GAAAA,GAAA,KAAA+zL,GAAA,QAAAvgL,EAAA7e,UAAAd,OAAAqsE,EAAA,IAAAlsE,MAAAwf,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAwsD,EAAAxsD,GAAA/e,UAAA+e,GAuBzB,OAvByBnT,EAAAgO,EAAAtZ,KAAA0e,MAAApF,EAAA,OAAAjY,OAAA4pE,KAAAnzD,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,aAOd,WACV,GAAMA,EAAK2W,MAAMs8K,QACf,OAAAvoL,GAAAA,GAAA,GACK1K,EAAK2W,MAAMs8K,SAAO,IACrB79J,IAAK66D,GAAOjwF,EAAK2W,MAAMs8K,QAAQrjG,OAInC,IAAAiN,EAA8C78F,EAAK+T,MACnD,MAAO,CACL1S,MAFmBw7F,EAAZpN,aAGPlwF,YAHuCs9F,EAAlBnN,mBAIrBE,IAAK,KACLx6D,IAAK,KAGT,IAACp1B,CAAA,CAqBA,OArBAN,EAAAA,GAAAA,GAAA8zL,EAAA,EAAAz8L,IAAA,SAAA6C,MAED,WACE,IAAA85L,EAAyCrgM,KAAKsgM,YAAtCtyL,EAAKqyL,EAALryL,MAAO9B,EAAWm0L,EAAXn0L,YAAaqwF,EAAG8jG,EAAH9jG,IAAKx6D,EAAGs+J,EAAHt+J,IACjC,OACEqmE,MAAA1qD,cAACoiJ,GAAAA,GAAY,CACX9xL,MAAOA,EACP9B,YAAaA,EACb6zL,UAAWh+J,EACXi+J,KAAM,CACJC,SAAU,CACR,WAAYjyL,EACZ,iBAAkB9B,EAClB,SAAU61B,EACV,WAAYi6D,GAAAA,OAAAA,QAIhBoM,MAAA1qD,cAACwiJ,GAAM,CAAC3jG,IAAKA,EAAKvuF,MAAOA,EAAO9B,YAAaA,IAGnD,KAACi0L,CAAA,CA5CyB,CAASR,KAAGxmL,EAAAA,EAAAA,GAAnBgnL,GAAO,YACP,CACjBppJ,SAAU+0D,KAAAA,OAAAA,WACV1P,aAAc0P,KAAAA,OACdzP,mBAAoByP,KAAAA,S,eCwCxB,SAAetE,IAAf,EAvBe,SAAC9mF,GACd,IAAQna,EAAiDma,EAAjDna,MAAO6jG,EAA0C1pF,EAA1C0pF,UAASm1C,EAAiC7+H,EAA/B1a,KAAAA,OAAI,IAAAu5I,EAAG,GAAEA,EAAEghD,EAAoB7/K,EAApB6/K,gBACjCC,EAAY,sBAAH99L,OAAyBk7C,oBAAmB6iJ,EAAAA,GAAAA,IAAMl6L,EAAOP,KAEtE,GAAIu6L,EAAiB,CACnB,IAAMG,EA1BU,SAACj6G,GACnB,GAAIn4D,IAAUA,GAAAA,cAAsB,CAClC,IAAIroB,GAAM,EAOV,OANAiL,OAAOtL,KAAK0oB,GAAAA,eAAsBprB,SAAQ,SAACQ,GACzC,GAAIA,EAAIqE,gBAAkB0+E,EAAW1+E,cAEnC,OADA9B,EAAMqoB,GAAAA,cAAqB5qB,IACpB,CAEX,IACOuC,CACT,CACA,OAAO,CACT,CAcqB06L,CAAYJ,GACzBG,IACFF,EAAY,mCAAH99L,OAAsCg+L,EAAQ,OAAAh+L,OAAMsD,GAEjE,CACA,OACEoiG,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,OACEgC,UAAWA,EACX/B,UAAU,SACViE,IAAK/lG,EACLyH,MAAOzH,EACP6lG,IAAKo0F,IAIb,GCjDA,CAAgB,OAAS,6BCkCzB,GAAer2F,IAAf,EA7BsB,SAAC/5F,GACrB,IACEuvF,EAOEvvF,EAPFuvF,SACA2I,EAMEl4F,EANFk4F,QAAOs4F,EAMLxwL,EALFnJ,KACE2N,EAAIgsL,EAAJhsL,KACAg9C,EAAIgvI,EAAJhvI,KACAxpC,EAAIw4K,EAAJx4K,KAIJ,OACEggF,KAAAA,cAAA,UAAQC,UAAS,UAAA3lG,OAAYi9F,EAAW,WAAa,IAAM2I,QAASA,GAClEF,KAAAA,cAAA,OAAKC,UAAU,QACbD,KAAAA,cAAA,OAAKC,UAAU,QACbD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,cAAc+4F,eAAe,QACjD,IACDoF,KAAAA,cAAA,QAAMC,UAAU,UAAUzzF,IAASs8C,GAAWL,IAAMe,EAAOxpC,IAE7DggF,KAAAA,cAAA,OAAMC,UAAU,QACdD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,cAAc+4F,eAAe,QACjD,IACDoF,KAAAA,cAAA,QAAMC,UAAU,UAAUzzF,IAASs8C,GAAWL,IAAMzoC,EAAOwpC,KAKrE,GChCA,CAAgB,OAAS,4BAA4B,SAAW,2BAA2B,KAAO,4BAA4B,KAAO,2BAA2B,KAAO,2BAA2B,OAAS,4BDkC1J,CAAEs4C,eAAe,I,OEZpC,IAkDxB+pC,IATL/4E,EAAAA,EAAAA,KAAQ,SAAA3uD,GAAA,IACO8a,EAAI9a,EAAlBspB,WAAcxO,KACV,MACC,CACL2lH,eAFIzgI,EAAJopB,KAGAtO,KAAAA,EACD,GAE2CshF,CAAAC,GAA3CuB,KCvED,CAAgB,UAAY,2BAA2B,SAAW,2BAA2B,WAAa,2BAA2B,QAAU,2BAA2B,UAAY,4BAA4B,UAAY,2BAA2B,WAAa,2BAA2B,gBAAgB,2BAA2B,gBAAgB,2BAA2B,gBAAgB,2BAA2B,YAAc,2BAA2B,aAAe,2BAA2B,qBAAuB,4BDuExf,CAAED,eAAe,GAAO+iC,CAAArkC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAAu5H,EAAA5oC,GAAA,I,IAAA1wF,G,EAAAs5H,E,maAI1C,SAAAA,EAAYvzH,GAAO,IAAA/T,EAOhB,OAPgBP,EAAAA,GAAAA,GAAA,KAAA6nI,GACjBtnI,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,YAHH,IAAKwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAuCK,SAACinB,EAASjK,GAC7B,IAAQszE,EAAYtwF,EAAK+T,MAAjBu8E,QAER,GAAuB,IAAnBA,EAAQh9F,OACV0M,EAAKk0L,gBAAgBjtK,EAASjK,OACzB,CACL,IAAMqzE,EAA8B96B,GAAQqlC,cAAcvK,4BAA4B,CAAErzE,SAAAA,EAAUszE,QAAAA,KAC9D,IAAhCD,EACFrwF,EAAKm0L,6BAA6B9jG,GAElCrwF,EAAKk0L,gBAAgBjtK,EAASjK,EAElC,CACF,KAACxQ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAEoB,SAACkgB,EAAQlD,GAC5B,IAAMkT,EAAW/hB,GAAAA,cAAwB6O,EAAS5hB,eAE5Cg5L,GADiB/zK,OAAOqpD,UAAUx5C,IAAaA,EAAW,GAAKA,EAAW,EAC1C,EAAIA,EACpC76B,EAAS,IAAIq7B,GAAAA,EAAUxQ,GAAQujB,GAAG2wJ,EAAe1jK,GAAAA,EAAAA,iBAGvD,OAAQr7B,EAAOg/L,IAAI,GAAqCh/L,EAAOysE,UAAvCzsE,EAAOysE,QAAQsyH,EACzC,KAAC5nL,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gCAE8B,SAACuwF,GAEf1iF,GAAAA,GAAAA,SAAiBQ,SAASnC,OAAOkB,MAAhD,IACMojF,EAAc1kD,GAAAA,KAAAA,YAAyB9rC,EAAK+T,MAAMu8E,QAAQC,SAE5Cl8F,IAAhBm8F,GAEF1kD,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,mBAAqC,CACvDqiF,YAAAA,GAGN,KAAChkF,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAEgB,SAACoP,GAChB,OAAOA,EAAKc,aACd,KAAC1D,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iCAAAe,GAAAsT,EAAAA,EAAAA,GAAAC,IAAAA,MAEiB,SAAAC,EAAO0S,EAASjK,GAAQ,IAAA6/E,EAAAy3F,EAAAh3L,EAAAk9C,EAAA/G,EAAAD,EAAA03F,EAAAx0C,EAAA7tE,EAAA0rK,EAAAvtE,EAAAlqG,EAAAinC,EAAAjtB,EAAA5W,EAAAZ,EAAA7D,EAAAwpC,EAAAh9C,EAAAusL,EAAAC,EAAA,OAAAngL,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OAsBM,GAtBNkjG,EAcpC78F,EAAK+T,MAAKugL,EAAAz3F,EAZZquC,IACE5tI,EAAEg3L,EAAFh3L,GACWk9C,EAAU85I,EAArB75I,UAGGhH,EAAWopD,EAAhBxxE,IACMmoB,EAAYqpD,EAAlBvxE,KACA4/G,EAAGruC,EAAHquC,IACAx0C,EAAImG,EAAJnG,KACA7tE,EAAOg0E,EAAPh0E,QACA0rK,EAAc13F,EAAd03F,eACAvtE,EAAenqB,EAAfmqB,gBAGIlqG,EAAU9c,EAAK2tC,aAErBqI,GAAAA,OAAAA,WAA2B,GAADjgD,OAAIiK,EAAK00L,eAAelhJ,GAAa,MAAAz9C,OAAKiK,EAAK00L,eAAejhJ,KAElFsQ,EAAOgB,GAAKU,UAAUylF,GAEpBp0G,EAA2CitB,EAA3CjtB,MAAO5W,EAAoC6jC,EAApC7jC,OAAQZ,EAA4BykC,EAA5BzkC,MAAO7D,EAAqBsoC,EAArBtoC,KAAMwpC,EAAelB,EAAfkB,KAAMh9C,EAAS87C,EAAT97C,KAErCssL,EAAe,CAClB/gJ,aAAAA,EACAC,YAAAA,EACAvzB,OAAQs6B,EACR19B,QAAAA,IACE,CAAFlI,EAAAjb,KAAA,eAAAib,EAAAU,OAAA,UAAS,GAAK,cAAAV,EAAAjb,KAAA,EAEWqtH,EAAgB,CAAE2tE,aAAcnhJ,EAAcohJ,YAAanhJ,EAAaxsB,QAAAA,IAAU,OAA3F,IAAArS,EAAAG,KAEA,CAAFH,EAAAjb,KAAA,SAIb,OAHDmyC,GAAAA,cAAAA,KACE39B,GAAAA,cAAAA,kBACA,CAAE3P,MAAO,uGACVoW,EAAAU,OAAA,UACM,GAAK,QAGRk/K,EAAgB,IAAI9jK,GAAAA,EAAUoG,GAAO2M,GAAG,EAAG/S,GAAAA,EAAAA,YAE3C+jK,GAAWr+F,EAAAA,GAAAA,IAAe,CAC9B9qE,KAAM,CACJhuB,GAAI,cACJ+4F,eAAgB,QAElBhrE,IAAK,CACH/tB,GAAI,eACJ+4F,eAAgB,SAKpBvqD,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,iBAAmC,CACrD6Z,MAAOkjH,EACPl0C,SAAU,WAAF,IAAA4wC,GAAAvzH,EAAAA,EAAAA,GAAAC,IAAAA,MAAE,SAAAO,EAAOyoJ,GAAY,IAAAtgH,EAAA,OAAA1oC,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OAC3Bq8C,GAAAA,OAAAA,cAA8B,GAADjgD,OAAIiK,EAAK00L,eAAelhJ,GAAa,MAAAz9C,OAAKiK,EAAK00L,eAAejhJ,KAE3FzzC,EAAK+9C,SAAS,CAAEr/B,YAAY,IAE5BjN,YAAW,WACTzR,EAAK+9C,UAAS,iBAAO,CAAEr/B,YAAY,EAAO,GAC5C,GAAG,MAEGs+B,EAAc,CAClB35C,QAAS,MAEU,OAAjBi6J,IACFtgH,EAAY35C,QAAUi6J,GAGxBxxH,GAAAA,KAAAA,YAAyB7kB,EAAS+1B,GAAa,SAACmV,GAC9CllD,QAAQ4jB,IAAI,mBAAD96B,OAAoBo8D,EAAa,WAAa,aAErDA,EACFnyD,EAAK+9C,SAAS,CAAEr/B,YAAY,IAAS,WACnC,IAAM8vH,EAAUtD,EAAI5wF,QAAO,GAAAvkD,OACtB20C,GAAM2/C,UAAS,KAAAt0F,OAAIuH,GAAE,GAAAvH,OAErB20C,GAAM0/C,WAAU,KAAAr0F,OAAIuH,GAEzB2P,QAAQ4jB,IAAI,qBAAD96B,OAAsBy4I,IAEjC3lH,EAAQt1B,KAAK+uG,GAAa5L,EAAK7sD,OAAQ2kG,GACzC,IAEAxuI,EAAK+9C,SAAS,CAAEr/B,YAAY,GAEhC,IACAotB,GAAAA,KAAAA,aAAyB,wBAAAh3B,EAAAJ,OAAA,GAAAG,EAAA,KAC1B,gBAAAc,GAAA,OAAAiyH,EAAAx0H,MAAA,KAAAhf,UAAA,EAnCS,GAoCVquC,QACEg5D,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,eACH+4F,eAAe,6FACfl9F,OAAQ,CACN+a,OAAQ,GAAFne,OAAKkS,IAASs8C,GAAWL,IAE3BwyC,EAAKC,cAAc89F,EAASnpK,MAE5BorE,EAAKC,cAAc89F,EAASppK,MAEhCnL,OAAQ,GAAFnqB,OAAKiK,EAAK42C,mBAAmB12B,EAAQzE,IAC3CA,KAAM,GAAF1lB,OAAKiK,EAAK00L,eAAej5K,IAC7B6D,MAAO,GAAFvpB,OAAKiK,EAAK42C,mBAAmBt3B,EAAO2lC,IACzCA,KAAM,GAAFlvD,OAAKiK,EAAK00L,eAAezvI,IAC7BnuB,MAAO,GAAF/gC,OAAKy+L,QAIhB,yBAAA5/K,EAAAF,OAAA,GAAAH,EAAA,KACH,gBAAAS,EAAAa,GAAA,OAAA9U,EAAAqS,MAAA,KAAAhf,UAAA,EAnHA,KAmHAoY,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAEe,WACd,IAAMoxG,EAActyF,OAAOuyF,WAE3BrxG,EAAK+9C,UAAS,iBAAO,CACnBqzD,YAAAA,EACD,GACH,IArMEpxG,EAAK2W,MAAQ,CACXy6F,YAAa,EACb1yF,YAAY,EACZm2K,aAAa,GACd70L,CACH,CA8cC,OA9cAN,EAAAA,GAAAA,GAAA4nI,EAAA,EAAAvwI,IAAA,aAAA6C,MAED,WACE,IAAAmlG,EAOI1rG,KAAK0gB,MAAK+gL,EAAA/1F,EANZmsC,IACEtvF,EAAIk5I,EAAJl5I,KACAnI,EAAWqhJ,EAAXrhJ,YACAD,EAAYshJ,EAAZthJ,aAEF5F,EAAQmxD,EAARnxD,SAGEmnJ,EAAkBn5I,EAAOpI,EAAeC,EAE5C,OAAQ7F,GAAYA,EAASmnJ,GAAoBnnJ,EAASmnJ,GAAmB,CAC/E,GAAC,CAAAh+L,IAAA,oBAAA6C,MAED,WACEvG,KAAK62G,UAAW,EAChBprF,OAAOuvE,iBAAiB,SAAUh7F,KAAK2hM,eACvC3hM,KAAK2hM,eACP,GAAC,CAAAj+L,IAAA,uBAAA6C,MAED,WACEvG,KAAK62G,UAAW,EAChBprF,OAAOwvE,oBAAoB,SAAUj7F,KAAK2hM,eAC1ClpJ,GAAAA,OAAAA,MAAqB39B,GAAAA,OAAAA,QACvB,GAAC,CAAApX,IAAA,SAAA6C,MAuKD,WAAS,IA4CHq7L,EACAC,EACAC,EACA93H,EACA+3H,EAhDG9lL,EAAA,KACP8vC,EAGI/rD,KAAKsjB,MAFP+H,EAAU0gC,EAAV1gC,WACA0yF,EAAWhyD,EAAXgyD,YAGFuxB,EAyBItvI,KAAK0gB,MAAKshL,EAAA1yD,EAxBZuI,IACE5tI,EAAE+3L,EAAF/3L,GACAs+C,EAAIy5I,EAAJz5I,KACAtB,EAAO+6I,EAAP/6I,QACA7G,EAAW4hJ,EAAX5hJ,YACAgH,EAAS46I,EAAT56I,UACAjH,EAAY6hJ,EAAZ7hJ,aACAgtE,EAAW60E,EAAX70E,YACA1oB,EAAYu9F,EAAZv9F,aAAYw9F,EAAAD,EACZj9I,MACQm9I,EAASD,EAAf56K,KAEWk5K,EAAe0B,EAD1BzsL,IACExF,QAINgoB,EAAGs3G,EAAHt3G,IACAC,EAAIq3G,EAAJr3G,KAEA5Q,GADUioH,EAAVuI,IACIvI,EAAJjoH,MACAuM,EAAO07G,EAAP17G,QACAkB,EAAWw6G,EAAXx6G,YACAqtK,EAAa7yD,EAAb6yD,cACAjB,EAAc5xD,EAAd4xD,eAGIxwI,EAAOgB,GAAKU,UAAUpyD,KAAK0gB,MAAMm3H,KAE/Bp0G,EAA2CitB,EAA3CjtB,MAAO5W,EAAoC6jC,EAApC7jC,OAAQZ,EAA4BykC,EAA5BzkC,MAAO7D,EAAqBsoC,EAArBtoC,KAAMwpC,EAAelB,EAAfkB,KAAMh9C,EAAS87C,EAAT97C,KAEpCwtL,EAAsBlB,EAAe,CACzC/gJ,aAAcloB,EACdmoB,YAAapoB,EACbnL,OAAQu6B,EACRi7I,eAAe,IASbztL,IAASs8C,GAAWL,MACtB+wI,EAAkBhwI,EAClBiwI,EAAgB51K,EAChB61K,EAAiB15K,EACjB4hD,EAAen9C,EACfk1K,EAAW,IAAI1kK,GAAAA,EAAU,GAAG8S,IAAI1M,IAG9B7uB,IAASs8C,GAAWJ,MACtB8wI,EAAkBx5K,EAClBy5K,EAAgBh1K,EAChBi1K,EAAiBlwI,EACjBoY,EAAe/9C,EACf81K,EAAWt+J,GAGb,IAAM03G,EAAU,GAAHz4I,OAAM20C,GAAM0/C,WAAU,KAAAr0F,OAAIuH,GAEjCq4L,EAAqB,SAAC/7L,EAAOojB,GACjC,MAAiB,SAAbA,GAAmC,OAAZA,EAClBhqB,OAAO4G,EAAMkoE,QAAQ,IAExBzhD,OAAOzmB,GAAS,GACX5G,OAAO4G,EAAMkoE,QAAQ,IAErB9uE,OAAO4G,EAAMkoE,QAAQ,GAGlC,EAIA,OAF2BsvC,EAAc,IAGvC3V,KAAAA,cAAA,MACEn+F,GAAIA,EACJo+F,UAAS,eAAA3lG,OACLuH,IAAOk4L,EAAgB,uBAAyB,GAAE,cAEtDpkJ,MAAOnqB,IAAY3pB,EAAK,CAAE63K,WAAY,wBAA2B,CAAC,GAElE15E,KAAAA,cAAA,MAAIC,UAAU,WACZD,KAAAA,cAAA,OAAKC,UAAU,YACbD,KAAAA,cAACm6F,GAAM,CACLh8L,MAAO27L,EACPl8L,KAAM,GACNu6L,gBAAiBA,IAElBt5I,GACCmhD,KAAAA,cAACo6F,GAAS,QAIhBp6F,KAAAA,cAAA,MAAIC,UAAU,WACZD,KAAAA,cAAA,QAAMC,UAAU,aACdD,KAAAA,cAAA,QAAMgC,UAAS,GAAA1nG,OAAKk/L,EAAgB75L,cAAa,sBAAoB,GAAArF,OAAK1C,KAAKujD,mBAAmBs+I,EAAeD,KAChH,IACDx5F,KAAAA,cAAA,eAAA1lG,OAAU1C,KAAKqhM,eAAeO,OAGlCx5F,KAAAA,cAAA,MAAIC,UAAU,WACZD,KAAAA,cAAA,QAAMC,UAAU,aACdD,KAAAA,cAAA,QAAMgC,UAAS,GAAA1nG,OAAKo/L,EAAe/5L,cAAa,qBAAmB,GAAArF,OAAK1C,KAAKujD,mBAAmBymB,EAAc83H,KAC7G,IACD15F,KAAAA,cAAA,eAAA1lG,OAAU1C,KAAKqhM,eAAeS,OAGlC15F,KAAAA,cAAA,MAAIC,UAAU,WACZD,KAAAA,cAAA,QAAMC,UAAU,aAAW,GAAA3lG,OACrB1C,KAAKujD,mBAAmBw+I,EAAUD,GAAe,KAAAp/L,OAAI1C,KAAKqhM,eAAeS,GAAe,KAAAp/L,OAAI1C,KAAKqhM,eAAeO,MAGxHx5F,KAAAA,cAAA,MAAIC,UAAU,WACXhhF,IAAS66K,EACN95F,KAAAA,cAACq6F,GAAY,CAACn6F,QAAS,kBAAMxzE,EAAY7qB,EAAG,EAAEsgG,OAAK,IAErDnC,KAAAA,cAACuB,GAAAA,SAAQ,KAELwjB,EACE/kB,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,OAAKrqD,MAAO,CAAEkG,MAAO,QACnBmkD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,UAAU+4F,eAAe,gBAE/C,IACDoF,KAAAA,cAACstC,GAAAA,GAAI,CAAC/kG,GAAIwqG,GACR/yC,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,UAAU+4F,eAAe,WAIlDyB,EACE2D,KAAAA,cAAA,YACEA,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,SAAS+4F,eAAe,gCAG/C33E,EACE+8E,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAC2E,GAAY,MACb3E,KAAAA,cAAA,WACAA,KAAAA,cAAA,YACEA,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,SAAS+4F,eAAe,gDAIjDoF,KAAAA,cAACs6F,GAAa,CACZ/iG,UAAWyiG,EACX95F,QAAS85F,EACP,kBAAMnmL,EAAK0mL,mBAAmB14L,EAAIs+C,EAAOpI,EAAeC,EAAY,EAEpE,WAAO,EAETn5C,KAAM,CACJ2N,KAAAA,EACAwT,KAAMpoB,KAAKqhM,eAAej5K,GAC1BwpC,KAAM5xD,KAAKqhM,eAAezvI,SAc9Cw2C,KAAAA,cAAA,MACEn+F,GAAIA,EACJo+F,UAAS,eAAA3lG,OACL,YAAW,eACXuH,IAAOk4L,EAAgB,uBAAyB,GAAE,cAEtDpkJ,MAAOnqB,IAAY3pB,EAAK,CAAE63K,WAAY,wBAA2B,CAAC,GAElE15E,KAAAA,cAAA,UACEA,KAAAA,cAAA,OAAKC,UAAU,gBACbD,KAAAA,cAAA,OAAKC,UAAU,iBACbD,KAAAA,cAAA,QAAMC,UAAU,aACbzzF,IAASs8C,GAAWL,IAChBu3C,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,kBAAkB+4F,eAAe,aACtDoF,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,kBAAkB+4F,eAAe,aAE7DoF,KAAAA,cAAA,QAAMC,UAAU,sBACbphD,GACCmhD,KAAAA,cAACo6F,GAAS,MAAG,GAAA9/L,OAEX4/L,EAAmBz1K,EAAQzE,GAAK,KAAA1lB,OAAI0lB,KAG5CggF,KAAAA,cAAA,WACEA,KAAAA,cAAA,KAAGC,UAAU,aAAa+B,UAAU,yBAEtChC,KAAAA,cAAA,OAAKC,UAAU,iBACbD,KAAAA,cAAA,QAAMC,UAAU,cACbzzF,IAASs8C,GAAWL,IAChBu3C,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,kBAAkB+4F,eAAe,YACtDoF,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,kBAAkB+4F,eAAe,cAE7DoF,KAAAA,cAAA,QAAMC,UAAU,aAAW,GAAA3lG,OAAK4/L,EAAmBr2K,EAAO2lC,GAAK,KAAAlvD,OAAI1C,KAAKqhM,eAAezvI,MAEzFw2C,KAAAA,cAAA,OAAKC,UAAU,iBAEXhhF,IAAS66K,EACP95F,KAAAA,cAACq6F,GAAY,CAACn6F,QAAS,kBAAMxzE,EAAY7qB,EAAG,EAAEsgG,OAAO,IAErDnC,KAAAA,cAACuB,GAAAA,SAAQ,KAELwjB,EACE/kB,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,OAAKrqD,MAAO,CAAEkG,MAAO,QACnBmkD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,UAAU+4F,eAAe,gBAE/C,IACDoF,KAAAA,cAACstC,GAAAA,GAAI,CAAC/kG,GAAIwqG,GACR/yC,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,UAAU+4F,eAAe,WAIlDyB,EACE2D,KAAAA,cAAA,YACEA,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,UAAU+4F,eAAe,gCAGhD33E,EACE+8E,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAC2E,GAAY,MACb3E,KAAAA,cAAA,WACAA,KAAAA,cAAA,YACEA,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,UAAU+4F,eAAe,gDAIlDoF,KAAAA,cAACs6F,GAAa,CACZr6F,UAAU,cACV1I,UAAWyiG,EACX95F,QAAS85F,EACP,kBAAMnmL,EAAK4kL,gBAAgB52L,EAAIs+C,EAAOpI,EAAeC,EAAY,EAEjE,WAAO,EAETn5C,KAAM,CACJ2N,KAAAA,EACAwT,KAAMpoB,KAAKqhM,eAAej5K,GAC1BwpC,KAAM5xD,KAAKqhM,eAAezvI,UAexD,KAACqiF,CAAA,CA1dyC,CAC1BzoC,GAAAA,aAAS5C,KAAAA,GA4d3B,UAAegF,EAAAA,GAAAA,IAAWqmC,IEriB1B,GAAe,IAA0B,oC,aCiBuB,IAK1D2uD,IAAQj6F,GADbnB,KCpBD,CAAgB,OAAS,4BAA4B,OAAS,2BAA2B,QAAU,2BAA2B,YAAY,2BAA2B,QAAU,2BAA2B,IAAM,2BAA2B,OAAS,2BAA2B,MAAQ,4BAA4B,SAAW,4BDoB1S,CAAE0C,eAAe,KADpCwvC,EAAAA,EAAAA,IAAU9wC,GAAAD,IAAAyG,GAAA,SAAA/D,IAAA3wF,EAAAA,GAAAA,GAAAkoL,EAAAv3F,GAAA,I,IAAA1wF,G,EAAAioL,E,maAAA,SAAAA,IAAA,IAAAj2L,GAAAP,EAAAA,GAAAA,GAAA,KAAAw2L,GAAA,QAAAhjL,EAAA7e,UAAAd,OAAAqsE,EAAA,IAAAlsE,MAAAwf,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAwsD,EAAAxsD,GAAA/e,UAAA+e,GAmBR,OAnBQnT,EAAAgO,EAAAtZ,KAAA0e,MAAApF,EAAA,OAAAjY,OAAA4pE,KAAAnzD,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAQU,WACjB,IAAe1C,EAAS0C,EAAK+T,MAArBm3H,IAAO5tI,GAET44L,EAAap3K,OAAOsrB,SAASu7D,KAOnC,OALiBuwF,EAAWxoL,SAAS,IAAD3X,OAAKuH,IACvC44L,EAAW,GAAAngM,OAERmgM,EAAU,KAAAngM,OAAIuH,EAGrB,IAAC0C,CAAA,CAoEA,OApEAN,EAAAA,GAAAA,GAAAu2L,EAAA,EAAAl/L,IAAA,iBAAA6C,MAED,SAAewV,GACb,OAAOA,EAAKc,aACd,GAAC,CAAAnZ,IAAA,SAAA6C,MAED,WACE,IAAAijG,EAGIxpG,KAAK0gB,MAAKugL,EAAAz3F,EAFZquC,IAAOxwF,EAAQ45I,EAAR55I,SAAUD,EAAS65I,EAAT75I,UAAWhH,EAAW6gJ,EAAX7gJ,YAAa+G,EAAU85I,EAAV95I,WAAYhH,EAAY8gJ,EAAZ9gJ,aAAc2R,EAAYmvI,EAAZnvI,aAAc7nD,EAAEg3L,EAAFh3L,GAAIg9C,EAAOg6I,EAAPh6I,QACrFoY,EAAcmqC,EAAdnqC,eAAgBD,EAAaoqC,EAAbpqC,cAAetqC,EAAW00E,EAAX10E,YAG3BqP,GAHsDqlE,EAAdnG,KAAQ7sD,OAGzCsb,EAAe,IAAIz0B,GAAAA,EAAUy0B,GAAgB,IAAIz0B,GAAAA,EAAU+pB,GAAWjX,IAAIgX,IAEjFg0F,EAAUl0F,EAAO,GAAAvkD,OAClB20C,GAAM2/C,UAAS,KAAAt0F,OAAIuH,GAAE,GAAAvH,OAErB20C,GAAM0/C,WAAU,KAAAr0F,OAAIuH,GAEzB,OACEm+F,KAAAA,cAAA,MAAI1kG,IAAK1D,KAAK0gB,MAAMhd,KAClB0kG,KAAAA,cAAA,MAAIC,UAAU,qBACZD,KAAAA,cAACukD,GAAK,CAACR,MAAO,CAAChsG,EAAcC,GAAcp6C,KAAM,KAChDihD,GACCmhD,KAAAA,cAACo6F,GAAS,OAGdp6F,KAAAA,cAAA,MAAIC,UAAU,WACZD,KAAAA,cAAA,QAAMgC,UAAU,mBAAmB/B,UAAU,SAASlhD,EAAWsnB,QAAQ,IACxE,IACD25B,KAAAA,cAAA,QAAMC,UAAU,YAAYroG,KAAKqhM,eAAelhJ,KAElDioD,KAAAA,cAAA,MAAIC,UAAU,WACZD,KAAAA,cAAA,QAAMgC,UAAU,kBAAkB/B,UAAU,SAASjhD,EAAUqnB,QAAQ,IACtE,IACD25B,KAAAA,cAAA,QAAMC,UAAU,YAAYroG,KAAKqhM,eAAejhJ,KAElDgoD,KAAAA,cAAA,MAAIC,UAAU,WACZD,KAAAA,cAAA,QAAMC,UAAU,SAASlkE,EAAKsqC,QAAQ,IACrC,IACD25B,KAAAA,cAAA,QAAMC,UAAU,YAAU,GAAA3lG,OAAK1C,KAAKqhM,eAAejhJ,GAAY,KAAA19C,OAAI1C,KAAKqhM,eAAelhJ,MAEzFioD,KAAAA,cAAA,MAAIC,UAAU,WACZD,KAAAA,cAAA,OAAKC,UAAU,WACbD,KAAAA,cAAA,WACEA,KAAAA,cAACsF,GAAI,CAAChuE,KAAM1/B,KAAK8iM,oBACf16F,KAAAA,cAAA,OAAKC,UAAU,UACbD,KAAAA,cAAA,OAAKgE,IAAK22F,GAAU16F,UAAU,MAAMiE,IAAI,aAI7ChyF,QAAQ+sC,GAAYA,EAASpnD,QAC5BmoG,KAAAA,cAAA,WACEA,KAAAA,cAAA,OAAKC,UAAU,SAASC,QAAS,kBAAMjpC,EAAep1D,EAAIo9C,EAAS,GAAGrrC,YAAYqL,KAAK,GACrF+gF,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,0BAA0B+4F,eAAe,aAEhEoF,KAAAA,cAACstC,GAAAA,GAAI,CAAC/kG,GAAIwqG,GACR/yC,KAAAA,cAAA,OAAKC,UAAU,SAASC,QAAS,kBAAMlpC,EAAcn1D,EAAIo9C,EAAS,GAAGrrC,YAAYqL,KAAK,GACpF+gF,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,aAAa+4F,eAAe,cAIrDoF,KAAAA,cAACq6F,GAAY,CAACn6F,QAAS,kBAAMxzE,EAAY7qB,EAAG,EAAEsgG,OAAO,MAMnE,KAACq4F,CAAA,CAvFQ,CAEYp3F,GAAAA,YAASryF,EAAAA,EAAAA,GAAAi2F,GAAA,YAEX,CACjByoC,IAAK/rC,KAAAA,SALElD,GAMRwG,MAAAxG,KAAAA,IAoFH,UAAegF,EAAAA,GAAAA,IAAWg1F,I,OEzGmB,I,SAGxBI,GADpB74F,KCND,CAAgB,cAAgB,4BDMZ,CAAED,eAAe,GAAOvB,CAAAC,GAAA,SAAAskC,IAAAxyH,EAAAA,GAAAA,GAAAsoL,EAAA91D,GAAA,I,IAAAvyH,G,EAAAqoL,E,maAAA,SAAAA,IAAA,OAAA52L,EAAAA,GAAAA,GAAA,KAAA42L,GAAAroL,EAAAoF,MAAA,KAAAhf,UAAA,CA6CzC,OA7CyCsL,EAAAA,GAAAA,GAAA22L,EAAA,EAAAt/L,IAAA,SAAA6C,MAG1C,WACE,IAAM8wI,EAAS,CACb,IACAjvC,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,kBAAkB+4F,eAAe,aACtDoF,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,iBAAiB+4F,eAAe,YACrDoF,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,eAAe+4F,eAAe,kBACnD,KAEFwG,EAAiExpG,KAAK0gB,MAA9DuuG,EAAQzlB,EAARylB,SAAU5vD,EAAcmqC,EAAdnqC,eAAgBD,EAAaoqC,EAAbpqC,cAAetqC,EAAW00E,EAAX10E,YAEjD,YAAwB9zB,IAApBiuH,EAAShvH,QAAwBgvH,EAAShvH,QAAU,EAC/C,KAIPmoG,KAAAA,cAAA,WACEA,KAAAA,cAAA,SAAOC,UAAU,iBACfD,KAAAA,cAAA,aACEA,KAAAA,cAAA,UAEIivC,EAAOj2I,KAAI,SAAC4M,EAAOzG,GAAK,OACtB6gG,KAAAA,cAAA,MAAI1kG,IAAK6D,GAAQyG,EAAW,MAKpCo6F,KAAAA,cAAA,aACG6mB,EAAS7tH,KAAI,SAACuzB,EAAOptB,GACpB,OACE6gG,KAAAA,cAACw6F,GAAQ,CACPl/L,IAAK6D,EACLswI,IAAKljH,EACL0qC,eAAgBA,EAChBD,cAAeA,EACftqC,YAAaA,GAGnB,MAKV,KAACkuK,CAAA,CA7CyC,CACNvyD,GAAAA,iBAAa7nC,GEqDnD,IAAMq6F,GAAiB,SAACpqL,EAAQwO,GAAI,OAAKxO,EACtCzJ,QAAO,SAAAulB,GAAK,OAAIA,EAAMowB,MAAM19B,OAASA,CAAI,GAAC,EAEvC67K,GAAe,SAACrqL,EAAQzJ,GAC5B,OAAOyJ,EACJzJ,QAAO,SAAAulB,GAAK,OAA2B,IAAvBA,EAAM8vE,YAAqB,IAC3Cr1F,QAAO,SAAAulB,GAAK,OAAuB,IAAnBA,EAAM+vE,QAAiB,IACvCt1F,QAAO,SAAAulB,GAAK,OAAI+8B,GAAKtrC,MAAMuO,EAAOvlB,EAAO,IACzC87B,MAAK,SAAClnC,EAAGC,GACR,OAAOytD,GAAKyxI,cAAcl/L,EAAGD,EAC/B,GACJ,EAiBMo/L,IAASz6F,IAfdztC,EAAAA,EAAAA,KAAQ,SAAA3uD,GAAA,IACPypB,EAAgBzpB,EAAhBypB,iBAAgBqtK,EAAA92L,EAChBmpB,KAAQ7c,EAAMwqL,EAANxqL,OAAQzJ,EAAMi0L,EAANj0L,OAAMk0L,EAAA/2L,EACtBspB,WAAclH,EAAQ20K,EAAR30K,SAAUC,EAAgB00K,EAAhB10K,iBAAkBvH,EAAIi8K,EAAJj8K,KACrB0M,EAAUxnB,EAA/BwnB,WAAcha,MAAK,MACd,CACLlB,OAAQqqL,GAAarqL,EAAQzJ,GAC7B6/G,SAAUg0E,GAAepqL,EAAQwO,GACjCsH,SAAAA,EACAC,iBAAAA,EACAmF,WAAAA,EACAkpE,QAASjnE,EAAiBtC,YAC3B,IAAEu5G,GAEF9iC,KCvFD,CAAgB,cAAgB,4BAA4B,oBAAsB,2BAA2B,OAAS,2BAA2B,oBAAsB,2BAA2B,eAAiB,2BAA2B,SAAW,2BAA2B,cAAgB,4BAA4B,iBAAmB,4BDuF/T,CAAED,eAAe,IAAOvB,GAAAC,IAD3C8wC,EAAAA,EAAAA,IAAU9wC,GAAAqkC,GAAArkC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAA0oL,EAAA/3F,GAAA,I,IAAA1wF,G,EAAAyoL,E,maAwBT,SAAAA,EAAY1iL,GAAO,IAAA/T,EAOhB,OAPgBP,EAAAA,GAAAA,GAAA,KAAAg3L,GACjBz2L,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,yBA4BU,SAACpG,GACvBoG,EAAK+9C,UAAS,iBAAO,CAAE64I,kBAAmBh9L,EAAO,GACnD,KAAC4S,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAEa,SAACinB,GACb6kB,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,QAA0B,CAC5C6oF,SAAU,WACRhhD,GAAAA,OAAAA,UACAlK,GAAAA,KAAAA,uBAAoC7kB,GACpC6kB,GAAAA,KAAAA,YAAyB7kB,GACzB6kB,GAAAA,KAAAA,YACF,EACArJ,QACEg5D,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,YAAY+4F,eAAe,gDAGtD,KAAC7pF,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAEe,SAACinB,EAASvM,GACxBoxB,GAAAA,KAAAA,cAA2B7kB,EAASvM,GACpCoxB,GAAAA,KAAAA,YACF,KAACt/B,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAEgB,SAACinB,EAASvM,GACzBoxB,GAAAA,KAAAA,eAA4B7kB,EAASvM,GACrCoxB,GAAAA,KAAAA,YACF,IApDE9rC,EAAK2W,MAAQ,CACXkgL,UAAW,GACXC,WAAY,GACZF,mBAAmB,GACpB52L,CACH,CAVC,OAUAN,EAAAA,GAAAA,GAAA+2L,EAAA,EAAA1/L,IAAA,qBAAA6C,MAED,WACE,IAAQsS,EAAW7Y,KAAK0gB,MAAhB7H,OACRkzC,EAAkC/rD,KAAKsjB,MAA/BkgL,EAASz3I,EAATy3I,UAAWC,EAAU13I,EAAV03I,WAEG,IAAlB5qL,EAAO5Y,SACLujM,EAAUvjM,QACZD,KAAK0qD,UAAS,iBAAO,CACnB84I,UAAW,GACZ,IAGCC,EAAWxjM,QACbD,KAAK0qD,SAAS,CACZ+4I,WAAY,KAIpB,GAAC,CAAA//L,IAAA,iBAAA6C,MA+BD,SAAewV,GACb,OAAOA,EAAKc,aACd,GAAC,CAAAnZ,IAAA,SAAA6C,MAED,WAAS,IAAA0V,EAAA,KACPwwC,EAIIzsD,KAAKsjB,MAHPkgL,EAAS/2I,EAAT+2I,UACAC,EAAUh3I,EAAVg3I,WACAF,EAAiB92I,EAAjB82I,kBAGF/5F,EAkBIxpG,KAAK0gB,MAjBP2iF,EAAImG,EAAJnG,KACApG,EAAOuM,EAAPvM,QACAklG,EAAa34F,EAAb24F,cACAuB,EAAQl6F,EAARk6F,SACAnpJ,EAAQivD,EAARjvD,SACA/kB,EAAOg0E,EAAPh0E,QACA7G,EAAQ66E,EAAR76E,SAEAsgG,GADgBzlB,EAAhB56E,iBACQ46E,EAARylB,UACAr7F,EAAO41E,EAAP51E,QACAmjB,EAAQyyD,EAARzyD,SACAhjB,EAAUy1E,EAAVz1E,WACAmtK,EAAc13F,EAAd03F,eACAvtE,EAAenqB,EAAfmqB,gBACagwE,EAAgBn6F,EAA7BppD,YACcwjJ,EAAiBp6F,EAA/BrpD,aAIIC,GAHOopD,EAAXq6F,YAGkBF,EAAiB9mL,eAC/BsjC,EAAeyjJ,EAAkB/mL,cAEjCw6H,EAAS,CACb,IACAjvC,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,YAAY+4F,eAAe,WAChDoF,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,YAAY+4F,eAAe,UAChDoF,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,YAAY+4F,eAAe,UAChD,KAGI48F,EAAUljG,GAAW3lD,EAASk/C,UAI9B6tG,GAFYx1K,IAAUA,GAAAA,UAECyF,EAAWikB,MAAK,SAAAtpB,GAAC,OAAIA,EAAE/Z,OAASyrC,CAAW,KAAK,CAAC,GAAGjuB,WAC3E4xK,GAAwBhwK,EAAWikB,MAAK,SAAAtpB,GAAC,OAAIA,EAAE/Z,OAASwrC,CAAY,KAAK,CAAC,GAAGhuB,UAE7EnkB,GAAQ+0F,EAAAA,GAAAA,IAAe,CAC3BihG,UAAW,CACT/5L,GAAI,YACJ+4F,eAAgB,mHAGd92F,GAAc62F,EAAAA,GAAAA,IAAe,CACjCkhG,gBAAiB,CACfh6L,GAAI,YACJ+4F,eAAgB,iMAKdkhG,EAAqBj1E,EAAS7/G,QAAO,SAAAulB,GAAK,OAC9CA,EAAMyrB,cAAgBA,GAAezrB,EAAMwrB,eAAiBA,GAE5DxrB,EAAMyrB,cAAgBD,GAAgBxrB,EAAMwrB,eAAiBC,CAAW,IAGpE+jJ,EACJ/7F,KAAAA,cAAA,OAAKC,UAAU,uBACbD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,gCACH+4F,eAAe,wCAEjBoF,KAAAA,cAAA,OAAKC,UAAU,UACbD,KAAAA,cAAC2E,GAAY,OAEf3E,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,iCACH+4F,eAAe,0BAKfohG,EACJh8F,KAAAA,cAAA,KAAGC,UAAU,uBACXD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,6BACH+4F,eAAe,kGAKrB,OACEoF,KAAAA,cAAA,OAAKC,UAAU,oBACbD,KAAAA,cAAC+3F,GAAO,CACNppJ,SAAUA,EACVqlD,aAAciH,EAAKC,cAAct1F,EAAMg2L,UAAW,CAChD5jJ,YAAapgD,KAAKqhM,eAAejhJ,GACjCD,aAAcngD,KAAKqhM,eAAelhJ,GAClC2jJ,oBAAAA,EACAC,qBAAAA,IAEF1nG,mBAAoBgH,EAAKC,cAAcp3F,EAAY+3L,gBAAiB,CAClE7jJ,YAAapgD,KAAKqhM,eAAejhJ,GACjCD,aAAcngD,KAAKqhM,eAAelhJ,GAClC2jJ,oBAAAA,EACAC,qBAAAA,QAID90E,EAAShvH,QACVmoG,KAAAA,cAACq3F,GAAK,CACJ/wC,OACEtmD,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,UACEA,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,aAAa+4F,eAAe,gBAChD,IACDoF,KAAAA,cAAA,YAAQm7F,EAAoB,IAAH7gM,OAAOusH,EAAShvH,OAAM,SAAAyC,OAAUwhM,EAAmBjkM,OAAM,KAAAyC,OAAIusH,EAAShvH,OAAM,OAEvGmoG,KAAAA,cAAA,OAAKC,UAAU,0BACbD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,aACH+4F,eAAe,kCACfl9F,OAAQ,CACNs6C,YAAapgD,KAAKqhM,eAAejhJ,GACjCD,aAAcngD,KAAKqhM,eAAelhJ,MAKtCioD,KAAAA,cAACwvD,GAAM,CAACxoI,QAASm0K,EAAmB35F,SAAU5pG,KAAKqkM,wBACnDj8F,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,aAAa+4F,eAAe,WAKvDoF,KAAAA,cAAC46F,GAAQ,CACP/zE,SAAUs0E,EAAoBt0E,EAAWi1E,EACzC7kI,eAAgBr/D,KAAKq/D,eACrBvqC,YAAa90B,KAAK80B,YAClBsqC,cAAep/D,KAAKo/D,iBAI1BgpC,KAAAA,cAACq3F,GAAK,CAAC/wC,OACLtmD,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,MAAIC,UAAU,iBACZD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,YACH+4F,eAAe,oBACfl9F,OAAQ,CAAE6jB,SAAU3pB,KAAKqhM,eAAejhJ,OAE5CgoD,KAAAA,cAAA,OAAKC,UAAU,YACbD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,YACH+4F,eAAe,sBACfl9F,OAAQ,CAAE6jB,SAAU3pB,KAAKqhM,eAAejhJ,SAK7CzxB,EAEG60K,EAAUvjM,OAAS,EAEfmoG,KAAAA,cAACmuC,GAAK,CACJtsI,GAAG,iBACHmgG,UAAWk6F,GAAAA,SACXj8F,UAAU,iBACVgvC,OAAQA,EACRF,KAAMqsD,EACNlsD,UAAW,SAACO,GAAG,OACbzvC,KAAAA,cAAC6rC,GAAG,CACFvwI,IAAKm0I,EAAI5tI,GACT2pB,QAASA,EACTikH,IAAKA,EACL56C,QAASA,EACTznE,QAASA,EACTV,YAAa7Y,EAAK6Y,YAClBqtK,cAAeA,EACfuB,SAAUA,EACVnpJ,SAAUA,EACV2mJ,eAAgBA,EAChBvtE,gBAAiBA,EACjB37F,IAAKooB,EACLnoB,KAAMkoB,GACN,IAINgkJ,EAEJC,GAINh8F,KAAAA,cAACq3F,GAAK,CAAC/wC,OACLtmD,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,MAAIC,UAAU,iBACZD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,YACH+4F,eAAe,oBACfl9F,OAAQ,CAAE6jB,SAAU3pB,KAAKqhM,eAAelhJ,OAE5CioD,KAAAA,cAAA,OAAKC,UAAU,YACbD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,YACH+4F,eAAe,sBACfl9F,OAAQ,CAAE6jB,SAAU3pB,KAAKqhM,eAAelhJ,SAM7CxxB,EAEG80K,EAAWxjM,OAAS,EAEhBmoG,KAAAA,cAACmuC,GAAK,CACJtsI,GAAG,iBACHmgG,UAAWk6F,GAAAA,SACXj8F,UAAU,iBACVgvC,OAAQA,EACRF,KAAMssD,EACNnsD,UAAW,SAACO,GAAG,OACbzvC,KAAAA,cAAC6rC,GAAG,CACFvwI,IAAKm0I,EAAI5tI,GACT2pB,QAASA,EACTikH,IAAKA,EACL56C,QAASA,EACTznE,QAASA,EACTV,YAAa7Y,EAAK6Y,YAClBqtK,cAAeA,EACfuB,SAAUA,EACVnpJ,SAAUA,EACV2mJ,eAAgBA,EAChBvtE,gBAAiBA,EACjB37F,IAAKmoB,EACLloB,KAAMmoB,GACN,IAIN+jJ,EAEJC,GAGLxE,GAAWA,EAAQ5mG,QAAUoP,KAAAA,cAAA,WAAMw3F,EAAQ5mG,QAGlD,IAAC,EAAAt1F,IAAA,2BAAA6C,MA5UD,SAAAmH,GAAuE,IAArCmL,EAAMnL,EAANmL,OAAQsnC,EAAYzyC,EAAZyyC,aAAcC,EAAW1yC,EAAX0yC,YACtD,GAAsB,IAAlBvnC,EAAO5Y,OACT,OAAO,KAGT,IAAMwjM,EAAa5qL,EAAOzJ,QAAO,SAAAulB,GAAK,OACpCA,EAAMyrB,YAAYr4C,gBAAkBq4C,EAAYr4C,eAChD4sB,EAAMwrB,aAAap4C,gBAAkBo4C,EAAap4C,aAAa,IAC/DmjC,MAAK,SAAClnC,EAAGC,GAAC,OAAKytD,GAAKyxI,cAAcl/L,EAAGD,EAAE,IAOzC,MAAO,CACLw/L,UANgB3qL,EAAOzJ,QAAO,SAAAulB,GAAK,OACnCA,EAAMyrB,YAAYr4C,gBAAkBo4C,EAAap4C,eACjD4sB,EAAMwrB,aAAap4C,gBAAkBq4C,EAAYr4C,aAAa,IAC9DmjC,MAAK,SAAClnC,EAAGC,GAAC,OAAKytD,GAAKyxI,cAAcn/L,EAAGC,EAAE,IAIvCw/L,WAAAA,EAEJ,KAACL,CAAA,CAtBQ,CAEa53F,GAAAA,aAAS5C,KAAAA,KAAAA,IAgVjC,UAAegF,EAAAA,GAAAA,IAAWw1F,I,OEpZK,IAWzBmB,IARLrpI,EAAAA,EAAAA,KAAQ,SAAA3uD,GAEY,MACd,CACL6C,OAHc7C,EAAdmpB,KAAQtmB,OAIR2kB,WAH+BxnB,EAA/BwnB,WAAcha,MAIf,GAC2C4uF,CAAAC,GAA3CuB,KC9BD,CAAgB,iBAAmB,2BAA2B,wBAA0B,2BAA2B,uBAAyB,2BAA2B,8BAAgC,4BAA4B,eAAiB,2BAA2B,kBAAoB,2BAA2B,aAAe,2BAA2B,QAAU,2BAA2B,QAAU,6BD8BnY,CAAED,eAAe,GAAO+iC,CAAArkC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAA6pL,EAAAl5F,GAAA,I,IAAA1wF,G,EAAA4pL,E,maAE1C,SAAAA,EAAY7jL,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAAm4L,GACjB53L,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAmCG,SAAAe,GAAmC,IAAhC0yC,EAAW1yC,EAAX0yC,YAAaD,EAAYzyC,EAAZyyC,aAC/BxzC,EAAKopJ,UAAU51G,EAAcC,GAE7BzzC,EAAK+9C,UAAS,iBAAO,CAAEtK,YAAAA,EAAaD,aAAAA,EAAc,GACpD,KAAChnC,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAEsB,SAAC+T,GACtB,IAAA8jL,EAA6D9jL,EAArDnT,MAAAA,OAAK,IAAAi3L,EAAG,CAAC,EAACA,EAAOpkJ,EAAoC1/B,EAAzCsX,IAAwBmoB,EAAiBz/B,EAAvBuX,KAKtC,MAAO,CAAED,IAHGzqB,EAAM6C,OAAS7C,EAAM6C,OAAO4nB,IAAMooB,EAGhCnoB,KAFD1qB,EAAM6C,OAAS7C,EAAM6C,OAAO6nB,KAAOkoB,EAGlD,KAAChnC,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,2BAEyB,SAAAkV,GAAe,IAAZtb,EAAKsb,EAALtb,MAC3BwlD,EAAoCp/C,EAAK2W,MAAnC68B,EAAY4L,EAAZ5L,aAAcC,EAAW2L,EAAX3L,YAEhBD,IAAiB55C,IACnB45C,EAAeC,GAGjBzzC,EAAKopJ,UAAU51G,EAAc55C,GAE7BoG,EAAK+9C,SAAS,CACZtK,YAAa75C,EACb45C,aAAAA,GAEJ,KAAChnC,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,4BAE0B,SAAAuV,GAAe,IAAZ3b,EAAK2b,EAAL3b,MAC5BkmD,EAAoC9/C,EAAK2W,MAAnC68B,EAAYsM,EAAZtM,aAAcC,EAAWqM,EAAXrM,YAEhBA,IAAgB75C,IAClB65C,EAAcD,GAGhBxzC,EAAKopJ,UAAUxvJ,EAAO65C,GACtB3H,GAAAA,MAAAA,WAAyB0H,GACzBxzC,EAAK+9C,SAAS,CACZtK,YAAAA,EACAD,aAAc55C,GAElB,KAAC4S,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAEc,WACb,IAAA48F,EAAsC58F,EAAK2W,MAAnC88B,EAAWmpD,EAAXnpD,YAAaD,EAAYopD,EAAZppD,aAErBxzC,EAAKopJ,UAAU31G,EAAaD,GAE5BxzC,EAAK+9C,SAAS,CACZtK,YAAaD,EACbA,aAAcC,GAElB,KAACjnC,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,aAEW,SAACyC,GACXqpC,GAAAA,KAAAA,UAAuBrpC,EACzB,KAAC+J,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,aAEW,SAACsrB,EAAMD,GACjBC,EAAOA,EAAKpb,cACZmb,EAAMA,EAAInb,cAEN/B,GAAAA,YAAAA,SAA+B,GAADpY,OAAIu1B,EAAI,KAAAv1B,OAAIs1B,IAC5CrrB,EAAKsc,UAAU,GAADvmB,OAAIu1B,EAAI,KAAAv1B,OAAIs1B,IACjBld,GAAAA,YAAAA,SAA+B,GAADpY,OAAIs1B,EAAG,KAAAt1B,OAAIu1B,IAClDtrB,EAAKsc,UAAU,GAADvmB,OAAIs1B,EAAG,KAAAt1B,OAAIu1B,KAEzBtrB,EAAKsc,UAAU,YACftc,EAAK+9C,UAAS,iBAAO,CACnBvK,aAAc,MACdC,YAAa,OACbyjJ,aAAa,EACd,IAEL,KAAC1qL,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAEkB,WACjB,IAAA68F,EAA4B78F,EAAK+T,MAAzB8U,EAAOg0E,EAAPh0E,QAASpmB,EAAMo6F,EAANp6F,OAEjBzC,EAAK+9C,UAAS,iBAAO,CACnBphC,WAAW,EACX+2H,QAAQ,EACT,IACD7qH,EAAQ70B,QAAQyO,EAAOrH,cACzB,IAxHE,IAAQgvJ,EAAkCr2I,EAAlCq2I,YAAqBvgH,EAAa91B,EAArB2iF,KAAQ7sD,OAC7B5zB,EAAsCm0I,GAAe,CAAC,EAA9C32G,EAAWx9B,EAAXw9B,YAAaD,EAAYv9B,EAAZu9B,aAErBskJ,EAAsB93L,EAAK+3L,qBAAqBhkL,GAAxCsX,EAAGysK,EAAHzsK,IAAKC,EAAIwsK,EAAJxsK,KAQZ,OANDtrB,EAAK2W,MAAQ,CACX88B,YAAapoB,GAAOooB,GAAe,OACnCD,aAAcloB,GAAQkoB,GAAgB,MACtC0jJ,aAAa,EACbxjD,QAAQ,EACRjqD,SAAU6Y,GAAaz4D,EAAQa,GAAM++C,WACtCzpF,CACH,CAsLC,OAtLAN,EAAAA,GAAAA,GAAAk4L,EAAA,EAAA7gM,IAAA,oBAAA6C,MAED,WACE,IAAAo+L,EAAsB3kM,KAAK0kM,qBAAqB1kM,KAAK0gB,OAA7CsX,EAAG2sK,EAAH3sK,IAAKC,EAAI0sK,EAAJ1sK,KAERA,GAASD,GAIdh4B,KAAK+1J,UAAU99H,EAAMD,EACvB,GAAC,CAAAt0B,IAAA,qBAAA6C,MAED,SAAAmc,GAAqD,IAA3BkiL,EAAOliL,EAAZsV,IAAoB6sK,EAAQniL,EAAduV,KACjCyzE,EAAsB1rG,KAAK0gB,MAAnBsX,EAAG0zE,EAAH1zE,IAAKC,EAAIyzE,EAAJzzE,KACTD,IAAQ4sK,GAAW3sK,IAAS4sK,GAC9B7kM,KAAK8kM,eAAe,CAClB1kJ,YAAapoB,EACbmoB,aAAcloB,GAGpB,GAAC,CAAAv0B,IAAA,SAAA6C,MA0FD,WACE,IAAA+oI,EAAgEtvI,KAAK0gB,MAAKqkL,EAAAz1D,EAAlE/hI,MAAAA,OAAK,IAAAw3L,EAAG,CAAC,EAACA,EAAAC,EAAA11D,EAAE95G,QAAAA,OAAO,IAAAwvK,EAAG,CAAC,EAACA,EAAEjxK,EAAUu7G,EAAVv7G,WAAYouK,EAAa7yD,EAAb6yD,cAC9CztF,EAA6D10G,KAAKsjB,MAA1D88B,EAAWs0D,EAAXt0D,YAAaD,EAAYu0D,EAAZv0D,aAAc0jJ,EAAWnvF,EAAXmvF,YAAaztG,EAAQse,EAARte,SAC1C6uG,EAA4B3sI,EAAAA,GAAW,yBAA2B,mBAClEvH,EAAgBziC,IAAUA,GAAAA,SAEhC8hH,EAGIpwI,KAAK0gB,MAFPgjL,EAAQtzD,EAARszD,SACAnpJ,EAAQ61F,EAAR71F,SAGF,OACE6tD,KAAAA,cAAA,WAASC,UAAWt3C,EAAgB,GAAHruD,OAAMuiM,EAAyB,KAAAviM,OAAIuiM,EAAyB,WAAYA,GAErGzvK,EAAQuhB,UAAYvhB,EAAQuhB,SAASk/C,WAAaG,EAEhDgS,KAAAA,cAACg3F,GAAY,KACXh3F,KAAAA,cAACk3F,GAAwB,CACvBxoC,yBAA0B92J,KAAK82J,yBAC/BW,wBAAyBz3J,KAAKy3J,wBAC9Bne,aAAct5I,KAAKklM,iBACnB9kJ,YAAaA,EACbD,aAAcA,EACdouI,aAAcvuL,KAAKuuL,aACnBx6J,WAAYA,IAEdq0E,KAAAA,cAAA,OAAKC,UAAU,kBACbD,KAAAA,cAAC8jD,GAAM,CAACxC,UAAQ,EAACkB,kBAAkB,GACjCxiD,KAAAA,cAAC6+D,GAAQ,KACP7+D,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,UAAU+4F,eAAe,2BAIlDoF,KAAAA,cAAA,OAAKC,UAAU,qBACbD,KAAAA,cAAA,UACEp6F,MAAM,uBACN2nI,MAAM,MACNxrG,OAAO,MACPiiE,IAAI,4CACJ+4F,YAAY,IACZC,MAAM,4BACNC,iBAAe,IAEjBj9F,KAAAA,cAAA,OAAKC,UAAU,gBAEXhxD,GAAM5d,IAAIr4B,KAAI,SAAC23F,EAAU5zF,GAAG,OAC1BijG,KAAAA,cAACk9F,IAAiBz5F,EAAAA,GAAAA,GAAA,CAACnoG,IAAKyB,GAAS4zF,GAAY,QAQzDqP,KAAAA,cAACg7F,GAAS,CACRtsC,yBAA0B92J,KAAK82J,yBAC/BW,wBAAyBz3J,KAAKy3J,wBAC9Br3G,YAAaA,EACbD,aAAcA,EACdouI,aAAcvuL,KAAKuuL,aACnB36J,QAASrmB,EAAM6C,QAAU7C,EAAM6C,OAAOwjB,QACtCiwK,YAAaA,EACb1B,cAAeA,EACfuB,SAAUA,EACVnpJ,SAAUA,EACV2mJ,eAAgBlhM,KAAK0gB,MAAMwgL,eAC3BvtE,gBAAiB3zH,KAAK0gB,MAAMizG,kBAMxC,KAAC4wE,CAAA,CAtMyC,CACvB/4F,GAAAA,aAAS5C,KAAAA,GAwM9B,UAAegF,EAAAA,GAAAA,IAAW22F,IEvN1B,GAAe/8F,IAAf,EAZc,WACZ,OACEY,KAAAA,cAAA,OAAKC,UAAU,SACbD,KAAAA,cAAA,OAAKC,UAAU,aACbD,KAAAA,cAAA,MAAIC,UAAU,aACZD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,oBAAoB+4F,eAAe,gCAKlE,GCdA,CAAgB,UAAY,2BAA2B,MAAQ,2BAA2B,UAAY,6BC4BtG,GAAewE,IAAf,EAvBc,WACZ,IAAM8K,EAAO,qEACb,OACElK,KAAAA,cAAA,OAAKC,UAAU,aACbD,KAAAA,cAAA,OAAKC,UAAU,UAAS,IAExBD,KAAAA,cAACI,GAAAA,EAAgB,CACbv+F,GAAG,QACH+4F,eAAe,4HACf,KAGJoF,KAAAA,cAAA,KAAGkK,KAAMA,EAAMtkG,MAAOskG,EAAMrI,OAAO,SAASuI,IAAI,sBAAsBnK,UAAU,QAC9ED,KAAAA,cAAA,SAAG,uCAEDA,KAAAA,cAAA,YAAM,yEAKhB,GCzBA,CAAgB,UAAY,2BAA2B,OAAS,4BAA4B,KAAO,4BD4B1D,CAAE8B,eAAe,IEoB1D,GAAe1C,IAAf,EA5CmB,WAAH,OACdY,KAAAA,cAAA,OAAKC,UAAU,uBACbD,KAAAA,cAAA,MAAIC,UAAU,mBACZD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,eAAe+4F,eAAe,sBAErDoF,KAAAA,cAAA,OAAKC,UAAU,kBACbD,KAAAA,cAAA,OAAKC,UAAU,kBACbD,KAAAA,cAAA,QAAMC,UAAU,kBACdD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,eAAe+4F,eAAe,mDAErDoF,KAAAA,cAAA,QAAMC,UAAU,kBACdD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,eAAe+4F,eAAe,qHAGvDoF,KAAAA,cAAA,OAAKC,UAAU,kBACbD,KAAAA,cAAA,QAAMC,UAAU,kBACdD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,eAAe+4F,eAAe,yBAErDoF,KAAAA,cAAA,QAAMC,UAAU,kBACdD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,eAAe+4F,eAAe,qHAGvDoF,KAAAA,cAAA,OAAKC,UAAU,kBACbD,KAAAA,cAAA,QAAMC,UAAU,kBACdD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,eAAe+4F,eAAe,uCAErDoF,KAAAA,cAAA,QAAMC,UAAU,kBACdD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,eAAe+4F,eAAe,4HAA4H,MAGnLoF,KAAAA,cAAA,OAAKC,UAAU,kBACbD,KAAAA,cAAA,QAAMC,UAAU,kBACdD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,eAAe+4F,eAAe,wCAErDoF,KAAAA,cAAA,QAAMC,UAAU,kBACdD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,eACH+4F,eAAe,kKAAkK,OAIrL,GC7CR,CAAgB,gBAAkB,2BAA2B,eAAiB,2BAA2B,eAAiB,4BAA4B,eAAiB,2BAA2B,eAAiB,2BAA2B,oBAAsB,4BDgDtN,CAAEkH,eAAe,IElB/D,IAAe0D,EAAAA,GAAAA,IAAWpG,MA1BD,SAAC9mF,GAAK,OAC7B0nF,KAAAA,cAAA,OAAKC,UAAU,iBACbD,KAAAA,cAAA,OAAKC,UAAU,4BACbD,KAAAA,cAAA,OAAKC,UAAU,oDACbD,KAAAA,cAAA,UACEA,KAAAA,cAAA,UAAIA,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,2BAA2B+4F,eAAe,qCACnEoF,KAAAA,cAAA,UAAIA,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,2BAA2B+4F,eAAe,mCACnEoF,KAAAA,cAAA,UAAIA,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,2BAA2B+4F,eAAe,4CACnEoF,KAAAA,cAAA,UAAIA,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,2BAA2B+4F,eAAe,6DAGvEoF,KAAAA,cAAA,OAAKC,UAAU,iDACbD,KAAAA,cAAA,UACEp6F,MAAM,UACN2nI,MAAM,OACNxrG,OAAO,MACPiiE,IAAK1rF,EAAM2iF,KAAKC,cAAc,CAAEr5F,GAAI,eAAgB+4F,eAAgB,8CACpEmiG,YAAY,IACZC,MAAM,0EACNC,iBAAe,MAIjB,GC3BR,CAAgB,cAAgB,2BAA2B,qBAAuB,2BAA2B,yBAA2B,2BAA2B,6BAA+B,2BAA2B,0BAA4B,4BAA4B,oBAAsB,4BD8B5O,CAAEn7F,eAAe,K,mlBEgGhF,IAAMn5C,GAAgBziC,IAAUA,GAAAA,SAC1Bi3K,GAAoBj3K,IAAyB,iCAAfA,GAAAA,IAC9Bk3K,GAAc,CAAC,EAmBfC,IAjBLvqI,EAAAA,EAAAA,KACC,SAAA3uD,GAAA,IACEwnB,EAAUxnB,EAAVwnB,WACAiC,EAAgBzpB,EAAhBypB,iBACQnd,EAAMtM,EAAdmpB,KAAQ7c,OAAMi0H,EAAAvgI,EACdopB,KAAQvK,EAAU0hH,EAAV1hH,WAAYI,EAAUshH,EAAVthH,WAAU,MACzB,CACLuI,WAAY+gI,GAA8B/gI,EAAWtB,cACrD8yH,cAAexxH,EAAWha,MAC1B2Y,iBAAkBoiI,GAA8B/gI,EAAWpB,iBAC3D9Z,OAAQi8I,GAA4Bj8I,GACpCuS,YAAUhC,EAAAA,EAAAA,GAAMlY,OAAOtL,KAAKwlB,GAAYhqB,KAAI,SAAC8E,GAAC,OAAKklB,EAAWllB,EAAE,KAChE+2F,QAASjnE,EAAiBtC,YAC1BlI,WAAAA,EACD,GAEyCm9E,CAAAC,GAA3CpB,KAAWrjD,GAAQ,CAAE+lD,eAAe,GAAO+iC,EAAA79B,GAAA,SAAA89B,IAAAxyH,EAAAA,GAAAA,GAAA+qL,EAAAv4D,GAAA,I,IAAAvyH,G,EAAA8qL,E,maAqC1C,SAAAA,EAAY/kL,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAAq5L,GACjB94L,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,YApCK,IAAKwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,0BAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,2BAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAqIV,SAACxB,GAAyC,IAA1Bo0E,EAAex+E,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,IAC9C4hD,GAAAA,aAAAA,OAA6B,WAADjgD,OAAY68E,EAAO,sBAAA78E,OAAqByI,EAAMikC,QAAO,MAEjFx1B,QAAQrQ,MAAM,cAAe,eAC7BqQ,QAAQzO,MAAM,WAADzI,OAAY68E,EAAO,cAAA78E,OAAa+W,KAAKC,UAAUvO,GAAM,MAClEyO,QAAQ4jB,IAAI,iBAAkB,gBAC9B5jB,QAAQ0jG,QACR1jG,QAAQy2B,WAERoI,GAAAA,cAAAA,KACE39B,GAAAA,cAAAA,kBACA,CAAE3P,MAAOA,EAAMikC,SAEnB,KAACj2B,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,6BAyE2B,SAACgd,GAC3B,IACQ+7K,EADiB/4L,EAAKg5L,sCACtBD,gBAER,GAAIA,GAAmBA,EAAgB/7K,EAAS9M,eAC9C,OAAO6oL,EAAgB/7K,EAAS9M,eAGlC,IAAMnI,EAASiV,EAAS9M,cAClBm+H,EAAcvmI,GAAAA,GAAUC,IAAWD,GAAAA,GAAUC,GAAQI,QAAUR,GAAAA,GAAAA,KAC/Dw4E,EAAiBzzE,GAAAA,QAAqByB,GAAAA,aAAAA,gBAE5C,SAAIkgI,IAAeluD,KACjBngF,EAAKi5L,uBAAuBj8K,EAAS9M,cAAe2vB,GAAAA,UAC7CA,GAAAA,SAIX,KAACrzB,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAsGsB,SAAAO,IAAA,IAAA4J,EAAA2gC,EAAAu1I,EAAAttC,EAAAp3H,EAAA2oB,EAAA,OAAAtkC,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OAMnB,GALM8kB,EAAeze,EAAK+T,MAApB0K,WAAU2gC,EACmBp/C,EAAK2W,MAAlCg+K,EAAYv1I,EAAZu1I,aAActtC,EAAUjoG,EAAVioG,aAEhBp3H,EAAWxR,EAAW4sB,MAAK,SAAApb,GAC/B,OAAOA,EAASjQ,WAAa20K,EAAav5L,aAC5C,KAEc,CAAF0Z,EAAAnb,KAAA,eAAAmb,EAAAnb,KAAA,EACcwgD,GAAUlqB,EAAS3nB,UAAUixD,eAAe,CAClEnhB,MAAOnoB,EAAS5sB,QAChBg1C,QAAS12B,GAAAA,aAAoBsO,EAAS3nB,UACtCgwC,SAAUroB,EAASulC,gBACnBtlC,SAAUD,EAASC,WACnB,OALI0oB,EAAS9jC,EAAAC,KAOf/U,EAAK+9C,UAAS,iBAAO,CACnBm7I,kBAAmB,IAAIxoK,GAAAA,EAAUkoB,GAAWha,uBAAuByoH,GACpE,IAAE,wBAAAvyI,EAAAJ,OAAA,GAAAG,EAAA,OAENrI,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEsB,SAAAC,IAAA,IAAA6S,EAAA8sB,EAAA,OAAA5/B,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OAEmC,OADhDytB,EAAepnB,EAAK+T,MAApBqT,WACF8sB,EAAgB9sB,EAAW3yB,KAAI,SAAA8gB,GAAO,OAAAA,EAAJvN,IAAe,IAAC4M,EAAAjb,KAAA,EAElDmyC,GAAAA,KAAAA,qBAAkCoI,GAAc,wBAAAt/B,EAAAF,OAAA,GAAAH,EAAA,OACvD/H,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,4BAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAQ0B,SAAAkB,IAAA,OAAAlB,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,cAAA+b,EAAA/b,KAAA,EACnBqG,EAAKm5L,gBAAe,cAAAzjL,EAAA/b,KAAA,EACpBqG,EAAKo5L,gBAAe,wBAAA1jL,EAAAhB,OAAA,GAAAc,EAAA,OAC3BhJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,cAEY,WAGXA,EAAKm5L,eAFoB,EAG3B,KAAC3sL,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEe,SAAAa,IAAA,IAAAgkF,EAAAr5C,EAAAx0B,EAAAD,EAAA0rK,EAAAsC,EAAAC,EAAAhrE,EAAAl6H,UAAA,OAAAkgB,IAAAA,MAAA,SAAAe,GAAA,cAAAA,EAAA/Z,KAAA+Z,EAAA1b,MAAA,OAM4B,OANrBw/F,EAAgBm1B,EAAAh7H,OAAA,QAAAe,IAAAi6H,EAAA,IAAAA,EAAA,GAAQxuE,EAIzC9/C,EAAK2W,MAFO2U,EAAIw0B,EAAlB60I,aACatpK,EAAGy0B,EAAhB80I,YAGF50L,EAAK+9C,UAAS,iBAAO,CAAEouG,WAAW,EAAM,IAAE92I,EAAA1b,KAAA,EAEnBqgG,GAAY,CACjCxmD,aAAcloB,EACdmoB,YAAapoB,EACb8tE,iBAAAA,IACA,OAJY,OAAR49F,EAAQ1hL,EAAAN,KAAAM,EAAA1b,KAAG,EAMOqG,EAAKu5L,gBAAgBxC,EAAS1rK,IAAIjc,MAAK,OAAhD,OAATiqL,EAAShkL,EAAAN,KAAAM,EAAA1b,KAAG,GACOqG,EAAKu5L,gBAAgBxC,EAASzrK,KAAKlc,MAAK,QAAjD,GAAVkqL,EAAUjkL,EAAAN,KAEX/U,EAAKkqG,SAAU,CAAF70F,EAAA1b,KAAA,gBAAA0b,EAAAC,OAAA,kBAElBtV,EAAK+9C,UAAS,iBAAO,CACnBouG,WAAW,EACX4qC,SAAQrsL,GAAAA,GAAA,GACHqsL,GAAQ,IACXsC,UAAAA,EACAC,WAAAA,IAEH,IAAE,yBAAAjkL,EAAAX,OAAA,GAAAS,EAAA,OACJ3I,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEe,SAAA0B,IAAA,IAAA4mF,EAAAppD,EAAAC,EAAAsjJ,EAAAyC,EAAA9wC,EAAA+wC,EAAAC,EAAA9rJ,EAAA,OAAAt5B,IAAAA,MAAA,SAAAmC,GAAA,cAAAA,EAAAnb,KAAAmb,EAAA9c,MAAA,OAIJ,GAJIijG,EAKV58F,EAAK2W,MAHO68B,EAAYopD,EAA1B+3F,aACalhJ,EAAWmpD,EAAxBg4F,aACAmC,EAAQn6F,EAARm6F,WAGgB/2L,EAAKkqG,SAAQ,CAAAzzF,EAAA9c,KAAA,eAAA8c,EAAAnB,OAAA,iBASZ,OAPnBtV,EAAK+9C,UAAS,iBAAO,CAAEouG,WAAW,EAAM,IAElCqtC,EAAY1tJ,GAAAA,KAAAA,UAAuB,CAAE9uB,SAAUy2B,IAC/Ci1G,EAAa58G,GAAAA,KAAAA,UAAuB,CAAE9uB,SAAUw2B,IAChDimJ,EAAe3tJ,GAAAA,KAAAA,UAAuB,CAAE9uB,SAAU+5K,EAAS1rK,IAAIjc,OAC/DsqL,EAAgB5tJ,GAAAA,KAAAA,UAAuB,CAAE9uB,SAAU+5K,EAASzrK,KAAKlc,OAEjEw+B,EAAW,CAAC,EAACn3B,EAAA9c,KAAA,GAC8BmyC,GAAAA,KAAAA,mBAAgC0tJ,GAAU,QAAnD,OAAxC5rJ,EAAS,GAAD73C,OAAI09C,EAAYvjC,gBAAgBuG,EAAA1B,KAAA0B,EAAA9c,KAAG,GACOmyC,GAAAA,KAAAA,mBAAgC48G,GAAW,QAApD,GAAzC96G,EAAS,GAAD73C,OAAIy9C,EAAatjC,gBAAgBuG,EAAA1B,UAEI1gB,IAAzCu5C,EAAS,GAAD73C,OAAI0jM,EAAaz8K,WAAyB,CAAAvG,EAAA9c,KAAA,gBAAA8c,EAAA9c,KAAA,GACPmyC,GAAAA,KAAAA,mBAC3C2tJ,GACD,QAFD7rJ,EAAS,GAAD73C,OAAI0jM,EAAaz8K,WAAWvG,EAAA1B,KAAA,gBAKQ1gB,IAA1Cu5C,EAAS,GAAD73C,OAAI2jM,EAAc18K,WAAyB,CAAAvG,EAAA9c,KAAA,gBAAA8c,EAAA9c,KAAA,GACPmyC,GAAAA,KAAAA,mBAC5C4tJ,GACD,QAFD9rJ,EAAS,GAAD73C,OAAI2jM,EAAc18K,WAAWvG,EAAA1B,KAAA,QAKvC/U,EAAK+9C,UAAS,iBAAO,CACnBouG,WAAW,EACXv+G,SAAAA,EACD,IAED5tC,EAAK25L,4BAA2B,yBAAAljL,EAAA/B,OAAA,GAAAsB,EAAA,OACjCxJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,0BAyBwB,WAAM,IAAA45L,EACvBt4G,EAAmBthF,EAAKg5L,sCAC9BjxF,EAAyD/nG,EAAK2W,MAAtDg+K,EAAY5sF,EAAZ4sF,aAAcC,EAAW7sF,EAAX6sF,YAAaiF,EAAQ9xF,EAAR8xF,SAAUC,EAAO/xF,EAAP+xF,QAEvCC,EAAmBrvL,GAAAA,GAAA,GACpB42E,GAAgB,IACnBy3G,iBAAea,EAAA,IAAAptL,EAAAA,EAAAA,GAAAotL,EACZjF,EAAazkL,cAAgB2pL,IAAQrtL,EAAAA,EAAAA,GAAAotL,EACrChF,EAAY1kL,cAAgB4pL,GAAOF,GAEtCI,eAAgB,CACd1uK,KAAMqpK,EACNtpK,IAAKupK,KAITloL,GAAAA,QACEyB,GAAAA,aAAAA,iBACA4rL,EAEJ,KAACvtL,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,YAEU,WACT,IAAA68F,EAOI78F,EAAK+T,MANP6kI,EAAa/7C,EAAb+7C,cACQ/uG,EAAMgzD,EAAdnG,KAAQ7sD,OACRhhB,EAAOg0E,EAAPh0E,QAAO2kH,EAAA3wC,EACPj8F,MACE6C,OAAew2L,EAAQzsD,EAAbniH,IAAqB6uK,EAAS1sD,EAAfliH,MAK3B4uK,IAAaD,GAEVrhD,EAAcnkJ,KAAI,SAAC8D,GAAI,OAAKA,EAAKqB,MAAMsW,aAAa,IAAExC,SAASwsL,EAAUhqL,gBACzE0oI,EAAcnkJ,KAAI,SAAC8D,GAAI,OAAKA,EAAKqB,MAAMsW,aAAa,IAAExC,SAASusL,EAAS/pL,gBAG3E2Y,EAAQt1B,KAAK+uG,GAAaz4D,EAAQ,GAAF9zC,OAAK20C,GAAM++C,SAAQ,iBAGrD,IAAAi5C,EAAsC1iI,EAAK2W,MAAnCi+K,EAAWlyD,EAAXkyD,YAAaD,EAAYjyD,EAAZiyD,aAEjBA,GAAgBuF,GAAaA,IAAcvF,GAC7C30L,EAAKm6L,mBAAmB,CAAEvgM,MAAOsgM,IAG/BtF,GAAesF,GAAaD,GAAYA,IAAarF,GACvD50L,EAAKo6L,cAAcF,EAAWD,EAElC,KAACztL,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAEe,SAACk6L,EAAWD,GAC1B,IAAMI,EAAwBvuJ,GAAAA,MAAAA,kBAAgCouJ,GAAWzlM,KAAI,SAACs+D,GAAE,OAAKA,EAAGn5D,KAAK,IAC7F,GAAIygM,EAAsB3sL,SAASusL,GACjC,OAAOj6L,EAAKs6L,kBAAkB,CAAE1gM,MAAOqgM,IAEzC,GAAII,EAAsB3sL,SAASwsL,GAAY,CAC7C,IAAMK,EAAiBF,EAAsB53L,QAAO,SAACswD,GAAE,OAAKA,IAAOmnI,CAAS,IACxEK,EAAe7sL,SAAS,OAC1B1N,EAAKs6L,kBAAkB,CAAE1gM,MAAO,QAEhCoG,EAAKs6L,kBAAkB,CAAE1gM,MAAO2gM,EAAe,IAEnD,CACF,KAAC/tL,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,aAEW,SAACsrB,EAAMD,GACjB,IAAA0zE,EAGI/+F,EAAK+T,MAFC81B,EAAMk1D,EAAdrI,KAAQ7sD,OACR2wJ,EAAUz7F,EAAVy7F,WAGGx6L,EAAK+T,MAAMq2B,SAAS7hB,KAAK7a,SAAS,YAAe8sL,GACpDx6L,EAAK+T,MAAM8U,QAAQt1B,KAAK+uG,GAAaz4D,EAAQ,GAAF9zC,OAAK20C,GAAM++C,SAAQ,KAAA1zF,OAAIu1B,EAAI,QAAAv1B,OAAOs1B,IAEjF,KAAC7e,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iCAAAiX,GAAA5C,EAAAA,EAAAA,GAAAC,IAAAA,MAEiB,SAAAiD,EAAOnI,GAAI,IAAAyP,EAAA2jH,EAAA,OAAAluH,IAAAA,MAAA,SAAAoD,GAAA,cAAAA,EAAApc,KAAAoc,EAAA/d,MAAA,OACT,GAAVklB,EAAe7e,EAAK+T,MAApB8K,WAAUnH,EAAApc,KAAA,GAGZ0E,EAAK43J,UAAUxoJ,GAAO,CAAFsI,EAAA/d,KAAA,eAAA+d,EAAApC,OAAA,SACftV,EAAK43J,UAAUxoJ,IAAK,cAAAsI,EAAA/d,KAAA,EAENmyC,GAAAA,KAAAA,gBAA6B18B,EAAMyP,GAAW,OACtC,OADvB2jH,EAAM9qH,EAAA3C,KACZ/U,EAAK43J,UAAUxoJ,GAAQozH,EAAM9qH,EAAApC,OAAA,SACtBktH,GAAM,QAAA9qH,EAAA/d,KAAA,iBAGiF,OAHjF+d,EAAApc,KAAA,GAAAoc,EAAAZ,GAAAY,EAAA,SAGf1X,EAAK64C,YAAWnhC,EAAAZ,GAAA,mCAAA/gB,OAA2CqZ,EAAI,qBAAArZ,OAAoB8oB,IAAanH,EAAApC,OAAA,SACzF,GAAC,yBAAAoC,EAAAhD,OAAA,GAAA6C,EAAA,mBAEX,gBAAAvC,GAAA,OAAAiC,EAAA7D,MAAA,KAAAhf,UAAA,EAjBA,KAiBAoY,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEgB,SAAA4C,IAAA,IAAAwsH,EAAAixD,EAAAC,EAAA6F,EAAAC,EAAA,OAAApmL,IAAAA,MAAA,SAAAgD,GAAA,cAAAA,EAAAhc,KAAAgc,EAAA3d,MAAA,OACkB,OADlB+pI,EACuB1jI,EAAK2W,MAAnCg+K,EAAYjxD,EAAZixD,aAAcC,EAAWlxD,EAAXkxD,YAAWt9K,EAAA3d,KAAA,EAERqG,EAAKu5L,gBAAgB5E,GAAa,OAA3C,OAAV8F,EAAUnjL,EAAAvC,KAAAuC,EAAA3d,KAAG,EACKqG,EAAKu5L,gBAAgB3E,GAAY,OAAnD8F,EAASpjL,EAAAvC,KACf/U,EAAK+9C,SAAS,CACZ08I,WAAAA,EACAC,UAAAA,IACA,wBAAApjL,EAAA5C,OAAA,GAAAwC,EAAA,OACH1K,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEa,SAAAsuB,IAAA,IAAAynH,EAAAsqC,EAAAC,EAAA,OAAAtgL,IAAAA,MAAA,SAAAivB,GAAA,cAAAA,EAAAjoC,KAAAioC,EAAA5pC,MAAA,OACZq8C,GAAAA,YAAAA,UAA8Bq0G,EAEQrqJ,EAAK2W,MAAnCg+K,EAAYtqC,EAAZsqC,aAAcC,EAAWvqC,EAAXuqC,YAEtB9oJ,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,MAAwB,CAC1CqlC,aAAcmhJ,EACdlhJ,YAAamhJ,IACb,wBAAArxJ,EAAA7uB,OAAA,GAAAkuB,EAAA,OACHp2B,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kCAEgC,SAAC26L,GAChC,IAAQnnJ,EAA+DmnJ,EAA/DnnJ,aAAcC,EAAiDknJ,EAAjDlnJ,YAAavzB,EAAoCy6K,EAApCz6K,OAAQ06K,EAA4BD,EAA5BC,SAAUlF,EAAkBiF,EAAlBjF,cAC/C8D,EAAY1tJ,GAAAA,KAAAA,UAAuB,CAAE9uB,SAAUy2B,IAC/Ci1G,EAAa58G,GAAAA,KAAAA,UAAuB,CAAE9uB,SAAUw2B,IACtD0E,EAGI1D,GAAYhB,GADFsI,GADE5D,EAAd9oC,KAC0B8oC,EAA1BhwC,YAEF2sC,EAGIL,GAAYf,GADFoI,GADChH,EAAbzlC,KACyBylC,EAAzB3sC,YAEFoiJ,EAA+BtqJ,EAAK2W,MAA5BogL,EAAQzsC,EAARysC,SAAUnpJ,EAAQ08G,EAAR18G,SAEZitJ,EAAkBnyC,EAAWv/G,QAC7B2xJ,EAAiBtB,EAAUrwJ,QAC3B4xJ,EAAc,IAAIrqK,GAAAA,EAAUkd,EAAS4F,EAAatjC,gBAAkB,GACtE8qL,GAA6B,EAC7BC,GAA8B,EAC9BC,GAAc,EAElB,IAAI,IAAAC,EAAAC,EAAAC,EACIC,EAAUvE,SAAc,QAANoE,EAARpE,EAAUzrK,YAAI,IAAA6vK,OAAN,EAARA,EAAgBxvK,IAC1B4vK,EAASxE,SAAa,QAALqE,EAARrE,EAAU1rK,WAAG,IAAA+vK,OAAL,EAARA,EAAezvK,IACxB6vK,EAAazE,SAAc,QAANsE,EAARtE,EAAUzrK,YAAI,IAAA+vK,OAAN,EAARA,EAAgBvhG,OAC7B2hG,EAAwB,IAAI/qK,GAAAA,EAAWmqK,EAAmBjtJ,EAASkO,GAAkB,GACrF4/I,EAAuB,IAAIhrK,GAAAA,EAAWoqK,EAAkBltJ,EAASiO,GAAiB,GAExFm/I,EAA6BD,EAAYn8J,uBAAuB1e,IAE5D26K,GAAmBG,GAA8BS,EAAsB78J,uBAAuB08J,IAGzFR,IAAmBF,IAAa/6J,GAAAA,QAAsBm7J,IAAgCU,EAAqB98J,uBAAuB28J,IAGlIC,GAAcT,EAAYn8J,uBAAuB,IAAIlO,GAAAA,EAAUxQ,GAAQme,KAAKi9J,KAAaI,EAAqB98J,uBAAuB28J,IAGrIX,IAAa/6J,GAAAA,QAAsB67J,EAAqB98J,uBAAuB28J,IAG/ER,EAAYn8J,uBAAuB,IAAIlO,GAAAA,EAAUxQ,GAAQme,KAAKi9J,OAXrEL,GAA8B,GAe5BA,IACFC,GAAc,EAElB,CAAE,MAAO18L,GAEP,OADAwB,EAAK64C,YAAYr6C,EAAO,0CACjB,CACT,CACA,GAAIk3L,EACF,OAAOwF,EAGT,IAAKA,EAAa,CAChB,IAAQ73L,EAAYyoC,GAAAA,KAAAA,UAAuB,CAAE9uB,SAAUw2B,IAA/CnwC,QACRs4L,EASI5E,EARFzrK,KACOgwK,EAAOK,EAAZhwK,IACM+wB,EAAQi/I,EAAdvsL,KAAIwsL,EAMJ7E,EAJF1rK,IACOkwK,EAAMK,EAAXjwK,IACM8wB,EAAOm/I,EAAbxsL,KAIEysL,EACJpgG,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,8BACH+4F,eAAe,yDAEjBoF,KAAAA,cAAA,WAEEw/F,GAA+BL,IAAa/6J,GAAAA,OAU5C47D,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,sBACH+4F,eAAe,gIACfl9F,OAAQ,CACN+mB,OAAAA,EACAlD,SAAUhd,EAAK00L,eAAelhJ,GAC9B8nJ,QAAAA,EACA5+I,SAAU18C,EAAK00L,eAAeh4I,GAC9B6+I,OAAAA,EACA9+I,QAASz8C,EAAK00L,eAAej4I,GAC7ByrD,GAAIzM,KAAAA,cAAA,cAnBRA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,kBACH+4F,eAAe,6DACfl9F,OAAQ,CACNoiM,OAAAA,EACA9+I,QAASz8C,EAAK00L,eAAej4I,OAkCvC,OAbA3Q,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,YAA8B,CAChD9M,MACEo6F,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,mCACH+4F,eAAe,wBAGnB5zD,QAASo5J,EACTj8B,UAAU,EACV5iJ,SAAUhd,EAAK00L,eAAejhJ,GAC9BpwC,QAAAA,EACA+pK,WAAY,aAEP,CACT,CACA,OAAO,CACT,KAAC5gK,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEiB,SAAAuvB,IAAA,IAAA8xH,EAAAg/B,EAAAttC,EAAAwyC,EAAAjF,EAAA3tK,EAAA60K,EAAAC,EAAAC,EAAA,OAAA1nL,IAAAA,MAAA,SAAAkwB,GAAA,cAAAA,EAAAlpC,KAAAkpC,EAAA7qC,MAAA,OACgD,GADhDg8J,EACqD31J,EAAK2W,MAAlEg+K,EAAYh/B,EAAZg/B,aAActtC,EAAUsO,EAAVtO,WAAYwyC,EAAQlkC,EAARkkC,SAAUjF,EAAWj/B,EAAXi/B,YAAa3tK,EAAO0uI,EAAP1uI,QAGtDjnB,EAAKi8L,+BAA+B,CACnCzoJ,aAAcmhJ,EACdlhJ,YAAamhJ,EACb10K,OAAQmnI,EACRvqI,QAAS9c,EAAK2tC,WAAWgnJ,GACzBiG,SAAUf,IACV,CAAAr1J,EAAA7qC,KAAA,eAAA6qC,EAAAlvB,OAAA,UAEK,GAAK,cAAAkvB,EAAA7qC,KAAA,EAGaqG,EAAKgnH,gBAAgB,CAAE2tE,aAAAA,EAAcC,YAAAA,EAAa3tK,QAAAA,IAAU,OAArE,IAAAud,EAAAzvB,KAEA,CAAFyvB,EAAA7qC,KAAA,QAIb,OAHDmyC,GAAAA,cAAAA,KACE39B,GAAAA,cAAAA,kBACA,CAAE3P,MAAO,qGACVgmC,EAAAlvB,OAAA,UACM,GAAK,OAGdtV,EAAK+9C,UAAS,iBAAO,CACnBm+I,uBAAuB,EACxB,IAAEJ,EAEgCtnJ,GAAYmgJ,GAAjCoH,EAAgBD,EAAtB1sL,KACF4sL,EAAel0L,GAAAA,GAAU6sL,EAAazkL,eAAe5H,SAASlN,cAEpE0wC,GAAQkwJ,GACLviI,QAAQ,CACPz1B,GAAIriB,GAAAA,aAAoBq6K,GACxBh0L,KAAM+zL,EACN77K,OAAQmnI,IAETjzH,MAAK,SAACyuC,GACL7iE,EAAKm8L,uBAELrwJ,GAAAA,cAAAA,KACE39B,GAAAA,cAAAA,QACA,CAACs0B,QACCg5D,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,2BACH+4F,eAAe,iDACfl9F,OAAQ,CACN2vI,OACErtC,KAAAA,cAAA,KACEkK,KAAI,GAAA5vG,OAAK+1C,GAAQkwJ,GAAcjpH,aAAY,QAAAh9E,OAAO8sE,GAClDy6B,OAAO,UACR,eAIH4K,GAAIzM,KAAAA,cAAA,eAKd,IAAE,OACK,SAACj9F,GACNwB,EAAK64C,YAAYr6C,EAAO,mBAAFzI,OAAqB4+L,EAAY,KACzD,IAAE,SACO,WACP30L,EAAK+9C,UAAS,iBAAO,CACnBm+I,uBAAuB,EACxB,GACH,IAAE,yBAAA13J,EAAA9vB,OAAA,GAAAmvB,EAAA,OACLr3B,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,YAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEU,SAAAywB,IAAA,IAAAurD,EAAAulE,EAAA8+B,EAAAttC,EAAAutC,EAAAiF,EAAA5yK,EAAAm1K,EAAArM,EAAAsM,EAAA,OAAA/nL,IAAAA,MAAA,SAAAuxB,GAAA,cAAAA,EAAAvqC,KAAAuqC,EAAAlsC,MAAA,OAOyD,GAN1D22F,EAAYtwF,EAAK+T,MAAjBu8E,QAAOulE,EAEsD71J,EAAK2W,MAAlEg+K,EAAY9+B,EAAZ8+B,aAActtC,EAAUwO,EAAVxO,WAAYutC,EAAW/+B,EAAX++B,YAAaiF,EAAQhkC,EAARgkC,SAAU5yK,EAAO4uI,EAAP5uI,QACnDm1K,EAAazH,EAAazkL,cAC1B6/K,EAAY6E,EAAY1kL,cAE9B8lC,GAAAA,aAAAA,cAAoC,GAADjgD,OAAIqmM,EAAU,MAAArmM,OAAKg6L,IAGnD/vL,EAAKi8L,+BAA+B,CACnCzoJ,aAAcmhJ,EACdlhJ,YAAamhJ,EACb10K,OAAQmnI,EACRvqI,QAAS9c,EAAK2tC,WAAWgnJ,GACzBiG,SAAUf,IACV,CAAAh0J,EAAAlsC,KAAA,eAAAksC,EAAAvwB,OAAA,UAEK,GAAK,cAAAuwB,EAAAlsC,KAAA,EAGaqG,EAAKgnH,gBAAgB,CAAE2tE,aAAAA,EAAcC,YAAAA,EAAa3tK,QAAAA,IAAU,OAArE,IAAA4e,EAAA9wB,KAEA,CAAF8wB,EAAAlsC,KAAA,SAIb,OAHDmyC,GAAAA,cAAAA,KACE39B,GAAAA,cAAAA,kBACA,CAAE3P,MAAO,qGACVqnC,EAAAvwB,OAAA,UACM,GAAK,QAGS,IAAnBg7E,EAAQh9F,OACV0M,EAAK+xD,yBAM4B,KAJ3BsqI,EAA2B9mI,GAAQqlC,cAAcvK,4BAA4B,CACjFrzE,SAAU23K,EACVrkG,QAAAA,KAGAtwF,EAAKs8L,uBAAuBD,GAE5Br8L,EAAK+xD,wBAER,yBAAAlsB,EAAAnxB,OAAA,GAAAqwB,EAAA,OACFv4B,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iCAAAkhB,GAAA7M,EAAAA,EAAAA,GAAAC,IAAAA,MAEiB,SAAA6/B,EAAO1wC,GAAM,IAAAkxL,EAAAC,EAAA3tK,EAAAyhI,EAAA8wC,EAAA+C,EAAA7/I,EAAAZ,EAAA0gJ,EAAA//I,EAAAZ,EAAAktG,EAAAC,EAAAyzC,EAAAC,EAAAtvB,EAAAuvB,EAAA30K,EAAA40K,EAAAC,EAAAC,EAAA,OAAAxoL,IAAAA,MAAA,SAAA+/B,GAAA,cAAAA,EAAA/4C,KAAA+4C,EAAA16C,MAAA,OA8BF,GA7BnBg7L,EAAuClxL,EAAvCkxL,aAAcC,EAAyBnxL,EAAzBmxL,YAAa3tK,EAAYxjB,EAAZwjB,QAE7ByhI,EAAa58G,GAAAA,KAAAA,UAAuB,CAAE9uB,SAAU23K,IAChD6E,EAAY1tJ,GAAAA,KAAAA,UAAuB,CAAE9uB,SAAU43K,IAAc2H,EAI/D/nJ,GAAYmgJ,EAAazkL,eAFrBwsC,EAAQ6/I,EAAdntL,KACY0sC,EAAcygJ,EAA1Br0L,WAAUs0L,EAKRhoJ,GAAYogJ,EAAY1kL,eAFpBusC,EAAO+/I,EAAbptL,KACYysC,EAAa2gJ,EAAzBt0L,WAII8gJ,IAAentG,EAEf4gJ,IAHA1zC,IAAgBjtG,IAGiBh0C,GAAAA,GAAU6sL,EAAazkL,eAAe/H,QAAUR,GAAAA,GAAAA,GACjF+0L,GAAgB1zC,GAAelhJ,GAAAA,GAAU8sL,EAAY1kL,eAAe/H,QAAUR,GAAAA,GAAAA,GAE9EylK,EACHrkB,GAAeL,EAAWpgJ,UAC1B0gJ,GAAcwwC,EAAUlxL,UACxBm0L,GAAiB//I,GACjBggJ,GAAgBjgJ,EAEbkgJ,EACH5zC,GAAejtG,GACfktG,GAAcntG,GACd4gJ,GAAiB//I,GACjBggJ,GAAgBjgJ,EAEd2wH,GAA0B,OAAZv/J,GAAAA,IAAqBoZ,EAAO,CAAAotB,EAAA16C,KAAA,gBAAA06C,EAAA/+B,OAAA,kBAQuD,OALhG0S,EAAQna,GAAAA,GAAAA,SAAiBQ,SAASnC,OAAO0B,SAASqZ,GAElD21K,EAAuB50K,EAAMowB,MAAMukJ,EAAkBvhM,eAAeiI,QAEpEw5L,EAAoB9zC,GAAe0zC,EAAiB/zC,EAAWrlJ,QAAUu5L,EACzEE,EAA0B9zC,GAAc0zC,EAAgBlD,EAAUn2L,QAAUu5L,EAAoBvoJ,EAAA16C,KAAA,GAEzFmyC,GAAQshI,EAAWhyK,eAAe4rH,gBAAgB,CAAC5wG,aAAcymL,EAAkB1mL,mBAAoB2mL,IAAwB,eAAAzoJ,EAAA/+B,OAAA,SAAA++B,EAAAt/B,MAAA,yBAAAs/B,EAAA3/B,OAAA,GAAAy/B,EAAA,KAC7I,gBAAAt+B,GAAA,OAAAqL,EAAA9N,MAAA,KAAAhf,UAAA,EA7CA,KA6CAoY,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,0BAEwB,SAACuwF,GACxB,IAAMC,EAAc1kD,GAAAA,KAAAA,YAAyB9rC,EAAK+T,MAAMu8E,QAAQC,SAE5Cl8F,IAAhBm8F,GAEF1kD,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,mBAAqC,CACvDqiF,YAAAA,GAGN,KAAChkF,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,yBAEuB,WACtB,IAAA0rL,EASI1rL,EAAK2W,MARP+D,EAAIgxK,EAAJhxK,KACAuM,EAAOykK,EAAPzkK,QACA02D,EAAW+tG,EAAX/tG,YACAl8C,EAASiqJ,EAATjqJ,UACA4lH,EAAUqkC,EAAVrkC,WACA01C,EAASrR,EAATqR,UACAxoC,EAASm3B,EAATn3B,UACAyoC,EAAYtR,EAAZsR,aAQF,GALA/vL,QAAQrQ,MAAM,oCACdqQ,QAAQ4jB,IAAI,GAAD96B,OAAIsxJ,EAAU,UAAAtxJ,OAAS4nF,EAAY/jF,QAC9CqT,QAAQ4jB,IAAI,GAAD96B,OAAIgnM,EAAS,QAAAhnM,OAAO0rC,EAAU7nC,QACzCqT,QAAQy2B,WAEH1wC,OAAO+pM,IAAeriL,GAASuM,GAAYj0B,OAAOq0J,GAAvD,CAIA,IAAMr1F,EAAY,CAChBxX,WAAY,IAAI9pB,GAAAA,EAAUssK,GAAcx+J,UAAU6oH,GAAckN,EAAYwoC,GAGxE//I,EAAc,CAClB35C,QAASo+B,EAAU7nC,OAGrBoG,EAAK+9C,UAAS,iBAAO,CAAEk/I,qBAAqB,EAAM,IAGlD,IAAMC,EAAoBv7K,IAAUA,GAAAA,cAAuB,GAAK,GAE1Dw7K,EAAiB1rL,YAAW,WAChCzR,EAAKo9L,QAAQ1iL,GACb1a,EAAKq9L,uBACLr9L,EAAKs9L,kBACP,GAAuB,IAApBJ,GAEHl9L,EAAKu9L,gBAAkB,SAACrrI,EAAUC,GAChC2Y,aAAaqyH,GACThrI,EACFnyD,EAAK+9C,UAAS,iBAAO,CACnBy/I,eAAgBtrI,EAAS5X,QAAUypF,GAAS05D,MAAQ15D,GAAS25D,OAC7Dz2K,QAASirC,EAAS50D,GAClB2/L,qBAAqB,EACtB,KAEDj9L,EAAKo9L,QAAQ1iL,GACb1a,EAAKq9L,uBACLr9L,EAAKs9L,mBAET,EAEAxxJ,GAAAA,KAAAA,sBAAmC7kB,EAAS+qC,EAAWhV,EAAah9C,EAAKu9L,gBApCzE,CAqCF,KAAC/wL,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAEsB,WAErB,IAEM29L,EAFS9vL,GAAAA,GAAAA,SAAiBQ,SAASnC,OAAOkB,MAG7C3K,QAAO,SAAClK,GAAI,OAA2B,IAAtBA,EAAKu/F,YAAqB,IAC3Cr1F,QAAO,SAAClK,GAAI,OAAKA,EAAK8W,WAAW,IACjC5M,QAAO,SAAClK,GAAI,OAAKA,EAAK8W,YAAYqL,OAAS1a,EAAK2W,MAAM+D,IAAI,IAC1DjY,QAAO,SAAClK,GAAI,OAAKA,EAAKi7C,eAAiBxzC,EAAK2W,MAAMi+K,YAAY1kL,aAAa,IAAE,GAE3EytL,GAEL39L,EAAK+9C,UAAS,iBAAO,CACnB6/I,mBAAoB,SAAF7nM,OAAW4nM,EAAgBnqJ,aAAY,KAAAz9C,OAAI4nM,EAAgBnqJ,aAAY,KAAAz9C,OAAI4nM,EAAgBrgM,IAC9G,GACH,KAACkP,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAEoB,SAAC20L,EAAcC,GAClC,IAAM9uK,EAAevhB,OAAOy1G,OAAOvvF,KAAWrD,WAAWtB,cACnD0uC,EAAkB/pC,KAAWrD,WAAWtB,aAAarxB,KAAI,SAAC8D,GAAI,OAAKA,EAAKyP,IAAI,IAC5E4wI,EAAgBnuH,KAAWrD,WAAWha,MAAM3Y,KAAI,SAAC8D,GAAI,OAAKA,EAAKyP,IAAI,IACnE61L,EAAiB,CAAClJ,EAAcC,GAChCkJ,GAAiBrhL,EAAAA,EAAAA,GAAOqJ,GAE9B+3K,EAAetnM,SAAQ,SAACgC,GACtB,IAAQ6W,EAASolC,GAAYj8C,GAArB6W,KACJwpI,EAAclrI,SAAS0B,EAAKc,eACzBskD,EAAgB9mD,SAAS0B,EAAKc,iBACjC4tL,EAAkBvqM,KAAK,CACrByU,KAAMoH,EAAKc,cACX7O,MAAO+N,EAAKc,cACZqV,KAAMnW,EAAKhU,cACXxB,MAAOwV,EAAKhU,cACZoqB,UAAWpW,EAAKhU,gBAElB8uB,GAAAA,WAAAA,mBAAuC4zK,IAGzC99L,EAAK+9C,UAAS,iBAAO,CACnB42I,aAAchzK,IAAUA,GAAAA,SAAkBA,GAAAA,WAAoB,OAC/D,GAEL,GACF,KAACnV,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAEkB,WACjBA,EAAK+9C,UAAS,iBAAO,CACnBspG,WAAY,EACZ41C,qBAAqB,EACrBc,iBAAiB,EAClB,IAEDtsL,YAAW,WACTzR,EAAK+9C,UAAS,iBAAO,CACnBggJ,iBAAiB,EAClB,GACH,GAAG,IACL,KAACvxL,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAEiB,WAChBA,EAAK+9C,UAAS,iBAAO,CAAEigJ,aAAa,EAAM,GAC5C,KAACxxL,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAEkB,SAACu0J,EAAWwoC,EAAWtiJ,GACxC,IAAAoxI,EAAoC7rL,EAAK2W,MAAjCi+K,EAAW/I,EAAX+I,YAAavtC,EAAUwkC,EAAVxkC,WACR42C,EAAoBzpJ,GAAYogJ,GAAtCxlL,KACDs1C,EAAgBv2C,GAAAA,cAAwB8vL,EAAgB7iM,eAQ9D,OANA4E,EAAK+9C,UAAS,iBAAO,CACnBw2G,UAAWl0I,OAAOk0I,GAClBwoC,UAAW,IAAIrsK,GAAAA,EAAUqsK,GAAWt5J,GAAGihB,GAAe/zB,WACtDqsK,aAAcviJ,EACf,IAGC,IAAI/pB,GAAAA,EAAUqsK,GAAWp5I,oBAAoB4wG,IAC7C,IAAI7jI,GAAAA,EAAU22H,GAAY7oH,UAAUic,EAExC,KAACjuC,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,aAEW,SAACpG,GACXoG,EAAK+9C,UAAS,WACZ,MAAO,CACLspG,WAAYztJ,EACZ26J,UAAW,EAEf,IAAG,WACD,IAAA63B,EAAoCpsL,EAAK2W,MAAjCoyI,EAAWqjC,EAAXrjC,YAAa1B,EAAU+kC,EAAV/kC,WAEjB0B,GAAe1B,GACjBrnJ,EAAKm8L,sBAET,GACF,KAAC3vL,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,aAEW,WACV,IAAAqsL,EAAuCrsL,EAAK2W,MAApCgsG,EAAc0pE,EAAd1pE,eAAgB0kC,EAAUglC,EAAVhlC,WAExB,GAAK1kC,EAAervH,OAApB,CAWA,IAAM4qM,EAAev7E,EAClBpkF,MACC,SAAClnC,EAAGC,GAAC,OACH+oB,OAAO/oB,EAAEmjD,UAAU3e,UAAUxkC,EAAEkjD,aAAen6B,OAAOhpB,EAAEojD,UAAU3e,UAAUzkC,EAAEmjD,YAAY,IAE5F/lD,KAAI,SAAC8D,EAAMqC,GACV,IAAM4nI,EAASjqI,EAAKkiD,UAAU3e,UAAUvjC,EAAKiiD,YACvCuiJ,EAAY,IAAIrsK,GAAAA,EAAU22H,GAAYvrH,UAAU0mG,GAAQ3uI,WAE9D,MAAO,CACL2mD,WAAYjiD,EAAKiiD,WACjBC,UAAWliD,EAAKkiD,UAChB+nF,OAAAA,EACAu6D,UAAAA,EACA91K,QAAS1uB,EAAK+E,GACdod,KAAMniB,EAAK6/C,MAAM19B,KAErB,IAEe1a,EAAKm+L,gBAAgBD,IAGpCl+L,EAAK+9C,UAAS,iBAAO,CACnBqgJ,eAAe,EAChB,GA1BH,MAREp+L,EAAK+9C,UAAS,iBAAO,CACnBigJ,aAAa,EACbI,eAAe,EACf7pC,UAAW,EACXwoC,UAAW,EACXC,aAAc,EACf,GA8BL,KAACxwL,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAEiB,SAACkM,GACjB,IAAQm7I,EAAernJ,EAAK2W,MAApB0wI,WAEJg3C,EAAuB,IAAI3tK,GAAAA,EAAU,GACrC4tK,EAAsB,IAAI5tK,GAAAA,EAAU,GACpC6tK,EAAsB,IAAI7tK,GAAAA,EAAU,GAEpC8tK,GAAU,EACVC,EAAW,CAAC,EAEVC,EAAgB,SAACC,GACrBA,EAASpoM,SAAQ,SAACgC,GAChB8lM,EAAuBA,EAAqB16I,oBAAoBprD,EAAKiiD,YACjEjiD,EAAKiiD,WACL6jJ,EACJE,EAAsBA,EAAoB56I,oBAAoBprD,EAAKkiD,WAC/DliD,EAAKkiD,UACL8jJ,EAEA,IAAI7tK,GAAAA,EAAU22H,GAAY1jG,oBAAoBprD,EAAKkiD,aACrD6jJ,EAAsBA,EAAoB36I,oBAAoBprD,EAAKwkM,WAC/D,IAAIrsK,GAAAA,EAAUn4B,EAAKwkM,WACnBuB,EAEJE,GAAU,EAEVC,EAAW,CACTT,aAAa,EACbY,SAAUrmM,EAAKiqI,OACf9nH,KAAMniB,EAAKmiB,KACXuM,QAAS1uB,EAAK0uB,SAGpB,GACF,EA+BA,OA7BAy3K,EAAcxyL,EAAOzJ,QAAO,SAACulB,GAAK,OAAMhoB,EAAK6+L,aAAa72K,EAAMtN,KAAK,KAEhE8jL,GAEHE,EAAcxyL,EAAOzJ,QAAO,SAACulB,GAAK,OAAKhoB,EAAK6+L,aAAa72K,EAAMtN,KAAK,KAGlE8jL,EACFx+L,EAAK+9C,UAAS,SAACpnC,GAAK,OAAAjM,GAAAA,GAAA,GACfiM,GACA8nL,EAAQ,IAGbz+L,EAAK+9C,UAAS,iBAAO,CACnBigJ,aAAa,EACb7lC,QAAS93I,OAAO,GAAGyhD,QAAQ,GAC5B,IAGiB9hE,EAAK8+L,iBACvBT,EACAC,EACAC,IAIAv+L,EAAK++L,mBAGA,CACT,KAACvyL,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAcmB,SAAAohB,GAAe,IAAZxnB,EAAKwnB,EAALxnB,MACb+6L,EAAiB30L,EAAK2W,MAAtBg+K,aAER,GAAI/6L,IAAU+6L,EACZ30L,EAAK4hL,mBACA,CACL,IAAAod,EAKIh/L,EAAKi/L,6BAA6B,CAACtK,aAAAA,EAAcC,YAAah7L,IAJhEigM,EAAQmF,EAARnF,SACAl8G,EAAWqhH,EAAXrhH,YACAm8G,EAAOkF,EAAPlF,QACAr4J,EAASu9J,EAATv9J,UAGFzhC,EAAK+9C,SACH,CACE62I,YAAah7L,EACbkgM,QAAAA,EACAr4J,UAAAA,EACAkzJ,aAAAA,EACAkF,SAAAA,EACAl8G,YAAAA,EACAo5G,UAAU,IAEZ,WACE,IAAAlK,EAAyD7sL,EAAK2W,MAAtDg+K,EAAY9H,EAAZ8H,aAAckF,EAAQhN,EAARgN,SAAUjF,EAAW/H,EAAX+H,YAAakF,EAAOjN,EAAPiN,QAC7C95L,EAAKi5L,uBAAuBtE,EAAazkL,cAAe2pL,GACxD75L,EAAKi5L,uBAAuBrE,EAAY1kL,cAAe4pL,GACvD95L,EAAKk/L,2BACLl/L,EAAKm/L,UAAUxK,EAAc/6L,GAC7BkyC,GAAAA,UAAAA,UAA4B,CAC1B53B,OAAQ,0BACR0oE,MAAO,GAAF7mF,OAAK4+L,EAAY,QAAA5+L,OAAO6+L,IAEjC,GAEJ,CACF,KAACpoL,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oCAAAswC,GAAAj8B,EAAAA,EAAAA,GAAAC,IAAAA,MAEoB,SAAAu7B,EAAAvuB,GAAA,IAAA1nB,EAAAg7L,EAAAwK,EAAAvF,EAAAl8G,EAAAm8G,EAAAr4J,EAAA,OAAAntB,IAAAA,MAAA,SAAAw7B,GAAA,cAAAA,EAAAx0C,KAAAw0C,EAAAn2C,MAAA,OAASC,EAAK0nB,EAAL1nB,MACpBg7L,EAAgB50L,EAAK2W,MAArBi+K,YAEJh7L,IAAUg7L,EACZ50L,EAAK4hL,gBACAwd,EAMDp/L,EAAKi/L,6BAA6B,CAACtK,aAAc/6L,EAAOg7L,YAAAA,IAJ1DiF,EAAQuF,EAARvF,SACAl8G,EAAWyhH,EAAXzhH,YACAm8G,EAAOsF,EAAPtF,QACAr4J,EAAS29J,EAAT39J,UAGFzhC,EAAK+9C,SACH,CACE42I,aAAc/6L,EACdigM,SAAAA,EACAl8G,YAAAA,EACAi3G,YAAAA,EACAkF,QAAAA,EACAr4J,UAAAA,EACAs1J,UAAU,IAEZ,WACE,IAAAjK,EAAyD9sL,EAAK2W,MAAtDg+K,EAAY7H,EAAZ6H,aAAckF,EAAQ/M,EAAR+M,SAAUjF,EAAW9H,EAAX8H,YAAakF,EAAOhN,EAAPgN,QAC7C95L,EAAKi5L,uBAAuBtE,EAAazkL,cAAe2pL,GACxD75L,EAAKi5L,uBAAuBrE,EAAY1kL,cAAe4pL,GACvD95L,EAAKk/L,2BACLl/L,EAAKm/L,UAAUvlM,EAAOg7L,GACtB9oJ,GAAAA,UAAAA,UAA4B,CAC1B53B,OAAQ,0BACR0oE,MAAO,GAAF7mF,OAAK4+L,EAAY,QAAA5+L,OAAO6+L,KAG/B50L,EAAKopJ,WACP,KAEH,wBAAAt5G,EAAAp7B,OAAA,GAAAm7B,EAAA,KACF,gBAAAl6B,GAAA,OAAA26B,EAAAl9B,MAAA,KAAAhf,UAAA,EAxCA,KAwCAoY,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAEc,SAACq/L,EAAaC,GAE3B,IAAQr3L,EAA0Bq3L,EAA1Br3L,KAAa+U,GAAasiL,EAApB1lM,MAAoB0lM,EAAbtiL,UAErBhd,EAAKi5L,uBAAuBj8K,EAAS9M,cAAejI,GACpD+tC,GAAAA,aAAAA,gBAAsC,GAADjgD,OAAIspM,EAAW,KAAAtpM,OAAIinB,EAAS9M,cAAa,KAAAna,OAAIkS,IAE9Eo3L,IAAgBrvI,GAAYghI,MAC9BhxL,EAAK+9C,SAAS,CACZ4/B,YAAa2hH,EACbzF,SAAU5xL,IAGVo3L,IAAgBrvI,GAAY+yH,SAC9B/iL,EAAK+9C,SAAS,CACZtc,UAAW69J,EACXxF,QAAS7xL,GAGf,KAACuE,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEc,SAAAk7B,IAAA,IAAAw+I,EAAA2G,EAAAkF,EAAAjF,EAAA6F,EAAAC,EAAA3D,EAAAp5G,EAAAl8C,EAAA89J,EAAAC,EAAAr/G,EAAA,OAAA7rE,IAAAA,MAAA,SAAAs7B,GAAA,cAAAA,EAAAt0C,KAAAs0C,EAAAj2C,MAAA,OAAAq0L,EAWThuL,EAAK2W,MATPg+K,EAAY3G,EAAZ2G,aACAkF,EAAQ7L,EAAR6L,SACAjF,EAAW5G,EAAX4G,YACO5G,EAAP8L,QACAW,EAAUzM,EAAVyM,WACAC,EAAS1M,EAAT0M,UACA3D,EAAQ/I,EAAR+I,SACAp5G,EAAWqwG,EAAXrwG,YACAl8C,EAASusJ,EAATvsJ,UAGFuU,GAAAA,aAAAA,QAA8B,GAADjgD,OACxB4+L,EAAY,MAAA5+L,OAAK6+L,EAAW,QAAA7+L,OAAO6+L,EAAW,MAAA7+L,OAAK4+L,IAGlD4K,EAAkB99J,EAAUzkB,SAAS9M,cACrCsvL,EAAuB13L,GAAAA,GAAUy3L,IAAoBz3L,GAAAA,GAAUy3L,GAAiBp3L,QAAUR,GAAAA,GAAAA,KAC1Fw4E,EAAiBzzE,GAAAA,QAAqByB,GAAAA,aAAAA,gBAExCqxL,GAAwBr/G,IAC1BngF,EAAKi5L,uBAAuBx3J,EAAUzkB,SAAS9M,cAAe2vB,GAAAA,UAC9D4B,EAAUx5B,KAAO43B,GAAAA,UAGnB7/B,EAAKy/L,aACLz/L,EAAKm/L,UAAUvK,EAAaD,GAC5B30L,EAAK+9C,SACH,CACE42I,aAAcC,EACdA,YAAaD,EACbkF,SAAUp4J,EAAUx5B,KACpB6xL,QAASD,EACTY,WAAYC,EACZA,UAAWD,EACX1D,SAAQrsL,GAAA,GACFqsL,EAAQrsL,GAAAA,GAAA,GAGHqsL,GAAQ,IACX1rK,IAAK0rK,EAASzrK,KACdA,KAAMyrK,EAAS1rK,IACfkvE,KAAMw8F,EAASl6L,IACfA,IAAKk6L,EAASx8F,KACd8+F,UAAWtC,EAASuC,WACpBA,WAAYvC,EAASsC,YAEvB,IAGN17G,YAAal8C,EACbA,UAAWk8C,IAEb,WACE7xC,GAAAA,UAAAA,UAA4B,CAC1B53B,OAAQ,0BACR0oE,MAAO,GAAF7mF,OAAK4+L,EAAY,QAAA5+L,OAAO6+L,KAE/B50L,EAAKk/L,2BACLl/L,EAAKopJ,WACP,IACD,wBAAAx5G,EAAAl7B,OAAA,GAAA86B,EAAA,OACFhjC,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,cAEY,WACXA,EAAK+9C,UAAS,iBAAO,CACnBspG,WAAY,EACZ01C,UAAW,EACXxoC,UAAW,EACXyoC,aAAc,EACdtiL,KAAM,GACNsjL,aAAa,EACbf,qBAAqB,EACrBc,iBAAiB,EAClB,GACH,KAACvxL,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,aAEW,WACV,IAAA6uL,EAAsC7uL,EAAK2W,MAAnCi+K,EAAW/F,EAAX+F,YAAaD,EAAY9F,EAAZ8F,aAEf+K,EAAc/9K,IAAUA,GAAAA,SAAkBA,GAAAA,WAAoB,OAE9Dg+K,EAAgB3/L,EAAK+T,MAAM6kI,cAC9BnkJ,KAAI,SAAC8D,GAAI,OAAKA,EAAKqB,KAAK,IACxB8T,SAASinL,GACNA,EACA+K,EAEAE,EAAqB9zJ,GAAAA,MAAAA,kBAAgC6zJ,GACrDlmL,EAAQmmL,EAAmBnrM,KAAI,SAAC8D,GAAI,OAAKA,EAAKqB,KAAK,IAAE8T,SAASknL,GAEpE50L,EAAKq4J,kBAEDunC,EAAmBtsM,QAAYmmB,GAASm7K,IAAgB+K,GAC1D3/L,EAAK6/L,uBAAuBD,EAEhC,KAACpzL,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,0BAEwB,SAAC2yF,GACxB3yF,EAAK+9C,UACH,iBAAO,CACL62I,YAAajiG,EAAS,GAAG/4F,MAC1B,IACD,WACEoG,EAAKq4J,gBACP,GAEJ,KAAC7rJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAaqB,SAACpG,GACrB,IAAQqtJ,EAAqBjnJ,EAAK2W,MAA1BswI,iBAER,MAAqB,kBAAVrtJ,EACFoG,EAAK+9C,SAAS,CAAEkpG,kBAAkB,IAEvCA,IAAqBrtJ,GAGlBoG,EAAK+9C,SAAS,CAAEkpG,iBAAkBrtJ,GAC3C,KAAC4S,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iCAE+B,WAC9B,IAAA8/L,EAAuD9/L,EAAK2W,MAApDogL,EAAQ+I,EAAR/I,SAAU1vC,EAAUy4C,EAAVz4C,WAAY01C,EAAS+C,EAAT/C,UAE9B,SAFkD+C,EAAT3zC,WAEvB4qC,QASdA,EAASzrK,KAAKwuE,SACd,IAAIppE,GAAAA,EAAUqmK,EAASzrK,KAAKK,KAAKkrB,MAJd,GAIkCjY,uBAAuByoH,QAM5E0vC,EAAS1rK,IAAIyuE,SACb,IAAIppE,GAAAA,EAAUqmK,EAAS1rK,IAAIM,KAAKkrB,MAXb,GAWiCjY,uBAAuBm+J,IASjF,KAACvwL,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAEc,WACb,IAAM+/L,EAAUr1J,GAAMwiD,WAAW,mBAC7B6yG,IACFjhL,OAAOsrB,SAASu7D,KAAOo6F,EAE3B,KAACvzL,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAEmB,WAClB,IAAQswF,EAAYtwF,EAAK+T,MAAjBu8E,QACF0vG,EAAmBtzL,GAAAA,QAAqByB,GAAAA,aAAAA,aAE9C,GAAK6xL,GAAoBA,EAAiB1sM,SAAWg9F,EAAQh9F,OAA7D,CAIA,IAAM2sM,EAAiB3vG,EACpB77F,KAAI,SAAComD,GAAM,OAAK/O,GAAAA,KAAAA,YAAyB+O,EAAO,IAChDp4C,QAAO,SAACuH,GACP,IAAAk2L,EAAkDl2L,EAAK4G,KAAK+F,MAApDxH,EAAU+wL,EAAV/wL,WAAYuvC,EAAUwhJ,EAAVxhJ,WAAYF,EAAa0hJ,EAAb1hJ,cAE1B2hJ,EAAcn2L,EAAKq1C,aAAa,OACtC,OAAOlwC,GAAcuvC,GAAcF,GAAiB2hJ,CACtD,IAEEF,EAAe3sM,QACjB0M,EAAK+9C,UAAS,iBAAO,CACnBkiJ,eAAAA,EACD,GAdH,CAgBF,KAACzzL,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,0BAEwB,WACvBA,EAAK+9C,UAAS,SAACpnC,GAAK,MAAM,CACxBypL,cAAezpL,EAAMypL,aACtB,GACH,KAAC5zL,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAEoB,WACnB,IAAQigM,EAAmBjgM,EAAK2W,MAAxBspL,eAERn0J,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,iBAAmC,CACrD8xL,eAAAA,GAEJ,KAACzzL,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,2BAEyB,WACxB,IAAAqgM,EAKIrgM,EAAK2W,MAJPg+K,EAAY0L,EAAZ1L,aACAC,EAAWyL,EAAXzL,YACAj3G,EAAW0iH,EAAX1iH,YACAl8C,EAAS4+J,EAAT5+J,UAGIib,EAAW18C,EAAK00L,eAAeC,GAC/Bl4I,EAAUz8C,EAAK00L,eAAeE,GAE9B0L,EACJ3iH,EAAY11E,OAAS43B,GAAAA,WACpBx0B,GAASokD,6BAA6B/S,GAEnC6jJ,EACJ9+J,EAAUx5B,OAAS43B,GAAAA,WAClBx0B,GAASokD,6BAA6BhT,GAEzCpxC,GAAS2jD,mBAAmBsxI,GAAmC5jJ,GAAY6jJ,GAAkC9jJ,EAC/G,KAACjwC,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAEgB,SAACoP,GAChB,OAAOA,EAAKc,aACd,IAr7CE,IACE0oI,EAKE7kI,EALF6kI,cACQ/uG,EAIN91B,EAJF2iF,KAAQ7sD,OACRhhB,EAGE9U,EAHF8U,QAEAjoB,GACEmT,EAFFq2B,SAEEr2B,EADFnT,OAGFZ,EAAK43J,UAAY,CAAC,EAClB53J,EAAKu9L,gBAAkB,SAACrrI,EAAUC,GAAgB,EAElD,IAAMquI,EAA2C,MAA9B33K,EAAQuhB,SAASk/C,SACpCl3C,EAGIxxC,GAAS,CAAE6C,OAAQ,CAAE4nB,IAAK,MAAOC,KAAM,cAFzC8J,EAAGgd,EAAHhd,IAAGqrK,EAAAruJ,EACH3uC,OAAU4nB,EAAGo1K,EAAHp1K,IAAKC,EAAIm1K,EAAJn1K,KAGbA,GAAQD,IAAQm1K,IAEf5nD,EAAcnkJ,KAAI,SAAC8D,GAAI,OAAKA,EAAKqB,MAAMsW,aAAa,IAAExC,SAAS4d,EAAKpb,gBACpE0oI,EAAcnkJ,KAAI,SAAC8D,GAAI,OAAKA,EAAKqB,MAAMsW,aAAa,IAAExC,SAAS2d,EAAInb,gBAEpE2Y,EAAQt1B,KAAK+uG,GAAaz4D,EAAQ,GAAF9zC,OAAK20C,GAAM++C,SAAQ,kBAIvD,IAKsBi3G,EAAAC,EALlBhM,EAAerpK,GAAQ3J,GAAAA,KAAAA,oBAAAA,KACvBizK,EAAcvpK,IAAS+4B,GAAsDziC,GAAAA,WAAtCA,GAAAA,KAAAA,oBAAAA,KAErC2/D,EAAmB50E,GAAAA,QAAqByB,GAAAA,aAAAA,kBAE1CmzE,IACFqzG,GAA8C,QAA/B+L,EAAAp/G,EAAiB04G,sBAAc,IAAA0G,OAAA,EAA/BA,EAAiCp1K,OAAQqpK,EACxDC,GAA6C,QAA/B+L,EAAAr/G,EAAiB04G,sBAAc,IAAA2G,OAAA,EAA/BA,EAAiCt1K,MAAOupK,GAGlDvpK,GAAOC,GAAUvX,EAAMq2B,SAAS7hB,KAAK7a,SAAS,YAAe8yL,GACrD,YAARprK,GACFvM,EAAQt1B,KAAK+uG,GAAaz4D,EAAQ,GAAF9zC,OAAK20C,GAAM++C,SAAQ,KAAA1zF,OAAI4+L,EAAY,QAAA5+L,OAAO6+L,KAI9E,IAAAgM,EAKI5gM,EAAKi/L,6BAA6B,CAACtK,aAAAA,EAAcC,YAAAA,IAJnDiF,EAAQ+G,EAAR/G,SACAl8G,EAAWijH,EAAXjjH,YACAm8G,EAAO8G,EAAP9G,QACAr4J,EAASm/J,EAATn/J,UA8CD,OA3CDzhC,EAAK2W,MAAQ,CACXoyI,YAAa5uG,GAAUhR,QAAQ,CAAEnhC,KAAM2sL,IACvCuH,uBAAuB,EACvBhD,mBAAmB,EACnBvE,aAAAA,EACAkF,SAAAA,EACAjF,YAAAA,EACAkF,QAAAA,EACAW,WAAY,EACZC,UAAW,EACXrzC,WAAY,EACZ01C,UAAW,EACX8D,SAAU,EACV1oC,QAAS,GACT2oC,aAAa,EACbvsC,UAAW,EACXyoC,aAAc,EACdtiL,KAAM,GACNkjL,mBAAoB,GACpBgB,SAAU,EACVmC,gBAAiB,GACjBp+E,eAAgB,GAChBq7E,aAAa,EACbI,eAAe,EACfL,iBAAiB,EACjB92C,kBAAkB,EAClBg2C,qBAAqB,EACrBgD,eAAgB,GAChBlJ,UAAU,EACVnpJ,UAAU,EACVozJ,aAAa,EACbrjH,YAAAA,EACAl8C,UAAAA,EACA6Y,SAAS,EACTkjJ,eAAgB,KAChBrxC,WAAW,EACXi0C,cAAc,GAGZz+K,GAAAA,UACF3hB,EAAK+9C,UAAS,iBAAO,CACnB62I,YAAajzK,GAAAA,WACd,IACF3hB,CACH,CAlGC,OAkGAN,EAAAA,GAAAA,GAAAo5L,EAAA,EAAA/hM,IAAA,+BAAA6C,MAiBD,SAA6B6J,GAC3B,IAAQkxL,EAA8BlxL,EAA9BkxL,aAAcC,EAAgBnxL,EAAhBmxL,YAEhBiF,EAAWxmM,KAAK4tM,qBAAqBtM,EAAazkL,eAClD4pL,EAAUzmM,KAAK4tM,qBAAqBrM,EAAY1kL,eAKtD,MAAO,CACL2pL,SAAAA,EACAl8G,YALkBtqF,KAAK6tM,kBAAkBrH,EAAUlF,EAAazkL,eAMhE4pL,QAAAA,EACAr4J,UANgBpuC,KAAK6tM,kBAAkBpH,EAASlF,EAAY1kL,eAQhE,GAAC,CAAAnZ,IAAA,oBAAA6C,MAED,SAAkBqO,EAAM+U,GACtB,IAAMpZ,EACJqE,IAAS43B,GAAAA,QACLiM,GAAAA,KAAAA,UAAuB,CACrB9uB,SAAAA,EACAozC,YAAanoD,IAIrB,OAAQA,GACN,KAAK43B,GAAAA,SACH,MAAO,CACL53B,KAAM43B,GAAAA,SACN7iB,SAAAA,EACApjB,MAAOgK,EAASA,EAAOP,QAAU,IAErC,KAAKw8B,GAAAA,OACH,MAAO,CACL53B,KAAM43B,GAAAA,OACN7iB,SAAAA,EACApjB,MAAO,IAEX,QACE,MAAO,CACLqO,KAAM43B,GAAAA,SACN7iB,SAAAA,EACApjB,MAAOgK,EAASA,EAAOP,QAAU,IAGzC,GAAC,CAAAtM,IAAA,sCAAA6C,MAED,WAGE,OAFyB8S,GAAAA,QAAqByB,GAAAA,aAAAA,mBAEnB,CAAC,CAC9B,GAAC,CAAApX,IAAA,yBAAA6C,MAED,SAAuBojB,EAAU/U,GAC/B,IAAMq5E,EAAmBjuF,KAAK2lM,sCACxBD,EAAkBz3G,EAAiBy3G,iBAAmB,CAAC,EAE7DA,EAAgB/7K,GAAY/U,EAE5B,IAAMk5L,EAAkB,CACtBnH,eAAgB14G,EAAiB04G,eACjCjB,gBAAAA,GAGFrsL,GAAAA,QACEyB,GAAAA,aAAAA,iBACAgzL,EAEJ,GAAC,CAAApqM,IAAA,uBAAA6C,MAsBD,SAAqBojB,GACnB,IAAMokL,EAAc/tM,KAAKguM,0BAA0BrkL,GAEnD,GAAIokL,EACF,OAAOA,EAGT,IAAIE,EAAa,WAkBjB,OAhBIx5L,GAAAA,GAAUkV,GACRlV,GAAAA,GAAUkV,GAAU7U,QAAUR,GAAAA,GAAAA,KAChC25L,EAAazhK,GAAAA,OAEb/3B,GAAAA,GAAUkV,GAAU/U,OAAS3D,GAAAA,GAAAA,WAC7BwD,GAAAA,GAAUkV,GAAU/U,OAAS3D,GAAAA,GAAAA,WAC7BwD,GAAAA,GAAUkV,GAAU7U,QAAUR,GAAAA,GAAAA,KAE9B25L,EAAazhK,GAAAA,WAGf5yB,QAAQrQ,MAAM,qCAAsC,kBACpDqQ,QAAQ4J,KAAK,gBAAD9gB,OAAiBinB,IAC7B/P,QAAQy2B,YAGH49J,CACT,GAAC,CAAAvqM,IAAA,oBAAA6C,MAED,WAAoB,IAAA0V,EAAA,KAClBjc,KAAK62G,UAAW,EAEhB,IAAAq3F,EAKIluM,KAAKsjB,MAJPoyI,EAAWw4C,EAAXx4C,YACA4rC,EAAY4M,EAAZ5M,aACAC,EAAW2M,EAAX3M,YACAvtC,EAAUk6C,EAAVl6C,WAGFv7G,GAAAA,KAAAA,aACAz4C,KAAKmuM,mBAAmB7M,EAAcC,GACtCvhM,KAAK+1J,YACL/1J,KAAKglK,iBAELhlK,KAAKmpG,OAAQ,EACQ,SAAfilG,IACCnyL,EAAKktF,QACVltF,EAAKoyL,YACLpyL,EAAKqyL,WACLryL,EAAKsyL,oBACLnwL,WAAWgwL,EAAc,KAC3B,CACAA,GAEA5zL,GAAAA,GAAAA,QAAe,WAEbA,GAAAA,GAAAA,SAAiBQ,SAASpC,KAAKmvC,GAAG,cAAc,kBAAM9rC,EAAK85I,WAAW,GACxE,IAEA33I,YAAW,WACLnC,EAAK46F,UACP56F,EAAKyuC,SAAS,CACZ8jJ,uBAAuB,GAG7B,GAAG,KAEHxuM,KAAK4gD,uBACL5gD,KAAK6rM,2BAEDn2C,GAAe1B,GACjBh0J,KAAK8oM,uBAGP9wL,GAASmhC,YAAY4O,GAAG,UAAW/nD,KAAK6rM,yBAC1C,GAAC,CAAAnoM,IAAA,qBAAA6C,MAED,SAAmBiuG,EAAWC,GAC5B,IAAsBg6F,EAAqBh6F,EAAnC6sF,aACRoN,EAAqC1uM,KAAKsjB,MAAlCg+K,EAAYoN,EAAZpN,aAActtC,EAAU06C,EAAV16C,WAEtB,GAAIy6C,IAAqBnN,EAAc,CACrC,IAAM5rC,EAAc5uG,GAAUhR,QAAQ,CAAEnhC,KAAM2sL,IAE9CthM,KAAK0qD,UAAS,iBAAO,CACnBgrG,YAAAA,EACD,IAEGA,GAAe1B,GACjBh0J,KAAK8oM,sBAET,CACF,GAAC,CAAAplM,IAAA,oBAAA6C,MAED,SAAkB4E,EAAOmxB,GACvB1iB,QAAQrQ,MAAM,cAAe,eAC7BqQ,QAAQzO,MAAMA,GACdyO,QAAQ0jG,QACR1jG,QAAQy2B,UACV,GAAC,CAAA3sC,IAAA,aAAA6C,MA+BD,SAAWojB,GACT,IAAQ4wB,EAAav6C,KAAKsjB,MAAlBi3B,SAER,OAAOA,GAAYA,EAAS5wB,EAAS9M,eAAiB09B,EAAS5wB,EAAS9M,eAAiB,CAC3F,GAAC,CAAAnZ,IAAA,4BAAA6C,MAkFD,WACE,IAAQg0C,EAAav6C,KAAKsjB,MAAlBi3B,SAER,GAAIrpC,OAAOtL,KAAK20C,GAAUt6C,OACxB,IAAK,IAAI0pB,KAAY4wB,EACnB,GAAIA,EAAS5wB,GAAY,EAAG,CAC1B3pB,KAAK0qD,SAAS,CACZijJ,aAAa,IAEf,KACF,CAGN,GAAC,CAAAjqM,IAAA,uBAAA6C,MAED,WACEvG,KAAK2uM,yBACL3uM,KAAK62G,UAAW,EAChB72G,KAAKmpG,OAAQ,EAEbnxF,GAASmhC,YAAYu4D,IAAI,UAAW1xG,KAAK6rM,yBAC3C,GAAC,CAAAnoM,IAAA,eAAA6C,MAwqBD,SAAaqoM,GACX,SAAIpJ,GAAYoJ,IAAWpJ,GAAYoJ,GAAU9vM,KAAKqhC,OAAM,IAAIjB,MAAOC,UAAY,KAIrF,GAAC,CAAAz7B,IAAA,UAAA6C,MAED,SAAQqoM,GAENpJ,GAAYoJ,GAAU9vM,KAAKqhC,OAAM,IAAIjB,MAAOC,UAAY,KAD7B,GAE7B,GAAC,CAAAz7B,IAAA,oBAAA6C,MAmND,WACE,IAAAsoM,EAAkC7uM,KAAKsjB,MAA/B0wI,EAAU66C,EAAV76C,WAAY01C,EAASmF,EAATnF,UAEpB,OACE1pM,KAAK8uM,iCACL,IAAIzxK,GAAAA,EAAUqsK,GAAWt+J,cAAc,IACvC4oH,GACA01C,CAEJ,GAAC,CAAAhmM,IAAA,SAAA6C,MAoHD,WAAS,IAAAwoM,EAAAnzI,EAAAozI,EAAAC,EAAA5yL,EAAA,KACPizH,EAOItvI,KAAK0gB,MANPqT,EAAUu7G,EAAVv7G,WACAvI,EAAU8jH,EAAV9jH,WACAkH,EAAgB48G,EAAhB58G,iBAEYyvK,EAAa7yD,EADzB/hI,MACE6C,OAAU+xL,cAGd+M,EAgCIlvM,KAAKsjB,MA/BPoyI,EAAWw5C,EAAXx5C,YACAmzC,EAAqBqG,EAArBrG,sBACAhD,EAAiBqJ,EAAjBrJ,kBACAvE,EAAY4N,EAAZ5N,aACAkF,EAAQ0I,EAAR1I,SACAjF,EAAW2N,EAAX3N,YACAkF,EAAOyI,EAAPzI,QACAn8G,EAAW4kH,EAAX5kH,YACAl8C,EAAS8gK,EAAT9gK,UACAxa,EAAOs7K,EAAPt7K,QACA+2K,EAAWuE,EAAXvE,YACAzpC,EAASguC,EAAThuC,UACAkmC,EAAU8H,EAAV9H,WACAC,EAAS6H,EAAT7H,UACAsC,EAAYuF,EAAZvF,aACAD,EAASwF,EAATxF,UACA6B,EAAQ2D,EAAR3D,SACAv3C,EAAUk7C,EAAVl7C,WACA+2C,EAAamE,EAAbnE,cACAyD,EAAqBU,EAArBV,sBACArE,EAAc+E,EAAd/E,eACAP,EAAmBsF,EAAnBtF,oBACA8D,EAAewB,EAAfxB,gBACAd,EAAcsC,EAAdtC,eACAlC,EAAewE,EAAfxE,gBACAhH,EAAQwL,EAARxL,SACAnpJ,EAAQ20J,EAAR30J,SACAozJ,EAAWuB,EAAXvB,YACA1mJ,EAAOioJ,EAAPjoJ,QACA6xG,EAASo2C,EAATp2C,UACAi0C,EAAYmC,EAAZnC,aAGI1jJ,EAAWi4I,EAAazkL,cACxBusC,EAAUm4I,EAAY1kL,cACtB4M,EAAUzpB,KAAKs6C,WAAW+O,GAEhC,GAAI8gJ,EAAgB,KAAAgF,EACZh0D,GAAUg0D,EAAA,IAAAh2L,EAAAA,EAAAA,GAAAg2L,EACbz+D,GAAS25D,OAAM,GAAA3nM,OAAM20C,GAAM0/C,WAAU,KAAAr0F,OAAIkxB,KAAOza,EAAAA,EAAAA,GAAAg2L,EAChDz+D,GAAS05D,MAAK,GAAA1nM,OAAM20C,GAAM2/C,UAAS,KAAAt0F,OAAIkxB,IAAOu7K,GAC9ChF,GAEH,IAAKhvD,EACH,MAAM,IAAI58I,MAAM,uBAGlB,OADAqb,QAAQ4jB,IAAI,qBAAD96B,OAAsBy4I,IAC1B/yC,KAAAA,cAACgnG,EAAAA,GAAQ,CAACz+J,GAAIwqG,EAASj7I,MAAI,GACpC,CAEA,IAAIyvL,EAAqC,KAEzC,GAAI+T,GAAYA,EAASv8F,QAAS,CAChC,IAAMkoG,EAAc3L,EAASv8F,QAAQ99C,KAAa,EAElDsmI,EAIEvnF,KAAAA,cAAA,KAAGC,UAAU,YAAY3kG,IAAI,iBACY,IAAtC,IAAI25B,GAAAA,EAAU5T,GAAS6T,YACvB+xK,GACC,IAAIhyK,GAAAA,EAAU5T,GAASy1C,MAAMmwI,EAAY/2K,KAAKg4B,oBAAoB,GAAM,KACxE83C,KAAAA,cAAAA,KAAAA,SAAA,KACGinG,EACCjnG,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,4BAA4B+4F,eAAe,gBAEhEoF,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,aAAa+4F,eAAe,cAElDqsG,GAAeA,EAAY/2K,IACxB,IAAI+E,GAAAA,EAAU5T,GACXy1C,MAAMmwI,EAAY/2K,KAClB8X,GAAG,EAAG/S,GAAAA,EAAAA,aACN78B,WACH,IAAI68B,GAAAA,EAAU5T,GAAS2mB,GAAG,EAAG/S,GAAAA,EAAAA,aAAuB78B,WACvD,KACAR,KAAKqhM,eAAeh4I,IAK/B,CAGA,IAAMmkJ,EAAW,IAAInwK,GAAAA,EAAU+pK,GAAY5jJ,MAAMwwG,GAAY5jH,GAAG,EAAG/S,GAAAA,EAAAA,YAG7DynI,EAAU,IAAIznI,GAAAA,EAAUgqK,GAAW7jJ,MAAMkmJ,GAAWt5J,GAAG,EAAG/S,GAAAA,EAAAA,YAE1DiyK,EACJ5L,GAAYA,EAAS1rK,KAAO0rK,EAASzrK,KACjC,IAAIoF,GAAAA,EAAUqmK,EAASsC,WACpBxiJ,MAAMkgJ,EAAS1rK,IAAIM,KACnB0S,KAAK,IAAI3N,GAAAA,EAAUqmK,EAASuC,YAAYziJ,MAAMkgJ,EAASzrK,KAAKK,MAC5D8X,GAAG,EAAG/S,GAAAA,EAAAA,YACNC,WACH,EAEAiyK,GAAgB,IAAIlyK,GAAAA,EAAUssK,GAAcr5I,oBAAoB,GAClE,IAAIjzB,GAAAA,EAAU,GACd,IAAIA,GAAAA,EAAUkuK,GAEZn0C,GAAS1hB,GAAAA,IAAS11I,KAAM,aAAc,aAEtCwvM,GACJ9L,GACAA,EAASv8F,SACTu8F,EAASv8F,QAAQ99C,IACjB,IAAIhsB,GAAAA,EAAUqmK,EAASv8F,QAAQ99C,GAAU/wB,KAAK8S,cAAc,GACxD,IAAI/N,GAAAA,EAAU5T,GAASy1C,MAAMwkI,EAASv8F,QAAQ99C,GAAU/wB,KACxD,EAEAm1K,GAAcztM,KAAKyvM,oBAGnBC,GAAuBhC,EAAgBt+L,QAAO,SAAAo9I,GAAK,OAAIA,EAAMvlG,OAAO,IAAEhnD,OAAS,EAE/E0vM,GACJ34G,GAA2B5tC,IAC3B4tC,GAA2B3tC,IAG3BihC,EAAY11E,OAAS43B,GAAAA,UACrB4B,EAAUx5B,OAAS43B,GAAAA,SAGfojK,GAAUL,GAAcnkK,cAAc,IAAMmkK,GAAc/oL,aAAemkL,EAEzEkF,GAAkB9E,GAAiB3zC,GAAOpD,WAAWztJ,MAAQ,GAAKioM,EAElEsB,IACH/E,GAAiB7pC,EAAY,GAAKypC,GAAevzC,GAAOpD,WAAWztJ,MAAQ,EAGxEwpM,GACHzlH,IACE,CAAC99C,GAAAA,SAAsBA,GAAAA,SAAsBA,GAAAA,QAAoBnyB,SAChEiwE,EAAY11E,OAEfw5B,IACE,CAAC5B,GAAAA,SAAsBA,GAAAA,SAAsBA,GAAAA,QAAoBnyB,SAAS+zB,EAAUx5B,MAEnFo7L,GACH1lH,EAAY11E,OAAS43B,GAAAA,UAAwB89C,EAAY/jF,OACzD+jF,EAAY11E,OAAS43B,GAAAA,UAAwB89C,EAAY/jF,OAASyR,GAAS2F,eAC3E2sE,EAAY11E,OAAS43B,GAAAA,OAElByjK,GACH7hK,EAAUx5B,OAAS43B,GAAAA,UAAwB4B,EAAU7nC,OACrD6nC,EAAUx5B,OAAS43B,GAAAA,UAAwB4B,EAAU7nC,OAASyR,GAAS2F,eACvEywB,EAAUx5B,OAAS43B,GAAAA,QAAsB4B,EAAU7nC,MAEhD2pM,GACHx6C,GAAe,IAAIr4H,GAAAA,EAAU5T,GAAS8hB,uBAAuByoH,IAC9D,IAAI32H,GAAAA,EAAUmyK,IAAiBjkK,uBAAuByoH,IACtD1pE,EAAY11E,OAAS43B,GAAAA,OAEjB2jK,GAA6Bn4L,GAASokD,6BAA6B/S,GACnE+mJ,GAA4Bp4L,GAASokD,6BAA6BhT,GAElE6jJ,GACJ3iH,EAAY11E,OAAS43B,GAAAA,WACpB2jK,GAEGjD,GACJ9+J,EAAUx5B,OAAS43B,GAAAA,WAClB4jK,GAEGC,IAA4Br4L,GAAS2F,gBACvCsvL,KAAoCC,GAElCoD,GAA6Bt4L,GAAS2F,gBACzCsvL,IAAmCC,IAEhCqD,IACHR,IACDM,IACAj5C,GAAOpD,WAAWztJ,MAAQ,GAC1B+jF,GACA0lH,IACA5hK,GACA6hK,KACCtF,IACA3qM,KAAK8uM,iCACNoB,IACA,IAAI7yK,GAAAA,EAAUqsK,GAAWt+J,cAAc,KACtCw+J,EAEG4G,GAA4B,WAChC,GAAIT,GAAyB,OAAO3nG,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,eAAe+4F,eAAe,kBACvF,IAAKqtG,GAA0B,OAAOjoG,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,mBAAmB+4F,eAAe,kCAC7F,KAAMo0D,GAAOpD,WAAWztJ,MAAQ,GAAI,OAAO6hG,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,eAAe+4F,eAAe,4BAC9F,IAAK1Y,EAAa,OAAO8d,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,oBAAoB+4F,eAAe,0BACjF,IAAKgtG,GAAoB,CACvB,GAAI1lH,EAAY11E,OAAS43B,GAAAA,WAAyB89C,EAAY/jF,MAC5D,OAAO6hG,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,iBAAiB+4F,eAAe,kCAC9D,GAAI1Y,EAAY11E,OAAS43B,GAAAA,WAAyB89C,EAAY/jF,QAAUyR,GAAS2F,cAC/E,OAAOyqF,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,oBAAoB+4F,eAAe,yCACnE,CACA,IAAK50D,EAAW,OAAOg6D,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,kBAAkB+4F,eAAe,wBAC7E,IAAKitG,GAAkB,CACrB,GAAI7hK,EAAUx5B,OAAS43B,GAAAA,WAAyB4B,EAAU7nC,MACxD,OAAO6hG,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,iBAAiB+4F,eAAe,oBAC9D,GAAI50D,EAAUx5B,OAAS43B,GAAAA,WAAyB4B,EAAU7nC,QAAUyR,GAAS2F,cAC3E,OAAOyqF,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,2BAA2B+4F,eAAe,oCACxE,GAAI50D,EAAUx5B,OAAS43B,GAAAA,WAAyB4B,EAAU7nC,MACxD,OAAO6hG,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,iBAAiB+4F,eAAe,4BAChE,CACA,OAAI2nG,EAAoBviG,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,WAAW+4F,eAAe,cACnE3mF,EAAKyyL,gCAAwC1mG,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,YAAY+4F,eAAe,eAC5FktG,MAEAx6C,GAAgB,IAAIr4H,GAAAA,EAAU5T,GAAS8hB,uBAAuByoH,KAC9D,IAAI32H,GAAAA,EAAUmyK,IAAiBjkK,uBAAuByoH,GAIrD,IAAI32H,GAAAA,EAAUqsK,GAAWt+J,cAAc,GACzCw+J,EAA4BxhG,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,iBAAiB+4F,eAAe,qBAE9EoF,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,iBAAiB+4F,eAAe,2BAHHoF,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,qBAAqB+4F,eAAe,6BAFvGoF,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,oBAAoB+4F,eAAe,qCAMrE,EAEMytG,KAAuB7D,EAAe3sM,OAEtCywM,GAA6B,gBAAfpiL,GAAAA,IAEpBqiL,GAA+DxvJ,GAAYkI,GAA7DunJ,GAAYD,GAAlB50L,KAAgC80L,GAAkBF,GAA9B97L,WAC5Bi8L,GAA6D3vJ,GAAYiI,GAA3D2nJ,GAAWD,GAAjB/0L,KAEFi1L,GAAqBH,IAAsBD,GAC3CK,GAHkDH,GAA7Bj8L,YAGoBk8L,GAEzCG,GAAuBjE,IAAmC+D,IAAsB9D,IAAkC+D,GAGlHE,GAAkB,CAACH,GAAoBC,IAAmB52L,SAAS,OACnE+2L,GAAiE,aAA5Cp5L,GAASmhC,YAAYmiB,mBAE1C+1I,GACJjpG,KAAAA,cAAA,OAAKC,UAAU,WACbD,KAAAA,cAAA,OAAKC,UAAU,gBACbD,KAAAA,cAAA,OAAKC,UAAU,kBACbD,KAAAA,cAAA,WACEA,KAAAA,cAACmvD,GAAW,CACV/rI,WAAYA,EACZ+kI,eAAgB6G,GAAOpD,WAAWzvC,KAAKvkH,KAAKsxM,WAC5Cx/C,cAAewvC,EACfzvC,SAAU7xJ,KAAK8mM,mBACfv9G,MAAO6e,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,kBAAkB+4F,eAAe,aAC7D/4F,GAAG,cACHsvI,YAAY,aACZr+F,KAAMgmH,EAAY,GAAKypC,EAAc,EAAI6C,EACzCz5K,WAAYA,EACZ06H,QAAS,kBAAMpyI,EAAKk1L,qBAAoB,EAAK,EAC7C1iD,OAAQ,kBAAMzwI,YAAW,kBAAM/B,EAAKk1L,qBAAoB,EAAM,GAAE,IAAI,EACpEt9C,aAAeuyC,IAAah6J,GAAAA,QAAuBmjJ,IAGrDvnF,KAAAA,cAACo0F,GAAa,CACZjzG,MAAO6e,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,uBAAuB+4F,eAAe,iBAClEr5E,SAAU23K,EACV73K,QAASzpB,KAAKs6C,WAAW+O,GACzB+zI,aAAcoJ,EACdh2D,KAAM7zE,GAAYghI,KAClB9hB,UAAU,EACVtiC,YAAY,eACZ3vC,SAAU,SAAC4nG,GAAQ,OAAKn1L,EAAK0gL,aAAapgI,GAAYghI,KAAM6T,EAAS,KAIzEppG,KAAAA,cAAA,OAAKC,UAAU,gBACbD,KAAAA,cAAC0lD,GAAS,CAACxgD,YAAU,EAAChF,QAAStoG,KAAKuuL,gBAGtCnmF,KAAAA,cAAA,WACEA,KAAAA,cAACmvD,GAAW,CACV/rI,WAAYA,EACZs+E,QAAQ,MACRymD,eAAgB6G,GAAOsyC,UACvB53C,cAAeyvC,EACf1vC,SAAU7xJ,KAAKinM,kBACftnG,UAAU,EACVpW,MAAO6e,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,aAAa+4F,eAAe,YACxD/4F,GAAG,cACH8pB,WAAYrB,EACZwoB,KAAM4pH,EACN35J,MAAOsiM,KAGTrlG,KAAAA,cAACo0F,GAAa,CACZjzG,MAAO6e,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,qBAAqB+4F,eAAe,eAChEwtC,KAAM7zE,GAAY+yH,QAClB/lK,SAAU43K,EACV93K,QAASzpB,KAAKs6C,WAAW8O,GACzBg0I,aAAcqJ,EACd5qB,UAAU,EACVtiC,YAAY,aACZ3vC,SAAU,SAAC4nG,GAAQ,OAAKn1L,EAAK0gL,aAAapgI,GAAY+yH,QAAS8hB,EAAS,MAK7E9B,IACCtnG,KAAAA,cAAA,OAAKC,UAAS,oBAAA3lG,OAAsBitM,GAAiB,GAAK,aACxDvnG,KAAAA,cAAA,OAAKC,UAAU,UACbD,KAAAA,cAAA,OAAKC,UAAU,cACbD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,mBAAmB+4F,eAAe,iBAEzDoF,KAAAA,cAACwvD,GAAM,CAACxoI,QAAS63B,EAAS+iD,YAAa2lG,GAAgB/lG,SAAU,kBAAMvtF,EAAKquC,UAAS,SAACpnC,GAAK,MAAM,CAAE2jC,SAAU3jC,EAAM2jC,QAAS,GAAE,IAC9HmhD,KAAAA,cAAA,OAAKC,UAAU,cACbD,KAAAA,cAACo6F,GAAS,MACVp6F,KAAAA,cAAA,YACEA,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,kBAAkB+4F,eAAe,eAAe,IAErEoF,KAAAA,cAAA,KAAGkK,KAAK,oFAAoFrI,OAAO,UAAS,WAOtH7B,KAAAA,cAAA,OAAKC,UAAU,UACZwnG,IACCznG,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,KAAGC,UAAU,SACXD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,6BACH+4F,eAAe,6DAMtBstG,KAA+Ba,KAAoBC,KAClDhpG,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,KAAGC,UAAU,SACXD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,uBACH+4F,eAAe,0DACfl9F,OAAQ,CACN+uG,GAAIzM,KAAAA,cAAA,WACJvsC,WAAWvtC,UAAmB,QAAbygL,EAANzgL,GAAAA,mBAAmB,IAAAygL,GAAwB,QAAxBnzI,EAAnBmzI,EAAsBmC,WAAqB,IAAAt1I,OAArC,EAANA,EAA6CC,YAAa,uBAO9Ei0I,IACC1nG,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,KAAGC,UAAU,SACXD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,oCACH+4F,eAAe,oGACfl9F,OAAQ,CACN2rM,UAAW,GAAF/uM,OAAKw+J,EAAS,KAAAx+J,OAAI1C,KAAKqhM,eAAeE,IAC/CmQ,WAAY,GAAFhvM,OAAK,IAAI26B,GAAAA,EAAUssK,GAAcl7H,QAAQ,GAAE,KAAA/rE,OAAI1C,KAAKqhM,eAAeC,SAOtFmM,IACCrlG,KAAAA,cAAA,KAAGC,UAAU,SACXD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,oBACH+4F,eAAe,oDACfl9F,OAAQ,CACN6rM,UAC8B,QAA5B3xM,KAAKsjB,MAAMg+K,aACPthM,KAAKsjB,MAAM0wI,WACXh0J,KAAKsjB,MAAMomL,cAMxBgB,GACCtiG,KAAAA,cAAA,OAAKC,UAAU,cACbD,KAAAA,cAAA,KAAGC,UAAU,kBAAkBC,QAAStoG,KAAK4xM,cAC1C,IACDxpG,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,2BACH+4F,eAAe,2EACfl9F,OAAQ,CACN2wC,KACE2xD,KAAAA,cAAA,KAAGgC,UAAU,YAAYomC,KAAK,SAASloC,QAAStoG,KAAK4xM,cAClD,IACDxpG,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,6BACH+4F,eAAe,gBAIrB6R,GAAIzM,KAAAA,cAAA,gBAOb2nG,IACC3nG,KAAAA,cAAA,KAAGC,UAAU,SAAQ,yFAMzBD,KAAAA,cAAA,OAAKC,UAAU,cACbD,KAAAA,cAAA,OAAKC,UAAU,SACbD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,qBAAqB+4F,eAAe,gBAAiB,KACxE4sG,KAAYC,IAAmBznG,KAAAA,cAAC2E,GAAY,MAC7C6iG,IAAO,KAAAltM,OACD6+L,EAAY1kL,cAAa,OAAAna,OAAM6sM,GAAc9gI,QAChD,GACD,KAAA/rE,OAAI1C,KAAKqhM,eAAeC,IAC1BuO,IAAmB,KAGtBznG,KAAAA,cAAA,OAAKC,UAAU,QACbD,KAAAA,cAAA,OAAKC,UAAU,cACbD,KAAAA,cAAA,YACEA,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,sBAAsB+4F,eAAe,gBAAgB,KACrE,IAEPoF,KAAAA,cAAA,YAAM,MAGRA,KAAAA,cAAA,OAAKC,UAAU,YACbD,KAAAA,cAAA,YACEA,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,qBAAqB+4F,eAAe,cAAc,KAClE,IAIPoF,KAAAA,cAAAA,KAAAA,SAAA,KACG0wD,IAAc4qC,EACbt7F,KAAAA,cAAA,YACEA,KAAAA,cAAC2E,GAAY,OAGf3E,KAAAA,cAAA,YACGs7F,EAASzrK,KAAKK,IAAI,IAAEorK,EAASzrK,KAAKlc,KAAK,MAAI2nL,EAAS1rK,IAAIM,IAAI,IAAEorK,EAAS1rK,IAAIjc,KAC3E,MACAuzL,EAAqB,EAAIlnG,KAAAA,cAAAA,KAAAA,SAAA,KAAE,IAAEknG,GAAyB,EACtD,KAGLlnG,KAAAA,cAAA,UACEgC,UAAU,kBACV/B,UAAU,oBACVC,QAAStoG,KAAK6xM,WACdlyG,SAAUm5D,IAEZ1wD,KAAAA,cAAA,KACEkK,KAAK,yFACLrI,OAAO,UACR,WAQR2/F,GACCxhG,KAAAA,cAAA,OAAKC,UAAU,mBACbD,KAAAA,cAAA,OAAKC,UAAU,yBACbD,KAAAA,cAAC2E,GAAY,OAEd,IACD3E,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,aACH+4F,eAAe,8CAKrBoF,KAAAA,cAAA,OAAKC,UAAU,WACZqtD,GAAe0B,GAAOpD,WAAWztJ,MAAQ,IAAMs/L,EAC9Cz9F,KAAAA,cAACwD,GAAM,CACL3hG,GAAG,iBACHo+F,UAAU,SACVC,QAAStoG,KAAK8xM,gBACdnyG,UAAW4wG,IAAgB1H,EAC3Bz8K,QAASy8K,EACTp+F,MAAI,GAEH8lG,GACKnoG,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,4BACH+4F,eAAe,kBACfl9F,OAAQ,CAAE8rB,MAAO0vK,EAAazkL,iBAElC2zL,MAGHF,KAA+Ba,IAAmBC,GACrDhpG,KAAAA,cAACwD,GAAM,CACLvD,UAAU,SACVC,QAAStoG,KAAK+xM,wBACdtnG,MAAI,GAEJrC,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,yBACH+4F,eAAe,4BACfl9F,OAAQ,CACN+uG,GAAIzM,KAAAA,cAAA,WACJvsC,WAAWvtC,UAAmB,QAAb0gL,EAAN1gL,GAAAA,mBAAmB,IAAA0gL,GAAwB,QAAxBC,EAAnBD,EAAsBkC,WAAqB,IAAAjC,OAArC,EAANA,EAA6CpzI,YAAa,sBAK3EusC,KAAAA,cAACwD,GAAM,CACL3hG,GAAG,iBACHo+F,UAAU,SACVC,QAAStoG,KAAKgyM,SACdryG,UAAW4wG,GACX9lG,MAAI,GAEH8lG,GACGnoG,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,aAAa+4F,eAAe,iBACjDwtG,MAIRpoG,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAACwD,GAAM,CACL3hG,GAAG,wCACHo+F,UAAS,UAAA3lG,OAAYirM,EAAc,GAAK,WAExCrlG,QAASqlG,EAAc3tM,KAAKy+F,YAAc,KAC1ChoD,MAAI,GAEJ2xD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,YAAY+4F,eAAe,kBAGlDoF,KAAAA,cAACyF,GAAY,CACX5jG,GAAG,wCACHskG,OAAO,QACPD,MAAM,UAELq/F,EACCvlG,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,4BACH+4F,eAAe,6FAGjBoF,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,kCACH+4F,eAAe,4BAKpBjyC,IAAiB2/I,KAClBtoG,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAA,OAAKC,UAAU,8BACbD,KAAAA,cAAA,KAAGkK,KAAgD,IAAA5vG,OAAU20C,GAAMi/C,YAAzDivG,GAAoE,eAA3B,MACjDn9F,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,eAAe+4F,eAAe,qBAM1DytG,IACCroG,KAAAA,cAACwD,GAAM,CAACnB,MAAI,EAACpC,UAAU,qBAAqBC,QAAStoG,KAAKiyM,oBACxD7pG,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,sBAAsB+4F,eAAe,0BAKhEoF,KAAAA,cAAA,OAAKC,UAAU,sBACbD,KAAAA,cAAC+2F,GAAa,SAMtB,OACE/2F,KAAAA,cAAA,OAAKC,UAAU,gBACbD,KAAAA,cAAA,OACEC,UAAU,iBAEVyrC,IAAK,SAACA,GAAG,OAAMz3H,EAAK61L,eAAiBp+D,CAAG,GAExC1rC,KAAAA,cAAA,OAAKC,UAAU,aACbD,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAC+pG,GAAK,MAELd,GAEDjpG,KAAAA,cAACwD,GAAM,CACL3hG,GAAG,eACHq+F,QAAStoG,KAAKoyM,uBACd/pG,UAAU,mBACV5xD,MAAI,GAEJ2xD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,YAAY+4F,eAAe,eAGjD+pG,EACC3kG,KAAAA,cAACiqG,GAAM,CACLp6K,KAAMqpK,EACNtpK,IAAKupK,EACLY,cAAeA,EACfuB,SAAUA,EACVnpJ,SAAUA,EACV2mJ,eAAgBlhM,KAAK4oM,+BACrBj1E,gBAAiB3zH,KAAK2zH,kBAEtB,MAEHrlG,cAAM,EAANA,GAAAA,iBACC85E,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAACkqG,GAAU,MACXlqG,KAAAA,cAACmqG,GAAgB,MACjBnqG,KAAAA,cAACoqG,GAAK,UAQtB,IAAC,EAAA9uM,IAAA,2BAAA6C,MA/kED,SAAgCma,EAAO4C,GACrC,IAAQzK,EAAW6H,EAAX7H,OACAyoL,EAAuCh+K,EAAvCg+K,aAAcC,EAAyBj+K,EAAzBi+K,YAAat6I,EAAY3jC,EAAZ2jC,QAEnC,IAAKpuC,EAAO5Y,OACV,OAAO,KAGT,IAAMytM,EAAkB70L,EAAOzJ,QAAO,SAAAulB,GAAK,OACxCA,EAAM4zB,MACP5zB,EAAMwrB,aAAatjC,gBAAkB0kL,EAAY1kL,eACjD8X,EAAMyrB,YAAYvjC,gBAAkBykL,EAAazkL,aAAa,IAG1DyyG,EAAiBo+E,EAAgBt+L,QAAO,SAAAulB,GAAK,OACjDra,QAAQqa,EAAMsyB,WAAa3sC,QAAQ2sC,EAAQ,IAG7C,MAAO,CACLymJ,gBAAAA,EACAp+E,eAAAA,EAEJ,KAACm2E,CAAA,CAnCyC,CACrBh1D,GAAAA,gBAAat3H,EAAAA,EAAAA,GAAAi2F,GAAA,eAGZ,CACpBv2F,OAAQ,KALgC+vF,GAMzCwG,MAAAxG,KAAAA,GAylEH,UAAegF,EAAAA,GAAAA,IAAW63F,ICzuE1B,IAAMgN,GAAahnL,OAAOinL,aAEpBC,GAAc,CAClBC,OAAQ,SACRC,MAAO,QACPC,YAAa,cACbC,WAAY,cAoGd,SAAevrG,IAAf,EAjGiB,SAAU9mF,GACzB,IAAQq2B,EAAsBr2B,EAAtBq2B,SAAUvhB,EAAY9U,EAAZ8U,QAEZw9K,GAAc9hM,OAAOpL,OAAOuvC,GAAAA,oBAAmCp1C,OAE/DgzM,EAAYR,IAAcE,GAAYF,IACxCS,EAAkBD,IAAcN,GAAYG,aAAeG,IAAcN,GAAYI,WAEnF9kH,EAAmB50E,GAAAA,QAAqByB,GAAAA,aAAAA,mBAA4C,CAAC,EACvFuN,EAAe0uB,EAASk/C,SAAS1oF,MAAM,qBAAuB,QAAU,SAExEylM,GACFE,GAAkB,EAClB7qL,EAAesqL,GAAYC,OAC3B3kH,EAAiBklH,SAAW9qL,EAC5BhP,GAAAA,QAAqByB,GAAAA,aAAAA,iBAAyCmzE,IACrDilH,EAET7qL,EAAeoqL,GAAW9xM,QAAQ,QAAS,IAClCsyM,GAAmC,cAAtBl8J,EAASk/C,SAE/B5tE,EAAe4qL,EACNhlH,EAAiBklH,SAC1B9qL,EAAe4lE,EAAiBklH,UAGhCllH,EAAiBklH,SAAW9qL,EAC5BhP,GAAAA,QAAqByB,GAAAA,aAAAA,iBAAyCmzE,IAGhE,IAAAwZ,GAAgCC,EAAAA,GAAAA,UAASr/E,GAAas/E,GAAAvyC,EAAAA,GAAAA,GAAAqyC,EAAA,GAA/C0rG,EAAQxrG,EAAA,GAAEyrG,EAAWzrG,EAAA,GAwBtB0rG,EAAiB,SAACC,GACtBF,EAAYE,GACZ,IAAMrlH,EAAmB50E,GAAAA,QAAqByB,GAAAA,aAAAA,kBAE9CmzE,EAAiBklH,SAAWG,EAC5Bj6L,GAAAA,QAAqByB,GAAAA,aAAAA,iBAAyCmzE,EAChE,EAEA,OACEma,MAAA1qD,cAAA,YACIw1J,GACA9qG,MAAA1qD,cAAA,OAAK2qD,UAAU,eACbD,MAAA1qD,cAAA,UACE9oC,KAAK,SACLyzF,UAAS,OAAA3lG,OAAsB,UAAbywM,EAAuB,SAAW,IACpD7qG,QA3BY,WACpB,GAAIra,EAAiB0oG,cAAe,CAClC,IAAA4c,EAAsBtlH,EAAiB0oG,cAA/B1+J,EAAIs7K,EAAJt7K,KAAMD,EAAGu7K,EAAHv7K,IAEdxC,EAAQt1B,KAAK,GAADwC,OAAI20C,GAAM++C,SAAQ,WAAA1zF,OAAUu1B,EAAI,QAAAv1B,OAAOs1B,GACrD,MACExC,EAAQt1B,KAAK,GAADwC,OAAI20C,GAAM++C,SAAQ,WAGhCi9G,EAAe,QACjB,GAmBUjrG,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,YAAY+4F,eAAe,gBAElDoF,MAAA1qD,cAAA,UACE9oC,KAAK,SACLyzF,UAAS,OAAA3lG,OAAsB,WAAbywM,EAAwB,SAAW,IACrD7qG,QA5Ca,WACrB,GAAIra,EAAiB04G,eAAgB,CACnC,IAAA0G,EAAsBp/G,EAAiB04G,eAA/B1uK,EAAIo1K,EAAJp1K,KAAMD,EAAGq1K,EAAHr1K,IAEdxC,EAAQt1B,KAAK,GAADwC,OAAI20C,GAAM++C,SAAQ,KAAA1zF,OAAIu1B,EAAI,QAAAv1B,OAAOs1B,GAC/C,CAEAq7K,EAAe,SACjB,GAsCUjrG,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,aAAa+4F,eAAe,kBAKzC,UAAbmwG,IAAyBH,GACxB5qG,MAAA1qD,cAAA,OAAK2qD,UAAU,aAIbD,MAAA1qD,cAACo4I,GAAcp1K,IAIL,WAAbyyL,GAAyB/qG,MAAA1qD,cAAC81J,GAAe9yL,GAGhD,GAEoCyjC,GAAQ,CAAE+lD,eAAe,I,slBCnF7D,IAAMn5C,GAAgBziC,IAAUA,GAAAA,SA0B1BmlL,IAAc9qG,IAxBnBztC,EAAAA,EAAAA,KACC,SAAA3uD,GAAA,IACEmpB,EAAInpB,EAAJmpB,KACAC,EAAIppB,EAAJopB,KAAI+9K,EAAAnnM,EACJipB,QAAWzM,EAAY2qL,EAAZ3qL,aAAcC,EAAW0qL,EAAX1qL,YAAW8jH,EAAAvgI,EACpCopB,KACEnK,EAAUshH,EAAVthH,WACAG,EAAcmhH,EAAdnhH,eACAL,EAAiBwhH,EAAjBxhH,kBACAO,EAAoBihH,EAApBjhH,qBAAoB,MAEjB,CACL8J,KAAAA,EACAnK,WAAAA,EACA6C,gBAAiBqH,EAAKrH,gBACtBslL,UAAW5qL,EACXC,YAAAA,EACA2C,eAAAA,EACAL,kBAAAA,EACAO,qBAAAA,EACD,IACFohH,GAEAzlC,KAAUnwF,GAAAA,GAAC,CAAC,EAAI8sC,IAAWu3F,IAAc,CAAExxC,eAAe,IAAOvB,GAAAC,IADjE8wC,EAAAA,EAAAA,IAAU9wC,GAAAqkC,GAAArkC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAA+4L,EAAApoG,GAAA,I,IAAA1wF,G,EAAA84L,E,maAKT,SAAAA,EAAY/yL,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAAqnM,GACjB9mM,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,WAHJ,IAAKwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAkSI,SAACyD,GAClB,IAAQ2J,EAAiC3J,EAAjC2J,MAAOrF,EAA0BtE,EAA1BsE,OAAQmiC,EAAkBzmC,EAAlBymC,cAEvBgO,EAGI1D,GAAYzsC,GAFdqH,EAAI8oC,EAAJ9oC,KACAlH,EAAUgwC,EAAVhwC,WAGF,OAAOkF,EAAM3K,QAAO,SAAClK,GACnB,IAAeu8C,EAAgBv8C,EAA1BykB,SAEL,OAAQ83B,EAAa15C,eACnB,IAAK,iBACL,IAAK,sBACL,IAAK,sBACH05C,EAAe,MAGnB,IAAMmyJ,EAAgB/+L,GAAc3P,EAAK2P,WACrC3P,EAAK2P,WAAW9M,gBAAkB8M,EAAW9M,gBAC3C8M,IAAe3P,EAAK2P,aAAiBA,GAAc3P,EAAK2P,YAI9D,GACE4sC,EAAa15C,gBAAkBgU,EAAKhU,eACpC7C,EAAK8K,QAAQjI,gBAAkB8uC,EAAc9uC,eAC7C6rM,EAEA,OAAO,CAEX,GACF,KAACz6L,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAEoB,WACnB,GAAKA,EAAK4yJ,QAAV,CAEA,IAAQo0C,EAAchnM,EAAK+T,MAAnBizL,UACR5nJ,EAA8Bp/C,EAAK2W,MAA3BqG,EAAQoiC,EAARpiC,SAAU3Z,EAAO+7C,EAAP/7C,QAElBrD,EAAK+9C,UAAS,iBAAO,CACnBmpJ,QAASF,EACV,IAED/5D,GAAiB,CACfl2I,IAAK,aAAFhB,OAAey/C,GAAex4B,GAAU,GAAM5hB,cAAa,KAAArF,OAAIsN,GAClE/I,KAAM0sM,EACNjiI,KAAM,MAZiB,CAc3B,KAACv4D,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAEe,WACd,IAAA8/C,EAOI9/C,EAAK2W,MANPqG,EAAQ8iC,EAAR9iC,SACA3Z,EAAOy8C,EAAPz8C,QAAO8jM,EAAArnJ,EACP4nF,aACE1nH,EAAQmnL,EAARnnL,SACA1X,EAAQ6+L,EAAR7+L,SAIJwjC,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,aAA+B,CACjD6O,SAAWgD,GAAYhD,EACvB3Z,QAAAA,EACAiF,SAAAA,GAEJ,KAACkE,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAEe,WACd,IAAA48F,EAA8B58F,EAAK2W,MAA3BqG,EAAQ4/E,EAAR5/E,SAAU3Z,EAAOu5F,EAAPv5F,QAElByoC,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,aAA+B,CACjD6O,SAAUA,EAAS9M,cACnBuxB,UAAWp+B,GAEf,KAACmJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAEgB,WACf,IAAA68F,EAGI78F,EAAK+T,MAFP8U,EAAOg0E,EAAPh0E,QACQghB,EAAMgzD,EAAdnG,KAAQ7sD,OAEVk+D,EAA4C/nG,EAAK2W,MAAzC+wH,EAAY3/B,EAAZ2/B,aAAc1qH,EAAQ+qF,EAAR/qF,SAAU3Z,EAAO0kG,EAAP1kG,QAE1BgvJ,EAAiB78G,GAAex4B,EAAS5hB,eAAe,GAAMA,cAC9Dk3J,EAAe5qB,EAAa1nH,SAAW,UAAHjqB,OAAa2xI,EAAa1nH,UAAQ,IAAAjqB,OAASs8J,GAErFxpI,EAAQt1B,KAAK+uG,GACXz4D,EAAM,GAAA9zC,OACHu8J,EAAY,KAAAv8J,OAAIsN,EAAO,UAE9B,KAACmJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,aAEW,SAACkrI,EAAKC,GAChB,IAAApsC,EAGI/+F,EAAK+T,MAFP8U,EAAOk2E,EAAPl2E,QACAhK,EAAUkgF,EAAVlgF,WAGF,OAAO48E,KAAAA,cAAC6rC,IAAGpoC,EAAAA,GAAAA,GAAA,CAACnoG,IAAKo0I,GAAcD,EAAG,CAAErsH,WAAYA,EAAYgK,QAASA,IACvE,KAACrc,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAEoB,SAAAe,GAAgB,IAC3BnH,EADoBmH,EAANu8F,OACd1jG,MAERoG,EAAK+9C,UAAS,iBAAO,CAAE0uF,YAAa7yI,EAAO,GAC7C,KAAC4S,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAEc,WACb,IAAA0iI,EAAiC1iI,EAAK2W,MAA9B81H,EAAW/J,EAAX+J,YAAay6D,EAAOxkE,EAAPwkE,QAGrB,GAFAlnM,EAAKmvI,UAED1C,EAAYrxI,eAAiBqxI,EAAYn5I,OAAQ,CACnD,IAAM47I,EAAUg4D,EAAQzkM,QACtB,SAAAyS,GAAA,IAAG7R,EAAO6R,EAAP7R,QAAO,OAAOA,GAAWA,EAAQjI,cAAcsS,SAAS++H,EAAYrxI,cAAc,IAGvF4E,EAAK+9C,UAAS,iBAAO,CAAEmpJ,QAASh4D,EAAS,GAC3C,MACElvI,EAAK0sI,aAET,KAAClgI,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,WAES,WACRA,EAAK+9C,UAAS,iBAAO,CAAE0sF,WAAW,EAAM,IACxCh5H,YAAW,kBAAMzR,EAAK+9C,UAAS,iBAAO,CAAE0sF,WAAW,EAAO,GAAE,GAAE,IAChE,KAACj+H,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAEa,WACZA,EAAKmvI,UACL,IAAAzL,EAA8B1jI,EAAK2W,MAA3BtT,EAAOqgI,EAAPrgI,QAAS2Z,EAAQ0mH,EAAR1mH,SACjBhd,EAAK+9C,UAAS,iBAAO,CAAE0uF,YAAappI,EAAS,IAC7CyoC,GAAAA,QAAAA,gBAAgCzoC,EAAS2Z,EAAS5hB,cACpD,IAlaE,IAAAgyI,EAKIr5H,EAJFnT,MACE6C,OAAM4pI,EAAAD,EAAIrlI,OAAAA,OAAM,IAAAslI,EAAG,KAAIA,EAAAC,EAAAF,EAAE/pI,QAAAA,OAAO,IAAAiqI,EAAG,KAAIA,EAEzC5rH,EACE3N,EADF2N,gBAGItU,EAAQ0+B,GAAAA,KAAAA,WAAwB,CAAC,GACjC5B,EAAgB7mC,EAElBqkI,EAAe1nI,EAAKo7D,iBAAiB,CACvChuD,MAAAA,EACArF,OAAAA,EACAmiC,cAAAA,IAeF,GAZKw9F,EAAap0I,SAChBo0I,EAAet6H,EAAM3K,QAAO,SAAClK,GAC3B,GACGA,EAAKukB,SAAW,IAEdvkB,EAAKykB,SAAS5hB,gBAAkB2M,EAAO3M,eACpC7C,EAAKynB,UAAYznB,EAAKynB,SAAS5kB,gBAAkB2M,EAAO3M,eAE9D,OAAO,CACX,KAGEssI,EAAap0I,OAAQ,CAIvB,IAAA8zM,EAHA1/D,EAAeA,EAAa,GAGpB1qH,EAAQoqL,EAARpqL,SAAU1U,EAAQ8+L,EAAR9+L,SAAU0X,EAAQonL,EAARpnL,SAAU3c,EAAO+jM,EAAP/jM,QAASmyD,EAAe4xI,EAAf5xI,gBAAiBtlC,EAAQk3K,EAARl3K,SAAUpT,EAAOsqL,EAAPtqL,QAASK,EAAiBiqL,EAAjBjqL,kBAC7EkqL,EAAgBp6D,GAAgB,aAADl3I,OAAcy/C,GAAex4B,GAAU,GAAM5hB,cAAa,KAAArF,OAAIm0C,IAEzGj9B,QAAQ4jB,IAAI,yBAA0BvoB,EAAU0X,GAC1ChgB,EAAK2W,MAAQ,CACX+wH,aAAAA,EACArkI,QAAAA,EACAiF,SAAAA,EACA0X,SAAAA,EACAkqB,cAAAA,EACAptB,QAAAA,EACAoT,SAAAA,EACAlT,SAAAA,EACAkqL,QAASG,EACT7xI,gBAAAA,EACA9zC,gBAAAA,EACA+oH,WAAW,EACXttH,kBAAAA,EACAsvH,YAAaviG,GAAiB7mC,GAAW,GACzC0E,OAAAA,EACAkd,MAAOk1B,GAAUhR,QAAQ,CAAEnhC,KAAMD,IAErC,CAAC,OAAA/H,CACH,CA6hBC,OA7hBAN,EAAAA,GAAAA,GAAAonM,EAAA,EAAA/vM,IAAA,oBAAA6C,MAED,WAAoB,IAAA0V,EAAA,KAClBjc,KAAKu/J,SAAU,EAEf,IAAAvI,EAaIh3J,KAAKsjB,MAZPqG,EAAQqtI,EAARrtI,SACA0qH,EAAY2iB,EAAZ3iB,aAAY4/D,EAAAj9C,EACZ3iB,aACE1nH,EAAQsnL,EAARtnL,SACA1X,EAAQg/L,EAARh/L,SAEF2c,EAAKolI,EAALplI,MACAnI,EAAOutI,EAAPvtI,QACAK,EAAiBktI,EAAjBltI,kBACAuE,EAAe2oI,EAAf3oI,gBACA3Z,EAAMsiJ,EAANtiJ,OACAmiC,EAAamgH,EAAbngH,cAGFy4F,EASItvI,KAAK0gB,MAAKwzL,EAAA5kE,EARZ/hI,MACE6C,OAAM+jM,EAAAD,EACJlkM,QAAAA,OAAO,IAAAmkM,EAAG,KAAIA,EACdtzL,EAAMqzL,EAANrzL,OAGJ8K,EAAc2jH,EAAd3jH,eACAH,EAAU8jH,EAAV9jH,WAOF,GAJc,QAAV3K,GACF43B,GAAAA,KAAAA,cAGE7mB,GAAS3c,EACXwjC,GAAQxjC,GAAUqlC,WAAW3wB,EAAS5hB,cAAe8uC,GAAe9V,MAAK,SAACtX,GACxExN,EAAKyuC,SAAS,CACZjhC,QAAAA,GAEJ,QACK,CACL,IAAMm9B,EAAaj9B,EAAS5hB,cAE5BiI,GAAWyoC,GAAQ0J,GAAeyE,GAAY,IAC3CzT,aAAanjC,GACb+wB,MAAK,SAACtX,GAAO,OAAKxN,EAAKyuC,SAAS,CAAEjhC,QAAAA,GAAU,GACjD,CAEe,SAAX5I,GACF43B,GAAAA,QAAAA,gBAAgC5B,EAAeniC,EAAO3M,eAGnDiI,GACHyoC,GAAAA,KAAAA,iBAGF,IAAMumH,EAAiB78G,GAAex4B,EAAS5hB,eAAe,GACxDk3J,EAAetyI,EAAW,UAAHjqB,OAAaiqB,GAAQ,IAAAjqB,OAASs8J,GACrDo1C,EAAc,GAAH1xM,OAAMu8J,EAAY,KAAAv8J,OAAIsN,EAAO,SACxCqkM,EAAa,GAAH3xM,OAAMu8J,EAAY,KAAAv8J,OAAIsN,EAAO,YAE1BhQ,KAAK0gB,MAAM8U,QAAQuhB,SAASk/C,SAASluF,gBAErCqsM,EAAYrsM,eAA6B,IAAZ0hB,IAC9CgvB,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,SAA2B,CAC7C6O,SAAAA,EACA3Z,QAAAA,EACAyZ,QAAAA,EACA4qH,aAAAA,EACAvqH,kBAAAA,EACAuE,gBAAAA,IAEE1C,EAAe9O,gBAAkB2O,GACnCitB,GAAAA,KAAAA,mBAAgC9uB,EAAS5hB,gBAIzC/H,KAAK0gB,MAAM8U,QAAQuhB,SAASk/C,SAASluF,gBAAkBssM,EAAWtsM,eACpE0wC,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,aAA+B,CACjD6O,SAAWgD,GAAYhD,EACvB3Z,QAAAA,EACAiF,SAAAA,GAGN,GAAC,CAAAvR,IAAA,qBAAA6C,MAED,SAAmBiuG,GAAW,IAAAn4F,EAAA,KAEfi4L,EAIT9/F,EAJFm/F,UAMFvjE,GAFI57B,EAHFjnG,MACE6C,OAAUJ,QAWVhQ,KAAK0gB,OANPizL,EAASvjE,EAATujE,UAASY,EAAAnkE,EACT7iI,MACE6C,OAAMokM,EAAAD,EAAIvkM,QAAAA,OAAO,IAAAwkM,EAAG,KAAIA,EAAAC,EAAAF,EAAE7/L,OAAAA,OAAM,IAAA+/L,EAAG,KAAIA,EAAAC,EAAAH,EAAE1zL,OAAAA,OAAM,IAAA6zL,EAAG,KAAIA,EAExD/oL,EAAcykH,EAAdzkH,eACAH,EAAU4kH,EAAV5kH,WASF,GANqBxrB,KAAKsjB,MAAlBqG,SAEJlQ,KAAKC,UAAUi6L,KAAel6L,KAAKC,UAAU46L,IAC/Ct0M,KAAK20M,qBAILngG,EAAUz9D,SAASk/C,WAAaj2F,KAAK0gB,MAAMq2B,SAASk/C,UACpDue,EAAUlpF,oBAAsBtrB,KAAK0gB,MAAM4K,kBAC3C,CACA,IAAMvR,EAAQ0+B,GAAAA,KAAAA,WAAwB,CAAC,GACjC5B,EAAgB7mC,EAElBqkI,EAAer0I,KAAK+nE,iBAAiB,CACvChuD,MAAAA,EACArF,OAAAA,EACAmiC,cAAAA,IAeF,GAZKw9F,EAAap0I,SAChBo0I,EAAet6H,EAAM3K,QAAO,SAAClK,GAC3B,GACGA,EAAKukB,SAAW,IAEdvkB,EAAKykB,SAAS5hB,gBAAkB2M,EAAO3M,eACpC7C,EAAKynB,UAAYznB,EAAKynB,SAAS5kB,gBAAkB2M,EAAO3M,eAE9D,OAAO,CACX,KAGEssI,EAAap0I,OAAQ,CAGvB,IAAA20M,EAFAvgE,EAAeA,EAAa,GAG1B1qH,EAAQirL,EAARjrL,SACAw4C,EAAeyyI,EAAfzyI,gBACAtlC,EAAQ+3K,EAAR/3K,SACApT,EAAOmrL,EAAPnrL,QACAK,EAAiB8qL,EAAjB9qL,kBACA6C,EAAQioL,EAARjoL,SACA1X,EAAQ2/L,EAAR3/L,SAGS4/L,EACP70M,KAAKsjB,MADPuwL,QAGIG,EAAgBp6D,GAAgB,aAADl3I,OAAcy/C,GAAex4B,GAAU,GAAM5hB,cAAa,KAAArF,OAAIsN,IAEnG,IAAKhQ,KAAKu/J,QAAS,OACnB,IAAM3tI,EAAQk1B,GAAUhR,QAAQ,CAAEnhC,KAAMD,IAExC1U,KAAK0qD,SACH,CACE2pF,aAAAA,EACArkI,QAAAA,EACA6sB,SAAAA,EACAlT,SAAAA,EACAF,QAAAA,EACAoqL,QAAUG,GAAiBa,EAC3B1yI,gBAAAA,EACAi1E,WAAW,EACXttH,kBAAAA,EACAsvH,YAAappI,GAAW,GACxB4hB,MAAAA,IAEF,WACE,GAAI4iF,EAAUz9D,SAASk/C,WAAa55E,EAAKqE,MAAMq2B,SAASk/C,SAAU,CAIhE,GAHItqE,EAAe9O,gBAAkB2O,GACnCitB,GAAAA,KAAAA,mBAAgC9uB,EAAS5hB,eAEvC6pB,GAAS3c,EACXwjC,GAAQxjC,GAAUqlC,WAAW3wB,EAAS5hB,cAAeiI,GAAS+wB,MAAK,SAACtX,GAClEpN,EAAKquC,SAAS,CACZjhC,QAAAA,GAEJ,QACK,CACL,IAAMm9B,EAAaj9B,EAAS5hB,cAE5BiI,GAAWyoC,GAAQ0J,GAAeyE,GAAY,IAC3CzT,aAAanjC,GACb+wB,MAAK,SAACtX,GAAO,OAAKpN,EAAKquC,SAAS,CAAEjhC,QAAAA,GAAU,GACjD,CAEe,SAAX5I,GACF43B,GAAAA,QAAAA,gBAAgCzoC,EAAS0E,EAAO3M,eAG7CiI,GACHyoC,GAAAA,KAAAA,gBAEJ,CACA,IAAMumH,EAAiB78G,GAAex4B,EAAS5hB,eAAe,GACxDk3J,EAAetyI,EAAW,UAAHjqB,OAAaiqB,GAAQ,IAAAjqB,OAASs8J,GACrDo1C,EAAc,GAAH1xM,OAAMu8J,EAAY,KAAAv8J,OAAIsN,EAAO,SACxCqkM,EAAa,GAAH3xM,OAAMu8J,EAAY,KAAAv8J,OAAIsN,EAAO,YACvC6yL,EAAaxmL,EAAKqE,MAAMq2B,SAASk/C,SAASluF,cAE5C86L,IAAeuR,EAAYrsM,eAC7B0wC,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,SAA2B,CAC7C6O,SAAAA,EACA3Z,QAAAA,EACAyZ,QAAAA,EACAK,kBAAAA,EACAuqH,aAAAA,IAIAwuD,IAAewR,EAAWtsM,eAC5B0wC,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,aAA+B,CACjD6O,SAAWgD,GAAYhD,EACvB3Z,QAAAA,EACAiF,SAAAA,GAGN,GAEJ,CACF,CACF,GAAC,CAAAvR,IAAA,uBAAA6C,MAED,WACEvG,KAAKu/J,SAAU,CACjB,GAAC,CAAA77J,IAAA,SAAA6C,MAyID,WACE,IAAAyuI,EAaIh1I,KAAK0gB,MAZPsI,EAAWgsH,EAAXhsH,YACA2qL,EAAS3+D,EAAT2+D,UACA58J,EAAQi+F,EAARj+F,SAAQmyI,EAAAl0C,EACRznI,MACE6C,OAAUJ,QAAAA,OAAO,IAAAk5K,EAAG,KAAIA,EAE1B7lF,EAAI2xC,EAAJ3xC,KACAh1E,EAAe2mH,EAAf3mH,gBACA/C,EAAiB0pH,EAAjB1pH,kBACAE,EAAUwpH,EAAVxpH,WACAG,EAAcqpH,EAAdrpH,eACAE,EAAoBmpH,EAApBnpH,qBAGForI,EAYIj3J,KAAKsjB,MAXPqG,EAAQstI,EAARttI,SACA0qH,EAAY4iB,EAAZ5iB,aAAYygE,EAAA79C,EACZ5iB,aACEv+F,EAAOg/J,EAAPh/J,QACAnpB,EAAQmoL,EAARnoL,SAEFlD,EAAOwtI,EAAPxtI,QACAK,EAAiBmtI,EAAjBntI,kBACA+pL,EAAO58C,EAAP48C,QACAz6D,EAAW6d,EAAX7d,YACAhC,EAAS6f,EAAT7f,UAGE31F,EAAe93B,EAAS5hB,cACxBgtM,EAAoBj/J,EAAWnsB,EAAS+3B,WAAW,IAAD,IAAS35C,cAAgB4hB,EAAS5hB,cAExF,OAAQ05C,GACN,IAAK,iBACL,IAAK,sBACL,IAAK,sBACHA,EAAe,OAGnBkyJ,EAAYE,GAAWF,KAIrBA,EAAYA,EAAUvkM,QAAO,SAACskC,GAC5B,QAAIA,UAAAA,EAAI9+B,QACEkhC,EAAYpC,EAAG/mB,WAAaA,EAAa+mB,EAAG9+B,KAAK7M,gBAAkB05C,EAG/E,KAGF,IAAMuzJ,EAAmBhlM,EAAQjI,gBAAkBssI,EAAarkI,QAAQjI,cAEpEitM,IACFhsL,EAAc9X,OAAOtL,KAAKojB,GACzB5nB,KAAI,SAACsC,GAAG,OAAKslB,EAAYtlB,EAAI,IAC7B0L,QAAO,SAACuH,GAAI,OAAKA,EAAKwpC,eAAiBx2B,GAAYhT,EAAKypC,cAAgBz2B,CAAQ,IAChF1mB,WAEH,IA4BIgiL,EA5BE2a,EAAUljG,GAAW3lD,EAASk/C,UAE9Bg/G,GAAkBlyG,EAAAA,GAAAA,IAAe,CACrCihG,UAAW,CACT/5L,GAAI,sBACJ+4F,eAAgB,wEAGdkyG,GAAmBnyG,EAAAA,GAAAA,IAAe,CACtCihG,UAAW,CACT/5L,GAAI,iCACJ+4F,eAAgB,0DAGdh1F,EAAQ+iD,GAAgBmkJ,EAAmBD,EAE3C/oM,GAAc62F,EAAAA,GAAAA,IAAe,CACjCkhG,gBAAiB,CACfh6L,GAAI,oBACJ+4F,eACE,4JAiBN,OAbI30E,EAAgBhU,SAASsP,IAC3B8uB,GAAAA,KAAAA,kBAA+B9uB,GAM/Bs7J,EADEn7J,GAAqBA,EAAkB4xB,WAEvC,IAAIre,GAAAA,EAAU5T,GAAS2mB,GAAG,EAAG/S,GAAAA,EAAAA,aAAuB78B,WAAoBspB,EAAkB4xB,WAEtE,EAItB0sD,KAAAA,cAAA,OAAKC,UAAU,QACbD,KAAAA,cAAC+3F,GAAO,CACNppJ,SAAUA,EACVqlD,aAAciH,EAAKC,cAAct1F,EAAMg2L,UAAW,CAChDp6K,SAAUD,EACVA,SAAAA,IAEF0yE,mBAAoBgH,EAAKC,cAAcp3F,EAAY+3L,gBAAiB,CAClEr6K,SAAUD,EACVA,SAAAA,MAIJy+E,KAAAA,cAAC0hF,GAAe,CACd3iH,KAAK,UACLq5G,YACEp4E,KAAAA,cAACo4E,GAAW,CACV5rK,KAAK,iBACL4W,WAAYA,EACZq1J,gBAAiBp3J,EACjB6yI,YAAa2oB,EACbt5J,eAAgBA,EAChBN,WAAYC,EACZw1J,cAAe9gL,KAAK8gL,cACpBC,eAAgB/gL,KAAK+gL,eACrBI,cAAenhL,KAAKmhL,cACpBG,YAAa7oI,GAAAA,KAAAA,QACXzoC,EACAqkI,EAAa1nH,UAAY80B,GAE3B93B,SAAUA,EAAS5hB,cACnBk5K,aAAc8zB,EACdvzB,cAAc,EACd31J,qBAAsBA,KAI1Bu8E,KAAAA,cAAA,OAAKC,UAAU,0BACbD,KAAAA,cAAC+zC,GAAU,CACT/C,YAAaA,EACb7F,SAAUvzI,KAAKo8I,aACfxyC,SAAU5pG,KAAKq8I,mBACfhD,YAAar5I,KAAKq5I,cAEnBs6D,IACEv8D,IACAu8D,EAAU1zM,OAAS,EAIlBmoG,KAAAA,cAACmuC,GAAK,CAACY,KAAMw8D,EAAWtrG,UAAU,kBAAkBivC,UAAWt3I,KAAKs3I,YAElElvC,KAAAA,cAAA,OAAKC,UAAU,kBACbD,KAAAA,cAACyyC,GAAa,CAACjC,iBAAe,EAAC9tC,OAAK,EAACiuC,WAAS,EAACJ,OAAK,QAGzDg7D,GAAav8D,IACdhvC,KAAAA,cAAA,OAAKC,UAAU,kBACbD,KAAAA,cAACyyC,GAAa,CAACjC,iBAAe,EAACG,WAAS,MAI7Ci8D,GACC5sG,KAAAA,cAAAA,KAAAA,SAAA,MACI3vD,GAAAA,YAAAA,mBAAuC,GAAD/1C,OAAIsN,MACzCgZ,EAAY5Z,QAAO,SAAClK,GAAI,OAAKA,EAAK+uB,MAAQ,CAAC,IAAEh0B,OAAS,EACnDmoG,KAAAA,cAACkzC,GAAY,CAACziI,OAAQmQ,EAAY5Z,QAAO,SAAClK,GAAI,OAAKA,EAAK+uB,MAAQ,CAAC,MAEjE,MAOZm0E,KAAAA,cAACuB,GAAAA,SAAQ,KAAEi2F,GAAWA,EAAQ5mG,QAAUoP,KAAAA,cAAA,WAAMw3F,EAAQ5mG,SAG5D,KAACy6G,CAAA,CA5lBQ,CAEkBjoG,GAAAA,aAAS5C,KAAAA,KAAAA,IA6lBtC,UAAegF,EAAAA,GAAAA,IAAW6lG,I,qmBCxoBuB,IAO3C0B,GALLhrG,KAAU9yF,GAAAA,GAAC,CAAC,EChBb,CAAgB,YAAc,2BAA2B,UAAY,2BAA2B,OAAS,2BAA2B,gBAAkB,2BAA2B,aAAe,2BAA2B,mBAAqB,2BAA2B,OAAS,2BAA2B,KAAO,6BDkBjT48J,IACF,CAAE/pE,eAAe,GAAOvB,CAAAC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAAy6L,EAAA9pG,GAAA,I,IAAA1wF,G,EAAAw6L,E,maAGzB,SAAAA,EAAYz0L,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAA+oM,GACjBxoM,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAuCE,SAACpG,GAEfoG,EAAK+9C,SAAS,CAAEpnC,MAAO3W,EAAK2W,OAC9B,KAACnK,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAEoB,SAACyoM,GAAgB,IAAAC,EACpC7rG,EAKI78F,EAAK+T,MAJP2K,EAAUm+E,EAAVn+E,WACAykD,EAAW05B,EAAX15B,YACQwa,EAAWkf,EAAnBjW,OACApoF,EAAKq+F,EAALr+F,MAIAijC,EACEzhC,EAAK+T,MADP0tB,UAIAzkB,EACEhd,EAAK2W,MADPqG,SAGF,GAAI0B,EAAY,OAAO+8E,KAAAA,cAACktG,GAAAA,EAAQ,CAAC7xM,MAAO,IACxC,GAAI0H,EAAY,OAAOi9F,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,kBAAkB+4F,eAAe,uBAGzE5iG,MAAMsxB,QAAQ0c,KAAYA,EAAYA,EAAU,IAEpD,IAAMmnK,EACJntG,KAAAA,cAAA,UAAQn+F,GAAG,WACR,IACAmrM,EACA,KACAzrL,EAAS9M,cACT,KAGC24L,EAAgBptG,KAAAA,cAAA,UAAQn+F,GAAG,eAAemkC,GAC1CqnK,EAAkBrtG,KAAAA,cAAA,UAAQn+F,GAAG,iBAAiBqgF,GAEpD,OAAIA,IAAgBl8C,EAEhBg6D,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,iBACH+4F,eAAe,yDACfl9F,OAAQ,CACN+mB,OAAQ0oL,EACR1gG,GAAIzM,KAAAA,cAAA,WACJp4F,QAASwlM,MAMb1lI,aAAW,EAAXA,EAAa/nE,kBAAkBuiF,aAAW,EAAXA,EAAaviF,eAE5CqgG,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,eACH+4F,eAAe,uDACfl9F,OAAQ,CACN+mB,OAAQ0oL,EACR1gG,GAAIzM,KAAAA,cAAA,WACJh6D,UAAWonK,MAMf1lI,aAAW,EAAXA,EAAa/nE,kBAA2B,QAAdstM,EAAKjnK,SAAS,IAAAinK,OAAA,EAATA,EAAWttM,eAE1CqgG,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,iBACH+4F,eAAe,wDACfl9F,OAAQ,CACN+mB,OAAQ0oL,EACR1gG,GAAIzM,KAAAA,cAAA,WACJ9d,YAAamrH,KAOnBrtG,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,qBACH+4F,eAAe,0EACfl9F,OAAQ,CACN+mB,OAAQ0oL,EACR1gG,GAAIzM,KAAAA,cAAA,WACJ9d,YAAamrH,EACbrnK,UAAWonK,IAInB,IAlIE,IACYE,EAIRh1L,EAJFiJ,SACA4pB,EAGE7yB,EAHF6yB,MACAi8B,EAEE9uD,EAFF8uD,OAIEmmI,EAAiB,IACjBC,EAAY,IACZliK,EAAK,GAET,IANIhzB,EADFvV,MAOU,CACV,GAAIooC,EAAO,CACT,IAAMlK,EAAS64B,GAAQn5C,aAAa+3E,QAAQ40G,EAAe3tM,cAAewrC,GAE1EG,EAAKrK,EAAOqK,GACZiiK,EAAiBtsK,EAAOoN,IAC1B,CAEI+4B,IACF97B,EAAK87B,EACLomI,EAAY1zI,GAAQn5C,aAAa4nD,YAAY+kI,EAAe3tM,cAAeynE,GAC3EmmI,EAAiBzzI,GAAQn5C,aAAa63E,QAAQ80G,EAAe3tM,cAAeynE,GAEhF,CAGA,IAAM7lD,EAAW+rL,EAAe/0M,QAAQ,kBAAmB,IAO1D,OALDgM,EAAK2W,MAAQ,CACXqG,SAAAA,EACAgsL,eAAAA,EACAC,UAAAA,EACAliK,GAAAA,GACD/mC,CACH,CA+UC,OA/UAN,EAAAA,GAAAA,GAAA8oM,EAAA,EAAAzxM,IAAA,SAAA6C,MAiGD,WAAS,IAAA0V,EAAA,KACPyvF,EAYI1rG,KAAK0gB,MAXPgrB,EAAIggE,EAAJhgE,KACArgB,EAAUqgF,EAAVrgF,WACAwB,EAAM6+E,EAAN7+E,OACAuhB,EAASs9D,EAATt9D,UACAqwJ,EAAU/yF,EAAV+yF,WACA70J,EAAS8hE,EAAT9hE,UACAE,EAAQ4hE,EAAR5hE,SACAC,EAAgB2hE,EAAhB3hE,iBACAb,EAAQwiE,EAARxiE,SACA/9B,EAAKugG,EAALvgG,MACA0qM,EAAanqG,EAAbmqG,cAGF9pJ,EAKI/rD,KAAKsjB,MAJPqG,EAAQoiC,EAARpiC,SACAgsL,EAAc5pJ,EAAd4pJ,eACAC,EAAS7pJ,EAAT6pJ,UACAliK,EAAEqY,EAAFrY,GAGE0hK,EAAcvoL,EACdipL,EAAgB5sK,EAEhB6sK,EAAY,EACZC,EAAU,EAEVC,GAAY,EACZC,GAAU,EACVL,IACFT,EAAcS,EAAchpL,OAC5BipL,EAAgBD,EAAc3sK,SAC9B6sK,EAAY,IAAI14K,GAAAA,EAAUw4K,EAAcM,aAAaj3I,MAAMk2I,GAAal2I,MAAM42I,GAAex4K,WAC7F04K,EAAU,IAAI34K,GAAAA,EAAUw4K,EAAcO,WAAWprK,KAAKoqK,GAAa93K,WACnE24K,EAAYx9J,GAAAA,KAAAA,QAAqBo9J,EAAchyM,KAAMgyM,EAAclsL,UACnEusL,EAAUz9J,GAAAA,KAAAA,QAAqBo9J,EAAcllK,GAAIklK,EAAclsL,WAGjE,IAAMoiE,EAAUtzC,GAAAA,SAAAA,WAA4B/M,GAE5C,OACE08D,KAAAA,cAAA,WACEA,KAAAA,cAAA,OAAKC,UAAU,eACbD,KAAAA,cAAA,WACEA,KAAAA,cAAA,OAAKC,UAAU,YAAY+D,IAAKkJ,GAAaG,GAAInJ,IAAI,YAGvDlE,KAAAA,cAAA,OAAKgC,UAAU,OACbhC,KAAAA,cAAA,OAAKC,UAAU,mBACZroG,KAAKq2M,mBAAmBjB,KAI7BhtG,KAAAA,cAAA,SAAOC,UAAU,qBAAqB+B,UAAU,0BAC9ChC,KAAAA,cAAA,aACEA,KAAAA,cAAA,UACEA,KAAAA,cAAA,MAAIC,UAAU,UACZD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,YAAY+4F,eAAe,oBAElDoF,KAAAA,cAAA,UACEA,KAAAA,cAAA,KAAGkK,KAAMqjG,EAAgB1rG,OAAO,SAAS5B,UAAU,SAASmK,IAAI,cAAY,GAAA9vG,OACtEgxC,EAAGnyC,MAAM,EAAG,GAAE,OAAAmB,OAAMgxC,EAAGnyC,OAAO,OAIvC8pB,EACC+8E,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAA,UACEA,KAAAA,cAAA,MAAIitE,QAAS,GACXjtE,KAAAA,cAACktG,GAAAA,EAAQ,QAGbltG,KAAAA,cAAA,UACEA,KAAAA,cAAA,MAAIitE,QAAS,GACXjtE,KAAAA,cAACktG,GAAAA,EAAQ,QAGbltG,KAAAA,cAAA,UACEA,KAAAA,cAAA,MAAIitE,QAAS,GACXjtE,KAAAA,cAACktG,GAAAA,EAAQ,SAIbnqM,EACA,KAEAi9F,KAAAA,cAAAA,KAAAA,SAAA,KACIx+D,EACAw+D,KAAAA,cAAA,UACEA,KAAAA,cAAA,MAAIC,UAAU,UACZD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,4BAA4B+4F,eAAe,YAElEoF,KAAAA,cAAA,UACEA,KAAAA,cAAA,cACEA,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,oBAAoB+4F,eAAe,iBAK9DoF,KAAAA,cAAA,UACEA,KAAAA,cAAA,MAAIC,UAAU,UACZD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,YAAY+4F,eAAe,+BAElDoF,KAAAA,cAAA,UACEA,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,uBAAuB+4F,eAAe,eAI/Dl5D,EAAW,GACXs+D,KAAAA,cAAA,UACEA,KAAAA,cAAA,MAAIC,UAAU,UACZD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,mBAAmB+4F,eAAe,eAEzDoF,KAAAA,cAAA,UACEA,KAAAA,cAAA,cACGt+D,EACA,IACAC,KAKP+rK,EAAgB,GAChB1tG,KAAAA,cAAA,UACEA,KAAAA,cAAA,MAAIC,UAAU,UACZD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,mBAAmB+4F,eAAe,iBAEzDoF,KAAAA,cAAA,UACEA,KAAAA,cAAA,cACG0tG,EACA,IACAnsL,EAAS9M,iBAKhBg5L,EACAztG,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAA,UACEA,KAAAA,cAAA,MAAIC,UAAU,SAASgtE,QAAS,GAC9BjtE,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,wBAAwB+4F,eAAe,qBAGhEoF,KAAAA,cAAA,UACEA,KAAAA,cAAA,MAAIC,UAAU,SAASgtE,QAAS,GAC7BwgC,EAAchyM,KACboyM,GACA7tG,KAAAA,cAAAA,KAAAA,SAAA,SAEEA,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,uBAAuB+4F,eAAe,cAKnEoF,KAAAA,cAAA,UACEA,KAAAA,cAAA,WACAA,KAAAA,cAAA,UACEA,KAAAA,cAAA,cACG2tG,EACA,IACApsL,EAAS9M,iBAIhBurF,KAAAA,cAAA,UACEA,KAAAA,cAAA,MAAIC,UAAU,SAASgtE,QAAS,GAC7BwgC,EAAcllK,GACbulK,GACA9tG,KAAAA,cAAAA,KAAAA,SAAA,SAEEA,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,uBAAuB+4F,eAAe,cAKnEoF,KAAAA,cAAA,UACEA,KAAAA,cAAA,WACAA,KAAAA,cAAA,UACEA,KAAAA,cAAA,cACG4tG,EACA,IACArsL,EAAS9M,kBAMlBurF,KAAAA,cAAAA,KAAAA,SAAA,KACIq2F,EAAa,GACbr2F,KAAAA,cAAA,UACEA,KAAAA,cAAA,MAAIC,UAAU,UACZD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,uBAAuB+4F,eAAe,mBAE7DoF,KAAAA,cAAA,UACEA,KAAAA,cAAA,cACGq2F,EACA,IACA90K,EAAS9M,mBAS3BkvE,GACCqc,KAAAA,cAAA,UACEA,KAAAA,cAAA,MAAIC,UAAU,UACZD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,kBAAkB+4F,eAAe,aAExDoF,KAAAA,cAAA,UACEA,KAAAA,cAAA,cACGrc,QAQfqc,KAAAA,cAAA,OAAKC,UAAU,4BACbD,KAAAA,cAAC2D,GAAW,CACVC,WAAS,EACTE,SAAS,QACTz1D,KAAI,GAAA/zC,OAAKszF,MAAetzF,OAAGkzM,GAC3B5nM,MAAK,GAAAtL,OAAKmqB,EAAOrsB,WAAU,KAAAkC,OAAIinB,EAASnpB,WAAU,KAAAkC,OAAI0lG,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,YAAY+4F,eAAe,mBAAmB,KAAAtgG,OAAI0rC,KAE/Hg6D,KAAAA,cAACsqC,GAAU,CACTnpD,MAAM,GACN90C,SAAO,EACPo+F,cAAe,SAAC/xI,GAAC,OAAKmb,EAAK42H,cAAc/xI,EAAE,EAC3C6xI,WAAYjnG,KAKtB,KAACypK,CAAA,CAxXwB,CAEN3pG,GAAAA,aAAS5C,GAyX9B,Y,glBE9XoD,IAK9C/2B,GAHLs4B,KAAU9yF,GAAC,CAAC,EClBb,CAAgB,OAAS,6BDoBtB,CAAE6yF,eAAe,GAAOvB,CAAAC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAAm3D,EAAAw5B,GAAA,I,IAAA1wF,G,EAAAk3D,E,maAIzB,SAAAA,EAAYnxD,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAAylE,GACjBllE,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,aAHF,IAAKwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,6BAAAJ,GAAAyU,EAAAA,EAAAA,GAAAC,IAAAA,MAyEH,SAAAO,EAAOmI,EAAU6lD,EAAQ96D,GAAM,IAAA4hM,EAAAC,EAAAprM,EAAAyZ,EAAA4xL,EAAA3pL,EAAA4xK,EAAA70J,EAAA2pD,EAAAnlD,EAAAvE,EAAAC,EAAAC,EAAAb,EAAA,OAAAjoB,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OAM3B,GAJNgwM,EACN3pM,EAAK2W,MADPizL,OAIEprM,EAAQ,KAAIsW,EAAAxZ,KAAA,GAGV6+C,GAAUhR,QAAQ,CAAEnhC,KAAMgV,IAAa,CAAFlI,EAAAnb,KAAA,SACuC,OAAxEse,EAAgBnQ,GAAAA,GAAUkV,EAAS9M,eAAe5H,SAASlN,cAAa0Z,EAAAnb,KAAA,EAC/DmyC,GAAQ7zB,GAAe6xL,iBAAiB/hM,EAAQ86D,GAAO,OAAtE+mI,EAAM90L,EAAAC,KAAAD,EAAAnb,KAAG,GAAH,qBAAAmb,EAAAnb,KAAG,GAEMmyC,GAAQ9uB,GAAU+e,YAAY8mC,EAAQ,KAAc,QAAnE+mI,EAAM90L,EAAAC,KAAA,QAAAD,EAAAnb,KAAG,GAAH,cAAAmb,EAAAxZ,KAAG,GAAHwZ,EAAAgC,GAAAhC,EAAA,SAGR7H,QAAQzO,MAAKsW,EAAAgC,IACbtY,EAAKsW,EAAAgC,GAAM,WAGR8yL,IAAUprM,EAAK,CAAAsW,EAAAnb,KAAA,SAKhB,OAHFqG,EAAK+9C,SAAS,CACZr/B,YAAY,EACZlgB,OAASmrM,IACT70L,EAAAQ,OAAA,kBAICtV,EAAKktI,YACRD,GAAiB,CACfl2I,IAAK,UAAFhB,OAAYinB,EAAS5hB,cAAa,KAAArF,OAAI8sE,GACzCkC,KAAM,KACNzqE,KAAMsvM,IAIN1pL,GAHA2pL,EAYED,GATF1pL,OACc4xK,EAAU+X,EAAxBxtK,aACAY,EAAS4sK,EAAT5sK,UACe2pD,EAAMijH,EAArBptK,cACiBgF,EAASooK,EAA1BztK,gBACAc,EAAa2sK,EAAb3sK,cACAC,EAAQ0sK,EAAR1sK,SACAC,EAAgBysK,EAAhBzsK,iBACAb,EAAQstK,EAARttK,SAGFv8B,EAAK+9C,SAAS,CACZr/B,YAAY,EACZkrL,OAAAA,EACA1pL,OAAAA,EACApD,QAAQ,EACRg1K,WAAAA,EACA70J,UAAAA,EACA2pD,OAAAA,EACAnlD,UAAAA,EACAvE,cAAAA,EACAC,SAAAA,EACAC,iBAAAA,EACAb,SAAAA,KAEH,yBAAAznB,EAAAJ,OAAA,GAAAG,EAAA,mBACF,gBAAAG,EAAAa,EAAAF,GAAA,OAAA/V,EAAAwT,MAAA,KAAAhf,UAAA,EAxIgB,KAwIhBoY,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAuBa,WACZ8e,OAAO+J,QAAQ+yE,MACjB,IA5JE,IAAAi8F,EAOI9jL,EANFnT,MAKQmpM,QALH,IAAAlS,EAKD,KAAIA,GAJNp0L,OAAMumM,EAAAD,EACJhiM,OAAAA,OAAM,IAAAiiM,EAAG,KAAIA,EAAAC,EAAAF,EACbhjK,GAAI87B,OAAM,IAAAonI,EAAG,KAAIA,EAKjBjtL,EAAWw4B,GAAeztC,GAAQ,GAClC6hM,EAAS38D,GAAgB,UAADl3I,OAAWinB,EAAS5hB,cAAa,KAAArF,OAAI8sE,IAE/DlnC,EAAO,CAAC,EACZ,GAAIiuK,EAAQ,CACV,IACE1pL,EASE0pL,EATF1pL,OACc4xK,EAQZ8X,EARFvtK,aAUFV,EAAO,CACLzb,OAAAA,EACA+c,UAJE2sK,EAPF3sK,UAYA2pD,OALEgjH,EANFntK,cAYAgF,UANEmoK,EALFxtK,gBAYA01J,WAAAA,EACA50J,cARE0sK,EAJF1sK,cAaAC,SATEysK,EAHFzsK,SAaAC,iBAVEwsK,EAFFxsK,iBAaAb,SAXEqtK,EADFrtK,SAcJ,CAEA,IAAM7a,EAAkBhV,GAAAA,QAAqB,mBAEvCw9L,EAAap+J,GAAAA,KAAAA,WACL,CAAC,GACZrpC,QAAO,SAAA1B,GAAA,IAAaopM,EAAcppM,EAAxBic,SAA0BgD,EAAQjf,EAARif,SAAQ,QAC1C0B,SAAAA,EAAiBhU,SAASy8L,OAC1BnqL,aAAQ,EAARA,EAAU5kB,gBAAiB+uM,EAAe/uM,iBAAmB4hB,EAAS5hB,aAAa,IACpF,GAmBH,OAjBD4E,EAAK2W,MAAKjM,GAAA,CACRsS,SAAAA,EACAmmD,YAAa+mI,aAAU,EAAVA,EAAY7mM,QACzB0E,OAAAA,EACA86D,OAAAA,EACAnkD,YAAckrL,EACdA,OAAAA,EACA1pL,OAAQ,EACRpD,QAAS,EACTg1K,WAAY,EACZ70J,WAAW,EACX2pD,OAAQ,GACRnlD,UAAW,GACXvE,cAAe,EACfC,SAAU,EACV3+B,MAAO,MACJm9B,GACJ37B,CACH,CA+GC,OA/GAN,EAAAA,GAAAA,GAAAwlE,EAAA,EAAAnuE,IAAA,oBAAA6C,MAmED,WACE,IAAAwlD,EAGI/rD,KAAKsjB,MAFP5O,EAAMq3C,EAANr3C,OACA86D,EAAMzjB,EAANyjB,OAGF,GAAKA,EAAL,CAMA,IAAM7lD,EAAWw4B,GAAeztC,GAAQ,GAExC1U,KAAK0oC,YAAY/e,EAAU6lD,EAAQ96D,GAEX,oBAAb+oC,UACTA,SAAS/e,KAAKkwH,UAAU5lJ,IAAI,yBAP9B,MAFEwsB,QAAQt1B,KAAKm3C,GAAM4/C,SAWvB,GAAC,CAAAvzF,IAAA,uBAAA6C,MAMD,WACEvG,KAAK65I,WAAY,EAEO,oBAAbp8F,UACTA,SAAS/e,KAAKkwH,UAAUtvF,OAAO,yBAEnC,GAAC,CAAA57D,IAAA,SAAA6C,MAED,WACE,OACE6hG,MAAA1qD,cAACyiI,GAAQ,CACPnyK,MAAOo6F,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,aAAa+4F,eAAe,gBACxDU,QAAS1jG,KAAKikK,aAEd77D,MAAA1qD,cAAA,OAAK2qD,UAAU,UACbD,MAAA1qD,cAACy3J,GAAWn1M,KAAKsjB,QAIzB,KAACuuD,CAAA,CAxLwB,CACD25B,GAAAA,aAAS5C,GA0LnC,UAAe8wC,EAAAA,EAAAA,IAAW7nE,I,UE9LI,IASxBklI,IANL77I,EAAAA,EAAAA,KAAQ,SAAA3uD,GACP,MAAO,CACLtF,KAFuBsF,EAAfopB,KAAQ5K,QAIpB,GAC4C49E,CAAAC,GAA3CpB,KCzBD,CAAgB,cAAgB,4BDyBZ,CAAE0C,eAAe,GAAO+iC,EAAA79B,GAAA,SAAA89B,IAAAxyH,EAAAA,GAAAA,GAAAq8L,EAAA7pE,GAAA,IAqIzCyM,EA3GAq9D,E,IA1ByCr8L,G,EAAAo8L,E,maAU1C,SAAAA,EAAYr2L,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAA2qM,GACjBpqM,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,+BAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAqIE,SAACkU,GACf,IAAAkrC,EAAkCp/C,EAAK2W,MAAnBvT,GAAFg8C,EAAVp7C,WAAqBo7C,EAATh8C,WACpB0oC,GAAAA,YAAAA,kBAAsC1oC,GAAW,GAEjD0oC,GAAAA,KAAAA,kBAA+B,kBAAkB,GAEjD9rC,EAAK+9C,SAAS,CACZ7pC,OAAmB,SAAXA,EAAoB,YAAc,UAE7B,SAAXA,GAEF43B,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,kBAAoC,CACtD+F,OAAQ,UACR5G,SAAU,WACRtN,EAAK2kK,kBACP,EACA3qB,iBAAiB,GAGvB,KAACxtI,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,2CAAAe,GAAAsT,EAAAA,EAAAA,GAAAC,IAAAA,MAE2B,SAAAO,EAAOm1D,GAAK,IAAA3uB,EAAA3gC,EAAA,OAAApG,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OACtCsT,QAAQ4jB,IAAI,0BAA2Bm5C,GAC/B3uB,EAAmB2uB,EAAnB3uB,SAAmB2uB,EAAT1vE,KACVogB,EAAS1a,EAAK2W,MAAd+D,KACJ2gC,IAAa3gC,IAEf7M,GAAAA,GAAAA,SAAiBQ,SAASpC,KAAK6G,YAC7B,0BACA9S,EAAKsqM,2BAEPx/H,aAAa9qE,EAAKuqM,qBAClBvqM,EAAK+pF,cAAc,UACpB,wBAAAj1E,EAAAJ,OAAA,GAAAG,EAAA,KACF,gBAAAG,GAAA,OAAAjU,EAAAqS,MAAA,KAAAhf,UAAA,EAfA,KAeAoY,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEiB,SAAAC,IAAA,IAAAurC,EAAA5rC,EAAAs2L,EAAApnM,EAAAsX,EAAA,OAAApG,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OAAAmmD,EACiC9/C,EAAK2W,MAA9CzC,EAAM4rC,EAAN5rC,OAAQs2L,EAAW1qJ,EAAX0qJ,YAAapnM,EAAS08C,EAAT18C,UAAWsX,EAAIolC,EAAJplC,KAIxC1a,EAAK+9C,SAAS,CACZ0sJ,kBAAkB,IAGpB3+J,GAAAA,WAAAA,SACEpxB,GACA,WACE1a,EAAK+9C,SAAS,CACZ7pC,OAAQ,eAGVrG,GAAAA,GAAAA,SAAiBQ,SAASpC,KAAKmyC,UAC7B,0BACAp+C,EAAKsqM,2BAGPz8L,GAAAA,GAAAA,SAAiBQ,SAASpC,KAAKg+D,gBAAgBvvD,EAAM,CACnDnH,MAAO,oBACPjZ,KAAM,CACJ8I,UAAWonM,EACXv4H,SAAU7uE,KAGdpD,EAAKuqM,oBAAsB94L,YAAW,WAEpC5D,GAAAA,GAAAA,SAAiBQ,SAASpC,KAAK6G,YAC7B,0BACA9S,EAAKsqM,2BAEPtqM,EAAK+pF,cAAc71E,EACrB,GAAG,IACL,IACA,WACElU,EAAK+pF,cAAc71E,EACrB,GACA,KACD,wBAAAU,EAAAF,OAAA,GAAAH,EAAA,OACF/H,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEoB,SAAAkB,IAAA,OAAAlB,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,OAEnBmyC,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,uBAAyC,CAC3D4oF,QAAS,WACP,IACMsiE,EAA6B,MADlB3sJ,aAAaE,QAAQuB,GAAAA,gBAAAA,aAGtCnO,EAAK+9C,SAAS,CACZs7G,cAAAA,GAEJ,IACA,wBAAA3jJ,EAAAhB,OAAA,GAAAc,EAAA,OACHhJ,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEkB,SAAAa,IAAA,IAAA0nF,EAAAh0E,EAAAghB,EAAA6gK,EAAArnM,EAAA,OAAAiR,IAAAA,MAAA,SAAAe,GAAA,cAAAA,EAAA/Z,KAAA+Z,EAAA1b,MAAA,OAAAkjG,EAIb78F,EAAK+T,MAFP8U,EAAOg0E,EAAPh0E,QACQghB,EAAMgzD,EAAdnG,KAAQ7sD,OAAM6gK,EAGI5+J,GAAAA,KAAAA,YAAyB,mBAArCzoC,EAAOqnM,EAAPrnM,QACRwlB,EAAQt1B,KAAK+uG,GAAaz4D,EAAQ,QAAF9zC,OAAUsN,KAAW,wBAAAgS,EAAAX,OAAA,GAAAS,EAAA,OACtD3I,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MAEe,SAAA0B,IAAA,IAAA4mF,EAAAh2D,EAAAigD,EAAAq9E,EAAA36C,EAAA,OAAAj1G,IAAAA,MAAA,SAAAmC,GAAA,cAAAA,EAAAnb,KAAAmb,EAAA9c,MAAA,OAGd,OAHcijG,EACa58F,EAAK2W,MAAxBiwB,EAAKg2D,EAALh2D,MAAOigD,EAAO+V,EAAP/V,QACf7mF,EAAK+9C,SAAS,CAAEqmH,cAAc,IAC9B3tJ,EAAA9c,KAAA,EACuBmyC,GAAAA,YAAAA,cAAkClF,GAAM,OAAjD,OAARs9H,EAAQztJ,EAAA1B,KAAA0B,EAAA9c,KAAG,EACEmyC,GAAAA,YAAAA,YAAgCo4H,GAAS,OAAlD,GAAJ36C,EAAI9yG,EAAA1B,MACN8xE,EAAS,CAAFpwE,EAAA9c,KAAA,gBAAA8c,EAAA9c,KAAA,GAGHmyC,GAAAA,SAAAA,YAA6B+6C,EAAS,QAAS0iC,GAAK,QAE5DvpH,EAAK+9C,SAAS,CACZwrE,KAAAA,EACAr1G,OAAQ,iBACR,yBAAAuC,EAAA/B,OAAA,GAAAsB,EAAA,MA1PF/I,QAAQ4jB,IAAI,yBAEZ,IACMwoI,EAA6B,MADlB3sJ,aAAaE,QAAQuB,GAAAA,gBAAAA,aAWrC,OARDnO,EAAKuqM,qBAAsB,EAC3BvqM,EAAK2W,MAAQ,CACXzC,OAAQ,OACRtQ,OAAQ,CAAC,EACT2qK,cAAe,EACfnrK,UAAW,GACXi2J,cAAAA,EACAsxC,kBAAkB,GACnB3qM,CACH,CAkdC,OAldAN,EAAAA,GAAAA,GAAA0qM,EAAA,EAAArzM,IAAA,qBAAA6C,OAAAywM,GAAAh2L,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAiD,IAAA,IAAAwnF,EAAA6rG,EAAA12L,EAAA5Z,EAAAogB,EAAAmvB,EAAAhhB,EAAA7kB,EAAAZ,EAAA8tD,EAAAp0C,EAAA0tL,EAAA5jK,EAAAigD,EAAAgkH,EAAAv7L,EAAA,YAAAgF,IAAAA,MAAA,SAAAoD,GAAA,cAAAA,EAAApc,KAAAoc,EAAA/d,MAAA,OAQsB,GARtBolG,EASM1rG,KAAK0gB,MAAK62L,EAAA7rG,EAPZn+F,MACE6C,OAAUyQ,EAAM02L,EAAN12L,OAAQ5Z,EAAIswM,EAAJtwM,KAAMogB,EAAIkwL,EAAJlwL,KAElBmvB,EAAMk1D,EAAdrI,KAAQ7sD,OACRhhB,EAAOk2E,EAAPl2E,QACoBk2E,EAApB30D,SAAYk/C,SACJtlF,EAAU+6F,EAAlBzkG,KAAQ0J,WAIPkQ,IACmF,IAApF,CAAC,OAAQ,UAAW,UAAW,kBAAkBzG,QAAQyG,EAAO9Y,eAAqB,CAAAsc,EAAA/d,KAAA,QAEnC,OAAlDkvB,EAAQt1B,KAAK+uG,GAAaz4D,EAAQa,GAAM4/C,WAAU5yE,EAAApC,OAAA,iBAIvB,GAEd,UAFfpB,EAASA,EAAO9Y,gBAEoB,YAAX8Y,EAAoB,CAAAwD,EAAA/d,KAAA,aACvCW,GAAuB,IAAfA,EAAKhH,OAAY,CAAAokB,EAAA/d,KAAA,SAEmD,GADxEyJ,EAAY9I,EACZ42D,EAAaplB,GAAAA,YAAAA,WAA+B9nC,EAAYZ,GAAW,GAExD,CAAFsU,EAAA/d,KAAA,SACqC,OAAlDkvB,EAAQt1B,KAAK+uG,GAAaz4D,EAAQa,GAAM4/C,WAAU5yE,EAAApC,OAAA,yBAAAoC,EAAA/d,KAAA,GAI9BmyC,GAAAA,YAAAA,aAAiColB,EAAW7tD,SAAQ,QAApEyZ,EAAOpF,EAAA3C,KACPy1L,EAAcn3M,KAAK0gB,MAAMzZ,KAAK8I,UAAUvP,SAAS,OAEvDR,KAAK0qD,SAAS,CACZ7pC,OAAAA,EACAtQ,OAAQstD,EACRq9G,cAAezxJ,EACfpC,KAAAA,EACA1W,WAAAA,EACAZ,UAAAA,EACAonM,YAAAA,EACA3sC,SAAU,GAAF9nK,OAAKszF,MAAetzF,OAAG20C,GAAM6/C,UAAS,iBAAAx0F,OAAgBy0M,KAEhE1+J,GAAAA,WAAAA,SAA2B,WACzBx8B,EAAKyuC,SAAS,CACZ4sJ,kBAAkB,GAEtB,IAAEjzL,EAAA/d,KAAA,iBAEFkvB,EAAQt1B,KAAK+uG,GAAaz4D,EAAQa,GAAM4/C,WAAU,WAGvC,YAAXp2E,GAAmC,mBAAXA,EAA2B,CAAAwD,EAAA/d,KAAA,aACjDW,IAAQA,EAAKhH,OAAM,CAAAokB,EAAA/d,KAAA,SAWpB,GAVGitC,EAAQtsC,EACRusF,GAAU,EACC,mBAAX3yE,IAEuB,KADnB22L,EAAYvwM,EAAKxG,MAAM,MACfR,QACZuzF,EAAUgkH,EAAU,GACpBjkK,EAAQikK,EAAU,IAElB59L,QAAQ4jB,IAAI,kCAGK,KAAjB+V,EAAMtzC,OAAa,CAAAokB,EAAA/d,KAAA,SACrB8X,YAAW,WAETq6B,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,sBAAwC,CAC1D4wB,KAAM6H,EACNozG,iBAAiB,EACjBjjD,QAAS,WACPluE,EAAQt1B,KAAK+uG,GAAaz4D,EAAQa,GAAM6+C,MAC1C,GAEJ,GAAG,KAAI7xE,EAAA/d,KAAA,iBAKK,OALL+d,EAAApc,KAAA,GAAAoc,EAAAZ,GAGLzjB,KAAIqkB,EAAAilB,GAEAzoB,EAAMwD,EAAA/d,KAAA,GACQmyC,GAAAA,YAAAA,WAA+BlF,GAAM,QAAAlvB,EAAAgtB,GAAAhtB,EAAA3C,KAAA2C,EAAAitB,GACnDkiD,EAAOnvE,EAAA47I,GACA1sH,EAAKlvB,EAAAozL,GAAA,CAHZ52L,OAAMwD,EAAAilB,GACNwjC,OAAMzoD,EAAAgtB,GACNmiD,QAAOnvE,EAAAitB,GACPiC,MAAKlvB,EAAA47I,IAAA57I,EAAAqzL,GAEP,WACEt5L,YAAW,WAETq6B,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,sBAAwC,CAC1DgyD,OAAQv5B,EACRozG,iBAAiB,EACjBjjD,QAAS,WACPluE,EAAQt1B,KAAK+uG,GAAaz4D,EAAQa,GAAM6+C,MAC1C,GAEJ,GAAG,IACL,EAAC7xE,EAAAZ,GAlBEinC,SAAQrpD,KAAAgjB,EAAAZ,GAAAY,EAAAozL,GAAApzL,EAAAqzL,IAAArzL,EAAA/d,KAAA,iBAAA+d,EAAApc,KAAA,GAAAoc,EAAAszL,GAAAtzL,EAAA,UAqBbzK,QAAQ4jB,IAAI,mBAAkB,yBAAAnZ,EAAAhD,OAAA,GAAA6C,EAAA,oBAKvC,kBAAA8yL,EAAAj3L,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,uBAAA6C,OAAAozI,GAAA34H,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAA4C,IAAA,OAAA5C,IAAAA,MAAA,SAAAgD,GAAA,cAAAA,EAAAhc,KAAAgc,EAAA3d,MAAA,OAEEkU,GAAAA,GAAAA,SAAiBQ,SAASpC,KAAK6G,YAC7B,0BACAzf,KAAKi3M,2BAEPx/H,aAAaz3E,KAAKk3M,qBAAoB,wBAAAjzL,EAAA5C,OAAA,GAAAwC,EAAA,UACvC,kBAAA81H,EAAA55H,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,SAAA6C,MA2HD,WAAS,IAAA8V,EAAA,KACPq4F,EAcI10G,KAAKsjB,MAbPzC,EAAM6zF,EAAN7zF,OAEAtQ,EAAMmkG,EAANnkG,OACA2qK,EAAaxmE,EAAbwmE,cACA1Q,EAAQ91D,EAAR81D,SACA8sC,EAAgB5iG,EAAhB4iG,iBACAF,EAAgB1iG,EAAhB0iG,iBAGAQ,GADYljG,EAAZmjG,aACcnjG,EAAdkjG,gBACAE,EAAepjG,EAAfojG,gBAEA9xC,EAAatxD,EAAbsxD,cAGF,OACE59D,KAAAA,cAAA,eACc,eAAXvnF,GACCunF,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,UACEA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,0BACH+4F,eAAe,0CAGnBoF,KAAAA,cAAA,UACEA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,sBACH+4F,eAAe,kCAKV,SAAXniF,GAAgC,YAAXA,IACrBunF,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,UACEA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,0BACH+4F,eAAe,0CAInBoF,KAAAA,cAAA,WACEA,KAAAA,cAAA,aACEA,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,sBAAsB+4F,eAAe,qBAE5DoF,KAAAA,cAAA,cAAS73F,EAAOP,UAElBo4F,KAAAA,cAAA,WACEA,KAAAA,cAAA,aACEA,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,sBAAsB+4F,eAAe,YAE5DoF,KAAAA,cAAA,cAAQ,IAAE8yE,EAAc,SAEzBlV,EACC59D,KAAAA,cAAAA,KAAAA,SAAA,KACGkvG,EACCF,EACEhvG,KAAAA,cAACwD,GAAM,CAACrB,OAAK,GACXnC,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,yBACH+4F,eAAe,4CAInBoF,KAAAA,cAACwD,GAAM,CAACrB,OAAK,EAACjC,QAAStoG,KAAK+3M,iBAC1B3vG,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,wBACH+4F,eAAe,2BAKrBoF,KAAAA,cAACwD,GAAM,CAACrB,OAAK,GACXnC,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,4BACH+4F,eAAe,oCAMvBoF,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAA,WACEA,KAAAA,cAAA,cACEA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,4BACH+4F,eAAe,6DAIrBoF,KAAAA,cAAA,WACEA,KAAAA,cAAA,aACEA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,yBACH+4F,eAAe,iDAIrBoF,KAAAA,cAACwD,GAAM,CAACrB,OAAK,EAACjC,QAAStoG,KAAKg4M,oBAC1B5vG,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,2BACH+4F,eAAe,2BAOzBgjE,GACA59D,KAAAA,cAAA,OAAKC,UAAU,iBACbD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,uCACH+4F,eAAe,wHAKiB,mBAAXniF,GACvBunF,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,UACEA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,uBACH+4F,eAAe,8BAGnBoF,KAAAA,cAAA,UACEA,KAAAA,cAAA,UACEE,QAAS,WACPjsF,EAAKquC,SAAS,CAAEktJ,gBAAiBA,GACnC,GAEAxvG,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,wBAAwB+4F,eAAe,uBAG/D40G,GACCxvG,KAAAA,cAAA,WACEA,KAAAA,cAAA,YAAO3uF,KAAKC,UAAU1Z,KAAKsjB,MAAMwpD,OAAO7iC,MAAO,KAAM,KAGzDm+D,KAAAA,cAAA,UACEA,KAAAA,cAAA,UACEE,QAAS,WACPjsF,EAAKquC,SAAS,CAAEotJ,iBAAkBA,GACpC,GAEA1vG,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,yBACH+4F,eAAe,wBAIpB80G,GACC1vG,KAAAA,cAAA,WACEA,KAAAA,cAAA,YAAO3uF,KAAKC,UAAU1Z,KAAKsjB,MAAMwpD,OAAO9iC,OAAQ,KAAM,IACtDo+D,KAAAA,cAAA,YAAO3uF,KAAKC,UAAU1Z,KAAKsjB,MAAMwpD,OAAQ,KAAM,KAGnDs7B,KAAAA,cAAA,WACEA,KAAAA,cAACwD,GAAM,CAACrB,OAAK,EAACjC,QAAStoG,KAAK6sJ,eAC1BzkD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,sBACH+4F,eAAe,4BAOf,iBAAXniF,GACCunF,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,uBAAuB+4F,eAAe,6BAC3DoF,KAAAA,cAAA,UACEA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,uBACH+4F,eAAe,kDAGnBoF,KAAAA,cAAA,WACEA,KAAAA,cAACwD,GAAM,CAACrB,OAAK,EAACjC,QAAStoG,KAAKsxK,kBAC1BlpE,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,4BACH+4F,eAAe,wBAIrBoF,KAAAA,cAAA,WACEA,KAAAA,cAAA,YAAO3uF,KAAKC,UAAU1Z,KAAKsjB,MAAM4yG,KAAM,KAAM,OAItC,cAAXr1G,GAAqC,UAAXA,IAC1BunF,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,UACEA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,0BACH+4F,eAAe,0CAGP,cAAXniF,GACCunF,KAAAA,cAAA,UACEA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,8BACH+4F,eAAe,8EAIT,UAAXniF,GACCunF,KAAAA,cAAA,UACEA,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,0BAA0B+4F,eAAe,oBAGtD,cAAXniF,GAA0BunF,KAAAA,cAAA,YAAOoiE,GAClCpiE,KAAAA,cAAA,WACEA,KAAAA,cAACwD,GAAM,CAACrB,OAAK,EAACjC,QAAStoG,KAAKsxK,kBAC1BlpE,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,gCACH+4F,eAAe,+BAQ/B,KAAC+zG,CAAA,CA5eyC,CAC1BtmE,GAAAA,gBAAat3H,EAAAA,EAAAA,GAAAi2F,GAAA,YAGV,CACjB55E,QAASs2E,KAAAA,OACT/0D,SAAU+0D,KAAAA,OACVzI,KAAMyI,KAAAA,OAAAA,aAPkClD,GAQzCwG,MAAAxG,KAAAA,GAueH,UAAegF,EAAAA,GAAAA,IAAWmpG,I,OEvgBY,I,GAajBkB,GADpB9tG,KCbD,CAAiB,EDaG,CAAED,eAAe,GAAOvB,CAAAC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAAu9L,EAAA5sG,GAAA,I,IAAA1wF,G,EAAAs9L,E,maAG1C,SAAAA,EAAYv3L,GAAO,IAAA/T,EAIhB,OAJgBP,EAAAA,GAAAA,GAAA,KAAA6rM,IACjBtrM,EAAAgO,EAAAtZ,KAAA,KAAMqf,IACD4C,MAAQ,CACX40L,UAAU,GACXvrM,CACH,CA0BC,OA1BAN,EAAAA,GAAAA,GAAA4rM,EAAA,EAAAv0M,IAAA,SAAA6C,MAED,WAAS,IAAA0V,EAAA,KACPutF,EAIIxpG,KAAK0gB,MAHP1S,EAAKw7F,EAALx7F,MACAk5C,EAAOsiD,EAAPtiD,QACAixJ,EAAQ3uG,EAAR2uG,SAGMD,EAAal4M,KAAKsjB,MAAlB40L,SAER,OACE9vG,KAAAA,cAAA,WAASE,QAAS4vG,EAChB,WACEj8L,EAAKyuC,SAAS,CAAEwtJ,UAAU,GAC5B,EAEA,WACEj8L,EAAKyuC,SAAS,CAAEwtJ,UAAU,IAC1BC,GAAYA,GACb,GAED/vG,KAAAA,cAAA,eAAUp6F,GACTk5C,EAGP,KAAC+wJ,CAAA,CAlCyC,CACJzsG,GAAAA,aAAS5C,GEiOjD,SAvOCuB,KCRD,CAAgB,cAAc,4BAA4B,gBAAgB,4BDQtD,CAAED,eAAe,GAAOvB,CAAAC,GAAA,SAAAC,IAAAnuF,EAAAA,GAAAA,GAAA+lK,EAAA53E,GAAA,I,IAAAluF,G,EAAA8lK,E,maAE1C,SAAAA,EAAY//J,GAAO,OAAAtU,EAAAA,GAAAA,GAAA,KAAAq0K,GAAA9lK,EAAAtZ,KAAA,KACXqf,EACR,CA+NC,OA/NArU,EAAAA,GAAAA,GAAAo0K,EAAA,EAAA/8K,IAAA,SAAA6C,MAED,WACE,OACE6hG,KAAAA,cAAA,OAAKC,UAAU,eACbD,KAAAA,cAAA,eACEA,KAAAA,cAAA,MAAIC,UAAU,iBACZD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,gBACH+4F,eAAe,SAGnBoF,KAAAA,cAAC6vG,GAAU,CACTjqM,MACEo6F,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,oBACH+4F,eAAe,0BAGnB97C,QACEkhD,KAAAA,cAAA,WACEA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,qBACH+4F,eAAe,yIAIrBm1G,SAAU,WAAQx1J,GAAAA,aAAAA,UAAgC,wBAAyB,IAE7EylD,KAAAA,cAAC6vG,GAAU,CACTjqM,MACEo6F,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,oBACH+4F,eAAe,sBAGnB97C,QACEkhD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,sBACH+4F,eAAe,2GAGnBm1G,SAAU,WAAQx1J,GAAAA,aAAAA,UAAgC,gBAAiB,IAErEylD,KAAAA,cAAC6vG,GAAU,CACTjqM,MACEo6F,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,gBACH+4F,eAAe,4CAGnB97C,QACEkhD,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAA,WACEA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,kBACH+4F,eAAe,wFACfl9F,OAAQ,CACN8rB,MAAOtD,GAAAA,QAAiB,OAAS,WAIvC85E,KAAAA,cAAA,WACEA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,oBACH+4F,eAAe,iFAGnBoF,KAAAA,cAAA,WACEA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,kBACH+4F,eAAe,kDAGnBoF,KAAAA,cAAA,WACEA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,eACH+4F,eAAe,sCACfl9F,OAAQ,CACN2wC,KAAM2xD,KAAAA,cAAA,KAAGkK,KAAMj7D,GAAM0gD,UAAWkS,OAAO,UAAS,YAItD7B,KAAAA,cAAA,WACEA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,kBACH+4F,eAAe,qDAGnBoF,KAAAA,cAAA,WACG,KACDA,KAAAA,cAAA,KAAGkK,KAAK,8EAA8ErI,OAAO,UAC3F7B,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,qBACH+4F,eAAe,yBAMzBm1G,SAAU,WAAQx1J,GAAAA,aAAAA,UAAgC,cAAe,IAEnEylD,KAAAA,cAAC6vG,GAAU,CACTjqM,MACEo6F,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,oBACH+4F,eAAe,8DACfl9F,OAAQ,CACN8rB,MAAOtD,GAAAA,QAAiB,OAAS,UAIvC44B,QACEkhD,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAA,WACEA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,wBACH+4F,eAAe,8IACfl9F,OAAQ,CACN8rB,MAAOtD,GAAAA,QAAiB,OAAS,WAIvC85E,KAAAA,cAAA,WACEA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,wBACH+4F,eAAe,+EAGnBoF,KAAAA,cAAA,WACEA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,wBACH+4F,eAAe,sJACfl9F,OAAQ,CACN8rB,MAAOtD,GAAAA,QAAiB,OAAS,YAM3C6pL,SAAU,WAAQx1J,GAAAA,aAAAA,UAAgC,qDAAsD,IAE1GylD,KAAAA,cAAC6vG,GAAU,CACTjqM,MACEo6F,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,oBACH+4F,eAAe,kEAGnB97C,QACEkhD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,sBACH+4F,eAAe,0KAGnBm1G,SAAU,WAAQx1J,GAAAA,aAAAA,UAAgC,qDAAsD,IAE1GylD,KAAAA,cAAC6vG,GAAU,CACTjqM,MACEo6F,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,oBACH+4F,eAAe,uDAGnB97C,QACEkhD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,sBACH+4F,eAAe,qBAGnBm1G,SAAU,WAAQx1J,GAAAA,aAAAA,UAAgC,qDAAsD,IAE1GylD,KAAAA,cAAC6vG,GAAU,CACTjqM,MACEo6F,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,oBACH+4F,eAAe,iDAGnB97C,QACEkhD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,sBACH+4F,eAAe,kEAGnBm1G,SAAU,WAAQx1J,GAAAA,aAAAA,UAAgC,8CAA+C,IAEnGylD,KAAAA,cAAC6vG,GAAU,CACTjqM,MACEo6F,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,oBACH+4F,eAAe,8BAGnB97C,QACEkhD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,sBACH+4F,eAAe,+EAGnBm1G,SAAU,WAAQx1J,GAAAA,aAAAA,UAAgC,4BAA6B,IAEjFylD,KAAAA,cAAC6vG,GAAU,CACTjqM,MACEo6F,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,yBACH+4F,eAAe,oCAGnB97C,QACEkhD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,gCACH+4F,eAAe,gOACfl9F,OAAQ,CACN8rB,MAAOtD,GAAAA,QAAiB,OAAS,UAIvC6pL,SAAU,WAAQx1J,GAAAA,aAAAA,UAAgC,kCAAmC,KAK/F,KAAC89H,CAAA,CAnOyC,CAC1Br4E,KAAAA,aAAeQ,GEVjC,GAAe,IAA0B,wCCAzC,GAAe,IAA0B,uC,OCiBzC,IAAM/a,KAAWx0E,aAAaE,QAAQuB,GAAAA,aAAAA,QAQjBs9L,GADpBjuG,KCvBD,CAAgB,gBAAgB,4BAA4B,gBAAgB,2BAA2B,YAAc,2BAA2B,qBAAuB,2BAA2B,kBAAoB,2BAA2B,eAAiB,2BAA2B,cAAc,2BAA2B,MAAQ,2BAA2B,KAAO,2BAA2B,aAAa,2BAA2B,OAAS,2BAA2B,cAAc,2BAA2B,kBAAoB,2BAA2B,UAAY,2BAA2B,iBAAmB,6BDuBrlB,CAAED,eAAe,GAAOvB,CAAAC,GAAA,SAAAC,IAAAnuF,EAAAA,GAAAA,GAAA09L,EAAAvvG,GAAA,I,IAAAluF,G,EAAAy9L,E,maAI1C,SAAAA,EAAY13L,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAAgsM,GACjBzrM,EAAAgO,EAAAtZ,KAAA,KAAMqf,GAEN,IAAMklI,EAAcntG,GAAAA,KAAAA,aAKnB,OAHD9rC,EAAK2W,MAAQ,CACXsiI,YAAAA,EACAyyD,WAAY,IACb1rM,CACH,CAiQC,OAjQAN,EAAAA,GAAAA,GAAA+rM,EAAA,EAAA10M,IAAA,oBAAA6C,MAED,WAAoB,IAAA0V,EAAA,KACV2pI,EAAgB5lJ,KAAKsjB,MAArBsiI,YAERjjG,GAAAA,aAAAA,eAEAijG,EAAY1iJ,SAAQ,SAACqN,GACfA,EAAOoc,UACT1Q,EAAKyuC,UAAS,SAACpnC,GAAK,MAAM,CACxB+0L,WAAY,GAAF31M,QAAA0mB,EAAAA,EAAAA,GAAM9F,EAAM+0L,YAAU,CAAE9nM,EAAOoc,WAC1C,GAEL,GACF,GAwBA,CAAAjpB,IAAA,kBAAA6C,MAEA,WACEo8C,GAAAA,aAAAA,SAA+B,oBAC/Bl3B,OAAO7C,KAAKyuB,GAAM8gD,UACpB,GAAC,CAAAz0F,IAAA,SAAA6C,MAED,WACE,IAAQ8xM,EAAer4M,KAAKsjB,MAApB+0L,WAER,OACEjwG,KAAAA,cAAA,OAAKC,UAAU,iBACbD,KAAAA,cAAA,WAASC,UAAU,eACjBD,KAAAA,cAAA,MAAIC,UAAU,iBACZD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,iBACH+4F,eAAe,+BACfl9F,OAAQ,CACNwyM,UAAW,cAIjBlwG,KAAAA,cAAA,KAAGC,UAAU,oBACXD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,qBACH+4F,eAAe,kIACfl9F,OAAQ,CACN2oD,SAAU,MACV78B,MAAQtD,GAAAA,QAAc,cACtBiqL,SAAWjqL,GAAAA,QAAc,iCACzBmoB,KAAM2xD,KAAAA,cAAA,KAAGkK,KAAMj7D,GAAMygD,gBAAiBmS,OAAO,UAAS,YAM9D7B,KAAAA,cAAA,eACEA,KAAAA,cAAA,MAAIC,UAAU,iBACZD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,2BACH+4F,eAAe,sDAInBoF,KAAAA,cAAA,OAAKC,UAAU,wBACbD,KAAAA,cAAA,OAAKC,UAAU,oBAAoB+D,IAAKve,GAAS2qH,GAAqBC,GAAqBnsG,IAAI,oBAC/FlE,KAAAA,cAACwD,GAAM,CAACrB,OAAK,EAACjC,QAAStoG,KAAK04M,iBAC1BtwG,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,yBACH+4F,eAAe,8BAGnBoF,KAAAA,cAAA,KACEC,UAAU,iBACV4B,OAAO,SACPqI,KAAK,2FAELlK,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,yBACH+4F,eAAe,kCAIlBq1G,EAAWp4M,OACVmoG,KAAAA,cAAA,OAAKC,UAAU,qBACZgwG,EAAWj3M,KAAI,SAACwwB,EAAOrqB,GACtB,OACEqqB,EAAMvX,SAAS,SACfuX,EAAMvX,SAAS,QAGb+tF,KAAAA,cAACstC,GAAAA,GAAI,CAAChyI,IAAK6D,EAAOopC,GAAE,gBAAAjuC,OAAkBkvB,GAASy2E,UAAU,aACtDz2E,EAAM/U,eAKN,IACT,KAEA,OAwIRurF,KAAAA,cAACq4E,GAAG,MAGV,KAAC23B,CAAA,CA9QyC,CACEhwG,KAAAA,aAAeQ,GExB7D,MCAA,IAAgB,YAAc,2BAA2B,OAAS,2BAA2B,SAAW,2BAA2B,KAAO,2BAA2B,IAAM,2BAA2B,KAAO,2BAA2B,QAAU,2BAA2B,MAAQ,2BAA2B,eAAiB,2BAA2B,eAAiB,2BAA2B,cAAgB,2BAA2B,aAAe,4B,OCcpa,IAWxB+vG,GADLnxG,KAAWrjD,GAAQ,CAAE+lD,eAAe,GAAOvB,CAAAC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAAi+L,EAAAttG,GAAA,I,IAAA1wF,G,EAAAg+L,E,maAK1C,SAAAA,EAAYj4L,GAAqB,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAAusM,GAC/BhsM,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,YAJH,IAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBACQ,OAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,aAef,SAACm8F,GACX,KA6CD3vF,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAwBmB,SAACmP,EAAqBuvC,EAAqBF,GAC7D,OAAIrvC,EACKssF,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,eAAe+4F,eAAe,aAExD33C,EACK+8C,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,eAAe+4F,eAAe,aAExD73C,EACKi9C,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,gBAAgB+4F,eAAe,YAGtD,EACT,IA5FE,IACO41G,EACHl4L,EADFm3H,IAMD,OAHDlrI,EAAKksM,qBAAuBlsM,EAAKmsM,gBAAgBt5L,MAAI3E,EAAAA,GAAAA,GAAAlO,IACrDA,EAAK2W,MAAQ,CACXs1L,UAAAA,GACDjsM,CACH,CA6OC,OA7OAN,EAAAA,GAAAA,GAAAssM,EAAA,EAAAj1M,IAAA,kBAAA6C,MAkDD,SAAgBU,GACd,GAAKjH,KAAK62G,SAAV,CAEA,IACElgG,EAIE1P,EAJF0P,KAEM6wC,EAEJvgD,EAHF0P,KACE1M,GAOAjK,KAAKsjB,MAHPs1L,UACE3uM,KAGau9C,IACf5tC,QAAQ4jB,IAAI,6BACZx9B,KAAK0qD,SAAS,CACZkuJ,UAAW54M,KAAK0gB,MAAMq4L,kBAAkBpiM,KAhBlB,CAmB5B,GAAC,CAAAjT,IAAA,oBAAA6C,MAgBD,WAeE,IAAA06L,EAQIjhM,KAAK0gB,MAPPm3H,IACE/7H,EAAUmlL,EAAVnlL,WACAuvC,EAAU41I,EAAV51I,WACAF,EAAa81I,EAAb91I,cACAC,EAAa61I,EAAb71I,cACE61I,EAAFh3L,GAIC6R,GAAeuvC,GAAeF,GAAkBC,GAEnD5wC,GAAAA,GAAAA,SAAiButC,GAAG,kBAAmB/nD,KAAK64M,qBAEhD,GAAC,CAAAn1M,IAAA,uBAAA6C,MAED,WACEqT,QAAQ4jB,IAAI,qBACZx9B,KAAK62G,UAAW,EAEhBr8F,GAAAA,GAAAA,SAAiBk3F,IAAI,kBAAmB1xG,KAAK64M,qBAC/C,GAAC,CAAAn1M,IAAA,SAAA6C,MAED,WAAS,IAAA00I,EACPzxC,EAGIxpG,KAAK0gB,MAGPk4L,GALWpvG,EAAXquC,IACcruC,EAAdnG,KAAQ7sD,OAKNx2C,KAAKsjB,MADPs1L,WAIAxxJ,EAeEwxJ,EAfFxxJ,UACAhH,EAcEw4J,EAdFx4J,YACA+G,EAaEyxJ,EAbFzxJ,WACkBrhD,EAYhB8yM,EAZFxuJ,iBACA2F,EAWE6oJ,EAXF7oJ,cACA1E,EAUEutJ,EAVFvtJ,WACA9C,EASEqwJ,EATFrwJ,KACAtB,EAQE2xJ,EARF3xJ,QACA9G,EAOEy4J,EAPFz4J,aACArkC,EAME88L,EANF98L,WACAsvC,EAKEwtJ,EALFxtJ,cACAnhD,EAIE2uM,EAJF3uM,GAEAkhD,GAEEytJ,EAHFzuJ,aAGEyuJ,EAFFztJ,eACAl3B,EACE2kL,EADF3kL,KAGF,GAAIA,GAAO,GAAKm3B,EAAe,OAAO,KAEtC,IAAMgnD,EAAgBtsG,GAAUiqD,EAAgB,EAC1CsiD,EAAgBv2F,GAAcuvC,EAE9B3W,EAAOxV,KAAKivB,MAAQ,IAEtB+sF,EAAkB,KAClBp1I,IAEFo1I,EAAkBr9F,KAAAA,KAAY/3C,EAAO4oD,UAAYha,GAAMoJ,OAAO,wBAGhE,IAAMq9F,EAAUl0F,EAAO,GAAAvkD,OAClB20C,GAAM2/C,UAAS,KAAAt0F,OAAIuH,GAAE,GAAAvH,OAErB20C,GAAM0/C,WAAU,KAAAr0F,OAAIuH,GAKzB,OAHAm9C,EAAY,IAAI/pB,GAAAA,EAAU+pB,GAC1BD,EAAa,IAAI9pB,GAAAA,EAAU8pB,GAGzBihD,KAAAA,cAAA,MAAI1kG,IAAKuG,GACNgqB,GAAQ,GACPm0E,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,MAAIitE,QAAS,GAAG,iBAKnBphJ,EAAO,GACNm0E,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAAA,UACG7/C,EAAI,GAAA7lD,OACEykD,EAAWsnB,QAAQ,GAAE,KAAA/rE,OAAIy9C,EAAatjC,eAAa,GAAAna,OACnD0kD,EAAUqnB,QAAQ,GAAE,KAAA/rE,OAAI09C,EAAYvjC,gBAE7CurF,KAAAA,cAAA,UACGn0E,GAEHm0E,KAAAA,cAAA,UACG7/C,EAAI,GAAA7lD,OACE0kD,EAAUqnB,QAAQ,GAAE,KAAA/rE,OAAI09C,EAAYvjC,eAAa,GAAAna,OACjDykD,EAAWsnB,QAAQ,GAAE,KAAA/rE,OAAIy9C,EAAatjC,gBAE/CurF,KAAAA,cAAA,UACwB,OAApB8yC,GACA9yC,KAAAA,cAACuB,GAAAA,SAAQ,KAENuxC,EAAgBz6I,MAAM,KAAKW,KAAI,SAAC8D,EAAMxB,GAAG,OACxC0kG,KAAAA,cAACuB,GAAAA,SAAQ,CAACjmG,IAAKA,GAAK,IAAEwB,EAAgB,MAK9CkjG,KAAAA,cAAA,UACEA,KAAAA,cAAA,OACEgC,UAAWe,MAAE8vC,EAAA,IAAA9hI,EAAAA,EAAAA,GAAA8hI,EACV92F,GAAAA,eAAwBroC,IAAU3C,EAAAA,EAAAA,GAAA8hI,EAClC92F,GAAAA,eAAwBkH,IAAUlyC,EAAAA,EAAAA,GAAA8hI,EAClC92F,GAAAA,eAAwBroC,IAAeuvC,GAAcF,GAAa8vF,KAGpEj7I,KAAKo7I,kBAAkBt/H,EAAYuvC,EAAYF,IAE9CknD,GACAjK,KAAAA,cAAA,OAAKC,UAAU,gBACZ+J,EACChK,KAAAA,cAACM,GAAK,CAACh6C,SAA4B,IAAlB5oD,EAAO4oD,SAAiBs6C,cAAehpG,KAAK8tD,YAE7Ds6C,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,eAAe+4F,eAAe,4BAM7DoF,KAAAA,cAAA,UACEA,KAAAA,cAACstC,GAAAA,GAAI,CAAC/kG,GAAIwqG,GACR/yC,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,eAAe+4F,eAAe,YAOjE,KAAC21G,CAAA,CA7PyC,CACtBntG,GAAAA,aAAS5C,GA+P/B,UAAegF,EAAAA,GAAAA,IAAW+qG,ICzR1B,GAAe,IAA0B,4BCAzC,GAAe,IAA0B,6B,sOC8BU,IAG7CK,GADLxxG,KL/BD,CAAgB,mBAAmB,2BAA2B,UAAY,2BAA2B,aAAa,2BAA2B,kBAAkB,2BAA2B,iBAAiB,2BAA2B,kBAAkB,2BAA2B,gBAAgB,2BAA2B,gBAAgB,2BAA2B,sBAAsB,2BAA2B,6BAA6B,2BAA2B,uBAAuB,2BAA2B,QAAU,4BAA4B,YAAc,2BAA2B,iBAAmB,4BAA4B,eAAiB,2BAA2B,gBAAgB,4BAA4B,YAAY,2BAA2B,kBAAkB,4BAA4B,oBAAoB,4BAA4B,QAAU,2BAA2B,eAAiB,2BAA2B,cAAgB,2BAA2B,YAAc,2BAA2B,aAAe,2BAA2B,YAAc,4BK+BxiC,CAAE0C,eAAe,GAAOvB,CAAAC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAAs+L,EAAA3tG,GAAA,IAiSzCsuC,EAhGAxM,E,IAjMyCxyH,G,EAAAq+L,E,maAO1C,SAAAA,EAAYt4L,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAA4sM,GACjBrsM,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,YANH,IAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,4BACa,OAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBACT,OAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBACR,IAAKwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBA2SH,WACnB,IAAA68F,EAOI78F,EAAK+T,MANP8U,EAAOg0E,EAAPh0E,QAAO2kH,EAAA3wC,EACPj8F,MACE6C,OACEq+C,SAAAA,OAAQ,IAAA0rF,EAAG,MAAKA,EAKtB3kH,EAAQt1B,KAAK,GAADwC,OAAI20C,GAAMphB,aAAY,KAAAvzB,OAAI+rD,EAAS5xC,eACjD,KAAC1D,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAEoB,WACnB8rC,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,uBAAyC,CAC3D4oF,QAAS,WACP,IACMsiE,EAA8B,MADnB3sJ,aAAaE,QAAQuB,GAAAA,gBAAAA,aAGtCnO,EAAK+9C,UAAS,iBAAO,CACnBs7G,cAAAA,EACD,GACH,GAEJ,IA9TE,IAAAjsB,EAOIr5H,EANFnT,MACE6C,OAAM4pI,EAAAD,EACJnoH,MAAOqnL,OAAW,IAAAj/D,EAAG,YAAWA,EAAAk/D,EAAAn/D,EAChCtrF,SAAAA,OAAQ,IAAAyqJ,EAAG,MAAKA,EAMhBlzC,EAA8B,MADnB3sJ,aAAaE,QAAQuB,GAAAA,gBAAAA,aAEhC61K,EAAkBt3K,aAAaE,QAAQuB,GAAAA,aAAAA,gBAyB5C,OAvBDnO,EAAKwsM,0BAA4BxsM,EAAKysM,qBAAqB55L,MAAI3E,EAAAA,GAAAA,GAAAlO,IAC/DA,EAAKksM,qBAAuBlsM,EAAKmsM,gBAAgBt5L,MAAI3E,EAAAA,GAAAA,GAAAlO,IAGrDA,EAAK2W,MAAQ,CACX++C,SAAU,GACVg3I,WAAY,CAAC,EACbJ,YAAAA,EACAxqJ,SAAAA,EACA6qJ,WAAY,KACZC,YAAa,EACbC,YAAa,KACbC,aAAc,EACd50C,WAAY,EACZv5I,mBAAmB,EACnBqlK,gBAAAA,EACA+oB,gBAAgB,EAChBC,iBAAiB,EACjBC,gBAAgB,EAChBC,iBAAiB,EACjBC,kBAAkB,EAClBC,aAAc,EACd/zC,cAAAA,GACDr5J,CACH,CAy8BC,OAz8BAN,EAAAA,GAAAA,GAAA2sM,EAAA,EAAAt1M,IAAA,oBAAA6C,MAED,SAAkBoQ,GAChB,IACE1M,EAaE0M,EAbF1M,GACAs+C,EAYE5xC,EAZF4xC,KAaF,OADI5xC,EAXFswC,Q,uWAYF5vC,CAAA,CACEpN,GAAAA,EACAs+C,KAAAA,EACAnI,YAJEzpC,EAVFypC,YAeAD,aALExpC,EATFwpC,aAeAiH,UANEzwC,EARFywC,UAeAD,WAPExwC,EAPFwwC,WAeA2B,oBAREnyC,EANFmyC,oBAeAN,cATE7xC,EALF6xC,cAeAC,eAVE9xC,EAJF8xC,gBAIE9xC,EAHF4G,KACE+F,MAeN,GAAC,CAAA5f,IAAA,2BAAA6C,MAED,WAA2B,IAAA0V,EAAA,KACzB8vC,EAKI/rD,KAAKsjB,MAJP21L,EAAWltJ,EAAXktJ,YACAxqJ,EAAQ1C,EAAR0C,SACAnjC,EAAiBygC,EAAjBzgC,kBACAouL,EAAc3tJ,EAAd2tJ,eAGF,GAAK15M,KAAK62G,SAEV,OAAIvrF,IAAsBouL,EAKjBt7L,YAAW,WAChBnC,EAAK+9L,0BACP,GAAG,UAELh6M,KAAK0qD,SAAS,CACZp/B,mBAAmB,EACnBouL,gBAAgB,IACf,WACD,IAAMJ,EAAa7gK,GAAAA,KAAAA,UAAuB,CAAE9uB,SAAU8kC,IAEhD+qJ,EAAc/gK,GAAAA,KAAAA,UAAuB,CACzC9uB,SAAUsvL,EACVnjJ,WAAW,EACXiH,YAAavwB,GAAAA,WAEf,GAAKgtK,EAAL,CAWA,IAAMS,EAAgBxhK,GAAAA,KAAAA,UAAuB,CAC3C9uB,SAAU6vL,EAAY3kM,WACtBihD,WAAW,EACXiH,YAAavwB,GAAAA,WAGfvwB,EAAKyuC,SAAS,CACZ4uJ,WAAAA,EACAW,cAAAA,EACAT,YAAAA,IACDx4L,EAAAA,EAAAA,GAAAC,IAAAA,MAAE,SAAAO,IAAA,IAAA+3L,EAAA10C,EAAA40C,EAAA,OAAAx4L,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,cAAAmb,EAAAnb,KAAA,EACyBmyC,GAAAA,KAAAA,mBAAgC6gK,GAAW,OAApD,OAAXC,EAAW93L,EAAAC,KAAAD,EAAAnb,KAAG,EACKmyC,GAAAA,KAAAA,mBAAgCwhK,GAAc,OAAvD,OAAVp1C,EAAUpjJ,EAAAC,KAAAD,EAAAnb,KAAG,EACQmyC,GAAAA,KAAAA,mBAAgC+gK,GAAY,OAAjEC,EAAYh4L,EAAAC,KAIdzF,EAAK46F,UACP56F,EAAKyuC,SAAS,CACZ6uJ,YAAAA,EACA10C,WAAAA,EACA40C,aAAAA,EACAnuL,mBAAmB,IAEtB,yBAAA7J,EAAAJ,OAAA,GAAAG,EAAA,KA1BH,MAREvF,EAAKyuC,SAAS,CACZp/B,mBAAmB,IAClB,WACD,OAAOlN,YAAW,WAChBnC,EAAK+9L,0BACP,GAAG,IACL,GA8BJ,GACF,GAAC,CAAAt2M,IAAA,qBAAA6C,MAED,SAAmBiuG,GAAW,IAAAn4F,EAAA,KAC5Bi+H,EAOI9lC,EANFjnG,MACE6C,OAAMmqI,EAAAD,EACJ1oH,MAAOsoL,OAAe,IAAA3/D,EAAG,YAAWA,EAAAE,EAAAH,EACpC7rF,SAAU0rJ,OAAY,IAAA1/D,EAAG,MAAKA,EAKpCL,EAOIp6I,KAAK0gB,MANPnT,MACE6C,OAAMiqI,EAAAD,EACJxoH,MAAOqnL,OAAW,IAAA5+D,EAAG,YAAWA,EAAA+/D,EAAAhgE,EAChC3rF,SAAAA,OAAQ,IAAA2rJ,EAAG,MAAKA,EAIdp0C,EAAkBhmK,KAAKsjB,MAAvB0iJ,cAGNA,GACAk0C,EAAgBnyM,gBAAkBkxM,EAAYlxM,eAE9C/H,KAAK0qD,SAAS,CACZuuJ,YAAAA,EACAQ,aAAc,EACdD,YAAa,OACZ,WACDn9L,EAAK29L,0BACP,IAGAh0C,GACAm0C,EAAapyM,gBAAkB0mD,EAAS1mD,eAExC/H,KAAK0qD,SAAS,CACZ+D,SAAAA,EACA8qJ,YAAa,EACbD,WAAY,OACX,WACDj9L,EAAK29L,0BACP,GAEJ,GAAC,CAAAt2M,IAAA,oBAAA6C,OAAA4mI,GAAAnsH,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAC,IAAA,IAAAnE,EAAA,YAAAkE,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OAC4BtG,KAAKsjB,MAAvB0iJ,cAERxrJ,GAAAA,GAAAA,QAAe,WAEb,IAAIm/L,EAAmBn/L,GAAAA,GAAAA,SAAiBQ,SAASnC,OAAOq2G,cAAcjvH,OAAS,EAE3E05M,GAAmB3hM,GAAS2F,gBAC9Bg8L,GAAkB,EAClB58L,EAAKs9L,0BACL5hK,GAAAA,cAAAA,KAA2B39B,GAAAA,cAAAA,QAAiC,CAC1Ds0B,QACEg5D,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,yBACH+4F,eAAe,yEAIrBrgD,GAAAA,aAAAA,SAA+B,sCAGjC,IAAM0f,EAAW,GACXg3I,EAAa,CAAC,EAEpBt8L,EAAKi9L,2BAEL,IAAMM,EAAW7gM,KAAKE,MAAMN,aAAaE,QAAQ,WAE9B,OAAb+gM,GAAyC,IAApBA,EAASr6M,QAChBq6M,EAASl5M,KAAI,SAAC6I,GAC9B,IACE,OAAO,IAAIq+C,GAAKr+C,EAAIuQ,GAAAA,GAAAA,SACtB,CAAE,MAAOvP,GAAI,CACf,IAIFuP,GAAAA,GAAAA,SAAiBmB,cAAc5B,MAAM7W,SAAQ,SAACyT,GAC5C,GAAIA,GAAQA,EAAK4G,KAAM,CACrB,IAAMq7L,EAAY77L,EAAKg8L,kBAAkBpiM,GAEzC0rD,EAASniE,KAAK04M,EAAU3uM,IACxBovM,EAAWT,EAAU3uM,IAAM2uM,CAC7B,CACF,IAGAp+L,GAAAA,GAAAA,SAAiButC,GAAG,gBAAiBhrC,EAAKo8L,2BAE1C3+L,GAAAA,GAAAA,SAAiButC,GAAG,kBAAmBhrC,EAAK87L,sBAE5C97L,EAAK2tC,SAAS,CACZ2X,SAAAA,EACAg3I,WAAAA,EACAM,gBAAAA,GAEJ,IACAh3J,GAAAA,aAAAA,kBAAuC,wBAAAphC,EAAAF,OAAA,GAAAH,EAAA,UACxC,kBAAAisH,EAAAptH,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,kBAAA6C,MAED,SAAgBU,GACd,GAAKjH,KAAK62G,SAAV,CAEA,IAAQlgG,EAAS1P,EAAT0P,KACFiiM,EAAY54M,KAAK+4M,kBAAkBpiM,GAEvC0iM,EACEr5M,KAAKsjB,MADP+1L,WAEFA,EAAWT,EAAU3uM,IAAM2uM,EAC3B54M,KAAK0qD,SAAS,CACZ2uJ,WAAAA,GATwB,CAW5B,GAAC,CAAA31M,IAAA,uBAAA6C,MAED,SAAqBU,GACnB,GAAKjH,KAAK62G,SAAV,CACA,IACElgG,EACE1P,EADF0P,KAGF81C,EAGIzsD,KAAKsjB,MAFP++C,EAAQ5V,EAAR4V,SACAg3I,EAAU5sJ,EAAV4sJ,WAGF,IAAKA,EAAW1iM,EAAK1M,IAAK,CACxB,IAAM2uM,EAAY54M,KAAK+4M,kBAAkBpiM,GACzC0rD,EAASniE,KAAK04M,EAAU3uM,IACxBovM,EAAWT,EAAU3uM,IAAM2uM,EAC3B54M,KAAK0qD,SAAS,CACZ2X,SAAAA,EACAg3I,WAAAA,GAEJ,CAlB0B,CAmB5B,GAAC,CAAA31M,IAAA,uBAAA6C,OAAAozI,GAAA34H,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAkB,IAAA,IAAA6jJ,EAAA,OAAA/kJ,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,OACU0/J,EAAkBhmK,KAAKsjB,MAAvB0iJ,cAERhmK,KAAK62G,UAAW,EAEZmvD,IAEFxrJ,GAAAA,GAAAA,SAAiBk3F,IAAI,gBAAiB1xG,KAAKm5M,2BAE3C3+L,GAAAA,GAAAA,SAAiBk3F,IAAI,kBAAmB1xG,KAAK64M,uBAC9C,wBAAAx2L,EAAAhB,OAAA,GAAAc,EAAA,UACF,kBAAAw3H,EAAA55H,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,wBAAA6C,MA4BD,WACEkyC,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,sBAAwC,CAC1Dk4J,YAAY,EACZtvE,QAAS,WAAQj4E,OAAOsrB,SAASu5D,QAAS,GAE9C,GAAC,CAAA5sG,IAAA,0BAAA6C,MAED,WAA0B,IAAA+W,EAAA,KAChBq8L,EAAoB35M,KAAKsjB,MAAzBq2L,gBAERpwG,EAOIvpG,KAAKsjB,MANPuhJ,EAAUt7D,EAAVs7D,WACA00C,EAAWhwG,EAAXgwG,YACAE,EAAYlwG,EAAZkwG,aACAQ,EAAa1wG,EAAb0wG,cACAT,EAAWjwG,EAAXiwG,YACA/qJ,EAAQ86C,EAAR96C,SAGImrJ,EAAiB,IAAIv8K,GAAAA,EAAUwnI,GAAYt5H,uBAAuB,KAClEuuK,EAAmB,IAAIz8K,GAAAA,EAAUo8K,GAAcruK,cAAc,GAC7DyuK,EAAkB,IAAIx8K,GAAAA,EAAUk8K,GAAanuK,cAAc,GAE7DywI,GAAW,EAyBf,GAvBI7jK,GAAS2F,gBACXk+J,GAAW,EACXpjI,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,WAA6B,CAC/Cs0B,QACEg5D,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,8BACH+4F,eAAe,oFAGnBwpE,QACEpkE,KAAAA,cAACI,GAAAA,EAAgB,CACbv+F,GAAG,qBACH+4F,eAAe,sBAGrBupE,UAAU,EACV7oE,QAAS,WACP1rF,GAAS+9C,aACTtd,GAAAA,OAAAA,MAAqB39B,GAAAA,OAAAA,WACvB,IAEF6nC,GAAAA,aAAAA,UAAgC,wDAE7Bi3J,EAAgB,CACnB/9B,GAAW,EACX,IAAM0+B,EAAUN,EAActwL,SAAS9M,cAEvC47B,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,WAA6B,CAC/Cs0B,QACEg5D,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,mBACH+4F,eAAe,8FACfl9F,OAAQ,CACNy0M,QAAAA,OAKR53J,GAAAA,aAAAA,UAAgC,cAADjgD,OAAe63M,GAChD,CACA,IAAKT,IAAqBD,EAAiB,CACzCh+B,GAAW,EACX,IAAMjqJ,EAAQ4nL,EAAY7sL,SAAS9P,cACnC47B,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,WAA6B,CAC/Cs0B,QACEg5D,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,oBACH+4F,eAAe,oEACfl9F,OAAQ,CACN8rB,MAAAA,EACA68B,SAAUA,EAAS5xC,mBAK3B8lC,GAAAA,aAAAA,UAAgC,cAADjgD,OAAe+rD,EAAQ,QAAA/rD,OAAOkvB,GAC/D,CACKiqJ,EAkBH77K,KAAK0qD,SAAS,CACZivJ,iBAAiB,IAlBnB35M,KAAK0qD,SAAS,CACZivJ,iBAAkBA,EAClBE,gBAAAA,EACAD,eAAAA,EACAE,iBAAAA,IACC,WACIH,GAMHr8L,EAAK+8L,0BACL13J,GAAAA,aAAAA,aALArlC,EAAKk9L,wBACL73J,GAAAA,aAAAA,UAMJ,GAMJ,GAAC,CAAAj/C,IAAA,0BAAA6C,MAED,WAEEiU,GAAAA,GAAAA,SAAiBQ,SAASnC,OAAOq2G,cAAchsH,SAAQ,SAACyxB,GAEtDna,GAAAA,GAAAA,SAAiBQ,SAASnC,OAAOymD,OAAO3qC,EAAM1qB,GAChD,GACF,GAAC,CAAAvG,IAAA,wBAAA6C,MAED,WAEEvG,KAAKq6M,0BACL,IAAA3lG,EASI10G,KAAKsjB,MARPm2L,EAAY/kG,EAAZ+kG,aACAD,EAAW9kG,EAAX8kG,YACA30C,EAAUnwD,EAAVmwD,WACAi1C,EAAgBplG,EAAhBolG,iBACArrJ,EAAQimD,EAARjmD,SACA8qJ,EAAW7kG,EAAX6kG,YACAM,EAAenlG,EAAfmlG,gBACAE,EAAYrlG,EAAZqlG,aAQF,GAAID,EAAkB,CACpB,IAAMW,EACJ,IAAIp9K,GAAAA,EAAU,KAAK6hC,MACjB,IAAI7hC,GAAAA,EAAU,KAAKmmB,MAAMu2J,IACzBtxK,UAAU,KAAKnL,WAIbo9K,EAAqB,CACzBjxL,QAASgwL,EACTryJ,UAAWqyJ,EACX50C,WAAAA,EACA/yG,aAAc2oJ,EACdv8I,WAAW,EACXu4F,WAAW,EACXd,YAAY,EACZD,aAAa,EACbzuG,SAAS,EACTuvG,YAAY,EACZZ,uBAAwB,SACxBH,wBAAyB,SACzBtuG,WAfiB,IAAI9pB,GAAAA,EAAUo8K,GAAcj2J,MAAMi3J,GAAuBn9K,WAgB1E8iB,YAAaqO,EAAS5xC,cACtB2rC,cAAe,GACfrI,aAAcq5J,EAAY7sL,SAAS9P,cACnC4rC,eAAgB+wJ,EAAY3kM,WAAWgI,eAEzCjD,QAAQ4jB,IAAIk9K,GAEZ,IAAMC,EAAYngM,GAAAA,GAAAA,SAAiBQ,SAASnC,OAAO4O,OAAOizL,GAC1D9gM,QAAQ4jB,IAAI,YAAam9K,GACzBliK,GAAAA,KAAAA,kBAA+BkiK,EACjC,CACA,GAAId,EAAiB,CACnB,IAAMe,EACJ,IAAIv9K,GAAAA,EAAU,KAAK2N,KACjB,IAAI3N,GAAAA,EAAU,KAAKmmB,MAAMu2J,IACzBtxK,UAAU,KAAKnL,WAIbu9K,EAAoB,CACxBpxL,QAAS8vL,EACTpyJ,WAAYoyJ,EACZ10C,WAAAA,EACA/yG,aAAc8oJ,EACd18I,WAAW,EACXu4F,WAAW,EACXd,YAAY,EACZD,aAAa,EACbzuG,SAAS,EACTuvG,YAAY,EACZZ,uBAAwB,SACxBH,wBAAyB,SACzBruG,UAfgB,IAAI/pB,GAAAA,EAAUk8K,GAAa/1J,MAAMo3J,GAAsBt9K,WAgBvE6iB,aAAcsO,EACdhG,eAAgB,GAChBrI,YAAao5J,EAAY7sL,SAAS9P,cAClC2rC,cAAegxJ,EAAY3kM,WAAWgI,eAExCjD,QAAQ4jB,IAAIq9K,GAEZ,IAAMC,EAAWtgM,GAAAA,GAAAA,SAAiBQ,SAASnC,OAAO4O,OAAOozL,GACzDjhM,QAAQ4jB,IAAI,WAAYs9K,GACxBriK,GAAAA,KAAAA,kBAA+BqiK,EACjC,CACF,GAAC,CAAAp3M,IAAA,0BAAA6C,MAED,WAA0B,IAAAwoD,EAAA,KACxB/2C,GAASwkD,wBAAuB,WAC9BzN,EAAKirJ,0BACP,GACF,GAAC,CAAAt2M,IAAA,uBAAA6C,MAED,WAAuB,IAAAwmH,EAAA,KACrB/0G,GAASykD,sBAAsB,CAC7By9G,cAAc,EAEd6gC,WAAY,SAACp9L,GACPA,GACFovG,EAAKitF,0BAET,GAEJ,GAAC,CAAAt2M,IAAA,SAAA6C,MAED,WAAS,IAAAy0M,EAAAC,EAAAzqF,EAAA,KACP6e,EAcIrvI,KAAKsjB,MAbP++C,EAAQgtE,EAARhtE,SACAg3I,EAAUhqE,EAAVgqE,WACAC,EAAUjqE,EAAViqE,WACA7qJ,EAAQ4gF,EAAR5gF,SACA8qJ,EAAWlqE,EAAXkqE,YACAU,EAAa5qE,EAAb4qE,cACAT,EAAWnqE,EAAXmqE,YACAC,EAAYpqE,EAAZoqE,aACA50C,EAAUx1B,EAAVw1B,WACAv5I,EAAiB+jH,EAAjB/jH,kBACAquL,EAAetqE,EAAfsqE,gBACAhpB,EAAethD,EAAfshD,gBACA3qB,EAAa32B,EAAb22B,cAGIk1C,EAAe,IAAI79K,GAAAA,EAAUk8K,GAAavuK,KAAKyuK,GAAcn8K,WAE7D69K,EAAc94I,EAASn3B,MAAK,SAACkwK,EAAKC,GACtC,OAAOhC,EAAWgC,GAAKvyJ,oBAAsBuwJ,EAAW+B,GAAKtyJ,mBAC/D,IACA,OACEs/C,KAAAA,cAAA,OAAKC,UAAU,oBACbD,KAAAA,cAAA,OAAKC,UAAU,aACbD,KAAAA,cAAA,UACEA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,iBACH+4F,eAAe,+BACfl9F,OAAQ,CACNwyM,WAAWgB,aAAU,EAAVA,EAAY1vL,WAAY,cAIzCw+E,KAAAA,cAAA,SACGoxG,GAAeS,GACd7xG,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,qBACH+4F,eAAe,kIACfl9F,OAAQ,CACN2oD,SAAUA,EAAS5xC,cACnB+U,MAAO4nL,EAAY7sL,SAAS9P,cAC5B07L,SAAU0B,EAAcrwL,SACxB6sB,KAAM2xD,KAAAA,cAAA,KAAGkK,KAAMj7D,GAAMygD,gBAAiBmS,OAAO,UAAS,YAOhE7B,KAAAA,cAAA,gBACE49D,GACA59D,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAA,MAAIC,UAAU,cACZD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,eACH+4F,eAAe,6BAGnBoF,KAAAA,cAAA,KAAGC,UAAU,mBACXD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,qBACH+4F,eAAe,oFACfl9F,OAAQ,CACN2oD,SAAUA,EAAS5xC,cACnB+U,MAAO4nL,SAAqB,QAAVwB,EAAXxB,EAAa7vL,gBAAQ,IAAAqxL,OAAV,EAAXA,EAAuBn+L,cAC9B09L,QAASN,SAAuB,QAAVgB,EAAbhB,EAAetwL,gBAAQ,IAAAsxL,OAAV,EAAbA,EAAyBp+L,kBAIxCurF,KAAAA,cAAA,OAAKC,UAAU,kBACZsoF,EACCvoF,KAAAA,cAAA,OAAKC,UAAU,iBACbD,KAAAA,cAACwD,GAAM,CAACnB,MAAI,EAACnC,QAAStoG,KAAKg4M,oBACzB5vG,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,2BACH+4F,eAAe,yBAKrBoF,KAAAA,cAAA,OAAKC,UAAU,iBACbD,KAAAA,cAACwD,GAAM,CAACnB,MAAI,EAACnC,QAAStoG,KAAKs7M,oBACzBlzG,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,oBACH+4F,eAAe,oBAKvBoF,KAAAA,cAAA,OAAKC,UAAU,iBACbD,KAAAA,cAACwD,GAAM,CAACnB,MAAI,EAACnC,QAAStoG,KAAKu7M,sBAAsB/7L,KAAKxf,OACpDooG,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,oBACH+4F,eAAe,mCAOzB13E,GAAqBkuL,GAAexzC,EACpC59D,KAAAA,cAAA,OAAKC,UAAS,iBACZD,KAAAA,cAAA,OAAKC,UAAU,sBAAsBtqD,MAAO,CAAEp1B,OAAQ,IAAK,IACzDy/E,KAAAA,cAAA,OAAKC,UAAS,aACZD,KAAAA,cAAA,KAAGC,UAAU,mBACXD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,gBACH+4F,eAAe,kCACfl9F,OAAQ,CACN2oD,SAAUA,EAAS5xC,cACnB+U,MAAO4nL,EAAY7sL,SAAS9P,kBAIlCurF,KAAAA,cAAA,QAAMC,UAAU,qBACdD,KAAAA,cAACwvD,GAAM,CAACxoI,QAASuqL,EAAiB/vG,SAAU5pG,KAAKw7M,wBAAwBh8L,KAAKxf,UAGlFooG,KAAAA,cAAA,OAAKC,UAAU,wBACZsxG,EACCvxG,KAAAA,cAAA,QAAMC,UAAU,WACdD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,uBACH+4F,eAAe,gDAEhB,IACDoF,KAAAA,cAACwG,GAAO,CAAC3kG,GAAG,kBACVm+F,KAAAA,cAAA,QAAMC,UAAU,eACdD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,oBACH+4F,eAAe,0NAMvBoF,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,wBACH+4F,eAAe,uCAIrBoF,KAAAA,cAAA,OAAKC,UAAU,wBACbD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,gBACH+4F,eAAe,sCAEhB,IACDoF,KAAAA,cAACwG,GAAO,CAAC3kG,GAAG,uBACVm+F,KAAAA,cAAA,QAAMC,UAAU,eACdD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,qBACH+4F,eAAe,kIACfl9F,OAAQ,CACN2oD,SAAUA,EAAS5xC,cACnB+U,MAAO4nL,EAAY7sL,SAAS9P,cAC5B07L,SAAU0B,EAAcrwL,SACxB6sB,KAAM2xD,KAAAA,cAAA,KAAGkK,KAAMj7D,GAAMygD,gBAAiBmS,OAAO,UAAS,cAOlE7B,KAAAA,cAAA,OAAKC,UAAU,uBACbD,KAAAA,cAAA,MAAIC,UAAU,8BACZD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,iBACH+4F,eAAe,mBAGnBoF,KAAAA,cAAA,SACEA,KAAAA,cAAA,QAAMC,UAAU,kBAAiB,KAGhC,IACDD,KAAAA,cAAA,QAAMC,UAAU,wBACdD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,yBACH+4F,eAAe,uBACfl9F,OAAQ,CACN2oD,SAAUA,EAAS5xC,cACnB+U,MAAO4nL,EAAY7sL,SAAS9P,mBAKpCurF,KAAAA,cAAA,WACAA,KAAAA,cAAA,MAAIC,UAAU,8BACZD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,8BACH+4F,eAAe,2BAGnBoF,KAAAA,cAAA,SACEA,KAAAA,cAAA,QAAMC,UAAU,kBACfsxG,EACCuB,EAEA,KAGD,IACD9yG,KAAAA,cAAA,QAAMC,UAAU,wBACdD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,yBACH+4F,eAAe,uBACfl9F,OAAQ,CACN2oD,SAAUA,EAAS5xC,cACnB+U,MAAO4nL,EAAY7sL,SAAS9P,oBAOpCurF,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAA,OAAKC,UAAU,uBACZixG,EACGlxG,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAA,MAAIC,UAAU,8BACZD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,gBACH+4F,eAAe,sBACfl9F,OAAQ,CACN2oD,SAAUA,EAAS5xC,kBAIzBurF,KAAAA,cAAA,SACgB,QAAb35C,GACC25C,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAA,OAAKgE,IAAK72F,GAAK+2F,IAAI,QAClB,KAGLlE,KAAAA,cAAA,QAAMn+F,GAAG,aAAao+F,UAAU,oBAAoBkxG,IAEtDnxG,KAAAA,cAAA,WACAA,KAAAA,cAAA,KAAGC,UAAU,wBACXD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,oBACH+4F,eAAe,2BAEjBoF,KAAAA,cAAA,WACAA,KAAAA,cAACyoC,GAAO,CAAC7gI,QAASspM,EAAWtpM,QAAS8tC,OAAQ4e,GAAcu+G,SAIhE7yE,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAA,MAAIC,UAAU,8BACZD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,gBACH+4F,eAAe,sBACfl9F,OAAQ,CACN2oD,SAAUA,EAAS5xC,kBAIzBurF,KAAAA,cAAA,SACgB,QAAb35C,GACC25C,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAA,OAAKgE,IAAK72F,GAAK+2F,IAAI,QAClB,KAGLlE,KAAAA,cAAA,QAAMn+F,GAAG,aAAao+F,UAAU,oBAAoBkxG,MAM9DnxG,KAAAA,cAAA,OAAKC,UAAU,uBACbD,KAAAA,cAAA,MAAIC,UAAU,8BACZD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,kBACH+4F,eAAe,mBACfl9F,OAAQ,CACN8rB,MAAO4nL,EAAY7sL,SAAS9P,kBAIlCurF,KAAAA,cAAA,WACgB,QAAb35C,GACC25C,KAAAA,cAAAA,KAAAA,SAAA,KACG95E,GAAAA,QACC85E,KAAAA,cAAA,OAAKgE,IAAK72F,GAAK+2F,IAAI,SAEnBlE,KAAAA,cAAA,OAAKC,UAAU,eAAe+D,IAAK70F,GAAM+0F,IAAI,SAE9C,KAGLlE,KAAAA,cAAA,QAAMn+F,GAAG,eAAeo+F,UAAU,oBAAoBoxG,GACrD,IACAD,GACCpxG,KAAAA,cAACwG,GAAO,CAAC3kG,GAAG,eACVm+F,KAAAA,cAAA,QAAMC,UAAU,eACdD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,wBACH+4F,eAAe,qIACfl9F,OAAQ,CACNwyM,WAAWgB,aAAU,EAAVA,EAAY1vL,WAAY,UACnC6kC,SAAUA,EAAS5xC,cACnB4+L,cAAejC,EAAY5vL,SAC3B8xL,cAAelC,EAAYvkM,SAAS4H,cACpC+U,MAAO4nL,EAAY7vL,SAAS9M,cAC5BD,eAAgBq9L,EAAcrwL,YAGlCw+E,KAAAA,cAAA,WACAA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,wBACH+4F,eAAe,+IACfl9F,OAAQ,CACNwyM,WAAWgB,aAAU,EAAVA,EAAY1vL,WAAY,UACnCgI,MAAO4nL,EAAY7vL,SAAS9M,cAC5BD,eAAgBq9L,EAAcrwL,eAOzC5pB,KAAK27M,kBACJvzG,KAAAA,cAAA,OAAKrqD,MAAO,CAAE0lH,aAAc,SAC3BzrJ,GAAS2F,cACNyqF,KAAAA,cAACwD,GAAM,CAACnB,MAAI,EAACnC,QAAStoG,KAAK47M,wBAAwBp8L,KAAKxf,OACtDooG,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,wBACH+4F,eAAe,yBAInBoF,KAAAA,cAACwD,GAAM,CAACnB,MAAI,EAACnC,QAAStoG,KAAK67M,qBAAqBr8L,KAAKxf,OACnDooG,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,qBACH+4F,eAAe,uBAOxBi3G,GACC7xG,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAA,KAAGC,UAAU,wBACXD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,gBACH+4F,eAAe,gDACfl9F,OAAQ,CACNy0M,QAASN,EAActwL,SAAS9M,cAChC4M,QAAS,IAAI4T,GAAAA,EAAUwnI,GAAYz0H,GAAG,GAAG9S,eAI/C8qE,KAAAA,cAAA,WACAA,KAAAA,cAAA,KAAGC,UAAU,wBACXD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,oBACH+4F,eAAe,2BAEjBoF,KAAAA,cAAA,WACAA,KAAAA,cAACyoC,GAAO,CAAC7gI,QAASiqM,EAAcjqM,QAAS8tC,OAAQ4e,GAAcu+G,YAS7E7yE,KAAAA,cAAAA,KAAAA,SAAA,KACG49D,GACC59D,KAAAA,cAAA,OAAKC,UAAU,mBACbD,KAAAA,cAAC2E,GAAY,SAQnBi5D,GACA59D,KAAAA,cAAA,eACEA,KAAAA,cAAA,MAAIC,UAAU,iBACZD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,uBACH+4F,eAAe,kBAGnBoF,KAAAA,cAAA,SAAOC,UAAU,eACfD,KAAAA,cAAA,aACEA,KAAAA,cAAA,UACEA,KAAAA,cAAA,UACEA,KAAAA,cAAA,SACEA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,wBACH+4F,eAAe,cAIrBoF,KAAAA,cAAA,UACEA,KAAAA,cAAA,SACEA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,sBACH+4F,eAAe,WAIrBoF,KAAAA,cAAA,UACEA,KAAAA,cAAA,SACEA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,yBACH+4F,eAAe,eAIrBoF,KAAAA,cAAA,UACEA,KAAAA,cAAA,SACEA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,0BACH+4F,eAAe,gBAIrBoF,KAAAA,cAAA,UACEA,KAAAA,cAAA,SACEA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,wBACH+4F,eAAe,aAIrBoF,KAAAA,cAAA,aAGJA,KAAAA,cAAA,eACK+yG,EAAYl7M,QAAUk7M,EAAY/5M,KAAI,SAAComD,EAAQswF,GAChD,OACE1vC,KAAAA,cAACuwG,GAAO,CACNj1M,IAAK8jD,EACLqwF,IAAKwhE,EAAW7xJ,GAChBuxJ,kBAAmBvoF,EAAKuoF,mBAG9B,KACEoC,EAAYl7M,QACZmoG,KAAAA,cAAA,UACEA,KAAAA,cAAA,MAAIitE,QAAS,GACXjtE,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,uBACH+4F,eAAe,qFAW/BoF,KAAAA,cAACq4E,GAAG,MAGV,KAACu4B,CAAA,CAx/ByC,CACVxtG,GAAAA,aAAS5C,GA0/B3C,UAAegF,EAAAA,GAAAA,IAAWorG,I,OCrhCQ,IA+C5B8C,IAvCL5gJ,EAAAA,EAAAA,KAAQ,SAAA3uD,GAkBH,IAAAugI,EAAAvgI,EAjBJopB,KAkBA,MAAO,CACL1uB,KAAM,CACJsO,IAnBKu3H,EAAP/hH,QAoBEvV,IAnBKs3H,EAAP9iH,QAoBEvU,IAnBKq3H,EAAP7iH,QAoBEvU,MAnBOo3H,EAAT5iH,UAoBEvU,OAnBQm3H,EAAV3iH,WAoBEvU,OAnBQk3H,EAAV1iH,WAoBEvU,KAnBMi3H,EAARziH,SAoBEvU,IAnBKg3H,EAAPxiH,QAoBEvU,KAnBM+2H,EAARviH,SAoBEvU,KAnBM82H,EAARtiH,SAoBEvU,IAnBK62H,EAAPriH,QAoBElU,MAnBOu2H,EAATtjH,UAoBEljB,KAnBMwmI,EAAR/iH,SAoBE3T,IAnBK02H,EAAPniH,QAoBEzU,IAnBK42H,EAAPhiH,SAsBJ,GAAE69E,CAAAC,GAAA,SAAAskC,IAAAxyH,EAAAA,GAAAA,GAAAohM,EAAA5uE,GAAA,IAICC,E,IAJDxyH,G,EAAAmhM,E,maAEA,SAAAA,EAAYp7L,GAAO,OAAAtU,EAAAA,GAAAA,GAAA,KAAA0vM,GAAAnhM,EAAAtZ,KAAA,KACXqf,EACR,CAwCC,OAxCArU,EAAAA,GAAAA,GAAAyvM,EAAA,EAAAp4M,IAAA,oBAAA6C,OAAA4mI,GAAAnsH,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAO,IAAA,IAAAgoF,EAAA2wC,EAAAvlI,EAAArE,EAAAtJ,EAAA+I,EAAA,OAAAiR,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OAeG,GAfHkjG,EASMxpG,KAAK0gB,MAAKy5H,EAAA3wC,EAPZj8F,MACE6C,OACEwE,EAAIulI,EAAJvlI,KACArE,EAAM4pI,EAAN5pI,QAGJtJ,EAAIuiG,EAAJviG,MAGQ2N,KACR3N,EAAK2N,GAAQ6jC,GAAAA,KAAAA,UAAuB,CAClC9uB,SAAU/U,OAIVA,GAAQrE,GAAUtJ,EAAK2N,IAAK,CAAA6M,EAAAnb,KAAA,SAWb,OAVX0J,EAAU/I,EAAK2N,GAAM5E,QAG3ByoC,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,aAA+B,CACjD6O,SAAU/U,EAAKiI,cACfuxB,UAAW79B,EACXP,QAAAA,EACAk7I,cAAc,IAGhBtxI,QAAQ4jB,IAAI5oB,GAAK6M,EAAAnb,KAAA,EACXmyC,GAAAA,KAAAA,qBAAkC,CAAC7jC,EAAKiI,gBAAe,OAAA4E,EAAAnb,KAAA,iBAG7DtG,KAAK0gB,MAAM8U,QAAQt1B,KAAK+uG,GAAa53D,GAAM4/C,WAAU,yBAAAx1E,EAAAJ,OAAA,GAAAG,EAAA,UAExD,kBAAA2rH,EAAAptH,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,SAAA6C,MAED,WACE,OAAO,IACT,KAACu1M,CAAA,CA5CD,CAC0BrrE,GAAAA,iBAAa7nC,GA8CzC,UAAegF,EAAAA,GAAAA,IAAWkuG,I,OC7FmB,IAkBvCC,IADLriE,EAAAA,EAAAA,IAAU9wC,GAAA,SAAAskC,IAAAxyH,EAAAA,GAAAA,GAAAqhM,EAAA7uE,GAAA,IAoBRC,E,IApBQxyH,G,EAAAohM,E,maAET,SAAAA,EAAYr7L,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAA2vM,GACjBpvM,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAmBC,WACb,IAAAo/C,EAAgCp/C,EAAK2W,MAA7B0wE,EAAQjoC,EAARioC,SAAUgoH,EAASjwJ,EAATiwJ,UAClBxyG,EAAsC78F,EAAK+T,MAAnC8U,EAAOg0E,EAAPh0E,QAAiBghB,EAAMgzD,EAAdnG,KAAQ7sD,OAEtBw9C,GAEDgoH,EAAUtxJ,SAAS,CACjBr/B,YAAY,EACZ2oE,SAAAA,IACC,WACDv7C,GAAAA,SAAAA,WACEu7C,GACAjzD,MAAK,SAACyyD,GACFA,EAEFwoH,EAAUtxJ,SAAS,CACjBr/B,YAAY,EACZmoE,QAAAA,IAGFh+D,EAAQt1B,KAAK+uG,GAAaz4D,EAAQa,GAAM4/C,UAE5C,GACF,GAEJ,IA1CE,IAAA8iD,EAOIr5H,EANFnT,MACE6C,OAAM8oM,EAAAn/D,EACJ/lD,SAAAA,OAAQ,IAAAklH,EAAG,KAAIA,EAAA+C,EAAAliE,EACf06B,QAAAA,OAAO,IAAAwnC,GAAQA,EAUpB,OALDtvM,EAAK2W,MAAQ,CACX0wE,SAAAA,EACAR,QAAS,KACTnoE,YAAY,EACZopJ,QAAAA,GACD9nK,CACH,CAuGC,OAvGAN,EAAAA,GAAAA,GAAA0vM,EAAA,EAAAr4M,IAAA,oBAAA6C,OAAA4mI,GAAAnsH,EAAAA,EAAAA,GAAAC,IAAAA,MA6BD,SAAAO,IAAA,IAAAirC,EAAAunC,EAAAygF,EAAA/oE,EAAAl2E,EAAAghB,EAAAv6B,EAAA,YAAAgF,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OAAAmmD,EAIMzsD,KAAKsjB,MAFP0wE,EAAQvnC,EAARunC,SACAygF,EAAOhoH,EAAPgoH,QAAO/oE,EAG6B1rG,KAAK0gB,MAAnC8U,EAAOk2E,EAAPl2E,QAAiBghB,EAAMk1D,EAAdrI,KAAQ7sD,OAEzBiC,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,YAA8B,CAChD4oF,QAAS,SAACunD,GACHA,GACHz1H,EAAQt1B,KAAK+uG,GAAaz4D,EAAQa,GAAM8zC,UAE5C,EACA9/D,YAAY,EACZ2oE,SAAAA,EACAygF,QAAAA,EACAD,WAAY,SAACwnC,GACX//L,EAAKyuC,SAAS,CACZsxJ,UAAAA,IACC,WACD//L,EAAKigM,cACP,GACF,IACA,wBAAAz6L,EAAAJ,OAAA,GAAAG,EAAA,UACH,kBAAA2rH,EAAAptH,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,qBAAA6C,MAED,SAAmBiuG,GAAW,IAAAn4F,EAAA,KAC5B89H,EAOIn6I,KAAK0gB,MANPnT,MACE6C,OAAMgqI,EAAAD,EACJnmD,SAAAA,OAAQ,IAAAomD,EAAG,KAAIA,EAAAC,EAAAF,EACfs6B,QAAAA,OAAO,IAAAp6B,GAAQA,EAKrBC,EAOI9lC,EANFjnG,MACE6C,OAAMmqI,EAAAD,EACJtmD,SAAUmoH,OAAY,IAAA5hE,EAAG,KAAIA,EAAAE,EAAAH,EAC7Bm6B,QAKN,GAAK0nC,IAAiBnoH,SALI,IAAAymD,GAAQA,KAMZg6B,EACpB,CACA,IAAQunC,EAAch8M,KAAKsjB,MAAnB04L,UAERh8M,KAAK0qD,SAAS,CACZspC,SAAAA,EACAygF,QAAAA,IACC,WAEDunC,EAAUtxJ,SAAUyxJ,IAAiBnoH,EAAY,CAC/CR,SAAS,EACTQ,SAAAA,EACA3oE,YAAY,EACZopJ,QAAAA,EACAC,cAAgBD,GACd,CACFA,QAAAA,EACAC,cAAgBD,IACd,WACFp4J,EAAK6/L,cACP,GACF,GACF,CACF,GAAC,CAAAx4M,IAAA,SAAA6C,MAED,WACE,OAAO,IACT,KAACw1M,CAAA,CA3HQ,CACWtrE,GAAAA,iBAAa7nC,GA6HnC,UAAegF,EAAAA,GAAAA,IAAWmuG,ICpJmB,IAGvCK,GAAW,SAAA/wG,IAAA3wF,EAAAA,GAAAA,GAAA0hM,EAAA/wG,GAAA,I,IAAA1wF,G,EAAAyhM,E,maAAA,SAAAA,IAAA,OAAAhwM,EAAAA,GAAAA,GAAA,KAAAgwM,GAAAzhM,EAAAoF,MAAA,KAAAhf,UAAA,CASd,OATcsL,EAAAA,GAAAA,GAAA+vM,EAAA,EAAA14M,IAAA,qBAAA6C,MACf,SAAmBiuG,GACbx0G,KAAK0gB,MAAMq2B,SAASk/C,WAAaue,EAAUz9D,SAASk/C,UACtDxqE,OAAO0sI,SAAS,EAAG,EAEvB,GAAC,CAAAz0J,IAAA,SAAA6C,MAED,WACE,OAAOvG,KAAK0gB,MAAMvU,QACpB,KAACiwM,CAAA,CATc,CAAS5wG,GAAAA,WAY1B,UAAekuC,EAAAA,EAAAA,IAAW0iE,ICN1B,GAAe50G,IAAf,EANc,SAAHj7F,GAAA,IAAMoE,EAAUpE,EAAVoE,WAAY44E,EAAKh9E,EAALg9E,MAAK,OAChC6e,KAAAA,cAAA,OAAKC,UAAU,OACbD,KAAAA,cAAA,UAAQC,UAAU,SAAS9e,EAAM,KAAW54E,EACxC,GCNR,CAAgB,IAAM,2BAA2B,MAAQ,6B,2CCOZ,IAoDxB0rM,IA5CpBnhJ,EAAAA,EAAAA,KAAQ,SAAA3uD,GAAA,IAAAugI,EAAAvgI,EACPopB,KACE3L,EAAO8iH,EAAP9iH,QACAC,EAAO6iH,EAAP7iH,QACAC,EAAS4iH,EAAT5iH,UACAC,EAAU2iH,EAAV3iH,WACAC,EAAU0iH,EAAV1iH,WACAC,EAAQyiH,EAARziH,SACAC,EAAOwiH,EAAPxiH,QACAC,EAAQuiH,EAARviH,SACAC,EAAQsiH,EAARtiH,SACAC,EAAOqiH,EAAPriH,QACAC,EAAUoiH,EAAVpiH,WACAC,EAAOmiH,EAAPniH,QACAC,EAAOkiH,EAAPliH,QACAC,EAAQiiH,EAARjiH,SACAC,EAAOgiH,EAAPhiH,QAGQ,MAEL,CACL7jB,KAAM,CALG6lI,EAAP/hH,QAOAd,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAd,EApBS8iH,EAATtjH,UACQsjH,EAAR/iH,UAuBH,GACkB4+E,CAAAC,GAAlBpB,KC1DD,CAAgB,MAAQ,4BAA4B,IAAM,2BAA2B,KAAO,2BAA2B,OAAS,4BD0D7GylC,CAAArkC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAA2hM,EAAAhxG,GAAA,I,IAAA1wF,G,EAAA0hM,E,maAAA,SAAAA,IAAA,OAAAjwM,EAAAA,GAAAA,GAAA,KAAAiwM,GAAA1hM,EAAAoF,MAAA,KAAAhf,UAAA,CA8ChB,OA9CgBsL,EAAAA,GAAAA,GAAAgwM,EAAA,EAAA34M,IAAA,SAAA6C,MAEjB,WACE,IAAAijG,EAKIxpG,KAAK0gB,MAJPzZ,EAAIuiG,EAAJviG,KACA2iG,EAAQJ,EAARI,SACA0yG,EAAU9yG,EAAV8yG,WACGC,GAAU9zL,EAAAA,EAAAA,GAAA+gF,EAAAjhE,IAGf,OACE6/D,KAAAA,cAAA,MAASm0G,EACPn0G,KAAAA,cAAA,OAAKC,UAAU,SACbD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,cACH+4F,eAAc,iJAIlBoF,KAAAA,cAAA,OAAKC,UAAU,SAASC,QAASsB,GAC/BxB,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,aAAa+4F,eAAe,sCAGnDoF,KAAAA,cAAA,OAAKC,UAAU,OACbD,KAAAA,cAAA,OAAKC,UAAU,QACZphG,EAAK7F,KAAI,SAACw0C,EAAcruC,GACvB,OACE6gG,KAAAA,cAACo0G,GAAK,CACJ94M,IAAK6D,EACLgiF,MAAO3zC,EAAajsB,SACpBhZ,WAAYilC,EAAajlC,YAG/B,KAGFy3F,KAAAA,cAACwD,GAAM,CAACrB,OAAK,EAACjC,QAASg0G,EAAYryM,GAAG,oBACpCm+F,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,WAAW+4F,eAAe,cAGjDoF,KAAAA,cAACwG,GAAO,CAAC3kG,GAAG,mBAAmBuhF,MAAM,EAAO8iB,MAAM,UAChDlG,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,WAAW+4F,eAAe,oDAKzD,KAACq5G,CAAA,CA9CgB,CACmB7wG,GAAAA,aAAS5C,KAAAA,GEnB/C,SAAeuB,IAAf,EAxBgB,SAACzpF,GACf,IAAQ4vI,EAAyD5vI,EAAzD4vI,cAAemsD,EAA0C/7L,EAA1C+7L,UAAWC,EAA+Bh8L,EAA/Bg8L,SAAU1uM,EAAqB0S,EAArB1S,MAAO2uM,EAAcj8L,EAAdi8L,UAEnD,OACEv0G,KAAAA,cAAC8jD,GAAM,KACL9jD,KAAAA,cAAA,OAAKC,UAAWs0G,EAAY,oBAAsB,UAAWvyG,UAAWkmD,GACtEloD,KAAAA,cAAC6+D,GAAQ,KAAEj5J,GACXo6F,KAAAA,cAAA,OAAKC,UAAU,OACbD,KAAAA,cAACwD,GAAM,CAACrB,OAAK,EAACjC,QAASm0G,GACrBr0G,KAAAA,cAAA,UACEA,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,YAAY+4F,eAAe,UAGpDoF,KAAAA,cAACwD,GAAM,CAACrB,OAAK,EAACjC,QAASo0G,GACrBt0G,KAAAA,cAAA,UACEA,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,qBAAqB+4F,eAAe,WAOvE,GCtCA,CAAgB,QAAU,4BAA4B,UAAY,2BAA2B,KAAO,4BAA4B,IAAM,4BDwC3F,CAAEkH,eAAe,IExC5D,IAAgB,WAAa,4BAA4B,YAAc,4B,UCgBvE,IAAM0yG,GACM,WADNA,GAEK,UAFLA,GAGK,UAGL5uM,IAAQ+0F,EAAAA,GAAAA,IAAe,CAC3B85G,WAAY,CACV5yM,GAAI,aACJ+4F,eAAgB,oBAId6kE,IAAa9kE,EAAAA,GAAAA,IAAe,CAChC/0F,MAAO,CACL/D,GAAI,sBACJ+4F,eAAgB,yBAcd85G,GADL3yG,KAAWhmD,GAAQ,CAAE+lD,eAAe,GAAOvB,EAAAyG,GAAA,SAAAvG,IAAAnuF,EAAAA,GAAAA,GAAAoiM,EAAAj0G,GAAA,I,IAAAluF,G,EAAAmiM,E,maAE1C,SAAAA,EAAYp8L,GAAO,IAAA/T,EAKhB,OALgBP,EAAAA,GAAAA,GAAA,KAAA0wM,GACjBnwM,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,sBAWO,WACnBkkJ,IAAgB,EAClB,KAAC13I,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAEsB,WACrBkkJ,IAAgB,EAClB,KAAC13I,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,cAEY,SAACsrJ,GACZtrJ,EAAK+9C,UAAS,iBAAO,CACnButG,KAAAA,EACD,GACH,KAAC9+I,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAEe,WACdA,EAAKowM,WAAWH,GAClB,KAACzjM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAEgB,WACf8rC,GAAAA,KAAAA,qBACF,KAACt/B,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAEa,WACZ8e,OAAOsrB,SAAS4vE,OAAOtvE,GAAM8+C,SAC/B,IAjCExpF,EAAK2W,MAAQ,CACX20I,KAAMv3I,EAAMu3I,MACbtrJ,CACH,CAmFC,OAnFAN,EAAAA,GAAAA,GAAAywM,EAAA,EAAAp5M,IAAA,SAAA6C,MAgCD,WAAS,IAAA0V,EAAA,KACCg8I,EAASj4J,KAAKsjB,MAAd20I,KACA50D,EAASrjG,KAAK0gB,MAAd2iF,KAER,OAEE+E,KAAAA,cAAC4iD,GAAK,CAACr2I,KAAK,gBAAgB3G,MAAK,GAAAtL,OAAK2gG,EAAKC,cAAcukE,GAAW75J,QAAU01F,QAAS1jG,KAAKikK,YAAatd,iBAAe,IAEpHx5D,EAcA8qE,IAAS2kD,IAETx0G,KAAAA,cAACi0G,GAAQ,CACPC,WAAYt8M,KAAKg9M,eACjBpzG,SAAU,WACR3tF,EAAK8gM,WAAWH,IAChB3gM,EAAKgoJ,aACP,IAIFhM,IAAS2kD,IACT1rD,GACE9oD,KAAAA,cAAC7Y,GAAO,CACN+gE,cAAensG,GAAAA,WACfn2C,MAAOq1F,EAAKC,cAAct1F,GAAM6uM,YAChCJ,UAAW,kBAAMxgM,EAAK4wI,eAAe,EACrC6vD,SAAU,kBAAMzgM,EAAK8gM,WAAWH,GAAe,EAC/CD,UAAW1kD,IAAS2kD,MAKxB3kD,IAAS2kD,IACT1rD,GAAa9oD,KAAAA,cAAC3X,GAAgB,OAKtC,KAACqsH,CAAA,CA3FyC,CAChB10G,KAAAA,YAAejvF,EAAAA,EAAAA,GAAAi2F,GAAA,eASnB,CACpB6oD,KAAM2kD,KAXkCh0G,GAYzCwG,MAAAxG,GAkFH,UAAegF,EAAAA,GAAAA,IAAWkvG,IC3B1B,GA/EE10G,MAAA1qD,cAAC0+J,GAAW,KACVh0G,MAAA1qD,cAACu/J,EAAAA,GAAM,KACL70G,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjiD,OAAK,EAAChuJ,KAAI,eAAkB0gJ,UAAWu5B,KAE9C9+E,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjwM,KAAI,GAAAvK,OAAK20C,GAAM0/C,WAAU,aAAa42D,UAAW9gB,KACxDzkC,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjwM,KAAI,GAAAvK,OAAK20C,GAAM2/C,UAAS,aAAa22D,UAAWpc,KAEvDnpC,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjwM,KAAI,8GAAiH0gJ,UAAW97E,KACvIu2B,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjwM,KAAI,iCAAoC0gJ,UAAW97E,KAE1Du2B,MAAA1qD,cAACw/J,EAAAA,GAAK,CACJjwM,KAAI,sIACJ0gJ,UAAW8lD,KAEbrrG,MAAA1qD,cAACw/J,EAAAA,GAAK,CACJjwM,KAAI,yDACJ0gJ,UAAW8lD,KAEbrrG,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjwM,KAAI,kCAAqC0gJ,UAAW8lD,KAC3DrrG,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjwM,KAAI,2CAA8C0gJ,UAAW8lD,KACpErrG,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjwM,KAAI,8BAAiC0gJ,UAAW8lD,KAEvDrrG,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjwM,KAAI,GAAAvK,OAAK20C,GAAM++C,SAAQ,sBAAsBu3D,UAAW83C,KAC/Dr9F,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjwM,KAAI,GAAAvK,OAAK20C,GAAM++C,SAAQ,wBAAwBu3D,UAAW83C,KACjEr9F,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjwM,KAAI,GAAAvK,OAAK20C,GAAM++C,SAAQ,UAAUu3D,UAAW83C,KACnDr9F,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjwM,KAAI,GAAAvK,OAAK20C,GAAM++C,SAAQ,iCAAiCu3D,UAAW83C,KAC1Er9F,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjwM,KAAI,GAAAvK,OAAK20C,GAAM++C,SAAQ,kBAAkBu3D,UAAW83C,KAC3Dr9F,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjwM,KAAI,GAAAvK,OAAK20C,GAAM++C,UAAYu3D,UAAW83C,KAE7Cr9F,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjwM,KAAI,GAAAvK,OAAK20C,GAAMh+B,cAAgBs0I,UAAWwvD,KAEjD/0G,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjwM,KAAI,GAAAvK,OAAK20C,GAAM1Y,KAAI,+BAA+BgvH,UAAWu5B,KACpE9+E,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjwM,KAAI,GAAAvK,OAAK20C,GAAM9mC,QAAUo9I,UAAWu5B,KAE3C9+E,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjiD,OAAK,EAAChuJ,KAAI,GAAAvK,OAAK20C,GAAMphB,cAAgB03H,UAAWyvD,KACvDh1G,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjwM,KAAI,GAAAvK,OAAK20C,GAAMphB,aAAY,cAAc03H,UAAWyvD,KAC3Dh1G,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjwM,KAAI,GAAAvK,OAAK20C,GAAM+G,eAAiBuvG,UAAWx8D,KAClDiX,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjwM,KAAI,GAAAvK,OAAK20C,GAAMm/C,uBAAyBm3D,UAAWr9D,KAC1D8X,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjwM,KAAI,GAAAvK,OAAK20C,GAAMo/C,sBAAwBk3D,UAAW18D,KAEzDmX,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjwM,KAAI,GAAAvK,OAAK20C,GAAM6/C,UAAS,4BAA4By2D,UAAW0vD,KACtEj1G,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjwM,KAAI,GAAAvK,OAAK20C,GAAM6/C,UAAS,sBAAsBy2D,UAAW0vD,KAEhEj1G,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjwM,KAAI,GAAAvK,OAAK20C,GAAM8/C,cAAa,kBAAkBw2D,UAAWmuD,KAC/DxjJ,EAAAA,IAAY8vC,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjwM,KAAI,GAAAvK,OAAK20C,GAAM8zC,SAAQ,qBAAqBwiE,UAAWlU,KAC3ErxC,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjwM,KAAI,GAAAvK,OAAK20C,GAAMm8C,QAAO,yBAAyBm6D,UAAWouD,KAEjE3zG,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjwM,KAAI,GAAAvK,OAAK20C,GAAMu/C,iBAAmB+2D,UAAWt9D,KACpD+X,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjwM,KAAI,GAAAvK,OAAK20C,GAAMw/C,iBAAmB82D,UAAWmvD,KAEpD10G,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjiD,OAAK,EAAChuJ,KAAI,GAAAvK,OAAK20C,GAAM4/C,UAAY02D,UAAW2vD,KACnDl1G,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjiD,OAAK,EAAChuJ,KAAI,IAAO0gJ,UAAWu5B,KACnC9+E,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjiD,OAAK,EAAChuJ,KAAI,GAAAvK,OAAK20C,GAAMq/C,eAAiBi3D,UAAWu5B,KAExD9+E,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjiD,OAAK,EAAChuJ,KAAI,GAAAvK,OAAK20C,GAAMi/C,aAAeq3D,UAAWyqD,KACtDhwG,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjiD,OAAK,EAAChuJ,KAAI,GAAAvK,OAAK20C,GAAMk/C,mBAAqBo3D,UAAWyqD,KAC5DhwG,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjwM,KAAI,GAAAvK,OAAK20C,GAAMi/C,YAAW,sBAAsBq3D,UAAWqrD,KAClE5wG,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjwM,KAAI,GAAAvK,OAAK20C,GAAMk/C,kBAAiB,sBAAsBo3D,UAAWqrD,MAGtE1gJ,EAAAA,IACA8vC,MAAA1qD,cAACu/J,EAAAA,GAAM,KACL70G,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjiD,OAAK,EAAChuJ,KAAI,oCAAuC0gJ,UAAWu5B,KACnE9+E,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjiD,OAAK,EAAChuJ,KAAI,kBAAqB0gJ,UAAWu5B,MAGpD5uH,EAAAA,IACC8vC,MAAA1qD,cAACu/J,EAAAA,GAAM,KACL70G,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjiD,OAAK,EAAChuJ,KAAI,GAAAvK,OAAK20C,GAAM7hB,QAAO,qBAAqBm4H,UAAWnS,KACnEpzC,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjiD,OAAK,EAAChuJ,KAAI,oCAAuC0gJ,UAAWnS,MAGvEpzC,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACjwM,KAAI,GAAAvK,OAAK20C,GAAMy/C,gBAAkB62D,UAAWu5B,KAEnD9+E,MAAA1qD,cAACw/J,EAAAA,GAAK,CAACvvD,UAAW2vD,O,mBCtGsC,IAIzCC,IADpBriJ,EAAAA,EAAAA,KAAQ,SAAA3uD,GAAa,MAAQ,CAAEspB,WAAVtpB,EAAVspB,WAAgC,GAAE8yE,CAAAC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAA6iM,EAAAlyG,GAAA,I,IAAA1wF,G,EAAA4iM,E,maAAA,SAAAA,IAAA,IAAA5wM,GAAAP,EAAAA,GAAAA,GAAA,KAAAmxM,GAAA,QAAA39L,EAAA7e,UAAAd,OAAAqsE,EAAA,IAAAlsE,MAAAwf,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAwsD,EAAAxsD,GAAA/e,UAAA+e,GA0G3C,OA1G2CnT,EAAAgO,EAAAtZ,KAAA0e,MAAApF,EAAA,OAAAjY,OAAA4pE,KAAAnzD,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,YAEjC,IAAIwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,QACP,CACNkM,OAAQ,MACTM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,aA2CW,WACV,IAAM6wM,EAAkB,WACtB,IAGE,GAFuB7wM,EAAK+T,MAApBmV,WAEOlH,SAAU,OAGzB,IAAKnU,GAAAA,GAAAA,SAAiBQ,SAASpC,KAAK8uC,WAClC,MAAM,IAAInpD,MAAM,sBAIlB,IAAMowB,EAAWnU,GAAAA,GAAAA,SAAiBQ,SAASpC,KAAK8uC,WAAW/4B,WAEnDtH,EAAS7M,GAAAA,GAAAA,SAAiBQ,SAASpC,KAAnCyO,KAER1a,EAAK8wM,eAELhlK,GAAAA,KAAAA,oBAEIA,GAAAA,KAAAA,mBACFA,GAAAA,KAAAA,eAIFj+B,GAAAA,GAAAA,SAAiBQ,SAASpC,KAAK8uC,WAC5BK,GAAG,cAAetP,GAAAA,WAAAA,YAClBsP,GAAG,YAAatP,GAAAA,WAAAA,UAInBj+B,GAAAA,GAAAA,SAAiBQ,SAASpC,KAAKmvC,GAAG,oBAAqBtP,GAAAA,YAAAA,oBAEvD4hD,cAAcqjH,GAEdjlK,GAAAA,WAAAA,IAAuB,CACrB9pB,SAAAA,EACAtH,KAAAA,GAEJ,CAAE,MAAOlc,GACPyO,QAAQ4J,KAAK,oBAAqBrY,EACpC,CACF,EAGAqP,GAAAA,GAAAA,SAAiBQ,SAASpC,KAAKmvC,GAAG,QAASy1J,GAE3C,IAAME,EAAwBzjH,YAAYujH,EAAiB,IAC7D,KAACrkM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAEc,WAEb,IAAMkM,EAAS2B,GAAAA,GAAAA,SAAiBQ,SAASnC,OAAOkB,MAChDpN,EAAK+9C,UAAS,iBAAO,CACnB7xC,OAAAA,EACD,IACD4/B,GAAAA,KAAAA,YACF,IAAC9rC,CAAA,CAIA,OAJAN,EAAAA,GAAAA,GAAAkxM,EAAA,EAAA75M,IAAA,oBAAA6C,MAnGD,WAAoB,IAAA0V,EAAA,KAClBggI,IAAiB,WACVhgI,EAAK46F,WACVp+D,GAAAA,KAAAA,iBAEAj+B,GAAAA,GAAAA,SAAiBQ,SAASnC,OACvBkvC,GAAG,aAAc9rC,EAAKwhM,cACtB11J,GAAG,YAAa9rC,EAAKwhM,cACrB11J,GAAG,eAAgB9rC,EAAKwhM,cACxB11J,GAAG,eAAgB9rC,EAAKwhM,cACxB11J,GAAG,oBAAqB9rC,EAAKwhM,cAChCxhM,EAAK0hM,YACP,GACF,GAAC,CAAAj6M,IAAA,uBAAA6C,MAED,WACEvG,KAAK62G,UAAW,EAChB,IAEEr8F,GAAAA,GAAAA,SAAiBQ,SAASnC,OACvB64F,IAAI,aAAc1xG,KAAKy9M,cACvB/rG,IAAI,YAAa1xG,KAAKy9M,cACtB/rG,IAAI,eAAgB1xG,KAAKy9M,cACzB/rG,IAAI,eAAgB1xG,KAAKy9M,cACzB/rG,IAAI,oBAAqB1xG,KAAKy9M,cAG7BjjM,GAAAA,GAAAA,SAAiBQ,SAASpC,KAAK8uC,aACjC9tC,QAAQ4jB,IAAI,cAEZhjB,GAAAA,GAAAA,SAAiBQ,SAASpC,KAAK8uC,WAC5BwS,eAAe,cAAezhB,GAAAA,WAAAA,YAC9ByhB,eAAe,YAAazhB,GAAAA,WAAAA,UAE/Bj+B,GAAAA,GAAAA,SAAiBQ,SAASpC,KAAK8uC,WAAWk2J,QAE9C,CAAE,MAAO3yM,GACP2O,QAAQ4J,KAAK,kCACf,CACF,GAAC,CAAA9f,IAAA,SAAA6C,MA8DD,WACE,OAAO,IACT,KAACg3M,CAAA,CA9G2C,CACZ/xG,GAAAA,aAAS5C,GC6D3C,UAAe1tC,EAAAA,EAAAA,KAAQ,SAAAxtD,GAAe,MAAQ,CAC5CqnB,aADoCrnB,EAAZqb,aACGgM,aAC5B,GAFD,EAjEA,SAAsBrU,GACpB,IAAQqU,EAA2BrU,EAA3BqU,aAAc5oB,EAAauU,EAAbvU,SACtBs7F,GAAsCC,EAAAA,GAAAA,UAAS,IAAGC,GAAAvyC,EAAAA,GAAAA,GAAAqyC,EAAA,GAA3Co2G,EAAWl2G,EAAA,GAAEm2G,EAAcn2G,EAAA,GAG9Bo2G,EAFwB,IA2D5B,OAvDA91G,EAAAA,GAAAA,YAAU,WACR,IAAI+1G,OAAwDh9M,EAEtDorM,EAAa,WACjBv1K,GAAAA,aAAAA,iCACAknL,EATwB,IAWpBC,GAAY3jH,cAAc2jH,EAChC,EAEA,GAAIjpL,EAAa90B,QACX49M,IAAgB9oL,EAAa,GAAGG,KAAM,CACxC,IAAA+oL,EAA8BlpL,EAAa,GAAnCI,EAAW8oL,EAAX9oL,YAAaD,EAAI+oL,EAAJ/oL,KACfxd,EAAO+gC,GAAQtjB,EAAYxL,SAAS5hB,eAAes7C,KAEzDy6J,EAAe5oL,GAEf8oL,EAAa/jH,aAAWj5E,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAO,IAAA,IAAAykD,EAAAxvB,EAAA,OAAAx1B,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,cAAAmb,EAAAxZ,KAAA,EAAAwZ,EAAAnb,KAAA,EAECoR,EAAKlC,IAAI0oM,sBAAsBhpL,GAAK,OAApD+wC,EAAOxkD,EAAAC,KAtBU,OAwBUq8L,GAC/B3R,IAGc,OAAZnmI,IACIxvB,EAAO1tB,GAAa63E,QACxBzrE,EAAYxL,SAAS5hB,cACrBk+D,EAAQwZ,iBAGVhnC,GAAAA,cAAAA,KAA2B39B,GAAAA,cAAAA,YAAqC,CAC9D2+I,WAAW,EACXh8D,QAASx3B,EAAQua,OACjB/pC,KAAAA,IAGF21J,KACD3qL,EAAAnb,KAAA,gBAAAmb,EAAAxZ,KAAA,EAAAwZ,EAAAgC,GAAAhC,EAAA,SAEDs8L,GAAoB,IAEpBnkM,QAAQrQ,MAAM,2BAA4B,eAC1CqQ,QAAQ4jB,IAAG/b,EAAAgC,IACX7J,QAAQy2B,WAAU,yBAAA5uB,EAAAJ,OAAA,GAAAG,EAAA,kBAEnBu8L,EACL,CAGF,OAAO,WACDC,GAAY3jH,cAAc2jH,EAChC,CACF,GAAG,CAACjpL,EAAa90B,SAEVkM,CACT,ICjEkC,IAWbgyM,GAAa,SAAAt1G,IAAAnuF,EAAAA,GAAAA,GAAAyjM,EAAAt1G,GAAA,I,IAAAluF,G,EAAAwjM,E,maAChC,SAAAA,EAAYz9L,GAAO,IAAA/T,EAMhB,OANgBP,EAAAA,GAAAA,GAAA,KAAA+xM,IACjBxxM,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAED4C,MAAQ,CACXnY,OAAO,EACP4jI,eAAW/tI,GACZ2L,CACH,CAIC,OAJAN,EAAAA,GAAAA,GAAA8xM,EAAA,EAAAz6M,IAAA,oBAAA6C,MAMD,SAAkB4E,EAAO4jI,GACvBpsF,GAAAA,IAAAA,OAAoB,cAADjgD,OAAeyI,EAAMikC,UACxCx1B,QAAQrQ,MAAM,uBAAwB,+BACtCqQ,QAAQzO,MAAMA,GACdyO,QAAQy2B,WAERrwC,KAAK0qD,UAAS,iBAAO,CACnBv/C,MAAAA,EACA4jI,UAAAA,EACD,GACH,GAAC,CAAArrI,IAAA,SAAA6C,MAED,WACE,IAAQ4F,EAAanM,KAAK0gB,MAAlBvU,SACAhB,EAAUnL,KAAKsjB,MAAfnY,MAER,OAAIA,EAEAi9F,KAAAA,cAAA,OACEgC,UAAWe,MAAEhyF,EAAAA,EAAAA,GAAC,CAAC,EC/CM,4BDgDI,KAGzBivF,KAAAA,cAAA,MACEgC,UAAWe,MAAEhyF,EAAAA,EAAAA,GAAC,CAAC,ECpD4C,4BDqDpC,KAGvBivF,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,kBACH+4F,eAAe,6EAIlB73F,EAAMikC,QACLg5D,KAAAA,cAAA,OACEgC,UAAWe,MAAEhyF,EAAAA,EAAAA,GAAC,CAAC,EChEiF,4BDiE1E,KAEvB,UACShO,EAAMikC,SAEd,MAKHjjC,CACT,IAAC,EAAAzI,IAAA,2BAAA6C,MApDD,SAAgC4E,GAC9B,MAAO,CAAEA,MAAAA,EACX,KAACgzM,CAAA,CAZ+B,CAAS/1G,KAAAA,WEd3C,UAAgB,cAAgB,2BAA2B,UAAY,2BAA2B,SAAW,2BAA2B,OAAS,2BAA2B,gBAAgB,2BAA2B,eAAiB,2BAA2B,aAAe,2BAA2B,cAAgB,4BAA4B,eAAe,2BAA2B,mBAAqB,2BAA2B,WAAa,4BCAhc,IAAgB,IAAM,2BAA2B,SAAW,2BAA2B,KAAO,2BAA2B,OAAS,4B,UCclI,IAGMg2G,IAAGz1G,GADRnB,KAAWrjD,GAAQ,CAAE+lD,eAAe,KADpCwvC,EAAAA,EAAAA,IAAU9wC,GAAAD,GAAAC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAA0jM,EAAA/yG,GAAA,I,IAAA1wF,G,EAAAyjM,E,maAAA,SAAAA,IAAA,OAAAhyM,EAAAA,GAAAA,GAAA,KAAAgyM,GAAAzjM,EAAAoF,MAAA,KAAAhf,UAAA,CA0FR,OA1FQsL,EAAAA,GAAAA,GAAA+xM,EAAA,EAAA16M,IAAA,SAAA6C,MAGT,WACE,IAAAijG,EAGIxpG,KAAK0gB,MAFPkZ,EAAI4vE,EAAJ5vE,KACQ4c,EAAMgzD,EAAdnG,KAAQ7sD,OAGJ6nK,EAAkB/vL,GAAAA,KAAAA,GAAAA,KAAAA,OAClBgwL,EAAiBhwL,GAAAA,KAAAA,GAAAA,KAAAA,MAEvB,OACE85E,KAAAA,cAAA,OAAKC,UAAU,OACZg2G,GAAmBA,EAAgBp+M,OAAS,GAC3CmoG,KAAAA,cAAAA,KAAAA,SAAA,KAEEi2G,EAAgBj9M,KAAI,SAAC8D,EAAMqC,GACzB,IAAQyG,EAA2B9I,EAA3B8I,MAAOyoC,EAAoBvxC,EAApBuxC,KAAM8nK,EAAcr5M,EAAdq5M,UACrB,OACEn2G,KAAAA,cAAA,OAAKC,UAAU,WAAW3kG,IAAK6D,EAAO6iG,UAAU,8BAC9ChC,KAAAA,cAAA,KACEkK,KAAM77D,EACNwzD,OAASs0G,EAAS,iBAClBl2G,UAAU,QAETr6F,GAIT,KAIJo6F,KAAAA,cAACuB,GAAAA,SAAQ,KACN/vE,EACExqB,QAAO,SAAArP,GAAC,OAAoB,IAAhBA,EAAEy+M,SAAmB,IACjCp9M,KAAI,SAAC8D,EAAMqC,GACV,IAAQyG,EAAmC9I,EAAnC8I,MAAOyoC,EAA4BvxC,EAA5BuxC,KAAMwkH,EAAsB/1J,EAAtB+1J,MAAOwjD,EAAev5M,EAAfu5M,WAE5B,OACEr2G,KAAAA,cAAA,OAAKC,UAAU,WAAW3kG,IAAK6D,EAAO6iG,UAAU,8BAC7Cq0G,EACCr2G,KAAAA,cAAA,KACEkK,KAAM77D,EACNwzD,OAAO,SACP5B,UAAU,QAETr6F,GAGHo6F,KAAAA,cAACkzD,GAAAA,GAAO,CACN53J,IAAK6D,EACL0zJ,MAAOA,EACP7wD,UAAS,6BAAA1nG,OACLyhD,GAAAA,KAAW,8BAAAzhD,OACX+zC,GAAQA,EAAKp8B,SAAS,YAAc,6CAA+C,GAAE,4BAEzFs2B,GAAIs+D,GAAaz4D,EAAQC,GACzBioK,gBAAiBv6J,GAAAA,QAEhBn2C,GAKX,KAEHswM,GAAkBA,EAAer+M,OAAS,GACzCmoG,KAAAA,cAAAA,KAAAA,SAAA,KAEEk2G,EAAel9M,KAAI,SAAC8D,EAAMqC,GACxB,IAAQyG,EAA2B9I,EAA3B8I,MAAOyoC,EAAoBvxC,EAApBuxC,KAAM8nK,EAAcr5M,EAAdq5M,UACrB,OACEn2G,KAAAA,cAAA,OAAKC,UAAU,WAAW3kG,IAAK6D,EAAO6iG,UAAU,8BAC9ChC,KAAAA,cAAA,KACEkK,KAAM77D,EACNwzD,OAASs0G,EAAS,iBAClBl2G,UAAU,QAETr6F,GAIT,KAMV,KAACowM,CAAA,CA1FQ,CAEO5yG,GAAAA,aAAS5C,KAAAA,IA4F3B,UAAegF,EAAAA,GAAAA,IAAWwwG,IC7G1B,IAAgB,OAAS,4BAA4B,gBAAgB,2BAA2B,gBAAgB,2BAA2B,OAAS,2BAA2B,qBAAqB,2BAA2B,kBAAkB,2BAA2B,KAAO,4B,UCkBnR,IAGMO,IAASh2G,GADdnB,KAAWrjD,GAAQ,CAAE+lD,eAAe,KADpCwvC,EAAAA,EAAAA,IAAU9wC,GAAAD,GAAAC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAAikM,EAAAtzG,GAAA,I,IAAA1wF,G,EAAAgkM,E,maAIT,SAAAA,EAAYj+L,GAAO,IAAA/T,EAIhB,OAJgBP,EAAAA,GAAAA,GAAA,KAAAuyM,GACjBhyM,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iBAME,WACd,IAAQiyM,EAAkBjyM,EAAK2W,MAAvBs7L,cACRjyM,EAAK+9C,SAAS,CACZk0J,eAAgBA,GAEpB,KAACzlM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAEa,WACZA,EAAK+9C,SAAS,CACZk0J,eAAe,GAEnB,IAhBEjyM,EAAK2W,MAAQ,CACXs7L,eAAe,GAChBjyM,CACH,CAqHC,OArHAN,EAAAA,GAAAA,GAAAsyM,EAAA,EAAAj7M,IAAA,SAAA6C,MAeD,WAAS,IAAA0V,EAAA,KACPutF,EAIIxpG,KAAK0gB,MAHPkZ,EAAI4vE,EAAJ5vE,KACQ4c,EAAMgzD,EAAdnG,KAAQ7sD,OACRkuD,EAAQ8E,EAAR9E,SAEMk6G,EAAkB5+M,KAAKsjB,MAAvBs7L,cAEFP,EAAkB/vL,GAAAA,KAAAA,GAAAA,KAAAA,OAClBgwL,EAAiBhwL,GAAAA,KAAAA,GAAAA,KAAAA,MACjBuwL,EAAe,GAAHn8M,QAAA0mB,EAAAA,EAAAA,GACbi1L,IAAej1L,EAAAA,EAAAA,GACfk1L,IAGDQ,EAAe,KA0BnB,OAzBID,EAAa5+M,SAEf6+M,EACE12G,KAAAA,cAAAA,KAAAA,SAAA,KACEA,KAAAA,cAAA,OAAKE,QAAStoG,KAAK++M,YAAYv/L,KAAKxf,MAAOqoG,UAAS,sBAAA3lG,OAAwBk8M,EAAgB,SAAW,MACvGx2G,KAAAA,cAAA,OAAKC,UAAS,mBAAA3lG,OAAqBk8M,EAAgB,SAAW,KAE5DC,EAAaz9M,KAAI,SAAC8D,EAAMqC,GACtB,IAAQyG,EAA2B9I,EAA3B8I,MAAOyoC,EAAoBvxC,EAApBuxC,KAAM8nK,EAAcr5M,EAAdq5M,UACrB,OACEn2G,KAAAA,cAAA,KACEE,QAASrsF,EAAK8iM,YAAYv/L,KAAKvD,GAC/Bq2F,KAAM77D,EACN/yC,IAAK6D,EACL0iG,OAASs0G,EAAS,kBAEjBvwM,EAGP,OAONo6F,KAAAA,cAAA,WACG02G,EACD12G,KAAAA,cAAA,OAAKC,UAAS,UAAA3lG,OAAYgiG,EAAW,gBAAkB,KACpDm6G,EAAa5+M,OAAS,GACrBmoG,KAAAA,cAAA,KAAGE,QAAStoG,KAAKg/M,cAAcx/L,KAAKxf,MAAOqoG,UAAS,iBAAA3lG,OAAmBk8M,EAAgB,SAAW,KAChGx2G,KAAAA,cAAA,KAAGgC,UAAU,aAAa,cAAY,UAGzCxwE,EACExqB,QAAO,SAAArP,GAAC,OAAmB,IAAfA,EAAEu4D,QAAkB,IAChCl3D,KAAI,SAAC8D,EAAMqC,GACV,IACEyG,EAQE9I,EARF8I,MACAyoC,EAOEvxC,EAPFuxC,KACAwkH,EAME/1J,EANF+1J,MACA/oI,EAKEhtB,EALFgtB,KACA+sL,EAIE/5M,EAJF+5M,OACAR,EAGEv5M,EAHFu5M,WACAS,EAEEh6M,EAFFg6M,gBACAC,EACEj6M,EADFi6M,YAGF,OAAIV,EAEAr2G,KAAAA,cAAA,KAAGkK,KAAM77D,EAAMwzD,OAAO,SAASvmG,IAAK6D,GACjC2qB,EACDk2E,KAAAA,cAAA,QAAMgC,UAAW60G,GAAU96J,GAAAA,MAAcn2C,KAKvCmxM,GAAeD,EACnB92G,KAAAA,cAAA,KACE1kG,IAAK6D,EACL+qG,KAAM77D,EACN2wG,UAAW,GAEVl1H,EACDk2E,KAAAA,cAAA,QAAMgC,UAAW60G,GAAU96J,GAAAA,MAAcn2C,IAG3Co6F,KAAAA,cAACkzD,GAAAA,GAAO,CACN53J,IAAK6D,EACL0zJ,MAAOA,EACPtqH,GAAIs+D,GAAaz4D,EAAQC,GACzB2zD,UAAS,2BAAA1nG,OACL+zC,GAAQA,EAAKp8B,SAAS,WAAa,kBAAoB,GAAE,4BAAA3X,OACzD+zC,GAAQA,EAAKp8B,SAAS,YAAc,6CAA+C,GAAE,0BAEzFqkM,gBAAiBE,EAAgBz6J,GAAAA,KAAcA,GAAAA,QAE9CjyB,EACDk2E,KAAAA,cAAA,QAAMgC,UAAW60G,GAAU96J,GAAAA,MAAcn2C,GAGjD,KAKV,KAAC2wM,CAAA,CA9HQ,CAEanzG,GAAAA,aAAS5C,KAAAA,IAgIjC,UAAegF,EAAAA,GAAAA,IAAW+wG,ICtJ1B,GAAe,IAA0B,iC,UC0BzC,IAAM9wH,GAASx0E,aAAaE,QAAQuB,GAAAA,aAAAA,QAK9BskM,IAAIz2G,GADTnB,KC7BD,CAAgB,YAAc,4BD6BV,CAAE0C,eAAe,KADpCwvC,EAAAA,EAAAA,IAAU9wC,GAAAD,GAAAC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAA0kM,EAAA/zG,GAAA,I,IAAA1wF,G,EAAAykM,E,maAAA,SAAAA,IAAA,OAAAhzM,EAAAA,GAAAA,GAAA,KAAAgzM,GAAAzkM,EAAAoF,MAAA,KAAAhf,UAAA,CA6CR,OA7CQsL,EAAAA,GAAAA,GAAA+yM,EAAA,EAAA17M,IAAA,SAAA6C,MAIT,WAGMvG,KAAK0gB,MADP2iF,KAAQ7sD,OADV,IAIM6oK,EAAkC,MAAnB5zL,OAAOqsB,QACtBwnK,EAAgBzxH,IACpBpiE,OAAO8zL,aAEP9zL,OAAOqsB,QAEH0nK,EAAmB/zL,OAAOg0L,mBAC1BC,EAAiBj0L,OAAOg0L,mBAExBE,EAASN,EACbC,EAEYM,GAERC,EAASp0L,OAAOsrB,SAASC,SAEzB8oK,EAAUN,EAAmBE,EAAiBroK,GAAM6+C,KAE1D,OACEkS,KAAAA,cAAA,OAAKC,UAAU,eACZm3G,EACCp3G,KAAAA,cAAA,KAAGkK,KAAMwtG,GACP13G,KAAAA,cAAA,OAAKgE,IAAKuzG,EAAQrzG,IAAKuzG,KAGzBz3G,KAAAA,cAACuB,GAAAA,SAAQ,KACPvB,KAAAA,cAACstC,GAAAA,GAAI,CAAC/kG,GAAImvK,EAAS,cAAS,WAAS,QACnC13G,KAAAA,cAAA,OAAKgE,IAAKuzG,EAAQrzG,IAAKuzG,KAEzBz3G,KAAAA,cAACyF,GAAY,CAAC5jG,GAAG,OAAOskG,OAAO,QAAQD,MAAM,UAC3ClG,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,SAAS+4F,eAAe,cAMzD,KAACo8G,CAAA,CA7CQ,CAEQ5zG,GAAAA,aAAS5C,KAAAA,IA8C5B,UAAegF,EAAAA,GAAAA,IAAWwxG,IEC1B,GAAe53G,IAAf,EAvBsB,SAAHj7F,GAAoB,IAjD1B0+F,EAiDY3C,EAAO/7F,EAAP+7F,QACjBza,EAA0C,SAAjCpwC,SAAS/e,KAAKqvE,QAAQC,OAErC,OACE5F,KAAAA,cAAA,OACEC,UAAS,gBACTC,QAASA,EACT,WAAS,WACT,eAECza,GA3DMod,EA2DO,QA1DlB7C,KAAAA,cAAA,OAAKn+F,GAAG,SAAS2rI,QAAQ,cAAcD,MAAM,KAAKxrG,OAAO,KAAK41K,MAAM,8BAClE33G,KAAAA,cAAA,SACEA,KAAAA,cAAA,SACEA,KAAAA,cAAA,QAAM6C,KAAMA,EAAMp+F,EAAE,2RAEtBu7F,KAAAA,cAAA,SACEA,KAAAA,cAAA,QAAM6C,KAAMA,EAAMp+F,EAAE,uHAEtBu7F,KAAAA,cAAA,SACEA,KAAAA,cAAA,QAAM6C,KAAMA,EAAMp+F,EAAE,kOAEtBu7F,KAAAA,cAAA,SACEA,KAAAA,cAAA,QAAM6C,KAAMA,EAAMp+F,EAAE,gHAEtBu7F,KAAAA,cAAA,SACEA,KAAAA,cAAA,QAAM6C,KAAMA,EAAMp+F,EAAE,iOAEtBu7F,KAAAA,cAAA,SACEA,KAAAA,cAAA,QAAM6C,KAAMA,EAAMp+F,EAAE,mHAEtBu7F,KAAAA,cAAA,SACEA,KAAAA,cAAA,QAAM6C,KAAMA,EAAMp+F,EAAE,kOAEtBu7F,KAAAA,cAAA,SACEA,KAAAA,cAAA,QAAM6C,KAAMA,EAAMp+F,EAAE,4GAEtBu7F,KAAAA,cAAA,SACEA,KAAAA,cAAA,QAAM6C,KAAMA,EAAMp+F,EAAE,yNAMf,SAACo+F,GAAI,OAChB7C,KAAAA,cAAA,OAAKr7D,QAAQ,MAAM9iC,GAAG,SAAS0rI,MAAM,KAAKxrG,OAAO,KAAK1kC,EAAE,MAAM05K,EAAE,MAAMvpC,QAAQ,uBAC5ExtC,KAAAA,cAAA,QAAM6C,KAAMA,EAAOp+F,EAAE,mOAGrBu7F,KAAAA,cAAA,QAAM6C,KAAMA,EAAMp+F,EAAE,inBAOhB,CAauBmzM,CAAK,WAE9B53G,KAAAA,cAACyF,GAAY,CAAC5jG,GAAG,WAAWskG,OAAO,QAAQD,MAAM,UAC/ClG,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,WACH+4F,eAAe,gBACfl9F,OAAQ,CAAE85F,MAAO/R,EAAS,QAAU,WAK9C,GAEyC1pC,GAAQ,CAAE+lD,eAAe,ICKlE,IAAehvC,EAAAA,EAAAA,KACb,SAAAxtD,GACM,MACC,CACLoe,aAFIpe,EAAJioB,KAEmB7J,aACpB,GALH,CAMEq+E,MA5EF,SAAuBzpF,GACrB,IACEoL,EACEpL,EADFoL,aAGIgxK,EAAsBhxK,EAAanO,YAEnCuoI,EAAWluI,GAASmhC,YAAY+e,kBAChCquH,EAAgCuW,IAAwB9kL,GAASwiC,qBACjEylK,GAAqCnjB,GAAuBvW,EAElE,GAAgB,QAAZrgC,IAAuB53H,GAAAA,KAAAA,iBAA8B,OAAO,KAEhE,IAMM4xL,EAAgB,eAAA3zM,GAAAyU,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAO,IAAA,OAAAP,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,cAAAmb,EAAAnb,KAAA,EACjB0R,GAAS+9C,aAAY,wBAAAt0C,EAAAJ,OAAA,GAAAG,EAAA,KAC5B,kBAFqB,OAAAjV,EAAAwT,MAAA,KAAAhf,UAAA,KAQhB0gD,EAAe31B,EAAanC,SAAS5hB,cAE3C,OACEqgG,MAAA1qD,cAAA,OACEzzC,GAAG,iBACHo+F,UAAU,gBACVC,QACEw0F,EACKvW,EACC25B,EAb0B,WACpCznK,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,qBACtB,EAZsB,WACpB9C,GAASykD,sBAAsB,CAC7By9G,cAAc,GAElB,GAwBK+lC,EAEG73G,MAAA1qD,cAACsjG,GAAI,CACHh7I,KAAM,GACN2O,KAAMuxI,IAIR99C,MAAA1qD,cAACsjG,GAAI,CACHh7I,KAAM,GACN2O,KAAM8sC,IAGZ2mD,MAAA1qD,cAAA,QAAM2qD,UAAS,qBAAA3lG,OAAuBu9M,EAAoC,GAAK,gBAC5E15B,EACGn+E,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,gCAAgC+4F,eAAe,oBACpE85F,EAEE10F,MAAA1qD,cAACmzF,GAAO,CACN7gI,QAAS8b,EAAa9b,QACtB8tC,OAAQ4e,GAAcs0E,QAGxB5oC,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,gCAAgC+4F,eAAe,oBAIlF,GChFA,CAAgB,cAAgB,2BAA2B,kBAAoB,2BAA2B,YAAc,4BDwFpF,CAAEkH,eAAe,KEpFV,IAGtBi2G,GAAW,SAAA90G,IAAA3wF,EAAAA,GAAAA,GAAAylM,EAAA90G,GAAA,I,IAAA1wF,G,EAAAwlM,E,maAE9B,SAAAA,EAAYz/L,GAAO,IAAA/T,EAyDjB,OAzDiBP,EAAAA,GAAAA,GAAA,KAAA+zM,GACjBxzM,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAENvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,yBA0DsB,SAAC1F,GACvB,IAAQu5E,EAAWv5E,EAAXu5E,OACiB,CAAC6sG,GAAAA,GAAAA,SAAiBA,GAAAA,GAAAA,SAEtBhzK,SAASmmE,IAC5B7zE,EAAK+9C,SAAS,CAAEg3C,KAAK,GAEzB,IAhEE/0F,EAAK2W,MAAQ,CACXo+E,KAAK,EACL12C,MAAO,CACL,CACE9D,QAASkhD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,iBAAiB+4F,eAAe,8IAC9DiH,OAAQ,kBAEV,CACE/iD,QAASkhD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,iBAAiB+4F,eAAe,4FAC9Do9G,aAAc,CACZC,kBAAkB,GAEpB7yB,iBAAkB,GAClBvjF,OAAQ,iBAEV,CACE/iD,QAASkhD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,iBAAiB+4F,eAAe,sKAC9Do9G,aAAc,CACZC,kBAAkB,GAEpB7yB,iBAAkB,GAClBvjF,OAAQ,oBAEV,CACE/iD,QAASkhD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,iBAAiB+4F,eAAe,4HAC9Do9G,aAAc,CACZC,kBAAkB,GAEpB7yB,iBAAkB,GAClBvjF,OAAQ,mBAEV,CACE/iD,QAASkhD,KAAAA,cAACI,GAAAA,EAAgB,CACxBv+F,GAAG,iBACH+4F,eAAe,0GACjBo9G,aAAc,CACZC,kBAAkB,GAEpB7yB,iBAAkB,GAClBvjF,OAAQ,sBAEV,CACE/iD,QAASkhD,KAAAA,cAACI,GAAAA,EAAgB,CACxBv+F,GAAG,iBACH+4F,eAAe,4MACjBo9G,aAAc,CACZC,kBAAkB,GAEpB7yB,iBAAkB,GAClBvjF,OAAQ,yBAIdt9F,CAEF,CAmCC,OAnCAN,EAAAA,GAAAA,GAAA8zM,EAAA,EAAAz8M,IAAA,SAAA6C,MAWD,WACE,IAAAwlD,EAAuB/rD,KAAKsjB,MAApBo+E,EAAG31C,EAAH21C,IAAK12C,EAAKe,EAALf,MACbw+C,EAAkCxpG,KAAK0gB,MAA/BysK,EAAS3jF,EAAT2jF,UAAWM,EAAUjkF,EAAVikF,WAEnB,OACErlF,KAAAA,cAAA,OAAKgC,UAAU,gBACZqjF,GAAcrlF,KAAAA,cAACslF,GAAAA,GAAO,CACrBzzK,SAAUja,KAAK2tL,sBACfd,YAAU,EACVnrF,IAAKA,EACLksF,mBAAiB,EACjBC,iBAAkB,SAACntK,GAAK,OAAK0nF,KAAAA,cAACwG,IAAO/C,EAAAA,GAAAA,GAAA,CAACshF,UAAWA,GAAezsK,GAAS,EACzEotK,cAAY,EACZC,gBAAc,EACd/iI,MAAOA,EACP7G,OAAQ,CACNvpC,QAAS,CACP+N,OAAQ,IACRqlK,WAAY,cAMxB,KAACmyB,CAAA,CAhG6B,CAAS30G,GAAAA,WCHE,IAGtB80G,GAAU,SAAAj1G,IAAA3wF,EAAAA,GAAAA,GAAA4lM,EAAAj1G,GAAA,I,IAAA1wF,G,EAAA2lM,E,maAE7B,SAAAA,EAAY5/L,GAAO,IAAA/T,EAkDjB,OAlDiBP,EAAAA,GAAAA,GAAA,KAAAk0M,GACjB3zM,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAENvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,yBAkDsB,SAAC1F,GACvB,IAAQu5E,EAAWv5E,EAAXu5E,OACiB,CAAC6sG,GAAAA,GAAAA,SAAiBA,GAAAA,GAAAA,SAEtBhzK,SAASmmE,IAC5B7zE,EAAK+9C,SAAS,CAAEg3C,KAAK,GAEzB,IAxDE/0F,EAAK2W,MAAQ,CACXo+E,KAAK,EACL12C,MAAO,CACL,CACE9D,QAASkhD,KAAAA,cAACI,GAAAA,EAAgB,CACxBv+F,GAAG,gBACH+4F,eAAe,0BACjBiH,OAAQ,yBAEV,CACE/iD,QAASkhD,KAAAA,cAACI,GAAAA,EAAgB,CACxBv+F,GAAG,gBACH+4F,eAAe,iDACjBiH,OAAQ,yBAEV,CACE/iD,QAASkhD,KAAAA,cAACI,GAAAA,EAAgB,CACxBv+F,GAAG,cACH+4F,eAAe,4LACjBiH,OAAQ,qBAEV,CACE/iD,QAASkhD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,cAAc+4F,eAAe,wKAC3Do9G,aAAc,CACZC,kBAAkB,GAEpB7yB,iBAAkB,GAClBvjF,OAAQ,sBAEV,CACE/iD,QAASkhD,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,cAAc+4F,eAAe,wHAC3DuqF,UAAW,SACXtjF,OAAQ,mBAEV,CACE/iD,QAASkhD,KAAAA,cAACI,GAAAA,EAAgB,CACxBv+F,GAAG,cACH+4F,eAAe,wIACjBo9G,aAAc,CACZC,kBAAkB,GAEpB7yB,iBAAkB,GAClBvjF,OAAQ,uBAIdt9F,CACF,CAkCC,OAlCAN,EAAAA,GAAAA,GAAAi0M,EAAA,EAAA58M,IAAA,SAAA6C,MAWD,WACE,IAAAwlD,EAAuB/rD,KAAKsjB,MAApBo+E,EAAG31C,EAAH21C,IAAK12C,EAAKe,EAALf,MACbw+C,EAAkCxpG,KAAK0gB,MAA/BysK,EAAS3jF,EAAT2jF,UAAWM,EAAUjkF,EAAVikF,WACnB,OACErlF,KAAAA,cAAA,OAAKgC,UAAU,gBACZqjF,GAAcrlF,KAAAA,cAACslF,GAAAA,GAAO,CACrBzzK,SAAUja,KAAK2tL,sBACfd,YAAU,EACVnrF,IAAKA,EACLksF,mBAAiB,EACjBC,iBAAkB,SAACntK,GAAK,OAAK0nF,KAAAA,cAACwG,IAAO/C,EAAAA,GAAAA,GAAA,CAACshF,UAAWA,GAAezsK,GAAS,EACzEotK,cAAY,EACZC,gBAAc,EACd/iI,MAAOA,EACP7G,OAAQ,CACNvpC,QAAS,CACP+N,OAAQ,IACRqlK,WAAY,cAMxB,KAACsyB,CAAA,CAvF4B,CAAS90G,GAAAA,WCFlC+0G,GAAWjyL,IAAUA,GAAAA,SA0C3B,SAAek5E,IAAf,EAhCe,SAAC9mF,GACd,IAAA8/L,EAII9/L,EAHF+/L,iBAAAA,OAAgB,IAAAD,EAAG,GAAEA,EACrBE,EAEEhgM,EAFFggM,aAAY97C,EAEVlkJ,EADFzZ,KAAAA,OAAI,IAAA29J,EAAG,KAAIA,EAGb,OACEx8D,KAAAA,cAAA,OAAKC,UAAU,UAAU+B,UAAWq2G,GAClCr4G,KAAAA,cAAA,WACG38E,OAAOk1L,eACNv4G,KAAAA,cAAA,OAAKC,UAAU,YAAY+D,IAAK3gF,OAAOk1L,cAAer0G,IAAI,gBAE3DrlG,GAAQA,EAAKykC,MACZ08D,KAAAA,cAAA,KAAGC,UAAU,QACXD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,WACH+4F,eAAe,4EAIpB/7F,GAAQA,EAAKykC,MACZ08D,KAAAA,cAAA,KAAGkK,KAAMrrG,EAAKykC,KAAM28D,UAAU,OAAO4B,OAAO,SAASuI,IAAI,uBACtDvrG,EAAKykC,OAGR60K,IAAYjmM,QAAQomM,IAAiBt4G,KAAAA,cAAA,OAAKC,UAAU,QAAQq4G,IAItE,GC7CA,CAAgB,QAAU,2BAA2B,UAAY,4BAA4B,KAAO,2BAA2B,KAAO,2BAA2B,KAAO,2BAA2B,KAAO,4BD+ChK,CAAEx2G,eAAe,IEhD3D,GAAe,IAA0B,gC,UCWI,I,eAGxB02G,GADpBp5G,KCZD,CAAgB,OAAS,2BAA2B,KAAO,4BAA4B,YAAc,2BAA2B,MAAQ,2BAA2B,SAAW,2BAA2B,KAAO,2BAA2B,MAAQ,2BAA2B,QAAU,2BAA2B,QAAU,2BAA2B,KAAO,4BDY5UmB,EAAAyG,GAAA,SAAA/D,IAAA3wF,EAAAA,GAAAA,GAAAkmM,EAAAv1G,GAAA,I,IAAA1wF,G,EAAAimM,E,maAUjB,SAAAA,EAAYlgM,GAAO,OAAAtU,EAAAA,GAAAA,GAAA,KAAAw0M,GAAAjmM,EAAAtZ,KAAA,KACXqf,EACR,CAyDC,OAzDArU,EAAAA,GAAAA,GAAAu0M,EAAA,EAAAl9M,IAAA,SAAA6C,MAED,WAAS,IAAAoG,EAAA,KACP68F,EAAgCxpG,KAAK0gB,MAA7BkV,EAAK4zE,EAAL5zE,MAAairL,EAAMr3G,EAAZniF,KAIf,QAASuO,EAAM31B,QACbmoG,KAAAA,cAAA,OAAKC,UAAU,UACZzyE,EAAM31B,OAAS,EACd21B,EAAMx0B,KAAI,SAAAy2I,GACR,IAAQz5G,EAAyGy5G,EAAzGz5G,QAAO0iL,EAAkGjpE,EAAhG3wF,QAAWE,EAAS05J,EAAT15J,UAAWhH,EAAW0gK,EAAX1gK,YAAa+G,EAAU25J,EAAV35J,WAAYhH,EAAY2gK,EAAZ3gK,aAAgBl2C,EAAiC4tI,EAAjC5tI,GAAIg9C,EAA6B4wF,EAA7B5wF,QAAei7I,EAAcrqD,EAApBxwH,KAEvF8zH,EAAUl0F,EAAO,GAAAvkD,OAClB20C,GAAM2/C,UAAS,KAAAt0F,OAAIuH,GAAE,GAAAvH,OAErB20C,GAAM0/C,WAAU,KAAAr0F,OAAIuH,GAEzB,OACE42M,IAAW3e,GACX9jK,EAAQh9B,KAAI,SAAAmL,GAAA,IAAkB8a,EAAI9a,EAAnByP,YAAeqL,KAAQ0H,EAAUxiB,EAAVwiB,WAAU,OAC9Cq5E,KAAAA,cAAA,OAAKC,UAAU,cAAc3kG,IAAKuG,GAChCm+F,KAAAA,cAAA,WACEA,KAAAA,cAAA,OAAKC,UAAU,SACbD,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,gBACH+4F,eAAe,oCACfl9F,OAAQ,CAAEipB,WAAYq5E,KAAAA,cAAA,SAAIp7E,OAAOqpD,UAAUtnD,GAAcA,EAAa,SAG1Eq5E,KAAAA,cAAA,OAAKC,UAAU,YACbD,KAAAA,cAAA,YAAOhhD,EAAUqnB,QAAQ,GAAG,IAAC25B,KAAAA,cAAA,QAAMC,UAAU,QAAQjoD,IACrDgoD,KAAAA,cAAA,QAAMC,UAAU,SAAQD,KAAAA,cAAA,OAAKgE,IAAK20G,GAAez0G,IAAI,MACrDlE,KAAAA,cAAA,YAAOjhD,EAAWsnB,QAAQ,GAAG,IAAC25B,KAAAA,cAAA,QAAMC,UAAU,QAAQloD,MAG1DioD,KAAAA,cAAA,QAAMC,UAAU,UAAUC,QAAS,kBAAM37F,EAAK+T,MAAM2+C,eAAep1D,EAAIod,EAAK,IAC5E+gF,KAAAA,cAAA,OAAKC,UAAU,UAAUC,QAAS,kBAAM37F,EAAK+T,MAAM0+C,cAAcn1D,EAAIod,EAAM8zH,EAAQ,IACnF/yC,KAAAA,cAACgD,GAAW,CACVtC,SAlCU,EAmCVk4G,UAAU,EACV14G,QAAS,kBAAM37F,EAAK+T,MAAM0+C,cAAcn1D,EAAIod,EAAM8zH,EAAQ,IAExD,GAGZ,IAEE/yC,KAAAA,cAAA,OAAKC,UAAU,QACbD,KAAAA,cAACstC,GAAAA,GAAI,CAAC/kG,GAAI0G,GAAMu9C,MACdwT,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,gBAAgB+4F,eAAe,0BAOlE,KAAC49G,CAAA,CArEgB,CACsBp1G,GAAAA,YAASryF,EAAAA,EAAAA,GAAAi2F,GAAA,YAE7B,CACjBx5E,MAAOk2E,KAAAA,MAAAA,WACPzkF,KAAMykF,KAAAA,OAAAA,WACNzsC,eAAgBysC,KAAAA,KAAAA,WAChB1sC,cAAe0sC,KAAAA,KAAAA,aAPAlD,GAQhBwG,MAAAxG,GEfG73C,GAAgB1b,IAAkBA,GAAAA,SAClC4rK,GAAoB5rK,IAAyC,iCAAvBA,GAAAA,IACtC8C,KAAkB9C,UAAoB,QAANe,GAAdf,GAAAA,YAAoB,IAAAe,IAAI,QAAJysC,GAApBzsC,GAAsBlgB,UAAE,IAAA2sD,KAAxBA,GAA0BrpD,uBAGrC4nK,IAAWr+F,EAAAA,GAAAA,IAAe,CACrCxyF,OAAQ,CACNtG,GAAI,cACJiC,YAAa,qBACb82F,eAAgB,UAElB/sE,aAAc,CACZhsB,GAAI,oBACJiC,YAAa,qBACb82F,eAAgB,iBAElB5M,SAAU,CACRnsF,GAAI,gBACJiC,YAAa,uBACb82F,eAAgB,YAElBxtE,QAAS,CACPvrB,GAAI,eACJiC,YAAa,sBACb82F,eAAgB,gBAElB1M,YAAa,CACXrsF,GAAI,mBACJiC,YAAa,0BACb82F,eAAgB,UAIPk+G,GAAe,SAACxgM,GAC3B,IAAQ2iF,EAAS3iF,EAAT2iF,KACAjN,EAA4CgrG,GAA5ChrG,SAAU7lF,EAAkC6wL,GAAlC7wL,OAAQ0lB,EAA0BmrK,GAA1BnrK,aAAcT,EAAY4rK,GAAZ5rK,QAE5B2rL,EAKR9pK,GAAAA,SAJFg/C,EAIEh/C,GAAAA,UAHY5vB,EAGZ4vB,GAAAA,aAFO+pK,EAEP/pK,GAAAA,QADF6+C,EACE7+C,GAAAA,KAEEgqK,EAAkB,CACtB,CACErzM,MAAOq1F,EAAKC,cAAc/yF,GAC1BkmC,KAAMy/C,EACN+kE,OAAO,EACPikD,iBAAiB,GAEnB,CACElxM,MAAOq1F,EAAKC,cAAc9tE,GAC1BihB,KAAM2qK,EACNnmD,OAAO,EACPikD,iBAAiB,IAElB7pK,GAAAA,KAAAA,kBAAwC,CACvCrnC,MAAOq1F,EAAKC,cAAclN,GAC1B3/C,KAAM4/C,EACN4kE,OAAO,EACPikD,iBAAiB,IAIfoC,EAAqB,EACxBnpK,IAAkB,CACjBnqC,MAAOq1F,EAAKC,cAAcrtE,GAC1BwgB,KAAMhvB,EACNwzI,OAAO,EACPikD,iBAAiB,IAElB7pK,GAAAA,KAAAA,kBAAwC,CACvCrnC,MAAOq1F,EAAKC,cAAclN,GAC1B3/C,KAAM0qK,EACNlmD,OAAO,EACPikD,iBAAiB,IAKrB,IAAKnuJ,GAAe,CAClB,IAAMwwJ,EAAkB,CACtBvzM,MAAOq1F,EAAKC,cAAc89F,GAAS9qG,aACnC7/C,KAAOpB,GAAAA,KAAAA,GAAAA,SACHA,GAAAA,KAAAA,GAAAA,SACyC,GAAA3yC,OAAS20C,GAAMi/C,YAAvD2qH,GAAkE,eAA1B,KAC7ChmD,OAAO,EACPikD,iBAAiB,EACjBT,aAAappK,GAAAA,KAAAA,GAAAA,UAGfgsK,EAAgBnhN,KAAKqhN,GACrBD,EAAmBphN,KAAKqhN,EAC1B,CAEA,OAAIppK,IAAkBngC,GAAS2F,eAEmB,SAA3CtE,aAAaE,QAAQ,mBACvB87B,IAAkBA,GAAAA,SAH8BgsK,EAK/CC,CACR,EAGaE,GAAqB,SAAC9gM,EAAOosE,EAAgB20H,GACxD,IAAQp+G,EAAS3iF,EAAT2iF,KACAjN,EAA4CgrG,GAA5ChrG,SAAU7lF,EAAkC6wL,GAAlC7wL,OAAQ0lB,EAA0BmrK,GAA1BnrK,aAAcT,EAAY4rK,GAAZ5rK,QAE5B2rL,EAGR9pK,GAAAA,SAFFg/C,EAEEh/C,GAAAA,UADO+pK,EACP/pK,GAAAA,QAEEqqK,EAAwB,CAC5B,CACE1zM,MAAOq1F,EAAKC,cAAcxW,EAAiBv8E,EAAS0lB,GACpDwgB,KAAMgrK,EACNxmD,OAAO,EACP/oI,KAAMk2E,MAAA1qD,cAAA,KAAG0sD,UAAU,aAAa,cAAY,UAE9C,CACEp8F,MAAO0S,EAAM2iF,KAAKC,cAAc9tE,GAChCihB,KAAM2qK,EACNjC,aAAcryH,EACd56D,KAAMk2E,MAAA1qD,cAAA,KAAG0sD,UAAU,sBAAsB,cAAY,WAEtD/0D,GAAAA,KAAAA,kBAAwC,CACvCrnC,MAAOq1F,EAAKC,cAAclN,GAC1B3/C,KAAM4/C,EACN4kE,OAAO,EACP/oI,KAAMk2E,MAAA1qD,cAAA,KAAG0sD,UAAU,kBAAkB,cAAY,WAI/Cu3G,EAA2B,CAC/B,CACE3zM,MAAOq1F,EAAKC,cAAcrtE,GAC1BwgB,KAAMgrK,EACNxmD,OAAO,EACP/oI,KAAMk2E,MAAA1qD,cAAA,KAAG0sD,UAAU,aAAa,cAAY,WAE7C/0D,GAAAA,KAAAA,kBAAwC,CACvCrnC,MAAOq1F,EAAKC,cAAclN,GAC1B3/C,KAAM0qK,EACNlmD,OAAO,EACP/oI,KAAMk2E,MAAA1qD,cAAA,KAAG0sD,UAAU,kBAAkB,cAAY,WAIrD,OAAIjyD,IAC8C,SAA3C9+B,aAAaE,QAAQ,kBADDmoM,EAGrBC,CACR,E,ykBCpHA,IAAM5wJ,GAAgBziC,IAAUA,GAAAA,SAW1BqtK,IAAMhzF,IARXztC,EAAAA,EAAAA,IAAQ,CACPtlC,MAAO,cACPvO,KAAM,kBACNmM,cAAe,4BACf+B,OAAQ,SACRlH,gBAAiB,yBACjB4+G,GACDzlC,KAAWrjD,GAAQ,CAAE+lD,eAAe,KARpCwvC,EAAAA,EAAAA,IAAU9wC,GAAAD,GAAAC,GAAAqkC,GAAArkC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAAihL,EAAAtwF,GAAA,I,IAAA1wF,G,EAAAghL,E,maAuBT,SAAAA,EAAYj7K,GAAO,IAAA/T,GAAAP,EAAAA,GAAAA,GAAA,KAAAuvL,GACjBhvL,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,yBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBA+BM,WAClB8e,OAAOpS,aAAaqhF,QACpBjvE,OAAOsrB,SAASu5D,QAClB,KAACn3F,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,+BAE6B,WAC5B8rC,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,uBAAyC,CAC3D4oF,QAAS,WACP/2F,EAAKi1M,mBACP,GAEJ,KAACzoM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MA8Cc,SAAAC,IAAA,IAAAsU,EAAA,OAAAvU,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,OACE,OAAPkvB,EAAY7oB,EAAK+T,MAAjB8U,QAAOjU,EAAAjb,KAAA,EAETqG,EAAKk1M,wBAAuB,OAElCl1M,EAAKm1M,0BAELtsL,EAAQ8zF,OAAM,eAAA57G,GAAAsT,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAO,EAAOu1B,GAAQ,OAAA91B,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,cAAAmb,EAAAnb,KAAA,EACtBqG,EAAKk1M,sBAAsB,CAAE9qK,SAAAA,IAAW,OAE9CpqC,EAAKm1M,wBAAwB,CAAE/qK,SAAAA,IAAW,wBAAAt1B,EAAAJ,OAAA,GAAAG,EAAA,KAC3C,gBAAAG,GAAA,OAAAjU,EAAAqS,MAAA,KAAAhf,UAAA,EAJa,IAIZ,wBAAAwgB,EAAAF,OAAA,GAAAH,EAAA,OACH/H,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,yBAEuB,eAACo1M,EAAWhhN,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,CAAC,EAAC,OACvC,IAAIggB,SAAQ,SAACI,GACX,IAAM6gM,EAAW3qM,GAAAA,GAAA,GAAQ1K,EAAK+T,OAAUqhM,GAEhChrK,EAAmBirK,EAAnBjrK,SACAk/C,GADmB+rH,EAAT3+G,KACGtsD,EAAbk/C,UACA1lF,EAAiB8mC,GAAAA,OAErBy1C,GAFqBz1C,GAAAA,KAEJh+B,aAAaE,QAAQuB,GAAAA,aAAAA,iBAEtCwT,IAAUA,GAAAA,WAEZw+D,GAAiB,GAGEmJ,IAAa1lF,GAAU0lF,IAAa,MAALvzF,OAAW6N,IAE1Cu8E,EAqBnB3rE,GAAQ,IAnBR2rE,GAAiB,EAEjBngF,EAAK+9C,UACH,iBAAO,CACLu3J,UAAWf,GAAav0M,EAAK+T,OAE7BwhM,gBAAiBV,GAAmB70M,EAAK+T,MAAOosE,GAChDq1H,qBAAqB,EACtB,IACD,WACE/jM,YAAW,WACTzR,EAAK+9C,UAAS,iBAAO,CACnBy3J,qBAAqB,EACtB,IACDhhM,GAAQ,EACV,GAAG,IACL,IAKN,GAAE,KAAAhI,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,2BAEsB,WAAsB,IAArBo1M,EAAWhhN,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAG,CAAC,EAClCihN,EAAW3qM,GAAAA,GAAA,GAAQ1K,EAAK+T,OAAUqhM,GACxCK,EAA0EtnM,GAAAA,aAAlE+xE,EAAau1H,EAAbv1H,cAAeR,EAAW+1H,EAAX/1H,YAAaS,EAAcs1H,EAAdt1H,eAAgBc,EAAiBw0H,EAAjBx0H,kBAGlDv/D,EAGE2zL,EAHF3zL,gBAAeg0L,EAGbL,EADFjrK,SAAY7hB,EAAImtL,EAAJntL,KAAM+gE,EAAQosH,EAARpsH,SAEZ1lF,EAAqD8mC,GAAAA,OAA7C++C,EAA6C/+C,GAAAA,SAAnCi/C,EAAmCj/C,GAAAA,YAAtBk/C,EAAsBl/C,GAAAA,kBAG7D,GAFuBniB,GAA0B,UAAlBA,EAAK3zB,MAAM,GAMxC,OAHA8X,aAAaC,QAAQ+yE,EAAa,QAClChzE,aAAaC,QAAQuzE,EAAe,aACpCxzE,aAAaC,QAAQs0E,EAAmB,QAI1CjhF,EAAK+9C,UAAS,iBAAO,CACnBu3J,UAAWf,GAAav0M,EAAK+T,OAE7BwhM,gBAAiBV,GAAmB70M,EAAK+T,OAAO,GACjD,IAED,IAAMzT,EAAOgpF,EAASluF,cAChBu6M,EAAer1M,EAAKoN,SAAS9J,IAAoB,MAATtD,EACxCs1M,EAAgBt1M,EAAKoN,SAAS+7E,GAG9BosH,GADev1M,EAAKoN,SAASi8E,IAAgBrpF,EAAKoN,SAASk8E,GACrCl9E,aAAaE,QAAQuzE,IAE3C21H,EAAgBppM,aAAaE,QAAQ8yE,GACrCq2H,EAAkBrpM,aAAaE,QAAQszE,GACvC81H,EAAsBtpM,aAAaE,QAAQq0E,GAE7Cg1H,EAAY,WAAO,EAEjBC,EAAUpqK,GAAAA,KAAAA,WAAwB,CAAC,GACnC/C,EAAmB/f,KAErBmtL,EAAiBD,EAAQzzM,QAAO,SAAAyS,GAAqE,IAAxD6K,EAAY7K,EAAtB8H,SAAwBmsB,EAAOj0B,EAAPi0B,QAASnpB,EAAQ9K,EAAR8K,SAAU3c,EAAO6R,EAAP7R,QAASyZ,EAAO5H,EAAP4H,QACnFE,GAAamsB,EAAWnpB,EAAWD,GAAc7P,cACvD,OACIwR,EAAgBhU,SAASsP,KACxB0E,EAAgBhU,SAAS,GAAD3X,OAAIinB,EAAQ,KAAAjnB,OAAIsN,KAC3CyZ,EAAU,CAEd,IAiBA,OAfIsnC,KAOF+xJ,GANAA,EAAiBD,EAAQzzM,QACvB,SAAA8S,GAA4D,IAA/CwK,EAAYxK,EAAtByH,SAAwBmsB,EAAO5zB,EAAP4zB,QAASnpB,EAAQzK,EAARyK,SAAU3c,EAAOkS,EAAPlS,QACtC2Z,GAAamsB,EAAWnpB,EAAWD,GAAc7P,cACvD,OAAQwR,EAAgBhU,SAASsP,KAAc0E,EAAgBhU,SAAS,GAAD3X,OAAIinB,EAAQ,KAAAjnB,OAAIsN,GACzF,KAE8BZ,QAAO,SAAAwT,GAAmD,IAAtC8J,EAAY9J,EAAtB+G,SAAwBmsB,EAAOlzB,EAAPkzB,QAASnpB,EAAQ/J,EAAR+J,SACnEhD,GAAamsB,EAAWnpB,EAAWD,GAAc7P,cACvD,OAAO64B,EAAiBr7B,SAASsP,EACnC,KAGFm5L,EAAiBntL,GAA4BmtL,IAErC,GACN,KAAKR,IAAiBG,EACpBG,EAAYj2M,EAAKo2M,eACjB,MACF,KAAKR,IAAkBG,EACrBE,EAAYj2M,EAAKq2M,iBACjB,MACF,KAAKjyJ,KAAkB4xJ,EACrBC,EAAYj2M,EAAKs2M,qBACjB,MACF,KAAMjrM,GAAS2F,gBAAkBmlM,EAAe7iN,QAAUqiN,IAAiBh0L,GAAAA,KAAAA,QAAAA,eAAqCA,GAAAA,KAAAA,GAAAA,sBAC9G3hB,EAAKu2M,iBAAiB,CAAEx/G,QAASk/G,IACjC,MACF,QACE,OAGCJ,IAAuBF,GAAiBh0L,GAAAA,KAAAA,QAAAA,cAAqCA,GAAAA,KAAAA,GAAAA,sBAKlFs0L,IAJEj2M,EAAKu2M,iBAAiB,CAAEx/G,QAASk/G,GAKrC,KAACzpM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,aAEW,WACVA,EAAK+9C,UAAS,iBAAO,CAAE+iI,YAAY,EAAO,GAC5C,KAACt0K,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAEiB,WAChBA,EAAK+9C,UAAS,iBAAO,CAAEy4J,kBAAkB,EAAO,GAClD,KAAChqM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAEkB,WACjBA,EAAK+9C,UAAS,iBAAO,CAAE04J,mBAAmB,EAAO,GACnD,KAACjqM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAEkB,SAACiO,GAClB,IAAA4uF,EAGI78F,EAAK+T,MAFP8U,EAAOg0E,EAAPh0E,QACQghB,EAAMgzD,EAAdnG,KAAQ7sD,OAEVhhB,EAAQt1B,KAAK+uG,GAAaz4D,EAAQa,GAAMphB,cAC1C,KAAC9c,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAEgB,WACf,IAAQ0/E,EAAgBvxE,GAAAA,aAAAA,YAExBsD,YAAW,WACTzR,EAAK+9C,UAAS,iBAAO,CAAE+iI,YAAY,EAAM,GAC3C,GAAG,KAEHp0K,aAAaC,QAAQ+yE,EAAa,OACpC,KAAClzE,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,wBAEsB,WACrB,IAAQihF,EAAsB9yE,GAAAA,aAAAA,kBAE9BsD,YAAW,WACTzR,EAAK+9C,UAAS,iBAAO,CAAEy4J,kBAAkB,EAAM,GACjD,GAAG,KAEH9pM,aAAaC,QAAQs0E,EAAmB,OAC1C,KAACz0E,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,oBAEkB,WACjB,IAAQkgF,EAAkB/xE,GAAAA,aAAAA,cAC1BsD,YAAW,WACTzR,EAAK+9C,UAAS,iBAAO,CAAE04J,mBAAmB,EAAM,GAClD,GAAG,KAEH/pM,aAAaC,QAAQuzE,EAAe,OACtC,KAAC1zE,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAEmB,WAClBA,EAAK+9C,UAAS,iBAAO,CAAE24J,oBAAoB,EAAM,IAEjD,IAAMC,EAAUjqM,aAAaE,QAAQuB,GAAAA,aAAAA,QAC/BizF,EAAUtwD,SAAS/e,KAAKqvE,QAE9BprD,GAAAA,MAAAA,SAAwB2gK,EAAU,QAAU,QAExCA,GACFjqM,aAAaG,WAAWsB,GAAAA,aAAAA,QACxBzB,aAAaC,QAAQwB,GAAAA,aAAAA,QAAgC,QACrDizF,EAAQC,OAAS,YAEjB30F,aAAaG,WAAWsB,GAAAA,aAAAA,SACxBzB,aAAaC,QAAQwB,GAAAA,aAAAA,OAA+B,QACpDizF,EAAQC,OAAS,QAGnBrhG,EAAK+9C,UAAS,iBAAO,CAAE24J,oBAAoB,EAAO,GACpD,KAAClqM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,kBAEgB,SAACinB,EAAS6zB,GACzBhP,GAAAA,KAAAA,eAA4B7kB,EAAS6zB,GACrChP,GAAAA,KAAAA,YACF,KAACt/B,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,+BAAA+V,GAAA1B,EAAAA,EAAAA,GAAAC,IAAAA,MAEe,SAAAkB,EAAOyR,EAAS6zB,EAAiBhR,GAAI,IAAAi1D,EAAA63G,EAAA/tL,EAAAghB,EAAAy/C,EAAAt/E,EAAA,OAAAsK,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,OAelD,GAfkDolG,EAQ/C/+F,EAAK+T,MANP6iM,EAAM73G,EAAN63G,OACA/tL,EAAOk2E,EAAPl2E,QACQghB,EAAMk1D,EAAdrI,KAAQ7sD,OAENy/C,EAAQyV,EADV30D,SACEk/C,SAIJx9C,GAAAA,KAAAA,cAA2B7kB,EAAS6zB,GACpChP,GAAAA,KAAAA,aAEsB,mBAAX8qK,GACTA,IAIGttH,EAASr0F,OAAO,EAAGy1C,GAAMi/C,YAAYr2F,UAAYo3C,GAAMi/C,aACtDL,EAASr0F,OAAO,EAAGy1C,GAAMk/C,qBAAuBl/C,GAAMk/C,kBAAkB,CAAAl0E,EAAA/b,KAAA,SAEtEqQ,EAAO,IAAI2xC,GAAK10B,EAASpZ,GAAAA,GAAAA,UAC/Bi+B,GAAAA,KAAAA,aAA0B9hC,GAC1B8U,OAAOyjH,YAAcv4H,EAAI0L,EAAA/b,KAAA,wBAAA+b,EAAA/b,KAAA,GAEnBkvB,EAAQ70B,QAAQsuG,GAAaz4D,EAAQC,IAAM,eAAAp0B,EAAA/b,KAAA,GAC3CkvB,EAAQt1B,KAAK+uG,GAAaz4D,EAAQC,IAAM,yBAAAp0B,EAAAhB,OAAA,GAAAc,EAAA,KAEjD,gBAAAK,EAAAF,EAAAC,GAAA,OAAAG,EAAA3C,MAAA,KAAAhf,UAAA,EA9BA,KA8BAoY,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gBAEc,WACb,IAAQ02F,EAAS12F,EAAK+T,MAAd2iF,KACR+lF,GAAcz8K,EAAK62M,aAAcngH,EACnC,IApVE,IACcpN,EAEVv1E,EAFFq2B,SAAYk/C,SAGNG,GADJ11E,EADF2iF,KAEiChsD,GAAAA,UAAjB6+C,EAAiB7+C,GAAAA,KAAX9mC,EAAW8mC,GAAAA,OAC3By1C,EAAmBhyE,GAAAA,aAAAA,eAErB2oM,EAAcxtH,EAAS57E,SAAS+7E,GAAY,GAAH1zF,OAAMuzF,GAAQ,GAAAvzF,OAAQwzF,GAEjEwtH,EAAoCrqM,aAAaE,QAAQuzE,GACzDx+D,IAAUA,GAAAA,WACZo1L,GAAkB,GAGpB,IAAMpB,EAAersH,IAAa1lF,GAAU0lF,IAAa,MAALvzF,OAAW6N,GAYzC,OAVtB5D,EAAK2W,MAAQ,CACX8/L,mBAAmB,EACnBn2M,MAAM,EACNwgL,YAAY,EACZk2B,UAAU,EACV1B,UAAWf,GAAaxgM,GACxBwhM,gBAAiBV,GAAmB9gM,EAAOgjM,EAAiBD,GAC5DtB,oBAAqBG,IAAiBoB,EACtCL,oBAAoB,GAEtB12M,EAAKi3M,cAAgB,EAACj3M,CACxB,CAlCC,OAkCAN,EAAAA,GAAAA,GAAAsvL,EAAA,EAAAj4L,IAAA,oBAAA6C,MAeD,WACEvG,KAAK6jN,eAIL,IAAM/2H,EAAiBzzE,aAAaE,QAAQuB,GAAAA,aAAAA,gBACtCgpM,EAAazqM,aAAaE,QAAQ,0BAEL,SAAnBuzE,GAA4C,SAAfg3H,GAgC3CzqM,aAAaC,QAAQ,yBAA0B,OAEnD,GAAC,CAAA5V,IAAA,SAAA6C,MAkQD,WAAS,IAAA00I,EACPlvF,EAOI/rD,KAAKsjB,MANPmqK,EAAU1hI,EAAV0hI,WACA21B,EAAiBr3J,EAAjBq3J,kBACAnB,EAASl2J,EAATk2J,UACAC,EAAen2J,EAAfm2J,gBACAC,EAAmBp2J,EAAnBo2J,oBACAgB,EAAgBp3J,EAAhBo3J,iBAEF7zE,EAQItvI,KAAK0gB,MAPC4iF,EAAagsC,EAArBjsC,KAAQC,cAEMrN,EAAQq5C,EADtB95G,QACEuhB,SAAYk/C,SAEdrgE,EAAK05G,EAAL15G,MACAvO,EAAIioH,EAAJjoH,KACAmM,EAAa87G,EAAb97G,cAGM4iE,EAAqB/+C,GAAAA,SAAX9mC,EAAW8mC,GAAAA,OAEvBirK,EACJrsH,EAAS57E,SAAS9J,IAAW0lF,IAAa,MAALvzF,OAAW6N,IAAyB,MAAb0lF,EAExD8tH,EAAa9tH,EAAS57E,SAAS+7E,GAE/B4tH,EAAmBv4L,OAAOw4L,4BAE1BC,EACJ97G,MAAA1qD,cAAA,OAAK2qD,UAAU,kBACbD,MAAA1qD,cAAA,OAAK2qD,UAAU,YACbD,MAAA1qD,cAAC0hK,GAAI,OACH9mJ,EAAAA,IAAY8vC,MAAA1qD,cAAC0gK,GAAG,CAACxkL,KAAMqoL,KAE3B75G,MAAA1qD,cAAA,OAAK2qD,UAAU,cACX/5E,GAAAA,aAAsBpd,OAAOpL,OAAOwoB,GAAAA,oBAA2BruB,OAC/DmoG,MAAA1qD,cAACymK,GAAa,MACZ,KAE4B,eAA/B14L,OAAO24L,qBAAuE,cAA/B34L,OAAO24L,qBACrDh8G,MAAA1qD,cAAC2mK,GAAa,CAAC/7G,QAAStoG,KAAKskN,oBAG9BN,GACC57G,MAAA1qD,cAAA,OAAK2qD,UAAU,gBAAgBC,QAAStoG,KAAKwjN,cAC3Cp7G,MAAA1qD,cAAA,KAAG0sD,UAAU,wBACbhC,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,aAAa+4F,eAAe,YAO3D,GAAI/M,EAAS57E,SAAS,kBAAoBi+C,EAAAA,GACxC,OAAO8vC,MAAA1qD,cAAA,aAGT,IAAM6mK,EACJn8G,MAAA1qD,cAACkjK,GAAW,CACVhrL,MAAOA,EACPvO,KAAMA,EACN+3C,cAAep/D,KAAKo/D,cACpBC,eAAgBr/D,KAAKq/D,iBAIzB,OAAI/G,EAAAA,GAEA8vC,MAAA1qD,cAAA,UAAQzzC,GAAG,gBAAgBo+F,UAAU,gBAAgB+B,UAAU,8BAC5D85G,EACA/B,GACC/5G,MAAA1qD,cAAA,OAAK2qD,UAAU,sBACbD,MAAA1qD,cAAC8mK,GAAM,CACL9D,aAAcp9G,EAAc,CAC1Br5F,GAAI,wBACJ+4F,eAAgB,uCAKvBuhH,EACDn8G,MAAA1qD,cAACihK,GAAS,CAAC/kL,KAAMsoL,EAAiBx9G,SAAUlxE,IAE3Ci6J,GAAc60B,GACbl6G,MAAA1qD,cAAA,OAAK2qD,UAAU,cACbD,MAAA1qD,cAAC4iK,GAAU,CAAC7yB,WAAYA,EAAYN,UAAWntL,KAAKmtL,aAGvDg2B,GAAoBb,GACnBl6G,MAAA1qD,cAAA,OAAK2qD,UAAU,cACbD,MAAA1qD,cAAC0vI,GAAgB,CAACK,WAAY01B,EAAkBh2B,UAAWntL,KAAKykN,oBAQxEr8G,MAAA1qD,cAAA,UACE0sD,UAAWe,MAAE8vC,EAAA,IAAA9hI,EAAAA,EAAAA,GAAA8hI,EACV92F,GAAAA,QAAmB,IAAIhrC,EAAAA,EAAAA,GAAA8hI,EACvB92F,GAAAA,aAAyB4M,KAAa53C,EAAAA,EAAAA,GAAA8hI,EACtC92F,GAAAA,gBAAyBm+J,GAAYrnE,KAGvCknE,GACC/5G,MAAA1qD,cAAA,OAAK2qD,UAAU,sBACbD,MAAA1qD,cAAC8mK,GAAM,CACL9D,aAAcp9G,EAAc,CAC1Br5F,GAAI,wBACJ+4F,eAAgB,uCAKvBkhH,EACAd,GAAqBW,GACpB37G,MAAA1qD,cAAA,OAAK2qD,UAAU,cACbD,MAAA1qD,cAACyiK,GAAW,CAAC1yB,WAAY21B,EAAmBj2B,UAAWntL,KAAK0kN,oBAG/DH,EACA92B,GAAc60B,GACbl6G,MAAA1qD,cAAA,OAAK2qD,UAAU,cACbD,MAAA1qD,cAAC4iK,GAAU,CAAC7yB,WAAYA,EAAYN,UAAWntL,KAAKmtL,aAGvDg2B,GAAoBb,GACnBl6G,MAAA1qD,cAAA,OAAK2qD,UAAU,cACbD,MAAA1qD,cAAC0vI,GAAgB,CAACK,WAAY01B,EAAkBh2B,UAAWntL,KAAKykN,mBAK1E,IAAC,EAAA/gN,IAAA,2BAAA6C,MA5eD,SAAAud,GAIG,IAFamyE,EAAQnyE,EADtB0R,QACEuhB,SAAYk/C,SAGd,MAAiB,MAAbA,GAAoBA,IAAa5+C,GAAM9mC,OAClC,CAAEtD,MAAM,GAEV,CAAEA,MAAM,EACjB,KAAC0uL,CAAA,CAnBQ,CASUnwF,GAAAA,aAAS5C,KAAAA,KAAAA,IAgf9B,UAAegF,EAAAA,GAAAA,IAAW+tF,ICviB1B,IAAM5uJ,GAAUogD,6CAEhB,UACEx4E,KAAMo4B,GAAUA,GAAQwuD,UAAU,EAAG,GAAK,KAC1C9kD,KAAM1J,GAAU,+BAAHrqC,OAAkCqqC,GAAO,iBAAkB,MCH1E,IAAgB,OAAS,2BAA2B,OAAS,2BAA2B,UAAY,2BAA2B,gBAAkB,2BAA2B,aAAe,6BCK3L,IAAM43K,GAAM,CACV,CAAEttK,MAAOA,GAAM+/C,OAAallE,KAAM,eAClC,CAAEmlB,MAAOA,GAAMggD,QAAanlE,KAAM,cAClC,CAAEmlB,MAAOA,GAAMigD,SAAaplE,KAAM,eAClC,CAAEmlB,MAAOA,GAAMkgD,OAAWrlE,KAAM,aAChC,CAAEmlB,MAAOA,GAAMmgD,SAAatlE,KAAM,qBAClC,CAAEmlB,MAAOA,GAAMogD,YAAavlE,KAAM,UAClC,CAAEmlB,MAAOA,GAAMqgD,QAAaxlE,KAAM,kBAClC,CAAEmlB,MAAOA,GAAMugD,QAAa1lE,KAAM,kBAClC,CAAEmlB,MAAOA,GAAMsgD,OAAazlE,KAAM,kBAiBpC,SAAes1E,IAAf,EAdmB,WAAH,OACdY,KAAAA,cAAA,MAAIC,UAAU,eAEVs8G,GAAIv1M,QAAO,SAAAlK,GAAI,MAAmB,MAAfA,EAAKmyC,KAAa,IAAEj2C,KAAI,SAAC8D,EAAMqC,GAAK,OACrD6gG,KAAAA,cAAA,MAAI1kG,IAAK6D,GACP6gG,KAAAA,cAAA,KAAGkK,KAAMptG,EAAKmyC,MAAO4yD,OAAO,SAASuI,IAAI,uBACvCpK,KAAAA,cAAA,KAAGC,UAAU,OAAO+B,UAAS,OAAA1nG,OAASwC,EAAKgtB,SAE1C,IAGN,GC5BP,CAAgB,cAAc,2BAA2B,KAAO,6BCiEhE,IAAe07E,EAAAA,GAAAA,IAAWpG,MA3DP,SAAC9mF,GAClB,IACkBkkM,EACdlkM,EADF2iF,KAAQ7sD,OAsBJquK,EAAY,CAChBC,GAAI,UACJC,GAAI,UACJC,GAAI,QACJC,GAAI,UACJC,GAAI,SACJC,GAAI,SACJC,GAAI,sBACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SAGN,OACEn9G,MAAA1qD,cAAA,OAAK2qD,UAAU,gBACZn3F,OAAOtL,KAAKi/M,GAAWzjN,KAAI,SAACuT,EAAMpN,GACjC,OACE6gG,MAAA1qD,cAAA,KACEh6C,IAAK6D,EACL+qG,MAxBkB97D,EAwBO7hC,EAvB1BiwM,EAAW/nM,gBAAkB25B,EAuBM,UAvBUx1C,GAwB5CqnG,UAAU,WACVr6F,MAAO62M,EAAUlwM,GACjB2zF,QAAS,SAACr9F,GAER,OA3CO,SAACiV,EAAOs2B,GACzBt2B,EAAMs8F,iBAEN5iG,QAAQ4jB,IAAI,WAAYgZ,GAExBmM,GAAAA,KAAAA,SAAuBnM,GtjByEpB,SAAmB7hC,EAAMpO,EAAOqU,GAGrC,IAAI4qM,GAFJ5qM,EAAUA,GAAW,CAAC,GAEA4qM,QAEtB,GAAsB,iBAAXA,GAAuBA,EAAS,CACzC,IAAI34M,EAAI,IAAIqyB,KACZryB,EAAE44M,QAAQ54M,EAAEsyB,UAAsB,IAAVqmL,GACxBA,EAAU5qM,EAAQ4qM,QAAU34M,CAC9B,CACI24M,GAAWA,EAAQE,cACrB9qM,EAAQ4qM,QAAUA,EAAQE,eAK5B,IAAIC,EAAgBhxM,WAFpBpO,EAAQq3C,mBAAmBr3C,IAI3B,IAAK,IAAIoa,KAAY/F,EAAS,CAC5B+qM,GAAiB,KAAOhlM,EACxB,IAAIilM,EAAYhrM,EAAQ+F,IACN,IAAdilM,IACFD,GAAiB,IAAMC,EAE3B,CAEAnoK,SAAS49C,OAASsqH,CACpB,CsjBlGIE,CAAU,EAAUrvK,EAAOzuC,cAAe,IAAIm3B,MAAK,IAAIA,MAAO4mL,cAAgB,EAAG,IAEjFr6L,OAAOrN,YAAW,WAChBqN,OAAOsrB,SAASu5D,QAClB,GAAG,GACL,CA8BYy1G,CAAW96M,EAAG0J,IACP,CACT,GAECA,GAhCgB,IAAC6hC,CAmCxB,IAGN,GC/DA,CAAgB,aAAe,2BAA2B,SAAW,6BDiEZ,CAAE0zD,eAAe,KEpC1E,GAAe1C,IAAf,EArBA,SAAqBj7F,GAAkD,IAAA6rC,EAAAC,EAA/C2tK,EAAWz5M,EAAXy5M,YAAaC,EAAW15M,EAAX05M,YAC7B5sL,GAAc/K,UAAY,QAAN8pB,EAAN9pB,GAAAA,YAAY,IAAA8pB,GAAI,QAAJC,EAAZD,EAAcliB,UAAE,IAAAmiB,OAAV,EAANA,EAAkBhf,cAAe,2BAErD,OACE+uE,MAAA1qD,cAAA,OAAK2qD,UAAU,gBACZ29G,GAAeC,GACd79G,MAAA1qD,cAAA,YACE0qD,MAAA1qD,cAAA,KAAG40D,KAAM2zG,EAAah8G,OAAO,SAASuI,IAAI,cACvCwzG,IAIP59G,MAAA1qD,cAAA,YAAM,aAEH,IACD0qD,MAAA1qD,cAAA,KAAG40D,KAAMj5E,EAAa4wE,OAAO,SAASuI,IAAI,cAAa,0CAI/D,GAEwCruD,GAAQ,CAAE+lD,eAAe,ICwBjE,GAAe1C,IAAf,EAtCA,WAAkB,IAAAyzC,EACVirE,GAAoB53L,GAAAA,KAAAA,GAAAA,iBAE1B,OACE85E,MAAA1qD,cAAA,UACE0sD,UAAWe,MAAE8vC,EAAA,IAAA9hI,EAAAA,EAAAA,GAAA8hI,EACV92F,GAAAA,QAAgB,IAAIhrC,EAAAA,EAAAA,GAAA8hI,EACpB92F,GAAAA,OAAgBmU,EAAAA,IAAQ2iF,IAE3B,oBAAmBluG,GAAAA,KACnB,mBAAkBA,GAAAA,MAGlBq7D,MAAA1qD,cAAC8rG,GAAc,CAACnhD,UAAU,aACxBD,MAAA1qD,cAACyoK,GAAU,OAET73L,GAAAA,UACA85E,MAAA1qD,cAAA,KAAG2qD,UAAU,mBACXD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,wBACH+4F,eAAe,8DACfl9F,OAAQ,CACNyxF,OAAQ6Q,MAAA1qD,cAAA,KAAG40D,KAAMj7D,GAAMkgD,OAAQ0S,OAAO,SAASuI,IAAI,cAAa,UAChEnb,QAAS+Q,MAAA1qD,cAAA,KAAG40D,KAAMj7D,GAAMggD,QAAS4S,OAAO,SAASuI,IAAI,cAAa,gBAKxElkF,GAAAA,UAAmB85E,MAAA1qD,cAAC0oK,GAAU,MAE/BF,GACC99G,MAAA1qD,cAAC2oK,GAAY,CAACL,YAAaj5K,GAAAA,KAAck5K,YAAal5K,GAAAA,QAKhE,GAEkCoX,GAAQ,CAAE+lD,eAAe,IC5C3D,IAAMn5C,GAAgBziC,IAAUA,GAAAA,SAEXg4L,GAAgB,SAAAj7G,IAAA3wF,EAAAA,GAAAA,GAAA4rM,EAAAj7G,GAAA,I,IAAA1wF,G,EAAA2rM,E,maACnC,SAAAA,EAAY5lM,GAAO,IAAA/T,EAUhB,OAVgBP,EAAAA,GAAAA,GAAA,KAAAk6M,GACjB35M,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAMvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,qBAYM,WAClBg2C,GAAAA,IAAAA,kBACA,IAAQ4jK,EAAgB55M,EAAK+T,MAArB6lM,YAERltM,GAAAA,QAAqByB,GAAAA,aAAAA,cAAsC,+BAC3DsD,YAAW,WACT/E,GAAAA,WAAwByB,GAAAA,aAAAA,cAC1B,GAAG,KAECyrM,aAAuBlkL,UACzBkkL,GAEJ,IAtBwBltM,GAAAA,QACpByB,GAAAA,aAAAA,gBAKAsD,WAAWzR,EAAK65M,kBAAmB,KACpC75M,CACH,CAkDC,OAlDAN,EAAAA,GAAAA,GAAAi6M,EAAA,EAAA5iN,IAAA,SAAA6C,MAgBD,WACE,OAGE6hG,KAAAA,cAACohD,GAAc,KACbphD,KAAAA,cAAA,UACEA,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,mBACH+4F,eAAe,2BAGlBjyC,IACCq3C,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,8BACH+4F,eAAe,yGACfl9F,OAAQ,CAAEwnL,WAAY7hK,OAAO6hK,YAAc,yBAG7Cv8H,IACAq3C,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,qBACH+4F,eAAe,0GAGnBoF,KAAAA,cAAA,WACAA,KAAAA,cAAA,WACAA,KAAAA,cAACwD,GAAM,CAACrB,OAAK,EAACF,WAAS,EAAC/B,QAAStoG,KAAKwmN,mBACpCp+G,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,4BACH+4F,eAAe,6CAKzB,KAACsjH,CAAA,CA9DkC,CAAS96G,GAAAA,WCS9C,UAAetwC,EAAAA,EAAAA,IAAQ,CACrB5xC,UAAW,mBACXriB,KAAM,eAFR,EAVsB,SAACyZ,GACrB,IAAA+lM,EAAoC/lM,EAA5B4I,UAAAA,OAAS,IAAAm9L,GAAQA,EAAEx/M,EAASyZ,EAATzZ,KAE3B,OAAKqiB,EAIE8+E,KAAAA,cAACo8G,GAAM,CAACv9M,KAAMA,IAHZ,IAIX,ICsEA,GAAekjG,IAAf,EAjFqB,SAACzpF,GACpB,IAAAgmM,EAOIhmM,EANFimM,UAAAA,OAAS,IAAAD,GAAOA,EAChBt8G,EAKE1pF,EALF0pF,UACAj+F,EAIEuU,EAJFvU,SACAwI,EAGE+L,EAHF/L,KACAC,EAEE8L,EAFF9L,KACA0pB,EACE5d,EADF4d,QAEFmpE,GAAkCC,EAAAA,GAAAA,WAAS,GAAMC,GAAAvyC,EAAAA,GAAAA,GAAAqyC,EAAA,GAA1Cm/G,EAASj/G,EAAA,GAAEk/G,EAAYl/G,EAAA,GAC9BG,GAAkCJ,EAAAA,GAAAA,WAAS,GAAMK,GAAA3yC,EAAAA,GAAAA,GAAA0yC,EAAA,GAA1Cg/G,EAAS/+G,EAAA,GAAEg/G,EAAYh/G,EAAA,GAExBi/G,EAAmB,SAAC9mM,GACN,WAAdA,EAAMxc,KACRujN,GAEJ,GAEAh/G,EAAAA,GAAAA,YAAU,WACR4+G,GAAa,GAETF,GACFO,IAGFzpK,SAASu9C,iBAAiB,UAAWgsH,GAErC,IAAI9uG,OAAuDl3G,EAS3D,OAPgB,IAAZs9B,IACF45E,EAAY95F,WACV6oM,OACYjmN,IAAZs9B,EAAwB,IAAOA,IAI5B,WACLmf,SAASw9C,oBAAoB,UAAW+rH,GAEpC9uG,GACFzgC,aAAaygC,EAEjB,CACF,GAAG,CAAC0uG,EAAWtoL,IAEf,IAAM2oL,EAAoB,WACxBF,GAAa,GACb3oM,YAAW,kBAAMq6B,GAAAA,cAAAA,KAA2B9jC,EAAK,GAAE,IACrD,EAEMuyM,EAAa,WACjB,IAAMC,EAAQ,IAAIC,MAClBD,EAAM/6G,IC5DV,eD6DI+6G,EAAME,UAAW,CACnB,EAEMz9D,EAAqBz+C,KAAG,YAAa,CACzC,QAAWy7G,EACX,QAAWE,IAGPQ,EAAwBn8G,KAAG,eAAgB,CAC/C,QAAWy7G,EACX,QAAWE,EACX,kBAA8B,sBAATlyM,EACrB,QAAoB,YAATA,IAGb,OACEwzF,KAAAA,cAAA,OAAKn+F,GAAG,oBAAoBo+F,UAAWuhD,GACrCxhD,KAAAA,cAAA,OAAKC,UAAWi/G,GACdl/G,KAAAA,cAAA,OAAKC,UAAU,UAAU+B,UAAWA,GACjCj+F,GAGHi8F,KAAAA,cAACq6F,GAAY,CAACx4L,GAAG,0BAA0Bq+F,QAAS2+G,KAI5D,GEtFA,CAAgB,UAAY,2BAA2B,QAAU,2BAA2B,QAAU,2BAA2B,aAAe,2BAA2B,kBAAoB,2BAA2B,QAAU,2BAA2B,QAAU,4BFwFzN,CAAE/8G,eAAe,I,OGpFW,I,GAIvDtb,GADpBub,KCPD,CAAgB,MAAQ,6BDOLxB,CAAAC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAAk0E,EAAAyc,GAAA,I,IAAA1wF,G,EAAAi0E,E,maAAA,SAAAA,IAAA,OAAAxiF,EAAAA,GAAAA,GAAA,KAAAwiF,GAAAj0E,EAAAoF,MAAA,KAAAhf,UAAA,CAWhB,OAXgBsL,EAAAA,GAAAA,GAAAuiF,EAAA,EAAAlrF,IAAA,SAAA6C,MAGjB,WACE,IAAAijG,EAAsDxpG,KAAK0gB,MAAnD/L,EAAI60F,EAAJ70F,KAAIq3J,EAAAxiE,EAAEviG,KAAQ4lB,EAAMm/I,EAANn/I,OAAQlD,EAAQqiJ,EAARriJ,SAAU3Z,EAAOg8J,EAAPh8J,QAExC,OACEo4F,KAAAA,cAACm/G,GAAY,CAAC5yM,KAAMA,GAClByzF,KAAAA,cAAA,QAAMC,UAAU,SAASx7E,EAAO,IAAElD,GAAgB,qCAAmC3Z,EAAQ,IAGnG,KAAC4+E,CAAA,CAXgB,CAC0B4c,GAAAA,aAAS5C,GEJsB,IAIvD/Z,GADpBsb,KCPD,CAAgB,MAAQ,6BDOLxB,CAAAC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAAm0E,EAAAwc,GAAA,I,IAAA1wF,G,EAAAk0E,E,maAAA,SAAAA,IAAA,OAAAziF,EAAAA,GAAAA,GAAA,KAAAyiF,GAAAl0E,EAAAoF,MAAA,KAAAhf,UAAA,CAUhB,OAVgBsL,EAAAA,GAAAA,GAAAwiF,EAAA,EAAAnrF,IAAA,SAAA6C,MAEjB,WACE,IAAAijG,EAAmDxpG,KAAK0gB,MAAhD/L,EAAI60F,EAAJ70F,KAAIq3J,EAAAxiE,EAAEviG,KAAQmoC,EAAO48H,EAAP58H,QAAS9Q,EAAO0tI,EAAP1tI,QAAS1pB,EAAIo3J,EAAJp3J,KAExC,OACEwzF,KAAAA,cAACm/G,GAAY,CAAC5yM,KAAMA,EAAM2pB,QAASA,EAAS1pB,KAAMA,GAChDwzF,KAAAA,cAAA,QAAMC,UAAU,SAASj5D,GAG/B,KAACy/C,CAAA,CAVgB,CACkB2c,GAAAA,aAAS5C,G,OEFX,IAK7B7Z,GADLob,KCVD,CAAgB,MAAQ,4BDULxB,CAAAC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAAq0E,EAAAsc,GAAA,I,IAAA1wF,G,EAAAo0E,E,maAAA,SAAAA,IAAA,IAAApiF,GAAAP,EAAAA,GAAAA,GAAA,KAAA2iF,GAAA,QAAAnvE,EAAA7e,UAAAd,OAAAqsE,EAAA,IAAAlsE,MAAAwf,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAwsD,EAAAxsD,GAAA/e,UAAA+e,GAWhB,OAXgBnT,EAAAgO,EAAAtZ,KAAA0e,MAAApF,EAAA,OAAAjY,OAAA4pE,KAAAnzD,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,eAGH,WACZ,IAAA68F,EAA8C78F,EAAK+T,MAApCsrJ,GAAAxiE,EAAPh0E,QAAOg0E,EAAEviG,MAAQssC,EAAKy4H,EAALz4H,MAAOigD,EAAOw4E,EAAPx4E,QAChC/6C,GAAAA,OAAAA,WACI+6C,GAAWA,EAAQvpF,GACrB8sC,SAAS7hB,KAAO,IAAHxyB,OAAO20C,GAAM6/C,UAAS,wBAAAx0F,OAAuB8wF,EAAQvpF,GAAE,KAAAvH,OAAI6wC,GAExEwD,SAAS7hB,KAAO,IAAHxyB,OAAO20C,GAAM6/C,UAAS,iBAAAx0F,OAAgB6wC,EAEvD,IAAC5mC,CAAA,CAoBA,OApBAN,EAAAA,GAAAA,GAAA0iF,EAAA,EAAArrF,IAAA,SAAA6C,MAED,WACE,IAAAmlG,EAAsD1rG,KAAK0gB,MAAnD/L,EAAI+2F,EAAJ/2F,KAAI0rJ,EAAA30D,EAAEzkG,KAAQ4lB,EAAMwzI,EAANxzI,OAAQlD,EAAQ02I,EAAR12I,SAAU3Z,EAAOqwJ,EAAPrwJ,QAExC,OACEo4F,KAAAA,cAACm/G,GAAY,CAAC5yM,KAAMA,EAAM2zF,QAAStoG,KAAKsrG,aACtClD,KAAAA,cAAA,WACEA,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,wBAAwB+4F,eAAe,iDAE9DoF,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,4BACH+4F,eAAe,oDACfl9F,OAAQ,CACN+mB,OAAAA,EACAlD,SAAAA,EACA3Z,QAAAA,KAIV,KAAC++E,CAAA,CA/BgB,CACeyc,GAAAA,aAAS5C,GEkC3C,MCxCA,IACEha,gBAAAA,GACAC,QAAAA,GACAC,kBCNwB,SAAHviF,GAAA,IAAMtF,EAAIsF,EAAJtF,KAAM0N,EAAIpI,EAAJoI,KAAI,OACrCyzF,MAAA1qD,cAAC6pK,GAAY,CAACZ,WAAW,EAAOhyM,KAAMA,EAAMC,KAAMD,GAChDyzF,MAAA1qD,cAAA,UACE0qD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,sBAAsB+4F,eAAe,4CAE5DoF,MAAA1qD,cAAA,SACE0qD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,uBAAuB+4F,eAAe,iBAAiBl9F,OAAQ,CAAEqF,MAAO,GAAFzI,OAAKuE,EAAKkE,WAE1F,EDDf4jF,qBHmCa6e,EAAAA,GAAAA,IAAW7e,IGlCxBld,YDmCa21B,IAAf,EAhCA,SAAqB9mF,GACnB,IAAQ/L,EAAe+L,EAAf/L,KAAM1N,EAASyZ,EAATzZ,KAEd,OACEmhG,MAAA1qD,cAAC6pK,GAAY,CACXZ,WAAW,EACXroL,QAAS,KACT3pB,KAAMA,EACNC,KAAM3N,EAAKw2F,OAAS,oBAAsB,IAE1C2K,MAAA1qD,cAAA,UACGz2C,EAAKw2F,OACJ2K,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,oBACH+4F,eAAe,uBAEf/7F,EAAKwyJ,UACPrxD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CACfv+F,GAAG,yBACH+4F,eAAe,iCAGjBoF,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,aAAa+4F,eAAe,iBAGrDoF,MAAA1qD,cAAA,KAAG40D,KAAMrrG,EAAKwvC,KAAMwzD,OAAO,SAAS5B,UAAU,mBAC5CD,MAAA1qD,cAAC8qD,GAAAA,EAAgB,CAACv+F,GAAG,kBAAkB+4F,eAAe,0BAI9D,GG3CA,CAAgB,gBAAkB,4BH6Ca,CAAEkH,eAAe,K,UIvCf,I,SAO5Bs9G,IAJpBtsJ,EAAAA,EAAAA,IAAQ,CACP5lC,cAAe,iBAEEqzE,CAAAC,GAAlBuB,KCZD,CAAgB,sBAAwB,4BDYrB8iC,EAAA79B,GAAA,SAAA/D,IAAA3wF,EAAAA,GAAAA,GAAA8sM,EAAAn8G,GAAA,I,IAAA1wF,G,EAAA6sM,E,maAAA,SAAAA,IAAA,OAAAp7M,EAAAA,GAAAA,GAAA,KAAAo7M,GAAA7sM,EAAAoF,MAAA,KAAAhf,UAAA,CA6BhB,OA7BgBsL,EAAAA,GAAAA,GAAAm7M,EAAA,EAAA9jN,IAAA,SAAA6C,MAOjB,WACE,IAAAijG,EAAmCxpG,KAAK0gB,MAAhC4U,EAAak0E,EAAbl0E,cAAeE,EAAOg0E,EAAPh0E,QAEjBiyL,EAAoBv2M,OAAOtL,KAAK0vB,GAGtC,OAF8Bhb,QAAQmtM,EAAkBxnN,SAGtDmoG,KAAAA,cAAA,OAAKC,UAAU,yBAEXo/G,EAAkBrmN,KAAI,SAACsC,EAAK6D,GAC1B,IAAAmgN,EAA4BpyL,EAAc5xB,GAAlCiR,EAAI+yM,EAAJ/yM,KAAIgzM,EAAAD,EAAEzgN,KAAAA,OAAI,IAAA0gN,EAAG,CAAC,EAACA,EAEvB,OAAOv/G,KAAAA,cAAoBw/G,GAAcjzM,GAAO,CAC9CjR,IAAK6D,EACLoN,KAAAA,EACA1N,KAAAA,EACAuuB,QAAAA,GAEJ,IAIR,KAACgyL,CAAA,CA7BgB,CACgCh8G,GAAAA,YAASryF,EAAAA,EAAAA,GAAAi2F,GAAA,YAEvC,CACjB95E,cAAew2E,KAAAA,SAJAlD,GAKhBwG,MAAAxG,KAAAA,GEqBHhvF,QAAQ4jB,IAAI,yBAA0BvE,IACtC,IAAMsvJ,GAAezqK,GAAgB,WAAa,KAClD+/B,GAAAA,EAAAA,OAAc0qI,IAAa,IAcrBs/B,IAAGl/G,IAXRztC,EAAAA,EAAAA,KAAQ,SAAA3uD,GAA0E,MAAU,CAC3FwnB,WADyCxnB,EAA/BwnB,WAAcha,MAExB0sE,WAAY,uBACZqhI,WAAY,uBACZC,aAAc,yBACdC,YAAa,wBACb7+E,aAAc,+BACd5zG,OAPmDhpB,EAANgpB,OAQ7CpB,uBARiF5nB,EAA5B2pB,GAAM/B,uBAS5D,IAAE84G,GACFzlC,KCrDD,CAAgB,WAAa,4BAA4B,cAAgB,4BDqDrD,CAAE0C,eAAe,KAXpCwvC,EAAAA,EAAAA,IAAU9wC,GAAAD,GAAAC,GAAAqkC,GAAArkC,GAAA,SAAAC,IAAAnuF,EAAAA,GAAAA,GAAAmtM,EAAAh/G,GAAA,IA8MRskC,EApEA86E,E,IA1IQttM,G,EAAAktM,E,maAgBT,SAAAA,EAAYnnM,GAAO,IAAA/T,EAchB,OAdgBP,EAAAA,GAAAA,GAAA,KAAAy7M,GACjBl7M,EAAAgO,EAAAtZ,KAAA,KAAMqf,IAAOvH,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAAAwM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAAAqU,EAAAA,EAAAA,GAAAC,IAAAA,MA2QO,SAAAO,IAAA,OAAAP,IAAAA,MAAA,SAAAQ,GAAA,cAAAA,EAAAxZ,KAAAwZ,EAAAnb,MAAA,OACgC,GAApDsT,QAAQrQ,MAAM,qBAAsB,iBAEhCkiB,OAAOjR,QAAO,CAAAiH,EAAAnb,KAAA,eAAAmb,EAAAnb,KAAA,EACVmyC,GAAAA,KAAAA,OAAmB,cAAAh3B,EAAAnb,KAAA,EACnBylI,KAAe,OAUvBnyH,QAAQy2B,WAAU,wBAAA5uB,EAAAJ,OAAA,GAAAG,EAAA,OACnBrI,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,gCAE8B,WAC7B,IAAMu7M,EAAYzqK,SAASkxG,eAAe,iBACpCgiC,EAAkBt3K,GAAAA,QAAqB,mBAG1C6uM,GACD55L,GAAAA,UACAxQ,GAAgB,kCAChB6yK,GACyB,OAAzBllK,OAAOsrB,SAAS7hB,KAEhBvoB,EAAK+9C,UAAS,iBAAO,CACnBy9J,iBAAiB,EACjBC,kBAAkB,EACnB,IAEDz7M,EAAK07M,uBAET,KAAClvM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,uBAEqB,WACpBA,EAAK27M,2BACL37M,EAAK+9C,UAAS,iBAAO,CACnB09J,kBAAkB,EACnB,GACH,KAACjvM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,yBAEuB,WAEtB,IAAM47M,EAAY9qK,SAASkxG,eAAe,sBACpC65D,EAAa/qK,SAASkxG,eAAe,uBACrC85D,EAAahrK,SAASkxG,eAAe,uBACrC+5D,EAAUjrK,SAASkxG,eAAe,oBAEpC45D,GAAWA,EAAUvtH,iBAAiB,QAASruF,EAAKg8M,qBACpDH,GAAYA,EAAWxtH,iBAAiB,QAASruF,EAAKg8M,qBACtDF,GAAYA,EAAWztH,iBAAiB,QAASruF,EAAKg8M,qBACtDD,GAASA,EAAQ1tH,iBAAiB,QAASruF,EAAKg8M,oBACtD,KAACxvM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,4BAE0B,WAEzB8wC,SAASkxG,eAAe,sBAAsB1zD,oBAAoB,QAAStuF,EAAKg8M,qBAEhFlrK,SAASkxG,eAAe,uBAAuB1zD,oBAAoB,QAAStuF,EAAKg8M,qBAEjFlrK,SAASkxG,eAAe,uBAAuB1zD,oBAAoB,QAAStuF,EAAKg8M,qBAEjFlrK,SAASkxG,eAAe,oBAAoB1zD,oBAAoB,QAAStuF,EAAKg8M,oBAChF,KAACxvM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,iCAE+B,WAC9B,IAAMi8M,EAAyBnrK,SAAS4sG,cAAc,+BAEtD,OAAIu+D,IAA2Bj8M,EAAK+T,MAAMyT,uBACjCskB,GAAAA,GAAAA,uBAEEmwK,GAA0Bj8M,EAAK+T,MAAMyT,uBACvC,KAEFskB,GAAAA,GAAAA,yBACT,KAACt/B,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAEiB,WAChBA,EAAK+9C,SAAS,CACZm+J,WAAW,IAEbl8M,EAAKm8M,kBAAiB,EACxB,KAAC3vM,EAAAA,EAAAA,IAAA0B,EAAAA,GAAAA,GAAAlO,GAAA,mBAEiB,WAEhB,IAAA68F,EAA2C78F,EAAK+T,MAAxC6U,EAAMi0E,EAANj0E,OAAQpB,EAAsBq1E,EAAtBr1E,uBACVwrJ,EAAmBzuK,OAAOtL,KAAK2vB,GAAQt1B,OAAS,EAE9B,oBAAbw9C,UAA4BkiI,IAAqBxrJ,GAC1DspB,SAAS/e,KAAKkwH,UAAUtvF,OAAO,qBAC/B7hB,SAAS/e,KAAKkwH,UAAU5lJ,IAAI,sBAE5By0C,SAAS/e,KAAKkwH,UAAUtvF,OAAO,oBAC/B7hB,SAAS/e,KAAKkwH,UAAU5lJ,IAAI,sBAEN,oBAAby0C,UAA4BkiI,GAAoBxrJ,GACzDspB,SAAS/e,KAAKkwH,UAAUtvF,OAAO,qBAC/B7hB,SAAS/e,KAAKkwH,UAAU5lJ,IAAI,oCAE5By0C,SAAS/e,KAAKkwH,UAAUtvF,OAAO,kCAC/B7hB,SAAS/e,KAAKkwH,UAAU5lJ,IAAI,qBAEhC,IApXE2D,EAAKo8M,YAAc,CACjB3mM,OAAQ,KACR8pE,MAAO,KACPC,OAAQ,MAGVx/E,EAAK2W,MAAQ,CACX6kM,iBAAiB,EACjBC,kBAAkB,EAClBS,WAAW,EACX19M,MAAO,IACRwB,CACH,CAobC,OApbAN,EAAAA,GAAAA,GAAAw7M,EAAA,EAAAnkN,IAAA,aAAA6C,MAGD,SAAW0T,GACT,IAAM+uM,EAAQ9pL,KAAKivB,MAAM3tD,WAEzBR,KAAK0qD,SACH,CACEu+J,MAAOD,IAET,WACE/uM,EAAS+uM,EACX,GAEJ,GAAC,CAAAtlN,IAAA,mBAAA6C,MAED,SAAiB2iN,GAAU,IAAAjtM,EAAA,KACzBjc,KAAKmpN,YAAW,SAAAH,GACVE,GACF7vM,GAAAA,QAAqByB,GAAAA,aAAAA,OAA+BkuM,GAkDtD/sM,EAAK8sM,YAAY3mM,OAAS/I,GAAAA,UAAuByB,GAAAA,aAAAA,QA/C1B,WACrB,IAAQmuM,EAAUhtM,EAAKqH,MAAf2lM,MACFh/M,EAAKoP,GAAAA,QAAqByB,GAAAA,aAAAA,QAE5B7Q,GAAMA,IAAOg/M,IACfhtM,EAAKyuC,SAAS,CAAEm+J,WAAW,IAE3BxvM,GAAAA,YAAyB4C,EAAK8sM,YAAY3mM,QAC1C/I,GAAAA,YAAyB4C,EAAK8sM,YAAY78H,OAC1C7yE,GAAAA,YAAyB4C,EAAK8sM,YAAW,QACzC1vM,GAAAA,WAAwByB,GAAAA,aAAAA,QAE5B,IAoCAmB,EAAK8sM,YAAY78H,MAAQ7yE,GAAAA,UAAuByB,GAAAA,aAAAA,OAlC1B,WACpB,IAAQmuM,EAAUhtM,EAAKqH,MAAf2lM,MACFh/M,EAAKoP,GAAAA,QAAqByB,GAAAA,aAAAA,OAC1BsuM,EAAW/vM,GAAAA,QAAqByB,GAAAA,aAAAA,QAElCsuM,GAAYA,IAAan/M,GAE7BoP,GAAAA,QAAqByB,GAAAA,aAAAA,OAA+BmuM,EACtD,IA2BAhtM,EAAK8sM,YAAW,OAAU1vM,GAAAA,UAAuByB,GAAAA,aAAAA,QAzB1B,WACrB,IAAMsuM,EAAW/vM,GAAAA,QAAqByB,GAAAA,aAAAA,QAGtC,GAFkBmB,EAAKqH,MAAf2lM,QAEMG,EAAU,KAAA73L,EAAA83L,EACtB,GAAU,QAAV93L,EAAI9F,cAAM,IAAA8F,GAAQ,QAAR83L,EAAN93L,EAAQ+3L,cAAM,IAAAD,GAAdA,EAAgBlxH,UAAW,CAC7B,IAAMoxH,EAAW99L,OAAO69L,OAAOnxH,UAAUqxH,WAEzC,GADoB/9L,OAAO69L,OAAOnxH,UAAUsxH,sBACxBh+L,QAAU89L,EAAStpN,OAAS,EAE9C,YADAwrB,OAAO3C,OAGX,CACA7M,EAAKyuC,SAAS,CACZm+J,WAAW,IAGbxvM,GAAAA,YAAyB4C,EAAK8sM,YAAY3mM,QAC1C/I,GAAAA,YAAyB4C,EAAK8sM,YAAY78H,OAC1C7yE,GAAAA,YAAyB4C,EAAK8sM,YAAW,OAC3C,CACF,IAMA1vM,GAAAA,QAAqByB,GAAAA,aAAAA,MAA8BkuM,EACrD,GACF,GAAC,CAAAtlN,IAAA,wBAAA6C,MAED,WACEkyC,GAAAA,OAAAA,KAAoB39B,GAAAA,OAAAA,WAA6B,CAC/C9M,MACEo6F,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,6BACH+4F,eAAe,YAGnB5zD,QACEg5D,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,+BACH+4F,eAAe,2FACfl9F,OAAQ,CACNunF,YAAar1E,GAASmhC,YAAYmiB,sBAIxCkxG,QACEpkE,KAAAA,cAACI,GAAAA,EAAgB,CACfv+F,GAAG,0CACH+4F,eAAe,+BAGnBmpE,WAAW,EACXM,mBAAmB,EACnBL,WAAY,WACVp0J,GAAS+9C,aACTtd,GAAAA,OAAAA,MAAqB39B,GAAAA,OAAAA,WACvB,GAEJ,GAAC,CAAApX,IAAA,kBAAA6C,OAAA0hN,GAAAjnM,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAC,IAAA,IAAA7E,EAAA,YAAA4E,IAAAA,MAAA,SAAAM,GAAA,cAAAA,EAAAtZ,KAAAsZ,EAAAjb,MAAA,cAAAib,EAAAjb,KAAA,EACQ0R,GAASmhC,YAAYC,QAAO,WAChC,IAAMswK,EAAc,WACG1xM,GAAS2F,gBAAkB3F,GAAS6hD,mBAGvDx9C,EAAKstM,wBAELlxK,GAAAA,OAAAA,MAAqB39B,GAAAA,OAAAA,WAEzB,EAEA9C,GAASmhC,YAAY4O,GAAG,eAAgB2hK,GACxC1xM,GAASmhC,YAAY4O,GAAG,YAAa2hK,GAEjC1xM,GAAS2F,gBAAkB3F,GAAS6hD,oBACtCx9C,EAAKstM,uBAET,IAAE,wBAAApoM,EAAAF,OAAA,GAAAH,EAAA,KACH,kBAAA+mM,EAAAloM,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,oBAAA6C,MAED,WACE,IAAIwa,QAAO,eAAAc,GAAAb,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAAkB,EAAOhB,GAAO,IAAAyoM,EAAAj4H,EAAA,OAAA1wE,IAAAA,MAAA,SAAAoB,GAAA,cAAAA,EAAApa,KAAAoa,EAAA/b,MAAA,OACmC,OAArDsjN,EAAWnsK,SAASkxG,eAAe,mBAAkBtsI,EAAA/b,KAAA,EAE7BkrF,GAAAA,kBAAgC,OAAxDG,EAAetvE,EAAAX,KACrB9H,QAAQ4jB,IAAI,oBAAqBm0D,GAC7BA,GACFl5C,GAAAA,KAAAA,0BAEE+4C,GAAAA,kBACCA,GAAAA,iBACAG,GAEH/3E,QAAQ4jB,IAAI,mBACZg0D,GAAAA,cAA6BzwD,MAAK,SAACi7I,GACjCpiK,QAAQ4jB,IAAI,cAAew+I,EAAYlhK,GAAAA,aAAAA,gBACnCkhK,IACE3iK,GAAAA,QAAqByB,GAAAA,aAAAA,iBACvBolF,GAAmB7oD,GAAM6+C,MACzBzqE,OAAOsrB,SAASu5D,WAEhBpQ,GAA4C,gBAAzBz0E,OAAOsrB,SAASkpD,KAAyB5oD,GAAM++C,SAAW/+C,GAAMphB,cAC/E2zL,IAAUA,EAAS7rK,MAAMC,QAAU,SAG7C,KAEIwzC,GAAAA,kBACCA,GAAAA,kBACCG,GAEJ/3E,QAAQ4jB,IAAI,kBACZg0D,GAAAA,aAA4BzwD,MAAK,WAC3B6oL,IAAUA,EAAS7rK,MAAMC,QAAU,OACzC,IAE6B,gBAAzBvyB,OAAOsrB,SAASkpD,MAClBC,GAAmB,2BAGjB0pH,IAAUA,EAAS7rK,MAAMC,QAAU,QAG3C78B,EAAQ,SAAQ,wBAAAkB,EAAAhB,OAAA,GAAAc,EAAA,KACjB,gBAAAR,GAAA,OAAAE,EAAA9B,MAAA,KAAAhf,UAAA,EA3CU,GA4Cb,GAAC,CAAA2C,IAAA,oBAAA6C,OAAA4mI,GAAAnsH,EAAAA,EAAAA,GAAAC,IAAAA,MAED,SAAAa,IAAA,IAAAiS,EAAA81L,EAAA,OAAA5oM,IAAAA,MAAA,SAAAe,GAAA,cAAAA,EAAA/Z,KAAA+Z,EAAA1b,MAAA,OAwB0B,OAtBe+S,GAAAA,QAAqB,oCAG1DA,GAAAA,QAAqB,kCAAkC,GACvDoS,OAAOsrB,SAASu5D,UAIVv8E,EAAe/zB,KAAK0gB,MAApBqT,WAEJzF,GAAAA,KAAAA,iBAA6BtuB,KAAK8oN,kBAAiB,GAEhCzvM,GAAAA,QAAqByB,GAAAA,aAAAA,iBAG1CiZ,EAAW7wB,SAAQ,SAAAgf,GAA+B,IAA5BvN,EAAIuN,EAAJvN,KAAMM,EAAQiN,EAARjN,SAAU1O,EAAK2b,EAAL3b,MACvB,QAAToO,GACF8jC,GAAAA,KAAAA,iBAA8BxjC,EAAW1O,EAAMsW,cAAgBlI,EAEnE,IAGF3U,KAAK8pN,oBAAmB9nM,EAAA1b,KAAA,EAClBtG,KAAK6tD,kBAAiB,OAE5B7tD,KAAK+pN,gCACLt+L,OAAOgtB,QAAUA,GAEjBhtB,OAAOu+L,QAAU,SAAC7+M,GAChByO,QAAQzO,MAAM,cAAeA,EAC/B,EAEA,IACa8+M,UAAUrhM,KAAK,QACvBohM,QAAU,SAAC/+M,GACZ2O,QAAQzO,MAAM,WAAYF,EAC5B,CACF,CAAE,MAAOA,GACP2O,QAAQzO,MAAM,WAAYF,EAC5B,CAEAwgB,OAAOy+L,gBAAiB,EAElBL,EAAe,SAAfA,EAAgB5+M,GACpB64I,MACmB,OAAjBykC,GACI,4CACA,wCAEN98J,OAAOwvE,oBAAoB,eAAgB4uH,EAC7C,EACAp+L,OAAOuvE,iBAAiB,eAAgB6uH,GAExC7pN,KAAKmqN,+BAA8B,yBAAAnoM,EAAAX,OAAA,GAAAS,EAAA,UACpC,kBAAAqrH,EAAAptH,MAAA,KAAAhf,UAAA,KAAA2C,IAAA,qBAAA6C,MAED,WAAqB,IAAAwW,EAAA,KACnBgvC,EAA8C/rD,KAAKsjB,MAA3C6kM,EAAep8J,EAAfo8J,gBAAiBC,EAAgBr8J,EAAhBq8J,iBAEzBpoN,KAAK+pN,gCAED5B,GAAmBC,GAErBhqM,YAAW,WACTrB,EAAKqtM,sBAAsBrpL,MAAK,WAC9BhkB,EAAK2tC,UAAS,iBAAO,CACnB09J,kBAAkB,EAClBD,iBAAiB,EAClB,GACH,GACF,GAEJ,GAAC,CAAAzkN,IAAA,SAAA6C,MA+GD,WACE,IAAAkmD,EAAuCzsD,KAAKsjB,MAApC6kM,EAAe17J,EAAf07J,gBAAiBU,EAASp8J,EAATo8J,UAEzBn9G,EAAuH1rG,KAAK0gB,MAApHvU,EAAQu/F,EAARv/F,SAAUs6E,EAAUilB,EAAVjlB,WAAYqhI,EAAUp8G,EAAVo8G,WAAYC,EAAYr8G,EAAZq8G,aAAcC,EAAWt8G,EAAXs8G,YAAa7+E,EAAYz9B,EAAZy9B,aAAc3zG,EAAOk2E,EAAPl2E,QAASrB,EAAsBu3E,EAAtBv3E,uBAE5Fn0B,KAAKqqN,kBAEL,IAAMh/L,GAAco7D,IAAeqhI,IAAeC,IAAiBC,IAAiB7+E,GAAgB76G,KAAWA,GAAAA,UAAoB65L,EAE7H5H,EAAW/qL,EAAQuhB,SAASk/C,SAAS57E,SAAS,cAA0C,YAA1Bmb,EAAQuhB,SAAS7hB,KAC/Eo1L,EAAqB7+L,OAAOsrB,WAAatrB,OAAO8+L,OAAOxzK,SACvDga,EAAgBziC,IAAUA,GAAAA,SAMhC,GAJIyiC,GAAqF,SAApE13C,GAAAA,QAAqByB,GAAAA,aAAAA,qBACxCzB,GAAAA,QAAqByB,GAAAA,aAAAA,oBAA2C,GAG9D+tM,EACF,OAAOzgH,KAAAA,cAACk+G,GAAgB,CAACC,YAAavmN,KAAKwqN,kBAG7C,GAAIn/L,EACF,OACE+8E,KAAAA,cAACo8G,GAAM,CACL9D,aACEt4G,KAAAA,cAACI,GAAAA,EAAgB,CAACv+F,GAAG,UAAU+4F,eAAe,iBAMtD,IAAMynH,EAAgBlK,GAAYxvJ,GAAiBu5J,EAC7CI,EAAcj/L,OAAO+wE,oBAAsBR,GAAAA,aAC3CosF,EAAY38J,OAAOsrB,SAASG,OAASzrB,OAAOsrB,SAASk/C,SAE3D,OAAOmS,KAAAA,cAACuiH,GAAAA,GAAU,KAChBviH,KAAAA,cAAA,OAAKC,UAAU,eACXoiH,GACAriH,KAAAA,cAACu3F,GAAG,CAAC5oJ,SAAUvhB,EAAQuhB,WAExBga,GACCq3C,KAAAA,cAAC03F,GAAAA,GAAY,CACX9xL,MAAO08M,EACPx+M,YAAa8vF,GAAAA,mBACb+jG,UAAW3X,EACX4X,KAAM,CACJC,SAAU,CACR,WAAYyqB,EACZ,iBAAkB1uH,GAAAA,mBAClB,SAAUosF,EACV,WAAY38J,OAAOqsB,YAM3BswD,KAAAA,cAAC+1G,GAAa,KACZ/1G,KAAAA,cAACwiH,GAAY,KAEXxiH,KAAAA,cAACohD,GAAc,CAACv/I,GAAG,uBAAuBo+F,UAAU,iBAClDD,KAAAA,cAACuzF,GAAM,MACPvzF,KAAAA,cAAA,YAAOj8F,IAETi8F,KAAAA,cAACm1G,GAAI,MACLn1G,KAAAA,cAAC2zF,GAAM,MACP3zF,KAAAA,cAACyiH,GAAa,OACZ12L,GACAi0E,KAAAA,cAACy2E,GAAc,CAACrpJ,QAASA,IAE3B4yE,KAAAA,cAACo/G,GAAqB,CAAChyL,QAASA,OAK1C,KAACqyL,CAAA,CAndQ,CAYOz/G,KAAAA,aAAeQ,KAAAA,KAAAA,IA0cjC,UAAe8wC,EAAAA,EAAAA,KAAW9rC,EAAAA,GAAAA,IAAWi6G,K,i5u2CE5erC,IAAMiD,GAAe,CACnBvnE,GAAI10C,GAAek8G,IACnBC,GAAIn8G,GAAeo8G,IACnB5nE,GAAIx0C,GAAeq8G,IACnB5nE,GAAIz0C,GAAes8G,IACnB3nE,GAAI30C,GAAeu8G,IACnB3nE,GAAI50C,GAAew8G,IACnBC,GAAIz8G,GAAe08G,IACnBC,GAAI38G,GAAe48G,IACnBC,GAAI78G,GAAe88G,IACnBC,GAAI/8G,GAAeg9G,KAGAC,GAAqB,SAAAjjH,IAAAnuF,EAAAA,GAAAA,GAAAoxM,EAAAjjH,GAAA,I,IAAAluF,G,EAAAmxM,E,maAAA,SAAAA,IAAA,OAAA1/M,EAAAA,GAAAA,GAAA,KAAA0/M,GAAAnxM,EAAAoF,MAAA,KAAAhf,UAAA,CAqCvC,OArCuCsL,EAAAA,GAAAA,GAAAy/M,EAAA,EAAApoN,IAAA,SAAA6C,MACxC,WACE,IAAQ4F,EAAanM,KAAK0gB,MAAlBvU,SAGR,OACEi8F,KAAAA,cAACuiH,GAAAA,GAAU,KACTviH,KAAAA,cAAC60G,EAAAA,GAAM,KACL70G,KAAAA,cAAC80G,EAAAA,GAAK,CACJ6O,OAAQ,SAAArrM,GACN,IAAIsrM,EAAgBj9G,KAGlBi9G,OADgChrN,IAA9B0f,EAAMnT,MAAM6C,OAAOomC,OACL91B,EAAMnT,MAAM6C,OAAOomC,QAE5B0kD,GAAU,WAAa,MACTnzF,cAGvB,IAAMq5L,EAAW0pB,GAAakB,GAE9B,OACE5jH,KAAAA,cAAC6jH,GAAAA,GAAYpgH,EAAAA,GAAAA,GAAA,GACPnrF,EAAK,CACThd,IAAKsoN,EACLx1K,OAAQw1K,EACRj9G,cAAeA,KACfqyF,SAAUA,IAETj1L,EAGP,KAKV,KAAC2/M,CAAA,CArCuC,CAAS1jH,KAAAA,WCzBT,I,GASrB8jH,GAAI,SAAArjH,IAAAnuF,EAAAA,GAAAA,GAAAwxM,EAAArjH,GAAA,I,IAAAluF,G,EAAAuxM,E,maACvB,SAAAA,EAAYxrM,GAAO,IAAA/T,EAI+C,OAJ/CP,EAAAA,GAAAA,GAAA,KAAA8/M,GACjBv/M,EAAAgO,EAAAtZ,KAAA,KAAMqf,GAGNmW,GAAAA,KAAAA,qBAAmC,CAAEvL,mBAAmB,IAAQ3e,CAClE,CAgBC,OAhBAN,EAAAA,GAAAA,GAAA6/M,EAAA,EAAAxoN,IAAA,SAAA6C,MAED,WACE,IAAAijG,EAAmCxpG,KAAK0gB,MAAhC8U,EAAOg0E,EAAPh0E,QAAS0B,EAAKsyE,EAALtyE,MAAOi1L,EAAM3iH,EAAN2iH,OAExB,OACE/jH,GAAAA,cAACgkH,GAAAA,GAAQ,CAACl1L,MAAOA,GACfkxE,GAAAA,cAACikH,GAAAA,GAAe,CAAC72L,QAASA,GACxB4yE,GAAAA,cAAAA,GAAAA,SAAA,KACEA,GAAAA,cAAC0jH,GAAqB,KACpB1jH,GAAAA,cAACy/G,GAAG,CAACryL,QAASA,GAAU22L,MAMpC,KAACD,CAAA,CAtBsB,CAAS9jH,GAAAA,WCfQ,IvkBYpCkkH,GukBNeC,GADpBpiH,KCPD,CAAgB,KAAO,2BAA2B,OAAS,4BDOxCxB,CAAAC,GAAA,SAAAyC,IAAA3wF,EAAAA,GAAAA,GAAA6xM,EAAAlhH,GAAA,I,IAAA1wF,G,EAAA4xM,E,maAAA,SAAAA,IAAA,OAAAngN,EAAAA,GAAAA,GAAA,KAAAmgN,GAAA5xM,EAAAoF,MAAA,KAAAhf,UAAA,CAiBhB,OAjBgBsL,EAAAA,GAAAA,GAAAkgN,EAAA,EAAA7oN,IAAA,SAAA6C,MAEjB,WACE,OACE6hG,KAAAA,cAAA,OAAKC,UAAU,QACbD,KAAAA,cAAA,MAAIC,UAAU,UAAS,4FAGvBD,KAAAA,cAAA,UACIA,KAAAA,cAAA,cACEA,KAAAA,cAAA,KAAGkK,KAAI,WAAA5vG,OAAa+6C,SAAS1G,SAASkpD,MAAIv9F,OAAG+6C,SAAS1G,SAASk/C,UAAQvzF,OAAG+6C,SAAS1G,SAAS7hB,OAAQ,gBAOhH,KAACq3L,CAAA,CAjBgB,CACyB/gH,GAAAA,aAAS5C,G,uBEM/C4jH,IAH0B,GAAH9pN,OAAM4rB,GAAAA,WAAiB,WAGrCmvB,SAASkxG,eAAe,SAGR,UAA7BljI,OAAOsrB,SAAS01K,UACgB,cAA7BhhM,OAAOsrB,SAASC,UACf01K,KAAUjhM,OAAOsrB,SAASC,WzkBL1Bs1K,GAAW1tN,SAASya,GAAAA,QAAqByB,GAAAA,aAAAA,iBAAyC,KAAO,EACzFonF,GAAWjiG,SAAWqsN,IACxB1yM,QAAQ4jB,IAAI,8BACLzc,QAAQI,YAEjBvH,QAAQ4jB,IAAI,oCAAD96B,OAAqC4pN,GAAQ,kBAAA5pN,OAAiBw/F,GAAWjiG,OAASqsN,GAAQ,gBAE9FpqH,GAAW/nF,OAAOmyM,IAAUtkN,QAAO,SAAC2kN,EAAOC,GAAS,OACzDD,EAAM5rL,MAAK,kBAAM,IAAIhgB,SAAQ,SAACI,EAASiB,GACrC,IACEwqM,EAAUlrH,MACP3gE,MAAK,WACJnnB,QAAQ4jB,IAAI,cAAD96B,OAAekqN,EAAUj4M,KAAI,QAAAjS,OAAO4pN,GAAW,EAAC,yBAC3DA,KACAnrM,GACF,IAAE,OAAO,SAAAlW,GACP2O,QAAQzO,MAAMF,GACdmX,EAAO,cAAD1f,OAAekqN,EAAUj4M,KAAI,QAAAjS,OAAO4pN,GAAW,EAAC,gBACxD,GACJ,CAAE,MAAOrhN,GACP2O,QAAQzO,MAAMF,GACdmX,EAAO,cAAD1f,OAAekqN,EAAUj4M,KAAI,QAAAjS,OAAO4pN,GAAW,EAAC,gBACxD,CACF,GACC,GAAC,GAAEvrM,QAAQI,WAAW4f,MAAK,WAC5BnnB,QAAQ4jB,IAAI,uBACd,IAAE,OAAO,SAAAvyB,GAAC,OAAI2O,QAAQzO,MAAMF,EAAE,IAAC,SACpB,WACPoO,GAAAA,QAAqByB,GAAAA,aAAAA,gBAAwCwxM,GAC/D,MykBjBO,SAAS,kBAAMluM,YAAW,WAEjCgzI,IAAAA,OAAgBhpD,MAAA1qD,cAACwuK,GAAI,CAAC12L,QAASA,GAAS0B,MAAOA,GAAOi1L,OAAQA,KAAYK,IAC1E5yM,QAAQ4jB,IAAI,oCACd,GAAG,IAAK,IATR4zH,IAAAA,OACEhpD,MAAA1qD,cAAC6uK,GAAc,MACfC,IAUJ7pK,GAAAA,IAAAA,S,kBClCA,IAAIvhD,EAAM,CACT,aAAc,MAIf,SAASyrN,EAAelvL,GACvB,IAAI1zB,EAAK6iN,EAAsBnvL,GAC/B,OAAOovL,EAAoB9iN,EAC5B,CACA,SAAS6iN,EAAsBnvL,GAC9B,IAAIovL,EAAoBpoG,EAAEvjH,EAAKu8B,GAAM,CACpC,IAAI1yB,EAAI,IAAI1M,MAAM,uBAAyBo/B,EAAM,KAEjD,MADA1yB,EAAEwZ,KAAO,mBACHxZ,CACP,CACA,OAAO7J,EAAIu8B,EACZ,CACAkvL,EAAejnN,KAAO,WACrB,OAAOsL,OAAOtL,KAAKxE,EACpB,EACAyrN,EAAe1rM,QAAU2rM,EACzBE,EAAOC,QAAUJ,EACjBA,EAAe5iN,GAAK,K,YCtBpB,SAASijN,EAAoBvvL,GAC5B,IAAI1yB,EAAI,IAAI1M,MAAM,uBAAyBo/B,EAAM,KAEjD,MADA1yB,EAAEwZ,KAAO,mBACHxZ,CACP,CACAiiN,EAAoBtnN,KAAO,IAAM,GACjCsnN,EAAoB/rM,QAAU+rM,EAC9BA,EAAoBjjN,GAAK,MACzB+iN,EAAOC,QAAUC,C,kBCRjB,IAAI9rN,EAAM,CACT,KAAM,MACN,aAAc,MACd,gBAAiB,MACjB,WAAY,MACZ,cAAe,MACf,QAAS,MACT,WAAY,MACZ,QAAS,MACT,WAAY,MACZ,QAAS,MACT,WAAY,MACZ,UAAW,KACX,aAAc,KACd,UAAW,MACX,aAAc,MACd,UAAW,KACX,aAAc,KACd,SAAU,MACV,YAAa,OAId,SAASyrN,EAAelvL,GACvB,IAAI1zB,EAAK6iN,EAAsBnvL,GAC/B,OAAOovL,EAAoB9iN,EAC5B,CACA,SAAS6iN,EAAsBnvL,GAC9B,IAAIovL,EAAoBpoG,EAAEvjH,EAAKu8B,GAAM,CACpC,IAAI1yB,EAAI,IAAI1M,MAAM,uBAAyBo/B,EAAM,KAEjD,MADA1yB,EAAEwZ,KAAO,mBACHxZ,CACP,CACA,OAAO7J,EAAIu8B,EACZ,CACAkvL,EAAejnN,KAAO,WACrB,OAAOsL,OAAOtL,KAAKxE,EACpB,EACAyrN,EAAe1rM,QAAU2rM,EACzBE,EAAOC,QAAUJ,EACjBA,EAAe5iN,GAAK,K,yBCxCpB+iN,EAAOC,QAAU7kH,K,yBCAjB4kH,EAAOC,QAAU77D,Q,kZCCb+7D,EAA2B,CAAC,EAGhC,SAASJ,EAAoBK,GAE5B,IAAIC,EAAeF,EAAyBC,GAC5C,QAAqBpsN,IAAjBqsN,EACH,OAAOA,EAAaJ,QAGrB,IAAID,EAASG,EAAyBC,GAAY,CACjDnjN,GAAImjN,EACJE,QAAQ,EACRL,QAAS,CAAC,GAUX,OANAM,EAAoBH,GAAU/rN,KAAK2rN,EAAOC,QAASD,EAAQA,EAAOC,QAASF,GAG3EC,EAAOM,QAAS,EAGTN,EAAOC,OACf,CAGAF,EAAoBlsN,EAAI0sN,EC5BxBR,EAAoBS,KAAO,CAAC,EhvBAxBrvN,EAAW,GACf4uN,EAAoBU,EAAI,CAACzrN,EAAQ0rN,EAAUC,EAAIC,KAC9C,IAAGF,EAAH,CAMA,IAAIG,EAAe/iG,IACnB,IAAS/qH,EAAI,EAAGA,EAAI5B,EAAS8B,OAAQF,IAAK,CAGzC,IAFA,IAAK2tN,EAAUC,EAAIC,GAAYzvN,EAAS4B,GACpC+tN,GAAY,EACPC,EAAI,EAAGA,EAAIL,EAASztN,OAAQ8tN,MACpB,EAAXH,GAAsBC,GAAgBD,IAAa18M,OAAOtL,KAAKmnN,EAAoBU,GAAGplN,OAAO3E,GAASqpN,EAAoBU,EAAE/pN,GAAKgqN,EAASK,MAC9IL,EAASvzM,OAAO4zM,IAAK,IAErBD,GAAY,EACTF,EAAWC,IAAcA,EAAeD,IAG7C,GAAGE,EAAW,CACb3vN,EAASgc,OAAOpa,IAAK,GACrB,IAAIwiH,EAAIorG,SACE3sN,IAANuhH,IAAiBvgH,EAASugH,EAC/B,CACD,CACA,OAAOvgH,CAnBP,CAJC4rN,EAAWA,GAAY,EACvB,IAAI,IAAI7tN,EAAI5B,EAAS8B,OAAQF,EAAI,GAAK5B,EAAS4B,EAAI,GAAG,GAAK6tN,EAAU7tN,IAAK5B,EAAS4B,GAAK5B,EAAS4B,EAAI,GACrG5B,EAAS4B,GAAK,CAAC2tN,EAAUC,EAAIC,EAqBjB,EivBzBdb,EAAoB7rN,EAAK8rN,IACxB,IAAIgB,EAAShB,GAAUA,EAAOiB,WAC7B,IAAOjB,EAAiB,QACxB,IAAM,EAEP,OADAD,EAAoBlgN,EAAEmhN,EAAQ,CAAEhqN,EAAGgqN,IAC5BA,CAAM,ECLdjB,EAAoBlgN,EAAI,CAACogN,EAASiB,KACjC,IAAI,IAAIxqN,KAAOwqN,EACXnB,EAAoBpoG,EAAEupG,EAAYxqN,KAASqpN,EAAoBpoG,EAAEsoG,EAASvpN,IAC5EwN,OAAO+/G,eAAeg8F,EAASvpN,EAAK,CAAEyqN,YAAY,EAAM3kN,IAAK0kN,EAAWxqN,IAE1E,ECHDqpN,EAAoB9hN,EAAI,IAAO8V,QAAQI,UCHvC4rM,EAAoBqB,EAAI,WACvB,GAA0B,iBAAfC,WAAyB,OAAOA,WAC3C,IACC,OAAOruN,MAAQ,IAAIqiC,SAAS,cAAb,EAChB,CAAE,MAAOp3B,GACR,GAAsB,iBAAXwgB,OAAqB,OAAOA,MACxC,CACA,CAPuB,GCAxBshM,EAAoBpoG,EAAI,CAAC74G,EAAK65C,IAAUz0C,OAAOtR,UAAUsa,eAAe7Y,KAAKyK,EAAK65C,GCClFonK,EAAoBxqG,EAAK0qG,IACH,oBAAXhrG,QAA0BA,OAAOsJ,aAC1Cr6G,OAAO+/G,eAAeg8F,EAAShrG,OAAOsJ,YAAa,CAAEhlH,MAAO,WAE7D2K,OAAO+/G,eAAeg8F,EAAS,aAAc,CAAE1mN,OAAO,GAAO,ECL9DwmN,EAAoBuB,IAAOtB,IAC1BA,EAAOuB,MAAQ,GACVvB,EAAO7gN,WAAU6gN,EAAO7gN,SAAW,IACjC6gN,GCHRD,EAAoBpwH,EAAI,KCExBzrF,OAAO+/G,eAAe87F,EAAqB,IAAK,CAC9CvjN,IAAK,WACP,IACE,GAAyB,iBAAdglN,UACT,MAAM,IAAIjwN,MAAM,oJAElB,OAAOiwN,SACT,CAAE,MAAOvjN,GAIP,MAAO,IACT,CACC,EACC7F,IAAK,WAAa,I,MCXpB,IAAIqpN,EAAkB,CACrB,IAAK,GAaN1B,EAAoBU,EAAEM,EAAKW,GAA0C,IAA7BD,EAAgBC,GAGxD,IAAIC,EAAuB,CAACC,EAA4B3nN,KACvD,IAGImmN,EAAUsB,GAHThB,EAAUmB,EAAaC,GAAW7nN,EAGhBlH,EAAI,EAC3B,GAAG2tN,EAASqB,MAAM9kN,GAAgC,IAAxBwkN,EAAgBxkN,KAAa,CACtD,IAAImjN,KAAYyB,EACZ9B,EAAoBpoG,EAAEkqG,EAAazB,KACrCL,EAAoBlsN,EAAEusN,GAAYyB,EAAYzB,IAGhD,GAAG0B,EAAS,IAAI9sN,EAAS8sN,EAAQ/B,EAClC,CAEA,IADG6B,GAA4BA,EAA2B3nN,GACrDlH,EAAI2tN,EAASztN,OAAQF,IACzB2uN,EAAUhB,EAAS3tN,GAChBgtN,EAAoBpoG,EAAE8pG,EAAiBC,IAAYD,EAAgBC,IACrED,EAAgBC,GAAS,KAE1BD,EAAgBC,GAAW,EAE5B,OAAO3B,EAAoBU,EAAEzrN,EAAO,EAGjCgtN,EAAqB/mK,KAA8B,wBAAIA,KAA8B,yBAAK,GAC9F+mK,EAAmB9rN,QAAQyrN,EAAqBnvM,KAAK,KAAM,IAC3DwvM,EAAmB9uN,KAAOyuN,EAAqBnvM,KAAK,KAAMwvM,EAAmB9uN,KAAKsf,KAAKwvM,G,KC7CvF,IAAIC,EAAsBlC,EAAoBU,OAAEzsN,EAAW,CAAC,MAAM,IAAO+rN,EAAoB,SAC7FkC,EAAsBlC,EAAoBU,EAAEwB,E","sources":["webpack:///webpack/runtime/chunk loaded","webpack:///./src/common/utils/slip39/slip39_helper.js","webpack:///./src/common/utils/slip39/slip39.js","webpack:///./src/common/utils/mnemonic.ts","webpack:///./src/core/swap.app/constants/COINS.ts","webpack:///./src/core/swap.app/constants/ENV.ts","webpack:///./src/core/swap.app/constants/index.ts","webpack:///./src/core/swap.app/constants/SERVICES.ts","webpack:///./src/core/swap.app/constants/NETWORKS.ts","webpack:///./src/core/swap.app/StorageFactory.ts","webpack:///./src/core/swap.app/Collection.ts","webpack:///./src/core/swap.app/SwapApp.ts","webpack:///./src/core/swap.app/ServiceInterface.ts","webpack:///./src/core/swap.app/SwapInterface.ts","webpack:///./src/core/swap.app/Events.ts","webpack:///./src/core/swap.app/util/pullProps.ts","webpack:///./src/core/swap.app/util/helpers.ts","webpack:///./src/core/swap.app/util/tokenRegistrar.ts","webpack:///./src/core/swap.app/index.ts","webpack:///./src/core/swap.app/util/typeforce.ts","webpack:///./src/core/swap.auth/SwapAuth.ts","webpack:///./src/core/swap.auth/arbeth.ts","webpack:///./src/core/swap.auth/bnb.ts","webpack:///./src/core/swap.auth/btc.ts","webpack:///./src/core/swap.auth/eth.ts","webpack:///./src/core/swap.auth/ghost.ts","webpack:///./src/core/swap.auth/index.ts","webpack:///./src/core/swap.auth/matic.ts","webpack:///./src/core/swap.auth/next.ts","webpack:///./src/front/shared/redux/reducers/notifications.ts","webpack:///./src/front/shared/redux/reducers/modals.ts","webpack:///./src/front/shared/redux/reducers/history.ts","webpack:///./src/front/shared/redux/reducers/loader.ts","webpack:///./src/front/shared/redux/reducers/user.ts","webpack:///./src/front/shared/redux/reducers/feeds.ts","webpack:///./src/front/local_modules/app-config/client.js","webpack:///./src/front/shared/redux/reducers/core.ts","webpack:///./src/front/shared/redux/reducers/pubsubRoom.ts","webpack:///./src/front/shared/redux/reducers/api.ts","webpack:///./src/front/shared/helpers/constants/TOKEN_STANDARDS.ts","webpack:///./src/front/shared/redux/reducers/currencies.ts","webpack:///./src/front/shared/redux/reducers/inputActive.ts","webpack:///./src/front/shared/redux/reducers/rememberedOrders.ts","webpack:///./src/front/shared/redux/reducers/createWallet.ts","webpack:///./src/front/shared/redux/reducers/ui.ts","webpack:///./src/front/shared/redux/reducers/oneinch.ts","webpack:///./src/front/shared/redux/reducers/transactions.ts","webpack:///./src/front/shared/redux/reducers/index.ts","webpack:///./src/front/shared/redux/middleware/selectiveSaver.ts","webpack:///./src/front/shared/redux/store/index.ts","webpack:///./src/front/shared/redux/core/reducers.ts","webpack:///./src/front/shared/redux/core/index.ts","webpack:///./src/front/shared/helpers/externalConfig.ts","webpack:///./src/common/utils/request.ts","webpack:///./src/common/utils/getUnixTimeStamp.ts","webpack:///./src/common/utils/apiLooper.ts","webpack:///./src/common/helpers/constants/TRANSACTION.ts","webpack:///./src/common/helpers/constants/DEFAULT_CURRENCY_PARAMETERS.ts","webpack:///./src/common/helpers/constants/MIN_AMOUNT.ts","webpack:///./src/common/helpers/constants/COINS_WITH_DYNAMIC_FEE.ts","webpack:///./src/common/helpers/constants/EVM_CONTRACTS_ABI.ts","webpack:///./src/common/helpers/constants/ADDRESSES.ts","webpack:///./src/common/helpers/constants/index.ts","webpack:///./src/common/helpers/constants/MIN_AMOUNT_OFFER.ts","webpack:///./src/front/config/testnet/api.js","webpack:///./src/front/config/mainnet/api.js","webpack:///./src/common/utils/coin/btc.ts","webpack:///./src/front/shared/helpers/btc.ts","webpack:///./src/front/shared/redux/actions/modals.ts","webpack:///./src/front/shared/redux/actions/loader.ts","webpack:///./src/front/shared/redux/actions/notifications.ts","webpack:///./src/common/coins/getCoinInfo.ts","webpack:///./src/front/shared/helpers/user.ts","webpack:///./src/front/shared/redux/actions/user.ts","webpack:///./src/common/helpers/ethLikeHelper.ts","webpack:///./src/common/utils/amount.ts","webpack:///./src/common/utils/colorString.ts","webpack:///./src/common/utils/namedQuery.ts","webpack:///./src/common/utils/index.ts","webpack:///./src/common/erc20Like/index.ts","webpack:///./src/front/shared/redux/actions/history.ts","webpack:///./src/front/shared/redux/actions/feed.ts","webpack:///./src/core/swap.swap/Room.ts","webpack:///./src/core/swap.swap/Swap.ts","webpack:///./src/core/swap.swap/Flow.ts","webpack:///./src/core/swap.swap/AtomicAB2UTXO.ts","webpack:///./src/core/swap.swap/index.ts","webpack:///./src/front/shared/helpers/constants/TOKEN_DECIMALS.ts","webpack:///./src/front/shared/helpers/constants/TRADE_TICKERS.ts","webpack:///./src/front/shared/helpers/constants/PAIR_TYPES.ts","webpack:///./src/front/shared/pages/Exchange/Orders/Pair.ts","webpack:///./src/front/shared/helpers/web3.ts","webpack:///./src/common/web3connect/providers/supported.ts","webpack:///./src/common/web3connect/providers/InjectedType.ts","webpack:///./src/common/web3connect/providers/InjectedProvider.ts","webpack:///./src/common/web3connect/providers/WalletConnectProviderV2.ts","webpack:///./src/common/web3connect/providers/index.ts","webpack:///./src/common/web3connect/index.ts","webpack:///./src/front/shared/helpers/getReduxState.ts","webpack:///./src/front/shared/helpers/metamask.ts","webpack:///./src/common/domain/address.ts","webpack:///./src/front/shared/redux/actions/core.ts","webpack:///./src/front/shared/redux/actions/ui.ts","webpack:///./src/front/shared/redux/actions/filter.ts","webpack:///./src/front/shared/redux/actions/oneinch.ts","webpack:///./src/front/shared/redux/actions/uniswap.ts","webpack:///./src/front/shared/redux/actions/btc.ts","webpack:///./src/front/shared/redux/actions/ghost.ts","webpack:///./src/common/utils/coin/next.ts","webpack:///./src/front/shared/redux/actions/next.ts","webpack:///./src/front/shared/redux/actions/btcmultisig.ts","webpack:///./src/front/shared/redux/actions/ethLikeAction.ts","webpack:///./src/front/shared/redux/actions/erc20LikeAction.ts","webpack:///./src/front/shared/redux/actions/api.ts","webpack:///./src/front/shared/redux/actions/pairs.ts","webpack:///./src/front/shared/redux/actions/analytics.ts","webpack:///./src/front/shared/redux/actions/pubsubRoom.ts","webpack:///./src/front/shared/helpers/getCurrencyKey.ts","webpack:///./src/front/shared/redux/actions/invoices.ts","webpack:///./src/front/shared/redux/actions/comments.ts","webpack:///./src/front/shared/helpers/constants/localStorage.ts","webpack:///./src/front/shared/helpers/constants/privateKeyNames.ts","webpack:///./src/front/shared/helpers/constants/index.ts","webpack:///./src/front/shared/helpers/constants/notifications.ts","webpack:///./src/front/shared/helpers/constants/modals.ts","webpack:///./src/front/shared/plugins/backupUserData.ts","webpack:///./src/front/shared/redux/actions/backupManager.ts","webpack:///./src/common/types/index.ts","webpack:///./src/front/shared/redux/actions/multisigTx.ts","webpack:///./src/front/shared/redux/actions/index.ts","webpack:///./src/front/shared/helpers/ghost.ts","webpack:///./src/front/shared/helpers/next.ts","webpack:///./src/front/shared/helpers/eth.ts","webpack:///./src/front/shared/helpers/bnb.ts","webpack:///./src/front/shared/helpers/matic.ts","webpack:///./src/front/shared/helpers/arbeth.ts","webpack:///./src/front/shared/helpers/aureth.ts","webpack:///./src/front/shared/helpers/phi.ts","webpack:///./src/front/shared/helpers/phi_v2.ts","webpack:///./src/front/shared/helpers/fkw.ts","webpack:///./src/front/shared/helpers/phpx.ts","webpack:///./src/front/shared/helpers/xdai.ts","webpack:///./src/front/shared/helpers/ftm.ts","webpack:///./src/front/shared/helpers/avax.ts","webpack:///./src/front/shared/helpers/movr.ts","webpack:///./src/front/shared/helpers/one.ts","webpack:///./src/front/shared/helpers/ame.ts","webpack:///./src/front/shared/helpers/ethToken.ts","webpack:///./src/front/shared/helpers/links.ts","webpack:///./src/front/shared/plugins/saveUserData.ts","webpack:///./src/front/shared/plugins/index.ts","webpack:///./src/front/shared/helpers/localStorage.ts","webpack:///./src/front/shared/helpers/utils.ts","webpack:///./src/front/shared/helpers/seo.ts","webpack:///./src/front/shared/helpers/handleGoTrade.ts","webpack:///./src/front/shared/helpers/feedback.ts","webpack:///./src/front/shared/helpers/transactions.ts","webpack:///./src/front/shared/helpers/quickswap.ts","webpack:///./src/front/shared/helpers/migrations/001_initMigration.ts","webpack:///./src/front/shared/helpers/migrations/002_updateHiddenCoinsList.ts","webpack:///./src/front/shared/helpers/migrations/index.ts","webpack:///./src/front/shared/helpers/migrations/003_updateExchangeStorageSettings.ts","webpack:///./src/front/shared/helpers/migrations/004_updateBtcPinMnemonicKey.ts","webpack:///./src/front/shared/helpers/cache.ts","webpack:///./src/front/shared/helpers/lsDataCache.ts","webpack:///./src/front/shared/helpers/apiLooper.ts","webpack:///./src/front/shared/helpers/wpLogoutModal.ts","webpack:///./src/front/shared/helpers/routing.ts","webpack:///./src/front/shared/helpers/adminFee.ts","webpack:///./src/front/shared/helpers/swaps.ts","webpack:///./src/front/shared/helpers/stats.swaponline.ts","webpack:///./src/front/shared/helpers/getPairFees.ts","webpack:///./src/front/shared/helpers/getItezUrl.ts","webpack:///./src/front/shared/helpers/index.ts","webpack:///./src/front/shared/pages/LocalStorage/LocalStorage.tsx","webpack:///./src/front/shared/pages/LocalStorage/LocalStorage.scss","webpack:///./src/front/shared/pages/Swap/Swap.scss","webpack:///./src/front/shared/pages/Swap/UTXOSwap/SwapProgress/SwapProgress.scss","webpack:///./src/front/shared/pages/Swap/Timer/Timer.tsx","webpack:///./src/front/shared/pages/Swap/Timer/Timer.scss","webpack:///./src/front/shared/components/controls/Toggle/Toggle.tsx","webpack:///./src/front/shared/components/controls/Toggle/Toggle.scss","webpack:///./src/front/shared/components/controls/Button/Button.tsx","webpack:///./src/front/shared/components/controls/Button/Button.scss","webpack:///./src/front/shared/components/Timer/Timer.ts","webpack:///./src/front/shared/components/controls/TimerButton/TimerButton.tsx","webpack:///./src/front/shared/components/controls/ShareLink/ShareLink.scss","webpack:///./src/front/shared/components/controls/ShareButton/images/icon.svg","webpack:///./src/front/shared/components/controls/ShareButton/ShareButton.tsx","webpack:///./src/front/shared/components/controls/ShareButton/ShareButton.scss","webpack:///./src/front/shared/components/loaders/InlineLoader/InlineLoader.tsx","webpack:///./src/front/shared/components/loaders/InlineLoader/InlineLoader.scss","webpack:///./src/front/shared/components/controls/ShareLink/ShareLink.tsx","webpack:///./src/front/shared/components/controls/Switching/Switching.tsx","webpack:///./src/front/shared/components/controls/Switching/Switching.scss","webpack:///./src/front/shared/components/controls/Flip/Flip.tsx","webpack:///./src/front/shared/components/controls/Flip/Flip.scss","webpack:///./src/front/shared/components/controls/RemoveButton/index.tsx","webpack:///./src/front/shared/components/controls/RemoveButton/index.scss","webpack:///./src/front/shared/components/controls/WithdrawButton/WithdrawButton.tsx","webpack:///./src/front/shared/components/controls/WithdrawButton/WithdrawButton.scss","webpack:///./src/front/shared/components/ui/Copy/Copy.tsx","webpack:///./src/front/shared/components/ui/Copy/Copy.scss","webpack:///./src/front/shared/components/ui/Tooltip/ThemeTooltip.tsx","webpack:///./src/front/shared/components/ui/Tooltip/Tooltip.tsx","webpack:///./src/front/shared/components/ui/Tooltip/Tooltip.scss","webpack:///./src/front/shared/pages/Swap/UTXOSwap/SwapProgress/PleaseDontLeaveWrapper.tsx","webpack:///./src/front/shared/helpers/locale.ts","webpack:///./src/front/shared/pages/Swap/UTXOSwap/SwapProgress/SwapProgress.tsx","webpack:///./src/front/shared/pages/Swap/UTXOSwap/SwapList/SwapList.scss","webpack:///./src/front/shared/components/QR/QR.scss","webpack:///./src/front/shared/components/QR/QR.tsx","webpack:///./src/front/shared/pages/Swap/UTXOSwap/DepositWindow/DepositWindow.tsx","webpack:///./src/front/shared/pages/Swap/UTXOSwap/SwapList/SwapSteps/FirstStep.tsx","webpack:///./src/front/shared/pages/Swap/UTXOSwap/SwapList/SwapSteps/FourthStep.tsx","webpack:///./src/front/shared/images/unknown.svg","webpack:///./src/front/shared/images/opera.svg","webpack:///./src/front/shared/images/walletconnect.svg","webpack:///./src/front/shared/images/liquality.png","webpack:///./src/front/shared/images/metamask.svg","webpack:///./src/front/shared/images/trust.svg","webpack:///./src/front/shared/images/close.svg","webpack:///./src/front/shared/images/ok.svg","webpack:///./src/front/shared/images/checked.svg","webpack:///./src/front/shared/images/cancelled.svg","webpack:///./src/front/shared/images/pending.svg","webpack:///./src/front/shared/images/index.ts","webpack:///./src/front/shared/pages/Swap/UTXOSwap/SwapList/SwapSteps/UTXOSteps/SecondStep.tsx","webpack:///./src/front/shared/pages/Swap/UTXOSwap/SwapList/SwapSteps/UTXOSteps/ThirdStep.tsx","webpack:///./src/front/shared/pages/Swap/UTXOSwap/SwapList/SwapSteps/ABSteps/SecondStep.tsx","webpack:///./src/front/shared/pages/Swap/UTXOSwap/SwapList/SwapSteps/ABSteps/ThirdStep.tsx","webpack:///./src/front/shared/pages/Swap/UTXOSwap/SwapList/SwapProgressTexts/MakerUtxoToAb.tsx","webpack:///./src/front/shared/pages/Swap/UTXOSwap/SwapList/SwapProgressTexts/TakerUtxoToAb.tsx","webpack:///./src/front/shared/pages/Swap/UTXOSwap/SwapList/SwapProgressTexts/MakerAbToUtxo.tsx","webpack:///./src/front/shared/pages/Swap/UTXOSwap/SwapList/SwapProgressTexts/TakerAbToUtxo.tsx","webpack:///./src/front/shared/pages/Swap/UTXOSwap/SwapList/SwapList.tsx","webpack:///./src/common/helpers/constants/SWAP_STEPS.ts","webpack:///./src/front/shared/pages/Swap/FeeControler/FeeControler.tsx","webpack:///./src/front/shared/pages/Swap/FeeControler/FeeControler.scss","webpack:///./src/front/shared/pages/Swap/SwapController.tsx","webpack:///./src/front/shared/pages/Swap/UTXOSwap/SwapPairInfo.tsx","webpack:///./src/front/shared/pages/Swap/UTXOSwap/UTXOToEthToken.tsx","webpack:///./src/front/shared/pages/Swap/FailControler/FailControler.tsx","webpack:///./src/front/shared/pages/Swap/FailControler/FailControler.scss","webpack:///./src/front/shared/pages/Swap/UTXOSwap/EthTokenToUTXO.tsx","webpack:///./src/front/shared/pages/Swap/UTXOSwap/UTXOToEthLike.tsx","webpack:///./src/front/shared/pages/Swap/UTXOSwap/EthLikeToUTXO.tsx","webpack:///./src/front/shared/pages/Swap/swaps/build.ts","webpack:///./src/front/shared/pages/Swap/swaps/index.ts","webpack:///./src/common/messaging/pubsubRoom/protocol.ts","webpack:///./src/common/messaging/pubsubRoom/encoding.ts","webpack:///./src/common/messaging/pubsubRoom/connection.ts","webpack:///./src/common/messaging/pubsubRoom/direct-connection-handler.ts","webpack:///./src/common/messaging/pubsubRoom/index.ts","webpack:///./src/core/swap.room/SwapRoom.ts","webpack:///./src/common/messaging/pubsubRoom/createP2PNode.ts","webpack:///./src/core/swap.room/index.ts","webpack:///./src/core/swap.orders/aggregation.ts","webpack:///./src/core/swap.orders/events.ts","webpack:///./src/core/swap.orders/Order.ts","webpack:///./src/common/whitelists/visibleMakers.ts","webpack:///./src/core/swap.orders/SwapOrders.ts","webpack:///./src/core/swap.orders/index.ts","webpack:///./src/core/swap.flows/turbo/Maker.ts","webpack:///./src/core/swap.flows/turbo/Taker.ts","webpack:///./src/core/swap.flows/atomic/EthLikeToBtc.ts","webpack:///./src/core/swap.flows/ETH2BTC.ts","webpack:///./src/core/swap.flows/atomic/BtcToEthLike.ts","webpack:///./src/core/swap.flows/BTC2ETH.ts","webpack:///./src/core/swap.flows/atomic/EthLikeTokenToBtc.ts","webpack:///./src/core/swap.flows/ETHTOKEN2BTC.ts","webpack:///./src/core/swap.flows/atomic/BtcToEthLikeToken.ts","webpack:///./src/core/swap.flows/BTC2ETHTOKEN.ts","webpack:///./src/core/swap.flows/GHOST2ETH.ts","webpack:///./src/core/swap.flows/ETH2GHOST.ts","webpack:///./src/core/swap.flows/GHOST2ETHTOKEN.ts","webpack:///./src/core/swap.flows/ETHTOKEN2GHOST.ts","webpack:///./src/core/swap.flows/NEXT2BTC.ts","webpack:///./src/core/swap.flows/atomic/NextToEvm.ts","webpack:///./src/core/swap.flows/NEXT2ETH.ts","webpack:///./src/core/swap.flows/atomic/EvmToNext.ts","webpack:///./src/core/swap.flows/ETH2NEXT.ts","webpack:///./src/core/swap.flows/atomic/NextToEvmToken.ts","webpack:///./src/core/swap.flows/NEXT2ETHTOKEN.ts","webpack:///./src/core/swap.flows/atomic/EvmTokenToNext.ts","webpack:///./src/core/swap.flows/ETHTOKEN2NEXT.ts","webpack:///./src/core/swap.flows/BNB2BTC.ts","webpack:///./src/core/swap.flows/BTC2BNB.ts","webpack:///./src/core/swap.flows/BSCTOKEN2BTC.ts","webpack:///./src/core/swap.flows/BTC2BSCTOKEN.ts","webpack:///./src/core/swap.flows/MATIC2BTC.ts","webpack:///./src/core/swap.flows/BTC2MATIC.ts","webpack:///./src/core/swap.flows/MATICTOKEN2BTC.ts","webpack:///./src/core/swap.flows/BTC2MATICTOKEN.ts","webpack:///./src/core/swap.flows/ARBITRUM2BTC.ts","webpack:///./src/core/swap.flows/BTC2ARBITRUM.ts","webpack:///./src/core/swap.swaps/UTXOBlockchain.ts","webpack:///./src/core/swap.swaps/BtcSwap.ts","webpack:///./src/core/swap.swaps/EthLikeSwap.ts","webpack:///./src/core/swap.swaps/EthSwap.ts","webpack:///./src/core/swap.swaps/BnbSwap.ts","webpack:///./src/core/swap.swaps/MaticSwap.ts","webpack:///./src/core/swap.swaps/ArbitrumSwap.ts","webpack:///./src/core/swap.swaps/GhostSwap.ts","webpack:///./src/core/swap.swaps/NextSwap.ts","webpack:///./src/core/swap.swaps/EthLikeTokenSwap.ts","webpack:///./src/core/swap.swaps/EthTokenSwap.ts","webpack:///./src/core/swap.swaps/BscTokenSwap.ts","webpack:///./src/core/swap.swaps/MaticTokenSwap.ts","webpack:///./src/front/shared/instances/newSwap.ts","webpack:///./src/front/shared/pages/Swap/Debug/BtcScript.tsx","webpack:///./src/front/shared/pages/Swap/Debug/ShowBtcScript.tsx","webpack:///./src/front/shared/pages/Swap/Debug/Debug.tsx","webpack:///./src/front/shared/pages/Swap/Debug/Debug.scss","webpack:///./src/front/shared/pages/Swap/DeleteSwapAfterEnd.tsx","webpack:///./src/front/shared/pages/Swap/Swap.tsx","webpack:///./src/common/domain/swap.ts","webpack:///./src/front/shared/components/ui/Address/Address.tsx","webpack:///./src/front/shared/components/ui/Address/Address.scss","webpack:///./src/front/shared/pages/TurboSwap/TxSide.tsx","webpack:///./src/front/shared/pages/TurboSwap/TxSide.scss","webpack:///./src/front/shared/pages/TurboSwap/Tx.scss","webpack:///./src/front/shared/images/tx-status/pending.svg","webpack:///./src/front/shared/images/tx-status/done.svg","webpack:///./src/front/shared/pages/TurboSwap/Tx.tsx","webpack:///./src/front/shared/pages/TurboSwap/TurboSwap.tsx","webpack:///./src/front/shared/pages/TurboSwap/TurboSwap.scss","webpack:///./src/front/shared/components/Comment/Comment.tsx","webpack:///./src/front/shared/components/Comment/Comment.scss","webpack:///./src/front/shared/pages/History/Row/Row.tsx","webpack:///./src/front/shared/pages/History/Row/Row.scss","webpack:///./src/front/shared/components/tables/Table/Table.scss","webpack:///./src/front/shared/pages/History/History.scss","webpack:///./src/front/shared/components/tables/Table/Table.tsx","webpack:///./src/front/shared/decorators/withInfiniteScroll.tsx","webpack:///./src/front/shared/components/tables/InfiniteScrollTable/InfiniteScrollTable.tsx","webpack:///./src/front/shared/components/loaders/ContentLoader/ContentLoader.scss","webpack:///./src/front/shared/components/loaders/ContentLoader/components/ContentSection/ContentSection.tsx","webpack:///./src/front/shared/components/loaders/ContentLoader/components/DescrSection/DescrSection.tsx","webpack:///./src/front/shared/components/loaders/ContentLoader/components/BalanceSection/BalanceSection.tsx","webpack:///./src/front/shared/components/loaders/ContentLoader/components/BannersSection/BannersSection.tsx","webpack:///./src/front/shared/components/loaders/ContentLoader/ContentLoader.tsx","webpack:///./src/front/shared/components/FilterForm/FilterForm.tsx","webpack:///./src/front/shared/components/FilterForm/styles.scss","webpack:///./src/front/shared/pages/CurrencyWallet/CurrencyWallet.scss","webpack:///./src/front/shared/pages/Invoices/InvoicesList/index.tsx","webpack:///./src/front/shared/pages/History/SwapsHistory/RowHistory/RowHistory.scss","webpack:///./src/front/shared/pages/History/SwapsHistory/RowHistory/RowHistory.tsx","webpack:///./src/front/shared/pages/History/SwapsHistory/SwapsHistory.tsx","webpack:///./src/front/shared/pages/History/SwapsHistory/SwapsHistory.scss","webpack:///./src/front/shared/pages/History/History.tsx","webpack:///./src/front/shared/components/ui/CloseIcon/CloseIcon.tsx","webpack:///./src/front/shared/components/ui/CloseIcon/CloseIcon.scss","webpack:///./src/front/shared/pages/CreateWallet/Steps/startPacks.ts","webpack:///./src/front/shared/components/Coin/Coin.scss","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/btc.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/eth.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/bnb.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/matic.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/arbeth.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/aureth.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/xdai.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/ftm.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/avax.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/movr.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/one.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/ame.png","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/wbtc.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/icx.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/waves.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/xrp.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/swap.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/usdt.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/syc2.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/drt.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/omg.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/yup.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/kn.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/arn.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/lev.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/bxb.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/index.ts","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/dcn.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/pay.png","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/eurs.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/ghost.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/next.svg","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/phi.png","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/phi_v2.png","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/fkw.png","webpack:///./src/front/shared/components/ui/CurrencyIcon/images/phpx.png","webpack:///./src/front/shared/components/ui/CurrencyIcon/CurrencyIcon.tsx","webpack:///./src/front/shared/components/ui/CurrencyIcon/CurrencyIcon.scss","webpack:///./src/front/shared/components/Coin/Coin.tsx","webpack:///./src/front/shared/pages/CreateWallet/CreateWallet.scss","webpack:///./src/front/shared/pages/CreateWallet/chooseColor.ts","webpack:///./src/front/shared/pages/CreateWallet/Explanation.tsx","webpack:///./src/front/shared/pages/CreateWallet/images/check.tsx","webpack:///./src/front/shared/pages/CreateWallet/Steps/texts.tsx","webpack:///./src/front/shared/pages/CreateWallet/Steps/FirstStep.tsx","webpack:///./src/front/shared/pages/CreateWallet/images/index.ts","webpack:///./src/front/shared/pages/CreateWallet/images/withoutSecure.svg","webpack:///./src/front/shared/pages/CreateWallet/images/sms.svg","webpack:///./src/front/shared/pages/CreateWallet/images/pin.svg","webpack:///./src/front/shared/pages/CreateWallet/images/google2FA.svg","webpack:///./src/front/shared/pages/CreateWallet/images/multisignature.svg","webpack:///./src/front/shared/pages/CreateWallet/images/fingerprint.svg","webpack:///./src/front/shared/pages/CreateWallet/Steps/SecondStep.tsx","webpack:///./src/front/shared/pages/CreateWallet/Steps/StepsWrapper.tsx","webpack:///./src/front/shared/pages/CreateWallet/CreateWallet.tsx","webpack:///./src/front/shared/pages/NotFound/NotFound.tsx","webpack:///./src/front/shared/pages/NotFound/NotFound.scss","webpack:///./src/front/shared/components/layout/DashboardLayout/styles.scss","webpack:///./src/front/shared/components/FAQ/styles.scss","webpack:///./src/front/shared/components/FAQ/FAQ.tsx","webpack:///./src/front/shared/components/layout/WidthContainer/WidthContainer.tsx","webpack:///./src/front/shared/components/layout/WidthContainer/WidthContainer.scss","webpack:///./src/front/shared/components/layout/Overlay/Overlay.tsx","webpack:///./src/front/shared/components/layout/Overlay/Overlay.scss","webpack:///./src/front/shared/components/layout/Center/Center.tsx","webpack:///./src/front/shared/components/layout/Center/Center.scss","webpack:///./src/front/shared/components/modal/Modal/Modal.tsx","webpack:///./src/front/shared/components/modal/Modal/Modal.scss","webpack:///./src/front/shared/components/Row/Row.tsx","webpack:///./src/front/shared/components/Row/Row.scss","webpack:///./src/front/shared/components/Coins/Coins.tsx","webpack:///./src/front/shared/components/Coins/Coins.scss","webpack:///./src/front/shared/components/modals/OfferModal/ConfirmOffer/Row/Row.tsx","webpack:///./src/front/shared/components/modals/OfferModal/ConfirmOffer/Row/Row.scss","webpack:///./src/front/shared/components/modals/OfferModal/ConfirmOffer/Value/Value.tsx","webpack:///./src/front/shared/components/modals/OfferModal/ConfirmOffer/Value/Value.scss","webpack:///./src/front/shared/components/modals/OfferModal/ConfirmOffer/Amounts/Amounts.tsx","webpack:///./src/front/shared/components/modals/OfferModal/ConfirmOffer/Amounts/Amounts.scss","webpack:///./src/front/shared/components/modals/OfferModal/ConfirmOffer/ExchangeRate/ExchangeRate.tsx","webpack:///./src/front/shared/components/modals/OfferModal/ConfirmOffer/ExchangeRate/ExchangeRate.scss","webpack:///./src/front/shared/components/modals/OfferModal/ConfirmOffer/ConfirmOffer.tsx","webpack:///./src/front/shared/components/modals/OfferModal/ConfirmOffer/ConfirmOffer.scss","webpack:///./src/front/local_modules/sw-valuelink/tags.tsx","webpack:///./src/front/local_modules/sw-valuelink/index.ts","webpack:///./src/front/shared/components/modals/OfferModal/AddOffer/Select/Select.tsx","webpack:///./src/front/shared/components/modals/OfferModal/AddOffer/Select/Select.scss","webpack:///./src/front/shared/components/forms/TextArea/TextArea.tsx","webpack:///./src/front/shared/components/forms/Input/Input.tsx","webpack:///./src/front/shared/components/forms/Input/Input.scss","webpack:///./src/front/shared/helpers/ignoreProps.ts","webpack:///./src/front/shared/components/modals/OfferModal/AddOffer/Group/Group.tsx","webpack:///./src/front/shared/components/modals/OfferModal/AddOffer/Group/Group.scss","webpack:///./src/front/shared/components/modals/OfferModal/AddOffer/ExchangeRateGroup/ExchangeRateGroup.tsx","webpack:///./src/front/shared/components/modals/OfferModal/AddOffer/ExchangeRateGroup/ExchangeRateGroup.scss","webpack:///./src/front/shared/helpers/domUtils.ts","webpack:///./src/front/shared/components/ui/CurrencySelect/Option/Option.tsx","webpack:///./src/front/shared/components/ui/CurrencySelect/Option/Option.scss","webpack:///./src/front/shared/components/OutsideClick/index.tsx","webpack:///./src/front/shared/components/ui/DropDown/index.scss","webpack:///./src/front/shared/components/ui/DropDown/index.tsx","webpack:///./src/front/shared/components/ui/CurrencySelect/CurrencySelect.tsx","webpack:///./src/front/shared/components/SelectGroup/index.tsx","webpack:///./src/front/shared/components/SelectGroup/index.scss","webpack:///./src/front/shared/images/turbo.svg","webpack:///./src/front/shared/components/ui/TurboIcon/TurboIcon.tsx","webpack:///./src/front/shared/components/ui/TurboIcon/TurboIcon.scss","webpack:///./src/common/helpers/turboSwap.ts","webpack:///./src/front/shared/components/modals/OfferModal/AddOffer/AddOffer.tsx","webpack:///./src/front/shared/components/modals/OfferModal/AddOffer/AddOffer.scss","webpack:///./src/front/shared/components/modals/OfferModal/OfferModal.tsx","webpack:///./src/front/shared/components/modals/OfferModal/OfferModal.scss","webpack:///./src/front/shared/components/modals/LimitOrder/ModalForm.tsx","webpack:///./src/front/shared/components/modals/LimitOrder/index.scss","webpack:///./src/front/shared/components/modals/LimitOrder/index.tsx","webpack:///./src/front/shared/components/forms/FieldLabel/FieldLabel.tsx","webpack:///./src/front/shared/components/forms/FieldLabel/FieldLabel.scss","webpack:///./src/front/shared/components/QrReader/index.tsx","webpack:///./src/front/shared/components/QrReader/styles.scss","webpack:///./src/front/shared/components/InvoiceInfoBlock/InvoiceInfoBlock.tsx","webpack:///./src/front/shared/components/InvoiceInfoBlock/InvoiceInfoBlock.scss","webpack:///./src/front/shared/components/AdminFeeInfoBlock/AdminFeeInfoBlock.tsx","webpack:///./src/front/shared/components/AdminFeeInfoBlock/AdminFeeInfoBlock.scss","webpack:///./src/front/shared/components/modals/WithdrawModal/WithdrawModal.scss","webpack:///./src/front/shared/components/Href/Href.tsx","webpack:///./src/front/shared/components/Href/Href.scss","webpack:///./src/front/shared/pages/Wallet/Endpoints/index.tsx","webpack:///./src/front/shared/pages/Wallet/PartOfAddress/index.tsx","webpack:///./src/front/shared/components/modals/WithdrawModal/components/CurrencyList/index.tsx","webpack:///./src/front/shared/components/modals/WithdrawModal/components/CurrencyList/index.scss","webpack:///./src/front/shared/components/modals/WithdrawModal/components/FeeInfoBlock/FeeRadios/index.tsx","webpack:///./src/front/shared/components/modals/WithdrawModal/components/FeeInfoBlock/FeeRadios/index.scss","webpack:///./src/front/shared/components/modals/WithdrawModal/components/FeeInfoBlock/index.tsx","webpack:///./src/front/shared/components/modals/WithdrawModal/components/FeeInfoBlock/index.scss","webpack:///./src/front/shared/components/modals/WithdrawModal/WithdrawModal.tsx","webpack:///./src/front/shared/components/modals/WithdrawModalMultisig/WithdrawModalMultisigUser.tsx","webpack:///./src/front/shared/components/modals/WithdrawModalMultisig/WithdrawModalMultisigUser.scss","webpack:///./src/front/shared/components/modals/PrivateKeysModal/PrivateKeysModal.tsx","webpack:///./src/front/shared/components/modals/PrivateKeysModal/PrivateKeysModal.scss","webpack:///./src/front/shared/components/modals/Styles/default.scss","webpack:///./src/front/shared/components/modals/ReceiveModal/ReceiveModal.tsx","webpack:///./src/front/shared/components/modals/ReceiveModal/ReceiveModal.scss","webpack:///./src/front/shared/components/modals/DownloadModal/DownloadModal.tsx","webpack:///./src/front/shared/components/modals/DownloadModal/DownloadModal.scss","webpack:///./src/front/shared/components/modals/DeclineOrdersModal/DeclineOrdersModal.tsx","webpack:///./src/front/shared/components/modals/DeclineOrdersModal/DeclineOrdersModal.scss","webpack:///./src/front/shared/components/PageHeadline/SubTitle/SubTitle.tsx","webpack:///./src/front/shared/components/PageHeadline/SubTitle/SubTitle.scss","webpack:///./src/front/shared/components/modals/IncompletedSwaps/IncompletedSwaps.tsx","webpack:///./src/front/shared/components/modals/IncompletedSwaps/IncompletedSwaps.scss","webpack:///./src/front/shared/components/modals/CurrencyAction/CurrencyAction.tsx","webpack:///./src/front/shared/components/modals/CurrencyAction/CurrencyAction.scss","webpack:///./src/front/shared/components/modals/Confirm/Confirm.tsx","webpack:///./src/front/shared/components/modals/Confirm/Confirm.scss","webpack:///./src/front/shared/components/forms/MnemonicInput/MnemonicInput.tsx","webpack:///./src/front/shared/components/modals/ConfirmBeginSwap/ConfirmBeginSwap.tsx","webpack:///./src/front/shared/components/modals/ConfirmBeginSwap/ConfirmBeginSwap.scss","webpack:///./src/front/shared/components/modals/MultisignJoinLink/MultisignJoinLink.tsx","webpack:///./src/front/shared/components/modals/MultisignJoinLink/MultisignJoinLink.scss","webpack:///./src/front/shared/components/modals/InvoiceModal/InvoiceModal.scss","webpack:///./src/front/shared/components/modals/InvoiceModal/InvoiceModal.tsx","webpack:///./src/front/shared/components/modals/InvoiceLinkModal/InvoiceLinkModal.tsx","webpack:///./src/front/shared/components/modals/InvoiceLinkModal/InvoiceLinkModal.scss","webpack:///./src/front/shared/components/modals/Alert/AlertModal.scss","webpack:///./src/front/shared/components/modals/Alert/AlertModal.tsx","webpack:///./src/front/shared/components/modals/AddCustomToken/index.tsx","webpack:///./src/front/shared/components/modals/AddCustomToken/index.scss","webpack:///./src/front/shared/components/modals/BtcMultisignSwitch/WalletRow.scss","webpack:///./src/front/shared/components/ui/DropdownMenu/DropdownMenu.tsx","webpack:///./src/front/shared/components/ui/DropdownMenu/DropdownMenu.scss","webpack:///./src/front/shared/components/modals/BtcMultisignSwitch/WalletRow.tsx","webpack:///./src/front/shared/components/modals/BtcMultisignSwitch/BtcMultisignSwitch.tsx","webpack:///./src/front/shared/components/modals/BtcMultisignSwitch/BtcMultisignSwitch.scss","webpack:///./src/front/shared/components/modals/Share/Share.tsx","webpack:///./src/front/shared/components/modals/Share/Share.scss","webpack:///./src/front/shared/components/modals/BtcMultisignConfirmTx/BtcMultisignConfirmTx.tsx","webpack:///./src/front/shared/components/modals/BtcMultisignConfirmTx/BtcMultisignConfirmTx.scss","webpack:///./src/front/shared/components/modals/SaveMnemonicModal/SaveMnemonicModal.tsx","webpack:///./src/front/shared/components/modals/SaveMnemonicModal/SaveMnemonicModal.scss","webpack:///./src/front/shared/components/modals/RestoryMnemonicWallet/RestoryMnemonicWallet.tsx","webpack:///./src/front/shared/components/modals/RestoryMnemonicWallet/RestoryMnemonicWallet.scss","webpack:///./src/front/shared/components/modals/HowToWithdrawModal/HowToWithdrawModal.tsx","webpack:///./src/front/shared/components/modals/HowToWithdrawModal/HowToWithdrawModal.scss","webpack:///./src/front/shared/components/loaders/ContentLoader/ElementLoading.scss","webpack:///./src/front/shared/components/modals/InfoInvoice/InfoInvoice.tsx","webpack:///./src/front/shared/components/modals/InfoInvoice/InfoInvoice.scss","webpack:///./src/front/shared/components/modals/RegisterPINProtected/RegisterPINProtected.tsx","webpack:///./src/front/shared/components/modals/RegisterPINProtected/RegisterPINProtected.scss","webpack:///./src/front/shared/components/modals/WithdrawBtcPin/WithdrawBtcPin.tsx","webpack:///./src/front/shared/components/modals/WithdrawBtcPin/WithdrawBtcPin.scss","webpack:///./src/front/shared/components/modals/WithdrawBtcMultisig/WithdrawBtcMultisig.tsx","webpack:///./src/front/shared/components/modals/WithdrawBtcMultisig/WithdrawBtcMultisig.scss","webpack:///./src/front/shared/components/modals/WalletAddressModal/WalletAddressModal.tsx","webpack:///./src/front/shared/components/modals/WalletAddressModal/WalletAddressModal.scss","webpack:///./src/front/shared/components/modals/AlertWindow/index.tsx","webpack:///./src/front/shared/components/modals/AlertWindow/styles.scss","webpack:///./src/front/shared/components/modals/ConnectWalletModal/ConnectWalletModal.scss","webpack:///./src/front/shared/components/modals/ConnectWalletModal/ConnectWalletModal.tsx","webpack:///./src/front/shared/components/modals/WalletConnectAccount/WalletConnectAccount.tsx","webpack:///./src/front/shared/components/modals/WalletConnectAccount/WalletConnectAccount.scss","webpack:///./src/front/shared/components/modals/ShamirsSecretRestory/ShamirsSecretRestory.tsx","webpack:///./src/front/shared/components/modals/ShamirsSecretRestory/ShamirsSecretRestory.scss","webpack:///./src/front/shared/components/modals/ShamirsSecretSave/ShamirsSecretSave.tsx","webpack:///./src/front/shared/components/modals/ShamirsSecretSave/ShamirsSecretSave.scss","webpack:///./src/front/shared/components/modals/RestoreWalletSelectMethod/RestoreWalletSelectMethod.tsx","webpack:///./src/front/shared/components/modals/RestoreWalletSelectMethod/RestoreWalletSelectMethod.scss","webpack:///./src/front/shared/components/modals/SaveWalletSelectMethod/SaveWalletSelectMethod.tsx","webpack:///./src/front/shared/components/modals/SaveWalletSelectMethod/SaveWalletSelectMethod.scss","webpack:///./src/front/shared/plugins/ReferralSystem/index.ts","webpack:///./src/front/shared/components/modals/ReferralProgramModal/ReferralProgramModal.tsx","webpack:///./src/front/shared/components/modals/ReferralProgramModal/ReferralProgramModal.scss","webpack:///./src/front/shared/components/modals/index.ts","webpack:///./src/front/shared/components/modal/ModalConductor/ModalConductor.tsx","webpack:///./src/front/shared/components/modal/ModalConductor/ModalConductor.scss","webpack:///./src/front/shared/helpers/getPageOffset.ts","webpack:///./src/front/shared/components/modal/ModalConductorProvider/styles.scss","webpack:///./src/front/shared/components/modal/ModalConductorProvider/ModalConductorProvider.tsx","webpack:///./src/front/shared/components/modal/ModalContainer/ModalContainer.scss","webpack:///./src/front/shared/components/modal/ModalContainer/ModalContainer.tsx","webpack:///./src/front/shared/components/modal/ModalBox/ModalBox.tsx","webpack:///./src/front/shared/components/modal/ModalBox/ModalBox.scss","webpack:///./src/front/shared/components/layout/DashboardLayout/DashboardLayout.tsx","webpack:///./src/front/shared/pages/Wallet/Wallet.scss","webpack:///./src/front/shared/components/BalanceForm/images/dollar.svg","webpack:///./src/front/shared/components/BalanceForm/images/btcIcon.svg","webpack:///./src/front/shared/components/BalanceForm/BalanceForm.tsx","webpack:///./src/front/shared/pages/Wallet/images/security.svg","webpack:///./src/front/shared/pages/Wallet/NotityBlock/NotifyBlock.scss","webpack:///./src/front/shared/pages/Wallet/NotityBlock/NotifyBlock.tsx","webpack:///./src/front/shared/pages/Wallet/WallerSlider/index.tsx","webpack:///./src/front/shared/pages/Wallet/Row/Row.scss","webpack:///./src/front/shared/pages/Wallet/Row/Row.tsx","webpack:///./src/front/shared/pages/Wallet/CurrenciesList.tsx","webpack:///./src/front/shared/pages/Wallet/Wallet.tsx","webpack:///./src/front/shared/pages/Exchange/index.scss","webpack:///./src/front/shared/pages/Exchange/QuickSwap/constants.ts","webpack:///./src/front/shared/pages/Exchange/QuickSwap/swapApi.ts","webpack:///./src/front/shared/pages/Exchange/QuickSwap/types.ts","webpack:///./src/front/shared/pages/Exchange/QuickSwap/index.scss","webpack:///./src/front/shared/pages/Exchange/QuickSwap/TokenInstruction.tsx","webpack:///./src/front/shared/pages/Exchange/QuickSwap/TokenInstruction.scss","webpack:///./src/front/shared/pages/Exchange/QuickSwap/Header.tsx","webpack:///./src/front/shared/components/TourWindow/index.tsx","webpack:///./src/front/shared/components/TourWindow/styles.scss","webpack:///./src/front/shared/components/Header/WidgetTours/WidgetWalletTour.tsx","webpack:///./src/front/shared/components/Header/WidgetTours/QuickSwapFormTour.tsx","webpack:///./src/front/shared/pages/Exchange/QuickSwap/InputForm.tsx","webpack:///./src/front/shared/pages/Exchange/QuickSwap/SourceActions.tsx","webpack:///./src/front/shared/pages/Exchange/QuickSwap/SourceActions.scss","webpack:///./src/front/shared/pages/Exchange/QuickSwap/UserInfo.tsx","webpack:///./src/front/shared/pages/Exchange/QuickSwap/InputRow.tsx","webpack:///./src/front/shared/pages/Exchange/QuickSwap/Settings.tsx","webpack:///./src/front/shared/pages/Exchange/QuickSwap/Settings.scss","webpack:///./src/front/shared/pages/Exchange/QuickSwap/Feedback.tsx","webpack:///./src/front/shared/pages/Exchange/QuickSwap/ReviewSwapModal.tsx","webpack:///./src/front/shared/pages/Exchange/QuickSwap/Footer.tsx","webpack:///./src/front/shared/pages/Exchange/QuickSwap/index.tsx","webpack:///./src/front/shared/pages/Exchange/AddressSelect/Option/Option.tsx","webpack:///./src/front/shared/pages/Exchange/AddressSelect/Option/Option.scss","webpack:///./src/front/shared/images/logo/logo-black.svg","webpack:///./src/front/shared/images/custom.svg","webpack:///./src/front/shared/pages/Exchange/AddressSelect/AddressSelect.tsx","webpack:///./src/front/shared/pages/Exchange/AddressSelect/AddressSelect.scss","webpack:///./src/front/shared/components/NetworkStatus/NetworkStatus.tsx","webpack:///./src/front/shared/components/NetworkStatus/NetworkStatus.scss","webpack:///./src/front/shared/components/PageHeadline/Title/Title.tsx","webpack:///./src/front/shared/components/PageHeadline/Title/Title.scss","webpack:///./src/front/shared/components/PageHeadline/PageHeadline.tsx","webpack:///./src/front/shared/components/PageHeadline/PageHeadline.scss","webpack:///./src/front/shared/components/FaqExpandableItem/FaqExpandableItem.tsx","webpack:///./src/front/shared/components/FaqExpandableItem/FaqExpandableItem.scss","webpack:///./src/front/shared/components/CurrencyDirectionChooser/CurrencyDirectionChooser.tsx","webpack:///./src/front/shared/components/CurrencyDirectionChooser/CurrencyDirectionChooser.scss","webpack:///./src/front/shared/components/ui/Panel/Panel.tsx","webpack:///./src/front/shared/components/ui/Panel/Panel.scss","webpack:///./src/front/shared/components/Seo/JsonLd.tsx","webpack:///./src/front/shared/components/Seo/Seo.tsx","webpack:///./src/front/shared/components/Seo/PageSeo.tsx","webpack:///./src/front/shared/components/Avatar/Avatar.tsx","webpack:///./src/front/shared/components/Avatar/Avatar.scss","webpack:///./src/front/shared/pages/Exchange/Orders/OrderBook/RequestButton/RequestButton.tsx","webpack:///./src/front/shared/pages/Exchange/Orders/OrderBook/RequestButton/RequestButton.scss","webpack:///./src/front/shared/pages/Exchange/Orders/OrderBook/Row/Row.tsx","webpack:///./src/front/shared/pages/Exchange/Orders/OrderBook/Row/Row.scss","webpack:///./src/front/shared/pages/Exchange/Orders/MyOrders/RowFeeds/images/share-alt-solid.svg","webpack:///./src/front/shared/pages/Exchange/Orders/MyOrders/RowFeeds/RowFeeds.tsx","webpack:///./src/front/shared/pages/Exchange/Orders/MyOrders/RowFeeds/RowFeeds.scss","webpack:///./src/front/shared/pages/Exchange/Orders/MyOrders/MyOrders.tsx","webpack:///./src/front/shared/pages/Exchange/Orders/MyOrders/MyOrders.scss","webpack:///./src/front/shared/pages/Exchange/Orders/OrderBook/OrderBook.tsx","webpack:///./src/front/shared/pages/Exchange/Orders/OrderBook/OrderBook.scss","webpack:///./src/front/shared/pages/Exchange/Orders/Orders.tsx","webpack:///./src/front/shared/pages/Exchange/Orders/Orders.scss","webpack:///./src/front/shared/pages/Exchange/Promo/Promo.tsx","webpack:///./src/front/shared/pages/Exchange/Promo/Promo.scss","webpack:///./src/front/shared/pages/Exchange/Quote/index.tsx","webpack:///./src/front/shared/pages/Exchange/Quote/styles.scss","webpack:///./src/front/shared/pages/Exchange/HowItWorks/HowItWorks.tsx","webpack:///./src/front/shared/pages/Exchange/HowItWorks/HowItWorks.scss","webpack:///./src/front/shared/pages/Exchange/VideoAndFeatures/VideoAndFeatures.tsx","webpack:///./src/front/shared/pages/Exchange/VideoAndFeatures/VideoAndFeatures.scss","webpack:///./src/front/shared/pages/Exchange/AtomicSwap.tsx","webpack:///./src/front/shared/pages/Exchange/index.tsx","webpack:///./src/front/shared/pages/CurrencyWallet/CurrencyWallet.tsx","webpack:///./src/front/shared/pages/Transaction/TxInfo/index.tsx","webpack:///./src/front/shared/pages/Transaction/TxInfo/styles.scss","webpack:///./src/front/shared/pages/Transaction/Transaction.tsx","webpack:///./src/front/shared/pages/Transaction/styles.scss","webpack:///./src/front/shared/pages/Multisign/Btc/Btc.tsx","webpack:///./src/front/shared/pages/Multisign/Btc/Btc.scss","webpack:///./src/front/shared/components/ui/Expandable/Expandable.tsx","webpack:///./src/front/shared/components/ui/Expandable/Expandable.scss","webpack:///./src/front/shared/pages/Marketmaker/FAQ.tsx","webpack:///./src/front/shared/pages/Marketmaker/FAQ.scss","webpack:///./src/front/shared/pages/Marketmaker/images/extensionPromoLight.png","webpack:///./src/front/shared/pages/Marketmaker/images/extensionPromoDark.png","webpack:///./src/front/shared/pages/Marketmaker/MarketmakerPromo.tsx","webpack:///./src/front/shared/pages/Marketmaker/MarketmakerPromo.scss","webpack:///./src/front/shared/pages/Marketmaker/MarketmakerSettings.scss","webpack:///./src/front/shared/pages/Marketmaker/SwapRow.scss","webpack:///./src/front/shared/pages/Marketmaker/SwapRow.tsx","webpack:///./src/front/shared/pages/Marketmaker/images/btcIcon.svg","webpack:///./src/front/shared/pages/Marketmaker/images/wbtcIcon.svg","webpack:///./src/front/shared/pages/Marketmaker/MarketmakerSettings.tsx","webpack:///./src/front/shared/pages/Invoices/CreateInvoice/index.tsx","webpack:///./src/front/shared/pages/Invoices/Invoice/index.tsx","webpack:///./src/front/shared/components/layout/ScrollToTop/ScrollToTop.ts","webpack:///./src/front/shared/components/SaveKeys/Field/Field.tsx","webpack:///./src/front/shared/components/SaveKeys/Field/Field.scss","webpack:///./src/front/shared/components/SaveKeys/SaveKeys.tsx","webpack:///./src/front/shared/components/SaveKeys/SaveKeys.scss","webpack:///./src/front/shared/components/Confirm/Confirm.tsx","webpack:///./src/front/shared/components/Confirm/Confirm.scss","webpack:///./src/front/shared/components/modals/SaveKeysModal/SaveKeysModal.scss","webpack:///./src/front/shared/components/modals/SaveKeysModal/SaveKeysModal.tsx","webpack:///./src/front/shared/routes/index.tsx","webpack:///./src/front/shared/containers/Core/Core.tsx","webpack:///./src/front/shared/containers/Transactions/index.tsx","webpack:///./src/front/shared/components/ErrorBoundary/index.tsx","webpack:///./src/front/shared/components/ErrorBoundary/index.scss","webpack:///./src/front/shared/components/Header/Header.scss","webpack:///./src/front/shared/components/Header/Nav/Nav.scss","webpack:///./src/front/shared/components/Header/Nav/Nav.tsx","webpack:///./src/front/shared/components/Header/NavMobile/NavMobile.scss","webpack:///./src/front/shared/components/Header/NavMobile/NavMobile.tsx","webpack:///./src/front/shared/images/logo/logo-colored.svg","webpack:///./src/front/shared/components/Header/Logo/Logo.tsx","webpack:///./src/front/shared/components/Header/Logo/Logo.scss","webpack:///./src/front/shared/components/Header/ThemeSwitcher.tsx","webpack:///./src/front/shared/components/Header/WalletConnect/index.tsx","webpack:///./src/front/shared/components/Header/WalletConnect/index.scss","webpack:///./src/front/shared/components/Header/TourPartial/TourPartial.tsx","webpack:///./src/front/shared/components/Header/WalletTour/WalletTour.tsx","webpack:///./src/front/shared/components/loaders/Loader/Loader.tsx","webpack:///./src/front/shared/components/loaders/Loader/Loader.scss","webpack:///./src/front/shared/components/Header/UserTooltip/images/arrow-right.svg","webpack:///./src/front/shared/components/Header/UserTooltip/UserTooltip.tsx","webpack:///./src/front/shared/components/Header/UserTooltip/UserTooltip.scss","webpack:///./src/front/shared/components/Header/config.tsx","webpack:///./src/front/shared/components/Header/Header.tsx","webpack:///./src/front/shared/helpers/version.ts","webpack:///./src/front/shared/components/Footer/Footer.scss","webpack:///./src/front/shared/components/Footer/SocialMenu/SocialMenu.tsx","webpack:///./src/front/shared/components/Footer/SocialMenu/SocialMenu.scss","webpack:///./src/front/shared/components/Footer/SwitchLang/SwitchLang.tsx","webpack:///./src/front/shared/components/Footer/SwitchLang/SwitchLang.scss","webpack:///./src/front/shared/components/Footer/ServiceLinks/index.tsx","webpack:///./src/front/shared/components/Footer/Footer.tsx","webpack:///./src/front/shared/components/PreventMultiTabs/PreventMultiTabs.tsx","webpack:///./src/front/shared/components/loaders/RequestLoader/RequestLoader.tsx","webpack:///./src/front/shared/components/notification/Notification/Notification.tsx","webpack:///./src/front/shared/helpers/Sound/alert.mp4","webpack:///./src/front/shared/components/notification/Notification/Notification.scss","webpack:///./src/front/shared/components/notifications/SuccessWithdraw/SuccessWithdraw.tsx","webpack:///./src/front/shared/components/notifications/SuccessWithdraw/SuccessWithdraw.scss","webpack:///./src/front/shared/components/notifications/Message/Message.tsx","webpack:///./src/front/shared/components/notifications/Message/Message.scss","webpack:///./src/front/shared/components/notifications/BTCMultisignRequest/BTCMultisignRequest.tsx","webpack:///./src/front/shared/components/notifications/BTCMultisignRequest/BTCMultisignRequest.scss","webpack:///./src/front/shared/components/notifications/Transaction/index.tsx","webpack:///./src/front/shared/components/notifications/index.ts","webpack:///./src/front/shared/components/notifications/ErrorNotification/ErrorNotification.tsx","webpack:///./src/front/shared/components/notifications/Transaction/index.scss","webpack:///./src/front/shared/components/notification/NotificationConductor/NotificationConductor.tsx","webpack:///./src/front/shared/components/notification/NotificationConductor/NotificationConductor.scss","webpack:///./src/front/shared/containers/App/App.tsx","webpack:///./src/front/shared/containers/App/App.scss","webpack:///./src/front/shared/containers/Root/IntlProviderContainer.tsx","webpack:///./src/front/shared/containers/Root/Root.tsx","webpack:///./src/front/shared/components/ErrorPageNoSSL/ErrorPageNoSSL.tsx","webpack:///./src/front/shared/components/ErrorPageNoSSL/ErrorPageNoSSL.scss","webpack:///./src/front/client/index.tsx","webpack:///./node_modules/empty-module/ sync nonrecursive js$","webpack:///./node_modules/ethers/dist/ sync","webpack:///./src/core/swap.auth/ sync ^\\.\\/.*$","webpack:///external var \"React\"","webpack:///external var \"ReactDOM\"","webpack:///webpack/bootstrap","webpack:///webpack/runtime/amd options","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/ensure chunk","webpack:///webpack/runtime/global","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///webpack/runtime/node module decorator","webpack:///webpack/runtime/publicPath","webpack:///webpack/runtime/compat","webpack:///webpack/runtime/jsonp chunk loading","webpack:///webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","/* eslint-disable no-array-constructor */\r\nlet crypto;\r\ntry {\r\n  crypto = require('crypto');\r\n} catch (err) {\r\n  throw new Error('crypto support must be enabled');\r\n}\r\n\r\n\r\n// The length of the radix in bits.\r\nconst RADIX_BITS = 10;\r\n\r\n// The length of the random identifier in bits.\r\nconst ID_BITS_LENGTH = 15;\r\n\r\n// The length of the iteration exponent in bits.\r\nconst ITERATION_EXP_BITS_LENGTH = 5;\r\n\r\n// The length of the random identifier and iteration exponent in words.\r\nconst ITERATION_EXP_WORDS_LENGTH =\r\n  parseInt((ID_BITS_LENGTH + ITERATION_EXP_BITS_LENGTH + RADIX_BITS - 1) / RADIX_BITS, 10);\r\n\r\n// The maximum iteration exponent\r\nconst MAX_ITERATION_EXP = Math.pow(2, ITERATION_EXP_BITS_LENGTH);\r\n\r\n// The maximum number of shares that can be created.\r\nconst MAX_SHARE_COUNT = 16;\r\n\r\n// The length of the RS1024 checksum in words.\r\nconst CHECKSUM_WORDS_LENGTH = 3;\r\n\r\n// The length of the digest of the shared secret in bytes.\r\nconst DIGEST_LENGTH = 4;\r\n\r\n// The customization string used in the RS1024 checksum and in the PBKDF2 salt.\r\nconst SALT_STRING = 'shamir';\r\n\r\n// The minimum allowed entropy of the master secret.\r\nconst MIN_ENTROPY_BITS = 128;\r\n\r\n// The minimum allowed length of the mnemonic in words.\r\nconst METADATA_WORDS_LENGTH =\r\n  ITERATION_EXP_WORDS_LENGTH + 2 + CHECKSUM_WORDS_LENGTH;\r\n\r\n// The length of the mnemonic in words without the share value.\r\nconst MNEMONICS_WORDS_LENGTH = parseInt(\r\n  METADATA_WORDS_LENGTH + (MIN_ENTROPY_BITS + RADIX_BITS - 1) / RADIX_BITS, 10);\r\n\r\n// The minimum number of iterations to use in PBKDF2.\r\nconst ITERATION_COUNT = 10000;\r\n\r\n// The number of rounds to use in the Feistel cipher.\r\nconst ROUND_COUNT = 4;\r\n\r\n// The index of the share containing the digest of the shared secret.\r\nconst DIGEST_INDEX = 254;\r\n\r\n// The index of the share containing the shared secret.\r\nconst SECRET_INDEX = 255;\r\n\r\n//\r\n// Helper functions for SLIP39 implementation.\r\n//\r\nString.prototype.slip39EncodeHex = function () {\r\n  let bytes = [];\r\n  for (let i = 0; i < this.length; ++i) {\r\n    bytes.push(this.charCodeAt(i));\r\n  }\r\n  return bytes;\r\n};\r\n\r\nArray.prototype.slip39DecodeHex = function () {\r\n  let str = [];\r\n  const hex = this.toString().split(',');\r\n  for (let i = 0; i < hex.length; i++) {\r\n    str.push(String.fromCharCode(hex[i]));\r\n  }\r\n  return str.toString().replace(/,/g, '');\r\n};\r\n\r\nArray.prototype.slip39Generate = function (m, v = _ => _) {\r\n  let n = m || this.length;\r\n  for (let i = 0; i < n; i++) {\r\n    this[i] = v(i);\r\n  }\r\n  return this;\r\n};\r\n\r\nconst toHexString = function () {\r\n  return Array.prototype.map.call(this, function (byte) {\r\n    return ('0' + (byte & 0xFF).toString(16)).slice(-2);\r\n  }).join('');\r\n};\r\n\r\nconst toByteArray = function (hexString) {\r\n  const ret = []\r\n  for (let i = 0; i < hexString.length; i = i + 2) {\r\n    ret.push(parseInt(hexString.substr(i, 2), 16));\r\n  }\r\n  return ret;\r\n};\r\n\r\n\r\nconst BIGINT_WORD_BITS = BigInt(8);\r\n\r\nfunction decodeBigInt(bytes) {\r\n  let result = BigInt(0);\r\n  for (let i = 0; i < bytes.length; i++) {\r\n    let b = BigInt(bytes[bytes.length - i - 1]);\r\n    result = result + (b << BIGINT_WORD_BITS * BigInt(i));\r\n  }\r\n  return result;\r\n}\r\n\r\nfunction encodeBigInt(number, paddedLength = 0) {\r\n  let num = number;\r\n  const BYTE_MASK = BigInt(0xff);\r\n  const BIGINT_ZERO = BigInt(0);\r\n  let result = new Array(0);\r\n\r\n  while (num > BIGINT_ZERO) {\r\n    let i = parseInt(num & BYTE_MASK, 10);\r\n    result.unshift(i);\r\n    num = num >> BIGINT_WORD_BITS;\r\n  }\r\n\r\n  // Zero padding to the length\r\n  for (let i = result.length; i < paddedLength; i++) {\r\n    result.unshift(0);\r\n  }\r\n\r\n  if (paddedLength !== 0 && result.length > paddedLength) {\r\n    throw new Error(`Error in encoding BigInt value, expected less than ${paddedLength} length value, got ${result.length}`);\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nfunction bitsToBytes(n) {\r\n  const res = (n + 7) / 8;\r\n  const b = parseInt(res, RADIX_BITS);\r\n  return b;\r\n}\r\n\r\nfunction bitsToWords(n) {\r\n  const res = (n + RADIX_BITS - 1) / RADIX_BITS;\r\n  const b = parseInt(res, RADIX_BITS);\r\n  return b;\r\n}\r\n\r\n//\r\n// Returns a randomly generated integer in the range 0, ... , 2**ID_LENGTH_BITS - 1.\r\n//\r\nfunction randomBytes(length = 32) {\r\n  let randoms = crypto.randomBytes(length);\r\n  return Array.prototype.slice.call(randoms, 0);\r\n}\r\n\r\n//\r\n// The round function used internally by the Feistel cipher.\r\n//\r\nfunction roundFunction(round, passphrase, exp, salt, secret) {\r\n  const saltedSecret = salt.concat(secret);\r\n  const roundedPhrase = [round].concat(passphrase);\r\n  const count = (ITERATION_COUNT << exp) / ROUND_COUNT;\r\n\r\n  const key = crypto.pbkdf2Sync(Buffer.from(roundedPhrase), Buffer.from(saltedSecret), count, secret.length, 'sha256');\r\n  return Array.prototype.slice.call(key, 0);\r\n}\r\n\r\nfunction crypt(masterSecret, passphrase, iterationExponent,\r\n  identifier,\r\n  encrypt = true) {\r\n  // Iteration exponent validated here.\r\n  if (iterationExponent < 0 || iterationExponent > MAX_ITERATION_EXP) {\r\n    throw Error(`Invalid iteration exponent (${iterationExponent}). Expected between 0 and ${MAX_ITERATION_EXP}`);\r\n  }\r\n\r\n  let IL = masterSecret.slice().slice(0, masterSecret.length / 2);\r\n  let IR = masterSecret.slice().slice(masterSecret.length / 2);\r\n\r\n  const pwd = passphrase.slip39EncodeHex();\r\n\r\n  const salt = getSalt(identifier);\r\n\r\n  let range = Array().slip39Generate(ROUND_COUNT);\r\n  range = encrypt ? range : range.reverse();\r\n\r\n  range.forEach((round) => {\r\n    const f = roundFunction(round, pwd, iterationExponent, salt, IR);\r\n    const t = xor(IL, f);\r\n    IL = IR;\r\n    IR = t;\r\n  });\r\n  return IR.concat(IL);\r\n}\r\n\r\nfunction createDigest(randomData, sharedSecret) {\r\n  const hmac = crypto.createHmac('sha256', Buffer.from(randomData));\r\n\r\n  hmac.update(Buffer.from(sharedSecret));\r\n\r\n  let result = hmac.digest();\r\n  result = result.slice(0, 4);\r\n  return Array.prototype.slice.call(result, 0);\r\n}\r\n\r\nfunction splitSecret(threshold, shareCount, sharedSecret) {\r\n  if (threshold <= 0) {\r\n    throw Error(`The requested threshold (${threshold}) must be a positive integer.`);\r\n  }\r\n\r\n  if (threshold > shareCount) {\r\n    throw Error(`The requested threshold (${threshold}) must not exceed the number of shares (${shareCount}).`);\r\n  }\r\n\r\n  if (shareCount > MAX_SHARE_COUNT) {\r\n    throw Error(`The requested number of shares (${shareCount}) must not exceed ${MAX_SHARE_COUNT}.`);\r\n  }\r\n  //  If the threshold is 1, then the digest of the shared secret is not used.\r\n  if (threshold === 1) {\r\n    return Array().slip39Generate(shareCount, () => sharedSecret);\r\n  }\r\n\r\n  const randomShareCount = threshold - 2;\r\n\r\n  const randomPart = randomBytes(sharedSecret.length - DIGEST_LENGTH);\r\n  const digest = createDigest(randomPart, sharedSecret);\r\n\r\n  let baseShares = new Map();\r\n  let shares = [];\r\n  if (randomShareCount) {\r\n    shares = Array().slip39Generate(\r\n      randomShareCount, () => randomBytes(sharedSecret.length));\r\n    shares.forEach((item, idx) => {\r\n      baseShares.set(idx, item);\r\n    });\r\n  }\r\n  baseShares.set(DIGEST_INDEX, digest.concat(randomPart));\r\n  baseShares.set(SECRET_INDEX, sharedSecret);\r\n\r\n  for (let i = randomShareCount; i < shareCount; i++) {\r\n    const rr = interpolate(baseShares, i);\r\n    shares.push(rr);\r\n  }\r\n\r\n  return shares;\r\n}\r\n\r\n//\r\n// Returns a randomly generated integer in the range 0, ... , 2**ID_BITS_LENGTH - 1.\r\n//\r\nfunction generateIdentifier() {\r\n  const byte = bitsToBytes(ID_BITS_LENGTH);\r\n  const bits = ID_BITS_LENGTH % 8;\r\n  const identifier = randomBytes(byte);\r\n\r\n  identifier[0] = identifier[0] & (1 << bits) - 1;\r\n\r\n  return identifier;\r\n}\r\n\r\nfunction xor(a, b) {\r\n  if (a.length !== b.length) {\r\n    throw new Error(`Invalid padding in mnemonic or insufficient length of mnemonics (${a.length} or ${b.length})`);\r\n  }\r\n  return Array().slip39Generate(a.length, (i) => a[i] ^ b[i]);\r\n}\r\n\r\nfunction getSalt(identifier) {\r\n  const salt = SALT_STRING.slip39EncodeHex();\r\n  return salt.concat(identifier);\r\n}\r\n\r\nfunction interpolate(shares, x) {\r\n  let xCoord = new Set(shares.keys());\r\n  let arr = Array.from(shares.values(), (v) => v.length);\r\n  let sharesValueLengths = new Set(arr);\r\n\r\n  if (sharesValueLengths.size !== 1) {\r\n    throw new Error('Invalid set of shares. All share values must have the same length.');\r\n  }\r\n\r\n  if (xCoord.has(x)) {\r\n    shares.forEach((v, k) => {\r\n      if (k === x) {\r\n        return v;\r\n      }\r\n    });\r\n  }\r\n\r\n  // Logarithm of the product of (x_i - x) for i = 1, ... , k.\r\n  let logProd = 0;\r\n\r\n  shares.forEach((v, k) => {\r\n    logProd = logProd + LOG_TABLE[k ^ x];\r\n  });\r\n\r\n  let results = Array().slip39Generate(sharesValueLengths.values().next().value, () => 0);\r\n\r\n  shares.forEach((v, k) => {\r\n    // The logarithm of the Lagrange basis polynomial evaluated at x.\r\n    let sum = 0;\r\n    shares.forEach((vv, kk) => {\r\n      sum = sum + LOG_TABLE[k ^ kk];\r\n    });\r\n\r\n    // FIXME: -18 % 255 = 237. IT shoulud be 237 and not -18 as it's\r\n    // implemented in javascript.\r\n    const basis = (logProd - LOG_TABLE[k ^ x] - sum) % 255;\r\n\r\n    const logBasisEval = basis < 0 ? 255 + basis : basis;\r\n\r\n    v.forEach((item, idx) => {\r\n      const shareVal = item;\r\n      const intermediateSum = results[idx];\r\n      const r = shareVal !== 0 ?\r\n        EXP_TABLE[(LOG_TABLE[shareVal] + logBasisEval) % 255] : 0;\r\n\r\n      const res = intermediateSum ^ r;\r\n      results[idx] = res;\r\n    });\r\n  });\r\n  return results;\r\n}\r\n\r\nfunction rs1024Polymod(data) {\r\n  const GEN = [\r\n    0xE0E040,\r\n    0x1C1C080,\r\n    0x3838100,\r\n    0x7070200,\r\n    0xE0E0009,\r\n    0x1C0C2412,\r\n    0x38086C24,\r\n    0x3090FC48,\r\n    0x21B1F890,\r\n    0x3F3F120\r\n  ];\r\n  let chk = 1;\r\n\r\n  data.forEach((byte) => {\r\n    const b = chk >> 20;\r\n    chk = (chk & 0xFFFFF) << 10 ^ byte;\r\n\r\n    for (let i = 0; i < 10; i++) {\r\n      let gen = (b >> i & 1) !== 0 ? GEN[i] : 0;\r\n      chk = chk ^ gen;\r\n    }\r\n  });\r\n\r\n  return chk;\r\n}\r\n\r\nfunction rs1024CreateChecksum(data) {\r\n  const values = SALT_STRING.slip39EncodeHex()\r\n    .concat(data)\r\n    .concat(Array().slip39Generate(CHECKSUM_WORDS_LENGTH, () => 0));\r\n  const polymod = rs1024Polymod(values) ^ 1;\r\n  const result =\r\n    Array().slip39Generate(CHECKSUM_WORDS_LENGTH, (i) => polymod >> 10 * i & 1023).reverse();\r\n\r\n  return result;\r\n}\r\n\r\nfunction rs1024VerifyChecksum(data) {\r\n  return rs1024Polymod(SALT_STRING.slip39EncodeHex().concat(data)) === 1;\r\n}\r\n\r\n//\r\n// Converts a list of base 1024 indices in big endian order to an integer value.\r\n//\r\nfunction intFromIndices(indices) {\r\n  let value = BigInt(0);\r\n  const radix = BigInt(Math.pow(2, RADIX_BITS));\r\n  indices.forEach((index) => {\r\n    value = value * radix + BigInt(index);\r\n  });\r\n\r\n  return value;\r\n}\r\n\r\n//\r\n// Converts a Big integer value to indices in big endian order.\r\n//\r\nfunction intToIndices(value, length, bits) {\r\n  const mask = BigInt((1 << bits) - 1);\r\n  const result =\r\n    Array().slip39Generate(length, (i) => parseInt(value >> BigInt(i) * BigInt(bits) & mask, 10));\r\n  return result.reverse();\r\n}\r\n\r\nfunction mnemonicFromIndices(indices) {\r\n  const result = indices.map((index) => {\r\n    return WORD_LIST[index];\r\n  });\r\n  return result.toString().split(',').join(' ');\r\n}\r\n\r\nfunction mnemonicToIndices(mnemonic) {\r\n  if (typeof mnemonic !== 'string') {\r\n    throw new Error(`Mnemonic expected to be typeof string with white space separated words. Instead found typeof ${typeof mnemonic}.`);\r\n  }\r\n\r\n  const words = mnemonic.toLowerCase().split(' ');\r\n  const result = words.reduce((prev, item) => {\r\n    const index = WORD_LIST_MAP[item];\r\n    if (typeof index === 'undefined') {\r\n      throw new Error(`Invalid mnemonic word ${item}.`);\r\n    }\r\n    return prev.concat(index);\r\n  }, []);\r\n  return result;\r\n}\r\n\r\nfunction recoverSecret(threshold, shares) {\r\n  // If the threshold is 1, then the digest of the shared secret is not used.\r\n  if (threshold === 1) {\r\n    return shares.values().next().value;\r\n  }\r\n\r\n  const sharedSecret = interpolate(shares, SECRET_INDEX);\r\n  const digestShare = interpolate(shares, DIGEST_INDEX);\r\n  const digest = digestShare.slice(0, DIGEST_LENGTH);\r\n  const randomPart = digestShare.slice(DIGEST_LENGTH);\r\n\r\n  const recoveredDigest = createDigest(\r\n    randomPart, sharedSecret);\r\n  if (!listsAreEqual(digest, recoveredDigest)) {\r\n    throw new Error('Invalid digest of the shared secret.');\r\n  }\r\n  return sharedSecret;\r\n}\r\n\r\n//\r\n// Combines mnemonic shares to obtain the master secret which was previously\r\n// split using Shamir's secret sharing scheme.\r\n//\r\nfunction combineMnemonics(mnemonics, passphrase = '') {\r\n  if (mnemonics === null || mnemonics.length === 0) {\r\n    throw new Error('The list of mnemonics is empty.');\r\n  }\r\n\r\n  const decoded = decodeMnemonics(mnemonics);\r\n  const identifier = decoded.identifier;\r\n  const iterationExponent = decoded.iterationExponent;\r\n  const groupThreshold = decoded.groupThreshold;\r\n  const groupCount = decoded.groupCount;\r\n  const groups = decoded.groups;\r\n\r\n  if (groups.size < groupThreshold) {\r\n    throw new Error(`Insufficient number of mnemonic groups (${groups.size}). The required number of groups is ${groupThreshold}.`);\r\n  }\r\n\r\n  if (groups.size !== groupThreshold) {\r\n    throw new Error(`Wrong number of mnemonic groups. Expected ${groupThreshold} groups, but ${groups.size} were provided.`);\r\n  }\r\n\r\n  let allShares = new Map();\r\n  groups.forEach((members, groupIndex) => {\r\n    const threshold = members.keys().next().value;\r\n    const shares = members.values().next().value;\r\n    if (shares.size !== threshold) {\r\n      const prefix = groupPrefix(\r\n        identifier,\r\n        iterationExponent,\r\n        groupIndex,\r\n        groupThreshold,\r\n        groupCount\r\n      );\r\n      throw new Error(`Wrong number of mnemonics. Expected ${threshold} mnemonics starting with \"${mnemonicFromIndices(prefix)}\", \\n but ${shares.size} were provided.`);\r\n    }\r\n\r\n    const recovered = recoverSecret(threshold, shares);\r\n    allShares.set(groupIndex, recovered);\r\n  });\r\n\r\n  const ems = recoverSecret(groupThreshold, allShares);\r\n  const id = intToIndices(BigInt(identifier), ITERATION_EXP_WORDS_LENGTH, 8);\r\n  const ms = crypt(ems, passphrase, iterationExponent, id, false);\r\n\r\n  return ms;\r\n}\r\n\r\nfunction combineSecrets(secrets, secretsGroups, identifier, groupThreshold=2, passphrase = '') {\r\n\r\n  if (secrets === null || secrets.length === 0) {\r\n    throw new Error('The list of secrets is empty.');\r\n  }\r\n  if (secretsGroups === null || secretsGroups.length !== secrets.length) {\r\n    throw new Error('The list of secrets groups must be equal length like secrets.');\r\n  }\r\n\r\n  let allShares = new Map();\r\n  secrets.forEach((index, secret) => {\r\n    allShares.set(secretsGroups[index], secret);\r\n  });\r\n\r\n  const ems = recoverSecret(groupThreshold, allShares);\r\n  const id = intToIndices(BigInt(identifier), ITERATION_EXP_WORDS_LENGTH, 8);\r\n  const ms = crypt(ems, passphrase, iterationExponent, id, false);\r\n\r\n  return ms;\r\n}\r\n\r\nfunction decodeMnemonics(mnemonics) {\r\n  if (!(mnemonics instanceof Array)) {\r\n    throw new Error('Mnemonics should be an array of strings');\r\n  }\r\n  const identifiers = new Set();\r\n  const iterationExponents = new Set();\r\n  const groupThresholds = new Set();\r\n  const groupCounts = new Set();\r\n  const groups = new Map();\r\n\r\n  mnemonics.forEach((mnemonic) => {\r\n    const decoded = decodeMnemonic(mnemonic);\r\n\r\n    identifiers.add(decoded.identifier);\r\n    iterationExponents.add(decoded.iterationExponent);\r\n    const groupIndex = decoded.groupIndex;\r\n    groupThresholds.add(decoded.groupThreshold);\r\n    groupCounts.add(decoded.groupCount);\r\n    const memberIndex = decoded.memberIndex;\r\n    const memberThreshold = decoded.memberThreshold;\r\n    const share = decoded.share;\r\n\r\n    const group = !groups.has(groupIndex) ? new Map() : groups.get(groupIndex);\r\n    const member = !group.has(memberThreshold) ? new Map() : group.get(memberThreshold);\r\n    member.set(memberIndex, share);\r\n    group.set(memberThreshold, member);\r\n    if (group.size !== 1) {\r\n      throw new Error('Invalid set of mnemonics. All mnemonics in a group must have the same member threshold.');\r\n    }\r\n    groups.set(groupIndex, group);\r\n  });\r\n\r\n  if (identifiers.size !== 1 || iterationExponents.size !== 1) {\r\n    throw new Error(`Invalid set of mnemonics. All mnemonics must begin with the same ${ITERATION_EXP_WORDS_LENGTH} words.`);\r\n  }\r\n\r\n  if (groupThresholds.size !== 1) {\r\n    throw new Error('Invalid set of mnemonics. All mnemonics must have the same group threshold.');\r\n  }\r\n\r\n  if (groupCounts.size !== 1) {\r\n    throw new Error('Invalid set of mnemonics. All mnemonics must have the same group count.');\r\n  }\r\n\r\n  return {\r\n    identifier: identifiers.values().next().value,\r\n    iterationExponent: iterationExponents.values().next().value,\r\n    groupThreshold: groupThresholds.values().next().value,\r\n    groupCount: groupCounts.values().next().value,\r\n    groups: groups\r\n  };\r\n}\r\n\r\n//\r\n// Converts a share mnemonic to share data.\r\n//\r\nfunction decodeMnemonic(mnemonic) {\r\n  const data = mnemonicToIndices(mnemonic);\r\n\r\n  if (data.length < MNEMONICS_WORDS_LENGTH) {\r\n    throw new Error(`Invalid mnemonic length. The length of each mnemonic must be at least ${MNEMONICS_WORDS_LENGTH} words.`);\r\n  }\r\n\r\n  const paddingLen = RADIX_BITS * (data.length - METADATA_WORDS_LENGTH) % 16;\r\n  if (paddingLen > 8) {\r\n    throw new Error('Invalid mnemonic length.');\r\n  }\r\n\r\n  if (!rs1024VerifyChecksum(data)) {\r\n    throw new Error('Invalid mnemonic checksum');\r\n  }\r\n\r\n  const idExpInt =\r\n    parseInt(intFromIndices(data.slice(0, ITERATION_EXP_WORDS_LENGTH)), 10);\r\n  const identifier = idExpInt >> ITERATION_EXP_BITS_LENGTH;\r\n  const iterationExponent = idExpInt & (1 << ITERATION_EXP_BITS_LENGTH) - 1;\r\n  const tmp = intFromIndices(\r\n    data.slice(ITERATION_EXP_WORDS_LENGTH, ITERATION_EXP_WORDS_LENGTH + 2));\r\n\r\n  const indices = intToIndices(tmp, 5, 4);\r\n\r\n  const groupIndex = indices[0];\r\n  const groupThreshold = indices[1];\r\n  const groupCount = indices[2];\r\n  const memberIndex = indices[3];\r\n  const memberThreshold = indices[4];\r\n\r\n  const valueData = data.slice(\r\n    ITERATION_EXP_WORDS_LENGTH + 2, data.length - CHECKSUM_WORDS_LENGTH);\r\n\r\n  if (groupCount < groupThreshold) {\r\n    throw new Error(`Invalid mnemonic: ${mnemonic}.\\n Group threshold (${groupThreshold}) cannot be greater than group count (${groupCount}).`);\r\n  }\r\n\r\n  const valueInt = intFromIndices(valueData);\r\n\r\n  try {\r\n    const valueByteCount = bitsToBytes(RADIX_BITS * valueData.length - paddingLen);\r\n    const share = encodeBigInt(valueInt, valueByteCount);\r\n\r\n    return {\r\n      identifier: identifier,\r\n      iterationExponent: iterationExponent,\r\n      groupIndex: groupIndex,\r\n      groupThreshold: groupThreshold + 1,\r\n      groupCount: groupCount + 1,\r\n      memberIndex: memberIndex,\r\n      memberThreshold: memberThreshold + 1,\r\n      share: share\r\n    };\r\n  } catch (e) {\r\n    throw new Error(`Invalid mnemonic padding (${e})`);\r\n  }\r\n}\r\n\r\nfunction validateMnemonic(mnemonic) {\r\n  try {\r\n    decodeMnemonic(mnemonic);\r\n    return true;\r\n  } catch (error) {\r\n    return false;\r\n  }\r\n}\r\n\r\nfunction groupPrefix(\r\n  identifier, iterationExponent, groupIndex, groupThreshold, groupCount) {\r\n  const idExpInt = BigInt(\r\n    (identifier << ITERATION_EXP_BITS_LENGTH) + iterationExponent);\r\n\r\n  const indc = intToIndices(idExpInt, ITERATION_EXP_WORDS_LENGTH, RADIX_BITS);\r\n\r\n  const indc2 =\r\n    (groupIndex << 6) + (groupThreshold - 1 << 2) + (groupCount - 1 >> 2);\r\n\r\n  indc.push(indc2);\r\n  return indc;\r\n}\r\n\r\nfunction listsAreEqual(a, b) {\r\n  if (a === null || b === null || a.length !== b.length) {\r\n    return false;\r\n  }\r\n\r\n  let i = 0;\r\n  return a.every((item) => {\r\n    return b[i++] === item;\r\n  });\r\n}\r\n\r\n//\r\n//  Converts share data to a share mnemonic.\r\n//\r\nfunction encodeMnemonic(\r\n  identifier,\r\n  iterationExponent,\r\n  groupIndex,\r\n  groupThreshold,\r\n  groupCount,\r\n  memberIndex,\r\n  memberThreshold,\r\n  value\r\n) {\r\n  // Convert the share value from bytes to wordlist indices.\r\n  const valueWordCount = bitsToWords(value.length * 8);\r\n\r\n  const valueInt = decodeBigInt(value);\r\n  let newIdentifier = parseInt(decodeBigInt(identifier), 10);\r\n\r\n  const gp = groupPrefix(\r\n    newIdentifier, iterationExponent, groupIndex, groupThreshold, groupCount);\r\n  const tp = intToIndices(valueInt, valueWordCount, RADIX_BITS);\r\n\r\n  const calc = ((groupCount - 1 & 3) << 8) +\r\n    (memberIndex << 4) +\r\n    (memberThreshold - 1);\r\n\r\n  gp.push(calc);\r\n  const shareData = gp.concat(tp);\r\n\r\n  const checksum = rs1024CreateChecksum(shareData);\r\n\r\n  return mnemonicFromIndices(shareData.concat(checksum));\r\n}\r\n\r\n// The precomputed exponent and log tables.\r\n// ```\r\n//    const exp = List<int>.filled(255, 0)\r\n//    const log = List<int>.filled(256, 0)\r\n//    const poly = 1\r\n//\r\n//    for (let i = 0; i < exp.length; i++) {\r\n//      exp[i] = poly\r\n//      log[poly] = i\r\n//      // Multiply poly by the polynomial x + 1.\r\n//      poly = (poly << 1) ^ poly\r\n//      // Reduce poly by x^8 + x^4 + x^3 + x + 1.\r\n//      if (poly & 0x100 === 0x100) poly ^= 0x11B\r\n//   }\r\n// ```\r\nconst EXP_TABLE = [\r\n  1,\r\n  3,\r\n  5,\r\n  15,\r\n  17,\r\n  51,\r\n  85,\r\n  255,\r\n  26,\r\n  46,\r\n  114,\r\n  150,\r\n  161,\r\n  248,\r\n  19,\r\n  53,\r\n  95,\r\n  225,\r\n  56,\r\n  72,\r\n  216,\r\n  115,\r\n  149,\r\n  164,\r\n  247,\r\n  2,\r\n  6,\r\n  10,\r\n  30,\r\n  34,\r\n  102,\r\n  170,\r\n  229,\r\n  52,\r\n  92,\r\n  228,\r\n  55,\r\n  89,\r\n  235,\r\n  38,\r\n  106,\r\n  190,\r\n  217,\r\n  112,\r\n  144,\r\n  171,\r\n  230,\r\n  49,\r\n  83,\r\n  245,\r\n  4,\r\n  12,\r\n  20,\r\n  60,\r\n  68,\r\n  204,\r\n  79,\r\n  209,\r\n  104,\r\n  184,\r\n  211,\r\n  110,\r\n  178,\r\n  205,\r\n  76,\r\n  212,\r\n  103,\r\n  169,\r\n  224,\r\n  59,\r\n  77,\r\n  215,\r\n  98,\r\n  166,\r\n  241,\r\n  8,\r\n  24,\r\n  40,\r\n  120,\r\n  136,\r\n  131,\r\n  158,\r\n  185,\r\n  208,\r\n  107,\r\n  189,\r\n  220,\r\n  127,\r\n  129,\r\n  152,\r\n  179,\r\n  206,\r\n  73,\r\n  219,\r\n  118,\r\n  154,\r\n  181,\r\n  196,\r\n  87,\r\n  249,\r\n  16,\r\n  48,\r\n  80,\r\n  240,\r\n  11,\r\n  29,\r\n  39,\r\n  105,\r\n  187,\r\n  214,\r\n  97,\r\n  163,\r\n  254,\r\n  25,\r\n  43,\r\n  125,\r\n  135,\r\n  146,\r\n  173,\r\n  236,\r\n  47,\r\n  113,\r\n  147,\r\n  174,\r\n  233,\r\n  32,\r\n  96,\r\n  160,\r\n  251,\r\n  22,\r\n  58,\r\n  78,\r\n  210,\r\n  109,\r\n  183,\r\n  194,\r\n  93,\r\n  231,\r\n  50,\r\n  86,\r\n  250,\r\n  21,\r\n  63,\r\n  65,\r\n  195,\r\n  94,\r\n  226,\r\n  61,\r\n  71,\r\n  201,\r\n  64,\r\n  192,\r\n  91,\r\n  237,\r\n  44,\r\n  116,\r\n  156,\r\n  191,\r\n  218,\r\n  117,\r\n  159,\r\n  186,\r\n  213,\r\n  100,\r\n  172,\r\n  239,\r\n  42,\r\n  126,\r\n  130,\r\n  157,\r\n  188,\r\n  223,\r\n  122,\r\n  142,\r\n  137,\r\n  128,\r\n  155,\r\n  182,\r\n  193,\r\n  88,\r\n  232,\r\n  35,\r\n  101,\r\n  175,\r\n  234,\r\n  37,\r\n  111,\r\n  177,\r\n  200,\r\n  67,\r\n  197,\r\n  84,\r\n  252,\r\n  31,\r\n  33,\r\n  99,\r\n  165,\r\n  244,\r\n  7,\r\n  9,\r\n  27,\r\n  45,\r\n  119,\r\n  153,\r\n  176,\r\n  203,\r\n  70,\r\n  202,\r\n  69,\r\n  207,\r\n  74,\r\n  222,\r\n  121,\r\n  139,\r\n  134,\r\n  145,\r\n  168,\r\n  227,\r\n  62,\r\n  66,\r\n  198,\r\n  81,\r\n  243,\r\n  14,\r\n  18,\r\n  54,\r\n  90,\r\n  238,\r\n  41,\r\n  123,\r\n  141,\r\n  140,\r\n  143,\r\n  138,\r\n  133,\r\n  148,\r\n  167,\r\n  242,\r\n  13,\r\n  23,\r\n  57,\r\n  75,\r\n  221,\r\n  124,\r\n  132,\r\n  151,\r\n  162,\r\n  253,\r\n  28,\r\n  36,\r\n  108,\r\n  180,\r\n  199,\r\n  82,\r\n  246\r\n];\r\nconst LOG_TABLE = [\r\n  0,\r\n  0,\r\n  25,\r\n  1,\r\n  50,\r\n  2,\r\n  26,\r\n  198,\r\n  75,\r\n  199,\r\n  27,\r\n  104,\r\n  51,\r\n  238,\r\n  223,\r\n  3,\r\n  100,\r\n  4,\r\n  224,\r\n  14,\r\n  52,\r\n  141,\r\n  129,\r\n  239,\r\n  76,\r\n  113,\r\n  8,\r\n  200,\r\n  248,\r\n  105,\r\n  28,\r\n  193,\r\n  125,\r\n  194,\r\n  29,\r\n  181,\r\n  249,\r\n  185,\r\n  39,\r\n  106,\r\n  77,\r\n  228,\r\n  166,\r\n  114,\r\n  154,\r\n  201,\r\n  9,\r\n  120,\r\n  101,\r\n  47,\r\n  138,\r\n  5,\r\n  33,\r\n  15,\r\n  225,\r\n  36,\r\n  18,\r\n  240,\r\n  130,\r\n  69,\r\n  53,\r\n  147,\r\n  218,\r\n  142,\r\n  150,\r\n  143,\r\n  219,\r\n  189,\r\n  54,\r\n  208,\r\n  206,\r\n  148,\r\n  19,\r\n  92,\r\n  210,\r\n  241,\r\n  64,\r\n  70,\r\n  131,\r\n  56,\r\n  102,\r\n  221,\r\n  253,\r\n  48,\r\n  191,\r\n  6,\r\n  139,\r\n  98,\r\n  179,\r\n  37,\r\n  226,\r\n  152,\r\n  34,\r\n  136,\r\n  145,\r\n  16,\r\n  126,\r\n  110,\r\n  72,\r\n  195,\r\n  163,\r\n  182,\r\n  30,\r\n  66,\r\n  58,\r\n  107,\r\n  40,\r\n  84,\r\n  250,\r\n  133,\r\n  61,\r\n  186,\r\n  43,\r\n  121,\r\n  10,\r\n  21,\r\n  155,\r\n  159,\r\n  94,\r\n  202,\r\n  78,\r\n  212,\r\n  172,\r\n  229,\r\n  243,\r\n  115,\r\n  167,\r\n  87,\r\n  175,\r\n  88,\r\n  168,\r\n  80,\r\n  244,\r\n  234,\r\n  214,\r\n  116,\r\n  79,\r\n  174,\r\n  233,\r\n  213,\r\n  231,\r\n  230,\r\n  173,\r\n  232,\r\n  44,\r\n  215,\r\n  117,\r\n  122,\r\n  235,\r\n  22,\r\n  11,\r\n  245,\r\n  89,\r\n  203,\r\n  95,\r\n  176,\r\n  156,\r\n  169,\r\n  81,\r\n  160,\r\n  127,\r\n  12,\r\n  246,\r\n  111,\r\n  23,\r\n  196,\r\n  73,\r\n  236,\r\n  216,\r\n  67,\r\n  31,\r\n  45,\r\n  164,\r\n  118,\r\n  123,\r\n  183,\r\n  204,\r\n  187,\r\n  62,\r\n  90,\r\n  251,\r\n  96,\r\n  177,\r\n  134,\r\n  59,\r\n  82,\r\n  161,\r\n  108,\r\n  170,\r\n  85,\r\n  41,\r\n  157,\r\n  151,\r\n  178,\r\n  135,\r\n  144,\r\n  97,\r\n  190,\r\n  220,\r\n  252,\r\n  188,\r\n  149,\r\n  207,\r\n  205,\r\n  55,\r\n  63,\r\n  91,\r\n  209,\r\n  83,\r\n  57,\r\n  132,\r\n  60,\r\n  65,\r\n  162,\r\n  109,\r\n  71,\r\n  20,\r\n  42,\r\n  158,\r\n  93,\r\n  86,\r\n  242,\r\n  211,\r\n  171,\r\n  68,\r\n  17,\r\n  146,\r\n  217,\r\n  35,\r\n  32,\r\n  46,\r\n  137,\r\n  180,\r\n  124,\r\n  184,\r\n  38,\r\n  119,\r\n  153,\r\n  227,\r\n  165,\r\n  103,\r\n  74,\r\n  237,\r\n  222,\r\n  197,\r\n  49,\r\n  254,\r\n  24,\r\n  13,\r\n  99,\r\n  140,\r\n  128,\r\n  192,\r\n  247,\r\n  112,\r\n  7\r\n];\r\n\r\n//\r\n// SLIP39 wordlist\r\n//\r\nconst WORD_LIST = [\r\n  'academic',\r\n  'acid',\r\n  'acne',\r\n  'acquire',\r\n  'acrobat',\r\n  'activity',\r\n  'actress',\r\n  'adapt',\r\n  'adequate',\r\n  'adjust',\r\n  'admit',\r\n  'adorn',\r\n  'adult',\r\n  'advance',\r\n  'advocate',\r\n  'afraid',\r\n  'again',\r\n  'agency',\r\n  'agree',\r\n  'aide',\r\n  'aircraft',\r\n  'airline',\r\n  'airport',\r\n  'ajar',\r\n  'alarm',\r\n  'album',\r\n  'alcohol',\r\n  'alien',\r\n  'alive',\r\n  'alpha',\r\n  'already',\r\n  'alto',\r\n  'aluminum',\r\n  'always',\r\n  'amazing',\r\n  'ambition',\r\n  'amount',\r\n  'amuse',\r\n  'analysis',\r\n  'anatomy',\r\n  'ancestor',\r\n  'ancient',\r\n  'angel',\r\n  'angry',\r\n  'animal',\r\n  'answer',\r\n  'antenna',\r\n  'anxiety',\r\n  'apart',\r\n  'aquatic',\r\n  'arcade',\r\n  'arena',\r\n  'argue',\r\n  'armed',\r\n  'artist',\r\n  'artwork',\r\n  'aspect',\r\n  'auction',\r\n  'august',\r\n  'aunt',\r\n  'average',\r\n  'aviation',\r\n  'avoid',\r\n  'award',\r\n  'away',\r\n  'axis',\r\n  'axle',\r\n  'beam',\r\n  'beard',\r\n  'beaver',\r\n  'become',\r\n  'bedroom',\r\n  'behavior',\r\n  'being',\r\n  'believe',\r\n  'belong',\r\n  'benefit',\r\n  'best',\r\n  'beyond',\r\n  'bike',\r\n  'biology',\r\n  'birthday',\r\n  'bishop',\r\n  'black',\r\n  'blanket',\r\n  'blessing',\r\n  'blimp',\r\n  'blind',\r\n  'blue',\r\n  'body',\r\n  'bolt',\r\n  'boring',\r\n  'born',\r\n  'both',\r\n  'boundary',\r\n  'bracelet',\r\n  'branch',\r\n  'brave',\r\n  'breathe',\r\n  'briefing',\r\n  'broken',\r\n  'brother',\r\n  'browser',\r\n  'bucket',\r\n  'budget',\r\n  'building',\r\n  'bulb',\r\n  'bulge',\r\n  'bumpy',\r\n  'bundle',\r\n  'burden',\r\n  'burning',\r\n  'busy',\r\n  'buyer',\r\n  'cage',\r\n  'calcium',\r\n  'camera',\r\n  'campus',\r\n  'canyon',\r\n  'capacity',\r\n  'capital',\r\n  'capture',\r\n  'carbon',\r\n  'cards',\r\n  'careful',\r\n  'cargo',\r\n  'carpet',\r\n  'carve',\r\n  'category',\r\n  'cause',\r\n  'ceiling',\r\n  'center',\r\n  'ceramic',\r\n  'champion',\r\n  'change',\r\n  'charity',\r\n  'check',\r\n  'chemical',\r\n  'chest',\r\n  'chew',\r\n  'chubby',\r\n  'cinema',\r\n  'civil',\r\n  'class',\r\n  'clay',\r\n  'cleanup',\r\n  'client',\r\n  'climate',\r\n  'clinic',\r\n  'clock',\r\n  'clogs',\r\n  'closet',\r\n  'clothes',\r\n  'club',\r\n  'cluster',\r\n  'coal',\r\n  'coastal',\r\n  'coding',\r\n  'column',\r\n  'company',\r\n  'corner',\r\n  'costume',\r\n  'counter',\r\n  'course',\r\n  'cover',\r\n  'cowboy',\r\n  'cradle',\r\n  'craft',\r\n  'crazy',\r\n  'credit',\r\n  'cricket',\r\n  'criminal',\r\n  'crisis',\r\n  'critical',\r\n  'crowd',\r\n  'crucial',\r\n  'crunch',\r\n  'crush',\r\n  'crystal',\r\n  'cubic',\r\n  'cultural',\r\n  'curious',\r\n  'curly',\r\n  'custody',\r\n  'cylinder',\r\n  'daisy',\r\n  'damage',\r\n  'dance',\r\n  'darkness',\r\n  'database',\r\n  'daughter',\r\n  'deadline',\r\n  'deal',\r\n  'debris',\r\n  'debut',\r\n  'decent',\r\n  'decision',\r\n  'declare',\r\n  'decorate',\r\n  'decrease',\r\n  'deliver',\r\n  'demand',\r\n  'density',\r\n  'deny',\r\n  'depart',\r\n  'depend',\r\n  'depict',\r\n  'deploy',\r\n  'describe',\r\n  'desert',\r\n  'desire',\r\n  'desktop',\r\n  'destroy',\r\n  'detailed',\r\n  'detect',\r\n  'device',\r\n  'devote',\r\n  'diagnose',\r\n  'dictate',\r\n  'diet',\r\n  'dilemma',\r\n  'diminish',\r\n  'dining',\r\n  'diploma',\r\n  'disaster',\r\n  'discuss',\r\n  'disease',\r\n  'dish',\r\n  'dismiss',\r\n  'display',\r\n  'distance',\r\n  'dive',\r\n  'divorce',\r\n  'document',\r\n  'domain',\r\n  'domestic',\r\n  'dominant',\r\n  'dough',\r\n  'downtown',\r\n  'dragon',\r\n  'dramatic',\r\n  'dream',\r\n  'dress',\r\n  'drift',\r\n  'drink',\r\n  'drove',\r\n  'drug',\r\n  'dryer',\r\n  'duckling',\r\n  'duke',\r\n  'duration',\r\n  'dwarf',\r\n  'dynamic',\r\n  'early',\r\n  'earth',\r\n  'easel',\r\n  'easy',\r\n  'echo',\r\n  'eclipse',\r\n  'ecology',\r\n  'edge',\r\n  'editor',\r\n  'educate',\r\n  'either',\r\n  'elbow',\r\n  'elder',\r\n  'election',\r\n  'elegant',\r\n  'element',\r\n  'elephant',\r\n  'elevator',\r\n  'elite',\r\n  'else',\r\n  'email',\r\n  'emerald',\r\n  'emission',\r\n  'emperor',\r\n  'emphasis',\r\n  'employer',\r\n  'empty',\r\n  'ending',\r\n  'endless',\r\n  'endorse',\r\n  'enemy',\r\n  'energy',\r\n  'enforce',\r\n  'engage',\r\n  'enjoy',\r\n  'enlarge',\r\n  'entrance',\r\n  'envelope',\r\n  'envy',\r\n  'epidemic',\r\n  'episode',\r\n  'equation',\r\n  'equip',\r\n  'eraser',\r\n  'erode',\r\n  'escape',\r\n  'estate',\r\n  'estimate',\r\n  'evaluate',\r\n  'evening',\r\n  'evidence',\r\n  'evil',\r\n  'evoke',\r\n  'exact',\r\n  'example',\r\n  'exceed',\r\n  'exchange',\r\n  'exclude',\r\n  'excuse',\r\n  'execute',\r\n  'exercise',\r\n  'exhaust',\r\n  'exotic',\r\n  'expand',\r\n  'expect',\r\n  'explain',\r\n  'express',\r\n  'extend',\r\n  'extra',\r\n  'eyebrow',\r\n  'facility',\r\n  'fact',\r\n  'failure',\r\n  'faint',\r\n  'fake',\r\n  'false',\r\n  'family',\r\n  'famous',\r\n  'fancy',\r\n  'fangs',\r\n  'fantasy',\r\n  'fatal',\r\n  'fatigue',\r\n  'favorite',\r\n  'fawn',\r\n  'fiber',\r\n  'fiction',\r\n  'filter',\r\n  'finance',\r\n  'findings',\r\n  'finger',\r\n  'firefly',\r\n  'firm',\r\n  'fiscal',\r\n  'fishing',\r\n  'fitness',\r\n  'flame',\r\n  'flash',\r\n  'flavor',\r\n  'flea',\r\n  'flexible',\r\n  'flip',\r\n  'float',\r\n  'floral',\r\n  'fluff',\r\n  'focus',\r\n  'forbid',\r\n  'force',\r\n  'forecast',\r\n  'forget',\r\n  'formal',\r\n  'fortune',\r\n  'forward',\r\n  'founder',\r\n  'fraction',\r\n  'fragment',\r\n  'frequent',\r\n  'freshman',\r\n  'friar',\r\n  'fridge',\r\n  'friendly',\r\n  'frost',\r\n  'froth',\r\n  'frozen',\r\n  'fumes',\r\n  'funding',\r\n  'furl',\r\n  'fused',\r\n  'galaxy',\r\n  'game',\r\n  'garbage',\r\n  'garden',\r\n  'garlic',\r\n  'gasoline',\r\n  'gather',\r\n  'general',\r\n  'genius',\r\n  'genre',\r\n  'genuine',\r\n  'geology',\r\n  'gesture',\r\n  'glad',\r\n  'glance',\r\n  'glasses',\r\n  'glen',\r\n  'glimpse',\r\n  'goat',\r\n  'golden',\r\n  'graduate',\r\n  'grant',\r\n  'grasp',\r\n  'gravity',\r\n  'gray',\r\n  'greatest',\r\n  'grief',\r\n  'grill',\r\n  'grin',\r\n  'grocery',\r\n  'gross',\r\n  'group',\r\n  'grownup',\r\n  'grumpy',\r\n  'guard',\r\n  'guest',\r\n  'guilt',\r\n  'guitar',\r\n  'gums',\r\n  'hairy',\r\n  'hamster',\r\n  'hand',\r\n  'hanger',\r\n  'harvest',\r\n  'have',\r\n  'havoc',\r\n  'hawk',\r\n  'hazard',\r\n  'headset',\r\n  'health',\r\n  'hearing',\r\n  'heat',\r\n  'helpful',\r\n  'herald',\r\n  'herd',\r\n  'hesitate',\r\n  'hobo',\r\n  'holiday',\r\n  'holy',\r\n  'home',\r\n  'hormone',\r\n  'hospital',\r\n  'hour',\r\n  'huge',\r\n  'human',\r\n  'humidity',\r\n  'hunting',\r\n  'husband',\r\n  'hush',\r\n  'husky',\r\n  'hybrid',\r\n  'idea',\r\n  'identify',\r\n  'idle',\r\n  'image',\r\n  'impact',\r\n  'imply',\r\n  'improve',\r\n  'impulse',\r\n  'include',\r\n  'income',\r\n  'increase',\r\n  'index',\r\n  'indicate',\r\n  'industry',\r\n  'infant',\r\n  'inform',\r\n  'inherit',\r\n  'injury',\r\n  'inmate',\r\n  'insect',\r\n  'inside',\r\n  'install',\r\n  'intend',\r\n  'intimate',\r\n  'invasion',\r\n  'involve',\r\n  'iris',\r\n  'island',\r\n  'isolate',\r\n  'item',\r\n  'ivory',\r\n  'jacket',\r\n  'jerky',\r\n  'jewelry',\r\n  'join',\r\n  'judicial',\r\n  'juice',\r\n  'jump',\r\n  'junction',\r\n  'junior',\r\n  'junk',\r\n  'jury',\r\n  'justice',\r\n  'kernel',\r\n  'keyboard',\r\n  'kidney',\r\n  'kind',\r\n  'kitchen',\r\n  'knife',\r\n  'knit',\r\n  'laden',\r\n  'ladle',\r\n  'ladybug',\r\n  'lair',\r\n  'lamp',\r\n  'language',\r\n  'large',\r\n  'laser',\r\n  'laundry',\r\n  'lawsuit',\r\n  'leader',\r\n  'leaf',\r\n  'learn',\r\n  'leaves',\r\n  'lecture',\r\n  'legal',\r\n  'legend',\r\n  'legs',\r\n  'lend',\r\n  'length',\r\n  'level',\r\n  'liberty',\r\n  'library',\r\n  'license',\r\n  'lift',\r\n  'likely',\r\n  'lilac',\r\n  'lily',\r\n  'lips',\r\n  'liquid',\r\n  'listen',\r\n  'literary',\r\n  'living',\r\n  'lizard',\r\n  'loan',\r\n  'lobe',\r\n  'location',\r\n  'losing',\r\n  'loud',\r\n  'loyalty',\r\n  'luck',\r\n  'lunar',\r\n  'lunch',\r\n  'lungs',\r\n  'luxury',\r\n  'lying',\r\n  'lyrics',\r\n  'machine',\r\n  'magazine',\r\n  'maiden',\r\n  'mailman',\r\n  'main',\r\n  'makeup',\r\n  'making',\r\n  'mama',\r\n  'manager',\r\n  'mandate',\r\n  'mansion',\r\n  'manual',\r\n  'marathon',\r\n  'march',\r\n  'market',\r\n  'marvel',\r\n  'mason',\r\n  'material',\r\n  'math',\r\n  'maximum',\r\n  'mayor',\r\n  'meaning',\r\n  'medal',\r\n  'medical',\r\n  'member',\r\n  'memory',\r\n  'mental',\r\n  'merchant',\r\n  'merit',\r\n  'method',\r\n  'metric',\r\n  'midst',\r\n  'mild',\r\n  'military',\r\n  'mineral',\r\n  'minister',\r\n  'miracle',\r\n  'mixed',\r\n  'mixture',\r\n  'mobile',\r\n  'modern',\r\n  'modify',\r\n  'moisture',\r\n  'moment',\r\n  'morning',\r\n  'mortgage',\r\n  'mother',\r\n  'mountain',\r\n  'mouse',\r\n  'move',\r\n  'much',\r\n  'mule',\r\n  'multiple',\r\n  'muscle',\r\n  'museum',\r\n  'music',\r\n  'mustang',\r\n  'nail',\r\n  'national',\r\n  'necklace',\r\n  'negative',\r\n  'nervous',\r\n  'network',\r\n  'news',\r\n  'nuclear',\r\n  'numb',\r\n  'numerous',\r\n  'nylon',\r\n  'oasis',\r\n  'obesity',\r\n  'object',\r\n  'observe',\r\n  'obtain',\r\n  'ocean',\r\n  'often',\r\n  'olympic',\r\n  'omit',\r\n  'oral',\r\n  'orange',\r\n  'orbit',\r\n  'order',\r\n  'ordinary',\r\n  'organize',\r\n  'ounce',\r\n  'oven',\r\n  'overall',\r\n  'owner',\r\n  'paces',\r\n  'pacific',\r\n  'package',\r\n  'paid',\r\n  'painting',\r\n  'pajamas',\r\n  'pancake',\r\n  'pants',\r\n  'papa',\r\n  'paper',\r\n  'parcel',\r\n  'parking',\r\n  'party',\r\n  'patent',\r\n  'patrol',\r\n  'payment',\r\n  'payroll',\r\n  'peaceful',\r\n  'peanut',\r\n  'peasant',\r\n  'pecan',\r\n  'penalty',\r\n  'pencil',\r\n  'percent',\r\n  'perfect',\r\n  'permit',\r\n  'petition',\r\n  'phantom',\r\n  'pharmacy',\r\n  'photo',\r\n  'phrase',\r\n  'physics',\r\n  'pickup',\r\n  'picture',\r\n  'piece',\r\n  'pile',\r\n  'pink',\r\n  'pipeline',\r\n  'pistol',\r\n  'pitch',\r\n  'plains',\r\n  'plan',\r\n  'plastic',\r\n  'platform',\r\n  'playoff',\r\n  'pleasure',\r\n  'plot',\r\n  'plunge',\r\n  'practice',\r\n  'prayer',\r\n  'preach',\r\n  'predator',\r\n  'pregnant',\r\n  'premium',\r\n  'prepare',\r\n  'presence',\r\n  'prevent',\r\n  'priest',\r\n  'primary',\r\n  'priority',\r\n  'prisoner',\r\n  'privacy',\r\n  'prize',\r\n  'problem',\r\n  'process',\r\n  'profile',\r\n  'program',\r\n  'promise',\r\n  'prospect',\r\n  'provide',\r\n  'prune',\r\n  'public',\r\n  'pulse',\r\n  'pumps',\r\n  'punish',\r\n  'puny',\r\n  'pupal',\r\n  'purchase',\r\n  'purple',\r\n  'python',\r\n  'quantity',\r\n  'quarter',\r\n  'quick',\r\n  'quiet',\r\n  'race',\r\n  'racism',\r\n  'radar',\r\n  'railroad',\r\n  'rainbow',\r\n  'raisin',\r\n  'random',\r\n  'ranked',\r\n  'rapids',\r\n  'raspy',\r\n  'reaction',\r\n  'realize',\r\n  'rebound',\r\n  'rebuild',\r\n  'recall',\r\n  'receiver',\r\n  'recover',\r\n  'regret',\r\n  'regular',\r\n  'reject',\r\n  'relate',\r\n  'remember',\r\n  'remind',\r\n  'remove',\r\n  'render',\r\n  'repair',\r\n  'repeat',\r\n  'replace',\r\n  'require',\r\n  'rescue',\r\n  'research',\r\n  'resident',\r\n  'response',\r\n  'result',\r\n  'retailer',\r\n  'retreat',\r\n  'reunion',\r\n  'revenue',\r\n  'review',\r\n  'reward',\r\n  'rhyme',\r\n  'rhythm',\r\n  'rich',\r\n  'rival',\r\n  'river',\r\n  'robin',\r\n  'rocky',\r\n  'romantic',\r\n  'romp',\r\n  'roster',\r\n  'round',\r\n  'royal',\r\n  'ruin',\r\n  'ruler',\r\n  'rumor',\r\n  'sack',\r\n  'safari',\r\n  'salary',\r\n  'salon',\r\n  'salt',\r\n  'satisfy',\r\n  'satoshi',\r\n  'saver',\r\n  'says',\r\n  'scandal',\r\n  'scared',\r\n  'scatter',\r\n  'scene',\r\n  'scholar',\r\n  'science',\r\n  'scout',\r\n  'scramble',\r\n  'screw',\r\n  'script',\r\n  'scroll',\r\n  'seafood',\r\n  'season',\r\n  'secret',\r\n  'security',\r\n  'segment',\r\n  'senior',\r\n  'shadow',\r\n  'shaft',\r\n  'shame',\r\n  'shaped',\r\n  'sharp',\r\n  'shelter',\r\n  'sheriff',\r\n  'short',\r\n  'should',\r\n  'shrimp',\r\n  'sidewalk',\r\n  'silent',\r\n  'silver',\r\n  'similar',\r\n  'simple',\r\n  'single',\r\n  'sister',\r\n  'skin',\r\n  'skunk',\r\n  'slap',\r\n  'slavery',\r\n  'sled',\r\n  'slice',\r\n  'slim',\r\n  'slow',\r\n  'slush',\r\n  'smart',\r\n  'smear',\r\n  'smell',\r\n  'smirk',\r\n  'smith',\r\n  'smoking',\r\n  'smug',\r\n  'snake',\r\n  'snapshot',\r\n  'sniff',\r\n  'society',\r\n  'software',\r\n  'soldier',\r\n  'solution',\r\n  'soul',\r\n  'source',\r\n  'space',\r\n  'spark',\r\n  'speak',\r\n  'species',\r\n  'spelling',\r\n  'spend',\r\n  'spew',\r\n  'spider',\r\n  'spill',\r\n  'spine',\r\n  'spirit',\r\n  'spit',\r\n  'spray',\r\n  'sprinkle',\r\n  'square',\r\n  'squeeze',\r\n  'stadium',\r\n  'staff',\r\n  'standard',\r\n  'starting',\r\n  'station',\r\n  'stay',\r\n  'steady',\r\n  'step',\r\n  'stick',\r\n  'stilt',\r\n  'story',\r\n  'strategy',\r\n  'strike',\r\n  'style',\r\n  'subject',\r\n  'submit',\r\n  'sugar',\r\n  'suitable',\r\n  'sunlight',\r\n  'superior',\r\n  'surface',\r\n  'surprise',\r\n  'survive',\r\n  'sweater',\r\n  'swimming',\r\n  'swing',\r\n  'switch',\r\n  'symbolic',\r\n  'sympathy',\r\n  'syndrome',\r\n  'system',\r\n  'tackle',\r\n  'tactics',\r\n  'tadpole',\r\n  'talent',\r\n  'task',\r\n  'taste',\r\n  'taught',\r\n  'taxi',\r\n  'teacher',\r\n  'teammate',\r\n  'teaspoon',\r\n  'temple',\r\n  'tenant',\r\n  'tendency',\r\n  'tension',\r\n  'terminal',\r\n  'testify',\r\n  'texture',\r\n  'thank',\r\n  'that',\r\n  'theater',\r\n  'theory',\r\n  'therapy',\r\n  'thorn',\r\n  'threaten',\r\n  'thumb',\r\n  'thunder',\r\n  'ticket',\r\n  'tidy',\r\n  'timber',\r\n  'timely',\r\n  'ting',\r\n  'tofu',\r\n  'together',\r\n  'tolerate',\r\n  'total',\r\n  'toxic',\r\n  'tracks',\r\n  'traffic',\r\n  'training',\r\n  'transfer',\r\n  'trash',\r\n  'traveler',\r\n  'treat',\r\n  'trend',\r\n  'trial',\r\n  'tricycle',\r\n  'trip',\r\n  'triumph',\r\n  'trouble',\r\n  'true',\r\n  'trust',\r\n  'twice',\r\n  'twin',\r\n  'type',\r\n  'typical',\r\n  'ugly',\r\n  'ultimate',\r\n  'umbrella',\r\n  'uncover',\r\n  'undergo',\r\n  'unfair',\r\n  'unfold',\r\n  'unhappy',\r\n  'union',\r\n  'universe',\r\n  'unkind',\r\n  'unknown',\r\n  'unusual',\r\n  'unwrap',\r\n  'upgrade',\r\n  'upstairs',\r\n  'username',\r\n  'usher',\r\n  'usual',\r\n  'valid',\r\n  'valuable',\r\n  'vampire',\r\n  'vanish',\r\n  'various',\r\n  'vegan',\r\n  'velvet',\r\n  'venture',\r\n  'verdict',\r\n  'verify',\r\n  'very',\r\n  'veteran',\r\n  'vexed',\r\n  'victim',\r\n  'video',\r\n  'view',\r\n  'vintage',\r\n  'violence',\r\n  'viral',\r\n  'visitor',\r\n  'visual',\r\n  'vitamins',\r\n  'vocal',\r\n  'voice',\r\n  'volume',\r\n  'voter',\r\n  'voting',\r\n  'walnut',\r\n  'warmth',\r\n  'warn',\r\n  'watch',\r\n  'wavy',\r\n  'wealthy',\r\n  'weapon',\r\n  'webcam',\r\n  'welcome',\r\n  'welfare',\r\n  'western',\r\n  'width',\r\n  'wildlife',\r\n  'window',\r\n  'wine',\r\n  'wireless',\r\n  'wisdom',\r\n  'withdraw',\r\n  'wits',\r\n  'wolf',\r\n  'woman',\r\n  'work',\r\n  'worthy',\r\n  'wrap',\r\n  'wrist',\r\n  'writing',\r\n  'wrote',\r\n  'year',\r\n  'yelp',\r\n  'yield',\r\n  'yoga',\r\n  'zero'\r\n];\r\n\r\nconst WORD_LIST_MAP = WORD_LIST.reduce((obj, val, idx) => {\r\n  obj[val] = idx;\r\n  return obj;\r\n}, {});\r\n\r\nexport {\r\n  MIN_ENTROPY_BITS,\r\n  generateIdentifier,\r\n  encodeMnemonic,\r\n  validateMnemonic,\r\n  splitSecret,\r\n  combineMnemonics,\r\n  combineSecrets,\r\n  crypt,\r\n  bitsToBytes,\r\n  intFromIndices,\r\n  intToIndices,\r\n  mnemonicFromIndices,\r\n  mnemonicToIndices,\r\n  toHexString,\r\n  toByteArray,\r\n};\r\n","/* eslint-disable radix */\r\nconst slipHelper = require('./slip39_helper.js');\r\n\r\nconst MAX_DEPTH = 2;\r\n\r\n/**\r\n * Slip39Node\r\n * For root node, description refers to the whole set's title e.g. \"Hardware wallet X SSSS shares\"\r\n * For children nodes, description refers to the group e.g. \"Family group: mom, dad, sister, wife\"\r\n */\r\nclass Slip39Node {\r\n  constructor(index = 0, description = '', mnemonic = '', children = [], secret = []) {\r\n    this.index = index;\r\n    this.description = description;\r\n    this.mnemonic = mnemonic;\r\n    this.children = children;\r\n    this.secret = secret;\r\n  }\r\n\r\n  get mnemonics() {\r\n    if (this.children.length === 0) {\r\n      return [this.mnemonic];\r\n    }\r\n    const result = this.children.reduce((prev, item) => {\r\n      return prev.concat(item.mnemonics);\r\n    }, []);\r\n    return result;\r\n  }\r\n}\r\n\r\n//\r\n// The javascript implementation of the SLIP-0039: Shamir's Secret-Sharing for Mnemonic Codes\r\n// see: https://github.com/satoshilabs/slips/blob/master/slip-0039.md)\r\n//\r\nclass Slip39 {\r\n  constructor({\r\n    iterationExponent = 0,\r\n    identifier,\r\n    groupCount,\r\n    groupThreshold\r\n  } = {}) {\r\n    this.iterationExponent = iterationExponent;\r\n    this.identifier = identifier;\r\n    this.groupCount = groupCount;\r\n    this.groupThreshold = groupThreshold;\r\n  }\r\n\r\n  static fromArray(masterSecret, {\r\n    passphrase = '',\r\n    threshold = 1,\r\n    groups = [\r\n      [1, 1, 'Default 1-of-1 group share']\r\n    ],\r\n    iterationExponent = 0,\r\n    title = 'My default slip39 shares'\r\n  } = {}) {\r\n    if (masterSecret.length * 8 < slipHelper.MIN_ENTROPY_BITS) {\r\n      throw Error(`The length of the master secret (${masterSecret.length} bytes) must be at least ${slipHelper.bitsToBytes(slipHelper.MIN_ENTROPY_BITS)} bytes.`);\r\n    }\r\n\r\n    if (masterSecret.length % 2 !== 0) {\r\n      throw Error('The length of the master secret in bytes must be an even number.');\r\n    }\r\n\r\n    if (!/^[\\x20-\\x7E]*$/.test(passphrase)) {\r\n      throw Error('The passphrase must contain only printable ASCII characters (code points 32-126).');\r\n    }\r\n\r\n    if (threshold > groups.length) {\r\n      throw Error(`The requested group threshold (${threshold}) must not exceed the number of groups (${groups.length}).`);\r\n    }\r\n\r\n    groups.forEach((item) => {\r\n      if (item[0] === 1 && item[1] > 1) {\r\n        throw Error(`Creating multiple member shares with member threshold 1 is not allowed. Use 1-of-1 member sharing instead. ${groups.join()}`);\r\n      }\r\n    });\r\n\r\n    const identifier = slipHelper.generateIdentifier();\r\n\r\n    const slip = new Slip39({\r\n      iterationExponent: iterationExponent,\r\n      identifier: identifier,\r\n      groupCount: groups.length,\r\n      groupThreshold: threshold\r\n    });\r\n\r\n    const encryptedMasterSecret = slipHelper.crypt(\r\n      masterSecret, passphrase, iterationExponent, slip.identifier);\r\n\r\n    const root = slip.buildRecursive(\r\n      new Slip39Node(0, title),\r\n      groups,\r\n      encryptedMasterSecret,\r\n      threshold\r\n    );\r\n\r\n    slip.root = root;\r\n    return slip;\r\n  }\r\n\r\n  buildRecursive(currentNode, nodes, secret, threshold, index) {\r\n    //console.log('>>> buildRecursive', secret, threshold, index)\r\n    // It means it's a leaf.\r\n    if (nodes.length === 0) {\r\n      const mnemonic = slipHelper.encodeMnemonic(this.identifier, this.iterationExponent, index,\r\n        this.groupThreshold, this.groupCount, currentNode.index, threshold, secret);\r\n\r\n      currentNode.mnemonic = mnemonic;\r\n      currentNode.secret = secret;\r\n      return currentNode;\r\n    }\r\n\r\n    const secretShares = slipHelper.splitSecret(threshold, nodes.length, secret);\r\n    let children = [];\r\n    let idx = 0;\r\n\r\n    nodes.forEach((item) => {\r\n      // n=threshold\r\n      const n = item[0];\r\n      // m=members\r\n      const m = item[1];\r\n      // d=description\r\n      const d = item[2] || '';\r\n\r\n      // Generate leaf members, means their `m` is `0`\r\n      const members = Array().slip39Generate(m, () => [n, 0, d]);\r\n\r\n      const node = new Slip39Node(idx, d);\r\n      const branch = this.buildRecursive(\r\n        node,\r\n        members,\r\n        secretShares[idx],\r\n        n,\r\n        currentNode.index);\r\n\r\n      children = children.concat(branch);\r\n      idx = idx + 1;\r\n    });\r\n    currentNode.children = children;\r\n    return currentNode;\r\n  }\r\n\r\n  static recoverSecret(mnemonics, passphrase) {\r\n    return slipHelper.combineMnemonics(mnemonics, passphrase);\r\n  }\r\n\r\n  static validateMnemonic(mnemonic) {\r\n    return slipHelper.validateMnemonic(mnemonic);\r\n  }\r\n\r\n  fromPath(path) {\r\n    this.validatePath(path);\r\n\r\n    const children = this.parseChildren(path);\r\n\r\n    if (typeof children === 'undefined' || children.length === 0) {\r\n      return this.root;\r\n    }\r\n\r\n    return children.reduce((prev, childNumber) => {\r\n      let childrenLen = prev.children.length;\r\n      if (childNumber >= childrenLen) {\r\n        throw new Error(`The path index (${childNumber}) exceeds the children index (${childrenLen - 1}).`);\r\n      }\r\n\r\n      return prev.children[childNumber];\r\n    }, this.root);\r\n  }\r\n\r\n  validatePath(path) {\r\n    if (!path.match(/(^r)(\\/\\d{1,2}){0,2}$/)) {\r\n      throw new Error('Expected valid path e.g. \"r/0/0\".');\r\n    }\r\n\r\n    const depth = path.split('/');\r\n    const pathLength = depth.length - 1;\r\n    if (pathLength > MAX_DEPTH) {\r\n      throw new Error(`Path\\'s (${path}) max depth (${MAX_DEPTH}) is exceeded (${pathLength}).`);\r\n    }\r\n  }\r\n\r\n  parseChildren(path) {\r\n    const splitted = path.split('/').slice(1);\r\n\r\n    const result = splitted.map((pathFragment) => {\r\n      return parseInt(pathFragment);\r\n    });\r\n    return result;\r\n  }\r\n}\r\n\r\nexport default Slip39\r\n","import * as bitcoin from 'bitcoinjs-lib'\r\nimport * as bip32 from 'bip32'\r\nimport { hdkey } from 'ethereumjs-wallet'\r\nimport * as bip39 from 'bip39'\r\nimport Slip39 from './slip39/slip39.js'\r\nimport * as slipHelper from './slip39/slip39_helper.js'\r\n\r\n\r\nconst getRandomMnemonicWords = () => {\r\n  return bip39.generateMnemonic()\r\n}\r\n\r\nconst validateMnemonicWords = (mnemonic) => {\r\n  return bip39.validateMnemonic(convertMnemonicToValid(mnemonic))\r\n}\r\n\r\n// Shamir's Secret Sharing alternative to saving 12 words seed (Split mnemonic to three secrets)\r\nconst splitMnemonicToSecretParts = (mnemonic, passphrase = ``) => {\r\n  mnemonic = convertMnemonicToValid(mnemonic)\r\n  const mnemonicEntropy: string = bip39.mnemonicToEntropy(mnemonic)\r\n  const masterSecret: number[] = slipHelper.toByteArray(mnemonicEntropy)\r\n\r\n  const getMnemonicInt = (mnemonic) => {\r\n    return slipHelper.intFromIndices(slipHelper.mnemonicToIndices(mnemonic))\r\n  }\r\n\r\n  const slip = Slip39.fromArray(masterSecret, {\r\n    passphrase,\r\n    threshold: 2, // number of group-shares required to reconstruct the master secret.\r\n    groups: [\r\n      [1, 1], [1, 1], [1, 1] // split master key to 3 parts\r\n    ]\r\n  })\r\n  \r\n  const mnemonics = [\r\n    slip.fromPath('r/0/0').mnemonics[0],\r\n    slip.fromPath('r/1/0').mnemonics[0],\r\n    slip.fromPath('r/2/0').mnemonics[0]\r\n  ]\r\n\r\n  const secretParts = [\r\n    getMnemonicInt(mnemonics[0]),\r\n    getMnemonicInt(mnemonics[1]),\r\n    getMnemonicInt(mnemonics[2])\r\n  ]\r\n  return {\r\n    mnemonics,\r\n    secretParts\r\n  }\r\n}\r\n\r\n// Shamir's Secret Sharing alternative to saving 12 words seed (Restore mnemonic from two secrets)\r\nconst restoryMnemonicFromSecretParts = (secretParts, isMnemonics = false, passphrase = ``) => {\r\n  // prepare mnemonics \r\n  const mnemonics: string[] = (isMnemonics)\r\n    ? secretParts\r\n    : secretParts.map((mnemonicInt) => {\r\n      return slipHelper.mnemonicFromIndices(\r\n        slipHelper.intToIndices(\r\n          (typeof(mnemonicInt) === 'string')\r\n            ? BigInt(`${mnemonicInt}`)\r\n            : mnemonicInt,\r\n          20,\r\n          10\r\n        )\r\n      )\r\n    })\r\n  // do recover\r\n  const recoveredEntropy = Slip39.recoverSecret(mnemonics, passphrase)\r\n  const recoveredMnemonic = bip39.entropyToMnemonic(recoveredEntropy)\r\n  return recoveredMnemonic\r\n}\r\n\r\n// Shamir's Secret Sharing alternative to saving 12 words seed (Check secret is valid)\r\nconst isValidShamirsSecret = (secret) => {\r\n  try {\r\n    const secretInt = (typeof(secret) === 'string') ? BigInt(`${secret}`) : secret\r\n    const mnemonicIndices = slipHelper.intToIndices(secretInt, 20, 10)\r\n    const mnemonic = slipHelper.mnemonicFromIndices(mnemonicIndices)\r\n    return slipHelper.validateMnemonic(mnemonic)\r\n  } catch (e) {\r\n    return false\r\n  }\r\n}\r\n\r\nconst convertMnemonicToValid = (mnemonic) => {\r\n  return mnemonic\r\n    .trim()\r\n    .toLowerCase()\r\n    .split(` `)\r\n    .filter((word) => word)\r\n    .join(` `)\r\n}\r\n\r\n\r\nconst getBtcWallet = (network, mnemonic, walletNumber = 0, path) => {\r\n  mnemonic = convertMnemonicToValid(mnemonic)\r\n  const seed = bip39.mnemonicToSeedSync(mnemonic)\r\n  const root = bip32.fromSeed(seed, network)\r\n  const node = root.derivePath((path) ? path : `m/44'/0'/0'/0/${walletNumber}`)\r\n\r\n  const account = bitcoin.payments.p2pkh({\r\n    pubkey: node.publicKey,\r\n    network: network,\r\n  })\r\n\r\n  return {\r\n    mnemonic,\r\n    address: account.address,\r\n    publicKey: node.publicKey.toString('hex'),\r\n    WIF: node.toWIF(),\r\n    node,\r\n    account,\r\n  }\r\n}\r\n\r\nconst getEthLikeWallet = (params) => {\r\n  const { mnemonic, walletNumber = 0, path } = params\r\n  const validMnemonic = convertMnemonicToValid(mnemonic)\r\n  const seed = bip39.mnemonicToSeedSync(validMnemonic)\r\n  const hdwallet = hdkey.fromMasterSeed(seed)\r\n  const wallet = hdwallet.derivePath((path) || `m/44'/60'/0'/0/${walletNumber}`).getWallet()\r\n  const publicKey = wallet.getPublicKey()\r\n  const privateKey = wallet.getPrivateKey()\r\n\r\n  return {\r\n    mnemonic: validMnemonic,\r\n    address: `0x${wallet.getAddress().toString('hex')}`,\r\n    publicKey: `0x${publicKey.toString('hex')}`,\r\n    privateKey: `0x${privateKey.toString('hex')}`,\r\n    wallet,\r\n  }\r\n}\r\n\r\nconst getGhostWallet = (network, mnemonic, walletNumber = 0, path) => {\r\n  const seed = bip39.mnemonicToSeedSync(mnemonic)\r\n  const root = bip32.fromSeed(seed, network)\r\n  const node = root.derivePath((path) || `m/44'/0'/0'/0/${walletNumber}`)\r\n\r\n  const account = bitcoin.payments.p2pkh({\r\n    pubkey: node.publicKey,\r\n    network: network,\r\n  })\r\n\r\n  return {\r\n    mnemonic,\r\n    address: account.address,\r\n    publicKey: node.publicKey.toString('hex'),\r\n    WIF: node.toWIF(),\r\n    node,\r\n    account,\r\n  }\r\n}\r\n\r\nconst getNextWallet = (network, mnemonic, walletNumber = 0, path) => {\r\n  const seed = bip39.mnemonicToSeedSync(mnemonic)\r\n  const root = bip32.fromSeed(seed, network)\r\n  const node = root.derivePath((path) || `m/44'/707'/0'/0/${walletNumber}`)\r\n\r\n  const account = bitcoin.payments.p2pkh({\r\n    pubkey: node.publicKey,\r\n    network: network,\r\n  })\r\n\r\n  return {\r\n    mnemonic,\r\n    address: account.address,\r\n    publicKey: node.publicKey.toString('hex'),\r\n    WIF: node.toWIF(),\r\n    node,\r\n    account,\r\n  }\r\n}\r\n\r\nconst mnemonicIsValid = (mnemonic:string):boolean => bip39.validateMnemonic(convertMnemonicToValid(mnemonic))\r\n\r\nexport {\r\n  getRandomMnemonicWords,\r\n  validateMnemonicWords,\r\n  mnemonicIsValid,\r\n  convertMnemonicToValid,\r\n  getBtcWallet,\r\n  getEthLikeWallet,\r\n  getGhostWallet,\r\n  getNextWallet,\r\n  splitMnemonicToSecretParts,\r\n  restoryMnemonicFromSecretParts,\r\n  isValidShamirsSecret,\r\n}","export const COIN_TYPE = Object.freeze({\r\n  NATIVE: 'NATIVE',\r\n  ETH_TOKEN: 'ETH_TOKEN',\r\n  BNB_TOKEN: 'BNB_TOKEN',\r\n  MATIC_TOKEN: 'MATIC_TOKEN',\r\n  XDAI_TOKEN: 'XDAI_TOKEN',\r\n  FTM_TOKEN: 'FTM_TOKEN',\r\n  AVAX_TOKEN: 'AVAX_TOKEN',\r\n  MOVR_TOKEN: 'MOVR_TOKEN',\r\n  ONE_TOKEN: 'ONE_TOKEN',\r\n  AME_TOKEN: 'AME_TOKEN',\r\n  AURORA_TOKEN: 'AURORA_TOKEN',\r\n  PHI_V1_TOKEN: 'PHI_V1_TOKEN',\r\n  PHI_TOKEN: 'PHI_TOKEN',\r\n  FKW_TOKEN: 'FKW_TOKEN',\r\n  PHPX_TOKEN: 'PHPX_TOKEN',\r\n})\r\n\r\nexport const TOKEN_STANDARD = Object.freeze({\r\n  ERC20: 'ERC20',\r\n  BEP20: 'BEP20',\r\n  ERC20MATIC: 'ERC20MATIC',\r\n  ERC20XDAI: 'ERC20XDAI',\r\n  ERC20FTM: 'ERC20FTM',\r\n  ERC20AVAX: 'ERC20AVAX',\r\n  ERC20MOVR: 'ERC20MOVR',\r\n  ERC20ONE: 'ERC20ONE',\r\n  ERC20AME: 'ERC20AME',\r\n  ERC20AURORA: 'ERC20AURORA',\r\n  PHI20_V1: 'PHI20_V1',\r\n  PHI20: 'PHI20',\r\n  FKW20: 'FKW20',\r\n  PHPX20: 'PHPX20',\r\n})\r\n\r\nexport const BLOCKCHAIN = Object.freeze({\r\n  BTC: 'BTC',\r\n  GHOST: 'GHOST',\r\n  NEXT: 'NEXT',\r\n  ETH: 'ETH',\r\n  BNB: 'BNB', // TODO: rename with BSC\r\n  MATIC: 'MATIC',\r\n  ARBITRUM: 'ARBITRUM',\r\n  XDAI: 'XDAI',\r\n  FTM: 'FTM',\r\n  AVAX: 'AVAX',\r\n  MOVR: 'MOVR',\r\n  ONE: 'ONE',\r\n  AME: 'AME',\r\n  AURETH: 'AURETH', // AURORA\r\n  PHI_V1: 'PHI_V1',\r\n  PHI: 'PHI',\r\n  FKW: 'FKW',\r\n  PHPX: 'PHPX',\r\n})\r\n\r\nexport const BASE_TOKEN_CURRENCY = Object.freeze({\r\n  ETH: 'ETH',\r\n  BNB: 'BNB',\r\n  MATIC: 'MATIC',\r\n  XDAI: 'XDAI',\r\n  FTM: 'FTM',\r\n  AVAX: 'AVAX',\r\n  MOVR: 'MOVR',\r\n  ONE: 'ONE',\r\n  AME: 'AME',\r\n  AURETH: 'AURETH',\r\n  PHI_V1: 'PHI_V1',\r\n  PHI: 'PHI',\r\n  FKW: 'FKW',\r\n  PHPX: 'PHPX',\r\n})\r\n\r\nexport const COIN_MODEL = Object.freeze({\r\n  UTXO: 'UTXO', // Unspent Transaction Outputs model\r\n  AB: 'AB' // Account/Balance model\r\n})\r\n\r\nexport const COIN_DATA = {\r\n  BTC: {\r\n    ticker: 'BTC',\r\n    name: 'Bitcoin',\r\n    type: COIN_TYPE.NATIVE,\r\n    blockchain: BLOCKCHAIN.BTC,\r\n    model: COIN_MODEL.UTXO,\r\n    precision: 8,\r\n  },\r\n  ETH: {\r\n    ticker: 'ETH',\r\n    name: 'Ethereum',\r\n    type: COIN_TYPE.NATIVE,\r\n    blockchain: BLOCKCHAIN.ETH,\r\n    model: COIN_MODEL.AB,\r\n    precision: 18,\r\n  },\r\n  BNB: {\r\n    ticker: 'BNB',\r\n    name: 'Binance Coin',\r\n    type: COIN_TYPE.NATIVE,\r\n    blockchain: BLOCKCHAIN.BNB,\r\n    model: COIN_MODEL.AB,\r\n    precision: 18,\r\n  },\r\n  MATIC: {\r\n    ticker: 'MATIC',\r\n    name: 'MATIC Token',\r\n    type: COIN_TYPE.NATIVE,\r\n    blockchain: BLOCKCHAIN.MATIC,\r\n    model: COIN_MODEL.AB,\r\n    precision: 18,\r\n  },\r\n  ARBETH: {\r\n    ticker: 'ARBETH',\r\n    name: 'Arbitrum ETH',\r\n    type: COIN_TYPE.NATIVE,\r\n    blockchain: BLOCKCHAIN.ARBITRUM,\r\n    model: COIN_MODEL.AB,\r\n    precision: 18,\r\n  },\r\n  AURETH: {\r\n    ticker: 'AURETH',\r\n    name: 'Aurora ETH',\r\n    type: COIN_TYPE.NATIVE,\r\n    blockchain: BLOCKCHAIN.AURETH,\r\n    model: COIN_MODEL.AB,\r\n    precision: 18,\r\n  },\r\n  XDAI: {\r\n    ticker: 'XDAI',\r\n    name: 'xDai',\r\n    type: COIN_TYPE.NATIVE,\r\n    blockchain: BLOCKCHAIN.XDAI,\r\n    model: COIN_MODEL.AB,\r\n    precision: 18,\r\n  },\r\n  FTM: {\r\n    ticker: 'FTM',\r\n    name: 'Fantom',\r\n    type: COIN_TYPE.NATIVE,\r\n    blockchain: BLOCKCHAIN.FTM,\r\n    model: COIN_MODEL.AB,\r\n    precision: 18,\r\n  },\r\n  AVAX: {\r\n    ticker: 'AVAX',\r\n    name: 'Avalanche',\r\n    type: COIN_TYPE.NATIVE,\r\n    blockchain: BLOCKCHAIN.AVAX,\r\n    model: COIN_MODEL.AB,\r\n    precision: 18,\r\n  },\r\n  MOVR: {\r\n    ticker: 'MOVR',\r\n    name: 'Moonriver',\r\n    type: COIN_TYPE.NATIVE,\r\n    blockchain: BLOCKCHAIN.MOVR,\r\n    model: COIN_MODEL.AB,\r\n    precision: 18,\r\n  },\r\n  ONE: {\r\n    ticker: 'ONE',\r\n    name: 'Harmony One',\r\n    type: COIN_TYPE.NATIVE,\r\n    blockchain: BLOCKCHAIN.ONE,\r\n    model: COIN_MODEL.AB,\r\n    precision: 18,\r\n  },\r\n  AME: {\r\n    ticker: 'AME',\r\n    name: 'AME',\r\n    type: COIN_TYPE.NATIVE,\r\n    blockchain: BLOCKCHAIN.AME,\r\n    model: COIN_MODEL.AB,\r\n    precision: 18,\r\n  },\r\n  PHI_V1: {\r\n    ticker: 'PHI_V1',\r\n    name: 'PHI_V1',\r\n    type: COIN_TYPE.PHI_V1_TOKEN,\r\n    blockchain: BLOCKCHAIN.PHI_V1,\r\n    standard: TOKEN_STANDARD.PHI20_V1,\r\n    model: COIN_MODEL.AB,\r\n    precision: 18,\r\n  },\r\n  PHI: {\r\n    ticker: 'PHI',\r\n    name: 'PHI',\r\n    type: COIN_TYPE.PHI_TOKEN,\r\n    blockchain: BLOCKCHAIN.PHI,\r\n    standard: TOKEN_STANDARD.PHI20,\r\n    model: COIN_MODEL.AB,\r\n    precision: 18,\r\n  },\r\n  FKW: {\r\n    ticker: 'FKW',\r\n    name: 'FKW',\r\n    type: COIN_TYPE.FKW_TOKEN,\r\n    blockchain: BLOCKCHAIN.FKW,\r\n    standard: TOKEN_STANDARD.FKW20,\r\n    model: COIN_MODEL.AB,\r\n    precision: 18,\r\n  },\r\n  PHPX: {\r\n    ticker: 'PHPX',\r\n    name: 'PHPX',\r\n    type: COIN_TYPE.PHPX_TOKEN,\r\n    blockchain: BLOCKCHAIN.PHPX,\r\n    standard: TOKEN_STANDARD.PHPX20,\r\n    model: COIN_MODEL.AB,\r\n    precision: 18,\r\n  },\r\n  USDT: {\r\n    ticker: 'USDT',\r\n    name: 'Tether',\r\n    type: COIN_TYPE.ETH_TOKEN,\r\n    blockchain: BLOCKCHAIN.ETH,\r\n    standard: TOKEN_STANDARD.ERC20,\r\n    model: COIN_MODEL.AB,\r\n    precision: 18,\r\n  },\r\n  BTCB: {\r\n    ticker: 'BTCB',\r\n    name: 'BTCB Token',\r\n    type: COIN_TYPE.BNB_TOKEN,\r\n    blockchain: BLOCKCHAIN.BNB,\r\n    standard: TOKEN_STANDARD.BEP20,\r\n    model: COIN_MODEL.AB,\r\n    precision: 18,\r\n  },\r\n  EURS: {\r\n    ticker: 'EURS',\r\n    name: 'STASIS EURO',\r\n    type: COIN_TYPE.ETH_TOKEN,\r\n    blockchain: BLOCKCHAIN.ETH,\r\n    standard: TOKEN_STANDARD.ERC20,\r\n    model: COIN_MODEL.AB,\r\n    precision: 18,\r\n  },\r\n  GHOST: {\r\n    ticker: 'GHOST',\r\n    name: 'Ghost',\r\n    type: COIN_TYPE.NATIVE,\r\n    blockchain: BLOCKCHAIN.GHOST,\r\n    model: COIN_MODEL.UTXO,\r\n    precision: 8,\r\n  },\r\n  NEXT: {\r\n    ticker: 'NEXT',\r\n    name: 'NEXT.coin',\r\n    type: COIN_TYPE.NATIVE,\r\n    blockchain: BLOCKCHAIN.NEXT,\r\n    model: COIN_MODEL.UTXO,\r\n    precision: 8,\r\n  },\r\n  SWAP: {\r\n    ticker: 'SWAP',\r\n    name: 'SWAP',\r\n    type: COIN_TYPE.ETH_TOKEN,\r\n    blockchain: BLOCKCHAIN.ETH,\r\n    standard: TOKEN_STANDARD.ERC20,\r\n    model: COIN_MODEL.AB,\r\n    precision: 18,\r\n  },\r\n  SNM: {\r\n    ticker: 'SONM',\r\n    name: 'SWAP',\r\n    type: COIN_TYPE.ETH_TOKEN,\r\n    blockchain: BLOCKCHAIN.ETH,\r\n    standard: TOKEN_STANDARD.ERC20,\r\n    model: COIN_MODEL.AB,\r\n    precision: 18,\r\n  },\r\n}\r\n\r\n\r\n// todo: move to COIN_DATA\r\n\r\nexport const NATIVE = {\r\n  btc: 'BTC',\r\n  eth: 'ETH',\r\n  bnb: 'BNB',\r\n  matic: 'MATIC',\r\n  arbeth: 'ARBETH',\r\n  aureth: 'AURETH',\r\n  xdai: 'XDAI',\r\n  ftm: 'FTM',\r\n  avax: 'AVAX',\r\n  movr: 'MOVR',\r\n  one: 'ONE',\r\n  ame: 'AME',\r\n  phi_v1: 'PHI_V1',\r\n  phi: 'PHI',\r\n  fkw: 'FKW',\r\n  phpx: 'PHPX',\r\n  ghost: 'GHOST',\r\n  next: 'NEXT',\r\n}\r\n\r\nexport const BNB_TOKENS = {\r\n  btcb: 'BTCB',\r\n}\r\n\r\nexport const MATIC_TOKENS = {\r\n  wbtc: 'WBTC',\r\n}\r\n\r\nexport const ETH_TOKENS = {\r\n  usdt: '{ETH}USDT',\r\n  eurs: '{ETH}EURS',\r\n  swap: '{ETH}SWAP',\r\n  pay: '{ETH}PAY',\r\n\r\n  // needs for the front\r\n  proxima: '{ETH}PROXIMA',\r\n  snm: '{ETH}SNM',\r\n  noxon: '{ETH}NOXON',\r\n  pbl: '{ETH}PBL',\r\n  xsat: '{ETH}XSAT',\r\n  hdp: '{ETH}HDP',\r\n  scro: '{ETH}SCRO',\r\n  xeur: '{ETH}XEUR',\r\n\r\n}\r\n\r\nexport default {\r\n  ...NATIVE,\r\n  ...ETH_TOKENS,\r\n  ...BNB_TOKENS,\r\n  ...MATIC_TOKENS,\r\n  ...COIN_DATA,\r\n}\r\n","export default {\r\n  web3: 'web3',\r\n  bitcoin: 'bitcoin',\r\n  bitcoincash: 'bitcoincash',\r\n  ghost: 'ghost',\r\n  next: 'next',\r\n  coininfo: 'coininfo',\r\n  storage: 'storage',\r\n  sessionStorage: 'sessionStorage',\r\n  swapsExplorer: 'swapsExplorer',\r\n  metamask: 'metamask',\r\n  getWeb3: 'getWeb3',\r\n  isBinance: 'isBinance',\r\n  web3bnb: 'web3bnb',\r\n  getWeb3Bnb: 'getWeb3Bnb',\r\n  web3Matic: 'web3Matic',\r\n  getWeb3Matic: 'getWeb3Matic',\r\n  web3Arbitrum: 'web3Arbitrum',\r\n  getWeb3Arbitrum: 'getWeb3Arbitrum',\r\n  isTest: 'isTest',\r\n}\r\n","import COINS, {\r\n  NATIVE,\r\n  ETH_TOKENS,\r\n  COIN_DATA,\r\n  TOKEN_STANDARD,\r\n} from './COINS'\r\nimport ENV from './ENV'\r\nimport SERVICES from './SERVICES'\r\nimport NETWORKS from './NETWORKS'\r\n\r\n\r\nexport default {\r\n  COINS,\r\n  NATIVE,\r\n  ETH_TOKENS,\r\n  COIN_DATA,\r\n  TOKEN_STANDARD,\r\n\r\n  ENV,\r\n  SERVICES,\r\n  NETWORKS,\r\n}\r\n","export default {\r\n  auth: 'auth',\r\n  room: 'room',\r\n  orders: 'orders',\r\n  swaps: 'swaps',\r\n}\r\n","export default {\r\n  MAINNET: 'mainnet',\r\n  TESTNET: 'testnet',\r\n}\r\n","class StorageFactory {\r\n\r\n  prefix: string\r\n  storage: any\r\n\r\n  constructor(storage) {\r\n    this.prefix = 'swap:'\r\n    this.storage = storage || global.localStorage\r\n\r\n    try {\r\n      this.storage.setItem('test', 'test')\r\n      this.storage.getItem('test')\r\n      this.storage.removeItem('test')\r\n    }\r\n    catch (err) {\r\n      throw new Error(`SwapApp.env.StorageFactory: ${err}`)\r\n    }\r\n  }\r\n\r\n  setItem(key, value) {\r\n    this.storage.setItem(`${this.prefix}${key}`, JSON.stringify(value))\r\n  }\r\n\r\n  getItem(key) {\r\n    const value = this.storage.getItem(`${this.prefix}${key}`)\r\n\r\n    try {\r\n      return JSON.parse(value)\r\n    }\r\n    catch (err) {\r\n      console.error(`SwapApp.env.storage.getItem(${key}) parse error. Looks like the value was created w/o setItem method`)\r\n      console.error(err)\r\n      return undefined\r\n    }\r\n  }\r\n\r\n  removeItem(key) {\r\n    return this.storage.removeItem(`${this.prefix}${key}`)\r\n  }\r\n}\r\n\r\n\r\nexport default StorageFactory\r\n","class Collection {\r\n\r\n  items: any[]\r\n  itemIds: any\r\n\r\n  // _constructor for aggregation\r\n  _constructor() {\r\n    this.items = []\r\n    this.itemIds = {}\r\n  }\r\n\r\n  constructor() {\r\n    this._constructor()\r\n  }\r\n\r\n  map(callback) {\r\n    return this.items.map(callback)\r\n  }\r\n\r\n  filter(callback) {\r\n    return this.items.filter(callback)\r\n  }\r\n\r\n  forEach(callback) {\r\n    this.items.forEach(callback)\r\n  }\r\n\r\n  /**\r\n   * Add item at the start of current collection\r\n   * @param item\r\n   * @param key {string|number}\r\n   * @returns {*}\r\n   */\r\n  prepend(item, key) {\r\n    this.items.unshift(item)\r\n    if (key) {\r\n      for (let key in this.itemIds) {\r\n        if (this.itemIds.hasOwnProperty(key)) {\r\n          this.itemIds[key] += 1\r\n        }\r\n      }\r\n      this.itemIds[key] = 0\r\n    }\r\n    return item\r\n  }\r\n\r\n  /**\r\n   * Add item at the end of current collection\r\n   * @param item\r\n   * @param key {string|number}\r\n   * @returns {*}\r\n   */\r\n  append(item, key) {\r\n    this.items.push(item)\r\n    if (key) {\r\n      this.itemIds[key] = this.items.length - 1\r\n    }\r\n    return item\r\n  }\r\n\r\n  /**\r\n   * Remove item by index from current collection\r\n   * @param index\r\n   * @returns {*}\r\n   */\r\n  removeByIndex(index) {\r\n    this.items = this.items.splice(index, 1)\r\n  }\r\n\r\n  /**\r\n   * Remove item by key [id] from current collection\r\n   * @param key {string|number}\r\n   * @returns {*}\r\n   */\r\n  removeByKey(key) {\r\n    const index = this.itemIds[key]\r\n\r\n    if (index !== undefined) {\r\n      this.items.splice(index, 1)\r\n      delete this.itemIds[key]\r\n\r\n      Object.keys(this.itemIds).forEach((key) => {\r\n        if (this.itemIds[key] > index) {\r\n          this.itemIds[key]--\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get index of item in current collection\r\n   * @param item\r\n   * @returns {number}\r\n   */\r\n  indexOf(item) {\r\n    return this.items.indexOf(item)\r\n  }\r\n\r\n  /**\r\n   * Get item by index from current collection\r\n   * @param index\r\n   * @returns {*}\r\n   */\r\n  getByIndex(index) {\r\n    return this.items[index]\r\n  }\r\n\r\n  /**\r\n   * Get item by key [id] from current collection\r\n   * @param key {string|number}\r\n   * @returns {*}\r\n   */\r\n  getByKey(key) {\r\n    return this.items[this.itemIds[key]]\r\n  }\r\n\r\n  isExist(item) {\r\n    return this.items.includes(item)\r\n  }\r\n\r\n  /**\r\n   * Check if item with such name exists in current collection\r\n   * @param key {string|number}\r\n   * @returns {boolean}\r\n   */\r\n  isExistByKey(key) {\r\n    return Boolean(this.getByKey(key))\r\n  }\r\n}\r\n\r\n\r\nexport default Collection\r\n","import constants from './constants'\r\nimport StorageFactory from './StorageFactory'\r\nimport Collection from './Collection'\r\nimport Swap, { Flow } from '../swap.swap'\r\nimport SwapAuth from '../swap.auth'\r\nimport SwapInterface from './SwapInterface'\r\nimport ServiceInterface from './ServiceInterface'\r\nimport SwapRoom from 'swap.room'\r\nimport SwapOrders from 'swap.orders'\r\nimport EventEmitter from 'events'\r\n\r\n\r\ninterface SwapAppServices {\r\n  auth?: SwapAuth,\r\n  room?: SwapRoom,\r\n  orders?: SwapOrders,\r\n}\r\n\r\ninterface SwapAppOptions {\r\n  network?: string,\r\n  env: any,\r\n  services: SwapAppServices | Array<ServiceInterface>,\r\n  swaps: Array<SwapInterface>,\r\n  flows: Array<Flow>,\r\n  whitelistBtc?: Array<string>,\r\n}\r\n\r\nclass SwapApp extends EventEmitter {\r\n  // White list BTC. Dont wait confirm\r\n  private whitelistBtc: Array<string> = [\r\n    'mzgKwRsfYLgApStDLwcN9Y6ce9qYPnTJNx', // @eneeseene testnet\r\n    'mst6jZKU973gB6Jhei4WQFg381zb86UgBQ', // @eneeseene testnet btc address\r\n    '17Hf3chwyWeNokLfuBcxEtpRYaYiU5RWBt', // swap.bot mainnet btc address\r\n  ]\r\n  private attachedSwaps: Collection = new Collection()\r\n\r\n  options: any = {}\r\n  inited: boolean = false\r\n  network: any\r\n  env: any\r\n  services: SwapAppServices = {}\r\n  swaps: Array<SwapInterface>\r\n  flows: Array<Flow>\r\n  \r\n\r\n  static _swapAppInstance = null\r\n\r\n  /**\r\n   *\r\n   * @param {object}  options\r\n   * @param {string}  options.network\r\n   * @param {object}  options.env\r\n   * @param {array}   options.services\r\n   * @param {array}   options.swaps\r\n   * @param {array}   options.flows\r\n   */\r\n  constructor(options: SwapAppOptions) {\r\n    super()\r\n    this.options = options\r\n    this.network = options.network || constants.NETWORKS.TESTNET\r\n    this.env = {}\r\n    this.services = {}\r\n\r\n    this.swaps = new Array()\r\n    this.flows = new Array()\r\n\r\n    this._addEnv(options.env || {})\r\n    this._addServices(options.services || {})\r\n\r\n    this._addSwaps(options.swaps || [])\r\n    this._addFlows(options.flows || [])\r\n\r\n    if (options.whitelistBtc) this.whitelistBtc = options.whitelistBtc\r\n\r\n    this.inited = true\r\n  }\r\n\r\n  static onInit(cb) {\r\n    const waitInit = () => {\r\n      //@ts-ignore: strictNullChecks\r\n      if (SwapApp._swapAppInstance && SwapApp._swapAppInstance.isInited()) {\r\n        cb()\r\n      } else {\r\n        setTimeout(waitInit, 100)\r\n      }\r\n    }\r\n    waitInit()\r\n  }\r\n\r\n  isInited() {\r\n    return this.inited\r\n  }\r\n\r\n  static init(options: SwapAppOptions, makeShared: boolean = false) {\r\n    if (makeShared) {\r\n      //@ts-ignore: strictNullChecks\r\n      SwapApp._swapAppInstance = new SwapApp(options)\r\n      return SwapApp._swapAppInstance\r\n    }\r\n    return new SwapApp(options)\r\n  }\r\n\r\n  setWeb3Provider(web3provider) {\r\n    if (!SwapApp._swapAppInstance) {\r\n      throw new Error(`Shared instance not initialized. Use SwapApp.setup() first.`)\r\n    }\r\n    //@ts-ignore: strictNullChecks\r\n    SwapApp._swapAppInstance.env.web3 = web3provider\r\n    //@ts-ignore: strictNullChecks\r\n    SwapApp._swapAppInstance.initFlows()\r\n  }\r\n\r\n  initFlows() {\r\n    this._addSwaps(this.options.swaps || [])\r\n    this._addFlows(this.options.flows || [])\r\n  }\r\n\r\n  static setup(options, forceFreshSetup = false) {\r\n    if (SwapApp._swapAppInstance && !forceFreshSetup) {\r\n      throw new Error(`Shared instance already initialized. Use SwapApp.shared() to access it.`)\r\n    }\r\n    //@ts-ignore: strictNullChecks\r\n    SwapApp._swapAppInstance = new SwapApp(options)\r\n  }\r\n\r\n  static shared() {\r\n    SwapApp.required(\r\n      SwapApp._swapAppInstance,\r\n      `Shared instance not initialized. Call SwapApp.setup(config) first.`\r\n    )\r\n    return SwapApp._swapAppInstance\r\n  }\r\n\r\n  attachSwap(swap: Swap): Swap {\r\n    if (!this.attachedSwaps.isExistByKey(swap.id)) {\r\n      this.attachedSwaps.append(swap, swap.id)\r\n      //@ts-ignore: strictNullChecks\r\n      return null\r\n    } else {\r\n      return this.attachedSwaps.getByKey(swap.id)\r\n    }\r\n  }\r\n\r\n  getActiveSwaps(): Swap[] {\r\n    return this.attachedSwaps.filter((swap: Swap) => {\r\n      return (swap === null)\r\n        ? false\r\n        : !swap.isFinished()\r\n    })\r\n  }\r\n\r\n  getSwapsByAddress(coin: string, address: string): Swap[] {\r\n    return this.attachedSwaps.filter((swap: Swap) => {\r\n      if (swap\r\n        && swap.participant\r\n        && swap.participant[coin.toLowerCase()]\r\n        && swap.participant[coin.toLowerCase()].address\r\n        && swap.participant[coin.toLowerCase()].address.toLowerCase() === address.toLowerCase()\r\n        && !swap.isFinished()\r\n      ) return true\r\n      return false\r\n    })\r\n  }\r\n\r\n  // Check address is whitelisted\r\n  isWhitelistBtc(address: string) {\r\n    return this.whitelistBtc.indexOf(address) !== -1\r\n  }\r\n  // Configure -------------------------------------------------------- /\r\n\r\n  _addEnv(env) {\r\n    Object.keys(env).forEach((name) => {\r\n      if (Object.values(constants.ENV).indexOf(name) < 0) {\r\n        throw new Error(`SwapApp.addEnv(): Only ${Object.values(constants.ENV)} available`)\r\n      }\r\n    })\r\n\r\n    env.storage = new StorageFactory(env.storage)\r\n\r\n    if (!env.getWeb3) {\r\n      env.getWeb3 = () => {\r\n        return this.env.web3\r\n      }\r\n    }\r\n    this.env = env\r\n  }\r\n\r\n  _addService(service) {\r\n    if (!service._serviceName) {\r\n      throw new Error('SwapApp service should contain \"_serviceName\" property')\r\n    }\r\n\r\n    if (!Object.values(constants.SERVICES).includes(service._serviceName)) {\r\n      throw new Error(\r\n        `SwapApp service should contain \"_serviceName\" property should be one of ${Object.values(\r\n          constants.SERVICES\r\n        )}, got \"${service._serviceName}\"`\r\n      )\r\n    }\r\n\r\n    service._attachSwapApp(this)\r\n    this.services[service._serviceName] = service\r\n  }\r\n\r\n  _addServices(services) {\r\n    // add service to app by _serviceName\r\n    services.forEach((service) => this._addService(service))\r\n    // spy expects\r\n    Object.keys(this.services).forEach((serviceName) =>\r\n      this.services[serviceName]._waitRelationsResolve()\r\n    )\r\n    // init services\r\n    Object.keys(this.services).forEach((serviceName) =>\r\n      this.services[serviceName]._tryInitService()\r\n    )\r\n  }\r\n\r\n  _addSwap(swap) {\r\n    if (!swap._swapName) {\r\n      throw new Error('SwapApp swap should contain \"_swapName\" property')\r\n    }\r\n\r\n    const swapKey = (swap.blockchainName) ? `{${swap.blockchainName}}${swap._swapName}` : swap._swapName\r\n\r\n    if (!Object.values(constants.COINS).includes(swapKey.toUpperCase())) {\r\n      throw new Error(\r\n        `SwapApp swap should contain \"_swapName\" property should be one of ${Object.values(\r\n          constants.COINS\r\n        )}, got \"${swap._swapName.toUpperCase()}\"`\r\n      )\r\n    }\r\n\r\n    this.swaps[swapKey] = swap\r\n\r\n    if (typeof swap._initSwap === 'function') {\r\n      swap._initSwap(this)\r\n    }\r\n  }\r\n\r\n  _addSwaps(swaps) {\r\n    swaps.forEach((swap) => {\r\n      this._addSwap(swap)\r\n    })\r\n  }\r\n\r\n  _addFlow(Flow) {\r\n    const flowName = Flow.getName()\r\n\r\n    if (flowName !== 'TurboMaker' && flowName !== 'TurboTaker') {\r\n      if (\r\n        !Object.values(constants.COINS).includes(Flow.getFromName()) ||\r\n        !Object.values(constants.COINS).includes(Flow.getToName())\r\n      ) {\r\n        throw new Error(\r\n          `SwapApp flow \"_flowName\" property should contain only: ${Object.values(\r\n            constants.COINS\r\n          )}. Got: \"${flowName.toUpperCase()}\"`\r\n        )\r\n      }\r\n    }\r\n\r\n    this.flows[flowName] = Flow\r\n  }\r\n\r\n  _addFlows(flows) {\r\n    flows.forEach((flow) => {\r\n      this._addFlow(flow)\r\n    })\r\n  }\r\n\r\n  // Public methods --------------------------------------------------- /\r\n\r\n  isMainNet() {\r\n    return this.network.toLowerCase() === constants.NETWORKS.MAINNET\r\n  }\r\n\r\n  isTestNet() {\r\n    return this.network.toLowerCase() === constants.NETWORKS.TESTNET\r\n  }\r\n\r\n  isSwapApp() {\r\n    return true\r\n  }\r\n\r\n  getEvmLikeAddress(coinType) {\r\n    return this.env.metamask && this.env.metamask.isEnabled() && this.env.metamask.isConnected()\r\n      ? this.env.metamask.getAddress()\r\n      //@ts-ignore: strictNullChecks\r\n      : this.services.auth.accounts[coinType].address\r\n  }\r\n\r\n  // @to-do use directy getEvmLikeAddress in EthLikeSwaps\r\n  getMyEthAddress() { return this.getEvmLikeAddress(`eth`) }\r\n  getMyBnbAddress() { return this.getEvmLikeAddress(`bnb`) }\r\n  getMyMaticAddress() { return this.getEvmLikeAddress(`matic`) }\r\n  getMyArbitrumAddress() { return this.getEvmLikeAddress(`arbeth`) }\r\n\r\n  getEthWeb3Adapter() {\r\n    return this.env.getWeb3().eth\r\n  }\r\n\r\n  getEthWeb3Utils() {\r\n    return this.env.getWeb3().utils\r\n  }\r\n\r\n  getBnbWeb3Adapter() {\r\n    //    -    -       \r\n    if (this.env.metamask && this.env.metamask.isEnabled() && this.env.metamask.isConnected()) {\r\n      return this.env.getWeb3().eth\r\n    }\r\n    return this.env.getWeb3Bnb().eth\r\n  }\r\n\r\n  getBnbWeb3Utils() {\r\n    return this.env.getWeb3Bnb().utils\r\n  }\r\n\r\n  getMaticWeb3Adapter() {\r\n    //    -    -       \r\n    if (this.env.metamask && this.env.metamask.isEnabled() && this.env.metamask.isConnected()) {\r\n      return this.env.getWeb3().eth\r\n    }\r\n    return this.env.getWeb3Matic().eth\r\n  }\r\n\r\n  getMaticWeb3Utils() {\r\n    return this.env.getWeb3Matic().utils\r\n  }\r\n\r\n  getArbitrumWeb3Adapter() {\r\n    if (this.env.metamask && this.env.metamask.isEnabled() && this.env.metamask.isConnected()) {\r\n      return this.env.getWeb3().eth\r\n    }\r\n    return this.env.getWeb3Arbitrum().eth\r\n  }\r\n\r\n  getArbitrumWeb3Utils() {\r\n    return this.env.getWeb3Arbitrum().utils\r\n  }\r\n\r\n  getParticipantEvmLikeAddress(coinType, swap) {\r\n    const { participant, participantMetamaskAddress } = swap\r\n    return participantMetamaskAddress ? participantMetamaskAddress : participant[coinType].address\r\n  }\r\n\r\n  // @to-do use directy getParticipantEvmLikeAddress in EthLikeSwaps\r\n  getParticipantEthAddress(swap) { return this.getParticipantEvmLikeAddress(`eth`, swap) }\r\n  getParticipantBnbAddress(swap) { return this.getParticipantEvmLikeAddress(`bnb`, swap) }\r\n  getParticipantMaticAddress(swap) { return this.getParticipantEvmLikeAddress(`matic`, swap) }\r\n  getParticipantArbitrumAddress(swap) { return this.getParticipantEvmLikeAddress(`arbeth`, swap) }\r\n\r\n\r\n  static is(app) {\r\n    return app && app.isSwapApp && app.isSwapApp() && app instanceof SwapApp\r\n  }\r\n\r\n  static required(app, errorMessage = ``) {\r\n    if (!SwapApp.is(app)) {\r\n      throw new Error(`SwapApp required, got: ${app}. ${errorMessage}`)\r\n    }\r\n  }\r\n}\r\n\r\nexport default SwapApp\r\n","import SwapApp from './SwapApp'\r\n\r\n\r\nclass ServiceInterface {\r\n\r\n  _serviceName: any\r\n  _dependsOn: any\r\n  _spyHandlers: any\r\n  app: any\r\n\r\n\r\n  // _constructor for aggregation\r\n  _constructor() {\r\n    // service name, within it will be stored in this.app.services\r\n    this._serviceName     = null\r\n    this._dependsOn       = null\r\n    this._spyHandlers     = []\r\n  }\r\n\r\n  constructor() {\r\n    this._constructor()\r\n  }\r\n\r\n  _attachSwapApp(app) {\r\n    SwapApp.required(app)\r\n\r\n    this.app = app\r\n  }\r\n\r\n  _waitRelationsResolve() {\r\n    SwapApp.required(this.app)\r\n\r\n    if (this._dependsOn && this._dependsOn.length) {\r\n      const dependsOnMap = {}\r\n\r\n      this._dependsOn.forEach((Service) => {\r\n        dependsOnMap[Service.name] = {\r\n          initialized: false,\r\n        }\r\n\r\n        this.app.services[Service.name]._addWaitRelationHandler(() => {\r\n          dependsOnMap[Service.name].initialized = true\r\n\r\n          const areAllExpectsInitialized = Object.keys(dependsOnMap).every((serviceName) => (\r\n            dependsOnMap[serviceName].initialized\r\n          ))\r\n\r\n          if (areAllExpectsInitialized) {\r\n            this.initService()\r\n          }\r\n        })\r\n      })\r\n    }\r\n  }\r\n\r\n  _addWaitRelationHandler(handler) {\r\n    this._spyHandlers.push(handler)\r\n  }\r\n\r\n  _tryInitService() {\r\n    // init service on SwapApp mounting\r\n    SwapApp.required(this.app)\r\n\r\n    if (!this._dependsOn || !this._dependsOn.length) {\r\n      this.initService()\r\n      this._spyHandlers.forEach((handler) => handler())\r\n      this._spyHandlers = []\r\n    }\r\n  }\r\n\r\n  initService() {\r\n    // init service on SwapApp mounting\r\n  }\r\n}\r\n\r\n\r\nexport default ServiceInterface\r\n","import SwapApp from 'swap.app'\r\n\r\nclass SwapInterface {\r\n\r\n  _swapName: any\r\n  accounts: any\r\n\r\n  constructor() {\r\n    // service name, within it will be stored in this.app.swaps\r\n    this._swapName = null\r\n  }\r\n\r\n  _initSwap(app) {\r\n    // init service on SwapApp mounting\r\n    SwapApp.required(app)\r\n\r\n    this.accounts = app.services.auth.accounts\r\n  }\r\n}\r\n\r\n\r\nexport default SwapInterface\r\n","import debug from 'debug'\r\n\r\n\r\nclass Event {\r\n\r\n  name: any\r\n  handlers: any[]\r\n\r\n  /**\r\n   *\r\n   * @param name {string}\r\n   */\r\n  constructor(name) {\r\n    this.name = name\r\n    this.handlers = []\r\n  }\r\n\r\n  /**\r\n   * Add handler to current Event\r\n   *\r\n   * @param handler {function}\r\n   */\r\n  addHandler(handler) {\r\n    this.handlers.push(handler.bind({\r\n      unsubscribe: () => {\r\n        this.removeHandler(handler)\r\n      },\r\n    }))\r\n  }\r\n\r\n  /**\r\n   * Remove handler from current Event\r\n   *\r\n   * @param handler {function}\r\n   * @returns {Array.<T>|*}\r\n   */\r\n  removeHandler(handler) {\r\n    const handlerIndex = this.handlers.indexOf(handler)\r\n\r\n    this.handlers.splice(handlerIndex, 1)\r\n  }\r\n\r\n  /**\r\n   * Call all handlers in all priorities of current Event\r\n   *\r\n   * @param eventArgs {...array}\r\n   */\r\n  call(...eventArgs) {\r\n    this.handlers.forEach((handler) => {\r\n      try {\r\n        handler(...eventArgs)\r\n      }\r\n      catch (err) {\r\n        console.error(err)\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nclass EventAggregator {\r\n\r\n  events: any\r\n\r\n  constructor() {\r\n    this.events = {}\r\n  }\r\n\r\n  /**\r\n   * Get Event by name\r\n   *\r\n   * @param name\r\n   * @returns {*}\r\n   */\r\n  getEvent(name) {\r\n    let event = this.events[name]\r\n\r\n    if (!event) {\r\n      event = new Event(name)\r\n      this.events[name] = event\r\n    }\r\n\r\n    return event\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param name {string}\r\n   * @param handler {function}\r\n   * @returns {{ event: *, handler: * }}\r\n   */\r\n  subscribe(name, handler) {\r\n    const event = this.getEvent(name)\r\n\r\n    event.addHandler(handler)\r\n\r\n    return { event, handler }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param eventName {string}\r\n   * @param handler {function}\r\n   */\r\n  unsubscribe(eventName, handler) {\r\n    const event = this.getEvent(eventName)\r\n\r\n    event.removeHandler(handler)\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param name {string}\r\n   * @param eventArgs {...array}\r\n   */\r\n  dispatch(name, ...eventArgs) {\r\n    const event = this.getEvent(name)\r\n\r\n    if (event) {\r\n      debug('swap.verbose:events')('dispatch event', name)\r\n      event.call(...eventArgs)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Subscribe to Event and unsubscribe after call\r\n   *\r\n   * @param eventName {string}\r\n   * @param handler {function}\r\n   * @returns {{ event: *, handlerWrapper: (function(...[*])) }}\r\n   */\r\n  once(eventName, handler) {\r\n    const event = this.getEvent(eventName)\r\n\r\n    const handlerWrapper = (...args) => {\r\n      const result = handler(...args)\r\n      if (result) {\r\n        event.removeHandler(handlerWrapper)\r\n      }\r\n    }\r\n\r\n    event.addHandler(handlerWrapper)\r\n\r\n    return { event, handlerWrapper }\r\n  }\r\n}\r\n\r\nconst events = new EventAggregator()\r\n\r\n\r\nexport default EventAggregator\r\n\r\nexport {\r\n  events,\r\n}\r\n","const pullProps = (obj, ...props) => {\r\n  const result = {}\r\n\r\n  props.forEach((propName) => {\r\n    result[propName] = obj[propName]\r\n  })\r\n\r\n  return result\r\n}\r\n\r\n\r\nexport default pullProps\r\n","/**\r\n * @param {function} action\r\n * @param {number} delay\r\n * @returns {Promise<any>}\r\n */\r\nconst repeatAsyncUntilResult = (action, delay = 10 * 1000): Promise<any> =>\r\n  new Promise(async (resolve) => {\r\n    let isStoped = false\r\n    const stop = () => {\r\n      isStoped = true\r\n    }\r\n    const iteration = async () => {\r\n      const result = await action(stop)\r\n\r\n      if (!isStoped && (!result\r\n        || result === 0\r\n        || typeof result === 'undefined'\r\n        || result === null\r\n        || result === '0x0000000000000000000000000000000000000000')\r\n      ) {\r\n        setTimeout(iteration, delay)\r\n      } else {\r\n        resolve(result)\r\n      }\r\n    }\r\n\r\n    iteration()\r\n  })\r\n\r\n/**\r\n * @param {number} inSeconds\r\n * @returns {Promise<any>}\r\n */\r\nconst waitDelay = async (inSeconds) => \r\n  new Promise(async (resolve, reject) => {\r\n    setTimeout(() => {\r\n      resolve(true)\r\n    }, inSeconds*1000)\r\n  })\r\n\r\nconst extractSecretFromContract = async ({\r\n  flow,\r\n  swapFlow,\r\n  participantAddress,\r\n  ownerAddress,\r\n  app,\r\n}) => {\r\n  try {\r\n    let secretFromContract = await swapFlow.getSecret({\r\n      participantAddress,\r\n    })\r\n\r\n    if (secretFromContract) {\r\n      const {\r\n        secretHash,\r\n      } = flow.state\r\n\r\n      const hashFromContractSecret = app.env.bitcoin.crypto.ripemd160(\r\n        Buffer.from(secretFromContract.replace(/^0x/, ''), 'hex')\r\n      ).toString('hex')\r\n\r\n      if (hashFromContractSecret !== secretHash) {\r\n        console.warn('Secret on contract dismatch with our hash. May be blockchain not updated. Try use swaps var')\r\n        const ourSwap = await swapFlow.swaps({\r\n          ownerAddress,\r\n          participantAddress,\r\n        })\r\n        if (ourSwap) {\r\n          const hashFromContractSwap = app.env.bitcoin.crypto.ripemd160(\r\n            Buffer.from(ourSwap.secret.replace(/^0x/, ''), 'hex')\r\n          ).toString('hex')\r\n\r\n          if (hashFromContractSwap !== secretHash) {\r\n            console.warn('Secret on contract dismatch with our hash. May be blockchain not updated')\r\n          } else {\r\n            console.warn('Use secret from contract swap variable. getSecret method stucked')\r\n            secretFromContract = hashFromContractSwap\r\n            return null\r\n          }\r\n        }\r\n        return null\r\n      }\r\n\r\n      secretFromContract = `0x${secretFromContract.replace(/^0x/, '')}`\r\n\r\n      return secretFromContract\r\n    } else {\r\n      return null\r\n    }\r\n  }\r\n  catch (error) {\r\n    return null\r\n  }\r\n}\r\n\r\nconst extractSecretFromTx = async ({\r\n  flow,\r\n  swapFlow,\r\n  app,\r\n  ethSwapWithdrawTransactionHash,\r\n}) => {\r\n  let secretFromTxhash = await repeatAsyncUntilResult(async () => {\r\n    const {\r\n      secret,\r\n      secretHash,\r\n    } = flow.state\r\n\r\n    \r\n    if (secret) {\r\n      return secret\r\n    } else {\r\n     \r\n      const secretFromTx = await swapFlow.getSecretFromTxhash(ethSwapWithdrawTransactionHash)\r\n\r\n      const hashFromTxSecret = app.env.bitcoin.crypto.ripemd160(\r\n        Buffer.from(secretFromTx, 'hex')\r\n      ).toString('hex')\r\n\r\n      if (hashFromTxSecret === secretHash) {\r\n        return secretFromTx\r\n      } else {\r\n        console.warn('Secret from Tx dismatch with our hash. Wait contract')\r\n        return false\r\n      }\r\n    }\r\n  })\r\n  //@ts-ignore\r\n  secretFromTxhash = `0x${secretFromTxhash.replace(/^0x/, '')}`\r\n\r\n  return secretFromTxhash\r\n}\r\n\r\n\r\nexport default {\r\n  repeatAsyncUntilResult,\r\n  waitDelay,\r\n  extractSecretFromContract,\r\n  extractSecretFromTx,\r\n}\r\n","import constants from '../constants'\r\nimport { BLOCKCHAIN as BLOCKCHAIN_TYPE, COIN_DATA, COIN_TYPE, TOKEN_STANDARD } from '../constants/COINS'\r\nimport typeforce from './typeforce'\r\n\r\nclass TokenRegistrar {\r\n  readonly blockchainType: string // BLOCKCHAIN_TYPE\r\n\r\n  readonly tokenStandard: string // TOKEN_STANDARD\r\n\r\n  readonly coinType: string // COIN_TYPE\r\n\r\n  readonly blockchainModel: string // COIN_DATA[baseCurrency].model\r\n\r\n  readonly isCoinAddress: (value: any) => boolean\r\n\r\n  readonly isPublicKey: string | ((value: any) => boolean)\r\n\r\n  constructor(params) {\r\n    const {\r\n      blockchainType,\r\n      tokenStandard,\r\n      coinType,\r\n      blockchainModel,\r\n      isCoinAddress,\r\n      isPublicKey,\r\n    } = params\r\n\r\n    this.blockchainType = blockchainType\r\n    this.tokenStandard = tokenStandard\r\n    this.coinType = coinType\r\n    this.blockchainModel = blockchainModel\r\n    this.isCoinAddress = isCoinAddress\r\n    this.isPublicKey = isPublicKey\r\n  }\r\n\r\n  register = (code, precision) => {\r\n    const tokenCode = `{${this.blockchainType}}${code}`\r\n    constants.COINS[tokenCode] = tokenCode.toUpperCase()\r\n    constants.COIN_DATA[tokenCode.toUpperCase()] = {\r\n      ticker: tokenCode.toUpperCase(),\r\n      name: code.toUpperCase(),\r\n      blockchain: this.blockchainType,\r\n      standard: this.tokenStandard,\r\n      type: this.coinType,\r\n      model: this.blockchainModel,\r\n      precision,\r\n    }\r\n    typeforce.isCoinAddress[tokenCode.toUpperCase()] = this.isCoinAddress\r\n    typeforce.isPublicKey[tokenCode.toUpperCase()] = this.isPublicKey\r\n  }\r\n}\r\n\r\nexport default {\r\n  erc20: new TokenRegistrar({\r\n    blockchainType: BLOCKCHAIN_TYPE.ETH,\r\n    tokenStandard: TOKEN_STANDARD.ERC20,\r\n    coinType: COIN_TYPE.ETH_TOKEN,\r\n    blockchainModel: COIN_DATA.ETH.model,\r\n    isCoinAddress: typeforce.isCoinAddress.ETH,\r\n    isPublicKey: typeforce.isPublicKey.ETH,\r\n  }),\r\n  bep20: new TokenRegistrar({\r\n    blockchainType: BLOCKCHAIN_TYPE.BNB,\r\n    tokenStandard: TOKEN_STANDARD.BEP20,\r\n    coinType: COIN_TYPE.BNB_TOKEN,\r\n    blockchainModel: COIN_DATA.BNB.model,\r\n    isCoinAddress: typeforce.isCoinAddress.BNB,\r\n    isPublicKey: typeforce.isPublicKey.BNB,\r\n  }),\r\n  erc20aurora: new TokenRegistrar({\r\n    blockchainType: BLOCKCHAIN_TYPE.AURETH,\r\n    tokenStandard: TOKEN_STANDARD.ERC20AURORA,\r\n    coinType: COIN_TYPE.AURORA_TOKEN,\r\n    blockchainModel: COIN_DATA.AURETH.model,\r\n    isCoinAddress: typeforce.isCoinAddress.AURETH,\r\n    isPublicKey: typeforce.isPublicKey.AURETH,\r\n  }),\r\n  erc20avax: new TokenRegistrar({\r\n    blockchainType: BLOCKCHAIN_TYPE.AVAX,\r\n    tokenStandard: TOKEN_STANDARD.ERC20AVAX,\r\n    coinType: COIN_TYPE.AVAX_TOKEN,\r\n    blockchainModel: COIN_DATA.AVAX.model,\r\n    isCoinAddress: typeforce.isCoinAddress.AVAX,\r\n    isPublicKey: typeforce.isPublicKey.AVAX,\r\n  }),\r\n  erc20ftm: new TokenRegistrar({\r\n    blockchainType: BLOCKCHAIN_TYPE.FTM,\r\n    tokenStandard: TOKEN_STANDARD.ERC20FTM,\r\n    coinType: COIN_TYPE.FTM_TOKEN,\r\n    blockchainModel: COIN_DATA.FTM.model,\r\n    isCoinAddress: typeforce.isCoinAddress.FTM,\r\n    isPublicKey: typeforce.isPublicKey.FTM,\r\n  }),\r\n  erc20matic: new TokenRegistrar({\r\n    blockchainType: BLOCKCHAIN_TYPE.MATIC,\r\n    tokenStandard: TOKEN_STANDARD.ERC20MATIC,\r\n    coinType: COIN_TYPE.MATIC_TOKEN,\r\n    blockchainModel: COIN_DATA.MATIC.model,\r\n    isCoinAddress: typeforce.isCoinAddress.MATIC,\r\n    isPublicKey: typeforce.isPublicKey.MATIC,\r\n  }),\r\n  erc20movr: new TokenRegistrar({\r\n    blockchainType: BLOCKCHAIN_TYPE.MOVR,\r\n    tokenStandard: TOKEN_STANDARD.ERC20MOVR,\r\n    coinType: COIN_TYPE.MOVR_TOKEN,\r\n    blockchainModel: COIN_DATA.MOVR.model,\r\n    isCoinAddress: typeforce.isCoinAddress.MOVR,\r\n    isPublicKey: typeforce.isPublicKey.MOVR,\r\n  }),\r\n  erc20one: new TokenRegistrar({\r\n    blockchainType: BLOCKCHAIN_TYPE.ONE,\r\n    tokenStandard: TOKEN_STANDARD.ERC20ONE,\r\n    coinType: COIN_TYPE.ONE_TOKEN,\r\n    blockchainModel: COIN_DATA.ONE.model,\r\n    isCoinAddress: typeforce.isCoinAddress.ONE,\r\n    isPublicKey: typeforce.isPublicKey.ONE,\r\n  }),\r\n  erc20ame: new TokenRegistrar({\r\n    blockchainType: BLOCKCHAIN_TYPE.AME,\r\n    tokenStandard: TOKEN_STANDARD.ERC20AME,\r\n    coinType: COIN_TYPE.AME_TOKEN,\r\n    blockchainModel: COIN_DATA.AME.model,\r\n    isCoinAddress: typeforce.isCoinAddress.AME,\r\n    isPublicKey: typeforce.isPublicKey.AME,\r\n  }),\r\n  erc20xdai: new TokenRegistrar({\r\n    blockchainType: BLOCKCHAIN_TYPE.XDAI,\r\n    tokenStandard: TOKEN_STANDARD.ERC20XDAI,\r\n    coinType: COIN_TYPE.XDAI_TOKEN,\r\n    blockchainModel: COIN_DATA.XDAI.model,\r\n    isCoinAddress: typeforce.isCoinAddress.XDAI,\r\n    isPublicKey: typeforce.isPublicKey.XDAI,\r\n  }),\r\n  phi20_v1: new TokenRegistrar({\r\n    blockchainType: BLOCKCHAIN_TYPE.PHI_V1,\r\n    tokenStandard: TOKEN_STANDARD.PHI20_V1,\r\n    coinType: COIN_TYPE.PHI_V1_TOKEN,\r\n    blockchainModel: COIN_DATA.PHI_V1.model,\r\n    isCoinAddress: typeforce.isCoinAddress.PHI_V1,\r\n    isPublicKey: typeforce.isPublicKey.PHI_V1,\r\n  }),\r\n  phi20: new TokenRegistrar({\r\n    blockchainType: BLOCKCHAIN_TYPE.PHI,\r\n    tokenStandard: TOKEN_STANDARD.PHI20,\r\n    coinType: COIN_TYPE.PHI_TOKEN,\r\n    blockchainModel: COIN_DATA.PHI.model,\r\n    isCoinAddress: typeforce.isCoinAddress.PHI,\r\n    isPublicKey: typeforce.isPublicKey.PHI,\r\n  }),\r\n  fkw20: new TokenRegistrar({\r\n    blockchainType: BLOCKCHAIN_TYPE.FKW,\r\n    tokenStandard: TOKEN_STANDARD.FKW20,\r\n    coinType: COIN_TYPE.FKW_TOKEN,\r\n    blockchainModel: COIN_DATA.FKW.model,\r\n    isCoinAddress: typeforce.isCoinAddress.FKW,\r\n    isPublicKey: typeforce.isPublicKey.FKW,\r\n  }),\r\n  phpx20: new TokenRegistrar({\r\n    blockchainType: BLOCKCHAIN_TYPE.PHPX,\r\n    tokenStandard: TOKEN_STANDARD.PHPX20,\r\n    coinType: COIN_TYPE.PHPX_TOKEN,\r\n    blockchainModel: COIN_DATA.PHPX.model,\r\n    isCoinAddress: typeforce.isCoinAddress.PHPX,\r\n    isPublicKey: typeforce.isPublicKey.PHPX,\r\n  }),\r\n}\r\n","import SwapApp from './SwapApp'\r\nimport ServiceInterface from './ServiceInterface'\r\nimport SwapInterface from './SwapInterface'\r\nimport Collection from './Collection'\r\nimport Events from './Events'\r\n\r\nimport constants from './constants'\r\nimport * as util from './util'\r\n\r\n\r\nexport default SwapApp\r\n\r\nexport {\r\n  ServiceInterface,\r\n  SwapInterface,\r\n  Collection,\r\n  Events,\r\n\r\n  constants,\r\n  util,\r\n}\r\n","import typeforce from 'typeforce'\r\nimport constants from '../constants'\r\nimport { ETH_TOKENS } from '../constants/COINS'\r\n\r\nconst check = (...args) => {\r\n  try {\r\n    return typeforce(...args)\r\n  }\r\n  catch (err) {\r\n    console.error(err)\r\n    return false\r\n  }\r\n}\r\n\r\nconst isNumeric = (value) => !isNaN(parseFloat(value)) && isFinite(value)\r\n\r\nconst isCoinName = (value) => Object.values(constants.COINS).filter(\r\n  (v: any) => (v.ticker)\r\n    ? v.ticker.toLowerCase() === value.toLowerCase()\r\n    : v.toLowerCase() === value.toLowerCase(),\r\n).length > 0\r\n\r\nconst EVM_ADDRESS_REGEXP = /^0x[A-Fa-f0-9]{40}$/\r\nconst isEvmAddress = (value) => typeof value === 'string' && EVM_ADDRESS_REGEXP.test(value)\r\n\r\nconst isCoinAddress = { // TODO: move to front helpers\r\n  [constants.COINS.eth]: isEvmAddress,\r\n  [constants.COINS.bnb]: isEvmAddress,\r\n  [constants.COINS.matic]: isEvmAddress,\r\n  [constants.COINS.arbeth]: isEvmAddress,\r\n  [constants.COINS.aureth]: isEvmAddress,\r\n  [constants.COINS.xdai]: isEvmAddress,\r\n  [constants.COINS.ftm]: isEvmAddress,\r\n  [constants.COINS.avax]: isEvmAddress,\r\n  [constants.COINS.movr]: isEvmAddress,\r\n  [constants.COINS.one]: isEvmAddress,\r\n  [constants.COINS.ame]: isEvmAddress,\r\n  [constants.COINS.phi_v1]: isEvmAddress,\r\n  [constants.COINS.phi]: isEvmAddress,\r\n  [constants.COINS.fkw]: isEvmAddress,\r\n  [constants.COINS.phpx]: isEvmAddress,\r\n  [constants.COINS.btc]: (value) => typeof value === 'string' && /^[A-Za-z0-9]{26,35}$/.test(value),\r\n  [constants.COINS.ghost]: (value) => typeof value === 'string' && /^[A-Za-z0-9]{26,35}$/.test(value),\r\n  [constants.COINS.next]: (value) => typeof value === 'string' && /^[A-Za-z0-9]{26,35}$/.test(value),\r\n  // [constants.COINS.usdt]: (value) => typeof value === 'string',\r\n}\r\n\r\nconst isPublicKey = {\r\n  [constants.COINS.eth]: '?String', // TODO we don't have / use eth publicKey\r\n  [constants.COINS.bnb]: '?String',\r\n  [constants.COINS.matic]: '?String',\r\n  [constants.COINS.arbeth]: '?String',\r\n  [constants.COINS.aureth]: '?String',\r\n  [constants.COINS.xdai]: '?String',\r\n  [constants.COINS.ftm]: '?String',\r\n  [constants.COINS.avax]: '?String',\r\n  [constants.COINS.movr]: '?String',\r\n  [constants.COINS.one]: '?String',\r\n  [constants.COINS.ame]: '?String',\r\n  [constants.COINS.phi_v1]: '?String',\r\n  [constants.COINS.phi]: '?String',\r\n  [constants.COINS.fkw]: '?String',\r\n  [constants.COINS.phpx]: '?String',\r\n  [constants.COINS.btc]: (value) => typeof value === 'string' && /^[A-Za-z0-9]{66}$/.test(value),\r\n  [constants.COINS.ghost]: (value) => typeof value === 'string' && /^[A-Za-z0-9]{66}$/.test(value),\r\n  [constants.COINS.next]: (value) => typeof value === 'string' && /^[A-Za-z0-9]{66}$/.test(value),\r\n  // [constants.COINS.usdt]: '?String', // TODO we don't have / use nim publicKey\r\n}\r\n\r\nObject.keys(ETH_TOKENS).forEach((tokenCode) => {\r\n  isCoinAddress[ETH_TOKENS[tokenCode]] = isEvmAddress\r\n  isPublicKey[ETH_TOKENS[tokenCode]] = '?String'\r\n})\r\n\r\nexport default {\r\n  t: typeforce,\r\n  check,\r\n  isNumeric,\r\n  isCoinName,\r\n  isCoinAddress,\r\n  isPublicKey,\r\n}\r\n","import SwapApp, { ServiceInterface, constants } from 'swap.app'\r\n\r\n\r\nlet _privateKeys\r\nlet _mnemonic\r\nconst getPublicDataMethods = {}\r\n\r\nclass SwapAuth extends ServiceInterface {\r\n\r\n  _serviceName: string\r\n  accounts: any\r\n\r\n  //@ts-ignore\r\n  static get name() {\r\n    return 'auth'\r\n  }\r\n\r\n  constructor(privateKeys, useMnemonic?: string) {\r\n    super()\r\n\r\n    this._serviceName         = 'auth'\r\n    this.accounts             = {}\r\n\r\n    _privateKeys = privateKeys\r\n    _mnemonic = useMnemonic\r\n  }\r\n\r\n  initService() {\r\n    const app = this.app\r\n\r\n    SwapApp.required(app)\r\n\r\n    Object.keys(_privateKeys).forEach((name) => {\r\n      if (Object.keys(constants.COINS).indexOf(name) < 0) {\r\n        let error = `SwapAuth._initService(): There is no instance with name \"${name}\".`\r\n        error += `Only [${JSON.stringify(Object.keys(constants.COINS)).replace(/\"/g, '\\'')}] available`\r\n\r\n        throw new Error(error)\r\n      }\r\n\r\n      try {\r\n        let instance = require(`./${name}`)\r\n        instance = instance.default || instance\r\n        const account = (_mnemonic)\r\n          ? instance.loginMnemonic(_mnemonic, 0, false, app)\r\n          : instance.login(_privateKeys[name], app)\r\n\r\n        this.accounts[name] = account\r\n        getPublicDataMethods[name] = () => instance.getPublicData(account, app)\r\n      }\r\n      catch (err) {\r\n        throw new Error(`SwapAuth._initService(): ${err}`)\r\n      }\r\n    })\r\n  }\r\n\r\n  getPublicData() {\r\n    const data = {\r\n      peer: this.app.services.room.peer,\r\n    }\r\n\r\n    Object.keys(getPublicDataMethods).forEach((name) => {\r\n      data[name] = getPublicDataMethods[name]()\r\n    })\r\n\r\n    return data\r\n  }\r\n}\r\n\r\n\r\nexport default SwapAuth\r\n","import SwapApp from 'swap.app'\r\nimport * as mnemonicUtils from 'common/utils/mnemonic'\r\n\r\n\r\nconst loginMnemonic = (mnemonic, walletNumber = 0, path, app) => {\r\n  const wallet = mnemonicUtils.getEthLikeWallet({ mnemonic, walletNumber, path })\r\n  return login(wallet.privateKey, app)\r\n}\r\n\r\nconst login = (_privateKey, app) => {\r\n  SwapApp.required(app)\r\n\r\n  const storageKey = `${app.network}:arbitrum:privateKey`\r\n  const privateKey = _privateKey || app.env.storage.getItem(storageKey)\r\n  let account\r\n\r\n  if (privateKey) {\r\n    account = app.env.web3Arbitrum.eth.accounts.privateKeyToAccount(privateKey)\r\n  }\r\n  else {\r\n    account = app.env.web3Arbitrum.eth.accounts.create()\r\n  }\r\n\r\n  app.env.web3Arbitrum.eth.accounts.wallet.add(account.privateKey)\r\n\r\n  if (!_privateKey) {\r\n    app.env.storage.setItem(storageKey, account.privateKey)\r\n  }\r\n\r\n  return account\r\n}\r\n\r\nconst getPublicData = (account) => ({\r\n  address: account.address,\r\n  publicKey: null,\r\n})\r\n\r\n\r\nexport default {\r\n  login,\r\n  loginMnemonic,\r\n  getPublicData,\r\n}\r\n","import SwapApp from 'swap.app'\r\nimport * as mnemonicUtils from '../../common/utils/mnemonic'\r\n\r\n\r\nconst loginMnemonic = (mnemonic, walletNumber = 0, path, app) => {\r\n  const wallet = mnemonicUtils.getEthLikeWallet({ mnemonic, walletNumber, path })\r\n  return login(wallet.privateKey, app)\r\n}\r\n\r\nconst login = (_privateKey, app) => {\r\n  SwapApp.required(app)\r\n\r\n  const storageKey = `${app.network}:bnb:privateKey`\r\n  const privateKey = _privateKey || app.env.storage.getItem(storageKey)\r\n  let account\r\n\r\n  if (privateKey) {\r\n    account = app.env.web3bnb.eth.accounts.privateKeyToAccount(privateKey)\r\n  }\r\n  else {\r\n    account = app.env.web3bnb.eth.accounts.create()\r\n  }\r\n\r\n  app.env.web3bnb.eth.accounts.wallet.add(account.privateKey)\r\n\r\n  if (!_privateKey) {\r\n    app.env.storage.setItem(storageKey, account.privateKey)\r\n  }\r\n\r\n  return account\r\n}\r\n\r\nconst getPublicData = (account) => ({\r\n  address: account.address,\r\n  publicKey: null,\r\n})\r\n\r\n\r\nexport default {\r\n  login,\r\n  loginMnemonic,\r\n  getPublicData,\r\n}\r\n","import SwapApp from 'swap.app'\r\nimport * as mnemonicUtils from '../../common/utils/mnemonic'\r\n\r\n\r\nconst loginMnemonic = (mnemonic, walletNumber=0, path, app) => {\r\n  const network = (\r\n    app.isMainNet()\r\n      ? app.env.bitcoin.networks.bitcoin\r\n      : app.env.bitcoin.networks.testnet\r\n  )\r\n\r\n  const wallet = mnemonicUtils.getBtcWallet(network, mnemonic, walletNumber, path)\r\n\r\n  return login(wallet.WIF, app)\r\n}\r\n\r\nconst login = (_privateKey, app) => {\r\n  SwapApp.required(app)\r\n\r\n  const storageKey = `${app.network}:btc:privateKey`\r\n  let privateKey = _privateKey || app.env.storage.getItem(storageKey)\r\n\r\n  let account\r\n\r\n  const network = (\r\n    app.isMainNet()\r\n      ? app.env.bitcoin.networks.bitcoin\r\n      : app.env.bitcoin.networks.testnet\r\n  )\r\n\r\n  if (!privateKey) {\r\n    privateKey = app.env.bitcoin.ECPair.makeRandom({ network }).toWIF()\r\n  }\r\n\r\n  account = new app.env.bitcoin.ECPair.fromWIF(privateKey, network)\r\n\r\n  const { address } = app.env.bitcoin.payments.p2pkh({ pubkey: account.publicKey, network })\r\n  const { publicKey } = account\r\n\r\n  account.getPublicKey = () => publicKey.toString('hex')\r\n  account.getPublicKeyBuffer = () => publicKey\r\n  account.getPrivateKey = () => privateKey\r\n  account.getAddress = () => address\r\n\r\n  if (!_privateKey) {\r\n    app.env.storage.setItem(storageKey, privateKey)\r\n  }\r\n\r\n  return account\r\n}\r\n\r\n\r\nconst getPublicData = (account) => ({\r\n  address: account.getAddress(),\r\n  publicKey: account.getPublicKey(),\r\n})\r\n\r\n\r\nexport default {\r\n  login,\r\n  loginMnemonic,\r\n  getPublicData,\r\n}\r\n","import SwapApp from 'swap.app'\r\nimport * as mnemonicUtils from '../../common/utils/mnemonic'\r\n\r\n\r\nconst loginMnemonic = (mnemonic, walletNumber = 0, path, app) => {\r\n  const wallet = mnemonicUtils.getEthLikeWallet({ mnemonic, walletNumber, path })\r\n  return login(wallet.privateKey, app)\r\n}\r\n\r\nconst login = (_privateKey, app) => {\r\n  SwapApp.required(app)\r\n\r\n  const storageKey = `${app.network}:eth:privateKey`\r\n  const privateKey = _privateKey || app.env.storage.getItem(storageKey)\r\n  let account\r\n\r\n  if (privateKey) {\r\n    account = app.env.web3.eth.accounts.privateKeyToAccount(privateKey)\r\n  }\r\n  else {\r\n    account = app.env.web3.eth.accounts.create()\r\n  }\r\n\r\n  app.env.web3.eth.accounts.wallet.add(account.privateKey)\r\n\r\n  if (!_privateKey) {\r\n    app.env.storage.setItem(storageKey, account.privateKey)\r\n  }\r\n\r\n  return account\r\n}\r\n\r\nconst getPublicData = (account) => ({\r\n  address: account.address,\r\n  publicKey: null,\r\n})\r\n\r\n\r\nexport default {\r\n  login,\r\n  loginMnemonic,\r\n  getPublicData,\r\n}\r\n","import SwapApp from 'swap.app'\r\nimport * as mnemonicUtils from '../../common/utils/mnemonic'\r\n\r\nconst loginMnemonic = (mnemonic, walletNumber=0, path, app) => {\r\n  const network = (\r\n    app.isMainNet()\r\n      ? app.env.coininfo.ghost.main\r\n      : app.env.coininfo.ghost.test\r\n  )\r\n\r\n  const wallet = mnemonicUtils.getGhostWallet(network, mnemonic, walletNumber, path)\r\n  return login(wallet.WIF, app)\r\n}\r\n\r\nconst login = (_privateKey, app) => {\r\n  SwapApp.required(app)\r\n\r\n  const storageKey = `${app.network}:ghost:privateKey`\r\n  let privateKey = _privateKey || app.env.storage.getItem(storageKey)\r\n  let account\r\n\r\n  const network = (\r\n    app.isMainNet()\r\n      ? app.env.coininfo.ghost.main\r\n      : app.env.coininfo.ghost.test\r\n  )\r\n\r\n  if (!privateKey) {\r\n    privateKey = app.env.bitcoin.ECPair.makeRandom({ network }).toWIF()\r\n  }\r\n\r\n  account = new app.env.bitcoin.ECPair.fromWIF(privateKey, network)\r\n\r\n  const { address } = app.env.bitcoin.payments.p2pkh({ pubkey: account.publicKey, network })\r\n  const { publicKey } = account\r\n\r\n  account.getPublicKey = () => publicKey.toString('hex')\r\n  account.getPublicKeyBuffer = () => publicKey\r\n  account.getPrivateKey = () => privateKey\r\n  account.getAddress = () => address\r\n\r\n  if (!_privateKey) {\r\n    app.env.storage.setItem(storageKey, privateKey)\r\n  }\r\n\r\n  return account\r\n}\r\n\r\nconst getPublicData = (account) => ({\r\n  address: account.getAddress(),\r\n  publicKey: account.getPublicKey(),\r\n})\r\n\r\n\r\nexport default {\r\n  login,\r\n  loginMnemonic,\r\n  getPublicData,\r\n}\r\n","import SwapAuth from './SwapAuth'\r\n\r\n\r\nexport default SwapAuth\r\n","import SwapApp from 'swap.app'\r\nimport * as mnemonicUtils from 'common/utils/mnemonic'\r\n\r\n\r\nconst loginMnemonic = (mnemonic, walletNumber = 0, path, app) => {\r\n  const wallet = mnemonicUtils.getEthLikeWallet({ mnemonic, walletNumber, path })\r\n  return login(wallet.privateKey, app)\r\n}\r\n\r\nconst login = (_privateKey, app) => {\r\n  SwapApp.required(app)\r\n\r\n  const storageKey = `${app.network}:matic:privateKey`\r\n  const privateKey = _privateKey || app.env.storage.getItem(storageKey)\r\n  let account\r\n\r\n  if (privateKey) {\r\n    account = app.env.web3Matic.eth.accounts.privateKeyToAccount(privateKey)\r\n  }\r\n  else {\r\n    account = app.env.web3Matic.eth.accounts.create()\r\n  }\r\n\r\n  app.env.web3Matic.eth.accounts.wallet.add(account.privateKey)\r\n\r\n  if (!_privateKey) {\r\n    app.env.storage.setItem(storageKey, account.privateKey)\r\n  }\r\n\r\n  return account\r\n}\r\n\r\nconst getPublicData = (account) => ({\r\n  address: account.address,\r\n  publicKey: null,\r\n})\r\n\r\n\r\nexport default {\r\n  login,\r\n  loginMnemonic,\r\n  getPublicData,\r\n}\r\n","import SwapApp from 'swap.app'\r\nimport * as mnemonicUtils from '../../common/utils/mnemonic'\r\n\r\n\r\nconst loginMnemonic = (mnemonic, walletNumber=0, path, app) => {\r\n  const network = (\r\n    app.isMainNet()\r\n      ? app.env.coininfo.next.main\r\n      : app.env.coininfo.next.test\r\n  )\r\n\r\n  const wallet = mnemonicUtils.getNextWallet(network, mnemonic, walletNumber, path)\r\n  return login(wallet.WIF, app)\r\n}\r\n\r\nconst login = (_privateKey, app) => {\r\n  SwapApp.required(app)\r\n\r\n  const storageKey = `${app.network}:next:privateKey`\r\n  let privateKey = _privateKey || app.env.storage.getItem(storageKey)\r\n\r\n  let account\r\n\r\n  const network = (\r\n    app.isMainNet()\r\n      ? app.env.coininfo.next.main\r\n      : app.env.coininfo.next.test\r\n  )\r\n\r\n  if (!privateKey) {\r\n    privateKey = app.env.bitcoin.ECPair.makeRandom({ network }).toWIF()\r\n  }\r\n\r\n  account = new app.env.bitcoin.ECPair.fromWIF(privateKey, network)\r\n\r\n  const { address } = app.env.bitcoin.payments.p2pkh({\r\n    pubkey: account.publicKey,\r\n    network\r\n  })\r\n\r\n  const { publicKey } = account\r\n\r\n  account.getPublicKey = () => publicKey.toString('hex')\r\n  account.getPublicKeyBuffer = () => publicKey\r\n  account.getPrivateKey = () => privateKey\r\n  account.getAddress = () => address\r\n\r\n  if (!_privateKey) {\r\n    app.env.storage.setItem(storageKey, privateKey)\r\n  }\r\n\r\n  return account\r\n}\r\n\r\n\r\nconst getPublicData = (account) => ({\r\n  address: account.getAddress(),\r\n  publicKey: account.getPublicKey(),\r\n})\r\n\r\n\r\nexport default {\r\n  login,\r\n  loginMnemonic,\r\n  getPublicData,\r\n}\r\n","export const initialState = {}\r\n\r\nexport const show = (state, { name, data = {} }) => ({\r\n  ...state,\r\n  [name]: {\r\n    name,\r\n    data,\r\n  },\r\n})\r\n\r\nexport const hide = (state, name) => {\r\n  const { [name]: closingNotification, ...otherNotifications } = state\r\n  return otherNotifications\r\n}\r\n","// this is necessary to arrange the modals in the opening order, not alphabetical\r\nlet zIndex = 305\r\n\r\nexport const initialState = {}\r\n\r\nexport const open = (state, { name, data = {} }) => ({\r\n  ...state,\r\n  [name]: {\r\n    name,\r\n    data,\r\n    zIndex: ++zIndex,\r\n  },\r\n})\r\n\r\nexport const closeAll = (state) => ({})\r\n\r\nexport const close = (state, name) => {\r\n  const { [name]: closingModal, ...otherModals } = state\r\n\r\n  // zIndex -= 1\r\n\r\n  return otherModals\r\n}\r\n","export const initialState = {\r\n  transactions: null,\r\n  filter: 'all',\r\n  swapHistory: {},\r\n}\r\n\r\nexport const setFilter = (state, payload) => ({\r\n  ...state,\r\n  filter: payload,\r\n})\r\n\r\nexport const setTransactions = (state, payload) => ({\r\n  ...state,\r\n  transactions: [\r\n    ...payload,\r\n  ],\r\n})\r\n\r\nexport const setSwapHistory = (state, payload) => ({\r\n  ...state,\r\n  swapHistory: payload,\r\n})\r\n","export const initialState = {\r\n  isVisible: false,\r\n  data: {},\r\n}\r\n\r\nexport const setVisibility = (state, { isVisible, data }) => ({\r\n  ...state,\r\n  isVisible,\r\n  data,\r\n})\r\n","export const initialState = {\r\n  ghostData: {\r\n    balance: 0,\r\n    isBalanceFetched: false,\r\n    currency: 'GHOST',\r\n    fullName: 'ghost',\r\n    balanceError: null,\r\n    infoAboutCurrency: null,\r\n  },\r\n  nextData: {\r\n    balance: 0,\r\n    isBalanceFetched: false,\r\n    currency: 'NEXT',\r\n    fullName: 'next',\r\n    balanceError: null,\r\n    infoAboutCurrency: null,\r\n  },\r\n  ethData: {\r\n    balance: 0,\r\n    isBalanceFetched: false,\r\n    currency: 'ETH',\r\n    fullName: 'Ethereum',\r\n    balanceError: null,\r\n    infoAboutCurrency: null,\r\n  },\r\n  bnbData: {\r\n    balance: 0,\r\n    isBalanceFetched: false,\r\n    currency: 'BNB',\r\n    fullName: 'Binance Coin',\r\n    balanceError: null,\r\n    infoAboutCurrency: null,\r\n  },\r\n  maticData: {\r\n    balance: 0,\r\n    isBalanceFetched: false,\r\n    currency: 'MATIC',\r\n    fullName: 'MATIC Token',\r\n    balanceError: null,\r\n    infoAboutCurrency: null,\r\n  },\r\n  arbethData: {\r\n    balance: 0,\r\n    isBalanceFetched: false,\r\n    currency: 'ARBETH',\r\n    fullName: 'Arbitrum ETH',\r\n    balanceError: null,\r\n    infoAboutCurrency: null,\r\n  },\r\n  aurethData: {\r\n    balance: 0,\r\n    isBalanceFetched: false,\r\n    currency: 'AURETH',\r\n    fullName: 'Aurora ETH',\r\n    balanceError: null,\r\n    infoAboutCurrency: null,\r\n  },\r\n  xdaiData: {\r\n    balance: 0,\r\n    isBalanceFetched: false,\r\n    currency: 'XDAI',\r\n    fullName: 'xDai',\r\n    balanceError: null,\r\n    infoAboutCurrency: null,\r\n  },\r\n  ftmData: {\r\n    balance: 0,\r\n    isBalanceFetched: false,\r\n    currency: 'FTM',\r\n    fullName: 'Fantom',\r\n    balanceError: null,\r\n    infoAboutCurrency: null,\r\n  },\r\n  avaxData: {\r\n    balance: 0,\r\n    isBalanceFetched: false,\r\n    currency: 'AVAX',\r\n    fullName: 'Avalanche',\r\n    balanceError: null,\r\n    infoAboutCurrency: null,\r\n  },\r\n  movrData: {\r\n    balance: 0,\r\n    isBalanceFetched: false,\r\n    currency: 'MOVR',\r\n    fullName: 'Moonriver',\r\n    balanceError: null,\r\n    infoAboutCurrency: null,\r\n  },\r\n  oneData: {\r\n    balance: 0,\r\n    isBalanceFetched: false,\r\n    currency: 'ONE',\r\n    fullName: 'Harmony One',\r\n    balanceError: null,\r\n    infoAboutCurrency: null,\r\n  },\r\n  phi_v1Data: {\r\n    balance: 0,\r\n    isBalanceFetched: false,\r\n    currency: 'PHI_V1',\r\n    fullName: 'PHI_V1',\r\n    balanceError: null,\r\n    infoAboutCurrency: null,\r\n  },\r\n  phiData: {\r\n    balance: 0,\r\n    isBalanceFetched: false,\r\n    currency: 'PHI',\r\n    fullName: 'PHI',\r\n    balanceError: null,\r\n    infoAboutCurrency: null,\r\n  },\r\n  fkwData: {\r\n    balance: 0,\r\n    isBalanceFetched: false,\r\n    currency: 'FKW',\r\n    fullName: 'FKW',\r\n    balanceError: null,\r\n    infoAboutCurrency: null,\r\n  },\r\n  phpxData: {\r\n    balance: 0,\r\n    isBalanceFetched: false,\r\n    currency: 'PHPX',\r\n    fullName: 'PHPX',\r\n    balanceError: null,\r\n    infoAboutCurrency: null,\r\n  },\r\n  ameData: {\r\n    balance: 0,\r\n    isBalanceFetched: false,\r\n    currency: 'AME',\r\n    fullName: 'AME',\r\n    balanceError: null,\r\n    infoAboutCurrency: null,\r\n  },\r\n  btcData: {\r\n    balance: 0,\r\n    isBalanceFetched: false,\r\n    currency: 'BTC',\r\n    fullName: 'Bitcoin',\r\n    balanceError: null,\r\n    infoAboutCurrency: null,\r\n  },\r\n  btcMultisigSMSData: {\r\n    balance: 0,\r\n    isBalanceFetched: false,\r\n    currency: 'BTC (SMS-Protected)',\r\n    fullName: 'Bitcoin (SMS)',\r\n    balanceError: null,\r\n    infoAboutCurrency: null,\r\n  },\r\n  btcMultisigPinData: {\r\n    balance: 0,\r\n    isBalanceFetched: false,\r\n    currency: 'BTC (PIN-Protected)',\r\n    fullName: 'Bitcoin (PIN)',\r\n    balanceError: null,\r\n    infoAboutCurrency: null,\r\n  },\r\n  btcMultisigG2FAData: {\r\n    balance: 0,\r\n    isBalanceFetched: false,\r\n    currency: 'BTC (Google 2FA)',\r\n    fullName: 'Bitcoin (Google 2FA)',\r\n    balanceError: null,\r\n    infoAboutCurrency: null,\r\n  },\r\n  btcMultisigUserData: {\r\n    balance: 0,\r\n    isBalanceFetched: false,\r\n    currency: 'BTC (Multisig)',\r\n    fullName: 'Bitcoin (Multisig)',\r\n    balanceError: null,\r\n    infoAboutCurrency: null,\r\n  },\r\n  /*\r\n  usdtData: {\r\n    address: '0x0', // ? for what\r\n    publicKey: '0x0', // ?\r\n    balance: 0,\r\n    isBalanceFetched: false,\r\n    currency: 'USDT',\r\n    fullName: 'Tether',\r\n    balanceError: null,\r\n  },\r\n  */\r\n  tokensData: {},\r\n  isFetching: false,\r\n  isBalanceFetching: false,\r\n  isTokenSigned: false,\r\n  activeFiat: window.DEFAULT_FIAT || 'USD',\r\n  activeCurrency: 'BTC',\r\n  multisigStatus: {},\r\n  multisigPendingCount: 0,\r\n  metamaskData: false,\r\n}\r\n\r\nexport const updateMultisigStatus = (state, { address, last, total }) => {\r\n  let totalPending = 0\r\n  if (state.multisigStatus) {\r\n    Object.keys(state.multisigStatus).map((savedAddress) => {\r\n      if (address !== savedAddress) totalPending += state.multisigStatus[savedAddress].count\r\n    })\r\n  }\r\n\r\n  totalPending += total\r\n\r\n  return {\r\n    ...state,\r\n    multisigPendingCount: totalPending,\r\n    multisigStatus: {\r\n      ...(state.multisigStatus ? state.multisigStatus : {}),\r\n      [address] : {\r\n        address,\r\n        pending: last,\r\n        count: total,\r\n      },\r\n    },\r\n  }\r\n}\r\n\r\nexport const addWallet = (state, { name, data }) => ({\r\n  ...state,\r\n  [name]: {\r\n    ...data,\r\n  },\r\n})\r\n\r\nexport const setAuthData = (state, { name, data }) => ({\r\n  ...state,\r\n  [name]: {\r\n    ...state[name],\r\n    ...data,\r\n  },\r\n})\r\n\r\nexport const setTokenSigned = (state, booleanValue) => ({\r\n  ...state,\r\n  isTokenSigned: booleanValue,\r\n})\r\n\r\nexport const setTokenAuthData = (state, { name, baseCurrency, data }) => {\r\n  const tokenKey = `{${baseCurrency}}${name}`\r\n\r\n  return {\r\n    ...state,\r\n    tokensData: {\r\n      ...state.tokensData,\r\n      [tokenKey]: {\r\n        ...state.tokensData[tokenKey],\r\n        ...data,\r\n      },\r\n    },\r\n  }\r\n}\r\n\r\nexport const setBtcMultisigBalance = (state, { address, amount, unconfirmedBalance }) => {\r\n  state.btcMultisigUserData.wallets.forEach((wallet) => {\r\n    if (wallet.address === address) {\r\n      wallet.balance = Number(amount)\r\n      wallet.unconfirmedBalance = unconfirmedBalance\r\n      wallet.isBalanceFetched = true\r\n      wallet.balanceError = false\r\n    }\r\n  })\r\n  return {\r\n    ...state,\r\n  }\r\n}\r\n\r\nexport const setBalance = (state, { name, amount, unconfirmedBalance }) => ({\r\n  ...state,\r\n  [name]: {\r\n    ...state[name],\r\n    balance: Number(amount),\r\n    unconfirmedBalance,\r\n    isBalanceFetched: true,\r\n    balanceError: false,\r\n  },\r\n})\r\n\r\nexport const setInfoAboutToken = (state, { name, baseCurrency, infoAboutCurrency }) => {\r\n  const tokenKey = `{${baseCurrency}}${name}`\r\n\r\n  return {\r\n    ...state,\r\n    tokensData: {\r\n      ...state.tokensData,\r\n      [tokenKey]: {\r\n        ...state.tokensData[tokenKey],\r\n        infoAboutCurrency,\r\n      },\r\n    },\r\n  }\r\n}\r\n\r\nexport const setInfoAboutCurrency = (state, { name, infoAboutCurrency }) => ({\r\n  ...state,\r\n  [name]: {\r\n    ...state[name],\r\n    infoAboutCurrency,\r\n  },\r\n})\r\n\r\nexport const setBalanceError = (state, { name }) => ({\r\n  ...state,\r\n  [name]: {\r\n    ...state[name],\r\n    balanceError: true,\r\n  },\r\n})\r\n\r\nexport const setTokenBalanceError = (state, { name, baseCurrency }) => {\r\n  const tokenKey = `{${baseCurrency}}${name}`\r\n\r\n  return {\r\n    ...state,\r\n    tokensData: {\r\n      ...state.tokensData,\r\n      [tokenKey]: {\r\n        ...state.tokensData[tokenKey],\r\n        balanceError: true,\r\n      },\r\n    },\r\n  }\r\n}\r\n\r\nexport const setTokenBalance = (state, { name, baseCurrency, amount }) => {\r\n  const tokenKey = `{${baseCurrency}}${name}`\r\n\r\n  return {\r\n    ...state,\r\n    tokensData: {\r\n      ...state.tokensData,\r\n      [tokenKey]: {\r\n        ...state.tokensData[tokenKey],\r\n        balance: Number(amount),\r\n        isBalanceFetched: true,\r\n        balanceError: false,\r\n      },\r\n    },\r\n  }\r\n}\r\n\r\nexport const setIsBalanceFetching = (state, { isBalanceFetching }) => ({\r\n  ...state,\r\n  isBalanceFetching,\r\n})\r\n\r\nexport const setIsFetching = (state, { isFetching }) => ({\r\n  ...state,\r\n  isFetching,\r\n})\r\n\r\nexport const setActiveCurrency = (state, { activeCurrency }) => ({ ...state, activeCurrency })\r\n\r\nexport const setActiveFiat = (state, { activeFiat }) => ({ ...state, activeFiat })\r\n","export const initialState = {\r\n  items:[],\r\n}\r\n\r\n\r\nexport const addItems = (state, payload) => ({\r\n  ...state,\r\n  items:[\r\n    ...payload,\r\n  ],\r\n})\r\n\r\nexport const deleteItems = (state, payload) => ({\r\n  ...state,\r\n  items: payload,\r\n})\r\n","// resolve object in webpack\r\nexport default __CONFIG__\r\n","import config from 'app-config'\r\n\r\n\r\nexport const initialState = {\r\n  orders: [],\r\n  filter: 'btc-swap',\r\n  hiddenCoinsList: JSON.parse(localStorage.getItem('hiddenCoinsList') || '\"\"') || config.hiddenCoins,\r\n}\r\n\r\nexport const getOrders = (state, { orders }) => ({\r\n  ...state,\r\n  orders,\r\n})\r\n\r\nexport const setFilter = (state, { filter }) => ({\r\n  ...state,\r\n  orders: [\r\n    ...state.orders,\r\n  ],\r\n  filter,\r\n})\r\n\r\nexport const markCoinAsHidden = (state, coin) => ({\r\n  ...state,\r\n  hiddenCoinsList: [\r\n    ...state.hiddenCoinsList,\r\n    coin,\r\n  ],\r\n})\r\n\r\nexport const markCoinAsVisible = (state, coin) => ({\r\n  ...state,\r\n  hiddenCoinsList: state.hiddenCoinsList.filter(c => c !== coin),\r\n})\r\n","import config from 'app-config'\r\n\r\n\r\nexport const initialState = {\r\n  isOnline: false,\r\n  isAllPeersLoaded: false,\r\n  onlineUsers: 0,\r\n  serverAddress: config.pubsubRoom.server,\r\n  peer: '',\r\n  reputation: 0,\r\n}\r\n\r\nexport const set = (state, payload) => ({\r\n  ...state,\r\n  ...payload,\r\n})\r\n\r\n/**\r\n *  \"   \".\r\n */\r\nexport const userJoined = state => ({\r\n  ...state,\r\n  onlineUsers: state.onlineUsers + 1,\r\n})\r\n\r\n/**\r\n *  \"   \".\r\n */\r\nexport const userLeft = state => ({\r\n  ...state,\r\n  onlineUsers: state.onlineUsers - 1,\r\n})\r\n\r\n/**\r\n *  \"  \".\r\n */\r\nexport const allPeersLoaded = state => ({\r\n  ...state,\r\n  isAllPeersLoaded: true,\r\n})\r\n","import config from 'app-config'\r\n\r\n\r\nexport const initialState = {\r\n  servers: config.api,\r\n  checked: false,\r\n  errors: null,\r\n}\r\n\r\nexport const setChecked = (state, checked) => ({\r\n  ...state,\r\n  checked,\r\n})\r\n\r\nexport const setErrors = (state, errors) => ({\r\n  ...state,\r\n  errors,\r\n  checked: true,\r\n})\r\n\r\nexport const setApiServer = (state, { provider, server }) => ({\r\n  ...state,\r\n  servers: {\r\n    ...state.servers,\r\n    [provider]: server,\r\n  },\r\n})\r\n","import config from 'app-config'\r\n\r\nexport type TokenStandard = {\r\n  platform: string\r\n  platformKey: string // CoinGecko platform key\r\n  standard: string\r\n  value: string\r\n  currency: string\r\n  explorerApi: string\r\n  explorerApiKey: string\r\n  hasSupportAtomicSwap: boolean\r\n}\r\n\r\nconst STANDARDS = {\r\n  erc20: {\r\n    platform: 'ethereum',\r\n    platformKey: 'ethereum',\r\n    standard: 'erc20',\r\n    value: 'erc20',\r\n    currency: 'eth',\r\n    explorerApi: config.api.etherscan,\r\n    explorerApiKey: config.api.etherscan_ApiKey,\r\n    hasSupportAtomicSwap: true,\r\n  },\r\n  bep20: {\r\n    platform: 'binance smart chain',\r\n    platformKey: 'binance-smart-chain',\r\n    standard: 'bep20',\r\n    value: 'bep20',\r\n    currency: 'bnb',\r\n    explorerApi: config.api.bscscan,\r\n    explorerApiKey: config.api.bscscan_ApiKey,\r\n    hasSupportAtomicSwap: true,\r\n  },\r\n  erc20matic: {\r\n    platform: 'ethereum',\r\n    platformKey: 'polygon-pos',\r\n    standard: 'erc20matic',\r\n    value: 'erc20matic',\r\n    currency: 'matic',\r\n    explorerApi: config.api.maticscan,\r\n    explorerApiKey: config.api.polygon_ApiKey,\r\n    hasSupportAtomicSwap: true,\r\n  },\r\n  erc20xdai: {\r\n    platform: 'ethereum',\r\n    platformKey: 'xdai',\r\n    standard: 'erc20xdai',\r\n    value: 'erc20xdai',\r\n    currency: 'xdai',\r\n    explorerApi: '',\r\n    explorerApiKey: '',\r\n    hasSupportAtomicSwap: false,\r\n  },\r\n  erc20ftm: {\r\n    platform: 'ethereum',\r\n    platformKey: 'fantom',\r\n    standard: 'erc20ftm',\r\n    value: 'erc20ftm',\r\n    currency: 'ftm',\r\n    explorerApi: config.api.ftmscan,\r\n    explorerApiKey: config.api.ftm_ApiKey,\r\n    hasSupportAtomicSwap: false,\r\n  },\r\n  erc20avax: {\r\n    platform: 'ethereum',\r\n    platformKey: 'avalanche',\r\n    standard: 'erc20avax',\r\n    value: 'erc20avax',\r\n    currency: 'avax',\r\n    explorerApi: config.api.avaxscan,\r\n    explorerApiKey: config.api.avax_ApiKey,\r\n    hasSupportAtomicSwap: false,\r\n  },\r\n  erc20movr: {\r\n    platform: 'ethereum',\r\n    platformKey: 'moonriver',\r\n    standard: 'erc20movr',\r\n    value: 'erc20movr',\r\n    currency: 'movr',\r\n    explorerApi: config.api.movrscan,\r\n    explorerApiKey: config.api.movr_ApiKey,\r\n    hasSupportAtomicSwap: false,\r\n  },\r\n  erc20one: {\r\n    platform: 'ethereum',\r\n    platformKey: 'harmony-shard-0',\r\n    standard: 'erc20one',\r\n    value: 'erc20one',\r\n    currency: 'one',\r\n    explorerApi: config.api.onescan,\r\n    explorerApiKey: config.api.one_ApiKey,\r\n    hasSupportAtomicSwap: false,\r\n  },\r\n  erc20ame: {\r\n    platform: 'ethereum',\r\n    platformKey: '',\r\n    standard: 'erc20ame',\r\n    value: 'erc20ame',\r\n    currency: 'ame',\r\n    explorerApi: config.api.amescan,\r\n    explorerApiKey: config.api.ame_ApiKey,\r\n    hasSupportAtomicSwap: false,\r\n  },\r\n  erc20aurora: {\r\n    platform: 'ethereum',\r\n    platformKey: 'aurora',\r\n    standard: 'erc20aurora',\r\n    value: 'erc20aurora',\r\n    currency: 'aureth',\r\n    explorerApi: config.api.aurorascan,\r\n    explorerApiKey: config.api.aurora_ApiKey,\r\n    hasSupportAtomicSwap: false,\r\n  },\r\n  phi20_v1: {\r\n    platform: '',\r\n    platformKey: '',\r\n    standard: 'phi20_v1',\r\n    value: 'phi20_v1',\r\n    currency: 'phi_v1',\r\n    explorerApi: config.api?.aurorascan || '', // ???\r\n    explorerApiKey: config.api?.phi_ApiKey || '', // ???\r\n    hasSupportAtomicSwap: false,\r\n  },\r\n  phi20: {\r\n    platform: '',\r\n    platformKey: '',\r\n    standard: 'phi20',\r\n    value: 'phi20',\r\n    currency: 'phi',\r\n    explorerApi: config.api?.aurorascan || '', // ???\r\n    explorerApiKey: config.api?.phi_ApiKey || '', // ???\r\n    hasSupportAtomicSwap: false,\r\n  },\r\n  fkw20: {\r\n    platform: '',\r\n    platformKey: '',\r\n    standard: 'fkw20',\r\n    value: 'fkw20',\r\n    currency: 'fkw',\r\n    explorerApi: config.api?.fkwscan || '', // ???\r\n    explorerApiKey: config.api?.fkwscan_api || '', // ???\r\n    hasSupportAtomicSwap: false,\r\n  },\r\n  phpx20: {\r\n    platform: '',\r\n    platformKey: '',\r\n    standard: 'phpx20',\r\n    value: 'phpx20',\r\n    currency: 'phpx',\r\n    explorerApi: config.api?.phpxscan || '', // ???\r\n    explorerApiKey: config.api?.phpxscan_api || '', // ???\r\n    hasSupportAtomicSwap: false,\r\n  },\r\n}\r\n\r\nexport const EXISTING_STANDARDS = Object.values(STANDARDS)\r\n  .filter(({ standard }) => !!config[standard])\r\n  .map(({ standard }) => standard.toLowerCase())\r\n\r\nexport default STANDARDS\r\n","import config from 'app-config'\r\nimport TOKEN_STANDARDS, { EXISTING_STANDARDS } from 'helpers/constants/TOKEN_STANDARDS'\r\nimport { BLOCKCHAIN as BLOCKCHAIN_TYPE } from 'swap.app/constants/COINS'\r\n\r\nconst getCustomTokenConfig = () => {\r\n  let tokensInfo = JSON.parse(localStorage.getItem('customToken') || 'false')\r\n\r\n  if (!tokensInfo || !tokensInfo[config.entry]) return {}\r\n\r\n  return tokensInfo[config.entry]\r\n}\r\n\r\ninterface BuildOptions {\r\n  curEnabled: false | Record<string, boolean>,\r\n  blockchainSwapEnabled: false | Record<string, boolean>,\r\n  ownTokens: boolean,\r\n  addCustomTokens: boolean,\r\n  invoiceEnabled: boolean,\r\n}\r\n\r\nlet buildOpts: BuildOptions = {\r\n  curEnabled: false,\r\n  blockchainSwapEnabled: false,\r\n  ownTokens: false,\r\n  addCustomTokens: true,\r\n  invoiceEnabled: true,\r\n}\r\n\r\nif (window\r\n  && window.buildOptions\r\n  && Object.keys(window.buildOptions)\r\n  && Object.keys(window.buildOptions).length\r\n) {\r\n  buildOpts = { ...buildOpts, ...window.buildOptions }\r\n}\r\n\r\nif (window?.widgetEvmLikeTokens?.length) {\r\n  buildOpts.ownTokens = window.widgetEvmLikeTokens\r\n}\r\n\r\nif (Array.isArray(buildOpts.ownTokens) && buildOpts.ownTokens.length) {\r\n  // ? we can't use here as whole string {#WIDGETTOKENCODE#} ?\r\n  const wcPb = `{#`\r\n  const wcP = (`WIDGETTOKENCODE`).toUpperCase()\r\n  const wcPe = `#}`\r\n\r\n  EXISTING_STANDARDS.forEach((standard) => {\r\n    config[standard] = {}\r\n  })\r\n\r\n  buildOpts.ownTokens.forEach((token) => {\r\n    const symbol = token.name.toLowerCase()\r\n    const standard = token.standard.toLowerCase()\r\n\r\n    if (symbol.toUpperCase() !== (`${wcPb}${wcP}${wcPe}`)) {\r\n      config[standard][symbol] = token\r\n    }\r\n  })\r\n}\r\n\r\nconst tokenItems: IUniversalObj[] = []\r\nconst tokenPartialItems: IUniversalObj[] = []\r\n\r\nEXISTING_STANDARDS.forEach((standard) => {\r\n  const { currency } = TOKEN_STANDARDS[standard]\r\n  const tokenNames = Object.keys(config[standard])\r\n\r\n  tokenNames.forEach((name) => {\r\n    tokenItems.push({\r\n      name: name.toUpperCase(),\r\n      title: name.toUpperCase(),\r\n      icon: name,\r\n      value: `{${currency.toUpperCase()}}${name}`,\r\n      fullTitle: name,\r\n      addAssets: true,\r\n      blockchain: BLOCKCHAIN_TYPE[currency.toUpperCase()],\r\n      standard,\r\n    })\r\n  })\r\n\r\n  tokenNames\r\n    .filter((name) => config[standard][name].canSwap)\r\n    .forEach((name) => {\r\n      tokenPartialItems.push({\r\n        name: name.toUpperCase(),\r\n        title: name.toUpperCase(),\r\n        icon: name,\r\n        value: `{${currency.toUpperCase()}}${name}`,\r\n        fullTitle: config[standard][name].fullName || name,\r\n        blockchain: BLOCKCHAIN_TYPE[currency.toUpperCase()],\r\n        standard,\r\n      })\r\n    })\r\n})\r\n\r\nconst baseCurrencyConfig = {\r\n  ETH: {\r\n    name: 'ETH',\r\n    title: 'ETH',\r\n    icon: 'eth',\r\n    value: 'eth',\r\n    fullTitle: 'ethereum',\r\n  },\r\n  BNB: {\r\n    name: 'BNB',\r\n    title: 'BNB',\r\n    icon: 'bnb',\r\n    value: 'bnb',\r\n    fullTitle: 'binance coin',\r\n  },\r\n  MATIC: {\r\n    name: 'MATIC',\r\n    title: 'MATIC',\r\n    icon: 'matic',\r\n    value: 'matic',\r\n    fullTitle: 'matic token',\r\n  },\r\n  ARBETH: {\r\n    name: 'ARBETH',\r\n    title: 'ARBETH',\r\n    icon: 'arbeth',\r\n    value: 'arbeth',\r\n    fullTitle: 'arbitrum eth',\r\n  },\r\n  AURETH: {\r\n    name: 'AURETH',\r\n    title: 'AURETH',\r\n    icon: 'aureth',\r\n    value: 'aureth',\r\n    fullTitle: 'aurora eth',\r\n  },\r\n  XDAI: {\r\n    name: 'XDAI',\r\n    title: 'XDAI',\r\n    icon: 'xdai',\r\n    value: 'xdai',\r\n    fullTitle: 'xdai',\r\n  },\r\n  FTM: {\r\n    name: 'FTM',\r\n    title: 'FTM',\r\n    icon: 'ftm',\r\n    value: 'ftm',\r\n    fullTitle: 'ftm',\r\n  },\r\n  AVAX: {\r\n    name: 'AVAX',\r\n    title: 'AVAX',\r\n    icon: 'avax',\r\n    value: 'avax',\r\n    fullTitle: 'avax',\r\n  },\r\n  MOVR: {\r\n    name: 'MOVR',\r\n    title: 'MOVR',\r\n    icon: 'movr',\r\n    value: 'movr',\r\n    fullTitle: 'moonriver',\r\n  },\r\n  ONE: {\r\n    name: 'ONE',\r\n    title: 'ONE',\r\n    icon: 'one',\r\n    value: 'one',\r\n    fullTitle: 'harmony one',\r\n  },\r\n  AME: {\r\n    name: 'AME',\r\n    title: 'AME',\r\n    icon: 'ame',\r\n    value: 'ame',\r\n    fullTitle: 'ame',\r\n  },\r\n  PHI_V1: {\r\n    name: 'PHI_V1',\r\n    title: 'PHI_V1',\r\n    icon: 'phi_v1',\r\n    value: 'phi_v1',\r\n    fullTitle: 'phi_v1',\r\n  },\r\n  PHI: {\r\n    name: 'PHI',\r\n    title: 'PHI',\r\n    icon: 'phi',\r\n    value: 'phi',\r\n    fullTitle: 'phi',\r\n  },\r\n  FKW: {\r\n    name: 'FKW',\r\n    title: 'FKW',\r\n    icon: 'fkw',\r\n    value: 'fkw',\r\n    fullTitle: 'fkw',\r\n  },\r\n  PHPX: {\r\n    name: 'PHPX',\r\n    title: 'PHPX',\r\n    icon: 'phpx',\r\n    value: 'phpx',\r\n    fullTitle: 'phpx',\r\n  },\r\n  GHOST: {\r\n    name: 'GHOST',\r\n    title: 'GHOST',\r\n    icon: 'ghost',\r\n    value: 'ghost',\r\n    fullTitle: 'ghost',\r\n  },\r\n  NEXT: {\r\n    name: 'NEXT',\r\n    title: 'NEXT',\r\n    icon: 'next',\r\n    value: 'next',\r\n    fullTitle: 'next',\r\n  },\r\n  BTC: {\r\n    name: 'BTC',\r\n    title: 'BTC',\r\n    icon: 'btc',\r\n    value: 'btc',\r\n    fullTitle: 'bitcoin',\r\n  },\r\n}\r\n\r\nconst initialState = {\r\n  items: [\r\n    ...(!buildOpts.curEnabled || buildOpts.curEnabled.eth) ? [{\r\n      ...baseCurrencyConfig.ETH,\r\n      blockchain: BLOCKCHAIN_TYPE.ETH,\r\n      addAssets: true,\r\n    }] : [],\r\n     ...(!buildOpts.curEnabled || buildOpts.curEnabled.bnb) ? [{\r\n      ...baseCurrencyConfig.BNB,\r\n      blockchain: BLOCKCHAIN_TYPE.BNB,\r\n      addAssets: true,\r\n    }] : [],\r\n      ...(!buildOpts.curEnabled || buildOpts.curEnabled.matic) ? [{\r\n      ...baseCurrencyConfig.MATIC,\r\n      blockchain: BLOCKCHAIN_TYPE.MATIC,\r\n      addAssets: true,\r\n    }] : [],\r\n    ...(!buildOpts.curEnabled || buildOpts.curEnabled.arbeth) ? [{\r\n      ...baseCurrencyConfig.ARBETH,\r\n      blockchain: BLOCKCHAIN_TYPE.ARBITRUM,\r\n      addAssets: true,\r\n    }] : [],\r\n    ...(!buildOpts.curEnabled || buildOpts.curEnabled.aureth) ? [{\r\n      ...baseCurrencyConfig.AURETH,\r\n      blockchain: BLOCKCHAIN_TYPE.AURETH,\r\n      addAssets: true,\r\n    }] : [],\r\n    ...(!buildOpts.curEnabled || buildOpts.curEnabled.xdai) ? [{\r\n      ...baseCurrencyConfig.XDAI,\r\n      blockchain: BLOCKCHAIN_TYPE.XDAI,\r\n      addAssets: true,\r\n    }] : [],\r\n    ...(!buildOpts.curEnabled || buildOpts.curEnabled.ftm) ? [{\r\n      ...baseCurrencyConfig.FTM,\r\n      blockchain: BLOCKCHAIN_TYPE.FTM,\r\n      addAssets: true,\r\n    }] : [],\r\n    ...(!buildOpts.curEnabled || buildOpts.curEnabled.avax) ? [{\r\n      ...baseCurrencyConfig.AVAX,\r\n      blockchain: BLOCKCHAIN_TYPE.AVAX,\r\n      addAssets: true,\r\n    }] : [],\r\n    ...(!buildOpts.curEnabled || buildOpts.curEnabled.movr) ? [{\r\n      ...baseCurrencyConfig.MOVR,\r\n      blockchain: BLOCKCHAIN_TYPE.MOVR,\r\n      addAssets: true,\r\n    }] : [],\r\n    ...(!buildOpts.curEnabled || buildOpts.curEnabled.one) ? [{\r\n      ...baseCurrencyConfig.ONE,\r\n      blockchain: BLOCKCHAIN_TYPE.ONE,\r\n      addAssets: true,\r\n    }] : [],\r\n    ...(!buildOpts.curEnabled || buildOpts.curEnabled.phi_v1) ? [{\r\n      ...baseCurrencyConfig.PHI_V1,\r\n      blockchain: BLOCKCHAIN_TYPE.PHI_V1,\r\n      addAssets: true,\r\n    }] : [],\r\n    ...(!buildOpts.curEnabled || buildOpts.curEnabled.phi) ? [{\r\n      ...baseCurrencyConfig.PHI,\r\n      blockchain: BLOCKCHAIN_TYPE.PHI,\r\n      addAssets: true,\r\n    }] : [],\r\n    ...(!buildOpts.curEnabled || buildOpts.curEnabled.fkw) ? [{\r\n      ...baseCurrencyConfig.FKW,\r\n      blockchain: BLOCKCHAIN_TYPE.FKW,\r\n      addAssets: true,\r\n    }] : [],\r\n    ...(!buildOpts.curEnabled || buildOpts.curEnabled.phpx) ? [{\r\n      ...baseCurrencyConfig.PHPX,\r\n      blockchain: BLOCKCHAIN_TYPE.PHPX,\r\n      addAssets: true,\r\n    }] : [],\r\n    ...(!buildOpts.curEnabled || buildOpts.curEnabled.ame) ? [{\r\n      ...baseCurrencyConfig.AME,\r\n      blockchain: BLOCKCHAIN_TYPE.AME,\r\n      addAssets: true,\r\n    }] : [],\r\n    ...(!buildOpts.curEnabled || buildOpts.curEnabled.ghost) ? [{\r\n      ...baseCurrencyConfig.GHOST,\r\n      blockchain: BLOCKCHAIN_TYPE.GHOST,\r\n      addAssets: true,\r\n    }] : [],\r\n    ...(!buildOpts.curEnabled || buildOpts.curEnabled.next) ? [{\r\n      ...baseCurrencyConfig.NEXT,\r\n      blockchain: BLOCKCHAIN_TYPE.NEXT,\r\n      addAssets: true,\r\n    }] : [],\r\n    ...(!buildOpts.curEnabled || buildOpts.curEnabled.btc) ? [{\r\n      ...baseCurrencyConfig.BTC,\r\n      blockchain: BLOCKCHAIN_TYPE.BTC,\r\n      addAssets: true,\r\n    },\r\n    {\r\n      name: 'BTC (SMS-Protected)',\r\n      title: 'BTC (SMS-Protected)',\r\n      icon: 'btc',\r\n      value: 'btcMultisig',\r\n      fullTitle: 'bitcoinMultisig',\r\n      addAssets: false,\r\n      blockchain: BLOCKCHAIN_TYPE.BTC,\r\n      dontCreateOrder: true,\r\n    },\r\n    {\r\n      name: 'BTC (PIN-Protected)',\r\n      title: 'BTC (PIN-Protected)',\r\n      icon: 'btc',\r\n      value: 'btcMultisigPin',\r\n      fullTitle: 'bitcoinMultisigPin',\r\n      blockchain: BLOCKCHAIN_TYPE.BTC,\r\n      addAssets: false,\r\n      dontCreateOrder: true,\r\n    },\r\n    {\r\n      name: 'BTC (Multisig)',\r\n      title: 'BTC (Multisig)',\r\n      icon: 'btc',\r\n      value: 'btcMultisig',\r\n      fullTitle: 'bitcoinMultisig',\r\n      blockchain: BLOCKCHAIN_TYPE.BTC,\r\n      addAssets: false,\r\n      dontCreateOrder: true,\r\n    }] : [],\r\n    ...tokenItems,\r\n  ],\r\n  partialItems: [\r\n    ...(!buildOpts.blockchainSwapEnabled || buildOpts.blockchainSwapEnabled.eth) ? [baseCurrencyConfig.ETH] : [],\r\n    ...(!buildOpts.blockchainSwapEnabled || buildOpts.blockchainSwapEnabled.bnb) ? [baseCurrencyConfig.BNB] : [],\r\n    ...(!buildOpts.blockchainSwapEnabled || buildOpts.blockchainSwapEnabled.matic) ? [baseCurrencyConfig.MATIC] : [],\r\n    ...(!buildOpts.blockchainSwapEnabled || buildOpts.blockchainSwapEnabled.arbeth) ? [baseCurrencyConfig.ARBETH] : [],\r\n    ...(!buildOpts.blockchainSwapEnabled || buildOpts.blockchainSwapEnabled.aureth) ? [baseCurrencyConfig.AURETH] : [],\r\n    ...(!buildOpts.blockchainSwapEnabled || buildOpts.blockchainSwapEnabled.xdai) ? [baseCurrencyConfig.XDAI] : [],\r\n    ...(!buildOpts.blockchainSwapEnabled || buildOpts.blockchainSwapEnabled.ftm) ? [baseCurrencyConfig.FTM] : [],\r\n    ...(!buildOpts.blockchainSwapEnabled || buildOpts.blockchainSwapEnabled.avax) ? [baseCurrencyConfig.AVAX] : [],\r\n    ...(!buildOpts.blockchainSwapEnabled || buildOpts.blockchainSwapEnabled.movr) ? [baseCurrencyConfig.MOVR] : [],\r\n    ...(!buildOpts.blockchainSwapEnabled || buildOpts.blockchainSwapEnabled.one) ? [baseCurrencyConfig.ONE] : [],\r\n    ...(!buildOpts.blockchainSwapEnabled || buildOpts.blockchainSwapEnabled.phi_v1) ? [baseCurrencyConfig.PHI_V1] : [],\r\n    ...(!buildOpts.blockchainSwapEnabled || buildOpts.blockchainSwapEnabled.phi) ? [baseCurrencyConfig.PHI] : [],\r\n    ...(!buildOpts.blockchainSwapEnabled || buildOpts.blockchainSwapEnabled.fkw) ? [baseCurrencyConfig.FKW] : [],\r\n    ...(!buildOpts.blockchainSwapEnabled || buildOpts.blockchainSwapEnabled.phpx) ? [baseCurrencyConfig.PHPX] : [],\r\n    ...(!buildOpts.blockchainSwapEnabled || buildOpts.blockchainSwapEnabled.ame) ? [baseCurrencyConfig.AME] : [],\r\n    ...(!buildOpts.blockchainSwapEnabled || buildOpts.blockchainSwapEnabled.ghost) ? [baseCurrencyConfig.GHOST] : [],\r\n    ...(!buildOpts.blockchainSwapEnabled || buildOpts.blockchainSwapEnabled.next) ? [baseCurrencyConfig.NEXT] : [],\r\n    ...(!buildOpts.blockchainSwapEnabled || buildOpts.blockchainSwapEnabled.btc) ? [baseCurrencyConfig.BTC] : [],\r\n    ...tokenPartialItems,\r\n  ],\r\n  addSelectedItems: [],\r\n  addPartialItems: [],\r\n}\r\n\r\nif (config.isWidget) {\r\n  initialState.items = [\r\n    ...(!buildOpts.curEnabled || buildOpts.curEnabled.eth) ? [baseCurrencyConfig.ETH] : [],\r\n    ...(!buildOpts.curEnabled || buildOpts.curEnabled.bnb) ? [baseCurrencyConfig.BNB] : [],\r\n    ...(!buildOpts.curEnabled || buildOpts.curEnabled.matic) ? [baseCurrencyConfig.MATIC] : [],\r\n    ...(!buildOpts.curEnabled || buildOpts.curEnabled.arbeth) ? [baseCurrencyConfig.ARBETH] : [],\r\n    ...(!buildOpts.curEnabled || buildOpts.curEnabled.aureth) ? [baseCurrencyConfig.AURETH] : [],\r\n    ...(!buildOpts.curEnabled || buildOpts.curEnabled.xdai) ? [baseCurrencyConfig.XDAI] : [],\r\n    ...(!buildOpts.curEnabled || buildOpts.curEnabled.ftm) ? [baseCurrencyConfig.FTM] : [],\r\n    ...(!buildOpts.curEnabled || buildOpts.curEnabled.avax) ? [baseCurrencyConfig.AVAX] : [],\r\n    ...(!buildOpts.curEnabled || buildOpts.curEnabled.movr) ? [baseCurrencyConfig.MOVR] : [],\r\n    ...(!buildOpts.curEnabled || buildOpts.curEnabled.one) ? [baseCurrencyConfig.ONE] : [],\r\n    ...(!buildOpts.curEnabled || buildOpts.curEnabled.phi_v1) ? [baseCurrencyConfig.PHI_V1] : [],\r\n    ...(!buildOpts.curEnabled || buildOpts.curEnabled.phi) ? [baseCurrencyConfig.PHI] : [],\r\n    ...(!buildOpts.curEnabled || buildOpts.curEnabled.fkw) ? [baseCurrencyConfig.FKW] : [],\r\n    ...(!buildOpts.curEnabled || buildOpts.curEnabled.phpx) ? [baseCurrencyConfig.PHPX] : [],\r\n    ...(!buildOpts.curEnabled || buildOpts.curEnabled.ame) ? [baseCurrencyConfig.AME] : [],\r\n    ...(!buildOpts.curEnabled || buildOpts.curEnabled.btc) ? [baseCurrencyConfig.BTC] : [],\r\n    ...(!buildOpts.curEnabled || buildOpts.curEnabled.ghost) ? [baseCurrencyConfig.GHOST] : [],\r\n    ...(!buildOpts.curEnabled || buildOpts.curEnabled.next) ? [baseCurrencyConfig.NEXT] : [],\r\n  ]\r\n  // leave only coins\r\n  initialState.partialItems = initialState.partialItems.filter((item) => !item.standard)\r\n\r\n  //       \r\n  const widgetCustomTokens = window?.widgetEvmLikeTokens?.length ? window.widgetEvmLikeTokens : []\r\n\r\n  if (widgetCustomTokens.length) {\r\n    // First token in list - is main - fill single-token erc20 config\r\n    const firstToken = widgetCustomTokens[0]\r\n\r\n    config.erc20token = firstToken.name\r\n    config[firstToken.standard][firstToken.name] = firstToken\r\n\r\n    widgetCustomTokens.forEach((token) => {\r\n      const { name, standard, fullName } = token\r\n      const baseCurrency = TOKEN_STANDARDS[standard]?.currency\r\n\r\n      initialState.items.push({\r\n        name: name.toUpperCase(),\r\n        title: name.toUpperCase(),\r\n        icon: name,\r\n        value: `{${baseCurrency.toUpperCase()}}${name}`,\r\n        fullTitle: fullName || name,\r\n        addAssets: true,\r\n        blockchain: BLOCKCHAIN_TYPE[baseCurrency.toUpperCase()],\r\n        standard,\r\n      })\r\n      initialState.partialItems.push({\r\n        name: name.toUpperCase(),\r\n        title: name.toUpperCase(),\r\n        icon: name,\r\n        value: `{${baseCurrency.toUpperCase()}}${name}`,\r\n        fullTitle: fullName || name,\r\n        blockchain: BLOCKCHAIN_TYPE[baseCurrency.toUpperCase()],\r\n        standard,\r\n      })\r\n      initialState.addSelectedItems.push({\r\n        //@ts-ignore\r\n        name: name.toUpperCase(),\r\n        //@ts-ignore\r\n        title: name.toUpperCase(),\r\n        //@ts-ignore\r\n        icon: name,\r\n        //@ts-ignore\r\n        value: name,\r\n        //@ts-ignore\r\n        fullTitle: fullName || name,\r\n      })\r\n    })\r\n  }\r\n}\r\n\r\nif (buildOpts.addCustomTokens) {\r\n  const customTokenConfig = getCustomTokenConfig()\r\n\r\n  Object.keys(customTokenConfig).forEach((standard) => {\r\n    const tokensAreAvailable =\r\n      TOKEN_STANDARDS[standard] && Object.keys(customTokenConfig[standard]).length\r\n\r\n    if (tokensAreAvailable) {\r\n      const baseCurrency = TOKEN_STANDARDS[standard]?.currency\r\n\r\n      Object.keys(customTokenConfig[standard]).forEach((tokenContractAddr) => {\r\n        const { symbol } = customTokenConfig[standard][tokenContractAddr]\r\n        const itemConfig = {\r\n          name: symbol.toUpperCase(),\r\n          title: symbol.toUpperCase(),\r\n          icon: symbol,\r\n          value: `{${baseCurrency.toUpperCase()}}${symbol}`,\r\n          fullTitle: config[standard][symbol]?.fullName || symbol,\r\n          blockchain: BLOCKCHAIN_TYPE[baseCurrency.toUpperCase()],\r\n          standard,\r\n        }\r\n\r\n        initialState.items.push({\r\n          ...itemConfig,\r\n          addAssets: true,\r\n        })\r\n        initialState.partialItems.push(itemConfig)\r\n      })\r\n    }\r\n  })\r\n}\r\n\r\nconst addSelectedItems = (state, payload) => ({\r\n  ...state,\r\n  addSelectedItems: payload,\r\n})\r\n\r\nconst addPartialItems = (state, payload) => ({\r\n  ...state,\r\n  addPartialItems: payload,\r\n})\r\n\r\nconst updatePartialItems = (state, payload) => ({\r\n  ...state,\r\n  partialItems: payload,\r\n})\r\n\r\nconst deletedPartialCurrency = (state, payload) => ({\r\n  ...state,\r\n  partialItems: state.partialItems.filter(item => item.name !== payload),\r\n})\r\n\r\nexport {\r\n  initialState,\r\n  addSelectedItems,\r\n  addPartialItems,\r\n  updatePartialItems,\r\n  deletedPartialCurrency,\r\n}\r\n","export const initialState = {\r\n  isInputActive: false,\r\n}\r\n\r\nexport const setInputActive = (state, value) => ({\r\n  ...state,\r\n  isInputActive: value,\r\n})\r\n","const initialState = {\r\n  //@ts-ignore: strictNullChecks\r\n  savedOrders: JSON.parse(localStorage.getItem('savedOrders')) || [],\r\n  //@ts-ignore: strictNullChecks\r\n  deletedOrders: JSON.parse(localStorage.getItem('deletedOrders')) || [],\r\n}\r\n\r\nconst savedOrders = (state, orderId) => ({\r\n  savedOrders: [\r\n    ...state.savedOrders,\r\n    orderId,\r\n  ],\r\n})\r\n\r\nconst deletedOrders = (state, orderId) => ({\r\n  ...state,\r\n  deletedOrders: [\r\n    orderId,\r\n  ],\r\n})\r\n\r\nconst forgetOrders = (state, orderId) => ({\r\n  ...state,\r\n  savedOrders: state.savedOrders.filter(item => item !== orderId),\r\n})\r\n\r\nconst getOrderIntheProcess = (state, orderId) => ({\r\n  ...state,\r\n  savedOrders: state.savedOrders.filter(item => item === orderId),\r\n})\r\n\r\nexport {\r\n  initialState,\r\n  savedOrders,\r\n  forgetOrders,\r\n  deletedOrders,\r\n  getOrderIntheProcess,\r\n}\r\n","export const initialState = {\r\n  currencies: {\r\n    btc: false,\r\n    eth: false,\r\n    bnb: false,\r\n    matic: false,\r\n    arbeth: false,\r\n    aureth: false,\r\n    xdai: false,\r\n    ftm: false,\r\n    avax: false,\r\n    movr: false,\r\n    one: false,\r\n    ame: false,\r\n    phi_v1: false,\r\n    phi: false,\r\n    fkw: false,\r\n    phpx: false,\r\n    ghost: false,\r\n    next: false,\r\n    '{eth}usdt': false,\r\n    '{eth}swap': false,\r\n  },\r\n  secure: '',\r\n  step: 1,\r\n}\r\n\r\n\r\nexport const newWalletData = (state, payload) => {\r\n  const { type, data } = payload\r\n\r\n  return ({\r\n    ...state,\r\n    [type]: data,\r\n  })\r\n}\r\n","export const initialState = {\r\n  dashboardModalsAllowed: false,\r\n}\r\n\r\n\r\nexport const allowDashboardModals = (state) => ({\r\n  ...state,\r\n  dashboardModalsAllowed: true,\r\n})\r\nexport const disallowDashboardModals = (state) => ({\r\n  ...state,\r\n  dashboardModalsAllowed: false,\r\n})\r\n","import config from 'app-config'\r\n\r\nexport type OrderData = {\r\n  makerAsset: string\r\n  takerAsset: string\r\n  getMakerAmount: string\r\n  getTakerAmount: string\r\n  makerAssetData: string\r\n  takerAssetData: string\r\n  salt: string\r\n  permit: string\r\n  predicate: string\r\n  interaction: string\r\n}\r\n\r\nexport type Order = {\r\n  makerAmount: string\r\n  takerAmount: string\r\n  signature: string\r\n  orderHash: string\r\n  createDateTime: string\r\n  orderMaker: string\r\n  remainingMakerAmount: string\r\n  makerBalance: string\r\n  makerAllowance: string\r\n  data: OrderData\r\n  makerRate: string\r\n  takerRate: string\r\n}\r\n\r\ninterface State {\r\n  blockchains: {\r\n    // chain id\r\n    [k: string]: {\r\n      baseCurrency: string\r\n    }\r\n  }\r\n  orders: {\r\n    [k: string]: Order[]\r\n  }\r\n}\r\n\r\nconst blockchains = {}\r\nconst allowedCurrency = ['ETH', 'BNB', 'MATIC', 'XDAI', 'AVAX']\r\n\r\nObject.keys(config.evmNetworks)\r\n  .filter((currency) => allowedCurrency.includes(currency))\r\n  .forEach((currency) => {\r\n    const chainId = config.evmNetworks[currency].networkVersion\r\n\r\n    blockchains[chainId] = config.evmNetworks[currency]\r\n  })\r\n\r\nexport const initialState: State = {\r\n  blockchains,\r\n  orders: {},\r\n}\r\n\r\nexport const addOrder = (state, { chainId, order }) => {\r\n  const orders = {\r\n    ...state.orders,\r\n    [chainId]: [...state.orders[chainId], order],\r\n  }\r\n\r\n  return {\r\n    ...state,\r\n    orders,\r\n  }\r\n}\r\n\r\nexport const addOrders = (state, { chainId, orders }) => {\r\n  const ordersByChain: Order[] = []\r\n\r\n  if (state.orders[chainId]) {\r\n    ordersByChain.push(...state.orders[chainId])\r\n  }\r\n\r\n  ordersByChain.push(...orders)\r\n\r\n  return {\r\n    ...state,\r\n    orders: {\r\n      ...state.orders,\r\n      [chainId]: ordersByChain,\r\n    },\r\n  }\r\n}\r\n\r\nexport const removeOrder = (state, { chainId, index }) => {\r\n  const ordersByChain: Order[] = []\r\n\r\n  if (state.orders[chainId]) {\r\n    ordersByChain.push(...state.orders[chainId])\r\n  }\r\n\r\n  ordersByChain.splice(index, 1)\r\n\r\n  return {\r\n    ...state,\r\n    orders: {\r\n      ...state.orders,\r\n      [chainId]: ordersByChain,\r\n    },\r\n  }\r\n}\r\n\r\nexport const getOrders = (state, { orders }) => ({\r\n  ...state,\r\n  orders,\r\n})\r\n","import config from 'app-config'\r\n\r\nexport const initialState = {\r\n  pendingQueue: [],\r\n}\r\n\r\nexport const addTransactionToQueue = (state, { networkCoin, hash }) => {\r\n  const networkData = config.evmNetworks[networkCoin.toUpperCase()]\r\n\r\n  return {\r\n    ...state,\r\n    pendingQueue: [\r\n      ...state.pendingQueue,\r\n      {\r\n        networkData,\r\n        hash,\r\n      },\r\n    ],\r\n  }\r\n}\r\n\r\nexport const removeLastTransactionFromQueue = (state) => {\r\n  const newQueue = state.pendingQueue.slice(1)\r\n\r\n  return {\r\n    ...state,\r\n    pendingQueue: newQueue,\r\n  }\r\n}\r\n","import * as notifications from './notifications'\r\nimport * as modals from './modals'\r\nimport * as history from './history'\r\nimport * as loader from './loader'\r\nimport * as user from './user'\r\nimport * as feeds from './feeds'\r\nimport * as core from './core'\r\nimport * as pubsubRoom from './pubsubRoom'\r\nimport * as api from './api'\r\nimport * as currencies from './currencies'\r\nimport * as inputActive from './inputActive'\r\nimport * as rememberedOrders from './rememberedOrders'\r\nimport * as createWallet from './createWallet'\r\nimport * as ui from './ui'\r\nimport * as oneinch from './oneinch'\r\nimport * as transactions from './transactions'\r\n\r\nexport default {\r\n  notifications,\r\n  modals,\r\n  history,\r\n  loader,\r\n  core,\r\n  user,\r\n  feeds,\r\n  pubsubRoom,\r\n  api,\r\n  currencies,\r\n  inputActive,\r\n  rememberedOrders,\r\n  createWallet,\r\n  ui,\r\n  oneinch,\r\n  transactions,\r\n}\r\n","import stringify from 'json-stringify-safe'\r\n\r\n\r\nconst toSaveStates = [\r\n  'rememberedSwaps',\r\n  'user',\r\n]\r\n\r\nconst cleanReduxStore = (reduxStore) =>\r\n  Object.keys(reduxStore)\r\n    .reduce((result, key) =>\r\n      toSaveStates.includes(key)\r\n        ? {\r\n          ...result,\r\n          [key]: reduxStore[key],\r\n        }\r\n        : result,\r\n    {})\r\n\r\nconst selectiveSaver = store => next => async action => {\r\n  next(action)\r\n\r\n  const stateName = action.type.split('.')[0]\r\n\r\n  if (toSaveStates.includes(stateName)) {\r\n    const data = store.getState()[stateName]\r\n    let reduxStore = localStorage.getItem('redux-store')\r\n\r\n    if (reduxStore === null) {\r\n      //@ts-ignore\r\n      reduxStore = { [stateName]: data }\r\n    } else {\r\n      //@ts-ignore\r\n      reduxStore = cleanReduxStore(JSON.parse(reduxStore))\r\n      //@ts-ignore\r\n      if (stateName in reduxStore) {\r\n        //@ts-ignore\r\n        reduxStore[stateName] = data\r\n      } else {\r\n        reduxStore = {\r\n          //@ts-ignore\r\n          ...reduxStore,\r\n          [stateName]: data,\r\n        }\r\n      }\r\n    }\r\n    localStorage.setItem('redux-store', stringify(reduxStore, null, 2))\r\n  }\r\n}\r\n\r\nexport {\r\n  selectiveSaver,\r\n}\r\n","import { createBrowserHistory } from 'history'\r\nimport { createStore, combineReducers } from 'redaction'\r\nimport localReducers from 'redux/reducers'\r\nimport { selectiveSaver } from 'redux/middleware'\r\nimport { connectRouter, routerMiddleware } from 'connected-react-router'\r\n\r\n\r\nconst history = createBrowserHistory()\r\nconst middleware = routerMiddleware(history)\r\nconst initialState = (localStorage['redux-store']) ? JSON.parse(localStorage['redux-store']) : {}\r\nconst devTools = window.__REDUX_DEVTOOLS_EXTENSION__ ? window.__REDUX_DEVTOOLS_EXTENSION__() : (v) => v\r\n\r\nconst _storeConfig = {\r\n  reducers: {\r\n    router: connectRouter(history),\r\n    ...combineReducers(localReducers),\r\n  },\r\n  middleware: [\r\n    middleware,\r\n    selectiveSaver,\r\n  ],\r\n  enhancers: [\r\n    devTools,\r\n  ],\r\n  initialState,\r\n}\r\n\r\nconst store = createStore(_storeConfig)\r\n\r\n\r\nexport default store\r\n\r\nexport {\r\n  history,\r\n}\r\n","import { wrapReducers } from 'redaction'\r\nimport reducers from 'redux/reducers'\r\nimport store from 'redux/store'\r\n\r\n\r\nexport default wrapReducers(reducers, store.dispatch)\r\n","import store from 'redux/store'\r\nimport reducers from './reducers'\r\n\r\n\r\nconst getState = () => store.getState()\r\n\r\n\r\nexport {\r\n  reducers,\r\n  getState,\r\n}\r\n","import config from 'app-config'\r\nimport { util } from 'swap.app'\r\nimport { constants } from 'swap.app'\r\nimport BigNumber from 'bignumber.js'\r\nimport reducers from 'redux/core/reducers'\r\nimport TOKEN_STANDARDS, { EXISTING_STANDARDS } from 'helpers/constants/TOKEN_STANDARDS'\r\n\r\nconst getCustomTokenConfig = () => {\r\n  const tokensInfo = JSON.parse(localStorage.getItem('customToken') || '{}')\r\n\r\n  if (!Object.keys(tokensInfo).length || !tokensInfo[config.entry]) {\r\n    return {}\r\n  }\r\n\r\n  return tokensInfo[config.entry]\r\n}\r\n\r\nconst initExternalConfig = () => {\r\n  // Add to swap.core not exists tokens\r\n  EXISTING_STANDARDS.forEach((standard) => {\r\n    Object.keys(config[standard]).forEach((tokenSymbol) => {\r\n      if (!constants.COIN_DATA[tokenSymbol]) {\r\n        util.tokenRegistrar[standard].register(tokenSymbol, config[standard][tokenSymbol].decimals)\r\n      }\r\n    })\r\n  })\r\n}\r\n\r\nconst externalConfig = () => {\r\n  // Reconfigure app config if it widget or use external config\r\n  if (config.opts && config.opts.inited) {\r\n    return config\r\n  }\r\n\r\n  config.opts = {\r\n    inited: true,\r\n    hasWalletConnect: true,\r\n    curEnabled: {\r\n      eth: true,\r\n      bnb: true,\r\n      matic: true,\r\n      arbeth: true,\r\n      aureth: true,\r\n      xdai: true,\r\n      ftm: true,\r\n      avax: true,\r\n      movr: true,\r\n      one: true,\r\n      ame: true,\r\n      phi_v1: true,\r\n      phi: true,\r\n      fkw: true,\r\n      phpx: true,\r\n      btc: true,\r\n      ghost: true,\r\n      next: false,\r\n    },\r\n    blockchainSwapEnabled: {\r\n      btc: true,\r\n      eth: true,\r\n      bnb: false,\r\n      matic: false,\r\n      arbeth: false,\r\n      aureth: false,\r\n      xdai: false,\r\n      ftm: false,\r\n      avax: false,\r\n      movr: false,\r\n      one: false,\r\n      ame: false,\r\n      phi_v1: false,\r\n      phi: false,\r\n      fkw: false,\r\n      phpx: false,\r\n      ghost: true,\r\n      next: false,\r\n    },\r\n    L2_EVM_KEYS: ['aureth', 'arbeth'],\r\n    createWalletCoinsOrder: false,\r\n    buyFiatSupported: ['eth', 'matic'],\r\n    defaultExchangePair: {\r\n      buy: '{eth}wbtc',\r\n      sell: 'btc',\r\n    },\r\n    preventMultiTab: true,\r\n    defaultQuickSell: false,\r\n    ownTokens: false,\r\n    addCustomTokens: true,\r\n    invoiceEnabled: !config.isWidget,\r\n    showWalletBanners: false,\r\n    showHowItsWork: false,\r\n    fee: {},\r\n    hideShowPrivateKey: false,\r\n    plugins: {\r\n      setItemPlugin: false,\r\n      getItemPlugin: false,\r\n      userDataPluginApi: false,\r\n      backupPlugin: false,\r\n      backupPluginUrl: false,\r\n      restorePluginUrl: false,\r\n      // Referral System,\r\n      ReferralEnabled: false,\r\n      ReferralStatisticUrl: '',\r\n      GenerateJoinLink: '',\r\n    },\r\n    //WPuserHash: false,\r\n    buyViaCreditCardLink: false,\r\n    activeFiat: 'USD',\r\n    exchangeDisabled: false,\r\n    // Dev\r\n    //WPuserHash: 'b4bc15da219c32313258b75e4f686313',\r\n    //WPuserUid: 1,\r\n    ui: {\r\n      hideServiceLinks: false,\r\n      serviceLink: 'https://onout.org/wallet',\r\n      farmLink: false, // use default link #/marketmaker\r\n      bannersSource: 'https://noxon.wpmix.net/swapBanners/banners.php',\r\n      disableInternalWallet: false,\r\n      faq: {\r\n        before: [/*\r\n          {\r\n            title: 'Faq title before 1',\r\n            content: 'Faq 1 content'\r\n          },\r\n          {\r\n            title: 'Faq title before 2',\r\n            content: 'Faq 2 content'\r\n          }\r\n        */],\r\n        after: [/*\r\n          {\r\n            title: 'Faq title after',\r\n            content: 'Faq content'\r\n          }\r\n        */]\r\n      },\r\n      menu: {\r\n        before: [/*\r\n          {\r\n            \"title\": \"After\",\r\n            \"link\": \"https:\\/\\/google.com\"\r\n          }\r\n        */],\r\n        after: []\r\n      },\r\n    },\r\n  }\r\n\r\n  // Referral Program\r\n  if (window\r\n    && window.SO_ReferralSystem_Enabled\r\n    && window.SO_ReferralSystem_GenerateLinkUrl\r\n    && window.SO_ReferralSystem_StatisticUrl\r\n  ) {\r\n    config.opts.plugins.ReferralEnabled = true\r\n    config.opts.plugins.ReferralStatisticUrl = window.SO_ReferralSystem_StatisticUrl\r\n    config.opts.plugins.GenerateJoinLink = window.SO_ReferralSystem_GenerateLinkUrl\r\n  }\r\n  // WalletConnect custom ProjectID \r\n  if (window\r\n    && window.SO_WalletConnectProjectId\r\n  ) {\r\n    config.api.WalletConnectProjectId = window.SO_WalletConnectProjectId\r\n  }\r\n  if (window\r\n    && window.SO_WalletConnectDisabled\r\n  ) {\r\n    config.opts.hasWalletConnect = false\r\n  }\r\n\r\n  if (window\r\n    && window.SO_AllowMultiTab\r\n  ) {\r\n    config.opts.preventMultiTab = false\r\n  }\r\n  if (window\r\n    && window.SO_FaqBeforeTabs\r\n    && window.SO_FaqBeforeTabs.length\r\n  ) {\r\n    config.opts.ui.faq.before = window.SO_FaqBeforeTabs\r\n  }\r\n  if (window\r\n    && window.SO_FaqAfterTabs\r\n    && window.SO_FaqAfterTabs.length\r\n  ) {\r\n    config.opts.ui.faq.after = window.SO_FaqAfterTabs\r\n  }\r\n\r\n  if (window\r\n    && window.SO_MenuItemsBefore\r\n    && window.SO_MenuItemsBefore.length\r\n  ) {\r\n    config.opts.ui.menu.before = window.SO_MenuItemsBefore\r\n  }\r\n  if (window\r\n    && window.SO_MenuItemsAfter\r\n    && window.SO_MenuItemsAfter.length\r\n  ) {\r\n    config.opts.ui.menu.after = window.SO_MenuItemsAfter\r\n  }\r\n\r\n  if (window?.SO_disableInternalWallet) {\r\n    config.opts.ui.disableInternalWallet = window.SO_disableInternalWallet\r\n  }\r\n\r\n  if (window?.SO_addAllEnabledWalletsAfterRestoreOrCreateSeedPhrase) {\r\n    config.opts.addAllEnabledWalletsAfterRestoreOrCreateSeedPhrase = window.SO_addAllEnabledWalletsAfterRestoreOrCreateSeedPhrase\r\n  }\r\n\r\n  if (window\r\n    && window.SO_fiatBuySupperted\r\n    && window.SO_fiatBuySupperted.length\r\n  ) {\r\n    config.opts.buyFiatSupported = window.SO_fiatBuySupperted\r\n  }\r\n  if (window\r\n    && window.SO_defaultQuickSell\r\n  ) {\r\n    config.opts.defaultQuickSell = window.SO_defaultQuickSell\r\n  }\r\n  if (window\r\n    && window.SO_defaultQuickBuy\r\n  ) {\r\n    config.opts.defaultQuickBuy = window.SO_defaultQuickBuy\r\n  }\r\n  if (window\r\n    && window.SO_createWalletCoinsOrder\r\n    && window.SO_createWalletCoinsOrder.length\r\n  ) {\r\n    config.opts.createWalletCoinsOrder = window.SO_createWalletCoinsOrder\r\n  }\r\n\r\n  if (window\r\n    && window.invoiceEnabled\r\n  ) {\r\n    config.opts.invoiceEnabled = true\r\n  }\r\n\r\n  if (window\r\n    && window.hideServiceLinks\r\n  ) {\r\n    config.opts.ui.hideServiceLinks = window.hideServiceLinks\r\n  }\r\n\r\n  if (window\r\n    && window.WPuserHash\r\n  ) {\r\n    config.opts.WPuserHash = window.WPuserHash\r\n    window.WPuserHash = false\r\n  }\r\n\r\n  if (window\r\n    && window.WPuserUid\r\n  ) {\r\n    config.opts.WPuserUid = window.WPuserUid\r\n    window.WPuserUid = false\r\n  }\r\n  \r\n  if (window\r\n    && window.showHowItWorksOnExchangePage\r\n  ) {\r\n    config.showHowItsWork = window.showHowItWorksOnExchangePage\r\n  }\r\n\r\n  if (window\r\n    && window.buildOptions\r\n    && Object.keys(window.buildOptions)\r\n    && Object.keys(window.buildOptions).length\r\n  ) {\r\n    config.opts = { ...config.opts, ...window.buildOptions }\r\n  }\r\n\r\n  if (window\r\n    && window.DEFAULT_FIAT\r\n  ) {\r\n    config.opts.activeFiat = window.DEFAULT_FIAT\r\n  }\r\n  reducers.user.setActiveFiat({ activeFiat: config.opts.activeFiat })\r\n\r\n  if (window\r\n    && window.EXCHANGE_DISABLED\r\n  ) {\r\n    config.opts.exchangeDisabled = window.EXCHANGE_DISABLED\r\n  }\r\n\r\n\r\n  // Plugin: enable/disable currencies\r\n  if (window && window.CUR_NEXT_DISABLED === false) {\r\n    config.opts.curEnabled.next = true\r\n    config.opts.blockchainSwapEnabled.next = true\r\n  }\r\n  \r\n  const wpCurrencyDisabledFlages = {\r\n    /* WordPress window flag => option key */\r\n    CUR_BTC_DISABLED: `btc`,\r\n    CUR_GHOST_DISABLED: `ghost`,\r\n    CUR_ETH_DISABLED: `eth`,\r\n    CUR_BNB_DISABLED: `bnb`,\r\n    CUR_MATIC_DISABLED: `matic`,\r\n    CUR_ARBITRUM_DISABLED: `arbeth`,\r\n    CUR_XDAI_DISABLED: `xdai`,\r\n    CUR_FTM_DISABLED: `ftm`,\r\n    CUR_AVAX_DISABLED: `avax`,\r\n    CUR_MOVR_DISABLED: `movr`,\r\n    CUR_ONE_DISABLED: `one`,\r\n    CUR_AME_DISABLED: `ame`,\r\n    CUR_AURORA_DISABLED: `aureth`,\r\n    CUR_PHI_DISABLED: `phi_v1`,\r\n    CUR_PHI_V2_DISABLED: `phi`,\r\n    CUR_FKW_DISABLED: 'fkw',\r\n    CUR_PHPX_DISABLED: 'phpx',\r\n  }\r\n  if (window) {\r\n    Object.keys(wpCurrencyDisabledFlages).forEach((windowFlagKey) => {\r\n      if (window[windowFlagKey] === true) {\r\n        config.opts.curEnabled[wpCurrencyDisabledFlages[windowFlagKey]] = false\r\n        config.opts.blockchainSwapEnabled[wpCurrencyDisabledFlages[windowFlagKey]] = false\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  config.enabledEvmNetworks = Object.keys(config.evmNetworks)\r\n    .filter((key) => !config.opts.curEnabled || config.opts.curEnabled[key.toLowerCase()])\r\n    .reduce((acc, key) => {\r\n      acc[key] = config.evmNetworks[key]\r\n\r\n      return acc\r\n    }, {})\r\n\r\n  config.enabledEvmNetworkVersions = Object.values(config.enabledEvmNetworks).map(\r\n    (info: { networkVersion: number }) => info.networkVersion\r\n  )\r\n\r\n  // Plugins\r\n  if (window\r\n    && window.backupPlugin\r\n    && window.backupUrl\r\n    && window.restoreUrl\r\n  ) {\r\n    config.opts.plugins.backupPlugin = window.backupPlugin\r\n    config.opts.plugins.backupPluginUrl = window.backupUrl\r\n    config.opts.plugins.restorePluginUrl = window.restoreUrl\r\n  }\r\n\r\n  if (window\r\n    && window.setItemPlugin\r\n  ) {\r\n    config.opts.plugins.setItemPlugin = window.setItemPlugin\r\n  }\r\n  if (window && window.getItemPlugin) {\r\n    config.opts.plugins.getItemPlugin = window.getItemPlugin\r\n  }\r\n  if (window && window.userDataPluginApi) {\r\n    config.opts.plugins.userDataPluginApi = window.userDataPluginApi\r\n  }\r\n\r\n  // ------\r\n  if (window\r\n    && window.buyViaCreditCardLink\r\n  ) {\r\n    config.opts.buyViaCreditCardLink = window.buyViaCreditCardLink\r\n  }\r\n\r\n  if (window\r\n    && window.SWAP_HIDE_EXPORT_PRIVATEKEY !== undefined\r\n  ) {\r\n    config.opts.hideShowPrivateKey = window.SWAP_HIDE_EXPORT_PRIVATEKEY\r\n  }\r\n\r\n  if (window?.widgetEvmLikeTokens?.length) {\r\n    config.opts.ownTokens = window.widgetEvmLikeTokens\r\n  }\r\n\r\n  if (config?.isWidget || config?.opts.ownTokens?.length) {\r\n    // THIS IS CODE FOR SHOW ALL WIDGET TOKENS IN WALLET BY DEFAULT\r\n    // if (config?.opts.ownTokens?.length) {\r\n    //   config.opts.ownTokens.forEach((token) => {\r\n    //     config[token.standard][token.name.toLowerCase()] = token\r\n\r\n    //     const baseCurrency = TOKEN_STANDARDS[token.standard].currency.toUpperCase()\r\n    //     const tokenName = token.name.toUpperCase()\r\n    //     const tokenValue = `{${baseCurrency}}${tokenName}`\r\n\r\n    //     reducers.core.markCoinAsVisible(tokenValue)\r\n    //   })\r\n    // }\r\n\r\n    // Clean not uninitialized single-token\r\n    // ? we can't use here as whole string {#WIDGETTOKENCODE#} ?\r\n    const wcPb = `{#`\r\n    const wcP = `WIDGETTOKENCODE`\r\n    const wcPe = `#}`\r\n\r\n    EXISTING_STANDARDS.forEach((standard) => {\r\n      const ownTokens = {}\r\n\r\n      Object.keys(config[standard]).forEach((tokenSymbol) => {\r\n        if (tokenSymbol !== `${wcPb}${wcP}${wcPe}`) {\r\n          ownTokens[tokenSymbol] = config[standard][tokenSymbol]\r\n        }\r\n      })\r\n\r\n      config[standard] = ownTokens\r\n    })\r\n  }\r\n\r\n  if (config.opts.addCustomTokens) {\r\n    const customTokenConfig = getCustomTokenConfig()\r\n\r\n    Object.keys(customTokenConfig).forEach((standard) => {\r\n      if (!config[standard]) return\r\n\r\n      Object.keys(customTokenConfig[standard]).forEach((tokenContractAddr) => {\r\n        const tokenObj = customTokenConfig[standard][tokenContractAddr]\r\n        const { symbol } = tokenObj\r\n\r\n        if (!config[standard][symbol.toLowerCase()]) {\r\n          config[standard][symbol.toLowerCase()] = {\r\n            address: tokenObj.address,\r\n            decimals: tokenObj.decimals,\r\n            fullName: tokenObj.symbol,\r\n            canSwap: true\r\n          }\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n  // Comission config - default false\r\n  if (window\r\n    && window.widgetERC20Comisions\r\n    && Object.keys(window.widgetERC20Comisions)\r\n  ) {\r\n    let hasTokenAdminFee = false\r\n\r\n    Object.keys(window.widgetERC20Comisions).filter((key) => {\r\n      const curKey = key.toLowerCase()\r\n      if (window.widgetERC20Comisions[curKey]) {\r\n        let { fee, address, min } = window.widgetERC20Comisions[curKey]\r\n        let feeOk = false\r\n        let minOk = false\r\n\r\n        // @ToDo add currency isAddress Check\r\n        if (fee && address && min) {\r\n          try {\r\n            fee = new BigNumber(fee.replace(',', '.')).toNumber()\r\n            feeOk = true\r\n          } catch (e) {\r\n            console.error(`Fail convert ${fee} to number for ${curKey}`)\r\n          }\r\n          try {\r\n            min = new BigNumber(min.replace(',', '.')).toNumber()\r\n            minOk = true\r\n          } catch (e) {\r\n            console.error(`Fail convert ${min} to number for ${curKey}`)\r\n          }\r\n\r\n          if (minOk && feeOk) {\r\n            config.opts.fee[curKey.toLowerCase()] = {\r\n              fee,\r\n              address,\r\n              min,\r\n            }\r\n          }\r\n        } else {\r\n          if (TOKEN_STANDARDS[curKey.toLowerCase()] && address) {\r\n            hasTokenAdminFee = true\r\n            config.opts.fee[curKey.toLowerCase()] = {\r\n              address,\r\n            }\r\n          }\r\n        }\r\n      }\r\n    })\r\n\r\n    // add currency commissions for tokens\r\n    if (hasTokenAdminFee) {\r\n      EXISTING_STANDARDS.forEach((standard) => {\r\n        const baseCurrency = TOKEN_STANDARDS[standard].currency.toLowerCase()\r\n        const baseCurrencyFee = config.opts.fee[baseCurrency]\r\n\r\n        if (!config.opts.fee[standard]) {\r\n          config.opts.fee[standard] = {}\r\n        }\r\n\r\n        if (baseCurrencyFee?.min && baseCurrencyFee?.fee && config.opts.fee[standard].address) {\r\n          config.opts.fee[standard].min = baseCurrencyFee.min\r\n          config.opts.fee[standard].fee = baseCurrencyFee.fee\r\n        }\r\n      })\r\n    }\r\n  }\r\n  console.log('>>> CONFIG', config)\r\n  return config\r\n}\r\n\r\nexport default externalConfig()\r\n\r\nexport {\r\n  externalConfig,\r\n  initExternalConfig,\r\n}\r\n","import request from 'superagent'\r\n\r\n\r\nconst responseCacheStorage = {}\r\n\r\nconst responseCacheGetKey = (req, opts) => `${opts.method}-${opts.endpoint}`\r\n\r\nconst responseCacheGet = (req, opts) => {\r\n  const cacheKey =  responseCacheGetKey(req, opts)\r\n\r\n  if (opts\r\n    && opts.cacheResponse\r\n    && responseCacheStorage[cacheKey]\r\n    && ((responseCacheStorage[cacheKey].cacheResponseCreateTime + responseCacheStorage[cacheKey].cacheResponse) >= new Date().getTime())\r\n  ) {\r\n    return responseCacheStorage[cacheKey]\r\n  } return false\r\n}\r\n\r\nconst responseCacheAdd = (req, opts, resData, res) => {\r\n  const cacheKey = responseCacheGetKey(req, opts)\r\n  const { cacheResponse } = opts\r\n  const cacheResponseCreateTime = new Date().getTime()\r\n\r\n  responseCacheStorage[cacheKey] = {\r\n    cacheResponse,\r\n    cacheResponseCreateTime,\r\n    resData,\r\n    res,\r\n  }\r\n}\r\n\r\nconst createResponseHandler = (req, opts) => {\r\n  const debug = `${opts.method.toUpperCase()} ${opts.endpoint}`\r\n\r\n  // cached answer\r\n  const cachedAnswer = responseCacheGet(req, opts)\r\n\r\n  if (cachedAnswer) {\r\n    return new Promise((fulfill, reject) => {\r\n      //@ts-ignore\r\n      fulfill(cachedAnswer.resData, cachedAnswer.res)\r\n    })\r\n  }\r\n\r\n  // no cache - do request\r\n  return new Promise((fulfill, reject) => req.end((err, res) => {\r\n    let serverError\r\n\r\n    if (opts.sourceError && err) {\r\n      return reject(err)\r\n    }\r\n\r\n    // Errors\r\n    if (!res && !err) {\r\n      serverError = `Connection failed: ${debug}`\r\n    }\r\n    else if (!res || res.statusCode >= 500) {\r\n      serverError = 'We`re having technical issues at that moment. Please try again later'\r\n    }\r\n\r\n    if (serverError) {\r\n      return reject(new Error(`Connection failed: ${debug}, server error:${serverError}`))\r\n    }\r\n\r\n    if (err) {\r\n      return reject({ resData: err, res })\r\n    }\r\n\r\n    let { body } = res\r\n\r\n\r\n    if (!body) {\r\n      try {\r\n        body = JSON.parse(res.text)\r\n      }\r\n      catch (err) {\r\n        return reject(err)\r\n      }\r\n    }\r\n\r\n    const resData = opts.modifyResult(body)\r\n\r\n    // Cache result if needs\r\n    if (opts.cacheResponse) {\r\n      responseCacheAdd(req, opts, resData, res)\r\n    }\r\n\r\n    // Resolve\r\n    //@ts-ignore\r\n    fulfill(resData, res)\r\n  }))\r\n}\r\n\r\n\r\nconst defaultOptions = {\r\n  sameOrigin: false,\r\n  modifyResult: (resData) => resData,\r\n}\r\n\r\n/**\r\n *\r\n * @param {Object} options\r\n * @param {String} options.endpoint\r\n * @param {String} options.method\r\n * @param {Object} options.headers\r\n * @param {Object} options.query\r\n * @param {Object} options.body\r\n * @param {number} options.delay\r\n */\r\nconst sendRequest = (options) => {\r\n  const opts = { ...defaultOptions, ...options }\r\n  const req = request[opts.method](opts.endpoint)\r\n\r\n  if (opts.headers) {\r\n    req.set({\r\n      ...opts.headers,\r\n    })\r\n  }\r\n\r\n  if (opts.timeout) {\r\n    req.timeout({\r\n      response: 5000,  // Wait 5 seconds for the server to start sending,\r\n      deadline: 60000, // but allow 1 minute for the file to finish loading.\r\n      ...opts.timeout,\r\n    })\r\n  }\r\n\r\n  if (opts.query) {\r\n    req.query(opts.query)\r\n  }\r\n\r\n  if (opts.body) {\r\n    req.send(opts.body)\r\n  }\r\n\r\n  if (opts.sameOrigin) {\r\n    req.withCredentials()\r\n  }\r\n\r\n  const responseHandler = createResponseHandler(req, opts)\r\n  //@ts-ignore\r\n  responseHandler.abort = req.abort.bind(req)\r\n\r\n  return responseHandler\r\n}\r\n\r\nconst requestByMethod = (method) => (endpoint, opts = {}) => sendRequest({ ...opts, endpoint, method })\r\n\r\n\r\nexport default {\r\n  get: requestByMethod('get'),\r\n  post: requestByMethod('post'),\r\n  patch: requestByMethod('patch'),\r\n  put: requestByMethod('put'),\r\n  delete: requestByMethod('delete'),\r\n}\r\n","const getUnixTimeStamp = () => Math.floor(new Date().getTime() / 1000)\r\n\r\nexport default getUnixTimeStamp\r\n","import request from './request'\r\nimport getUnixTimeStamp from './getUnixTimeStamp'\r\n\r\n\r\nconst apiStatuses = {}\r\nconst apiQuery = {}\r\nconst apiQueryTimers = {}\r\nconst apiQueryTicks = 10\r\n\r\nconst apiQueryTimer = (queryName) => {\r\n  if (apiQuery[queryName].length) {\r\n    const queryChunk = apiQuery[queryName].shift()\r\n    const {\r\n      method,\r\n      api,\r\n      endpoint,\r\n      resolve: onResolve,\r\n      error: onError,\r\n      options,\r\n      options: {\r\n        inQuery: {\r\n          delay,\r\n        },\r\n      },\r\n    } = queryChunk\r\n\r\n    apiLooper(method, api, endpoint, options).then((answer) => {\r\n      onResolve(answer)\r\n      apiQueryTimers[queryName] = setTimeout(() => {\r\n        apiQueryTimer(queryName)\r\n      }, delay)\r\n\r\n    }).catch((error) => {\r\n      onError(error)\r\n      apiQueryTimers[queryName] = setTimeout(() => {\r\n        apiQueryTimer(queryName)\r\n      }, delay)\r\n    })\r\n  } else {\r\n    apiQueryTimers[queryName] = setTimeout(() => {\r\n      apiQueryTimer(queryName)\r\n    }, apiQueryTicks)\r\n  }\r\n}\r\n\r\nconst apiQueryInit = (queryName) => {\r\n  if (!apiQuery[queryName]) apiQuery[queryName] = []\r\n  if (!apiQueryTimers[queryName]) { apiQueryTimers[queryName] = setTimeout(() => {\r\n    apiQueryTimer(queryName)\r\n  }, apiQueryTicks) }\r\n}\r\n\r\nconst initApiStatus = (name, apiServers) => {\r\n  const stat = {\r\n    name,\r\n    endpoints: {},\r\n    prior: [],\r\n    last: false,\r\n  }\r\n\r\n  if (apiServers instanceof Array) {\r\n    apiServers.forEach((url, index) => {\r\n      stat.endpoints[url] = {\r\n        url,\r\n        lastCheck: getUnixTimeStamp(),\r\n        online: true,\r\n      }\r\n      //@ts-ignore: strictNullChecks\r\n      stat.prior.push(url)\r\n    })\r\n    stat.last = apiServers[apiServers.length - 1]\r\n  } else {\r\n    stat.endpoints[apiServers] = {\r\n      url: apiServers,\r\n      lastCheck: getUnixTimeStamp(),\r\n      online: true,\r\n    }\r\n    //@ts-ignore: strictNullChecks\r\n    stat.prior.push(apiServers)\r\n    stat.last = apiServers\r\n  }\r\n  apiStatuses[name] = stat\r\n}\r\n\r\nconst switchNext = (api) => {\r\n  if (apiStatuses[api]) {\r\n    if (apiStatuses[api].prior[0] === apiStatuses[api].last) return false\r\n\r\n    const apiPrioritet = apiStatuses[api].prior\r\n\r\n    const current = apiPrioritet.shift()\r\n    apiPrioritet.push(current)\r\n    apiStatuses[api].prior = apiPrioritet\r\n    apiStatuses[api].endpoints[current].online = false\r\n    apiStatuses[api].endpoints[current].lastCheck = getUnixTimeStamp()\r\n\r\n    return true\r\n  }\r\n  return false\r\n}\r\n\r\nconst apiLooper = (method, api, endpoint, options) => {\r\n  const {\r\n    inQuery,\r\n    ignoreErrors,\r\n    reportErrors,\r\n  } = options || {}\r\n\r\n  const {\r\n    name: apiName,\r\n    servers: apiServers,\r\n  } = api\r\n\r\n  if (inQuery && !inQuery.inited) {\r\n    return new Promise((resolve, error) => {\r\n      const { name } = inQuery\r\n      const queryName = `${api}_${name}`\r\n\r\n      apiQueryInit(queryName)\r\n\r\n      apiQuery[queryName].push({\r\n        method,\r\n        api,\r\n        endpoint,\r\n        options: {\r\n          ...options,\r\n          inQuery: {\r\n            ...inQuery,\r\n            inited: true,\r\n          },\r\n        },\r\n        resolve,\r\n        error,\r\n      })\r\n\r\n    })\r\n  }\r\n\r\n  if (!apiStatuses[apiName]) {\r\n    initApiStatus(apiName, apiServers)\r\n  }\r\n\r\n  const apiStatus = apiStatuses[apiName]\r\n\r\n  if (apiStatus) {\r\n    return new Promise((resolve, error) => {\r\n      const doRequest = () => {\r\n        const currentEndpoint = apiStatus.endpoints[apiStatus.prior[0]]\r\n        if (currentEndpoint.online) {\r\n          const url = `${currentEndpoint.url}${endpoint}`\r\n\r\n          request[method](url, options)\r\n            .then((answer) => {\r\n              if (options && options.checkStatus instanceof Function) {\r\n                if (!options.checkStatus(answer)) {\r\n                  if (switchNext(api)) {\r\n                    doRequest()\r\n                  } else {\r\n                    error('All endpoints of api is offline')\r\n                  }\r\n                  return\r\n                }\r\n              }\r\n              resolve(answer)\r\n            })\r\n            .catch((answer) => {\r\n              if (reportErrors instanceof Function) {\r\n                let skipDefResolve = false\r\n                const swithToNextServer = reportErrors(\r\n                  answer,\r\n                  (resolveResult) => {\r\n                    skipDefResolve = true\r\n                    resolve(resolveResult)\r\n                  },\r\n                  (rejectResult) => {\r\n                    error(rejectResult)\r\n                  }\r\n                )\r\n                if (!swithToNextServer) {\r\n                  if (!skipDefResolve) resolve(answer)\r\n                  return\r\n                }\r\n              }\r\n              if (ignoreErrors) {\r\n                resolve(answer)\r\n                return\r\n              }\r\n              if (switchNext(apiName)) {\r\n                doRequest()\r\n              } else {\r\n                error('All endpoints of api is offline')\r\n              }\r\n            })\r\n        } else {\r\n          error('All endpoints of api is offline')\r\n        }\r\n      }\r\n      doRequest()\r\n    })\r\n  }\r\n  return new Promise((resolve, error) => { error('Api not found') })\r\n\r\n}\r\n\r\n\r\nexport default {\r\n  get: (api, endpoint, options?) => apiLooper('get', api, endpoint, options),\r\n  post: (api, endpoint, options?) => apiLooper('post', api, endpoint, options),\r\n}\r\n","export default Object.freeze({\r\n  DUST_SAT: 546,\r\n  TX_SIZE: 15,\r\n\r\n  // about address types\r\n  // https://medium.com/coinmonks/on-bitcoin-transaction-sizes-part-2-9445373d17f4\r\n\r\n  // P2PKH: \"Pay To Public Key Hash\"\r\n  P2PKH_IN_SIZE: 148,\r\n  P2PKH_OUT_SIZE: 34,\r\n\r\n  // P2SH: \"Pay to script hash\"\r\n  // P2SH_IN_SIZE: has a variable size (depends on the script)\r\n  P2SH_OUT_SIZE: 32,\r\n  P2SH_IN_SIZE: 320, // medium value of swap script input\r\n\r\n  // P2WSH: \"Pay to Witness Script Hash\"\r\n  P2WSH_IN_SIZE: 41,\r\n  P2WSH_OUT_SIZE: 43,\r\n\r\n  // P2WPKH: \"Pay To Witness Public Key Hash\"\r\n  P2WPKH_IN_SIZE: 108, // 67.75 | 41 ?\r\n  P2WPKH_OUT_SIZE: 31,\r\n\r\n  P2SH_P2WPKH_IN_SIZE: 108, // 91 | 64 ?\r\n\r\n  MULTISIG_P2SH_IN_SIZE: 49,\r\n  MULTISIG_P2WSH_IN_SIZE: 6,\r\n\r\n  // Multi-Signature - Pay To Script Hash - Pay to Witness Script Hash\r\n  MULTISIG_P2SH_P2WSH_IN_SIZE: 6, // 76 ?\r\n})","export default {\r\n  arbeth: {\r\n    limit: {\r\n      send: 700 * 1e3,\r\n      contractInteract: 10000 * 1e3,\r\n      // ? heed to check how much for swaps ?\r\n      swap: 4000 * 1e3,\r\n    },\r\n    price: {\r\n      slow: 0.1 * 1e8,\r\n      normal: 1 * 1e8,\r\n      fast: 2 * 1e8,\r\n    },\r\n  },\r\n  aureth: {\r\n    limit: {\r\n      send: 42 * 1e3,\r\n      contractInteract: 400 * 1e3,\r\n      // ? heed to check how much for swaps ?\r\n      swap: 140 * 1e3,\r\n    },\r\n    price: {\r\n      slow: 0.1 * 1e7,\r\n      normal: 1 * 1e7,\r\n      fast: 2 * 1e7,\r\n    },\r\n  },\r\n  aurethToken: {\r\n    limit: {\r\n      send: 200 * 1e3,\r\n      swap: 600 * 1e3,\r\n      swapDeposit: 340 * 1e3,\r\n      swapWithdraw: 200 * 1e3,\r\n    },\r\n    price: {\r\n      slow: 0.1 * 1e7,\r\n      normal: 1 * 1e7,\r\n      fast: 2 * 1e7,\r\n    },\r\n  },\r\n  phi_v1: {\r\n    limit: {\r\n      send: 21 * 1e3,\r\n      contractInteract: 200 * 1e3,\r\n      swap: 70 * 1e3,\r\n    },\r\n    price: {\r\n      slow: 100,\r\n      normal: 1000,\r\n      fast: 2000,\r\n    },\r\n  },\r\n  phi: {\r\n    limit: {\r\n      send: 21 * 1e3,\r\n      contractInteract: 200 * 1e3,\r\n      swap: 70 * 1e3,\r\n    },\r\n    price_fixed: 2,\r\n    price: {\r\n      slow: 2, //100,\r\n      normal: 2, //1000,\r\n      fast: 2, //2000,\r\n    },\r\n  },\r\n  fkw: {\r\n    limit: {\r\n      send: 21 * 1e3,\r\n      contractInteract: 200 * 1e3,\r\n      swap: 70 * 1e3,\r\n    },\r\n    price: {\r\n      slow: 100,\r\n      normal: 1000,\r\n      fast: 2000,\r\n    },\r\n  },\r\n  phpx: {\r\n    limit: {\r\n      send: 21 * 1e3,\r\n      contractInteract: 200 * 1e3,\r\n      swap: 70 * 1e3,\r\n    },\r\n    price: {\r\n      slow: 100,\r\n      normal: 1000,\r\n      fast: 2000,\r\n    },\r\n  },\r\n  evmLike: {\r\n    limit: {\r\n      send: 21 * 1e3,\r\n      contractInteract: 200 * 1e3,\r\n      swap: 70 * 1e3,\r\n    },\r\n    price: {\r\n      slow: 0.1 * 1e9,\r\n      normal: 1 * 1e9,\r\n      fast: 2 * 1e9,\r\n    },\r\n  },\r\n  evmLikeToken: {\r\n    limit: {\r\n      send: 100 * 1e3,\r\n      swap: 300 * 1e3,\r\n      swapDeposit: 170 * 1e3,\r\n      swapWithdraw: 100 * 1e3,\r\n    },\r\n    price: {\r\n      slow: 0.1 * 1e9,\r\n      normal: 1 * 1e9,\r\n      fast: 2 * 1e9,\r\n    },\r\n  },\r\n  btc: {\r\n    size: {\r\n      send: 226,\r\n      swap: 400,\r\n    },\r\n    rate: {\r\n      slow: 5 * 1e3,\r\n      normal: 15 * 1e3,\r\n      fast: 30 * 1e3,\r\n    },\r\n  },\r\n  ghost: {\r\n    size: {\r\n      send: 226,\r\n      swap: 400,\r\n    },\r\n    rate: {\r\n      slow: 5 * 1e3,\r\n      normal: 15 * 1e3,\r\n      fast: 30 * 1e3,\r\n    },\r\n  },\r\n  next: {\r\n    size: {\r\n      send: 226,\r\n      swap: 400,\r\n    },\r\n    rate: {\r\n      slow: 5 * 1e3,\r\n      normal: 15 * 1e3,\r\n      fast: 30 * 1e3,\r\n    },\r\n  },\r\n}\r\n","export default {\r\n  eth: 0.001,\r\n  bnb: 0.001,\r\n  matic: 0.001,\r\n  arbeth: 0.001,\r\n  aureth: 0.001,\r\n  xdai: 0.001,\r\n  ftm: 0.001,\r\n  avax: 0.001,\r\n  movr: 0.001,\r\n  one: 0.001,\r\n  phi_v1: 0.001,\r\n  phi: 0.001,\r\n  fkw: 0.001,\r\n  phpx: 0.001,\r\n  ame: 0.001,\r\n  btc: 0.00015,\r\n  ghost: 0.00015,\r\n  next: 0.00015,\r\n  btc_multisig_2n2: 0.00015,\r\n  btc_multisig_2fa: 0.00015,\r\n  noxon: 1,\r\n  swap: 1,\r\n  jot: 1,\r\n  usdt: 0,\r\n  erc: 1,\r\n}\r\n","/*\r\n* Dinamic fee because the price changes globally\r\n* Transfer amount does not affect it\r\n*/\r\nexport default [\r\n  'eth',\r\n  'bnb',\r\n  'matic',\r\n  'arbeth',\r\n  'aureth',\r\n  'phi_v1',\r\n  'phi',\r\n  'xdai',\r\n  'ftm',\r\n  'avax',\r\n  'movr',\r\n  'one',\r\n  'ame',\r\n  'btc',\r\n  'ghost',\r\n  'next',\r\n  'fkw',\r\n  'phpx',\r\n]","export default {\r\n  TOKEN_SWAP: [{ \"constant\": false, \"inputs\": [{ \"name\": \"_secret\", \"type\": \"bytes32\" }, { \"name\": \"_ownerAddress\", \"type\": \"address\" }], \"name\": \"withdraw\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [{ \"name\": \"_participantAddress\", \"type\": \"address\" }], \"name\": \"getSecret\", \"outputs\": [{ \"name\": \"\", \"type\": \"bytes32\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [{ \"name\": \"_secretHash\", \"type\": \"bytes20\" }, { \"name\": \"_participantAddress\", \"type\": \"address\" }, { \"name\": \"_targetWallet\", \"type\": \"address\" }, { \"name\": \"_value\", \"type\": \"uint256\" }, { \"name\": \"_token\", \"type\": \"address\" }], \"name\": \"createSwapTarget\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [{ \"name\": \"_secret\", \"type\": \"bytes32\" }, { \"name\": \"participantAddress\", \"type\": \"address\" }], \"name\": \"withdrawNoMoney\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [], \"name\": \"owner\", \"outputs\": [{ \"name\": \"\", \"type\": \"address\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [{ \"name\": \"\", \"type\": \"address\" }, { \"name\": \"\", \"type\": \"address\" }], \"name\": \"swaps\", \"outputs\": [{ \"name\": \"token\", \"type\": \"address\" }, { \"name\": \"targetWallet\", \"type\": \"address\" }, { \"name\": \"secret\", \"type\": \"bytes32\" }, { \"name\": \"secretHash\", \"type\": \"bytes20\" }, { \"name\": \"createdAt\", \"type\": \"uint256\" }, { \"name\": \"balance\", \"type\": \"uint256\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [{ \"name\": \"_ownerAddress\", \"type\": \"address\" }, { \"name\": \"_participantAddress\", \"type\": \"address\" }], \"name\": \"closeSwapByAdminAfterOneYear\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [{ \"name\": \"_secretHash\", \"type\": \"bytes20\" }, { \"name\": \"_participantAddress\", \"type\": \"address\" }, { \"name\": \"_value\", \"type\": \"uint256\" }, { \"name\": \"_token\", \"type\": \"address\" }], \"name\": \"createSwap\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [{ \"name\": \"_secret\", \"type\": \"bytes32\" }, { \"name\": \"_ownerAddress\", \"type\": \"address\" }, { \"name\": \"participantAddress\", \"type\": \"address\" }], \"name\": \"withdrawOther\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [{ \"name\": \"tokenOwnerAddress\", \"type\": \"address\" }], \"name\": \"getTargetWallet\", \"outputs\": [{ \"name\": \"\", \"type\": \"address\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [], \"name\": \"admin\", \"outputs\": [{ \"name\": \"\", \"type\": \"address\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [{ \"name\": \"_ownerAddress\", \"type\": \"address\" }], \"name\": \"getBalance\", \"outputs\": [{ \"name\": \"\", \"type\": \"uint256\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [{ \"name\": \"_participantAddress\", \"type\": \"address\" }], \"name\": \"refund\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"inputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"constructor\" }, { \"anonymous\": false, \"inputs\": [{ \"indexed\": false, \"name\": \"token\", \"type\": \"address\" }, { \"indexed\": false, \"name\": \"_buyer\", \"type\": \"address\" }, { \"indexed\": false, \"name\": \"_seller\", \"type\": \"address\" }, { \"indexed\": false, \"name\": \"_value\", \"type\": \"uint256\" }, { \"indexed\": false, \"name\": \"_secretHash\", \"type\": \"bytes20\" }, { \"indexed\": false, \"name\": \"createdAt\", \"type\": \"uint256\" }], \"name\": \"CreateSwap\", \"type\": \"event\" }, { \"anonymous\": false, \"inputs\": [{ \"indexed\": false, \"name\": \"_buyer\", \"type\": \"address\" }, { \"indexed\": false, \"name\": \"_seller\", \"type\": \"address\" }, { \"indexed\": false, \"name\": \"_secretHash\", \"type\": \"bytes20\" }, { \"indexed\": false, \"name\": \"withdrawnAt\", \"type\": \"uint256\" }], \"name\": \"Withdraw\", \"type\": \"event\" }, { \"anonymous\": false, \"inputs\": [{ \"indexed\": false, \"name\": \"_buyer\", \"type\": \"address\" }, { \"indexed\": false, \"name\": \"_seller\", \"type\": \"address\" }, { \"indexed\": false, \"name\": \"_secretHash\", \"type\": \"bytes20\" }], \"name\": \"Refund\", \"type\": \"event\" }],\r\n  NATIVE_COIN_SWAP: [{ \"constant\": false, \"inputs\": [{ \"name\": \"_secret\", \"type\": \"bytes32\" }, { \"name\": \"_ownerAddress\", \"type\": \"address\" }], \"name\": \"withdraw\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [{ \"name\": \"_participantAddress\", \"type\": \"address\" }], \"name\": \"getSecret\", \"outputs\": [{ \"name\": \"\", \"type\": \"bytes32\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [{ \"name\": \"\", \"type\": \"address\" }, { \"name\": \"\", \"type\": \"address\" }], \"name\": \"participantSigns\", \"outputs\": [{ \"name\": \"\", \"type\": \"uint256\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [{ \"name\": \"_secret\", \"type\": \"bytes32\" }, { \"name\": \"participantAddress\", \"type\": \"address\" }], \"name\": \"withdrawNoMoney\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [], \"name\": \"owner\", \"outputs\": [{ \"name\": \"\", \"type\": \"address\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [{ \"name\": \"_secretHash\", \"type\": \"bytes20\" }, { \"name\": \"_participantAddress\", \"type\": \"address\" }, { \"name\": \"_targetWallet\", \"type\": \"address\" }], \"name\": \"createSwapTarget\", \"outputs\": [], \"payable\": true, \"stateMutability\": \"payable\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [{ \"name\": \"\", \"type\": \"address\" }, { \"name\": \"\", \"type\": \"address\" }], \"name\": \"swaps\", \"outputs\": [{ \"name\": \"targetWallet\", \"type\": \"address\" }, { \"name\": \"secret\", \"type\": \"bytes32\" }, { \"name\": \"secretHash\", \"type\": \"bytes20\" }, { \"name\": \"createdAt\", \"type\": \"uint256\" }, { \"name\": \"balance\", \"type\": \"uint256\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [{ \"name\": \"_ownerAddress\", \"type\": \"address\" }, { \"name\": \"_participantAddress\", \"type\": \"address\" }], \"name\": \"closeSwapByAdminAfterOneYear\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [{ \"name\": \"_secretHash\", \"type\": \"bytes20\" }, { \"name\": \"_participantAddress\", \"type\": \"address\" }], \"name\": \"createSwap\", \"outputs\": [], \"payable\": true, \"stateMutability\": \"payable\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [{ \"name\": \"_secret\", \"type\": \"bytes32\" }, { \"name\": \"_ownerAddress\", \"type\": \"address\" }, { \"name\": \"participantAddress\", \"type\": \"address\" }], \"name\": \"withdrawOther\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [], \"name\": \"ratingContractAddress\", \"outputs\": [{ \"name\": \"\", \"type\": \"address\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [{ \"name\": \"_ownerAddress\", \"type\": \"address\" }], \"name\": \"getTargetWallet\", \"outputs\": [{ \"name\": \"\", \"type\": \"address\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [], \"name\": \"admin\", \"outputs\": [{ \"name\": \"\", \"type\": \"address\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [{ \"name\": \"_ownerAddress\", \"type\": \"address\" }], \"name\": \"getBalance\", \"outputs\": [{ \"name\": \"\", \"type\": \"uint256\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [{ \"name\": \"_participantAddress\", \"type\": \"address\" }], \"name\": \"refund\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"inputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"constructor\" }, { \"anonymous\": false, \"inputs\": [{ \"indexed\": false, \"name\": \"_buyer\", \"type\": \"address\" }, { \"indexed\": false, \"name\": \"_seller\", \"type\": \"address\" }, { \"indexed\": false, \"name\": \"_value\", \"type\": \"uint256\" }, { \"indexed\": false, \"name\": \"_secretHash\", \"type\": \"bytes20\" }, { \"indexed\": false, \"name\": \"createdAt\", \"type\": \"uint256\" }], \"name\": \"CreateSwap\", \"type\": \"event\" }, { \"anonymous\": false, \"inputs\": [{ \"indexed\": false, \"name\": \"_buyer\", \"type\": \"address\" }, { \"indexed\": false, \"name\": \"_seller\", \"type\": \"address\" }, { \"indexed\": false, \"name\": \"_secretHash\", \"type\": \"bytes20\" }, { \"indexed\": false, \"name\": \"withdrawnAt\", \"type\": \"uint256\" }], \"name\": \"Withdraw\", \"type\": \"event\" }, { \"anonymous\": false, \"inputs\": [{ \"indexed\": false, \"name\": \"_buyer\", \"type\": \"address\" }, { \"indexed\": false, \"name\": \"_seller\", \"type\": \"address\" }], \"name\": \"Close\", \"type\": \"event\" }, { \"anonymous\": false, \"inputs\": [{ \"indexed\": false, \"name\": \"_buyer\", \"type\": \"address\" }, { \"indexed\": false, \"name\": \"_seller\", \"type\": \"address\" }, { \"indexed\": false, \"name\": \"_secretHash\", \"type\": \"bytes20\" }], \"name\": \"Refund\", \"type\": \"event\" }],\r\n}","export const ZERO_ADDRESS = '0x0000000000000000000000000000000000000000'\r\nexport const EVM_COIN_ADDRESS = '0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee'\r\n\r\nexport const WrapperCurrency = {\r\n  // mainnet\r\n  1: '0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2',\r\n  56: '0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c',\r\n  137: '0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270',\r\n  100: '0xe91D153E0b41518A2Ce8Dd3D7944Fa863463a97d',\r\n  250: '0x21be370D5312f44cB42ce377BC9b8a0cEF1A4C83',\r\n  1285: '0xf50225a84382c74cbdea10b0c176f71fc3de0c4d',\r\n  43114: '0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7',\r\n  42161: '',\r\n  1666600000: '0xcf664087a5bb0237a0bad6742852ec6c8d69a27a',\r\n  1313161554: '0xc9bdeed33cd01541e1eed10f90519d2c06fe3feb',\r\n  4181: '0xb61d26717dbd2ea6ebf4fadae02a28782f86864c',\r\n  180: '0xCc9bD40124EfedF6F198B8b5b50697dC635FaaC4',\r\n  144: '0x1278e0AdBc93291A54384594A9c27Da9f5890a9F', // phi-v2\r\n  40821: '0x325A2531D28e22D37935B65bd718D1244968dAae', // Fokawa (FKW)\r\n  // testnet\r\n  4: '0xc778417e063141139fce010982780140aa0cd5ab',\r\n  97: '0xae13d989dac2f0debff460ac112a837c89baa7cd',\r\n  80001: '0x9c3c9283d3e44854697cd22d3faa240cfb032889',\r\n  77: '0x79D5C019F2515Cbc0596170Da44FCd26412c4f83',\r\n  4002: '0xf1277d1Ed8AD466beddF92ef448A132661956621',\r\n  1287: '0xbd23fCD60bD2682dea6A3aad84b498c54d56c494',\r\n  43113: '0xD9D01A9F7C810EC035C0e42cB9E80Ef44D7f8692',\r\n  181: '',\r\n  421611: '',\r\n  1666700000: '',\r\n  1313161556: '',\r\n  \r\n  52767: '0x87a6417F03E106A05698F18829bB3a40CBC54f61', // PHPx Mainnet Wrapped\r\n  \r\n}\r\n\r\nexport default {\r\n  ZERO_ADDRESS,\r\n  EVM_COIN_ADDRESS,\r\n  WrapperCurrency,\r\n}\r\n","import TRANSACTION from './TRANSACTION'\r\nimport DEFAULT_CURRENCY_PARAMETERS from './DEFAULT_CURRENCY_PARAMETERS'\r\nimport MIN_AMOUNT from './MIN_AMOUNT'\r\nimport MIN_AMOUNT_OFFER from './MIN_AMOUNT_OFFER'\r\nimport COINS_WITH_DYNAMIC_FEE from './COINS_WITH_DYNAMIC_FEE'\r\nimport EVM_CONTRACTS_ABI from './EVM_CONTRACTS_ABI'\r\nimport ADDRESSES from './ADDRESSES'\r\n\r\nexport default {\r\n  ADDRESSES,\r\n  TRANSACTION,\r\n  DEFAULT_CURRENCY_PARAMETERS,\r\n  MIN_AMOUNT,\r\n  MIN_AMOUNT_OFFER,\r\n  COINS_WITH_DYNAMIC_FEE,\r\n  EVM_CONTRACTS_ABI,\r\n}\r\n","export default {\r\n  eth: 0.0006,\r\n  bnb: 0.0006,\r\n  matic: 0.0006,\r\n  arbeth: 0.0006,\r\n  aureth: 0.0006,\r\n  xdai: 0.0006,\r\n  ftm: 0.0006,\r\n  phpx: 0.0006,\r\n  avax: 0.0006,\r\n  movr: 0.0006,\r\n  one: 0.0006,\r\n  ame: 0.0006,\r\n  phi_v1: 0.0006,\r\n  phi: 0.0006,\r\n  fkw: 0.0006,\r\n  btc: 0.0002,\r\n  jot: 1,\r\n  usdt: 0,\r\n  erc: 1,\r\n}\r\n","export default {\r\n  zeroxSepolia: 'https://sepolia.api.0x.org',\r\n  zeroxMumbai: 'https://mumbai.api.0x.org',\r\n  oneinch: 'https://api.1inch.exchange/v3.0',\r\n  limitOrders: 'https://limit-orders.1inch.exchange/v1.0',\r\n  horizon: 'https://horizon-testnet.stellar.org',\r\n  blocktrail: 'https://api.blocktrail.com/v1/tBTC',\r\n  bitpay: [\r\n    'https://api.bitcore.io/api/BTC/testnet',\r\n    // 'https://test-insight.bitpay.com/api',\r\n    // 'http://localhost:32250/btc/testnet',\r\n    // 'https://test-insight.swaponline.io/insight-api',\r\n    // 'https://invoices.swaponline.site/proxybitpay-testnet',\r\n  ],\r\n  ghostscan: 'https://testnet.ghostscan.io/ghost-insight-api',\r\n  nextscan: 'https://explore.next.exchange/#',\r\n  nextExplorer: 'https://next.swaponline.io/mainnet',\r\n  nextExplorerCustom: 'https://next.swaponline.io/mainnet',\r\n  blockcypher: 'https://api.blockcypher.com/v1/btc/test3',\r\n  etherscan: 'https://api-rinkeby.etherscan.io/api',\r\n  etherscanInvoices: 'https://invoices.swaponline.site/proxyetherscan-testnet',\r\n  etherscan_ApiKey: 'GK6YHJ5NMEF67R4FTRNQS2EK3HRBP5VVHW',\r\n  bscscan: 'https://api-testnet.bscscan.com/api',\r\n  // TODO: replace proxy link\r\n  bscscanInvoices: 'https://invoices.onout.org/proxyetherscan-testnet',\r\n  bscscan_ApiKey: 'WI4QEJSV19U3TF2H1DPQ2HR6712HW4MYKJ',\r\n  maticscan: 'https://api-testnet.polygonscan.com/api',\r\n  polygon_ApiKey: '8S2R45ZWG94HI7YK9RCXSK4VCASJ4XVA15',\r\n  ftmscan: 'https://api-testnet.ftmscan.com/api',\r\n  ftm_ApiKey: 'J39MXI2KQ7YWFR3JGYHPVYK1MIH132QSXP',\r\n  avaxscan: 'https://testnet.snowtrace.io/api',\r\n  avax_ApiKey: 'BEDYVGMKPM4HXIVD16B1Z66D5R75D9AHNC',\r\n  movrscan: 'https://api-moonbase.moonscan.io/api',\r\n  movr_ApiKey: 'VHG8YAQMA78MAQKU7C73Z4UQ2A83S4IBGW',\r\n  onescan: '',\r\n  one_ApiKey: '',\r\n  amescan: '',\r\n  ame_ApiKey: '',\r\n  aurorascan: 'https://api-testnet.aurorascan.dev/api',\r\n  aurora_ApiKey: 'J9ZZ9C6FI4YHJVISBI2VYRRJ1MTU3ID45Q',\r\n  faucet: 'https://faucet.onout.org/testnet/',\r\n  btc2FAProtected: 'https://2fa.onout.org',\r\n  btcPin: 'https://2fapin.onout.org',\r\n  invoiceApi: 'https://invoices.onout.org',\r\n  multisig: 'https://multisig.onout.org',\r\n  txinfo: 'https://txinfo.onout.org',\r\n  noxon: 'https://noxon.wpmix.net',\r\n  WalletConnectProjectId: 'a23677c4af3139b4eccb52981f76ad94',\r\n  InfuraApiKey: 'fdd4494101ed4a28b41bb66d7fe9c692',\r\n}\r\n","export default {\r\n  zeroxEthereum: 'https://api.0x.org',\r\n  zeroxBsc: 'https://bsc.api.0x.org',\r\n  zeroxPolygon: 'https://polygon.api.0x.org',\r\n  zeroxFantom: 'https://fantom.api.0x.org',\r\n  zeroxAvalanche: 'https://avalanche.api.0x.org',\r\n  zeroxArbitrum: 'https://arbitrum.api.0x.org',\r\n  oneinch: 'https://api.1inch.exchange/v3.0',\r\n  limitOrders: 'https://limit-orders.1inch.exchange/v1.0',\r\n  horizon: 'https://horizon.stellar.org',\r\n  blocktrail: 'https://api.blocktrail.com/v1/BTC',\r\n  bitpay: [\r\n  'https://api.bitcore.io/api/BTC/mainnet',\r\n    //'https://insight.bitpay.com/api',\r\n    //'https://invoices.swaponline.site/proxybitpay',\r\n  ],\r\n  ghostscan: 'https://ghostscan.io/ghost-insight-api',\r\n  nextscan: 'https://explore.next.exchange/#',\r\n  nextExplorer: 'https://next.swaponline.io/mainnet',\r\n  nextExplorerCustom: 'https://next.swaponline.io/mainnet',\r\n  blockcypher: 'https://api.blockcypher.com/v1/btc/main',\r\n  etherscan: 'https://api.etherscan.io/api',\r\n  etherscanInvoices: 'https://invoices.onout.org/proxyetherscan',\r\n  etherscan_ApiKey: 'GK6YHJ5NMEF67R4FTRNQS2EK3HRBP5VVHW',\r\n  bscscan: 'https://api.bscscan.com/api',\r\n  bscscan_ApiKey: 'WI4QEJSV19U3TF2H1DPQ2HR6712HW4MYKJ',\r\n  maticscan: 'https://api.polygonscan.com/api',\r\n  polygon_ApiKey: '8S2R45ZWG94HI7YK9RCXSK4VCASJ4XVA15',\r\n  ftmscan: 'https://api.ftmscan.com/api',\r\n  ftm_ApiKey: 'J39MXI2KQ7YWFR3JGYHPVYK1MIH132QSXP',\r\n  avaxscan: 'https://snowtrace.io/api',\r\n  avax_ApiKey: 'BEDYVGMKPM4HXIVD16B1Z66D5R75D9AHNC',\r\n  movrscan: 'https://api-moonriver.moonscan.io/api',\r\n  movr_ApiKey: 'VHG8YAQMA78MAQKU7C73Z4UQ2A83S4IBGW',\r\n  onescan: '',\r\n  one_ApiKey: '',\r\n  amescan: '',\r\n  ame_ApiKey: '',\r\n  aurorascan: 'https://api.aurorascan.dev/api',\r\n  aurora_ApiKey: 'J9ZZ9C6FI4YHJVISBI2VYRRJ1MTU3ID45Q',\r\n  faucet: 'https://faucet.onout.org/mainnet/', // deprecated\r\n  btc2FAProtected: 'https://2fa.onout.org',\r\n  btcPin: 'https://2fapin.onout.org',\r\n  invoiceApi: 'https://invoices.onout.org',\r\n  multisig: 'https://multisig.onout.org',\r\n  txinfo: 'https://txinfo.onout.org',\r\n  noxon: 'https://noxon.wpmix.net',\r\n  phiscan: 'https://phiscan.com/api',\r\n  fkwscan: 'https://explorer.fokawa.com/api',\r\n  phpxscan: 'https://explorer.phpx.network/api',\r\n  WalletConnectProjectId: 'a23677c4af3139b4eccb52981f76ad94',\r\n  InfuraApiKey: 'fdd4494101ed4a28b41bb66d7fe9c692',\r\n}\r\n","import apiLooper from '../apiLooper'\r\nimport { BigNumber } from 'bignumber.js'\r\nimport * as bitcoin from 'bitcoinjs-lib'\r\nimport typeforce from 'swap.app/util/typeforce'\r\nimport constants from 'common/helpers/constants'\r\nimport DEFAULT_CURRENCY_PARAMETERS from 'common/helpers/constants/DEFAULT_CURRENCY_PARAMETERS'\r\n\r\n// Use front API config\r\nimport { default as TESTNET } from '../../../front/config/testnet/api'\r\nimport { default as MAINNET } from '../../../front/config/mainnet/api'\r\n\r\n\r\nconst DUST = 546\r\n\r\nconst getBitpay = (network) => {\r\n  return {\r\n    name: `apiBitpay`,\r\n    servers: (network === `MAINNET`)\r\n      ? MAINNET.bitpay\r\n      : TESTNET.bitpay\r\n  }\r\n}\r\n\r\nconst getCore = () => {\r\n  return bitcoin\r\n}\r\n\r\n\r\nconst getBlockcypher = (network) => {\r\n  return {\r\n    name: `apiBlockcypher`,\r\n    servers: (network === `MAINNET`)\r\n      ? MAINNET.blockcypher\r\n      : TESTNET.blockcypher\r\n  }\r\n}\r\n\r\nconst fetchBalance = (options) => {\r\n  const {\r\n    address,\r\n    withUnconfirmed,\r\n    apiBitpay,\r\n    cacheResponse,\r\n    NETWORK,\r\n  } = options\r\n\r\n  return apiLooper.get(apiBitpay || getBitpay(NETWORK), `/address/${address}/balance/`, {\r\n    cacheResponse,\r\n    checkStatus: (answer) => {\r\n      try {\r\n        if (answer && answer.balance !== undefined) return true\r\n      } catch (error) {\r\n        console.error('Utils - btc - fetch balance: ', error)\r\n      }\r\n      return false\r\n    },\r\n    inQuery: {\r\n      delay: 500,\r\n      name: `bitpay`,\r\n    },\r\n  }).then((answer: any) => {\r\n    const {\r\n      balance,\r\n      unconfirmed,\r\n    } = answer\r\n    if (withUnconfirmed) {\r\n      return {\r\n        balance: new BigNumber(balance).dividedBy(1e8).toNumber(),\r\n        unconfirmed: new BigNumber(unconfirmed).dividedBy(1e8).toNumber(),\r\n      }\r\n    } else {\r\n      return new BigNumber(balance).dividedBy(1e8).toNumber()\r\n    }\r\n  })\r\n}\r\n\r\nconst fetchTx = (options) => {\r\n  const {\r\n    hash,\r\n    apiBitpay,\r\n    cacheResponse,\r\n    NETWORK,\r\n  } = options\r\n\r\n  return apiLooper.get(apiBitpay || getBitpay(NETWORK), `/tx/${hash}`, {\r\n    cacheResponse,\r\n    checkStatus: (answer) => {\r\n      try {\r\n        if (answer && answer.fee !== undefined) return true\r\n      } catch (e) { /* */ }\r\n      return false\r\n    },\r\n    inQuery: {\r\n      delay: 500,\r\n      name: `bitpay`,\r\n    },\r\n  }).then(({ fee, ...rest }) => ({\r\n      fees: new BigNumber(fee).dividedBy(1e8).toNumber(),\r\n      ...rest,\r\n    }\r\n  ))\r\n}\r\n\r\n\r\n// @ToDo - Make interface - fetchTxInfo     -      \r\nconst fetchTxInfo = (options) : any => {\r\n  const {\r\n    hash,\r\n    apiBitpay,\r\n    cacheResponse,\r\n    hasAdminFee,\r\n    NETWORK,\r\n  } = options\r\n\r\n  return new Promise(async (callback, txinfoReject) => {\r\n    let baseTxInfo: any | boolean = false // @ToDo - make interface for baseTxInfo api answer\r\n    let txCoins: any | boolean = false // @ToDo - make interface for txCoins api answer\r\n\r\n    try {\r\n      baseTxInfo = await fetchTx({\r\n        hash,\r\n        apiBitpay,\r\n        cacheResponse,\r\n        NETWORK,\r\n      })\r\n    } catch (error) {\r\n      console.error('Fail fetch tx info', error)\r\n      txinfoReject(error)\r\n      return\r\n    }\r\n    try {\r\n      txCoins = await apiLooper.get(apiBitpay || getBitpay(NETWORK), `/tx/${hash}/coins`, {\r\n        cacheResponse,\r\n        /* checkStatus */\r\n        inQuery: {\r\n          delay: 500,\r\n          name: `bitpay`,\r\n        },\r\n      })\r\n    } catch (error) {\r\n      console.error('Failt fetch tx coin info', error)\r\n      txinfoReject(error)\r\n    }\r\n\r\n    let receiverAddress = null\r\n    let afterBalance = txCoins && txCoins.inputs && txCoins.inputs[1] \r\n      ? new BigNumber(txCoins.inputs[1].value).dividedBy(1e8).toNumber() \r\n      : null\r\n    let adminOutput = []\r\n    let adminFee : number | boolean = false\r\n    let afterOutput = []\r\n\r\n    if (!txCoins || !txCoins.inputs || !txCoins.outputs) {\r\n      console.error('tx coin info empty')\r\n      txinfoReject('tx coin info empty')\r\n    }\r\n\r\n    const senderAddress = txCoins && txCoins.inputs ? txCoins.inputs[0].address : null\r\n    const amount = new BigNumber(txCoins.outputs[0].value).dividedBy(1e8).toNumber()\r\n\r\n    if (hasAdminFee) {\r\n      adminOutput = txCoins.outputs.filter((out) => {\r\n        return (\r\n          out.address === hasAdminFee.address\r\n          && !(new BigNumber(out.value).eq(amount))\r\n        )\r\n      })\r\n    }\r\n\r\n\r\n    /*\r\n    // @ToDo - need fix\r\n    if (txCoins && txCoins.outputs) {\r\n      afterOutput = txCoins.outputs.filter(({ address }) => {\r\n        return (\r\n          address !== hasAdminFee.address\r\n        )\r\n      })\r\n    }\r\n    */\r\n\r\n    if (afterOutput.length) {\r\n      //@ts-ignore: strictNullChecks\r\n      afterBalance = new BigNumber(afterOutput[0].value).dividedBy(1e8).toNumber()\r\n    }\r\n\r\n    if (adminOutput.length) {\r\n      //@ts-ignore: strictNullChecks\r\n      adminFee = new BigNumber(adminOutput[0].value).dividedBy(1e8).toNumber()\r\n    }\r\n\r\n    \r\n    if (txCoins && txCoins.outputs && txCoins.outputs[0]) {\r\n      receiverAddress = txCoins.outputs[0].address\r\n    }\r\n\r\n    // @ToDo -   \r\n    const txInfo = {\r\n      txid: baseTxInfo.txid,\r\n      amount,\r\n      afterBalance,\r\n      senderAddress,\r\n      confirmed: !!(baseTxInfo.confirmations),\r\n      confirmations: baseTxInfo.confirmations,\r\n      receiverAddress,\r\n      \r\n      minerFee: baseTxInfo.fees,\r\n      adminFee,\r\n      minerFeeCurrency: 'BTC',\r\n\r\n      outputs: txCoins.outputs.map((output) => ({\r\n        ...output,\r\n        amount: new BigNumber(output.value).dividedBy(1e8).toNumber(),\r\n      })),\r\n      inputs: txCoins.inputs.map((input) => ({\r\n        ...input,\r\n        amount: new BigNumber(input.value).dividedBy(1e8).toNumber(),\r\n      })),\r\n      fees: baseTxInfo.fees,\r\n      size: baseTxInfo.size,\r\n    }\r\n\r\n    callback( txInfo )\r\n  })\r\n}\r\n\r\nexport interface IBtcUnspent {\r\n  address: string,\r\n  amount: number,\r\n  confirmations: number,\r\n  height: number,\r\n  satoshis: number,\r\n  scriptPubKey: string,\r\n  txid: string,\r\n  vout: number,\r\n  spentTxid: string,\r\n}\r\n// @To-do - make interface -       \r\nconst fetchUnspents = (options): Promise<IBtcUnspent[]> => {\r\n  const {\r\n    address,\r\n    apiBitpay,\r\n    cacheResponse,\r\n    NETWORK,\r\n  } = options\r\n\r\n  return new Promise((resolve, reject) => {\r\n    apiLooper.get(\r\n      apiBitpay || getBitpay(NETWORK),\r\n      `/address/${address}?unspent=true&limit=1000000`,\r\n      {\r\n        cacheResponse: (cacheResponse || 5000),\r\n        inQuery: {\r\n          delay: 500,\r\n          name: `bitpay`,\r\n        },\r\n      }\r\n    ).then((answer: any) => {\r\n      resolve(answer.map((txInfo, index) => {\r\n        return {\r\n          address,\r\n          amount: new BigNumber(txInfo.value).dividedBy(1e8).toNumber(),\r\n          confirmations: txInfo.confirmations,\r\n          height: txInfo.mintHeight,\r\n          satoshis: txInfo.value,\r\n          scriptPubKey: txInfo.script,\r\n          txid: txInfo.mintTxid,\r\n          vout: txInfo.mintIndex,\r\n          spentTxid: txInfo.spentTxid,\r\n        }\r\n      }))\r\n    }).catch((error) => {\r\n      console.error('btc fetchUnspents error', error)\r\n      reject(error)\r\n    })\r\n  })\r\n}\r\n\r\ninterface IPrepareUnspentsOptions {\r\n  amount: number,\r\n  unspents: IBtcUnspent[],\r\n}\r\n/**\r\n * Processes the UTXO for the specified amount (in satoshi)\r\n **/\r\nconst prepareUnspents = (options: IPrepareUnspentsOptions): Promise<IBtcUnspent[]> => {\r\n  const {\r\n    amount,\r\n    unspents,\r\n  } = options\r\n\r\n  return new Promise((resolve, reject) => {\r\n    const needAmount = new BigNumber(amount).multipliedBy(1e8).plus(DUST)\r\n    \r\n    // Sorting all unspent inputs from minimum amount to maximum\r\n    const sortedUnspents: IBtcUnspent[] = unspents.sort((a: IBtcUnspent, b: IBtcUnspent) => {\r\n      return (new BigNumber(a.satoshis).isEqualTo(b.satoshis))\r\n        ? 0\r\n        : (new BigNumber(a.satoshis).isGreaterThan(b.satoshis))\r\n          ? 1\r\n          : -1\r\n    })\r\n    \r\n    // let's try to find one unspent input which will enough for all commission\r\n    //@ts-ignore: strictNullChecks\r\n    let oneUnspent: IBtcUnspent = null\r\n    sortedUnspents.forEach((unspent: IBtcUnspent) => {\r\n      if (oneUnspent === null\r\n        && new BigNumber(unspent.satoshis).isGreaterThanOrEqualTo(needAmount)\r\n      ) {\r\n        oneUnspent = unspent\r\n        return false\r\n      }\r\n    })\r\n\r\n    // if we didn't find one unspent then we're looking for\r\n    // all unspent inputs which will enough (from min to max)\r\n    if (oneUnspent === null) {\r\n      let calcedAmount = new BigNumber(0)\r\n      const usedUnspents: IBtcUnspent[] = sortedUnspents.filter((unspent: IBtcUnspent) => {\r\n        if (calcedAmount.isGreaterThanOrEqualTo(needAmount)) {\r\n          return false\r\n        } else {\r\n          calcedAmount = calcedAmount.plus(unspent.satoshis)\r\n          return true\r\n        }\r\n      })\r\n      resolve(usedUnspents)\r\n    } else {\r\n      resolve([oneUnspent])\r\n    }\r\n  })\r\n}\r\n\r\n// @ToDo -  -   { txid }\r\nconst broadcastTx = (options): any => {\r\n  const {\r\n    txRaw,\r\n    apiBitpay,\r\n    apiBlocyper,\r\n    onBroadcastError,\r\n    NETWORK,\r\n  } = options\r\n\r\n  return new Promise(async (resolve, reject) => {\r\n    let answer : any | boolean = false // @ToDo - make interface for api answer \r\n    try {\r\n      answer = await apiLooper.post(apiBitpay || getBitpay(NETWORK), `/tx/send`, {\r\n        body: {\r\n          rawTx: txRaw,\r\n        },\r\n        reportErrors: (error) => {\r\n          console.log('BitPay broadcastTx error', error)\r\n          return true\r\n        },\r\n        inQuery: {\r\n          delay: 500,\r\n          name: `bitpay`,\r\n        },\r\n      })\r\n    } catch (bitpayError) {\r\n      console.log('BitPay broadcastTx error', bitpayError)\r\n      if (onBroadcastError instanceof Function) {\r\n        if (onBroadcastError(bitpayError)) reject()\r\n      }\r\n    }\r\n    if (answer && answer.txid) {\r\n      resolve({ txid: answer.txid })\r\n      return\r\n    }\r\n    if (!answer || !answer.txid) {\r\n      // use blockcryper\r\n      try {\r\n        const bcAnswer : any | boolean = await apiLooper.post(apiBlocyper || getBlockcypher(NETWORK), `/txs/push`, {\r\n          body: {\r\n            tx: txRaw,\r\n          },\r\n          reportErrors: (error) => {\r\n            if (error\r\n              && error.res\r\n              && error.res.res\r\n              && error.res.res.statusMessage\r\n              && error.res.res.statusMessage === `Conflict`\r\n            ) {\r\n              reject(`Conflict`)\r\n              return false\r\n            } else {\r\n              if (error\r\n                && error.res\r\n                && error.res.body\r\n                && error.res.body.error\r\n              ) {\r\n                reject(error.res.body.error)\r\n                return false\r\n              }\r\n            }\r\n            return true\r\n          },\r\n          inQuery: {\r\n            delay: 500,\r\n            name: `blocyper`,\r\n          },\r\n        })\r\n        if (bcAnswer\r\n          && bcAnswer.tx\r\n          && bcAnswer.tx.hash) {\r\n          resolve({\r\n            txid: bcAnswer.tx.hash,\r\n          })\r\n        } else {\r\n          reject(`Cant decode answer`)\r\n        }\r\n      } catch (blocyperError) {\r\n        if (onBroadcastError instanceof Function) {\r\n          if (onBroadcastError(blocyperError)) reject(``)\r\n        } else {\r\n          reject(``)\r\n        }\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\n/*\r\n      -   \r\n   txId,   \r\n*/\r\nconst checkWithdraw = (options) => {\r\n  const {\r\n    scriptAddress,\r\n    apiBitpay,\r\n    NETWORK,\r\n  } = options\r\n\r\n  const url = `/address/${scriptAddress}/txs/`\r\n  return apiLooper.get(apiBitpay || getBitpay(NETWORK), url, {\r\n    checkStatus: (answer) => {\r\n      try {\r\n        if (answer && answer.length !== undefined) return true\r\n      } catch (e) { /* */ }\r\n      return false\r\n    },\r\n    inQuery: {\r\n      delay: 500,\r\n      name: `bitpay`,\r\n    },\r\n  }).then(async (txs: any) => {\r\n    // has two or more txs on script\r\n    if ((txs.length >= 1)\r\n      && txs[0].mintTxid\r\n      && txs[0].spentTxid\r\n    ) {\r\n      try {\r\n        const spendTxInfo = await fetchTxInfo({\r\n          hash: txs[0].spentTxid,\r\n          apiBitpay\r\n        })\r\n        return {\r\n          address: spendTxInfo.receiverAddress,\r\n          txid: txs[0].spentTxid,\r\n          amount: new BigNumber(txs[0].value).dividedBy(1e8).toNumber(),\r\n        }\r\n      } catch (e) {\r\n        console.error('Fail check Withdraw for ', scriptAddress, e)\r\n      }\r\n    }\r\n    return false\r\n  })\r\n}\r\n\r\nconst fetchTxInputScript = (options) => {\r\n  const {\r\n    txId,\r\n    cacheResponse,\r\n    apiBlocyper,\r\n    NETWORK,\r\n  } = options\r\n\r\n  return apiLooper.get(apiBlocyper || getBlockcypher(NETWORK), `/txs/${txId}?includeHex=true`, {\r\n    cacheResponse,\r\n    checkStatus: (answer) => {\r\n      try {\r\n        if (answer && answer.hex !== undefined) return true\r\n      } catch (e) {}\r\n      return false\r\n    },\r\n    inQuery: {\r\n      delay: 500,\r\n      name: `blocyper`,\r\n    },\r\n  }).then((inInfo: any) => {\r\n    if (inInfo\r\n      && inInfo.inputs\r\n      && inInfo.inputs.length === 1\r\n    ) {\r\n      return bitcoin.script.toASM(\r\n        //@ts-ignore: strictNullChecks\r\n        bitcoin.script.decompile(\r\n          Buffer.from(inInfo.inputs[0].script, 'hex')\r\n        )\r\n      )\r\n    }\r\n    return false\r\n  })\r\n}\r\n\r\nconst fetchTxRaw = (options) => {\r\n  const {\r\n    txId,\r\n    cacheResponse,\r\n    apiBlocyper,\r\n    NETWORK,\r\n  } = options\r\n\r\n  return apiLooper.get(apiBlocyper || getBlockcypher(NETWORK), `/txs/${txId}?includeHex=true`, {\r\n    cacheResponse,\r\n    checkStatus: (answer) => {\r\n      try {\r\n        if (answer && answer.hex !== undefined) return true\r\n      } catch (e) {}\r\n      return false\r\n    },\r\n    inQuery: {\r\n      delay: 500,\r\n      name: `blocyper`,\r\n    },\r\n  }).then(({ hex }) => hex)\r\n}\r\n\r\n\r\nconst getTransactionBlocyper = (options) => {\r\n  const {\r\n    address,\r\n    ownAddress,\r\n    ownType,\r\n    myWallets,\r\n    network,\r\n    apiBlocyper,\r\n    NETWORK,\r\n  } = options\r\n\r\n  return new Promise((resolve) => {\r\n    const type = (ownType) || 'btc'\r\n\r\n    const checkAddress = (address || ownAddress)\r\n    const url = `/addrs/${checkAddress}/full?txlimit=1000000`\r\n\r\n    apiLooper.get(\r\n      apiBlocyper || getBlockcypher(NETWORK),\r\n      url,\r\n      {\r\n        cacheResponse: 10*1000,\r\n        inQuery: {\r\n          delay: 500,\r\n          name: `blocyper`,\r\n        },\r\n      }\r\n    ).then((answer: any) => {\r\n      if (answer\r\n        && answer.txs\r\n      ) {\r\n        const transactions = answer.txs.map((item) => {\r\n          const hasOurInputs = item.inputs.filter((input) => {\r\n            return (input.addresses[0] === checkAddress)\r\n          })\r\n          const direction = hasOurInputs.length ? `out` : `in`\r\n\r\n          const isSelf = direction === 'out'\r\n            && item.outputs.filter((output) => {\r\n                const currentAddress = output.addresses[0]\r\n\r\n                return currentAddress === checkAddress\r\n            }).length === item.outputs.length\r\n\r\n          let value = isSelf\r\n            ? item.fees\r\n            : item.outputs.filter((output) => {\r\n              \r\n              const currentAddress = output.addresses[0]\r\n\r\n              return direction === 'in'\r\n                ? (currentAddress === checkAddress)\r\n                : (currentAddress !== checkAddress)\r\n            })[0].value\r\n\r\n          return({\r\n            type,\r\n            hash: item.hash,\r\n            canEdit: (myWallets.indexOf(checkAddress) !== -1),\r\n            confirmations: item.confirmations,\r\n            value: new BigNumber(value).dividedBy(1e8).toNumber(),\r\n            date: Date.parse(\r\n              (item.confirmations)\r\n                ? item.confirmed\r\n                : item.received\r\n            ),\r\n            direction: isSelf ? 'self' : direction,\r\n          })\r\n        })\r\n\r\n        resolve(transactions)\r\n      } else {\r\n        resolve([])\r\n      }\r\n    })\r\n    .catch((e) => {\r\n      console.error('Get btc txs Error', e)\r\n      resolve([])\r\n    })\r\n  })\r\n}\r\n\r\n/** \r\n  Draft -   ,   \r\n    \r\n   -   -     shared/actions/btc\r\n    -  insight   ,     \r\n    -       \r\n      \"\",  -    ,  \r\n    -         -\r\n**/\r\nconst getTransactionBitcore = (options) => {\r\n  const {\r\n    address,\r\n    ownType,\r\n    myWallets,\r\n    network,\r\n    apiBitpay,\r\n    NETWORK,\r\n  } = options\r\n  \r\n  return new Promise(async (resolve) => {\r\n    // @ts-ignore\r\n    const myAllWallets = getAllMyAddresses()\r\n    // @ts-ignore\r\n    let { user: { btcData: { address: userAddress } } } = getState()\r\n    // @ts-ignore\r\n    address = address || userAddress\r\n\r\n    const type = (ownType) || 'btc'\r\n    // @ts-ignore\r\n    if (!typeforce.isCoinAddress.BTC(address)) {\r\n      resolve([])\r\n    }\r\n\r\n    const blockInfo = await apiLooper.get(apiBitpay || getBitpay(NETWORK), `/block/tip`, {\r\n      /* cache */\r\n      /* query */\r\n    })\r\n    console.log('blockInfo', blockInfo)\r\n\r\n    const url = `/address/${address}/txs`\r\n\r\n    return apiLooper.get(apiBitpay, url, {\r\n      checkStatus: (answer) => {\r\n        try {\r\n          if (answer && answer.txs !== undefined) return true\r\n        } catch (e) { /* */ }\r\n        return false\r\n      },\r\n      inQuery: {\r\n        delay: 500,\r\n        name: `bitpay`,\r\n      },\r\n    }).then((res: any) => {\r\n      const transactions = res.txs.map((item) => {\r\n        const direction = item.vin[0].addr !== address ? 'in' : 'out'\r\n\r\n        const isSelf = direction === 'out'\r\n          && item.vout.filter((item) => {\r\n              const voutAddrBuf = Buffer.from(item.scriptPubKey.hex, 'hex')\r\n              const currentAddress = bitcoin.address.fromOutputScript(voutAddrBuf, network)\r\n              return currentAddress === address\r\n          }).length === item.vout.length\r\n\r\n        return({\r\n          type,\r\n          hash: item.txid,\r\n          canEdit: (myWallets.indexOf(address) !== -1),\r\n          confirmations: item.confirmations,\r\n          value: isSelf\r\n            ? item.fees\r\n            : item.vout.filter((item) => {\r\n              const voutAddrBuf = Buffer.from(item.scriptPubKey.hex, 'hex')\r\n              const currentAddress = bitcoin.address.fromOutputScript(voutAddrBuf, network)\r\n\r\n              return direction === 'in'\r\n                ? (currentAddress === address)\r\n                : (currentAddress !== address)\r\n            })[0].value,\r\n          date: item.time * 1000,\r\n          direction: isSelf ? 'self' : direction,\r\n        })\r\n      })\r\n      resolve(transactions)\r\n    }).catch((error) => {\r\n      console.error(error)\r\n      resolve([])\r\n    })\r\n  })\r\n}\r\n\r\nconst getFeesRateBlockcypher = async ({ NETWORK }) => {\r\n  const defaultRate = DEFAULT_CURRENCY_PARAMETERS.btc.rate\r\n\r\n  const defaultApiSpeeds = {\r\n    slow: defaultRate.slow,\r\n    normal: defaultRate.normal,\r\n    fast: defaultRate.fast,\r\n    custom: 50 * 1024,\r\n  }\r\n\r\n  let apiResult\r\n\r\n  try {\r\n    // api returns sotoshi in 1 kb\r\n    apiResult = await apiLooper\r\n    .get(getBlockcypher(NETWORK), ``, {\r\n      cacheResponse: 10*60*1000,\r\n      cacheOnFail: true,\r\n      inQuery: {\r\n        delay: 500,\r\n        name: `blocyper`,\r\n      },\r\n    } )\r\n  } catch (err) {\r\n    console.error({ info: err })\r\n    return defaultApiSpeeds\r\n  }\r\n\r\n  const apiRate = {\r\n    slow: apiResult.low_fee_per_kb,\r\n    normal: apiResult.medium_fee_per_kb,\r\n    fast: apiResult.high_fee_per_kb,\r\n    custom: 50 * 1024,\r\n  }\r\n\r\n  return apiRate;\r\n}\r\n\r\nenum Network {\r\n  mainnet = \"mainnet\",\r\n  testnet = \"testnet\",\r\n}\r\n\r\nenum AddressType {\r\n  p2pkh = \"P2PKH\",\r\n  p2sh = \"P2SH\",\r\n  p2wpkh = \"P2WPKH\",\r\n  p2wsh = \"P2WSH\",\r\n}\r\n\r\nconst addressTypes: { [key: number]: { type: AddressType, network: Network } } = {\r\n  0x00: {\r\n    type: AddressType.p2pkh,\r\n    network: Network.mainnet,\r\n  },\r\n\r\n  0x6f: {\r\n    type: AddressType.p2pkh,\r\n    network: Network.testnet,\r\n  },\r\n\r\n  0x05: {\r\n    type: AddressType.p2sh,\r\n    network: Network.mainnet,\r\n  },\r\n\r\n  0xc4: {\r\n    type: AddressType.p2sh,\r\n    network: Network.testnet,\r\n  },\r\n};\r\n\r\nconst getAddressType = (address: string) => {\r\n  const prefix = address.substr(0, 2)\r\n\r\n  let data\r\n  let addressType\r\n\r\n  if (prefix === 'bc' || prefix === 'tb') {\r\n    const { data: benchVersion } = bitcoin.address.fromBech32(address)\r\n    data = benchVersion\r\n\r\n    addressType = data.length === 20 ? AddressType.p2wpkh : AddressType.p2wsh\r\n    return addressType\r\n\r\n  } else {\r\n    const { version } = bitcoin.address.fromBase58Check(address)\r\n    let { type } = addressTypes[version]\r\n\r\n    if (!type) {\r\n      type = AddressType.p2pkh\r\n      console.warn(`Unknown version '${version}' for address '${address}'.`)\r\n    }\r\n\r\n    return addressType = type || AddressType.p2pkh\r\n  }\r\n}\r\n// getByteCount({'MULTISIG-P2SH:2-4':45},{'P2PKH':1}) Means \"45 inputs of P2SH Multisig and 1 output of P2PKH\"\r\n// getByteCount({'P2PKH':1,'MULTISIG-P2SH:2-3':2},{'P2PKH':2}) means \"1 P2PKH input and 2 Multisig P2SH (2 of 3) inputs along with 2 P2PKH outputs\"\r\nconst getByteCount = (inputs, outputs) => {\r\nconst { TRANSACTION } = constants\r\nlet totalWeight = 0\r\nlet hasWitness = false\r\nlet inputCount = 0\r\nlet outputCount = 0\r\n// assumes compressed pubkeys in all cases.\r\nconst types = {\r\n  'inputs': {\r\n    'MULTISIG-P2SH': TRANSACTION.MULTISIG_P2SH_IN_SIZE * 4,\r\n    'MULTISIG-P2WSH': TRANSACTION.MULTISIG_P2WSH_IN_SIZE + (41 * 4),\r\n    'MULTISIG-P2SH-P2WSH': TRANSACTION.MULTISIG_P2SH_P2WSH_IN_SIZE + (76 * 4),\r\n    'P2PKH': TRANSACTION.P2PKH_IN_SIZE * 4,\r\n    'P2WPKH': TRANSACTION.P2WPKH_IN_SIZE + (41 * 4),\r\n    'P2SH-P2WPKH': TRANSACTION.P2SH_P2WPKH_IN_SIZE + (64 * 4),\r\n  },\r\n  'outputs': {\r\n    'P2SH': TRANSACTION.P2SH_OUT_SIZE * 4,\r\n    'P2PKH': TRANSACTION.P2PKH_OUT_SIZE * 4,\r\n    'P2WPKH': TRANSACTION.P2WPKH_OUT_SIZE * 4,\r\n    'P2WSH': TRANSACTION.P2WSH_OUT_SIZE * 4,\r\n  },\r\n}\r\n\r\nconst checkUInt53 = (n) => {\r\n  if (n < 0 || n > Number.MAX_SAFE_INTEGER || n % 1 !== 0) throw new RangeError('value out of range')\r\n}\r\n\r\nconst varIntLength = (number) => {\r\n  checkUInt53(number)\r\n\r\n  return (\r\n  number < 0xfd ? 1\r\n    : number <= 0xffff ? 3\r\n    : number <= 0xffffffff ? 5\r\n      : 9\r\n  )\r\n}\r\n\r\nObject.keys(inputs).forEach((key) => {\r\n  checkUInt53(inputs[key])\r\n  if (key.slice(0, 8) === 'MULTISIG') {\r\n    // ex. \"MULTISIG-P2SH:2-3\" would mean 2 of 3 P2SH MULTISIG\r\n    const keyParts = key.split(':')\r\n    if (keyParts.length !== 2) throw new Error(`invalid input: ${key}`)\r\n    const newKey = keyParts[0]\r\n    const mAndN = keyParts[1].split('-').map((item) => parseInt(item))\r\n\r\n    totalWeight += types.inputs[newKey] * inputs[key]\r\n    const multiplyer = (newKey === 'MULTISIG-P2SH') ? 4 : 1\r\n    totalWeight += ((73 * mAndN[0]) + (34 * mAndN[1])) * multiplyer * inputs[key]\r\n  } else {\r\n    totalWeight += types.inputs[key] * inputs[key]\r\n  }\r\n  inputCount += inputs[key]\r\n  if (key.indexOf('W') >= 0) hasWitness = true\r\n})\r\n\r\nObject.keys(outputs).forEach((key) => {\r\n  checkUInt53(outputs[key])\r\n  totalWeight += types.outputs[key] * outputs[key]\r\n  outputCount += outputs[key]\r\n})\r\n\r\nif (hasWitness) totalWeight += 2\r\n\r\ntotalWeight += 8 * 4\r\ntotalWeight += varIntLength(inputCount) * 4\r\ntotalWeight += varIntLength(outputCount) * 4\r\n\r\nreturn Math.ceil(totalWeight / 4)\r\n}\r\n\r\ntype CalculateTxSizeParams = {\r\n  txIn?: number\r\n  txOut?: number\r\n  method?: string\r\n  fixed?: boolean\r\n  toAddress?: string\r\n  serviceFee?: {\r\n    address: any\r\n    min: any\r\n    fee: any\r\n  } | any\r\n  address?: string\r\n}\r\n\r\nconst calculateTxSize = async (params: CalculateTxSizeParams) => {\r\n  let {\r\n    txIn,\r\n    txOut,\r\n    method = 'send',\r\n    fixed,\r\n    toAddress,\r\n    serviceFee,\r\n    address,\r\n  } = params\r\n\r\n  const { TRANSACTION } = constants\r\n  const defaultTxSize = DEFAULT_CURRENCY_PARAMETERS.btc.size[method]\r\n\r\n  let txSize = defaultTxSize\r\n\r\n  if (fixed) {\r\n    return txSize\r\n  }\r\n  const fromAddressType = address ? getAddressType(address) : \"P2PKH\";\r\n\r\n  // general formula\r\n  // (<one input size>  <number of inputs>) + (<one output size>  <number of outputs>) + <tx size>\r\n  //@ts-ignore: strictNullChecks\r\n  if (txIn > 0) {\r\n    txSize =\r\n    //@ts-ignore: strictNullChecks\r\n    txIn * TRANSACTION[`${fromAddressType}_IN_SIZE`] +\r\n    //@ts-ignore: strictNullChecks\r\n    txOut * TRANSACTION.P2PKH_OUT_SIZE +\r\n    //@ts-ignore: strictNullChecks\r\n    (TRANSACTION.TX_SIZE + txIn - txOut)\r\n  }\r\n\r\n  if (method === 'send_multisig') {\r\n    let outputs = {\r\n      'P2SH': 1,\r\n    }\r\n    const toAddressType = toAddress ? getAddressType(toAddress) : \"P2PKH\";\r\n    outputs[toAddressType] = ++outputs[toAddressType] || 1;\r\n\r\n    if (serviceFee) {\r\n      const adminAddressType = getAddressType(serviceFee.address);\r\n      outputs[adminAddressType] = ++outputs[adminAddressType] || 1;\r\n    }\r\n    txSize = getByteCount(\r\n      { 'MULTISIG-P2SH:2-2': 1 },\r\n      outputs\r\n    )\r\n  }\r\n\r\n  if (method === 'send_2fa') {\r\n    let outputs = {\r\n      'P2SH': 1,\r\n    }\r\n    const toAddressType = toAddress ? getAddressType(toAddress) : \"P2PKH\";\r\n    outputs[toAddressType] = ++outputs[toAddressType] || 1;\r\n\r\n    if (serviceFee) {\r\n      const adminAddressType = getAddressType(serviceFee.address);\r\n      outputs[adminAddressType] = ++outputs[adminAddressType] || 1;\r\n    }\r\n    txSize = getByteCount(\r\n      { 'MULTISIG-P2SH:2-3': txIn },\r\n      outputs\r\n    )\r\n  }\r\n\r\n  return txSize\r\n}\r\n\r\n\r\nconst estimateFeeRateBLOCKCYPHER = (options) => {\r\n  const {\r\n    speed = 'fast',\r\n    NETWORK,\r\n  } = options\r\n\r\n  const _speed = (() => {\r\n    switch (speed) {\r\n      case 'fast':    return 'high_fee_per_kb'\r\n      case 'normal':  return 'medium_fee_per_kb'\r\n      case 'slow':    return 'low_fee_per_kb'\r\n      default:      return 'medium_fee_per_kb'\r\n    }\r\n  })()\r\n\r\n  // 10 minuts cache\r\n  // query request\r\n  return apiLooper\r\n    .get(getBlockcypher(NETWORK), ``, {\r\n      cacheResponse: 10*60*1000,\r\n      cacheOnFail: true,\r\n      inQuery: {\r\n        delay: 500,\r\n        name: `blocyper`,\r\n      },\r\n    } )\r\n    //@ts-ignore: strictNullChecks\r\n    .then(info => Number(info[_speed]))\r\n}\r\n\r\n\r\nconst estimateFeeRate = async (options) => {\r\n  const { speed } = options;\r\n  const defaultRate = DEFAULT_CURRENCY_PARAMETERS.btc.rate\r\n  try {\r\n    return await estimateFeeRateBLOCKCYPHER(options)\r\n  } catch (err) {\r\n    console.error(`EstimateFeeError: BLOCKCYPHER_API ${err.message}, get default rate...`)\r\n    return defaultRate[speed]\r\n  }\r\n}\r\n\r\nconst estimateFeeValue = async (options) => {\r\n  const {\r\n    feeRate: _feeRate,\r\n    inSatoshis,\r\n    speed,\r\n    address,\r\n    amount,\r\n    toAddress,\r\n    method,\r\n    txSize: _txSize,\r\n    swapUTXOMethod,\r\n    serviceFee,\r\n    fixed,\r\n    moreInfo,\r\n    NETWORK,\r\n  } = options\r\n\r\n  let calculatedFeeValue\r\n\r\n  const SATOSHI_TO_BITCOIN_RATIO = 0.000_000_01\r\n\r\n  if (!_txSize && !address) {\r\n    calculatedFeeValue = new BigNumber(constants.TRANSACTION.DUST_SAT).multipliedBy(1e-8)\r\n  } else {\r\n    let unspents = await fetchUnspents({\r\n      address,\r\n      NETWORK,\r\n    })\r\n    // if user have some amount then try to find \"better\" UTXO for this\r\n    if (amount) {\r\n      unspents = await prepareUnspents({ amount, unspents })\r\n    }\r\n    // one input for output from the script when swapping\r\n    const txIn = unspents.length\r\n    // 2 = recipient input + sender input (for a residue)\r\n    // 3 = the same inputs like higher + input for admin fee\r\n    let txOut = serviceFee\r\n    ? method === 'send'\r\n      ? 3\r\n      : 2\r\n    : 2\r\n\r\n    if (method === 'swap' && swapUTXOMethod === 'withdraw') {\r\n      txOut = 1\r\n    }\r\n\r\n    const txSize = _txSize || await calculateTxSize({\r\n      fixed,\r\n      address,\r\n      toAddress,\r\n      method,\r\n      txIn,\r\n      txOut,\r\n      serviceFee\r\n    })\r\n    const feeRate = _feeRate || await estimateFeeRate({ speed, NETWORK })\r\n\r\n    calculatedFeeValue = BigNumber.maximum(\r\n      constants.TRANSACTION.DUST_SAT,\r\n      new BigNumber(feeRate)\r\n        .multipliedBy(txSize)\r\n        .div(1024)\r\n        .dp(0, BigNumber.ROUND_HALF_EVEN),\r\n    )\r\n\r\n    if (moreInfo) {\r\n      const moreInfoResponse = {\r\n        fee: calculatedFeeValue.multipliedBy(SATOSHI_TO_BITCOIN_RATIO).toNumber(),\r\n        satoshis: calculatedFeeValue.toNumber(),\r\n        txSize,\r\n        feeRate,\r\n        unspents,\r\n      }\r\n      return moreInfoResponse\r\n    }\r\n  }\r\n\r\n  const finalFeeValue = inSatoshis\r\n    ? calculatedFeeValue.toString()\r\n    : calculatedFeeValue.multipliedBy(SATOSHI_TO_BITCOIN_RATIO).toString()\r\n\r\n  console.group('Common > coin >%c btc > estimateFeeValue', 'color: green;')\r\n  console.log('fee value: ', finalFeeValue)\r\n  console.groupEnd()\r\n\r\n  return finalFeeValue\r\n}\r\n\r\nconst prepareFees = async ({\r\n  amount,\r\n  serviceFee,\r\n  feeValue,\r\n  speed,\r\n  method = 'send',\r\n  from,\r\n  to,\r\n  NETWORK,\r\n}) => {\r\n  let feeFromAmount: number | BigNumber = new BigNumber(0)\r\n\r\n  if (serviceFee) {\r\n    const {\r\n      fee: adminFee,\r\n      min: adminFeeMinValue,\r\n    } = serviceFee\r\n\r\n    const adminFeeMin = new BigNumber(adminFeeMinValue)\r\n\r\n    feeFromAmount = new BigNumber(adminFee).dividedBy(100).multipliedBy(amount)\r\n    if (adminFeeMin.isGreaterThan(feeFromAmount)) feeFromAmount = adminFeeMin\r\n\r\n\r\n    feeFromAmount = feeFromAmount.multipliedBy(1e8).integerValue() // Admin fee in satoshi\r\n\r\n  }\r\n  feeFromAmount = feeFromAmount.toNumber()\r\n  try {\r\n    feeValue = feeValue ?\r\n      new BigNumber(feeValue).multipliedBy(1e8).toNumber() :\r\n      await estimateFeeValue({\r\n        inSatoshis: true,\r\n        speed,\r\n        method,\r\n        address: from,\r\n        toAddress: to,\r\n        amount,\r\n        serviceFee,\r\n      })\r\n  } catch (eFee) {\r\n    return { message: `Fail estimate fee ` + eFee.message }\r\n  }\r\n\r\n  let unspents = []\r\n  try {\r\n    //@ts-ignore: strictNullChecks\r\n    unspents = await fetchUnspents({address: from, NETWORK})\r\n  } catch (eUnspents) {\r\n    return { message: `Fail fetch unspents `+ eUnspents.message}\r\n  }\r\n\r\n  const toAmount = amount\r\n  amount = new BigNumber(amount).multipliedBy(1e8).plus(feeValue).plus(feeFromAmount).multipliedBy(1e-8).toNumber()\r\n\r\n  try {\r\n    //@ts-ignore: strictNullChecks\r\n    unspents = await prepareUnspents({ unspents, amount })\r\n  } catch (eUnspents) {\r\n    return { message: `Fail prepare unspents `+ eUnspents.message}\r\n  }\r\n\r\n  const fundValue = new BigNumber(toAmount).multipliedBy(1e8).integerValue().toNumber()\r\n\r\n  const totalUnspent = unspents.reduce((summ, { satoshis }) => summ + satoshis, 0)\r\n  const skipValue = totalUnspent - fundValue - feeValue - feeFromAmount\r\n\r\n  return {\r\n    fundValue,\r\n    skipValue,\r\n    feeFromAmount,\r\n    unspents,\r\n  }\r\n}\r\n\r\nconst prepareRawTx = async (params) => {\r\n  const {\r\n    from,\r\n    to,\r\n    fundValue,\r\n    skipValue,\r\n    serviceFee,\r\n    feeFromAmount,\r\n    method = 'send',\r\n    unspents,\r\n    privateKey,\r\n    publicKeys = [Buffer.from('')],\r\n    network,\r\n    NETWORK\r\n  } = params\r\n  const psbt = new bitcoin.Psbt({network})\r\n\r\n  psbt.addOutput({\r\n    address: to,\r\n    value: fundValue,\r\n  })\r\n\r\n  if (skipValue > 546) {\r\n    psbt.addOutput({\r\n      address: from,\r\n      value: skipValue\r\n    })\r\n  }\r\n\r\n  if (serviceFee) {\r\n    psbt.addOutput({\r\n      address: serviceFee.address,\r\n      value: feeFromAmount,\r\n    })\r\n  }\r\n\r\n  const keyPair = bitcoin.ECPair.fromWIF(privateKey, network)\r\n\r\n  const hasOneSignature = !['send_2fa', 'send_multisig'].includes(method)\r\n\r\n  if (hasOneSignature) {\r\n    for (let i = 0; i < unspents.length; i++) {\r\n      const { txid, vout } = unspents[i]\r\n      let rawTx = ''\r\n\r\n      try {\r\n        rawTx = await fetchTxRaw({ txId: txid, cacheResponse: 5000, NETWORK })\r\n      } catch (eFetchTxRaw) {\r\n        return { message: `Fail fetch tx raw `+ txid + `(`+eFetchTxRaw.message+`)` }\r\n      }\r\n\r\n      psbt.addInput({\r\n        hash: txid,\r\n        index: vout,\r\n        nonWitnessUtxo: Buffer.from(rawTx, 'hex'),\r\n      })\r\n    }\r\n\r\n    psbt.signAllInputs(keyPair)\r\n    psbt.finalizeAllInputs()\r\n\r\n    return psbt.extractTransaction().toHex();\r\n  }\r\n\r\n  const p2ms = bitcoin.payments.p2ms({\r\n    m: 2,\r\n    n: publicKeys.length,\r\n    pubkeys: publicKeys.map((key) => Buffer.from(key)),\r\n    network,\r\n  })\r\n\r\n  for (let i = 0; i < unspents.length; i++) {\r\n    const { txid, vout } = unspents[i]\r\n    let rawTx = ''\r\n\r\n    try {\r\n      rawTx = await fetchTxRaw({ txId: txid, cacheResponse: 5000, NETWORK })\r\n    } catch (eFetchTxRaw) {\r\n      return { message: `Fail fetch tx raw `+ txid + `(`+eFetchTxRaw.message+`)` }\r\n    }\r\n\r\n    psbt.addInput({\r\n      hash: txid,\r\n      index: vout,\r\n      redeemScript: p2ms.output,\r\n      nonWitnessUtxo: Buffer.from(rawTx, 'hex'),\r\n    })\r\n  }\r\n\r\n  psbt.signAllInputs(keyPair)\r\n  return psbt.toHex()\r\n}\r\n\r\nexport default {\r\n  fetchBalance,\r\n  fetchTx,\r\n  fetchTxInfo,\r\n  fetchUnspents,\r\n  broadcastTx,\r\n  checkWithdraw,\r\n  fetchTxRaw,\r\n  getTransactionBlocyper,\r\n  getFeesRateBlockcypher,\r\n\r\n  estimateFeeValue,\r\n  estimateFeeRate,\r\n  calculateTxSize,\r\n  getCore,\r\n\r\n  prepareFees,\r\n  prepareRawTx,\r\n\r\n  prepareUnspents,\r\n\r\n  fetchTxInputScript,\r\n}","import * as bitcoin from 'bitcoinjs-lib'\r\nimport { getState } from 'redux/core'\r\nimport config from './externalConfig'\r\nimport btcUtils from 'common/utils/coin/btc'\r\n\r\nconst hasAdminFee = (\r\n  config\r\n    && config.opts\r\n    && config.opts.fee\r\n    && config.opts.fee.btc\r\n    && config.opts.fee.btc.fee\r\n) ? config.opts.fee.btc : false\r\n\r\nconst network = process.env.MAINNET\r\n  ? bitcoin.networks.bitcoin\r\n  : bitcoin.networks.testnet\r\n\r\n\r\nconst NETWORK = process.env.MAINNET\r\n  ? 'MAINNET'\r\n  : 'TESTNET'\r\n\r\n\r\ntype EstimateFeeValueParams = {\r\n  method?: string\r\n  speed: 'fast' | 'normal' | 'slow'\r\n  feeRate?: number\r\n  inSatoshis?: boolean\r\n  address?: string\r\n  txSize?: number\r\n  fixed?: boolean\r\n  amount?: number\r\n  toAddress?: string\r\n  swapUTXOMethod?: 'withdraw' | 'deposit'\r\n  moreInfo?: boolean\r\n}\r\n// Returned fee value in the satoshi\r\nconst estimateFeeValue = async (params: EstimateFeeValueParams): Promise<any> => {\r\n  let {\r\n    feeRate,\r\n    inSatoshis,\r\n    speed,\r\n    address,\r\n    txSize,\r\n    fixed,\r\n    method,\r\n    amount,\r\n    toAddress,\r\n    swapUTXOMethod,\r\n    moreInfo,\r\n  } = params\r\n  const {\r\n    user: {\r\n      btcData,\r\n      btcMultisigSMSData,\r\n      btcMultisigUserData,\r\n    },\r\n  } = getState()\r\n\r\n  if (!address) {\r\n    address = btcData.address\r\n    if (method === 'send_2fa') address = btcMultisigSMSData.address\r\n    if (method === 'send_multisig') address = btcMultisigUserData.address\r\n  }\r\n\r\n  const feeValue = await btcUtils.estimateFeeValue({\r\n    feeRate,\r\n    inSatoshis,\r\n    speed,\r\n    address,\r\n    amount,\r\n    toAddress,\r\n    method,\r\n    txSize,\r\n    swapUTXOMethod,\r\n    serviceFee: hasAdminFee,\r\n    fixed,\r\n    moreInfo,\r\n    NETWORK,\r\n  })\r\n\r\n  return feeValue\r\n}\r\n\r\n\r\n\r\nexport default {\r\n  estimateFeeValue,\r\n  network,\r\n}\r\n","import reducers from 'redux/core/reducers'\r\n\r\n\r\nconst open = (name, data: IUniversalObj | null = null) => {\r\n  reducers.modals.open({ name, data })\r\n}\r\n\r\nconst close = (name) => reducers.modals.close(name)\r\n\r\nconst closeAll = () => reducers.modals.closeAll()\r\n\r\nexport default {\r\n  open,\r\n  close,\r\n  closeAll,\r\n}\r\n","import reducers from 'redux/core/reducers'\r\n\r\n\r\nconst show = (isVisible, data) => reducers.loader.setVisibility({ isVisible, data })\r\nconst hide = () => reducers.loader.setVisibility({})\r\n\r\n\r\nexport default {\r\n  show,\r\n  hide,\r\n}\r\n","import reducers from 'redux/core/reducers'\r\n\r\n\r\nconst show = (name, data) => reducers.notifications.show({ name, data })\r\n\r\nconst hide = (name) => reducers.notifications.hide(name)\r\n\r\n\r\nexport default {\r\n  show,\r\n  hide,\r\n}\r\n","import { BASE_TOKEN_CURRENCY } from 'swap.app/constants/COINS'\r\n\r\nconst getCoinInfo = (coin) => {\r\n  coin = `${coin}`.toUpperCase()\r\n\r\n  if (coin.indexOf(`}`) !== -1 && coin.indexOf(`{`) === 0) {\r\n    let coinData = coin.split(`}`)\r\n    return {\r\n      coin: coinData[1],\r\n      blockchain: BASE_TOKEN_CURRENCY[coinData[0].substr(1).toUpperCase()] || ``,\r\n    }\r\n  } else {\r\n    return {\r\n      coin,\r\n      blockchain: ``,\r\n    }\r\n  }\r\n}\r\n\r\nexport default getCoinInfo","import store from 'redux/store'\r\nimport { externalConfig, links, getItezUrl } from 'helpers'\r\nimport TOKEN_STANDARDS, { EXISTING_STANDARDS } from 'helpers/constants/TOKEN_STANDARDS'\r\n\r\nexport const SUPPORTED_RAMP_ASSETS = {\r\n  BTC: 'BTC_BTC',\r\n\r\n  ETH: 'ETH_ETH',\r\n  '{ETH}BAT': 'ETH_BAT',\r\n  '{ETH}DAI': 'ETH_DAI',\r\n  '{ETH}ENS': 'ETH_ENS',\r\n  '{ETH}FEVR': 'ETH_FEVR',\r\n  '{ETH}LINK': 'ETH_LINK',\r\n  '{ETH}MANA': 'ETH_MANA',\r\n  '{ETH}RLY': 'ETH_RLY',\r\n  '{ETH}SAND': 'ETH_SAND',\r\n  '{ETH}USDC': 'ETH_USDC',\r\n  '{ETH}USDT': 'ETH_USDT',\r\n\r\n  BNB: 'BSC_BNB',\r\n  '{BNB}USDT': 'BSC_BUSD',\r\n  '{BNB}FEVR': 'BSC_FEVR',\r\n\r\n  MATIC: 'MATIC_MATIC',\r\n  '{MATIC}ETH': 'MATIC_ETH',\r\n  '{MATIC}MANA': 'MATIC_MANA',\r\n  '{MATIC}BAT': 'MATIC_BAT',\r\n  '{MATIC}DAI': 'MATIC_DAI',\r\n  '{MATIC}OVR': 'MATIC_OVR',\r\n  '{MATIC}SAND': 'MATIC_SAND',\r\n  '{MATIC}USDC': 'MATIC_USDC',\r\n\r\n  ARBETH: 'ARBITRUM_ETH',\r\n  XDAI: 'XDAI_XDAI',\r\n  AVAX: 'AVAX_AVAX',\r\n  '{AVAX}USDC': 'AVAX_USDC',\r\n  ONE: 'HARMONY_ONE',\r\n}\r\n\r\nconst getEnabledEvmCurrencies = () => Object.keys(externalConfig.enabledEvmNetworks)\r\n\r\nexport const getActivatedCurrencies = () => {\r\n  const currencies: string[] = [...getEnabledEvmCurrencies()]\r\n\r\n  if (!externalConfig.opts.curEnabled || externalConfig.opts.curEnabled.btc) {\r\n    currencies.push('BTC')\r\n    currencies.push('BTC (SMS-Protected)')\r\n    currencies.push('BTC (PIN-Protected)')\r\n    currencies.push('BTC (Multisig)')\r\n  }\r\n\r\n  if (!externalConfig.opts.curEnabled || externalConfig.opts.curEnabled.ghost) {\r\n    currencies.push('GHOST')\r\n  }\r\n\r\n  if (!externalConfig.opts.curEnabled || externalConfig.opts.curEnabled.next) {\r\n    currencies.push('NEXT')\r\n  }\r\n\r\n  EXISTING_STANDARDS.forEach((standard) => {\r\n    Object.keys(externalConfig[standard]).forEach((token) => {\r\n      const baseCurrency = TOKEN_STANDARDS[standard].currency.toUpperCase()\r\n      const tokenName = token.toUpperCase()\r\n      const tokenValue = `{${baseCurrency}}${tokenName}`\r\n\r\n      currencies.push(tokenValue)\r\n    })\r\n  })\r\n\r\n  return currencies\r\n}\r\n\r\nexport const getWidgetCurrencies = () => {\r\n  const { core: { hiddenCoinsList } } = store.getState()\r\n  const widgetCurrencies = [\r\n    ...getEnabledEvmCurrencies(),\r\n    'BTC',\r\n    'GHOST',\r\n    'NEXT',\r\n  ]\r\n\r\n  if (!hiddenCoinsList.includes('BTC (PIN-Protected)')) {\r\n    widgetCurrencies.push('BTC (PIN-Protected)')\r\n  }\r\n  if (!hiddenCoinsList.includes('BTC (Multisig)')) {\r\n    widgetCurrencies.push('BTC (Multisig)')\r\n  }\r\n\r\n  if (externalConfig.isWidget) {\r\n    if (window?.widgetEvmLikeTokens?.length) {\r\n      window.widgetEvmLikeTokens.forEach((token) => {\r\n        const baseCurrency = TOKEN_STANDARDS[token.standard].currency.toUpperCase()\r\n        const tokenName = token.name.toUpperCase()\r\n        const tokenValue = `{${baseCurrency}}${tokenName}`\r\n\r\n        widgetCurrencies.push(tokenValue)\r\n      })\r\n    } else {\r\n      widgetCurrencies.push(externalConfig.erc20token.toUpperCase())\r\n    }\r\n  }\r\n\r\n  return widgetCurrencies\r\n}\r\n\r\nexport const filterUserCurrencyData = (currencyData) =>\r\n  currencyData.filter((wallet) =>\r\n    isAllowedCurrency(wallet.isToken ? wallet.tokenKey.toUpperCase() : wallet.currency, wallet.address, wallet.isMetamask)\r\n  )\r\n\r\nexport const isAllowedCurrency = (currency = '', address = '', isMetamask = false) => {\r\n  const { core: { hiddenCoinsList } } = store.getState()\r\n  const enabledCurrencies = getActivatedCurrencies()\r\n\r\n  return (\r\n    ((!hiddenCoinsList.includes(currency) && !hiddenCoinsList.includes(`${currency}:${address}`))\r\n      || isMetamask) &&\r\n    enabledCurrencies.includes(currency)\r\n  )\r\n}\r\n\r\nexport const isCorrectWalletToShow = (wallet) => {\r\n  return !wallet.isMetamask || (wallet.isConnected && !wallet.unknownNetwork)\r\n}\r\n\r\nexport const getTransakLink = (params) => {\r\n  if (!window.transakApiKey) return ''\r\n\r\n  const { currency = '', walletAddress = '' } = params\r\n  const { user } = store.getState()\r\n\r\n  const isLocalHost = location.hostname === 'localhost' || location.hostname === '127.0.0.1'\r\n  const hostURL = window.location.origin\r\n  let environment = 'STAGING'\r\n  let exchangeUrl = links.transakDev\r\n\r\n  if (externalConfig.entry === 'mainnet') {\r\n    environment = 'PRODUCTION'\r\n    exchangeUrl = links.transak\r\n  }\r\n\r\n  const parameters = [\r\n    // required parameters\r\n    `?apiKey=${window.transakApiKey}`,\r\n    `&hostURL=${hostURL}`,\r\n    `&environment=${environment}`,\r\n    // if we have the crypto in the parameters, sometimes\r\n    // we don't have the ability to buy this crypto with\r\n    // an user active fiat. In this case after redirection\r\n    // Transak will drop his crypto field to the default value\r\n    // which is available for the fiat value that we've passed.\r\n    // `&fiatCurrency=${user.activeFiat}`,\r\n  ]\r\n  \r\n  if (!isLocalHost) {\r\n    parameters.push(`&redirectURL=${hostURL}`)\r\n  }\r\n  if (walletAddress) {\r\n    parameters.push(`&walletAddress=${walletAddress}`)\r\n  }\r\n  if (currency) {\r\n    parameters.push(`&defaultCryptoCurrency=${currency.toUpperCase()}`)\r\n  }\r\n\r\n  return exchangeUrl + parameters.join('')\r\n}\r\n\r\nexport const getRampLink = (params) => {\r\n  const { address = '', currency = '' } = params\r\n  const rampLink = 'https://buy.ramp.network/'\r\n\r\n  const assetKey = SUPPORTED_RAMP_ASSETS[currency?.toUpperCase()]\r\n\r\n  if (!assetKey) return rampLink\r\n\r\n  const parameters = [\r\n    `?swapAsset=${assetKey}`,\r\n  ]\r\n\r\n  if (address) parameters.push(`&userAddress=${address}`)\r\n\r\n  const addCustomLogo = window?.logoUrl && window.logoUrl !== '#'\r\n\r\n  if (addCustomLogo) parameters.push(`&hostLogoUrl=${window.logoUrl}`)\r\n\r\n  return rampLink + parameters.join('')\r\n}\r\n\r\nexport const getExternalExchangeLink = (params) => {\r\n  const { address = '', currency = '', locale = 'en' } = params\r\n  const { user } = store.getState()\r\n  let link = ''\r\n\r\n  if (window.transakApiKey) {\r\n    link = getTransakLink({\r\n      walletAddress: address,\r\n      currency,\r\n    })\r\n  } else if (externalConfig?.opts?.buyViaCreditCardLink) {\r\n    link = externalConfig.opts.buyViaCreditCardLink\r\n\r\n    // check the ramp payment gateway\r\n    if (link.match(/buy\\.ramp\\.network/g) && currency) {\r\n\r\n      if (SUPPORTED_RAMP_ASSETS[currency.toUpperCase()]) {\r\n        link = getRampLink(params)\r\n      }\r\n\r\n    }\r\n\r\n    // checking whether the currency is available in ITEZ\r\n    if (link.match(/itez\\.com/g) && currency) {\r\n      const itezCrypto = ['BTC', 'ETH', 'MATIC']\r\n      const match = itezCrypto.find((itezAsset) => currency.toUpperCase().includes(itezAsset))\r\n\r\n      if (match) {\r\n        link = getItezUrl({ user, locale, url: externalConfig.opts.buyViaCreditCardLink })\r\n      } else {\r\n        link = ''\r\n      }\r\n    }\r\n  }\r\n\r\n  return link\r\n}","import { BigNumber } from 'bignumber.js'\r\nimport config from 'helpers/externalConfig'\r\nimport moment from 'moment/moment'\r\nimport request from 'common/utils/request'\r\nimport getCoinInfo from 'common/coins/getCoinInfo'\r\nimport * as mnemonicUtils from 'common/utils/mnemonic'\r\nimport { MnemonicKey } from 'common/types'\r\nimport { constants, links, transactions, user, getCurrencyKey, metamask } from 'helpers'\r\nimport TOKEN_STANDARDS, { EXISTING_STANDARDS } from 'helpers/constants/TOKEN_STANDARDS'\r\nimport actions from 'redux/actions'\r\nimport { getState } from 'redux/core'\r\nimport reducers from 'redux/core/reducers'\r\nimport { getActivatedCurrencies } from 'helpers/user'\r\n\r\nconst onlyEvmWallets = (config?.opts?.ui?.disableInternalWallet) ? true : false\r\nconst enabledCurrencies = config.opts.curEnabled\r\n\r\n/*\r\n    reducers,      \r\n    ,   undefined - \r\n*/\r\nconst initReducerState = () => {\r\n  const {\r\n    user: {\r\n      activeCurrency,\r\n      activeFiat,\r\n    },\r\n  } = getState()\r\n\r\n  if (!activeCurrency) reducers.user.setActiveCurrency({ activeCurrency: 'BTC' })\r\n  if (!activeFiat) reducers.user.setActiveFiat({ activeFiat: window.DEFAULT_FIAT || 'USD' })\r\n\r\n}\r\n\r\nconst sign_btc_multisig = async (btcPrivateKey) => {\r\n  let btcMultisigOwnerKey = localStorage.getItem(constants.privateKeyNames.btcMultisigOtherOwnerKey)\r\n  // @ts-ignore: strictNullChecks\r\n  try { btcMultisigOwnerKey = JSON.parse(btcMultisigOwnerKey) } catch (e) { }\r\n  // @ts-ignore\r\n  actions.btcmultisig.login_USER(btcPrivateKey, btcMultisigOwnerKey)\r\n  await actions.btcmultisig.signToUserMultisig()\r\n}\r\n\r\nconst sign_btc_2fa = async (btcPrivateKey) => {\r\n  const btcSMSServerKey = config.swapContract.protectedBtcKey\r\n  const btcSmsPublicKeys = [btcSMSServerKey]\r\n  // @ts-ignore: strictNullChecks\r\n  let btcSmsMnemonicKey: MnemonicKey = localStorage.getItem(constants.privateKeyNames.btcSmsMnemonicKey)\r\n\r\n  try {\r\n    // @ts-ignore: strictNullChecks\r\n    btcSmsMnemonicKey = JSON.parse(btcSmsMnemonicKey)\r\n  } catch (e) {\r\n    console.error(e)\r\n  }\r\n\r\n  if (btcSmsMnemonicKey instanceof Array && btcSmsMnemonicKey.length > 0) {\r\n    btcSmsPublicKeys.push(btcSmsMnemonicKey[0])\r\n  }\r\n  actions.btcmultisig.login_SMS(btcPrivateKey, btcSmsPublicKeys)\r\n}\r\n\r\nconst sign_btc_pin = async (btcPrivateKey) => {\r\n  const btcPinServerKey = config.swapContract.btcPinKey\r\n  const btcPinPublicKeys = [btcPinServerKey]\r\n  const btcPinMnemonicKey: MnemonicKey | null = localStorage.getItem(constants.privateKeyNames.btcPinMnemonicKey)\r\n\r\n  if (btcPinMnemonicKey) {\r\n    btcPinPublicKeys.push(btcPinMnemonicKey)\r\n  }\r\n\r\n  actions.btcmultisig.login_PIN(btcPrivateKey, btcPinPublicKeys)\r\n}\r\n\r\nconst sign = async () => {\r\n  await metamask.web3connect.onInit(async () => {\r\n    initReducerState()\r\n\r\n    let mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\r\n    let needGenerateShamirSecret = false\r\n    const shamirsMnemonics = localStorage.getItem(constants.privateKeyNames.shamirsMnemonics)\r\n\r\n    if (!mnemonic) {\r\n      mnemonic = mnemonicUtils.getRandomMnemonicWords()\r\n      localStorage.setItem(constants.privateKeyNames.twentywords, mnemonic)\r\n      needGenerateShamirSecret = true\r\n    } else if (mnemonic !== `-`) {\r\n      needGenerateShamirSecret = true\r\n    }\r\n    // Generate Shamir's Secret-Sharing for Mnemonic Codes\r\n    if (needGenerateShamirSecret && !shamirsMnemonics) {\r\n      const shamirsSharing = mnemonicUtils.splitMnemonicToSecretParts(mnemonic)\r\n      localStorage.setItem(constants.privateKeyNames.shamirsMnemonics, JSON.stringify(shamirsSharing.mnemonics))\r\n      localStorage.setItem(\r\n        constants.privateKeyNames.shamirsSecrets,\r\n        JSON.stringify(\r\n          shamirsSharing.secretParts.map((secretPart) => secretPart.toString())\r\n        )\r\n      )\r\n    }\r\n\r\n    const btcPrivateKey = localStorage.getItem(constants.privateKeyNames.btc)\r\n    const ghostPrivateKey = localStorage.getItem(constants.privateKeyNames.ghost)\r\n    const nextPrivateKey = localStorage.getItem(constants.privateKeyNames.next)\r\n    // using ETH key for all EVM compatible chains\r\n    const ethPrivateKey = localStorage.getItem(constants.privateKeyNames.eth)\r\n\r\n    Object.keys(config.enabledEvmNetworks).forEach((evmNetworkKey) => {\r\n      const actionKey = evmNetworkKey?.toLowerCase()\r\n      if (actionKey) actions[actionKey]?.login(ethPrivateKey, mnemonic)\r\n    })\r\n\r\n    const _btcPrivateKey = actions.btc.login(btcPrivateKey, mnemonic)\r\n    actions.ghost.login(ghostPrivateKey, mnemonic)\r\n    actions.next.login(nextPrivateKey, mnemonic)\r\n\r\n    // btc multisig with 2fa (2of3)\r\n    await sign_btc_2fa(_btcPrivateKey)\r\n\r\n    // btc multisig 2of2 user manual sign\r\n    await sign_btc_multisig(_btcPrivateKey)\r\n\r\n    // btc multisig with pin protect (2of3)\r\n    await sign_btc_pin(_btcPrivateKey)\r\n\r\n    loginWithTokens()\r\n  })\r\n}\r\n\r\nconst loginWithTokens = () => {\r\n  EXISTING_STANDARDS.forEach((standard) => {\r\n    // for eth like blockchain use eth private key\r\n    const privateKey = localStorage.getItem(constants.privateKeyNames.eth)\r\n\r\n    Object.keys(config[standard]).forEach(tokenName => {\r\n      actions[standard].login(\r\n        privateKey,\r\n        config[standard][tokenName].address,\r\n        tokenName,\r\n        config[standard][tokenName].decimals,\r\n        config[standard][tokenName].fullName,\r\n      )\r\n    })\r\n  })\r\n\r\n  reducers.user.setTokenSigned(true)\r\n}\r\n\r\nconst getBalances = () => {\r\n  const {\r\n    user: {\r\n      isTokenSigned,\r\n      isBalanceFetching,\r\n    },\r\n  } = getState()\r\n\r\n  if (isBalanceFetching) return true\r\n\r\n  reducers.user.setIsBalanceFetching({ isBalanceFetching: true })\r\n\r\n  const evmBalancesFuncs: Array<any> = []\r\n  Object.keys(config.enabledEvmNetworks).forEach((evmType) => {\r\n    if (!enabledCurrencies || enabledCurrencies[evmType.toLowerCase()]) {\r\n      if ((onlyEvmWallets && metamask.isEnabled() && metamask.isConnected()) || !onlyEvmWallets) {\r\n        evmBalancesFuncs.push({\r\n          func: actions[evmType.toLowerCase()].getBalance,\r\n          name: evmType.toLowerCase(),\r\n        })\r\n      }\r\n    }\r\n  })\r\n\r\n  return new Promise(async (resolve) => {\r\n    const balances = [\r\n      ...(metamask.isEnabled() && metamask.isConnected() && metamask.isAvailableNetwork())\r\n        ? [ { func: metamask.getBalance, name: 'metamask' } ]\r\n        : [],\r\n      ...(((!enabledCurrencies || enabledCurrencies.btc) && !onlyEvmWallets) ? [{ func: actions.btc.getBalance, name: 'btc' }] : []),\r\n\r\n      ...evmBalancesFuncs,\r\n\r\n      ...(((!enabledCurrencies || enabledCurrencies.ghost) && !onlyEvmWallets) ? [{ func: actions.ghost.getBalance, name: 'ghost' }] : []),\r\n      ...(((!enabledCurrencies || enabledCurrencies.next) && !onlyEvmWallets) ? [{ func: actions.next.getBalance, name: 'next' }] : []),\r\n      ...(((!enabledCurrencies || enabledCurrencies.btc) && !onlyEvmWallets) ? [{ func: actions.btcmultisig.getBalance, name: 'btc-sms' }] : []),\r\n      ...(((!enabledCurrencies || enabledCurrencies.btc) && !onlyEvmWallets) ? [{ func: actions.btcmultisig.getBalanceUser, name: 'btc-ms-main' }] : []),\r\n      ...(((!enabledCurrencies || enabledCurrencies.btc) && !onlyEvmWallets) ? [{ func: actions.btcmultisig.getBalancePin, name: 'btc-pin' }] : []),\r\n      ...(((!enabledCurrencies || enabledCurrencies.btc) && !onlyEvmWallets) ? [{ func: actions.btcmultisig.fetchMultisigBalances, name: 'btc-ms' }] : []),\r\n    ]\r\n\r\n    await Promise.all(\r\n      balances.map(async (obj) => {\r\n        try {\r\n          await obj.func()\r\n        } catch (e) {\r\n          console.error('Fail fetch balance for ', obj.name)\r\n        }\r\n      }),\r\n    )\r\n\r\n    if (isTokenSigned) {\r\n      await getTokensBalances()\r\n    }\r\n\r\n    reducers.user.setIsBalanceFetching({ isBalanceFetching: false })\r\n    resolve(true)\r\n  })\r\n}\r\n\r\nconst getTokensBalances = async () => {\r\n  await Promise.all(\r\n    EXISTING_STANDARDS.map(async (standard) => {\r\n      const { currency } = TOKEN_STANDARDS[standard]\r\n\r\n      if (!enabledCurrencies || enabledCurrencies[currency.toLowerCase()]) {\r\n        if ((onlyEvmWallets && metamask.isEnabled() && metamask.isConnected()) || !onlyEvmWallets) {\r\n          await Promise.all(\r\n            Object.keys(config[standard]).map(async (tokenName) => {\r\n              try {\r\n                await actions[standard].getBalance(tokenName)\r\n              } catch (error) {\r\n                console.group('Actions >%c user > getTokensBalances', 'color: red;')\r\n                console.error(`Fail fetch balance for ${tokenName.toUpperCase()} token`, error)\r\n                console.groupEnd()\r\n              }\r\n            }),\r\n          )\r\n        }\r\n      }\r\n    }),\r\n  )\r\n}\r\n\r\nconst customRate = (cur) => {\r\n  const widgetTokens = window.widgetEvmLikeTokens\r\n\r\n  const targetToken = widgetTokens?.length\r\n    && widgetTokens.find((token) => token.name.toLowerCase() === cur.toLowerCase())\r\n\r\n  return targetToken ? (targetToken || { customExchangeRate: null }).customExchangeRate : null\r\n}\r\n\r\nconst getExchangeRate = (sellCurrency, buyCurrency): Promise<number> => {\r\n  const sellDataRate = customRate(sellCurrency)\r\n  const buyDataRate = customRate(buyCurrency)\r\n\r\n  const {\r\n    user,\r\n  } = getState()\r\n\r\n  return new Promise((resolve, reject) => {\r\n\r\n    if (sellDataRate) {\r\n      resolve(sellDataRate)\r\n      return\r\n    }\r\n\r\n    if (buyDataRate) {\r\n      resolve(new BigNumber(1).div(buyDataRate).toNumber())\r\n      return\r\n    }\r\n\r\n    let dataKey = sellCurrency.toLowerCase()\r\n    switch (sellCurrency.toLowerCase()) {\r\n      case 'btc (multisig)':\r\n      case 'btc (pin-protected)':\r\n        dataKey = 'btc'\r\n        break\r\n    }\r\n\r\n    if (\r\n      (user[`${dataKey}Data`]?.infoAboutCurrency?.price_fiat)\r\n      || (user.tokensData[dataKey]?.infoAboutCurrency?.price_fiat)\r\n    ) {\r\n      const currencyData = (user.tokensData[dataKey] && user.tokensData[dataKey].infoAboutCurrency)\r\n        ? user.tokensData[dataKey]\r\n        : user[`${dataKey}Data`]\r\n\r\n      resolve(currencyData.infoAboutCurrency.price_fiat)\r\n    } else {\r\n      resolve(0)\r\n    }\r\n  })\r\n}\r\n\r\nconst customTokenExchangeRate = (name) => {\r\n  for (const key in TOKEN_STANDARDS) {\r\n    const { standard } = TOKEN_STANDARDS[key]\r\n\r\n    if (config[standard][name.toLowerCase()]) {\r\n      return config[standard][name.toLowerCase()].customExchangeRate || ''\r\n    }\r\n  }\r\n\r\n  return ''\r\n}\r\n\r\nconst getInfoAboutPHI = (fiat, btcPrice) => new Promise((resolve, reject) => {\r\n  request.get(`https://price.phi.network/api/ticker`,{\r\n    cacheResponse: 60 * 60 * 1000, // cache for 1 hour\r\n    query: {\r\n      filter: `WPHI`,\r\n    },\r\n  }).then((apiData: any) => {\r\n    /*\r\n      Answer 07.12.2003\r\n      {\r\n        \"quotes\": {\r\n          \"USD\": {\r\n            \"last_updated\": \"2023-04-16T05:35:15+00:00\",\r\n            \"price\": 3098295.179276145\r\n          }\r\n        }\r\n      }\r\n      \r\n      @ToDo -     -  \r\n    */\r\n    if (apiData\r\n      && apiData\r\n      && apiData.quotes\r\n      && apiData.quotes[fiat]\r\n    ) {\r\n      const currencyInfoItem = apiData\r\n      const priceInFiat = currencyInfoItem.quotes[fiat].price\r\n      const priceInBtc = priceInFiat / btcPrice\r\n\r\n      const currencyInfo = {\r\n        ...currencyInfoItem.quotes[fiat],\r\n        price_fiat: priceInFiat,\r\n        price_btc: priceInBtc,\r\n      }\r\n\r\n      reducers.user.setInfoAboutCurrency({ name: `phi_v1Data`, infoAboutCurrency: currencyInfo })\r\n      reducers.user.setInfoAboutCurrency({ name: `phiData`, infoAboutCurrency: currencyInfo })\r\n    }\r\n    resolve(true)\r\n  }).catch((error) => {\r\n    reject(error)\r\n  })\r\n})\r\n\r\nconst getInfoAboutCurrency = (currencyNames) => new Promise(async (resolve, reject) => {\r\n  reducers.user.setIsFetching({ isFetching: true })\r\n\r\n  const fiat = config?.opts?.activeFiat || `USD`\r\n\r\n  request.get(links.currencyCourses, {\r\n    cacheResponse: 60 * 60 * 1000, // cache for 1 hour\r\n    query: {\r\n      fiat,\r\n      tokens: currencyNames.map(currencyNames => {\r\n        let { coin } = getCoinInfo(currencyNames)\r\n        if (coin === 'XDAI') coin = 'DAI'\r\n\r\n        return coin\r\n      }).join(`,`),\r\n    },\r\n  }).then((answer: any) => {\r\n    const infoAboutBTC = answer.data.filter(currencyInfo => currencyInfo.symbol.toLowerCase() === 'btc')\r\n\r\n    const btcPrice = infoAboutBTC?.length && infoAboutBTC[0]?.quote[fiat]?.price\r\n\r\n    const { user } = getState()\r\n\r\n    currencyNames.map((name) => {\r\n      const {\r\n        coin,\r\n        blockchain,\r\n      } = getCoinInfo(name)\r\n\r\n      const currencyName = coin.replaceAll(`*`,``).toLowerCase()\r\n\r\n      const currencyInfoItem = answer.data.filter(currencyInfo => (\r\n        (currencyInfo.symbol.toLowerCase() === currencyName)\r\n        || (currencyName === 'xdai' && currencyInfo.symbol.toLowerCase() === 'dai')\r\n        || (currencyName === 'phi' && currencyInfo.symbol.toLowerCase() === 'phi_v1')\r\n        || (config?.L2_EVM_KEYS?.includes(currencyName) && currencyInfo.symbol.toLowerCase() === 'eth')\r\n      ))[0]\r\n\r\n      const customFiatPrice = customTokenExchangeRate(currencyName)\r\n\r\n      if (currencyInfoItem?.quote[fiat]) {\r\n        // @To-do,  ,     ,    cursAll      \r\n        let curExchangeRate = 1\r\n        switch (currencyName) {\r\n          case 'phi':\r\n          case 'phi_v1':\r\n            curExchangeRate = 19486972\r\n            break\r\n        }\r\n        \r\n        const priceInFiat =  customFiatPrice || currencyInfoItem.quote[fiat].price * curExchangeRate\r\n        const priceInBtc = btcPrice && priceInFiat / btcPrice\r\n\r\n        const currencyInfo = {\r\n          ...currencyInfoItem.quote[fiat],\r\n          price_fiat: priceInFiat,\r\n          price_btc: priceInBtc,\r\n        }\r\n\r\n        const targetDataKey = `${currencyName}Data`\r\n\r\n        if (user[targetDataKey]) {\r\n          reducers.user.setInfoAboutCurrency({ name: targetDataKey, infoAboutCurrency: currencyInfo })\r\n\r\n          if (currencyInfoItem.symbol === 'BTC') {\r\n            reducers.user.setInfoAboutCurrency({ name: 'btcMultisigUserData', infoAboutCurrency: currencyInfo })\r\n            reducers.user.setInfoAboutCurrency({ name: 'btcMultisigG2FAData', infoAboutCurrency: currencyInfo })\r\n            reducers.user.setInfoAboutCurrency({ name: 'btcMultisigPinData', infoAboutCurrency: currencyInfo })\r\n          }\r\n        } else if (user.tokensData[name.toLowerCase()] && blockchain) {\r\n          reducers.user.setInfoAboutToken({\r\n            baseCurrency: blockchain.toLowerCase(),\r\n            name: coin.toLowerCase(),\r\n            infoAboutCurrency: currencyInfo,\r\n          })\r\n        }\r\n      }\r\n\r\n      if (!currencyInfoItem && blockchain) {\r\n        if (customFiatPrice) { // set custom rate\r\n          const priceInFiat = +customFiatPrice\r\n          const priceInBtc = btcPrice && priceInFiat / btcPrice\r\n\r\n          const currencyInfo = {\r\n            price_fiat: priceInFiat,\r\n            price_btc: priceInBtc,\r\n          }\r\n\r\n          reducers.user.setInfoAboutToken({\r\n            baseCurrency: blockchain.toLowerCase(),\r\n            name: coin.toLowerCase(),\r\n            infoAboutCurrency: currencyInfo,\r\n          })\r\n        } else { // remove custom rate\r\n          reducers.user.setInfoAboutToken({\r\n            baseCurrency: blockchain.toLowerCase(),\r\n            name: coin.toLowerCase(),\r\n            infoAboutCurrency: undefined,\r\n          })\r\n        }\r\n      }\r\n    })\r\n    if (currencyNames.includes('phi_v1') || currencyNames.includes('phi')) {\r\n      getInfoAboutPHI(fiat, btcPrice).then((isOk) => { /* Ok */ }).catch((e) => { console.log('Fail fetch Prices for PHI',e) })\r\n    }\r\n    processCustomTokenPrice(btcPrice)\r\n    resolve(true)\r\n  }).catch((error) => {\r\n    console.log('>>> getInfoAboutCurrency error', error)\r\n    reject(error)\r\n  }).finally(() => reducers.user.setIsFetching({ isFetching: false }))\r\n})\r\n\r\nconst processCustomTokenPrice = (btcPrice) => {\r\n  for (const key in TOKEN_STANDARDS) {\r\n    const { standard, currency } = TOKEN_STANDARDS[key]\r\n\r\n    for (const name in config[standard]) {\r\n      \r\n      if (config[standard][name].customFiatPrice) {\r\n        const priceInFiat = config[standard][name].customFiatPrice\r\n        const priceInBtc = priceInFiat / btcPrice\r\n\r\n        reducers.user.setInfoAboutToken({\r\n          baseCurrency: currency.toLowerCase(),\r\n          name: name.toLowerCase(),\r\n          infoAboutCurrency: {\r\n            price_fiat: priceInFiat,\r\n            price_btc: priceInBtc,\r\n          },\r\n        })\r\n      }\r\n\r\n    }\r\n  }\r\n}\r\n\r\nconst clearTransactions = () => {\r\n  reducers.history.setTransactions([])\r\n}\r\n\r\nconst mergeTransactions = (mergeTxs: IUniversalObj[]) => {\r\n  const {\r\n    history: {\r\n      transactions,\r\n    },\r\n  } = getState()\r\n\r\n  const allTransactions = transactions\r\n    .concat(mergeTxs)\r\n    .filter((item) => item)\r\n\r\n  actions.history.pullTransactions(allTransactions)\r\n}\r\n\r\nconst pullActiveCurrency = (currency) => {\r\n  reducers.user.setActiveCurrency({ activeCurrency: currency })\r\n}\r\n\r\nconst fetchMultisigStatus = async () => {\r\n  const {\r\n    user: {\r\n      btcMultisigUserData: {\r\n        address: mainAddress,\r\n        wallets,\r\n      },\r\n    },\r\n  } = getState()\r\n\r\n  actions.multisigTx.fetch(mainAddress)\r\n  if (wallets && wallets.length) {\r\n    wallets.map(({ address }, index) => new Promise(async (resolve) => {\r\n      actions.multisigTx.fetch(address)\r\n      resolve(true)\r\n    }))\r\n  }\r\n}\r\n\r\nconst setTransactions = async () => {\r\n  clearTransactions()\r\n\r\n  const evmTransactions: any = []\r\n  Object.keys(config.enabledEvmNetworks).forEach((evmType) => {\r\n    if (!enabledCurrencies || enabledCurrencies[evmType.toLowerCase()]) {\r\n      if (onlyEvmWallets) {\r\n        if (metamask.isEnabled() && metamask.isConnected()) {\r\n          evmTransactions.push( actions[evmType.toLowerCase()].getTransaction(metamask.getAddress()) )\r\n        }\r\n      } else {\r\n        evmTransactions.push( actions[evmType.toLowerCase()].getTransaction() )\r\n        if (metamask.isEnabled() && metamask.isConnected()) {\r\n          evmTransactions.push( actions[evmType.toLowerCase()].getTransaction(metamask.getAddress()) )\r\n        }\r\n      }\r\n    }\r\n  })\r\n  try {\r\n    const fetchTxsPromises = [\r\n      ...(((!enabledCurrencies || enabledCurrencies.btc) && !onlyEvmWallets) ? [actions.btc.getTransaction()] : []),\r\n      ...(((!enabledCurrencies || enabledCurrencies.btc) && !onlyEvmWallets) ? [actions.btcmultisig.getTransactionSMS()] : []),\r\n      ...(((!enabledCurrencies || enabledCurrencies.btc) && !onlyEvmWallets) ? [actions.btcmultisig.getTransactionPIN()] : []),\r\n      ...(((!enabledCurrencies || enabledCurrencies.btc) && !onlyEvmWallets) ? [actions.btcmultisig.getTransactionUser()] : []),\r\n      ...evmTransactions,\r\n      ...(((!enabledCurrencies || enabledCurrencies.ghost) && !onlyEvmWallets) ? [actions.ghost.getTransaction()] : []),\r\n      ...(((!enabledCurrencies || enabledCurrencies.next) && !onlyEvmWallets) ? [actions.next.getTransaction()] : []),\r\n      // @to-do - other metamask wallets? need check\r\n      /*\r\n      ...(metamask.isEnabled() && metamask.isConnected()) ? [actions.eth.getTransaction(metamask.getAddress())] : [],\r\n      ...(metamask.isEnabled() && metamask.isConnected()) ? [actions.bnb.getTransaction(metamask.getAddress())] : [],\r\n      */\r\n    ]\r\n\r\n    fetchTxsPromises.forEach((txPromise: Promise<any[]>) => {\r\n      txPromise.then((txList: any[]) => {\r\n        mergeTransactions(txList)\r\n      })\r\n    })\r\n\r\n    await setTokensTransaction()\r\n  } catch (error) {\r\n    console.group('Actions >%c user > setTransactions', 'color: red;')\r\n    console.error('error: ', error)\r\n    console.groupEnd()\r\n  }\r\n}\r\n\r\nconst setTokensTransaction = async () => {\r\n  EXISTING_STANDARDS.forEach((standard) => {\r\n    const { currency } = TOKEN_STANDARDS[standard]\r\n\r\n    if (!enabledCurrencies || enabledCurrencies[currency.toLowerCase()]) {\r\n      Object.keys(config[standard]).filter((name) => {\r\n        const tokenKey = `{${currency.toUpperCase()}}${name}`.toUpperCase()\r\n\r\n        if (user.isAllowedCurrency(tokenKey)) {\r\n          actions[standard].getTransaction(false, name).then((trx) => {\r\n            if (trx.length) mergeTransactions(trx)\r\n          })\r\n        }\r\n      })\r\n    }\r\n  })\r\n}\r\n\r\nconst getText = () => {\r\n  const {\r\n    user: {\r\n      ethData,\r\n      bnbData,\r\n      maticData,\r\n      arbethData,\r\n      aurethData,\r\n      xdaiData,\r\n      ftmData,\r\n      avaxData,\r\n      movrData,\r\n      oneData,\r\n      phi_v1Data,\r\n      phiData,\r\n      ameData,\r\n      btcData,\r\n      ghostData,\r\n      nextData,\r\n    },\r\n  } = getState()\r\n\r\n  const text = `\r\n    You will need this instruction only in case of emergency (if you lost your keys)\\r\\n\r\n    please do NOT waste your time and go back to swap.online\r\n    \\r\\n\r\n    \\r\\n\r\n    ${window.location.hostname} emergency only instruction\r\n    \\r\\n\r\n    # ETHEREUM\r\n    \\r\\n\r\n    Ethereum address: ${ethData.address}\\r\\n\r\n    Private key: ${ethData.privateKey}\\r\\n\r\n    \\r\\n\r\n    How to access tokens and ethers: \\r\\n\r\n    1. Go here https://www.myetherwallet.com/#send-transaction \\r\\n\r\n    2. Select 'Private key'\\r\\n\r\n    3. paste private key to input and click \"unlock\"\\r\\n\r\n    \\r\\n\r\n    # BINANCE SMART CHAIN\r\n    \\r\\n\r\n    BSC address: ${bnbData.address}\\r\\n\r\n    Private key: ${bnbData.privateKey}\\r\\n\r\n    \\r\\n\r\n    # MATIC CHAIN\r\n    \\r\\n\r\n    MATIC address: ${maticData.address}\\r\\n\r\n    Private key: ${maticData.privateKey}\\r\\n\r\n    \\r\\n\r\n    # ARBITRUM CHAIN\r\n    \\r\\n\r\n    ARBITRUM address: ${arbethData.address}\\r\\n\r\n    Private key: ${arbethData.privateKey}\\r\\n\r\n    \\r\\n\r\n    # AURORA CHAIN\r\n    \\r\\n\r\n    AURORA address: ${aurethData.address}\\r\\n\r\n    Private key: ${aurethData.privateKey}\\r\\n\r\n    \\r\\n\r\n    # XDAI CHAIN\r\n    \\r\\n\r\n    XDAI address: ${xdaiData.address}\\r\\n\r\n    Private key: ${xdaiData.privateKey}\\r\\n\r\n    \\r\\n\r\n    # FTM CHAIN\r\n    \\r\\n\r\n    FTM address: ${ftmData.address}\\r\\n\r\n    Private key: ${ftmData.privateKey}\\r\\n\r\n    \\r\\n\r\n    # AVAX CHAIN\r\n    \\r\\n\r\n    AVAX address: ${avaxData.address}\\r\\n\r\n    Private key: ${avaxData.privateKey}\\r\\n\r\n    \\r\\n\r\n    # MOVR CHAIN\r\n    \\r\\n\r\n    MOVR address: ${movrData.address}\\r\\n\r\n    Private key: ${movrData.privateKey}\\r\\n\r\n    \\r\\n\r\n    # ONE CHAIN\r\n    \\r\\n\r\n    ONE address: ${oneData.address}\\r\\n\r\n    Private key: ${oneData.privateKey}\\r\\n\r\n    # PHI CHAIN\r\n    \\r\\n\r\n    PHI address: ${phi_v1Data.address}\\r\\n\r\n    Private key: ${phi_v1Data.privateKey}\\r\\n\r\n    \\r\\n\r\n    # PHIv2 CHAIN\r\n    \\r\\n\r\n    PHIv2 address: ${phiData.address}\\r\\n\r\n    Private key: ${phiData.privateKey}\\r\\n\r\n    \\r\\n\r\n    \r\n    # AME CHAIN\r\n    \\r\\n\r\n    AME address: ${ameData.address}\\r\\n\r\n    Private key: ${ameData.privateKey}\\r\\n\r\n    \\r\\n\r\n    # BITCOIN\r\n    \\r\\n\r\n    Bitcoin address: ${btcData.address}\\r\\n\r\n    Private key: ${btcData.privateKey}\\r\\n\r\n    \\r\\n\r\n    1. Go to blockchain.info\\r\\n\r\n    2. login\\r\\n\r\n    3. Go to settings > addresses > import\\r\\n\r\n    4. paste private key and click \"Ok\"\\r\\n\r\n    \\r\\n\r\n    # GHOST\r\n    \\r\\n\r\n    Ghost address: ${ghostData.address}\\r\\n\r\n    Private key: ${ghostData.privateKey}\\r\\n\r\n    \\r\\n\r\n    # NEXT\r\n    \\r\\n\r\n    Next address: ${nextData.address}\\r\\n\r\n    Private key: ${nextData.privateKey}\\r\\n\r\n    \\r\\n\r\n    * We don\\'t store your private keys and will not be able to restore them!\r\n    \\r\\n\r\n  `\r\n\r\n  return text\r\n}\r\n\r\nexport const getWithdrawWallet = (currency, addressOwner) => {\r\n  const needType = getCurrencyKey(currency, true).toUpperCase()\r\n\r\n  const filtered = actions.core.getWallets().filter((wallet) => {\r\n    const walletName = wallet.tokenKey || wallet.currency\r\n    const walletType = getCurrencyKey(walletName, true).toUpperCase()\r\n\r\n    return (\r\n      (walletType === needType && addressOwner === wallet.address)\r\n      || (!addressOwner && (walletType === needType))\r\n    )\r\n  })\r\n\r\n  return (filtered.length) ? filtered[0] : false\r\n}\r\n\r\nexport const isOwner = (addr, currency) => {\r\n  const lowerAddr = addr.toLowerCase()\r\n  const baseTokenCurrency = transactions.getTokenBaseCurrency(currency)\r\n\r\n  if (baseTokenCurrency) {\r\n    const allAddresses = actions[baseTokenCurrency].getAllMyAddresses()\r\n\r\n    if (allAddresses.includes(lowerAddr)) return true\r\n\r\n    const { user } = getState()\r\n    const storeOwnerAddress = user[`${baseTokenCurrency}Data`].address.toLowerCase()\r\n\r\n    return lowerAddr === storeOwnerAddress\r\n  }\r\n\r\n  const currencyActions = actions[currency.toLowerCase()]\r\n\r\n  if (currencyActions?.getAllMyAddresses().includes(lowerAddr)) {\r\n    return true\r\n  }\r\n\r\n  const name = `${currency.toLowerCase()}Data`\r\n  const { user } = getState()\r\n\r\n  if (!user[name]) {\r\n    return false\r\n  }\r\n\r\n  const { addrFromStore } = user[name]\r\n\r\n  if (!addrFromStore) {\r\n    return false\r\n  }\r\n\r\n  return lowerAddr === addrFromStore.toLowerCase()\r\n}\r\n\r\nconst downloadPrivateKeys = () => {\r\n  const element = document.createElement('a')\r\n  const text = getText()\r\n  const message = 'Check your browser downloads'\r\n\r\n  element.setAttribute('href', `data:text/plaincharset=utf-8,${encodeURIComponent(text)}`)\r\n  element.setAttribute('download', `${window.location.hostname}_keys_${moment().format('DD.MM.YYYY')}.txt`)\r\n\r\n  element.style.display = 'none'\r\n  document.body.appendChild(element)\r\n  element.click()\r\n  document.body.removeChild(element)\r\n\r\n  actions.notifications.show(constants.notifications.Message, {\r\n    message,\r\n  })\r\n\r\n  localStorage.setItem(constants.localStorage.privateKeysSaved, 'true')\r\n}\r\n\r\nwindow.downloadPrivateKeys = downloadPrivateKeys\r\n\r\nconst getAuthData = (name) => {\r\n  const { user } = getState()\r\n  return user[`${name}Data`]\r\n}\r\n\r\nconst restoreWallet = async (mnemonic) => {\r\n  const addAllEnabledWalletsAfterRestoreOrCreateSeedPhrase = config?.opts?.addAllEnabledWalletsAfterRestoreOrCreateSeedPhrase\r\n\r\n  // Backup critical localStorage\r\n  const backupMark = actions.btc.getMainPublicKey()\r\n\r\n  actions.backupManager.backup(backupMark, false, true)\r\n  // clean mnemonic, if exists\r\n  localStorage.setItem(constants.privateKeyNames.twentywords, '-')\r\n  localStorage.setItem(constants.privateKeyNames.shamirsMnemonics, '-')\r\n  localStorage.setItem(constants.privateKeyNames.shamirsSecrets, '-')\r\n\r\n  const btcWallet = await actions.btc.getWalletByWords(mnemonic)\r\n  // Check - if exists backup for this mnemonic\r\n  const restoryMark = btcWallet.publicKey\r\n\r\n  if (actions.backupManager.exists(restoryMark)) {\r\n    actions.backupManager.restory(restoryMark)\r\n  }\r\n\r\n  localStorage.setItem(constants.localStorage.isWalletCreate, 'true')\r\n\r\n  Object.keys(config.enabledEvmNetworks).forEach(async (evmNetworkKey) => {\r\n    const actionKey = evmNetworkKey?.toLowerCase()\r\n    if (actionKey) await actions[actionKey]?.login(false, mnemonic)\r\n  })\r\n\r\n  await actions.ghost.login(false, mnemonic)\r\n  await actions.next.login(false, mnemonic)\r\n\r\n\r\n  const btcPrivKey = await actions.btc.login(false, mnemonic)\r\n  const btcPubKey = actions.btcmultisig.getSmsKeyFromMnemonic(mnemonic)\r\n  //@ts-ignore: strictNullChecks\r\n  localStorage.setItem(constants.privateKeyNames.btcSmsMnemonicKeyGenerated, btcPubKey)\r\n  //@ts-ignore: strictNullChecks\r\n  localStorage.setItem(constants.privateKeyNames.btcPinMnemonicKey, btcPubKey)\r\n  \r\n  if (!addAllEnabledWalletsAfterRestoreOrCreateSeedPhrase) {\r\n    await sign_btc_2fa(btcPrivKey)\r\n    await sign_btc_multisig(btcPrivKey)\r\n  }\r\n\r\n  actions.core.markCoinAsVisible('BTC', true)\r\n\r\n  const result: any = await actions.btcmultisig.isPinRegistered(mnemonic)\r\n\r\n  if (result?.exist) {\r\n    actions.core.markCoinAsVisible('BTC (PIN-Protected)', true)\r\n  }\r\n\r\n  if (addAllEnabledWalletsAfterRestoreOrCreateSeedPhrase) {\r\n\r\n    const currencies = getActivatedCurrencies()\r\n    currencies.forEach((currency) => {\r\n      if (\r\n        currency !== 'BTC (PIN-Protected)'\r\n      ) {\r\n        actions.core.markCoinAsVisible(currency.toUpperCase(), true)\r\n      }\r\n    })\r\n\r\n  } else {\r\n\r\n    await getBalances()\r\n    const allWallets = actions.core.getWallets({ withInternal: true })\r\n    allWallets.forEach((wallet) => {\r\n      if (new BigNumber(wallet.balance).isGreaterThan(0)) {\r\n        actions.core.markCoinAsVisible(\r\n          wallet.isToken ? wallet.tokenKey.toUpperCase() : wallet.currency,\r\n          true,\r\n        )\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\n\r\nconst markCoinAsVisibleIfNeed = async () => {\r\n  const addAllEnabledWalletsAfterRestoreOrCreateSeedPhrase = config?.opts?.addAllEnabledWalletsAfterRestoreOrCreateSeedPhrase\r\n\r\n  if (addAllEnabledWalletsAfterRestoreOrCreateSeedPhrase) {\r\n\r\n    const currencies = getActivatedCurrencies()\r\n    currencies.forEach((currency) => {\r\n      if (\r\n        currency !== 'BTC (PIN-Protected)'\r\n      ) {\r\n        actions.core.markCoinAsVisible(currency.toUpperCase(), true)\r\n      }\r\n    })\r\n\r\n  } else {\r\n\r\n    await getBalances()\r\n    const allWallets = actions.core.getWallets({ withInternal: true })\r\n    allWallets.forEach((wallet) => {\r\n      if (new BigNumber(wallet.balance).isGreaterThan(0)) {\r\n        actions.core.markCoinAsVisible(\r\n          wallet.isToken ? wallet.tokenKey.toUpperCase() : wallet.currency,\r\n          true,\r\n        )\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport default {\r\n  sign,\r\n  sign_btc_2fa,\r\n  sign_btc_pin,\r\n  sign_btc_multisig,\r\n  loginWithTokens,\r\n  getBalances,\r\n  setTransactions,\r\n  downloadPrivateKeys,\r\n  getText,\r\n  isOwner,\r\n  getExchangeRate,\r\n  getInfoAboutCurrency,\r\n  getAuthData,\r\n  getWithdrawWallet,\r\n  fetchMultisigStatus,\r\n  pullActiveCurrency,\r\n  restoreWallet,\r\n  markCoinAsVisibleIfNeed,\r\n}\r\n","import config from 'app-config'\r\nimport Web3 from 'web3'\r\nimport { BigNumber } from 'bignumber.js'\r\nimport DEFAULT_CURRENCY_PARAMETERS from 'common/helpers/constants/DEFAULT_CURRENCY_PARAMETERS'\r\nimport { feedback } from 'helpers'\r\n\r\nclass ethLikeHelper {\r\n  readonly currency: string\r\n  readonly currencyKey: string\r\n  readonly defaultParams: IUniversalObj\r\n  readonly web3: IUniversalObj\r\n\r\n  constructor(params) {\r\n    const { currency, defaultParams, web3 } = params\r\n\r\n    this.currency = currency\r\n    this.currencyKey = currency.toLowerCase()\r\n    this.defaultParams = defaultParams\r\n    this.web3 = web3\r\n  }\r\n\r\n  reportError = (params) => {\r\n    const { error, sendFeedback = false } = params\r\n\r\n    if (sendFeedback) {\r\n      feedback.helpers.failed(\r\n        ''.concat(`details - currency: ${this.currency}, `, `error message - ${error.message} `)\r\n      )\r\n    }\r\n\r\n    console.group(`Common helpers >%c ${this.currency}`, 'color: red;')\r\n    console.error('error: ', error)\r\n    console.groupEnd()\r\n  }\r\n\r\n  estimateFeeValue = async (params): Promise<number> => {\r\n    const { method } = params\r\n    const gasPrice = await this.estimateGasPrice()\r\n    const defaultGasLimit = this.defaultParams.limit[method]\r\n    const theSmallestPart = 1e-18\r\n\r\n    return new BigNumber(defaultGasLimit)\r\n      .multipliedBy(gasPrice)\r\n      .multipliedBy(theSmallestPart)\r\n      .toNumber()\r\n  }\r\n\r\n  estimateGasPrice = async (): Promise<number> => {\r\n    if (this.defaultParams.price_fixed) return this.defaultParams.price_fixed\r\n\r\n    let response\r\n\r\n    try {\r\n      response = await this.web3.eth.getGasPrice()\r\n    } catch (err) {\r\n      return this.defaultParams.price.fast\r\n    }\r\n\r\n    const weiGasPrice = new BigNumber(response)\r\n\r\n    return weiGasPrice.isGreaterThan(this.defaultParams.price.fast)\r\n      ? weiGasPrice.toNumber()\r\n      : this.defaultParams.price.fast\r\n  }\r\n\r\n  getContract = (params) => {\r\n    const { address, abi } = params\r\n\r\n    return new this.web3.eth.Contract(abi, address)\r\n  }\r\n}\r\n\r\nexport default {\r\n  eth: new ethLikeHelper({\r\n    currency: 'ETH',\r\n    defaultParams: DEFAULT_CURRENCY_PARAMETERS.evmLike,\r\n    web3: new Web3(config.web3.provider),\r\n  }),\r\n  bnb: new ethLikeHelper({\r\n    currency: 'BNB',\r\n    defaultParams: DEFAULT_CURRENCY_PARAMETERS.evmLike,\r\n    web3: new Web3(config.web3.binance_provider),\r\n  }),\r\n  matic: new ethLikeHelper({\r\n    currency: 'MATIC',\r\n    defaultParams: DEFAULT_CURRENCY_PARAMETERS.evmLike,\r\n    web3: new Web3(config.web3.matic_provider),\r\n  }),\r\n  arbeth: new ethLikeHelper({\r\n    currency: 'ARBETH',\r\n    defaultParams: DEFAULT_CURRENCY_PARAMETERS.arbeth,\r\n    web3: new Web3(config.web3.arbitrum_provider),\r\n  }),\r\n  aureth: new ethLikeHelper({\r\n    currency: 'AURETH',\r\n    defaultParams: DEFAULT_CURRENCY_PARAMETERS.aureth,\r\n    web3: new Web3(config.web3.aurora_provider),\r\n  }),\r\n  xdai: new ethLikeHelper({\r\n    currency: 'XDAI',\r\n    defaultParams: DEFAULT_CURRENCY_PARAMETERS.evmLike,\r\n    web3: new Web3(config.web3.xdai_provider),\r\n  }),\r\n  ftm: new ethLikeHelper({\r\n    currency: 'FTM',\r\n    defaultParams: DEFAULT_CURRENCY_PARAMETERS.evmLike,\r\n    web3: new Web3(config.web3.ftm_provider),\r\n  }),\r\n  avax: new ethLikeHelper({\r\n    currency: 'AVAX',\r\n    defaultParams: DEFAULT_CURRENCY_PARAMETERS.evmLike,\r\n    web3: new Web3(config.web3.avax_provider),\r\n  }),\r\n  movr: new ethLikeHelper({\r\n    currency: 'MOVR',\r\n    defaultParams: DEFAULT_CURRENCY_PARAMETERS.evmLike,\r\n    web3: new Web3(config.web3.movr_provider),\r\n  }),\r\n  one: new ethLikeHelper({\r\n    currency: 'ONE',\r\n    defaultParams: DEFAULT_CURRENCY_PARAMETERS.evmLike,\r\n    web3: new Web3(config.web3.one_provider),\r\n  }),\r\n  ame: new ethLikeHelper({\r\n    currency: 'AME',\r\n    defaultParams: DEFAULT_CURRENCY_PARAMETERS.evmLike,\r\n    web3: new Web3(config.web3.ame_provider),\r\n  }),\r\n  phi_v1: new ethLikeHelper({\r\n    currency: 'PHI_V1',\r\n    defaultParams: DEFAULT_CURRENCY_PARAMETERS.phi_v1,\r\n    web3: new Web3(config.web3.phi_v1_provider),\r\n  }),\r\n  phi: new ethLikeHelper({\r\n    currency: 'PHI',\r\n    defaultParams: DEFAULT_CURRENCY_PARAMETERS.phi,\r\n    web3: new Web3(config.web3.phi_provider),\r\n  }),\r\n  fkw: new ethLikeHelper({\r\n    currency: 'FKW',\r\n    defaultParams: DEFAULT_CURRENCY_PARAMETERS.fkw,\r\n    web3: new Web3(config.web3.fkw_provider),\r\n  }),\r\n  phpx: new ethLikeHelper({\r\n    currency: 'PHPX',\r\n    defaultParams: DEFAULT_CURRENCY_PARAMETERS.phpx,\r\n    web3: new Web3(config.web3.phpx_provider),\r\n  }),\r\n}\r\n","import { BigNumber } from 'bignumber.js'\r\n\r\n// prevent numbers from scientific notation\r\nBigNumber.config({ EXPONENTIAL_AT: 1e9 })\r\n\r\nconst formatWithDecimals = (amount, decimals): string => {\r\n  return new BigNumber(amount)\r\n    .times(10 ** decimals)\r\n    .dp(decimals)\r\n    .toString()\r\n}\r\n\r\nconst formatWithoutDecimals = (amount, decimals): string => {\r\n  return new BigNumber(amount)\r\n    .div(10 ** decimals)\r\n    .dp(decimals)\r\n    .toString()\r\n}\r\n\r\nconst toHexNumber = (amount: number | string | BigNumber): string => {\r\n  return `0x${new BigNumber(amount).toString(16)}`\r\n}\r\n\r\nexport default {\r\n  formatWithDecimals,\r\n  formatWithoutDecimals,\r\n  toHexNumber,\r\n}\r\n","export enum FG_COLORS {\r\n  BLACK = '\\x1b[30m',\r\n  RED = '\\x1b[31m',\r\n  GREEN = '\\x1b[32m',\r\n  YELLOW = '\\x1b[33m',\r\n  BLUE = '\\x1b[34m',\r\n  MAGENTA = '\\x1b[35m',\r\n  CYAN = '\\x1b[36m',\r\n  WHITE = '\\x1b[37m',\r\n}\r\n\r\nexport enum BG_COLORS {\r\n  BLACK = '\\x1b[40m',\r\n  RED = '\\x1b[41m',\r\n  GREEN = '\\x1b[42m',\r\n  YELLOW = '\\x1b[43m',\r\n  BLUE = '\\x1b[44m',\r\n  MAGENTA = '\\x1b[45m',\r\n  CYAN = '\\x1b[46m',\r\n  WHITE = '\\x1b[47m',\r\n}\r\n\r\nexport enum STYLES {\r\n  BRIGHT = '\\x1b[1m',\r\n  DIM = \"\\x1b[2m\",\r\n  UNDERSCORE = '\\x1b[4m',\r\n  BLINK = '\\x1b[5m',\r\n  REVERSE = '\\x1b[7m',\r\n  HIDDEN = '\\x1b[8m',\r\n}\r\n\r\nconst OP_RESET = '\\x1b[0m'\r\n\r\ninterface formatStringOptions {\r\n  color: FG_COLORS,\r\n  bg?: BG_COLORS,\r\n  styles?: Array<STYLES>,\r\n}\r\n\r\nexport const colorString = (string: string, options: formatStringOptions | FG_COLORS): string => {\r\n  if (typeof options === `string`) {\r\n    return `${options}${string}${OP_RESET}`\r\n  }\r\n  let ret: string = `${options.color}`\r\n  if (options.bg) ret = `${ret}${options.bg}`\r\n  if (options.styles && options.styles.length) {\r\n    options.styles.forEach((style) => {\r\n      ret = `${ret}${style}`\r\n    })\r\n  }\r\n  return `${ret}${string}${OP_RESET}`\r\n}\r\n\r\n\r\n","const namedQuery = {}\r\nconst namedQueryTimers = {}\r\nconst namedQueryTicks = 10\r\n\r\nconst namedQueryTimer = (queryName) => {\r\n  if (namedQuery[queryName].length) {\r\n    const queryChunk = namedQuery[queryName].shift()\r\n    const {\r\n      resolve: onResolve,\r\n      error: onError,\r\n      delay,\r\n      func,\r\n      isAsync,\r\n    } = queryChunk\r\n\r\n    new Promise(async (resolve, reject) => {\r\n      try {\r\n        const ret = await func()\r\n\r\n        if (typeof onResolve === `function`) onResolve(ret)\r\n        namedQueryTimers[queryName] = setTimeout(() => {\r\n          namedQueryTimer(queryName)\r\n        }, delay)\r\n      } catch (err) {\r\n        if (typeof onError === `function`) onError(err)\r\n        namedQueryTimers[queryName] = setTimeout(() => {\r\n          namedQueryTimer(queryName)\r\n        }, delay)\r\n      }\r\n    })\r\n  } else {\r\n    namedQueryTimers[queryName] = setTimeout(() => {\r\n      namedQueryTimer(queryName)\r\n    }, namedQueryTicks)\r\n  }\r\n}\r\n\r\nconst namedQueryInit = (queryName) => {\r\n  if (!namedQuery[queryName]) namedQuery[queryName] = []\r\n  if (!namedQueryTimers[queryName]) { \r\n    namedQueryTimers[queryName] = setTimeout(() => {\r\n      namedQueryTimer(queryName)\r\n    }, namedQueryTicks)\r\n  }\r\n}\r\n\r\nconst namedQueryRun = (options) => {\r\n  const {\r\n    name: queryName,\r\n    resolve,\r\n    error,\r\n    delay,\r\n    func,\r\n    isAsync,\r\n  } = options\r\n\r\n\r\n  namedQueryInit(queryName)\r\n  namedQuery[queryName].push(options)\r\n}\r\n\r\nexport default namedQueryRun","import amount from './amount'\r\nimport apiLooper from './apiLooper'\r\nimport getUnixTimeStamp from './getUnixTimeStamp'\r\nimport * as colorString from './colorString'\r\nimport * as mnemonic from './mnemonic'\r\nimport namedQueryRun from './namedQuery'\r\nimport request from './request'\r\n\r\nexport default {\r\n  amount,\r\n  apiLooper,\r\n  getUnixTimeStamp,\r\n  colorString,\r\n  mnemonic,\r\n  namedQueryRun,\r\n  request,\r\n}\r\n","import Web3 from 'web3'\r\nimport config from 'app-config'\r\nimport TokenAbi from 'human-standard-token-abi'\r\nimport { BigNumber } from 'bignumber.js'\r\nimport DEFAULT_CURRENCY_PARAMETERS from 'common/helpers/constants/DEFAULT_CURRENCY_PARAMETERS'\r\nimport TOKEN_STANDARDS from 'helpers/constants/TOKEN_STANDARDS'\r\nimport { COIN_DATA, COIN_MODEL } from 'swap.app/constants/COINS'\r\nimport ethLikeHelper from 'common/helpers/ethLikeHelper'\r\nimport utils from 'common/utils'\r\nimport { feedback, metamask } from 'helpers'\r\nimport getCoinInfo from 'common/coins/getCoinInfo'\r\n\r\n\r\nclass erc20LikeHelper {\r\n  readonly standard: string // (ex. erc20, bep20, erc20Matic, ...)\r\n  readonly currency: string // (ex. ETH)\r\n  readonly currencyKey: string // (ex. eth)\r\n  readonly defaultParams: IUniversalObj\r\n  readonly Web3: IUniversalObj\r\n\r\n  constructor(params) {\r\n    const {\r\n      standard,\r\n      currency,\r\n      defaultParams,\r\n      web3,\r\n    } = params\r\n\r\n    this.standard = standard\r\n    this.currency = currency\r\n    this.currencyKey = currency.toLowerCase()\r\n    this.defaultParams = defaultParams\r\n    this.Web3 = web3\r\n  }\r\n\r\n  reportError = (params) => {\r\n    const { error, sendFeedback = false } = params\r\n\r\n    if (sendFeedback) {\r\n      feedback.helpers.failed(\r\n        ''.concat(`details - standard: ${this.standard}, `, `error message - ${error.message} `)\r\n      )\r\n    }\r\n\r\n    console.group(`Common erc20LikeHelper >%c ${this.standard}`, 'color: red;')\r\n    console.error('error: ', error)\r\n    console.groupEnd()\r\n  }\r\n\r\n  getCurrentWeb3 = () => metamask.getWeb3() || this.Web3\r\n\r\n  estimateFeeValue = async (params): Promise<number> => {\r\n    const { method, swapABMethod } = params\r\n    const gasPrice = await this.estimateGasPrice()\r\n    const methodForLimit = swapABMethod === 'deposit'\r\n      ? 'swapDeposit'\r\n      : swapABMethod === 'withdraw'\r\n        ? 'swapWithdraw'\r\n        : method\r\n    const defaultGasLimit = this.defaultParams.limit[methodForLimit]\r\n\r\n    return new BigNumber(defaultGasLimit)\r\n      .multipliedBy(gasPrice)\r\n      .multipliedBy(1e-18)\r\n      .toNumber()\r\n  }\r\n\r\n  estimateGasPrice = async (): Promise<number> => {\r\n    return ethLikeHelper[this.currencyKey].estimateGasPrice()\r\n  }\r\n\r\n  isToken = (params): boolean => {\r\n    const { name } = params\r\n    const {\r\n      coin,\r\n      blockchain,\r\n    } = getCoinInfo(name)\r\n\r\n    if (!blockchain) return false\r\n    return (\r\n      Object.keys(config[this.standard]).includes(coin.toLowerCase()) &&\r\n      name.startsWith(`{${this.currencyKey}}`)\r\n    )\r\n  }\r\n\r\n  checkAllowance = async (params: {\r\n    owner: string\r\n    spender: string\r\n    contract: string\r\n    decimals: number\r\n  }): Promise<number> => {\r\n    const { owner, spender, contract, decimals } = params\r\n    const Web3 = this.getCurrentWeb3()\r\n    const tokenContract = new Web3.eth.Contract(TokenAbi, contract, {\r\n      from: owner,\r\n    })\r\n\r\n    let allowanceAmount = 0\r\n\r\n    try {\r\n      allowanceAmount = await tokenContract.methods.allowance(owner, spender).call({ from: owner })\r\n      allowanceAmount = new BigNumber(\r\n        utils.amount.formatWithoutDecimals(allowanceAmount, decimals)\r\n      ).toNumber()\r\n    } catch (error) {\r\n      this.reportError({ error })\r\n    }\r\n\r\n    return allowanceAmount\r\n  }\r\n}\r\n\r\nconst isToken = (params) => {\r\n  const { name } = params\r\n  const {\r\n    coin: coinName,\r\n    blockchain,\r\n  } = getCoinInfo(name)\r\n\r\n  if (!blockchain) return false\r\n\r\n  const isUTXOModel = COIN_DATA[name.toUpperCase()] && COIN_DATA[name.toUpperCase()].model === COIN_MODEL.UTXO\r\n  if (isUTXOModel) return false\r\n\r\n  for (const prop in TOKEN_STANDARDS) {\r\n    const standard = TOKEN_STANDARDS[prop].standard\r\n\r\n    if (!config[standard]) continue\r\n\r\n    const baseCurrency = TOKEN_STANDARDS[prop].currency\r\n    const lowerName = coinName.toLowerCase()\r\n\r\n    if (\r\n      Object.keys(config[standard])?.includes(lowerName) &&\r\n      name.toLowerCase().startsWith(`{${baseCurrency}}`)\r\n    ) {\r\n      return true\r\n    }\r\n  }\r\n\r\n  return false\r\n}\r\n\r\nconst providers = config.web3\r\n\r\nexport default {\r\n  isToken,\r\n  erc20: new erc20LikeHelper({\r\n    standard: 'erc20',\r\n    currency: 'ETH',\r\n    defaultParams: DEFAULT_CURRENCY_PARAMETERS.evmLikeToken,\r\n    web3: new Web3(providers.provider),\r\n  }),\r\n  bep20: new erc20LikeHelper({\r\n    standard: 'bep20',\r\n    currency: 'BNB',\r\n    defaultParams: DEFAULT_CURRENCY_PARAMETERS.evmLikeToken,\r\n    web3: new Web3(providers.binance_provider),\r\n  }),\r\n  erc20matic: new erc20LikeHelper({\r\n    standard: 'erc20matic',\r\n    currency: 'MATIC',\r\n    defaultParams: DEFAULT_CURRENCY_PARAMETERS.evmLikeToken,\r\n    web3: new Web3(providers.matic_provider),\r\n  }),\r\n  erc20xdai: new erc20LikeHelper({\r\n    standard: 'erc20xdai',\r\n    currency: 'XDAI',\r\n    defaultParams: DEFAULT_CURRENCY_PARAMETERS.evmLikeToken,\r\n    web3: new Web3(providers.xdai_provider),\r\n  }),\r\n  erc20ftm: new erc20LikeHelper({\r\n    standard: 'erc20ftm',\r\n    currency: 'FTM',\r\n    defaultParams: DEFAULT_CURRENCY_PARAMETERS.evmLikeToken,\r\n    web3: new Web3(providers.ftm_provider),\r\n  }),\r\n  erc20avax: new erc20LikeHelper({\r\n    standard: 'erc20avax',\r\n    currency: 'AVAX',\r\n    defaultParams: DEFAULT_CURRENCY_PARAMETERS.evmLikeToken,\r\n    web3: new Web3(providers.avax_provider),\r\n  }),\r\n  erc20movr: new erc20LikeHelper({\r\n    standard: 'erc20movr',\r\n    currency: 'MOVR',\r\n    defaultParams: DEFAULT_CURRENCY_PARAMETERS.evmLikeToken,\r\n    web3: new Web3(providers.movr_provider),\r\n  }),\r\n  erc20one: new erc20LikeHelper({\r\n    standard: 'erc20one',\r\n    currency: 'ONE',\r\n    defaultParams: DEFAULT_CURRENCY_PARAMETERS.evmLikeToken,\r\n    web3: new Web3(providers.one_provider),\r\n  }),\r\n  erc20aurora: new erc20LikeHelper({\r\n    standard: 'erc20aurora',\r\n    currency: 'AURETH',\r\n    defaultParams: DEFAULT_CURRENCY_PARAMETERS.evmLikeToken,\r\n    web3: new Web3(providers.aurora_provider),\r\n  }),\r\n  erc20ame: new erc20LikeHelper({\r\n    standard: 'erc20ame',\r\n    currency: 'AME',\r\n    defaultParams: DEFAULT_CURRENCY_PARAMETERS.evmLikeToken,\r\n    web3: new Web3(providers.ame_provider),\r\n  }),\r\n  phi20_v1: new erc20LikeHelper({\r\n    standard: 'phi20_v1',\r\n    currency: 'phi_v1',\r\n    defaultParams: DEFAULT_CURRENCY_PARAMETERS.evmLikeToken,\r\n    web3: new Web3(providers.phi_provider),\r\n  }),\r\n  phi20: new erc20LikeHelper({\r\n    standard: 'phi20',\r\n    currency: 'phi',\r\n    defaultParams: DEFAULT_CURRENCY_PARAMETERS.evmLikeToken,\r\n    web3: new Web3(providers.phi_provider),\r\n  }),\r\n  fkw20: new erc20LikeHelper({\r\n    standard: 'fkw20',\r\n    currency: 'fkw',\r\n    defaultParams: DEFAULT_CURRENCY_PARAMETERS.evmLikeToken,\r\n    web3: new Web3(providers.fkw_provider),\r\n  }),\r\n  phpx20: new erc20LikeHelper({\r\n    standard: 'phpx20',\r\n    currency: 'phpx',\r\n    defaultParams: DEFAULT_CURRENCY_PARAMETERS.evmLikeToken,\r\n    web3: new Web3(providers.phpx_provider),\r\n  }),\r\n}\r\n","import actions from 'redux/actions'\r\nimport reducers from 'redux/core/reducers'\r\nimport erc20Like from 'common/erc20Like'\r\n\r\nimport { COIN_DATA } from 'swap.app/constants/COINS'\r\n\r\nconst pullTransactions = (transactions) => {\r\n  const sortedTxs = transactions.sort((a, b) => b.date - a.date)\r\n\r\n  reducers.history.setTransactions(sortedTxs)\r\n}\r\n\r\nconst setTransactions = async (address, name) => {\r\n  let actionName\r\n\r\n  switch (name) {\r\n    case 'btc (sms-protected)':\r\n    case 'btc (multisig)':\r\n    case 'btc (pin-protected)':\r\n      name = 'btc'\r\n  }\r\n\r\n  if (erc20Like.isToken({ name })) {\r\n    const tokenStandard = COIN_DATA[name.toUpperCase()].standard.toLowerCase()\r\n    actionName = tokenStandard\r\n  } else {\r\n    actionName = name\r\n  }\r\n\r\n  const isMultisigBtcAddress = actionName === 'btc' && actions.btcmultisig.isBTCMSUserAddress(address)\r\n\r\n  try {\r\n    const result: [][] = await Promise.all([\r\n      actions[actionName].getTransaction(address, name),\r\n      isMultisigBtcAddress ? actions.multisigTx.fetch(address) : new Promise((resolve) => resolve([])),\r\n    ])\r\n    const transactions = [].concat(...result)\r\n\r\n    pullTransactions([...transactions])\r\n  } catch (error) {\r\n    console.group('Actions >%c history', 'color: red;')\r\n    console.error('setTransactions: ', error)\r\n    console.groupEnd()\r\n  }\r\n}\r\n\r\nexport default {\r\n  pullTransactions,\r\n  setTransactions,\r\n}\r\n","import reducers from 'redux/core/reducers'\r\nimport { getState } from 'redux/core'\r\n\r\n\r\nconst addItemToFeed = (feeds) => {\r\n  const filteredFeeds = feeds.filter(f => f.request.length !== 0)\r\n  reducers.feeds.addItems(filteredFeeds)\r\n}\r\n\r\nconst deleteItemToFeed = (orderId) => {\r\n  const { feeds } = getState()\r\n\r\n  const filteredFeeds = Object.keys(feeds)\r\n    .map(k => feeds[k])\r\n    .filter(f => f.id === orderId)\r\n\r\n  reducers.feeds.deleteItems(filteredFeeds)\r\n}\r\n\r\nconst getFeedDataFromOrder = (orders) => {\r\n  const feeds = orders.map(order => ({\r\n    peer: order.owner.peer,\r\n    id: order.id,\r\n    isTurbo: order.isTurbo,\r\n    content:{\r\n      sellCurrency: order.sellCurrency,\r\n      buyCurrency: order.buyCurrency,\r\n      sellAmount: order.sellAmount,\r\n      buyAmount: order.buyAmount,\r\n    },\r\n    request: order.requests,\r\n  }))\r\n\r\n  addItemToFeed(feeds)\r\n}\r\n\r\n\r\nexport default {\r\n  getFeedDataFromOrder,\r\n  deleteItemToFeed,\r\n}\r\n","import debug from 'debug'\r\nimport SwapApp, { Events } from 'swap.app'\r\n\r\n\r\nclass Room {\r\n\r\n  swapId: string\r\n  peer: any\r\n  _events: any\r\n  app: any\r\n\r\n  // TODO add destroy method with all events unsubscribe (when swap is finished)\r\n\r\n  constructor(app, { swapId, participantPeer }) {\r\n    this.swapId           = swapId\r\n    this.peer  = participantPeer\r\n    this._events          = new Events()\r\n    this.app              = null\r\n\r\n    this._attachSwapApp(app)\r\n  }\r\n\r\n  _attachSwapApp(app) {\r\n    SwapApp.required(app)\r\n\r\n    this.app = app\r\n  }\r\n\r\n  getOnlineParticipant = () => {\r\n    try {\r\n      const online = this.app.services.room.connection.hasPeer(this.peer)\r\n\r\n      if (!online) {\r\n        this._events.dispatch('participant is offline', this.peer)\r\n      }\r\n\r\n      return online\r\n    } catch (err) {\r\n      console.warn(err)\r\n      return false\r\n    }\r\n  }\r\n\r\n  on(eventName, handler) {\r\n    this.app.services.room.on(eventName, ({ fromPeer, swapId, ...values }) => {\r\n      debug('swap.verbose:room')(`on ${eventName} from ${fromPeer} at swap ${swapId}`)\r\n      if (fromPeer === this.peer && swapId === this.swapId) {\r\n        handler(values)\r\n      }\r\n    })\r\n  }\r\n\r\n  once(eventName, handler) {\r\n    const self = this\r\n\r\n    this.app.services.room.on(eventName, function ({ fromPeer, swapId, ...values }) {\r\n      debug('swap.verbose:room')(`once ${eventName} from ${fromPeer} at swap ${swapId}`)\r\n      if (fromPeer === self.peer && swapId === self.swapId) {\r\n        this.unsubscribe()\r\n        handler(values)\r\n      }\r\n    })\r\n  }\r\n\r\n  sendMessage(message) {\r\n    if (!this.getOnlineParticipant()) {\r\n      setTimeout(() => {\r\n        this.sendMessage(message)\r\n      }, 3000)\r\n    }\r\n\r\n    const { event, data } = message\r\n\r\n    this.app.services.room.sendConfirmation(this.peer, {\r\n      event,\r\n      action: 'active',\r\n      data: {\r\n        swapId: this.swapId,\r\n        ...data,\r\n      },\r\n    })\r\n  }\r\n}\r\n\r\n\r\nexport default Room\r\n","import debug from 'debug'\r\nimport BigNumber from 'bignumber.js'\r\nimport SwapApp, { Events, util } from 'swap.app'\r\nimport SwapInterface from 'swap.app/SwapInterface'\r\nimport Room from './Room'\r\nimport { Flow as FlowType } from 'swap.swap'\r\nimport { COIN_DATA, COIN_MODEL, COIN_TYPE } from 'swap.app/constants/COINS'\r\nimport getCoinInfo from 'common/coins/getCoinInfo'\r\n\r\n\r\nclass Swap {\r\n\r\n  id: string\r\n  isMy: boolean\r\n  isTurbo: boolean\r\n  owner: any\r\n  participant: any\r\n  buyCurrency: string // @ToDo CoinType\r\n  buyBlockchain: string\r\n  sellCurrency: string// @ToDo CoinType\r\n  sellBlockchain: string\r\n  buyAmount: BigNumber\r\n  sellAmount: BigNumber\r\n  ownerSwap: any\r\n  participantSwap: any\r\n  destinationBuyAddress: any\r\n  destinationSellAddress: any\r\n  app: SwapApp\r\n  createUnixTimeStamp: number\r\n  participantMetamaskAddress: any\r\n  waitConfirm: boolean\r\n  events: Events\r\n  room: Room\r\n  flow: FlowType\r\n\r\n  constructor(id, app, order?) {\r\n    SwapApp.required(app)\r\n    //@ts-ignore: strictNullChecks\r\n    this.id                     = null\r\n    //@ts-ignore: strictNullChecks\r\n    this.isMy                   = null\r\n    //@ts-ignore: strictNullChecks\r\n    this.isTurbo                = null\r\n    this.owner                  = null\r\n    this.participant            = null\r\n    //@ts-ignore: strictNullChecks\r\n    this.buyCurrency            = null\r\n    //@ts-ignore: strictNullChecks\r\n    this.buyBlockchain          = null\r\n    //@ts-ignore: strictNullChecks\r\n    this.sellCurrency           = null\r\n    //@ts-ignore: strictNullChecks\r\n    this.sellBlockchain         = null\r\n    //@ts-ignore: strictNullChecks\r\n    this.buyAmount              = null\r\n    //@ts-ignore: strictNullChecks\r\n    this.sellAmount             = null\r\n    this.ownerSwap              = null\r\n    this.participantSwap        = null\r\n    this.destinationBuyAddress  = null\r\n    this.destinationSellAddress = null\r\n    this.app                    = app\r\n    this.createUnixTimeStamp    = Math.floor(new Date().getTime() / 1000)\r\n\r\n    this.participantMetamaskAddress = null\r\n\r\n    // Wait confirm > 1\r\n    this.waitConfirm            = false\r\n\r\n    let data = this.app.env.storage.getItem(`swap.${id}`)\r\n\r\n    if (!data) {\r\n      //@ts-ignore: strictNullChecks\r\n      order = order || this.app.services.orders.getByKey(id)\r\n\r\n      data = this._getDataFromOrder(order)\r\n    }\r\n\r\n    this.update(data)\r\n\r\n    const swapExists = this._attachSwapApp(app)\r\n    if (swapExists !== null) {\r\n      // Swap object already created and attached to SwapApp.\r\n      // Prevent two Swap object - return exists\r\n      return swapExists\r\n    }\r\n\r\n    this.events = new Events()\r\n\r\n    this.room = new Room(app, {\r\n      swapId: id,\r\n      participantPeer: this.participant.peer,\r\n    })\r\n\r\n    const buyCurrencyInfo = getCoinInfo(data.buyCurrency)\r\n    const sellCurrencyInfo = getCoinInfo(data.sellCurrency)\r\n\r\n    const buyCoin = ((data.buyBlockchain && !buyCurrencyInfo.blockchain) ? `{${data.buyBlockchain}}${data.buyCurrency}` : data.buyCurrency).toUpperCase()\r\n    const sellCoin = ((data.sellBlockchain && !sellCurrencyInfo.blockchain) ? `{${data.sellBlockchain}}${data.sellCurrency}` : data.sellCurrency).toUpperCase()\r\n\r\n    this.ownerSwap        = this.app.swaps[buyCoin]\r\n    this.participantSwap  = this.app.swaps[sellCoin]\r\n\r\n    const flowKey = this.isTurbo ?\r\n      (this.isMy ? 'TurboMaker' : 'TurboTaker')\r\n      :\r\n      `${sellCoin}2${buyCoin}`\r\n\r\n    if (!this.app.flows[flowKey]) {\r\n      throw new Error(`Flow with name \"${flowKey}\" not found in SwapApp.flows`)\r\n    }\r\n\r\n    const Flow = this.app.flows[flowKey]\r\n    this.flow = new Flow(this)\r\n    console.log(`Flow \"${flowKey}\" created!`)\r\n\r\n    this.setupEvents()\r\n    // Change destination address on run time\r\n    this.room.on('set destination buy address', (data) => {\r\n      debug('swap.core:swap')('Other side change destination buy address', data)\r\n      this.update({\r\n        destinationSellAddress: data.address,\r\n      })\r\n    })\r\n\r\n    this.room.on('set destination sell address', (data) => {\r\n      debug('swap.core:swap')('Other side change destination sell address', data)\r\n      this.update({\r\n        destinationBuyAddress: data.address,\r\n      })\r\n    })\r\n\r\n    this.room.on('set metamask address', (data) => {\r\n      debug('swap.core:swap')('Participant use metamask')\r\n      this.update({\r\n        participantMetamaskAddress: data.address,\r\n      })\r\n    })\r\n\r\n    this.on('enter step', () => {\r\n      this.app.emit('swap enter step', {\r\n        swap: this,\r\n      })\r\n    })\r\n\r\n    this.app.emit('swap attached', {\r\n      swap: this,\r\n    })\r\n  }\r\n\r\n/* static read(app, { id }) {\r\n    SwapApp.required(app)\r\n\r\n    if (!id) {\r\n      debug('swap.core:swap')(`SwapReadError: id not given: ${id}`)\r\n      return {}\r\n    }\r\n\r\n    const data = app.env.storage.getItem(`swap.${id}`)\r\n\r\n    if (!data) {\r\n      debug('swap.core:swap')(`SwapReadError: No swap with id=${id}`)\r\n      return {}\r\n    }\r\n\r\n    const flowKey = this.isTurbo ?\r\n      (this.isMy ? 'TurboMaker' : 'TurboTaker')\r\n      :\r\n      `${data.sellCurrency.toUpperCase()}2${data.buyCurrency.toUpperCase()}`\r\n\r\n    if (!app.flows[flowKey]) {\r\n      throw new Error(`Flow with name \"${flowKey}\" not found in SwapApp.flows`)\r\n    }\r\n\r\n    const Flow = app.flows[flowKey]\r\n    data.flow = Flow.read(app, data)\r\n\r\n    return data\r\n  }*/\r\n\r\n  isFinished(): boolean {\r\n    return this.flow.isFinished()\r\n  }\r\n\r\n  _attachSwapApp(app): Swap {\r\n    return this.app.attachSwap(this)\r\n  }\r\n\r\n  _getDataFromOrder(order) {\r\n    // TODO add check order format (typeforce)\r\n\r\n    const data = util.pullProps(\r\n      order,\r\n      'id',\r\n      'isMy',\r\n      'isTurbo',\r\n      'owner',\r\n      'participant',\r\n      'sellCurrency',\r\n      'sellBlockchain',\r\n      'sellAmount',\r\n      'buyCurrency',\r\n      'buyBlockchain',\r\n      'buyAmount',\r\n      'destination',\r\n    )\r\n\r\n    const {\r\n      //@ts-ignore\r\n      isMy,\r\n      //@ts-ignore\r\n      isTurbo,\r\n      //@ts-ignore\r\n      sellCurrency,\r\n      //@ts-ignore\r\n      sellBlockchain,\r\n      //@ts-ignore\r\n      sellAmount,\r\n      //@ts-ignore\r\n      buyCurrency,\r\n      //@ts-ignore\r\n      buyBlockchain,\r\n      //@ts-ignore\r\n      buyAmount,\r\n      //@ts-ignore\r\n      destination,\r\n      ...rest\r\n    } = data\r\n\r\n    const { ownerAddress, participantAddress } = destination\r\n\r\n    const swap = {\r\n      ...rest,\r\n      isMy,\r\n      isTurbo,\r\n      sellCurrency: isMy ? sellCurrency : buyCurrency,\r\n      sellBlockchain: isMy ? sellBlockchain : buyBlockchain,\r\n      sellAmount: isMy ? sellAmount : buyAmount,\r\n      buyCurrency: isMy ? buyCurrency : sellCurrency,\r\n      buyBlockchain: isMy ? buyBlockchain : sellBlockchain,\r\n      buyAmount: isMy ? buyAmount : sellAmount,\r\n      destinationBuyAddress: isMy ? ownerAddress : participantAddress,\r\n      destinationSellAddress: isMy ? participantAddress : ownerAddress,\r\n    }\r\n    //@ts-ignore\r\n    if (!swap.participant && !isMy) {\r\n      //@ts-ignore\r\n      swap.participant = swap.owner\r\n    }\r\n\r\n    return swap\r\n  }\r\n\r\n  _pullRequiredData(data) {\r\n    return util.pullProps(\r\n      data,\r\n      'id',\r\n      'isMy',\r\n      'isTurbo',\r\n      'owner',\r\n      'participant',\r\n      'sellCurrency',\r\n      'sellBlockchain',\r\n      'sellAmount',\r\n      'buyCurrency',\r\n      'buyBlockchain',\r\n      'buyAmount',\r\n      'destinationBuyAddress',\r\n      'destinationSellAddress',\r\n      'createUnixTimeStamp',\r\n      'participantMetamaskAddress',\r\n      'waitConfirm',\r\n    )\r\n  }\r\n\r\n  _saveState() {\r\n    const data = this._pullRequiredData(this)\r\n\r\n    this.app.env.storage.setItem(`swap.${this.id}`, data)\r\n  }\r\n\r\n  checkTimeout(timeoutUTS) {\r\n    // return true if timeout passed\r\n    return !((this.createUnixTimeStamp + timeoutUTS) > Math.floor(new Date().getTime() / 1000))\r\n  }\r\n\r\n  setupEvents() {\r\n    const {\r\n      sellCurrency: sellCoin,\r\n      buyCurrency: buyCoin,\r\n    } = this\r\n\r\n    if (!this.flow.isTakerMakerModel) {\r\n      if (COIN_DATA[sellCoin.toUpperCase()]\r\n        && COIN_DATA[sellCoin.toUpperCase()].model\r\n        && COIN_DATA[buyCoin.toUpperCase()]\r\n        && COIN_DATA[buyCoin.toUpperCase()].model\r\n      ) {\r\n        const _Sell = sellCoin.toLowerCase()\r\n        const _Buy = buyCoin.toLowerCase()\r\n\r\n        const sellModel = COIN_DATA[sellCoin.toUpperCase()].model\r\n        const buyModel = COIN_DATA[buyCoin.toUpperCase()].model\r\n\r\n        // sell UTXO buy AB \r\n        if (sellModel === COIN_MODEL.UTXO && buyModel === COIN_MODEL.AB) {\r\n          // @ToDo after refactoring use 'request script'\r\n          this.room.on(`request utxo script`, () => {\r\n            if (this.flow) {\r\n              const {\r\n                utxoScriptValues: scriptValues,\r\n                utxoScriptCreatingTransactionHash: scriptCreatingTransactionHash,\r\n              } = this.flow.state\r\n              \r\n              if (scriptValues && scriptCreatingTransactionHash) {\r\n                this.room.sendMessage({\r\n                  event:  `create utxo script`,\r\n                  data: {\r\n                    scriptValues,\r\n                    utxoScriptCreatingTransactionHash: scriptCreatingTransactionHash,\r\n                  }\r\n                })\r\n              }\r\n            }\r\n          })\r\n        }\r\n        // sell AB buy UTXO\r\n        if (sellModel === COIN_MODEL.AB && buyModel === COIN_MODEL.UTXO) {\r\n          this.room.on(`create utxo script`, (eventData) => {\r\n            if (this.flow) {\r\n              const {\r\n                scriptValues,\r\n                utxoScriptCreatingTransactionHash: scriptCreatingTransactionHash, \r\n              } = eventData\r\n\r\n              const { step } = this.flow.state\r\n\r\n              if (step >= 3) {\r\n                return\r\n              }\r\n\r\n              this.flow.finishStep({\r\n                secretHash: scriptValues.secretHash,\r\n                utxoScriptValues: scriptValues,\r\n                utxoScriptCreatingTransactionHash: scriptCreatingTransactionHash,\r\n              }, { step: `wait-lock-utxo`, silentError: true })\r\n            }\r\n          })\r\n          // Seller has unconfirmed tx in mem pool\r\n          this.room.on('wait utxo unlock', () => {\r\n            this.flow.setState({\r\n              participantHasLockedUTXO: true,\r\n            }, true)\r\n          })\r\n\r\n          const requestScriptFunc = () => {\r\n            if (this.flow && !this.flow._isFinished()) {\r\n              const { step } = this.flow.state\r\n\r\n              if (step >= 3) {\r\n                return\r\n              }\r\n\r\n              this.flow.swap.room.sendMessage({\r\n                event: `request ${_Buy} script`,\r\n              })\r\n\r\n              setTimeout( requestScriptFunc, 5000 )\r\n            }\r\n          }\r\n          requestScriptFunc()\r\n        }\r\n        // sell UTXO buy UTXO\r\n        if (sellModel === COIN_MODEL.UTXO && buyModel === COIN_MODEL.UTXO) { /* ---- */ }\r\n        // sell AB buy AB\r\n        if (sellModel === COIN_MODEL.AB && buyModel === COIN_MODEL.AB) { /* ----- */ }\r\n      } else {\r\n        console.warn(`Core->Swap->setupEvents - Unknown coins models Sell(${sellCoin}) Buy(${buyCoin})`)\r\n      }\r\n    }\r\n  }\r\n\r\n  needWaitConfirm() {\r\n    this.update({\r\n      waitConfirm: true,\r\n    })\r\n  }\r\n\r\n  processMetamask() {\r\n    if (this.app.env.metamask\r\n      && this.app.env.metamask.isEnabled()\r\n      && this.app.env.metamask.isConnected()\r\n    ) {\r\n      this.room.sendMessage({\r\n        event: 'set metamask address',\r\n        data: {\r\n          address: this.app.env.metamask.getAddress(),\r\n        },\r\n      })\r\n    }\r\n  }\r\n\r\n  setDestinationBuyAddress(address) {\r\n    this.update({\r\n      destinationBuyAddress: address,\r\n    })\r\n\r\n    this.room.sendMessage({\r\n      event: 'set destination buy address',\r\n      data: {\r\n        address,\r\n      },\r\n    })\r\n  }\r\n\r\n  setDestinationSellAddress(address) {\r\n    this.update({\r\n      destinationSellAddress: address,\r\n    })\r\n\r\n    this.room.sendMessage({\r\n      event: 'set destination sell address',\r\n      data: {\r\n        address,\r\n      },\r\n    })\r\n  }\r\n\r\n  update(values) {\r\n    Object.keys(values).forEach((key) => {\r\n      if (key === 'buyAmount' || key === 'sellAmount') {\r\n        this[key] = new BigNumber(String(values[key]))\r\n      }\r\n      else {\r\n        this[key] = values[key]\r\n      }\r\n    })\r\n    this._saveState()\r\n  }\r\n\r\n  on(eventName, handler) {\r\n    this.events.subscribe(eventName, handler)\r\n  }\r\n\r\n  off(eventName, handler) {\r\n    this.events.unsubscribe(eventName, handler)\r\n  }\r\n}\r\n\r\n\r\nexport default Swap\r\n","import debug from 'debug'\r\nimport SwapApp, { util } from 'swap.app'\r\nimport Room from './Room'\r\nimport Swap from './Swap'\r\n\r\n\r\nclass Flow {\r\n  _flowName: string\r\n  swap: Swap\r\n  steps: Function[]\r\n  app: SwapApp\r\n  stepNumbers: any\r\n  isTakerMakerModel: boolean = false\r\n\r\n  state: {\r\n    // Common swaps state\r\n    step: number\r\n    isWaitingForOwner?: boolean\r\n\r\n    isStoppedSwap?: boolean\r\n    isRefunded?: boolean\r\n    isFinished: boolean\r\n    isSwapTimeout?: boolean\r\n\r\n    isSignFetching?: boolean\r\n    isMeSigned?: boolean\r\n\r\n    isBalanceFetching: boolean,\r\n    isBalanceEnough: boolean,\r\n\r\n    // Turbo swaps state\r\n\r\n    takerTxHash?: null | string\r\n    isTakerTxPended?: boolean\r\n\r\n    makerTxHash?: null | string\r\n    isMakerTxPended?: boolean\r\n\r\n    // Atomic swaps state\r\n    // -- AB-UTXO\r\n    participantHasLockedUTXO?: boolean\r\n    secretHash?: string\r\n    requireWithdrawFee?: boolean\r\n    requireWithdrawFeeSended?: boolean\r\n    // -- UTXO-AB\r\n    isUTXOScriptOk?: boolean\r\n    waitUnlockUTXO?: boolean\r\n    withdrawRequestAccepted?: boolean\r\n\r\n    utxoFundError?: string\r\n\r\n    // --- UTXO-AB/AB-UTXO equals states\r\n    utxoScriptValues?: any\r\n    utxoScriptVerified?: boolean\r\n    utxoScriptCreatingTransactionHash?: string\r\n    ethSwapCreationTransactionHash?: string\r\n\r\n    secret?: string\r\n    isParticipantSigned?: boolean\r\n    scriptAddress?: string\r\n    scriptBalance?: number\r\n    isEthContractFunded?: boolean\r\n  }\r\n\r\n  constructor(swap) {\r\n    this.swap     = swap\r\n    this.steps    = []\r\n    //@ts-ignore: strictNullChecks\r\n    this.app      = null\r\n\r\n    this.stepNumbers = {}\r\n\r\n    //@ts-ignore: strictNullChecks\r\n    this.state = {\r\n      step: 0,\r\n      isWaitingForOwner: false,\r\n      isStoppedSwap: false,\r\n      isSwapTimeout: false,\r\n      isRefunded: false,\r\n      isFinished: false,\r\n\r\n      isSignFetching: false,\r\n      isMeSigned: false,\r\n\r\n      /** -------------- Turbo Swaps States ----------------- **/\r\n\r\n      isBalanceFetching: false,\r\n      isBalanceEnough: true,\r\n\r\n      /** -------------- Atomic Swaps States ---------------- **/\r\n      ...{\r\n        /** AB-UTXO **/\r\n        // Partical (btc-seller) has unconfirmed txs in mempool\r\n        participantHasLockedUTXO: false,\r\n        // Script charged, confirmed and checked - next step - charge AB contract\r\n        isUTXOScriptOk: false,\r\n        utxoScriptValues: null,\r\n        utxoScriptVerified: false,\r\n        utxoScriptCreatingTransactionHash: null,\r\n        ethSwapCreationTransactionHash: null,\r\n      },\r\n      ...{\r\n        /** UTXO-AB **/\r\n        // We are have locked txs in mem-pool\r\n        waitUnlockUTXO: false,\r\n        utxoFundError: null,\r\n        utxoScriptValues: null,\r\n        utxoScriptVerified: false,\r\n        utxoScriptCreatingTransactionHash: null,\r\n      },\r\n      ...{\r\n        /** UTXO-UTXO **/\r\n      },\r\n      ...{\r\n        /** AB-AB **/\r\n      },\r\n    }\r\n\r\n    this._attachSwapApp(swap.app)\r\n  }\r\n\r\n  isTaker(): boolean {\r\n    return !this.isMaker()\r\n  }\r\n\r\n  isMaker(): boolean {\r\n    return this.swap.isMy\r\n  }\r\n\r\n  _attachSwapApp(app: SwapApp) {\r\n    SwapApp.required(app)\r\n\r\n    this.app = app\r\n  }\r\n\r\n  static read(app: SwapApp, { id }) {\r\n    SwapApp.required(app)\r\n\r\n    if (!id) {\r\n      debug('swap.core:swap')(`FlowReadError: id not given: ${id}`)\r\n      return {}\r\n    }\r\n\r\n    return app.env.storage.getItem(`flow.${id}`)\r\n  }\r\n\r\n  _isFinished(): boolean {\r\n    const {\r\n      isStoppedSwap,\r\n      isRefunded,\r\n      isFinished,\r\n      isSwapTimeout,\r\n    } = this.state\r\n\r\n    if (this.swap.checkTimeout(3600)) {\r\n      this.setState({\r\n        isStoppedSwap: true,\r\n        isSwapTimeout: true,\r\n      }, true)\r\n    }\r\n\r\n    return (isStoppedSwap || isRefunded || isFinished || this.swap.checkTimeout(3600))\r\n  }\r\n\r\n  isFinished(): boolean {\r\n    return (\r\n      (this.state.step >= this.steps.length)\r\n      || this._isFinished()\r\n    )\r\n  }\r\n\r\n  _persistState() {\r\n    const state = Flow.read(this.app, this.swap)\r\n\r\n    if (state) {\r\n      this.state = {\r\n        ...this.state,\r\n        ...state,\r\n      }\r\n    }\r\n  }\r\n\r\n  _persistSteps() {\r\n    this.steps = [\r\n      ...this._getInitialSteps(),\r\n      ...this._getSteps(),\r\n    ]\r\n\r\n    // wait events placed\r\n    setTimeout(() => {\r\n      if ((this.state.step >= this.steps.length)\r\n        || this._isFinished()\r\n      ) {\r\n        return\r\n      } else {\r\n        this._goStep(this.state.step)\r\n      }\r\n    }, 0)\r\n  }\r\n\r\n  _getInitialSteps() {\r\n    const flow = this\r\n\r\n    return [\r\n\r\n      // Check if order exists\r\n\r\n      async () => {\r\n        const { id: orderId, owner } = this.swap\r\n\r\n        // TODO how can we don't know who is participant???\r\n        // TODO if there is no participant in `order` then no need to create Flow...\r\n        // if there is no order it orderCollection that means owner is offline, so `swap.owner` will be undefined\r\n        if (owner) {\r\n          flow.finishStep()\r\n        }\r\n\r\n        flow.setState({\r\n          isWaitingForOwner: true,\r\n        })\r\n\r\n        //@ts-ignore: strictNullChecks\r\n        this.app.services.room.on('new orders', function ({ orders }) {\r\n          const order = orders.find(({ id }) => id === orderId)\r\n\r\n          if (order) {\r\n            this.unsubscribe()\r\n\r\n            const order = orders.getByKey(orderId)\r\n\r\n            // TODO move this to Swap.js\r\n            //@ts-ignore\r\n            flow.swap.room = new Room({\r\n              participantPeer: order.owner.peer,\r\n            })\r\n            flow.swap.update({\r\n              ...order,\r\n              participant: order.owner,\r\n            })\r\n            flow.finishStep({\r\n              isWaitingForOwner: false,\r\n            })\r\n          }\r\n        })\r\n      },\r\n    ]\r\n  }\r\n\r\n  _getSteps() {\r\n    return []\r\n  }\r\n\r\n  _saveState() {\r\n    this.app.env.storage.setItem(`flow.${this.swap.id}`, this.state)\r\n  }\r\n\r\n  finishStep(data?, constraints?) {\r\n    const {\r\n      isStoppedSwap,\r\n    } = this.state\r\n\r\n\r\n    debug('swap.core:swap')(`on step ${this.state.step}, constraints =`, constraints)\r\n\r\n    if (constraints) {\r\n      const { step, silentError } = constraints\r\n\r\n      const n_step = this.stepNumbers[step]\r\n      if (isStoppedSwap) {\r\n        console.error(`Cant finish step ${step} = ${n_step} when swap is stopped`)\r\n        return\r\n      }\r\n      debug('swap.core:swap')(`trying to finish step ${step} = ${n_step} when on step ${this.state.step}`)\r\n\r\n      if (step && this.state.step != n_step) {\r\n        if (silentError) {\r\n          console.error(`Cant finish step ${step} = ${n_step} when on step ${this.state.step}`)\r\n          return\r\n        } else {\r\n          throw new Error(`Cant finish step ${step} = ${n_step} when on step ${this.state.step}`)\r\n          return\r\n        }\r\n      }\r\n    }\r\n\r\n    debug('swap.core:swap')(`proceed to step ${this.state.step+1}, data=`, data)\r\n\r\n    this._goNextStep(data)\r\n  }\r\n\r\n  _goNextStep(data) {\r\n    const {\r\n      step,\r\n      isStoppedSwap,\r\n    } = this.state\r\n\r\n    if (isStoppedSwap) return\r\n    const newStep = step + 1\r\n    console.warn(\"this.state\", this.state)\r\n    this.swap.events.dispatch('leave step', step)\r\n\r\n    this.setState({\r\n      step: newStep,\r\n      ...(data || {}),\r\n    }, true)\r\n\r\n    if (this.steps.length > newStep)\r\n      this._goStep(newStep)\r\n  }\r\n\r\n  _goStep(index) {\r\n    const {\r\n      isStoppedSwap,\r\n    } = this.state\r\n\r\n    if (isStoppedSwap) return\r\n\r\n    this.swap.events.dispatch('enter step', index)\r\n    this.steps[index]()\r\n  }\r\n\r\n  setState(values, save?) {\r\n    this.state = {\r\n      ...this.state,\r\n      ...values,\r\n    }\r\n\r\n    if (save) {\r\n      this._saveState()\r\n    }\r\n\r\n    this.swap.events.dispatch('state update', this.state, values)\r\n  }\r\n\r\n  sendMessageAboutClose() {\r\n    this.swap.room.sendMessage({\r\n      event: 'swap was canceled',// for front\r\n    })\r\n\r\n    this.swap.room.sendMessage({\r\n      event: 'swap was canceled for core',\r\n    })\r\n    console.warn(`swap ${this.swap.id} was stoped`)\r\n  }\r\n\r\n  stopSwapProcess() {\r\n    console.warn('Swap was stopped')\r\n\r\n    this.setState({\r\n      isStoppedSwap: true,\r\n    }, true)\r\n  }\r\n\r\n  tryRefund(): Promise<any> {\r\n    return new Promise((resolve) => { resolve(true) })\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default Flow","import debug from 'debug'\r\nimport SwapApp, { util } from 'swap.app'\r\nimport Flow from './Flow'\r\nimport { BigNumber } from 'bignumber.js'\r\nimport * as cryptoLib from 'crypto'\r\n\r\n\r\nclass AtomicAB2UTXO extends Flow {\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  utxoCoin: string = null\r\n  isUTXOSide: boolean = false\r\n\r\n  abBlockchain: any // @to-do - make inmlementation for ABswap\r\n  utxoBlockchain: any // @to-do - make implementation for UTXOSwap\r\n\r\n\r\n  constructor(swap) {\r\n    super(swap)\r\n\r\n    //@ts-ignore: strictNullChecks\r\n    this.state = {\r\n      ...this.state,\r\n      ...{\r\n        /** AB-UTXO **/\r\n        // Partical (btc-seller) has unconfirmed txs in mempool\r\n        participantHasLockedUTXO: false,\r\n        requireWithdrawFee: false,\r\n        requireWithdrawFeeSended: false,\r\n        // Script charged, confirmed and checked - next step - charge AB contract\r\n        isUTXOScriptOk: false,\r\n        utxoScriptValues: null,\r\n        utxoScriptVerified: false,\r\n        utxoScriptCreatingTransactionHash: null,\r\n        /** UTXO-AB **/\r\n        // We are have locked txs in mem-pool\r\n        waitUnlockUTXO: false,\r\n        utxoFundError: null,\r\n        withdrawRequestAccepted: false,\r\n      },\r\n    }\r\n  }\r\n\r\n  setupTakerMakerEvents() {\r\n    const flow = this\r\n    if (!this.isTakerMakerModel) return\r\n    if (this.isTaker()) {\r\n      flow.swap.room.on('request utxo script', () => {\r\n        const {\r\n          utxoScriptValues,\r\n          secretHash,\r\n          secret,\r\n        } = flow.state\r\n        if (secret && secretHash) {\r\n          flow.swap.room.sendMessage({\r\n            event: 'utxo script generated',\r\n            data: {\r\n              utxoScriptValues,\r\n              secretHash,\r\n            }\r\n          })\r\n        }\r\n      })\r\n    } else {\r\n      flow.swap.room.on('utxo script generated', (data) => {\r\n        const {\r\n          utxoScriptValues,\r\n          secretHash,\r\n        } = data\r\n\r\n        flow.setState({\r\n          utxoScriptValues,\r\n          secretHash,\r\n        }, true)\r\n      })\r\n    }\r\n  }\r\n\r\n  getStepNumbers() {\r\n    switch (true) {\r\n      case ( //    taker-maker -  utxo,   taker-maker,  utxo,   taker (  utxo )\r\n        (!this.isTakerMakerModel && this.isUTXOSide)\r\n        ||\r\n        (this.isTakerMakerModel && this.isUTXOSide && this.isTaker())\r\n      ): return {\r\n          'sign': 1,\r\n          'submit-secret': 2,\r\n          'sync-balance': 3,\r\n          'lock-utxo': 4,\r\n          'wait-lock-eth': 5,\r\n          'withdraw-eth': 6,\r\n          'finish': 7,\r\n          'end': 8,\r\n        }\r\n      case ( //    taker-maker -  ab,   taker-maker,  ab,   maker (  utxo )\r\n        (!this.isTakerMakerModel && !this.isUTXOSide)\r\n        ||\r\n        (this.isTakerMakerModel && !this.isUTXOSide && this.isMaker())\r\n      ): return {\r\n          'sign': 1,\r\n          'wait-lock-utxo': 2,\r\n          'verify-script': 3,\r\n          'sync-balance': 4,\r\n          'lock-eth': 5,\r\n          'wait-withdraw-eth': 6, // aka getSecret\r\n          'withdraw-utxo': 7,\r\n          'finish': 8,\r\n          'end': 9,\r\n        }\r\n      case ( //   taker-maker,  ab,  taker -   ab\r\n        this.isTakerMakerModel && !this.isUTXOSide && this.isTaker()\r\n      ): return {\r\n          'sign': 1,\r\n          'sync-balance': 2,\r\n          'lock-eth': 3,\r\n          'wait-lock-utxo': 4,\r\n          'withdraw-utxo': 5,\r\n          'finish': 6,\r\n          'end': 7,\r\n        }\r\n      case ( //   taker-maker,  utxo,  maker -    ab\r\n        this.isTakerMakerModel && this.isUTXOSide && this.isMaker()\r\n      ): return {\r\n          'sign': 1,\r\n          'sync-balance': 2,\r\n          'wait-lock-eth': 3,\r\n          'lock-utxo': 4,\r\n          'wait-withdraw-utxo': 5,\r\n          'withdraw-eth': 6,\r\n          'finish': 7,\r\n          'end': 8,\r\n        }\r\n    }\r\n  }\r\n\r\n  async signABSide() {\r\n    this.swap.room.once('request sign', () => {\r\n      this.swap.room.sendMessage({\r\n        event: 'swap sign',\r\n      })\r\n      this.setState({\r\n        isParticipantSigned: true,\r\n      }, true)\r\n    })\r\n\r\n    const isSignOk = await util.helpers.repeatAsyncUntilResult(() => {\r\n      const {\r\n        isParticipantSigned,\r\n      } = this.state\r\n\r\n      this.swap.processMetamask()\r\n      this.swap.room.sendMessage({\r\n        event: 'swap sign',\r\n      })\r\n\r\n      return isParticipantSigned\r\n    })\r\n    if (isSignOk) {\r\n      this.finishStep({}, { step: 'sign' })\r\n    }\r\n  }\r\n\r\n  async signUTXOSide() {\r\n    this.swap.processMetamask()\r\n    this.swap.room.once('swap sign', () => {\r\n      const { step } = this.state\r\n\r\n      if (step >= 2) {\r\n        return\r\n      }\r\n\r\n      this.swap.room.once('eth refund completed', () => {\r\n        this.tryRefund()\r\n      })\r\n\r\n      this.setState({\r\n        isParticipantSigned: true,\r\n      }, true)\r\n\r\n    })\r\n\r\n    this.swap.room.once('swap exists', () => {\r\n      this.setState({\r\n        isSwapExist: true,\r\n      })\r\n\r\n      console.log('>>>>>>>>>>> STOP SWAP PROCESS - SWAP EXISTS EVENT')\r\n      this.stopSwapProcess()\r\n    })\r\n\r\n    const isSignOk = await util.helpers.repeatAsyncUntilResult(() => {\r\n      const {\r\n        isParticipantSigned,\r\n      } = this.state\r\n\r\n      this.swap.processMetamask()\r\n      this.swap.room.sendMessage({\r\n        event: 'request sign',\r\n      })\r\n\r\n      return isParticipantSigned\r\n    })\r\n\r\n    if (isSignOk) {\r\n      this.finishStep({}, { step: 'sign' })\r\n    }\r\n  }\r\n\r\n  waitUTXOScriptCreated() {\r\n    const flow = this\r\n    this.swap.room.on('create utxo script', ({ scriptValues, utxoScriptCreatingTransactionHash }) => {\r\n      const { step } = flow.state\r\n\r\n      if (step >= 3) {\r\n        return\r\n      }\r\n\r\n      flow.finishStep({\r\n        secretHash: scriptValues.secretHash,\r\n        utxoScriptValues: scriptValues,\r\n        utxoScriptCreatingTransactionHash,\r\n      }, { step: 'wait-lock-utxo', silentError: true })\r\n    })\r\n\r\n    this.swap.room.sendMessage({\r\n      event: 'request utxo script',\r\n    })\r\n  }\r\n\r\n  async waitUTXOScriptFunded(): Promise<boolean> {\r\n    const {\r\n      isUTXOScriptOk: isFunded,\r\n    } = this.state\r\n    if (isFunded) return true\r\n\r\n    const flow = this\r\n    const {\r\n      participant,\r\n      buyAmount,\r\n      sellAmount,\r\n      waitConfirm,\r\n    } = flow.swap\r\n\r\n    const { secretHash } = this.state\r\n\r\n    const utcNow = () => Math.floor(Date.now() / 1000)\r\n\r\n    const isUTXOScriptOk = await util.helpers.repeatAsyncUntilResult(async (stopRepeat) => {\r\n      const {\r\n        utxoScriptValues,\r\n      } = flow.state\r\n\r\n\r\n      const scriptCheckError = await this.utxoBlockchain.checkScript(utxoScriptValues, {\r\n        value: buyAmount,\r\n        //@ts-ignore: strictNullChecks\r\n        recipientPublicKey: this.app.services.auth.accounts[this.utxoCoin].getPublicKey(),\r\n        lockTime: utcNow(),\r\n        confidence: 0.8,\r\n        isWhiteList: this.app.isWhitelistBtc(participant.btc.address), // @todo - may be need more white list coins\r\n        waitConfirm,\r\n      })\r\n\r\n      if (scriptCheckError) {\r\n        if (/Expected script lockTime/.test(scriptCheckError)) {\r\n          console.error(`${this.utxoCoin} script check error: ${this.utxoCoin} was refunded`, scriptCheckError)\r\n          console.log('>>>>> STOP SWAP PROCESS - FAIL CHECK SCRIPT LOCK TIME')\r\n          flow.stopSwapProcess()\r\n          stopRepeat()\r\n        } else if (/Expected script value/.test(scriptCheckError)) {\r\n          console.warn(`${this.utxoCoin} script check: waiting balance`)\r\n        } else if (\r\n          /Can be replace by fee. Wait confirm/.test(scriptCheckError)\r\n          ||\r\n          /Wait confirm tx/.test(scriptCheckError)\r\n        ) {\r\n          flow.swap.room.sendMessage({\r\n            event: `wait ${this.utxoCoin} confirm`,\r\n            data: {},\r\n          })\r\n        } else {\r\n          this.swap.events.dispatch(`${this.utxoCoin} script check error`, scriptCheckError)\r\n        }\r\n\r\n        return false\r\n      } else {\r\n        return true\r\n      }\r\n    })\r\n\r\n    if (!isUTXOScriptOk) {\r\n      return false\r\n    } else {\r\n      flow.setState({\r\n        isUTXOScriptOk,\r\n      }, true)\r\n      return true\r\n    }\r\n  }\r\n\r\n  getScriptValues() {\r\n    return this.state.utxoScriptValues\r\n  }\r\n\r\n  verifyScript() {\r\n    const { utxoScriptVerified, utxoScriptValues } = this.state\r\n\r\n    if (utxoScriptVerified) {\r\n      return true\r\n    }\r\n\r\n    if (!utxoScriptValues) {\r\n      throw new Error(`No script, cannot verify`)\r\n    }\r\n\r\n    this.finishStep({\r\n      utxoScriptVerified: true,\r\n    }, { step: 'verify-script' })\r\n\r\n    return true\r\n  }\r\n\r\n  getScriptCreateTx() {\r\n    const {\r\n      utxoScriptCreatingTransactionHash,\r\n    } = this.state\r\n    return utxoScriptCreatingTransactionHash\r\n  }\r\n\r\n  //tryRefund(): Promise<any> {}\r\n\r\n  _checkSwapAlreadyExists() {\r\n    // mock\r\n    // todo: implement\r\n    return new Promise((resolve, reject) => {\r\n      resolve(false)\r\n    })\r\n  }\r\n\r\n  async sign() {\r\n    const { isSignFetching, isMeSigned } = this.state\r\n\r\n    if (isSignFetching || isMeSigned) {\r\n      return true\r\n    }\r\n\r\n    const swapExists = await this._checkSwapAlreadyExists()\r\n\r\n    if (swapExists) {\r\n      this.swap.room.sendMessage({\r\n        event: 'swap exists',\r\n      })\r\n\r\n      this.setState({\r\n        isSwapExist: true,\r\n      })\r\n\r\n      console.log('>>>>> STOP SWAP PROCESS - SWAP EXIST ON SIGN')\r\n      this.stopSwapProcess()\r\n    } else {\r\n\r\n      this.setState({\r\n        isSignFetching: true,\r\n      })\r\n\r\n      if (!this.isTakerMakerModel) {\r\n        this.swap.room.once('utxo refund completed', () => {\r\n          this.tryRefund()\r\n        })\r\n      }\r\n\r\n      this.swap.room.on('request sign', () => {\r\n        this.swap.room.sendMessage({\r\n          event: 'swap sign',\r\n        })\r\n      })\r\n\r\n      this.swap.room.sendMessage({\r\n        event: 'swap sign',\r\n      })\r\n\r\n      this.finishStep({\r\n        isMeSigned: true,\r\n      }, { step: 'sign', silentError: true })\r\n\r\n      return true\r\n    }\r\n  }\r\n\r\n  acceptWithdrawRequest() {\r\n    const flow = this\r\n    const { withdrawRequestAccepted } = flow.state\r\n\r\n    if (withdrawRequestAccepted) {\r\n      return\r\n    }\r\n\r\n    this.setState({\r\n      withdrawRequestAccepted: true,\r\n    })\r\n\r\n    this.swap.room.once('do withdraw', async ({secret}) => {\r\n      try {\r\n        const data = {\r\n          participantAddress: this.app.getParticipantEthAddress(flow.swap),\r\n          secret,\r\n        }\r\n\r\n        await this.abBlockchain.withdrawNoMoney(data, (hash) => {\r\n          flow.swap.room.sendMessage({\r\n            event: 'withdraw ready',\r\n            data: {\r\n              ethSwapWithdrawTransactionHash: hash,\r\n            }\r\n          })\r\n        })\r\n      } catch (err) {\r\n        debug('swap.core:flow')(err.message)\r\n      }\r\n    })\r\n\r\n    this.swap.room.sendMessage({\r\n      event: 'accept withdraw request'\r\n    })\r\n  }\r\n\r\n  /**\r\n   * TODO - backport version compatibility\r\n   *  mapped to sendWithdrawRequestToAnotherParticipant\r\n   *  remove at next iteration after client software update\r\n   *  Used in swap.react\r\n   */\r\n  sendWithdrawRequest() {\r\n    return this.sendWithdrawRequestToAnotherParticipant()\r\n  }\r\n\r\n  sendWithdrawRequestToAnotherParticipant() {\r\n    const flow = this\r\n\r\n    const { requireWithdrawFee, requireWithdrawFeeSended } = flow.state\r\n\r\n    if (!requireWithdrawFee || requireWithdrawFeeSended) {\r\n      return\r\n    }\r\n\r\n    flow.setState({\r\n      requireWithdrawFeeSended: true,\r\n    })\r\n\r\n    flow.swap.room.on('accept withdraw request', () => {\r\n      flow.swap.room.sendMessage({\r\n        event: 'do withdraw',\r\n        data: {\r\n          secret: flow.state.secret,\r\n        }\r\n      })\r\n    })\r\n\r\n    flow.swap.room.sendMessage({\r\n      event: 'request withdraw',\r\n    })\r\n  }\r\n\r\n  // This function call AB side in classic AB2UTXO without taker-maker model\r\n  async checkOtherSideRefund() {\r\n    if (typeof this.utxoBlockchain.checkWithdraw === 'function') {\r\n      const { utxoScriptValues } = this.state\r\n      if (utxoScriptValues) {\r\n        const { scriptAddress } = this.utxoBlockchain.createScript(utxoScriptValues)\r\n\r\n        const destinationAddress = this.swap.destinationBuyAddress\r\n        //@ts-ignore: strictNullChecks\r\n        const destAddress = (destinationAddress) ? destinationAddress : this.app.services.auth.accounts.btc.getAddress()\r\n\r\n        const hasWithdraw = await this.utxoBlockchain.checkWithdraw(scriptAddress)\r\n        if (hasWithdraw\r\n          && hasWithdraw.address.toLowerCase() !== destAddress.toLowerCase()\r\n        ) {\r\n          return true\r\n        }\r\n      }\r\n    }\r\n    return false\r\n  }\r\n\r\n  generateSecret() {\r\n    const secret = cryptoLib.randomBytes(32).toString('hex')\r\n    const secretHash = this.app.env.bitcoin.crypto.ripemd160(Buffer.from(secret, 'hex')).toString('hex')\r\n    const _secret = `0x${secret.replace(/^0x/, '')}`\r\n\r\n    return {\r\n      secret,\r\n      secretHash,\r\n    }\r\n  }\r\n\r\n  submitSecret() {\r\n    const {\r\n      isParticipantSigned,\r\n    } = this.state\r\n    // @to-do - check destinationBuyAddress\r\n    if (this.state.secret) { return }\r\n    if (isParticipantSigned) {\r\n      const {\r\n        secret,\r\n        secretHash,\r\n      } = this.generateSecret()\r\n\r\n      /* Secret hash generated - create BTC script - and only after this notify other part */\r\n      this.createWorkUTXOScript(secretHash);\r\n      this.finishStep({\r\n        secret,\r\n        secretHash,\r\n      }, { step: 'submit-secret' })\r\n    } else {\r\n      if (!this.state.isParticipantSigned) {\r\n        throw new Error(`Cannot proceed: participant not signed. step=${this.state.step}`)\r\n      }\r\n    }\r\n  }\r\n\r\n  createWorkUTXOScript(secretHash, isOwner = true) {\r\n    if (this.state.utxoScriptValues) {\r\n      debug('swap.core:flow')('BTC Script already generated', this.state.utxoScriptValues)\r\n      return\r\n    }\r\n\r\n    const { participant } = this.swap\r\n\r\n    const utcNow = () => Math.floor(Date.now() / 1000)\r\n    const getLockTime = () => utcNow() + 60 * 60 * 3 // 3 hours from now\r\n\r\n    const scriptValues = {\r\n      secretHash:         secretHash,\r\n      //@ts-ignore: strictNullChecks\r\n      ownerPublicKey:     (isOwner) ? this.app.services.auth.accounts[this.utxoCoin].getPublicKey() : participant[this.utxoCoin].publicKey,\r\n      //@ts-ignore: strictNullChecks\r\n      recipientPublicKey: (isOwner) ? participant[this.utxoCoin].publicKey : this.app.services.auth.accounts[this.utxoCoin].getPublicKey(),\r\n      lockTime:           getLockTime(),\r\n    }\r\n\r\n    const { scriptAddress } = this.utxoBlockchain.createScript(scriptValues)\r\n\r\n    this.setState({\r\n      scriptAddress: scriptAddress,\r\n      utxoScriptValues: scriptValues,\r\n      scriptBalance: 0,\r\n      scriptUnspendBalance: 0\r\n    })\r\n  }\r\n\r\n  async syncBalance(): Promise<void> {\r\n    return (this.isUTXOSide)\r\n      ? this.syncBalanceUTXO()\r\n      : this.syncBalanceAB()\r\n  }\r\n\r\n  async syncBalanceAB(): Promise<void> {\r\n    const { sellAmount } = this.swap\r\n\r\n    this.setState({\r\n      isBalanceFetching: true,\r\n    })\r\n\r\n    const balance = await this.abBlockchain.fetchBalance(\r\n      this.app.getMyEthAddress()\r\n    )\r\n    const isEnoughMoney = sellAmount.isLessThanOrEqualTo(balance)\r\n\r\n    const stateData = {\r\n      balance,\r\n      isBalanceFetching: false,\r\n      isBalanceEnough: isEnoughMoney,\r\n    }\r\n\r\n    if (isEnoughMoney) {\r\n      this.finishStep(stateData, { step: 'sync-balance' })\r\n    }\r\n    else {\r\n      this.setState(stateData, true)\r\n    }\r\n  }\r\n\r\n  async syncBalanceUTXO(): Promise<void> {\r\n    const { sellAmount } = this.swap\r\n\r\n    this.setState({\r\n      isBalanceFetching: true,\r\n    })\r\n\r\n    //@ts-ignore: strictNullChecks\r\n    const utxoAddress = this.app.services.auth.accounts[this.utxoCoin].getAddress()\r\n\r\n    const txFee = await this.utxoBlockchain.estimateFeeValue({ method: 'swap', fixed: true, address: utxoAddress })\r\n    const unspents = await this.utxoBlockchain.fetchUnspents(utxoAddress)\r\n    const totalUnspent = unspents.reduce((summ, { satoshis }) => summ + satoshis, 0)\r\n    const balance = new BigNumber(totalUnspent).dividedBy(1e8)\r\n\r\n    const needAmount = sellAmount.plus(txFee)\r\n    const isEnoughMoney = needAmount.isLessThanOrEqualTo(balance)\r\n\r\n    const stateData = {\r\n      balance,\r\n      isBalanceFetching: false,\r\n      isBalanceEnough: isEnoughMoney,\r\n    }\r\n\r\n    if (isEnoughMoney) {\r\n      this.finishStep(stateData, { step: 'sync-balance' })\r\n    } else {\r\n      this.setState(stateData, true)\r\n    }\r\n  }\r\n\r\n  // @to-do - not used in code - front/bot - (btc/ghost/next) - may be need deleted\r\n  // dot with comma in original - say - its artefact....\r\n  getUtxoScriptAddress() {\r\n    const { scriptAddress } = this.state\r\n    return scriptAddress\r\n  }\r\n}\r\n\r\n\r\nexport default AtomicAB2UTXO\r\n","import Swap from './Swap'\r\nimport Flow from './Flow'\r\nimport stepsForCoins from './Steps'\r\nimport AtomicAB2UTXO from './AtomicAB2UTXO'\r\n\r\n\r\nexport default Swap\r\n\r\nexport {\r\n  Flow,\r\n  stepsForCoins,\r\n  AtomicAB2UTXO,\r\n}","import TOKEN_STANDARDS, { EXISTING_STANDARDS } from 'helpers/constants/TOKEN_STANDARDS'\r\nimport config from 'helpers/externalConfig'\r\n\r\nconst decimals = {\r\n  btc: 8,\r\n  bnb: 18,\r\n  eth: 18,\r\n  matic: 18,\r\n  arbeth: 18,\r\n  aureth: 18,\r\n  xdai: 18,\r\n  ftm: 18,\r\n  avax: 18,\r\n  movr: 18,\r\n  one: 18,\r\n  ame: 18,\r\n  phi_v1: 18,\r\n  phi: 18,\r\n  fkw: 18,\r\n  phpx: 18,\r\n  ghost: 8,\r\n  next: 8,\r\n}\r\n\r\nEXISTING_STANDARDS.forEach((standard) => {\r\n  Object.keys(config[standard]).forEach((tokenName) => {\r\n    decimals[tokenName] = config[standard][tokenName].decimals\r\n  })\r\n})\r\n\r\nexport default {\r\n  ...decimals,\r\n}\r\n","import config from 'helpers/externalConfig'\r\nimport TOKEN_STANDARDS from 'helpers/constants/TOKEN_STANDARDS'\r\nconst NETWORK = process.env.MAINNET ? 'mainnet' : 'testnet'\r\n\r\nconst getCustomTokenConfig = () => {\r\n  //@ts-ignore: strictNullChecks\r\n  let tokensInfo = JSON.parse(localStorage.getItem('customToken'))\r\n  if (!tokensInfo || !tokensInfo[NETWORK]) return {}\r\n  return tokensInfo[NETWORK]\r\n}\r\n\r\nlet buildOpts = {\r\n  curEnabled: false,\r\n  blockchainSwapEnabled: false,\r\n  ownTokens: false,\r\n  addCustomTokens: true,\r\n  invoiceEnabled: true,\r\n}\r\n\r\nif (window\r\n  && window.buildOptions\r\n  && Object.keys(window.buildOptions)\r\n  && Object.keys(window.buildOptions).length\r\n) {\r\n  buildOpts = { ...buildOpts, ...window.buildOptions }\r\n}\r\n\r\nconst swap = (config && config.isWidget) ?\r\n  []\r\n  :\r\n  [\r\n    ...(!config.opts.curEnabled || (config.opts.curEnabled.eth && config.opts.curEnabled.btc)) ? ['ETH-BTC'] : [],\r\n    ...(!config.opts.curEnabled || (config.opts.curEnabled.bnb && config.opts.curEnabled.btc)) ? ['BNB-BTC'] : [],\r\n    ...(!config.opts.curEnabled || (config.opts.curEnabled.matic && config.opts.curEnabled.btc)) ? ['MATIC-BTC'] : [],\r\n    ...(!config.opts.curEnabled || (config.opts.curEnabled.arbeth && config.opts.curEnabled.btc)) ? ['ARBETH-BTC'] : [],\r\n    ...(!config.opts.curEnabled || (config.opts.curEnabled.eth && config.opts.curEnabled.ghost)) ? ['ETH-GHOST'] : [],\r\n    ...(!config.opts.curEnabled || (config.opts.curEnabled.eth && config.opts.curEnabled.next)) ? ['ETH-NEXT'] : [],\r\n  ]\r\n\r\nObject.keys(config.erc20)\r\n  .forEach(key => {\r\n    swap.push(`{ETH}${key.toUpperCase()}-BTC`)\r\n    if (!config.opts.curEnabled || config.opts.curEnabled.ghost) swap.push(`{ETH}${key.toUpperCase()}-GHOST`)\r\n    if (!config.opts.curEnabled || config.opts.curEnabled.next) swap.push(`{ETH}${key.toUpperCase()}-NEXT`)\r\n  })\r\nObject.keys(config.bep20)\r\n  .forEach(key => {\r\n    swap.push(`{BNB}${key.toUpperCase()}-BTC`)\r\n  })\r\n\r\nObject.keys(config.erc20matic)\r\n  .forEach(key => {\r\n    swap.push(`{MATIC}${key.toUpperCase()}-BTC`)\r\n  })\r\n\r\nif (config?.isWidget) {\r\n  swap.length = 0\r\n\r\n  if (window?.widgetEvmLikeTokens?.length) {\r\n    window.widgetEvmLikeTokens.forEach((token) => {\r\n      const { name, standard } = token\r\n\r\n      const tokenStandardConfig = TOKEN_STANDARDS[standard]\r\n      if (!tokenStandardConfig?.hasSupportAtomicSwap) return\r\n\r\n      const baseCurrency = tokenStandardConfig?.currency\r\n      const tokenKey = `{${baseCurrency.toUpperCase()}}${name.toUpperCase()}`\r\n\r\n      swap.push(`${tokenKey}-BTC`)\r\n      if (!config.opts.curEnabled || config.opts.curEnabled.ghost) swap.push(`${tokenKey}-GHOST`)\r\n      if (!config.opts.curEnabled || config.opts.curEnabled.next) swap.push(`${tokenKey}-NEXT`)\r\n    })\r\n  } else {\r\n    swap.push(`${config.erc20token.toUpperCase()}-BTC`)\r\n  }\r\n  swap.push('ETH-BTC')\r\n\r\n  if (!config.opts.curEnabled || config.opts.curEnabled.ghost) swap.push('ETH-GHOST')\r\n  if (!config.opts.curEnabled || config.opts.curEnabled.next) swap.push('ETH-NEXT')\r\n}\r\n\r\nif (buildOpts.addCustomTokens) {\r\n  const customTokenConfig = getCustomTokenConfig()\r\n\r\n  Object.keys(customTokenConfig).forEach((standard) => {\r\n\r\n    const tokenStandardConfig = TOKEN_STANDARDS[standard]\r\n    if (!tokenStandardConfig?.hasSupportAtomicSwap) return\r\n\r\n    Object.keys(customTokenConfig[standard]).forEach((tokenContractAddr) => {\r\n      const tokenObj = customTokenConfig[standard][tokenContractAddr]\r\n      const { symbol, baseCurrency } = tokenObj\r\n      const tokenKey = `{${baseCurrency.toUpperCase()}}${symbol.toUpperCase()}`\r\n      const pair = `${tokenKey}-BTC`\r\n\r\n      if (!swap.includes(pair)) {\r\n        swap.push(pair)\r\n      }\r\n\r\n      if (!config.opts.curEnabled || config.opts.curEnabled.ghost) {\r\n        const ghostPair = `${tokenKey}-GHOST`\r\n\r\n        if (!swap.includes(ghostPair)) {\r\n          swap.push(ghostPair)\r\n        }\r\n      }\r\n\r\n      if (!config.opts.curEnabled || config.opts.curEnabled.next) {\r\n        const nextPair = `${tokenKey}-NEXT`\r\n\r\n        if (!swap.includes(nextPair)) {\r\n          swap.push(nextPair)\r\n        }\r\n      }\r\n    })\r\n  })\r\n}\r\n\r\n\r\nexport default [\r\n  ...swap,\r\n]\r\n","export default Object.freeze({\r\n  BID: 'bid',\r\n  ASK: 'ask',\r\n})\r\n","//@ts-nockeck\r\nimport BigNumber from 'bignumber.js'\r\n\r\nimport TOKEN_DECIMALS from 'helpers/constants/TOKEN_DECIMALS'\r\nimport TRADE_TICKERS from 'helpers/constants/TRADE_TICKERS'\r\nimport PAIR_TYPES from 'helpers/constants/PAIR_TYPES'\r\nimport config from 'app-config'\r\n\r\n\r\nconst isWidgetBuild = config && config.isWidget\r\n\r\nconsole.log('TRADE_TICKERS', TRADE_TICKERS)\r\n\r\nconst PAIR_BID = PAIR_TYPES.BID\r\nconst PAIR_ASK = PAIR_TYPES.ASK\r\n\r\nconst isAsk = (type) => (type === PAIR_TYPES.ASK)\r\nconst isBid = (type) => (type === PAIR_TYPES.BID)\r\n\r\nconst filteredDecimals = ({ amount, currency }) =>\r\n  new BigNumber(amount).decimalPlaces(TOKEN_DECIMALS[currency] || 0).toString()\r\n\r\nexport const parseTicker = (order) => {\r\n  const {\r\n    buyCurrency,\r\n    sellCurrency,\r\n  } = order\r\n\r\n  const buy = buyCurrency\r\n  const sell = sellCurrency\r\n  const BS = `${buy}-${sell}`.toUpperCase() // buys ETH, sells BTC, BID\r\n  const SB = `${sell}-${buy}`.toUpperCase() // sells ETH = ASK\r\n\r\n  if (TRADE_TICKERS.includes(BS)) {\r\n    return {\r\n      ticker: BS,\r\n      type: PAIR_BID,\r\n    }\r\n  }\r\n\r\n  if (TRADE_TICKERS.includes(SB)) {\r\n    return {\r\n      ticker: SB,\r\n      type: PAIR_ASK,\r\n    }\r\n  }\r\n\r\n  if (!isWidgetBuild) {\r\n    console.warn(`ParseTickerError: No such tickers: ${BS},${SB}`)\r\n  }\r\n\r\n  return { ticker: 'none', type: PAIR_BID }\r\n}\r\n\r\nexport const parsePair = (str) => {\r\n  if (!str) {\r\n    throw new Error(`Empty string: ${str}`)\r\n  }\r\n\r\n  if (typeof str !== 'string') {\r\n    throw new Error(`ParseTickerError: Not a string: ${str}`)\r\n  }\r\n\r\n  const tokens = str.split('-')\r\n\r\n  if (tokens.length !== 2) {\r\n    throw new Error(`ParseTickerError: Wrong tokens: ${str}`)\r\n  }\r\n\r\n  if (!TRADE_TICKERS.includes(str)) {\r\n    str = tokens.reverse().join('-')\r\n  }\r\n\r\n  if (!TRADE_TICKERS.includes(str)) {\r\n    throw new Error(`ParseTickerError: Ticker not found: ${str}`)\r\n  }\r\n\r\n  const MAIN = tokens[0].toUpperCase()\r\n  const BASE = tokens[1].toUpperCase()\r\n\r\n  return {\r\n    MAIN,\r\n    BASE,\r\n  }\r\n}\r\n\r\nexport default class Pair {\r\n  price: any\r\n  amount: any\r\n  ticker: any\r\n  main: any\r\n  base: any\r\n  type: any\r\n  total: any\r\n\r\n  constructor({ price, amount, ticker, type }) {\r\n    this.price = new BigNumber(price)\r\n    this.amount = new BigNumber(amount)\r\n\r\n    const { MAIN, BASE } = parsePair(ticker)\r\n    if (!MAIN || !BASE) throw new Error(`CreateOrderError: No currency: ${MAIN}-${BASE}`)\r\n\r\n    this.ticker = ticker\r\n    this.main = MAIN\r\n    this.base = BASE\r\n    this.type = type === PAIR_TYPES.BID ? PAIR_TYPES.BID : PAIR_TYPES.ASK\r\n    this.total = this.price.times(this.amount)\r\n  }\r\n\r\n  /*\r\n  * 10 ETH -> 1 BTC\r\n  *\r\n  * ticker: ETH-BTC\r\n  *\r\n  * So we are on ETH market, thus:\r\n  *   - ASK orders are SELL ETH (for BTC),\r\n  *   - BID orders are BUY ETH (for BTC)\r\n  *\r\n  * This order is SELLING ETH, to it's ASK\r\n  * type: BID = true, ASK = false\r\n  *\r\n  * Price is also calculated in BTC, while amount in ETH\r\n  * price: 0.1\r\n  * amount: 10\r\n  *\r\n  *\r\n  * So, for type = ASK\r\n  *\r\n  * buyCurrency: BTC = base\r\n  * sellCurrency: ETH = main\r\n  * buyAmount: 1 BTC = (0.1 BTC/ETH) * 10 ETH = price * amount\r\n  * sellAmount: 10 ETH = 10 ETH = amount\r\n  *\r\n  */\r\n  toOrder() {\r\n    const { ticker, type, price, amount } = this\r\n\r\n    const { MAIN, BASE } = parsePair(ticker)\r\n    //@ts-ignore\r\n    if (!MAIN || !BASE) throw new Error(`CreateOrderError: No currency: ${main}-${base}`)\r\n\r\n    if (![PAIR_ASK, PAIR_BID].includes(type)) throw new Error(`CreateOrderError: Wrong order type: ${type}`)\r\n\r\n    const base = { currency: BASE, amount: amount.times(price) }\r\n    const main = { currency: MAIN, amount }\r\n\r\n    const buy = (type === PAIR_ASK) ? base : main\r\n    const sell = (type === PAIR_ASK) ? main : base\r\n\r\n    return {\r\n      buyCurrency: buy.currency,\r\n      sellCurrency: sell.currency,\r\n      buyAmount: filteredDecimals(buy),\r\n      sellAmount: filteredDecimals(sell),\r\n      exchangeRate: price, // isAsk(type) ? price : 1/price\r\n    }\r\n  }\r\n\r\n  static fromOrder(order) {\r\n    const { buyCurrency, sellCurrency, buyAmount, sellAmount } = order\r\n    const { ticker, type } = parseTicker(order)\r\n\r\n    if (ticker === 'none') {\r\n      return\r\n    }\r\n\r\n    // ASK means sellCurrency is ETH, then sell is main\r\n    const mainAmount = new BigNumber(type === PAIR_ASK ? sellAmount : buyAmount)\r\n    const baseAmount = new BigNumber(type === PAIR_ASK ? buyAmount : sellAmount)\r\n\r\n    return new Pair({\r\n      ticker,\r\n      type,\r\n      price: baseAmount.div(mainAmount),\r\n      amount: mainAmount,\r\n    })\r\n  }\r\n\r\n  toString() {\r\n    const type = this.type === PAIR_TYPES.BID ? 'bid' : 'ask'\r\n    return `${type} \\t${this.ticker} \\t${this.price.dp(8)} \\t${this.amount}`\r\n  }\r\n\r\n  static check(order, ticker) {\r\n    try {\r\n      const pair = Pair.fromOrder(order)\r\n\r\n      const { MAIN, BASE } = parsePair(ticker.toUpperCase())\r\n\r\n      //@ts-ignore: strictNullChecks\r\n      return pair.ticker === `${MAIN}-${BASE}`\r\n    } catch (err) {\r\n      return false\r\n    }\r\n  }\r\n\r\n  static compareOrders(order1, order2) {\r\n    const pair1 = Pair.fromOrder(order1)\r\n    const pair2 = Pair.fromOrder(order2)\r\n    //@ts-ignore: strictNullChecks\r\n    return pair1.price.comparedTo(pair2.price)\r\n  }\r\n\r\n  isBid() {\r\n    return isBid(this.type)\r\n  }\r\n\r\n  isAsk() {\r\n    return isAsk(this.type)\r\n  }\r\n}\r\n","import Web3 from 'web3'\r\nimport config from 'app-config'\r\n\r\nlet web3: EthereumProvider = new Web3(\r\n  new Web3.providers.HttpProvider(config.web3.provider)\r\n)\r\n\r\nconst setMetamask = async (provider) => {\r\n  web3 = provider\r\n  web3.isMetamask = true\r\n}\r\n\r\nconst setProvider = (provider) => {\r\n  web3 = provider\r\n}\r\n\r\nconst setDefaultProvider = () => {\r\n  web3 = new Web3(\r\n    new Web3.providers.HttpProvider(config.web3.provider)\r\n  )\r\n\r\n  web3.isMetamask = false\r\n}\r\n\r\nconst getWeb3 = () => {\r\n  return web3\r\n}\r\n\r\nconst getCurrentWeb3 = () => {\r\n  return web3\r\n}\r\n\r\nwindow.getCurrentWeb3 = getCurrentWeb3\r\n\r\nexport {\r\n  setMetamask,\r\n  web3,\r\n  getWeb3,\r\n  setDefaultProvider,\r\n  setProvider,\r\n  getCurrentWeb3\r\n}\r\n\r\nexport default web3\r\n","const SUPPORTED_PROVIDERS = {\r\n  INJECTED: 'INJECTED',\r\n  WALLETCONNECT: 'WALLETCONNECT',\r\n}\r\n\r\n\r\nexport default SUPPORTED_PROVIDERS","const INJECTED_TYPE = {\r\n  NONE: 'NONE',\r\n  UNKNOWN: 'UNKNOWN',\r\n  OPERA: 'OPERA',\r\n  METAMASK: 'METAMASK',\r\n  TRUST: 'TRUST',\r\n  LIQUALITY: 'LIQUALITY',\r\n}\r\n\r\nexport default INJECTED_TYPE\r\n","import { InjectedConnector } from '@web3-react/injected-connector'\r\nimport {\r\n  NoEthereumProviderError,\r\n  UserRejectedRequestError as UserRejectedRequestErrorInjected\r\n} from '@web3-react/injected-connector'\r\n\r\n\r\nexport default class InjectedProvider extends InjectedConnector {\r\n  _web3Connect = null\r\n  _isLocked = false\r\n\r\n  constructor(web3Connect, options) {\r\n    super(options)\r\n    this._web3Connect = web3Connect\r\n  }\r\n\r\n  async isConnected() {\r\n    // This is opera\r\n    if ((!!window.opr && !!window.opr.addons) || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0) {\r\n      await window.ethereum?.enable()\r\n\r\n      return window.ethereum?.isConnected()\r\n    } else if (window.ethereum?.isTrust) {\r\n      return window.ethereum.ready\r\n    } else {\r\n      return await super.isAuthorized()\r\n    }\r\n  }\r\n\r\n  isLocked() {\r\n    return this._isLocked\r\n  }\r\n\r\n  async Disconnect() {\r\n    await this.deactivate()\r\n  }\r\n\r\n  async Connect() {\r\n    this._isLocked = false\r\n    try {\r\n      const connection = await super.activate()\r\n      return (connection) ? true : false\r\n    } catch (err) {\r\n      if (err instanceof UserRejectedRequestErrorInjected) {\r\n        console.warn('User reject connect to Injected provider')\r\n      } else if (err instanceof NoEthereumProviderError) {\r\n        console.warn('There no injected provider')\r\n      } else if (/Wallet is locked/.test(err.message)) {\r\n        this._isLocked = true\r\n        console.warn('Wallet locked')\r\n      } else {\r\n        console.error(err)\r\n      }\r\n      return false\r\n    }\r\n  }\r\n}","// @ts-nocheck\r\nimport { initializeConnector, Web3ReactHooks } from '@web3-react/core'\r\nimport { WalletConnect as WalletConnectV2 } from '@web3-react/walletconnect-v2'\r\nimport config from 'helpers/externalConfig'\r\n\r\n\r\nconst initConnector = (chainId) => {\r\n  const [walletConnectV2, hooks] = initializeConnector<WalletConnectV2>(\r\n    (actions) => {\r\n      return new WalletConnectV2({\r\n        actions,\r\n        options: {\r\n          projectId: config.api.WalletConnectProjectId,\r\n          chains: [chainId],\r\n          optionalChains: [],\r\n          showQrModal: true,\r\n        },\r\n      })\r\n    }\r\n  )\r\n  return [walletConnectV2, hooks]\r\n}\r\n\r\nexport default class WalletConnectProviderV2 {\r\n  _web3Connect = null\r\n\r\n  private _hooks: Web3ReactHooks | WalletConnectV2\r\n  private _walletConnectV2: Web3ReactHooks | WalletConnectV2\r\n  private _options = {}\r\n  private _inited = false\r\n\r\n  constructor(web3Connect, options) {\r\n    this._web3Connect = web3Connect\r\n    this._options = options\r\n    const [walletConnectV2, hooks] = initConnector(this._options.chainId)\r\n    this._hooks = hooks\r\n    this._walletConnectV2 = walletConnectV2\r\n\r\n    // debug class \r\n    window.testWC = this\r\n  }\r\n\r\n  async initProvider() {\r\n    try {\r\n      await this._walletConnectV2.activate(this._options.chainId)\r\n      this._inited = true\r\n    } catch (err) {\r\n      console.log('>>> fail init - reset')\r\n    }\r\n  }\r\n  \r\n  getAccount() {\r\n    if (this._walletConnectV2 && this._walletConnectV2.provider) {\r\n      return this._walletConnectV2.provider.accounts[0]\r\n    } else {\r\n      return `Not connected`\r\n    }\r\n  }\r\n  getChainId() {\r\n    if (this._walletConnectV2 && this._walletConnectV2.provider) {\r\n      return this._walletConnectV2.provider.chainId\r\n    } else {\r\n      return 0\r\n    }\r\n  }\r\n  getProvider() {\r\n    return this._walletConnectV2.provider\r\n  }\r\n  \r\n  async isConnected() {\r\n    return (\r\n      this._walletConnectV2\r\n      && this._walletConnectV2.provider\r\n      && this._walletConnectV2.provider.connected\r\n    )\r\n  }\r\n\r\n  isLocked() {\r\n    return false\r\n  }\r\n\r\n  async Disconnect() {\r\n    if (this._walletConnectV2 && this._walletConnectV2.provider) {\r\n      await this._walletConnectV2.provider.disconnect()\r\n    }\r\n  }\r\n\r\n  on(event, callback) {}\r\n\r\n  async Connect() {\r\n    if (!this._inited) return false\r\n    try {\r\n      await this._walletConnectV2.activate(this._options.chainId)\r\n      const connection = await this.isConnected()\r\n      return !!connection\r\n    } catch (err) {\r\n      /* Cancel connect */\r\n      console.log('>>> WC - Fail connect')\r\n      console.error(err)\r\n      return false\r\n    }\r\n  }\r\n}","import InjectedProvider from './InjectedProvider'\r\nimport WalletConnectProvider from './WalletConnectProvider'\r\nimport WalletConnectProviderV2 from './WalletConnectProviderV2'\r\nimport SUPPORTED_PROVIDERS from './supported'\r\n\r\nexport const isInjectedEnabled = () => {\r\n  return (window && window.ethereum)\r\n}\r\n\r\nconst _cachedProviders = {}\r\n\r\nconst getProviderByName = (web3connect, providerName, newInstance = false) => {\r\n  return new Promise(async (resolve) => {\r\n    if (!_cachedProviders[providerName] || newInstance) {\r\n      switch (providerName) {\r\n        case SUPPORTED_PROVIDERS.INJECTED:\r\n          _cachedProviders[providerName] = new InjectedProvider(web3connect, {\r\n            supportedChainIds: [\r\n              web3connect._web3ChainId,\r\n            ],\r\n          })\r\n          resolve(_cachedProviders[providerName])\r\n          break\r\n        case SUPPORTED_PROVIDERS.WALLETCONNECT:\r\n          _cachedProviders[providerName] = new WalletConnectProviderV2(web3connect, {\r\n            rpc: web3connect._web3RPC,\r\n            chainId: Number(web3connect._web3ChainId),\r\n            bridge: `https://bridge.walletconnect.org`,\r\n            qrcode: true,\r\n            pollingInterval: 12000,\r\n          })\r\n          await _cachedProviders[providerName].initProvider()\r\n          resolve(_cachedProviders[providerName])\r\n          break\r\n        default:\r\n          console.error('web3connect - not supported provider', providerName)\r\n          resolve(false)\r\n          break\r\n      }\r\n    } else {\r\n      resolve(_cachedProviders[providerName])\r\n    }\r\n  })\r\n}\r\n\r\nexport default getProviderByName","/* eslint-disable @typescript-eslint/ban-ts-comment */\r\n// @ts-nocheck\r\nimport { EventEmitter } from 'events'\r\nimport { ConnectorEvent } from '@web3-react/types'\r\nimport { BigNumber } from 'bignumber.js'\r\nimport Web3 from 'web3'\r\nimport { isMobile } from 'react-device-detect'\r\nimport config from 'app-config'\r\nimport SUPPORTED_PROVIDERS from './providers/supported'\r\nimport INJECTED_TYPE from './providers/InjectedType'\r\nimport getProviderByName, { isInjectedEnabled } from './providers'\r\n\r\nexport default class Web3Connect extends EventEmitter {\r\n  _cachedProvider: EthereumProvider | null = null\r\n\r\n  _cachedWeb3: EthereumProvider | null = null\r\n\r\n  _cachedProviderName: string | null = null\r\n\r\n  _cachedChainId: number | null = null\r\n\r\n  _cachedAddress = null\r\n\r\n  _isConnected = false\r\n\r\n  _isDAppBrowser = false\r\n\r\n  _web3RPC = null\r\n\r\n  _web3ChainId = null\r\n\r\n  _inited = false\r\n\r\n  _walletLocked = false\r\n\r\n  constructor(options) {\r\n    super()\r\n    const {\r\n      web3RPC,\r\n      web3ChainId,\r\n    } = options\r\n\r\n    this._web3RPC = web3RPC\r\n    this._web3ChainId = web3ChainId\r\n\r\n    this._checkIsDAppBrowser()\r\n\r\n    //   (   )\r\n    const cachedProviderName = localStorage.getItem(`WEB3CONNECT:PROVIDER`)\r\n\r\n    if (cachedProviderName) {\r\n      getProviderByName(this, cachedProviderName).then((lsProvider) => {\r\n\r\n        if (lsProvider) {\r\n          lsProvider.isConnected().then(async (isConnected) => {\r\n            if (isConnected) {\r\n              if (await lsProvider.Connect()) {\r\n                this._cachedProviderName = cachedProviderName\r\n                this._cachedProvider = lsProvider\r\n                this._setupEvents()\r\n                await this._cacheProviderData()\r\n                this._isConnected = true\r\n                this._inited = true\r\n                return\r\n              }\r\n            }\r\n            this.clearCache()\r\n            this._inited = true\r\n          })\r\n        } else {\r\n          this.clearCache()\r\n          this._inited = true\r\n        }\r\n      })\r\n    } else {\r\n      this._inited = true\r\n    }\r\n  }\r\n\r\n  isLocked() {\r\n    return this._walletLocked\r\n  }\r\n\r\n  getProviderTitle() {\r\n    switch (this._cachedProviderName) {\r\n      case SUPPORTED_PROVIDERS.WALLETCONNECT:\r\n        return 'Wallet Connect'\r\n      case SUPPORTED_PROVIDERS.INJECTED:\r\n        return this.getInjectedTitle()\r\n      default:\r\n        return `Web3 provider`\r\n    }\r\n  }\r\n\r\n  getInjectedTitle() {\r\n    switch (this.getInjectedType()) {\r\n      case INJECTED_TYPE.NONE: return 'Not installed'\r\n      case INJECTED_TYPE.UNKNOWN: return 'Injected Web3'\r\n      case INJECTED_TYPE.OPERA: return 'Opera Crypto Wallet'\r\n      case INJECTED_TYPE.METAMASK: return 'MetaMask'\r\n      case INJECTED_TYPE.TRUST: return 'Trust Wallet'\r\n      case INJECTED_TYPE.LIQUALITY: return 'Liquality Wallet'\r\n      default: return 'Not installed'\r\n    }\r\n  }\r\n\r\n  getProviderType() {\r\n    switch (this._cachedProviderName) {\r\n      case SUPPORTED_PROVIDERS.WALLETCONNECT:\r\n        return SUPPORTED_PROVIDERS.WALLETCONNECT\r\n      case SUPPORTED_PROVIDERS.INJECTED:\r\n        return this.getInjectedType()\r\n      default:\r\n        return `NONE`\r\n    }\r\n  }\r\n\r\n  getInjectedType() {\r\n    if (window && window.ethereum) {\r\n      if (window.ethereum.isLiquality) return INJECTED_TYPE.LIQUALITY\r\n      if (window.ethereum.isTrust) return INJECTED_TYPE.TRUST\r\n      if (window.ethereum.isMetaMask) return INJECTED_TYPE.METAMASK\r\n      if ((!!window.opr && !!window.opr.addons) || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0) return INJECTED_TYPE.OPERA\r\n\r\n      return INJECTED_TYPE.UNKNOWN\r\n    }\r\n    return INJECTED_TYPE.NONE\r\n\r\n  }\r\n\r\n  _checkIsDAppBrowser() {\r\n    if (isMobile) {\r\n\r\n      if (window\r\n        && window.ethereum\r\n      ) {\r\n        this._isDAppBrowser = true\r\n      }\r\n    }\r\n  }\r\n\r\n  isInjectedEnabled() {\r\n    return isInjectedEnabled()\r\n  }\r\n\r\n  async onInit(cb) {\r\n    const waitInit = async () => {\r\n      if (this._inited) {\r\n        cb()\r\n      } else {\r\n        await setTimeout(waitInit, 100)\r\n      }\r\n    }\r\n    await waitInit()\r\n  }\r\n\r\n  hasCachedProvider() {\r\n    const cachedProviderName = localStorage.getItem(`WEB3CONNECT:PROVIDER`)\r\n\r\n    if (cachedProviderName) {\r\n      const lsProvider = getProviderByName(this, cachedProviderName)\r\n      if (lsProvider) return true\r\n    }\r\n\r\n    return false\r\n  }\r\n\r\n  clearCache() {\r\n    localStorage.removeItem(`WEB3CONNECT:PROVIDER`)\r\n    this._cachedProviderName = null\r\n    this._cachedProvider = null\r\n    this._cachedChainId = null\r\n    this._cachedAddress = null\r\n    this._cachedWeb3 = null\r\n  }\r\n\r\n  _setupEvents() {\r\n    if (this._cachedProvider) {\r\n      this._cachedProvider.on(ConnectorEvent.Update, (data) => {\r\n        if (data\r\n          && data.account\r\n          && data.account !== this._cachedAddress\r\n        ) {\r\n          this._cachedAddress = data.account\r\n          this.emit('accountChange')\r\n          this.emit('updated')\r\n        }\r\n        if (data\r\n          && data.chainId\r\n          && data.chainId !== this._cachedChainId\r\n        ) {\r\n          this._cachedChainId = data.chainId\r\n          this.emit('chainChanged')\r\n          this.emit('updated')\r\n        }\r\n      })\r\n\r\n      this._cachedProvider.on(ConnectorEvent.Deactivate, () => {\r\n        this.clearCache()\r\n        this.emit('disconnect')\r\n        this.emit('updated')\r\n      })\r\n    }\r\n  }\r\n\r\n  async _cacheProviderData() {\r\n    if (this._cachedProvider) {\r\n      this._cachedAddress = await this._cachedProvider.getAccount()\r\n      this._cachedChainId = await this._cachedProvider.getChainId()\r\n      const _web3provider = await this._cachedProvider.getProvider()\r\n      await _web3provider.enable()\r\n\r\n      // @ToDo - Hard fix walletconnect\r\n      // https://github.com/WalletConnect/walletconnect-monorepo/issues/384\r\n      if (window) {\r\n        window.send = (e, t) => _web3provider.send(e, t)\r\n      }\r\n\r\n      this._cachedWeb3 = new Web3(_web3provider)\r\n      this._cachedWeb3.isMetamask = true\r\n    }\r\n  }\r\n\r\n  async connectTo(provider) {\r\n    this._walletLocked = false\r\n\r\n    if (SUPPORTED_PROVIDERS[provider]) {\r\n      const _connector = await getProviderByName(this, provider, true)\r\n\r\n      if (_connector) {\r\n        const connected = await _connector.Connect()\r\n        if (connected) {\r\n          localStorage.setItem(`WEB3CONNECT:PROVIDER`, provider)\r\n          this._cachedProviderName = provider\r\n          this._cachedProvider = _connector\r\n          this._setupEvents()\r\n\r\n          await this._cacheProviderData()\r\n\r\n          this._isConnected = true\r\n          this.emit('connected')\r\n          this.emit('updated')\r\n          return true\r\n        }\r\n        if (_connector.isLocked()) {\r\n          this._walletLocked = true\r\n        }\r\n\r\n      }\r\n      return false\r\n    }\r\n    throw new Error(`Not supported provider ${provider}`)\r\n\r\n  }\r\n\r\n  getProviders = () => {\r\n    const providers = Object.keys(SUPPORTED_PROVIDERS).map((key) => SUPPORTED_PROVIDERS[key])\r\n    return (isInjectedEnabled())\r\n      ? providers\r\n      : providers.filter((name) => name !== SUPPORTED_PROVIDERS.INJECTED)\r\n  }\r\n\r\n  getChainId = () => this._cachedChainId\r\n\r\n  isConnected() {\r\n    return !!(this._cachedProvider)\r\n  }\r\n\r\n  getNetworksId = () => {\r\n    const decimalCurrrentId = this._web3ChainId ? Number(new BigNumber(this._web3ChainId).toString(10)) : undefined\r\n    const dicimalCachedId = this._cachedChainId ? Number(new BigNumber(this._cachedChainId).toString(10)) : undefined\r\n\r\n    return {\r\n      decimalCurrrentId,\r\n      dicimalCachedId,\r\n    }\r\n  }\r\n\r\n  isCorrectNetwork() {\r\n    const { decimalCurrrentId, dicimalCachedId } = this.getNetworksId()\r\n\r\n    const supportedNetwork = config.evmNetworkVersions.includes(decimalCurrrentId)\r\n      || config.evmNetworkVersions.includes(dicimalCachedId)\r\n\r\n    return (\r\n      `${this._web3ChainId}` === `${this._cachedChainId}`\r\n      // @ts-ignore: strictNullChecks\r\n      || this._web3ChainId === Number.parseInt(this._cachedChainId, 10)\r\n      || `0x0${this._web3ChainId}` === `${this._cachedChainId}`\r\n      || `0x${this._web3ChainId}` === `${this._cachedChainId}` // Opera Mobile\r\n      || supportedNetwork\r\n      || false\r\n    )\r\n  }\r\n\r\n  getWeb3() {\r\n    if (this._cachedProvider) {\r\n      return this._cachedWeb3\r\n    }\r\n  }\r\n\r\n  getAddress() {\r\n    if (this._cachedProvider) {\r\n      return this._cachedAddress\r\n    }\r\n  }\r\n\r\n  async Disconnect() {\r\n    if (this._cachedProvider) {\r\n      this._isConnected = false\r\n\r\n      await this._cachedProvider.Disconnect()\r\n      this.clearCache()\r\n      this.emit('disconnect')\r\n      this.emit('updated')\r\n    }\r\n  }\r\n}\r\n","import { getState } from 'redux/core'\r\nimport { initialState as userInitialState } from 'redux/reducers/user'\r\n\r\n\r\nconst getReduxState = () => {\r\n  const reduxState = getState()\r\n\r\n  // Fix user store if something of data isn't there\r\n  Object.keys(userInitialState).forEach((key) => {\r\n    if (reduxState.user[key] === undefined) {\r\n      reduxState.user[key] = userInitialState[key]\r\n    }\r\n  })\r\n\r\n  return reduxState\r\n}\r\n\r\nexport default getReduxState","/* eslint-disable @typescript-eslint/ban-ts-comment */\r\n/* eslint-disable no-async-promise-executor */\r\nimport reducers from 'redux/core/reducers'\r\nimport actions from 'redux/actions'\r\nimport { cacheStorageGet, cacheStorageSet, constants } from 'helpers'\r\nimport config from './externalConfig'\r\nimport { setMetamask, setProvider, setDefaultProvider, getWeb3 as getDefaultWeb3 } from 'helpers/web3'\r\nimport SwapApp from 'swap.app'\r\nimport Web3Connect from 'common/web3connect'\r\nimport { COIN_DATA, COIN_MODEL } from 'swap.app/constants/COINS'\r\nimport getCoinInfo from 'common/coins/getCoinInfo'\r\nimport getState from './getReduxState'\r\n\r\nlet web3connect: any\r\n\r\nconst { user: { metamaskData } } = getState()\r\n\r\nsetWeb3connect((metamaskData?.networkVersion) ? metamaskData.networkVersion : config.evmNetworks.ETH.networkVersion)\r\n\r\nfunction handleConnected() {\r\n  localStorage.setItem(constants.localStorage.isWalletCreate, 'true')\r\n  _onWeb3Changed(web3connect.getWeb3())\r\n}\r\n\r\nfunction handleDisconnected() {\r\n  setDefaultProvider()\r\n  _onWeb3Changed(getDefaultWeb3())\r\n}\r\n\r\nfunction handleAccountChanged() {\r\n  _onWeb3Changed(web3connect.getWeb3())\r\n}\r\n\r\nfunction handleChainChanged() {\r\n  if (web3connect.isCorrectNetwork()) {\r\n    _onWeb3Changed(web3connect.getWeb3())\r\n  }\r\n}\r\n\r\nfunction cleanWeb3connectListeners() {\r\n  web3connect.removeListener('connected', handleConnected)\r\n  web3connect.removeListener('disconnect', handleDisconnected)\r\n  web3connect.removeListener('accountChange', handleAccountChanged)\r\n  web3connect.removeListener('chainChanged', handleChainChanged)\r\n}\r\n\r\nfunction setWeb3connect(networkId) {\r\n  const newNetworkData = Object.values(config.evmNetworks)\r\n    .find((networkInfo: IUniversalObj) => networkInfo.networkVersion === networkId) as EvmNetworkConfig\r\n\r\n  if (newNetworkData) {\r\n    if (web3connect) {\r\n      cleanWeb3connectListeners()\r\n    }\r\n\r\n    web3connect = new Web3Connect({\r\n      web3ChainId: newNetworkData.chainId,\r\n      web3RPC: {\r\n        [newNetworkData.networkVersion]: newNetworkData.rpcUrls[0],\r\n      },\r\n    })\r\n\r\n    web3connect.on('connected', handleConnected)\r\n    web3connect.on('disconnect', handleDisconnected)\r\n    web3connect.on('accountChange', handleAccountChanged)\r\n    web3connect.on('chainChanged', handleChainChanged)\r\n  }\r\n}\r\n\r\nconst getWeb3connect = () => web3connect\r\n\r\nconst _onWeb3Changed = (newWeb3) => {\r\n  setProvider(newWeb3)\r\n  // @ts-ignore: strictNullChecks\r\n  SwapApp.shared().setWeb3Provider(newWeb3)\r\n  addMetamaskWallet()\r\n  actions.user.loginWithTokens()\r\n  actions.user.getBalances()\r\n}\r\n\r\nconst isEnabled = () => true\r\n\r\nconst isConnected = () => web3connect?.isConnected()\r\n\r\nconst getAddress = () => (isConnected()) ? web3connect.getAddress() : ``\r\n\r\nconst getWeb3 = () => (isConnected()) ? web3connect.getWeb3() : false\r\n\r\nconst web3connectInit = async () => {\r\n  await web3connect.onInit(async () => {\r\n    if (web3connect.hasCachedProvider()) {\r\n      let _web3: EthereumProvider | false = false\r\n\r\n      try {\r\n        _web3 = web3connect.getWeb3()\r\n      } catch (err) {\r\n        web3connect.clearCache()\r\n        addMetamaskWallet()\r\n        return\r\n      }\r\n\r\n      setMetamask(_web3)\r\n      addMetamaskWallet()\r\n\r\n      await actions.user.sign()\r\n      await actions.user.getBalances()\r\n    } else {\r\n      addMetamaskWallet()\r\n    }\r\n  })\r\n}\r\n\r\nconst addWallet = () => {\r\n  addMetamaskWallet()\r\n  if (isConnected() && isAvailableNetwork()) {\r\n    getBalance()\r\n  }\r\n}\r\n\r\nconst getBalance = () => {\r\n  const { user: { metamaskData } } = getState()\r\n  if (metamaskData) {\r\n    const { address, currency } = metamaskData\r\n    const balanceInCache = cacheStorageGet('currencyBalances', `${currency}_${address}`)\r\n\r\n    if (balanceInCache !== false) {\r\n      reducers.user.setBalance({\r\n        name: 'metamaskData',\r\n        amount: balanceInCache,\r\n      })\r\n      return balanceInCache\r\n    }\r\n\r\n    return web3connect.getWeb3().eth.getBalance(address)\r\n      .then(result => {\r\n        const amount = web3connect.getWeb3().utils.fromWei(result)\r\n\r\n        cacheStorageSet('currencyBalances', `${currency}_${address}`, amount, 30)\r\n        reducers.user.setBalance({ name: 'metamaskData', amount })\r\n        return amount\r\n      })\r\n      .catch((error) => {\r\n        console.error('fail get balance')\r\n        console.error('error', error)\r\n        reducers.user.setBalanceError({ name: 'metamaskData' })\r\n      })\r\n  }\r\n}\r\n\r\nconst disconnect = () => new Promise(async (resolved) => {\r\n  if (isConnected()) {\r\n    await web3connect.Disconnect()\r\n\r\n    resetWalletState()\r\n    resolved(true)\r\n  } else {\r\n    resolved(true)\r\n  }\r\n})\r\n\r\nconst connect = (options) => new Promise(async (resolved, reject) => {\r\n  actions.modals.open(constants.modals.ConnectWalletModal, {\r\n    ...options,\r\n    onResolve: resolved,\r\n    onReject: reject,\r\n  })\r\n})\r\n\r\n/* metamask wallet layer */\r\nconst isCorrectNetwork = () => web3connect.isCorrectNetwork()\r\n\r\nconst getChainId = () => {\r\n  const hexChainId = web3connect.getChainId()\r\n\r\n  return Number(Number(hexChainId).toString(10))\r\n}\r\n\r\nconst isAvailableNetwork = () => {\r\n  const networkVersion = getChainId()\r\n\r\n  const existsNetwork = Object.keys(config.evmNetworks).filter((key) => {\r\n    return (config.evmNetworks[key].networkVersion == networkVersion)\r\n  })\r\n  if (existsNetwork.length) {\r\n    if (config.opts.curEnabled && !config.opts.curEnabled[existsNetwork[0].toLowerCase()]) {\r\n      return false\r\n    }\r\n  }\r\n  return (config.evmNetworkVersions.includes(networkVersion))\r\n}\r\n\r\nconst isAvailableNetworkByCurrency = (currency) => {\r\n  const { blockchain } = getCoinInfo(currency)\r\n  const ticker = currency.toUpperCase()\r\n\r\n  const isUTXOModel = COIN_DATA[ticker]?.model === COIN_MODEL.UTXO\r\n\r\n  if (isUTXOModel) return false\r\n\r\n  const currencyNetworkVersion = (blockchain)\r\n    ? config.evmNetworks[blockchain]?.networkVersion\r\n    : config.evmNetworks[ticker]?.networkVersion\r\n\r\n  const currentNetworkVersion = getChainId()\r\n\r\n  return currencyNetworkVersion === currentNetworkVersion\r\n}\r\n\r\nconst addMetamaskWallet = () => {\r\n  if (isConnected()) {\r\n    const networkVersion = getChainId()\r\n\r\n    if (isAvailableNetwork()) {\r\n      const { user } = getState()\r\n      const currentNetworkData = Object.values(config.evmNetworks)\r\n        .find((networkInfo: EvmNetworkConfig) => networkInfo.networkVersion === networkVersion) as EvmNetworkConfig\r\n\r\n      const { currency } = currentNetworkData\r\n      const fullName = `${currency} (${web3connect.getProviderTitle()})`\r\n      const infoAboutCurrency = user[`${currency.toLowerCase()}Data`]?.infoAboutCurrency\r\n\r\n      reducers.user.addWallet({\r\n        name: 'metamaskData',\r\n        data: {\r\n          address: getAddress(),\r\n          balance: 0,\r\n          balanceError: false,\r\n          isConnected: true,\r\n          isMetamask: true,\r\n          currency,\r\n          fullName,\r\n          infoAboutCurrency,\r\n          isBalanceFetched: true,\r\n          unconfirmedBalance: 0,\r\n          networkVersion,\r\n          unknownNetwork: false,\r\n        },\r\n      })\r\n    } else {\r\n      reducers.user.addWallet({\r\n        name: 'metamaskData',\r\n        data: {\r\n          address: `Please choose another`,\r\n          balance: 0,\r\n          balanceError: false,\r\n          isConnected: true,\r\n          isMetamask: true,\r\n          currency: 'ETH',\r\n          fullName: `Unknown network (${web3connect.getProviderTitle()})`,\r\n          infoAboutCurrency: undefined,\r\n          isBalanceFetched: true,\r\n          unconfirmedBalance: 0,\r\n          networkVersion,\r\n          unknownNetwork: true,\r\n        },\r\n      })\r\n    }\r\n  } else {\r\n    resetWalletState()\r\n  }\r\n}\r\n\r\nconst resetWalletState = () => {\r\n  reducers.user.addWallet({\r\n    name: 'metamaskData',\r\n    data: {\r\n      address: 'Not connected',\r\n      balance: 0,\r\n      balanceError: false,\r\n      isConnected: false,\r\n      isMetamask: true,\r\n      currency: 'ETH',\r\n      fullName: 'External wallet',\r\n      infoAboutCurrency: undefined,\r\n      isBalanceFetched: true,\r\n      unconfirmedBalance: 0,\r\n    },\r\n  })\r\n}\r\n\r\nif (web3connect?.hasCachedProvider && web3connect.hasCachedProvider()) {\r\n  web3connectInit()\r\n} else {\r\n  addMetamaskWallet()\r\n}\r\n\r\nconst handleDisconnectWallet = (callback?) => {\r\n  if (isConnected()) {\r\n    disconnect().then(async () => {\r\n      await actions.user.sign()\r\n      await actions.user.getBalances()\r\n\r\n      if (typeof callback === 'function') {\r\n        callback()\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\ntype MetamaskConnectParams = {\r\n  dontRedirect?: boolean\r\n  callback?: (boolean) => void\r\n}\r\n\r\nconst handleConnectMetamask = (params: MetamaskConnectParams = {}) => {\r\n  const { callback } = params\r\n\r\n  connect(params).then(async (connected) => {\r\n    if (connected) {\r\n      await actions.user.sign()\r\n      await actions.user.getBalances()\r\n\r\n      if (typeof callback === 'function') {\r\n        callback(true)\r\n      }\r\n    } else {\r\n      if (typeof callback === 'function') {\r\n        callback(false)\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\nconst switchNetwork = async (nativeCurrency) => {\r\n  const { chainId } = config.evmNetworks[nativeCurrency]\r\n\r\n  if (!window.ethereum) return false\r\n\r\n  try {\r\n    const result = await window.ethereum.request({\r\n      method: 'wallet_switchEthereumChain',\r\n      params: [{ chainId }],\r\n    })\r\n\r\n    // null is a successful result\r\n    return result === null\r\n  } catch (switchError) {\r\n    const tipAddNetwork = JSON.stringify(switchError).match(/(T|t)ry adding the chain/)\r\n\r\n    if (switchError.code === 4902 || tipAddNetwork) {\r\n      try {\r\n        return await addCurrencyNetwork(nativeCurrency)\r\n      } catch (addError) {\r\n        console.group('%c add a new Metamask network', 'color: red;')\r\n        console.log(addError)\r\n        console.groupEnd()\r\n      }\r\n      // show the error if it's not a rejected request\r\n    } else if (switchError.code !== 4001) {\r\n      console.group('%c switch the Metamask network', 'color: red;')\r\n      console.log(switchError)\r\n      console.groupEnd()\r\n    }\r\n  }\r\n}\r\n\r\nconst addCurrencyNetwork = async (currency) => {\r\n  if (!(isConnected())) {\r\n    return false\r\n  }\r\n\r\n  const { coin, blockchain } = getCoinInfo(currency)\r\n  const nativeCurrency = blockchain || coin.toUpperCase()\r\n\r\n  const {\r\n    chainId,\r\n    chainName,\r\n    rpcUrls,\r\n    blockExplorerUrls,\r\n  } = config.evmNetworks[nativeCurrency]\r\n\r\n  const {\r\n    name,\r\n    ticker: symbol,\r\n    precision: decimals,\r\n  } = COIN_DATA[nativeCurrency]\r\n\r\n  const params = {\r\n    chainId,\r\n    chainName,\r\n    nativeCurrency: {\r\n      name,\r\n      symbol, // 2-6 characters long\r\n      decimals,\r\n    },\r\n    rpcUrls,\r\n    blockExplorerUrls,\r\n  }\r\n\r\n  const web3 = web3connect.getWeb3()\r\n  const { ethereum } = window\r\n\r\n  if (web3.eth  && ethereum) {\r\n    return new Promise((res, rej) => {\r\n      web3.eth.getAccounts((error, accounts) => {\r\n        ethereum.request({\r\n          method: 'wallet_addEthereumChain',\r\n          params: [params, accounts[0]],\r\n        })\r\n          .then(() => {\r\n            console.log('Success add and switch to network')\r\n            res(true)\r\n          })\r\n          .catch((error) => {\r\n            rej(new Error(`Metamask > addCurrencyNetwork error: ${error.message}`))\r\n          })\r\n      })\r\n    })\r\n  }\r\n  throw new Error('Can not access to web3 or ethereum')\r\n\r\n}\r\n\r\nconst metamaskApi = {\r\n  connect,\r\n  isEnabled,\r\n  isConnected,\r\n  getAddress,\r\n  web3connect,\r\n  setWeb3connect,\r\n  getWeb3connect,\r\n  web3connectInit,\r\n  addWallet,\r\n  getBalance,\r\n  getWeb3,\r\n  getChainId,\r\n  disconnect,\r\n  isCorrectNetwork,\r\n  isAvailableNetwork,\r\n  isAvailableNetworkByCurrency,\r\n  handleDisconnectWallet,\r\n  handleConnectMetamask,\r\n  switchNetwork,\r\n  addCurrencyNetwork,\r\n}\r\n\r\nwindow.metamaskApi = metamaskApi\r\n\r\nexport default metamaskApi\r\n","export enum AddressType {\r\n  Internal = 'Internal',\r\n  Metamask = 'Metamask',\r\n  Custom = 'Custom',\r\n}\r\n\r\nexport enum AddressFormat {\r\n  Full = 'Full',\r\n  Short = 'Short', // 0x12...cdef\r\n  Auto = 'Auto', // todo\r\n}\r\n\r\nexport enum AddressRole {\r\n  Send = 'Send',\r\n  Receive = 'Receive',\r\n}\r\n","import reducers from 'redux/core/reducers'\r\nimport actions from 'redux/actions'\r\nimport { getState } from 'redux/core'\r\nimport SwapApp from 'swap.app'\r\nimport Swap from 'swap.swap'\r\nimport getCoinInfo from 'common/coins/getCoinInfo'\r\nimport helpers, { constants } from 'helpers'\r\nimport Pair from 'pages/Exchange/Orders/Pair'\r\nimport config from 'helpers/externalConfig'\r\nimport { BigNumber } from 'bignumber.js'\r\n\r\nimport metamask from 'helpers/metamask'\r\nimport { AddressType } from 'domain/address'\r\n\r\nimport TOKEN_STANDARDS from 'helpers/constants/TOKEN_STANDARDS'\r\n\r\n\r\nconst debug = (...args) => console.log(...args)\r\n\r\nconst getOrders = (orders) => {\r\n  reducers.core.getOrders({ orders })\r\n  actions.core.addCurrencyFromOrders(orders)\r\n}\r\n\r\nconst addCurrencyFromOrders = (orders) => {\r\n  if (config && config.isWidget) return //        \r\n\r\n  //   ???\r\n  //   reducers.currencies.partialItems  ?\r\n  //    ....\r\n  // TODO    \r\n\r\n  const currenciesGetState = getState().currencies\r\n  const allCurrencyies = currenciesGetState.items.map((item) => item.name.toLowerCase()) //     \r\n  const partialCurrency = currenciesGetState.partialItems //    \r\n\r\n  const sellOrderArray = orders.map((item) => item.sellCurrency.toLowerCase()) //      \r\n  const buyOrderArray = orders.map((item) => item.buyCurrency.toLowerCase()) //      \r\n\r\n  let sortedArray = [...sellOrderArray] //  sellOrderArray  \r\n\r\n  // terators/generators require regenerator-runtime\r\n  for (const sellCurrency of sellOrderArray) {\r\n    // eslint-disable-line\r\n    for (const buyCurrency of buyOrderArray) {\r\n      // eslint-disable-line\r\n      if (sellCurrency !== buyCurrency) {\r\n        if (!sellOrderArray.includes(sellCurrency)) {\r\n          sortedArray.push(sellCurrency.toLowerCase())\r\n        } else if (!sellOrderArray.includes(buyCurrency)) {\r\n          sortedArray.push(buyCurrency.toLowerCase())\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  let hasUpdates = false\r\n\r\n  sortedArray.forEach((item) => {\r\n    //    ,   ,  \r\n    if (!partialCurrency.map((item) => item.name.toLowerCase()).includes(item)) {\r\n      if (allCurrencyies.includes(item)) {\r\n        //       \r\n        hasUpdates = true\r\n        partialCurrency.push({\r\n          name: item.toUpperCase(),\r\n          title: item.toUpperCase(),\r\n          icon: item.toLowerCase(),\r\n          value: item.toLowerCase(),\r\n        })\r\n      }\r\n    }\r\n  })\r\n\r\n  if (hasUpdates) {\r\n    reducers.currencies.updatePartialItems(partialCurrency)\r\n  }\r\n}\r\n//@ts-ignore\r\nconst getSwapById = (id) => new Swap(id, SwapApp.shared())\r\n\r\nconst getUserData = (currency) => {\r\n  const { user } = getState()\r\n  const targetData = user[`${currency.toLowerCase()}Data`]\r\n\r\n  if (targetData) {\r\n    return targetData\r\n  }\r\n\r\n  return {}\r\n}\r\n\r\nconst setFilter = (filter) => {\r\n  reducers.core.setFilter({ filter })\r\n}\r\n\r\nconst acceptRequest = (orderId, participantPeer) => {\r\n  //@ts-ignore: strictNullChecks\r\n  const order = SwapApp.shared().services.orders.getByKey(orderId)\r\n  order.acceptRequest(participantPeer)\r\n}\r\n\r\nconst declineRequest = (orderId, participantPeer) => {\r\n  //@ts-ignore: strictNullChecks\r\n  const order = SwapApp.shared().services.orders.getByKey(orderId)\r\n  order.declineRequest(participantPeer)\r\n}\r\n\r\nconst rememberOrder = (orderId) => {\r\n  reducers.rememberedOrders.savedOrders(orderId)\r\n  localStorage.setItem(\r\n    constants.localStorage.savedOrders,\r\n    JSON.stringify(getState().rememberedOrders.savedOrders)\r\n  )\r\n}\r\n\r\nconst saveDeletedOrder = (orderId) => {\r\n  reducers.rememberedOrders.deletedOrders(orderId)\r\n  localStorage.setItem(\r\n    constants.localStorage.deletedOrders,\r\n    JSON.stringify(getState().rememberedOrders.deletedOrders)\r\n  )\r\n}\r\n\r\nconst forgetOrders = (orderId) => {\r\n  reducers.rememberedOrders.forgetOrders(orderId)\r\n  localStorage.setItem(\r\n    constants.localStorage.savedOrders,\r\n    JSON.stringify(getState().rememberedOrders.savedOrders)\r\n  )\r\n}\r\n\r\nconst removeOrder = (orderId) => {\r\n  actions.feed.deleteItemToFeed(orderId)\r\n  //@ts-ignore: strictNullChecks\r\n  SwapApp.shared().services.orders.remove(orderId)\r\n  actions.core.updateCore()\r\n}\r\n\r\nconst showMyOrders = () => {\r\n  //@ts-ignore: strictNullChecks\r\n  SwapApp.shared().services.orders.showMyOrders()\r\n}\r\n\r\nconst hideMyOrders = () => {\r\n  //@ts-ignore: strictNullChecks\r\n  SwapApp.shared().services.orders.hideMyOrders()\r\n}\r\n\r\nconst deletedPartialCurrency = (orderId) => {\r\n  //@ts-ignore: strictNullChecks\r\n  const deletedOrder = SwapApp.shared().services.orders.getByKey(orderId)\r\n  const deletedOrderSellCurrency = deletedOrder.sellCurrency\r\n  const deletedOrderBuyCurrency = deletedOrder.buyCurrency\r\n  //@ts-ignore: strictNullChecks\r\n  const orders = SwapApp.shared().services.orders.items\r\n\r\n  const deletedOrderSell = orders.filter(\r\n    (item) => item.sellCurrency.toUpperCase() === deletedOrderSellCurrency\r\n  )\r\n  const deletedOrderBuy = orders.filter(\r\n    (item) => item.buyCurrency.toUpperCase() === deletedOrderBuyCurrency\r\n  )\r\n\r\n  // currencies which must be all time in the drop-down\r\n  const premiumCurrencies = [\r\n    ...Object.keys(config.enabledEvmNetworks),\r\n    'BTC',\r\n    'GHOST',\r\n    'NEXT',\r\n    'SWAP',\r\n  ]\r\n\r\n  if (deletedOrderSell.length === 1 && !premiumCurrencies.includes(deletedOrderSellCurrency)) {\r\n    reducers.currencies.deletedPartialCurrency(deletedOrderSellCurrency)\r\n  } else if (deletedOrderBuy.length === 1 && !premiumCurrencies.includes(deletedOrderBuyCurrency)) {\r\n    reducers.currencies.deletedPartialCurrency(deletedOrderBuyCurrency)\r\n  }\r\n}\r\n\r\n//@ts-ignore: strictNullChecks\r\nconst hasHiddenOrders = () => SwapApp.shared().services.orders.hasHiddenOrders()\r\n\r\nconst sendRequest = (orderId, destination = {}, callback) => {\r\n  //@ts-ignore\r\n  const { address: destinationAddress } = destination\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  const order = SwapApp.shared().services.orders.getByKey(orderId)\r\n  const { address, reputation, reputationProof } = getUserData(order.buyCurrency)\r\n\r\n  const requestOptions = {\r\n    address: destinationAddress,\r\n    participantMetadata: {\r\n      address,\r\n      reputation,\r\n      reputationProof,\r\n    },\r\n  }\r\n\r\n  order.sendRequest(callback, requestOptions)\r\n}\r\n\r\nconst sendRequestForPartial = (orderId, newValues, destination = {}, callback) => {\r\n  //@ts-ignore\r\n  const { address: destinationAddress } = destination\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  const order = SwapApp.shared().services.orders.getByKey(orderId)\r\n\r\n  const { address, reputation, reputationProof } = getUserData(order.buyCurrency)\r\n\r\n  const requestOptions = {\r\n    address: destinationAddress,\r\n    participantMetadata: {\r\n      address,\r\n      reputation,\r\n      reputationProof,\r\n    },\r\n  }\r\n\r\n  order.sendRequestForPartial(\r\n    newValues,\r\n    requestOptions,\r\n    (newOrder, isAccepted) => {\r\n      console.log('newOrder', newOrder)\r\n      console.log('isAccepted', isAccepted)\r\n\r\n      callback(newOrder, isAccepted)\r\n    },\r\n    (oldOrder, newOrder) => {\r\n      //@ts-ignore: strictNullChecks\r\n      const oldPrice = Pair.fromOrder(oldOrder).price\r\n      //@ts-ignore: strictNullChecks\r\n      const newPrice = Pair.fromOrder(newOrder).price\r\n\r\n      console.log('prices', oldPrice.toString(), newPrice.toString())\r\n      // | new - old | / old < 5%\r\n      return newPrice.minus(oldPrice).abs().div(oldPrice).isLessThanOrEqualTo(0.05)\r\n    }\r\n  )\r\n}\r\n\r\nconst createOrder = (data, isPartial = false) => {\r\n  //@ts-ignore: strictNullChecks\r\n  const order = SwapApp.shared().services.orders.create(data)\r\n\r\n  if (!order) return\r\n\r\n  if (!isPartial) {\r\n    return order\r\n  }\r\n\r\n  actions.core.setupPartialOrder(order)\r\n  return order\r\n}\r\n\r\nconst setupPartialOrder = (order) => {\r\n  const pairData = Pair.fromOrder(order)\r\n\r\n  if (!pairData || !pairData.price) {\r\n    return\r\n  }\r\n\r\n  const { price } = pairData\r\n\r\n  order.setRequestHandlerForPartial('sellAmount', ({ sellAmount }, oldOrder) => {\r\n    const oldPair = Pair.fromOrder(oldOrder)\r\n    debug('oldPair', oldPair)\r\n\r\n    // if BID, then\r\n    // price == buyAmount / sellAmount\r\n\r\n    //@ts-ignore: strictNullChecks\r\n    const buyAmount = oldPair.isBid() ? sellAmount.div(price) : sellAmount.times(price)\r\n\r\n    debug('newBuyAmount', buyAmount)\r\n\r\n    const newOrder = { sellAmount, buyAmount }\r\n    debug('newOrder', newOrder)\r\n\r\n    return newOrder\r\n  })\r\n\r\n  order.setRequestHandlerForPartial('buyAmount', ({ buyAmount }, oldOrder) => {\r\n    const oldPair = Pair.fromOrder(oldOrder)\r\n    debug('oldPair', oldPair)\r\n\r\n    // BUY [main] = SELL [base] CURRENCY\r\n    // price = [main]/[base] = [buy]/[sell]\r\n\r\n    // BUY 10 ETH = SELL 1 BTC\r\n    // price = 10 = buyAmount / sellAmount\r\n    // newSellAmount = buyAmount / price\r\n\r\n    //@ts-ignore: strictNullChecks\r\n    const sellAmount = oldPair.isBid() ? buyAmount.times(price) : buyAmount.div(price)\r\n\r\n    debug('newSellAmount', sellAmount)\r\n\r\n    const newOrder = { sellAmount, buyAmount }\r\n    debug('newOrder', newOrder)\r\n\r\n    return newOrder\r\n  })\r\n}\r\n\r\nconst initPartialOrders = () => {\r\n  //@ts-ignore: strictNullChecks\r\n  SwapApp.shared().services.orders.items.forEach((order) => {\r\n    if (order && order.isMy && order.isPartial) {\r\n      actions.core.setupPartialOrder(order)\r\n    }\r\n  })\r\n}\r\n\r\nconst requestToPeer = (event, peer, data, callback) => {\r\n  //@ts-ignore: strictNullChecks\r\n  SwapApp.shared().services.orders.requestToPeer(event, peer, data, callback)\r\n}\r\n\r\nconst updateCore = () => {\r\n  SwapApp.onInit(() => {\r\n    //@ts-ignore: strictNullChecks\r\n    const orders = SwapApp.shared().services.orders.items\r\n\r\n    getOrders(orders)\r\n\r\n    actions.feed.getFeedDataFromOrder(orders)\r\n  })\r\n}\r\n\r\nconst getSwapHistory = () => {\r\n  //@ts-ignore: strictNullChecks\r\n  const swapId = JSON.parse(localStorage.getItem('swapId'))\r\n\r\n  if (swapId === null || swapId.length === 0) {\r\n    return\r\n  }\r\n\r\n  const historySwap = swapId.map((item) => getInformationAboutSwap(item))\r\n\r\n  reducers.history.setSwapHistory(historySwap)\r\n}\r\n\r\nconst getInformationAboutSwap = (swapId) => {\r\n  if (swapId.length > 0 && typeof swapId === 'string') {\r\n    return {\r\n      //@ts-ignore: strictNullChecks\r\n      ...SwapApp.shared().env.storage.getItem(`swap.${swapId}`),\r\n      //@ts-ignore: strictNullChecks\r\n      ...SwapApp.shared().env.storage.getItem(`flow.${swapId}`),\r\n    }\r\n  }\r\n}\r\n\r\nconst getHiddenCoins = () => getState().core.hiddenCoinsList || []\r\n\r\nconst markCoinAsHidden = (coin, doBackup = false) => {\r\n  let list = getState().core.hiddenCoinsList || []\r\n  if (!list.includes(coin)) {\r\n    reducers.core.markCoinAsHidden(coin)\r\n    localStorage.setItem(\r\n      constants.localStorage.hiddenCoinsList,\r\n      JSON.stringify(getState().core.hiddenCoinsList)\r\n    )\r\n\r\n    if (doBackup) {\r\n      actions.backupManager.serverBackup()\r\n    }\r\n  }\r\n}\r\n\r\nconst markCoinAsVisible = (coin, doBackup = false) => {\r\n  const { hiddenCoinsList } = constants.localStorage\r\n  let hidden: any = localStorage.getItem(hiddenCoinsList) || '[]'\r\n  try {\r\n    hidden = JSON.parse(hidden)\r\n    if (hidden == null) hidden = []\r\n  } catch (e) {\r\n    hidden = []\r\n  }\r\n  const findedCoin = hidden.find(\r\n    (el) => {\r\n      if (el.includes(':')) {\r\n        const [elCoin, elAddress] = el.split(':')\r\n        return elCoin === coin\r\n      }\r\n    }\r\n  )\r\n\r\n  reducers.core.markCoinAsVisible(findedCoin || coin)\r\n  localStorage.setItem(hiddenCoinsList, JSON.stringify(getState().core.hiddenCoinsList))\r\n\r\n  if (doBackup) {\r\n    actions.backupManager.serverBackup()\r\n  }\r\n}\r\n\r\ntype GetWalletParams = {\r\n  currency?: string\r\n  address?: string\r\n  addressType?: string\r\n  connected?: boolean\r\n  blockchain?: string\r\n}\r\n\r\nconst getWallet = (params: GetWalletParams) => {\r\n  // specify addressType,\r\n  // otherwise it finds the first wallet from all origins, including metamask\r\n  const { address, addressType, connected, currency: currencyData, blockchain: optBlockchain } = params\r\n  const wallets = getWallets({ withInternal: true })\r\n\r\n  const {\r\n    coin: currency,\r\n    blockchain: coinBlockchain,\r\n  } = getCoinInfo(currencyData)\r\n  const blockchain = coinBlockchain || optBlockchain\r\n\r\n  const founded = wallets.filter((wallet) => {\r\n    if (wallet.isMetamask && !wallet.isConnected) return false\r\n    const conditionOk = (\r\n        blockchain && wallet.blockchain\r\n          ? blockchain.toLowerCase() === wallet.blockchain.toLowerCase()\r\n          : true\r\n      )\r\n      && currency\r\n      && wallet.currency.toLowerCase() === currency.toLowerCase()\r\n      && (blockchain ? currencyData?.toLowerCase() === wallet.tokenKey : true)\r\n\r\n    if (address && wallet.address.toLowerCase() === address.toLowerCase()) {\r\n      return conditionOk\r\n    }\r\n\r\n    if (addressType) {\r\n      if (\r\n        (addressType === AddressType.Internal && !wallet.isMetamask) ||\r\n        (\r\n          addressType === AddressType.Metamask\r\n          && wallet.isMetamask\r\n          && (\r\n            connected === undefined\r\n            || (\r\n              connected\r\n              && wallet.isConnected\r\n            )\r\n          )\r\n        )\r\n      ) {\r\n        return conditionOk\r\n      }\r\n    }\r\n\r\n    return conditionOk\r\n  })\r\n\r\n  return founded.length ? founded[0] : false\r\n}\r\n\r\nconst getWallets = (options: IUniversalObj = {}) => {\r\n  const { withInternal, withoutExternal } = options\r\n\r\n  const onlyEvmWallets = (config?.opts?.ui?.disableInternalWallet) ? true : false\r\n\r\n  const {\r\n    user: {\r\n      btcData,\r\n      ghostData,\r\n      nextData,\r\n      btcMultisigSMSData,\r\n      btcMultisigUserData,\r\n      btcMultisigPinData,\r\n      ethData,\r\n      bnbData,\r\n      maticData,\r\n      arbethData,\r\n      aurethData,\r\n      xdaiData,\r\n      ftmData,\r\n      avaxData,\r\n      movrData,\r\n      oneData,\r\n      phi_v1Data,\r\n      phiData,\r\n      fkwData,\r\n      phpxData,\r\n      ameData,\r\n      tokensData,\r\n      metamaskData,\r\n    },\r\n  } = getState()\r\n\r\n  const metamaskConnected = metamask.isEnabled() && metamask.isConnected()\r\n  // if enabledCurrencies equals FALSE then all currencies is enabled\r\n  const enabledCurrencies = config.opts.curEnabled\r\n\r\n  if (onlyEvmWallets && !metamaskConnected) return []\r\n\r\n  const tokenWallets = Object.keys(tokensData).map((k) => {\r\n    const { coin, blockchain } = getCoinInfo(k)\r\n\r\n    if (!(coin && blockchain !== ``)) return false\r\n    if (!(!enabledCurrencies || enabledCurrencies[blockchain.toLowerCase()])) return false\r\n    if (metamaskConnected) {\r\n      return (\r\n        coin && blockchain !== `` &&\r\n          (metamaskData?.networkVersion === config.evmNetworks[blockchain].networkVersion) ?\r\n            tokensData[k] : false\r\n          )\r\n    }\r\n    return (coin && blockchain !== ``) ? tokensData[k] : false\r\n  }).filter((d) => d !== false && d.currency !== undefined)\r\n\r\n  const allData = [\r\n    ...(\r\n      !enabledCurrencies\r\n      || enabledCurrencies.eth\r\n      || enabledCurrencies.bnb\r\n      || enabledCurrencies.matic\r\n      || enabledCurrencies.arbeth\r\n      || enabledCurrencies.xdai\r\n      || enabledCurrencies.ftm\r\n      || enabledCurrencies.avax\r\n      || enabledCurrencies.movr\r\n      || enabledCurrencies.one\r\n      || enabledCurrencies.phi_v1\r\n      || enabledCurrencies.phi\r\n      || enabledCurrencies.fkw\r\n      || enabledCurrencies.phpx\r\n      || enabledCurrencies.ame\r\n        ? metamaskData\r\n          ? [metamaskData]\r\n          : []\r\n        : []\r\n    ),\r\n    ...((!enabledCurrencies || enabledCurrencies.btc) && !onlyEvmWallets\r\n      ? [btcData, btcMultisigSMSData, btcMultisigUserData]\r\n      : []\r\n    ),\r\n    ...((!enabledCurrencies || enabledCurrencies.btc) && !onlyEvmWallets\r\n      ? btcMultisigPinData && btcMultisigPinData.isRegistered\r\n        ? [btcMultisigPinData]\r\n        : []\r\n      : []),\r\n    // =====================================\r\n    ...((!enabledCurrencies || enabledCurrencies.btc) && !onlyEvmWallets\r\n      ? btcMultisigUserData && btcMultisigUserData.wallets\r\n        ? btcMultisigUserData.wallets\r\n        : []\r\n      : []),\r\n    // =====================================\r\n    ...(!enabledCurrencies || enabledCurrencies.eth\r\n      ? metamaskConnected\r\n        ? withInternal\r\n          ? [ethData]\r\n          : []\r\n        : [ethData]\r\n      : []),\r\n    // =====================================\r\n    ...(!enabledCurrencies || enabledCurrencies.bnb\r\n      ? metamaskConnected\r\n        ? withInternal\r\n          ? [bnbData]\r\n          : []\r\n        : [bnbData]\r\n      : []),\r\n    // =====================================\r\n    ...(!enabledCurrencies || enabledCurrencies.matic\r\n      ? metamaskConnected\r\n        ? withInternal\r\n          ? [maticData]\r\n          : []\r\n        : [maticData]\r\n      : []),\r\n    // =====================================\r\n    ...(!enabledCurrencies || enabledCurrencies.arbeth\r\n      ? metamaskConnected\r\n        ? withInternal\r\n          ? [arbethData]\r\n          : []\r\n        : [arbethData]\r\n      : []),\r\n    // =====================================\r\n    ...(!enabledCurrencies || enabledCurrencies.xdai\r\n      ? metamaskConnected\r\n        ? withInternal\r\n          ? [xdaiData]\r\n          : []\r\n        : [xdaiData]\r\n      : []),\r\n    // =====================================\r\n    ...(!enabledCurrencies || enabledCurrencies.ftm\r\n      ? metamaskConnected\r\n        ? withInternal\r\n          ? [ftmData]\r\n          : []\r\n        : [ftmData]\r\n      : []),\r\n    // =====================================\r\n    ...(!enabledCurrencies || enabledCurrencies.avax\r\n      ? metamaskConnected\r\n        ? withInternal\r\n          ? [avaxData]\r\n          : []\r\n        : [avaxData]\r\n      : []),\r\n    // =====================================\r\n    ...(!enabledCurrencies || enabledCurrencies.movr\r\n      ? metamaskConnected\r\n        ? withInternal\r\n          ? [movrData]\r\n          : []\r\n        : [movrData]\r\n      : []),\r\n    // =====================================\r\n    ...(!enabledCurrencies || enabledCurrencies.one\r\n      ? metamaskConnected\r\n        ? withInternal\r\n          ? [oneData]\r\n          : []\r\n        : [oneData]\r\n      : []),\r\n    // =====================================\r\n    ...(!enabledCurrencies || enabledCurrencies.aureth\r\n      ? metamaskConnected\r\n        ? withInternal\r\n          ? [aurethData]\r\n          : []\r\n        : [aurethData]\r\n      : []),\r\n    // =====================================\r\n    ...(!enabledCurrencies || enabledCurrencies.phi_v1\r\n      ? metamaskConnected\r\n        ? withInternal\r\n          ? [phi_v1Data]\r\n          : []\r\n        : [phi_v1Data]\r\n      : []),\r\n    // =====================================\r\n    ...(!enabledCurrencies || enabledCurrencies.phi\r\n      ? metamaskConnected\r\n        ? withInternal\r\n          ? [phiData]\r\n          : []\r\n        : [phiData]\r\n      : []),\r\n    // =====================================\r\n    ...(!enabledCurrencies || enabledCurrencies.fkw\r\n      ? metamaskConnected\r\n        ? withInternal\r\n          ? [fkwData]\r\n          : []\r\n        : [fkwData]\r\n      : []),\r\n    // =====================================\r\n    ...(!enabledCurrencies || enabledCurrencies.phpx\r\n      ? metamaskConnected\r\n        ? withInternal\r\n          ? [phpxData]\r\n          : []\r\n        : [phpxData]\r\n      : []),\r\n    // =====================================\r\n    ...(!enabledCurrencies || enabledCurrencies.ame\r\n      ? metamaskConnected\r\n        ? withInternal\r\n          ? [ameData]\r\n          : []\r\n        : [ameData]\r\n      : []),\r\n    // =====================================\r\n    ...((!enabledCurrencies || enabledCurrencies.ghost) && !onlyEvmWallets ? [ghostData] : []),\r\n    ...((!enabledCurrencies || enabledCurrencies.next) && !onlyEvmWallets ? [nextData] : []),\r\n    ...tokenWallets,\r\n  ].map(({ account, keyPair, ...data }) => ({\r\n    ...data,\r\n  }))\r\n\r\n  const data = allData.filter((item) => item?.address && item?.currency && withoutExternal ? !item.isMetamask : true)\r\n\r\n  return (config && config.isWidget) ? sortWallets(data) : data\r\n}\r\n\r\nconst sortWallets = (wallets) => {\r\n  const sortedWallets: any[] = []\r\n\r\n  if (window?.widgetEvmLikeTokens?.length) {\r\n    const reverseTokens = window.widgetEvmLikeTokens.reverse()\r\n    let connectExternal = false\r\n    const connectedExternalWallets: any[] = []\r\n    wallets.forEach((walletData) => {\r\n      const {\r\n        isConnected,\r\n        isMetamask,\r\n        isToken,\r\n      } = walletData\r\n      let isFounded = false\r\n      if (!isConnected && isMetamask) {\r\n        connectExternal = walletData\r\n      } else {\r\n        if (isConnected && isMetamask && !isToken) {\r\n          connectedExternalWallets.push(walletData)\r\n        } else {\r\n          reverseTokens.forEach((token) => {\r\n            const name = token.name.toLowerCase()\r\n            const standard = token.standard.toLowerCase()\r\n            const baseCurrency = TOKEN_STANDARDS[standard].currency.toUpperCase()\r\n            if (walletData.name === name && walletData.standard === standard) {\r\n              isFounded = true\r\n            }\r\n          })\r\n          if (isFounded) {\r\n            sortedWallets.unshift(walletData)\r\n          } else {\r\n            sortedWallets.push(walletData)\r\n          }\r\n        }\r\n      }\r\n    })\r\n    if (connectExternal) sortedWallets.unshift(connectExternal)\r\n    connectedExternalWallets.reverse().forEach((walletData) => { sortedWallets.unshift(walletData) })\r\n    return sortedWallets\r\n  }\r\n\r\n  return wallets\r\n}\r\n\r\nwindow.getWallets = getWallets\r\nwindow.getWallet = getWallet\r\n\r\n\r\nconst fetchWalletBalance = async (walletData): Promise<number> => {\r\n  const name = helpers.getCurrencyKey(walletData.currency.toLowerCase(), true)\r\n\r\n  try {\r\n    if (walletData.isToken) {\r\n      const standard = walletData.standard\r\n      const balance = await actions[standard].fetchBalance(\r\n        walletData.address,\r\n        walletData.contractAddress,\r\n        walletData.decimals\r\n      )\r\n\r\n      return new BigNumber(balance).toNumber()\r\n    } else {\r\n      if (typeof actions[name]?.fetchBalance) {\r\n        const balance = await actions[name].fetchBalance(walletData.address)\r\n\r\n        return new BigNumber(balance).toNumber()\r\n      } else {\r\n        console.warn(`Fail fetch balance for wallet '${name}' - not fetchBalance in actions`)\r\n      }\r\n    }\r\n  } catch (error) {\r\n    console.error(`Fail fetch balance for '${name.toUpperCase()}'`, error)\r\n  }\r\n  return 0\r\n}\r\n\r\nconst rememberSwap = (swap) => {\r\n  //@ts-ignore: strictNullChecks\r\n  let swapsIds = JSON.parse(localStorage.getItem('swapId'))\r\n\r\n  if (swapsIds === null || swapsIds.length === 0) {\r\n      swapsIds = []\r\n  }\r\n  if (!swapsIds.includes(swap.id)) {\r\n    swapsIds.push(swap.id)\r\n  }\r\n  localStorage.setItem('swapId', JSON.stringify(swapsIds))\r\n}\r\n\r\n\r\nexport default {\r\n  rememberOrder,\r\n  forgetOrders,\r\n  getSwapById,\r\n  getOrders,\r\n  setFilter,\r\n  createOrder,\r\n  getSwapHistory,\r\n  updateCore,\r\n  sendRequest,\r\n  sendRequestForPartial,\r\n  acceptRequest,\r\n  declineRequest,\r\n  removeOrder,\r\n  markCoinAsHidden,\r\n  markCoinAsVisible,\r\n  requestToPeer,\r\n  getInformationAboutSwap,\r\n  saveDeletedOrder,\r\n  hideMyOrders,\r\n  showMyOrders,\r\n  hasHiddenOrders,\r\n  setupPartialOrder,\r\n  initPartialOrders,\r\n  deletedPartialCurrency,\r\n  addCurrencyFromOrders,\r\n  getWallets,\r\n  getWallet,\r\n  getHiddenCoins,\r\n  fetchWalletBalance,\r\n  rememberSwap,\r\n}\r\n","import reducers from 'redux/core/reducers'\r\n\r\n\r\nconst allowDashboardModals = () => reducers.ui.allowDashboardModals()\r\nconst disallowDashboardModals = () => reducers.ui.disallowDashboardModals()\r\n\r\nexport default {\r\n  allowDashboardModals,\r\n  disallowDashboardModals,\r\n}\r\n","import reducers from 'redux/core/reducers'\r\n\r\n\r\nconst setFilter = (filter) => {\r\n  reducers.history.setFilter(filter)\r\n}\r\n\r\nconst ordersFilter = (filter) => {\r\n  reducers.orders.ordersFilter(filter)\r\n}\r\n\r\n\r\nexport default {\r\n  setFilter,\r\n  ordersFilter,\r\n}\r\n","import { BigNumber } from 'bignumber.js'\r\nimport moment from 'moment'\r\nimport {\r\n  LimitOrderBuilder,\r\n  LimitOrderProtocolFacade,\r\n  Web3ProviderConnector,\r\n  PrivateKeyProviderConnector,\r\n  LimitOrderPredicateBuilder,\r\n  LimitOrderPredicateCallData,\r\n} from '@1inch/limit-order-protocol'\r\nimport utils from 'common/utils'\r\nimport erc20Like from 'common/erc20Like'\r\nimport { apiLooper, externalConfig, metamask, feedback, quickswap } from 'helpers'\r\nimport { getState } from 'redux/core'\r\nimport actions from 'redux/actions'\r\nimport reducers from 'redux/core/reducers'\r\n\r\nconst reportError = (part, error) => {\r\n  feedback.actions.failed(`1inch - part: ${part}, error message - ${error.message}`)\r\n\r\n  console.group('%c 1inch', 'color: red')\r\n  console.log(error)\r\n  console.groupEnd()\r\n}\r\n\r\nconst filterCurrencies = (params) => {\r\n  const { currencies: activeCurrencies } = quickswap.filterCurrencies(params)\r\n  const { oneinch } = getState()\r\n  const oneinchChainIds = Object.keys(oneinch.blockchains).map(Number)\r\n\r\n  return {\r\n    currencies: activeCurrencies.filter(({ blockchain }) => {\r\n      const chainId = externalConfig.evmNetworks[blockchain]\r\n\r\n      return !!oneinch.blockchains[chainId]\r\n    }),\r\n    wrongNetwork: quickswap.isWrongNetwork(oneinchChainIds),\r\n  }\r\n}\r\n\r\nconst fetchSpenderContractAddress = async (params): Promise<string | false> => {\r\n  const { chainId } = params\r\n\r\n  try {\r\n    const data: any = await apiLooper.get('oneinch', `/${chainId}/approve/spender`)\r\n\r\n    return data.address\r\n  } catch (error) {\r\n    reportError('spender contract fetching', error)\r\n\r\n    return false\r\n  }\r\n}\r\n\r\nconst getWeb3Connector = (baseCurrency, owner) => {\r\n  let web3 = metamask.getWeb3()\r\n  let connector\r\n\r\n  if (!web3) {\r\n    const privateKey = actions[baseCurrency].getPrivateKeyByAddress(owner)\r\n\r\n    web3 = actions[baseCurrency].getCurrentWeb3()\r\n    connector = new PrivateKeyProviderConnector(privateKey.replace('0x', ''), web3)\r\n  } else {\r\n    connector = new Web3ProviderConnector(web3)\r\n  }\r\n\r\n  return connector\r\n}\r\n\r\nconst createLimitOrder = async (params) => {\r\n  const {\r\n    chainId,\r\n    baseCurrency,\r\n    makerAddress,\r\n    makerAssetAddress,\r\n    makerAssetDecimals,\r\n    takerAssetAddress,\r\n    takerAssetDecimals,\r\n    makerAmount,\r\n    takerAmount,\r\n  } = params\r\n\r\n  const contractAddress = externalConfig.limitOrder[baseCurrency]\r\n  const connector = getWeb3Connector(baseCurrency, makerAddress)\r\n  const builder = new LimitOrderBuilder(contractAddress, chainId, connector)\r\n  const protocolFacade = new LimitOrderProtocolFacade(contractAddress, connector)\r\n  const predicateBuilder = new LimitOrderPredicateBuilder(protocolFacade)\r\n\r\n  const { and, timestampBelow, nonceEquals } = predicateBuilder\r\n\r\n  const makerNonce = await protocolFacade.nonce(contractAddress)\r\n\r\n  const orderPredicate: LimitOrderPredicateCallData = and(\r\n    // a created, but not approved limit order is valid only for 1 minute\r\n    timestampBelow(utils.getUnixTimeStamp() + 60_000),\r\n    nonceEquals(makerAddress, makerNonce)\r\n  )\r\n\r\n  const makerUnitAmount = utils.amount.formatWithDecimals(makerAmount, makerAssetDecimals)\r\n  const takerUnitAmount = utils.amount.formatWithDecimals(takerAmount, takerAssetDecimals)\r\n\r\n  const order = builder.buildLimitOrder({\r\n    makerAssetAddress,\r\n    takerAssetAddress,\r\n    makerAddress,\r\n    makerAmount: makerUnitAmount,\r\n    takerAmount: takerUnitAmount,\r\n    predicate: orderPredicate,\r\n  })\r\n\r\n  const orderTypedData = builder.buildLimitOrderTypedData(order)\r\n  const orderHash = builder.buildLimitOrderHash(orderTypedData)\r\n  const signature = await builder.buildOrderSignature(makerAddress, orderTypedData)\r\n\r\n  return sendLimitOrder({\r\n    chainId,\r\n    order,\r\n    orderHash,\r\n    makerAmount: makerUnitAmount,\r\n    takerAmount: takerUnitAmount,\r\n    makerAddress,\r\n    signature,\r\n  })\r\n}\r\n\r\nconst sendLimitOrder = async (params) => {\r\n  const { chainId, order, orderHash, makerAmount, takerAmount, makerAddress, signature } = params\r\n  const createDateTime = moment().toISOString()\r\n\r\n  return await apiLooper.post('limitOrders', `/${chainId}/limit-order`, {\r\n    body: {\r\n      createDateTime,\r\n      data: {\r\n        getMakerAmount: order.getMakerAmount,\r\n        getTakerAmount: order.getTakerAmount,\r\n        interaction: order.interaction,\r\n        makerAsset: order.makerAsset,\r\n        makerAssetData: order.makerAssetData,\r\n        permit: order.permit,\r\n        predicate: order.predicate,\r\n        salt: order.salt,\r\n        takerAsset: order.takerAsset,\r\n        takerAssetData: order.takerAssetData,\r\n      },\r\n      orderHash,\r\n      makerAmount,\r\n      takerAmount,\r\n      orderMaker: makerAddress,\r\n      remainingMakerAmount: makerAmount,\r\n      signature,\r\n    },\r\n    reportErrors: (error) => {\r\n      reportError('send a limit order', error)\r\n\r\n      return true\r\n    },\r\n  })\r\n}\r\n\r\nconst fillLimitOrder = async (params) => {\r\n  const { order, name, baseCurrency, standard, takerDecimals, amountToBeFilled } = params\r\n  const { user } = getState()\r\n\r\n  const owner = metamask.isConnected() ? metamask.getAddress() : user[`${baseCurrency}Data`].address\r\n  const protocolContract = externalConfig.limitOrder[baseCurrency]\r\n\r\n  const allowance = await erc20Like[standard].checkAllowance({\r\n    spender: protocolContract,\r\n    contract: order.data.takerAsset,\r\n    decimals: takerDecimals,\r\n    owner,\r\n  })\r\n\r\n  if (new BigNumber(allowance).isLessThan(amountToBeFilled)) {\r\n    await actions[standard].approve({\r\n      name,\r\n      to: protocolContract,\r\n      amount: amountToBeFilled,\r\n    })\r\n  }\r\n\r\n  const connector = getWeb3Connector(baseCurrency, owner)\r\n  const limitOrderProtocolFacade = new LimitOrderProtocolFacade(protocolContract, connector)\r\n  const weiTakerAmount = utils.amount.formatWithDecimals(amountToBeFilled, takerDecimals)\r\n\r\n  // fillLimitOrder(order, signature, makerAmount, takerAmount, thresholdAmount)\r\n  // * one of the amounts has to be 0\r\n  const callData = limitOrderProtocolFacade.fillLimitOrder(\r\n    order.data,\r\n    order.signature,\r\n    '0',\r\n    weiTakerAmount,\r\n    weiTakerAmount\r\n  )\r\n  // custom value. Maybe we can find exact gas limit\r\n  const gasLimit = 150_000\r\n\r\n  try {\r\n    const receipt = await actions[baseCurrency].send({\r\n      to: protocolContract,\r\n      data: callData,\r\n      amount: 0,\r\n      gasLimit,\r\n      waitReceipt: true,\r\n    })\r\n\r\n    return receipt\r\n  } catch (error) {\r\n    reportError('fill a limit order', error)\r\n\r\n    return false\r\n  }\r\n}\r\n\r\nconst cancelLimitOrder = async (params) => {\r\n  const { chainId, baseCurrency, orderData, orderIndex } = params\r\n  const { user } = getState()\r\n\r\n  const owner = metamask.isConnected() ? metamask.getAddress() : user[`${baseCurrency}Data`].address\r\n\r\n  const contractAddress = externalConfig.limitOrder[baseCurrency]\r\n  const connector = getWeb3Connector(baseCurrency, owner)\r\n  const protocolFacade = new LimitOrderProtocolFacade(contractAddress, connector)\r\n  const callData = protocolFacade.cancelLimitOrder(orderData)\r\n\r\n  try {\r\n    const receipt = await actions[baseCurrency].send({\r\n      waitReceipt: true,\r\n      to: contractAddress,\r\n      data: callData,\r\n      amount: 0,\r\n    })\r\n\r\n    removeLimitOrderFromState({ chainId, orderIndex })\r\n\r\n    return receipt\r\n  } catch (error) {\r\n    reportError('cancel a limit order', error)\r\n\r\n    return false\r\n  }\r\n}\r\n\r\nconst removeLimitOrderFromState = (params) => {\r\n  const { chainId, orderIndex } = params\r\n\r\n  reducers.oneinch.removeOrder({ chainId, index: orderIndex })\r\n}\r\n\r\nconst fetchLatestLimitOrder = async (params) => {\r\n  const { chainId, owner } = params\r\n  const { oneinch } = getState()\r\n\r\n  try {\r\n    const fetchedOrders: any = await apiLooper.get(\r\n      'limitOrders',\r\n      `/${chainId}/limit-order/address/${owner}?limit=1&sortBy=createDateTime`\r\n    )\r\n\r\n    const penultimateOrder = oneinch.orders[chainId][0]\r\n\r\n    // let's compare the last known order with new one\r\n    // to be sure that we fetched a really new order\r\n    const newOrderFetched =\r\n      penultimateOrder?.signature?.toLowerCase() !== fetchedOrders[0].signature.toLowerCase()\r\n\r\n    if (newOrderFetched) {\r\n      reducers.oneinch.addOrder({ chainId, order: fetchedOrders[0] })\r\n    }\r\n  } catch (error) {\r\n    reportError('fetch a latest owner order', error)\r\n  }\r\n}\r\n\r\nconst fetchOwnerOrders = async (params) => {\r\n  const { chainId, owner, page = 1, pageItems = 20, makerAsset = '', takerAsset = '' } = params\r\n\r\n  const request = [\r\n    `/${chainId}/limit-order/address/${owner}?`,\r\n    `page=${page}&`,\r\n    `limit=${pageItems}&`,\r\n    `statuses=%5B1%5D&`, // only valid orders\r\n    `sortBy=createDateTime`,\r\n  ]\r\n\r\n  if (takerAsset) request.push(`&takerAsset=${takerAsset.toLowerCase()}`)\r\n  if (makerAsset) request.push(`&makerAsset=${makerAsset.toLowerCase()}`)\r\n\r\n  try {\r\n    const orders = await apiLooper.get('limitOrders', request.join(''))\r\n\r\n    return orders\r\n  } catch (error) {\r\n    reportError('fetch an owner limit order', error)\r\n\r\n    return []\r\n  }\r\n}\r\n\r\nconst fetchUserOrders = async () => {\r\n  const { user, oneinch } = getState()\r\n\r\n  Object.keys(oneinch.blockchains).forEach(async (chainId) => {\r\n    const currency = oneinch.blockchains[chainId].currency.toLowerCase()\r\n    const owner = metamask.isConnected() ? metamask.getAddress() : user[`${currency}Data`].address\r\n    const orders = await fetchOwnerOrders({ chainId, owner })\r\n\r\n    reducers.oneinch.addOrders({ chainId, orders })\r\n  })\r\n}\r\n\r\nconst fetchAllOrders = async (params) => {\r\n  const { chainId, page = 1, pageItems = 30, takerAsset = '', makerAsset = '' } = params\r\n\r\n  const request = [\r\n    `/${chainId}/limit-order/all?`,\r\n    `page=${page}&`,\r\n    `limit=${pageItems}&`,\r\n    `statuses=%5B1%5D&`, // only valid orders\r\n    `sortBy=createDateTime`,\r\n  ]\r\n\r\n  if (takerAsset) request.push(`&takerAsset=${takerAsset.toLowerCase()}`)\r\n  if (makerAsset) request.push(`&makerAsset=${makerAsset.toLowerCase()}`)\r\n\r\n  try {\r\n    const orders = await apiLooper.get('limitOrders', request.join(''))\r\n\r\n    return orders\r\n  } catch (error) {\r\n    reportError('fetch all limit orders', error)\r\n\r\n    return []\r\n  }\r\n}\r\n\r\nexport default {\r\n  filterCurrencies,\r\n  fetchSpenderContractAddress,\r\n  createLimitOrder,\r\n  fillLimitOrder,\r\n  cancelLimitOrder,\r\n  removeLimitOrderFromState,\r\n  fetchLatestLimitOrder,\r\n  fetchOwnerOrders,\r\n  fetchUserOrders,\r\n  fetchAllOrders,\r\n}\r\n","import BigNumber from 'bignumber.js'\r\nimport { abi as FactoryV2ABI } from '@uniswap/v2-periphery/build/IUniswapV2Factory.json'\r\nimport { abi as RouterV2ABI } from '@uniswap/v2-periphery/build/IUniswapV2Router02.json'\r\nimport { abi as PairV2ABI } from '@uniswap/v2-periphery/build/IUniswapV2Pair.json'\r\nimport ethLikeHelper from 'common/helpers/ethLikeHelper'\r\nimport constants from 'common/helpers/constants'\r\nimport utils from 'common/utils'\r\nimport actions from 'redux/actions'\r\n\r\nconst ABIS = {\r\n  factory: FactoryV2ABI,\r\n  router: RouterV2ABI,\r\n  pair: PairV2ABI,\r\n}\r\n\r\nenum SwapMethods {\r\n  swapExactETHForTokens = 'swapExactETHForTokens',\r\n  swapExactTokensForETH = 'swapExactTokensForETH',\r\n  swapExactTokensForTokens = 'swapExactTokensForTokens',\r\n  swapTokensForExactTokens = 'swapTokensForExactTokens',\r\n  swapExactETHForTokensSupportingFeeOnTransferTokens = 'swapExactETHForTokensSupportingFeeOnTransferTokens',\r\n  swapExactTokensForETHSupportingFeeOnTransferTokens = 'swapExactTokensForETHSupportingFeeOnTransferTokens',\r\n  swapExactTokensForTokensSupportingFeeOnTransferTokens = 'swapExactTokensForTokensSupportingFeeOnTransferTokens',\r\n}\r\n\r\nenum LiquidityMethods {\r\n  addLiquidity = 'addLiquidity',\r\n  addLiquidityETH = 'addLiquidityETH',\r\n  removeLiquidity = 'removeLiquidity',\r\n  removeLiquidityETH = 'removeLiquidityETH',\r\n}\r\n\r\ntype GetContractParams = {\r\n  name: 'factory' | 'router' | 'pair'\r\n  address: string\r\n  baseCurrency: string\r\n}\r\n\r\nconst wrapCurrency = (chainId: number, currencyAddress: string) => {\r\n  const { WrapperCurrency, EVM_COIN_ADDRESS } = constants.ADDRESSES\r\n\r\n  return currencyAddress === EVM_COIN_ADDRESS ? WrapperCurrency[chainId] : currencyAddress\r\n}\r\n\r\nconst getContract = (params: GetContractParams) => {\r\n  const { name, address, baseCurrency } = params\r\n\r\n  return ethLikeHelper[baseCurrency?.toLowerCase()]?.getContract({\r\n    abi: ABIS[name],\r\n    address,\r\n  })\r\n}\r\n\r\nconst getDeadline = async (provider, deadlinePeriod): Promise<string> => {\r\n  const latestBlockNumber = await provider.eth.getBlockNumber()\r\n  const latestBlock = await provider.eth.getBlock(latestBlockNumber)\r\n  const timestamp = latestBlock.timestamp\r\n\r\n  return utils.amount.toHexNumber(new BigNumber(timestamp).plus(deadlinePeriod))\r\n}\r\n\r\nconst getSlippageRange = (slippagePercent, amount) => {\r\n  const MAX_PERCENT = 100\r\n\r\n  return new BigNumber(amount).div(MAX_PERCENT).times(slippagePercent).toNumber()\r\n}\r\n\r\nconst getMinAmount = (amount, range) => {\r\n  return new BigNumber(amount).minus(range).integerValue(BigNumber.ROUND_CEIL)\r\n}\r\n\r\nconst getPairAddress = async (params) => {\r\n  const { factoryAddress, baseCurrency, chainId } = params\r\n  let { tokenA, tokenB } = params\r\n\r\n  const factory = getContract({\r\n    name: 'factory',\r\n    address: factoryAddress,\r\n    baseCurrency,\r\n  })\r\n\r\n  tokenA = wrapCurrency(chainId, tokenA)\r\n  tokenB = wrapCurrency(chainId, tokenB)\r\n\r\n  try {\r\n    return await factory?.methods.getPair(tokenA, tokenB).call()\r\n  } catch (error) {\r\n    console.error(error)\r\n    return false\r\n  }\r\n}\r\n\r\nconst getAmountOut = async (params) => {\r\n  const {\r\n    routerAddress,\r\n    baseCurrency,\r\n    chainId,\r\n    tokenA,\r\n    tokenADecimals,\r\n    tokenB,\r\n    tokenBDecimals,\r\n    amountIn,\r\n  } = params\r\n\r\n  const router = getContract({ name: 'router', address: routerAddress, baseCurrency })\r\n  const unitAmountIn = utils.amount.formatWithDecimals(amountIn, tokenADecimals)\r\n  const path = [wrapCurrency(chainId, tokenA), wrapCurrency(chainId, tokenB)]\r\n\r\n  try {\r\n    // use getAmountsOut instead of getAmountOut, because we don't need\r\n    // to request pair reserves manually for the second method arguments\r\n    const amounts = await router?.methods\r\n      .getAmountsOut(utils.amount.toHexNumber(unitAmountIn), path)\r\n      .call()\r\n\r\n    return utils.amount.formatWithoutDecimals(amounts[1], tokenBDecimals)\r\n  } catch (error) {\r\n    return error\r\n  }\r\n}\r\n\r\nconst getLiquidityAmountForAssetB = async (params) => {\r\n  const {\r\n    chainId,\r\n    pairAddress,\r\n    routerAddress,\r\n    baseCurrency,\r\n    amountADesired,\r\n    tokenADecimals,\r\n    tokenBDecimals,\r\n  } = params\r\n  let { tokenA } = params\r\n\r\n  tokenA = wrapCurrency(chainId, tokenA)\r\n\r\n  const router = getContract({ name: 'router', address: routerAddress, baseCurrency })\r\n  const pair = getContract({ name: 'pair', address: pairAddress, baseCurrency })\r\n\r\n  try {\r\n    const token1 = await pair.methods.token1().call()\r\n    const { reserve0, reserve1 } = await pair.methods.getReserves().call()\r\n    const unitAmountA = utils.amount.formatWithDecimals(amountADesired, tokenADecimals)\r\n\r\n    const reservesOrder =\r\n      tokenA.toLowerCase() === token1.toLowerCase() ? [reserve1, reserve0] : [reserve0, reserve1]\r\n\r\n    const tokenBAmount = await router.methods.quote(unitAmountA, ...reservesOrder).call()\r\n\r\n    return utils.amount.formatWithoutDecimals(tokenBAmount, tokenBDecimals)\r\n  } catch (error) {\r\n    return error\r\n  }\r\n}\r\n\r\nconst returnSwapDataByMethod = async (\r\n  params\r\n): Promise<{\r\n  args: any[]\r\n  value?: string\r\n}> => {\r\n  let {\r\n    chainId,\r\n    provider,\r\n    method,\r\n    fromToken,\r\n    fromTokenDecimals,\r\n    toToken,\r\n    toTokenDecimals,\r\n    owner,\r\n    deadlinePeriod,\r\n    slippage,\r\n    sellAmount,\r\n    buyAmount,\r\n  } = params\r\n\r\n  if (!SwapMethods[method]) throw new Error('Wrong method')\r\n\r\n  const chainNumber = Number(chainId)\r\n\r\n  // Swaps available only for tokens. Replace native currency with a wrapped one\r\n  fromToken = wrapCurrency(chainNumber, fromToken)\r\n  toToken = wrapCurrency(chainNumber, toToken)\r\n\r\n  const path = [fromToken, toToken]\r\n  const deadline = await getDeadline(provider, deadlinePeriod)\r\n\r\n  const weiSellAmount = utils.amount.formatWithDecimals(sellAmount, fromTokenDecimals)\r\n  const weiBuyAmount = utils.amount.formatWithDecimals(buyAmount, toTokenDecimals)\r\n  const buySlilppageRange = getSlippageRange(slippage, weiBuyAmount)\r\n\r\n  // the minimum amount of the purchased asset to be received\r\n  const intOutMin = getMinAmount(weiBuyAmount, buySlilppageRange)\r\n  const amountOutMin = utils.amount.toHexNumber(intOutMin)\r\n  const amountIn = weiSellAmount\r\n\r\n  switch (method) {\r\n    case SwapMethods.swapExactETHForTokensSupportingFeeOnTransferTokens:\r\n    case SwapMethods.swapExactETHForTokens:\r\n      return {\r\n        args: [amountOutMin, path, owner, deadline],\r\n        // without decimals and not in hex format, because we do it in the actions\r\n        value: sellAmount,\r\n      }\r\n\r\n    case SwapMethods.swapExactTokensForTokensSupportingFeeOnTransferTokens:\r\n    case SwapMethods.swapExactTokensForETHSupportingFeeOnTransferTokens:\r\n    case SwapMethods.swapExactTokensForETH:\r\n    case SwapMethods.swapExactTokensForTokens:\r\n      return {\r\n        args: [amountIn, amountOutMin, path, owner, deadline],\r\n      }\r\n  }\r\n\r\n  return { args: [] }\r\n}\r\n\r\nconst returnSwapMethod = (params) => {\r\n  const { fromToken, toToken, useFeeOnTransfer } = params\r\n\r\n  if (\r\n    fromToken.toLowerCase() === constants.ADDRESSES.EVM_COIN_ADDRESS &&\r\n    toToken.toLowerCase() === constants.ADDRESSES.EVM_COIN_ADDRESS\r\n  ) {\r\n    throw new Error('Swap between two native coins')\r\n  }\r\n\r\n  if (fromToken.toLowerCase() === constants.ADDRESSES.EVM_COIN_ADDRESS) {\r\n    return useFeeOnTransfer\r\n      ? SwapMethods.swapExactETHForTokensSupportingFeeOnTransferTokens\r\n      : SwapMethods.swapExactETHForTokens\r\n  } else if (toToken.toLowerCase() === constants.ADDRESSES.EVM_COIN_ADDRESS) {\r\n    return useFeeOnTransfer\r\n      ? SwapMethods.swapExactTokensForETHSupportingFeeOnTransferTokens\r\n      : SwapMethods.swapExactTokensForETH\r\n  } else {\r\n    return useFeeOnTransfer\r\n      ? SwapMethods.swapExactTokensForTokensSupportingFeeOnTransferTokens\r\n      : SwapMethods.swapExactTokensForTokens\r\n  }\r\n}\r\n\r\nconst swapCallback = async (params) => {\r\n  const {\r\n    routerAddress,\r\n    baseCurrency,\r\n    owner,\r\n    fromToken,\r\n    fromTokenDecimals,\r\n    toToken,\r\n    toTokenDecimals,\r\n    deadlinePeriod,\r\n    slippage,\r\n    sellAmount,\r\n    buyAmount,\r\n    waitReceipt = false,\r\n    useFeeOnTransfer,\r\n  } = params\r\n\r\n  try {\r\n    const provider = actions[baseCurrency.toLowerCase()].getWeb3()\r\n    const router = getContract({ name: 'router', address: routerAddress, baseCurrency })\r\n    const method = returnSwapMethod({ fromToken, toToken, useFeeOnTransfer })\r\n    const swapData = await returnSwapDataByMethod({\r\n      chainId: actions[baseCurrency.toLowerCase()].chainId,\r\n      slippage,\r\n      provider,\r\n      method,\r\n      fromToken,\r\n      fromTokenDecimals,\r\n      toToken,\r\n      toTokenDecimals,\r\n      owner,\r\n      deadlinePeriod,\r\n      sellAmount,\r\n      buyAmount,\r\n    })\r\n\r\n    const txData = router.methods[method](...swapData.args).encodeABI()\r\n\r\n    return actions[baseCurrency.toLowerCase()].send({\r\n      to: routerAddress,\r\n      data: txData,\r\n      waitReceipt,\r\n      amount: swapData.value ?? 0,\r\n    })\r\n  } catch (error) {\r\n    return error\r\n  }\r\n}\r\n\r\nconst returnAddLiquidityData = async (params) => {\r\n  const {\r\n    provider,\r\n    slippage,\r\n    tokenA,\r\n    tokenADecimals,\r\n    amountADesired,\r\n    tokenB,\r\n    tokenBDecimals,\r\n    amountBDesired,\r\n    owner,\r\n    deadlinePeriod,\r\n  } = params\r\n  const lowerTokenA = tokenA.toLowerCase()\r\n  const lowerTokenB = tokenB.toLowerCase()\r\n  let method: string\r\n  let args: (string | number)[]\r\n  let value: number = 0\r\n\r\n  if (\r\n    lowerTokenA === constants.ADDRESSES.EVM_COIN_ADDRESS &&\r\n    lowerTokenB === constants.ADDRESSES.EVM_COIN_ADDRESS\r\n  ) {\r\n    throw new Error('Two native coins')\r\n  }\r\n\r\n  const { formatWithDecimals, toHexNumber } = utils.amount\r\n  const deadline = await getDeadline(provider, deadlinePeriod)\r\n  const unitAmountADesired = formatWithDecimals(amountADesired, tokenADecimals)\r\n  const unitAmountBDesired = formatWithDecimals(amountBDesired, tokenBDecimals)\r\n\r\n  const amountASlippageRange = getSlippageRange(\r\n    slippage,\r\n    formatWithDecimals(amountADesired, tokenADecimals)\r\n  )\r\n  const amountBSlippageRange = getSlippageRange(\r\n    slippage,\r\n    formatWithDecimals(amountBDesired, tokenBDecimals)\r\n  )\r\n\r\n  const amountAMin = getMinAmount(unitAmountADesired, amountASlippageRange)\r\n  const amountBMin = getMinAmount(unitAmountBDesired, amountBSlippageRange)\r\n  const hexAmountADesired = toHexNumber(unitAmountADesired)\r\n  const hexAmountBDesired = toHexNumber(unitAmountBDesired)\r\n  const hexAmountAMin = toHexNumber(amountAMin)\r\n  const hexAmountBMin = toHexNumber(amountBMin)\r\n\r\n  if (\r\n    lowerTokenA === constants.ADDRESSES.EVM_COIN_ADDRESS ||\r\n    lowerTokenB === constants.ADDRESSES.EVM_COIN_ADDRESS\r\n  ) {\r\n    const tokenAIsNative = lowerTokenA === constants.ADDRESSES.EVM_COIN_ADDRESS\r\n\r\n    method = LiquidityMethods.addLiquidityETH\r\n    value = tokenAIsNative ? amountADesired : amountBDesired\r\n    args = [\r\n      tokenAIsNative ? tokenB : tokenA,\r\n      tokenAIsNative ? hexAmountBDesired : hexAmountADesired,\r\n      tokenAIsNative ? hexAmountBMin : hexAmountAMin,\r\n      tokenAIsNative ? hexAmountAMin : hexAmountBMin,\r\n      owner,\r\n      deadline,\r\n    ]\r\n  } else {\r\n    method = LiquidityMethods.addLiquidity\r\n    args = [\r\n      tokenA,\r\n      tokenB,\r\n      hexAmountADesired,\r\n      hexAmountBDesired,\r\n      hexAmountBMin,\r\n      hexAmountBMin,\r\n      owner,\r\n      deadline,\r\n    ]\r\n  }\r\n\r\n  return {\r\n    method,\r\n    args,\r\n    value,\r\n  }\r\n}\r\n\r\nconst addLiquidityCallback = async (params) => {\r\n  const {\r\n    routerAddress,\r\n    baseCurrency,\r\n    waitReceipt = false,\r\n    tokenA,\r\n    tokenADecimals,\r\n    amountADesired,\r\n    tokenB,\r\n    tokenBDecimals,\r\n    amountBDesired,\r\n    owner,\r\n    deadlinePeriod,\r\n  } = params\r\n  let { slippage } = params\r\n\r\n  const provider = actions[baseCurrency.toLowerCase()].getWeb3()\r\n  const { method, args, value } = await returnAddLiquidityData({\r\n    provider,\r\n    tokenA,\r\n    tokenADecimals,\r\n    amountADesired,\r\n    slippage,\r\n    tokenB,\r\n    tokenBDecimals,\r\n    amountBDesired,\r\n    owner,\r\n    deadlinePeriod,\r\n  })\r\n  const router = getContract({ name: 'router', address: routerAddress, baseCurrency })\r\n  const txData = router.methods[method](...args).encodeABI()\r\n\r\n  try {\r\n    const hexValue = new BigNumber(value).multipliedBy(10 ** 18).toString(16)\r\n    const gasLimit = await router.methods[method](...args).estimateGas({\r\n      from: owner,\r\n      value: `0x${hexValue}`,\r\n    })\r\n    const additionGasMultiplier = 1.1\r\n\r\n    return actions[baseCurrency.toLowerCase()].send({\r\n      to: routerAddress,\r\n      data: txData,\r\n      waitReceipt,\r\n      amount: value,\r\n      gasLimit: new BigNumber(gasLimit).multipliedBy(additionGasMultiplier).toFixed(0) || 0,\r\n    })\r\n  } catch (error) {\r\n    console.group('%c add liquidity', 'color: red')\r\n    console.error(error)\r\n    console.groupEnd()\r\n    return false\r\n  }\r\n}\r\n\r\nexport default {\r\n  getContract,\r\n  getPairAddress,\r\n  getAmountOut,\r\n  getLiquidityAmountForAssetB,\r\n  swapCallback,\r\n  addLiquidityCallback,\r\n}\r\n","import BigInteger from 'bigi'\r\n\r\nimport * as bitcoin from 'bitcoinjs-lib'\r\nimport * as bip39 from 'bip39'\r\n\r\nimport bitcoinMessage from 'bitcoinjs-message'\r\nimport { getState } from 'redux/core'\r\nimport reducers from 'redux/core/reducers'\r\nimport { btc, apiLooper, constants, api } from 'helpers'\r\nimport actions from 'redux/actions'\r\nimport typeforce from 'swap.app/util/typeforce'\r\nimport config from 'app-config'\r\n\r\nimport * as mnemonicUtils from 'common/utils/mnemonic'\r\n\r\nimport { default as bitcoinUtils } from 'common/utils/coin/btc'\r\n\r\n\r\nconst NETWORK = (process.env.MAINNET) ? `MAINNET` : `TESTNET`\r\n\r\n\r\nconst hasAdminFee = (config\r\n  && config.opts\r\n  && config.opts.fee\r\n  && config.opts.fee.btc\r\n  && config.opts.fee.btc.fee\r\n  && config.opts.fee.btc.address\r\n  && config.opts.fee.btc.min\r\n) ? config.opts.fee.btc : false\r\n\r\n\r\nconst getMainPublicKey = () => {\r\n  const {\r\n    user: {\r\n      btcData,\r\n    },\r\n  } = getState()\r\n\r\n  return btcData.publicKey.toString('Hex')\r\n}\r\n\r\nconst getWalletByWords = (mnemonic: string, walletNumber: number = 0, path: string = '') => {\r\n  return mnemonicUtils.getBtcWallet(btc.network, mnemonic, walletNumber, path)\r\n}\r\n\r\nconst auth = (privateKey) => {\r\n  if (privateKey) {\r\n    try {\r\n      const account = bitcoin.ECPair.fromWIF(privateKey, btc.network)\r\n      const { address } = bitcoin.payments.p2pkh({ pubkey: account.publicKey, network: btc.network })\r\n      const { publicKey } = account\r\n\r\n      return {\r\n        account,\r\n        keyPair: account,\r\n        address,\r\n        privateKey,\r\n        publicKey,\r\n      }\r\n    } catch (error) {\r\n      console.log('btc auth', error, btc.network)\r\n    }\r\n  }\r\n}\r\n\r\nconst getPrivateKeyByAddress = (address) => {\r\n  const {\r\n    user: {\r\n      btcData: {\r\n        address: dataAddress,\r\n        privateKey,\r\n      },\r\n    },\r\n  } = getState()\r\n\r\n  if (dataAddress === address) return privateKey\r\n}\r\n\r\nconst login = (\r\n  privateKey,\r\n  mnemonic: string | null = null,\r\n) => {\r\n\r\n  if (privateKey) {\r\n    const hash = bitcoin.crypto.sha256(privateKey)\r\n    const d = BigInteger.fromBuffer(hash)\r\n\r\n    // keyPair     = bitcoin.ECPair.fromWIF(privateKey, btc.network)\r\n  }\r\n  else {\r\n    console.info('Created account Bitcoin ...')\r\n    // keyPair     = bitcoin.ECPair.makeRandom({ network: btc.network })\r\n    // privateKey  = keyPair.toWIF()\r\n    // use random 12 words\r\n    //@ts-ignore: strictNullChecks\r\n    if (!mnemonic) mnemonic = bip39.generateMnemonic()\r\n\r\n    //@ts-ignore: strictNullChecks\r\n    const accData = getWalletByWords(mnemonic)\r\n\r\n    privateKey = accData.WIF\r\n  }\r\n\r\n  localStorage.setItem(constants.privateKeyNames.btc, privateKey)\r\n\r\n  const data = {\r\n    ...auth(privateKey),\r\n    isBTC: true,\r\n  }\r\n\r\n  window.getBtcAddress = () => data.address\r\n  window.getBtcData = () => data\r\n\r\n  reducers.user.setAuthData({ name: 'btcData', data })\r\n\r\n  return privateKey\r\n}\r\n\r\n\r\nconst getTxRouter = (txId) => `/btc/tx/${txId}`\r\n\r\nconst getTx = (txRaw) => {\r\n  if (txRaw\r\n    && txRaw.getId\r\n    //@ts-ignore\r\n    && txRaw.getId instanceof 'function'\r\n  ) {\r\n    return txRaw.getId()\r\n  } else {\r\n    return txRaw\r\n  }\r\n}\r\n\r\n\r\nconst getLinkToInfo = (tx) => {\r\n\r\n  if (!tx) {\r\n    return\r\n  }\r\n\r\n  return `${config.link.bitpay}/tx/${tx}`\r\n}\r\n\r\nconst fetchBalanceStatus = (address) => {\r\n  return new Promise((resolve) => {\r\n    bitcoinUtils.fetchBalance({\r\n      address,\r\n      withUnconfirmed: true,\r\n      NETWORK,\r\n    }).then((answer) => {\r\n      // @ts-ignore\r\n      const { balance, unconfirmed } = answer\r\n      resolve({\r\n        address,\r\n        balance: balance,\r\n        unconfirmedBalance: unconfirmed,\r\n      })\r\n    }).catch((e) => {\r\n      resolve(false)\r\n    })\r\n  })\r\n}\r\n\r\nconst getBalance = () => {\r\n  const {\r\n    user: {\r\n      btcData: {\r\n        address,\r\n      },\r\n    },\r\n  } = getState()\r\n\r\n  return new Promise((resolve) => {\r\n    bitcoinUtils.fetchBalance({\r\n      address,\r\n      withUnconfirmed: true,\r\n      NETWORK,\r\n    }).then((answer) => {\r\n      // @ts-ignore\r\n      const { balance, unconfirmed } = answer\r\n      reducers.user.setBalance({\r\n        name: 'btcData',\r\n        amount: balance,\r\n        unconfirmedBalance: unconfirmed,\r\n      })\r\n      resolve(balance)\r\n    }).catch((e) => {\r\n      reducers.user.setBalanceError({ name: 'btcData' })\r\n      resolve(-1)\r\n    })\r\n  })\r\n}\r\n\r\n\r\nconst fetchBalance = (address) => bitcoinUtils.fetchBalance({\r\n  address,\r\n  withUnconfirmed: false,\r\n  NETWORK,\r\n})\r\n\r\n\r\nconst fetchTxRaw = (txId, cacheResponse) => bitcoinUtils.fetchTxRaw({\r\n  txId,\r\n  cacheResponse,\r\n  NETWORK,\r\n})\r\n\r\nconst fetchTx = (hash, cacheResponse) => bitcoinUtils.fetchTx({\r\n  hash,\r\n  NETWORK,\r\n  cacheResponse,\r\n})\r\n\r\nconst fetchTxInfo = (hash, cacheResponse, serviceFee = null) => bitcoinUtils.fetchTxInfo({\r\n  hash,\r\n  NETWORK,\r\n  cacheResponse,\r\n  hasAdminFee: serviceFee || hasAdminFee,\r\n})\r\n\r\n\r\nconst getInvoices = (address) => {\r\n  const { user: { btcData: { userAddress } } } = getState()\r\n\r\n  address = address || userAddress\r\n\r\n  return actions.invoices.getInvoices({\r\n    currency: 'BTC',\r\n    address,\r\n  })\r\n}\r\n\r\nconst getAllMyAddresses = () => {\r\n  const {\r\n    user: {\r\n      btcData,\r\n      btcMultisigSMSData,\r\n      btcMultisigUserData,\r\n      btcMultisigPinData,\r\n    },\r\n  } = getState()\r\n\r\n  const retData = []\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  retData.push(btcData.address.toLowerCase())\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  if (btcMultisigSMSData?.address) retData.push(btcMultisigSMSData.address.toLowerCase())\r\n  // @ToDo - SMS MultiWallet\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  if (btcMultisigUserData?.address) retData.push(btcMultisigUserData.address.toLowerCase())\r\n  if (btcMultisigUserData?.wallets?.length) {\r\n    btcMultisigUserData.wallets.map((wallet) => {\r\n      //@ts-ignore: strictNullChecks\r\n      retData.push(wallet.address.toLowerCase())\r\n    })\r\n  }\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  if (btcMultisigPinData?.address) retData.push(btcMultisigPinData.address.toLowerCase())\r\n\r\n  return retData\r\n}\r\n\r\nconst getDataByAddress = (address) => {\r\n  const {\r\n    user: {\r\n      btcData,\r\n      btcMultisigSMSData,\r\n      btcMultisigUserData,\r\n      btcMultisigG2FAData,\r\n    },\r\n  } = getState()\r\n\r\n  const founded = [\r\n    btcData,\r\n    btcMultisigSMSData,\r\n    btcMultisigUserData,\r\n    ...(\r\n      btcMultisigUserData\r\n      && btcMultisigUserData.wallets\r\n      && btcMultisigUserData.wallets.length\r\n    )\r\n      ? btcMultisigUserData.wallets\r\n      : [],\r\n    btcMultisigG2FAData,\r\n  ].filter(data => data && data.address && data.address.toLowerCase() === address.toLowerCase())\r\n\r\n  return (founded.length) ? founded[0] : false\r\n}\r\n\r\nconst getTransaction = (ownAddress: string = ``, ownType: string = ``) => {\r\n  const myAllWallets = getAllMyAddresses()\r\n\r\n  let { user: { btcData: { address: userAddress } } } = getState()\r\n  const address = ownAddress || userAddress\r\n\r\n  const type = (ownType) || 'btc'\r\n\r\n  if (!typeforce.isCoinAddress.BTC(address)) {\r\n    return new Promise((resolve) => { resolve([]) })\r\n  }\r\n  return bitcoinUtils.getTransactionBlocyper({\r\n    address,\r\n    ownType: type,\r\n    myWallets: myAllWallets,\r\n    network: btc.network,\r\n    NETWORK,\r\n  })\r\n}\r\n\r\nconst addressIsCorrect = (address) => {\r\n  try {\r\n    let outputScript = bitcoin.address.toOutputScript(address, btc.network)\r\n    if (outputScript) return true\r\n  } catch (e) {}\r\n  return false\r\n}\r\n\r\n\r\nconst send = (params) => {\r\n  const {\r\n    from,\r\n    to,\r\n    amount,\r\n    feeValue,\r\n    speed, \r\n    serviceFee = hasAdminFee,\r\n  } = params\r\n\r\n  return new Promise(async (ready, reject) => {\r\n    try {\r\n      let privateKey = null\r\n      try {\r\n        privateKey = getPrivateKeyByAddress(from)\r\n      } catch (ePrivateKey) {\r\n        reject({ message: `Fail get data for send address` + ePrivateKey.message })\r\n      }\r\n\r\n      let preparedFees\r\n\r\n      try {\r\n        preparedFees = await bitcoinUtils.prepareFees({\r\n          amount,\r\n          serviceFee,\r\n          feeValue,\r\n          speed,\r\n          from,\r\n          to,\r\n          NETWORK\r\n        })\r\n      } catch (prepareFeesError) {\r\n        reject({ message: `Fail prepare fees: ${prepareFeesError.message}` })\r\n      }\r\n      const {\r\n        fundValue,\r\n        skipValue,\r\n        feeFromAmount,\r\n        unspents,\r\n      } = preparedFees\r\n\r\n      let rawTx\r\n      try {\r\n        rawTx = await bitcoinUtils.prepareRawTx({\r\n          from,\r\n          to,\r\n          fundValue,\r\n          skipValue,\r\n          serviceFee,\r\n          feeFromAmount,\r\n          unspents,\r\n          privateKey,\r\n          network: btc.network,\r\n          NETWORK\r\n        })\r\n      } catch (prepareRawTxError) {\r\n        reject({ message: `Fail prepare raw tx: ${prepareRawTxError.message}` })\r\n      }\r\n\r\n      try {\r\n        const broadcastAnswer = await broadcastTx(rawTx)\r\n\r\n        const { txid } = broadcastAnswer\r\n        ready(txid)\r\n      } catch (eBroadcast) {\r\n        reject({ message: `Fail broadcast TX: `+eBroadcast })\r\n      }\r\n    } catch (error) {\r\n      console.log('Actions - btc - send: ', error)\r\n      reject(error)\r\n    }\r\n  })\r\n}\r\n\r\nconst sendTransaction = async ({ to, amount }) => {\r\n  // from main btc wallet\r\n\r\n  const { user: { btcData: { address } } } = getState()\r\n\r\n  if (false) { // fake tx - turboswaps debug\r\n    const txHash = '1324154f6086b6b137be8763f43096cacd5450f9561da061161638ed68ce39c3'\r\n    return txHash\r\n  }\r\n\r\n  const txHash = await send({\r\n    from: address,\r\n    to,\r\n    amount,\r\n    speed: 'fast',\r\n  })\r\n\r\n  return txHash\r\n}\r\n\r\nconst prepareUnspents = ({ amount, unspents }) => bitcoinUtils.prepareUnspents({\r\n  amount,\r\n  unspents,\r\n})\r\n\r\nwindow.prepareUnspents = prepareUnspents\r\nconst fetchUnspents = (address) => bitcoinUtils.fetchUnspents({\r\n  address,\r\n  NETWORK,\r\n})\r\n\r\nconst broadcastTx = (txRaw) => bitcoinUtils.broadcastTx({\r\n  txRaw,\r\n  NETWORK,\r\n})\r\n\r\nconst signMessage = (message, encodedPrivateKey) => {\r\n  const keyPair = bitcoin.ECPair.fromWIF(encodedPrivateKey, [bitcoin.networks.bitcoin, bitcoin.networks.testnet])\r\n  //@ts-ignore: strictNullChecks\r\n  const privateKeyBuff = Buffer.from(keyPair.privateKey)\r\n\r\n  const signature = bitcoinMessage.sign(message, privateKeyBuff, keyPair.compressed)\r\n\r\n  return signature.toString('base64')\r\n}\r\n\r\nconst checkWithdraw = (scriptAddress) => bitcoinUtils.checkWithdraw({\r\n  scriptAddress,\r\n  NETWORK,\r\n})\r\n\r\n\r\nexport default {\r\n  login,\r\n  checkWithdraw,\r\n  getBalance,\r\n  getTransaction,\r\n  send,\r\n  sendTransaction,\r\n  fetchUnspents,\r\n  broadcastTx,\r\n  fetchTx,\r\n  fetchTxInfo,\r\n  fetchBalance,\r\n  signMessage,\r\n  getTx,\r\n  getLinkToInfo,\r\n  getInvoices,\r\n  getWalletByWords,\r\n  getAllMyAddresses,\r\n  getDataByAddress,\r\n  getMainPublicKey,\r\n  getTxRouter,\r\n  fetchTxRaw,\r\n  addressIsCorrect,\r\n  prepareUnspents,\r\n}\r\n","import BigInteger from 'bigi'\r\n\r\nimport { BigNumber } from 'bignumber.js'\r\nimport * as bitcoin from 'bitcoinjs-lib'\r\nimport * as bip32 from 'bip32'\r\nimport * as bip39 from 'bip39'\r\n\r\nimport bitcoinMessage from 'bitcoinjs-message'\r\nimport { getState } from 'redux/core'\r\nimport reducers from 'redux/core/reducers'\r\nimport { ghost, apiLooper, constants, api } from 'helpers'\r\nimport actions from 'redux/actions'\r\nimport typeforce from 'swap.app/util/typeforce'\r\nimport config from 'app-config'\r\nconst bitcore = require('ghost-bitcore-lib');\r\n\r\nimport * as mnemonicUtils from '../../../../common/utils/mnemonic'\r\n\r\n\r\n\r\nconst hasAdminFee = (config\r\n  && config.opts\r\n  && config.opts.fee\r\n  && config.opts.fee.ghost\r\n  && config.opts.fee.ghost.fee\r\n  && config.opts.fee.ghost.address\r\n  && config.opts.fee.ghost.min\r\n) ? config.opts.fee.ghost : false\r\n\r\n\r\nconst getMainPublicKey = () => {\r\n  const {\r\n    user: {\r\n      ghostData,\r\n    },\r\n  } = getState()\r\n\r\n  return ghostData.publicKey.toString('Hex')\r\n}\r\n\r\nconst getWalletByWords = (mnemonic: string, walletNumber: number = 0, path: string = '') => {\r\n  return mnemonicUtils.getGhostWallet(ghost.network, mnemonic, walletNumber, path)\r\n}\r\n\r\n\r\nconst auth = (privateKey) => {\r\n  if (privateKey) {\r\n    const hash = bitcoin.crypto.sha256(privateKey)\r\n    const d = BigInteger.fromBuffer(hash)\r\n\r\n    const keyPair = bitcoin.ECPair.fromWIF(privateKey, ghost.network)\r\n\r\n    const account = bitcoin.ECPair.fromWIF(privateKey, ghost.network) // eslint-disable-line\r\n    const { address } = bitcoin.payments.p2pkh({ pubkey: account.publicKey, network: ghost.network })\r\n    const { publicKey } = account\r\n\r\n    return {\r\n      account,\r\n      keyPair,\r\n      address,\r\n      privateKey,\r\n      publicKey,\r\n    }\r\n  }\r\n}\r\n\r\nconst getPrivateKeyByAddress = (address) => {\r\n  const {\r\n    user: {\r\n      ghostData: {\r\n        address: dataAddress,\r\n        privateKey,\r\n      }\r\n    },\r\n  } = getState()\r\n\r\n  if (dataAddress === address) return privateKey\r\n}\r\n\r\nconst login = (\r\n  privateKey,\r\n  mnemonic: string | null = null,\r\n) => {\r\n\r\n  if (privateKey) {\r\n    const hash = bitcoin.crypto.sha256(privateKey)\r\n    const d = BigInteger.fromBuffer(hash)\r\n\r\n    // keyPair     = bitcoin.ECPair.fromWIF(privateKey, ghost.network)\r\n  }\r\n  else {\r\n    console.info('Created account Ghost ...')\r\n    // keyPair     = bitcoin.ECPair.makeRandom({ network: ghost.network })\r\n    // privateKey  = keyPair.toWIF()\r\n    // use random 12 words\r\n    //@ts-ignore: strictNullChecks\r\n    if (!mnemonic) mnemonic = bip39.generateMnemonic()\r\n\r\n    //@ts-ignore: strictNullChecks\r\n    const accData = getWalletByWords(mnemonic)\r\n\r\n    privateKey = accData.WIF\r\n  }\r\n\r\n  localStorage.setItem(constants.privateKeyNames.ghost, privateKey)\r\n\r\n  const data = {\r\n    ...auth(privateKey),\r\n    currency: 'GHOST',\r\n    fullName: 'ghost',\r\n  }\r\n\r\n  window.getGhostAddress = () => data.address\r\n  window.getGhostData = () => data\r\n\r\n  reducers.user.setAuthData({ name: 'ghostData', data })\r\n\r\n  return privateKey\r\n}\r\n\r\n\r\nconst getTx = (txRaw) => {\r\n  if (txRaw\r\n    && txRaw.getId\r\n    //@ts-ignore\r\n    && txRaw.getId instanceof 'function'\r\n  ) {\r\n    return txRaw.getId()\r\n  } else {\r\n    return txRaw\r\n  }\r\n}\r\n\r\nconst getTxRouter = (txId) => `/ghost/tx/${txId}`\r\n\r\nconst getLinkToInfo = (tx) => {\r\n\r\n  if (!tx) {\r\n    return\r\n  }\r\n\r\n  return `${config.link.ghostscan}/tx/${tx}`\r\n}\r\n\r\nconst fetchBalanceStatus = (address) => apiLooper.get('ghostscan', `/addr/${address}`, {\r\n  checkStatus: (answer) => {\r\n    try {\r\n      if (answer && answer.balance !== undefined) return true\r\n    } catch (e) { /* */console.log(e) }\r\n    return false\r\n  },\r\n}).then(({ balance, unconfirmedBalance }) => ({\r\n  address,\r\n  balance,\r\n  unconfirmedBalance,\r\n}))\r\n  .catch((e) => false)\r\nconst getBalance = () => {\r\n  const { user: { ghostData: { address } } } = getState()\r\n\r\n  return apiLooper.get('ghostscan', `/addr/${address}`, {\r\n    inQuery: {\r\n      delay: 500,\r\n      name: `balance`,\r\n    },\r\n    checkStatus: (answer) => {\r\n      try {\r\n        if (answer && answer.balance !== undefined) return true\r\n      } catch (e) { /* */ }\r\n      return false\r\n    },\r\n  }).then(({ balance, unconfirmedBalance }) => {\r\n    reducers.user.setBalance({ name: 'ghostData', amount: balance, unconfirmedBalance })\r\n    return balance\r\n  })\r\n    .catch((e) => {\r\n      reducers.user.setBalanceError({ name: 'ghostData' })\r\n    })\r\n}\r\n\r\nconst fetchBalance = (address) =>\r\n  apiLooper.get('ghostscan', `/addr/${address}`, {\r\n    checkStatus: (answer) => {\r\n      try {\r\n        if (answer && answer.balance !== undefined) return true\r\n      } catch (e) { /* */ }\r\n      return false\r\n    },\r\n  }).then(({ balance }) => balance)\r\n\r\nconst fetchTx = (hash, cacheResponse) =>\r\n  apiLooper.get('ghostscan', `/tx/${hash}`, {\r\n    cacheResponse,\r\n    checkStatus: (answer) => {\r\n      try {\r\n        if (answer && answer.fees !== undefined) return true\r\n      } catch (e) {\r\n        console.error(e)\r\n      }\r\n      return false\r\n    },\r\n  }).then(({ fees, ...rest }): IUniversalObj => ({\r\n    fees: new BigNumber(fees).multipliedBy(1e8),\r\n    ...rest,\r\n  }))\r\n\r\nconst fetchTxRaw = (txId, cacheResponse) =>\r\n  apiLooper.get('ghostscan', `/rawtx/${txId}`, {\r\n    cacheResponse,\r\n    checkStatus: (answer) => {\r\n      try {\r\n        if (answer && answer.rawtx !== undefined) return true\r\n      } catch (e) {\r\n        console.error(e)\r\n      }\r\n      return false\r\n    },\r\n  }).then(({ rawtx }) => rawtx)\r\n\r\nconst fetchTxInfo = (hash, cacheResponse?) =>\r\n  fetchTx(hash, cacheResponse)\r\n    .then(({ vin, vout, ...rest }) => {\r\n      const senderAddress = vin ? vin[0].addr : null\r\n      const amount = vout ? new BigNumber(vout[0].value).toNumber() : null\r\n\r\n      let afterBalance = vout && vout[1] ? new BigNumber(vout[1].value).toNumber() : null\r\n      let adminFee: any = false\r\n\r\n      if (hasAdminFee) {\r\n        const adminOutput = vout.filter((out) => (\r\n          out.scriptPubKey.addresses\r\n          && out.scriptPubKey.addresses[0] === hasAdminFee.address\r\n          //@ts-ignore: strictNullChecks\r\n          && !(new BigNumber(out.value).eq(amount))\r\n        ))\r\n\r\n        const afterOutput = vout.filter((out) => (\r\n          out.addresses\r\n          && out.addresses[0] !== hasAdminFee.address\r\n          && out.addresses[0] !== senderAddress\r\n        ))\r\n\r\n        if (afterOutput.length) {\r\n          afterBalance = new BigNumber(afterOutput[0].value).toNumber()\r\n        }\r\n\r\n        if (adminOutput.length) {\r\n          adminFee = new BigNumber(adminOutput[0].value).toNumber()\r\n        }\r\n      }\r\n\r\n      const txInfo = {\r\n        amount,\r\n        afterBalance,\r\n        senderAddress,\r\n        receiverAddress: vout ? vout[0].scriptPubKey.addresses : null,\r\n        confirmed: !!(rest.confirmations),\r\n        minerFee: rest.fees.dividedBy(1e8).toNumber(),\r\n        adminFee,\r\n        minerFeeCurrency: 'GHOST',\r\n        outputs: vout.map((out) => ({\r\n          amount: new BigNumber(out.value).toNumber(),\r\n          address: out.scriptPubKey.addresses || null,\r\n        })),\r\n        ...rest,\r\n      }\r\n\r\n      return txInfo\r\n    })\r\n\r\nconst getInvoices = (address) => {\r\n  const { user: { ghostData: { userAddress } } } = getState()\r\n\r\n  address = address || userAddress\r\n\r\n  return actions.invoices.getInvoices({\r\n    currency: 'GHOST',\r\n    address,\r\n  })\r\n}\r\n\r\nconst getAllMyAddresses = () => {\r\n  const {\r\n    user: {\r\n      ghostData,\r\n      ghostMultisigSMSData,\r\n      ghostMultisigUserData,\r\n      ghostMultisigPinData,\r\n    },\r\n  } = getState()\r\n\r\n  const retData = []\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  retData.push(ghostData.address.toLowerCase())\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  if (ghostMultisigSMSData?.address) retData.push(ghostMultisigSMSData.address.toLowerCase())\r\n  // @ToDo - SMS MultiWallet\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  if (ghostMultisigUserData?.address) retData.push(ghostMultisigUserData.address.toLowerCase())\r\n  if (ghostMultisigUserData?.wallets?.length) {\r\n    ghostMultisigUserData.wallets.map((wallet) => {\r\n      //@ts-ignore: strictNullChecks\r\n      retData.push(wallet.address.toLowerCase())\r\n    })\r\n  }\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  if (ghostMultisigPinData?.address) retData.push(ghostMultisigPinData.address.toLowerCase())\r\n\r\n  return retData\r\n}\r\n\r\nconst getDataByAddress = (address) => {\r\n  const {\r\n    user: {\r\n      ghostData,\r\n      ghostMultisigSMSData,\r\n      ghostMultisigUserData,\r\n      ghostMultisigG2FAData,\r\n    },\r\n  } = getState()\r\n\r\n  const founded = [\r\n    ghostData,\r\n    ghostMultisigSMSData,\r\n    ghostMultisigUserData,\r\n    ...(\r\n      ghostMultisigUserData\r\n      && ghostMultisigUserData.wallets\r\n      && ghostMultisigUserData.wallets.length\r\n    )\r\n      ? ghostMultisigUserData.wallets\r\n      : [],\r\n    ghostMultisigG2FAData,\r\n  ].filter(data => data && data.address && data.address.toLowerCase() === address.toLowerCase())\r\n\r\n  return (founded.length) ? founded[0] : false\r\n}\r\n\r\nconst getTransaction = (address: string = ``, ownType: string = ``) =>\r\n  new Promise((resolve) => {\r\n    const myAllWallets = getAllMyAddresses()\r\n\r\n    let { user: { ghostData: { address: userAddress } } } = getState()\r\n    address = address || userAddress\r\n\r\n    const type = (ownType) || 'ghost'\r\n\r\n    if (!typeforce.isCoinAddress.GHOST(address)) {\r\n      resolve([])\r\n    }\r\n\r\n    const url = `/txs/?address=${address}`\r\n\r\n    return apiLooper.get('ghostscan', url, {\r\n      checkStatus: (answer) => {\r\n        try {\r\n          if (answer && answer.txs !== undefined) return true\r\n        } catch (e) { /* */ }\r\n        return false\r\n      },\r\n      query: 'ghost_balance',\r\n    }).then((res: any) => {\r\n      const transactions = res.txs.map((item) => {\r\n        const direction = item.vin[0].addr !== address ? 'in' : 'out'\r\n\r\n        const isSelf = direction === 'out'\r\n          && item.vout.filter((item) =>\r\n            item.scriptPubKey.addresses[0] === address\r\n          ).length === item.vout.length\r\n\r\n        return ({\r\n          type,\r\n          hash: item.txid,\r\n          //@ts-ignore: strictNullChecks\r\n          canEdit: (myAllWallets.indexOf(address) !== -1),\r\n          confirmations: item.confirmations,\r\n          value: isSelf\r\n            ? item.fees\r\n            : item.vout.filter((item) => {\r\n              if (!item.scriptPubKey.addresses) return false\r\n              const currentAddress = item.scriptPubKey.addresses[0]\r\n\r\n              return direction === 'in'\r\n                ? (currentAddress === address)\r\n                : (currentAddress !== address)\r\n            })[0].value,\r\n          date: item.time * 1000,\r\n          direction: isSelf ? 'self' : direction,\r\n        })\r\n      })\r\n      resolve(transactions)\r\n    })\r\n      .catch(() => {\r\n        resolve([])\r\n      })\r\n  })\r\n\r\nconst send = (data) => {\r\n  return sendBitcore(data)\r\n}\r\n\r\n//@ts-ignore\r\nconst sendBitcore = ({ from, to, amount, feeValue, speed } = {}) => {\r\n  return new Promise(async (ready) => {\r\n    const privKey = getPrivateKeyByAddress(from)\r\n    const unspents = await fetchUnspents(from)\r\n    const fundValue = new BigNumber(String(amount)).multipliedBy(1e8).integerValue().toNumber()\r\n\r\n    const transaction = new bitcore.Transaction()\r\n          .from(unspents)          // Feed information about what unspent outputs one can use\r\n          .to(to, fundValue)  // Add an output with the given amount of satoshis\r\n          .change(from)      // Sets up a change address where the rest of the funds will go\r\n          .sign(privKey)     // Signs all the inputs it can*/\r\n\r\n\r\n    const broadcastAnswer = await broadcastTx(String(transaction.serialize()))\r\n\r\n    const { txid } = broadcastAnswer\r\n    ready(txid)\r\n  })\r\n}\r\n\r\nconst fetchUnspents = (address) => {\r\n  const result: any = apiLooper.get('ghostscan', `/addr/${address}/utxo`, { cacheResponse: 5000 })\r\n  return result\r\n}\r\n\r\nconst broadcastTx = (txRaw) => {\r\n  const result: any = apiLooper.post('ghostscan', `/tx/send`, {\r\n    body: {\r\n      rawtx: txRaw,\r\n    },\r\n  })\r\n  return result\r\n}\r\n\r\nconst signMessage = (message, encodedPrivateKey) => {\r\n  const keyPair = bitcoin.ECPair.fromWIF(encodedPrivateKey, [ghost.networks.mainnet, ghost.networks.testnet])\r\n  //@ts-ignore: strictNullChecks\r\n  const privateKeyBuff = Buffer.from(keyPair.privateKey)\r\n\r\n  const signature = bitcoinMessage.sign(message, privateKeyBuff, keyPair.compressed)\r\n\r\n  return signature.toString('base64')\r\n}\r\n\r\nwindow.getMainPublicKey = getMainPublicKey\r\n\r\n/*\r\n      -   \r\n   txId,   \r\n*/\r\nconst checkWithdraw = (scriptAddress) => {\r\n  const url = `/txs/?address=${scriptAddress}`\r\n\r\n  return apiLooper.get('ghostscan', url, {\r\n    checkStatus: (answer) => {\r\n      try {\r\n        if (answer && answer.txs !== undefined) return true\r\n      } catch (e) { /* */ }\r\n      return false\r\n    },\r\n    query: 'ghost_balance',\r\n  }).then((res: any) => {\r\n    if (res.txs.length > 1\r\n      && res.txs[0].vout.length\r\n    ) {\r\n      const address = res.txs[0].vout[0].scriptPubKey.addresses[0]\r\n      const {\r\n        txid,\r\n        valueOut: amount,\r\n      } = res.txs[0]\r\n      return {\r\n        address,\r\n        txid,\r\n        amount,\r\n      }\r\n    }\r\n    return false\r\n  })\r\n}\r\n\r\nwindow.ghostCheckWithdraw = checkWithdraw\r\n\r\nexport default {\r\n  login,\r\n  checkWithdraw,\r\n  getBalance,\r\n  getTransaction,\r\n  send,\r\n  fetchUnspents,\r\n  broadcastTx,\r\n  fetchTx,\r\n  fetchTxInfo,\r\n  fetchBalance,\r\n  signMessage,\r\n  getTx,\r\n  getLinkToInfo,\r\n  getInvoices,\r\n  getWalletByWords,\r\n  getAllMyAddresses,\r\n  getDataByAddress,\r\n  getMainPublicKey,\r\n  getTxRouter,\r\n  fetchTxRaw,\r\n}\r\n","\r\nimport apiLooper from '../apiLooper'\r\nimport { BigNumber } from 'bignumber.js'\r\nimport * as next from 'bitcoinjs-lib'\r\n\r\n// Use front API config\r\nimport { default as TESTNET } from '../../../front/config/testnet/api'\r\nimport { default as MAINNET } from '../../../front/config/testnet/api'\r\n\r\nconst DUST = 546\r\n\r\n// Help function - get api by network\r\nconst getApiNext = (network) => {\r\n  return {\r\n    name: `apiNextMain`,\r\n    servers: (network === `MAINNET`)\r\n      ? MAINNET.nextExplorer\r\n      : TESTNET.nextExplorer\r\n  }\r\n}\r\n\r\nconst getApiCustom = (network) => {\r\n  return {\r\n    name: `apiNextCustom`,\r\n    servers: (network === `MAINNET`)\r\n      ? MAINNET.nextExplorerCustom\r\n      : TESTNET.nextExplorerCustom\r\n  }\r\n}\r\n\r\nconst getCore = () => {\r\n  return next\r\n}\r\n\r\nconst fetchBalance = (options) => {\r\n  const {\r\n    address,\r\n    API_ENDPOINT, // nextExplorerCustom\r\n    NETWORK,\r\n  } = options\r\n\r\n\r\n  return apiLooper.get(API_ENDPOINT || getApiNext(NETWORK), `/address/${address}`, {\r\n    checkStatus: (answer) => {\r\n      try {\r\n        if (answer && answer.balance !== undefined) return true\r\n      } catch (e) { /* */ }\r\n      return false\r\n    },\r\n    ignoreErrors: true,\r\n    reportErrors: (answer, onSuccess, onFail) => {\r\n      console.log('>>>> fetchBalance reportErrors')\r\n      console.log(answer)\r\n      onSuccess({ balance: 0 })\r\n      return true\r\n    },\r\n  }).then(({ balance }) => balance)\r\n}\r\n\r\nconst fetchUnspents = (options) => {\r\n  const {\r\n    address,\r\n    API_ENDPOINT, // nextExplorerCustom\r\n    NETWORK,\r\n  } = options\r\n\r\n  return apiLooper.get(API_ENDPOINT || getApiCustom(NETWORK), `/address/${address}/utxo`, { cacheResponse: 5000 })\r\n}\r\n\r\nconst broadcastTx = (options) => {\r\n  const {\r\n    txRaw,\r\n    API_ENDPOINT, // nextExplorer\r\n    NETWORK,\r\n  } = options\r\n\r\n  return apiLooper.post(API_ENDPOINT || getApiNext(NETWORK), `/sendrawtransaction`, {\r\n    body: {\r\n      rawtx: txRaw,\r\n    },\r\n  })\r\n}\r\n\r\nconst fetchTx = (options) => {\r\n  const {\r\n    hash,\r\n    cacheResponse,\r\n    API_ENDPOINT, // nextExplorer\r\n    NETWORK,\r\n  } = options\r\n\r\n  return apiLooper.get(API_ENDPOINT || getApiNext(NETWORK), `/tx/${hash}`, {\r\n    cacheResponse,\r\n    checkStatus: (answer) => {\r\n      try {\r\n        if (answer && answer.txid !== undefined) return true\r\n      } catch (e) { /* */ }\r\n      return false\r\n    },\r\n  }).then(({ fees, ...rest }) => ({\r\n    fees: new BigNumber(fees).multipliedBy(1e8),\r\n    ...rest,\r\n  }))\r\n}\r\n\r\n/** to-to - in front has mark (not-working) - need recheck, may be will be fixed **/\r\nconst fetchTxInfo = (options) => {\r\n  const {\r\n    hash,\r\n    cacheResponse,\r\n    API_ENDPOINT, // nextExplorer\r\n    hasAdminFee,\r\n    NETWORK,\r\n  } = options\r\n\r\n  return fetchTx({\r\n    hash,\r\n    cacheResponse,\r\n    API_ENDPOINT,\r\n    NETWORK,\r\n  }).then((txInfo_ : any) => {\r\n    const { vin, vout, ...rest } = txInfo_\r\n    const senderAddress = vin ? vin[0].address : null\r\n    const amount = vout ? new BigNumber(vout[0].value).toNumber() : null\r\n\r\n    let afterBalance = vout && vout[1] ? new BigNumber(vout[1].value).toNumber() : null\r\n    let adminFee: any = false\r\n\r\n    if (hasAdminFee) {\r\n      const adminOutput = vout.filter((out) => (\r\n        out.scriptPubKey.addresses\r\n        && out.scriptPubKey.addresses[0] === hasAdminFee.address\r\n        //@ts-ignore: strictNullChecks\r\n        && !(new BigNumber(out.value).eq(amount))\r\n      ))\r\n\r\n      const afterOutput = vout.filter((out) => (\r\n        out.addresses\r\n        && out.addresses[0] !== hasAdminFee.address\r\n        && out.addresses[0] !== senderAddress\r\n      ))\r\n\r\n      if (afterOutput.length) {\r\n        afterBalance = new BigNumber(afterOutput[0].value).toNumber()\r\n      }\r\n\r\n      if (adminOutput.length) {\r\n        adminFee = new BigNumber(adminOutput[0].value).toNumber()\r\n      }\r\n    }\r\n\r\n    const txInfo = {\r\n      amount,\r\n      afterBalance,\r\n      senderAddress,\r\n      receiverAddress: vout ? vout[0].scriptPubKey.addresses : null,\r\n      confirmed: !!(rest.confirmations),\r\n      minerFee: rest.fees.dividedBy(1e8).toNumber(),\r\n      adminFee,\r\n      minerFeeCurrency: 'NEXT',\r\n      outputs: vout.map((out) => ({\r\n        amount: new BigNumber(out.value).toNumber(),\r\n        address: out.scriptPubKey.addresses || null,\r\n      })),\r\n      inputs: vin.map((input) => ({\r\n        amount: new BigNumber(input.value).toNumber(),\r\n        script: input.scriptSig.hex || null,\r\n      })),\r\n      ...rest,\r\n    }\r\n\r\n    return txInfo\r\n  })\r\n}\r\n\r\nconst checkWithdraw = (options) => {\r\n  const {\r\n    scriptAddress,\r\n    API_ENDPOINT, // nextExplorerCustom\r\n    NETWORK,\r\n  } = options\r\n\r\n  return apiLooper.get(API_ENDPOINT || getApiCustom(NETWORK), `/txs/${scriptAddress}`, {\r\n    checkStatus: (answer) => {\r\n      try {\r\n        if (answer && answer.txs !== undefined) return true\r\n      } catch (e) { /* */ }\r\n      return false\r\n    },\r\n    query: 'next_balance',\r\n  }).then((res : any) => {\r\n    if (res.txs.length > 1\r\n      && res.txs[0].vout.length\r\n    ) {\r\n      const address = res.txs[0].vout[0].scriptPubKey.addresses[0]\r\n      const amount = res.txs[0].vout[0].valueSat\r\n\r\n      const {\r\n        txid,\r\n      } = res.txs[0]\r\n      return {\r\n        address,\r\n        txid,\r\n        amount,\r\n      }\r\n    }\r\n    return false\r\n  })\r\n}\r\n\r\nconst fetchTxInputScript = (options) => {\r\n  const {\r\n    hash,\r\n    cacheResponse,\r\n    API_ENDPOINT,\r\n    NETWORK,\r\n  } = options\r\n\r\n  return fetchTxInfo({\r\n    hash,\r\n    cacheResponse,\r\n    API_ENDPOINT,\r\n    NETWORK,\r\n  }).then((inInfo: any) => {\r\n    if (inInfo\r\n      && inInfo.inputs\r\n      && inInfo.inputs.length === 1\r\n    ) {\r\n      return next.script.toASM(\r\n        //@ts-ignore: strictNullChecks\r\n        next.script.decompile(\r\n          Buffer.from(inInfo.inputs[0].script, 'hex')\r\n        )\r\n      )\r\n    }\r\n    return false\r\n  })\r\n}\r\n\r\nconst calculateTxSize = async (options) => {\r\n  const {\r\n    speed,\r\n    unspents: _unspents,\r\n    address,\r\n    txOut = 2,\r\n    fixed,\r\n    NETWORK,\r\n  } = options\r\n\r\n  const defaultTxSize = 400\r\n\r\n  if (fixed) {\r\n    return defaultTxSize\r\n  }\r\n\r\n  const unspents = _unspents || await fetchUnspents({\r\n    address,\r\n    NETWORK,\r\n  })\r\n\r\n\r\n  const txIn = unspents.length\r\n  const txSize = txIn > 0\r\n    ? txIn * 146 + txOut * 33 + (15 + txIn - txOut)\r\n    : defaultTxSize\r\n\r\n  return txSize\r\n}\r\n\r\nconst estimateFeeValue = async (options) => {\r\n  const {\r\n    feeRate: _feeRate,\r\n    inSatoshis,\r\n    speed,\r\n    address,\r\n    txSize: _txSize,\r\n    fixed,\r\n    method,\r\n    NETWORK,\r\n  } = options\r\n\r\n  const txOut = 2\r\n\r\n\r\n  const txSize = _txSize || await calculateTxSize({\r\n    address,\r\n    speed,\r\n    fixed,\r\n    method,\r\n    txOut,\r\n    NETWORK,\r\n  })\r\n\r\n  const feeRate = _feeRate  || 30 * 1e3 // fast\r\n\r\n  const calculatedFeeValue = BigNumber.maximum(\r\n    DUST,\r\n    new BigNumber(feeRate)\r\n      .multipliedBy(txSize)\r\n      .div(1024)\r\n      .dp(0, BigNumber.ROUND_HALF_EVEN),\r\n  )\r\n\r\n  //      5 \r\n  calculatedFeeValue.plus(20)\r\n\r\n  const finalFeeValue = inSatoshis\r\n    ? calculatedFeeValue.toString()\r\n    : calculatedFeeValue.multipliedBy(1e-8).toString()\r\n\r\n  console.log(`Next withdraw fee speed(${speed}) method (${method}) ${finalFeeValue}`)\r\n  return finalFeeValue\r\n}\r\n\r\nconst networks = {\r\n  mainnet: {\r\n    messagePrefix: 'Nextcoin Signed Message:\\n',\r\n    bip32: {\r\n      public:  0x0488B21E,\r\n      private: 0x0488ADE4,\r\n    },\r\n    pubKeyHash: 75,\r\n    scriptHash: 5,\r\n    wif: 128,\r\n  },\r\n  testnet: {\r\n    messagePrefix: 'Nextcoin Signed Message:\\n',\r\n    bip32: {\r\n      public:  0x0488B21E,\r\n      private: 0x0488ADE4,\r\n    },\r\n    pubKeyHash: 75,\r\n    scriptHash: 5,\r\n    wif: 128,\r\n  },\r\n}\r\n\r\nexport default {\r\n  fetchBalance,\r\n  fetchUnspents,\r\n  broadcastTx,\r\n  fetchTx,\r\n  fetchTxInfo,\r\n  checkWithdraw,\r\n  fetchTxInputScript,\r\n\r\n  estimateFeeValue,\r\n  getCore,\r\n  networks,\r\n}","import BigInteger from 'bigi'\r\n\r\nimport { BigNumber } from 'bignumber.js'\r\nimport * as bitcoin from 'bitcoinjs-lib'\r\nimport * as bip32 from 'bip32'\r\nimport * as bip39 from 'bip39'\r\n\r\nimport bitcoinMessage from 'bitcoinjs-message'\r\nimport { getState } from 'redux/core'\r\nimport reducers from 'redux/core/reducers'\r\nimport { next, apiLooper, constants, api } from 'helpers'\r\nimport actions from 'redux/actions'\r\nimport typeforce from 'swap.app/util/typeforce'\r\nimport config from 'app-config'\r\nimport bitcore from 'bitcore-lib'\r\nimport * as mnemonicUtils from 'common/utils/mnemonic'\r\nimport { default as nextUtils } from 'common/utils/coin/next'\r\n\r\n\r\nconst NETWORK = (process.env.MAINNET) ? `MAINNET` : `TESTNET`\r\n\r\n\r\nconst hasAdminFee = !!config?.opts?.fee?.next?.min && config.opts.fee.next\r\n\r\nconst getMainPublicKey = () => {\r\n  const {\r\n    user: {\r\n      nextData,\r\n    },\r\n  } = getState()\r\n\r\n  return nextData.publicKey.toString('Hex')\r\n}\r\n\r\nconst getWalletByWords = (mnemonic: string, walletNumber: number = 0, path: string = '') => {\r\n  return mnemonicUtils.getNextWallet(next.network, mnemonic, walletNumber, path)\r\n}\r\n\r\n\r\nconst auth = (privateKey) => {\r\n  if (!privateKey) {\r\n    throw new Error('Missing privateKey')\r\n  }\r\n  //@ts-ignore\r\n  const keyPair = bitcoin.ECPair.fromWIF(privateKey, next.network)\r\n  //@ts-ignore\r\n  const account = bitcoin.ECPair.fromWIF(privateKey, next.network)\r\n  //@ts-ignore\r\n  const { address } = bitcoin.payments.p2pkh({\r\n    pubkey: account.publicKey,\r\n    //@ts-ignore\r\n    network: next.network,\r\n  })\r\n\r\n  const { publicKey } = account\r\n\r\n  return {\r\n    account,\r\n    keyPair,\r\n    address,\r\n    privateKey,\r\n    publicKey,\r\n  }\r\n}\r\n\r\nconst getPrivateKeyByAddress = (address) => {\r\n  const {\r\n    user: {\r\n      nextData: {\r\n        address: oldAddress,\r\n        privateKey,\r\n      },\r\n    },\r\n  } = getState()\r\n\r\n  if (oldAddress === address) return privateKey\r\n  //@ts-ignore\r\n  if (mnemonicAddress === address) return mnemonicKey\r\n}\r\n\r\nconst login = (\r\n  privateKey,\r\n  mnemonic: string | null = null,\r\n) => {\r\n\r\n  if (privateKey) {\r\n    const hash = bitcoin.crypto.sha256(privateKey)\r\n    const d = BigInteger.fromBuffer(hash)\r\n\r\n    // keyPair     = bitcoin.ECPair.fromWIF(privateKey, next.network)\r\n  } else {\r\n    console.info('Created account Next ...')\r\n    // keyPair     = bitcoin.ECPair.makeRandom({ network: next.network })\r\n    // privateKey  = keyPair.toWIF()\r\n    // use random 12 words\r\n    //@ts-ignore: strictNullChecks\r\n    if (!mnemonic) mnemonic = bip39.generateMnemonic()\r\n\r\n    //@ts-ignore: strictNullChecks\r\n    const accData = getWalletByWords(mnemonic)\r\n\r\n    privateKey = accData.WIF\r\n  }\r\n\r\n  localStorage.setItem(constants.privateKeyNames.next, privateKey)\r\n\r\n  const data = {\r\n    ...auth(privateKey),\r\n    currency: 'NEXT',\r\n    fullName: 'NEXT.coin',\r\n  }\r\n\r\n  window.getNextAddress = () => data.address\r\n  window.getNextData = () => data\r\n\r\n  reducers.user.setAuthData({\r\n    name: 'nextData',\r\n    data,\r\n  })\r\n\r\n  return privateKey\r\n}\r\n\r\n\r\nconst getTx = (txRaw) => {\r\n  if (txRaw\r\n    && txRaw.getId\r\n    //@ts-ignore\r\n    && txRaw.getId instanceof 'function'\r\n  ) {\r\n    return txRaw.getId()\r\n  } else {\r\n    return txRaw\r\n  }\r\n}\r\n\r\nconst getTxRouter = (txId) => `/next/tx/${txId}`\r\n\r\nconst getLinkToInfo = (tx) => {\r\n  if (!tx) {\r\n    return\r\n  }\r\n  return `${config.link.nextExplorer}/#/tx/${tx}`\r\n}\r\n\r\nconst fetchBalanceStatus = (address) => {\r\n  return apiLooper.get('nextExplorer', `/address/${address}`, {\r\n    checkStatus: (answer) => {\r\n      try {\r\n        if (answer && answer.balance !== undefined) return true\r\n      } catch (e) { /* */console.log(e) }\r\n      return false\r\n    },\r\n  }).then(({ balance, unconfirmedBalance }) => ({\r\n    address,\r\n    balance,\r\n    unconfirmedBalance,\r\n  })).catch((e) => false)\r\n}\r\n\r\nconst getBalance = () => {\r\n  const { user: { nextData: { address } } } = getState()\r\n\r\n  return apiLooper.get('nextExplorer', `/address/${address}`, {\r\n    inQuery: {\r\n      delay: 500,\r\n      name: `balance`,\r\n    },\r\n    checkStatus: (answer) => {\r\n      try {\r\n        if (answer && answer.balance !== undefined) return true\r\n      } catch (e) { /* */ }\r\n      return false\r\n    },\r\n    ignoreErrors: true,\r\n  }).then((answer: any) => {\r\n    const balance = (typeof answer.balance === 'undefined') ? 0 : answer.balance\r\n    const unconfirmedBalance = (typeof answer.unconfirmedBalance === 'undefined') ? 0 : answer.unconfirmedBalance\r\n\r\n    reducers.user.setBalance({\r\n      name: 'nextData',\r\n      amount: balance,\r\n      unconfirmedBalance,\r\n    })\r\n    return balance\r\n  }).catch((e) => {\r\n    reducers.user.setBalanceError({ name: 'nextData' })\r\n  })\r\n}\r\n\r\nconst fetchBalance = (address) => nextUtils.fetchBalance({\r\n  address,\r\n  NETWORK,\r\n})\r\n\r\nconst fetchTx = (hash, cacheResponse) => nextUtils.fetchTx({\r\n  hash,\r\n  cacheResponse,\r\n  NETWORK,\r\n})\r\n\r\nconst fetchTxRaw = (txId, cacheResponse) =>\r\n  apiLooper.get('nextExplorer', `/rawtx/${txId}`, {\r\n    cacheResponse,\r\n    checkStatus: (answer) => {\r\n      try {\r\n        if (answer && answer.rawtx !== undefined) return true\r\n      } catch (e) { /* */ }\r\n      return false\r\n    },\r\n  }).then(({ rawtx }) => rawtx)\r\n\r\nconst fetchTxInfo = (hash, cacheResponse) => nextUtils.fetchTxInfo({\r\n  hash,\r\n  cacheResponse,\r\n  NETWORK,\r\n})\r\n\r\nconst getInvoices = (address) => {\r\n  const { user: { nextData: { userAddress } } } = getState()\r\n\r\n  address = address || userAddress\r\n\r\n  return actions.invoices.getInvoices({\r\n    currency: 'NEXT',\r\n    address,\r\n  })\r\n}\r\n\r\nconst getAllMyAddresses = () => {\r\n  const {\r\n    user: {\r\n      nextData,\r\n      nextMultisigSMSData,\r\n      nextMultisigUserData,\r\n      nextMultisigPinData,\r\n    },\r\n  } = getState()\r\n\r\n  const retData = []\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  retData.push(nextData.address.toLowerCase())\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  if (nextMultisigSMSData?.address) retData.push(nextMultisigSMSData.address.toLowerCase())\r\n  // @ToDo - SMS MultiWallet\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  if (nextMultisigUserData?.address) retData.push(nextMultisigUserData.address.toLowerCase())\r\n  if (nextMultisigUserData?.wallets?.length) {\r\n    nextMultisigUserData.wallets.map((wallet) => {\r\n      //@ts-ignore: strictNullChecks\r\n      retData.push(wallet.address.toLowerCase())\r\n    })\r\n  }\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  if (nextMultisigPinData?.address) retData.push(nextMultisigPinData.address.toLowerCase())\r\n\r\n  return retData\r\n}\r\n\r\nconst getDataByAddress = (address) => {\r\n  const {\r\n    user: {\r\n      nextData,\r\n      nextMultisigSMSData,\r\n      nextMultisigUserData,\r\n      nextMultisigG2FAData,\r\n    },\r\n  } = getState()\r\n\r\n  const founded = [\r\n    nextData,\r\n    nextMultisigSMSData,\r\n    nextMultisigUserData,\r\n    ...(\r\n      nextMultisigUserData\r\n      && nextMultisigUserData.wallets\r\n      && nextMultisigUserData.wallets.length\r\n    )\r\n      ? nextMultisigUserData.wallets\r\n      : [],\r\n    nextMultisigG2FAData,\r\n  ].filter(data => data && data.address && data.address.toLowerCase() === address.toLowerCase())\r\n\r\n  return (founded.length) ? founded[0] : false\r\n}\r\n\r\nconst getTransaction = (address: string = ``, ownType: string = ``) =>\r\n  new Promise((resolve) => {\r\n    const myAllWallets = getAllMyAddresses()\r\n\r\n    let { user: { nextData: { address: userAddress } } } = getState()\r\n    address = address || userAddress\r\n\r\n    const type = (ownType) || 'next'\r\n\r\n    if (!typeforce.isCoinAddress.NEXT(address)) {\r\n      resolve([])\r\n    }\r\n\r\n    return apiLooper.get('nextExplorer', `/txs/${address}`, {\r\n      checkStatus: (answer) => {\r\n        try {\r\n          if (answer && answer.txs !== undefined) return true\r\n        } catch (e) { /* */ }\r\n        return false\r\n      },\r\n    }).then((res: any) => {\r\n      const transactions = res.txs.map((item) => {\r\n        const direction = item.vin[0].address !== address ? 'in' : 'out'\r\n\r\n        const isSelf = direction === 'out'\r\n          && item.vout.filter((item) =>\r\n            item.scriptPubKey.addresses[0] === address\r\n          ).length === item.vout.length\r\n\r\n        return ({\r\n          type,\r\n          hash: item.txid,\r\n          //@ts-ignore: strictNullChecks\r\n          canEdit: (myAllWallets.indexOf(address) !== -1),\r\n          confirmations: item.confirmations,\r\n          value: isSelf\r\n            ? item.fees\r\n            : item.vout.filter((item) => {\r\n              if (!item.scriptPubKey.addresses) return false\r\n              const currentAddress = item.scriptPubKey.addresses[0]\r\n\r\n              return direction === 'in'\r\n                ? (currentAddress === address)\r\n                : (currentAddress !== address)\r\n            })[0].value,\r\n          date: item.time * 1000,\r\n          direction: isSelf ? 'self' : direction,\r\n        })\r\n      })\r\n      resolve(transactions)\r\n    })\r\n      .catch(() => {\r\n        resolve([])\r\n      })\r\n  })\r\n\r\n//@ts-ignore\r\nconst send = ({ from, to, amount, feeValue, speed } = {}) => {\r\n\r\n  return new Promise(async (ready) => {\r\n    const networks = bitcore.Networks\r\n    const nextNetwork = {\r\n      name: 'next-mainnet',\r\n      alias: 'next-mainnet',\r\n      pubkeyhash: 0x4b,\r\n      privatekey: 0x80,\r\n      scripthash: 0x05,\r\n      xpubkey: 0x0488B21E,\r\n      xprivkey: 0x0488ADE4,\r\n      networkMagic: 0xcbe4d0a1,\r\n      port: 7078,\r\n      dnsSeeds: [\r\n        config.api.nextExplorer,\r\n      ]\r\n    }\r\n    networks.add(nextNetwork)\r\n\r\n    const bitcoreNextNetwork = networks.get('next-mainnet', 'name')\r\n\r\n    const bitcoinNetwork = networks.get('livenet', 'name')\r\n    // need remove because of bitcore.PrivateKey() use 'privatekey' key to get network\r\n    // for validation and bitcoin.livenet.privatekey === nextNetwork.privatekey\r\n    networks.remove(bitcoinNetwork)\r\n\r\n    const privKeyWIF = getPrivateKeyByAddress(from)\r\n    const privateKey = new bitcore.PrivateKey(privKeyWIF, bitcoreNextNetwork)\r\n    const publicKey = bitcore.PublicKey.fromPrivateKey(privateKey)\r\n    const addressFrom = new bitcore.Address(publicKey, bitcoreNextNetwork)\r\n\r\n    const unspents: bitcore.Transaction.UnspentOutput[] = await fetchUnspents(from) || []\r\n    const amountSat = new BigNumber(String(amount)).multipliedBy(1e8).integerValue().toNumber()\r\n\r\n    const transaction = new bitcore.Transaction()\r\n      .from(unspents)\r\n      .to(to, amountSat)\r\n      .change(addressFrom)\r\n      .sign(privateKey)\r\n\r\n    const rawTx = String(transaction.serialize())\r\n    const broadcastAnswer: any = await broadcastTx(rawTx)\r\n    const txid = broadcastAnswer.raw\r\n\r\n    ready(txid)\r\n  })\r\n}\r\n\r\n\r\nconst fetchUnspents = (address) => nextUtils.fetchUnspents({\r\n  address,\r\n  NETWORK,\r\n}).then((unspents: any) => unspents.map(unspent => ({\r\n    address: unspent.address,\r\n    txId: unspent.txid,\r\n    outputIndex: unspent.outputIndex,\r\n    script: unspent.script,\r\n    satoshis: unspent.satoshis,\r\n  }))\r\n)\r\n\r\n\r\nconst broadcastTx = (txRaw) => nextUtils.broadcastTx({\r\n  txRaw,\r\n  NETWORK,\r\n})\r\n\r\nconst signMessage = (message, encodedPrivateKey) => {\r\n  //@ts-ignore\r\n  const keyPair = bitcoin.ECPair.fromWIF(encodedPrivateKey, [next.networks.mainnet])\r\n  //@ts-ignore: strictNullChecks\r\n  const privateKeyBuff = Buffer.from(keyPair.privateKey)\r\n\r\n  const signature = bitcoinMessage.sign(message, privateKeyBuff, keyPair.compressed)\r\n\r\n  return signature.toString('base64')\r\n}\r\n\r\nconst checkWithdraw = (scriptAddress) => nextUtils.checkWithdraw({\r\n  scriptAddress,\r\n  NETWORK,\r\n})\r\n\r\nexport default {\r\n  login,\r\n  checkWithdraw,\r\n  getBalance,\r\n  getTransaction,\r\n  send,\r\n  fetchUnspents,\r\n  broadcastTx,\r\n  fetchTx,\r\n  fetchTxInfo,\r\n  fetchBalance,\r\n  signMessage,\r\n  getTx,\r\n  getLinkToInfo,\r\n  getInvoices,\r\n  getWalletByWords,\r\n  getAllMyAddresses,\r\n  getDataByAddress,\r\n  getMainPublicKey,\r\n  getTxRouter,\r\n  fetchTxRaw,\r\n}\r\n","import BigInteger from 'bigi'\r\n\r\nimport { BigNumber } from 'bignumber.js'\r\nimport * as bitcoin from 'bitcoinjs-lib'\r\nimport bitcoinMessage from 'bitcoinjs-message'\r\nimport { getState } from 'redux/core'\r\nimport reducers from 'redux/core/reducers'\r\nimport * as mnemonicUtils from 'common/utils/mnemonic'\r\nimport { apiLooper, constants, api } from 'helpers'\r\nimport btc from 'helpers/btc'\r\nimport actions from 'redux/actions'\r\nimport config from 'helpers/externalConfig'\r\nimport SwapApp from 'swap.app'\r\n\r\nimport { MnemonicKey } from 'common/types'\r\n\r\nimport { default as bitcoinUtils } from 'common/utils/coin/btc'\r\n\r\nconst BITPAY_API = {\r\n  name: 'bitpay',\r\n  servers: config.api.bitpay,\r\n}\r\n\r\nconst BLOCYPER_API = {\r\n  name: 'blockcypher',\r\n  servers: config.api.blockcypher,\r\n}\r\n\r\nconst hasAdminFee = (\r\n  config\r\n  && config.opts\r\n  && config.opts.fee\r\n  && config.opts.fee.btc\r\n  && config.opts.fee.btc.fee\r\n  && config.opts.fee.btc.address\r\n  && config.opts.fee.btc.min\r\n) ? config.opts.fee.btc : false\r\n\r\nconst NETWORK = (process.env.MAINNET) ? `MAINNET` : `TESTNET`\r\n\r\nconst addressToWallet = (address) => {\r\n  const {\r\n    user: {\r\n      btcMultisigUserData: msData,\r\n    },\r\n  } = getState()\r\n\r\n  if (msData.address === address) return msData\r\n\r\n  if (msData.wallets\r\n    && msData.wallets.length\r\n  ) {\r\n    const founded = msData.wallets.filter((wallet) => wallet.address === address)\r\n    if (founded.length) return founded[0]\r\n  }\r\n\r\n  return false\r\n}\r\n\r\nconst getSmsKeyFromMnemonic = (mnemonic) => {\r\n  if (mnemonic) {\r\n    const mnemonicWallet = actions.btc.getWalletByWords(mnemonic, 1)\r\n    if (mnemonicWallet) {\r\n      return mnemonicWallet.publicKey\r\n    }\r\n  }\r\n}\r\n\r\nconst _loadBtcMultisigKeys = () => {\r\n  let savedKeys = localStorage.getItem(constants.privateKeyNames.btcMultisigOtherOwnerKey)\r\n  //@ts-ignore: strictNullChecks\r\n  try { savedKeys = JSON.parse(savedKeys) } catch (e) { }\r\n  //@ts-ignore\r\n  if (!(savedKeys instanceof Array)) {\r\n    //@ts-ignore\r\n    savedKeys = [savedKeys]\r\n  }\r\n\r\n  return savedKeys\r\n}\r\n\r\nconst signToUserMultisig = async () => {\r\n  const {\r\n    user: {\r\n      btcMultisigUserData,\r\n      btcMultisigUserData: {\r\n        infoAboutCurrency,\r\n      },\r\n    },\r\n  } = getState()\r\n\r\n  const walletAddreses = []\r\n\r\n  const walletsData = await getBtcMultisigKeys({\r\n    opts: {\r\n      dontFetchBalance: true,\r\n    },\r\n  })\r\n  //@ts-ignore\r\n  const wallets = walletsData.map((data) => ({\r\n    address: data.address,\r\n    currency: `BTC (Multisig)`,\r\n    fullName: `Bitcoin (Multisig)`,\r\n    infoAboutCurrency,\r\n    isUserProtected: true,\r\n    active: true,\r\n    balance: 0,\r\n    unconfirmedBalance: 0,\r\n    isBalanceFetched: false,\r\n    balanceError: false,\r\n    publicKeys: data.publicKeys,\r\n    publicKey: data.publicKey,\r\n    isBTC: true,\r\n  })).filter((wallet) => wallet.address !== btcMultisigUserData.address)\r\n\r\n  btcMultisigUserData.wallets = wallets\r\n\r\n  reducers.user.setAuthData({ name: 'btcMultisigUserData', data: btcMultisigUserData })\r\n\r\n  fetchMultisigBalances()\r\n}\r\n\r\nconst fetchMultisigBalances = () => {\r\n  const {\r\n    user: {\r\n      btcMultisigUserData: {\r\n        wallets,\r\n      },\r\n    },\r\n  } = getState()\r\n\r\n  if (wallets && wallets.length) {\r\n    wallets.map(({ address }, index) => new Promise(async (resolve) => {\r\n      getAddrBalance(address).then(({ balance, unconfirmedBalance }) => {\r\n        reducers.user.setBtcMultisigBalance({\r\n          address,\r\n          amount: balance,\r\n          isBalanceFetched: true,\r\n          unconfirmedBalance,\r\n        })\r\n        resolve({ address, balance, unconfirmedBalance })\r\n      }).catch((e) => {\r\n        //\r\n      })\r\n    }))\r\n  }\r\n}\r\n\r\nconst getBtcMultisigKeys = (params) => {\r\n  let opts = {}\r\n  if (params && params.opts) opts = params.opts\r\n\r\n  return new Promise(async (resolve, reject) => {\r\n    const { user: { btcMultisigUserData } } = getState()\r\n    const { privateKey } = btcMultisigUserData\r\n\r\n    const savedKeys = _loadBtcMultisigKeys()\r\n    const keysInfo = []\r\n    //@ts-ignore: strictNullChecks\r\n    if (savedKeys.length > 0) {\r\n      //@ts-ignore: strictNullChecks\r\n      for (let i = 0; i < savedKeys.length; i++) {\r\n        //@ts-ignore: strictNullChecks\r\n        if (savedKeys[i]) {\r\n          //@ts-ignore: strictNullChecks\r\n          const walletData = login_USER(privateKey, savedKeys[i], true)\r\n\r\n          walletData.index = i\r\n          //@ts-ignore\r\n          walletData.balance = (opts.dontFetchBalance) ? 0 : await fetchBalance(walletData.address)\r\n          //@ts-ignore: strictNullChecks\r\n          keysInfo.push(walletData)\r\n        }\r\n      }\r\n    }\r\n\r\n    resolve(keysInfo)\r\n  })\r\n}\r\n\r\nconst addBtcMultisigKey = (publicKey, isPrimary) => {\r\n  const savedKeys = _loadBtcMultisigKeys()\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  if (!savedKeys.includes(publicKey)) {\r\n    //@ts-ignore\r\n    savedKeys.push(publicKey)\r\n  }\r\n\r\n  localStorage.setItem(constants.privateKeyNames.btcMultisigOtherOwnerKey, JSON.stringify(savedKeys))\r\n\r\n  if (isPrimary) switchBtcMultisigKey(publicKey)\r\n}\r\n\r\nconst switchBtcMultisigKey = (keyOrIndex) => {\r\n  const savedKeys = _loadBtcMultisigKeys()\r\n\r\n  let index = keyOrIndex\r\n  //@ts-ignore: strictNullChecks\r\n  if (!Number.isInteger(index)) index = savedKeys.indexOf(keyOrIndex)\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  if ((index > -1) && (index < savedKeys.length)) {\r\n    if (index !== 0) {\r\n      //@ts-ignore\r\n      const newKey = savedKeys.splice(index, 1)\r\n      //@ts-ignore\r\n      savedKeys.unshift(newKey[0])\r\n      localStorage.setItem(constants.privateKeyNames.btcMultisigOtherOwnerKey, JSON.stringify(savedKeys))\r\n\r\n      const {\r\n        user: {\r\n          btcData: {\r\n            privateKey,\r\n          },\r\n        },\r\n      } = getState()\r\n      //@ts-ignore\r\n      login_USER(privateKey, newKey[0])\r\n      //@ts-ignore\r\n      getBalanceUser()\r\n    }\r\n  }\r\n}\r\n\r\nconst removeBtcMultisigNey = (keyOrIndex) => {\r\n  const savedKeys = _loadBtcMultisigKeys()\r\n\r\n  let index = keyOrIndex\r\n  //@ts-ignore: strictNullChecks\r\n  if (!Number.isInteger(index)) index = savedKeys.indexOf(keyOrIndex)\r\n\r\n  if (index > -1) {\r\n    //@ts-ignore\r\n    const newKey = savedKeys.splice(index, 1)\r\n\r\n    localStorage.setItem(constants.privateKeyNames.btcMultisigOtherOwnerKey, JSON.stringify(savedKeys))\r\n\r\n    if (index === 0) {\r\n      switchBtcMultisigKey(0)\r\n      return true\r\n    }\r\n  }\r\n}\r\n\r\nconst checkPINActivated = () => {\r\n  const { user: { btcMultisigPinData: { isRegistered } } } = getState()\r\n  return isRegistered\r\n}\r\n\r\nconst checkG2FAActivated = () => false\r\n\r\nconst checkUserActivated = () => {\r\n  const { user: { btcMultisigUserData: { active } } } = getState()\r\n  return active\r\n}\r\n\r\nconst isBTCMSUserAddress = (address) => {\r\n  const {\r\n    user: {\r\n      btcMultisigUserData: msData,\r\n    },\r\n  } = getState()\r\n\r\n  if (msData.address === address) return true\r\n\r\n  if (msData.wallets\r\n    && msData.wallets.length\r\n  ) {\r\n    const founded = msData.wallets.filter((wallet) => wallet.address === address)\r\n    if (founded.length) return true\r\n  }\r\n\r\n  return false\r\n}\r\n\r\nconst createWallet = (privateKey, otherOwnerPublicKey) => {\r\n  // privateKey - key of our privary one-sign btc wallet\r\n  let keyPair\r\n\r\n  if (privateKey) {\r\n    const hash = bitcoin.crypto.sha256(privateKey)\r\n    const d = BigInteger.fromBuffer(hash)\r\n\r\n    keyPair = bitcoin.ECPair.fromWIF(privateKey, btc.network)\r\n  }\r\n  else {\r\n    console.error('Requery privateKey')\r\n    return false\r\n  }\r\n\r\n\r\n  const account = bitcoin.ECPair.fromWIF(privateKey, btc.network) // eslint-disable-line\r\n  //@ts-ignore\r\n  const { addressOfMyOwnWallet } = bitcoin.payments.p2wpkh({ pubkey: account.publicKey, network: btc.network })\r\n  const { publicKey } = account\r\n\r\n  const publicKeysRaw = [otherOwnerPublicKey, account.publicKey.toString('hex')].sort().reverse()\r\n\r\n  const publicKeys = publicKeysRaw.map(hex => Buffer.from(hex, 'hex'))\r\n\r\n  const p2ms = bitcoin.payments.p2ms({\r\n    m: 2,\r\n    n: 2,\r\n    pubkeys: publicKeys,\r\n    network: btc.network,\r\n  })\r\n  const p2sh = bitcoin.payments.p2sh({ redeem: p2ms, network: btc.network })\r\n\r\n  const { address } = p2sh\r\n\r\n\r\n  const data = {\r\n    account,\r\n    keyPair,\r\n    address,\r\n    addressOfMyOwnWallet,\r\n    currency: 'BTC (Multisig)',\r\n    fullName: 'Bitcoin (Multisig)',\r\n    privateKey,\r\n    publicKeys,\r\n    publicKey,\r\n    isBTC: true,\r\n  }\r\n\r\n  localStorage.setItem(constants.privateKeyNames.btcMultisigOtherOwnerKey, otherOwnerPublicKey)\r\n\r\n  window.getBtcMultisigData = () => data\r\n  window.getBtcMultisigAddress = () => data.address\r\n\r\n  reducers.user.setAuthData({ name: 'btcMultisigData', data })\r\n}\r\n\r\nconst login_SMS = (privateKey, otherOwnerPublicKey) => {\r\n  const data = login_(privateKey, otherOwnerPublicKey, false)\r\n\r\n  if (!data) return false\r\n\r\n  const isRegistered = (localStorage.getItem(`${constants.localStorage.didProtectedBtcCreated}:${data.address}`) === '1')\r\n\r\n  data.currency = 'BTC (SMS-Protected)'\r\n  data.fullName = 'Bitcoin (SMS-Protected)'\r\n  data.isRegistered = (otherOwnerPublicKey instanceof Array && otherOwnerPublicKey.length > 1) ? true : isRegistered\r\n  data.isSmsProtected = true\r\n\r\n  window.getBtcSmsData = () => data\r\n  reducers.user.setAuthData({ name: 'btcMultisigSMSData', data })\r\n}\r\n\r\nconst login_PIN = (privateKey, otherOwnerPublicKey) => {\r\n  const data = login_(privateKey, otherOwnerPublicKey, false)\r\n\r\n  if (!data) return false\r\n\r\n  const isRegistered = (localStorage.getItem(`${constants.localStorage.didPinBtcCreated}:${data.address}`) === '1')\r\n\r\n\r\n  data.currency = 'BTC (PIN-Protected)'\r\n  data.fullName = 'Bitcoin (PIN-Protected)'\r\n  data.isRegistered = (otherOwnerPublicKey instanceof Array && otherOwnerPublicKey.length > 1) ? true : isRegistered\r\n  data.isPinProtected = true\r\n\r\n  window.getBtcPinData = () => data\r\n  reducers.user.setAuthData({ name: 'btcMultisigPinData', data })\r\n}\r\n\r\nconst login_G2FA = (privateKey, otherOwnerPublicKey) => {\r\n  const data = login_(privateKey, otherOwnerPublicKey, false)\r\n\r\n  if (!data) return false\r\n\r\n  const isRegistered = (localStorage.getItem(`${constants.localStorage.didProtectedBtcG2FACreated}:${data.address}`) === '1')\r\n\r\n  data.currency = 'BTC (Google 2FA)'\r\n  data.fullName = 'Bitcoin (Google 2FA)'\r\n  data.isRegistered = isRegistered\r\n  data.isG2FAProtected = true\r\n\r\n  reducers.user.setAuthData({ name: 'btcMultisigG2FAData', data })\r\n}\r\n\r\nconst login_USER = (privateKey, otherOwnerPublicKey, onlyCheck) => {\r\n  if (otherOwnerPublicKey instanceof Array && otherOwnerPublicKey.length === 0) return\r\n\r\n  const data = login_(privateKey, (otherOwnerPublicKey instanceof Array) ? otherOwnerPublicKey[0] : otherOwnerPublicKey, true)\r\n\r\n  if (!data) return false\r\n\r\n  data.isUserProtected = true\r\n  if (onlyCheck) return data\r\n\r\n  reducers.user.setAuthData({ name: 'btcMultisigUserData', data })\r\n\r\n  // Setup pubsubRoom sign request\r\n  actions.pubsubRoom.onReady(() => {\r\n    const { user: { btcMultisigUserData: { address } } } = getState()\r\n    const onRequestEventName = `btc multisig request sign ${address}`\r\n    //@ts-ignore: strictNullChecks\r\n    SwapApp.shared().services.room.subscribe(onRequestEventName, (_data) => {\r\n      const { txData } = _data\r\n      if (txData && txData.address && txData.amount && txData.currency && txData.txRaw) {\r\n        //@ts-ignore: strictNullChecks\r\n        SwapApp.shared().services.room.sendMessagePeer(\r\n          _data.fromPeer,\r\n          {\r\n            event: `btc multisig accept tx ${address}`,\r\n            data: {},\r\n          }\r\n        )\r\n        actions.notifications.show('BTCMultisignRequest', txData)\r\n        //@ts-ignore: strictNullChecks\r\n        actions.modals.open(constants.modals.BtcMultisignConfirmTx, {\r\n          txData: txData.txRaw,\r\n        })\r\n      }\r\n    })\r\n  })\r\n}\r\n\r\nconst login_ = (privateKey, otherOwnerPublicKey, sortKeys) => {\r\n  let keyPair\r\n\r\n  if (privateKey) {\r\n    const hash = bitcoin.crypto.sha256(privateKey)\r\n    const d = BigInteger.fromBuffer(hash)\r\n\r\n    keyPair = bitcoin.ECPair.fromWIF(privateKey, btc.network)\r\n  }\r\n  else {\r\n    console.log('Requery privateKey')\r\n    return false\r\n  }\r\n\r\n\r\n  const account = bitcoin.ECPair.fromWIF(privateKey, btc.network) // eslint-disable-line\r\n  const { publicKey } = account\r\n  const publicKey_1 = account.publicKey.toString('hex')\r\n\r\n  // TODO - simple sort public keys by ABC - no primary and secondary\r\n  let _data\r\n\r\n  if (otherOwnerPublicKey) {\r\n    let publicKeysRaw: string[] = []\r\n\r\n    if (otherOwnerPublicKey instanceof Array) {\r\n      otherOwnerPublicKey.forEach((key) => {\r\n        if (key) {\r\n          publicKeysRaw.push(key)\r\n        }\r\n      })\r\n    } else {\r\n      publicKeysRaw.push(otherOwnerPublicKey)\r\n    }\r\n    //@ts-ignore: strictNullChecks\r\n    publicKeysRaw.push(publicKey_1)\r\n\r\n    if (sortKeys) publicKeysRaw = publicKeysRaw.sort()\r\n\r\n    const publicKeys = publicKeysRaw.map(hex => Buffer.from(hex, 'hex'))\r\n    const p2ms = bitcoin.payments.p2ms({\r\n      m: 2,\r\n      n: publicKeysRaw.length,\r\n      pubkeys: publicKeys,\r\n      network: btc.network,\r\n    })\r\n\r\n    const p2sh = bitcoin.payments.p2sh({ redeem: p2ms, network: btc.network })\r\n    const { address } = p2sh\r\n    //@ts-ignore\r\n    const { addressOfMyOwnWallet } = bitcoin.payments.p2wpkh({ pubkey: account.publicKey, network: btc.network })\r\n\r\n    _data = {\r\n      account,\r\n      keyPair,\r\n      p2sh,\r\n      address,\r\n      addressOfMyOwnWallet,\r\n      currency: 'BTC (Multisig)',\r\n      fullName: 'Bitcoin (Multisig)',\r\n      privateKey,\r\n      publicKeys,\r\n      publicKey,\r\n      isBTC: true,\r\n      active: true,\r\n    }\r\n  } else {\r\n    _data = {\r\n      account,\r\n      keyPair,\r\n      address: 'Not jointed',\r\n      addressOfMyOwnWallet: 'Not jointed',\r\n      currency: 'BTC (Multisig)',\r\n      fullName: 'Bitcoin (Multisig)',\r\n      privateKey,\r\n      publicKeys: [],\r\n      publicKey,\r\n      isBTC: true,\r\n      active: false,\r\n    }\r\n  }\r\n\r\n  return _data\r\n}\r\n\r\nconst enableWalletSMS = () => {\r\n  const { user: { btcMultisigSMSData } } = getState()\r\n  btcMultisigSMSData.isRegistered = true\r\n  reducers.user.setAuthData({ name: 'btcMultisigSMSData', btcMultisigSMSData })\r\n}\r\n\r\nconst enableWalletG2FA = () => {\r\n  const { user: { btcMultisigG2FAData } } = getState()\r\n  btcMultisigG2FAData.isRegistered = true\r\n  reducers.user.setAuthData({ name: 'btcMultisigG2FAData', btcMultisigG2FAData })\r\n}\r\n\r\nconst enableWalletUSER = () => {\r\n}\r\n\r\nconst onUserMultisigJoin = (data) => {\r\n  console.log('on user multisig join', data)\r\n  const {\r\n    user: {\r\n      btcMultisigUserData,\r\n      btcData,\r\n    },\r\n  } = getState()\r\n  const { fromPeer, checkKey, publicKey } = data\r\n\r\n  if (checkKey === btcData.publicKey.toString('hex') && publicKey && (publicKey.length === 66)) {\r\n    console.log('checks ok - connect')\r\n    addBtcMultisigKey(publicKey, true)\r\n    //@ts-ignore: strictNullChecks\r\n    SwapApp.shared().services.room.sendMessagePeer(fromPeer, {\r\n      event: 'btc multisig join ready',\r\n      data: {},\r\n    })\r\n  }\r\n}\r\n\r\n//     -  ,      .       -  \r\nconst onUserMultisigSend = (data) => {\r\n  console.log('on user multisig send', data)\r\n}\r\n\r\n//    ,     .    ,        \r\nconst broadcastTX2Room = (txData, cbSuccess, cbFail) => {\r\n  const { user: { btcMultisigUserData: { publicKey, address } } } = getState()\r\n\r\n  const onSuccessEventName = `btc multisig accept tx ${address}`\r\n  let failTimer = false\r\n\r\n  const onSuccessEvent = (data) => {\r\n    console.log('broadcast sucess', data)\r\n    //@ts-ignore\r\n    clearTimeout(failTimer)\r\n    //@ts-ignore: strictNullChecks\r\n    SwapApp.shared().services.room.unsubscribe(onSuccessEventName, onSuccessEvent)\r\n    if (cbSuccess) cbSuccess()\r\n  }\r\n\r\n  const cancelFunc = () => {\r\n    console.log('broadcast multisig canceled')\r\n    //@ts-ignore\r\n    clearTimeout(failTimer)\r\n    //@ts-ignore: strictNullChecks\r\n    SwapApp.shared().services.room.unsubscribe(onSuccessEventName, onSuccessEvent)\r\n  }\r\n\r\n  const onFailTimer = () => {\r\n    console.log('broadcast multisig fail timer')\r\n    //@ts-ignore\r\n    clearTimeout(failTimer)\r\n    //@ts-ignore: strictNullChecks\r\n    SwapApp.shared().services.room.unsubscribe(onSuccessEventName, onSuccessEvent)\r\n    if (cbFail) cbFail()\r\n  }\r\n  //@ts-ignore\r\n  failTimer = setTimeout(onFailTimer, 30000)\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  SwapApp.shared().services.room.subscribe(onSuccessEventName, onSuccessEvent)\r\n\r\n  // Broadcast TX\r\n  //@ts-ignore: strictNullChecks\r\n  SwapApp.shared().services.room.sendMessageRoom({\r\n    event: `btc multisig request sign ${address}`,\r\n    data: {\r\n      txData,\r\n      publicKey: publicKey.toString('hex'),\r\n    },\r\n  })\r\n  return cancelFunc\r\n}\r\n\r\nwindow.broadcastTX2Room = broadcastTX2Room\r\n\r\nconst _getSign = () => {\r\n  const { user: { btcMultisigSMSData: { account, address, keyPair, publicKey } } } = getState()\r\n  const message = `${address}:${publicKey.toString('hex')}`\r\n\r\n  console.log(message)\r\n  const sign = bitcoinMessage.sign(message, account.privateKey, keyPair.compressed)\r\n  return sign.toString('base64')\r\n}\r\n\r\nconst registerPinWallet = async (password, mnemonic, ownPublicKey) => {\r\n  const {\r\n    user: {\r\n      btcData: {\r\n        address,\r\n        publicKey: mainKey,\r\n      },\r\n    },\r\n  } = getState()\r\n\r\n  const btcPinServerKey = config.swapContract.btcPinKey\r\n  const publicKeys = [btcPinServerKey]\r\n  let mnemonicKey = false\r\n\r\n  if (mnemonic && !ownPublicKey) {\r\n    // 2of3 - extract public key from mnemonic\r\n    const mnemonicAccount = actions.btc.getWalletByWords(mnemonic, 1)\r\n    //@ts-ignore\r\n    mnemonicKey = mnemonicAccount.publicKey\r\n    publicKeys.push(mnemonicKey)\r\n  }\r\n\r\n  //    -  \r\n  if (ownPublicKey) {\r\n    publicKeys.push(ownPublicKey)\r\n    mnemonicKey = ownPublicKey\r\n  }\r\n\r\n  publicKeys.push(mainKey.toString('Hex'))\r\n\r\n  const sign = _getSign()\r\n\r\n  const newKeys = JSON.stringify(publicKeys)\r\n\r\n  try {\r\n    const result: any = await apiLooper.post('btcPin', `/register/`, {\r\n      body: {\r\n        address,\r\n        password,\r\n        publicKey: newKeys,\r\n        checkSign: sign,\r\n        mainnet: !!process.env.MAINNET,\r\n        source: window.location.hostname,\r\n      },\r\n    })\r\n\r\n    if ((result && result.answer && result.answer === 'ok') || (result.error === 'Already registered')) {\r\n      localStorage.setItem(`${constants.localStorage.didPinBtcCreated}:${address}`, '1')\r\n      addPinWallet(mnemonicKey)\r\n    }\r\n\r\n    return result\r\n  } catch (error) {\r\n    console.error(error)\r\n    return false\r\n  }\r\n}\r\n\r\nconst isPinRegistered = async (mnemonic) => {\r\n  const {\r\n    user: {\r\n      btcData: {\r\n        address,\r\n        publicKey,\r\n      },\r\n    },\r\n  } = getState()\r\n\r\n  const mnemonicAccount = actions.btc.getWalletByWords(mnemonic, 1)\r\n  const mnemonicKey = mnemonicAccount.publicKey\r\n  const privateKey = mnemonicAccount.WIF\r\n  const serverKey = config.swapContract.btcPinKey\r\n  //@ts-ignore\r\n  const publicKeys = [serverKey, mnemonicKey.toString('Hex'), publicKey.toString('Hex')]\r\n\r\n  try {\r\n    const result: any = await apiLooper.post('btcPin', `/login/`, {\r\n      body: {\r\n        address,\r\n        publicKey: JSON.stringify(publicKeys),\r\n        mainnet: config.entry === 'mainnet',\r\n      },\r\n    })\r\n\r\n    if (result?.answer === 'Exist') {\r\n      return {\r\n        exist: true,\r\n        publicKeys,\r\n        privateKey,\r\n      }\r\n    } else {\r\n      return false\r\n    }\r\n  } catch (error) {\r\n    console.group('%c isPinRegistered', 'color: red;')\r\n    console.error(error)\r\n    console.groupEnd()\r\n    return false\r\n  }\r\n}\r\n\r\nconst addPinWallet = async (mnemonicOrKey) => {\r\n  const {\r\n    user: {\r\n      btcData: {\r\n        privateKey,\r\n      },\r\n    },\r\n  } = getState()\r\n\r\n  let mnemonicKey = mnemonicOrKey\r\n\r\n  if (mnemonicOrKey && mnemonicUtils.validateMnemonicWords(mnemonicOrKey)) {\r\n    const mnemonicAccount = actions.btc.getWalletByWords(mnemonicOrKey, 1)\r\n    mnemonicKey = mnemonicAccount.publicKey\r\n  }\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  let btcPinMnemonicKey: MnemonicKey = localStorage.getItem(constants.privateKeyNames.btcPinMnemonicKey)\r\n\r\n  try { \r\n    //@ts-ignore: strictNullChecks\r\n    btcPinMnemonicKey = JSON.parse(btcPinMnemonicKey) \r\n  } catch (e) {\r\n    console.error(e)\r\n  }\r\n\r\n  if (!(btcPinMnemonicKey instanceof Array)) {\r\n    btcPinMnemonicKey = []\r\n  }\r\n\r\n  const index = btcPinMnemonicKey.indexOf(mnemonicKey)\r\n\r\n  if (index === -1) btcPinMnemonicKey.unshift(mnemonicKey)\r\n  if ((index > -1) && (index < btcPinMnemonicKey.length)) {\r\n    if (index !== 0) {\r\n      btcPinMnemonicKey = btcPinMnemonicKey.splice(index, 1)\r\n      btcPinMnemonicKey.unshift(mnemonicKey)\r\n    }\r\n  }\r\n\r\n  localStorage.setItem(constants.privateKeyNames.btcPinMnemonicKey, JSON.stringify(btcPinMnemonicKey))\r\n\r\n  const btcPinServerKey = config.swapContract.btcPinKey\r\n  let btcPinPublicKeys = [btcPinServerKey, mnemonicKey]\r\n\r\n  await actions.btcmultisig.login_PIN(privateKey, btcPinPublicKeys)\r\n  const { user: { btcMultisigPinData: { address } } } = getState()\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  await getBalance(address, 'btcMultisigPinData')\r\n}\r\n\r\nconst getAddrBalance = (address) => {\r\n  return new Promise((resolve) => {\r\n    bitcoinUtils.fetchBalance({\r\n      address,\r\n      withUnconfirmed: true,\r\n      apiBitpay: BITPAY_API\r\n    }).then((answer) => {\r\n      //@ts-ignore\r\n      const { balance, unconfirmed } = answer\r\n      resolve({\r\n        address,\r\n        balance: balance,\r\n        unconfirmedBalance: unconfirmed,\r\n      })\r\n    }).catch((e) => {\r\n      resolve(false)\r\n    })\r\n  })\r\n}\r\n\r\nconst getBalance = (ownAddress = null, ownDataKey = null) => {\r\n  const { user: { btcMultisigSMSData: { address } } } = getState()\r\n  const checkAddress = (ownAddress) || address\r\n  const dataKey = (ownDataKey) || 'btcMultisigSMSData'\r\n\r\n  if (checkAddress === 'Not jointed') {\r\n    return new Promise((resolve) => {\r\n      reducers.user.setBalance({\r\n        name: dataKey,\r\n        amount: 0,\r\n        unconfirmedBalance: 0,\r\n      })\r\n      resolve(0)\r\n    })\r\n  }\r\n\r\n  return getAddrBalance(checkAddress).then(({ balance, unconfirmedBalance }) => {\r\n    reducers.user.setBalance({ name: dataKey, amount: balance, unconfirmedBalance })\r\n    return balance\r\n  })\r\n    .catch((e) => {\r\n      reducers.user.setBalanceError({ name: dataKey })\r\n    })\r\n}\r\n\r\nconst getBalancePin = () => {\r\n  const { user: { btcMultisigPinData: { address } } } = getState()\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  return getBalance(address, 'btcMultisigPinData')\r\n}\r\n\r\nconst getBalanceUser = (checkAddress) => {\r\n  const { user: { btcMultisigUserData: { address } } } = getState()\r\n  if (!checkAddress) {\r\n    //@ts-ignore: strictNullChecks\r\n    return getBalance(address, 'btcMultisigUserData')\r\n  }\r\n  return getAddrBalance(checkAddress).then(({ balance, unconfirmedBalance }) => {\r\n    reducers.user.setBtcMultisigBalance({\r\n      address: checkAddress,\r\n      amount: balance,\r\n      isBalanceFetched: true,\r\n      unconfirmedBalance,\r\n    })\r\n\r\n    return balance\r\n  })\r\n\r\n}\r\n\r\nconst getBalanceG2FA = () => {\r\n}\r\n\r\nconst fetchBalance = (address) => bitcoinUtils.fetchBalance({\r\n  address,\r\n  withUnconfirmed: false,\r\n  apiBitpay: BITPAY_API,\r\n})\r\n\r\nconst fetchTx = (hash, cacheResponse) => bitcoinUtils.fetchTx({\r\n  hash,\r\n  apiBitpay: BITPAY_API,\r\n  cacheResponse,\r\n})\r\n\r\nconst fetchTxInfo = (hash, cacheResponse, serviceFee = null) => bitcoinUtils.fetchTxInfo({\r\n  hash,\r\n  apiBitpay: BITPAY_API,\r\n  cacheResponse,\r\n  hasAdminFee: serviceFee || hasAdminFee,\r\n})\r\n\r\nconst getTransactionUser = (address: string = ``) => {\r\n  if (!address) {\r\n    // Fetch all\r\n    return new Promise(async (resolve) => {\r\n      const msWallets = await getBtcMultisigKeys({\r\n        opts: {\r\n          dontFetchBalance: true,\r\n        },\r\n      })\r\n      //@ts-ignore\r\n      if (msWallets.length) {\r\n        //@ts-ignore\r\n        const promiseList = msWallets.map((walletData) => getTransactionUser(walletData.address))\r\n\r\n        const txLists = await Promise.all(promiseList)\r\n\r\n        let retValue = []\r\n        txLists.forEach((txs) => {\r\n          //@ts-ignore\r\n          retValue = [...retValue, ...txs]\r\n        })\r\n\r\n        resolve(retValue)\r\n      } else {\r\n        resolve([])\r\n      }\r\n    })\r\n  }\r\n  return getTransaction(address, 'btc (multisig)')\r\n\r\n}\r\n//@ts-ignore\r\nconst getTransactionSMS = (address: string = ``) => {\r\n  const {\r\n    user: {\r\n      btcMultisigSMSData: {\r\n        address: smsAddress,\r\n        isRegistered,\r\n      },\r\n    },\r\n  } = getState()\r\n  if (!isRegistered) {\r\n    return new Promise((resolve) => { resolve([]) })\r\n  }\r\n  return getTransaction((address || smsAddress), `btc (sms-protected)`)\r\n}\r\n\r\nconst getTransactionPIN = (address: string = ``) => {\r\n  const {\r\n    user: {\r\n      btcMultisigPinData: {\r\n        address: pinAddress,\r\n        isRegistered,\r\n      },\r\n    },\r\n  } = getState()\r\n  if (!isRegistered) {\r\n    return new Promise((resolve) => { resolve([]) })\r\n  }\r\n  return getTransaction((address || pinAddress), `btc (pin-protected)`)\r\n}\r\n\r\nconst getTransactionG2FA = () => { }\r\n\r\nconst getInvoicesUser = () => {\r\n  const { user: { btcMultisigUserData: { address } } } = getState()\r\n\r\n  return actions.invoices.getInvoices({\r\n    currency: 'BTC',\r\n    address,\r\n  })\r\n}\r\n\r\nconst getTransaction = (ownAddress, ownType) => {\r\n  return bitcoinUtils.getTransactionBlocyper({\r\n    ownAddress,\r\n    ownType,\r\n    myWallets: [ownAddress],\r\n    network: btc.network,\r\n    apiBlocyper: BLOCYPER_API,\r\n  })\r\n}\r\n//@ts-ignore\r\nconst sendSMSProtected = async ({ from, to, amount, feeValue, speed, serviceFee = hasAdminFee } = {}) => {\r\n  const {\r\n    user: {\r\n      btcMultisigSMSData: {\r\n        privateKey,\r\n        publicKeys,\r\n      },\r\n      btcData: {\r\n        address,\r\n      },\r\n    },\r\n  } = getState()\r\n\r\n  const method = 'send_2fa'\r\n\r\n  let preparedFees\r\n  try {\r\n    preparedFees = await bitcoinUtils.prepareFees({\r\n      amount,\r\n      serviceFee,\r\n      feeValue,\r\n      speed,\r\n      method,\r\n      from,\r\n      to,\r\n      NETWORK\r\n    })\r\n  } catch (prepareFeesError) {\r\n    return {\r\n      error: prepareFeesError.message,\r\n    }\r\n  }\r\n  const {\r\n    fundValue,\r\n    skipValue,\r\n    feeFromAmount,\r\n    unspents,\r\n  } = preparedFees\r\n\r\n\r\n  let rawTx\r\n  try {\r\n    rawTx = await bitcoinUtils.prepareRawTx({\r\n      from,\r\n      to,\r\n      fundValue,\r\n      skipValue,\r\n      serviceFee,\r\n      feeFromAmount,\r\n      method,\r\n      unspents,\r\n      privateKey,\r\n      publicKeys,\r\n      network: btc.network,\r\n      NETWORK\r\n    })\r\n  } catch (prepareRawTxError) {\r\n    return {\r\n      error: prepareRawTxError.message,\r\n    }\r\n  }\r\n\r\n  let authKeys = publicKeys.slice(1)\r\n  authKeys = JSON.stringify(authKeys.map((key) => key.toString('Hex')))\r\n\r\n  try {\r\n    const result: any = await apiLooper.post('btc2FAProtected', `/push/`, {\r\n      body: {\r\n        address,\r\n        publicKey: authKeys,\r\n        checkSign: _getSign,\r\n        rawTX: rawTx,\r\n        mainnet: process.env.MAINNET ? true : false,\r\n        source: window.location.hostname,\r\n      },\r\n      timeout: {\r\n        response: 0,\r\n        deadline: 5000,\r\n      },\r\n    })\r\n    return {\r\n      ...result,\r\n      rawTx,\r\n    }\r\n  } catch (apiError) {\r\n    return {\r\n      error: apiError.message,\r\n      rawTx,\r\n    }\r\n  }\r\n}\r\n\r\nconst sendPinProtected = async (params) => {\r\n  const { from, to, amount, feeValue, speed, password, mnemonic, serviceFee = hasAdminFee } = params\r\n  const {\r\n    user: {\r\n      btcMultisigPinData: {\r\n        privateKey,\r\n        publicKeys,\r\n      },\r\n      btcData: {\r\n        address,\r\n      },\r\n    },\r\n  } = getState()\r\n\r\n  const method = 'send_2fa'\r\n\r\n  let preparedFees\r\n  try {\r\n    preparedFees = await bitcoinUtils.prepareFees({\r\n      amount,\r\n      serviceFee,\r\n      feeValue,\r\n      speed,\r\n      method,\r\n      from,\r\n      to,\r\n      NETWORK\r\n    })\r\n  } catch (prepareFeesError) {\r\n    return {\r\n      error: prepareFeesError.message,\r\n    }\r\n  }\r\n  const {\r\n    fundValue,\r\n    skipValue,\r\n    feeFromAmount,\r\n    unspents,\r\n  } = preparedFees\r\n\r\n\r\n  let rawTx\r\n  try {\r\n    rawTx = await bitcoinUtils.prepareRawTx({\r\n      from,\r\n      to,\r\n      fundValue,\r\n      skipValue,\r\n      serviceFee,\r\n      feeFromAmount,\r\n      method,\r\n      unspents,\r\n      privateKey,\r\n      publicKeys,\r\n      network: btc.network,\r\n      NETWORK\r\n    })\r\n  } catch (prepareRawTxError) {\r\n    return {\r\n      error: prepareRawTxError.message,\r\n    }\r\n  }\r\n\r\n  if (mnemonic) {\r\n    const mnemonicTx = await signPinMnemonic(rawTx, mnemonic)\r\n    const broadcastResult = await actions.btc.broadcastTx(mnemonicTx)\r\n    if (broadcastResult\r\n      && broadcastResult.txid\r\n    ) {\r\n      return {\r\n        answer: 'ok',\r\n        txId: broadcastResult.txid,\r\n      }\r\n    } else {\r\n      return {\r\n        error: `Fail sign transaction by mnemonic`,\r\n      }\r\n    }\r\n  }\r\n\r\n  let authKeys = publicKeys\r\n  authKeys = JSON.stringify(authKeys.map((key) => Buffer.from(key).toString('hex')))\r\n\r\n  try {\r\n    const result: any = await apiLooper.post('btcPin', `/sign/`, {\r\n      body: {\r\n        address,\r\n        publicKey: authKeys,\r\n        checkSign: _getSign,\r\n        rawTX: rawTx,\r\n        mainnet: process.env.MAINNET ? true : false,\r\n        source: window.location.hostname,\r\n        password,\r\n        version: `v5`,\r\n      },\r\n      timeout: {\r\n        response: 0,\r\n        deadline: 5000,\r\n      },\r\n    })\r\n\r\n    if (result\r\n      && result.answer\r\n      && result.answer === 'ok'\r\n      && result.rawTX\r\n    ) {\r\n      const broadcastResult = await actions.btc.broadcastTx(result.rawTX)\r\n      if (broadcastResult\r\n        && broadcastResult.txid\r\n      ) {\r\n        return {\r\n          answer: 'ok',\r\n          txId: broadcastResult.txid,\r\n        }\r\n      } else {\r\n        return {\r\n          error: 'Fail broadcast transaction'\r\n        }\r\n      }\r\n    } else {\r\n      return {\r\n        ...result,\r\n      }\r\n    }\r\n  } catch (apiError) {\r\n    return {\r\n      error: apiError.message,\r\n      rawTx,\r\n    }\r\n  }\r\n}\r\n\r\nconst confirmSMSProtected = async (smsCode) => {\r\n  const {\r\n    user: {\r\n      btcMultisigSMSData: {\r\n        privateKey,\r\n        publicKeys,\r\n        publicKey,\r\n      },\r\n      btcData: {\r\n        address,\r\n      },\r\n    },\r\n  } = getState()\r\n\r\n  let authKeys = publicKeys.slice(1)\r\n  authKeys = JSON.stringify(authKeys.map((key) => key.toString('Hex')))\r\n\r\n  const result: any = await apiLooper.post('btc2FAProtected', `/sign/`, {\r\n    body: {\r\n      address,\r\n      version: 'v5',\r\n      publicKey: authKeys,\r\n      checkSign: _getSign,\r\n      code: smsCode,\r\n      mainnet: !!process.env.MAINNET,\r\n      source: window.location.hostname,\r\n    },\r\n  })\r\n  return result\r\n}\r\n//@ts-ignore\r\nconst send = async ({ from, to, amount, feeValue, speed, serviceFee = hasAdminFee } = {}) => {\r\n  const {\r\n    user: {\r\n      btcMultisigUserData: {\r\n        privateKey,\r\n      },\r\n    },\r\n  } = getState()\r\n\r\n  const senderWallet = addressToWallet(from)\r\n\r\n  const { address, publicKeys } = senderWallet\r\n\r\n  const method = 'send_multisig'\r\n\r\n  let preparedFees\r\n  try {\r\n    preparedFees = await bitcoinUtils.prepareFees({\r\n      amount,\r\n      serviceFee,\r\n      feeValue,\r\n      speed,\r\n      method,\r\n      from: address,\r\n      to,\r\n      NETWORK\r\n    })\r\n  } catch (prepareFeesError) {\r\n    return {\r\n      error: prepareFeesError.message,\r\n    }\r\n  }\r\n  const {\r\n    fundValue,\r\n    skipValue,\r\n    feeFromAmount,\r\n    unspents,\r\n  } = preparedFees\r\n\r\n\r\n  let rawTx\r\n  try {\r\n    rawTx = await bitcoinUtils.prepareRawTx({\r\n      from: address,\r\n      to,\r\n      fundValue,\r\n      skipValue,\r\n      serviceFee,\r\n      feeFromAmount,\r\n      method,\r\n      unspents,\r\n      privateKey,\r\n      publicKeys,\r\n      network: btc.network,\r\n      NETWORK\r\n    })\r\n  } catch (prepareRawTxError) {\r\n    return {\r\n      error: prepareRawTxError.message,\r\n    }\r\n  }\r\n\r\n  return rawTx\r\n}\r\n\r\nconst getMSWalletByScript = async (script, myBtcWallets) => {\r\n  //@ts-ignore\r\n  if (!myBtcWallets) myBtcWallets = await getBtcMultisigKeys()\r\n  if (typeof script !== 'string') script = bitcoin.script.toASM( script )\r\n\r\n  const wallets = myBtcWallets.filter((wallet) => {\r\n    const keys = wallet.publicKeys.map(buf => buf.toString('hex')).join(` `)\r\n    const walletScript = `OP_2 ${keys} OP_2 OP_CHECKMULTISIG`\r\n\r\n    if (walletScript === script) {\r\n      return true\r\n    }\r\n  }).map((wallet) => {\r\n    const {\r\n      publicKeys,\r\n      publicKey,\r\n      address,\r\n      balance,\r\n    } = wallet\r\n\r\n    return {\r\n      publicKeys,\r\n      publicKey,\r\n      address,\r\n      balance,\r\n    }\r\n  })\r\n\r\n  return (wallets.length) ? wallets[0] : false\r\n}\r\n\r\nconst parseRawTX = async (txHash) => {\r\n  //@ts-ignore\r\n  const myBtcWallets = await getBtcMultisigKeys()\r\n  //@ts-ignore\r\n  const myBtcAddreses = myBtcWallets.map((wallet) => wallet.address)\r\n\r\n  const psbt = bitcoin.Psbt.fromHex(txHash)\r\n\r\n  const parsedTX = {\r\n    psbt,\r\n    input: [],\r\n    output: [],\r\n    from: false,\r\n    to: false,\r\n    out: {},\r\n    isOur: false,\r\n    amount: new BigNumber(0),\r\n  }\r\n\r\n  await new Promise((inputParsed) => {\r\n    psbt.data.inputs.forEach( async (input) => {\r\n      const { redeemScript } = input\r\n\r\n      const inputWallet = await getMSWalletByScript( redeemScript, myBtcWallets )\r\n      if (inputWallet) {\r\n        if (inputWallet.address) parsedTX.from = inputWallet.address\r\n        //@ts-ignore\r\n        parsedTX.wallet = inputWallet\r\n        parsedTX.isOur = true\r\n      }\r\n    })\r\n    inputParsed(true)\r\n  }).then(() => {\r\n    //@ts-ignore\r\n    psbt.data.globalMap.unsignedTx.tx.outs.forEach(async (out) => {\r\n      const address = bitcoin.address.fromOutputScript(out.script, btc.network)\r\n      if (!parsedTX.isOur) {\r\n        //@ts-ignore\r\n        const outWallet = myBtcWallets.filter((wallet) => wallet.address === address)\r\n\r\n        if (outWallet.length) {\r\n          if (outWallet[0].address) parsedTX.from = outWallet[0].address\r\n          //@ts-ignore\r\n          parsedTX.wallet = outWallet[0]\r\n          parsedTX.isOur = true\r\n        }\r\n      }\r\n      //@ts-ignore\r\n      if (parsedTX.from !== address) {\r\n        if (!parsedTX.out[address]) {\r\n          parsedTX.out[address] = {\r\n            to: address,\r\n            amount: new BigNumber(out.value).dividedBy(1e8).toNumber(),\r\n          }\r\n        } else {\r\n          parsedTX.out[address].amount = parsedTX.out[address].amount.plus(new BigNumber(out.value).dividedBy(1e8).toNumber())\r\n        }\r\n        parsedTX.amount = parsedTX.amount.plus(new BigNumber(out.value).dividedBy(1e8).toNumber())\r\n      }\r\n\r\n      parsedTX.output.push({\r\n        //@ts-ignore: strictNullChecks\r\n        address,\r\n        //@ts-ignore: strictNullChecks\r\n        valueSatoshi: out.value,\r\n        //@ts-ignore: strictNullChecks\r\n        value: new BigNumber(out.value).dividedBy(1e8).toNumber(),\r\n      })\r\n    })\r\n\r\n    if (Object.keys(parsedTX.out).length) {\r\n      parsedTX.to = parsedTX.out[Object.keys(parsedTX.out)[0]].to\r\n    }\r\n  })\r\n\r\n  console.log('parsedTX', parsedTX)\r\n  return parsedTX\r\n}\r\n\r\nconst signMofNByMnemonic = async (txHash, option_M, publicKeys, mnemonic, walletNumber, ownPath) => {\r\n  const mnemonicWallet = actions.btc.getWalletByWords(mnemonic, walletNumber, ownPath)\r\n  if (mnemonicWallet) {\r\n    console.log(mnemonicWallet)\r\n    console.log(txHash)\r\n    let txb = bitcoin.TransactionBuilder.fromTransaction(\r\n      bitcoin.Transaction.fromHex(txHash),\r\n      btc.network\r\n    )\r\n\r\n    console.log('p2ms', option_M, publicKeys.length, publicKeys)\r\n    const p2ms = bitcoin.payments.p2ms({\r\n      m: option_M,\r\n      n: publicKeys.length,\r\n      pubkeys: publicKeys,\r\n      network: btc.network,\r\n    })\r\n\r\n    const p2sh = bitcoin.payments.p2sh({ redeem: p2ms, network: btc.network })\r\n\r\n    console.log(txb)\r\n    //@ts-ignore\r\n    txb.__INPUTS.forEach((input, index) => {\r\n      //@ts-ignore: strictNullChecks\r\n      txb.sign(index, bitcoin.ECPair.fromWIF(mnemonicWallet.WIF, btc.network), p2sh.redeem.output)\r\n    })\r\n\r\n    let tx = await txb.build()\r\n    const txHex = tx.toHex()\r\n    return txHex\r\n  }\r\n}\r\n\r\nconst signMultiSign = async (txHash, wallet) => {\r\n  let {\r\n    user: {\r\n      btcMultisigUserData: {\r\n        privateKey,\r\n        publicKeys,\r\n      },\r\n    },\r\n  } = getState()\r\n\r\n  const psbt = bitcoin.Psbt.fromHex(txHash)\r\n\r\n  psbt.signAllInputs(bitcoin.ECPair.fromWIF(privateKey, btc.network))\r\n\r\n  psbt.finalizeAllInputs();\r\n\r\n  const rawTx = psbt.extractTransaction().toHex()\r\n\r\n  return rawTx\r\n}\r\n\r\nconst signPinMnemonic = (txHash, mnemonic) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    const mnemonicWallet = actions.btc.getWalletByWords(mnemonic, 1)\r\n    const psbt = bitcoin.Psbt.fromHex(txHash)\r\n\r\n    psbt.signAllInputs(bitcoin.ECPair.fromWIF(mnemonicWallet.WIF, btc.network))\r\n\r\n    psbt.finalizeAllInputs();\r\n\r\n    const rawTx = psbt.extractTransaction().toHex()\r\n\r\n    if (!rawTx) {\r\n      reject('rawTx empty')\r\n    } else {\r\n      resolve(rawTx)\r\n    }\r\n  })\r\n}\r\n\r\nconst signSmsMnemonicAndBuild = (txHash, mnemonic) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    const mnemonicWallet = actions.btc.getWalletByWords(mnemonic, 1)\r\n    const psbt = bitcoin.Psbt.fromHex(txHash)\r\n\r\n    psbt.signAllInputs(bitcoin.ECPair.fromWIF(mnemonicWallet.WIF, btc.network))\r\n\r\n    psbt.finalizeAllInputs();\r\n\r\n    const rawTx = psbt.extractTransaction().toHex()\r\n\r\n    if (!rawTx) {\r\n      reject('rawTx empty')\r\n    } else {\r\n      resolve(rawTx)\r\n    }\r\n  })\r\n}\r\n\r\nconst checkPinCanRestory = (mnemonic) => {\r\n  const mnemonicWallet = actions.btc.getWalletByWords(mnemonic, 1)\r\n  //@ts-ignore: strictNullChecks\r\n  let btcSmsMnemonicKey: MnemonicKey = localStorage.getItem(constants.privateKeyNames.btcSmsMnemonicKey)\r\n  \r\n  try {\r\n    //@ts-ignore: strictNullChecks\r\n    btcSmsMnemonicKey = JSON.parse(btcSmsMnemonicKey)\r\n  } catch (e) {\r\n    console.error(e)\r\n  }\r\n\r\n  if (btcSmsMnemonicKey instanceof Array && btcSmsMnemonicKey.length > 0) {\r\n    return btcSmsMnemonicKey.includes(mnemonicWallet.publicKey)\r\n  }\r\n  return false\r\n}\r\n\r\nconst checkPinMnemonic = (mnemonic) => {\r\n  const {\r\n    user: {\r\n      btcMultisigPinData: {\r\n        publicKeys,\r\n      },\r\n    },\r\n  } = getState()\r\n  const mnemonicWallet = actions.btc.getWalletByWords(mnemonic, 1)\r\n\r\n  if (mnemonicWallet) {\r\n    const matchedKeys = publicKeys.filter((key) => key.toString('Hex') === mnemonicWallet.publicKey)\r\n    return (matchedKeys.length > 0)\r\n  }\r\n  return false\r\n}\r\n\r\nconst checkSmsMnemonic = (mnemonic) => {\r\n  const {\r\n    user: {\r\n      btcMultisigSMSData: {\r\n        publicKeys,\r\n      },\r\n    },\r\n  } = getState()\r\n  const mnemonicWallet = actions.btc.getWalletByWords(mnemonic, 1)\r\n\r\n  if (mnemonicWallet) {\r\n    const matchedKeys = publicKeys.filter((key) => key.toString('Hex') === mnemonicWallet.publicKey)\r\n    return (matchedKeys.length > 0)\r\n  }\r\n  return false\r\n}\r\n\r\nconst fetchUnspents = (address) => {\r\n  const result: any = actions.btc.fetchUnspents(address)\r\n  return result\r\n}\r\n\r\nconst broadcastTx = (txRaw) => {\r\n  const result: any = actions.btc.broadcastTx(txRaw)\r\n  return result\r\n}\r\n\r\nconst signMessage = (message, encodedPrivateKey) => {\r\n  const keyPair = bitcoin.ECPair.fromWIF(encodedPrivateKey, [bitcoin.networks.bitcoin, bitcoin.networks.testnet])\r\n  //@ts-ignore\r\n  const privateKey = keyPair.d.toBuffer(32)\r\n\r\n  const signature = bitcoinMessage.sign(message, privateKey, keyPair.compressed)\r\n\r\n  return signature.toString('base64')\r\n}\r\n\r\nexport default {\r\n  // SMS Protected - outdated. Remove these actions\r\n  getBalance,\r\n  login_SMS,\r\n  checkG2FAActivated,\r\n  checkUserActivated,\r\n  getTransactionSMS,\r\n  sendSMSProtected,\r\n  confirmSMSProtected,\r\n  enableWalletSMS,\r\n  signSmsMnemonicAndBuild,\r\n  checkSmsMnemonic,\r\n  getSmsKeyFromMnemonic,\r\n\r\n  // Pin protected\r\n  isPinRegistered,\r\n  login_PIN,\r\n  registerPinWallet,\r\n  checkPINActivated,\r\n  addPinWallet,\r\n  getBalancePin,\r\n  sendPinProtected,\r\n  checkPinMnemonic,\r\n  signPinMnemonic,\r\n  checkPinCanRestory,\r\n  getTransactionPIN,\r\n\r\n  // User multisig\r\n  login_USER,\r\n  getBalanceUser,\r\n  getTransaction,\r\n  getTransactionUser,\r\n\r\n  send,\r\n\r\n  fetchUnspents,\r\n  broadcastTx,\r\n  broadcastTX2Room,\r\n  fetchTx,\r\n  fetchTxInfo,\r\n  fetchBalance,\r\n  signMessage,\r\n  enableWalletUSER,\r\n\r\n  parseRawTX,\r\n  signMultiSign,\r\n\r\n  onUserMultisigJoin,\r\n  onUserMultisigSend,\r\n  getInvoicesUser,\r\n\r\n  getBtcMultisigKeys,\r\n  addBtcMultisigKey,\r\n  removeBtcMultisigNey,\r\n  switchBtcMultisigKey,\r\n\r\n  fetchMultisigBalances,\r\n\r\n  isBTCMSUserAddress,\r\n  signToUserMultisig,\r\n\r\n  // common\r\n  getAddrBalance,\r\n  addressToWallet,\r\n\r\n  // Google 2fa (draft not implements)\r\n  login_G2FA,\r\n  getBalanceG2FA,\r\n  getTransactionG2FA,\r\n  enableWalletG2FA,\r\n}\r\n","import Web3 from 'web3'\r\nimport { BigNumber } from 'bignumber.js'\r\nimport { getState } from 'redux/core'\r\nimport actions from 'redux/actions'\r\nimport reducers from 'redux/core/reducers'\r\nimport DEFAULT_CURRENCY_PARAMETERS from 'common/helpers/constants/DEFAULT_CURRENCY_PARAMETERS'\r\nimport EVM_CONTRACTS_ABI from 'common/helpers/constants/EVM_CONTRACTS_ABI'\r\nimport ethLikeHelper from 'common/helpers/ethLikeHelper'\r\nimport * as mnemonicUtils from 'common/utils/mnemonic'\r\nimport typeforce from 'swap.app/util/typeforce'\r\nimport externalConfig from 'helpers/externalConfig'\r\nimport metamask from 'helpers/metamask'\r\nimport { feedback, constants, cacheStorageGet, cacheStorageSet, apiLooper } from 'helpers'\r\n\r\n// use an ethereum private key for EVM compatible blockchains\r\nconst EVM_PRIVATE_KEY = 'eth'\r\n\r\nclass EthLikeAction {\r\n  readonly coinName: string\r\n\r\n  readonly ticker: string // upper case (ex. ETH)\r\n\r\n  readonly tickerKey: string // lower case (ex. eth)\r\n\r\n  readonly privateKeyName: string = EVM_PRIVATE_KEY\r\n\r\n  readonly explorerApiName: string\r\n\r\n  readonly explorerLink: string\r\n\r\n  readonly explorerApiKey: string\r\n\r\n  readonly chainId: string\r\n\r\n  readonly adminFeeObj: {\r\n    fee: string // percent of amount\r\n    address: string // where to send\r\n    min: string // min amount\r\n  }\r\n\r\n  readonly Web3: IUniversalObj\r\n\r\n  private cache = new Map([['addressIsContract', {}]])\r\n\r\n  constructor(options) {\r\n    const {\r\n      coinName,\r\n      ticker,\r\n      chainId,\r\n      explorerApiName,\r\n      explorerLink,\r\n      explorerApiKey,\r\n      adminFeeObj,\r\n      web3,\r\n    } = options\r\n\r\n    this.coinName = coinName\r\n    this.ticker = ticker\r\n    this.chainId = chainId\r\n    this.tickerKey = ticker.toLowerCase()\r\n    this.explorerApiName = explorerApiName\r\n    this.explorerLink = explorerLink\r\n    this.explorerApiKey = explorerApiKey\r\n    this.adminFeeObj = adminFeeObj\r\n    this.Web3 = web3\r\n  }\r\n\r\n  getCurrentWeb3 = () => metamask.getWeb3() || this.Web3\r\n\r\n  getWeb3 = () => this.getCurrentWeb3()\r\n\r\n  reportError = (error, details = '') => {\r\n    feedback.actions.failed(\r\n      ''.concat(\r\n        `Details => ticker: ${this.ticker}`,\r\n        details ? `, ${details}` : '',\r\n        ` | Error - ${error} `,\r\n      ),\r\n    )\r\n    console.group(`Actions >%c ${this.ticker}`, 'color: red;')\r\n    console.error('error: ', error)\r\n    console.groupEnd()\r\n  }\r\n\r\n  getPrivateKeyByAddress = (address) => {\r\n    const { user } = getState()\r\n    const currencyData = user[`${this.tickerKey}Data`]\r\n\r\n    if (currencyData.address === address) return currencyData.privateKey\r\n  }\r\n\r\n  getInvoices = () => {\r\n    const { address } = getState().user[`${this.tickerKey}Data`]\r\n\r\n    return actions.invoices.getInvoices({\r\n      currency: this.ticker,\r\n      address,\r\n    })\r\n  }\r\n\r\n  getTx = (txRaw) => txRaw.transactionHash\r\n\r\n  getTxRouter = (txId) => `/${this.tickerKey}/tx/${txId}`\r\n\r\n  getLinkToInfo = (tx) => {\r\n    if (!tx) return\r\n    return `${this.explorerLink}/tx/${tx}`\r\n  }\r\n\r\n  fetchBalance = (address): Promise<number> => {\r\n    const Web3 = this.getCurrentWeb3()\r\n    return Web3.eth\r\n      .getBalance(address)\r\n      .then((result) => Number(Web3.utils.fromWei(result)))\r\n      .catch((error) => console.error(error))\r\n  }\r\n\r\n  fetchTxInfo = (hash) => {\r\n    const Web3 = this.getCurrentWeb3()\r\n    return new Promise((res, rej) => {\r\n      Web3.eth.getTransaction(hash)\r\n        .then((tx) => {\r\n          if (!tx) return res(null)\r\n\r\n          const { from, to, value, gas, gasPrice, blockHash } = tx\r\n\r\n          const amount = Web3.utils.fromWei(value)\r\n          const minerFee = new BigNumber(Web3.utils.toBN(gas).toNumber())\r\n            .multipliedBy(Web3.utils.toBN(gasPrice).toNumber())\r\n            .dividedBy(1e18)\r\n            .toNumber()\r\n\r\n          let adminFee: number | false = false\r\n\r\n          if (this.adminFeeObj && to !== this.adminFeeObj.address) {\r\n            const feeFromUsersAmount = new BigNumber(this.adminFeeObj.fee)\r\n              .dividedBy(100)\r\n              .multipliedBy(amount)\r\n\r\n            if (new BigNumber(this.adminFeeObj.min).isGreaterThan(feeFromUsersAmount)) {\r\n              adminFee = new BigNumber(this.adminFeeObj.min).toNumber()\r\n            } else {\r\n              adminFee = feeFromUsersAmount.toNumber()\r\n            }\r\n          }\r\n\r\n          res({\r\n            amount,\r\n            afterBalance: null,\r\n            receiverAddress: to,\r\n            senderAddress: from,\r\n            minerFee,\r\n            minerFeeCurrency: this.ticker,\r\n            adminFee,\r\n            confirmed: blockHash !== null,\r\n          })\r\n        })\r\n        .catch((error) => rej(error))\r\n    })\r\n  }\r\n\r\n  login = (privateKey, mnemonic = '') => {\r\n\r\n    const Web3 = this.getCurrentWeb3()\r\n    let data\r\n\r\n    if (privateKey) {\r\n      data = Web3.eth.accounts.privateKeyToAccount(privateKey)\r\n    } else {\r\n      if (!mnemonic) {\r\n        mnemonic = mnemonicUtils.getRandomMnemonicWords()\r\n      }\r\n\r\n      const accData = this.getWalletByWords(mnemonic)\r\n\r\n      privateKey = accData.privateKey\r\n      data = Web3.eth.accounts.privateKeyToAccount(privateKey)\r\n      localStorage.setItem(constants.privateKeyNames[`${this.privateKeyName}Mnemonic`], privateKey)\r\n\r\n    }\r\n\r\n    localStorage.setItem(constants.privateKeyNames[this.privateKeyName], data.privateKey)\r\n\r\n    Web3.eth.accounts.wallet.add(data.privateKey)\r\n\r\n    reducers.user.setAuthData({ name: `${this.tickerKey}Data`, data })\r\n\r\n    return data.privateKey\r\n  }\r\n\r\n  getBalance = (): Promise<number> => {\r\n    const address = metamask.isEnabled() && metamask.isConnected()\r\n      ? metamask.getAddress()\r\n      : getState().user[`${this.tickerKey}Data`].address\r\n\r\n    const balanceInCache = cacheStorageGet('currencyBalances', `${this.tickerKey}_${address}`)\r\n\r\n    if (balanceInCache !== false) {\r\n      reducers.user.setBalance({\r\n        name: `${this.tickerKey}Data`,\r\n        amount: balanceInCache,\r\n      })\r\n      return balanceInCache\r\n    }\r\n\r\n    return this.fetchBalance(address)\r\n      .then((balance) => {\r\n        cacheStorageSet('currencyBalances', `${this.tickerKey}_${address}`, balance, 30)\r\n        reducers.user.setBalance({\r\n          name: `${this.tickerKey}Data`,\r\n          amount: balance,\r\n        })\r\n        return balance\r\n      })\r\n      .catch((error) => {\r\n        console.error(error)\r\n        reducers.user.setBalanceError({ name: `${this.tickerKey}Data` })\r\n        return 0\r\n      })\r\n  }\r\n\r\n  getAllMyAddresses = () => {\r\n    const { user } = getState()\r\n    const arrOfAddresses: string[] = []\r\n    const dataAddress = user[`${this.tickerKey}Data`]?.address || ''\r\n    const metamaskAddress: string = (\r\n      metamask && metamask.isEnabled() && metamask.isConnected() && metamask.getAddress()\r\n    ) || ''\r\n\r\n    if (dataAddress) {\r\n      arrOfAddresses.push(dataAddress.toLowerCase())\r\n    }\r\n\r\n    if (metamaskAddress && !arrOfAddresses.includes(metamaskAddress.toLowerCase())) {\r\n      arrOfAddresses.push(metamaskAddress.toLowerCase())\r\n    }\r\n\r\n    return arrOfAddresses\r\n  }\r\n\r\n  getTransaction = (address = ``, ownType = ``) => {\r\n    const ownerAddress = getState().user[`${this.tickerKey}Data`].address\r\n    address = address || ownerAddress\r\n\r\n    type ResponseItem = {\r\n      value: number\r\n      to: string\r\n      hash: string\r\n    }\r\n\r\n    return new Promise((resolve) => {\r\n      if (\r\n        // some blockchains don't have API\r\n        // don't show console errors in these cases\r\n        !this.explorerApiKey\r\n        || !typeforce.isCoinAddress[this.ticker](address)\r\n      ) {\r\n        resolve([])\r\n      }\r\n\r\n      if (this.explorerApiName === ``) {\r\n        resolve([])\r\n        return\r\n      }\r\n\r\n      const internalUrl = `?module=account&action=txlistinternal&address=${address}&startblock=0&endblock=99999999&sort=asc&apikey=${this.explorerApiKey}`\r\n      const url = `?module=account&action=txlist&address=${address}&startblock=0&endblock=99999999&sort=asc&apikey=${this.explorerApiKey}`\r\n\r\n      apiLooper\r\n        .get(this.explorerApiName, internalUrl)\r\n        .then((response: any) => {\r\n          if (Array.isArray(response?.result)) {\r\n            const internals: ResponseItem[] = []\r\n\r\n            response.result.forEach((item: ResponseItem) => {\r\n              const { value, to, hash } = item\r\n\r\n              internals[hash] = {\r\n                value,\r\n                to,\r\n              }\r\n            })\r\n\r\n            apiLooper\r\n              .get(this.explorerApiName, url)\r\n              .then((response: any) => {\r\n                if (Array.isArray(response.result)) {\r\n                  const transactions = this.formatTransactions({\r\n                    address,\r\n                    txs: response.result,\r\n                    internalTxs: internals,\r\n                    currencyName: ownType || this.tickerKey,\r\n                  })\r\n\r\n                  resolve(transactions)\r\n                } else {\r\n                  resolve([])\r\n                }\r\n              })\r\n              .catch((error) => {\r\n                this.reportError(error, 'part: getTransaction')\r\n                resolve([])\r\n              })\r\n          } else {\r\n            resolve([])\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          resolve([])\r\n        })\r\n    })\r\n  }\r\n\r\n  formatTransactions = (params) => {\r\n    const { address, txs, internalTxs, currencyName } = params\r\n\r\n    const Web3 = this.getCurrentWeb3()\r\n    const ownerAddress = getState().user[`${this.tickerKey}Data`].address\r\n\r\n    return txs\r\n      .filter(\r\n        (item) => item.value > 0 || (internalTxs[item.hash] && internalTxs[item.hash].value > 0),\r\n      ).map((item) => ({\r\n        type: currencyName,\r\n        confirmations: item.confirmations,\r\n        hash: item.hash,\r\n        status: item.blockHash ? 1 : 0,\r\n        value: Web3.utils.fromWei(\r\n          internalTxs[item.hash] && internalTxs[item.hash].value > 0\r\n            ? internalTxs[item.hash].value\r\n            : item.value,\r\n        ),\r\n        address: item.to,\r\n        canEdit: address === ownerAddress,\r\n        date: item.timeStamp * 1000,\r\n        direction:\r\n          (internalTxs[item.hash]\r\n            && address.toLowerCase() === internalTxs[item.hash].to.toLowerCase())\r\n          || address.toLowerCase() === item.to.toLowerCase()\r\n            ? 'in'\r\n            : 'out',\r\n      }))\r\n      .filter((item) => {\r\n        if (\r\n          item.direction === 'out'\r\n          && item.address.toLowerCase() === this.adminFeeObj?.address?.toLowerCase()\r\n        ) {\r\n          return false\r\n        }\r\n\r\n        return true\r\n      })\r\n  }\r\n\r\n  getWalletByWords = (mnemonic: string, walletNumber = 0, path = '') => (\r\n    mnemonicUtils.getEthLikeWallet({ mnemonic, walletNumber, path })\r\n  )\r\n\r\n  checkSwapExists = async (params) => {\r\n    const { ownerAddress, participantAddress } = params\r\n    const Web3 = this.getCurrentWeb3()\r\n    const swapContract = new Web3.eth.Contract(EVM_CONTRACTS_ABI.NATIVE_COIN_SWAP, externalConfig.swapContract[this.tickerKey])\r\n\r\n    const swap = await swapContract.methods.swaps(ownerAddress, participantAddress).call()\r\n    const balance = swap && swap.balance ? parseInt(swap.balance, 10) : 0\r\n\r\n    return balance > 0\r\n  }\r\n\r\n  estimateGas = async (txData): Promise<string> => {\r\n    const web3 = this.getCurrentWeb3()\r\n    const multiplierForGasReserve = 1.05\r\n\r\n    try {\r\n      const limit = await web3.eth.estimateGas(txData)\r\n      const hexLimitWithPercentForSuccess = new BigNumber(\r\n        new BigNumber(limit).multipliedBy(multiplierForGasReserve).toFixed(0),\r\n      ).toString(16)\r\n\r\n      return `0x${hexLimitWithPercentForSuccess}`\r\n    } catch (error) {\r\n      this.reportError(error, 'estimateGas')\r\n\r\n      return error\r\n    }\r\n  }\r\n\r\n  isValidGasLimit = (limit) => (\r\n    typeof limit === 'number'\r\n    || (typeof limit === 'string' && limit.match(/^0x[0-9a-f]+$/i))\r\n  )\r\n\r\n  send = async (params): Promise<{ transactionHash: string } | Error> => {\r\n    const { to, amount = 0, gasLimit: customGasLimit, speed, data, waitReceipt = false } = params\r\n    let { gasPrice } = params\r\n\r\n    const Web3 = this.getCurrentWeb3()\r\n    const ownerAddress = metamask.isConnected() ? metamask.getAddress() : getState().user[`${this.tickerKey}Data`].address\r\n    const recipientIsContract = await this.isContract(to)\r\n\r\n    gasPrice = gasPrice || (await ethLikeHelper[this.tickerKey].estimateGasPrice({ speed }))\r\n\r\n    const defaultGasLimitKey = externalConfig?.L2_EVM_KEYS?.includes(this.tickerKey) ? this.tickerKey : 'evmLike'\r\n    const defaultGasLimit = recipientIsContract\r\n      ? DEFAULT_CURRENCY_PARAMETERS[defaultGasLimitKey].limit.contractInteract\r\n      : DEFAULT_CURRENCY_PARAMETERS[defaultGasLimitKey].limit.send\r\n\r\n    let sendMethod = Web3.eth.sendTransaction\r\n    let txData: any = {\r\n      data: data || undefined,\r\n      from: Web3.utils.toChecksumAddress(ownerAddress),\r\n      to: to.trim(),\r\n      gasPrice,\r\n      value: Web3.utils.toHex(Web3.utils.toWei(String(amount), 'ether')),\r\n    }\r\n\r\n    if (customGasLimit) {\r\n      txData.gas = customGasLimit\r\n    } else {\r\n      const result: any = await this.estimateGas(txData)\r\n\r\n      // the calculation failed which means this transaction\r\n      // will be failed in the blockchain\r\n      if (result instanceof Error) return result\r\n\r\n      if (this.isValidGasLimit(result)) {\r\n        txData.gas = result\r\n      } else {\r\n        txData.gas = defaultGasLimit\r\n      }\r\n    }\r\n\r\n    const privateKey = this.getPrivateKeyByAddress(ownerAddress)\r\n    const walletData = actions.core.getWallet({\r\n      address: ownerAddress,\r\n      currency: this.ticker,\r\n    })\r\n\r\n    if (!walletData?.isMetamask) {\r\n      const signedData = await Web3.eth.accounts.signTransaction(txData, privateKey)\r\n\r\n      txData = signedData.rawTransaction\r\n      sendMethod = Web3.eth.sendSignedTransaction\r\n    }\r\n\r\n    return new Promise((res, rej) => {\r\n      sendMethod(txData)\r\n        .on('transactionHash', (hash) => {\r\n          reducers.transactions.addTransactionToQueue({\r\n            networkCoin: this.ticker,\r\n            hash,\r\n          })\r\n\r\n          if (!waitReceipt) {\r\n            res({ transactionHash: hash })\r\n          }\r\n        })\r\n        .on('receipt', (receipt) => {\r\n          if (waitReceipt) res(receipt)\r\n\r\n          if (this.adminFeeObj && !walletData.isMetamask) {\r\n            this.sendAdminTransaction({\r\n              from: Web3.utils.toChecksumAddress(ownerAddress),\r\n              amount,\r\n              gasPrice,\r\n              defaultGasLimit,\r\n            })\r\n          }\r\n        })\r\n        .on('error', (error) => rej(error))\r\n    })\r\n  }\r\n\r\n  sendAdminTransaction = async (params) => {\r\n    const {\r\n      from,\r\n      amount,\r\n      gasPrice,\r\n      defaultGasLimit,\r\n      externalAdminFeeObj,\r\n    } = params\r\n    const adminObj = externalAdminFeeObj || this.adminFeeObj\r\n    const minAmount = new BigNumber(adminObj.min)\r\n    const Web3 = this.getCurrentWeb3()\r\n\r\n    let feeFromUsersAmount = new BigNumber(adminObj.fee)\r\n      .dividedBy(100) // 100 %\r\n      .multipliedBy(amount)\r\n      .toNumber()\r\n\r\n    if (minAmount.isGreaterThan(feeFromUsersAmount)) {\r\n      feeFromUsersAmount = minAmount.toNumber()\r\n    }\r\n\r\n    const remainingBalance = await this.fetchBalance(from)\r\n\r\n    if (new BigNumber(remainingBalance).isLessThan(feeFromUsersAmount)) {\r\n      return\r\n    }\r\n\r\n    const txData = {\r\n      from: Web3.utils.toChecksumAddress(from),\r\n      to: adminObj.address.trim(),\r\n      gasPrice,\r\n      gas: '0x00',\r\n      value: Web3.utils.toHex(\r\n        Web3.utils.toWei(String(feeFromUsersAmount),\r\n          'ether',\r\n        )),\r\n    }\r\n\r\n    const limit = await this.estimateGas(txData)\r\n\r\n    if (this.isValidGasLimit(limit)) {\r\n      txData.gas = limit\r\n    } else {\r\n      txData.gas = defaultGasLimit\r\n    }\r\n\r\n    return this.sendReadyTransaction({ data: txData, toAdmin: true })\r\n  }\r\n\r\n  sendReadyTransaction = async (params) => {\r\n    const { waitReceipt = false, toAdmin = false } = params\r\n    let { data } = params\r\n\r\n    const Web3 = this.getCurrentWeb3()\r\n    const ownerAddress = metamask.isConnected()\r\n      ? metamask.getAddress()\r\n      : getState().user[`${this.tickerKey}Data`].address\r\n\r\n    let sendMethod = Web3.eth.sendTransaction\r\n\r\n    const walletData = actions.core.getWallet({\r\n      address: ownerAddress,\r\n      currency: this.ticker,\r\n    })\r\n\r\n    if (!walletData?.isMetamask) {\r\n      const privateKey = this.getPrivateKeyByAddress(ownerAddress)\r\n      const signedData = await Web3.eth.accounts.signTransaction(data, privateKey)\r\n\r\n      data = signedData.rawTransaction\r\n      sendMethod = Web3.eth.sendSignedTransaction\r\n    }\r\n\r\n    return new Promise((res, rej) => {\r\n      sendMethod(data)\r\n        .on('receipt', (receipt) => {\r\n          if (waitReceipt) res(receipt)\r\n        })\r\n        .on('transactionHash', (hash) => {\r\n          console.group('%c tx hash', 'color: green;')\r\n          console.log(hash)\r\n          console.groupEnd()\r\n          if (!toAdmin && !waitReceipt) {\r\n            reducers.transactions.addTransactionToQueue({\r\n              networkCoin: this.ticker,\r\n              hash,\r\n            })\r\n          }\r\n\r\n          if (!waitReceipt) res(hash)\r\n        })\r\n        .on('error', (error) => {\r\n          const isRejected = JSON.stringify(error).match(/([Dd]enied transaction|[Cc]ance(ll|l)ed)/)\r\n\r\n          if (!isRejected) {\r\n            this.reportError(error, 'part: sendReadyTransaction')\r\n          }\r\n\r\n          rej(error)\r\n        })\r\n    })\r\n  }\r\n\r\n  isContract = async (address: string): Promise<boolean> => {\r\n    const lowerAddress = address.toLowerCase()\r\n    const contractsList = this.cache.get('addressIsContract') || {}\r\n\r\n    if (contractsList && contractsList[lowerAddress]) {\r\n      return contractsList[lowerAddress]\r\n    }\r\n\r\n    const Web3 = this.getCurrentWeb3()\r\n\r\n    try {\r\n      const codeAtAddress = await Web3.eth.getCode(address)\r\n\r\n      const codeIsEmpty = !codeAtAddress || codeAtAddress === '0x' || codeAtAddress === '0x0'\r\n\r\n      contractsList[lowerAddress] = !codeIsEmpty\r\n\r\n      return !codeIsEmpty\r\n    } catch (err) {\r\n      return false\r\n    }\r\n  }\r\n}\r\n\r\nconst providers = externalConfig.web3\r\n\r\nconst INFURA_API_KEY =  (window && window.SO_INFURA_API_KEY) ? window.SO_INFURA_API_KEY : externalConfig.api.InfuraApiKey\r\nproviders.provider = providers.provider.replace(`{INFURA_API_KEY}`, INFURA_API_KEY)\r\n\r\nexport default {\r\n  ETH: new EthLikeAction({\r\n    coinName: 'Ethereum',\r\n    ticker: 'ETH',\r\n    chainId: externalConfig.evmNetworks.ETH.chainId,\r\n    explorerApiName: 'etherscan',\r\n    explorerApiKey: externalConfig.api.etherscan_ApiKey,\r\n    explorerLink: externalConfig.link.etherscan,\r\n    adminFeeObj: externalConfig.opts?.fee?.eth,\r\n    web3: new Web3(providers.provider),\r\n  }),\r\n  // use an ethereum private key for EVM compatible blockchains\r\n  BNB: new EthLikeAction({\r\n    coinName: 'Binance Coin',\r\n    ticker: 'BNB',\r\n    chainId: externalConfig.evmNetworks.BNB.chainId,\r\n    explorerApiName: 'bscscan',\r\n    explorerApiKey: externalConfig.api.bscscan_ApiKey,\r\n    explorerLink: externalConfig.link.bscscan,\r\n    adminFeeObj: externalConfig.opts?.fee?.bnb,\r\n    web3: new Web3(providers.binance_provider),\r\n  }),\r\n  MATIC: new EthLikeAction({\r\n    coinName: 'MATIC Token',\r\n    ticker: 'MATIC',\r\n    chainId: externalConfig.evmNetworks.MATIC.chainId,\r\n    explorerApiName: 'maticscan',\r\n    explorerApiKey: externalConfig.api.polygon_ApiKey,\r\n    explorerLink: externalConfig.link.maticscan,\r\n    adminFeeObj: externalConfig.opts?.fee?.matic,\r\n    web3: new Web3(providers.matic_provider),\r\n  }),\r\n  ARBETH: new EthLikeAction({\r\n    coinName: 'Arbitrum ETH',\r\n    ticker: 'ARBETH',\r\n    chainId: externalConfig.evmNetworks.ARBETH.chainId,\r\n    explorerApiName: 'rinkeby-explorer',\r\n    explorerApiKey: '',\r\n    explorerLink: externalConfig.link.arbitrum,\r\n    adminFeeObj: externalConfig.opts?.fee?.arbeth,\r\n    web3: new Web3(providers.arbitrum_provider),\r\n  }),\r\n  XDAI: new EthLikeAction({\r\n    coinName: 'xDai',\r\n    ticker: 'XDAI',\r\n    chainId: externalConfig.evmNetworks.XDAI.chainId,\r\n    explorerApiName: '', // needs for show transactions\r\n    explorerApiKey: '',\r\n    explorerLink: externalConfig.link.xdai,\r\n    adminFeeObj: externalConfig.opts?.fee?.xdai,\r\n    web3: new Web3(providers.xdai_provider),\r\n  }),\r\n  FTM: new EthLikeAction({\r\n    coinName: 'Fantom',\r\n    ticker: 'FTM',\r\n    chainId: externalConfig.evmNetworks.FTM.chainId,\r\n    explorerApiName: 'ftmscan',\r\n    explorerApiKey: externalConfig.api.ftm_ApiKey,\r\n    explorerLink: externalConfig.link.ftmscan,\r\n    adminFeeObj: externalConfig.opts?.fee?.ftm,\r\n    web3: new Web3(providers.ftm_provider),\r\n  }),\r\n  AVAX: new EthLikeAction({\r\n    coinName: 'Avalanche',\r\n    ticker: 'AVAX',\r\n    chainId: externalConfig.evmNetworks.AVAX.chainId,\r\n    explorerApiName: 'avaxscan',\r\n    explorerApiKey: externalConfig.api.avax_ApiKey,\r\n    explorerLink: externalConfig.link.avaxscan,\r\n    adminFeeObj: externalConfig.opts?.fee?.avax,\r\n    web3: new Web3(providers.avax_provider),\r\n  }),\r\n  MOVR: new EthLikeAction({\r\n    coinName: 'Moonriver',\r\n    ticker: 'MOVR',\r\n    chainId: externalConfig.evmNetworks.MOVR.chainId,\r\n    explorerApiName: 'movrscan',\r\n    explorerApiKey: externalConfig.api.movr_ApiKey,\r\n    explorerLink: externalConfig.link.movrscan,\r\n    adminFeeObj: externalConfig.opts?.fee?.movr,\r\n    web3: new Web3(providers.movr_provider),\r\n  }),\r\n  ONE: new EthLikeAction({\r\n    coinName: 'Harmony One',\r\n    ticker: 'ONE',\r\n    chainId: externalConfig.evmNetworks.ONE.chainId,\r\n    explorerApiName: 'onescan',\r\n    explorerApiKey: externalConfig.api.one_ApiKey,\r\n    explorerLink: externalConfig.link.oneExplorer,\r\n    adminFeeObj: externalConfig.opts?.fee?.one,\r\n    web3: new Web3(providers.one_provider),\r\n  }),\r\n  AURETH: new EthLikeAction({\r\n    coinName: 'Aurora ETH',\r\n    ticker: 'AURETH',\r\n    chainId: externalConfig.evmNetworks.AURETH.chainId,\r\n    explorerApiName: 'aurorascan',\r\n    explorerApiKey: externalConfig.api.aurora_ApiKey,\r\n    explorerLink: externalConfig.link.auroraExplorer,\r\n    adminFeeObj: externalConfig.opts?.fee?.aureth,\r\n    web3: new Web3(providers.aurora_provider),\r\n  }),\r\n  PHI_V1: new EthLikeAction({\r\n    coinName: 'PHI_V1',\r\n    ticker: 'PHI_V1',\r\n    chainId: externalConfig.evmNetworks.PHI_V1.chainId,\r\n    explorerApiName: ``, //   -   \r\n    explorerApiKey: externalConfig.api?.phi_ApiKey,\r\n    explorerLink: externalConfig.link.phi_v1Explorer,\r\n    adminFeeObj: externalConfig.opts?.fee?.phi_v1,\r\n    web3: new Web3(providers.phi_v1_provider),\r\n  }),\r\n  PHI: new EthLikeAction({\r\n    coinName: 'PHI',\r\n    ticker: 'PHI',\r\n    chainId: externalConfig.evmNetworks.PHI.chainId,\r\n    explorerApiName: 'phiscan', // ???\r\n    explorerApiKey: 'not_needed_apikey',\r\n    explorerLink: externalConfig.link.phi_Explorer,\r\n    adminFeeObj: externalConfig.opts?.fee?.phi,\r\n    web3: new Web3(providers.phi_provider),\r\n  }),\r\n  FKW: new EthLikeAction({\r\n    coinName: 'FKW',\r\n    ticker: 'FKW',\r\n    chainId: externalConfig.evmNetworks.FKW.chainId,\r\n    explorerApiName: 'fkwscan', // ???\r\n    explorerApiKey: 'api-no-key',\r\n    explorerLink: externalConfig.link.fkw_Explorer,\r\n    adminFeeObj: externalConfig.opts?.fee?.fkw,\r\n    web3: new Web3(providers.fkw_provider),\r\n  }),\r\n  PHPX: new EthLikeAction({\r\n    coinName: 'PHPX',\r\n    ticker: 'PHPX',\r\n    chainId: externalConfig.evmNetworks.PHPX.chainId,\r\n    explorerApiName: 'phpxscan',\r\n    explorerApiKey: 'api-no-key',\r\n    explorerLink: externalConfig.link.phpx_Explorer,\r\n    adminFeeObj: externalConfig.opts?.fee?.phpx,\r\n    web3: new Web3(providers.phpx_provider),\r\n  }),\r\n  AME: new EthLikeAction({\r\n    coinName: 'AME',\r\n    ticker: 'AME',\r\n    chainId: externalConfig.evmNetworks.AME.chainId,\r\n    explorerApiName: 'amescan',\r\n    explorerApiKey: externalConfig.api.ame_ApiKey,\r\n    explorerLink: externalConfig.link.amescan,\r\n    adminFeeObj: externalConfig.opts?.fee?.ame,\r\n    web3: new Web3(providers.ame_provider),\r\n  }),\r\n}\r\n","import Web3 from 'web3'\r\nimport InputDataDecoder from 'ethereum-input-data-decoder'\r\nimport TokenAbi from 'human-standard-token-abi'\r\nimport { BigNumber } from 'bignumber.js'\r\nimport { getState } from 'redux/core'\r\nimport actions from 'redux/actions'\r\nimport reducers from 'redux/core/reducers'\r\nimport DEFAULT_CURRENCY_PARAMETERS from 'common/helpers/constants/DEFAULT_CURRENCY_PARAMETERS'\r\nimport EVM_CONTRACTS_ABI from 'common/helpers/constants/EVM_CONTRACTS_ABI'\r\nimport TOKEN_STANDARDS, { EXISTING_STANDARDS } from 'helpers/constants/TOKEN_STANDARDS'\r\nimport ethLikeHelper from 'common/helpers/ethLikeHelper'\r\nimport erc20Like from 'common/erc20Like'\r\nimport { apiLooper, constants, cacheStorageGet, cacheStorageSet, feedback } from 'helpers'\r\nimport externalConfig from 'helpers/externalConfig'\r\nimport metamask from 'helpers/metamask'\r\nimport getCoinInfo from 'common/coins/getCoinInfo'\r\n\r\nconst NETWORK = process.env.MAINNET ? 'mainnet' : 'testnet'\r\nconst Decoder = new InputDataDecoder(TokenAbi)\r\n\r\n\r\nclass Erc20LikeAction {\r\n  readonly currency: string\r\n  readonly currencyKey: string\r\n  readonly standard: string // (ex. erc20, bep20, ...)\r\n  readonly explorerApiName: string\r\n  readonly explorerLink: string\r\n  readonly explorerApiKey: string\r\n  readonly adminFeeObj: {\r\n    fee: string // percent of amount\r\n    address: string // where to send\r\n    min: string // min amount\r\n  }\r\n  private Web3: IUniversalObj\r\n\r\n  constructor(params) {\r\n    const {\r\n      currency,\r\n      standard,\r\n      explorerApiName,\r\n      explorerLink,\r\n      explorerApiKey,\r\n      adminFeeObj,\r\n      web3,\r\n    } = params\r\n\r\n    this.currency = currency\r\n    this.currencyKey = currency.toLowerCase()\r\n    this.standard = standard\r\n    this.explorerApiName = explorerApiName\r\n    this.explorerLink = explorerLink\r\n    this.explorerApiKey = explorerApiKey\r\n    this.adminFeeObj = adminFeeObj\r\n    this.Web3 = web3\r\n  }\r\n\r\n  reportError = (error, details = '') => {\r\n    feedback.actions.failed(\r\n      ''.concat(\r\n        `Details => standard: ${this.standard}`,\r\n        details ? `, ${details}` : '',\r\n        ` | Error message - ${error.message} `\r\n      )\r\n    )\r\n    console.group(`Actions >%c ${this.standard}`, 'color: red;')\r\n    console.error('error: ', error)\r\n    console.groupEnd()\r\n  }\r\n\r\n  getCurrentWeb3 = () => metamask.getWeb3() || this.Web3\r\n\r\n  getTokenContract = (contractAddr) => {\r\n    const web3 = this.getCurrentWeb3()\r\n\r\n    return new web3.eth.Contract(TokenAbi, contractAddr)\r\n  }\r\n\r\n  addToken = (params) => {\r\n    const { standard, contractAddr, symbol, decimals, baseCurrency } = params\r\n    const customTokens = this.getCustomTokensConfig()\r\n    const privateKey = localStorage.getItem(constants.privateKeyNames[baseCurrency])\r\n\r\n    if (!customTokens[NETWORK][standard]) customTokens[NETWORK][standard] = {} // TODO: add migration when add some chain and standard\r\n\r\n    customTokens[NETWORK][standard][contractAddr] = {\r\n      address: contractAddr,\r\n      symbol,\r\n      decimals,\r\n      baseCurrency,\r\n      standard: this.standard,\r\n    }\r\n\r\n    localStorage.setItem(constants.localStorage.customToken, JSON.stringify(customTokens))\r\n    this.login(privateKey, contractAddr, symbol, decimals, symbol)\r\n  }\r\n\r\n  getInfoAboutToken = async (contractAddress) => {\r\n    const isContract = await actions[this.currencyKey].isContract(contractAddress)\r\n\r\n    try {      \r\n      if (isContract) {\r\n        const Web3 = await actions[this.currencyKey].getCurrentWeb3()\r\n        const contract = new Web3.eth.Contract(TokenAbi, contractAddress)\r\n\r\n        const name = await contract.methods.name().call()\r\n        const symbol = await contract.methods.symbol().call()\r\n        const decimals = await contract.methods.decimals().call()\r\n  \r\n        return {\r\n          name,\r\n          symbol,\r\n          decimals: Number(decimals),\r\n        }\r\n      } \r\n    } catch (error) {\r\n      this.reportError(error, 'fail on token info')\r\n    }\r\n\r\n    return false\r\n  }\r\n\r\n  getCustomTokensConfig = () => {\r\n    const customTokens = JSON.parse(localStorage.getItem(constants.localStorage.customToken) || '{}')\r\n    const fillInTokensConfig = (configName) => {\r\n      customTokens[configName] = {}\r\n\r\n      EXISTING_STANDARDS.forEach((standard) => {\r\n        customTokens[configName][standard] = {}\r\n      })\r\n    }\r\n\r\n    if (!customTokens.testnet) {\r\n      fillInTokensConfig('testnet')\r\n    }\r\n\r\n    if (!customTokens.mainnet) {\r\n      fillInTokensConfig('mainnet')\r\n    }\r\n\r\n    return customTokens\r\n  }\r\n\r\n  getTx = (txRaw) => {\r\n    return txRaw.transactionHash\r\n  }\r\n\r\n  getTxRouter = (txId, currency) => {\r\n    return `/token/${currency}/tx/${txId}`\r\n  }\r\n\r\n  getLinkToInfo = (tx) => {\r\n    if (!tx) return\r\n    return `${this.explorerLink}/tx/${tx}`\r\n  }\r\n\r\n  getBalance = async (tokenName, ownAddress = null) => {\r\n    if (tokenName === undefined) return\r\n\r\n    const {\r\n      address: ownerAddress,\r\n      contractAddress,\r\n      decimals,\r\n      name,\r\n      tokenKey\r\n    } = this.returnTokenInfo(tokenName)\r\n\r\n    if(metamask.isConnected() && !metamask.isAvailableNetworkByCurrency(tokenKey)) return\r\n\r\n    const address = (ownAddress) ? ownAddress : metamask.isConnected() ? metamask.getAddress() : ownerAddress\r\n    const balanceInCache = cacheStorageGet('currencyBalances', `token_${tokenKey}_${address}`)\r\n\r\n    if (balanceInCache !== false) {\r\n      reducers.user.setTokenBalance({\r\n        baseCurrency: this.currencyKey,\r\n        name,\r\n        amount: balanceInCache,\r\n      })\r\n      return balanceInCache\r\n    }\r\n\r\n    try {\r\n      const amount = await this.fetchBalance(address, contractAddress, decimals)\r\n      reducers.user.setTokenBalance({\r\n        baseCurrency: this.currencyKey,\r\n        name,\r\n        amount,\r\n      })\r\n      cacheStorageSet('currencyBalances', `token_${tokenKey}_${address}`, amount, 30)\r\n\r\n      return amount\r\n    } catch (error) {\r\n      console.error(error)\r\n\r\n      reducers.user.setTokenBalanceError({\r\n        baseCurrency: this.currencyKey,\r\n        name,\r\n      })\r\n    }\r\n  }\r\n\r\n  getTransaction = (ownAddress, tokenName): Promise<IUniversalObj[]> => {\r\n    return new Promise((res) => {\r\n      const { user: { tokensData } } = getState()\r\n      // if we have a base currency prefix then delete it\r\n      tokenName = tokenName.replace(/^\\{[a-z1-2_]+\\}/, '')\r\n\r\n      const tokenKey = `{${this.currencyKey}}${tokenName.toLowerCase()}`\r\n      \r\n      const { address : sysAddress, contractAddress } = tokensData[tokenKey]\r\n\r\n      const address = ownAddress || sysAddress\r\n\r\n      if (this.explorerApiName === ``) {\r\n        res([])\r\n        return\r\n      }\r\n\r\n      const url = ''.concat(\r\n        `?module=account&action=tokentx`,\r\n        `&contractaddress=${contractAddress}`,\r\n        `&address=${address}`,\r\n        `&startblock=0&endblock=99999999`,\r\n        `&sort=asc`,\r\n        (this.explorerApiKey !== undefined) ? `&apikey=${this.explorerApiKey}` : ``,\r\n      )\r\n\r\n      return apiLooper\r\n        .get(this.explorerApiName, url, {\r\n          cacheResponse: 30 * 1000, // 30 seconds\r\n        })\r\n        .then((response: IUniversalObj) => {\r\n          if (Array.isArray(response.result)) {\r\n            const transactions = response.result\r\n              .filter((item) => item.value > 0)\r\n              .map((item) => ({\r\n                confirmations: item.confirmations,\r\n                type: tokenName.toLowerCase(),\r\n                tokenKey,\r\n                standard: this.standard,\r\n                baseCurrency: this.currencyKey,\r\n                hash: item.hash,\r\n                contractAddress: item.contractAddress,\r\n                status: item.blockHash !== null ? 1 : 0,\r\n                value: new BigNumber(String(item.value))\r\n                  .dividedBy(new BigNumber(10).pow(Number(item.tokenDecimal)))\r\n                  .toNumber(),\r\n                address: item.to,\r\n                date: item.timeStamp * 1000,\r\n                direction: address.toLowerCase() === item.to.toLowerCase() ? 'in' : 'out',\r\n              }))\r\n              .filter((item) => {\r\n                if (\r\n                  item.direction === 'in' ||\r\n                  !this.adminFeeObj ||\r\n                  address.toLowerCase() === this.adminFeeObj.address.toLowerCase()\r\n                ) {\r\n                  return true\r\n                }\r\n\r\n                if (item.address.toLowerCase() === this.adminFeeObj.address.toLowerCase()) {\r\n                  return false\r\n                }\r\n\r\n                return true\r\n              })\r\n\r\n            res(transactions)\r\n          } else {\r\n            res([])\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          this.reportError(error)\r\n          res([])\r\n        })\r\n    })\r\n  }\r\n\r\n  fetchBalance = async (address, contractAddress, decimals) => {\r\n    const Web3 = this.getCurrentWeb3()\r\n    const contract = new Web3.eth.Contract(TokenAbi, contractAddress)\r\n    const result = await contract.methods.balanceOf(address).call()\r\n\r\n    return new BigNumber(String(result))\r\n      .dividedBy(new BigNumber(String(10)).pow(decimals))\r\n      .toNumber()\r\n  }\r\n\r\n  fetchTokenTxInfo = async (ticker, hash) => {\r\n    return new Promise(async (res) => {\r\n      let txInfo = await this.fetchTxInfo(hash)\r\n\r\n      if (txInfo && txInfo.isContractTx) {\r\n        // This is tx to contract. Fetch all txs and find this tx\r\n        const transactions: IUniversalObj = await this.getTransaction(txInfo.senderAddress, ticker)\r\n        const ourTx = transactions.filter((tx) => tx.hash.toLowerCase() === hash.toLowerCase())\r\n\r\n        if (ourTx.length) {\r\n          txInfo.amount = ourTx[0].value\r\n          txInfo.adminFee = false // Swap doesn't have service fee\r\n\r\n          if (ourTx[0].direction == `in`) {\r\n            txInfo = {\r\n              ...txInfo,\r\n              receiverAddress: txInfo.senderAddress,\r\n              senderAddress: txInfo.receiverAddress,\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      res(txInfo)\r\n    })\r\n  }\r\n\r\n  fetchTxInfo = async (hash): Promise<IUniversalObj | false> => {\r\n    return new Promise(async (res) => {\r\n      const {\r\n        user: { tokensData },\r\n      } = getState()\r\n      const Web3 = this.getCurrentWeb3()\r\n\r\n      Web3.eth.getTransaction(hash)\r\n        .then((tx) => {\r\n          if (!tx) return res(false)\r\n\r\n          const { to, from, gas, gasPrice, blockHash } = tx\r\n          let amount = 0\r\n          let receiverAddress = to\r\n          const contractAddress = to\r\n          let tokenDecimal = 18\r\n\r\n          for (const key in tokensData) {\r\n            if (\r\n              tokensData[key]?.decimals &&\r\n              tokensData[key]?.contractAddress?.toLowerCase() == contractAddress.toLowerCase()\r\n            ) {\r\n              tokenDecimal = tokensData[key].decimals\r\n              break\r\n            }\r\n          }\r\n\r\n          const txData = Decoder.decodeData(tx.input)\r\n\r\n          if (txData && txData.inputs?.length === 2 && txData.method === `transfer`) {\r\n            receiverAddress = `0x${txData.inputs[0]}`\r\n            amount = new BigNumber(txData.inputs[1])\r\n              .div(new BigNumber(10).pow(tokenDecimal))\r\n              .toNumber()\r\n          }\r\n\r\n          const minerFee = new BigNumber(Web3.utils.toBN(gas).toNumber())\r\n            .multipliedBy(Web3.utils.toBN(gasPrice).toNumber())\r\n            .dividedBy(1e18)\r\n            .toNumber()\r\n\r\n          let adminFee: number | false = false\r\n\r\n          if (this.adminFeeObj) {\r\n            const feeFromUsersAmount = new BigNumber(this.adminFeeObj.fee)\r\n              .dividedBy(100)\r\n              .multipliedBy(amount)\r\n\r\n            if (new BigNumber(this.adminFeeObj.min).isGreaterThan(feeFromUsersAmount)) {\r\n              adminFee = new BigNumber(this.adminFeeObj.min).toNumber()\r\n            } else {\r\n              adminFee = feeFromUsersAmount.toNumber()\r\n            }\r\n          }\r\n\r\n          res({\r\n            amount,\r\n            afterBalance: null,\r\n            receiverAddress,\r\n            senderAddress: from,\r\n            minerFee,\r\n            minerFeeCurrency: this.currency,\r\n            adminFee,\r\n            confirmed: blockHash !== null,\r\n            isContractTx:\r\n              contractAddress?.toLowerCase() === externalConfig.swapContract[this.standard]?.toLowerCase(),\r\n          })\r\n        })\r\n        .catch((error) => {\r\n          this.reportError(error)\r\n          res(false)\r\n        })\r\n    })\r\n  }\r\n\r\n  fetchFees = async (params) => {\r\n    const { gasPrice, gasLimit, speed } = params\r\n    const newGasPrice = gasPrice || await ethLikeHelper[this.currencyKey].estimateGasPrice({ speed })\r\n    const defaultGasLimitKey = this.currencyKey === 'aureth' ? 'aurethToken' : 'evmLikeToken'\r\n    const newGasLimit = gasLimit || DEFAULT_CURRENCY_PARAMETERS[defaultGasLimitKey].limit.send\r\n\r\n    return {\r\n      gas: newGasLimit,\r\n      gasPrice: newGasPrice,\r\n    }\r\n  }\r\n\r\n  login = (privateKey, contractAddress, nameContract, decimals, fullName) => {\r\n    let data\r\n\r\n    const Web3 = this.getCurrentWeb3()\r\n    if (privateKey) {\r\n      data = Web3.eth.accounts.privateKeyToAccount(privateKey)\r\n    } else {\r\n      data = Web3.eth.accounts.create()\r\n      Web3.eth.accounts.wallet.add(data)\r\n    }\r\n\r\n    Web3.eth.accounts.wallet.add(data.privateKey)\r\n    this.setupContract(data.address, contractAddress, nameContract, decimals, fullName)\r\n  }\r\n\r\n  setupContract = (ethAddress, contractAddress, nameContract, decimals, fullName) => {\r\n    const Web3 = this.getCurrentWeb3()\r\n    if (!Web3.eth.accounts.wallet[ethAddress]) {\r\n      throw new Error('web3 does not have given address')\r\n    }\r\n\r\n    let data = {\r\n      address: ethAddress,\r\n      balance: 0,\r\n      name: nameContract.toLowerCase(),\r\n      fullName,\r\n      currency: nameContract.toUpperCase(),\r\n      contractAddress,\r\n      decimals,\r\n      isMetamask: false,\r\n      isConnected: false,\r\n      // TODO: use a standard key and delete this key\r\n      isERC20: this.standard === 'erc20',\r\n      standard: this.standard,\r\n      isToken: true,\r\n      blockchain: TOKEN_STANDARDS[this.standard].currency,\r\n      baseCurrency: this.currencyKey,\r\n      tokenKey: `{${this.currencyKey}}${nameContract.toLowerCase()}`,\r\n    }\r\n\r\n    if (metamask.isEnabled() && metamask.isConnected()) {\r\n      data = {\r\n        ...data,\r\n        address: metamask.getAddress(),\r\n        isMetamask: true,\r\n        isConnected: true,\r\n      }\r\n    }\r\n\r\n\r\n    reducers.user.setTokenAuthData({\r\n      baseCurrency: this.currencyKey,\r\n      name: data.name,\r\n      data,\r\n    })\r\n\r\n  }\r\n\r\n  send = async (params) => {\r\n    const { name, from, to, amount, ...feeConfig } = params\r\n    const { tokenContract, decimals } = this.returnTokenInfo(name)\r\n    const feeResult = await this.fetchFees({ ...feeConfig })\r\n    const txArguments = {\r\n      gas: '0x00',\r\n      gasPrice: feeResult.gasPrice,\r\n      from,\r\n    }\r\n\r\n    const hexAmountWithDecimals = new BigNumber(amount)\r\n      .multipliedBy(10 ** decimals)\r\n      .toString(16)\r\n    const walletData = actions.core.getWallet({\r\n      address: from,\r\n      currency: name,\r\n    })\r\n\r\n    return new Promise(async (res, rej) => {\r\n      const gasLimitCalculated = await tokenContract.methods\r\n        .transfer(to, `0x${hexAmountWithDecimals}`)\r\n        .estimateGas(txArguments)\r\n\r\n      const gasLimitWithPercentForSuccess = new BigNumber(\r\n        new BigNumber(gasLimitCalculated)\r\n          .multipliedBy(1.05) // + 5% -    ,     -  (1.05 +5%, 1.1 +10%)\r\n          .toFixed(0)\r\n      ).toString(16)\r\n\r\n      txArguments.gas = `0x${gasLimitWithPercentForSuccess}`\r\n\r\n      tokenContract.methods\r\n        // hex amount fixes a BigNumber error\r\n        .transfer(to, `0x${hexAmountWithDecimals}`)\r\n        .send(txArguments)\r\n        .on('transactionHash', (hash) => {\r\n          reducers.transactions.addTransactionToQueue({\r\n            networkCoin: this.currency,\r\n            hash,\r\n          })\r\n          res({ transactionHash: hash })\r\n        })\r\n        .on('receipt', () => {\r\n          if (this.adminFeeObj && !walletData.isMetamask) {\r\n            this.sendAdminTransaction({\r\n              from,\r\n              tokenContract,\r\n              decimals,\r\n              amount,\r\n            })\r\n          }\r\n        })\r\n        .on('error', (error) => {\r\n          this.reportError(error)\r\n          rej(error)\r\n        })\r\n    })\r\n  }\r\n\r\n  sendAdminTransaction = async (params) => {\r\n    const { from, tokenContract, amount, decimals } = params\r\n    const minAmount = new BigNumber(this.adminFeeObj.min)\r\n    let feeFromUsersAmount = new BigNumber(this.adminFeeObj.fee)\r\n      .dividedBy(100) // 100 %\r\n      .multipliedBy(amount)\r\n\r\n    if (minAmount.isGreaterThan(feeFromUsersAmount)) {\r\n      feeFromUsersAmount = minAmount\r\n    }\r\n\r\n    const hexFeeWithDecimals = feeFromUsersAmount\r\n      .multipliedBy(10 ** decimals)\r\n      .toString(16)\r\n\r\n    const feeResult = await this.fetchFees({ speed: 'fast' })\r\n    const txArguments = {\r\n      gas: '0x00',\r\n      gasPrice: feeResult.gasPrice,\r\n      from,\r\n    }\r\n\r\n    return new Promise(async (res) => {\r\n      let gasLimit\r\n\r\n      try {\r\n        gasLimit = await tokenContract.methods\r\n          .transfer(this.adminFeeObj.address, '0x' + hexFeeWithDecimals)\r\n          .estimateGas(txArguments)\r\n      } catch (error) {\r\n        this.reportError(error, 'Estimate gas in an admin transaction')\r\n      }\r\n\r\n      if (!gasLimit) return\r\n\r\n      const gasLimitWithPercentForSuccess = new BigNumber(\r\n        new BigNumber(gasLimit)\r\n          .multipliedBy(1.05) // + 5% -    ,     -  (1.05 +5%, 1.1 +10%)\r\n          .toFixed(0)\r\n      ).toString(16)\r\n\r\n      txArguments.gas = '0x' + gasLimitWithPercentForSuccess\r\n\r\n      await tokenContract.methods\r\n        // hex amount fixes a BigNumber error\r\n        .transfer(this.adminFeeObj.address, '0x' + hexFeeWithDecimals)\r\n        .send(txArguments)\r\n        .on('transactionHash', (hash) => {\r\n          console.group('%c admin fee', 'color: green;')\r\n          console.log('standard', this.standard)\r\n          console.log('tx hash', hash)\r\n          console.groupEnd()\r\n          res(hash)\r\n        })\r\n    })\r\n  }\r\n\r\n  approve = async (params): Promise<string> => {\r\n    const { name, to, amount } = params\r\n    const { tokenContract, decimals } = this.returnTokenInfo(name)\r\n    const feeResult = await this.fetchFees({ speed: 'fast' })\r\n\r\n    const hexWeiAmount = new BigNumber(amount)\r\n      .multipliedBy(10 ** decimals)\r\n      .toString(16)\r\n\r\n    return new Promise(async (res, rej) => {\r\n      const receipt = await tokenContract.methods\r\n        .approve(to, '0x' + hexWeiAmount)\r\n        .send(feeResult)\r\n        .on('transactionHash', (hash) => {\r\n          console.group('Actions >%c approve the token', 'color: green')\r\n          console.log(`standard: ${this.standard}; name: ${name}`)\r\n          console.log('tx hash: ', hash)\r\n          console.groupEnd()\r\n        })\r\n        .catch((error) => {\r\n          this.reportError(error)\r\n          rej(error)\r\n          return\r\n        })\r\n\r\n      res(receipt.transactionHash)\r\n    })\r\n  }\r\n\r\n  checkSwapExists = async (params) => {\r\n    const { ownerAddress, participantAddress } = params\r\n    const Web3 = this.getCurrentWeb3()\r\n    const swapContract = new Web3.eth.Contract(EVM_CONTRACTS_ABI.TOKEN_SWAP, externalConfig.swapContract[this.standard])\r\n\r\n    const swap = await swapContract.methods.swaps(ownerAddress, participantAddress).call()\r\n    const balance = swap && swap.balance ? parseInt(swap.balance) : 0\r\n\r\n    return balance > 0\r\n  }\r\n\r\n  setAllowance = async (params) => {\r\n    const { name, to, targetAllowance } = params\r\n    const { decimals, address, contractAddress } = this.returnTokenInfo(name)\r\n\r\n    try {\r\n      const allowance = await erc20Like[this.standard].checkAllowance({\r\n        owner: address,\r\n        spender: externalConfig.swapContract[this.standard],\r\n        contract: contractAddress,\r\n        decimals,\r\n      })\r\n\r\n      // if contract has enough allowance then skip\r\n      if (new BigNumber(targetAllowance).isLessThanOrEqualTo(allowance)) {\r\n        return Promise.resolve()\r\n      }\r\n\r\n      return this.approve({ name, to, amount: targetAllowance })\r\n    } catch (error) {\r\n      this.reportError(error)\r\n    }\r\n  }\r\n\r\n  returnTokenInfo = (name: string) => {\r\n    const Web3 = this.getCurrentWeb3()\r\n\r\n    try {\r\n      const { user: { tokensData } } = getState()\r\n      const tokenInfo = getCoinInfo(name)\r\n      const tokenKey = !tokenInfo.blockchain ? `{${this.currencyKey}}${name.toLowerCase()}` : name.toLowerCase()\r\n\r\n      const { address, contractAddress, decimals, name: tokenName } = tokensData[tokenKey]\r\n\r\n      const tokenContract = new Web3.eth.Contract(TokenAbi, contractAddress, {\r\n        from: address,\r\n      })\r\n\r\n      return {\r\n        address,\r\n        name: tokenName,\r\n        tokenKey,\r\n        contractAddress,\r\n        tokenContract,\r\n        decimals,\r\n      }\r\n    } catch (error) {\r\n      this.reportError(error, `Token name: ${name}, part: returnTokenInfo`)\r\n      throw new Error(error)\r\n    }\r\n  }\r\n}\r\n\r\nconst providers = externalConfig.web3\r\nconst INFURA_API_KEY =  (window && window.SO_INFURA_API_KEY) ? window.SO_INFURA_API_KEY : externalConfig.api.InfuraApiKey\r\nproviders.provider = providers.provider.replace(`{INFURA_API_KEY}`, INFURA_API_KEY)\r\n\r\nexport default {\r\n  erc20: new Erc20LikeAction({\r\n    currency: 'ETH',\r\n    standard: 'erc20',\r\n    explorerApiName: 'etherscan',\r\n    explorerApiKey: externalConfig.api.etherscan_ApiKey,\r\n    explorerLink: externalConfig.link.etherscan,\r\n    adminFeeObj: externalConfig.opts?.fee?.erc20,\r\n    web3: new Web3(providers.provider),\r\n  }),\r\n  bep20: new Erc20LikeAction({\r\n    currency: 'BNB',\r\n    standard: 'bep20',\r\n    explorerApiName: 'bscscan',\r\n    explorerApiKey: externalConfig.api.bscscan_ApiKey,\r\n    explorerLink: externalConfig.link.bscscan,\r\n    adminFeeObj: externalConfig.opts?.fee?.bep20,\r\n    web3: new Web3(providers.binance_provider),\r\n  }),\r\n  erc20matic: new Erc20LikeAction({\r\n    currency: 'MATIC',\r\n    standard: 'erc20matic',\r\n    explorerApiName: 'maticscan',\r\n    explorerApiKey: externalConfig.api.polygon_ApiKey,\r\n    explorerLink: externalConfig.link.maticscan,\r\n    adminFeeObj: externalConfig.opts?.fee?.erc20matic,\r\n    web3: new Web3(providers.matic_provider),\r\n  }),\r\n  erc20xdai: new Erc20LikeAction({\r\n    currency: 'XDAI',\r\n    standard: 'erc20xdai',\r\n    explorerApiName: '',\r\n    explorerApiKey: '',\r\n    explorerLink: externalConfig.link.xdai,\r\n    adminFeeObj: externalConfig.opts?.fee?.erc20xdai,\r\n    web3: new Web3(providers.xdai_provider),\r\n  }),\r\n  erc20ftm: new Erc20LikeAction({\r\n    currency: 'FTM',\r\n    standard: 'erc20ftm',\r\n    explorerApiName: 'ftmscan',\r\n    explorerApiKey: externalConfig.api.ftm_ApiKey,\r\n    explorerLink: externalConfig.link.ftmscan,\r\n    adminFeeObj: externalConfig.opts?.fee?.erc20ftm,\r\n    web3: new Web3(providers.ftm_provider),\r\n  }),\r\n  erc20avax: new Erc20LikeAction({\r\n    currency: 'AVAX',\r\n    standard: 'erc20avax',\r\n    explorerApiName: 'avaxscan',\r\n    explorerApiKey: externalConfig.api.avax_ApiKey,\r\n    explorerLink: externalConfig.link.avaxscan,\r\n    adminFeeObj: externalConfig.opts?.fee?.erc20avax,\r\n    web3: new Web3(providers.avax_provider),\r\n  }),\r\n  erc20movr: new Erc20LikeAction({\r\n    currency: 'MOVR',\r\n    standard: 'erc20movr',\r\n    explorerApiName: 'movrscan',\r\n    explorerApiKey: externalConfig.api.movr_ApiKey,\r\n    explorerLink: externalConfig.link.movrscan,\r\n    adminFeeObj: externalConfig.opts?.fee?.erc20movr,\r\n    web3: new Web3(providers.movr_provider),\r\n  }),\r\n  erc20one: new Erc20LikeAction({\r\n    currency: 'ONE',\r\n    standard: 'erc20one',\r\n    explorerApiName: 'onescan',\r\n    explorerApiKey: externalConfig.api.one_ApiKey,\r\n    explorerLink: externalConfig.link.oneExplorer,\r\n    adminFeeObj: externalConfig.opts?.fee?.erc20one,\r\n    web3: new Web3(providers.one_provider),\r\n  }),\r\n  erc20aurora: new Erc20LikeAction({\r\n    currency: 'AURETH',\r\n    standard: 'erc20aurora',\r\n    explorerApiName: 'aurorascan',\r\n    explorerApiKey: externalConfig.api.aurora_ApiKey,\r\n    explorerLink: externalConfig.link.auroraExplorer,\r\n    adminFeeObj: externalConfig.opts?.fee?.erc20aurora,\r\n    web3: new Web3(providers.aurora_provider),\r\n  }),\r\n  phi20_v1: new Erc20LikeAction({\r\n    currency: 'PHI_V1',\r\n    standard: 'phi20_v1',\r\n    explorerApiName: ``, //   -   \r\n    explorerApiKey: externalConfig.api?.phi_v1ApiKey,\r\n    explorerLink: externalConfig.link.phi_v1Explorer,\r\n    adminFeeObj: externalConfig.opts?.fee?.phi20_v1,\r\n    web3: new Web3(providers.phi_v1_provider),\r\n  }),\r\n  phi20: new Erc20LikeAction({\r\n    currency: 'PHI',\r\n    standard: 'phi20',\r\n    explorerApiName: 'phiscan', // ???\r\n    explorerApiKey: externalConfig.api?.phi_ApiKey,\r\n    explorerLink: externalConfig.link.phi_Explorer,\r\n    adminFeeObj: externalConfig.opts?.fee?.phi20,\r\n    web3: new Web3(providers.phi_provider),\r\n  }),\r\n  fkw20: new Erc20LikeAction({\r\n    currency: 'FKW',\r\n    standard: 'fkw20',\r\n    explorerApiName: 'fkwscan', // ???\r\n    explorerApiKey: externalConfig.api?.fkw_ApiKey,\r\n    explorerLink: externalConfig.link.fkw_Explorer,\r\n    adminFeeObj: externalConfig.opts?.fee?.fkw20,\r\n    web3: new Web3(providers.fkw_provider),\r\n  }),\r\n  phpx20: new Erc20LikeAction({\r\n    currency: 'PHPX',\r\n    standard: 'phpx20',\r\n    explorerApiName: 'phpxscan',\r\n    explorerApiKey: externalConfig.api?.phpx_ApiKey,\r\n    explorerLink: externalConfig.link.phpx_Explorer,\r\n    adminFeeObj: externalConfig.opts?.fee?.phpx20,\r\n    web3: new Web3(providers.phpx_provider),\r\n  }),\r\n  erc20ame: new Erc20LikeAction({\r\n    currency: 'AME',\r\n    standard: 'erc20ame',\r\n    explorerApiName: 'amescan',\r\n    explorerApiKey: externalConfig.api.ame_ApiKey,\r\n    explorerLink: externalConfig.link.amescan,\r\n    adminFeeObj: externalConfig.opts?.fee?.erc20ame,\r\n    web3: new Web3(providers.ame_provider),\r\n  }),\r\n}\r\n","import reducers from 'redux/core/reducers'\r\nimport config from 'app-config'\r\n\r\n\r\n\r\n\r\nconst checkServers = () => {\r\n  reducers.api.setChecked(false)\r\n  return Promise.all(\r\n    Object.keys(config.apiAlternatives).map(provider => Promise.race(\r\n      config.apiAlternatives[provider].map(\r\n        (server) => new Promise((resolve, reject) => {\r\n          fetch(`${server}/status`).then(() => resolve(server)).catch(e => reject(e))\r\n        })\r\n      )\r\n    ).then(chosen => {\r\n      reducers.api.setApiServer(provider, chosen)\r\n      console.log(`[${provider}] ${chosen} is OK, using it`)\r\n    })\r\n    )\r\n  ).then(() => {\r\n    reducers.api.setChecked(true)\r\n    console.log('All servers is OK.')\r\n  }).catch(e => reducers.api.setErrors(true))\r\n}\r\n\r\nexport default {\r\n  checkServers,\r\n}\r\n","import { getState } from 'redux/core'\r\nimport reducers from 'redux/core/reducers'\r\nimport config from 'app-config'\r\nimport { parsePair } from 'shared/pages/Exchange/Orders/Pair'\r\nimport TRADE_TICKERS from 'helpers/constants/TRADE_TICKERS'\r\nimport actions from 'redux/actions'\r\n\r\ntype Currency = {\r\n  fullTitle: string\r\n  icon: string\r\n  name: string\r\n  title: string\r\n  value: string\r\n}\r\n\r\nconst filter = (value, tikers, items): Currency[] => {\r\n  const selectedPairsBase = tikers\r\n    .map(ticker => parsePair(ticker))\r\n    .filter(({ BASE }) => BASE.toLowerCase() === value.toLowerCase())\r\n    .map(({ MAIN, BASE }) => MAIN)\r\n\r\n  const selectedPairsMain = tikers\r\n    .map(ticker => parsePair(ticker))\r\n    .filter(({ MAIN }) => MAIN.toLowerCase() === value.toLowerCase())\r\n    .map(({ MAIN, BASE }) => BASE)\r\n\r\n  const pairs = selectedPairsBase.concat(selectedPairsMain)\r\n\r\n  const selectedItems = items\r\n    .filter(item => pairs.includes(item.value.toUpperCase()))\r\n    .concat(items.filter(item => item.value.toLowerCase() === value.toLowerCase()))\r\n\r\n  return selectedItems\r\n}\r\n\r\nconst selectPair = (value) => { // addOffer drop down\r\n  const { currencies:{ items } } = getState()\r\n\r\n  const pairs = actions.pairs.filter(value, TRADE_TICKERS, items)\r\n  reducers.currencies.addSelectedItems(pairs)\r\n\r\n  return pairs\r\n}\r\n\r\n// partial drop down\r\nconst selectPairPartial = (value): Currency[] | [] => {\r\n  const partialItems = getState().currencies.partialItems // eslint-disable-line\r\n  const pairs = actions.pairs.filter(value, TRADE_TICKERS, partialItems)\r\n\r\n  reducers.currencies.addPartialItems(pairs)\r\n\r\n  return pairs\r\n}\r\n\r\nexport default {\r\n  selectPair,\r\n  filter,\r\n  selectPairPartial,\r\n}\r\n","const getGtag = () =>  window.gtag || null\r\n\r\n//@ts-ignore\r\nconst dataEvent = ({ action, label } = {}) => {\r\n  const gtag = getGtag()\r\n\r\n  if (!action || !gtag) {\r\n    return\r\n  }\r\n\r\n  gtag('event', action, {\r\n    'label': label,\r\n  })\r\n}\r\n\r\n//@ts-ignore\r\nconst balanceEvent = ({ action, currency, balance } = {}) => {\r\n  const gtag = getGtag()\r\n\r\n  if (!action || !gtag) {\r\n    return\r\n  }\r\n\r\n  gtag('event', `balance-${action}`, {\r\n    'currency': currency,\r\n    'balance': balance,\r\n  })\r\n}\r\n\r\nconst errorEvent = (eventAction) => {\r\n  const gtag = getGtag()\r\n\r\n  if (!gtag) {\r\n    return\r\n  }\r\n\r\n  return null // TODO: add gtag for errorEvent\r\n}\r\n\r\nconst swapEvent = (eventAction, eventLabel) => {\r\n  const gtag = getGtag()\r\n\r\n  if (!gtag) {\r\n    return\r\n  }\r\n\r\n  return null // TODO: add gtag for swapEvent\r\n}\r\n\r\nconst getTracker = () => {\r\n  if (!window.ga) {\r\n    return\r\n  }\r\n\r\n  try {\r\n    return window.ga.getAll()[0]\r\n  } catch (error) {\r\n    console.error(error)\r\n  }\r\n  return null\r\n}\r\n\r\nconst getClientId = () => {\r\n  const tracker = getTracker()\r\n\r\n  if (!tracker) {\r\n    return\r\n  }\r\n  return tracker.get('clientId')\r\n}\r\n\r\n\r\nexport default {\r\n  getTracker,\r\n  getClientId,\r\n  dataEvent,\r\n  errorEvent,\r\n  swapEvent,\r\n  balanceEvent,\r\n}\r\n","import reducers from 'redux/core/reducers'\r\nimport { getState } from 'redux/core'\r\nimport SwapApp from 'swap.app'\r\n\r\n\r\nconst set = payload => {\r\n  reducers.pubsubRoom.set(payload)\r\n}\r\n\r\nconst userJoined = () => {\r\n  reducers.pubsubRoom.userJoined()\r\n}\r\n\r\nconst userLeft = () => {\r\n  reducers.pubsubRoom.userLeft()\r\n}\r\n\r\nconst allPeersLoaded = () => {\r\n  reducers.pubsubRoom.allPeersLoaded()\r\n}\r\n\r\nconst onReady = (cb) => {\r\n  const _checkFunc = () => {\r\n    const { pubsubRoom : { isOnline } } = getState()\r\n    if (isOnline) {\r\n      cb()\r\n    } else {\r\n      setTimeout(_checkFunc, 100)\r\n    }\r\n  }\r\n  _checkFunc()\r\n}\r\n\r\nconst waitPeer = (peer, cbSuccess, cbFail, timeOut) => {\r\n  onReady(() => {\r\n    let isWaiting = true\r\n\r\n    const failtTimer = setTimeout(() => {\r\n      isWaiting = false\r\n      if (cbFail) cbFail()\r\n    }, timeOut)\r\n\r\n    const waitFunc = () => {\r\n      if (isWaiting) {\r\n        //@ts-ignore: strictNullChecks\r\n        if (SwapApp.shared().services.room.connection.hasPeer(peer)) {\r\n          clearTimeout(failtTimer)\r\n          if (cbSuccess) cbSuccess()\r\n        } else {\r\n          setTimeout(waitFunc, 100)\r\n        }\r\n      }\r\n    }\r\n    waitFunc()\r\n  })\r\n}\r\n\r\nexport default {\r\n  set,\r\n  userJoined,\r\n  userLeft,\r\n  allPeersLoaded,\r\n  onReady,\r\n  waitPeer,\r\n}\r\n","import erc20Like from 'common/erc20Like'\r\n\r\nexport default (currency, returnToken) => {\r\n  let key = currency.toLowerCase()\r\n\r\n  switch (key) {\r\n    case 'currency':\r\n    case 'btc (sms-protected)':\r\n    case 'btc (pin-protected)':\r\n    case 'btc (multisig)':\r\n      key = 'btc'\r\n  }\r\n\r\n  if (erc20Like.isToken({ name: key })) {\r\n    key = returnToken ? key : 'token'\r\n  }\r\n\r\n  return key\r\n}\r\n","import BigInteger from 'bigi'\r\n\r\nimport { BigNumber } from 'bignumber.js'\r\nimport * as bitcoin from 'bitcoinjs-lib'\r\nimport bitcoinMessage from 'bitcoinjs-message'\r\nimport { getState } from 'redux/core'\r\nimport reducers from 'redux/core/reducers'\r\nimport { btc, apiLooper, constants, api } from 'helpers'\r\nimport actions from 'redux/actions'\r\nimport config from 'helpers/externalConfig'\r\nimport getCurrencyKey from 'helpers/getCurrencyKey'\r\n\r\n\r\nconst validateData = (data) => {\r\n  if (!data) return false\r\n  if (!data.currency) return false\r\n  // if (!data.toAddress) return false\r\n  if (!data.fromAddress) return false\r\n  if (!data.amount) return false\r\n\r\n\r\n  return true\r\n}\r\n\r\nconst addInvoice = (data) => {\r\n  const { user: { btcData } } = getState()\r\n\r\n  if (!validateData(data)) return false\r\n\r\n  const currency = getCurrencyKey(data.currency, true)\r\n\r\n  const requestData = {\r\n    currency: currency.toUpperCase(),\r\n    toAddress: data.toAddress,\r\n    fromAddress: data.fromAddress,\r\n    amount: data.amount,\r\n    contact: data.contact,\r\n    label: (data.label) ? data.label : '',\r\n    address: btcData.address,\r\n    pubkey: btcData.publicKey.toString('hex'),\r\n    mainnet: (process.env.MAINNET) ? '1' : '0',\r\n    destination: (data.destination) ? data.destination : '',\r\n  }\r\n\r\n  return apiLooper.post('invoiceApi', `/invoice/push/`, {\r\n    body: requestData,\r\n  })\r\n}\r\n\r\nconst cancelInvoice = (invoiceId) => new Promise((resolve) => apiLooper.post('invoiceApi', `/invoice/cancel/`,\r\n  {\r\n    body: {\r\n      invoiceId,\r\n    },\r\n  })\r\n  .then((res: any) => {\r\n    resolve(res && res.answer && res.answer === 'ok')\r\n  })\r\n  .catch(() => { resolve(false) }))\r\n\r\nconst markInvoice = (invoiceId, mark, txid, address) => new Promise((resolve) => apiLooper.post('invoiceApi', `/invoice/mark/`,\r\n  {\r\n    body: {\r\n      invoiceId,\r\n      mark,\r\n      txid,\r\n      address,\r\n    },\r\n  })\r\n  .then((res: any) => {\r\n    resolve(res && res.answer && res.answer === 'ok')\r\n  })\r\n  .catch(() => { resolve(false) }))\r\n\r\nconst getInvoice = (hash) => {\r\n  if (!config.opts.invoiceEnabled) {\r\n    return new Promise((resolve) => { resolve(false) })\r\n  }\r\n\r\n  return new Promise((resolve) => {\r\n\r\n    apiLooper.post('invoiceApi', `/invoice/get`, {\r\n      body: {\r\n        hash,\r\n      },\r\n    }).then((res: any) => {\r\n      console.log('fetced answer from invoice api', res)\r\n      if (res && res.answer && res.answer === 'ok' && res.item) {\r\n        const {\r\n          item,\r\n          item: {\r\n            amount,\r\n            utx,\r\n          },\r\n        } = res\r\n\r\n        const direction = (actions.user.isOwner(item.toAddress, item.type)) ? 'in' : 'out'\r\n        const isOwner = (actions.user.isOwner(item.fromAddress, item.type))\r\n\r\n        resolve({\r\n          invoiceData: item,\r\n          isOwner,\r\n          hasPayer: !(!item.toAddress),\r\n          hash: 'no hash',\r\n          confirmations: 1,\r\n          value: amount,\r\n          date: utx * 1000,\r\n          direction,\r\n        })\r\n      } else {\r\n        resolve(false)\r\n      }\r\n    }).catch(() => {\r\n      resolve(false)\r\n    })\r\n  })\r\n}\r\n\r\nconst getManyInvoices = (data) => {\r\n  if (!config.opts.invoiceEnabled) {\r\n    return new Promise((resolve) => { resolve([]) })\r\n  }\r\n\r\n  return new Promise((resolve) => {\r\n\r\n    const walletsHashMap = {}\r\n    const wallets = data.map((item) => {\r\n      if (item && item.type && item.address) {\r\n        const {\r\n          type: rawType,\r\n          tokenKey,\r\n          address,\r\n        } = item\r\n\r\n        const type = ((tokenKey) ? tokenKey : getCurrencyKey(rawType, true)).toUpperCase()\r\n        walletsHashMap[`${type}:${address.toLowerCase()}`] = {\r\n          type,\r\n          address,\r\n        }\r\n\r\n        return {\r\n          type,\r\n          address,\r\n        }\r\n      }\r\n    })\r\n\r\n    apiLooper.post('invoiceApi', `/invoice/fetchmany/`, {\r\n      body: {\r\n        wallets,\r\n        mainnet: (process.env.MAINNET) ? '1' : '0',\r\n      },\r\n    }).then((res: any) => {\r\n      if (res && res.answer && res.answer === 'ok') {\r\n        const invoices = res.items.map((item) => {\r\n          const walletHash = `${item.type}:${item.toAddress.toLowerCase()}`\r\n\r\n          const direction = (walletsHashMap[walletHash] !== undefined) ? 'in' : 'out'\r\n\r\n          return ({\r\n            type: item.type,\r\n            txType: 'INVOICE',\r\n            invoiceData: item,\r\n            hash: 'no hash',\r\n            confirmations: 1,\r\n            value: item.amount,\r\n            date: item.utx * 1000,\r\n            direction,\r\n          })\r\n        })\r\n\r\n        resolve(invoices)\r\n      } else {\r\n        resolve([])\r\n      }\r\n    })\r\n      .catch(() => {\r\n        resolve([])\r\n      })\r\n  })\r\n}\r\n\r\nconst getInvoices = (data) => {\r\n  if (!config.opts.invoiceEnabled) {\r\n    return new Promise((resolve) => { resolve([]) })\r\n  }\r\n\r\n  if (data.address === 'Not jointed') {\r\n    return new Promise((resolve) => {\r\n      resolve([])\r\n    })\r\n  }\r\n\r\n  const { user: { btcData } } = getState()\r\n  if (!data || !data.currency || !data.address) return false\r\n\r\n  return new Promise((resolve) => {\r\n\r\n    apiLooper.post('invoiceApi', `/invoice/fetch/`, {\r\n      body: {\r\n        currency: getCurrencyKey(data.currency, true).toUpperCase(),\r\n        address: data.address,\r\n        mainnet: (process.env.MAINNET) ? '1' : '0',\r\n      },\r\n    }).then((res: any) => {\r\n      if (res && res.answer && res.answer === 'ok') {\r\n        const transactions = res.items.map((item) => {\r\n          const direction = item.toAddress === data.address ? 'in' : 'out'\r\n\r\n          return ({\r\n            type: getCurrencyKey(data.currency, true),\r\n            txType: 'INVOICE',\r\n            invoiceData: item,\r\n            hash: 'no hash',\r\n            confirmations: 1,\r\n            value: item.amount,\r\n            date: item.utx * 1000,\r\n            direction,\r\n          })\r\n        })\r\n\r\n        resolve(transactions)\r\n      } else {\r\n        resolve([])\r\n      }\r\n    })\r\n      .catch(() => {\r\n        resolve([])\r\n      })\r\n  })\r\n}\r\n\r\nexport default {\r\n  addInvoice,\r\n  getInvoices,\r\n  getInvoice,\r\n  getManyInvoices,\r\n  cancelInvoice,\r\n  markInvoice,\r\n}\r\n","const getComment = (key) => getComments()[key] || undefined;\r\n\r\nconst setComment = ({ comment, key }) => {\r\n  const historyComments = getComments()\r\n  const newComment = { [`${key}`]: `${comment}`.replace(/(\\r\\n|\\n|\\r)/gm, \" \") }\r\n  console.log('newComment', { comment, key })\r\n\r\n  localStorage.setItem('historyComments', JSON.stringify(\r\n    {\r\n      ...historyComments,\r\n      ...newComment,\r\n    },\r\n  ))\r\n}\r\n\r\n//@ts-ignore: strictNullChecks\r\nconst getComments = () => JSON.parse(localStorage.getItem('historyComments')) || {}\r\n\r\nconst returnDefaultComment = (hiddenList, ind) => {\r\n  const newData = hiddenList ? hiddenList[ind] || '' : ''\r\n\r\n  return newData\r\n}\r\n\r\nexport default {\r\n  getComment,\r\n  returnDefaultComment,\r\n  setComment,\r\n  getComments\r\n}\r\n","export default {\r\n  enter: 'enter',\r\n  reject: 'reject',\r\n  switch: 'switch',\r\n  preventSwitch: 'preventSwitch',\r\n  wasOnWallet: 'wasOnWallet',\r\n  savedOrders: 'savedOrders',\r\n  deletedOrders: 'deletedOrders',\r\n  didWidgetsDataSend: 'didWidgetsDataSend',\r\n  activeTabId: 'activeTabId',\r\n  testnetSkip: 'testnetSkip',\r\n  storageRevision: '_revision',\r\n  wasCautionPassed: 'wasCautionPassed',\r\n  hiddenCoinsList: 'hiddenCoinsList',\r\n  privateKeysSaved: 'privateKeysSaved',\r\n  demoMoneyReceived: 'demoMoneyReceived',\r\n  wasOnExchange: 'wasOnExchange',\r\n  isWalletCreate: 'isWalletCreate',\r\n  lastCheckBalance: 'lastCheckBalance',\r\n  startSwap: 'startSwap',\r\n  didProtectedBtcCreated: 'protectedBtcCreated',\r\n  didPinBtcCreated: `${process.env.ENTRY}:pinBtcCreated`,\r\n  didProtectedBtcG2FACreated: 'protectedBtcG2FA',\r\n  walletTitle: 'walletTitle',\r\n  customToken: 'customToken',\r\n  balanceActiveCurrency: 'balanceActiveCurrency',\r\n  signedUpWithPush: 'signedUpWithPush',\r\n  backups: `${process.env.ENTRY}:backups`,\r\n  backups_prefix: `${process.env.ENTRY}:backup:`,\r\n  invoicesEnabled: `${process.env.ENTRY}:invoicesEnabled`,\r\n  wasOnWidgetWallet: 'wasOnWidgetWallet',\r\n  isDark: 'isDark',\r\n  isLight: 'isLight',\r\n  testnetSkipPKCheck: 'testnetSkipPKCheck',\r\n  prevWPUser: 'wp_widget_prev_userid',\r\n  exchangeSettings: 'exchangeSettings',\r\n  extensionLastActivity: 'extensionLastActivity',\r\n}\r\n","export default {\r\n  eth: `${process.env.ENTRY}:eth:privateKey`,\r\n  bnb: `${process.env.ENTRY}:bnb:privateKey`,\r\n  matic: `${process.env.ENTRY}:matic:privateKey`,\r\n  arbitrum: `${process.env.ENTRY}:arbitrum:privateKey`,\r\n  aureth: `${process.env.ENTRY}:aureth:privateKey`,\r\n  xdai: `${process.env.ENTRY}:xdai:privateKey`,\r\n  ftm: `${process.env.ENTRY}:ftm:privateKey`,\r\n  avax: `${process.env.ENTRY}:avax:privateKey`,\r\n  movr: `${process.env.ENTRY}:movr:privateKey`,\r\n  one: `${process.env.ENTRY}:one:privateKey`,\r\n  ame: `${process.env.ENTRY}:ame:privateKey`,\r\n  phi_v1: `${process.env.ENTRY}:phi:privateKey`,\r\n  phi: `${process.env.ENTRY}:phi:privateKey`, // Use old blockchain private key\r\n  fkw: `${process.env.ENTRY}:fkw:privateKey`,\r\n  phpx: `${process.env.ENTRY}:phpx:privateKey`,\r\n  btc: `${process.env.ENTRY}:btc:privateKey`,\r\n  ghost: `${process.env.ENTRY}:ghost:privateKey`,\r\n  next: `${process.env.ENTRY}:next:privateKey`,\r\n  twentywords: `${process.env.ENTRY}:twentywords`,\r\n  btcMultisig: `${process.env.ENTRY}:btcMultisig:privateKey`,\r\n  btcMultisigOtherOwnerKey: `${process.env.ENTRY}:btcMultisig:otherOwnerKey`,\r\n  btcSmsMnemonicKey: `${process.env.ENTRY}:btcSmsMnemonicKey`,\r\n  btcSmsMnemonicKeyGenerated: `${process.env.ENTRY}:btcSmsMnemonicKeyGenerated`,\r\n\r\n  btcPinMnemonicKey: `${process.env.ENTRY}:btcPinMnemonicKey`,\r\n  // Shamir's Secret-Sharing for Mnemonic Codes\r\n  shamirsMnemonics: `${process.env.ENTRY}:shamirsMnemonics`,\r\n  shamirsSecrets: `${process.env.ENTRY}:shamirsSecrets`,\r\n}\r\n","import localStorage from './localStorage'\r\nimport privateKeyNames from './privateKeyNames'\r\nimport notifications from './notifications'\r\nimport modals from './modals'\r\nimport tradeTicker from './TRADE_TICKERS'\r\nimport tokenDecimals from './TOKEN_DECIMALS'\r\nimport pairTypes from './PAIR_TYPES'\r\nimport tokenStandards from './TOKEN_STANDARDS'\r\n\r\nexport default {\r\n  localStorage,\r\n  tradeTicker,\r\n  privateKeyNames,\r\n  tokenDecimals,\r\n  notifications,\r\n  pairTypes,\r\n  modals,\r\n  tokenStandards,\r\n}\r\n","export default {\r\n  SuccessWithdraw: 'SuccessWithdraw',\r\n  Message: 'Message',\r\n  ErrorNotification: 'ErrorNotification',\r\n  BTCMultisignRequest: 'BTCMultisignRequest',\r\n  Transaction: 'Transaction',\r\n}\r\n","export default {\r\n  Withdraw: 'WithdrawModal',\r\n  Offer: 'OfferModal',\r\n  LimitOrder: 'LimitOrder',\r\n  PrivateKeys: 'PrivateKeysModal',\r\n  ReceiveModal: 'ReceiveModal',\r\n  DownloadModal: 'DownloadModal',\r\n  Confirm: 'Confirm',\r\n  DeclineOrdersModal: 'DeclineOrdersModal',\r\n  IncompletedSwaps: 'IncompletedSwaps',\r\n  ConfirmBeginSwap: 'ConfirmBeginSwap',\r\n  MultisignJoinLink: 'MultisignJoinLink',\r\n  WithdrawMultisigUser: 'WithdrawModalMultisigUser',\r\n  CurrencyAction: 'CurrencyAction',\r\n  InvoiceModal: 'InvoiceModal',\r\n  InvoiceLinkModal: 'InvoiceLinkModal',\r\n  AlertModal: 'AlertModal',\r\n  AddCustomToken: 'AddCustomToken',\r\n  BtcMultisignSwitch: 'BtcMultisignSwitch',\r\n  Share: 'ShareModal',\r\n  BtcMultisignConfirmTx: 'BtcMultisignConfirmTx',\r\n  SaveMnemonicModal: 'SaveMnemonicModal',\r\n  RestoryMnemonicWallet: 'RestoryMnemonicWallet',\r\n  HowToWithdrawModal: 'HowToWithdrawModal',\r\n  InfoInvoice: 'InfoInvoice',\r\n  PrivateKeysModal: 'PrivateKeysModal',\r\n  RegisterPINProtected: 'RegisterPINProtected',\r\n  WithdrawBtcPin: 'WithdrawBtcPin',\r\n  WalletAddressModal: 'WalletAddressModal',\r\n  AlertWindow: 'AlertWindow',\r\n  WithdrawBtcMultisig: 'WithdrawBtcMultisig',\r\n  ConnectWalletModal: 'ConnectWalletModal',\r\n  WalletConnectAccount: 'WalletConnectAccount',\r\n  ShamirsSecretRestory: 'ShamirsSecretRestory',\r\n  ShamirsSecretSave: 'ShamirsSecretSave',\r\n  RestoreWalletSelectMethod: 'RestoreWalletSelectMethod',\r\n  SaveWalletSelectMethod: 'SaveWalletSelectMethod',\r\n  ReferralProgramModal: 'ReferralProgramModal',\r\n}\r\n","import axios from 'axios'\r\nimport config from 'helpers/externalConfig'\r\nimport { constants } from 'helpers'\r\n\r\ntype BackupUserResponse = {\r\n  backupReady: boolean\r\n  hasBackupPlugin: boolean\r\n}\r\n\r\nconst localStorage = window.localStorage\r\nconst lsCurrentUser = `${process.env.ENTRY}:wp_currentUserId`\r\n\r\nconst backupUserData = {\r\n  isUserLoggedIn: () => {\r\n    return (window && window.WPuserUid && config.opts.WPuserHash)\r\n  },\r\n  isFirstBackup: () => {\r\n    const currentUser = localStorage.getItem(lsCurrentUser)\r\n    return (!currentUser) ? true : false\r\n  },\r\n  hasServerBackup: () => {\r\n    return new Promise((resolve) => {\r\n      const plugins = config?.opts?.plugins\r\n\r\n      if (\r\n        plugins?.backupPlugin\r\n        && plugins?.restorePluginUrl\r\n        && window?.WPuserUid\r\n        && config.opts.WPuserHash\r\n      ) {\r\n        axios.post(\r\n          plugins.restorePluginUrl,\r\n          {\r\n            WPuserUid: window.WPuserUid,\r\n            WPuserHash: config.opts.WPuserHash,\r\n          }\r\n        ).then((res: any) => {\r\n          if (res?.data?.answer\r\n            && res.data.answer === `ok`\r\n            && res.data.data\r\n          ) {\r\n            resolve(true)\r\n          } else {\r\n            resolve(false)\r\n          }\r\n        }).catch((e) => {\r\n          resolve(false)\r\n        })\r\n      } else {\r\n        resolve(false)\r\n      }\r\n    })\r\n  },\r\n  isUserChanged: () => {\r\n    const currentUser = localStorage.getItem(lsCurrentUser)\r\n\r\n    return (currentUser !== `${window.WPuserUid}` && window.WPuserUid) ? true : false\r\n  },\r\n  backupUser: () => {\r\n    return new Promise<BackupUserResponse>((resolve) => {\r\n      const plugins = config?.opts?.plugins\r\n\r\n      const backupStateResponse = {\r\n        backupReady: false,\r\n        hasBackupPlugin: false\r\n      }\r\n\r\n      if (\r\n        plugins?.backupPlugin\r\n        && plugins?.backupPluginUrl\r\n        && window?.WPuserUid\r\n        && config.opts.WPuserHash\r\n      ) {\r\n        backupStateResponse.hasBackupPlugin = true\r\n        const get = (key) => localStorage.getItem(constants.privateKeyNames[key])\r\n\r\n        const backup = {\r\n          eth:                              get(`eth`),\r\n          bnb:                              get(`bnb`),\r\n          matic:                            get(`matic`),\r\n          arbeth:                           get(`arbeth`),\r\n          aureth:                           get(`aureth`),\r\n          xdai:                             get(`xdai`),\r\n          ftm:                              get(`ftm`),\r\n          avax:                             get(`avax`),\r\n          movr:                             get(`movr`),\r\n          one:                              get(`one`),\r\n          phi:                              get(`phi`),\r\n          btc:                              get(`btc`),\r\n          ghost:                            get(`ghost`),\r\n          next:                             get(`next`),\r\n          twentywords:                      get(`twentywords`),\r\n          btcMultisig:                      get(`btcMultisig`),\r\n          btcMultisigOtherOwnerKey:         get(`btcMultisigOtherOwnerKey`),\r\n          btcSmsMnemonicKey:                get(`btcSmsMnemonicKey`),\r\n          btcSmsMnemonicKeyGenerated:       get(`btcSmsMnemonicKeyGenerated`),\r\n          btcPinMnemonicKey:                get(`btcPinMnemonicKey`),\r\n          hiddenCoinsList:                  localStorage.getItem(constants.localStorage.hiddenCoinsList),\r\n          isWalletCreate:                   localStorage.getItem(constants.localStorage.isWalletCreate),\r\n          didProtectedBtcCreated:           localStorage.getItem(constants.localStorage.didProtectedBtcCreated),\r\n          didPinBtcCreated:                 localStorage.getItem(constants.localStorage.didPinBtcCreated),\r\n        }\r\n\r\n        axios.post(\r\n          plugins.backupPluginUrl,\r\n          {\r\n            ...backup,\r\n            WPuserUid: window.WPuserUid,\r\n            WPuserHash: config.opts.WPuserHash\r\n          }\r\n        ).then((res: any) => {\r\n          if (res?.data?.answer\r\n            && res.data.answer === `ok`\r\n          ) {\r\n            localStorage.setItem(lsCurrentUser, window.WPuserUid)\r\n            backupStateResponse.backupReady = true\r\n            resolve(backupStateResponse)\r\n          } else {\r\n            resolve(backupStateResponse)\r\n          }\r\n        }).catch((e) => {\r\n          resolve(backupStateResponse)\r\n        })\r\n      } else {\r\n        resolve(backupStateResponse)\r\n      }\r\n    })\r\n  },\r\n  cleanupSeed: () => {\r\n    return new Promise((resolve) => {\r\n      const plugins = config?.opts?.plugins\r\n\r\n      if (\r\n        plugins?.backupPlugin\r\n        && plugins?.backupPluginUrl\r\n        && window?.WPuserUid\r\n        && config.opts.WPuserHash\r\n      ) {\r\n        axios.post(\r\n          plugins.backupPluginUrl,\r\n          {\r\n            WPuserUid: window.WPuserUid,\r\n            WPuserHash: config.opts.WPuserHash,\r\n            action: 'cleanup',\r\n          }\r\n        ).then((res: any) => {\r\n          if (\r\n            res?.data?.answer\r\n            && res.data.answer === `ok`\r\n          ) {\r\n            resolve(true)\r\n          } else {\r\n            resolve(false)\r\n          }\r\n        }).catch((e) => {\r\n          resolve(false)\r\n        })\r\n      } else {\r\n        resolve(false)\r\n      }\r\n    })\r\n  },\r\n  restoreUser: () => {\r\n    return new Promise((resolve) => {\r\n      const plugins = config?.opts?.plugins\r\n\r\n      if (\r\n        plugins?.backupPlugin\r\n        && plugins?.restorePluginUrl\r\n        && window?.WPuserUid\r\n        && config.opts.WPuserHash\r\n      ) {\r\n        const set = (key, value) => {\r\n          if (value) localStorage.setItem(constants.privateKeyNames[key], value)\r\n        }\r\n\r\n        axios.post(\r\n          plugins.restorePluginUrl,\r\n          {\r\n            WPuserUid: window.WPuserUid,\r\n            WPuserHash: config.opts.WPuserHash,\r\n          }\r\n        ).then((res: any) => {\r\n          if (res?.data?.answer\r\n            && res.data.answer === `ok`\r\n            && res.data.data\r\n          ) {\r\n            const data = res.data.data\r\n\r\n            set(`btc`, data.btc)\r\n            set(`ghost`, data.ghost)\r\n            set(`next`, data.next)\r\n            set(`btcMultisig`, data.btcMultisig)\r\n            set(`btcMultisigOtherOwnerKey`, data.btcMultisigOtherOwnerKey)\r\n            set(`btcPinMnemonicKey`, data.btcPinMnemonicKey)\r\n            set(`btcSmsMnemonicKey`, data.btcSmsMnemonicKey)\r\n            set(`btcSmsMnemonicKeyGenerated`, data.btcSmsMnemonicKeyGenerated)\r\n            set(`eth`, data.eth)\r\n            set(`bnb`, data.bnb)\r\n            set(`matic`, data.matic)\r\n            set(`arbeth`, data.arbeth)\r\n            set(`aureth`, data.aureth)\r\n            set(`xdai`, data.xdai)\r\n            set(`ftm`, data.ftm)\r\n            set(`avax`, data.avax)\r\n            set(`movr`, data.movr)\r\n            set(`one`, data.one)\r\n            set(`phi`, data.phi)\r\n            set(`twentywords`, data.twentywords)\r\n\r\n            // set other params to true (user has on tour and other pages)\r\n            localStorage.setItem(constants.localStorage.hiddenCoinsList, data.hiddenCoinsList)\r\n            localStorage.setItem(constants.localStorage.isWalletCreate, 'true')\r\n            localStorage.setItem(constants.localStorage.wasOnExchange, 'true')\r\n            localStorage.setItem(constants.localStorage.wasOnWidgetWallet, 'true')\r\n            localStorage.setItem(constants.localStorage.wasCautionPassed, 'true')\r\n            localStorage.setItem(constants.localStorage.wasOnWallet, 'true')\r\n            localStorage.setItem(constants.localStorage.didProtectedBtcCreated, data.didProtectedBtcCreated)\r\n            localStorage.setItem(constants.localStorage.didPinBtcCreated, data.didPinBtcCreated)\r\n            localStorage.setItem(lsCurrentUser, window.WPuserUid)\r\n            \r\n            const addAllEnabledWalletsAfterRestoreOrCreateSeedPhrase = config?.opts?.addAllEnabledWalletsAfterRestoreOrCreateSeedPhrase\r\n            console.log('>>>> NEED ADD WALLETS?', addAllEnabledWalletsAfterRestoreOrCreateSeedPhrase)\r\n\r\n            resolve(true)\r\n          } else {\r\n            resolve(false)\r\n          }\r\n        })\r\n      } else {\r\n        resolve(false)\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport default backupUserData\r\n","import constants from 'helpers/constants'\r\nimport getUnixTimeStamp from 'common/utils/getUnixTimeStamp'\r\nimport config from 'helpers/externalConfig'\r\nimport backupUserData from 'plugins/backupUserData'\r\n\r\n\r\nconst backupFields = [\r\n  constants.privateKeyNames.eth,\r\n  constants.privateKeyNames.bnb,\r\n  constants.privateKeyNames.matic,\r\n  constants.privateKeyNames.btc,\r\n  constants.privateKeyNames.btcMultisig,\r\n  constants.privateKeyNames.btcMultisigOtherOwnerKey,\r\n  constants.privateKeyNames.btcSmsMnemonicKey,\r\n  constants.privateKeyNames.btcSmsMnemonicKeyGenerated,\r\n  constants.privateKeyNames.btcPinMnemonicKey,\r\n]\r\n\r\n\r\nconst serverBackup = () => {\r\n  return backupUserData.backupUser()\r\n}\r\n\r\nconst serverCleanupSeed = () => {\r\n  if (config\r\n    && config.opts\r\n    && config.opts.plugins\r\n    && config.opts.plugins.backupPlugin\r\n  ) {\r\n    backupUserData.cleanupSeed()\r\n  }\r\n}\r\n\r\nconst backup = (mark, label, overide) => {\r\n  if (!label) label = new Date().toString()\r\n  if (!mark) mark = getUnixTimeStamp()\r\n\r\n  const data = {}\r\n  backupFields.forEach((lsKey) => {\r\n    const value = localStorage.getItem(lsKey)\r\n    if (value) {\r\n      data[lsKey] = value\r\n    }\r\n  })\r\n\r\n  const backupData = {\r\n    mark,\r\n    label,\r\n    utx: getUnixTimeStamp(),\r\n    data,\r\n  }\r\n\r\n  let backups = localStorage.getItem(constants.localStorage.backups)\r\n  //@ts-ignore: strictNullChecks\r\n  try { backups = JSON.parse(backups) } catch (e) { }\r\n  //@ts-ignore\r\n  if (!(backups instanceof Array)) {\r\n    //@ts-ignore\r\n    backups = []\r\n  }\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  if ((backups.indexOf(mark) !== -1) && !overide) return `exists`\r\n  //@ts-ignore\r\n  backups.unshift(mark)\r\n\r\n  localStorage.setItem(constants.localStorage.backups, JSON.stringify(backups))\r\n  const backupKey = `${constants.localStorage.backups_prefix}:${mark}`\r\n  localStorage.setItem(`${constants.localStorage.backups_prefix}:${mark}`, JSON.stringify(backupData))\r\n\r\n  return backup\r\n}\r\n\r\nconst importBackup = (backup) => {\r\n  if (backup\r\n    && backup.mark\r\n    && backup.utx\r\n    && backup.label\r\n    && backup.data\r\n  ) {\r\n    Object.keys(backup.data).forEach((lsKey) => {\r\n      localStorage.setItem(lsKey, backup.data[lsKey])\r\n    })\r\n  } else {\r\n    return false\r\n  }\r\n}\r\n\r\nconst restory = (mark) => {\r\n  const backup = exists(mark)\r\n  if (backup) {\r\n    return importBackup(backup)\r\n  }\r\n  return false\r\n}\r\n\r\nconst list = () => {\r\n  let backups = localStorage.getItem(constants.localStorage.backups)\r\n  //@ts-ignore: strictNullChecks\r\n  try { backups = JSON.parse(backups) } catch (e) { }\r\n  //@ts-ignore\r\n  if (!(backups instanceof Array)) {\r\n    //@ts-ignore\r\n    backups = []\r\n  }\r\n  //@ts-ignore\r\n  backups = backups.map((mark) => {\r\n    let backupData = localStorage.getItem(`${constants.localStorage.backups_prefix}:${mark}`)\r\n    //@ts-ignore: strictNullChecks\r\n    try { backupData = JSON.parse(backupData) } catch (e) { }\r\n    if (backupData\r\n      //@ts-ignore\r\n      && backupData.mark\r\n      //@ts-ignore\r\n      && backupData.utx\r\n      //@ts-ignore\r\n      && backupData.label\r\n      //@ts-ignore\r\n      && backupData.data\r\n    ) {\r\n      return backupData\r\n    }\r\n    return false\r\n  }).filter(backupData => backupData && backupData.mark)\r\n\r\n  return backups\r\n}\r\n\r\nconst exists = (mark) => {\r\n  let backupData = localStorage.getItem(`${constants.localStorage.backups_prefix}:${mark}`)\r\n  //@ts-ignore: strictNullChecks\r\n  try { backupData = JSON.parse(backupData) } catch (e) { }\r\n  if (backupData\r\n    //@ts-ignore\r\n    && backupData.mark\r\n    //@ts-ignore\r\n    && backupData.utx\r\n    //@ts-ignore\r\n    && backupData.label\r\n    //@ts-ignore\r\n    && backupData.data\r\n  ) {\r\n    return backupData\r\n  }\r\n  return false\r\n}\r\n\r\nconst backupManager = {\r\n  backup,\r\n  restory,\r\n  importBackup,\r\n  list,\r\n  exists,\r\n  get: exists,\r\n\r\n  serverBackup,\r\n  serverCleanupSeed,\r\n}\r\n\r\nexport default backupManager\r\n","export type MnemonicKey = string | string[]\r\n\r\nexport enum TransactionStatus {\r\n  Pending = 1,\r\n  Ready = 2,\r\n  Reject = 3,\r\n  Cancel = 4,\r\n}\r\n","import { apiLooper } from 'helpers'\r\nimport actions from 'redux/actions'\r\nimport { getState } from 'redux/core'\r\nimport reducers from 'redux/core/reducers'\r\nimport { TransactionStatus } from 'common/types'\r\n\r\n\r\nconst broadcast = ({ sender, destination, amount, fee, rawTx, invoice }) => {\r\n  const { user: { btcData } } = getState()\r\n\r\n  const senderWallet = actions.btcmultisig.addressToWallet(sender)\r\n\r\n  if (senderWallet) {\r\n    const requestData = {\r\n      address: btcData.address,\r\n      pubkey: btcData.publicKey.toString('hex'),\r\n      mainnet: (process.env.MAINNET) ? '1' : '0',\r\n\r\n      sender,\r\n      destination,\r\n      amount,\r\n      fee,\r\n      rawTx,\r\n      invoice,\r\n\r\n      keys: senderWallet.publicKeys.map((key) => key.toString('hex')),\r\n    }\r\n\r\n    return apiLooper.post('multisig', `/broadcast/`, {\r\n      body: requestData,\r\n    }).then(({ txId }) => txId)\r\n  }\r\n  console.error(`Btc-Multisig. Cant detect sender wallet`)\r\n  return false\r\n\r\n}\r\n\r\nconst fetchTx = (txId) => apiLooper\r\n  .get('multisig', `/tx/${txId}`)\r\n  .then((txData) => txData)\r\n\r\nconst confirmTx = (address, msTxId, signedTx, txId) => {\r\n  const senderWallet = actions.btcmultisig.addressToWallet(address)\r\n\r\n  if (senderWallet) {\r\n    return apiLooper.post('multisig', `/confirmtx/`, {\r\n      body: {\r\n        msTxId,\r\n        keys: senderWallet.publicKeys.map((key) => key.toString('hex')),\r\n        signedTx,\r\n        txId,\r\n      },\r\n    }).then((data) => data)\r\n  }\r\n}\r\n\r\nconst rejectTx = (address, txId) => {\r\n  const senderWallet = actions.btcmultisig.addressToWallet(address)\r\n\r\n  if (senderWallet) {\r\n    return apiLooper.post('multisig', `/rejecttx/`, {\r\n      body: {\r\n        txId,\r\n        keys: senderWallet.publicKeys.map((key) => key.toString('hex')),\r\n      },\r\n    }).then((data) => data)\r\n  }\r\n}\r\n\r\nconst fetchRawTx = (address, txId) => {\r\n  const senderWallet = actions.btcmultisig.addressToWallet(address)\r\n\r\n  if (senderWallet) {\r\n    return apiLooper.post('multisig', `/rawtx/`, {\r\n      body: {\r\n        txId,\r\n        keys: senderWallet.publicKeys.map((key) => key.toString('hex')),\r\n      },\r\n    }).then((data) => data)\r\n  }\r\n}\r\n\r\nconst fetch = (address) => {\r\n  const { user: { btcData } } = getState()\r\n  const holderKey = btcData.publicKey.toString('hex')\r\n\r\n  return apiLooper.post('multisig', `/txs/`, {\r\n    body: {\r\n      address,\r\n    },\r\n    query: 'multisigTx',\r\n  }).then((res: any) => {\r\n    if (res\r\n      && res.answer\r\n    ) {\r\n      const senderWallet = actions.btcmultisig.addressToWallet(address)\r\n\r\n      const pendingTransactions: any[]\r\n        = res.items\r\n             .filter(\r\n                ({status}) => status === TransactionStatus.Pending\r\n             )\r\n\r\n      // @ToDo - (draft) use api request for fetch status of address list\r\n      let firstPendingTransaction = pendingTransactions[0] ? ({\r\n        address,\r\n        item: pendingTransactions[0]\r\n      }) : false\r\n\r\n      const transactions = res.items.map((item) => {\r\n        let { status } = item\r\n\r\n        switch (status) {\r\n          case TransactionStatus.Pending: status = 'pending'\r\n            break\r\n          case TransactionStatus.Ready:   status = 'ready'\r\n            break\r\n          case TransactionStatus.Reject:  status = 'reject'\r\n            break\r\n          case TransactionStatus.Cancel:  status = 'cancel'\r\n            break\r\n        }\r\n\r\n        return ({\r\n          type: 'btc',\r\n          hash: item.uniqhash,\r\n          canEdit: false,\r\n          txType: 'CONFIRM',\r\n          confirmTx: {\r\n            ...item,\r\n            status,\r\n            isHolder: (holderKey === item.holder),\r\n          },\r\n          confirmations: 0,\r\n          value: item.amount,\r\n          date: item.utx * 1000,\r\n          direction: 'out',\r\n        })\r\n      })\r\n\r\n      // @ToDo - (draft) use api request for fetch status of address list\r\n      reducers.user.updateMultisigStatus({\r\n        address,\r\n        last: firstPendingTransaction,\r\n        total: pendingTransactions.length,\r\n      })\r\n\r\n      return transactions\r\n    } return []\r\n  }).catch((e) => [])\r\n}\r\n\r\nconst goToLastWallet = () => {\r\n  const {\r\n    user: {\r\n      multisigStatus,\r\n    },\r\n  } = getState()\r\n\r\n  const walletsWithRequests = Object.keys(multisigStatus).map((walletAddress) => ({\r\n    walletAddress,\r\n    ...multisigStatus[walletAddress],\r\n  })).filter((item) => {\r\n    const {\r\n      count,\r\n      pending,\r\n    } = item\r\n\r\n    return count\r\n  })\r\n\r\n  if (walletsWithRequests.length) {\r\n    window.location.hash = `/btc/${walletsWithRequests[0].walletAddress}`\r\n  }\r\n}\r\n\r\n\r\nexport default {\r\n  broadcast,\r\n  fetch,\r\n\r\n  fetchTx,\r\n  fetchRawTx,\r\n  confirmTx,\r\n  rejectTx,\r\n\r\n  goToLastWallet,\r\n}\r\n","import modals from './modals'\r\nimport loader from './loader'\r\nimport notifications from './notifications'\r\n\r\nimport user from './user'\r\nimport history from './history'\r\nimport feed from './feed'\r\nimport core from './core'\r\nimport ui from './ui'\r\nimport filter from './filter'\r\nimport oneinch from './oneinch'\r\nimport uniswap from './uniswap'\r\nimport btc from './btc'\r\nimport ghost from './ghost'\r\nimport next from './next'\r\nimport btcmultisig from './btcmultisig'\r\nimport EthLikeAction from './ethLikeAction'\r\nimport Erc20LikeAction from './erc20LikeAction'\r\n\r\nimport api from './api'\r\nimport pairs from './pairs'\r\nimport analytics from './analytics'\r\n\r\nimport pubsubRoom from './pubsubRoom'\r\n\r\nimport invoices from './invoices'\r\nimport comments from './comments'\r\n\r\nimport backupManager from './backupManager'\r\n\r\nimport multisigTx from './multisigTx'\r\n\r\nexport default {\r\n  filter,\r\n  modals,\r\n  loader,\r\n  notifications,\r\n  user,\r\n  history,\r\n  core,\r\n  ui,\r\n  oneinch,\r\n  uniswap,\r\n  btc,\r\n  btcmultisig,\r\n  eth: EthLikeAction.ETH,\r\n  bnb: EthLikeAction.BNB,\r\n  matic: EthLikeAction.MATIC,\r\n  arbeth: EthLikeAction.ARBETH,\r\n  aureth: EthLikeAction.AURETH,\r\n  xdai: EthLikeAction.XDAI,\r\n  ftm: EthLikeAction.FTM,\r\n  avax: EthLikeAction.AVAX,\r\n  movr: EthLikeAction.MOVR,\r\n  one: EthLikeAction.ONE,\r\n  phi_v1: EthLikeAction.PHI_V1,\r\n  phi: EthLikeAction.PHI,\r\n  fkw: EthLikeAction.FKW,\r\n  phpx: EthLikeAction.PHPX,\r\n  ame: EthLikeAction.AME,\r\n  erc20: Erc20LikeAction.erc20,\r\n  bep20: Erc20LikeAction.bep20,\r\n  erc20matic: Erc20LikeAction.erc20matic,\r\n  erc20xdai: Erc20LikeAction.erc20xdai,\r\n  erc20ftm: Erc20LikeAction.erc20ftm,\r\n  erc20avax: Erc20LikeAction.erc20avax,\r\n  erc20movr: Erc20LikeAction.erc20movr,\r\n  erc20one: Erc20LikeAction.erc20one,\r\n  erc20aurora: Erc20LikeAction.erc20aurora,\r\n  phi20_v1: Erc20LikeAction.phi20_v1,\r\n  phi20: Erc20LikeAction.phi20,\r\n  fkw20: Erc20LikeAction.fkw20,\r\n  phpx20: Erc20LikeAction.phpx20,\r\n  erc20ame: Erc20LikeAction.erc20ame,\r\n  ghost,\r\n  next,\r\n\r\n  feed,\r\n  analytics,\r\n  pubsubRoom,\r\n  api,\r\n  pairs,\r\n  invoices,\r\n  comments,\r\n\r\n  // Local storage backups manager\r\n  backupManager,\r\n\r\n  multisigTx,\r\n}\r\n","import { getState } from 'redux/core'\r\nimport actions from 'redux/actions'\r\nimport config from './externalConfig'\r\nimport DEFAULT_CURRENCY_PARAMETERS from 'common/helpers/constants/DEFAULT_CURRENCY_PARAMETERS'\r\nimport constants from 'common/helpers/constants'\r\nimport request from 'common/utils/request'\r\nimport BigNumber from 'bignumber.js'\r\n\r\n\r\nconst networks = {\r\n  mainnet: {\r\n    messagePrefix: '\\x18Bitcoin Signed Message:\\n',\r\n    bech32: 'gp',\r\n    bip32: {\r\n      public:  0x68DF7CBD,\r\n      private: 0x8E8EA8EA,\r\n    },\r\n    pubKeyHash: 0x26,\r\n    scriptHash: 0x61,\r\n    wif: 0xA6,\r\n  },\r\n  testnet: {\r\n    messagePrefix: '\\x18Bitcoin Signed Message:\\n',\r\n    bech32: 'tghost',\r\n    bip32: {\r\n      public: 0xe1427800,\r\n      private: 0x04889478,\r\n    },\r\n    pubKeyHash: 0x4B,\r\n    scriptHash: 0x89,\r\n    wif: 0x2e,\r\n  }\r\n}\r\n\r\n\r\nconst hasAdminFee = (\r\n  config\r\n    && config.opts\r\n    && config.opts.fee\r\n    && config.opts.fee.ghost\r\n    && config.opts.fee.ghost.fee\r\n) ? config.opts.fee.ghost : false\r\n\r\nconst network = process.env.MAINNET\r\n  ? networks.mainnet\r\n  : networks.testnet\r\n\r\nconst DUST = 546 // description in ./btc.ts\r\n\r\n// getByteCount({'MULTISIG-P2SH:2-4':45},{'P2PKH':1}) Means \"45 inputs of P2SH Multisig and 1 output of P2PKH\"\r\n// getByteCount({'P2PKH':1,'MULTISIG-P2SH:2-3':2},{'P2PKH':2}) means \"1 P2PKH input and 2 Multisig P2SH (2 of 3) inputs along with 2 P2PKH outputs\"\r\nconst getByteCount = (inputs, outputs) => {\r\n  const { TRANSACTION } = constants\r\n  let totalWeight = 0\r\n  let hasWitness = false\r\n  let inputCount = 0\r\n  let outputCount = 0\r\n  // assumes compressed pubkeys in all cases.\r\n  const types = {\r\n    'inputs': {\r\n      'MULTISIG-P2SH': TRANSACTION.MULTISIG_P2SH_IN_SIZE * 4,\r\n      'MULTISIG-P2WSH': TRANSACTION.MULTISIG_P2WSH_IN_SIZE + (41 * 4),\r\n      'MULTISIG-P2SH-P2WSH': TRANSACTION.MULTISIG_P2SH_P2WSH_IN_SIZE + (76 * 4),\r\n      'P2PKH': TRANSACTION.P2PKH_IN_SIZE * 4,\r\n      'P2WPKH': TRANSACTION.P2WPKH_IN_SIZE + (41 * 4),\r\n      'P2SH-P2WPKH': TRANSACTION.P2SH_P2WPKH_IN_SIZE + (64 * 4),\r\n    },\r\n    'outputs': {\r\n      'P2SH': TRANSACTION.P2SH_OUT_SIZE * 4,\r\n      'P2PKH': TRANSACTION.P2PKH_OUT_SIZE * 4,\r\n      'P2WPKH': TRANSACTION.P2WPKH_OUT_SIZE * 4,\r\n      'P2WSH': TRANSACTION.P2WSH_OUT_SIZE * 4,\r\n    },\r\n  }\r\n\r\n  const checkUInt53 = (n) => {\r\n    if (n < 0 || n > Number.MAX_SAFE_INTEGER || n % 1 !== 0) throw new RangeError('value out of range')\r\n  }\r\n\r\n  const varIntLength = (number) => {\r\n    checkUInt53(number)\r\n\r\n    return (\r\n      number < 0xfd ? 1\r\n        : number <= 0xffff ? 3\r\n          : number <= 0xffffffff ? 5\r\n            : 9\r\n    )\r\n  }\r\n\r\n  Object.keys(inputs).forEach((key) => {\r\n    checkUInt53(inputs[key])\r\n    if (key.slice(0, 8) === 'MULTISIG') {\r\n      // ex. \"MULTISIG-P2SH:2-3\" would mean 2 of 3 P2SH MULTISIG\r\n      const keyParts = key.split(':')\r\n      if (keyParts.length !== 2) throw new Error(`invalid input: ${key}`)\r\n      const newKey = keyParts[0]\r\n      const mAndN = keyParts[1].split('-').map((item) => parseInt(item))\r\n\r\n      totalWeight += types.inputs[newKey] * inputs[key]\r\n      const multiplyer = (newKey === 'MULTISIG-P2SH') ? 4 : 1\r\n      totalWeight += ((73 * mAndN[0]) + (34 * mAndN[1])) * multiplyer * inputs[key]\r\n    } else {\r\n      totalWeight += types.inputs[key] * inputs[key]\r\n    }\r\n    inputCount += inputs[key]\r\n    if (key.indexOf('W') >= 0) hasWitness = true\r\n  })\r\n\r\n  Object.keys(outputs).forEach((key) => {\r\n    checkUInt53(outputs[key])\r\n    totalWeight += types.outputs[key] * outputs[key]\r\n    outputCount += outputs[key]\r\n  })\r\n\r\n  if (hasWitness) totalWeight += 2\r\n\r\n  totalWeight += 8 * 4\r\n  totalWeight += varIntLength(inputCount) * 4\r\n  totalWeight += varIntLength(outputCount) * 4\r\n\r\n  return Math.ceil(totalWeight / 4)\r\n}\r\n\r\n//@ts-ignore\r\nconst calculateTxSize = async ({ speed, unspents, address, txOut = 2, method = 'send', fixed } = {}) => {\r\n  const { TRANSACTION } = constants\r\n  const defaultTxSize = DEFAULT_CURRENCY_PARAMETERS.ghost.size[method]\r\n\r\n  if (fixed) {\r\n    return defaultTxSize\r\n  }\r\n\r\n  unspents = unspents || await actions.ghost.fetchUnspents(address)\r\n\r\n  const txIn = unspents.length\r\n  let txSize = defaultTxSize\r\n  \r\n  if (txIn > 0) {\r\n    txSize =\r\n      txIn * TRANSACTION.P2PKH_IN_SIZE +\r\n      txOut * TRANSACTION.P2PKH_OUT_SIZE +\r\n      (TRANSACTION.TX_SIZE + txIn - txOut)\r\n  }\r\n\r\n  if (method === 'send_multisig') {\r\n    const msuSize = getByteCount(\r\n      { 'MULTISIG-P2SH-P2WSH:2-2': 1 },\r\n      { 'P2PKH': (hasAdminFee) ? 3 : 2 }\r\n    )\r\n    const msutxSize =\r\n      txIn * msuSize +\r\n      txOut * TRANSACTION.P2PKH_OUT_SIZE +\r\n      (TRANSACTION.TX_SIZE + txIn - txOut)\r\n\r\n    return msutxSize\r\n  }\r\n\r\n  if (method === 'send_2fa') {\r\n    const msSize = getByteCount(\r\n      { 'MULTISIG-P2SH-P2WSH:2-3': 1 },\r\n      { 'P2PKH': (hasAdminFee) ? 3 : 2 }\r\n    )\r\n    const mstxSize =\r\n      txIn * msSize +\r\n      txOut * TRANSACTION.P2PKH_OUT_SIZE +\r\n      (TRANSACTION.TX_SIZE + txIn - txOut)\r\n\r\n    return mstxSize\r\n  }\r\n\r\n  return txSize\r\n}\r\n\r\ntype EstimateFeeValueOptions = {\r\n  method?: string\r\n  speed: 'fast' | 'normal' | 'slow'\r\n  feeRate?: number\r\n  inSatoshis?: boolean\r\n  address?: string\r\n  txSize?: number\r\n  fixed?: string\r\n}\r\n\r\nconst estimateFeeValue = async (options: EstimateFeeValueOptions) => {\r\n  let { feeRate, inSatoshis, speed, address, txSize, fixed, method } = options\r\n  const {\r\n    user: {\r\n      ghostData,\r\n      ghostMultisigSMSData,\r\n      ghostMultisigUserData,\r\n    },\r\n  } = getState()\r\n\r\n  const txOut = hasAdminFee\r\n    ? method === 'send'\r\n      ? 3\r\n      : 2\r\n    : 2\r\n\r\n  if (!address) {\r\n    address = ghostData.address\r\n    //@ts-ignore\r\n    if (method === 'send_2fa') address = ghostMultisigSMS\r\n    if (method === 'send_multisig') address = ghostMultisigUserData.address\r\n  }\r\n\r\n  //@ts-ignore\r\n  txSize = txSize || await calculateTxSize({ address, speed, fixed, method, txOut })\r\n  feeRate = feeRate || await estimateFeeRate({ speed })\r\n\r\n  const calculatedFeeValue = BigNumber.maximum(\r\n    DUST,\r\n    //@ts-ignore: strictNullChecks\r\n    new BigNumber(feeRate)\r\n      //@ts-ignore: strictNullChecks\r\n      .multipliedBy(txSize)\r\n      .div(1024) // divide by one kilobyte\r\n      .dp(0, BigNumber.ROUND_HALF_EVEN),\r\n  )\r\n\r\n  const finalFeeValue = inSatoshis\r\n    ? calculatedFeeValue.toString()\r\n    : calculatedFeeValue.multipliedBy(1e-8).toString()\r\n\r\n  console.log(`Ghost withdraw fee speed(${speed}) method (${method}) ${finalFeeValue}`)\r\n  return finalFeeValue\r\n}\r\n\r\nconst estimateFeeRate = async ({ speed = 'fast' } = {}) => {\r\n  const link = config.feeRates.ghost\r\n  const defaultRate = DEFAULT_CURRENCY_PARAMETERS.ghost.rate\r\n\r\n  if (!link) {\r\n    return defaultRate[speed]\r\n  }\r\n\r\n  let apiResult\r\n\r\n  try {\r\n    apiResult = await request.get(link, { cacheResponse: 60000 })\r\n  } catch (err) {\r\n    console.error(`EstimateFeeRate: ${err.message}`)\r\n    return defaultRate[speed]\r\n  }\r\n\r\n  const apiSpeeds = {\r\n    slow: 'low_fee_per_kb',\r\n    normal: 'medium_fee_per_kb',\r\n    fast: 'high_fee_per_kb',\r\n  }\r\n\r\n  const apiSpeed = apiSpeeds[speed] || apiSpeeds.normal\r\n  const apiRate = new BigNumber(apiResult[apiSpeed])\r\n\r\n  return apiRate.isGreaterThanOrEqualTo(DUST)\r\n    ? apiRate.toString()\r\n    : defaultRate[speed]\r\n}\r\n\r\nexport default {\r\n  calculateTxSize,\r\n  estimateFeeValue,\r\n  estimateFeeRate,\r\n  network,\r\n  networks,\r\n}\r\n","import { getState } from 'redux/core'\r\nimport actions from 'redux/actions'\r\nimport config from './externalConfig'\r\nimport DEFAULT_CURRENCY_PARAMETERS from 'common/helpers/constants/DEFAULT_CURRENCY_PARAMETERS'\r\nimport constants from 'common/helpers/constants'\r\nimport request from 'common/utils/request'\r\nimport BigNumber from 'bignumber.js'\r\n\r\nconst networks = {\r\n  mainnet: {\r\n    messagePrefix: 'Nextcoin Signed Message:\\n',\r\n    bip32: {\r\n      public:  0x0488B21E,\r\n      private: 0x0488ADE4,\r\n    },\r\n    pubKeyHash: 75,\r\n    scriptHash: 5,\r\n    wif: 128,\r\n  },\r\n  /*testnet: {\r\n    messagePrefix: '\\x18Bitcoin Signed Message:\\n',\r\n    bip32: {\r\n      public: 0xe1427800,\r\n      private: 0x04889478,\r\n    },\r\n    pubKeyHash: 0x4B,\r\n    scriptHash: 0x89,\r\n    wif: 0x2e,\r\n  }*/\r\n}\r\n\r\n\r\nconst hasAdminFee = (\r\n  config\r\n    && config.opts\r\n    && config.opts.fee\r\n    && config.opts.fee.next\r\n    && config.opts.fee.next.fee\r\n) ? config.opts.fee.next : false\r\n\r\n/*const network = process.env.MAINNET\r\n  ? networks.mainnet\r\n  : networks.testnet*/\r\nconst network = networks.mainnet\r\n\r\nconst DUST = 546 // description in ./btc.ts\r\n\r\n// getByteCount({'MULTISIG-P2SH:2-4':45},{'P2PKH':1}) Means \"45 inputs of P2SH Multisig and 1 output of P2PKH\"\r\n// getByteCount({'P2PKH':1,'MULTISIG-P2SH:2-3':2},{'P2PKH':2}) means \"1 P2PKH input and 2 Multisig P2SH (2 of 3) inputs along with 2 P2PKH outputs\"\r\nconst getByteCount = (inputs, outputs) => {\r\n  const { TRANSACTION } = constants\r\n  let totalWeight = 0\r\n  let hasWitness = false\r\n  let inputCount = 0\r\n  let outputCount = 0\r\n  // assumes compressed pubkeys in all cases.\r\n  const types = {\r\n    'inputs': {\r\n      'MULTISIG-P2SH': TRANSACTION.MULTISIG_P2SH_IN_SIZE * 4,\r\n      'MULTISIG-P2WSH': TRANSACTION.MULTISIG_P2WSH_IN_SIZE + (41 * 4),\r\n      'MULTISIG-P2SH-P2WSH': TRANSACTION.MULTISIG_P2SH_P2WSH_IN_SIZE + (76 * 4),\r\n      'P2PKH': TRANSACTION.P2PKH_IN_SIZE * 4,\r\n      'P2WPKH': TRANSACTION.P2WPKH_IN_SIZE + (41 * 4),\r\n      'P2SH-P2WPKH': TRANSACTION.P2SH_P2WPKH_IN_SIZE + (64 * 4),\r\n    },\r\n    'outputs': {\r\n      'P2SH': TRANSACTION.P2SH_OUT_SIZE * 4,\r\n      'P2PKH': TRANSACTION.P2PKH_OUT_SIZE * 4,\r\n      'P2WPKH': TRANSACTION.P2WPKH_OUT_SIZE * 4,\r\n      'P2WSH': TRANSACTION.P2WSH_OUT_SIZE * 4,\r\n    },\r\n  }\r\n\r\n  const checkUInt53 = (n) => {\r\n    if (n < 0 || n > Number.MAX_SAFE_INTEGER || n % 1 !== 0) throw new RangeError('value out of range')\r\n  }\r\n\r\n  const varIntLength = (number) => {\r\n    checkUInt53(number)\r\n\r\n    return (\r\n      number < 0xfd ? 1\r\n        : number <= 0xffff ? 3\r\n          : number <= 0xffffffff ? 5\r\n            : 9\r\n    )\r\n  }\r\n\r\n  Object.keys(inputs).forEach((key) => {\r\n    checkUInt53(inputs[key])\r\n    if (key.slice(0, 8) === 'MULTISIG') {\r\n      // ex. \"MULTISIG-P2SH:2-3\" would mean 2 of 3 P2SH MULTISIG\r\n      const keyParts = key.split(':')\r\n      if (keyParts.length !== 2) throw new Error(`invalid input: ${key}`)\r\n      const newKey = keyParts[0]\r\n      const mAndN = keyParts[1].split('-').map((item) => parseInt(item))\r\n\r\n      totalWeight += types.inputs[newKey] * inputs[key]\r\n      const multiplyer = (newKey === 'MULTISIG-P2SH') ? 4 : 1\r\n      totalWeight += ((73 * mAndN[0]) + (34 * mAndN[1])) * multiplyer * inputs[key]\r\n    } else {\r\n      totalWeight += types.inputs[key] * inputs[key]\r\n    }\r\n    inputCount += inputs[key]\r\n    if (key.indexOf('W') >= 0) hasWitness = true\r\n  })\r\n\r\n  Object.keys(outputs).forEach((key) => {\r\n    checkUInt53(outputs[key])\r\n    totalWeight += types.outputs[key] * outputs[key]\r\n    outputCount += outputs[key]\r\n  })\r\n\r\n  if (hasWitness) totalWeight += 2\r\n\r\n  totalWeight += 8 * 4\r\n  totalWeight += varIntLength(inputCount) * 4\r\n  totalWeight += varIntLength(outputCount) * 4\r\n\r\n  return Math.ceil(totalWeight / 4)\r\n}\r\n\r\n//@ts-ignore\r\nconst calculateTxSize = async ({ speed, unspents, address, txOut = 2, method = 'send', fixed } = {}) => {\r\n  const { TRANSACTION } = constants\r\n  const defaultTxSize = DEFAULT_CURRENCY_PARAMETERS.next.size[method]\r\n\r\n  if (fixed) {\r\n    return defaultTxSize\r\n  }\r\n\r\n  unspents = unspents || await actions.next.fetchUnspents(address)\r\n\r\n  const txIn = unspents.length\r\n  let txSize = defaultTxSize\r\n\r\n  if (txIn > 0) {\r\n    txSize =\r\n      txIn * TRANSACTION.P2PKH_IN_SIZE +\r\n      txOut * TRANSACTION.P2PKH_OUT_SIZE +\r\n      (TRANSACTION.TX_SIZE + txIn - txOut)\r\n  }\r\n\r\n  if (method === 'send_multisig') {\r\n    const msuSize = getByteCount(\r\n      { 'MULTISIG-P2SH-P2WSH:2-2': 1 },\r\n      { 'P2PKH': (hasAdminFee) ? 3 : 2 }\r\n    )\r\n    const msutxSize =\r\n      txIn * msuSize +\r\n      txOut * TRANSACTION.P2PKH_OUT_SIZE +\r\n      (TRANSACTION.TX_SIZE + txIn - txOut)\r\n\r\n    return msutxSize\r\n  }\r\n\r\n  if (method === 'send_2fa') {\r\n    const msSize = getByteCount(\r\n      { 'MULTISIG-P2SH-P2WSH:2-3': 1 },\r\n      { 'P2PKH': (hasAdminFee) ? 3 : 2 }\r\n    )\r\n    const mstxSize =\r\n      txIn * msSize +\r\n      txOut * TRANSACTION.P2PKH_OUT_SIZE +\r\n      (TRANSACTION.TX_SIZE + txIn - txOut)\r\n\r\n    return mstxSize\r\n  }\r\n\r\n  return txSize\r\n}\r\n\r\ntype EstimateFeeValueOptions = {\r\n  method?: string\r\n  speed: 'fast' | 'normal' | 'slow'\r\n  feeRate?: number\r\n  inSatoshis?: boolean\r\n  address?: string\r\n  txSize?: number\r\n  fixed?: string\r\n}\r\n\r\nconst estimateFeeValue = async (options: EstimateFeeValueOptions) => {\r\n  let { feeRate, inSatoshis, speed, address, txSize, fixed, method } = options\r\n  const {\r\n    user: {\r\n      nextData,\r\n      nextMultisigSMSData,\r\n      nextMultisigUserData,\r\n    },\r\n  } = getState()\r\n\r\n  const txOut = hasAdminFee\r\n    ? method === 'send'\r\n      ? 3\r\n      : 2\r\n    : 2\r\n\r\n  if (!address) {\r\n    address = nextData.address\r\n    //@ts-ignore\r\n    if (method === 'send_2fa') address = nextMultisigSMS\r\n    if (method === 'send_multisig') address = nextMultisigUserData.address\r\n  }\r\n\r\n  //@ts-ignore\r\n  txSize = txSize || await calculateTxSize({ address, speed, fixed, method, txOut })\r\n  feeRate = feeRate || await estimateFeeRate({ speed })\r\n\r\n  const calculatedFeeValue = BigNumber.maximum(\r\n    DUST,\r\n    //@ts-ignore: strictNullChecks\r\n    new BigNumber(feeRate)\r\n      //@ts-ignore: strictNullChecks\r\n      .multipliedBy(txSize)\r\n      .div(1024) // divide by one kilobyte\r\n      .dp(0, BigNumber.ROUND_HALF_EVEN),\r\n  )\r\n\r\n  const finalFeeValue = inSatoshis\r\n    ? calculatedFeeValue.toString()\r\n    : calculatedFeeValue.multipliedBy(1e-8).toString()\r\n\r\n  console.log(`Next withdraw fee speed(${speed}) method (${method}) ${finalFeeValue}`)\r\n  return finalFeeValue\r\n}\r\n\r\nconst estimateFeeRate = async ({ speed = 'fast' } = {}) => {\r\n  const link = config.feeRates.next\r\n  const defaultRate = DEFAULT_CURRENCY_PARAMETERS.next.rate\r\n\r\n  if (!link) {\r\n    return defaultRate[speed]\r\n  }\r\n\r\n  let apiResult\r\n\r\n  try {\r\n    apiResult = await request.get(link, { cacheResponse: 60000 })\r\n  } catch (err) {\r\n    console.error(`EstimateFeeRate: ${err.message}`)\r\n    return defaultRate[speed]\r\n  }\r\n\r\n  const apiSpeeds = {\r\n    slow: 'low_fee_per_kb',\r\n    normal: 'medium_fee_per_kb',\r\n    fast: 'high_fee_per_kb',\r\n  }\r\n\r\n\r\n  const apiSpeed = apiSpeeds[speed] || apiSpeeds.normal\r\n  const apiRate = new BigNumber(apiResult[apiSpeed])\r\n\r\n  return apiRate.isGreaterThanOrEqualTo(DUST)\r\n    ? apiRate.toString()\r\n    : defaultRate[speed]\r\n}\r\n\r\nexport default {\r\n  calculateTxSize,\r\n  estimateFeeValue,\r\n  estimateFeeRate,\r\n  network,\r\n  networks,\r\n}\r\n","import ethLikeHelper from 'common/helpers/ethLikeHelper'\r\n\r\n// TODO: =================================\r\n\r\n// ! Deprecated. Use common/helpers/ethLikeHelper.eth\r\n\r\n// TODO: =================================\r\n\r\ntype EstimateFeeParams = {\r\n  method: string\r\n}\r\n\r\nconst estimateFeeValue = async (params: EstimateFeeParams) => {\r\n  return ethLikeHelper.eth.estimateFeeValue(params)\r\n}\r\n\r\nconst estimateGasPrice = async (): Promise<number> => {\r\n  return ethLikeHelper.eth.estimateGasPrice()\r\n}\r\n\r\nexport default {\r\n  estimateFeeValue,\r\n  estimateGasPrice,\r\n}\r\n","import ethLikeHelper from 'common/helpers/ethLikeHelper'\r\n\r\n// TODO: =================================\r\n\r\n// ! Deprecated. Use common/helpers/ethLikeHelper.bnb\r\n\r\n// TODO: =================================\r\n\r\ntype EstimateFeeParams = {\r\n  method: string\r\n}\r\n\r\nconst estimateFeeValue = async (params: EstimateFeeParams) => {\r\n  return ethLikeHelper.bnb.estimateFeeValue(params)\r\n}\r\n\r\nconst estimateGasPrice = async (): Promise<number> => {\r\n  return ethLikeHelper.bnb.estimateGasPrice()\r\n}\r\n\r\nexport default {\r\n  estimateFeeValue,\r\n  estimateGasPrice,\r\n}\r\n","import ethLikeHelper from 'common/helpers/ethLikeHelper'\r\n\r\n// TODO: =================================\r\n\r\n// ! Deprecated. Use common/helpers/ethLikeHelper.matic\r\n\r\n// TODO: =================================\r\n\r\ntype EstimateFeeParams = {\r\n  method: string\r\n}\r\n\r\nconst estimateFeeValue = async (params: EstimateFeeParams) => {\r\n  return ethLikeHelper.matic.estimateFeeValue(params)\r\n}\r\n\r\nconst estimateGasPrice = async (): Promise<number> => {\r\n  return ethLikeHelper.matic.estimateGasPrice()\r\n}\r\n\r\nexport default {\r\n  estimateFeeValue,\r\n  estimateGasPrice,\r\n}\r\n","import ethLikeHelper from 'common/helpers/ethLikeHelper'\r\n\r\n// TODO: =================================\r\n\r\n// ! Deprecated. Use common/helpers/ethLikeHelper.arbitrum\r\n\r\n// TODO: =================================\r\n\r\ntype EstimateFeeParams = {\r\n  method: string\r\n}\r\n\r\nconst estimateFeeValue = async (params: EstimateFeeParams) => {\r\n  return ethLikeHelper.arbeth.estimateFeeValue(params)\r\n}\r\n\r\nconst estimateGasPrice = async (): Promise<number> => {\r\n  return ethLikeHelper.arbeth.estimateGasPrice()\r\n}\r\n\r\nexport default {\r\n  estimateFeeValue,\r\n  estimateGasPrice,\r\n}\r\n","import ethLikeHelper from 'common/helpers/ethLikeHelper'\r\n\r\n// TODO: =================================\r\n\r\n// ! Deprecated. Use common/helpers/ethLikeHelper.aureth\r\n\r\n// TODO: =================================\r\n\r\ntype EstimateFeeParams = {\r\n  method: string\r\n}\r\n\r\nconst estimateFeeValue = async (params: EstimateFeeParams) => {\r\n  return ethLikeHelper.aureth.estimateFeeValue(params)\r\n}\r\n\r\nconst estimateGasPrice = async (): Promise<number> => {\r\n  return ethLikeHelper.aureth.estimateGasPrice()\r\n}\r\n\r\nexport default {\r\n  estimateFeeValue,\r\n  estimateGasPrice,\r\n}\r\n","import ethLikeHelper from 'common/helpers/ethLikeHelper'\r\n\r\n// TODO: =================================\r\n\r\n// ! Deprecated. Use common/helpers/ethLikeHelper.phi\r\n\r\n// TODO: =================================\r\n\r\ntype EstimateFeeParams = {\r\n  method: string\r\n}\r\n\r\nconst estimateFeeValue = async (params: EstimateFeeParams) => {\r\n  return ethLikeHelper.phi_v1.estimateFeeValue(params)\r\n}\r\n\r\nconst estimateGasPrice = async (): Promise<number> => {\r\n  return ethLikeHelper.phi_v1.estimateGasPrice()\r\n}\r\n\r\nexport default {\r\n  estimateFeeValue,\r\n  estimateGasPrice,\r\n}\r\n","import ethLikeHelper from 'common/helpers/ethLikeHelper'\r\n\r\n// TODO: =================================\r\n\r\n// ! Deprecated. Use common/helpers/ethLikeHelper.phi\r\n\r\n// TODO: =================================\r\n\r\ntype EstimateFeeParams = {\r\n  method: string\r\n}\r\n\r\nconst estimateFeeValue = async (params: EstimateFeeParams) => {\r\n  return ethLikeHelper.phi.estimateFeeValue(params)\r\n}\r\n\r\nconst estimateGasPrice = async (): Promise<number> => {\r\n  return ethLikeHelper.phi.estimateGasPrice()\r\n}\r\n\r\nexport default {\r\n  estimateFeeValue,\r\n  estimateGasPrice,\r\n}\r\n","import ethLikeHelper from 'common/helpers/ethLikeHelper'\r\n\r\n// TODO: =================================\r\n\r\n// ! Deprecated. Use common/helpers/ethLikeHelper.phi\r\n\r\n// TODO: =================================\r\n\r\ntype EstimateFeeParams = {\r\n  method: string\r\n}\r\n\r\nconst estimateFeeValue = async (params: EstimateFeeParams) => {\r\n  return ethLikeHelper.fkw.estimateFeeValue(params)\r\n}\r\n\r\nconst estimateGasPrice = async (): Promise<number> => {\r\n  return ethLikeHelper.fkw.estimateGasPrice()\r\n}\r\n\r\nexport default {\r\n  estimateFeeValue,\r\n  estimateGasPrice,\r\n}\r\n","import ethLikeHelper from 'common/helpers/ethLikeHelper'\r\n\r\n// TODO: =================================\r\n\r\n// ! Deprecated. Use common/helpers/ethLikeHelper.phi\r\n\r\n// TODO: =================================\r\n\r\ntype EstimateFeeParams = {\r\n  method: string\r\n}\r\n\r\nconst estimateFeeValue = async (params: EstimateFeeParams) => {\r\n  return ethLikeHelper.phpx.estimateFeeValue(params)\r\n}\r\n\r\nconst estimateGasPrice = async (): Promise<number> => {\r\n  return ethLikeHelper.phpx.estimateGasPrice()\r\n}\r\n\r\nexport default {\r\n  estimateFeeValue,\r\n  estimateGasPrice,\r\n}\r\n","import ethLikeHelper from 'common/helpers/ethLikeHelper'\r\n\r\n// TODO: =================================\r\n\r\n// ! Deprecated. Use common/helpers/ethLikeHelper.xdai\r\n\r\n// TODO: =================================\r\n\r\ntype EstimateFeeParams = {\r\n  method: string\r\n}\r\n\r\nconst estimateFeeValue = async (params: EstimateFeeParams) => {\r\n  return ethLikeHelper.xdai.estimateFeeValue(params)\r\n}\r\n\r\nconst estimateGasPrice = async (): Promise<number> => {\r\n  return ethLikeHelper.xdai.estimateGasPrice()\r\n}\r\n\r\nexport default {\r\n  estimateFeeValue,\r\n  estimateGasPrice,\r\n}\r\n","import ethLikeHelper from 'common/helpers/ethLikeHelper'\r\n\r\n// TODO: =================================\r\n\r\n// ! Deprecated. Use common/helpers/ethLikeHelper.ftm\r\n\r\n// TODO: =================================\r\n\r\ntype EstimateFeeParams = {\r\n  method: string\r\n}\r\n\r\nconst estimateFeeValue = async (params: EstimateFeeParams) => {\r\n  return ethLikeHelper.ftm.estimateFeeValue(params)\r\n}\r\n\r\nconst estimateGasPrice = async (): Promise<number> => {\r\n  return ethLikeHelper.ftm.estimateGasPrice()\r\n}\r\n\r\nexport default {\r\n  estimateFeeValue,\r\n  estimateGasPrice,\r\n}\r\n","import ethLikeHelper from 'common/helpers/ethLikeHelper'\r\n\r\n// TODO: =================================\r\n\r\n// ! Deprecated. Use common/helpers/ethLikeHelper.avax\r\n\r\n// TODO: =================================\r\n\r\ntype EstimateFeeParams = {\r\n  method: string\r\n}\r\n\r\nconst estimateFeeValue = async (params: EstimateFeeParams) => {\r\n  return ethLikeHelper.avax.estimateFeeValue(params)\r\n}\r\n\r\nconst estimateGasPrice = async (): Promise<number> => {\r\n  return ethLikeHelper.avax.estimateGasPrice()\r\n}\r\n\r\nexport default {\r\n  estimateFeeValue,\r\n  estimateGasPrice,\r\n}\r\n","import ethLikeHelper from 'common/helpers/ethLikeHelper'\r\n\r\n// TODO: =================================\r\n\r\n// ! Deprecated. Use common/helpers/ethLikeHelper.movr\r\n\r\n// TODO: =================================\r\n\r\ntype EstimateFeeParams = {\r\n  method: string\r\n}\r\n\r\nconst estimateFeeValue = async (params: EstimateFeeParams) => {\r\n  return ethLikeHelper.movr.estimateFeeValue(params)\r\n}\r\n\r\nconst estimateGasPrice = async (): Promise<number> => {\r\n  return ethLikeHelper.movr.estimateGasPrice()\r\n}\r\n\r\nexport default {\r\n  estimateFeeValue,\r\n  estimateGasPrice,\r\n}\r\n","import ethLikeHelper from 'common/helpers/ethLikeHelper'\r\n\r\n// TODO: =================================\r\n\r\n// ! Deprecated. Use common/helpers/ethLikeHelper.one\r\n\r\n// TODO: =================================\r\n\r\ntype EstimateFeeParams = {\r\n  method: string\r\n}\r\n\r\nconst estimateFeeValue = async (params: EstimateFeeParams) => {\r\n  return ethLikeHelper.one.estimateFeeValue(params)\r\n}\r\n\r\nconst estimateGasPrice = async (): Promise<number> => {\r\n  return ethLikeHelper.one.estimateGasPrice()\r\n}\r\n\r\nexport default {\r\n  estimateFeeValue,\r\n  estimateGasPrice,\r\n}\r\n","import ethLikeHelper from 'common/helpers/ethLikeHelper'\r\n\r\n// TODO: =================================\r\n\r\n// ! Deprecated. Use common/helpers/ethLikeHelper.one\r\n\r\n// TODO: =================================\r\n\r\ntype EstimateFeeParams = {\r\n  method: string\r\n}\r\n\r\nconst estimateFeeValue = async (params: EstimateFeeParams) => {\r\n  return ethLikeHelper.ame.estimateFeeValue(params)\r\n}\r\n\r\nconst estimateGasPrice = async (): Promise<number> => {\r\n  return ethLikeHelper.ame.estimateGasPrice()\r\n}\r\n\r\nexport default {\r\n  estimateFeeValue,\r\n  estimateGasPrice,\r\n}\r\n","import config from './externalConfig'\r\nimport erc20Like from 'common/erc20Like'\r\n\r\n// TODO: =================================\r\n\r\n// ! Deprecated. Use common/erc20Like\r\n\r\n// TODO: =================================\r\n\r\nconst isEthOrEthToken = ({ name }) => Object.keys(config.erc20).concat('eth').includes(name.toLowerCase())\r\n\r\ntype EstimateFeeOptions = {\r\n  method: string\r\n  swapABMethod?: 'withdraw' | 'deposit'\r\n  speed: 'fast' | 'normal' | 'slow'\r\n}\r\n\r\nconst estimateFeeValue = async (options: EstimateFeeOptions) => {\r\n  return erc20Like.erc20.estimateFeeValue(options)\r\n}\r\n\r\nconst estimateGasPrice = (params) => {\r\n  return erc20Like.erc20.estimateFeeValue(params)\r\n}\r\n\r\nexport default {\r\n  estimateFeeValue,\r\n  estimateGasPrice,\r\n  isEthOrEthToken,\r\n}\r\n","const linksManager = {\r\n  home: '/',\r\n  hashHome: '#/',\r\n\r\n  exchange: '/exchange',\r\n  quickSwap: '/exchange/quick',\r\n\r\n  // Market maker page - for run parallel swaps in background\r\n  marketmaker: '/marketmaker',\r\n  marketmaker_short: '/mm',\r\n\r\n  history: '/history',\r\n  createWallet: '/createWallet',\r\n  restoreWallet: '/restoreWallet',\r\n  restoreWalletMnemonic: '/restoreWalletMnemonic',\r\n  restoreWalletShamirs: '/restoreWalletShamirs',\r\n  connectWallet: '/connectWallet',\r\n  invoices: '/invoices',\r\n  invoice: '/invoice',\r\n  farm: 'https://farm.wpmix.net/',\r\n  localStorage: '/localStorage',\r\n\r\n  wallets: '/wallets',\r\n  send: '/withdraw',\r\n  savePrivateSeed: '/savePrivateSeed',\r\n  savePrivateKeys: '/savePrivateKeys',\r\n  currencyWallet: '/wallet',\r\n  atomicSwap: '/atomic-swaps',\r\n  turboSwap: '/turbo-swaps',\r\n  feed: '/feed',\r\n  test: 'https://testnet.swaponline.io',\r\n  main: 'https://swaponline.io/',\r\n  wallet: '/wallet',\r\n  notFound: '/NotFound',\r\n  multisign: '/multisign',\r\n  createInvoice: '/createinvoice',\r\n\r\n  // social networks\r\n  medium: '#',\r\n  twitter: 'https://twitter.com/SwapOnlineTeam',\r\n  facebook: '#',\r\n  github: 'https://github.com/swaponline/MultiCurrencyWallet',\r\n  telegram: 'https://t.me/swaponline',\r\n  bitcointalk: '#',\r\n  discord: '#',\r\n  reddit: '#',\r\n  youtube: '#',\r\n\r\n  transak: 'https://global.transak.com/',\r\n  transakDev: 'https://staging-global.transak.com/',\r\n  transactionRate: 'https://en.bitcoin.it/wiki/Maximum_transaction_rate#:~:text=Each%20transaction%20input%20requires%20at,the%20minimum-sized%20Bitcoin%20transaction',\r\n  impermanentLoss: 'https://academy.binance.com/en/articles/impermanent-loss-explained',\r\n  swapAudit: 'https://medium.com/swaponline/technical-audit-of-swap-core-is-finished-successfully-65a67bc5f58a',\r\n  currencyCourses: 'https://noxon.wpmix.net/cursAll.php',\r\n\r\n  // footer links\r\n  etherdelta: 'https://etherdelta.com/#0x14a52cf6b4f68431bd5d9524e4fcd6f41ce4ade9-ETH',\r\n  button: 'https://wiki.swaponline.io/about-swap-online/#b2b',\r\n  about: 'https://wiki.swaponline.io/about-swap-online/',\r\n  extension: 'https://chrome.google.com/webstore/detail/swaponline/oldojieloelkkfeacfinhcngmbkepnlm',\r\n  career: 'https://wiki.swaponline.io/careers-swap-online/',\r\n  contacts: 'https://wiki.swaponline.io/contacts-swap-online/',\r\n  concept: 'https://wiki.swaponline.io/en.pdf',\r\n  description: 'https://docs.google.com/document/d/1MWrDR5pc3FB7AiWBO0GyBWBSci3VuDKNvknkPHtTzl8/edit#heading=h.tml4qc7dhie9',\r\n  research: 'https://docs.google.com/spreadsheets/d/1qWFLK2y8oMH5Gfam-iwqXPzLtwNabzp_EL6QFxjSBc0/edit?usp=sharing',\r\n  wiki: 'https://wiki.swaponline.io',\r\n  bitcointalkSendTx: 'https://bitcointalk.org/index.php?topic=1938621.0',\r\n  privacyPolicy: 'https://drive.google.com/file/d/1LdsCOfX_pOJAMqlL4g6DfUpZrGF5eRe9/view?usp=sharing',\r\n  privacyPolicyDoc: 'https://drive.google.com/file/d/0Bz2ZwZCmFtj_N29fQVk4bV9tUXRscjFEcUkxVkFXdF9tY0ow/view?usp=sharing',\r\n  terms: 'https://drive.google.com/file/d/0Bz2ZwZCmFtj_Nm9qSm0tUm9Ia1kwVGhWRlVlVXRJTGZtYW5N/view?usp=sharing',\r\n  legalOpinion: 'https://drive.google.com/file/d/0Bz2ZwZCmFtj_WlNkY0ZYN0ZpNUo2VFVEeW9rWEVoTlNja0VZ/view?usp=sharing',\r\n  licence: 'https://www.teatmik.ee/en/personlegal/14477421-Swap-Online-O%C3%9C',\r\n  faq: [\r\n    {\r\n      question: 'What is the price of SWAP token?',\r\n      link: 'https://wiki.swaponline.io/faq/#swap-faq-1',\r\n    },\r\n    {\r\n      question: 'I don\\'t see the Order, although the others can see it (or it can be seen from a different browser)',\r\n      link: 'https://wiki.swaponline.io/faq/#swap-faq-2',\r\n    },\r\n    {\r\n      question: 'Where are my private keys stored?',\r\n      link: 'https://wiki.swaponline.io/faq/#swap-faq-3',\r\n    },\r\n    {\r\n      question: 'Is KYC required?',\r\n      link: 'https://wiki.swaponline.io/faq/#swap-faq-4',\r\n    },\r\n    {\r\n      question: 'What swap pairs are available?',\r\n      link: 'https://wiki.swaponline.io/faq/#swap-faq-5',\r\n    },\r\n    {\r\n      question: 'Is there fee for trade?',\r\n      link: 'https://wiki.swaponline.io/faq/#swap-faq-6',\r\n    },\r\n    {\r\n      question: 'How much gas is being spent for swap?',\r\n      link: 'https://wiki.swaponline.io/faq/#swap-faq-7',\r\n    },\r\n    {\r\n      question: 'Min sum to trade?',\r\n      link: 'https://wiki.swaponline.io/faq/#swap-faq-8',\r\n    },\r\n    {\r\n      question: 'My swap got stuck and my Bitcoin has already been sent to the swap. What should I do?',\r\n      link: 'https://wiki.swaponline.io/faq/#swap-faq-9',\r\n    },\r\n    {\r\n      question: 'In what language is this written, and where I can find source code?',\r\n      link: 'https://wiki.swaponline.io/faq/#swap-faq-10',\r\n    },\r\n    {\r\n      question: 'Swap.Online token',\r\n      link: 'https://wiki.swaponline.io/faq/#swap-faq-11',\r\n    },\r\n    {\r\n      question: 'What is Swap.Button?',\r\n      link: 'https://wiki.swaponline.io/faq/#swap-faq-12',\r\n    },\r\n    {\r\n      question: 'Advantages of using the exchanger based on Swap.Online DEP',\r\n      link: 'https://wiki.swaponline.io/faq/#swap-faq-13',\r\n    },\r\n    {\r\n      question: 'Request is declined. Why?',\r\n      link: 'https://wiki.swaponline.io/faq/#swap-faq-5738',\r\n      id: 'requestDeclimed',\r\n    },\r\n  ],\r\n  // footer new links\r\n  footer: {\r\n    exchange: 'https://swap.online/exchange',\r\n    wallet: 'https://swap.online',\r\n    widget: 'https://widget.swap.online/',\r\n    chromeextantion: 'https://chrome.google.com/webstore/detail/swaponline/oldojieloelkkfeacfinhcngmbkepnlm',\r\n    forstablecoin: 'https://wiki.swaponline.io/for_stablecoins/',\r\n    fordexses: 'https://wiki.swaponline.io/for_dexs/',\r\n    forblockchains: 'https://wiki.swaponline.io/for_blockchains/',\r\n    whitepaper: 'https://wiki.swaponline.io/en.pdf',\r\n    wiki: 'https://wiki.swaponline.io/',\r\n    github: 'https://github.com/swaponline',\r\n    about: 'https://wiki.swaponline.io/about-swap-online/',\r\n    agreements: 'https://drive.google.com/file/d/0Bz2ZwZCmFtj_Nm9qSm0tUm9Ia1kwVGhWRlVlVXRJTGZtYW5N/view?usp=sharing',\r\n    privacypolicy: 'https://drive.google.com/file/d/1LdsCOfX_pOJAMqlL4g6DfUpZrGF5eRe9/view?usp=sharing',\r\n    legal: 'https://drive.google.com/file/d/0Bz2ZwZCmFtj_WlNkY0ZYN0ZpNUo2VFVEeW9rWEVoTlNja0VZ/view?usp=sharing',\r\n    contacts: 'https://wiki.swaponline.io/contacts-swap-online/',\r\n    comparsion: 'https://docs.google.com/spreadsheets/d/1HVWjTKexfPjan_LFnCwMazEZTvcVtYl_3NWFKQ0L3ZM/edit?usp=drive_web&ouid=100012339553469619949',\r\n    bankdashboard: 'https://wiki.swaponline.io/crypto_banking/',\r\n    lnresearch: 'https://wiki.swaponline.io/lightninghack-berlin-june2018/',\r\n  },\r\n\r\n  getFaqLink(faqID) {\r\n    for (let i = 0; i < this.faq.length; i++) {\r\n      if (this.faq[i].id\r\n        && (this.faq[i].id === faqID)\r\n      ) {\r\n        return this.faq[i].link\r\n      }\r\n    }\r\n    return false\r\n  },\r\n}\r\n\r\nexport const getFullOrigin = () => `${location.origin}${location.pathname}#`\r\n\r\n\r\nexport default linksManager\r\n","import axios from 'axios'\r\nimport { constants, localStorage } from 'helpers'\r\nimport config from 'helpers/externalConfig'\r\n\r\n\r\nconst saveUserData = function saveUserData(data) {\r\n  const { key, value } = data\r\n  window.localStorage.setItem(key, JSON.stringify(value))\r\n\r\n  const interval = window.setInterval(() => {\r\n    const isWalletCreate = localStorage.getItem(constants.localStorage.isWalletCreate)\r\n\r\n    if (isWalletCreate\r\n      && config\r\n      && config.opts\r\n      && config.opts.plugins\r\n      && config.opts.plugins.userDataPluginApi\r\n      && window.WPuserUid\r\n      && config.opts.WPuserHash\r\n    ) {\r\n      const { user } = localStorage.getItem('redux-store')\r\n\r\n      const curKeys = Object.keys(user).filter(el => {\r\n        if (el !== 'tokensData') {\r\n          return el.includes('Data')\r\n        }\r\n        return false\r\n      })\r\n\r\n      const data = {}\r\n      curKeys.forEach(el => {\r\n        const { address, balance } = user[el]\r\n\r\n        if (address) {\r\n          data[el] = {\r\n            address,\r\n            balance,\r\n          }\r\n        }\r\n\r\n      })\r\n\r\n      Object.keys(user.tokensData).forEach((key) => {\r\n        const { balance, address } = user.tokensData[key]\r\n        if (address) {\r\n          data[key] = {\r\n            balance,\r\n            address,\r\n          }\r\n        }\r\n      })\r\n\r\n      if (data && Object.values(data).length) {\r\n        axios.post(config.opts.plugins.userDataPluginApi, {\r\n          ...data,\r\n          WPuserUid: window.WPuserUid,\r\n          WPuserHash: config.opts.WPuserHash,\r\n        })\r\n      }\r\n      window.clearInterval(interval)\r\n    }\r\n  }, 10000)\r\n}\r\n\r\nexport default saveUserData\r\n","import saveUserData from './saveUserData'\r\nimport backupUserData from './backupUserData'\r\n\r\n\r\n// put plugin function into this obj\r\nexport default {\r\n  saveUserData,\r\n  backupUserData,\r\n}\r\n","//@ts-ignore\r\nimport plugins from 'plugins';\r\nimport config from 'helpers/externalConfig'\r\n\r\n\r\nlet isLocalStorageEnabled\r\n\r\ntry {\r\n  window.localStorage.setItem('test', 'test')\r\n  window.localStorage.removeItem('test')\r\n  isLocalStorageEnabled = true\r\n} catch (e) {\r\n  isLocalStorageEnabled = false\r\n}\r\n\r\nconst getPluginMethod = (name, data) => {\r\n  if (plugins && plugins[name] && typeof plugins[name] === 'function') {\r\n    return plugins[name](data)\r\n  }\r\n  throw new Error(`plugin code error or plugin function is not exist, check ${name} function in plugins derectory`)\r\n}\r\n\r\nconst setItem = (key, value, stringify = true) => {\r\n  if (isLocalStorageEnabled) {\r\n    const setItemPlugin = config?.opts?.plugins?.setItemPlugin || false\r\n\r\n    if (setItemPlugin) {\r\n      getPluginMethod(setItemPlugin, { key, value })\r\n    } else {\r\n      if (stringify) {\r\n        window.localStorage.setItem(key, JSON.stringify(value))\r\n      } else {\r\n        window.localStorage.setItem(key, value)\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nconst getItem = (key) => {\r\n  if (isLocalStorageEnabled) {\r\n    const { localStorage } = window\r\n    const getItemPlugin = config?.opts?.plugins?.getItemPlugin || false\r\n\r\n    if (getItemPlugin) {\r\n      return getPluginMethod(getItemPlugin, { key })\r\n    }\r\n\r\n    const value = localStorage.getItem(key)\r\n\r\n    try {\r\n      if (value) {\r\n        return JSON.parse(value)\r\n      }\r\n\r\n      return value\r\n    } catch (err) {\r\n      return value\r\n    }\r\n  }\r\n\r\n  return undefined\r\n}\r\n\r\nconst removeItem = (key) => {\r\n  if (isLocalStorageEnabled) {\r\n    return window.localStorage.removeItem(key)\r\n  }\r\n}\r\n\r\nconst clear = () => {\r\n  if (isLocalStorageEnabled) {\r\n    window.localStorage.clear()\r\n  }\r\n}\r\n\r\nconst subscribe = (key, originalListener) => {\r\n  const listener = (event) => {\r\n    if (event.storageArea === window.localStorage && event.key === key) {\r\n      originalListener(event.newValue, event.oldValue)\r\n    }\r\n  }\r\n  window.addEventListener('storage', listener, false)\r\n  return listener\r\n}\r\n\r\nconst unsubscribe = (listener) => {\r\n  window.removeEventListener('storage', listener, false)\r\n}\r\n\r\nexport default {\r\n  setItem,\r\n  getItem,\r\n  removeItem,\r\n  clear,\r\n  subscribe,\r\n  unsubscribe,\r\n}\r\n","/* eslint-disable */\r\nimport path from 'path'\r\nimport fs from 'fs'\r\nimport { BigNumber } from 'bignumber.js'\r\n\r\nexport const removeRepo = (pathToRepo) => {\r\n  /**\r\n   * Check NODE_ENV if env = test or window === undefined\r\n   * return this function\r\n   * else delete REPO directory\r\n   */\r\n  if (\r\n    typeof window !== 'undefined' ||\r\n    !fs.existsSync(pathToRepo)\r\n  ) {\r\n    console.log('ENV === test or start with browser or file not exists with path')\r\n    return\r\n  }\r\n\r\n  try {\r\n    /**\r\n     * check files in directory\r\n     * and call functions for each of them\r\n     */\r\n    for (let file of fs.readdirSync(pathToRepo)) {\r\n      /**\r\n       * Create path to file inner directory\r\n       */\r\n      const curPath = path.join(pathToRepo, file)\r\n\r\n      /**\r\n       * if file or directory not exist\r\n       * then missing this path\r\n       */\r\n      if (!fs.existsSync(curPath)) {\r\n        continue\r\n      }\r\n\r\n      /**\r\n       * if check path on directory then\r\n       * recursive call else delete file\r\n       */\r\n      (fs.lstatSync(curPath).isDirectory())\r\n        ? removeRepo(curPath)\r\n        : fs.unlinkSync(curPath)\r\n    }\r\n\r\n    /** If not files then remove directory */\r\n    fs.rmdirSync(pathToRepo)\r\n  } catch (err) {\r\n    console.error(err)\r\n    process.exit(1)\r\n  }\r\n}\r\n\r\nexport const exitListener = () => {\r\n  /**\r\n   * listening for array signalls\r\n   * and call funct wich argument\r\n   */\r\n  [ 'SIGINT', 'SIGTERM', 'SIGBREAK' ]\r\n    .forEach(SIGNAL => {\r\n      process.on(SIGNAL, () => {\r\n        console.log('Process out...')\r\n        process.kill(0, 'SIGKILL')\r\n        process.exit()\r\n      })\r\n    })\r\n}\r\n\r\nexport const createRepo = (dirpath = `./data/`) => {\r\n  // dirpath += Math.ceil(Math.random() * 10000)\r\n  return path.resolve(dirpath)\r\n}\r\n\r\nexport function getCookie(cname) {\r\n  var name = cname + \"=\";\r\n  var ca = document.cookie.split(';');\r\n  for(var i = 0; i < ca.length; i++) {\r\n    var c = ca[i];\r\n    while (c.charAt(0) == ' ') {\r\n      c = c.substring(1);\r\n    }\r\n    if (c.indexOf(name) == 0) {\r\n      return c.substring(name.length, c.length);\r\n    }\r\n  }\r\n  return \"\";\r\n}\r\n\r\nexport function setCookie(name, value, options) {\r\n  options = options || {};\r\n\r\n  var expires = options.expires;\r\n\r\n  if (typeof expires == \"number\" && expires) {\r\n    var d = new Date();\r\n    d.setTime(d.getTime() + expires * 1000);\r\n    expires = options.expires = d;\r\n  }\r\n  if (expires && expires.toUTCString) {\r\n    options.expires = expires.toUTCString();\r\n  }\r\n\r\n  value = encodeURIComponent(value);\r\n\r\n  var updatedCookie = name + \"=\" + value;\r\n\r\n  for (var propName in options) {\r\n    updatedCookie += \"; \" + propName;\r\n    var propValue = options[propName];\r\n    if (propValue !== true) {\r\n      updatedCookie += \"=\" + propValue;\r\n    }\r\n  }\r\n\r\n  document.cookie = updatedCookie;\r\n}\r\n\r\n/**\r\n * Returned string prevents from scientific notation: ex. 10e17\r\n */\r\nexport const toMeaningfulFloatValue = (params: {\r\n  value: BigNumber | number | string\r\n  rate?: BigNumber | number | string\r\n  meaningfulDecimals?: number | false\r\n}): string => {\r\n  const { value, rate = 1, meaningfulDecimals = false } = params\r\n\r\n  let result = new BigNumber(value).multipliedBy(rate)\r\n  const strResult = result.toString()\r\n  const floatCoincidence = strResult.match(/\\..+/)\r\n\r\n  if (floatCoincidence) {\r\n    // exclude the decimal point\r\n    const floatNums = floatCoincidence[0].slice(1)\r\n\r\n    // find the first meaningful number in the float num\r\n    const meaningfulNum = floatNums.match(/[1-9]/)\r\n\r\n    if (meaningfulNum) {\r\n      const numOfZeros = floatNums.indexOf(meaningfulNum[0])\r\n\r\n      if (!meaningfulDecimals || numOfZeros >= meaningfulDecimals) {\r\n        // save two meaningful nums by default\r\n        result = result.dp(numOfZeros + 2, BigNumber.ROUND_CEIL)\r\n      } else if (meaningfulDecimals) {\r\n        result = result.dp(meaningfulDecimals, BigNumber.ROUND_CEIL)\r\n      }\r\n    }\r\n  }\r\n\r\n  return result.toString()\r\n}","const seo = {\r\n  config: {\r\n    medium: 'https://medium.com/@swaponline',\r\n    twitter: 'https://twitter.com/SwapOnlineTeam',\r\n    facebook: 'https://www.facebook.com/SwapOnlineTeam',\r\n    telegram: 'https://t.me/swaponline',\r\n    email: 'info@swaponline.io',\r\n    mainUrl: 'https://swaponline.io',\r\n    logo: 'https://wiki.swaponline.io/assets/swaponline_io.svg',\r\n  },\r\n  defaultTitle: 'Hot Wallet with Exchange',\r\n  defaultDescription: 'Our online wallet with Atomic swap algorithms will help you store and exchange cryptocurrency instantly and more secure without third-parties. Decentralized exchange.',\r\n  pages: [\r\n    {\r\n      uri: '/',\r\n      title: window.defaultWindowTitle || 'Hot Wallet with Exchange',\r\n      description: 'Our online wallet with Atomic swap algorithms will help you store and exchange' +\r\n        ' cryptocurrency instantly and more secure without third-parties. Decentralized exchange.',\r\n    },\r\n    {\r\n      uri: '/exchange',\r\n      title: 'Exchange',\r\n      description: 'Exchange',\r\n    },\r\n    {\r\n      uri: '/exchange/btc',\r\n      title: 'Bitcoin',\r\n      description: 'Bitcoin',\r\n      h1: 'Bitcoin Trade',\r\n    },\r\n    {\r\n      uri: '/exchange/eth',\r\n      title: 'Ethereum',\r\n      description: 'Ethereum',\r\n      h1: 'Ethereum Trade',\r\n    },\r\n    {\r\n      uri: '/exchange/swap',\r\n      title: 'Swap',\r\n      description: 'Swap',\r\n      h1: 'Swap Trade',\r\n    },\r\n    {\r\n      uri: '/exchange/noxon',\r\n      title: 'Noxon',\r\n      description: 'Noxon',\r\n      h1: 'Noxon Trade',\r\n    },\r\n    {\r\n      uri: '/exchange/jot',\r\n      title: 'Jot',\r\n      description: 'Jot',\r\n      h1: 'Jot Trade',\r\n    },\r\n    {\r\n      uri: '/history',\r\n      title: 'Transactions',\r\n      description: 'Transactions',\r\n    },\r\n    {\r\n      uri: '/swap',\r\n      title: 'Swap',\r\n      description: 'Swap',\r\n    },\r\n    {\r\n      uri: '/feed',\r\n      title: 'Feed',\r\n      description: 'Feed',\r\n    },\r\n    {\r\n      uri: '/eth-btc',\r\n      title: 'Atomic Swap Ethereum (ETH) to Bitcoin (BTC) Decentralized Exchange',\r\n      description: 'Best exchange rate for Ethereum (ETH) to Bitcoin (BTC) atomic swap. Decentralized exchange of digital currencies with online wallet.',\r\n      h1: 'Atomic Swap Ethereum (ETH) to Bitcoin (BTC) - Instant Exchange',\r\n    },\r\n    {\r\n      uri: '/btc-eth',\r\n      title: 'Atomic Swap Bitcoin (BTC) to Ethereum (ETH) Cross-Chain Exchange',\r\n      description: 'Looking for best exchange rate to buy Ethereum (ETH) with Bitcoin (BTC)? Place your order on Swap.online to get the best rate.',\r\n      h1: 'Atomic Swap Bitcoin (BTC) to Ethereum (ETH) - Decentralized Exchange',\r\n    },\r\n    //  Wallets.\r\n    {\r\n      uri: '/Ethereum-wallet',\r\n      title: 'Ethereum Wallet with Atomic Swap (exchange)',\r\n      description: 'Exchange Ethereum (ETH) & ERC20 token using Swap.Online (hot) wallet with built-in Atomic Swap exchange. (No fees, No registration or KYC)',\r\n      h1: 'Your online Ethereum (ETH) web wallet with Atomic Swap.',\r\n    },\r\n    {\r\n      uri: '/Bitcoin-wallet',\r\n      title: 'Bitcoin (BTC) Web Wallet with Atomic Swap.',\r\n      description: 'Swap.Online Bitcoin Wallet will allow you to exchange your coins using Atomic Swap technology.',\r\n      h1: 'Your online Bitcoin (BTC) web wallet with Atomic Swap.',\r\n      footer: ``,\r\n    },\r\n    {\r\n      uri: '/USDT-wallet',\r\n      title: 'Swap.Online - Tether (USDT) Web Wallet with Atomic Swap.',\r\n      description: 'Atomic Swap web wallet allows you to store and exchange USDT to Bitcoin. Multi-currency wallet with a decentralized exchange (based on Atomic Swap technology)',\r\n      h1: 'Your online Tether (USDT) wallet with Atomic Swap.',\r\n    },\r\n  ],\r\n}\r\n\r\nexport const getSeoPage = uri => seo.pages.find(p => p.uri === uri)\r\n\r\nexport const getUrl = uri => `${seo.config.mainUrl}${uri}`\r\n\r\nexport default seo\r\n","import SwapApp, { util } from 'swap.app'\r\nimport actions from 'redux/actions'\r\nimport moment from 'moment/moment'\r\n\r\n\r\nconst getSwapByIdSafe = (swapID) => {\r\n  try {\r\n    const returnedSwap = actions.core.getSwapById(swapID)\r\n    return returnedSwap\r\n  } catch (noFlowError) {\r\n    return false\r\n  }\r\n}\r\nconst getDeclinedExistedSwapIndex = ({ currency, decline }) => {\r\n  const date = Date.now() / 1000\r\n\r\n  const indexOfDecline = decline.length - 1\r\n\r\n  if (indexOfDecline >= 0) {\r\n    for (let i = 0; i <= indexOfDecline; i++) {\r\n      const declineSwap = getSwapByIdSafe(decline[i])\r\n\r\n      if (declineSwap) {\r\n        const itemState = declineSwap.flow.state\r\n        const values = itemState.utxoScriptValues\r\n\r\n        if (values) {\r\n          const { isFinished, isRefunded, isStoppedSwap } = itemState\r\n\r\n          //@ts-ignore\r\n          const lockTime = moment.unix(values.lockTime || date)._i / 1000\r\n          const timeSinceLock = date - lockTime\r\n\r\n          if (isFinished || isRefunded || isStoppedSwap || timeSinceLock > 259200) { // 259200 3   \r\n            actions.core.forgetOrders(decline[i])\r\n          } else if (declineSwap.sellCurrency === currency.toUpperCase()\r\n            //@ts-ignore\r\n            && !declineSwap.isSwapExist\r\n            && !declineSwap.isMy) {\r\n            return i\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return false\r\n}\r\n\r\nexport default {\r\n  getDeclinedExistedSwapIndex,\r\n}\r\n","import axios from 'axios'\r\nimport { routing, links, externalConfig } from 'helpers'\r\n\r\nconst isFeedbackEnabled = !externalConfig.isWidget || window?.STATISTICS_ENABLED\r\nconst marks = {\r\n  danger: '',\r\n  warning: '',\r\n  attention: '',\r\n  unimportant: '',\r\n}\r\n\r\nconst sendMessage = ({ appPart, eventName, details }) => {\r\n  if (!isFeedbackEnabled) {\r\n    return\r\n  }\r\n\r\n  let host = routing.getTopLocation().host || window.location.hostname || document.location.host\r\n  let version = window.pluginVersion\r\n  let remainingLicenseDays = window.licenceInfo\r\n  let prefixMark = ''\r\n  const regexp = new RegExp(host)\r\n\r\n  if (links.extension.match(regexp)) {\r\n    host = 'Chrome extension'\r\n  }\r\n\r\n  if (eventName === 'failed') prefixMark = marks.danger\r\n  if (eventName === 'warning') prefixMark = marks.warning\r\n\r\n  const textToSend = [\r\n    `${prefixMark ? `${prefixMark} ` : ''}`,\r\n    `[${host}${remainingLicenseDays ? ` license days left: ${remainingLicenseDays}` : ''}] `,\r\n    `${version ? `(version: ${version})` : ''}`,\r\n    `${appPart} - ${eventName}`,\r\n    `${details ? ` {${details}}` : ``} |`,\r\n  ].join('')\r\n\r\n  if (host && host.includes('localhost')) {\r\n    console.log(` (muted) ${textToSend}`)\r\n    return\r\n  }\r\n\r\n  console.log(` ${textToSend}`)\r\n\r\n  try {\r\n    axios({\r\n      url: `https://noxon.wpmix.net/counter.php?msg=${encodeURI(textToSend)}&todevs=1`,\r\n      method: 'post',\r\n    }).catch(e => console.error(e))\r\n  } catch (error) {\r\n    console.error(error)\r\n  }\r\n}\r\n\r\nconst events = {\r\n  app: {\r\n    started: 'started',\r\n    otherTabsClosed: 'otherTabsClosed',\r\n    //closed: 'closed',\r\n    failed: 'failed',\r\n    warning: 'warning',\r\n  },\r\n  createWallet: {\r\n    //started: 'started',\r\n    currencySelected: 'currencySelected',\r\n    securitySelected: 'securitySelected',\r\n    finished: 'finished',\r\n  },\r\n  wallet: {\r\n    clickedBanner: 'clickedBanner',\r\n    pressedAddCurrency: 'pressedAddCurrency',\r\n  },\r\n  createInvoice: {\r\n    failed: 'failed',\r\n  },\r\n  faq: {\r\n    opened: 'opened',\r\n    failed: 'failed',\r\n  },\r\n  backup: {\r\n    started: 'started',\r\n    finished: 'finished',\r\n  },\r\n  restore: {\r\n    started: 'started',\r\n    finished: 'finished',\r\n  },\r\n  withdraw: {\r\n    entered: 'entered',\r\n    started: 'started',\r\n    finished: 'finished',\r\n    failed: 'failed',\r\n  },\r\n  exchangeForm: {\r\n    flipped: 'flipped',\r\n    selectedAddress: 'selectedAddress',\r\n    redirectedCreateWallet: 'redirectedCreateWallet',\r\n    requestedSwap: 'requestedSwap',\r\n    failed: 'failed',\r\n  },\r\n  createOffer: {\r\n    started: 'started',\r\n    finished: 'finished',\r\n  },\r\n  offers: {\r\n    //shared: 'shared',\r\n    deleted: 'deleted',\r\n    buyPressed: 'buyPressed',\r\n    swapRequested: 'swapRequested',\r\n  },\r\n  swap: {\r\n    started: 'started',\r\n    stopped: 'stopped',\r\n    finished: 'finished',\r\n  },\r\n  oneinch: {\r\n    createOrder: 'create the order',\r\n    cancelOrder: 'cancel the order',\r\n    failed: 'failed',\r\n  },\r\n  liquiditySource: {\r\n    startedSwap: 'start the swap',\r\n    addLiquidity: 'add liquidity',\r\n    removeLiquidity: 'remove liquidity',\r\n    failed: 'failed',\r\n  },\r\n  zerox: {\r\n    startedSwap: 'start the swap',\r\n    failed: 'failed',\r\n  },\r\n  marketmaking: {\r\n    enteredPromo: 'enteredPromo',\r\n    selected: 'selected',\r\n    enteredSettings: 'enteredSettings',\r\n    faqOpened: 'faqOpened',\r\n    prevented: 'prevented',\r\n    enabled: 'enabled',\r\n    disabled: 'disabled',\r\n  },\r\n  theme: {\r\n    switched: 'switched',\r\n  },\r\n  i18n: {\r\n    switched: 'switched',\r\n  },\r\n  actions: {\r\n    failed: 'failed'\r\n  },\r\n  helpers: {\r\n    failed: 'failed'\r\n  },\r\n}\r\n\r\ninterface IFeedback {\r\n  [key: string]: {\r\n    [key: string]: (object?) => void\r\n  }\r\n}\r\n\r\nconst feedback: IFeedback = {}\r\n\r\nObject.keys(events).forEach(appPart => {\r\n  if (!feedback[appPart]) {\r\n    feedback[appPart] = {}\r\n  }\r\n  const appPartEvents = events[appPart]\r\n  Object.keys(appPartEvents).forEach(eventName => {\r\n    feedback[appPart][eventName] = function(details) {\r\n      sendMessage({ appPart, eventName, details })\r\n    }\r\n  })\r\n})\r\n\r\nexport default feedback\r\n","import { BASE_TOKEN_CURRENCY } from 'swap.app/constants/COINS'\r\nimport erc20Like from 'common/erc20Like'\r\nimport helpers from 'helpers'\r\nimport actions from 'redux/actions'\r\n\r\nconst getTokenBaseCurrency = (tokenKey) => {\r\n  const baseCurrencyRegExp = /^\\{[a-z1-2_]+\\}/\r\n  const baseTokenCurrencyPrefix = tokenKey.match(baseCurrencyRegExp)\r\n\r\n  if (baseTokenCurrencyPrefix) {\r\n    const baseTokenCurrency = baseTokenCurrencyPrefix[0].match(/[a-z1-2_]+/)\r\n    const constantCurrency =\r\n      baseTokenCurrency && BASE_TOKEN_CURRENCY[baseTokenCurrency[0].toUpperCase()]\r\n\r\n    if (constantCurrency) {\r\n      return constantCurrency.toLowerCase()\r\n    }\r\n  }\r\n\r\n  return false\r\n}\r\n\r\nconst getTxRouter = (currency, txHash) => {\r\n  if (erc20Like.isToken({ name: currency })) {\r\n    return `/token/${currency}/tx/${txHash}`\r\n  }\r\n\r\n  const prefix = helpers.getCurrencyKey(currency, false)\r\n  if (actions[prefix]?.getTxRouter) {\r\n    return actions[prefix].getTxRouter(txHash, currency.toLowerCase())\r\n  }\r\n\r\n  console.warn(`Function getTxRouter for ${prefix} not defined (currency: ${currency})`)\r\n}\r\n\r\nconst isToken = (standardKey, name) => erc20Like[standardKey].isToken({ name })\r\n\r\nconst getLink = (currency, txHash) => {\r\n  if (isToken('erc20', currency)) {\r\n    return actions.erc20.getLinkToInfo(txHash)\r\n  }\r\n\r\n  if (isToken('bep20', currency)) {\r\n    return actions.bep20.getLinkToInfo(txHash)\r\n  }\r\n\r\n  if (isToken('erc20matic', currency)) {\r\n    return actions.erc20matic.getLinkToInfo(txHash)\r\n  }\r\n\r\n  if (isToken('erc20xdai', currency)) {\r\n    return actions.erc20xdai.getLinkToInfo(txHash)\r\n  }\r\n\r\n  if (isToken('erc20ftm', currency)) {\r\n    return actions.erc20ftm.getLinkToInfo(txHash)\r\n  }\r\n\r\n  if (isToken('erc20avax', currency)) {\r\n    return actions.erc20avax.getLinkToInfo(txHash)\r\n  }\r\n\r\n  if (isToken('erc20movr', currency)) {\r\n    return actions.erc20movr.getLinkToInfo(txHash)\r\n  }\r\n\r\n  if (isToken('erc20one', currency)) {\r\n    return actions.erc20one.getLinkToInfo(txHash)\r\n  }\r\n\r\n  if (isToken('erc20ame', currency)) {\r\n    return actions.erc20ame.getLinkToInfo(txHash)\r\n  }\r\n\r\n  if (isToken('erc20aurora', currency)) {\r\n    return actions.erc20aurora.getLinkToInfo(txHash)\r\n  }\r\n\r\n  if (isToken('phi20_v1', currency)) {\r\n    return actions.phi20_v1.getLinkToInfo(txHash)\r\n  }\r\n\r\n  if (isToken('phi20', currency)) {\r\n    return actions.phi20.getLinkToInfo(txHash)\r\n  }\r\n  if (isToken('fkw20', currency)) {\r\n    return actions.fkw20.getLinkToInfo(txHash)\r\n  }\r\n  if (isToken('phpx20', currency)) {\r\n    return actions.phpx20.getLinkToInfo(txHash)\r\n  }\r\n\r\n  const prefix = helpers.getCurrencyKey(currency, false)\r\n\r\n  if (actions[prefix]?.getLinkToInfo) {\r\n    return actions[prefix].getLinkToInfo(txHash)\r\n  }\r\n\r\n  console.warn(`Function getLinkToInfo for ${prefix} not defined`)\r\n}\r\n\r\ntype GetInfoResult = {\r\n  tx: string\r\n  link: string\r\n}\r\n\r\nconst getInfo = (currency, txRaw): GetInfoResult => {\r\n  let reduxAction = helpers.getCurrencyKey(currency, true)\r\n\r\n  if (isToken('erc20', currency)) {\r\n    reduxAction = `erc20`\r\n  }\r\n\r\n  if (isToken('bep20', currency)) {\r\n    reduxAction = `bep20`\r\n  }\r\n\r\n  if (isToken('erc20matic', currency)) {\r\n    reduxAction = `erc20matic`\r\n  }\r\n\r\n  if (isToken('erc20xdai', currency)) {\r\n    reduxAction = `erc20xdai`\r\n  }\r\n\r\n  if (isToken('erc20ftm', currency)) {\r\n    reduxAction = `erc20ftm`\r\n  }\r\n\r\n  if (isToken('erc20avax', currency)) {\r\n    reduxAction = `erc20avax`\r\n  }\r\n\r\n  if (isToken('erc20movr', currency)) {\r\n    reduxAction = `erc20movr`\r\n  }\r\n\r\n  if (isToken('erc20one', currency)) {\r\n    reduxAction = `erc20one`\r\n  }\r\n\r\n  if (isToken('erc20ame', currency)) {\r\n    reduxAction = `erc20ame`\r\n  }\r\n\r\n  if (isToken('erc20aurora', currency)) {\r\n    reduxAction = `erc20aurora`\r\n  }\r\n\r\n  if (isToken('phi20_v1', currency)) {\r\n    reduxAction = `phi20_v1`\r\n  }\r\n\r\n  if (isToken('phi20', currency)) {\r\n    reduxAction = `phi20`\r\n  }\r\n\r\n  if (isToken('fkw20', currency)) {\r\n    reduxAction = `fkw20`\r\n  }\r\n  \r\n  if (isToken('phpx20', currency)) {\r\n    reduxAction = `phpx20`\r\n  }\r\n  \r\n\r\n  const info = {\r\n    tx: '',\r\n    link: '',\r\n  }\r\n\r\n  if (actions[reduxAction]?.getTx) {\r\n    const tx = actions[reduxAction].getTx(txRaw)\r\n    const link = getLink(currency, tx)\r\n\r\n    info.tx = tx\r\n    info.link = link\r\n  } else {\r\n    console.warn(`Function getTx for ${reduxAction} not defined`)\r\n  }\r\n\r\n  return info\r\n}\r\n\r\nexport default {\r\n  getInfo,\r\n  getLink,\r\n  getTxRouter,\r\n  getTokenBaseCurrency,\r\n}\r\n","import { COIN_MODEL, COIN_DATA } from 'swap.app/constants/COINS'\r\nimport getCoinInfo from 'common/coins/getCoinInfo'\r\nimport { externalConfig, metamask } from 'helpers'\r\n\r\nconst isWrongNetwork = (chainIds: number[]) => {\r\n  if (metamask.isConnected()) {\r\n    return !chainIds.includes(metamask.getChainId())\r\n  }\r\n\r\n  return false\r\n}\r\n\r\nconst filterCurrencies = (params) => {\r\n  const { currencies, onlyTokens = false } = params\r\n\r\n  const filteredArr = currencies.filter((item) => {\r\n    const currency = COIN_DATA[item.name]\r\n    let isCurrencySuitable = false\r\n    let itemChainId\r\n\r\n    if (item.standard) {\r\n      const { blockchain } = getCoinInfo(item.value)\r\n\r\n      if (blockchain) {\r\n        itemChainId = externalConfig.evmNetworks[blockchain.toUpperCase()].networkVersion\r\n      }\r\n    } else {\r\n      itemChainId =\r\n        currency?.model === COIN_MODEL.AB &&\r\n        externalConfig.evmNetworks[currency.ticker].networkVersion\r\n    }\r\n\r\n    const enabled = externalConfig.enabledEvmNetworkVersions.includes(itemChainId)\r\n    isCurrencySuitable = enabled && (item.standard || !onlyTokens)\r\n\r\n    // connected metamask allows only one chain\r\n    const suitableForExternalWallet = metamask.isConnected()\r\n      ? metamask.isAvailableNetworkByCurrency(item.value)\r\n      : true\r\n\r\n    return isCurrencySuitable && suitableForExternalWallet\r\n  })\r\n\r\n  return {\r\n    currencies: filteredArr,\r\n    wrongNetwork: isWrongNetwork(externalConfig.enabledEvmNetworkVersions),\r\n  }\r\n}\r\n\r\nexport default {\r\n  isWrongNetwork,\r\n  filterCurrencies,\r\n}\r\n","import { localStorage, constants } from 'helpers'\r\n\r\n\r\nconst name = 'Initial migration'\r\nconst run = () => {\r\n  localStorage.setItem(constants.localStorage.hiddenCoinsList, [])\r\n  return Promise.resolve()\r\n}\r\n\r\nexport default {\r\n  name,\r\n  run,\r\n}\r\n","import { localStorage, constants } from 'helpers'\r\nimport { COIN_DATA, COIN_TYPE } from 'swap.app/constants/COINS'\r\nimport getCoinInfo from 'common/coins/getCoinInfo'\r\n\r\nconst storageKey = constants.localStorage.hiddenCoinsList\r\n\r\n\r\nconst name = 'Update hiddenCoinsList - add baseCurrency to tokens'\r\nconst run = () => {\r\n  const isWalletCreated = localStorage.getItem(constants.localStorage.isWalletCreate)\r\n\r\n  // if it's a new user, then do nothing (he already has a new token list)\r\n  if (!isWalletCreated) {\r\n    return Promise.resolve()\r\n  }\r\n\r\n  const hiddenCoinsList = localStorage.getItem(storageKey) || '[]'\r\n\r\n  const similarTokens: {\r\n    ticker: string\r\n    name: string\r\n    type: string\r\n    blockchain: string\r\n    model: string\r\n    precision: number\r\n    standard?: string\r\n  }[] = []\r\n\r\n  const hiddenNativeCoinsList = hiddenCoinsList.filter(coin => {\r\n    let currency = coin.toUpperCase()\r\n\r\n    if (coin.includes(':')) {\r\n      const [coinName, coinAddress] = coin.split(':')\r\n      currency = coinName.toUpperCase()\r\n    }\r\n\r\n    switch (currency.toLowerCase()) {\r\n      case 'btc (multisig)':\r\n      case 'btc (sms-protected)':\r\n      case 'btc (pin-protected)':\r\n        currency = 'BTC'\r\n        break\r\n    }\r\n\r\n    if (COIN_DATA[currency]?.type === COIN_TYPE.NATIVE) return true\r\n\r\n    const {\r\n      coin: tokenName\r\n    } = getCoinInfo(currency)\r\n\r\n    Object.keys(COIN_DATA).map(tokenKey => {\r\n      const tokenInfo = getCoinInfo(tokenKey)\r\n      if (tokenInfo.coin === tokenName) {\r\n        similarTokens.push(COIN_DATA[tokenKey])\r\n      }\r\n    })\r\n\r\n    return false\r\n  })\r\n\r\n  const hiddenTokensList: string[] = []\r\n\r\n  similarTokens.forEach(token => {\r\n    const baseCurrency = token.blockchain\r\n    const ticker = token.ticker\r\n    const tokenValue = `{${baseCurrency}}${ticker}`\r\n\r\n    !hiddenTokensList.includes(tokenValue) && hiddenTokensList.push(tokenValue)\r\n  })\r\n\r\n  const updatedHiddenCoinsList = [...hiddenNativeCoinsList, ...hiddenTokensList]\r\n\r\n  localStorage.setItem(storageKey, updatedHiddenCoinsList)\r\n\r\n  localStorage.setItem('shouldUpdatePageAfterMigration', true)\r\n  return Promise.resolve()\r\n}\r\n\r\nexport default {\r\n  name,\r\n  run,\r\n}","import { constants, localStorage } from 'helpers'\r\nimport initMigration from './001_initMigration'\r\nimport addBaseCurrencyToTokensInHiddenCoinsList from './002_updateHiddenCoinsList'\r\nimport updateExchangeStorageSettings from './003_updateExchangeStorageSettings'\r\nimport updateBtcPinMnemonicKey from './004_updateBtcPinMnemonicKey'\r\n\r\nconst migrations = [\r\n  initMigration,\r\n  addBaseCurrencyToTokensInHiddenCoinsList,\r\n  updateExchangeStorageSettings,\r\n  updateBtcPinMnemonicKey,\r\n  // don't break an order of migrations, add only to end of array\r\n]\r\n\r\nexport const migrate = () => {\r\n  let revision = parseInt(localStorage.getItem(constants.localStorage.storageRevision), 10) || 0\r\n  if (migrations.length === revision) {\r\n    console.log('Your storage is up-to-date')\r\n    return Promise.resolve()\r\n  }\r\n  console.log(`Your current storage revision is ${revision}, need to run ${migrations.length - revision} migrations`)\r\n\r\n  return migrations.splice(revision).reduce((queue, migration) =>\r\n    queue.then(() => new Promise((resolve, reject) => {\r\n      try {\r\n        migration.run()\r\n          .then(() => {\r\n            console.log(`Migration \"${migration.name}\" (#${revision + 1}) successfully done.`)\r\n            revision++\r\n            resolve()\r\n          }).catch(e => {\r\n            console.error(e)\r\n            reject(`Migration \"${migration.name}\" (#${revision + 1}) is failed.`)\r\n          })\r\n      } catch (e) {\r\n        console.error(e)\r\n        reject(`Migration \"${migration.name}\" (#${revision + 1}) is failed.`)\r\n      }\r\n    }\r\n    )), Promise.resolve()).then(() => {\r\n    console.log('All migrations done.')\r\n  }).catch(e => console.error(e))\r\n    .finally(() => {\r\n      localStorage.setItem(constants.localStorage.storageRevision, revision)\r\n    })\r\n}\r\n","import { localStorage, constants } from 'helpers'\r\n\r\nconst name = 'Update exchange localStorage settings - remove extra string layer'\r\n\r\nconst run = () => {\r\n  let exchangeSettings = localStorage.getItem(constants.localStorage.exchangeSettings)\r\n\r\n  if (typeof exchangeSettings === 'string') {\r\n    exchangeSettings = JSON.parse(exchangeSettings)\r\n\r\n    localStorage.setItem(constants.localStorage.exchangeSettings, exchangeSettings)\r\n  }\r\n\r\n  return Promise.resolve()\r\n}\r\n\r\nexport default {\r\n  name,\r\n  run,\r\n}\r\n","import { localStorage, constants } from 'helpers'\r\n\r\nconst name = 'Update BTC (PIN protected) mnemonic key format'\r\n\r\nconst run = () => {\r\n  const btcPinMnemonicKey: string | null = localStorage.getItem(\r\n    constants.privateKeyNames.btcPinMnemonicKey\r\n  )\r\n\r\n  if (btcPinMnemonicKey) {\r\n    if (Array.isArray(btcPinMnemonicKey) && btcPinMnemonicKey.length) {\r\n      localStorage.setItem(constants.privateKeyNames.btcPinMnemonicKey, btcPinMnemonicKey[0], false)\r\n    }\r\n  }\r\n\r\n  return Promise.resolve()\r\n}\r\n\r\nexport default {\r\n  name,\r\n  run,\r\n}\r\n","import getUnixTimeStamp from 'common/utils/getUnixTimeStamp'\r\n\r\nconst cacheStorage = {}\r\n\r\nconst cacheStorageGet = (cachePart, cacheKey) => {\r\n  if (cacheStorage[cachePart]\r\n    && cacheStorage[cachePart][cacheKey]\r\n    && (cacheStorage[cachePart][cacheKey].timeout > getUnixTimeStamp())\r\n  ) {\r\n    return cacheStorage[cachePart][cacheKey].value\r\n  }\r\n  return false\r\n}\r\n\r\nconst cacheStorageSet = (cachePart, cacheKey, cacheValue, cacheTimeout) => {\r\n  if (!cacheStorage[cachePart]) cacheStorage[cachePart] = {}\r\n  cacheStorage[cachePart][cacheKey] = {\r\n    timeout: getUnixTimeStamp() + cacheTimeout,\r\n    value: cacheValue,\r\n  }\r\n}\r\n\r\nconst cacheStorageClear = (cachePart, cacheKey) => {\r\n  if (cacheStorage[cachePart]) {\r\n    cacheStorage[cachePart][cacheKey] = false\r\n  }\r\n}\r\n\r\nconst cacheStorageClearPart = (cachePart) => {\r\n  cacheStorage[cachePart] = false\r\n}\r\n\r\nexport {\r\n  cacheStorageGet,\r\n  cacheStorageSet,\r\n  cacheStorageClear,\r\n  cacheStorageClearPart,\r\n}\r\n","import getUnixTimeStamp from 'common/utils/getUnixTimeStamp'\r\n\r\nconst localStorage = window.localStorage\r\n\r\nconst push = ({ key, data, time }) => {\r\n  const cacheData = {\r\n    data,\r\n    time,\r\n    createtime: getUnixTimeStamp(),\r\n  }\r\n\r\n  let cacheKeys = localStorage.getItem(`${process.env.ENTRY}:cacheKeys`)\r\n  try {\r\n    //@ts-ignore: strictNullChecks\r\n    cacheKeys = JSON.parse(cacheKeys)\r\n  } catch (e) {}\r\n  //@ts-ignore\r\n  if (!cacheKeys) cacheKeys = {}\r\n  //@ts-ignore\r\n  cacheKeys[key] = cacheData.createtime + cacheData.time\r\n  localStorage.setItem(`${process.env.ENTRY}:cache:${key}`, JSON.stringify(cacheData))\r\n  localStorage.setItem(`${process.env.ENTRY}:cacheKeys`, JSON.stringify(cacheKeys))\r\n}\r\n\r\nconst get = (key) => {\r\n  let data = localStorage.getItem(`${process.env.ENTRY}:cache:${key}`)\r\n  try {\r\n    //@ts-ignore: strictNullChecks\r\n    data = JSON.parse(data)\r\n    //@ts-ignore\r\n    if (data && data.data) {\r\n      //@ts-ignore\r\n      return data.data\r\n    }\r\n    return false\r\n  } catch (e) {\r\n    return false\r\n  }\r\n}\r\n\r\nconst remove = (key) => {\r\n  localStorage.removeItem(`${process.env.ENTRY}:cache:${key}`)\r\n}\r\n\r\nconst cleanup = () => {\r\n  let cacheKeys = localStorage.getItem(`${process.env.ENTRY}:cacheKeys`)\r\n  const newKeys = {}\r\n  try {\r\n    //@ts-ignore: strictNullChecks\r\n    cacheKeys = JSON.parse(cacheKeys)\r\n  } catch (e) {}\r\n  //@ts-ignore\r\n  if (!cacheKeys) cacheKeys = {}\r\n\r\n  const curTime = getUnixTimeStamp()\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  Object.keys(cacheKeys).forEach((key) => {\r\n    //@ts-ignore: strictNullChecks\r\n    if (!cacheKeys[key] || (curTime > cacheKeys[key])) {\r\n      remove(key)\r\n    } else {\r\n      //@ts-ignore: strictNullChecks\r\n      newKeys[key] = cacheKeys[key]\r\n    }\r\n  })\r\n\r\n  localStorage.setItem(`${process.env.ENTRY}:cacheKeys`, JSON.stringify(newKeys))\r\n}\r\n\r\ncleanup()\r\n\r\nexport default {\r\n  push,\r\n  get,\r\n  remove,\r\n  cleanup,\r\n}\r\n","import config from 'app-config'\r\nimport apiLooper from '../../../common/utils/apiLooper'\r\n\r\n\r\nexport default {\r\n  get: (api, endpoint, options?) => apiLooper.get(\r\n    {\r\n      name: api,\r\n      servers: config.api[api],\r\n    },\r\n    endpoint,\r\n    options\r\n  ),\r\n  post: (api, endpoint, options?) => apiLooper.post(\r\n    {\r\n      name: api,\r\n      servers: config.api[api],\r\n    },\r\n    endpoint,\r\n    options\r\n  ),\r\n}\r\n","import { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\r\nimport actions from 'redux/actions'\r\nimport { constants } from 'helpers'\r\n\r\n\r\nconst alertTexts = defineMessages({\r\n  title: {\r\n    id: 'WidgetExitAlertTitle',\r\n    defaultMessage: 'One more step',\r\n  },\r\n  message: {\r\n    id: 'widgetExitAlertMessage',\r\n    defaultMessage: 'Save your secret phrase before exit!',\r\n  },\r\n})\r\n\r\n\r\nconst confirmTexts = defineMessages({\r\n  title: {\r\n    id: 'WidgetExitTitle3',\r\n    defaultMessage: 'Confirm exit',\r\n  },\r\n  message: {\r\n    id: 'widgetApproveMessage',\r\n    defaultMessage: 'Are you sure you want to logout?',\r\n  },\r\n  no: {\r\n    id: 'widgetApproveCancel',\r\n    defaultMessage: 'Cancel',\r\n  },\r\n  yes: {\r\n    id: 'widgetApproveApprove',\r\n    defaultMessage: 'Yes',\r\n  },\r\n})\r\n\r\nconst handleShowMnemonic = () => {\r\n  actions.modals.open(constants.modals.SaveWalletSelectMethod)\r\n}\r\n\r\nconst handleConfirm = () => {\r\n  actions.backupManager.serverBackup().then(({backupReady, hasBackupPlugin}) => {\r\n    console.log('Backup ready', backupReady)\r\n    if (hasBackupPlugin) {\r\n      if (backupReady) window.localStorage.clear()\r\n    } else {\r\n      window.localStorage.clear()\r\n    }\r\n\r\n    window.location = (window && window.logoutUrl) ? window.logoutUrl : '/wp-login.php?action=logout'\r\n  })\r\n}\r\n\r\nconst wpLogoutModal = (onCancelHandle, intl) => {\r\n  const mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\r\n  const mnemonicSaved = (mnemonic === `-`)\r\n  if (!mnemonicSaved)  {\r\n    //@ts-ignore: strictNullChecks\r\n    actions.modals.open(constants.modals.AlertModal, {\r\n      title: intl.formatMessage(alertTexts.title),\r\n      message: intl.formatMessage(alertTexts.message),\r\n      onClose: () => handleShowMnemonic(),\r\n    })\r\n  } else {\r\n    //@ts-ignore: strictNullChecks\r\n    actions.modals.open(constants.modals.Confirm, {\r\n      title: intl.formatMessage(confirmTexts.title),\r\n      message: intl.formatMessage(confirmTexts.message),\r\n      labelNo: intl.formatMessage(confirmTexts.no),\r\n      labelYes: intl.formatMessage(confirmTexts.yes),\r\n      onCancel: onCancelHandle,\r\n      onClose: onCancelHandle,\r\n      onAccept: () => handleConfirm(),\r\n    })\r\n  }\r\n}\r\n\r\n\r\nexport default wpLogoutModal","import getCurrencyKey from './getCurrencyKey'\r\nimport transaction from './transactions'\r\nimport actions from 'redux/actions'\r\n\r\nexport const redirectTo = (url) => {\r\n  if (url) {\r\n    if (url.substr(0, 1) !== `#`) url = `#${url}`\r\n    window.location.hash = url\r\n  }\r\n}\r\n\r\nexport const getTopLocation = (): IUniversalObj => {\r\n  if (window.top) {\r\n    return window.top.location\r\n  }\r\n\r\n  return window.location\r\n}\r\n\r\nexport const getWalletLink = (currency, checkAddresses) => {\r\n  const prefix = getCurrencyKey(currency, false)\r\n  const tokenBaseCurrency = transaction.getTokenBaseCurrency(currency)\r\n  let ourWallets: string[] = []\r\n\r\n  if (tokenBaseCurrency) {\r\n    ourWallets = actions[tokenBaseCurrency].getAllMyAddresses()\r\n  } else {\r\n    if (actions[prefix]?.getAllMyAddresses) {\r\n      ourWallets = actions[prefix].getAllMyAddresses()\r\n    } else {\r\n      console.warn(`Function getAllMyAddresses not defined (currency ${currency})`)\r\n    }\r\n  }\r\n\r\n  if (!ourWallets.length) return false\r\n\r\n  const availableAddresses = checkAddresses.filter((address) => (\r\n    address && ourWallets.includes( address.toLowerCase() )\r\n  ))\r\n\r\n  if (availableAddresses.length) {\r\n    const targetWallet = availableAddresses[0]\r\n\r\n    return tokenBaseCurrency\r\n      ? `/token/${currency}/${targetWallet}`\r\n      : `/${prefix.toUpperCase()}/${targetWallet}`\r\n  }\r\n\r\n  return false\r\n}","import { BigNumber } from 'bignumber.js'\r\nimport getCoinInfo from 'common/coins/getCoinInfo'\r\nimport getCurrencyKey from './getCurrencyKey'\r\nimport config from './externalConfig'\r\nimport TOKEN_STANDARDS, { EXISTING_STANDARDS } from './constants/TOKEN_STANDARDS'\r\n\r\nconst isEnabled = (currency) => {\r\n  const currencyKey = getCurrencyKey(currency, false).toLowerCase()\r\n\r\n  if (config?.opts?.fee) {\r\n    if (currencyKey === `token`) {\r\n      return getStandardFee(currency)\r\n    }\r\n    if (config.opts.fee[currencyKey]) {\r\n      return config.opts.fee[currencyKey]\r\n    }\r\n\r\n  }\r\n\r\n  return false\r\n}\r\n\r\nconst getStandardFee = (token: string) => {\r\n  const { blockchain: tokenBaseCurrency } = getCoinInfo(token)\r\n\r\n  let tokenFee = false\r\n\r\n  if (!tokenBaseCurrency) return tokenFee\r\n\r\n  EXISTING_STANDARDS.forEach((standard) => {\r\n    const baseCurrency = TOKEN_STANDARDS[standard].currency.toUpperCase()\r\n    const standardFee = config.opts.fee[standard]\r\n\r\n    if (\r\n      baseCurrency === tokenBaseCurrency\r\n      && standardFee?.min\r\n      && standardFee.fee\r\n      && standardFee.address\r\n    ) tokenFee =  standardFee\r\n  })\r\n\r\n  return tokenFee\r\n}\r\n\r\nconst calc = (currency, amount) => {\r\n  const usedAdminFee = isEnabled(currency)\r\n\r\n  if (usedAdminFee) {\r\n    let fee = (usedAdminFee.min) ? new BigNumber(usedAdminFee.min).toNumber() : 0\r\n\r\n    if (amount && new BigNumber(amount).isGreaterThan(0)) {\r\n      let feeFromAmount = new BigNumber(usedAdminFee.fee).dividedBy(100).multipliedBy(amount)\r\n\r\n      if (new BigNumber(usedAdminFee.min).isGreaterThan(feeFromAmount)) feeFromAmount = new BigNumber(usedAdminFee.min)\r\n\r\n      fee = feeFromAmount.toNumber() // Admin fee in satoshi\r\n    }\r\n\r\n    return fee\r\n  }\r\n\r\n  return 0\r\n}\r\n\r\nexport default {\r\n  isEnabled,\r\n  calc,\r\n}\r\n","import config from 'helpers/externalConfig'\r\n\r\nconst allowedCoins = [\r\n  ...(!config.opts.blockchainSwapEnabled || config.opts.blockchainSwapEnabled.btc ? ['BTC'] : []),\r\n  ...(!config.opts.blockchainSwapEnabled || config.opts.blockchainSwapEnabled.eth ? ['ETH'] : []),\r\n  ...(!config.opts.blockchainSwapEnabled || config.opts.blockchainSwapEnabled.bnb ? ['BNB'] : []),\r\n  ...(!config.opts.blockchainSwapEnabled || config.opts.blockchainSwapEnabled.matic ? ['MATIC'] : []),\r\n  ...(!config.opts.blockchainSwapEnabled || config.opts.blockchainSwapEnabled.arbeth ? ['ARBETH'] : []),\r\n  ...(!config.opts.blockchainSwapEnabled || config.opts.blockchainSwapEnabled.ghost ? ['GHOST'] : []),\r\n  ...(!config.opts.blockchainSwapEnabled || config.opts.blockchainSwapEnabled.next ? ['NEXT'] : []),\r\n]\r\n\r\nconst isExchangeAllowed = (currencies) =>\r\n  currencies.filter((c) => {\r\n    const isErc = Object.keys(config.erc20)\r\n      .map((i) => `{eth}${i.toLowerCase()}`)\r\n      .includes(`${c.value}`.toLowerCase())\r\n    const isBep = Object.keys(config.bep20)\r\n      .map((i) => `{bnb}${i.toLowerCase()}`)\r\n      .includes(`${c.value}`.toLowerCase())\r\n    const isErcMatic = Object.keys(config.erc20matic)\r\n      .map((i) => `{matic}${i.toLowerCase()}`)\r\n      .includes(`${c.value}`.toLowerCase())\r\n\r\n    const isAllowedCoin = allowedCoins.map((i) => i.toLowerCase()).includes(c.value.toLowerCase())\r\n\r\n    return isAllowedCoin || isErc || isBep || isErcMatic\r\n  })\r\n\r\nconst filterIsPartial = (orders) =>\r\n  orders\r\n    .filter((order) => order.isPartial && !order.isProcessing && !order.isHidden)\r\n    .filter((order) => order.sellAmount !== 0 && order.sellAmount.isGreaterThan(0)) // WTF sellAmount can be not BigNumber\r\n    .filter((order) => order.buyAmount !== 0 && order.buyAmount.isGreaterThan(0)) // WTF buyAmount can be not BigNumber too - need fix this\r\n\r\nexport default {\r\n  isExchangeAllowed,\r\n  filterIsPartial,\r\n}","import axios from 'axios'\r\nimport { request, gql } from 'graphql-request'\r\n\r\n\r\nconst addUserMut = gql`\r\n  # input WalletDataInput {\r\n  #   symbol: String!\r\n  #   type: String\r\n\r\n  #   address: String!\r\n  #   balance: Float\r\n\r\n  #   public_key: String!\r\n\r\n  #   # unesessary fields\r\n  #   nounce: Int\r\n  #   signatures_required: Int\r\n  #   signatories: [String]\r\n  # }\r\n\r\n  # \"\"\"Data consumed from user's activity\"\"\"\r\n  # input UserDataInput {\r\n  #   locale: String\r\n  #   user_description: String\r\n  #   gift_referrer: String\r\n  #   gift: Boolean\r\n  #   gift_date: String\r\n  #   ip: String\r\n  #   messaging_token: String\r\n  #   widget_url: String\r\n  #   wallets: [WalletDataInput]\r\n  # }\r\n\r\n  mutation addUserMutation(\r\n    $createdBy: String!,\r\n    $domain: String!\r\n    $data: UserDataInput\r\n  ){\r\n    addUser(created_by: $createdBy, domain: $domain, data: $data) {\r\n      id\r\n      created_by\r\n      created_at\r\n      updated_at\r\n      domain_at_creation\r\n      domain_last_accessed_from\r\n      data {\r\n        locale\r\n        user_description\r\n        ip\r\n        messaging_token\r\n        widget_url\r\n        wallets {\r\n          symbol\r\n          type\r\n          address\r\n          balance\r\n          public_key\r\n          nounce\r\n          signatories\r\n          signatures_required\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nconst updUserMut = gql`\r\n  mutation updUserMutation(\r\n    $createdBy: String!,\r\n    $domain: String!\r\n    $data: UserDataInput\r\n  ){\r\n    updateUser(created_by: $createdBy, domain: $domain, data: $data) {\r\n      id\r\n      created_by\r\n      created_at\r\n      updated_at\r\n      domain_at_creation\r\n      domain_last_accessed_from\r\n      data {\r\n        locale\r\n        user_description\r\n        ip\r\n        messaging_token\r\n        widget_url\r\n        wallets {\r\n          symbol\r\n          type\r\n          address\r\n          balance\r\n          public_key\r\n          nounce\r\n          signatories\r\n          signatures_required\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\n/**\r\n *\r\n * @param {ethAddress} createdBy\r\n * @param {domain} domain\r\n * @param {json} data\r\n */\r\n\r\nlet serverBaseUrl = 'http://localhost:5050/graphql'\r\nif (process.env.NODE_ENV === 'production') {\r\n  serverBaseUrl = 'https://analysis.swaponline.io/graphql'\r\n}\r\n\r\nconst addUser = async (createdBy, domain, data) => {\r\n  return\r\n  try {\r\n    const res = await request(serverBaseUrl, addUserMut, { createdBy, domain, data })\r\n    return res\r\n  } catch (error) {\r\n    console.error('Error on add user to stat.swaponline:', error)\r\n  }\r\n}\r\n\r\n/**\r\n *\r\n * @param {ethAddress} createdBy\r\n * @param {domain} domain\r\n * @param {json} data\r\n */\r\n\r\nconst updateUser = async (createdBy, domain, data) => {\r\n  return\r\n  try {\r\n    const res = await request(serverBaseUrl, updUserMut, { createdBy, domain, data })\r\n    return res\r\n  } catch (error) {\r\n    if (\r\n      !error.response.data &&\r\n      error.response.errors[0].message === 'This user does not exists' &&\r\n      error.response.errors[0].extensions.code === 'UNAUTHENTICATED'\r\n    ) {\r\n      console.warn('Error on update user to stat.swaponline, trying to add user instead...', error)\r\n      const res = await addUser(createdBy, domain, data)\r\n      return res\r\n    }\r\n    console.error('Error on update user to stat.swaponline:', error)\r\n  }\r\n}\r\n\r\nconst getIPInfo = () => {\r\n  try {\r\n    return axios\r\n      .get('https://json.geoiplookup.io')\r\n      .then((result: any) => {\r\n        // eslint-disable-next-line camelcase\r\n        const { ip, country_code } = result.data\r\n        // eslint-disable-next-line camelcase\r\n        if (!ip || !country_code) {\r\n          return ({\r\n            ip: 'json.geoiplookup.io didn\\'t respond with a result, so setting locale EN by default',\r\n            locale: 'EN',\r\n          })\r\n        }\r\n        return ({\r\n          ip,\r\n          locale: country_code,\r\n        })\r\n      })\r\n      .catch((error) => {\r\n        console.error('getIPInfo:', error)\r\n\r\n        return {\r\n          ip: 'None',\r\n          locale: 'EN',\r\n        }\r\n      })\r\n  } catch (error) {\r\n    console.error(error)\r\n  }\r\n  return {\r\n    ip: 'None',\r\n    locale: 'EN',\r\n  }\r\n}\r\n\r\nexport default {\r\n  addUser,\r\n  updateUser,\r\n  getIPInfo,\r\n}\r\n","import { COIN_DATA, COIN_MODEL, COIN_TYPE } from 'swap.app/constants/COINS'\r\nimport helpers from 'helpers'\r\nimport getCoinInfo from 'common/coins/getCoinInfo'\r\nimport erc20Like from 'common/erc20Like'\r\n\r\n\r\nconst reportAboutProblem = (params) => {\r\n  const { isError = false, info } = params\r\n\r\n  console.group(\r\n    'HELPERS > %c getPairFees.ts',\r\n    `color: ${isError ? 'red' : 'orange'};`\r\n  )\r\n  isError ? console.error(info) : console.warn(info)\r\n  console.groupEnd()\r\n}\r\n\r\ntype CoinFee = {\r\n  coin: string\r\n  fee: number\r\n  isUTXO: boolean\r\n}\r\n\r\nexport interface IPairFees {\r\n  sell: CoinFee\r\n  buy: CoinFee\r\n  have: CoinFee\r\n  get: CoinFee\r\n  byCoins: {\r\n    [key: string]: CoinFee\r\n  }\r\n}\r\n\r\nconst feeCache = {\r\n  isEnabled: true,\r\n}\r\n\r\nconst fetchCoinFee = (params): Promise<CoinFee> => {\r\n  const { coinName , action, updateCacheValue } = params\r\n\r\n  return new Promise(async (feeResolved) => {\r\n    const hasFeeInCache = !updateCacheValue && feeCache[action] && feeCache[action][coinName]\r\n    const coinData = COIN_DATA[coinName.toUpperCase()]\r\n\r\n    let isBuyingUTXO = action === 'buy' && coinData.model === COIN_MODEL.UTXO\r\n    let isBuyingAB = action === 'buy' && coinData.model === COIN_MODEL.AB\r\n\r\n    let obtainedResult = undefined\r\n\r\n    if (hasFeeInCache) {\r\n      feeResolved(feeCache[action][coinName])\r\n      return\r\n    }\r\n    // first off enable cache for every request\r\n    // but if with currency something wrong\r\n    // we disable this\r\n    feeCache.isEnabled = true\r\n\r\n    const doResolve = (result) => {\r\n      if (feeCache.isEnabled && result) {\r\n        feeCache[action] = {\r\n          ...feeCache[action],\r\n          [coinName]: result,\r\n        }\r\n      }\r\n\r\n      feeResolved(result)\r\n    }\r\n\r\n    if (coinData) {\r\n      switch (coinData.type) {\r\n        case COIN_TYPE.NATIVE:\r\n          //@ts-ignore: strictNullChecks\r\n          obtainedResult = await fetchFeeForNativeCoin({\r\n            coinData,\r\n            swapUTXOMethod: isBuyingUTXO ? 'withdraw' : 'deposit',\r\n            swapABMethod: isBuyingAB ? 'withdraw' : 'deposit',\r\n          })\r\n          doResolve(obtainedResult)\r\n          break\r\n        case COIN_TYPE.BNB_TOKEN:\r\n        case COIN_TYPE.ETH_TOKEN:\r\n        case COIN_TYPE.MATIC_TOKEN:\r\n          //@ts-ignore: strictNullChecks\r\n          obtainedResult = await fetchFeeForEthLikeToken({\r\n            coinData,\r\n            swapABMethod: isBuyingAB ? 'withdraw' : 'deposit',\r\n          })\r\n          doResolve(obtainedResult)\r\n          break\r\n        default:\r\n          reportAboutProblem({\r\n            info: `Unknown coin type (${coinData.type}) for coin (${coinData.ticker})`,\r\n          })\r\n      }\r\n    } else {\r\n      reportAboutProblem({\r\n        info: `Unknown coin (${coinName})`,\r\n      })\r\n    }\r\n  })\r\n}\r\n\r\nconst fetchFeeForNativeCoin = (params) => {\r\n  const { coinData, swapUTXOMethod, swapABMethod } = params\r\n  const coinTicker = coinData.ticker.toLowerCase()\r\n  \r\n  return new Promise((resolve) => {\r\n    if (helpers[coinTicker]) {\r\n      helpers[coinTicker]\r\n        .estimateFeeValue({\r\n          method: 'swap',\r\n          swapUTXOMethod,\r\n          swapABMethod,\r\n        })\r\n        .then((coinFee) =>\r\n          resolve({\r\n            coin: coinData.ticker,\r\n            fee: coinFee,\r\n            isUTXO: coinData.model === COIN_MODEL.UTXO,\r\n          })\r\n        )\r\n        .catch((err) => {\r\n          reportAboutProblem({\r\n            info: `Fail fetch fee for coin ${coinData.ticker}. ${err}`,\r\n            isError: true,\r\n          })\r\n          feeCache.isEnabled = false\r\n          resolve({\r\n            coin: coinData.ticker,\r\n            fee: 0,\r\n            isUTXO: coinData.model === COIN_MODEL.UTXO,\r\n          })\r\n        })\r\n    } else {\r\n      reportAboutProblem({\r\n        info: `No helper 'estimateFeeValue' for coin ${coinData.ticker}`,\r\n      })\r\n    }\r\n  })\r\n}\r\n\r\nconst fetchFeeForEthLikeToken = (params) => {\r\n  const { coinData, swapABMethod } = params\r\n\r\n  return new Promise((resolve) => {\r\n    erc20Like[coinData.standard.toLowerCase()]\r\n      .estimateFeeValue({\r\n        method: 'swap',\r\n        speed: 'fast',\r\n        swapABMethod,\r\n      })\r\n      .then((basecoinFee) =>\r\n        resolve({\r\n          coin: coinData.blockchain,\r\n          fee: basecoinFee,\r\n          isUTXO: false,\r\n        })\r\n      )\r\n      .catch((err) => {\r\n        reportAboutProblem({\r\n          info: `Fail fetch fee for token ${coinData.ticker} (${coinData.blockchain}). ${err}`,\r\n          isError: true,\r\n        })\r\n        feeCache.isEnabled = false\r\n        resolve({\r\n          coin: coinData.blockchain,\r\n          fee: 0,\r\n          isUTXO: false,\r\n        })\r\n      })\r\n  })\r\n}\r\n\r\ntype PairFeesParams = {\r\n  sellCurrency: string\r\n  buyCurrency: string\r\n  updateCacheValue?: boolean\r\n}\r\n\r\nexport const getPairFees = (params: PairFeesParams): Promise<IPairFees> => {\r\n  let { sellCurrency, buyCurrency, updateCacheValue = false } = params\r\n\r\n  const {\r\n    coin: sellCurrencyName,\r\n    blockchain: sellCurrencyBlockchain,\r\n  } = getCoinInfo(sellCurrency.toUpperCase())\r\n\r\n  const {\r\n    coin: buyCurrencyName,\r\n    blockchain: buyCurrencyBlockchain,\r\n  } = getCoinInfo(buyCurrency.toUpperCase())\r\n\r\n  return new Promise(async (feeResolved) => {\r\n    const sell = await fetchCoinFee({\r\n      coinName: sellCurrencyBlockchain || sellCurrencyName,\r\n      action: 'sell',\r\n      updateCacheValue,\r\n    })\r\n    const buy = await fetchCoinFee({\r\n      coinName: buyCurrencyBlockchain || buyCurrencyName,\r\n      action: 'buy',\r\n      updateCacheValue,\r\n    })\r\n\r\n    const byCoins = {\r\n      [buy.coin]: buy,\r\n      [sell.coin]: sell,\r\n    }\r\n\r\n    const result = {\r\n      sell,\r\n      have: sell,\r\n      buy,\r\n      get: buy,\r\n      byCoins,\r\n    }\r\n\r\n    feeResolved(result)\r\n  })\r\n}\r\n","\r\nexport const getItezUrl = ({ user, locale, url }) => {\r\n  if (!user && !locale) return url\r\n\r\n  const { activeFiat, btcMultisigG2FAData, btcMultisigSMSData, btcMultisigPinData, btcMultisigUserData, btcData } = user\r\n\r\n  let getActuallyFiatAddress = [, btcMultisigG2FAData, btcMultisigSMSData, btcMultisigUserData, btcData].find((data) => data && data.balance > 0)\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  const hiddenCoinsList = JSON.parse(localStorage.getItem('hiddenCoinsList')) || []\r\n\r\n  /*\r\n  if (!getActuallyFiatAddress && !hiddenCoinsList.includes('BTC (SMS-Protected)')) getActuallyFiatAddress = btcMultisigSMSData\r\n  if (!getActuallyFiatAddress && !hiddenCoinsList.includes('BTC (PIN-Protected)')) getActuallyFiatAddress = btcMultisigPinData\r\n  if (!getActuallyFiatAddress && !hiddenCoinsList.includes('BTC (Multisig)')) getActuallyFiatAddress = btcMultisigUserData\r\n\r\n  if (!getActuallyFiatAddress) {\r\n    getActuallyFiatAddress = btcData\r\n  }\r\n  */\r\n  getActuallyFiatAddress = btcData\r\n\r\n  const shieldingomingFiat = /%7BDEFAULT_FIAT%7D/gi\r\n  const shieldingomingLocale = /%7Blocale%7D/gi\r\n  const shieldingomingAddress = /%7Bbtcaddress%7D/gi\r\n\r\n  const comingFiat = /{DEFAULT_FIAT}/gi\r\n  const comingLocale = /{locale}/gi\r\n  const comingAddress = /{btcaddress}/gi\r\n\r\n  let returned = url\r\n\r\n  if (url.includes('btcaddress')) {\r\n    returned = returned.replace(comingAddress, getActuallyFiatAddress.address)\r\n    returned = returned.replace(shieldingomingAddress, getActuallyFiatAddress.address)\r\n  }\r\n  if (url.includes('DEFAULT_FIAT')) {\r\n    returned = returned.replace(comingFiat, activeFiat)\r\n    returned = returned.replace(shieldingomingFiat, activeFiat)\r\n  }\r\n\r\n  if (url.includes('locale')) {\r\n    returned = returned.replace(comingLocale, locale)\r\n    returned = returned.replace(shieldingomingLocale, locale)\r\n  }\r\n\r\n  return returned\r\n}\r\n","import btc from './btc'\r\nimport ghost from './ghost'\r\nimport next from './next'\r\nimport eth from './eth'\r\nimport bnb from './bnb'\r\nimport matic from './matic'\r\nimport arbeth from './arbeth'\r\nimport aureth from './aureth'\r\nimport phi_v1 from './phi'\r\nimport phi from './phi_v2'\r\nimport fkw from './fkw'\r\nimport phpx from './phpx'\r\nimport xdai from './xdai'\r\nimport ftm from './ftm'\r\nimport avax from './avax'\r\nimport movr from './movr'\r\nimport one from './one'\r\nimport ame from './ame'\r\nimport ethToken from './ethToken'\r\nimport * as user from './user'\r\nimport web3 from './web3'\r\nimport links from './links'\r\nimport getCurrencyKey from './getCurrencyKey'\r\nimport constants from './constants'\r\nimport localStorage from './localStorage'\r\nimport api from './api'\r\nimport * as utils from './utils'\r\nimport seo from './seo'\r\n// Methods\r\nimport ignoreProps from './ignoreProps'\r\nimport handleGoTrade from './handleGoTrade'\r\n// Getters\r\nimport externalConfig from './externalConfig'\r\nimport feedback from './feedback'\r\nimport getPageOffset from './getPageOffset'\r\nimport transactions from './transactions'\r\nimport quickswap from './quickswap'\r\nimport { migrate } from './migrations'\r\n\r\nimport {\r\n  cacheStorageGet,\r\n  cacheStorageSet,\r\n  cacheStorageClear,\r\n  cacheStorageClearPart,\r\n} from './cache'\r\nimport lsDataCache from './lsDataCache'\r\n\r\nimport apiLooper from './apiLooper'\r\nimport wpLogoutModal from './wpLogoutModal'\r\n\r\nimport metamask from './metamask'\r\n\r\nimport * as routing from './routing'\r\n\r\nimport adminFee from './adminFee'\r\n\r\nimport swaps from './swaps'\r\n\r\nimport stats from './stats.swaponline'\r\n\r\nimport { getPairFees } from './getPairFees'\r\n\r\nexport default {\r\n  btc,\r\n  eth,\r\n  bnb,\r\n  matic,\r\n  arbeth,\r\n  aureth,\r\n  phi_v1,\r\n  phi,\r\n  fkw,\r\n  phpx,\r\n  xdai,\r\n  ftm,\r\n  avax,\r\n  movr,\r\n  one,\r\n  ame,\r\n  ghost,\r\n  next,\r\n  ethToken,\r\n  getCurrencyKey,\r\n  handleGoTrade,\r\n  transactions,\r\n  localStorage,\r\n}\r\n\r\nexport {\r\n  seo,\r\n  btc,\r\n  eth,\r\n  bnb,\r\n  matic,\r\n  arbeth,\r\n  aureth,\r\n  xdai,\r\n  ftm,\r\n  avax,\r\n  movr,\r\n  one,\r\n  ame,\r\n  ghost,\r\n  next,\r\n  ethToken,\r\n  user,\r\n  web3,\r\n  utils,\r\n  links,\r\n  getCurrencyKey,\r\n  lsDataCache,\r\n  transactions,\r\n  constants,\r\n  localStorage,\r\n  api,\r\n  migrate,\r\n  // Methods\r\n  ignoreProps,\r\n  handleGoTrade,\r\n\r\n  // Getters\r\n  getPageOffset,\r\n  externalConfig,\r\n\r\n  feedback,\r\n  cacheStorageGet,\r\n  cacheStorageSet,\r\n  cacheStorageClear,\r\n  cacheStorageClearPart,\r\n\r\n  apiLooper,\r\n\r\n  metamask,\r\n\r\n  routing,\r\n\r\n  adminFee,\r\n\r\n  swaps,\r\n\r\n  stats,\r\n\r\n  wpLogoutModal,\r\n\r\n  getPairFees,\r\n  quickswap,\r\n}\r\nexport { getItezUrl } from './getItezUrl'\r\n","import React, { useState, useEffect } from 'react'\r\nimport CopyToClipboard from 'react-copy-to-clipboard'\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './LocalStorage.scss'\r\nimport { FormattedMessage } from 'react-intl'\r\n\r\nfunction LocalStorage() {\r\n  const [isCopied, setCopied] = useState(false)\r\n  const [localStorage, setLocalStorage] = useState(JSON.stringify({}))\r\n  const dumpAll = true\r\n\r\n  const timeoutCopied = () => {\r\n    setCopied(true)\r\n    setTimeout(() => setCopied(false), 1000) // copy-tip animation time\r\n  }\r\n\r\n  useEffect(() => {\r\n    const newStorage = {}\r\n    const privateDataRegExp = /(mnemonic|private|twentywords|backup|peeridjson)/i;\r\n\r\n    for (let key in window.localStorage) {\r\n      if ((key !== 'redux-store' && key.match(privateDataRegExp) === null)\r\n        || (dumpAll && (key !== 'redux-store'))\r\n      ) {\r\n        newStorage[key] = window.localStorage[key]\r\n      }\r\n    }\r\n    setLocalStorage(JSON.stringify(newStorage, undefined, 2))\r\n  })\r\n\r\n  return (\r\n    <section styleName=\"localStorage\">\r\n      {!dumpAll && (\r\n        <h3>\r\n          <FormattedMessage\r\n            id=\"localStorageUserNotification\"\r\n            defaultMessage=\" This data doesn't contain your private keys\"\r\n          />\r\n        </h3>\r\n      )}\r\n\r\n      <div styleName='localStorage__buttons-container'>\r\n        <button styleName='localStorage__btn' onClick={() => {\r\n          window.history.back()\r\n        }}>\r\n          <FormattedMessage\r\n            id=\"localStorageBtnBack\"\r\n            defaultMessage=\"Back\"\r\n          />\r\n        </button>\r\n        <CopyToClipboard text={localStorage} >\r\n          <button styleName='localStorage__btn' onClick={timeoutCopied}>\r\n            {isCopied && <span styleName='localStorage__copy-tip'>Copied!</span>}\r\n            <FormattedMessage id=\"FeeControler49\" defaultMessage=\"Copy\" />\r\n          </button>\r\n        </CopyToClipboard>\r\n      </div>\r\n\r\n      <pre styleName='localStorage__json-output'>\r\n        {localStorage}\r\n      </pre>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default CSSModules(LocalStorage, styles)","// extracted by mini-css-extract-plugin\nexport default {\"localStorage\":\"+OZppVVIIChGbHHoP6UuXw==\",\"localStorage__buttons-container\":\"_36Je8dGUO+IXIedTuI9RGQ==\",\"localStorage__btn\":\"xU8WQrRTc4vflNZIbo3mfQ==\",\"localStorage__copy-tip\":\"F5Q9BRpYR8cAh6uB+EHGRQ==\",\"show-tip\":\"KxI01TwS4FLOSaW0tkuIcg==\",\"localStorage__json-output\":\"meiywQUaKSOyqcB-UrQnOg==\",\"localStorageDark\":\"Wf8sEm6YBXo7au+WKmFK0w==\"};","// extracted by mini-css-extract-plugin\nexport default {\"swap\":\"jnyH834WSrs0z6NrBDKz0A==\",\"swapMobile\":\"rFFugWLq89VUEqZwmXOvSg==\",\"swapContainer\":\"YPMoYrNqSJkDZDv32uO2mg==\",\"reloadText\":\"_06Bww0+I4b8h2dHgacgeow==\",\"swapContainerInfo\":\"HJzKx9pQDog+azdMcipUsQ==\",\"linkText\":\"j7Dcq5dhLhdFXjIfZhyHkg==\",\"canceled\":\"_8wvOlc38skLWdPcMJidU8Q==\",\"canceledSwapInfo\":\"knpMmbvAYIepu5En2xXjdw==\",\"pseudolink\":\"XQ4Ts42EDGW0mKL4YWvO2g==\",\"included\":\"GWvxAXkN-Hjab4Fptz5zTQ==\",\"swapInfo\":\"Ln5Us6ybUw1uPMgWPmnLHQ==\",\"onlineIndicator\":\"lL1vorEpN89TFuRmhaNcpw==\",\"online\":\"h-4J3fDmpRG7chNEfjgVUw==\",\"offline\":\"qLuUVUVmbvHpVQ9s3ZeKyQ==\",\"loaderHolder\":\"LVRSdOKUwInHLHIB92+VNg==\",\"topUpLink\":\"n0TT72iKLNSKG0OjrS4F3g==\",\"top\":\"_8U5ob-LUoRY-F9CvS0TK4Q==\",\"qrImg\":\"cWeQ8DcUvKWdZX69faVQAg==\",\"message\":\"U6L7vh7AnYLRyozV4i-n1g==\",\"btcMessage\":\"usNi+5ZssrBXpzAEmbDmZg==\",\"qr\":\"vqZPvk-N0XqGctbUk3D+2w==\",\"linkTransactions\":\"Bv2vvRv72J9pgwsQaPGuZg==\",\"lockTime\":\"e6Y-ou9cF932hVgYKlJ4Ag==\",\"copyText\":\"_9KYQVz2T4BQ5l6Qezg+-9g==\",\"linkAddress\":\"UUcRiGLfz0snB42Z0tRJWg==\",\"fa-copy-in\":\"ZS3qpNv6ZdlBpbjpIOaKrw==\",\"button\":\"pnusJe7mIRK1ovSWYe5jOQ==\",\"transaction\":\"GXpIh1EeU4hwACzYE2qezw==\",\"information\":\"K3jjmxJxoqopFomDJIs78A==\",\"icon\":\"y9jDZPm4wJJQab9jcfLATg==\"};","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"A3jLyyHOz0-thTHo4C9PMw==\",\"metamask_attention\":\"KY9TKjquERc2aKHdz03jTA==\",\"attention\":\"+WjoZPxgQ7TA2bPbXaBL6w==\",\"blink-animation\":\"BAaKxSVsq7K8Ti8itJJocg==\",\"info\":\"Vj3-lbLv3buRKxkjBWjDOg==\",\"title\":\"YUu7fPqugVs7KQuNM6X8Qw==\",\"uppercase\":\"XcZ5KNF+iCM-3X7gPwinng==\",\"closeButton\":\"c-4D3SwwFH7vHQFJ121ezw==\",\"header\":\"HfHSBm9plh0EuC801lB5rA==\",\"saveSecretKey\":\"u0C5-TWrq-Jj6k0L2PA5Kg==\",\"stepContainer\":\"Iaks2VnZhe+eMb3oGZyuhg==\",\"stepInfo\":\"_0+fmVfjjEdBb23pxqG5lTA==\",\"swapInfo\":\"NovkozaKqYhRAxP2X6Anvw==\",\"transaction\":\"xTPq3P5-VRo9+HpGkel+HQ==\",\"btnRefund\":\"_5oC-8pQ8pCQZtYh-dbcEVg==\",\"tryAgain\":\"LDIR16nhYbR1o6dPl3O02w==\",\"timerRefund\":\"Vp81vL4Y6biq7V+sMfTlBg==\",\"finishButtonsHolder\":\"bPbYndj6vLp2oagNNMapxw==\",\"dontLeave\":\"MIKM3-b55pNlLzhIAOSeIA==\",\"refundTransaction\":\"saeFpZ+8pKssTmM1DtHk7g==\",\"refundTransactionHash\":\"gR34WSNj93awvWWHZBb4cQ==\",\"overlay\":\"L3NXj-dhxf5DWty-5YoTIw==\"};","import React, { Fragment } from 'react'\r\n\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './Timer.scss'\r\nimport { FormattedMessage } from 'react-intl'\r\n\r\ninterface TimerProps {\r\n  lockTime: number\r\n  cancelTime?: number\r\n  enabledButton?: any\r\n  isRefund?: boolean\r\n  defaultMessage?: boolean\r\n}\r\n\r\ninterface TimerState {\r\n  lockTime: number\r\n  cancelTime: number\r\n  timeLeft: null | number\r\n  cancelTimeLeft: null | number\r\n}\r\n\r\n@CSSModules(styles)\r\nexport default class Timer extends React.Component<TimerProps, TimerState> {\r\n  timer = null\r\n\r\n  constructor(props: TimerProps) {\r\n    super(props)\r\n    const { lockTime, cancelTime } = props\r\n\r\n    this.state = {\r\n      lockTime,\r\n      //@ts-ignore: strictNullChecks\r\n      cancelTime,\r\n      timeLeft: null,\r\n      cancelTimeLeft: null,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.tick()\r\n  }\r\n\r\n  componentWillMount() {\r\n    const { lockTime, cancelTime } = this.state\r\n\r\n    const dateNow = new Date().getTime()\r\n    const timeLeft = lockTime - dateNow\r\n    const cancelTimeLeft = cancelTime - dateNow\r\n\r\n    this.setState({\r\n      timeLeft,\r\n      cancelTimeLeft,\r\n    })\r\n  }\r\n\r\n  tick = () => {\r\n    const { timeLeft, cancelTimeLeft } = this.state\r\n    const { enabledButton } = this.props\r\n    //@ts-ignore: strictNullChecks\r\n    const newTimeLeft = timeLeft - 1000\r\n    //@ts-ignore: strictNullChecks\r\n    const newCancelTimeLeft = cancelTimeLeft - 1000\r\n\r\n    if (newTimeLeft <= 0 && typeof enabledButton === 'function') {\r\n      enabledButton()\r\n    } else {\r\n      //@ts-ignore: strictNullChecks\r\n      this.timer = setTimeout(this.tick, 1000)\r\n      this.setState({\r\n        timeLeft: newTimeLeft,\r\n        cancelTimeLeft: newCancelTimeLeft,\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { timeLeft, cancelTimeLeft, cancelTime } = this.state\r\n    const { isRefund, defaultMessage } = this.props\r\n    //@ts-ignore: strictNullChecks\r\n    const min = Math.ceil(timeLeft / 1000 / 60)\r\n    //@ts-ignore: strictNullChecks\r\n    const minToCancel = Math.ceil(cancelTimeLeft / 1000 / 60)\r\n\r\n    return (\r\n      <Fragment>\r\n        {/* @ts-ignore: strictNullChecks */}\r\n        {cancelTime && cancelTimeLeft > 0 && !isRefund ? (\r\n          <div styleName=\"timer\">\r\n            <FormattedMessage\r\n              id=\"timerTimeToCancel\"\r\n              defaultMessage=\"You have {min} min to make a payment\"\r\n              values={{ min: `${minToCancel}` }}\r\n            />\r\n          </div>\r\n        ) : (\r\n          <Fragment>\r\n            {/* @ts-ignore: strictNullChecks */}\r\n            {cancelTime && cancelTimeLeft <= 0 && (\r\n              <div styleName=\"timer\">\r\n                <FormattedMessage\r\n                  id=\"timerSwapIsCancelled\"\r\n                  defaultMessage=\"Swap canceled due to time out\"\r\n                />\r\n              </div>\r\n            )}\r\n            <div styleName=\"timer\">\r\n              {defaultMessage === false ? (\r\n                <span>{min}</span>\r\n              ) : min > 0 ? (\r\n                <span>\r\n                  <FormattedMessage\r\n                    id=\"timer671\"\r\n                    defaultMessage=\"{min} minute left for refund\"\r\n                    values={{ min: `${min}` }}\r\n                  />\r\n                </span>\r\n              ) : (\r\n                <FormattedMessage id=\"timer68\" defaultMessage=\"refund ready\" />\r\n              )}\r\n            </div>\r\n          </Fragment>\r\n        )}\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"timer\":\"oH8oCAZ6W-UA3fecf3LJ2Q==\"};","import React from 'react'\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './Toggle.scss'\r\n\r\ntype ComponentProps = {\r\n  checked: boolean\r\n  onChange: (arg: boolean) => void\r\n  dataTut?: string\r\n  isDisabled?: boolean\r\n}\r\n\r\nconst Toggle = (props: ComponentProps) => {\r\n  const { checked, onChange, dataTut = null, isDisabled = false } = props\r\n  \r\n  return (\r\n    <label styleName={`Switch ${isDisabled ? 'disabled' : ''}`} data-tut={dataTut} >\r\n      <input type=\"checkbox\" onChange={({ target }) => onChange(target.checked)} checked={checked} disabled={isDisabled} />\r\n      <span /> {/* need for button */}\r\n    </label>\r\n  )\r\n}\r\n\r\nexport default CSSModules(Toggle, styles, { allowMultiple: true })\r\n","// extracted by mini-css-extract-plugin\nexport default {\"Switch\":\"+rP4Xv-DnzdzykiNM6wKxQ==\",\"disabled\":\"qEnbdL8G2-6-lFSltsA1SA==\"};","import cx from \"classnames\";\r\nimport { FormattedMessage } from 'react-intl'\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './Button.scss'\r\n\r\ntype ButtonProps = {\r\n  dataTut?: any\r\n  children?: any\r\n  fullWidth?: boolean\r\n  center?: boolean\r\n  autoHeight?: boolean\r\n  transparent?: boolean\r\n  brand?: boolean\r\n  blue?: boolean\r\n  gray?: boolean\r\n  big?: boolean\r\n  small?: boolean\r\n  empty?: boolean\r\n  link?: boolean\r\n  fill?: boolean\r\n  flex?: boolean\r\n  disabled?: boolean\r\n  dangerous?: boolean\r\n  pending?: boolean\r\n  className?: string\r\n  id?: string\r\n  onClick?: () => void\r\n}\r\n\r\nconst Button = (props: ButtonProps) => {\r\n  const {\r\n    children,\r\n    className,\r\n    fullWidth,\r\n    center,\r\n    brand,\r\n    transparent,\r\n    blue,\r\n    gray,\r\n    disabled,\r\n    dangerous,\r\n    pending,\r\n    big,\r\n    small,\r\n    empty,\r\n    link,\r\n    autoHeight,\r\n    onClick,\r\n    id = '',\r\n    fill,\r\n    flex,\r\n    dataTut,\r\n  } = props\r\n\r\n  const styleName = cx('button', {\r\n    fill,\r\n    flex,\r\n    fullWidth,\r\n    center,\r\n    brand,\r\n    transparent,\r\n    blue,\r\n    gray,\r\n    big,\r\n    small,\r\n    empty,\r\n    link,\r\n    autoHeight,\r\n    disabled,\r\n    dangerous,\r\n  })\r\n\r\n  return (\r\n    <button\r\n      data-tut={dataTut}\r\n      styleName={styleName}\r\n      className={className}\r\n      onClick={onClick}\r\n      id={id}\r\n      disabled={disabled}\r\n      data-tip\r\n      data-for={id}\r\n    >\r\n      {pending ? (\r\n          <span styleName=\"pending\">\r\n            <FormattedMessage id=\"ButtonPendingState\" defaultMessage=\"Pending\" />\r\n          </span>\r\n        ) : children\r\n      }\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default cssModules(Button, styles, { allowMultiple: true })\r\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"y9FjOswhUvPdkTlLVbsMHA==\",\"pending\":\"lCJgLWx7HGKLdK7aWKjFwA==\",\"ellipsis\":\"hxAPfKraZRKG1uuoUmTtbQ==\",\"fullWidth\":\"IacXFmugXYmO-F-YmeDxUw==\",\"center\":\"qakGKcuSpnWEW4dXEfW1Ag==\",\"fill\":\"_7Eeys8hjmnBTdA4cl8QoVQ==\",\"flex\":\"SwVSIBUorZypmKaVvKIKfg==\",\"big\":\"TLPzQAwZ8hj3ci3XaymzVw==\",\"brand\":\"wa5Qf-1qJESoLmZhLzmxkQ==\",\"blue\":\"_3rmA50ekm+WeYqNg1JpEiw==\",\"empty\":\"YQnBuiH3wxONLa6qyFRf-A==\",\"link\":\"VvPaw--f4NqZf04YmRsVMQ==\",\"small\":\"CUJSzYVfZZv8cU0YxiDjZA==\",\"transparent\":\"amEtKCll61D2uPOHVS26eQ==\",\"gray\":\"hrOcZpjj6S6RpaTntwFu5Q==\",\"disabled\":\"rmoH6-kmhnv0ctwIo8hPWQ==\",\"autoHeight\":\"B3OmsBKfWTgNbS-AEk3huw==\",\"dangerous\":\"pKMgibX0WwbTyIW-ortA0w==\"};","import { Component } from 'react'\r\n\r\ntype ComponentProps = {\r\n  timeLeft?: number // seconds\r\n  handleClick: () => void\r\n}\r\n\r\ntype ComponentState = {\r\n  timeLeft: number\r\n}\r\n\r\nexport default class TimerButton extends Component<ComponentProps, ComponentState> {\r\n  timer = null\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const { timeLeft = 10 } = props\r\n\r\n    this.state = {\r\n      timeLeft,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.tick()\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    //@ts-ignore: strictNullChecks\r\n    clearTimeout(this.timer)\r\n  }\r\n\r\n  tick = () => {\r\n    const { timeLeft } = this.state\r\n    const newTimeLeft = timeLeft - 1\r\n\r\n    if (newTimeLeft <= 0) {\r\n      this.props.handleClick()\r\n    }\r\n    else {\r\n      //@ts-ignore: strictNullChecks\r\n      this.timer = setTimeout(this.tick, 1000)\r\n      this.setState({\r\n        timeLeft: newTimeLeft,\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { timeLeft } = this.state\r\n\r\n    return timeLeft\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport Button from 'components/controls/Button/Button'\r\nimport Timer from 'components/Timer/Timer'\r\n\r\n\r\nexport default class TimerButton extends Component<any, any> {\r\n\r\n  static propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n    timeLeft: PropTypes.number.isRequired,\r\n    className: PropTypes.string,\r\n    disabledTimer: PropTypes.bool,\r\n    forceClick: PropTypes.bool,\r\n  }\r\n\r\n  static defaultProps = {\r\n    disabledTimer: false,\r\n  }\r\n\r\n  componentDidMount() {\r\n    const {\r\n      forceClick,\r\n      onClick,\r\n    } = this.props\r\n\r\n    if (forceClick) onClick()\r\n  }\r\n\r\n  render() {\r\n    const { children, disabledTimer, timeLeft, className, onClick, ...rest } = this.props\r\n    const { forceClick } = this.props\r\n\r\n    if (forceClick) return null\r\n\r\n    return (\r\n      <Button className={className} onClick={onClick} {...rest} >\r\n        {children}\r\n        {` `}\r\n        {!disabledTimer && <Timer timeLeft={timeLeft} handleClick={onClick} />}\r\n      </Button>\r\n    )\r\n\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"HolderLinkShorter\":\"x6og3mYKtd+bIgIiQJxQNQ==\",\"shareLinkTextarea\":\"cDit7Or3nLJLApGJhXUHpA==\",\"HolderQRCode\":\"XbEy8gl387RBcPpncTZO7w==\",\"loader\":\"+3-IFhu1va0Okh7OyxOy9A==\",\"qrLoaded\":\"nTJiZUo+ePoozqp+0nB9vQ==\",\"ButtonsHolder\":\"U9lC6XWwdviWUdlVJtr9zA==\",\"CopyLinkButton\":\"XYH6LPqntQpySVWNR+6eIg==\",\"ShareButtonHolder\":\"Zb6prJ5VywJKc8TzBTXF3Q==\",\"WrapShareButton\":\"PL9sWU3qP1qMvtt1gKMxFA==\",\"shareLinkHolder\":\"WpWDqfmuQiwwx6SUS0Cw7A==\",\"linkHolder\":\"OYC0-smss0wC4nE5gIpSaw==\"};","export default __webpack_public_path__ + \"images/icon_45303f.svg\";","import React from \"react\";\r\nimport styles from \"./ShareButton.scss\";\r\nimport shareIcon from './images/icon.svg';\r\nimport actions from \"redux/actions\";\r\nimport CSSModules from 'react-css-modules'\r\nimport { constants } from \"helpers\";\r\nimport Button from 'components/controls/Button/Button'\r\n\r\n@CSSModules(styles, { allowMultiple: true })\r\n\r\nexport default class ShareButton extends React.Component<any, any> {\r\n  openShareModal = () => {\r\n    const { link, title } = this.props\r\n    //@ts-ignore: strictNullChecks\r\n    actions.modals.open(constants.modals.Share, {\r\n      link: link,\r\n      title: title\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      halfWidth,\r\n      fullWidth,\r\n      minWidth,\r\n    } = this.props\r\n\r\n    const classes = [`WrapShareButton`]\r\n    if (halfWidth) classes.push(`halfWidth`)\r\n    if (fullWidth) classes.push(`fullWidth`)\r\n\r\n    return (\r\n      <div styleName={classes.join(' ')}>\r\n        <Button blue onClick={this.openShareModal} type=\"button\" title=\"Share this article\">\r\n          <span>\r\n            <img src={shareIcon} alt='Share' />\r\n            Share\r\n          </span>\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nexport default {\"WrapShareButton\":\"uNNTAhBj4n67qQEHTdHAIg==\",\"halfWidth\":\"_4jcsznHMkkD2fsqwJMaG8A==\",\"fullWidth\":\"BfAxbYIJaCz871FKZ30DtQ==\"};","import React from 'react'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './InlineLoader.scss'\r\n\r\n\r\nconst InlineLoader = () => (\r\n  <div styleName=\"ellipsis\">\r\n    <div />\r\n    <div />\r\n    <div />\r\n    <div />\r\n  </div>\r\n)\r\n\r\nexport default cssModules(InlineLoader, styles)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"ellipsis\":\"G3JPE7xZXvueumwB-iJvJw==\",\"ellipsis1\":\"hcygmhFwWdpw2lAfxvYmsw==\",\"ellipsis2\":\"uvLkAEECqpibox63zpHQUQ==\",\"ellipsis3\":\"iuZYfmFQePkhUshmD5x4FQ==\"};","import React from \"react\";\r\nimport styles from \"./ShareLink.scss\";\r\nimport actions from \"redux/actions\";\r\nimport CSSModules from 'react-css-modules'\r\nimport { constants } from \"helpers\";\r\nimport Button from 'components/controls/Button/Button'\r\nimport CopyToClipboard from 'react-copy-to-clipboard'\r\nimport { FormattedMessage, defineMessages, injectIntl } from 'react-intl'\r\nimport ShareButton from 'components/controls/ShareButton/ShareButton'\r\nimport InlineLoader from 'components/loaders/InlineLoader/InlineLoader'\r\n\r\n\r\n@CSSModules(styles, { allowMultiple: true })\r\nexport default class ShareLink extends React.Component<any, any> {\r\n  qrLoaderTimer = null\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    console.log('ShareLink', props)\r\n    this.state = {\r\n      isLinkCopied: false,\r\n      qrLoaded: false,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    //@ts-ignore: strictNullChecks\r\n    this.qrLoaderTimer = setTimeout(() => {\r\n      this.setState({\r\n        qrLoaded: true,\r\n      })\r\n    }, 5000)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    //@ts-ignore: strictNullChecks\r\n    clearTimeout(this.qrLoaderTimer)\r\n  }\r\n\r\n  handleCopyLink = () => {\r\n    this.setState({\r\n      isLinkCopied: true,\r\n    }, () => {\r\n      setTimeout(() => {\r\n        this.setState({\r\n          isLinkCopied: false,\r\n        })\r\n      }, 1000)\r\n    })\r\n  }\r\n\r\n  handleQrLoaded = () => {\r\n    this.setState({\r\n      qrLoaded: true,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    let {\r\n      link,\r\n      size,\r\n      altText,\r\n    } = this.props\r\n\r\n    const {\r\n      fullSize,\r\n    } = this.props\r\n\r\n    const {\r\n      isLinkCopied,\r\n      qrLoaded,\r\n    } = this.state\r\n\r\n    if (!size) size = 250\r\n    if (!altText) altText = ``;\r\n\r\n    return (\r\n      <div styleName=\"shareLinkHolder\">\r\n        <CopyToClipboard\r\n          text={link}\r\n          onCopy={this.handleCopyLink}\r\n        >\r\n          <div styleName=\"linkHolder\" onClick={this.handleCopyLink}>\r\n            <div styleName={`HolderQRCode ${(qrLoaded) ? 'qrLoaded' : ''}`}>\r\n              {!qrLoaded && (\r\n                <div styleName=\"loader\">\r\n                  <InlineLoader />\r\n                </div>\r\n              )}\r\n              <img onClick={this.handleCopyLink}\r\n                src={`https://chart.googleapis.com/chart?chs=${size}x${size}&cht=qr&chl=${encodeURIComponent(link)}`}\r\n                alt={`${altText}`}\r\n                onLoad={this.handleQrLoaded}\r\n              />\r\n            </div>\r\n            {(fullSize) ? (\r\n              <textarea styleName=\"shareLinkTextarea\" value={link} readOnly>{link}</textarea>\r\n            ) : (\r\n              <div styleName=\"HolderLinkShorter\">\r\n                <span>{link}</span>\r\n                <span>{link}</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </CopyToClipboard>\r\n        <div styleName=\"ButtonsHolder\">\r\n          <CopyToClipboard text={link} onCopy={this.handleCopyLink}>\r\n            <Button blue fullWidth disabled={isLinkCopied} styleName=\"CopyLinkButton\">\r\n              {isLinkCopied ?\r\n                <FormattedMessage id=\"ControlShareLink_LinkCopied\" defaultMessage=\"Link copied\" /> :\r\n                <FormattedMessage id=\"ControlShareLink_CopyLink\" defaultMessage=\"Copy link\" />\r\n              }\r\n            </Button>\r\n          </CopyToClipboard>\r\n          <div styleName=\"ShareButtonHolder\">\r\n            <ShareButton link={link} title={``}></ShareButton>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\n\r\n","import CSSModules from 'react-css-modules'\r\nimport styles from './Switching.scss'\r\nimport cx from 'classnames'\r\n\r\ntype SwitchingProps = {\r\n  onClick: () => void\r\n  noneBorder?: boolean\r\n}\r\n\r\nconst doNothing = () => {}\r\n\r\nconst Switching = (props: SwitchingProps) => {\r\n  const { onClick = doNothing, noneBorder = false } = props\r\n\r\n  const styleName = cx('switching', {\r\n    'noneBorder': noneBorder,\r\n  })\r\n\r\n  return (\r\n    <button type=\"button\" onClick={onClick} styleName={styleName} className=\"fas fa-exchange-alt\" />\r\n  )\r\n}\r\n\r\nexport default CSSModules(Switching, styles, { allowMultiple: true })\r\n","// extracted by mini-css-extract-plugin\nexport default {\"switching\":\"f1JEoyc4jiubEdqASI4HEA==\",\"noneBorder\":\"HCZDtIjBD5in7CQDm7Pp6w==\"};","import React from 'react'\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './Flip.scss'\r\n\r\ntype ComponentProps = {\r\n  onClick: () => void\r\n  className?: string\r\n}\r\n\r\nconst Flip = (props: ComponentProps) => {\r\n  const { onClick, className = '' } = props\r\n\r\n  return (\r\n    <button\r\n      alt=\"flip currency\"\r\n      onClick={onClick}\r\n      className={className}\r\n      styleName=\"trade-panel__change\"\r\n    />\r\n  )\r\n}\r\n\r\nexport default CSSModules(Flip, styles)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"trade-panel__change\":\"+3a8x9a07upBDoVYSrgPhQ==\"};","import CSSModules from 'react-css-modules'\r\nimport styles from './index.scss'\r\n\r\ntype RemoveButtonProps = {\r\n  onClick: () => void\r\n  brand?: boolean\r\n  id?: string\r\n}\r\n\r\nconst RemoveButton = (props: RemoveButtonProps) => {\r\n  const { brand = false, onClick, id = '' } = props\r\n\r\n  return <button id={id} styleName={`removeButton ${brand ? 'brand' : ''}`} onClick={onClick} />\r\n}\r\n\r\nexport default CSSModules(RemoveButton, styles, { allowMultiple: true })\r\n","// extracted by mini-css-extract-plugin\nexport default {\"removeButton\":\"sPzKggwuqlErA9OaHjPA7A==\",\"brand\":\"YVPvxkKNcLwvFd8WhEygdw==\"};","import React from 'react'\r\nimport cx from 'classnames'\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './WithdrawButton.scss'\r\n\r\ntype ComponentProps = {\r\n  onClick: () => void\r\n  disable: boolean\r\n  children: JSX.Element | JSX.Element[]\r\n}\r\n\r\nconst WithdrawButton = (props: ComponentProps) => {\r\n  const {\r\n    onClick,\r\n    children,\r\n    disable,\r\n    ...rest\r\n  } = props\r\n\r\n  const doNothing = () => undefined\r\n\r\n  const styleName = cx('withdrawButton', {\r\n    'disable': disable,\r\n  })\r\n\r\n  return (\r\n    <button onClick={!disable ? onClick : doNothing} styleName={styleName} {...rest}>\r\n      {children}\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default CSSModules(WithdrawButton, styles, { allowMultiple: true })\r\n","// extracted by mini-css-extract-plugin\nexport default {\"withdrawButton\":\"_3Dwb-qxcAurpywAbeY3uFw==\",\"disable\":\"GrRGe1uHTsOmDHRavlfZSw==\"};","import React, { Component } from 'react'\r\nimport CopyToClipboard from 'react-copy-to-clipboard'\r\nimport { FormattedMessage, injectIntl } from 'react-intl'\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './Copy.scss'\r\n\r\n@CSSModules(styles, { allowMultiple: true })\r\nclass Copy extends Component<any, any> {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      showTip: false,\r\n    }\r\n  }\r\n\r\n  handleCopyLink = () => {\r\n    const { onCopy } = this.props\r\n    if (onCopy) onCopy()\r\n    if (this.state.showTip) {\r\n      return\r\n    }\r\n    this.setState({\r\n      showTip: true,\r\n    }, () => {\r\n      setTimeout(() => {\r\n        this.setState({\r\n          showTip: false,\r\n        })\r\n      }, 1000)\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { text, children } = this.props\r\n    const { showTip } = this.state\r\n\r\n    return (\r\n      <div styleName=\"copyWrapper\" title=\"Copy\">\r\n        {showTip &&\r\n        <div styleName=\"copyTip\">\r\n          <FormattedMessage id=\"RowFeeds64\" defaultMessage=\"Copied!\" />\r\n        </div>\r\n        }\r\n        <CopyToClipboard\r\n          onCopy={this.handleCopyLink}\r\n          text={text}\r\n        >\r\n          {children}\r\n        </CopyToClipboard>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(Copy)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"copyWrapper\":\"urknJn17Fucg9V2dV9SG2w==\",\"copyTip\":\"F-46-rHV2twzILo1Kgm4DQ==\",\"show-and-hide\":\"jC+GaQuFFxoJcZu+GaxtNA==\"};","import React from \"react\"\r\nimport ReactTooltop from \"react-tooltip\"\r\n\r\n// A react tooltip wrapper to define a tooltip type depending on the theme\r\nexport default function ThemeTooltip(params) {\r\n  const { type, children, ...props } = params\r\n  const isDark = document.body.dataset.scheme === 'dark'\r\n  const defaultType = isDark ? \"light\" : \"dark\"\r\n\r\n  return (\r\n    <ReactTooltop type={type || defaultType} {...props}>\r\n      {children}\r\n    </ReactTooltop>\r\n  )\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport CSSModules from 'react-css-modules'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport ThemeTooltip from './ThemeTooltip'\r\nimport styles from './Tooltip.scss'\r\n\r\ntype ComponentProps = {\r\n  mark?: boolean\r\n  id: string\r\n  children: JSX.Element[] | JSX.Element | string\r\n  dontHideMobile?: boolean\r\n  place?: null | string\r\n}\r\n\r\nconst Tooltip = (props: ComponentProps) => {\r\n  const { mark = true, children, id, dontHideMobile = false, place = null } = props\r\n\r\n  return (\r\n    <Fragment>\r\n      {mark ? (\r\n        <span\r\n          data-tip\r\n          data-for={id}\r\n          styleName={`tooltip isMark ${dontHideMobile ? 'tooltip_truesight' : ''}`}\r\n        >\r\n          <FormattedMessage id=\"Tooltip11\" defaultMessage=\"?\" />\r\n        </span>\r\n      ) : (\r\n        <div data-tip data-for={id} styleName=\"tooltip noMark\"></div>\r\n      )}\r\n\r\n      <ThemeTooltip styleName=\"r-tooltip\" id={id} effect=\"solid\" multiline {...{ place }}>\r\n        {children}\r\n      </ThemeTooltip>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default CSSModules(Tooltip, styles, { allowMultiple: true })\r\n","// extracted by mini-css-extract-plugin\nexport default {\"tooltip\":\"_8JGuKzF-+v-LF5fYrJrWRg==\",\"isMark\":\"-N89vkKt1JgI-Cm-sLBI3Q==\",\"noMark\":\"_3cHDZ3WuzcPjPJ-kpSIgAQ==\",\"r-tooltip\":\"cqrlWv-Evy7qOb8o6fa93w==\",\"tooltip_truesight\":\"At-FzriXCGEei6xLuQMDlw==\"};","import React, { Fragment } from 'react'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport CSSModules from 'react-css-modules'\r\nimport Copy from 'components/ui/Copy/Copy'\r\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\r\nimport styles from './SwapProgress.scss'\r\nimport { constants } from 'helpers'\r\n\r\n\r\nconst mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\r\nconst showWIF = (mnemonic && mnemonic !== `-`)\r\nconst swapWIF = localStorage.getItem(constants.privateKeyNames.ghost)\r\n\r\nconst PleaseDontLeaveWrapper = (props) => {\r\n  const { children, isBtcLike } = props\r\n\r\n  return (\r\n    <Fragment>\r\n      {children}\r\n      <div styleName=\"dontLeave\">\r\n        <FormattedMessage id=\"swapprogressDONTLEAVE\" defaultMessage=\"Please do not leave this page \" />\r\n        <Tooltip\r\n          id=\"swapjsdontleave\"\r\n          dontHideMobile={true}\r\n        >\r\n          <p>\r\n            <FormattedMessage\r\n              id=\"swapjsdontleave\"\r\n              defaultMessage=\"The exchange requires signing with private keys that only your browser knows.\"\r\n            />\r\n          </p>\r\n          {(isBtcLike) && (\r\n            <p>\r\n              <FormattedMessage\r\n                id=\"swapjsdontleavesavesecret\"\r\n                defaultMessage=\"If you want to leave this page please save the secret.\" />\r\n            </p>\r\n          )}\r\n        </Tooltip>\r\n        {(isBtcLike) && (\r\n          <strong styleName=\"saveSecretKey\">\r\n            <FormattedMessage id=\"swapprogressDONTLEAVEBTC\" defaultMessage=\"Or save this SECRET before you leave:\" />\r\n\r\n            <Copy text={isBtcLike}>\r\n              <em>{isBtcLike}</em>\r\n            </Copy>\r\n\r\n            {(showWIF) && (\r\n              <Copy text={swapWIF}>\r\n                <em>{swapWIF}</em>\r\n              </Copy>\r\n            )}\r\n          </strong>\r\n        )}\r\n      </div>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default CSSModules(PleaseDontLeaveWrapper, styles, { allowMultiple: true })\r\n","export const reduceMessages = result =>\r\n  result.reduce(\r\n    (acc, msg) => ({ ...acc, [msg.id]: msg.message || msg.defaultMessage }),\r\n    {}\r\n  )\r\n\r\nexport const defaultLocale = () => navigator.language.split('-')[0]\r\n\r\nconst prepareUrl = (link = '') => link.replace(/^\\/|\\/$/g, '')\r\n\r\nexport const localisedUrl = (locale, link = '') => `/${prepareUrl(link)}`","import React, { Component, Fragment } from 'react'\r\nimport styles from './SwapProgress.scss'\r\nimport CSSModules from 'react-css-modules'\r\nimport crypto from 'crypto'\r\n\r\nimport { BigNumber } from 'bignumber.js'\r\nimport { Link as LinkTo } from 'react-router-dom'\r\nimport { injectIntl, FormattedMessage } from 'react-intl'\r\n\r\nimport Timer from '../../Timer/Timer'\r\nimport { Button, TimerButton } from 'components/controls'\r\nimport PleaseDontLeaveWrapper from './PleaseDontLeaveWrapper'\r\n\r\nimport { constants, links, ethToken } from 'helpers'\r\nimport { localisedUrl } from 'helpers/locale'\r\nimport metamask from 'helpers/metamask'\r\n\r\ntype ComponentProps = {\r\n  flow: IUniversalObj\r\n  swap: IUniversalObj\r\n  history: IUniversalObj\r\n  signed: boolean\r\n  locale: string\r\n  wallets: { [key: string]: string }\r\n  fields: { [key: string]: string }\r\n}\r\n\r\ntype ComponentState = {\r\n  flow: IUniversalObj\r\n  swap: IUniversalObj\r\n  signed: boolean\r\n  enabledButton: boolean\r\n  refundError: boolean\r\n  steps: Function[]\r\n  buyCurrency: string\r\n  sellCurrency: string\r\n  secret: string\r\n  stepValue: number\r\n}\r\n\r\n@CSSModules(styles, { allowMultiple: true })\r\nclass SwapProgress extends Component<ComponentProps, ComponentState> {\r\n  swap = null\r\n  _fields = null\r\n  wallets = null\r\n  history = null\r\n  locale = null\r\n  timer = null\r\n  isSellCurrencyEthOrEthToken = null\r\n\r\n  static defaultProps = {\r\n    flow: {},\r\n    whiteLogo: false,\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    const {\r\n      flow,\r\n      swap,\r\n      signed,\r\n      wallets,\r\n      history,\r\n      locale,\r\n      fields,\r\n    } = props\r\n\r\n    this._fields = fields\r\n    this.swap = swap\r\n    this.wallets = wallets\r\n    this.history = history\r\n    this.locale = locale\r\n\r\n    //@ts-ignore: strictNullChecks\r\n    this.isSellCurrencyEthOrEthToken = ethToken.isEthOrEthToken({ name: swap.sellCurrency })\r\n\r\n    this.state = {\r\n      swap,\r\n      signed,\r\n      enabledButton: false,\r\n      refundError: false,\r\n      flow,\r\n      steps: flow.steps,\r\n      buyCurrency: swap.buyCurrency,\r\n      sellCurrency: swap.sellCurrency,\r\n      secret: crypto.randomBytes(32).toString('hex'),\r\n      stepValue: 0,\r\n    }\r\n  }\r\n\r\n  onPushGoToWallet = () => {\r\n    //@ts-ignore: strictNullChecks\r\n    this.history.push(localisedUrl(this.locale, '/wallet'))\r\n  }\r\n\r\n  onPushGoToTxPage = () => {\r\n    const {\r\n      state: {\r\n        flow,\r\n        swap,\r\n      },\r\n      _fields: {\r\n        //@ts-ignore: strictNullChecks\r\n        currencyName,\r\n        //@ts-ignore: strictNullChecks\r\n        withdrawTransactionHash,\r\n        //@ts-ignore: strictNullChecks\r\n        explorerLink,\r\n        //@ts-ignore: strictNullChecks\r\n        etherscanLink,\r\n      },\r\n    } = this\r\n\r\n    if (flow.ethSwapWithdrawTransactionHash && swap.sellCurrency === currencyName) {\r\n      window.open(`${etherscanLink}/tx/${flow.ethSwapWithdrawTransactionHash}`, '_blank')\r\n    }\r\n    if (flow[withdrawTransactionHash]) {\r\n      window.open(`${explorerLink}/tx/${flow[withdrawTransactionHash]}`, '_blank')\r\n    }\r\n  }\r\n\r\n  handleBarProgress = () => {\r\n    const {\r\n      state: {\r\n        swap: {\r\n          sellCurrency,\r\n          flow: {\r\n            stepNumbers,\r\n            state: {\r\n              step,\r\n            },\r\n          },\r\n        },\r\n      },\r\n      _fields: {\r\n        //@ts-ignore: strictNullChecks\r\n        currencyName,\r\n      }\r\n    } = this\r\n\r\n    const first = stepNumbers.sign\r\n    const sixth = sellCurrency === currencyName ? stepNumbers[`withdraw-eth`] : stepNumbers[`wait-withdraw-eth`]\r\n    const seventh = sellCurrency === currencyName ? stepNumbers.finish : stepNumbers[`withdraw-${currencyName.toLowerCase()}`]\r\n    const eighth = sellCurrency === currencyName ? stepNumbers.end : stepNumbers.finish\r\n\r\n    if (step >= first && step < sixth) {\r\n      this.setState({\r\n        stepValue: 1,\r\n      })\r\n    }\r\n    if (step === sixth) {\r\n      this.setState({\r\n        stepValue: 2,\r\n      })\r\n    }\r\n    if (step === seventh) {\r\n      this.setState({\r\n        stepValue: 3,\r\n      })\r\n    }\r\n    if (step >= eighth) {\r\n      this.setState({\r\n        stepValue: 4,\r\n      })\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    //@ts-ignore: strictNullChecks\r\n    this.swap.on('state update', this.handleFlowStateUpdate)\r\n    this.handleBarProgress()\r\n    localStorage.setItem(constants.localStorage.startSwap, Date.now().toString())\r\n    this.reloadPage()\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    //@ts-ignore: strictNullChecks\r\n    this.swap.off('state update', this.handleFlowStateUpdate)\r\n    //@ts-ignore: strictNullChecks\r\n    clearTimeout(this.timer)\r\n  }\r\n\r\n  reloadPage = () => {\r\n    //@ts-ignore: strictNullChecks\r\n    this.timer = setTimeout(() => {\r\n      //@ts-ignore: strictNullChecks\r\n      const startSwapTime: number = new BigNumber(localStorage.getItem(constants.localStorage.startSwap)).toNumber()\r\n\r\n      //@ts-ignore: strictNullChecks\r\n      if (this.swap.flow.isFinished) {\r\n        //@ts-ignore: strictNullChecks\r\n        clearTimeout(this.timer)\r\n      }\r\n\r\n      const isSwapPage = window.location.pathname.includes(\"swaps\")\r\n\r\n      if (((Date.now() - startSwapTime) > 600 * 1000) && isSwapPage) {\r\n        console.warn('UPS!!! SWAP IS FROZEN - RELOAD')\r\n        localStorage.removeItem(constants.localStorage.startSwap)\r\n        //@ts-ignore: strictNullChecks\r\n        clearTimeout(this.timer)\r\n        window.location.reload()\r\n      }\r\n    }, 1000)\r\n  }\r\n\r\n  checkCanRefund = () => {\r\n    const { sellCurrency, buyCurrency, swap } = this.state\r\n\r\n    if (!swap) {\r\n      return false\r\n    }\r\n\r\n    const { state, stepNumbers } = swap.flow\r\n\r\n    const {\r\n      //@ts-ignore: strictNullChecks\r\n      scriptCreatingTransactionHash,\r\n      //@ts-ignore: strictNullChecks\r\n      withdrawTransactionHash,\r\n    } = this._fields\r\n\r\n    const getFinalCurrency = (currency) => {\r\n      const isCurrencyEthOrEthToken = ethToken.isEthOrEthToken({ name: currency })\r\n\r\n      if (isCurrencyEthOrEthToken) {\r\n        return 'Eth'\r\n      }\r\n\r\n      return currency.charAt(0).toUpperCase() + currency.slice(1).toLowerCase()\r\n    }\r\n\r\n    const finalBuyCurrency = getFinalCurrency(buyCurrency)\r\n    const finalSellCurrency = getFinalCurrency(sellCurrency)\r\n\r\n    const isStartStepForRefund = state.step >= stepNumbers[`lock-${finalSellCurrency.toLowerCase()}`]\r\n    const isEndStepForRefund = state.step < stepNumbers[`withdraw-${finalBuyCurrency.toLowerCase()}`]\r\n\r\n    const isStepForRefund = isStartStepForRefund && isEndStepForRefund\r\n\r\n    const isNotFinished = !state.isFinished && !state.isRefunded\r\n\r\n    const isCurrencyFunded = this.isSellCurrencyEthOrEthToken\r\n      ? state.ethSwapCreationTransactionHash\r\n      : state[scriptCreatingTransactionHash]\r\n\r\n    const isCurrencyWithdrawn = this.isSellCurrencyEthOrEthToken\r\n      ? state[withdrawTransactionHash]\r\n      : state.ethSwapWithdrawTransactionHash\r\n\r\n    const canRefund = isStepForRefund\r\n      && isCurrencyFunded\r\n      && isNotFinished\r\n      && !isCurrencyWithdrawn\r\n\r\n    return canRefund\r\n  }\r\n\r\n  handleFlowStateUpdate = (values) => {\r\n    this.setState(() => ({\r\n      flow: values,\r\n    }))\r\n\r\n    this.handleBarProgress()\r\n  }\r\n\r\n  tryRefund = async () => {\r\n    //@ts-ignore: strictNullChecks\r\n    const { flow } = this.swap\r\n\r\n    await flow.tryRefund()\r\n      .then((result) => {\r\n        if (!result) {\r\n          this.setState(() => ({ refundError: true }))\r\n          setTimeout(() => this.setState(() => ({ refundError: false })), 5000)\r\n          return\r\n        }\r\n\r\n        this.setState(() => ({ enabledButton: false }))\r\n      })\r\n  }\r\n\r\n  willEnable = () => {\r\n    this.setState(() => ({ enabledButton: true }))\r\n  }\r\n\r\n  submitSecret = () => {\r\n    const { secret } = this.state\r\n\r\n    // this.swap.flow.submitSecret(secret)\r\n  }\r\n\r\n  confirmScriptChecked = () => {\r\n    const {\r\n      //@ts-ignore: strictNullChecks\r\n      verifyScriptFunc,\r\n    } = this._fields\r\n    // this.swap.flow[verifyScriptFunc]()\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      steps,\r\n      flow,\r\n      swap,\r\n      swap: {\r\n        flow: {\r\n          isTakerMakerModel,\r\n          isUTXOSide,\r\n          state :{\r\n            isEthContractFunded,\r\n            utxoScriptValues,\r\n            scriptBalance,\r\n            isFinished,\r\n            isRefunded,\r\n            isStoppedSwap\r\n          }\r\n        },\r\n      },\r\n      signed,\r\n      buyCurrency,\r\n      sellCurrency,\r\n      enabledButton,\r\n      refundError,\r\n    } = this.state\r\n\r\n    const {\r\n      //@ts-ignore: strictNullChecks\r\n      currencyName,\r\n      //@ts-ignore: strictNullChecks\r\n      scriptValues,\r\n      //@ts-ignore: strictNullChecks\r\n      explorerLink,\r\n      //@ts-ignore: strictNullChecks\r\n      etherscanLink,\r\n      //@ts-ignore: strictNullChecks\r\n      withdrawTransactionHash,\r\n    } = this._fields\r\n\r\n    //@ts-ignore: strictNullChecks\r\n    const showWalletButton = (!this.swap.destinationBuyAddress)\r\n      //@ts-ignore: strictNullChecks\r\n      || (this.swap.destinationBuyAddress === this.wallets[buyCurrency.toUpperCase()])\r\n\r\n    const canRefund = this.checkCanRefund()\r\n\r\n    let _refundTx = false\r\n\r\n    if (flow.refundTransactionHash) {\r\n      _refundTx = flow.refundTransactionHash.transactionHash || flow.refundTransactionHash\r\n    }\r\n\r\n    const canBeRefunded = utxoScriptValues && (isUTXOSide ? scriptBalance > 0 : isEthContractFunded)\r\n    const isDeletedSwap = isFinished || isRefunded\r\n\r\n    return (\r\n      <div styleName=\"overlay\">\r\n        <div styleName=\"container\">\r\n          <div styleName=\"stepContainer\">\r\n            <div styleName=\"stepInfo\">\r\n              {!isDeletedSwap && canBeRefunded && (\r\n                  <Timer lockTime={utxoScriptValues.lockTime * 1000} />\r\n                )\r\n              }\r\n\r\n              {signed && flow.step < 4 && (\r\n                <div>\r\n                  <strong>\r\n                    <a href={`${etherscanLink}/tx/${flow.signTransactionHash}`} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                      <FormattedMessage id=\"swappropgress193\" defaultMessage=\"Sign ETH transaction: {transaction}\" values={{ transaction: flow.signTransactionHash }} />\r\n                    </a>\r\n                  </strong>\r\n                </div>\r\n              )}\r\n\r\n              {(flow.utxoScriptValues && !flow.isFinished && !flow.isEthWithdrawn) && flow.refundTxHex && (\r\n                <div>\r\n                  <a\r\n                    href=\"https://wiki.swaponline.io/faq/my-swap-got-stuck-and-my-bitcoin-has-been-withdrawn-what-to-do/\"\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                  >\r\n                    <FormattedMessage id=\"swappropgress192\" defaultMessage=\"How to refund your money ?\" />\r\n                  </a>\r\n                  <FormattedMessage id=\"swappropgress333\" defaultMessage=\"Refund hex transaction: \" />\r\n                  <code> {flow.refundTxHex} </code>\r\n                </div>\r\n              )}\r\n\r\n              {\r\n                _refundTx && (\r\n                  <div styleName=\"refundTransaction\">\r\n                    <strong>\r\n                      <a\r\n                        href={swap.sellCurrency === currencyName\r\n                          ? `${explorerLink}/tx/${_refundTx}`\r\n                          : `${etherscanLink}/tx/${_refundTx}`\r\n                        }\r\n                        target=\"_blank\"\r\n                        rel=\"noopener noreferrer\"\r\n                      >\r\n                        <FormattedMessage id=\"swapprogress254\" defaultMessage=\"Refund transaction: \" />\r\n                        <span styleName=\"refundTransactionHash\">{_refundTx}</span>\r\n                      </a>\r\n                    </strong>\r\n                  </div>\r\n                )\r\n              }\r\n\r\n              {canRefund &&\r\n                <Fragment>\r\n                  {enabledButton\r\n                    ? (\r\n                      <Fragment>\r\n                        <div styleName=\"btnRefund\">\r\n                          <Button gray onClick={this.tryRefund}>\r\n                            <FormattedMessage id=\"swapprogress270\" defaultMessage=\"Try refund\" />\r\n                          </Button>\r\n                        </div>\r\n                        {refundError &&\r\n                          <span styleName=\"tryAgain\">\r\n                            <FormattedMessage id=\"swapprogress271\" defaultMessage=\"Try again in a few minutes\" />\r\n                          </span>\r\n                        }\r\n                      </Fragment>\r\n                    )\r\n                    : (\r\n                      <div styleName=\"timerRefund\">\r\n                        <Timer\r\n                          isRefund\r\n                          lockTime={flow[scriptValues].lockTime * 1000}\r\n                          cancelTime={(flow[scriptValues].lockTime - 7200) * 1000}\r\n                          enabledButton={this.willEnable}\r\n                        />\r\n                      </div>\r\n                    )\r\n                  }\r\n                </Fragment>\r\n              }\r\n\r\n              {flow.step === 2 && !this.isSellCurrencyEthOrEthToken && (\r\n                <TimerButton brand onClick={this.submitSecret.bind(this)} timeLeft={180} forceClick={true}>\r\n                  <FormattedMessage id=\"swapFinishedGoHome289\" defaultMessage=\"Submit the Secret\" />\r\n                </TimerButton>\r\n              )}\r\n              {flow.step === 3 && this.isSellCurrencyEthOrEthToken && (\r\n                <TimerButton brand onClick={this.confirmScriptChecked.bind(this)} timeLeft={180} forceClick={true}>\r\n                  <FormattedMessage id=\"swapFinishedGoHome298\" defaultMessage=\"Everything is OK. Continue\" />\r\n                </TimerButton>\r\n              )}\r\n              {flow.step === 4 && flow.waitUnlockUTXO && (\r\n                <strong styleName=\"attention\">\r\n                  <FormattedMessage\r\n                    id=\"Swap_OwnerHasLockedUTX\"\r\n                    defaultMessage=\"Swap paused because you has unconfirmed transaction in mempool. Waiting confirm\"\r\n                  />\r\n                </strong>\r\n              )}\r\n              {flow.step <= 5 && flow.participantHasLockedUTXO && (\r\n                <strong styleName=\"attention\">\r\n                  <FormattedMessage\r\n                    id=\"Swap_SellerHasLockedUTX\"\r\n                    defaultMessage=\"Swap paused because owner has unconfirmed transaction in mempool. Waiting confirm\"\r\n                  />\r\n                </strong>\r\n              )}\r\n              {flow.step <= 5 && flow.utxoFundError && (\r\n                <strong styleName=\"attention\">\r\n                  <FormattedMessage\r\n                    id=\"Swap_UtxoBroadcastError\"\r\n                    defaultMessage=\"Swap paused because broadcast tx ended with error &quot;{error}&quot;\"\r\n                    values={{\r\n                      error: flow.utxoFundError,\r\n                    }}\r\n                  />\r\n                </strong>\r\n              )}\r\n              {metamask.isConnected() && (\r\n                (!this.isSellCurrencyEthOrEthToken && flow.step === 6)\r\n                || (this.isSellCurrencyEthOrEthToken && flow.step === 5 && flow.isUTXOScriptOk)\r\n              ) && (\r\n                <strong styleName=\"metamask_attention\">\r\n                  <FormattedMessage\r\n                    id=\"Swap_MetamaskAttention\"\r\n                    defaultMessage=\"Please confirm the transaction in your &quot;{walletName}&quot; wallet\"\r\n                    values={{\r\n                      walletName: metamask.web3connect.getProviderTitle(),\r\n                    }}\r\n                  />\r\n                </strong>\r\n              )}\r\n              {flow.step > 3 && !flow.isRefunded && !flow.isFinished  && !this.isSellCurrencyEthOrEthToken &&\r\n                <PleaseDontLeaveWrapper isBtcLike={flow.secret ? flow.secret : false} />\r\n              }\r\n            </div>\r\n\r\n            {flow.ethSwapWithdrawTransactionHash && !this.isSellCurrencyEthOrEthToken && (\r\n              <strong styleName=\"transaction\">\r\n                <a\r\n                  href={`${etherscanLink}/tx/${flow.ethSwapWithdrawTransactionHash}`}\r\n                  target=\"_blank\"\r\n                  rel=\"noreferrer noopener\"\r\n                >\r\n                  <FormattedMessage id=\"swappropgress207\" defaultMessage=\"{transaction}\" values={{ transaction: flow.ethSwapWithdrawTransactionHash }} />\r\n                </a>\r\n              </strong>\r\n            )}\r\n            {flow[withdrawTransactionHash] && this.isSellCurrencyEthOrEthToken && (\r\n              <strong styleName=\"transaction\">\r\n                <a\r\n                  href={`${explorerLink}/tx/${flow[withdrawTransactionHash]}`}\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                >\r\n                  <FormattedMessage id=\"swappropgress218\" defaultMessage=\"{transaction}\" values={{ transaction: flow[withdrawTransactionHash] }} />\r\n                </a>\r\n              </strong>\r\n            )}\r\n            {flow.isFinished && (\r\n              <div styleName=\"finishButtonsHolder\">\r\n                {showWalletButton && (\r\n                  <LinkTo to=\"/wallet\">\r\n                    <Button brand onClick={this.onPushGoToWallet}>\r\n                      <FormattedMessage id=\"swapProgressGoToWallet\" defaultMessage=\"Check balance\" />\r\n                    </Button>\r\n                  </LinkTo>\r\n                )}\r\n                <Button gray onClick={this.onPushGoToTxPage}>\r\n                  <FormattedMessage id=\"swapProgressGoToTxPage\" defaultMessage=\"View TX in explorer\" />\r\n                </Button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(SwapProgress)","// extracted by mini-css-extract-plugin\nexport default {\"stepList\":\"-fV6gvYv2xgmFHjl8TVhog==\",\"stepItem\":\"_8Y9tRHrig9D+ll50h0HZOQ==\",\"stepNumber\":\"_6uzXc8dJrVv+aK2sZ82sbQ==\",\"stepText\":\"GYQZ4ecxx-ymnsAjMtnz+A==\",\"cancelSwap\":\"rHPnpNqUbD8dyWvKJuq0BQ==\",\"tooltip\":\"oYZxTS+JjIeltKdCtlIpRQ==\",\"active\":\"U8k9Zbstbpk1yONFEz1h3A==\",\"checked\":\"wt46mhynz5K73EkhP-muNg==\",\"transactionInStep\":\"_2ufSLqQv3xSajQ37rKjaGQ==\",\"checkedIcon\":\"rTnYnuBqnuUXECGinWxz-w==\",\"stepHeading\":\"_8tdSNa0w4dR3QJe4Cb4mKQ==\",\"swapDepositWindow\":\"BBLk5HNJUrvnCXYLhmfmRQ==\",\"isMobile\":\"FGWLilz1iewMGsCf7K8TuA==\"};","// extracted by mini-css-extract-plugin\nexport default {\"relativeWrapper\":\"JXhwX734PF-UPmiHDzNs4g==\",\"imageWrapper\":\"OyGX27G2NV1tITMEVK0FPw==\",\"imageLoader\":\"_3Cr8x9Fb1Yn3DpMav3pZXA==\",\"hiddenEl\":\"_1l2wz+LIWllPSHdNRra-cg==\"};","import React, { Component } from 'react'\r\nimport CSSModules from 'react-css-modules'\r\nimport QRCode from \"react-qr-code\"\r\n\r\nimport styles from './QR.scss'\r\n\r\ntype ComponentProps = {\r\n  address: string\r\n}\r\n\r\n@CSSModules({ ...styles }, { allowMultiple: true })\r\nexport default class QR extends Component<ComponentProps, any> {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n  }\r\n\r\n  render() {\r\n    const { address } = this.props\r\n\r\n    return (\r\n      <div className={styles.relativeWrapper}>\r\n        <div className={styles.imageWrapper}>\r\n          <QRCode\r\n            size={270}\r\n            value={address}\r\n            bgColor=\"var(--color-background)\"\r\n            fgColor=\"var(--color)\"\r\n          />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Fragment, Component } from 'react'\r\n\r\nimport config from 'app-config'\r\nimport { COIN_DATA, COIN_MODEL } from 'swap.app/constants/COINS'\r\nimport actions from 'redux/actions'\r\nimport helpers from 'helpers'\r\nimport erc20Like from 'common/erc20Like'\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from '../../Swap.scss'\r\nimport { BigNumber } from 'bignumber.js'\r\n\r\nimport { FormattedMessage } from 'react-intl'\r\nimport Copy from 'components/ui/Copy/Copy'\r\nimport Button from 'components/controls/Button/Button'\r\nimport QR from 'components/QR/QR'\r\nimport Timer from '../../Timer/Timer'\r\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\r\nimport InlineLoader from 'components/loaders/InlineLoader/InlineLoader'\r\nimport COINS_WITH_DYNAMIC_FEE from 'common/helpers/constants/COINS_WITH_DYNAMIC_FEE'\r\n\r\ntype ComponentState = {\r\n  swap: IUniversalObj\r\n  dynamicFee: number\r\n  remainingBalance: number\r\n  flow: IUniversalObj\r\n  isBalanceEnough: boolean\r\n  isBalanceFetching: boolean\r\n  isSellCurrencyToken: boolean\r\n  isSellCurrencyEvmCoin: boolean\r\n  balance: number\r\n  address: string\r\n  sellAmount: number\r\n  requiredAmount: number\r\n}\r\n\r\n@CSSModules(styles)\r\nexport default class DepositWindow extends Component<any, ComponentState> {\r\n  _fields = null\r\n  swap = null\r\n  currency = null\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    const {\r\n      swap,\r\n      flow,\r\n      currencyData,\r\n      fields,\r\n    } = props\r\n\r\n    this._fields = fields\r\n\r\n    this.swap = swap\r\n\r\n    this.currency = swap.sellCurrency.toLowerCase()\r\n\r\n    const isSellCurrencyToken = erc20Like.isToken({ name: swap.sellCurrency })\r\n    const isSellCurrencyEvmCoin = COIN_DATA[swap.sellCurrency].model === COIN_MODEL.AB\r\n\r\n    this.state = {\r\n      swap,\r\n      dynamicFee: 0,\r\n      //@ts-ignore: strictNullChecks\r\n      remainingBalance: this.swap.sellAmount,\r\n      flow: swap.flow.state,\r\n      isBalanceEnough: false,\r\n      isBalanceFetching: false,\r\n      isSellCurrencyToken,\r\n      isSellCurrencyEvmCoin,\r\n      balance: isSellCurrencyToken || isSellCurrencyEvmCoin\r\n        ? currencyData.balance - (currencyData.unconfirmedBalance || 0)\r\n        : flow.scriptBalance,\r\n      address: isSellCurrencyToken || isSellCurrencyEvmCoin\r\n        ? currencyData.address\r\n        : flow.scriptAddress,\r\n      //@ts-ignore: strictNullChecks\r\n      sellAmount: this.swap.sellAmount,\r\n      requiredAmount: 0,\r\n    }\r\n  }\r\n\r\n  updateBalance = async () => {\r\n    const {\r\n      swap,\r\n      address,\r\n      isSellCurrencyToken,\r\n      isSellCurrencyEvmCoin,\r\n    } = this.state\r\n\r\n    let actualBalance\r\n    const sellBlockchain = swap.sellBlockchain\r\n\r\n    if (isSellCurrencyToken || isSellCurrencyEvmCoin) {\r\n      if (isSellCurrencyToken) {\r\n        const tokenKey = `{${sellBlockchain}}${swap.sellCurrency}`.toUpperCase()\r\n        const standard = COIN_DATA[tokenKey].standard.toLowerCase()\r\n\r\n        actualBalance = await actions[standard].getBalance(this.currency)\r\n      } else {\r\n        actualBalance = await actions[sellBlockchain.toLowerCase()].getBalance()\r\n      }\r\n    } else {\r\n      //@ts-ignore: strictNullChecks\r\n      const unspents = await actions[this.currency].fetchUnspents(address)\r\n      const totalUnspent = unspents.reduce((summ, { satoshis }) => summ + satoshis, 0)\r\n      actualBalance = new BigNumber(totalUnspent).dividedBy(1e8)\r\n    }\r\n\r\n    this.setState(() => ({\r\n      balance: actualBalance,\r\n    }))\r\n  }\r\n\r\n  updateRemainingBalance = async () => {\r\n    const { sellAmount, balance, dynamicFee, isSellCurrencyToken } = this.state\r\n\r\n    let remainingBalance = new BigNumber(sellAmount).minus(balance)\r\n\r\n    if (!isSellCurrencyToken) {\r\n      remainingBalance = remainingBalance.plus(dynamicFee)\r\n    }\r\n\r\n    this.setState(() => ({\r\n      remainingBalance: remainingBalance.dp(6, BigNumber.ROUND_UP).toNumber(),\r\n    }))\r\n  }\r\n\r\n  getRequiredAmount = async () => {\r\n    const { swap } = this.props\r\n    const { sellAmount } = this.state\r\n\r\n    let dynamicFee = 0\r\n    //@ts-ignore: strictNullChecks\r\n    if (COINS_WITH_DYNAMIC_FEE.includes(this.currency)) {\r\n      //@ts-ignore: strictNullChecks\r\n      dynamicFee = await helpers[this.currency].estimateFeeValue({ method: 'swap', fixed: true })\r\n\r\n      this.setState(() => ({\r\n        dynamicFee,\r\n      }))\r\n    }\r\n\r\n    const requiredAmount = new BigNumber(sellAmount)\r\n      .plus(dynamicFee)\r\n      .dp(6, BigNumber.ROUND_CEIL)\r\n      .toNumber()\r\n\r\n    this.setState(() => ({\r\n      requiredAmount,\r\n    }))\r\n\r\n    this.updateRemainingBalance()\r\n  }\r\n\r\n  checkThePayment = () => {\r\n    const {\r\n      swap,\r\n      dynamicFee,\r\n      sellAmount,\r\n      balance,\r\n      isSellCurrencyToken,\r\n      isSellCurrencyEvmCoin,\r\n    } = this.state\r\n\r\n    if (new BigNumber(sellAmount).plus(dynamicFee).isLessThanOrEqualTo(balance)) {\r\n      this.setState(() => ({\r\n        isBalanceEnough: true,\r\n      }))\r\n\r\n      if (isSellCurrencyToken || isSellCurrencyEvmCoin) {\r\n        swap.flow.syncBalance()\r\n      } else {\r\n        swap.flow.skipSyncBalance()\r\n      }\r\n    }\r\n  }\r\n\r\n  createCycleUpdatingBalance = async () => {\r\n    //@ts-ignore: strictNullChecks\r\n    const { scriptValues } = this._fields\r\n\r\n    let checker\r\n    await this.getRequiredAmount()\r\n    await this.updateRemainingBalance()\r\n\r\n    const balanceCheckHandler = async () => {\r\n      const {\r\n        swap: {\r\n          flow,\r\n          flow: {\r\n            state: flowState,\r\n          }\r\n        },\r\n      } = this.props\r\n      const { isBalanceEnough } = this.state\r\n\r\n      const utcNow = Math.floor(Date.now() / 1000)\r\n      const timeLeft = Math.ceil((flowState[scriptValues].lockTime - utcNow) / 60)\r\n\r\n      if (timeLeft <= 0) {\r\n        console.group('%c UTXO swap deposit modal', 'color: yellow;')\r\n        console.log('Stop swap process in DepositWindow')\r\n        console.log('timeLeft: ', timeLeft)\r\n        console.groupEnd()\r\n\r\n        flow.stopSwapProcess()\r\n\r\n        return true\r\n      }\r\n\r\n      if (isBalanceEnough) {\r\n        return true\r\n      }\r\n\r\n      await this.updateBalance()\r\n      this.checkThePayment()\r\n\r\n      return false\r\n    }\r\n\r\n    await balanceCheckHandler()\r\n\r\n    checker = setInterval(async () => {\r\n      const needStop = await balanceCheckHandler()\r\n\r\n      if (needStop) {\r\n        clearInterval(checker)\r\n      }\r\n    }, 5000)\r\n  }\r\n\r\n  handleReloadBalance = async () => {\r\n    this.updateBalance()\r\n\r\n    this.setState({\r\n      isBalanceFetching: true,\r\n    }, () => {\r\n      setTimeout(() => {\r\n        this.setState({\r\n          isBalanceFetching: false,\r\n        })\r\n      }, 500)\r\n    })\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.createCycleUpdatingBalance()\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.state.balance !== prevState.balance) {\r\n      this.updateRemainingBalance()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      swap,\r\n      flow,\r\n      balance,\r\n      address,\r\n      dynamicFee,\r\n      requiredAmount,\r\n      isBalanceEnough,\r\n      remainingBalance,\r\n      isBalanceFetching,\r\n    } = this.state\r\n\r\n    const isWidgetBuild = config && config.isWidget\r\n\r\n    const DontHaveEnoughtFoundsValues = {\r\n      missingBalance: (\r\n        <div>\r\n          {remainingBalance > 0 ?\r\n            <strong>{`${remainingBalance}`} {swap.sellCurrency}{'  '}</strong>\r\n            :\r\n            <span styleName=\"loaderHolder\">\r\n              <InlineLoader />\r\n            </span>\r\n          }\r\n          <Tooltip id=\"dep170\">\r\n            <div>\r\n              {/* eslint-disable */}\r\n              <FormattedMessage\r\n                id=\"deposit177\"\r\n                defaultMessage=\"Do not top up the contract with the greater amount than recommended. The remaining balance will be send to the counter party. You can send {tokenName} from a wallet of any exchange\"\r\n                values={{\r\n                  amount: `${swap.sellAmount}`,\r\n                  tokenName: swap.sellCurrency,\r\n                  br: <br />,\r\n                }}\r\n              />\r\n              {/* eslint-enable */}\r\n            </div>\r\n          </Tooltip>\r\n        </div>\r\n      ),\r\n      amount: `${swap.sellAmount}`,\r\n      tokenName: swap.sellCurrency,\r\n      br: <br />,\r\n    }\r\n\r\n    //@ts-ignore: strictNullChecks\r\n    const { currencyName, explorerLink, scriptValues } = this._fields\r\n\r\n    return (\r\n      <Fragment>\r\n        <div\r\n          styleName=\"topUpLink\"\r\n        >\r\n          <div styleName=\"top\">\r\n            <div styleName=\"btcMessage\">\r\n              {isWidgetBuild ? (\r\n                <FormattedMessage\r\n                  id=\"deposit165widget\"\r\n                  defaultMessage=\"Copy the address below and top it up with the recommended amount of {missingBalance} \"\r\n                  values={DontHaveEnoughtFoundsValues}\r\n                />\r\n              ) : (\r\n                  <FormattedMessage\r\n                    id=\"deposit165\"\r\n                    defaultMessage=\"To continue the swap copy this address and top it up with {missingBalance}\"\r\n                    values={DontHaveEnoughtFoundsValues}\r\n                  />\r\n                )}\r\n            </div>\r\n          </div>\r\n          <div styleName=\"qrImg\">\r\n              <QR address={`${address}?amount=${remainingBalance}`} />\r\n            </div>\r\n          <Copy text={address}>\r\n            <div>\r\n              <a styleName=\"linkText\">\r\n                <FormattedMessage\r\n                  id=\"deposit256\"\r\n                  defaultMessage=\"The address of {tokenName} smart contract \"\r\n                  values={{\r\n                    tokenName: swap.sellCurrency,\r\n                  }}\r\n                />\r\n              </a>\r\n              <div styleName=\"linkTransactions\">\r\n                <strong>\r\n                  <a\r\n                    href={swap.sellCurrency === currencyName\r\n                      ? `${explorerLink}/address/${address}`\r\n                      : `${config.link.etherscan}/address/${address}`\r\n                    }\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                  >\r\n                    <FormattedMessage id=\"deposit297\" defaultMessage=\"view in explorer\" />\r\n                  </a>\r\n                </strong>\r\n              </div>\r\n              <div styleName=\"qr\">\r\n                <a styleName=\"linkAddress\">\r\n                  {address}\r\n                </a>\r\n                <Button brand fullWidth>\r\n                  <i className=\"fas fa-copy\" />\r\n                  <span className=\"copyText\">\r\n                    <FormattedMessage id=\"deposit312\" defaultMessage=\"copy\" />\r\n                  </span>\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </Copy>\r\n          <div>\r\n            <i className=\"fas fa-sync-alt\" styleName=\"icon\" onClick={this.handleReloadBalance} />\r\n            {/* eslint-disable */}\r\n            {isBalanceFetching\r\n              ? (\r\n                <a styleName=\"loaderHolder\">\r\n                  <InlineLoader />\r\n                </a>\r\n              ) : (\r\n                <FormattedMessage\r\n                  id=\"deposit300\"\r\n                  defaultMessage=\"Received {balance} / {need} {tooltip}\"\r\n                  values={{\r\n                    br: <br />,\r\n                    balance: <strong>{balance === undefined ? this.updateBalance : `${new BigNumber(balance).dp(6, BigNumber.ROUND_HALF_CEIL)}`} {swap.sellCurrency}{'  '}</strong>,\r\n                    need: <strong>{`${requiredAmount}`} {swap.sellCurrency}</strong>,\r\n                    tooltip:\r\n                      <Tooltip id=\"dep226\">\r\n                        <FormattedMessage\r\n                          id=\"deposit239\"\r\n                          defaultMessage=\"Swap will continue after {tokenName} contract receives the funds. Is usually takes less than 10 min\"\r\n                          values={{\r\n                            tokenName: swap.sellCurrency,\r\n                            br: <br />\r\n                          }}\r\n                        />\r\n                      </Tooltip>\r\n                  }}\r\n                />\r\n              )}\r\n            {isBalanceEnough\r\n              ? <FormattedMessage id=\"deposit198.1\" defaultMessage=\"create Ethereum Contract.{br}Please wait, it can take a few minutes...\" values={{ br: <br /> }} />\r\n              : <FormattedMessage id=\"deposit198\" defaultMessage=\"waiting for payment...\" />\r\n            }\r\n            <a styleName=\"loaderHolder\">\r\n              <InlineLoader />\r\n            </a>\r\n            {dynamicFee > 0 &&\r\n              <a styleName=\"included\">\r\n                <FormattedMessage\r\n                  id=\"deposit320\"\r\n                  defaultMessage=\"(included {mineerFee} {sellCurrency} miners fee) \"\r\n                  values={{\r\n                    mineerFee: dynamicFee,\r\n                    sellCurrency: swap.sellCurrency,\r\n                  }}\r\n                />\r\n              </a>}\r\n            <div>\r\n            </div>\r\n            {/* eslint-enable */}\r\n          </div>\r\n          {flow[scriptValues] !== null &&\r\n            <div styleName=\"lockTime\">\r\n              <i className=\"far fa-clock\" />\r\n              <Timer cancelTime={(flow[scriptValues].lockTime - 7200) * 1000} lockTime={flow[scriptValues].lockTime * 1000} />\r\n            </div>}\r\n        </div>\r\n      </Fragment>\r\n    )\r\n  }\r\n}","import React from 'react'\r\n\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from '../SwapList.scss'\r\n\r\nimport { FormattedMessage } from 'react-intl'\r\n\r\n\r\nconst FirstStep = ({ isFirstStepActive, text }) => (\r\n  <div styleName={ isFirstStepActive ? 'stepItem active' : 'stepItem active checked'}>\r\n    <span styleName=\"stepNumber\">{isFirstStepActive ? 1 : <i id=\"firtsStepDoneIcon\" className=\"fas fa-check\" />}</span>\r\n    <p styleName=\"stepText\">\r\n      <FormattedMessage\r\n        id=\"Confirmation14\"\r\n        defaultMessage=\"Confirmation\"\r\n      />\r\n    </p>\r\n    {isFirstStepActive && (\r\n      <span styleName=\"stepHeading\">\r\n        {text}\r\n      </span>\r\n    )}\r\n  </div>\r\n)\r\n\r\nexport default CSSModules(FirstStep, styles, { allowMultiple: true })\r\n","import React from 'react'\r\n\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from '../SwapList.scss'\r\nimport { isMobile } from 'react-device-detect'\r\n\r\nimport { FormattedMessage } from 'react-intl'\r\n\r\n\r\nconst FourthStep = (props) => {\r\n  const {\r\n    isFourthStepActive,\r\n    text,\r\n  } = props\r\n\r\n  const fourthStepPadding = (isFourthStepActive && isMobile) ? 150 : 0\r\n\r\n  return (\r\n    <div\r\n      style={{ paddingTop: fourthStepPadding }}\r\n      styleName={isFourthStepActive ? 'stepItem active checked' : 'stepItem'}>\r\n      <span styleName=\"stepNumber\">{isFourthStepActive ? <i className=\"fas fa-check\" /> : 4}</span>\r\n      <p id=\"swapCompleted\" styleName=\"stepText\">\r\n        <FormattedMessage\r\n          id=\"BtcToEthToken123\"\r\n          defaultMessage=\"The swap is finish!\" />\r\n      </p>\r\n      {isFourthStepActive && (\r\n        <span styleName=\"stepHeading\">\r\n          {text}\r\n        </span>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CSSModules(FourthStep, styles, { allowMultiple: true })\r\n","export default __webpack_public_path__ + \"images/unknown_18ca88.svg\";","export default __webpack_public_path__ + \"images/opera_ec1b2f.svg\";","export default __webpack_public_path__ + \"images/walletconnect_a4166a.svg\";","export default __webpack_public_path__ + \"images/liquality_151856.png\";","export default __webpack_public_path__ + \"images/metamask_b6b09b.svg\";","export default __webpack_public_path__ + \"images/trust_bc8bdd.svg\";","export default __webpack_public_path__ + \"images/close_f185d5.svg\";","export default __webpack_public_path__ + \"images/ok_1c13e1.svg\";","export default __webpack_public_path__ + \"images/checked_d98532.svg\";","export default __webpack_public_path__ + \"images/cancelled_cb0b9a.svg\";","export default __webpack_public_path__ + \"images/pending_192aa2.svg\";","import iconDefault from './unknown.svg'\r\nimport iconOpera from './opera.svg'\r\nimport iconWalletConnect from './walletconnect.svg'\r\nimport iconLiquality from './liquality.png'\r\nimport iconMetamask from './metamask.svg'\r\nimport iconTrustWallet from './trust.svg'\r\nimport iconClose from './close.svg'\r\nimport iconOk from './ok.svg'\r\nimport iconChecked from './checked.svg'\r\nimport iconCancelled from './cancelled.svg'\r\nimport iconPending from './pending.svg'\r\n\r\nexport const regularIcons = {\r\n  CLOSE: iconClose,\r\n  OK: iconOk,\r\n  CHECKED: iconChecked,\r\n  CANCELLED: iconCancelled,\r\n  PENDING: iconPending,\r\n}\r\n\r\nconst web3Icons = {\r\n  METAMASK: iconMetamask,\r\n  TRUST: iconTrustWallet,\r\n  OPERA: iconOpera,\r\n  NONE: iconDefault,\r\n  UNKNOWN: iconDefault,\r\n  LIQUALITY: iconLiquality,\r\n  WALLETCONNECT: iconWalletConnect,\r\n}\r\n\r\nexport default web3Icons\r\n","import React, { useState, useEffect } from 'react'\r\n\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from '../../SwapList.scss'\r\n\r\nimport actions from 'redux/actions'\r\nimport { isMobile } from 'react-device-detect'\r\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\r\nimport InlineLoader from 'components/loaders/InlineLoader/InlineLoader'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport { regularIcons } from 'images'\r\n\r\nlet _mounted = false\r\nconst timeoutIds: NodeJS.Timeout[] = []\r\n\r\nconst SecondStep = (props) => {\r\n  const {\r\n    showDepositWindow,\r\n    isFirstStepActive,\r\n    isSecondStepActive,\r\n    swap: {\r\n      sellCurrency,\r\n      buyCurrency,\r\n      flow: {\r\n        state: {\r\n          ethSwapCreationTransactionHash,\r\n          utxoScriptCreatingTransactionHash,\r\n        },\r\n      },\r\n    },\r\n    fields: {\r\n      explorerLink,\r\n      etherscanLink,\r\n      currencyName,\r\n      ethLikeCoin,\r\n    },\r\n    text,\r\n  } = props\r\n\r\n  const [scriptHashIsConfirmed, setScriptHashIsConfirmed] = useState(false)\r\n  const [ethSwapHashIsConfirmed, setEthSwapHashIsConfirmed] = useState(false)\r\n  const [ethSwapHash, setEthSwapHash] = useState('')\r\n  const [scriptHash, setScriptHash] = useState('')\r\n\r\n  if (ethSwapCreationTransactionHash && !ethSwapHash) {\r\n    setEthSwapHash(ethSwapCreationTransactionHash)\r\n  }\r\n\r\n  if (utxoScriptCreatingTransactionHash && !scriptHash) {\r\n    setScriptHash(utxoScriptCreatingTransactionHash)\r\n  }\r\n\r\n  const checkTransactionHash = (txHash, currencyName, refreshTime) => {\r\n    const timeoutId = setTimeout(async () => {\r\n      if (!_mounted) return\r\n\r\n      try {\r\n        let fetchedTx: any\r\n\r\n        if (currencyName === ethLikeCoin.toLowerCase()) { // TODO: needs to be improved when adding BNB\r\n          fetchedTx = await actions[ethLikeCoin.toLowerCase()].fetchTxInfo(txHash)\r\n\r\n          if (fetchedTx && fetchedTx.confirmed) {\r\n            return setEthSwapHashIsConfirmed(true)\r\n          } else {\r\n            return checkTransactionHash(txHash, currencyName, refreshTime)\r\n          }\r\n        }\r\n\r\n        fetchedTx = await actions[currencyName.toLowerCase()].fetchTx(txHash, (refreshTime - 5) * 1000)\r\n\r\n        if (fetchedTx && fetchedTx.confirmations >= 1) {\r\n          return setScriptHashIsConfirmed(true)\r\n        } else {\r\n          return checkTransactionHash(txHash, currencyName, refreshTime)\r\n        }\r\n      } catch (e) {\r\n        console.error(e)\r\n        return checkTransactionHash(txHash, currencyName, refreshTime)\r\n      }\r\n    }, refreshTime * 1000)\r\n    timeoutIds.push(timeoutId)\r\n  }\r\n\r\n  useEffect(() => {\r\n    _mounted = true\r\n    if (scriptHash && !scriptHashIsConfirmed){\r\n      checkTransactionHash(scriptHash, currencyName, 20)\r\n    }\r\n  }, [scriptHash])\r\n\r\n  useEffect(() => {\r\n    _mounted = true\r\n    if (ethSwapHash && !ethSwapHashIsConfirmed){\r\n      checkTransactionHash(ethSwapHash, ethLikeCoin.toLowerCase(), 20)\r\n    }\r\n  }, [ethSwapHash])\r\n\r\n  useEffect(() => {\r\n    _mounted = true\r\n    return () => {\r\n      _mounted = false\r\n      timeoutIds.map((id) => clearInterval(id))\r\n    }\r\n  }, [])\r\n\r\n  const showStepNumber = isFirstStepActive || isSecondStepActive\r\n  const isStepActive = isMobile ? showStepNumber : isSecondStepActive\r\n\r\n  return (\r\n    <div\r\n      styleName={(isStepActive && 'stepItem active') || (isFirstStepActive && 'stepItem') || 'stepItem active checked'}>\r\n      <span styleName=\"stepNumber\">{!isMobile ? (showStepNumber ? 2 : <i className=\"fas fa-check\" />) : (showStepNumber ? 1 : <i className=\"fas fa-check\" />) }</span>\r\n      <p styleName=\"stepText\">\r\n        <FormattedMessage id=\"BtcToEthToken24\" defaultMessage=\"Deposit\" />\r\n      </p>\r\n      {utxoScriptCreatingTransactionHash && (\r\n        <strong styleName=\"transactionInStep\">\r\n          <a\r\n            id=\"utxoDepositHashLink\"\r\n            title={`${explorerLink}/tx/${utxoScriptCreatingTransactionHash}`}\r\n            href={`${explorerLink}/tx/${utxoScriptCreatingTransactionHash}`}\r\n            target=\"_blank\"\r\n            rel=\"noreferrer noopener\"\r\n          >\r\n            <FormattedMessage id=\"FourthStep37BtcLike\" defaultMessage=\"({currencyName} tx)\" values={{ currencyName : currencyName.toLowerCase() }} />\r\n            {scriptHashIsConfirmed ? (\r\n              <img\r\n                id=\"checkedUtxoDepositHashIcon\"\r\n                styleName=\"checkedIcon\"\r\n                src={regularIcons.CHECKED}\r\n                alt='checked'\r\n              />\r\n            ) : <InlineLoader />}\r\n            <i className=\"fas fa-link\" />\r\n          </a>\r\n        </strong>\r\n      )}\r\n      {ethSwapCreationTransactionHash && (\r\n        <strong styleName=\"transactionInStep\">\r\n          <a\r\n            id=\"evmDepositHashLink\"\r\n            href={`${etherscanLink}/tx/${ethSwapCreationTransactionHash}`}\r\n            target=\"_blank\"\r\n            rel=\"noreferrer noopener\"\r\n          >\r\n            <FormattedMessage\r\n              id=\"FourthStep52\"\r\n              defaultMessage=\"({otherCurrency} tx)\"\r\n              values={{ otherCurrency: sellCurrency.toLowerCase() === currencyName.toLowerCase() ? buyCurrency.toLowerCase() : sellCurrency.toLowerCase() }}\r\n            />\r\n            <i className=\"fas fa-link\" />\r\n            {ethSwapHashIsConfirmed ? (\r\n              <img\r\n                id=\"checkedEvmDepositHashIcon\"\r\n                styleName=\"checkedIcon\"\r\n                src={regularIcons.CHECKED}\r\n                alt='checked'\r\n              />\r\n            ) : <InlineLoader />}\r\n          </a>\r\n        </strong>\r\n      )}\r\n      <div styleName=\"tooltip\">\r\n        <Tooltip id=\"SecondStep\">\r\n          <FormattedMessage\r\n            id=\"SecondStep\"\r\n            defaultMessage=\"On this step, the crypto goes not to your wallet {br}or to the wallet of your counterparty but directly to the swap contract\"\r\n            values={{ br: <br /> }}\r\n          />\r\n        </Tooltip >\r\n      </div>\r\n      {showDepositWindow ? '' : isStepActive && (\r\n        <span styleName=\"stepHeading\">\r\n          {text}\r\n        </span>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\nexport default CSSModules(SecondStep, styles, { allowMultiple: true })\r\n","import React, { useState, useEffect } from 'react'\r\n\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from '../../SwapList.scss'\r\n\r\nimport actions from 'redux/actions'\r\nimport { isMobile } from 'react-device-detect'\r\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\r\nimport InlineLoader from 'components/loaders/InlineLoader/InlineLoader'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport { regularIcons } from 'images'\r\n\r\nlet _mounted = false\r\nconst timeoutIds: NodeJS.Timeout[] = []\r\n\r\nconst ThirdStep = (props) => {\r\n  const {\r\n    isFirstStepActive,\r\n    isSecondStepActive,\r\n    isThirdStepActive,\r\n    swap: {\r\n      sellCurrency,\r\n      buyCurrency,\r\n      flow: {\r\n        state: {\r\n          ethSwapWithdrawTransactionHash,\r\n          utxoSwapWithdrawTransactionHash,\r\n        },\r\n      },\r\n    },\r\n    fields: {\r\n      currencyName,\r\n      explorerLink,\r\n      ethLikeCoin,\r\n      etherscanLink,\r\n    },\r\n    text,\r\n  } = props\r\n\r\n  const [withdrawHashIsConfirmed, setWithdrawHashIsConfirmed] = useState(false)\r\n  const [ethSwapWithdrawHashIsConfirmed, setEthSwapWithdrawHashIsConfirmed] = useState(false)\r\n  const [ethSwapWithdrawHash, setEthSwapWithdrawHash] = useState('')\r\n  const [withdrawHash, setWithdrawHash] = useState('')\r\n\r\n  if (ethSwapWithdrawTransactionHash && !ethSwapWithdrawHash) {\r\n    setEthSwapWithdrawHash(ethSwapWithdrawTransactionHash)\r\n  }\r\n\r\n  if (utxoSwapWithdrawTransactionHash && !withdrawHash) {\r\n    setWithdrawHash(utxoSwapWithdrawTransactionHash)\r\n  }\r\n\r\n  const checkTransactionHash = (txHash, currencyName, refreshTime) => {\r\n    const timeoutId = setTimeout(async () => {\r\n      if (!_mounted) return\r\n\r\n      try {\r\n        let fetchedTx: any\r\n\r\n        if (currencyName === ethLikeCoin.toLowerCase()) { // TODO: needs to be improved when adding BNB\r\n          fetchedTx = await actions[ethLikeCoin.toLowerCase()].fetchTxInfo(txHash)\r\n\r\n          if (fetchedTx && fetchedTx.confirmed) {\r\n            return setEthSwapWithdrawHashIsConfirmed(true)\r\n          } else {\r\n            return checkTransactionHash(txHash, currencyName, refreshTime)\r\n          }\r\n        }\r\n\r\n        fetchedTx = await actions[currencyName.toLowerCase()].fetchTx(txHash, (refreshTime - 5) * 1000)\r\n\r\n        if (fetchedTx && fetchedTx.confirmations >= 1) {\r\n          return setWithdrawHashIsConfirmed(true)\r\n        } else {\r\n          return checkTransactionHash(txHash, currencyName, refreshTime)\r\n        }\r\n      } catch (e) {\r\n        console.error(e)\r\n        return checkTransactionHash(txHash, currencyName, refreshTime)\r\n      }\r\n    }, refreshTime * 1000)\r\n    timeoutIds.push(timeoutId)\r\n  }\r\n\r\n  useEffect(() => {\r\n    _mounted = true\r\n    if (withdrawHash && !withdrawHashIsConfirmed){\r\n      checkTransactionHash(withdrawHash, currencyName, 20)\r\n    }\r\n  }, [withdrawHash])\r\n\r\n  useEffect(() => {\r\n    _mounted = true\r\n    if (ethSwapWithdrawHash && !ethSwapWithdrawHashIsConfirmed){\r\n      checkTransactionHash(ethSwapWithdrawHash, ethLikeCoin.toLowerCase(), 20)\r\n    }\r\n  }, [ethSwapWithdrawHash])\r\n\r\n  useEffect(() => {\r\n    _mounted = true\r\n    return () => {\r\n      _mounted = false\r\n      timeoutIds.map((id) => clearInterval(id))\r\n    }\r\n  }, [])\r\n\r\n  const isLowStep = isFirstStepActive || isSecondStepActive\r\n  const showStepNumber = isThirdStepActive || isLowStep\r\n  const isStepActive = isMobile ? showStepNumber : isThirdStepActive\r\n\r\n  return (\r\n    <div\r\n      styleName={(isStepActive && 'stepItem active') || (isLowStep && 'stepItem') || 'stepItem active checked'}>\r\n      <span styleName=\"stepNumber\">{!isMobile ? (showStepNumber ? 3 : <i className=\"fas fa-check\" />) : (showStepNumber ? 2 : <i className=\"fas fa-check\" />)}</span>\r\n      <p styleName=\"stepText\">\r\n        <FormattedMessage id=\"thirdStep24\" defaultMessage=\"WITHDRAW\" />\r\n      </p>\r\n      {ethSwapWithdrawTransactionHash && (\r\n        <strong styleName=\"transactionInStep\">\r\n          <a\r\n            id=\"evmWithdrawalHashLink\"\r\n            href={`${etherscanLink}/tx/${ethSwapWithdrawTransactionHash}`}\r\n            target=\"_blank\"\r\n            rel=\"noreferrer noopener\"\r\n          >\r\n            <FormattedMessage\r\n              id=\"FourthStep34\"\r\n              defaultMessage=\"({sell} tx)\"\r\n              values={{ sell: sellCurrency.toLowerCase() === currencyName.toLowerCase() ? buyCurrency.toLowerCase() : sellCurrency.toLowerCase()  }}\r\n            />\r\n            <i className=\"fas fa-link\" />\r\n            {ethSwapWithdrawHashIsConfirmed ? (\r\n              <img\r\n                id=\"checkedEvmWithdrawalHashIcon\"\r\n                styleName=\"checkedIcon\"\r\n                src={regularIcons.CHECKED}\r\n                alt='checked'\r\n              />\r\n            ) : <InlineLoader />}\r\n          </a>\r\n        </strong>\r\n      )}\r\n      {utxoSwapWithdrawTransactionHash && (\r\n        <strong styleName=\"transactionInStep\">\r\n          <a\r\n            id=\"utxoWithdrawalHashLink\"\r\n            href={`${explorerLink}/tx/${utxoSwapWithdrawTransactionHash}`}\r\n            target=\"_blank\"\r\n            rel=\"noreferrer noopener\"\r\n          >\r\n            <FormattedMessage id=\"FourthStep37_BtcLike\" defaultMessage=\"({currencyName} tx)\" values={{ currencyName: currencyName.toLowerCase() }} />\r\n            <i className=\"fas fa-link\" />\r\n            {withdrawHashIsConfirmed ? (\r\n              <img\r\n                id=\"checkedUtxoWithdrawalHashIcon\"\r\n                styleName=\"checkedIcon\"\r\n                src={regularIcons.CHECKED}\r\n                alt='checked'\r\n              />\r\n            ) : <InlineLoader />}\r\n          </a>\r\n        </strong>\r\n      )}\r\n      <div styleName=\"tooltip\">\r\n        <Tooltip id=\"thirdStep\">\r\n          <FormattedMessage\r\n            id=\"thirdStep\"\r\n            defaultMessage=\"n this step crypto is transferred from {br}the contract to your wallet and to the wallet {br} of your counterparty {br}\"\r\n            values={{ br: <br /> }}\r\n          />\r\n        </Tooltip >\r\n      </div>\r\n      {isStepActive && (\r\n        <span styleName=\"stepHeading\">\r\n          {text}\r\n        </span>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CSSModules(ThirdStep, styles, { allowMultiple: true })\r\n","import React, { useState, useEffect } from 'react'\r\n\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from '../../SwapList.scss'\r\n\r\nimport actions from 'redux/actions'\r\nimport { isMobile } from 'react-device-detect'\r\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\r\nimport InlineLoader from 'components/loaders/InlineLoader/InlineLoader'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport { regularIcons } from 'images'\r\n\r\nlet _mounted = false\r\nconst timeoutIds: NodeJS.Timeout[] = []\r\n\r\nconst SecondStep = (props) => {\r\n  const {\r\n    showDepositWindow,\r\n    isFirstStepActive,\r\n    isSecondStepActive,\r\n    swap: {\r\n      sellCurrency,\r\n      buyCurrency,\r\n      flow: {\r\n        state: {\r\n          ethSwapCreationTransactionHash,\r\n          utxoScriptCreatingTransactionHash,\r\n        },\r\n      },\r\n    },\r\n    fields: {\r\n      explorerLink,\r\n      etherscanLink,\r\n      currencyName,\r\n      ethLikeCoin,\r\n    },\r\n    text,\r\n  } = props\r\n\r\n  const [scriptHashIsConfirmed, setScriptHashIsConfirmed] = useState(false)\r\n  const [ethSwapHashIsConfirmed, setEthSwapHashIsConfirmed] = useState(false)\r\n  const [ethSwapHash, setEthSwapHash] = useState('')\r\n  const [scriptHash, setScriptHash] = useState('')\r\n\r\n  if (ethSwapCreationTransactionHash && !ethSwapHash) {\r\n    setEthSwapHash(ethSwapCreationTransactionHash)\r\n  }\r\n\r\n  if (utxoScriptCreatingTransactionHash && !scriptHash) {\r\n    setScriptHash(utxoScriptCreatingTransactionHash)\r\n  }\r\n\r\n  const checkTransactionHash = (txHash, currencyName, refreshTime) => {\r\n    const timeoutId = setTimeout(async () => {\r\n      if (!_mounted) return\r\n\r\n      try {\r\n        let fetchedTx: any\r\n\r\n        if (currencyName === ethLikeCoin.toLowerCase()) {\r\n          fetchedTx = await actions[ethLikeCoin.toLowerCase()].fetchTxInfo(txHash)\r\n\r\n          if (fetchedTx && fetchedTx.confirmed) {\r\n            return setEthSwapHashIsConfirmed(true)\r\n          } else {\r\n            return checkTransactionHash(txHash, currencyName, refreshTime)\r\n          }\r\n        }\r\n\r\n        fetchedTx = await actions[currencyName.toLowerCase()].fetchTx(txHash, (refreshTime - 5) * 1000)\r\n\r\n        if (fetchedTx && fetchedTx.confirmations >= 1) {\r\n          return setScriptHashIsConfirmed(true)\r\n        } else {\r\n          return checkTransactionHash(txHash, currencyName, refreshTime)\r\n        }\r\n      } catch (e) {\r\n        console.error(e)\r\n        return checkTransactionHash(txHash, currencyName, refreshTime)\r\n      }\r\n    }, refreshTime * 1000)\r\n    timeoutIds.push(timeoutId)\r\n  }\r\n\r\n  useEffect(() => {\r\n    _mounted = true\r\n    if (scriptHash && !scriptHashIsConfirmed){\r\n      checkTransactionHash(scriptHash, currencyName, 20)\r\n    }\r\n  }, [scriptHash])\r\n\r\n  useEffect(() => {\r\n    _mounted = true\r\n    if (ethSwapHash && !ethSwapHashIsConfirmed){\r\n      checkTransactionHash(ethSwapHash, ethLikeCoin.toLowerCase(), 20)\r\n    }\r\n  }, [ethSwapHash])\r\n\r\n  useEffect(() => {\r\n    _mounted = true\r\n    return () => {\r\n      _mounted = false\r\n      timeoutIds.map((id) => clearInterval(id))\r\n    }\r\n  }, [])\r\n\r\n  const showStepNumber = isFirstStepActive || isSecondStepActive\r\n  const isStepActive = isMobile ? showStepNumber : isSecondStepActive\r\n\r\n  return (\r\n    <div\r\n      styleName={((isStepActive) && 'stepItem active') || (isFirstStepActive && 'stepItem') || 'stepItem active checked'}>\r\n      <span styleName=\"stepNumber\">{!isMobile ? (showStepNumber ? 2 : <i className=\"fas fa-check\" />) : (showStepNumber ? 1 : <i className=\"fas fa-check\" />) }</span>\r\n      <p styleName=\"stepText\">\r\n        <FormattedMessage id=\"BtcToEthToken24\" defaultMessage=\"Deposit\" />\r\n      </p>\r\n      {ethSwapCreationTransactionHash && (\r\n        <strong styleName=\"transactionInStep\">\r\n          <a\r\n            id=\"evmDepositHashLink\"\r\n            href={`${etherscanLink}/tx/${ethSwapCreationTransactionHash}`}\r\n            target=\"_blank\"\r\n            rel=\"noreferrer noopener\"\r\n          >\r\n            <FormattedMessage\r\n              id=\"FourthStep52\"\r\n              defaultMessage=\"({otherCurrency} tx)\"\r\n              values={{ otherCurrency: sellCurrency.toLowerCase() === currencyName.toLowerCase() ? buyCurrency.toLowerCase() : sellCurrency.toLowerCase() }}\r\n            />\r\n            <i className=\"fas fa-link\" />\r\n            {ethSwapHashIsConfirmed ? (\r\n              <img\r\n                id=\"checkedEvmDepositHashIcon\"\r\n                styleName=\"checkedIcon\"\r\n                src={regularIcons.CHECKED}\r\n                alt='checked'\r\n              />\r\n            ) : <InlineLoader />}\r\n          </a>\r\n        </strong>\r\n      )}\r\n      {utxoScriptCreatingTransactionHash && (\r\n        <strong styleName=\"transactionInStep\">\r\n          <a\r\n            id=\"utxoDepositHashLink\"\r\n            title={`${explorerLink}/tx/${utxoScriptCreatingTransactionHash}`}\r\n            href={`${explorerLink}/tx/${utxoScriptCreatingTransactionHash}`}\r\n            target=\"_blank\"\r\n            rel=\"noreferrer noopener\"\r\n          >\r\n            <FormattedMessage id=\"FourthStep37BtcLike\" defaultMessage=\"({currencyName} tx)\" values={{ currencyName : currencyName.toLowerCase() }} />\r\n            <i className=\"fas fa-link\" />\r\n            {scriptHashIsConfirmed ? (\r\n              <img\r\n                id=\"checkedUtxoDepositHashIcon\"\r\n                styleName=\"checkedIcon\"\r\n                src={regularIcons.CHECKED}\r\n                alt='checked'\r\n              />\r\n            ) : <InlineLoader />}\r\n          </a>\r\n        </strong>\r\n      )}\r\n      <div styleName=\"tooltip\">\r\n        <Tooltip id=\"SecondStep\">\r\n          <FormattedMessage\r\n            id=\"SecondStep\"\r\n            defaultMessage=\"On this step, the crypto goes not to your wallet {br}or to the wallet of your counterparty but directly to the swap contract\"\r\n            values={{ br: <br /> }}\r\n          />\r\n        </Tooltip >\r\n      </div>\r\n      {showDepositWindow ? '' : isStepActive && (\r\n        <span styleName=\"stepHeading\">\r\n          {text}\r\n        </span>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\nexport default CSSModules(SecondStep, styles, { allowMultiple: true })\r\n","import React, { useState, useEffect } from 'react'\r\n\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from '../../SwapList.scss'\r\n\r\nimport actions from 'redux/actions'\r\nimport { isMobile } from 'react-device-detect'\r\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\r\nimport InlineLoader from 'components/loaders/InlineLoader/InlineLoader'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport { regularIcons } from 'images'\r\n\r\nlet _mounted = false\r\nconst timeoutIds: NodeJS.Timeout[] = []\r\n\r\nconst ThirdStep = (props) => {\r\n  const {\r\n    isFirstStepActive,\r\n    isSecondStepActive,\r\n    isThirdStepActive,\r\n    swap: {\r\n      sellCurrency,\r\n      buyCurrency,\r\n      flow: {\r\n        state: {\r\n          ethSwapWithdrawTransactionHash,\r\n          utxoSwapWithdrawTransactionHash,\r\n        },\r\n      },\r\n    },\r\n    fields: {\r\n      currencyName,\r\n      explorerLink,\r\n      ethLikeCoin,\r\n      etherscanLink,\r\n    },\r\n    text,\r\n  } = props\r\n\r\n  const [withdrawHashIsConfirmed, setWithdrawHashIsConfirmed] = useState(false)\r\n  const [ethSwapWithdrawHashIsConfirmed, setEthSwapWithdrawHashIsConfirmed] = useState(false)\r\n  const [ethSwapWithdrawHash, setEthSwapWithdrawHash] = useState('')\r\n  const [withdrawHash, setWithdrawHash] = useState('')\r\n\r\n  if (ethSwapWithdrawTransactionHash && !ethSwapWithdrawHash) {\r\n    setEthSwapWithdrawHash(ethSwapWithdrawTransactionHash)\r\n  }\r\n\r\n  if (utxoSwapWithdrawTransactionHash && !withdrawHash) {\r\n    setWithdrawHash(utxoSwapWithdrawTransactionHash)\r\n  }\r\n\r\n  const checkTransactionHash = (txHash, currencyName, refreshTime) => {\r\n    const timeoutId = setTimeout(async () => {\r\n      if (!_mounted) return\r\n\r\n      try {\r\n        let fetchedTx: any\r\n\r\n        if (currencyName === ethLikeCoin.toLowerCase()) { // TODO: needs to be improved when adding BNB\r\n          fetchedTx = await actions[ethLikeCoin.toLowerCase()].fetchTxInfo(txHash)\r\n\r\n          if (fetchedTx && fetchedTx.confirmed) {\r\n            return setEthSwapWithdrawHashIsConfirmed(true)\r\n          } else {\r\n            return checkTransactionHash(txHash, currencyName, refreshTime)\r\n          }\r\n        }\r\n\r\n        fetchedTx = await actions[currencyName.toLowerCase()].fetchTx(txHash, (refreshTime - 5) * 1000)\r\n\r\n        if (fetchedTx && fetchedTx.confirmations >= 1) {\r\n          return setWithdrawHashIsConfirmed(true)\r\n        } else {\r\n          return checkTransactionHash(txHash, currencyName, refreshTime)\r\n        }\r\n      } catch (e) {\r\n        console.error(e)\r\n        return checkTransactionHash(txHash, currencyName, refreshTime)\r\n      }\r\n    }, refreshTime * 1000)\r\n    timeoutIds.push(timeoutId)\r\n  }\r\n\r\n  useEffect(() => {\r\n    _mounted = true\r\n    if (withdrawHash && !withdrawHashIsConfirmed){\r\n      checkTransactionHash(withdrawHash, currencyName, 20)\r\n    }\r\n  }, [withdrawHash])\r\n\r\n  useEffect(() => {\r\n    _mounted = true\r\n    if (ethSwapWithdrawHash && !ethSwapWithdrawHashIsConfirmed){\r\n      checkTransactionHash(ethSwapWithdrawHash, ethLikeCoin.toLowerCase(), 20)\r\n    }\r\n  }, [ethSwapWithdrawHash])\r\n\r\n  useEffect(() => {\r\n    _mounted = true\r\n    return () => {\r\n      _mounted = false\r\n      timeoutIds.map((id) => clearInterval(id))\r\n    }\r\n  }, [])\r\n\r\n  const isLowStep = isFirstStepActive || isSecondStepActive\r\n  const showStepNumber = isThirdStepActive || isLowStep\r\n  const isStepActive = isMobile ? showStepNumber : isThirdStepActive\r\n\r\n  return (\r\n    <div\r\n      styleName={(isStepActive && 'stepItem active') || (isLowStep && 'stepItem') || 'stepItem active checked'}>\r\n      <span styleName=\"stepNumber\">{!isMobile ? (showStepNumber ? 3 : <i className=\"fas fa-check\" />) : (showStepNumber ? 2 : <i className=\"fas fa-check\" />)}</span>\r\n      <p styleName=\"stepText\">\r\n        <FormattedMessage id=\"thirdStep24\" defaultMessage=\"WITHDRAW\" />\r\n      </p>\r\n      {utxoSwapWithdrawTransactionHash && (\r\n        <strong styleName=\"transactionInStep\">\r\n          <a\r\n            id=\"utxoWithdrawalHashLink\"\r\n            href={`${explorerLink}/tx/${utxoSwapWithdrawTransactionHash}`}\r\n            target=\"_blank\"\r\n            rel=\"noreferrer noopener\"\r\n          >\r\n            <FormattedMessage id=\"FourthStep37_BtcLike\" defaultMessage=\"({currencyName} tx)\" values={{ currencyName: currencyName.toLowerCase() }} />\r\n            <i className=\"fas fa-link\" />\r\n            {withdrawHashIsConfirmed ? (\r\n              <img\r\n                id=\"checkedUtxoWithdrawalHashIcon\"\r\n                styleName=\"checkedIcon\"\r\n                src={regularIcons.CHECKED}\r\n                alt='checked'\r\n              />\r\n            ) : <InlineLoader />}\r\n          </a>\r\n        </strong>\r\n      )}\r\n      {ethSwapWithdrawTransactionHash && (\r\n        <strong styleName=\"transactionInStep\">\r\n          <a\r\n            id=\"evmWithdrawalHashLink\"\r\n            href={`${etherscanLink}/tx/${ethSwapWithdrawTransactionHash}`}\r\n            target=\"_blank\"\r\n            rel=\"noreferrer noopener\"\r\n          >\r\n            <FormattedMessage\r\n              id=\"FourthStep34\"\r\n              defaultMessage=\"({sell} tx)\"\r\n              values={{ sell: sellCurrency.toLowerCase() === currencyName.toLowerCase() ? buyCurrency.toLowerCase() : sellCurrency.toLowerCase()  }}\r\n            />\r\n            <i className=\"fas fa-link\" />\r\n            {ethSwapWithdrawHashIsConfirmed ? (\r\n              <img\r\n                id=\"checkedEvmWithdrawalHashIcon\"\r\n                styleName=\"checkedIcon\"\r\n                src={regularIcons.CHECKED}\r\n                alt='checked'\r\n              />\r\n            ) : <InlineLoader />}\r\n          </a>\r\n        </strong>\r\n      )}\r\n      <div styleName=\"tooltip\">\r\n        <Tooltip id=\"thirdStep\">\r\n          <FormattedMessage\r\n            id=\"thirdStep\"\r\n            defaultMessage=\"n this step crypto is transferred from {br}the contract to your wallet and to the wallet {br} of your counterparty {br}\"\r\n            values={{ br: <br /> }}\r\n          />\r\n        </Tooltip >\r\n      </div>\r\n      {isStepActive && (\r\n        <span styleName=\"stepHeading\">\r\n          {text}\r\n        </span>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CSSModules(ThirdStep, styles, { allowMultiple: true })\r\n","import React, { Component } from 'react'\r\n\r\nimport { FormattedMessage } from 'react-intl'\r\n\r\nexport default class MakerUtxoToAbTexts extends Component<any, any> {\r\n  getMakerUtxoToAbTextText = (stepName) => {\r\n    switch (stepName) {\r\n      case 'sign':\r\n        return (\r\n          <FormattedMessage\r\n            id=\"SwapProgressText_FirstStep\"\r\n            defaultMessage=\"Please wait\"\r\n          />\r\n        )\r\n      case 'sync-balance':\r\n        return (\r\n          <FormattedMessage\r\n            id=\"SwapProgressText_CheckingBalance\"\r\n            defaultMessage=\"Checking balance..\"\r\n          />\r\n        )\r\n      case 'wait-lock-eth':\r\n        return (\r\n          <FormattedMessage\r\n            id=\"SwapProgressText_WaitPatricipantDeposit\"\r\n            defaultMessage=\"Waiting for other participant to deposit {buyCurrency}\"\r\n            values={{\r\n              buyCurrency: `${this.props.swap.buyCurrency}`\r\n            }}\r\n          />\r\n        )\r\n      case 'lock-utxo':\r\n        return (\r\n          <FormattedMessage\r\n            id=\"SwapProgressText_DepositingYourSide\"\r\n            defaultMessage=\"Depositing {sellCurrency}.{br}It can take a few minutes\"\r\n            values={{\r\n              br: <br />,\r\n              sellCurrency: `${this.props.swap.sellCurrency}`\r\n            }}\r\n          />\r\n        )\r\n      case 'wait-withdraw-utxo':\r\n        return (\r\n          <FormattedMessage\r\n            id=\"SwapProgressText_MakerWaitTakerWithdraw\"\r\n            defaultMessage=\"Waiting for {buyCurrency} Owner to add a Secret Key to {sellCurrency} Contact\"\r\n            values={{\r\n              buyCurrency: `${this.props.swap.buyCurrency}`,\r\n              sellCurrency: `${this.props.swap.sellCurrency}`\r\n            }}\r\n          />\r\n        )\r\n      case 'withdraw-eth':\r\n        return (\r\n          <FormattedMessage\r\n            id=\"SwapProgressText_WithdrawRequest\"\r\n            defaultMessage=\"Requesting withdrawal from {buyCurrency} Contract\"\r\n            values={{\r\n              buyCurrency: `${this.props.swap.buyCurrency}`\r\n            }}\r\n          />\r\n        )\r\n      case 'finish':\r\n        return (\r\n          <FormattedMessage\r\n            id=\"SwapProgressText_Finish\"\r\n            defaultMessage=\"{buyCurrency} tokens was transferred to your wallet. Check the balance\"\r\n            values={{\r\n              buyCurrency: `${this.props.swap.buyCurrency}`\r\n            }}\r\n          />\r\n        )\r\n      case 'end':\r\n        return (\r\n          <FormattedMessage id=\"SwapProgressText_End\" defaultMessage=\"Thank you for using Swap.Online!\" />\r\n        )\r\n      default:\r\n        return null\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    return this.getMakerUtxoToAbTextText(this.props.stepName)\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nimport { FormattedMessage } from 'react-intl'\r\n\r\nexport default class TakerUtxoToAbTexts extends Component<any, any> {\r\n  getTakerUtxoToAbTextText = (stepName) => {\r\n    switch (stepName) {\r\n      case 'sign':\r\n        return (\r\n          <FormattedMessage\r\n            id=\"SwapProgressText_FirstStep\"\r\n            defaultMessage=\"Please wait\"\r\n          />\r\n        )\r\n      case 'submit-secret':\r\n        return (\r\n          <FormattedMessage\r\n            id=\"SwapProgressText_CreateSecret\"\r\n            defaultMessage=\"Create a secret key\"\r\n          />\r\n        )\r\n      case 'sync-balance':\r\n        return (\r\n          <FormattedMessage\r\n            id=\"SwapProgressText_CheckingBalance\"\r\n            defaultMessage=\"Checking balance..\"\r\n          />\r\n        )\r\n      case 'lock-utxo':\r\n        return (\r\n          <FormattedMessage\r\n            id=\"SwapProgressText_DepositingYourSide\"\r\n            defaultMessage=\"Depositing {sellCurrency}.{br}It can take a few minutes\"\r\n            values={{\r\n              br: <br />,\r\n              sellCurrency: `${this.props.swap.sellCurrency}`\r\n            }}\r\n          />\r\n        )\r\n      case 'wait-lock-eth':\r\n        return (\r\n          <FormattedMessage\r\n            id=\"SwapProgressText_WaitPatricipantDeposit\"\r\n            defaultMessage=\"Waiting for other participant to deposit {buyCurrency}\"\r\n            values={{\r\n              buyCurrency: `${this.props.swap.buyCurrency}`\r\n            }}\r\n          />\r\n        )\r\n      case 'withdraw-eth':\r\n        return (\r\n          <FormattedMessage\r\n            id=\"SwapProgressText_WithdrawRequest\"\r\n            defaultMessage=\"Requesting withdrawal from {buyCurrency} Contract\"\r\n            values={{\r\n              buyCurrency: `${this.props.swap.buyCurrency}`\r\n            }}\r\n          />\r\n        )\r\n      case 'finish':\r\n        return (\r\n          <FormattedMessage\r\n            id=\"SwapProgressText_Finish\"\r\n            defaultMessage=\"{buyCurrency} tokens was transferred to your wallet. Check the balance\"\r\n            values={{\r\n              buyCurrency: `${this.props.swap.buyCurrency}`\r\n            }}\r\n          />\r\n        )\r\n      case 'end':\r\n        return (\r\n          <FormattedMessage id=\"SwapProgressText_End\" defaultMessage=\"Thank you for using Swap.Online!\" />\r\n        )\r\n      default:\r\n        return null\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    return this.getTakerUtxoToAbTextText(this.props.stepName)\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nimport { FormattedMessage } from 'react-intl'\r\n\r\nexport default class MakerAbToUtxoTexts extends Component<any, any> {\r\n  getMakerAbToUtxoText = (stepName) => {\r\n\r\n    switch (stepName) {\r\n      case 'sign':\r\n        return (\r\n          <FormattedMessage\r\n            id=\"SwapProgressText_FirstStep\"\r\n            defaultMessage=\"Please wait\"\r\n          />\r\n        )\r\n      case 'wait-lock-utxo':\r\n        return (\r\n          <FormattedMessage\r\n            id=\"SwapProgressText_WaitPatricipantDeposit\"\r\n            defaultMessage=\"Waiting for other participant to deposit {buyCurrency}\"\r\n            values={{\r\n              buyCurrency: `${this.props.swap.buyCurrency}`\r\n            }}\r\n          />\r\n        )\r\n      case 'verify-script':\r\n        return (\r\n          <FormattedMessage\r\n            id=\"SwapProgressText_VerifyScript\"\r\n            defaultMessage=\"The {buyCurrency} Script was created and charged\"\r\n            values={{\r\n              buyCurrency: `${this.props.swap.buyCurrency}`\r\n            }}\r\n          />\r\n        )\r\n      case 'sync-balance':\r\n        return (\r\n          <FormattedMessage\r\n            id=\"SwapProgressText_CheckingBalance\"\r\n            defaultMessage=\"Checking balance..\"\r\n          />\r\n        )\r\n      case 'lock-eth':\r\n        return (\r\n          <FormattedMessage\r\n            id=\"SwapProgressText_DepositingYourSide\"\r\n            defaultMessage=\"Depositing {sellCurrency}.{br}It can take a few minutes\"\r\n            values={{\r\n              br: <br />,\r\n              sellCurrency: `${this.props.swap.sellCurrency}`\r\n            }}\r\n          />\r\n        )\r\n      case 'wait-withdraw-eth':\r\n        return (\r\n          <FormattedMessage\r\n            id=\"SwapProgressText_MakerWaitTakerWithdraw\"\r\n            defaultMessage=\"Waiting for {buyCurrency} Owner to add a Secret Key to {sellCurrency} Contact\"\r\n            values={{\r\n              buyCurrency: `${this.props.swap.buyCurrency}`,\r\n              sellCurrency: `${this.props.swap.sellCurrency}`\r\n            }}\r\n          />\r\n        )\r\n      case 'withdraw-utxo':\r\n        return (\r\n          <FormattedMessage\r\n            id=\"SwapProgressText_WithdrawRequest\"\r\n            defaultMessage=\"Requesting withdrawal from {buyCurrency} Contract\"\r\n            values={{\r\n              buyCurrency: `${this.props.swap.buyCurrency}`\r\n            }}\r\n          />\r\n        )\r\n      case 'finish':\r\n        return (\r\n          <FormattedMessage\r\n            id=\"SwapProgressText_Finish\"\r\n            defaultMessage=\"{buyCurrency} tokens was transferred to your wallet. Check the balance\"\r\n            values={{\r\n              buyCurrency: `${this.props.swap.buyCurrency}`\r\n            }}\r\n          />\r\n        )\r\n      case 'end':\r\n        return (\r\n          <FormattedMessage id=\"SwapProgressText_End\" defaultMessage=\"Thank you for using Swap.Online!\" />\r\n        )\r\n      default:\r\n        return null\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    return this.getMakerAbToUtxoText(this.props.stepName)\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nimport { FormattedMessage } from 'react-intl'\r\n\r\nexport default class TakerAbToUtxoTexts extends Component<any, any> {\r\n  getTakerAbToUtxoText = (step) => {\r\n\r\n    switch (step) {\r\n      case 'sign':\r\n        return (\r\n          <FormattedMessage\r\n            id=\"SwapProgressText_FirstStep\"\r\n            defaultMessage=\"Please wait\"\r\n          />\r\n        )\r\n      case 'sync-balance':\r\n        return (\r\n          <FormattedMessage\r\n            id=\"SwapProgressText_CheckingBalance\"\r\n            defaultMessage=\"Checking balance..\"\r\n          />\r\n        )\r\n      case 'lock-eth':\r\n        return (\r\n          <FormattedMessage\r\n            id=\"SwapProgressText_DepositingYourSide\"\r\n            defaultMessage=\"Depositing {sellCurrency}.{br}It can take a few minutes\"\r\n            values={{\r\n              br: <br />,\r\n              sellCurrency: `${this.props.swap.sellCurrency}`\r\n            }}\r\n          />\r\n        )\r\n      case 'wait-lock-utxo':\r\n        return (\r\n          <FormattedMessage\r\n            id=\"SwapProgressText_WaitPatricipantDeposit\"\r\n            defaultMessage=\"Waiting for other participant to deposit {buyCurrency}\"\r\n            values={{\r\n              buyCurrency: `${this.props.swap.buyCurrency}`\r\n            }}\r\n          />\r\n        )\r\n      case 'withdraw-utxo':\r\n        return (\r\n          <FormattedMessage\r\n            id=\"SwapProgressText_WithdrawRequest\"\r\n            defaultMessage=\"Requesting withdrawal from {buyCurrency} Contract\"\r\n            values={{\r\n              buyCurrency: `${this.props.swap.buyCurrency}`\r\n            }}\r\n          />\r\n        )\r\n      case 'finish':\r\n        return (\r\n          <FormattedMessage\r\n            id=\"SwapProgressText_Finish\"\r\n            defaultMessage=\"{buyCurrency} tokens was transferred to your wallet. Check the balance\"\r\n            values={{\r\n              buyCurrency: `${this.props.swap.buyCurrency}`\r\n            }}\r\n          />\r\n        )\r\n      case 'end':\r\n        return (\r\n          <FormattedMessage id=\"SwapProgressText_End\" defaultMessage=\"Thank you for using Swap.Online!\" />\r\n        )\r\n      default:\r\n        return null\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    return this.getTakerAbToUtxoText(this.props.step)\r\n  }\r\n}\r\n","import React, { Fragment } from 'react'\r\n\r\nimport { isMobile } from 'react-device-detect'\r\n\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './SwapList.scss'\r\n\r\nimport DepositWindow from '../DepositWindow/DepositWindow'\r\n\r\nimport FirstStep from './SwapSteps/FirstStep'\r\nimport FourthStep from './SwapSteps/FourthStep'\r\n\r\nimport UTXOSecondStep from './SwapSteps/UTXOSteps/SecondStep'\r\nimport UTXOThirdStep from './SwapSteps/UTXOSteps/ThirdStep'\r\n\r\nimport ABSecondStep from './SwapSteps/ABSteps/SecondStep'\r\nimport ABThirdStep from './SwapSteps/ABSteps/ThirdStep'\r\n\r\nimport MakerUtxoToAbtTexts from './SwapProgressTexts/MakerUtxoToAb'\r\nimport TakerUtxoToAbTexts from './SwapProgressTexts/TakerUtxoToAb'\r\nimport MakerAbToUtxoTexts from './SwapProgressTexts/MakerAbToUtxo'\r\nimport TakerAbToUtxoTexts from './SwapProgressTexts/TakerAbToUtxo'\r\n\r\nimport SWAP_STEPS from 'common/helpers/constants/SWAP_STEPS'\r\n\r\nconst {\r\n  FIRST_STEP,\r\n  TAKER_UTXO_SECOND_STEPS,\r\n  MAKER_UTXO_SECOND_STEPS,\r\n  TAKER_EVM_SECOND_STEPS,\r\n  MAKER_EVM_SECOND_STEPS,\r\n  TAKER_UTXO_THIRD_STEPS,\r\n  MAKER_UTXO_THIRD_STEPS,\r\n  TAKER_EVM_THIRD_STEPS,\r\n  MAKER_EVM_THIRD_STEPS,\r\n  FOURTH_STEP\r\n} = SWAP_STEPS\r\n\r\n\r\n@CSSModules(styles, { allowMultiple: true })\r\nexport default class SwapList extends React.PureComponent<any, any> {\r\n\r\n  _fields = null\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      stepName: this.getStepName()\r\n    }\r\n\r\n    this._fields = props.fields\r\n\r\n    console.group('SwapList >%c constructor', 'color: green;')\r\n    console.log('fields: ', this._fields)\r\n    console.groupEnd()\r\n  }\r\n\r\n  getStepName = () => {\r\n    const {\r\n      swap: {\r\n        flow: {\r\n          stepNumbers\r\n        }\r\n      },\r\n      flow: {\r\n        step\r\n      }\r\n     } = this.props\r\n\r\n     let stepName = ''\r\n\r\n    Object.keys(stepNumbers).forEach((key) => {\r\n      if (stepNumbers[key] === step) {\r\n        stepName = key\r\n      }\r\n    })\r\n\r\n    console.log('stepName', stepName)\r\n\r\n    return stepName\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { flow: { step: prevStep } } = prevProps\r\n    const { flow: { step } } = this.props\r\n\r\n    if(prevStep !== step) {\r\n      this.setState({\r\n        stepName: this.getStepName()\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      swap: {\r\n        flow: {\r\n          isTakerMakerModel,\r\n        },\r\n        flow: flowClass,\r\n      },\r\n      flow,\r\n      swap,\r\n      enoughBalance,\r\n      currencyData,\r\n      tokenItems\r\n    } = this.props\r\n\r\n    const { stepName } = this.state\r\n\r\n    const isUTXOSide = flowClass.isUTXOSide\r\n\r\n    const SecondStep = (isUTXOSide) ? UTXOSecondStep : ABSecondStep\r\n    const ThirdStep = (isUTXOSide) ? UTXOThirdStep : ABThirdStep\r\n\r\n    const secondActiveStep = isUTXOSide ?\r\n      flow.isTaker ? TAKER_UTXO_SECOND_STEPS : MAKER_UTXO_SECOND_STEPS\r\n      :\r\n      flow.isTaker ? TAKER_EVM_SECOND_STEPS : MAKER_EVM_SECOND_STEPS\r\n\r\n    const thirdActiveStep = isUTXOSide ?\r\n      flow.isTaker ? TAKER_UTXO_THIRD_STEPS : MAKER_UTXO_THIRD_STEPS\r\n      :\r\n      flow.isTaker ? TAKER_EVM_THIRD_STEPS : MAKER_EVM_THIRD_STEPS\r\n\r\n    const isFirstStepActive = (FIRST_STEP.includes(stepName))\r\n    const isSecondStepActive = (secondActiveStep.includes(stepName))\r\n    const isThirdStepActive = (thirdActiveStep.includes(stepName))\r\n    const isFourthStepActive = (FOURTH_STEP.includes(stepName))\r\n\r\n    const UtxoToAbTexts = (flow.isTaker) ? TakerUtxoToAbTexts : MakerUtxoToAbtTexts\r\n    const AbToUtxoTexts = (flow.isTaker) ? TakerAbToUtxoTexts : MakerAbToUtxoTexts\r\n\r\n    const swapTexts = (\r\n      <Fragment>\r\n        {\r\n          ['BtcLikeToEth', 'BtcLikeToEthToken'].includes(this.props.swapName) &&\r\n            <UtxoToAbTexts flow={flow} swap={swap} stepName={stepName} />\r\n        }\r\n        {\r\n          ['EthToBtcLike', 'EthTokenToBtcLike'].includes(this.props.swapName) &&\r\n            <AbToUtxoTexts flow={flow} swap={swap} stepName={stepName} />\r\n        }\r\n      </Fragment>\r\n    )\r\n\r\n    const showDepositWindow = !enoughBalance && stepName === 'sync-balance'\r\n\r\n    return (\r\n      <div styleName={`${isMobile ? 'stepList isMobile' : 'stepList'}`}>\r\n        {!isMobile && <FirstStep text={swapTexts} isFirstStepActive={isFirstStepActive} />}\r\n        <SecondStep\r\n          isFirstStepActive={isFirstStepActive}\r\n          isSecondStepActive={isSecondStepActive}\r\n          text={swapTexts}\r\n          showDepositWindow={showDepositWindow}\r\n          swap={swap}\r\n          fields={this._fields}\r\n        />\r\n        {\r\n          showDepositWindow &&\r\n            <div styleName=\"swapDepositWindow\">\r\n              <DepositWindow currencyData={currencyData} swap={swap} flow={flow} tokenItems={tokenItems} fields={this._fields} />\r\n            </div>\r\n        }\r\n        <ThirdStep\r\n          isFirstStepActive={isFirstStepActive}\r\n          isSecondStepActive={isSecondStepActive}\r\n          isThirdStepActive={isThirdStepActive}\r\n          swap={swap}\r\n          fields={this._fields}\r\n          text={swapTexts}\r\n        />\r\n        {!isMobile && <FourthStep isFourthStepActive={isFourthStepActive} text={swapTexts} />}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","export default {\r\n    FIRST_STEP:                 ['sign'],\r\n\r\n    TAKER_UTXO_SECOND_STEPS:    ['submit-secret', 'sync-balance', 'lock-utxo', 'wait-lock-eth'],\r\n    MAKER_UTXO_SECOND_STEPS:    ['sync-balance', 'wait-lock-eth', 'lock-utxo'],\r\n    TAKER_EVM_SECOND_STEPS:      ['submit-secret', 'sync-balance', 'lock-eth', 'wait-lock-utxo'],\r\n    MAKER_EVM_SECOND_STEPS:      ['wait-lock-utxo', 'verify-script', 'sync-balance', 'lock-eth'],\r\n\r\n    TAKER_UTXO_THIRD_STEPS:     ['withdraw-eth'],\r\n    MAKER_UTXO_THIRD_STEPS:     ['wait-withdraw-utxo', 'withdraw-eth'],\r\n    TAKER_EVM_THIRD_STEPS:       ['withdraw-utxo'],\r\n    MAKER_EVM_THIRD_STEPS:       ['wait-withdraw-eth', 'withdraw-utxo'],\r\n\r\n    FOURTH_STEP:                ['finish', 'end']\r\n}","import React, { Component, Fragment } from 'react'\r\n\r\nimport styles from './FeeControler.scss'\r\nimport cssModules from 'react-css-modules'\r\n\r\nimport CopyToClipboard from 'react-copy-to-clipboard'\r\nimport { FormattedMessage } from 'react-intl'\r\n\r\nimport Button from 'components/controls/Button/Button'\r\n\r\n@cssModules(styles, { allowMultiple: true })\r\nexport default class FeeControler extends Component<any, any> {\r\n\r\n  state = {\r\n    isAddressCopied: false,\r\n  }\r\n\r\n  handleCopy = () => {\r\n    this.setState({\r\n      isAddressCopied: true,\r\n    }, () => {\r\n      setTimeout(() => {\r\n        this.setState({\r\n          isAddressCopied: false,\r\n        })\r\n      }, 500)\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { ethAddress, gasAmountNeeded } = this.props\r\n    const { isAddressCopied } = this.state\r\n\r\n    return (\r\n      <div styleName=\"FeeController\">\r\n        <CopyToClipboard text={ethAddress}>\r\n          <div>\r\n            <div styleName=\"warning\">\r\n              <i className=\"fas fa-exclamation-triangle\" />\r\n            </div>\r\n            <Fragment>\r\n              <h3 styleName=\"feeHeading\">\r\n                <FormattedMessage\r\n                  id=\"FeeControler68\"\r\n                  defaultMessage=\"Not enough ETH on your balance for miner fee.{br}{br}Deposit {gasAmountNeeded} ETH to your account\"\r\n                  values={{\r\n                    br: <br />,\r\n                    gasAmountNeeded: <strong>{gasAmountNeeded * 5}</strong>, // 1 for approving, 4 for creating swap\r\n                  }}\r\n                />\r\n              </h3>\r\n              <p styleName=\"address\">\r\n                {ethAddress}\r\n              </p>\r\n              <Button brand styleName=\"button\" onClick={this.handleCopy}>\r\n                {isAddressCopied\r\n                  ? <FormattedMessage id=\"FeeControler48\" defaultMessage=\"Copied\" />\r\n                  : <FormattedMessage id=\"FeeControler49\" defaultMessage=\"Copy\" />\r\n                }\r\n              </Button>\r\n            </Fragment>\r\n          </div>\r\n        </CopyToClipboard>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"FeeController\":\"d0eHRBf0Uu1aPo+to6Cj+w==\",\"address\":\"qeTq2Z2ywKPVl6sZhtQg+g==\",\"feeHeading\":\"sjhEGOJPgXGaSJwvdCaJIw==\",\"warning\":\"-78-QgSZ0KcUZvgVhooavw==\",\"button\":\"nILwRn2MvrygQ+G9OBQ7Uw==\"};","import React from 'react'\r\n\r\nimport { FormattedMessage } from 'react-intl'\r\n\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './Swap.scss'\r\n\r\n\r\n@CSSModules(styles)\r\nclass SwapController extends React.PureComponent<any, any> {\r\n\r\n  swap: any\r\n  mount: any\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const { swap } = props\r\n\r\n    this.swap = swap\r\n\r\n    this.mount = true\r\n\r\n    this.state = {\r\n      online: true,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.swap.events.subscribe('check status', this.checkStatusUser)\r\n    this.dispatchEvent('check status')\r\n\r\n    const checkStatusUserTimer = setInterval(() => {\r\n      if (!this.mount) {\r\n        clearInterval(checkStatusUserTimer)\r\n        return\r\n      }\r\n\r\n      this.checkStatusUser()\r\n    }, 5000)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.dispatchEvent('check status')\r\n    this.swap.events.unsubscribe('check status', this.checkStatusUser)\r\n    this.mount = false\r\n  }\r\n\r\n  dispatchEvent = (event) => {\r\n    this.swap.events.dispatch(event)\r\n  }\r\n\r\n  checkStatusUser = () => {\r\n    const { online } = this.state\r\n    const status = this.swap.room.getOnlineParticipant()\r\n\r\n    this.setState(() => ({\r\n      online: status,\r\n    }))\r\n  }\r\n\r\n  render() {\r\n    const { online } = this.state\r\n\r\n    return (\r\n      <div styleName=\"onlineIndicator\">\r\n        {\r\n          online ? (\r\n            <p styleName=\"online\">\r\n              <FormattedMessage id=\"SwapController54\" defaultMessage=\"Another participant is online\" />\r\n            </p>\r\n          ) : (\r\n            <p styleName=\"offline\">\r\n              <FormattedMessage id=\"SwapController60\" defaultMessage=\"Another participant is offline\" />\r\n            </p>\r\n          )\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SwapController\r\n","import React from 'react'\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from '../Swap.scss'\r\n\r\nimport getCoinInfo from 'common/coins/getCoinInfo'\r\n\r\ntype ISwapPairInfoProps = {\r\n  swap: IUniversalObj\r\n}\r\n\r\nconst SwapPairInfo = (props: ISwapPairInfoProps) => {\r\n  const {\r\n      swap: {\r\n        sellAmount,\r\n        buyAmount,\r\n        flow: {\r\n            _flowName: flowName\r\n        }\r\n      },\r\n    } = props\r\n\r\n  const [ sellCurrency, buyCurrency ] = flowName.split('2')\r\n\r\n  const { coin: sellCurrencyName, blockchain: sellCurrencyBlockchain } = getCoinInfo(sellCurrency)\r\n  const { coin: buyCurrencyName, blockchain: buyCurrencyBlockchain } = getCoinInfo(buyCurrency)\r\n\r\n  return (\r\n    <div styleName=\"swapInfo\">\r\n      <strong>\r\n        {sellAmount.toFixed(6)}\r\n        {' '}\r\n        {sellCurrencyBlockchain ? `${sellCurrencyName} (${sellCurrencyBlockchain})` : sellCurrencyName} &#10230; {' '}\r\n        {buyAmount.toFixed(6)}\r\n        {' '}\r\n        {buyCurrencyBlockchain ? `${buyCurrencyName} (${buyCurrencyBlockchain})` : buyCurrencyName}\r\n      </strong>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CSSModules(SwapPairInfo, styles)","import React, { Component } from 'react'\r\n\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from '../Swap.scss'\r\n\r\nimport crypto from 'crypto'\r\nimport SwapApp from 'swap.app'\r\n\r\nimport SwapProgress from './SwapProgress/SwapProgress'\r\nimport SwapList from './SwapList/SwapList'\r\nimport FeeControler from '../FeeControler/FeeControler'\r\nimport SwapController from '../SwapController'\r\nimport SwapPairInfo from './SwapPairInfo'\r\n\r\n\r\n@CSSModules(styles)\r\nexport default class UTXOToEthToken extends Component<any, any> {\r\n  swap = null\r\n  _fields = null\r\n  confirmAddressTimer = null\r\n  ParticipantTimer = null\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    const { swap, currencyData, ethData, enoughBalance, styles, depositWindow, fields } = props\r\n\r\n    this.swap = swap\r\n\r\n    this.state = {\r\n      swap,\r\n      depositWindow,\r\n      enoughBalance,\r\n      isPressCtrl: false,\r\n      enabledButton: false,\r\n      isAddressCopied: false,\r\n      //@ts-ignore: strictNullChecks\r\n      flow: this.swap.flow.state,\r\n      destinationAddressTimer: true,\r\n      isShowingScript: false,\r\n      currencyAddress: currencyData.address,\r\n      ethAddress: ethData.map(item => item.address),\r\n      secret: crypto.randomBytes(32).toString('hex'),\r\n      //@ts-ignore: strictNullChecks\r\n      destinationBuyAddress: (this.swap.destinationBuyAddress) ? this.swap.destinationBuyAddress : SwapApp.shared().services.auth.accounts.eth.address,\r\n    }\r\n\r\n    this._fields = fields\r\n  }\r\n\r\n  componentWillMount() {\r\n    //@ts-ignore: strictNullChecks\r\n    this.swap.on('state update', this.handleFlowStateUpdate)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    //@ts-ignore: strictNullChecks\r\n    this.swap.off('state update', this.handleFlowStateUpdate)\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { swap, flow: { step, isParticipantSigned, isStoppedSwap } } = this.state\r\n    if (isStoppedSwap) return\r\n    //@ts-ignore: strictNullChecks\r\n    this.ParticipantTimer = setInterval(() => {\r\n      if (this.state.flow.isParticipantSigned && this.state.destinationBuyAddress) {\r\n        this.submitSecret()\r\n      }\r\n      else {\r\n        //@ts-ignore: strictNullChecks\r\n        clearInterval(this.ParticipantTimer)\r\n      }\r\n    }, 3000)\r\n  }\r\n\r\n  submitSecret = () => {\r\n    const { secret } = this.state\r\n    // this.swap.flow.submitSecret(secret)\r\n  }\r\n\r\n\r\n  handleFlowStateUpdate = (values) => {\r\n    this.setState({\r\n      flow: values,\r\n    })\r\n  }\r\n\r\n  toggleScript = () => {\r\n    this.setState({\r\n      isShowingScript: !this.state.isShowingScript,\r\n    })\r\n  }\r\n\r\n  onCopyAddress = (e) => {\r\n    e.preventDefault()\r\n    this.setState({\r\n      isPressCtrl: true,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      children,\r\n      disabledTimer,\r\n      currencyData,\r\n      continueSwap,\r\n      enoughBalance,\r\n      history,\r\n      tokenItems,\r\n      waitWithdrawOther,\r\n      onClickCancelSwap,\r\n      locale,\r\n      wallets,\r\n    } = this.props\r\n\r\n    const {\r\n      swap,\r\n      flow,\r\n      secret,\r\n      ethAddress,\r\n      isShowingScript,\r\n    } = this.state\r\n\r\n    const feeControllerView = (\r\n      <FeeControler\r\n        ethAddress={ethAddress}\r\n        fields={this._fields}\r\n      />\r\n    )\r\n    const swapProgressView = (\r\n      <SwapProgress\r\n        flow={flow}\r\n        swap={this.props.swap}\r\n        history={history}\r\n        locale={locale}\r\n        wallets={wallets}\r\n        tokenItems={tokenItems}\r\n        fields={this._fields}\r\n      />\r\n    )\r\n\r\n    return (\r\n      <div>\r\n        <div styleName=\"swapContainer\">\r\n          <div>\r\n            {swap.id && <SwapPairInfo swap={swap} />}\r\n            <SwapController swap={swap} />\r\n            <SwapList\r\n              flow={this.state.swap.flow.state}\r\n              enoughBalance={enoughBalance}\r\n              currencyData={currencyData}\r\n              tokenItems={tokenItems}\r\n              swap={this.props.swap}\r\n              onClickCancelSwap={onClickCancelSwap}\r\n              fields={this._fields}\r\n              swapName=\"BtcLikeToEthToken\"\r\n            />\r\n            {!continueSwap\r\n              ? ((!waitWithdrawOther) ? feeControllerView : swapProgressView)\r\n              : swapProgressView\r\n            }\r\n          </div>\r\n        </div>\r\n        {children && <div styleName=\"swapContainerInfo\">{children}</div>}\r\n      </div>\r\n    )\r\n  }\r\n}","import React, { Component, Fragment } from 'react'\r\n\r\nimport styles from './FailControler.scss'\r\nimport cssModules from 'react-css-modules'\r\n\r\nimport CopyToClipboard from 'react-copy-to-clipboard'\r\nimport { FormattedMessage } from 'react-intl'\r\n\r\n@cssModules(styles, { allowMultiple: true })\r\nexport default class FailControler extends Component<any, any> {\r\n  render() {\r\n    const { ethAddress, message } = this.props\r\n\r\n    return (\r\n      <div styleName=\"FailControler\" >\r\n        <CopyToClipboard text={ethAddress}>\r\n          <div>\r\n            <div styleName=\"warning\">\r\n              <i className=\"fas fa-exclamation-triangle\" />\r\n            </div>\r\n            <Fragment>\r\n              <h3 styleName=\"failHeading\">\r\n                <FormattedMessage\r\n                  id=\"FailControler68\"\r\n                  defaultMessage=\"Error in the execution of the token contract!{br}{br}Perhaps there is an additional commission on the contract side or the error occured for another reason{br}{br}{message}\"\r\n                  values={{\r\n                    br: <br />,\r\n                    message: message,\r\n                  }}\r\n                />\r\n              </h3>\r\n            </Fragment>\r\n          </div>\r\n        </CopyToClipboard>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"FailControler\":\"s4E-rYDDSk2FPOG0yykrJg==\",\"failHeading\":\"DaErv1VHC3Ow8p-iHx-IoA==\",\"warning\":\"_5SQrFRWPVIr-CZ1dKBjAmQ==\",\"button\":\"VmdZFc4x5hPlGvte4T5dEg==\",\"address\":\"_8Yljc7PzDQcvd3xJKAFCyA==\"};","import React, { Component, Fragment } from 'react'\r\n\r\nimport actions from 'redux/actions'\r\n\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from '../Swap.scss'\r\n\r\nimport SwapProgress from './SwapProgress/SwapProgress'\r\nimport SwapList from './SwapList/SwapList'\r\nimport FeeControler from '../FeeControler/FeeControler'\r\nimport FailControler from '../FailControler/FailControler'\r\nimport SwapController from '../SwapController'\r\nimport SwapPairInfo from './SwapPairInfo'\r\n\r\n\r\n@CSSModules(styles)\r\nexport default class EthTokenToUTXO extends Component<any, any> {\r\n\r\n  _fields = null\r\n  swap = null\r\n  signTimer = null\r\n  confirmTimer = null\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const {\r\n      swap,\r\n      currencyData,\r\n      tokenItems,\r\n      fields,\r\n    } = props\r\n\r\n    this.swap = swap\r\n\r\n    this.state = {\r\n      swap,\r\n      currencyData,\r\n      tokenItems,\r\n      signed: false,\r\n      enabledButton: false,\r\n      isAddressCopied: false,\r\n      //@ts-ignore: strictNullChecks\r\n      flow: this.swap.flow.state,\r\n      currencyAddress: currencyData.address,\r\n    }\r\n\r\n    this._fields = fields\r\n  }\r\n\r\n  componentWillMount() {\r\n    //@ts-ignore: strictNullChecks\r\n    this.swap.on('state update', this.handleFlowStateUpdate)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    //@ts-ignore: strictNullChecks\r\n    this.swap.off('state update', this.handleFlowStateUpdate)\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { flow: { isStoppedSwap } } = this.state\r\n    if (isStoppedSwap) return\r\n\r\n    this.requestMaxAllowance()\r\n  }\r\n\r\n  reportError = (error) => {\r\n    console.group('%c EthTokenToUTXO swap', 'color: red;')\r\n    console.error('error: ', error)\r\n    console.log('%c Stack trace', 'color: orange;')\r\n    console.trace()\r\n    console.groupEnd()\r\n\r\n    throw new Error(error)\r\n  }\r\n\r\n  confirmScriptChecked = () => {\r\n    //@ts-ignore: strictNullChecks\r\n    this.swap.flow[this._fields.verifyScriptFunc]()\r\n  }\r\n\r\n  handleFlowStateUpdate = (values) => {\r\n    this.setState({\r\n      flow: values,\r\n    })\r\n  }\r\n\r\n  requestMaxAllowance = () => {\r\n    //@ts-ignore: strictNullChecks\r\n    const { sellCurrency, sellAmount, flow } = this.swap\r\n    const { ethTokenSwap } = flow\r\n    const { standard } = ethTokenSwap.options\r\n\r\n    try {\r\n      actions[standard].setAllowance({\r\n        name: sellCurrency,\r\n        to: ethTokenSwap.address, // swap contract address\r\n        targetAllowance: String(sellAmount),\r\n      })\r\n    } catch (error) {\r\n      this.reportError(error)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      children,\r\n      continueSwap,\r\n      enoughBalance,\r\n      history,\r\n      ethAddress,\r\n      onClickCancelSwap,\r\n      locale,\r\n      wallets,\r\n    }  = this.props\r\n\r\n    const {\r\n      flow,\r\n      currencyData,\r\n      tokenItems,\r\n      signed,\r\n      swap,\r\n    } = this.state\r\n\r\n    const { canCreateEthTransaction, isFailedTransaction, isFailedTransactionError, gasAmountNeeded } = flow\r\n\r\n    return (\r\n      <div>\r\n        <div styleName=\"swapContainer\">\r\n          <div>\r\n            {swap.id && <SwapPairInfo swap={swap} />}\r\n            <SwapController swap={swap} />\r\n            <SwapList\r\n              enoughBalance={enoughBalance}\r\n              currencyData={currencyData}\r\n              tokenItems={tokenItems}\r\n              flow={flow}\r\n              swap={swap}\r\n              onClickCancelSwap={onClickCancelSwap}\r\n              fields={this._fields}\r\n              swapName=\"EthTokenToBtcLike\"\r\n            />\r\n            {!continueSwap\r\n              ? (\r\n                <Fragment>\r\n                  {\r\n                    !canCreateEthTransaction && (\r\n                      <FeeControler ethAddress={ethAddress} gasAmountNeeded={gasAmountNeeded} fields={this._fields} />\r\n                    )\r\n                  }\r\n                  {\r\n                    isFailedTransaction && (\r\n                      <FailControler ethAddress={ethAddress} message={isFailedTransactionError} fields={this._fields} />\r\n                    )\r\n                  }\r\n                </Fragment>\r\n              )\r\n              : (\r\n                <SwapProgress\r\n                  flow={flow}\r\n                  swap={swap}\r\n                  tokenItems={tokenItems}\r\n                  history={history}\r\n                  locale={locale}\r\n                  wallets={wallets}\r\n                  signed={signed}\r\n                  fields={this._fields}\r\n                />\r\n              )\r\n            }\r\n          </div>\r\n        </div>\r\n        {children && <div styleName=\"swapContainerInfo\">{children}</div>}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nimport crypto from 'crypto'\r\n\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from '../Swap.scss'\r\n\r\nimport { isMobile } from 'react-device-detect'\r\n\r\nimport SwapProgress from './SwapProgress/SwapProgress'\r\nimport FeeControler from '../FeeControler/FeeControler'\r\nimport SwapList from './SwapList/SwapList'\r\nimport SwapController from '../SwapController'\r\nimport SwapPairInfo from './SwapPairInfo'\r\n\r\n\r\n@CSSModules(styles)\r\nexport default class UTXOToEthLike extends Component<any, any> {\r\n  swap = null\r\n  _fields = null\r\n  ParticipantTimer = null\r\n  ethLikeCoin = null\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    const { swap, currencyData, fields } = props\r\n\r\n    this.swap = swap\r\n\r\n    this._fields = fields\r\n    this.ethLikeCoin = fields.ethLikeCoin\r\n\r\n    this.state = {\r\n      currencyData,\r\n      enabledButton: false,\r\n      //@ts-ignore: strictNullChecks\r\n      flow: this.swap.flow.state,\r\n      currencyAddress: currencyData.address,\r\n      secret: crypto.randomBytes(32).toString('hex'),\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n    //@ts-ignore: strictNullChecks\r\n    this.swap.on('state update', this.handleFlowStateUpdate)\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { flow: { isSignFetching, isMeSigned, step, isParticipantSigned, isStoppedSwap } } = this.state\r\n    if (isStoppedSwap) return\r\n    window.addEventListener('resize', this.updateWindowDimensions)\r\n    this.updateWindowDimensions()\r\n    //@ts-ignore: strictNullChecks\r\n    this.ParticipantTimer = setInterval(() => {\r\n      if (this.state.flow.isParticipantSigned && this.state.destinationBuyAddress) {\r\n        //this.submitSecret()\r\n      }\r\n      else {\r\n        //@ts-ignore: strictNullChecks\r\n        clearInterval(this.ParticipantTimer)\r\n      }\r\n    }, 3000)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const { swap, flow: { isMeSigned } } = this.state\r\n    window.removeEventListener('resize', this.updateWindowDimensions)\r\n    //@ts-ignore: strictNullChecks\r\n    this.swap.off('state update', this.handleFlowStateUpdate)\r\n    //@ts-ignore: strictNullChecks\r\n    clearInterval(this.ParticipantTimer)\r\n  }\r\n\r\n  updateWindowDimensions = () => {\r\n    this.setState({ windowWidth: window.innerWidth })\r\n  }\r\n\r\n  submitSecret = () => {\r\n    const { secret } = this.state\r\n    //@ts-ignore: strictNullChecks\r\n    this.swap.flow.submitSecret(secret)\r\n  }\r\n\r\n  handleFlowStateUpdate = (values) => {\r\n    this.setState({\r\n      flow: values,\r\n    })\r\n  }\r\n\r\n  updateBalance = () => {\r\n    //@ts-ignore: strictNullChecks\r\n    this.swap.flow.syncBalance()\r\n  }\r\n\r\n  tryRefund = () => {\r\n    //@ts-ignore: strictNullChecks\r\n    this.swap.flow.tryRefund()\r\n    this.setState(() => ({ enabledButton: false }))\r\n  }\r\n\r\n  getRefundTxHex = () => {\r\n    const { flow } = this.state\r\n\r\n    //@ts-ignore: strictNullChecks\r\n    const { scriptValues } = this._fields\r\n\r\n    if (flow.refundTxHex) {\r\n      return flow.refundTxHex\r\n    }\r\n    else if (flow[scriptValues]) {\r\n      //@ts-ignore: strictNullChecks\r\n      this.swap.flow.getRefundTxHex()\r\n    }\r\n  }\r\n\r\n\r\n  render() {\r\n    const {\r\n      continueSwap,\r\n      enoughBalance,\r\n      swap,\r\n      history,\r\n      tokenItems,\r\n      ethAddress,\r\n      children,\r\n      onClickCancelSwap,\r\n      locale,\r\n      wallets,\r\n    }  = this.props\r\n\r\n    const { flow, isShowingGhostScript, currencyData, windowWidth } = this.state\r\n\r\n    return (\r\n      <div>\r\n        <div\r\n          styleName=\"swapContainer\"\r\n          style={(isMobile && (windowWidth < 569))\r\n            ? { paddingTop: 120 }\r\n            : { paddingTop: 0 }\r\n          }>\r\n          <div>\r\n            {swap.id && <SwapPairInfo swap={swap} />}\r\n            <SwapController swap={swap} />\r\n            <SwapList\r\n              enoughBalance={enoughBalance}\r\n              currencyData={currencyData}\r\n              tokenItems={tokenItems}\r\n              flow={flow}\r\n              onClickCancelSwap={onClickCancelSwap}\r\n              windowWidth={windowWidth}\r\n              name={swap.sellCurrency}\r\n              swap={swap}\r\n              fields={this._fields}\r\n              swapName=\"BtcLikeToEth\"\r\n            />\r\n            <div>\r\n              {!continueSwap\r\n                ? <FeeControler ethAddress={ethAddress} />\r\n                : (\r\n                  <SwapProgress\r\n                    flow={flow}\r\n                    swap={swap}\r\n                    history={history}\r\n                    locale={locale}\r\n                    wallets={wallets}\r\n                    tokenItems={tokenItems}\r\n                    fields={this._fields}\r\n                  />\r\n                )\r\n              }\r\n            </div>\r\n          </div>\r\n          {children && <div styleName=\"swapContainerInfo\">{children}</div>}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from '../Swap.scss'\r\n\r\nimport { isMobile } from 'react-device-detect'\r\n\r\nimport FeeControler from '../FeeControler/FeeControler'\r\nimport SwapProgress from './SwapProgress/SwapProgress'\r\nimport SwapList from './SwapList/SwapList'\r\nimport SwapController from '../SwapController'\r\nimport SwapPairInfo from './SwapPairInfo'\r\n\r\n\r\n@CSSModules(styles)\r\nexport default class EthLikeToUTXO extends Component<any, any> {\r\n  _fields = null\r\n  swap = null\r\n  signTimer = null\r\n  confirmTimer = null\r\n  ethLikeCoin = null\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    const {\r\n      swap,\r\n      currencyData,\r\n      depositWindow,\r\n      enoughBalance,\r\n      fields,\r\n    } = props\r\n\r\n    this._fields = fields\r\n    this.ethLikeCoin = fields.ethLikeCoin\r\n\r\n    this.swap = swap\r\n\r\n    this.state = {\r\n      swap,\r\n      currencyData,\r\n      enoughBalance,\r\n      signed: false,\r\n      depositWindow,\r\n      enabledButton: false,\r\n      isAddressCopied: false,\r\n      //@ts-ignore: strictNullChecks\r\n      flow: this.swap.flow.state,\r\n      isShowingGhostScript: false,\r\n      currencyAddress: currencyData.address,\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n    //@ts-ignore: strictNullChecks\r\n    this.swap.on('state update', this.handleFlowStateUpdate)\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { flow: { isStoppedSwap } } = this.state\r\n    if (isStoppedSwap) return\r\n    window.addEventListener('resize', this.updateWindowDimensions)\r\n    this.updateWindowDimensions()\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    //@ts-ignore: strictNullChecks\r\n    this.swap.off('state update', this.handleFlowStateUpdate)\r\n    window.removeEventListener('resize', this.updateWindowDimensions)\r\n  }\r\n\r\n  updateWindowDimensions = () => {\r\n    this.setState({ windowWidth: window.innerWidth })\r\n  }\r\n\r\n  confirmScriptChecked = () => {\r\n    const {\r\n      //@ts-ignore: strictNullChecks\r\n      verifyScriptFunc,\r\n    } = this._fields\r\n\r\n    //@ts-ignore: strictNullChecks\r\n    this.swap.flow[verifyScriptFunc]()\r\n  }\r\n\r\n  handleFlowStateUpdate = (values) => {\r\n\r\n    this.setState({\r\n      flow: values,\r\n    })\r\n\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      tokenItems,\r\n      continueSwap,\r\n      enoughBalance,\r\n      history,\r\n      ethAddress,\r\n      children,\r\n      requestToFaucetSended,\r\n      onClickCancelSwap,\r\n      locale,\r\n      wallets,\r\n    } = this.props\r\n\r\n    const { flow, swap, currencyData, signed, windowWidth } = this.state\r\n\r\n    return (\r\n      <div>\r\n        <div styleName=\"swapContainer\" style={(isMobile && (windowWidth < 569)) ? { paddingTop: 120 } : { paddingTop: 0 }}>\r\n          <div>\r\n            {swap.id && <SwapPairInfo swap={swap} />}\r\n            <SwapController swap={swap} />\r\n            <SwapList\r\n              enoughBalance={enoughBalance}\r\n              currencyData={currencyData}\r\n              tokenItems={tokenItems}\r\n              flow={flow}\r\n              name={swap.sellCurrency}\r\n              windowWidth={windowWidth}\r\n              onClickCancelSwap={onClickCancelSwap}\r\n              swap={swap}\r\n              fields={this._fields}\r\n              swapName=\"EthToBtcLike\"\r\n            />\r\n            {!continueSwap\r\n              ? <FeeControler ethAddress={ethAddress} requestToFaucetSended={requestToFaucetSended} />\r\n              : (\r\n                <SwapProgress\r\n                  flow={flow}\r\n                  swap={swap}\r\n                  history={history}\r\n                  signed={signed}\r\n                  locale={locale}\r\n                  wallets={wallets}\r\n                  tokenItems={tokenItems}\r\n                  fields={this._fields}\r\n                />\r\n              )\r\n            }\r\n          </div>\r\n          {children && <div styleName=\"swapContainerInfo\">{children}</div>}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import config from 'app-config'\r\nimport UTXOToEthToken from '../UTXOSwap/UTXOToEthToken'\r\nimport EthTokenToUTXO from '../UTXOSwap/EthTokenToUTXO'\r\nimport UTXOToEthLike from '../UTXOSwap/UTXOToEthLike'\r\nimport EthLikeToUTXO from '../UTXOSwap/EthLikeToUTXO'\r\n\r\n\r\nconst UTXO_to_ERC20 = (coinName) => {\r\n  class _UTXO_to_ERC20 extends UTXOToEthToken {\r\n    constructor(props) {\r\n      super({\r\n        ...props,\r\n        fields: {\r\n          currencyName: coinName,\r\n          ethLikeCoin: `ETH`,\r\n          etherscanLink: config.link.etherscan,\r\n          ...config.swapConfig[coinName],\r\n        },\r\n      })\r\n    }\r\n  }\r\n  return _UTXO_to_ERC20\r\n}\r\n\r\nconst UTXO_to_BEP20 = (coinName) => {\r\n  class _UTXO_to_BEP20 extends UTXOToEthToken {\r\n    constructor(props) {\r\n      super({\r\n        ...props,\r\n        fields: {\r\n          currencyName: coinName,\r\n          ethLikeCoin: `BNB`,\r\n          etherscanLink: config.link.bscscan,\r\n          ...config.swapConfig[coinName],\r\n        },\r\n      })\r\n    }\r\n  }\r\n  return _UTXO_to_BEP20\r\n}\r\nconst UTXO_to_ERC20MATIC = (coinName) => {\r\n  class _UTXO_to_ERC20MATIC extends UTXOToEthToken {\r\n    constructor(props) {\r\n      super({\r\n        ...props,\r\n        fields: {\r\n          currencyName: coinName,\r\n          ethLikeCoin: `MATIC`,\r\n          etherscanLink: config.link.maticscan,\r\n          ...config.swapConfig[coinName],\r\n        },\r\n      })\r\n    }\r\n  }\r\n  return _UTXO_to_ERC20MATIC\r\n}\r\n\r\nconst ERC20_to_UTXO = (coinName) => {\r\n  class _ERC20_to_UTXO extends EthTokenToUTXO {\r\n    constructor(props) {\r\n      super({\r\n        ...props,\r\n        fields: {\r\n          currencyName: coinName,\r\n          ethLikeCoin: `ETH`,\r\n          etherscanLink: config.link.etherscan,\r\n          ...config.swapConfig[coinName],\r\n        },\r\n      })\r\n    }\r\n  }\r\n  return _ERC20_to_UTXO\r\n}\r\n\r\nconst BEP20_to_UTXO = (coinName) => {\r\n  class _BEP20_to_UTXO extends EthTokenToUTXO {\r\n    constructor(props) {\r\n      super({\r\n        ...props,\r\n        fields: {\r\n          currencyName: coinName,\r\n          ethLikeCoin: `BNB`,\r\n          etherscanLink: config.link.bscscan,\r\n          ...config.swapConfig[coinName],\r\n        },\r\n      })\r\n    }\r\n  }\r\n  return _BEP20_to_UTXO\r\n}\r\n\r\nconst ERC20MATIC_to_UTXO = (coinName) => {\r\n  class _ERC20MATIC_to_UTXO extends EthTokenToUTXO {\r\n    constructor(props) {\r\n      super({\r\n        ...props,\r\n        fields: {\r\n          currencyName: coinName,\r\n          ethLikeCoin: `MATIC`,\r\n          etherscanLink: config.link.maticscan,\r\n          ...config.swapConfig[coinName],\r\n        },\r\n      })\r\n    }\r\n  }\r\n  return _ERC20MATIC_to_UTXO\r\n}\r\n\r\nconst UTXO_to_ETH = (coinName) => {\r\n  class _UTXO_to_ETH extends UTXOToEthLike {\r\n    constructor(props) {\r\n      super({\r\n        ...props,\r\n        fields: {\r\n          currencyName: coinName,\r\n          ethLikeCoin: `ETH`,\r\n          etherscanLink: config.link.etherscan,\r\n          ...config.swapConfig[coinName],\r\n        },\r\n      })\r\n    }\r\n  }\r\n  return _UTXO_to_ETH\r\n}\r\n\r\nconst UTXO_to_BNB = (coinName) => {\r\n  class _UTXO_to_BNB extends UTXOToEthLike {\r\n    constructor(props) {\r\n      super({\r\n        ...props,\r\n        fields: {\r\n          currencyName: coinName,\r\n          ethLikeCoin: `BNB`,\r\n          etherscanLink: config.link.bscscan,\r\n          ...config.swapConfig[coinName],\r\n        },\r\n      })\r\n    }\r\n  }\r\n  return _UTXO_to_BNB\r\n}\r\n\r\nconst UTXO_to_MATIC = (coinName) => {\r\n  class _UTXO_to_MATIC extends UTXOToEthLike {\r\n    constructor(props) {\r\n      super({\r\n        ...props,\r\n        fields: {\r\n          currencyName: coinName,\r\n          ethLikeCoin: `MATIC`,\r\n          etherscanLink: config.link.maticscan,\r\n          ...config.swapConfig[coinName],\r\n        },\r\n      })\r\n    }\r\n  }\r\n  return _UTXO_to_MATIC\r\n}\r\n\r\nconst UTXO_to_ARBITRUM = (coinName) => {\r\n  class _UTXO_to_ARBITRUM extends UTXOToEthLike {\r\n    constructor(props) {\r\n      super({\r\n        ...props,\r\n        fields: {\r\n          currencyName: coinName,\r\n          ethLikeCoin: `ARBITRUM`,\r\n          etherscanLink: config.link.arbitrum,\r\n          ...config.swapConfig[coinName],\r\n        },\r\n      })\r\n    }\r\n  }\r\n  return _UTXO_to_ARBITRUM\r\n}\r\n\r\nconst ETH_to_UTXO = (coinName) => {\r\n  class _ETH_to_UTXO extends EthLikeToUTXO {\r\n    constructor(props) {\r\n      super({\r\n        ...props,\r\n        fields: {\r\n          currencyName: coinName,\r\n          ethLikeCoin: `ETH`,\r\n          etherscanLink: config.link.etherscan,\r\n          ...config.swapConfig[coinName],\r\n        },\r\n      })\r\n    }\r\n  }\r\n  return _ETH_to_UTXO\r\n}\r\n\r\nconst BNB_to_UTXO = (coinName) => {\r\n  class _BNB_to_UTXO extends EthLikeToUTXO {\r\n    constructor(props) {\r\n      super({\r\n        ...props,\r\n        fields: {\r\n          currencyName: coinName,\r\n          ethLikeCoin: `BNB`,\r\n          etherscanLink: config.link.bscscan,\r\n          ...config.swapConfig[coinName],\r\n        },\r\n      })\r\n    }\r\n  }\r\n  return _BNB_to_UTXO\r\n}\r\n\r\nconst MATIC_to_UTXO = (coinName) => {\r\n  class _MATIC_to_UTXO extends EthLikeToUTXO {\r\n    constructor(props) {\r\n      super({\r\n        ...props,\r\n        fields: {\r\n          currencyName: coinName,\r\n          ethLikeCoin: `MATIC`,\r\n          etherscanLink: config.link.maticscan,\r\n          ...config.swapConfig[coinName],\r\n        },\r\n      })\r\n    }\r\n  }\r\n  return _MATIC_to_UTXO\r\n}\r\n\r\nconst ARBITRUM_to_UTXO = (coinName) => {\r\n  class _ARBITRUM_to_UTXO extends EthLikeToUTXO {\r\n    constructor(props) {\r\n      super({\r\n        ...props,\r\n        fields: {\r\n          currencyName: coinName,\r\n          ethLikeCoin: `ARBITRUM`,\r\n          etherscanLink: config.link.arbitrum,\r\n          ...config.swapConfig[coinName],\r\n        },\r\n      })\r\n    }\r\n  }\r\n  return _ARBITRUM_to_UTXO\r\n}\r\n\r\nexport {\r\n  UTXO_to_ERC20,\r\n  UTXO_to_BEP20,\r\n  UTXO_to_ERC20MATIC,\r\n  ERC20_to_UTXO,\r\n  BEP20_to_UTXO,\r\n  ERC20MATIC_to_UTXO,\r\n\r\n  UTXO_to_ETH,\r\n  UTXO_to_BNB,\r\n  UTXO_to_MATIC,\r\n  UTXO_to_ARBITRUM,\r\n  ETH_to_UTXO,\r\n  BNB_to_UTXO,\r\n  MATIC_to_UTXO,\r\n  ARBITRUM_to_UTXO,\r\n}","import config from 'app-config'\r\n\r\nimport {\r\n  UTXO_to_ERC20,\r\n  UTXO_to_BEP20,\r\n  UTXO_to_ERC20MATIC,\r\n  ERC20_to_UTXO,\r\n  BEP20_to_UTXO,\r\n  ERC20MATIC_to_UTXO,\r\n\r\n  UTXO_to_ETH,\r\n  UTXO_to_BNB,\r\n  UTXO_to_MATIC,\r\n  UTXO_to_ARBITRUM,\r\n  ETH_to_UTXO,\r\n  BNB_to_UTXO,\r\n  MATIC_to_UTXO,\r\n  ARBITRUM_to_UTXO,\r\n} from './build'\r\n\r\n\r\nconst swapComponents = {}\r\nswapComponents[`BTC2BNB`] = UTXO_to_BNB(`btc`)\r\nswapComponents[`BNB2BTC`] = BNB_to_UTXO(`btc`)\r\nswapComponents[`BTC2MATIC`] = UTXO_to_MATIC(`btc`)\r\nswapComponents[`MATIC2BTC`] = MATIC_to_UTXO(`btc`)\r\nswapComponents[`BTC2ARBITRUM`] = UTXO_to_ARBITRUM(`btc`)\r\nswapComponents[`ARBITRUM2BTC`] = ARBITRUM_to_UTXO(`btc`)\r\n\r\nObject.keys(config.swapConfig).forEach(coin => {\r\n  swapComponents[`${coin.toUpperCase()}2ETH`] = UTXO_to_ETH(coin)\r\n  swapComponents[`ETH2${coin.toUpperCase()}`] = ETH_to_UTXO(coin)\r\n\r\n  Object.keys(config.erc20).forEach(tokenName => {\r\n    swapComponents[`{ETH}${tokenName.toUpperCase()}2${coin.toUpperCase()}`] = ERC20_to_UTXO(coin)\r\n    swapComponents[`${coin.toUpperCase()}2{ETH}${tokenName.toUpperCase()}`] = UTXO_to_ERC20(coin)\r\n  })\r\n})\r\n\r\nObject.keys(config.bep20).forEach(tokenName => {\r\n  swapComponents[`{BNB}${tokenName.toUpperCase()}2BTC`] = BEP20_to_UTXO(`BTC`)\r\n  swapComponents[`BTC2{BNB}${tokenName.toUpperCase()}`] = UTXO_to_BEP20(`BTC`)\r\n})\r\nObject.keys(config.erc20matic).forEach(tokenName => {\r\n  swapComponents[`{MATIC}${tokenName.toUpperCase()}2BTC`] = ERC20MATIC_to_UTXO(`BTC`)\r\n  swapComponents[`BTC2{MATIC}${tokenName.toUpperCase()}`] = UTXO_to_ERC20MATIC(`BTC`)\r\n})\r\n\r\nwindow.swapComponents = swapComponents\r\nexport {\r\n  swapComponents,\r\n}\r\n","const PROTOCOL = 'ipfs-pubsub-room/v2'\r\n\r\nexport {\r\n  PROTOCOL,\r\n}\r\n","'use strict'\r\n\r\nexport default (_message) => {\r\n  let message = _message\r\n  if (!Buffer.isBuffer(message)) {\r\n    message = Buffer.from(message)\r\n  }\r\n  return message\r\n}\r\n","'use strict'\r\n\r\nimport { EventEmitter } from 'events'\r\nimport pipe from 'it-pipe'\r\n\r\n\r\nimport { PROTOCOL } from './protocol'\r\nimport encoding from './encoding'\r\n\r\nimport debug from 'debug'\r\n\r\n\r\nexport default class Connection extends EventEmitter {\r\n\r\n  _remoteId: any\r\n  _libp2p: any\r\n  _room: any\r\n  _connection: any\r\n  _connecting: any\r\n\r\n  constructor (remoteId, libp2p, room) {\r\n    super()\r\n    this._remoteId = remoteId\r\n    this._libp2p = libp2p\r\n    this._room = room\r\n    this._connection = null\r\n    this._connecting = false\r\n  }\r\n\r\n  push(message) {\r\n    if (this._connection) {\r\n      this._connection.push(encoding(message))\r\n\r\n      return\r\n    }\r\n\r\n    this.once('connect', () => {\r\n      this.push(message)\r\n    })\r\n\r\n    if (!this._connecting) {\r\n      this._connect()\r\n    }\r\n  }\r\n\r\n  stop() {\r\n    if (this._connection) {\r\n      this._connection.end()\r\n    }\r\n  }\r\n\r\n  async _connect() {\r\n    this._connecting = true\r\n\r\n    if (!this._isConnectedToRemote()) {\r\n      this.emit('disconnect')\r\n      this._connecting = false\r\n      return // early\r\n    }\r\n\r\n    const peerInfo = this._libp2p.peerStore.get(this._remoteId)\r\n\r\n    const dial = await this._libp2p.dialProtocol(peerInfo.id, PROTOCOL)\r\n\r\n    const { stream } = dial\r\n\r\n    this._connection = new FiFoMessageQueue()\r\n\r\n    pipe(this._connection, stream, async (source) => {\r\n      this._connecting = false\r\n      this.emit('connect', this._connection)\r\n\r\n      for await (const message of source) {\r\n        this.emit('message', message)\r\n      }\r\n    })\r\n      .then(() => {\r\n        this.emit('disconnect')\r\n      }, async (err) => {\r\n        try {\r\n          await this._connect()\r\n        } catch (e) {\r\n          console.log('Fail reconnect')\r\n        }\r\n      })\r\n  }\r\n\r\n  _isConnectedToRemote() {\r\n    for (const peerId of this._libp2p.connections.keys()) {\r\n      if (peerId === this._remoteId._idB58String) {\r\n        return true\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nclass FiFoMessageQueue {\r\n\r\n  _queue: any[]\r\n  _ended: boolean\r\n  _resolve: any\r\n\r\n  constructor () {\r\n    this._queue = []\r\n  }\r\n\r\n  [Symbol.asyncIterator] () {\r\n    return this\r\n  }\r\n\r\n  push(message) {\r\n    if (this._ended) {\r\n      throw new Error('Message queue ended')\r\n    }\r\n\r\n    if (this._resolve) {\r\n      return this._resolve({\r\n        done: false,\r\n        value: message\r\n      })\r\n    }\r\n\r\n    this._queue.push(message)\r\n  }\r\n\r\n  end() {\r\n    this._ended = true\r\n    if (this._resolve) {\r\n      this._resolve({\r\n        done: true\r\n      })\r\n    }\r\n  }\r\n\r\n  next() {\r\n    if (this._ended) {\r\n      return {\r\n        done: true\r\n      }\r\n    }\r\n\r\n    if (this._queue.length) {\r\n      return {\r\n        done: false,\r\n        value: this._queue.shift()\r\n      }\r\n    }\r\n\r\n    return new Promise((resolve) => {\r\n      this._resolve = resolve\r\n    })\r\n  }\r\n}\r\n","'use strict'\r\nimport debug from 'debug'\r\nimport EventEmitter from 'events'\r\nimport pipe from 'it-pipe'\r\n\r\nconst emitter = new EventEmitter()\r\n\r\nfunction handler ({ connection, stream }) {\r\n  const peerId = connection.remotePeer.toB58String()\r\n\r\n  pipe(\r\n    stream,\r\n    async function (source) {\r\n      for await (const message of source) {\r\n        let msg\r\n\r\n        try {\r\n          msg = JSON.parse(message.toString())\r\n        } catch (err) {\r\n          emitter.emit('warning', err.message)\r\n          continue // early\r\n        }\r\n\r\n        if (peerId !== msg.from.id) {\r\n          emitter.emit('warning', 'no peerid match ' + msg.from)\r\n          continue // early\r\n        }\r\n\r\n        const topicIDs = msg.topicIDs\r\n        if (!Array.isArray(topicIDs)) {\r\n          emitter.emit('warning', 'no topic IDs')\r\n          continue // early\r\n        }\r\n\r\n        msg.data = Buffer.from(msg.data, 'hex')\r\n        msg.seqno = Buffer.from(msg.seqno, 'hex')\r\n\r\n        topicIDs.forEach((topic) => {\r\n          emitter.emit(topic, msg)\r\n        })\r\n      }\r\n    }\r\n  )\r\n}\r\n\r\nexport default {\r\n  handler: handler,\r\n  emitter: emitter\r\n}\r\n","import diff from 'hyperdiff'\r\nimport EventEmitter from 'events'\r\nimport { cloneDeep as clone } from 'lodash'\r\nimport PeerId from 'peer-id'\r\nimport { PROTOCOL } from './protocol'\r\nimport Connection from './connection'\r\nimport encoding from './encoding'\r\nimport directConnection from './direct-connection-handler'\r\nimport namedQueryRun from '../../utils/namedQuery'\r\n\r\n\r\nif (typeof window !== \"undefined\") {\r\n  window.PeerId = PeerId\r\n}\r\n\r\n\r\nconst DEFAULT_OPTIONS = {\r\n  pollInterval: 1000\r\n}\r\n\r\nlet index = 0\r\n\r\nexport default class PubSubRoom extends EventEmitter {\r\n  _libp2p: any\r\n  _topic: any\r\n  _options: any\r\n  _peers: any[]\r\n  _connections: any\r\n  _handleMessage: any\r\n  _interval: NodeJS.Timeout\r\n  _idx: number\r\n\r\n  constructor (libp2p, topic, options) {\r\n    super()\r\n    this._libp2p = libp2p.libp2p || libp2p\r\n    this._topic = topic\r\n    this._options = Object.assign({}, clone(DEFAULT_OPTIONS), clone(options))\r\n    this._peers = []\r\n    this._connections = {}\r\n\r\n    this._handleDirectMessage = this._handleDirectMessage.bind(this)\r\n    this._handleMessage = this._onMessage.bind(this)\r\n\r\n    if (!this._libp2p.pubsub) {\r\n      throw new Error('pubsub has not been configured')\r\n    }\r\n\r\n    this._interval = setInterval(\r\n      this._pollPeers.bind(this),\r\n      this._options.pollInterval\r\n    )\r\n\r\n    this._libp2p.handle(PROTOCOL, directConnection.handler)\r\n    directConnection.emitter.on(this._topic, this._handleDirectMessage)\r\n\r\n    this._libp2p.pubsub.subscribe(this._topic, this._handleMessage)\r\n\r\n    this._libp2p.on('peer:discovery', async (peerId) => {\r\n      const tryConnect = async (peerId, tryNumber, tryCounts) => {\r\n        try {\r\n          await this._libp2p.dialer.connectToPeer(peerId)\r\n        } catch (e) {\r\n          if (tryNumber > tryCounts) return\r\n          setTimeout(async () => {\r\n            await tryConnect(peerId, tryNumber+1, tryCounts)\r\n          }, 1000)\r\n        }\r\n      }\r\n      await tryConnect(peerId, 0, 1)\r\n    })\r\n\r\n    this._libp2p.on('error', (error) => {\r\n      console.log('Libp2p error', error)\r\n    })\r\n\r\n    this._idx = index++\r\n  }\r\n\r\n  getPeers () {\r\n    return this._peers.slice(0)\r\n  }\r\n\r\n  hasPeer (peer) {\r\n    return Boolean(this._peers.find(p => p.toString() === peer.toString()))\r\n  }\r\n\r\n  async leave () {\r\n    clearInterval(this._interval)\r\n    Object.keys(this._connections).forEach((peer) => {\r\n      this._connections[peer].stop()\r\n    })\r\n    directConnection.emitter.removeListener(this._topic, this._handleDirectMessage)\r\n    this._libp2p.unhandle(PROTOCOL, directConnection.handler)\r\n    await this._libp2p.pubsub.unsubscribe(this._topic, this._handleMessage)\r\n  }\r\n\r\n  async broadcast (_message) {\r\n    const message = encoding(_message)\r\n\r\n    const peersInTopic = this._libp2p.pubsub.topics.get(this._topic)\r\n    if (peersInTopic) {\r\n      peersInTopic.forEach((peerId) => {\r\n        this.sendTo(peerId, _message)\r\n      })\r\n    }\r\n  }\r\n\r\n  sendTo (peer, message) {\r\n    namedQueryRun({\r\n      name: `libp2p_peer_${peer}`,\r\n      delay: 100,\r\n      func: async () => {\r\n        if (!this._libp2p.peerStore.keyBook.data.has(peer)) {\r\n          return\r\n        }\r\n        const toPeer = this._libp2p.peerStore.keyBook.data.get(peer)\r\n\r\n        let conn = this._connections[peer]\r\n\r\n        if (!conn) {\r\n          conn = new Connection(toPeer, this._libp2p, this)\r\n          conn.on('error', (err) => this.emit('error', err))\r\n          this._connections[peer] = conn\r\n\r\n          conn.once('disconnect', () => {\r\n            delete this._connections[peer]\r\n            this._peers = this._peers.filter((p) => p.toString() !== peer.toString())\r\n            this.emit('peer left', peer)\r\n          })\r\n        }\r\n\r\n        const seqno = Buffer.from([0])\r\n\r\n        const msg = {\r\n          to: toPeer,\r\n          from: this._libp2p.peerId,\r\n          data: Buffer.from(message).toString('hex'),\r\n          seqno: seqno.toString('hex'),\r\n          topicIDs: [this._topic],\r\n          topicCIDs: [this._topic]\r\n        }\r\n\r\n        conn.push(Buffer.from(JSON.stringify(msg)))\r\n      },\r\n    })\r\n  }\r\n\r\n  async _pollPeers () {\r\n    const newPeers = (await this._libp2p.pubsub.getSubscribers(this._topic)).sort()\r\n\r\n    if (this._emitChanges(newPeers)) {\r\n      this._peers = newPeers\r\n    }\r\n  }\r\n\r\n  _emitChanges (newPeers) {\r\n    const differences = diff(this._peers, newPeers)\r\n\r\n    differences.added.forEach((peer) => this.emit('peer joined', peer))\r\n    differences.removed.forEach((peer) => this.emit('peer left', peer))\r\n\r\n    return differences.added.length > 0 || differences.removed.length > 0\r\n  }\r\n\r\n  _onMessage (message) {\r\n\r\n    this.emit('message', message)\r\n  }\r\n\r\n  _handleDirectMessage (message) {\r\n    if (message.to.id === this._libp2p.peerId._idB58String) {\r\n      const m = Object.assign({}, message)\r\n      delete m.to\r\n\r\n      this.emit('message', m)\r\n    }\r\n  }\r\n}\r\n","import debug from 'debug'\r\nimport SwapApp, { constants, Events, ServiceInterface } from 'swap.app'\r\n\r\nimport createP2PNode from '../../common/messaging/pubsubRoom/createP2PNode'\r\nimport p2pRoom from '../../common/messaging/pubsubRoom'\r\n\r\n\r\nclass SwapRoom extends ServiceInterface {\r\n\r\n  _serviceName: string\r\n  _config: any\r\n  _events: any\r\n  peer: any\r\n  connection: any\r\n  roomName: string\r\n\r\n  CheckReceiptsT: any\r\n  //@ts-ignore\r\n  static get name() {\r\n    return 'room'\r\n  }\r\n\r\n  constructor(config) {\r\n    super()\r\n\r\n    if (!config || typeof config !== 'object' || typeof config.config !== 'object') {\r\n      throw new Error('SwapRoomService: \"config\" of type object required')\r\n    }\r\n\r\n    this._serviceName   = 'room'\r\n    this._config        = config\r\n    this._events        = new Events()\r\n    this.peer           = null\r\n    this.connection     = null\r\n    //@ts-ignore: strictNullChecks\r\n    this.roomName       = null\r\n  }\r\n\r\n  initService() {\r\n    const peerIdJson = this.app.env.storage.getItem(\r\n      'libp2p:peerIdJson'\r\n    )\r\n    createP2PNode({\r\n      peerIdJson,\r\n    }).then((p2pNode: any) => {\r\n      // Save PeerId\r\n      this.app.env.storage.setItem(\r\n        'libp2p:peerIdJson',\r\n        p2pNode.peerId.toJSON()\r\n      )\r\n      // Start p2p node\r\n      p2pNode.start().then(async () => {\r\n        this._init({\r\n          peer: {\r\n            id: p2pNode.peerId._idB58String,\r\n          },\r\n          p2pConnection: p2pNode,\r\n        })\r\n      }).catch((error) => {\r\n        console.log('Fail start p2pnode', error)\r\n      })\r\n    })\r\n  }\r\n\r\n\r\n  _init({ peer, p2pConnection }) {\r\n    console.info('Room: init...')\r\n    if (!p2pConnection) {\r\n      setTimeout(() => {\r\n        this._init({ peer, p2pConnection })\r\n      }, 999)\r\n      return\r\n    }\r\n\r\n    this.peer = peer.id\r\n\r\n    const defaultRoomName = this.app.env.isTest ? 'tests.swap.online'\r\n      : this.app.isMainNet()\r\n        ?  'swap.online'\r\n        :  'testnet-tt.swap.online'\r\n\r\n    this.roomName = this._config.roomName || defaultRoomName\r\n\r\n    debug('swap.core:room')(`Using room: ${this.roomName}`)\r\n\r\n    this.connection = new p2pRoom(p2pConnection, this.roomName, {\r\n      pollInterval: 1000,\r\n    })\r\n\r\n    this.connection.isOnline = () => {\r\n      console.log('Call pubsubRoom isOnline')\r\n      // @ToDo - may be use isStarted\r\n      return true\r\n    }\r\n\r\n    this.connection.on('peer joined', this._handleUserOnline)\r\n    this.connection.on('peer left', this._handleUserOffline)\r\n    this.connection.on('message', this._handleNewMessage)\r\n\r\n    this._events.dispatch('ready')\r\n    console.info(`Room: ready! (${this.roomName})`)\r\n  }\r\n\r\n  _handleUserOnline = (peer) => {\r\n    if (peer !== this.peer) {\r\n      this._events.dispatch('user online', peer)\r\n    }\r\n  }\r\n\r\n  _handleUserOffline = (peer) => {\r\n    if (peer !== this.peer) {\r\n      this._events.dispatch('user offline', peer)\r\n    }\r\n  }\r\n\r\n  _handleNewMessage = (message) => {\r\n    const { from, data: rawData } = message\r\n    debug('swap.verbose:room')('message from', from)\r\n\r\n\r\n    if (from === this.peer) {\r\n      return\r\n    }\r\n\r\n    let parsedData\r\n\r\n    try {\r\n      parsedData = JSON.parse(rawData.toString())\r\n    } catch (err) {\r\n      console.error('parse message data err:', err)\r\n    }\r\n\r\n    const { fromAddress, data, sign, event, action } = parsedData\r\n\r\n    if (!data) {\r\n      return\r\n    }\r\n\r\n    debug('swap.verbose:room')('data:', parsedData)\r\n\r\n    const recover = this._recoverMessage(data, sign)\r\n\r\n    if (recover !== fromAddress) {\r\n      console.error(`Wrong message sign! Message from: ${fromAddress}, recover: ${recover}`)\r\n      return\r\n    }\r\n\r\n    if (action === 'active') {\r\n      this.acknowledgeReceipt(parsedData)\r\n    }\r\n\r\n    this._events.dispatch(event, {\r\n      fromPeer: from.id,\r\n      ...data,\r\n    })\r\n  }\r\n\r\n  on(eventName, handler) {\r\n    this._events.subscribe(eventName, handler)\r\n    return this\r\n  }\r\n\r\n  off(eventName, handler) {\r\n    this._events.unsubscribe(eventName, handler)\r\n    return this\r\n  }\r\n\r\n  once(eventName, handler) {\r\n    this._events.once(eventName, handler)\r\n    return this\r\n  }\r\n\r\n  subscribe(eventName, handler) {\r\n    this._events.subscribe(eventName, handler)\r\n    return this\r\n  }\r\n\r\n  unsubscribe(eventName, handler) {\r\n    this._events.unsubscribe(eventName, handler)\r\n    return this\r\n  }\r\n\r\n  _recoverMessage(message, sign) {\r\n    const hash      = this.app.env.web3.utils.soliditySha3(JSON.stringify(message))\r\n    const recover   = this.app.env.web3.eth.accounts.recover(hash, sign.signature)\r\n\r\n    return recover\r\n  }\r\n\r\n  _signMessage(message) {\r\n    const hash  = this.app.env.web3.utils.soliditySha3(JSON.stringify(message))\r\n    const sign  = this.app.env.web3.eth.accounts.sign(hash, this.app.services.auth.accounts.eth.privateKey)\r\n\r\n    return sign\r\n  }\r\n\r\n  checkReceiving(message, callback) {\r\n    let address = message.fromAddress\r\n\r\n    const waitReceipt = (data) => {\r\n      if (!data.action || data.action !== 'confirmation') {\r\n        return\r\n      }\r\n\r\n      if (JSON.stringify(message.data) === JSON.stringify(data.message)) {\r\n        this.unsubscribe(address, waitReceipt)\r\n\r\n        if (this.CheckReceiptsT[message.peer]) {\r\n          clearTimeout(this.CheckReceiptsT[message.peer])\r\n        }\r\n\r\n        callback(true)\r\n      }\r\n    }\r\n\r\n    this.subscribe(address, waitReceipt)\r\n\r\n    if (!this.CheckReceiptsT) {\r\n      this.CheckReceiptsT = {}\r\n    }\r\n\r\n    this.CheckReceiptsT[message.peer] = setTimeout(() => {\r\n      this.unsubscribe(address, waitReceipt)\r\n\r\n      callback(false)\r\n    }, 15000)\r\n  }\r\n\r\n  sendConfirmation(peer, message, callback = null, repeat = 9) {\r\n    if (!this.connection) {\r\n      setTimeout(() => {\r\n        this.sendConfirmation(peer, message, callback, repeat)\r\n      }, 1000)\r\n      return\r\n    }\r\n\r\n    if (message.action === 'confirmation' && peer !== this.peer) {\r\n      return\r\n    }\r\n\r\n    message = this.sendMessagePeer(peer, message)\r\n\r\n    this.checkReceiving(message, delivered => {\r\n      if (!delivered && repeat > 0) {\r\n        repeat--\r\n        setTimeout(() => {\r\n          this.sendConfirmation(peer, message, callback, repeat)\r\n        }, 1000)\r\n        return\r\n      }\r\n\r\n      if (typeof callback === 'function') {\r\n        //@ts-ignore: strictNullChecks\r\n        callback(delivered)\r\n      }\r\n    })\r\n  }\r\n\r\n  acknowledgeReceipt(message) {\r\n    if (!message.peer || !message.action\r\n      || message.action  === 'confirmation'\r\n      || message.action  === 'active') {\r\n      return\r\n    }\r\n\r\n    const { fromAddress, data } = message\r\n\r\n    this.sendMessagePeer(fromAddress, {\r\n      action  : 'confirmation',\r\n      data,\r\n    })\r\n  }\r\n\r\n  sendMessagePeer(peer, message) {\r\n    if (!this.connection) {\r\n      if (message.action !== 'active') {\r\n        setTimeout(() => {\r\n          this.sendMessagePeer(peer, message)\r\n        }, 999)\r\n      }\r\n      return\r\n    }\r\n\r\n    debug('swap.verbose:room')('sent message to peer', peer)\r\n    // debug('swap.verbose:room')('message', message)\r\n\r\n    const { data, event }  = message\r\n    const sign = this._signMessage(data)\r\n\r\n    this.connection.sendTo(peer, JSON.stringify({\r\n      fromAddress: this.app.services.auth.accounts.eth.address,\r\n      data,\r\n      event,\r\n      sign,\r\n    }))\r\n\r\n    return message\r\n  }\r\n\r\n  sendMessageRoom(message) {\r\n    if (!this.connection) {\r\n      setTimeout(() => {\r\n        this.sendMessageRoom(message)\r\n      }, 1000)\r\n      return\r\n    }\r\n\r\n    const { data, event } = message\r\n    const sign = this._signMessage(data)\r\n\r\n    this.connection.broadcast(JSON.stringify({\r\n      fromAddress: this.app.services.auth.accounts.eth.address,\r\n      data,\r\n      event,\r\n      sign,\r\n    }))\r\n  }\r\n}\r\n\r\n\r\nexport default SwapRoom\r\n","import Libp2p from 'libp2p'\r\nimport wrtc from 'wrtc'\r\nimport WebrtcStar from 'libp2p-webrtc-star'\r\nimport Bootstrap from 'libp2p-bootstrap'\r\nimport Gossipsub from 'libp2p-gossipsub'\r\nimport KadDHT from 'libp2p-kad-dht'\r\nimport MPLEX from 'libp2p-mplex'\r\nimport SECIO from 'libp2p-secio'\r\nimport PeerId from 'peer-id'\r\n\r\n\r\nconst createP2PNode = (options) => {\r\n  const {\r\n    listen,\r\n    discoveryPeers,\r\n    peerIdJson,\r\n  } = options\r\n\r\n  const defaultListen = [\r\n    //'/ip4/0.0.0.0/tcp/4002',\r\n    //'/dns4/webrtc-star-1.swaponline.io/tcp/443/wss/p2p-webrtc-star/',\r\n    //'/dns4/webrtc-star.discovery.libp2p.io/tcp/443/wss/p2p-webrtc-star/',\r\n    //'/dns4/secure-beyond-12878.herokuapp.com/tcp/443/wss/p2p-webrtc-star/',\r\n    //'/dns4/wrtc-star2.sjc.dwebops.pub/tcp/443/wss/p2p-webrtc-star/'\r\n    '/dns4/star.wpmix.net/tcp/443/wss/p2p-webrtc-star/',\r\n  ]\r\n\r\n  const defaultDiscoveryPeers = [\r\n    '/dns4/ams-1.bootstrap.libp2p.io/tcp/443/wss/p2p/QmSoLer265NRgSp2LA3dPaeykiS1J6DifTC88f5uVQKNAd',\r\n    '/dns4/lon-1.bootstrap.libp2p.io/tcp/443/wss/p2p/QmSoLMeWqB7YGVLJN3pNLQpmmEk35v6wYtsMGLzSr5QBU3',\r\n    '/dns4/sfo-3.bootstrap.libp2p.io/tcp/443/wss/p2p/QmSoLPppuBtQSGwKDZT2M73ULpjvfd3aZ6ha4oFGL1KrGM',\r\n    '/dns4/sgp-1.bootstrap.libp2p.io/tcp/443/wss/p2p/QmSoLSafTMBsPKadTEgaXctDQVcqN88CNLHXMkTNwMKPnu',\r\n    '/dns4/nyc-1.bootstrap.libp2p.io/tcp/443/wss/p2p/QmSoLueR4xBeUbY9WZ9xGUUxunbKWcrNFTDAadQJmocnWm',\r\n    '/dns4/nyc-2.bootstrap.libp2p.io/tcp/443/wss/p2p/QmSoLV4Bbm51jM9C4gDYZQ9Cy3U6aXMJDAbzgu2fzaDs64',\r\n  ]\r\n\r\n  /*\r\n    ipfs discovery peers\r\n    0: \"/dns4/ams-1.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLer265NRgSp2LA3dPaeykiS1J6DifTC88f5uVQKNAd\"\r\n    1: \"/dns4/lon-1.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLMeWqB7YGVLJN3pNLQpmmEk35v6wYtsMGLzSr5QBU3\"\r\n    2: \"/dns4/sfo-3.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLPppuBtQSGwKDZT2M73ULpjvfd3aZ6ha4oFGL1KrGM\"\r\n    3: \"/dns4/sgp-1.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLSafTMBsPKadTEgaXctDQVcqN88CNLHXMkTNwMKPnu\"\r\n    4: \"/dns4/nyc-1.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLueR4xBeUbY9WZ9xGUUxunbKWcrNFTDAadQJmocnWm\"\r\n    5: \"/dns4/nyc-2.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLV4Bbm51jM9C4gDYZQ9Cy3U6aXMJDAbzgu2fzaDs64\"\r\n    6: \"/dns4/node0.preload.ipfs.io/tcp/443/wss/ipfs/QmZMxNdpMkewiVZLMRxaNxUeZpDUb34pWjZ1kZvsd16Zic\"\r\n    7: \"/dns4/node1.preload.ipfs.io/tcp/443/wss/ipfs/Qmbut9Ywz9YEDrz8ySBSgWyJk41Uvm2QJPhwDJzJyGFsD6\"\r\n  */\r\n\r\n  // Build and return our libp2p node\r\n  return new Promise(async (resolve, reject) => {\r\n    // Generate peerId\r\n    let peerId = null\r\n    if (peerIdJson) {\r\n      try {\r\n        //@ts-ignore: strictNullChecks\r\n        peerId = await PeerId.createFromJSON(peerIdJson)\r\n      } catch (e) {}\r\n    }\r\n\r\n    if (!peerId) {\r\n      //@ts-ignore: strictNullChecks\r\n      peerId = await PeerId.create()\r\n    }\r\n\r\n    //@ts-ignore: strictNullChecks\r\n    console.log('Peer id:', peerId._idB58String)\r\n\r\n    const p2pNode = new Libp2p({\r\n      //@ts-ignore: strictNullChecks\r\n      peerId,\r\n      addresses: {\r\n        listen: (listen || defaultListen),\r\n      },\r\n      modules: {\r\n        transport: [WebrtcStar],\r\n        streamMuxer: [MPLEX],\r\n        connEncryption: [SECIO],\r\n        peerDiscovery: [Bootstrap],\r\n        dht: KadDHT,\r\n        // @ts-ignore\r\n        pubsub: Gossipsub\r\n      },\r\n      dialer: {\r\n        // @ts-ignore\r\n        maxParallelDials: 100,\r\n        maxDialsPerPeer: 100,\r\n        dialTimeout: 30e3\r\n      },\r\n      connectionManager: {\r\n        maxConnections: Infinity,\r\n        minConnections: Infinity,\r\n        maxData: Infinity,\r\n        maxSentData: Infinity,\r\n        maxReceivedData: Infinity,\r\n        maxEventLoopDelay: Infinity,\r\n        pollInterval: 2000,\r\n        autoDialInterval: 5000,\r\n        movingAverageInterval: 1000,\r\n        defaultPeerValue: 1\r\n      },\r\n      config: {\r\n        transport: {\r\n          [WebrtcStar.prototype[Symbol.toStringTag]]: {\r\n            wrtc\r\n          }\r\n        },\r\n        peerDiscovery: {\r\n          autoDial: true,\r\n          webRTCStar: {\r\n            enabled: true\r\n          },\r\n          bootstrap: {\r\n            enabled: true,\r\n            interval: 1e3,\r\n            list: discoveryPeers || defaultDiscoveryPeers,\r\n          },\r\n        },\r\n        relay: {\r\n          enabled: true,\r\n          hop: {\r\n            enabled: true,\r\n            active: true,\r\n          }\r\n        },\r\n        dht: {\r\n          enabled: true,\r\n          randomWalk: {\r\n            enabled: true,\r\n          }\r\n        }\r\n      }\r\n    })\r\n    resolve(p2pNode)\r\n  })\r\n}\r\n\r\n\r\nexport default createP2PNode\r\n","import SwapRoom from './SwapRoom'\r\n\r\n\r\nexport default SwapRoom\r\n","/*\r\n Allows multiple extending\r\n */\r\n\r\nconst aggregation = (baseClass, ...mixins) => {\r\n\r\n  const base = class _Combined extends baseClass {\r\n\r\n    constructor(...args) {\r\n      super(...args)\r\n\r\n      mixins.forEach((mixin) => {\r\n        mixin.prototype._constructor.call(this)\r\n      })\r\n    }\r\n  }\r\n\r\n  const copyProps = (target, source) => {\r\n    Object.getOwnPropertyNames(source)\r\n      //@ts-ignore\r\n      .concat(Object.getOwnPropertySymbols(source))\r\n      .forEach((prop) => {\r\n        if (prop.match(/^(?:_?constructor|prototype|arguments|caller|name|bind|call|apply|toString|length)$/)) {\r\n          return\r\n        }\r\n\r\n        //@ts-ignore: strictNullChecks\r\n        Object.defineProperty(target, prop, Object.getOwnPropertyDescriptor(source, prop))\r\n      })\r\n  }\r\n\r\n  mixins.forEach((mixin) => {\r\n    copyProps(base.prototype, mixin.prototype)\r\n    copyProps(base, mixin)\r\n  })\r\n\r\n  return base\r\n}\r\n\r\n\r\nexport default aggregation\r\n","import { Events } from 'swap.app'\r\n\r\n\r\nexport default new Events()\r\n","import debug from 'debug'\r\nimport SwapApp from 'swap.app'\r\nimport BigNumber from 'bignumber.js'\r\nimport events from './events'\r\n\r\n\r\nclass Order {\r\n\r\n  id: string\r\n  isMy: any\r\n  isTurbo: boolean\r\n  owner: any\r\n  participant: any\r\n  buyCurrency: any\r\n  buyBlockchain: any\r\n  exchangeRate: any\r\n  sellCurrency: any\r\n  sellBlockchain: any\r\n  buyAmount: any\r\n  sellAmount: any\r\n  collection: any\r\n  requests: any\r\n  isRequested: any\r\n  isProcessing: any\r\n  isPartial: any\r\n  isHidden: any\r\n  partialHandler: any\r\n  destination: any\r\n  app: any\r\n\r\n  /**\r\n   *\r\n   * @param {object}  parent\r\n   * @param {object}  data\r\n   * @param {string}  data.id\r\n   * @param {object}  data.owner\r\n   * @param {string}  data.owner.peer\r\n   * @param {number}  data.owner.reputation\r\n   * @param {object}  data.owner.<currency>\r\n   * @param {string}  data.owner.<currency>.address\r\n   * @param {string}  data.owner.<currency>.publicKey\r\n   * @param {string}  data.buyCurrency\r\n   * @param {string}  data.sellCurrency\r\n   * @param {number}  data.buyAmount\r\n   * @param {number}  data.sellAmount\r\n   */\r\n  constructor(app, parentCollection, data) {\r\n    this.id             = data.id\r\n    this.isMy           = null\r\n    //@ts-ignore: strictNullChecks\r\n    this.isTurbo        = null\r\n    this.owner          = null\r\n    this.participant    = null\r\n    this.buyCurrency    = null\r\n    this.buyBlockchain  = null\r\n    this.exchangeRate   = null\r\n    this.sellCurrency   = null\r\n    this.sellBlockchain = null\r\n    this.buyAmount      = null\r\n    this.sellAmount     = null\r\n\r\n    this.collection       = parentCollection\r\n    this.requests         = [] // income requests\r\n    this.isRequested      = false // outcome request status\r\n    this.isProcessing     = false // if swap isProcessing\r\n    this.isPartial        = false\r\n    this.isHidden         = false\r\n\r\n    this.partialHandler   = {\r\n      buyAmount: () => false,\r\n      sellAmount: () => false,\r\n    }\r\n\r\n    this.destination = null\r\n\r\n\r\n    this._attachSwapApp(app)\r\n\r\n    this._update({\r\n      ...data,\r\n      isMy: data.owner.peer === this.app.services.room.peer,\r\n    })\r\n\r\n    this._onMount()\r\n  }\r\n\r\n  _attachSwapApp(app) {\r\n    SwapApp.required(app)\r\n\r\n    this.app = app\r\n  }\r\n\r\n  _onMount() {\r\n    this.app.services.room.on('request swap', ({ orderId, participant, participantMetadata, destination }) => {\r\n      if (orderId === this.id /*&& this.requests.length < 10*/ && !this.requests.find(({ participant: { peer } }) => peer === participant.peer)) {\r\n        let reputation = 0\r\n\r\n        try {\r\n          // todo: check other blockchains\r\n          if (participant.eth.address === participantMetadata.address || participant.btc.address === participantMetadata.address) {\r\n            reputation = this.app.env.swapsExplorer.getVerifiedReputation(participantMetadata)\r\n          }\r\n        } catch (err) {\r\n          debug('swap.core:order')(err)\r\n        }\r\n\r\n        this.requests.push({\r\n          participant,\r\n          destination,\r\n          reputation,\r\n          isPartial: false,\r\n        })\r\n\r\n        events.dispatch('new order request', {\r\n          orderId,\r\n          participant,\r\n          destination,\r\n          participantMetadata,\r\n        })\r\n      }\r\n    })\r\n\r\n    this.app.services.room.on('request partial fulfilment', ({ orderId, participant, participantMetadata, destination, updatedOrder }) => {\r\n      console.log('<- request partial fulfilment')\r\n      if (orderId === this.id) {\r\n        const { buyAmount, sellAmount } = updatedOrder\r\n\r\n        // todo: add check reputation like as 'request swap'\r\n        let reputation = 0\r\n\r\n        const filteredUpdatedOrder = {\r\n          buyAmount,\r\n          sellAmount,\r\n        }\r\n\r\n        this.requests.push({\r\n          participant,\r\n          destination,\r\n          updatedOrder: filteredUpdatedOrder,\r\n        })\r\n\r\n        events.dispatch('new partial fulfilment request', {\r\n          orderId,\r\n          participant,\r\n          updatedOrder: filteredUpdatedOrder,\r\n        })\r\n\r\n        this._autoReplyToPartial('buyAmount', filteredUpdatedOrder, participant)\r\n        this._autoReplyToPartial('sellAmount', filteredUpdatedOrder, participant)\r\n      }\r\n    })\r\n  }\r\n\r\n  _update(values) {\r\n    Object.keys(values).forEach((key) => {\r\n      this[key] = values[key]\r\n    })\r\n  }\r\n\r\n  update(values) {\r\n    this._update(values)\r\n    this.collection._saveMyOrders()\r\n\r\n    events.dispatch('swap update', this, values)\r\n  }\r\n\r\n  _autoReplyToPartial(changedKey, updatedOrder, participant) {\r\n    console.log('>>> _autoReplyToPartial')\r\n    if (!this.isPartial) {\r\n      return\r\n    }\r\n\r\n    if (!updatedOrder[changedKey]) {\r\n      return\r\n    }\r\n\r\n    updatedOrder[changedKey] = new BigNumber(updatedOrder[changedKey])\r\n\r\n    if (this[changedKey].comparedTo(updatedOrder[changedKey]) === 0) {\r\n      return\r\n    }\r\n\r\n    const handler = this.partialHandler[changedKey]\r\n\r\n    if (typeof handler !== 'function') {\r\n      return\r\n    }\r\n\r\n    if (!participant) return\r\n\r\n    const { peer } = participant\r\n\r\n    const newOrder = handler(updatedOrder, this)\r\n\r\n    if (!newOrder || !newOrder.buyAmount || !newOrder.sellAmount) {\r\n      this.declineRequestForPartial(participant.peer)\r\n    } else {\r\n      const { buyAmount, sellAmount } = newOrder\r\n\r\n      this.acceptRequestForPartial({ buyAmount, sellAmount }, participant.peer)\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param callback - awaiting for response - accept / decline\r\n   */\r\n  sendRequest(callback, requestOptions) {\r\n    const self = this\r\n\r\n    const {\r\n      address: destinationAddress,\r\n      participantMetadata,\r\n    } = requestOptions\r\n\r\n    if (this.app.services.room.peer === this.owner.peer) {\r\n      console.warn('You are the owner of this Order. You can\\'t send request to yourself.')\r\n      return\r\n    }\r\n\r\n    if (this.isRequested) {\r\n      console.warn('You have already requested this swap.')\r\n      return\r\n    }\r\n\r\n    this.update({\r\n      isRequested: true,\r\n    })\r\n\r\n    const participant = this.app.services.auth.getPublicData()\r\n\r\n    this.app.services.room.sendMessagePeer(this.owner.peer, {\r\n      event: 'request swap',\r\n      data: {\r\n        orderId: this.id,\r\n        participant,\r\n        participantMetadata,\r\n        destination: {\r\n          address: destinationAddress,\r\n        },\r\n      },\r\n    })\r\n\r\n    this.app.services.room.on('accept swap request', function ({ orderId }) {\r\n      if (orderId === self.id) {\r\n        this.unsubscribe()\r\n\r\n        self.update({\r\n          isProcessing: true,\r\n          isRequested: false,\r\n          destination: {\r\n            ...self.destination,\r\n            participantAddress: destinationAddress,\r\n          },\r\n        })\r\n\r\n        callback(true)\r\n      }\r\n    })\r\n\r\n    this.app.services.room.on('decline swap request', function ({ orderId }) {\r\n      if (orderId === self.id) {\r\n        this.unsubscribe()\r\n\r\n        self.update({\r\n          isRequested: false,\r\n        })\r\n\r\n        // TODO think about preventing user from sent requests every N seconds\r\n        callback(false)\r\n      }\r\n    })\r\n  }\r\n\r\n  acceptRequest(participantPeer) {\r\n    const { participant, destination } = this.requests.find(({ participant: { peer } }) => peer === participantPeer)\r\n\r\n    const { address } = destination\r\n\r\n    this.update({\r\n      isRequested: false,\r\n      isProcessing: true,\r\n      participant,\r\n      destination: {\r\n        ...this.destination,\r\n        participantAddress: address,\r\n      },\r\n      requests: [],\r\n    })\r\n\r\n    this.app.services.room.sendMessagePeer(participantPeer, {\r\n      event: 'accept swap request',\r\n      data: {\r\n        orderId: this.id,\r\n      },\r\n    })\r\n  }\r\n\r\n  declineRequest(participantPeer) {\r\n    const updatedRequests = this.requests.filter(({ participant: { peer } }) => {\r\n      return peer !== participantPeer\r\n    })\r\n\r\n    this.update({\r\n      isRequested: false,\r\n      requests: updatedRequests,\r\n    })\r\n\r\n    this.app.services.room.sendMessagePeer(participantPeer, {\r\n      event: 'decline swap request',\r\n      data: {\r\n        orderId: this.id,\r\n      },\r\n    })\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param updatedOrder.buyAmount - optional String\r\n   * @param updatedOrder.sellAmount - optional String\r\n   * @param callback - callback will receive updated order\r\n   * @param conditionHandler - autoreply to new order proposal\r\n   */\r\n  sendRequestForPartial(updatedOrder, requestOptions, callback, conditionHandler) {\r\n    console.log('>>> sendRequestForPartial')\r\n    console.log('updatedOrder', updatedOrder)\r\n    console.log('requestOptions', requestOptions)\r\n    if (!this.isPartial) {\r\n      throw new Error(`Cant request partial fulfilment for order ${this.id}`)\r\n    }\r\n\r\n    const { buyAmount, sellAmount } = updatedOrder\r\n    updatedOrder = { buyAmount, sellAmount }\r\n\r\n    if (!updatedOrder) {\r\n      throw new Error(`No buyAmount, sellAmount given. Exit partial`)\r\n    }\r\n\r\n    const self = this\r\n\r\n    if (this.app.services.room.peer === this.owner.peer) {\r\n      console.error('You are the owner of this Order. You can\\'t send request to yourself.')\r\n      return\r\n    }\r\n\r\n    const {\r\n      address: destinationAddress,\r\n      participantMetadata,\r\n    } = requestOptions\r\n\r\n    const participant = this.app.services.auth.getPublicData()\r\n\r\n    //console.log('-> request partial fulfilment')\r\n\r\n    this.app.services.room.sendMessagePeer(this.owner.peer, {\r\n      event: 'request partial fulfilment',\r\n      data: {\r\n        orderId: this.id,\r\n        participant,\r\n        participantMetadata,\r\n        destination: {\r\n          address: destinationAddress,\r\n        },\r\n        updatedOrder,\r\n      },\r\n    })\r\n\r\n    this.app.services.room.on('accept partial fulfilment', function ({ orderId, newOrderId, newOrder }) {\r\n      console.log('<- accept partial fulfilment')\r\n      if (orderId === self.id) {\r\n        this.unsubscribe()\r\n        //console.log('orderId', orderId)\r\n        //console.log('newOrderId', newOrderId)\r\n        // locate new order\r\n        //console.log('collection = ', self.collection)\r\n        const newOrder = self.collection.getByKey(newOrderId)\r\n\r\n        if (!newOrder) {\r\n          console.error('Party created no order with id =', newOrderId)\r\n          return callback(null, false)\r\n        }\r\n\r\n        // check that values match updatedOrder and old order\r\n        const ok = newOrder.buyCurrency === self.buyCurrency\r\n                && newOrder.sellCurrency === self.sellCurrency\r\n\r\n        if (!ok) {\r\n          return callback(newOrder, false)\r\n        }\r\n\r\n        // if condition to check is not given,\r\n        // we need logic on client app side\r\n        if (typeof conditionHandler !== 'function') {\r\n          // TODO: pass destination and participantMetadata\r\n          return callback(newOrder)\r\n        }\r\n\r\n        // else, we can start swap automatically\r\n        const newOrderIsGood = conditionHandler(self, newOrder)\r\n\r\n        if (newOrderIsGood) {\r\n          // request that new order\r\n          newOrder.sendRequest(accepted => callback(newOrder, accepted), requestOptions)\r\n        } else {\r\n          callback(newOrder, false)\r\n        }\r\n      }\r\n    })\r\n\r\n    this.app.services.room.on('decline partial fulfilment', function ({ orderId }) {\r\n      console.log('<- decline partial fulfilment')\r\n      if (orderId === self.id) {\r\n        this.unsubscribe()\r\n\r\n        // TODO think about preventing user from sent requests every N seconds\r\n        callback(null, false)\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {Object} newValues - { buyAmount, sellAmount } - new order values\r\n   * @param {String} participantPeer - participant peer id\r\n   */\r\n  acceptRequestForPartial(newValues, participantPeer) {\r\n    console.log('>>> acceptRequestForPartial() newValues =', newValues)\r\n    const { buyCurrency, sellCurrency, isTurbo, buyBlockchain, sellBlockchain } = this\r\n    const { buyAmount, sellAmount } = newValues\r\n\r\n    const updatedRequests = this.requests.filter(({ participant: { peer } }) => {\r\n      return peer !== participantPeer\r\n    })\r\n\r\n    this.update({\r\n      isRequested: false,\r\n      requests: updatedRequests,\r\n    })\r\n\r\n    console.log('Create new partial order...')\r\n\r\n    const newOrder = this.collection.create({\r\n      buyAmount,\r\n      sellAmount,\r\n      buyCurrency,\r\n      buyBlockchain,\r\n      sellCurrency,\r\n      sellBlockchain,\r\n      isTurbo\r\n    })\r\n\r\n    console.log('new order = ', newOrder)\r\n    console.log('and collection = ', this.collection)\r\n    console.log('send to peer ', {\r\n      orderId: this.id,\r\n      newOrderId: newOrder.id,\r\n    })\r\n\r\n    console.log('-> accept partial fulfilment')\r\n\r\n    this.app.services.room.sendMessagePeer(participantPeer, {\r\n      event: 'accept partial fulfilment',\r\n      data: {\r\n        orderId: this.id,\r\n        newOrderId: newOrder.id,\r\n      },\r\n    })\r\n  }\r\n\r\n  declineRequestForPartial(participantPeer) {\r\n    // TODO this removes all requests, we need to remove only one referenced\r\n    const updatedRequests = this.requests.filter(({ participant: { peer } }) => {\r\n      return peer !== participantPeer\r\n    })\r\n\r\n    this.update({\r\n      isRequested: false,\r\n      requests: updatedRequests,\r\n    })\r\n\r\n    this.app.services.room.sendMessagePeer(participantPeer, {\r\n      event: 'decline partial fulfilment',\r\n      data: {\r\n        orderId: this.id,\r\n      },\r\n    })\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {String} type - ['buyAmount','sellAmount']\r\n   * @param {function} handler - function to be called on partial request to that order\r\n   */\r\n  setRequestHandlerForPartial(type, handler) {\r\n    if (!this.isMy) {\r\n      throw new Error(`RequestHandlerError: Not an owner`)\r\n    }\r\n    if (type !== 'buyAmount' && type !== 'sellAmount') {\r\n      throw new Error(`RequestHandlerError: Key = '${type}' is not in ['buyAmount','sellAmount']`)\r\n    }\r\n\r\n    this.partialHandler[type] = handler\r\n\r\n    return this\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\nexport default Order\r\n","/*\r\n\r\n# Visible makers whitelist\r\n\r\nuseful for dev or custom builds (private room)\r\n\r\ntodo: read it from WP settings\r\n\r\nThe list is empty? => any maker will be allowed\r\n*/\r\n\r\nexport default [\r\n  // add peer ids:\r\n  // 'Q...',\r\n]\r\n","import debug from 'debug'\r\nimport BigNumber from 'bignumber.js'\r\nimport SwapApp, { Collection, ServiceInterface, util, constants } from 'swap.app'\r\nimport SwapRoom from 'swap.room'\r\nimport aggregation from './aggregation'\r\nimport events from './events'\r\nimport Order from './Order'\r\nimport visibleMakers from 'common/whitelists/visibleMakers'\r\nimport getCoinInfo from 'common/coins/getCoinInfo'\r\n\r\n\r\nconst checkIncomeOrderFormat = (order) => {\r\n  // Skip unknown currencies\r\n  if (order && order.buyCurrency && !util.typeforce.isCoinName(order.buyCurrency)) {\r\n    return false\r\n  }\r\n  if (order && order.sellCurrency && !util.typeforce.isCoinName(order.sellCurrency)) {\r\n    return false\r\n  }\r\n\r\n  const format = {\r\n    id: '?String',\r\n    owner: {\r\n      peer: 'String',\r\n      reputation: util.typeforce.t.maybe(util.typeforce.isNumeric),\r\n      ...(() => {\r\n        const result = {}\r\n        Object.keys(constants.COINS).forEach((key) => {\r\n          result[key] = util.typeforce.t.maybe({\r\n            address: util.typeforce.isCoinAddress[constants.COINS[key]],\r\n            publicKey: util.typeforce.isPublicKey[constants.COINS[key]],\r\n          })\r\n        })\r\n        return result\r\n      })(),\r\n    },\r\n    sellCurrency: util.typeforce.isCoinName,\r\n    sellBlockchain: '?String',\r\n    sellAmount: util.typeforce.isNumeric,\r\n    buyCurrency: util.typeforce.isCoinName,\r\n    buyBlockchain: '?String',\r\n    buyAmount: util.typeforce.isNumeric,\r\n    exchangeRate: util.typeforce.t.maybe(util.typeforce.isNumeric),\r\n    isProcessing: '?Boolean',\r\n    isRequested: '?Boolean',\r\n    isPartial: '?Boolean',\r\n    isTurbo: '?Boolean',\r\n    isHidden: '?Boolean',\r\n    destination: util.typeforce.t.maybe({\r\n      ownerAddress: '?String',\r\n      participantAddress: '?String',\r\n    }),\r\n  }\r\n\r\n  const isValid = util.typeforce.check(format, order, true)\r\n\r\n  if (!isValid) {\r\n    debug('swap.core:orders')('Wrong income order format. Excepted:', format, 'got:', order)\r\n  }\r\n\r\n  return isValid\r\n}\r\n\r\nconst checkIncomeOrderOwner = ({ owner: { peer } }, fromPeer) =>\r\n  peer === fromPeer\r\n\r\n\r\nconst checkIncomeOrderWhitelisted = ({ owner: { peer } }) => {\r\n  //@ts-ignore: strictNullChecks\r\n  return !visibleMakers.length || visibleMakers.includes(peer)\r\n}\r\n\r\nconst checkIncomeOrder = (order, fromPeer) => {\r\n  const isFormatValid = checkIncomeOrderFormat(order)\r\n  const isOwnerValid = checkIncomeOrderOwner(order, fromPeer)\r\n  const isOwnerWhitelisted = checkIncomeOrderWhitelisted(order)\r\n\r\n  return isFormatValid && isOwnerValid && isOwnerWhitelisted\r\n}\r\n\r\n\r\nclass SwapOrders extends aggregation(ServiceInterface, Collection) {\r\n\r\n  _serviceName: string\r\n  getUniqueId: any\r\n  _dependsOn: any\r\n\r\n  //@ts-ignore\r\n  static get name() {\r\n    return 'orders'\r\n  }\r\n\r\n  constructor() {\r\n    super()\r\n\r\n    this._serviceName = 'orders'\r\n    this._dependsOn   = [ SwapRoom ]\r\n\r\n    this.getUniqueId = () => {}\r\n  }\r\n\r\n  initService() {\r\n    this.app.services.room.on('ready', this._handleReady)\r\n    this.app.services.room.on('user online', this._handleUserOnline)\r\n    this.app.services.room.on('user offline', this._handleUserOffline)\r\n    this.app.services.room.on('new orders', this._handleNewOrders)\r\n    this.app.services.room.on('give orders', this._handleGiveOrders)\r\n    this.app.services.room.on('new order', this._handleNewOrder)\r\n    this.app.services.room.on('remove order', this._handleRemoveOrder)\r\n    this.app.services.room.on('hide orders', this._handleHideOrders)\r\n    this.app.services.room.on('show orders', this._handleShowOrders)\r\n\r\n    this.getUniqueId = (() => {\r\n      let id = Date.now()\r\n      return () => `${this.app.services.room.peer}-${++id}`\r\n    })()\r\n  }\r\n\r\n  _handleReady = () => {\r\n    this._persistMyOrders()\r\n  }\r\n\r\n  _handleHideOrders = ({ fromPeer }) => {\r\n    this.items.forEach((order) => {\r\n      if (order && order.owner && order.owner.peer === fromPeer) {\r\n        order.isHidden = true\r\n      }\r\n    })\r\n  }\r\n\r\n  _handleShowOrders = ({ fromPeer }) => {\r\n    this.items.forEach((order) => {\r\n      if (order && order.owner && order.owner.peer === fromPeer) {\r\n        order.isHidden = false\r\n      }\r\n    })\r\n  }\r\n\r\n  _handleGiveOrders = ({ fromPeer }) => {\r\n    this._sendOrdersToPeer(fromPeer)\r\n  }\r\n\r\n  _sendOrdersToPeer = (peer) => {\r\n    let myOrders = this.getMyOrders()\r\n    if (myOrders.length) {\r\n      // clean orders from other additional props\r\n      myOrders = myOrders.map((item) => util.pullProps(\r\n        item,\r\n        'id',\r\n        'owner',\r\n        'buyCurrency',\r\n        'buyBlockchain',\r\n        'sellCurrency',\r\n        'sellBlockchain',\r\n        'buyAmount',\r\n        'exchangeRate',\r\n        'sellAmount',\r\n        'isRequested',\r\n        'isProcessing',\r\n        'isPartial',\r\n        'isTurbo',\r\n        'isHidden',\r\n        'destination',\r\n      ))\r\n\r\n      this.app.services.room.sendMessagePeer(peer, {\r\n        event: 'new orders',\r\n        data: {\r\n          orders: myOrders,\r\n        },\r\n      })\r\n    }\r\n  }\r\n  _handleUserOnline = (peer) => {\r\n    this._sendOrdersToPeer(peer)\r\n    this.app.services.room.sendMessagePeer(peer, {\r\n      event: 'give orders',\r\n      data: {},\r\n    })\r\n  }\r\n\r\n  _handleUserOffline = (peer) => {\r\n    const peerOrders = this.getPeerOrders(peer)\r\n\r\n    if (peerOrders.length) {\r\n      peerOrders.forEach(({ id }) => {\r\n        this._handleRemove(id)\r\n      })\r\n    }\r\n  }\r\n\r\n  _handleNewOrders = ({ fromPeer, orders }) => {\r\n    // ductape to check if such orders already exist\r\n    const filteredOrders = orders.filter(({ id, owner: { peer } }) => (\r\n      !this.getByKey(id) && peer === fromPeer\r\n    ))\r\n\r\n    this._handleMultipleCreate({ orders: filteredOrders, fromPeer })\r\n  }\r\n\r\n  _handleNewOrder = ({ fromPeer, order }) => {\r\n    if (order && order.owner && order.owner.peer === fromPeer) {\r\n      if (checkIncomeOrder(order, fromPeer)) {\r\n        this._handleCreate(order)\r\n      }\r\n    }\r\n  }\r\n\r\n  _handleRemoveOrder = ({ fromPeer, orderId }) => {\r\n    const order = this.getByKey(orderId)\r\n\r\n    if (order && order.owner && order.owner.peer === fromPeer) {\r\n      this._handleRemove(orderId)\r\n    }\r\n  }\r\n\r\n  _persistMyOrders() {\r\n    this.getMyOrders().forEach((orderData) => {\r\n      this._handleCreate(orderData)\r\n    })\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.id\r\n   * @param {object} data.owner\r\n   * @param {string} data.owner.peer\r\n   * @param {number} data.owner.reputation\r\n   * @param {object} data.owner.<currency>\r\n   * @param {string} data.owner.<currency>.address\r\n   * @param {string} data.owner.<currency>.publicKey\r\n   * @param {string} data.buyCurrency\r\n   * @param {string} data.sellCurrency\r\n   * @param {number} data.buyAmount\r\n   * @param {number} data.sellAmount\r\n   * @param {boolean} data.isProcessing\r\n   * @param {boolean} data.isRequested\r\n   */\r\n  _create(data) {\r\n    const { id, buyAmount, sellAmount, buyCurrency, sellCurrency, ...rest } = data\r\n\r\n    const {\r\n      blockchain: buyBlockchain,\r\n    } = getCoinInfo(buyCurrency)\r\n    const {\r\n      blockchain: sellBlockchain,\r\n    } = getCoinInfo(sellCurrency)\r\n\r\n    // Error in the bottom line: Cannot read property 'precision' of undefined\r\n    if (\r\n      !constants.COIN_DATA[buyCurrency.toUpperCase()]?.precision ||\r\n      !constants.COIN_DATA[sellCurrency.toUpperCase()]?.precision\r\n    ) {\r\n      return\r\n    }\r\n\r\n    const roundedBuyAmount = new BigNumber(buyAmount).dp(constants.COIN_DATA[buyCurrency.toUpperCase()].precision)\r\n    const roundedSellAmount = new BigNumber(sellAmount).dp(constants.COIN_DATA[sellCurrency.toUpperCase()].precision)\r\n\r\n    const order = new Order(this.app, this, {\r\n      id:           id || this.getUniqueId(),\r\n      buyAmount:    roundedBuyAmount,\r\n      sellAmount:   roundedSellAmount,\r\n      buyCurrency:  buyCurrency,\r\n      buyBlockchain,\r\n      sellCurrency: sellCurrency,\r\n      sellBlockchain,\r\n      ...rest,\r\n    })\r\n\r\n    this.append(order, order.id)\r\n\r\n    return order\r\n  }\r\n\r\n  _handleCreate(data) {\r\n    const order = this._create(data)\r\n\r\n    if (order) {\r\n      events.dispatch('new order', order)\r\n    }\r\n  }\r\n\r\n  _handleMultipleCreate({ orders, fromPeer }) {\r\n    const newOrders = []\r\n\r\n    orders.forEach((data) => {\r\n      if (checkIncomeOrder(data, fromPeer)) {\r\n        const order = this._create(data)\r\n\r\n        //@ts-ignore: strictNullChecks\r\n        order && newOrders.push(order)\r\n      }\r\n    })\r\n\r\n    if (newOrders.length) {\r\n      events.dispatch('new orders', newOrders)\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {string} orderId\r\n   */\r\n  _handleRemove(orderId) {\r\n    try {\r\n      const order = this.getByKey(orderId)\r\n\r\n      if (order) {\r\n        this.removeByKey(orderId)\r\n        events.dispatch('remove order', order)\r\n      }\r\n    }\r\n    catch (err) {\r\n      console.error(err)\r\n    }\r\n  }\r\n\r\n  _saveMyOrders() {\r\n    let myOrders = this.items.filter(({ owner: { peer } }) => peer === this.app.services.room.peer)\r\n\r\n    // clean orders from other additional props\r\n    // TODO need to add functionality to sync `requests` for users who going offline / online\r\n    // problem: when I going online and persisting my orders need to show only online users requests,\r\n    // but then user comes online need to change status. Ofc we can leave this bcs developers can do this themselves\r\n    // with filters - skip requests where user is offline, but it looks like not very good\r\n    myOrders = myOrders.map((item) => util.pullProps(\r\n      item,\r\n      'id',\r\n      'owner',\r\n      'buyCurrency',\r\n      'buyBlockchain',\r\n      'sellCurrency',\r\n      'sellBlockchain',\r\n      'buyAmount',\r\n      'sellAmount',\r\n      'exchangeRate',\r\n      'participant',\r\n      'requests',\r\n      'isRequested',\r\n      'isProcessing',\r\n      'isPartial',\r\n      'isTurbo',\r\n      'isHidden',\r\n      'destination',\r\n    ))\r\n\r\n    this.app.env.storage.setItem('myOrders', myOrders)\r\n  }\r\n\r\n  getMyOrders() {\r\n    return this.app.env.storage.getItem('myOrders') || []\r\n  }\r\n\r\n  getPeerOrders(peer) {\r\n    return this.items.filter(({ owner }) => peer === owner.peer)\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.buyCurrency\r\n   * @param {string} data.sellCurrency\r\n   * @param {number} data.buyAmount\r\n   * @param {number} data.sellAmount\r\n   */\r\n  create(data) {\r\n    const order = this._create({\r\n      ...data,\r\n      owner: this.app.services.auth.getPublicData(),\r\n    })\r\n\r\n    if (!order) return\r\n\r\n    this._saveMyOrders()\r\n\r\n    this.app.services.room.sendMessageRoom({\r\n      event: 'new order',\r\n      data: {\r\n        order: util.pullProps(\r\n          order,\r\n          'id',\r\n          'owner',\r\n          'buyCurrency',\r\n          'buyBlockchain',\r\n          'exchangeRate',\r\n          'sellCurrency',\r\n          'sellBlockchain',\r\n          'buyAmount',\r\n          'sellAmount',\r\n          'isRequested',\r\n          'isProcessing',\r\n          'isPartial',\r\n          'isTurbo',\r\n          'isHidden',\r\n          'destination',\r\n        ),\r\n      },\r\n    })\r\n\r\n    return order\r\n  }\r\n\r\n  hideMyOrders() {\r\n    this.items.forEach((order) => {\r\n      if (order && order.owner && order.owner.peer === this.app.services.room.peer) {\r\n        order.isHidden = true\r\n      }\r\n    })\r\n    this._saveMyOrders()\r\n    this.app.services.room.sendMessageRoom({\r\n      event: 'hide orders',\r\n      data: {},\r\n    })\r\n  }\r\n\r\n  showMyOrders() {\r\n    this.items.forEach((order) => {\r\n      if (order && order.owner && order.owner.peer === this.app.services.room.peer) {\r\n        order.isHidden = false\r\n      }\r\n    })\r\n    this._saveMyOrders()\r\n    this.app.services.room.sendMessageRoom({\r\n      event: 'show orders',\r\n      data: {},\r\n    })\r\n  }\r\n\r\n  hasHiddenOrders() {\r\n    let myHiddenOrders = this.items.filter(({ isHidden, owner: { peer } }) => (peer === this.app.services.room.peer && isHidden))\r\n    return !!myHiddenOrders.length\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {string} orderId\r\n   */\r\n  remove(orderId) {\r\n    this.removeByKey(orderId)\r\n    this.app.services.room.sendMessageRoom({\r\n      event: 'remove order',\r\n      data: {\r\n        orderId,\r\n      },\r\n    })\r\n    this._saveMyOrders()\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {String} event\r\n   * @param {String} peer\r\n   * @param {Object} data\r\n   * @param {function} callback\r\n   */\r\n  requestToPeer(event, peer, data, callback) {\r\n    this.app.services.room.sendMessagePeer(peer, {\r\n      event,\r\n      data,\r\n    })\r\n\r\n    if (!callback) {\r\n      return\r\n    }\r\n\r\n    this.app.services.room.on('accept request', function ({ fromPeer, orderId }) {\r\n      debug('swap.core:orders')('requestToPeer accept request', fromPeer)\r\n      if (peer === fromPeer) {\r\n        this.unsubscribe()\r\n\r\n        debug('swap.core:orders')('requestToPeer IF')\r\n\r\n        callback(orderId)\r\n      }\r\n    })\r\n\r\n    this.app.services.room.on('decline request', function ({ fromPeer }) {\r\n      if (peer === fromPeer) {\r\n        this.unsubscribe()\r\n\r\n        callback(false)\r\n      }\r\n    })\r\n  }\r\n\r\n  on(eventName, handler) {\r\n    events.subscribe(eventName, handler)\r\n    return this\r\n  }\r\n\r\n  off(eventName, handler) {\r\n    events.unsubscribe(eventName, handler)\r\n    return this\r\n  }\r\n}\r\n\r\n\r\nexport default SwapOrders\r\n","import SwapOrders from './SwapOrders'\r\n\r\n\r\nexport default SwapOrders\r\n","import debug from 'debug'\r\nimport SwapApp, { constants, util } from 'swap.app'\r\nimport { Flow } from 'swap.swap'\r\nimport { BigNumber } from 'bignumber.js'\r\n\r\n\r\nexport default class TurboMaker extends Flow {\r\n\r\n  _flowName = 'TurboMaker'\r\n  static getName = () => 'TurboMaker'\r\n\r\n  mySwap: any\r\n  participantSwap: any\r\n\r\n  state: {\r\n    step: 0 | 1 | 2 | 3 | 4 | 5 | 6,\r\n\r\n    isParticipantSigned: boolean,\r\n\r\n    isBalanceFetching: boolean,\r\n    isBalanceEnough: boolean,\r\n\r\n    takerTxHash: null | string\r\n    isTakerTxPended: boolean\r\n\r\n    makerTxHash: null | string\r\n    isMakerTxPended: boolean\r\n\r\n    isStoppedSwap: boolean,\r\n    isFinished: boolean,\r\n  }\r\n\r\n  constructor(swap) {\r\n    super(swap)\r\n    console.log('Create Maker flow(swap), swap =', swap)\r\n\r\n    this.stepNumbers = {\r\n      'sign': 1,\r\n      'check-balance': 2,\r\n      'wait-taker-tx': 3,\r\n      'send-maker-tx': 4,\r\n      'finish': 5,\r\n      'end': 6,\r\n    }\r\n\r\n    this.mySwap = swap.ownerSwap\r\n    this.participantSwap = swap.participantSwap\r\n\r\n    this.state = {\r\n      step: 0,\r\n\r\n      isParticipantSigned: false,\r\n\r\n      isBalanceFetching: false,\r\n      isBalanceEnough: true,\r\n\r\n      takerTxHash: null,\r\n      isTakerTxPended: false,\r\n\r\n      makerTxHash: null,\r\n      isMakerTxPended: false,\r\n\r\n      isStoppedSwap: false,\r\n      isFinished: false,\r\n    }\r\n\r\n    super._persistState()\r\n    super._persistSteps()\r\n  }\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  _getSteps() {\r\n    const flow = this\r\n    const swap = this.swap\r\n    const room = this.swap.room\r\n\r\n    const mySwap = this.mySwap\r\n    const participantSwap = this.participantSwap\r\n\r\n    return [\r\n\r\n      async () => {\r\n        console.log(`Maker Step 1: 'sign'`)\r\n        console.log('this.swap =', swap)\r\n\r\n        //flow.swap.processMetamask()\r\n\r\n        room.sendMessage({\r\n          event: 'request sign',\r\n        })\r\n\r\n        room.once('swap sign', () => {\r\n          const { step } = flow.state\r\n\r\n          if (step >= 2) {\r\n            return\r\n          }\r\n\r\n          flow.finishStep({\r\n            isParticipantSigned: true,\r\n          }, { step: 'sign' })\r\n        })\r\n      },\r\n\r\n\r\n      async () => {\r\n        console.log(`Maker Step 2: 'check-balance'`)\r\n        console.log('this.swap =', swap)\r\n\r\n        /*const { sellAmount } = this.swap\r\n\r\n        this.setState({\r\n          isBalanceFetching: true,\r\n        })\r\n\r\n        const btcAddress = this.app.services.auth.accounts.btc.getAddress()\r\n\r\n        const txFee = await this.btcSwap.estimateFeeValue({\r\n          method: 'swap',\r\n          fixed: true,\r\n          address: btcAddress\r\n        })\r\n\r\n        const unspents = await this.btcSwap.fetchUnspents(btcAddress)\r\n        const totalUnspent = unspents.reduce((summ, { satoshis }) => summ + satoshis, 0)\r\n        const balance = new BigNumber(totalUnspent).dividedBy(1e8)\r\n\r\n        const needAmount = sellAmount.plus(txFee)\r\n        const isEnoughMoney = needAmount.isLessThanOrEqualTo(balance)\r\n\r\n        const stateData = {\r\n          isBalanceFetching: false,\r\n          isBalanceEnough: isEnoughMoney,\r\n        }\r\n\r\n        if (isEnoughMoney) {\r\n          this.finishStep(stateData, { step: 'check-balance' })\r\n        } else {\r\n          this.setState(stateData, true)\r\n        }*/\r\n\r\n        //return true\r\n\r\n        //temp\r\n        this.finishStep({\r\n          isBalanceEnough: true,\r\n        }, { step: 'check-balance' })\r\n      },\r\n\r\n\r\n      () => {\r\n        console.log(`Maker Step 3: 'wait-taker-tx'`)\r\n        console.log('this.swap =', swap)\r\n\r\n        room.once('taker tx sended', ({ txHash }) => {\r\n          console.log(`RECEIVED from taker: tx hash =`, txHash)\r\n          console.log('Check taker tx...')\r\n          // todo: tx check\r\n          //... || this.stopSwapProcess()\r\n          console.log('Taker tx is OK!')\r\n\r\n          flow.finishStep({\r\n            takerTxHash: txHash,\r\n            isTakerTxPended: true, // todo later\r\n          }, { step: 'wait-taker-tx' })\r\n        })\r\n      },\r\n\r\n\r\n      async () => {\r\n        console.log(`Maker Step 4: 'send-maker-tx'`)\r\n        console.log('this.swap =', swap)\r\n\r\n        // send tx\r\n        \r\n        const amount = swap.sellAmount\r\n        const to = swap.participant[swap.sellCurrency.toLowerCase()].address\r\n\r\n        console.log(`Send ${amount} ${swap.sellCurrency} to taker address \"${to}\"...`)\r\n\r\n        let usedSwap\r\n        if (mySwap._swapName === swap.sellCurrency.toUpperCase()) {\r\n          usedSwap = mySwap\r\n        }\r\n        if (participantSwap._swapName === swap.sellCurrency.toUpperCase()) {\r\n          usedSwap = participantSwap\r\n        }\r\n        if (!usedSwap) {\r\n          throw new Error(`No swap for ${swap.sellCurrency}`)\r\n        } else {\r\n          console.log('Swap found!', usedSwap)\r\n        }\r\n\r\n        const txHash = await usedSwap.sendTransaction({ to, amount })\r\n\r\n        console.log(`Sended! txHash = ${txHash}`)\r\n\r\n        room.sendMessage({\r\n          event: 'maker tx sended',\r\n          data: {\r\n            txHash,\r\n          }\r\n        })\r\n\r\n        flow.finishStep({\r\n          makerTxHash: txHash,\r\n          isMakerTxPended: true, // todo later\r\n        }, 'send-maker-tx')\r\n      },\r\n\r\n\r\n      () => {\r\n        console.log(`Maker Step 5: 'finish'`)\r\n        /*room.once('swap finished', ({btcSwapWithdrawTransactionHash}) => {\r\n          flow.setState({\r\n            btcSwapWithdrawTransactionHash,\r\n          })\r\n        })\r\n\r\n        room.sendMessage({\r\n          event: 'request swap finished',\r\n        })\r\n        */\r\n        flow.finishStep({\r\n          isFinished: true,\r\n        }, 'finish')\r\n      },\r\n\r\n\r\n      () => {\r\n        console.log(`Maker Step 6: 'end'`)\r\n        // Finished!\r\n      }\r\n    ]\r\n  }\r\n\r\n  stopSwapProcess() {\r\n    const flow = this\r\n\r\n    debug('swap.core:flow')('Swap was stopped')\r\n\r\n    flow.setState({\r\n      isStoppedSwap: true,\r\n    }, true)\r\n  }\r\n\r\n}\r\n","import debug from 'debug'\r\nimport SwapApp, { constants, util } from 'swap.app'\r\nimport { Flow } from 'swap.swap'\r\n\r\n\r\nexport default class TurboTaker extends Flow {\r\n\r\n  _flowName = 'TurboTaker'\r\n  static getName = () => 'TurboTaker'\r\n\r\n  mySwap: any\r\n  participantSwap: any\r\n\r\n  state: {\r\n    step: 0 | 1 | 2 | 3 | 4 | 5 | 6,\r\n\r\n    isSignFetching: boolean,\r\n    isMeSigned: boolean,\r\n\r\n    isBalanceFetching: boolean,\r\n    isBalanceEnough: boolean,\r\n\r\n    takerTxHash: null | string\r\n    isTakerTxPended: boolean\r\n\r\n    makerTxHash: null | string\r\n    isMakerTxPended: boolean\r\n\r\n    isStoppedSwap: boolean,\r\n    isFinished: boolean,\r\n  }\r\n\r\n  constructor(swap) {\r\n    super(swap)\r\n    console.log('Create Taker flow (swap), =', swap)\r\n\r\n    this.stepNumbers = {\r\n      'sign': 1,\r\n      'check-balance': 2,\r\n      'send-taker-tx': 3,\r\n      'wait-maker-tx': 4,\r\n      'finish': 5,\r\n      'end': 6\r\n    }\r\n\r\n    this.mySwap = swap.ownerSwap\r\n    this.participantSwap = swap.participantSwap\r\n\r\n    this.state = {\r\n      step: 0,\r\n\r\n      isSignFetching: false,\r\n      isMeSigned: false,\r\n\r\n      isBalanceFetching: false,\r\n      isBalanceEnough: true,\r\n\r\n      takerTxHash: null,\r\n      isTakerTxPended: false,\r\n\r\n      makerTxHash: null,\r\n      isMakerTxPended: false,\r\n\r\n      isStoppedSwap: false,\r\n      isFinished: false,\r\n    }\r\n\r\n    const flow = this\r\n    const room = flow.swap.room\r\n\r\n    room.once('request withdraw', () => {\r\n      flow.setState({\r\n        //withdrawRequestIncoming: true,\r\n      })\r\n    })\r\n\r\n    super._persistState()\r\n    super._persistSteps()\r\n  }\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  _getSteps() {\r\n    const flow = this\r\n    const swap = this.swap\r\n    const room = this.swap.room\r\n\r\n    const mySwap = this.mySwap\r\n    const participantSwap = this.participantSwap\r\n\r\n    return [\r\n\r\n      async () => {\r\n        console.log(`Taker Step 1: 'sign'`)\r\n        console.log('this.swap =', swap)\r\n\r\n        //flow.swap.processMetamask()\r\n\r\n        const { isSignFetching, isMeSigned } = flow.state\r\n\r\n        if (isSignFetching || isMeSigned) {\r\n          return true\r\n        }\r\n\r\n        flow.setState({\r\n          isSignFetching: true,\r\n        })\r\n\r\n        room.on('request sign', () => {\r\n          room.sendMessage({\r\n            event: 'swap sign',\r\n          })\r\n        })\r\n\r\n        room.sendMessage({\r\n          event: 'swap sign',\r\n        })\r\n\r\n        flow.finishStep({\r\n          isMeSigned: true,\r\n        }, { step: 'sign' })\r\n\r\n        return true\r\n      },\r\n\r\n\r\n      async () => {\r\n        console.log(`Taker Step 2: 'check-balance'`)\r\n        console.log('this.swap =', swap)\r\n\r\n        // just test\r\n\r\n        /*const b1 = await mySwap.fetchBalance(swap.participant[swap.buyCurrency.toLowerCase()].address)\r\n        console.log('b1=', b1)\r\n\r\n        const b2 = await participantSwap.fetchBalance(swap.participant[swap.sellCurrency.toLowerCase()].address)\r\n        console.log('b2=', b2)*/\r\n\r\n\r\n\r\n        /*const { sellAmount } = this.swap\r\n\r\n        this.setState({\r\n          isBalanceFetching: true,\r\n        })\r\n\r\n        const balance = await this.ethSwap.fetchBalance(\r\n          this.app.getMyEthAddress()\r\n        )\r\n        const isEnoughMoney = sellAmount.isLessThanOrEqualTo(balance)\r\n\r\n        const stateData = {\r\n          isBalanceFetching: false,\r\n          isBalanceEnough: isEnoughMoney,\r\n        }\r\n\r\n        if (isEnoughMoney) {\r\n          this.finishStep(stateData, { step: 'check-balance' })\r\n        } else {\r\n          this.setState(stateData, true)\r\n        }*/\r\n\r\n        //return true\r\n\r\n        //temp\r\n        this.finishStep({\r\n          isBalanceEnough: true,\r\n        }, { step: 'check-balance' })\r\n      },\r\n\r\n\r\n      async () => {\r\n        console.log(`Taker Step 3: 'send-taker-tx'`)\r\n        console.log('this.swap =', swap)\r\n\r\n        // send tx\r\n\r\n        const amount = swap.sellAmount\r\n        const to = swap.participant[swap.sellCurrency.toLowerCase()].address\r\n\r\n        console.log(`Send ${amount} ${swap.sellCurrency} to maker address \"${to}\"...`)\r\n\r\n        let usedSwap\r\n        if (mySwap._swapName === swap.sellCurrency.toUpperCase()) {\r\n          usedSwap = mySwap\r\n        }\r\n        if (participantSwap._swapName === swap.sellCurrency.toUpperCase()) {\r\n          usedSwap = participantSwap\r\n        }\r\n        if (!usedSwap) {\r\n          throw new Error(`No swap for ${swap.sellCurrency}`)\r\n        } else {\r\n          console.log('Swap found!', usedSwap)\r\n        }\r\n\r\n        const txHash = await usedSwap.sendTransaction({ to, amount })\r\n\r\n        console.log(`Sended! txHash = ${txHash}`)\r\n\r\n        room.sendMessage({\r\n          event: 'taker tx sended',\r\n          data: {\r\n            txHash,\r\n          }\r\n        })\r\n\r\n        flow.finishStep({\r\n          takerTxHash: txHash,\r\n          isTakerTxPended: true, // todo later\r\n        }, 'send-taker-tx')\r\n      },\r\n\r\n\r\n      () => {\r\n        console.log(`Taker Step 4: 'wait-maker-tx'`)\r\n        console.log('this.swap =', swap)\r\n\r\n        room.once('maker tx sended', ({ txHash }) => {\r\n          console.log(`RECEIVED from maker: tx hash =`, txHash)\r\n          console.log('Check maker tx...')\r\n          // todo: tx check\r\n          //... || this.stopSwapProcess()\r\n          console.log('Maker tx is OK!')\r\n          \r\n          flow.finishStep({\r\n            makerTxHash: txHash,\r\n            isMakerTxPended: true, // todo later\r\n          }, { step: 'wait-maker-tx' })\r\n        })\r\n      },\r\n\r\n\r\n      () => {\r\n        console.log(`Taker Step 5: 'finish'`)\r\n        /*room.once('request swap finished', () => {\r\n          const { btcSwapWithdrawTransactionHash } = flow.state\r\n\r\n          room.sendMessage({\r\n            event: 'swap finished',\r\n            data: {\r\n              btcSwapWithdrawTransactionHash,\r\n            },\r\n          })\r\n        })\r\n        */\r\n        flow.finishStep({\r\n          isFinished: true,\r\n        }, { step: 'finish' })\r\n      },\r\n\r\n\r\n      () => {\r\n        console.log(`Taker Step 6: 'end'`)\r\n        // Finished!\r\n      }\r\n    ]\r\n  }\r\n\r\n  stopSwapProcess() {\r\n    const flow = this\r\n\r\n    debug('swap.core:flow')('Swap was stopped')\r\n\r\n    flow.setState({\r\n      isStoppedSwap: true,\r\n    }, true)\r\n  }\r\n\r\n}\r\n","import debug from 'debug'\r\nimport { util } from 'swap.app'\r\nimport { AtomicAB2UTXO } from 'swap.swap'\r\nimport { EthLikeSwap, BtcSwap } from 'swap.swaps'\r\n\r\n\r\ninterface IEthLikeToBtc {\r\n  flowName: string\r\n  getMyAddress: Function\r\n  getParticipantAddress: Function\r\n}\r\nclass EthLikeToBtc extends AtomicAB2UTXO {\r\n\r\n  _flowName: string\r\n  ethLikeCoin: string\r\n  ethLikeSwap: EthLikeSwap\r\n  btcSwap: BtcSwap\r\n  state: any\r\n  getMyAddress: Function\r\n  getParticipantAddress: Function\r\n\r\n  constructor(swap, options: IEthLikeToBtc) {\r\n    super(swap)\r\n\r\n    if (!options.flowName) {\r\n      throw new Error('EthLikeToBtc - option flowName requery')\r\n    }\r\n    if (!options.getMyAddress || typeof options.getMyAddress !== 'function') {\r\n      throw new Error(`EthLikeToBtc ${options.flowName} - option getMyAddress - function requery`)\r\n    }\r\n    if (!options.getParticipantAddress || typeof options.getParticipantAddress !== 'function') {\r\n      throw new Error(`EthLikeToBtc ${options.flowName} - option getParticipantAddress - function requery`)\r\n    }\r\n\r\n    this.getMyAddress = options.getMyAddress\r\n    this.getParticipantAddress = options.getParticipantAddress\r\n\r\n    this.utxoCoin = `btc`\r\n    this.ethLikeCoin = swap.ethLikeCoin\r\n    this._flowName = options.flowName\r\n\r\n    this.isTakerMakerModel = true\r\n    this.setupTakerMakerEvents()\r\n    this.stepNumbers = this.getStepNumbers()\r\n\r\n    this.ethLikeSwap = swap.participantSwap\r\n    this.btcSwap = swap.ownerSwap\r\n\r\n    this.abBlockchain = this.ethLikeSwap\r\n    this.utxoBlockchain = this.btcSwap\r\n\r\n    if (!this.ethLikeSwap) {\r\n      throw new Error(`${this.ethLikeCoin}2BTC: \"ethLikeSwap\" of type object required`)\r\n    }\r\n    if (!this.btcSwap) {\r\n      throw new Error(`${this.ethLikeCoin}2BTC: \"btcSwap\" of type object required`)\r\n    }\r\n\r\n    this.state = {\r\n      step: 0,\r\n\r\n      isStoppedSwap: false,\r\n\r\n      signTransactionHash: null,\r\n      isSignFetching: false,\r\n      isMeSigned: false,\r\n\r\n      targetWallet : null,\r\n      secretHash: null,\r\n\r\n      isBalanceFetching: false,\r\n      isBalanceEnough: true,\r\n      balance: null,\r\n\r\n      ethLikeSwapCreationTransactionHash: null,\r\n      canCreateEthTransaction: true,\r\n      isEthContractFunded: false,\r\n\r\n      secret: null,\r\n\r\n      isEthWithdrawn: false,\r\n      isbtcWithdrawn: false,\r\n\r\n      ethLikeSwapWithdrawTransactionHash: null,\r\n      utxoSwapWithdrawTransactionHash: null,\r\n\r\n      refundTransactionHash: null,\r\n      isRefunded: false,\r\n\r\n      isFinished: false,\r\n      isSwapExist: false,\r\n\r\n      withdrawRequestIncoming: false,\r\n      withdrawRequestAccepted: false,\r\n\r\n      isFailedTransaction: false,\r\n      isFailedTransactionError: null,\r\n    }\r\n\r\n    this._persistState()\r\n\r\n    const flow = this\r\n\r\n    if (this.isTaker()) {\r\n      flow.swap.room.on('create utxo script', (data) => {\r\n        const {\r\n          utxoScriptCreatingTransactionHash,\r\n        } = data\r\n        flow.setState({\r\n          utxoScriptCreatingTransactionHash,\r\n        }, true)\r\n      })\r\n      flow.swap.room.on('ethWithdrawTxHash', (data) => {\r\n        const {\r\n          ethLikeSwapWithdrawTransactionHash,\r\n        } = data\r\n        flow.setState({\r\n          ethLikeSwapWithdrawTransactionHash,\r\n        })\r\n      })\r\n    } else {\r\n      flow.swap.room.once('request withdraw', () => {\r\n        flow.setState({\r\n          withdrawRequestIncoming: true,\r\n        })\r\n      })\r\n\r\n      flow.swap.room.on('wait btc confirm', () => {\r\n        flow.setState({\r\n          waitBtcConfirm: true,\r\n        })\r\n      })\r\n\r\n      flow.swap.room.on('request eth contract', () => {\r\n        const { ethLikeSwapCreationTransactionHash } = flow.state\r\n\r\n        if (ethLikeSwapCreationTransactionHash) {\r\n          console.log('Exists - send hash')\r\n          flow.swap.room.sendMessage({\r\n            event: 'create eth contract',\r\n            data: {\r\n              ethLikeSwapCreationTransactionHash,\r\n            },\r\n          })\r\n        }\r\n      })\r\n    }\r\n\r\n    super._persistSteps()\r\n  }\r\n\r\n  _persistState() {\r\n    super._persistState()\r\n  }\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  _getSteps() {\r\n    const flow = this\r\n\r\n    if (this.isMaker()) {\r\n      return [\r\n\r\n        // 1. Sign swap to start\r\n\r\n        () => {\r\n          this.signABSide()\r\n        },\r\n\r\n        // 2. Wait participant create, fund BTC Script\r\n\r\n        () => {\r\n          flow.waitUTXOScriptCreated()\r\n        },\r\n\r\n        // 3. Verify BTC Script\r\n\r\n        () => {\r\n          debug('swap.core:flow')(`waiting verify btc script`)\r\n          this.verifyScript()\r\n        },\r\n\r\n        // 4. Check balance\r\n\r\n        () => {\r\n          this.syncBalance()\r\n        },\r\n\r\n        // 5. Create ETH Contract\r\n\r\n        async () => {\r\n          const scriptFunded = await this.waitUTXOScriptFunded()\r\n          if (scriptFunded) {\r\n            await flow.ethLikeSwap.fundContract({\r\n              flow,\r\n            })\r\n          }\r\n        },\r\n\r\n        // 6. Wait participant withdraw\r\n\r\n        async () => {\r\n          const {\r\n            secretHash,\r\n          } = this.state\r\n\r\n          await util.helpers.repeatAsyncUntilResult(async () => {\r\n            const isSwapCreated = await flow.ethLikeSwap.isSwapCreated({\r\n              ownerAddress: flow.getMyAddress(),\r\n              participantAddress: flow.getParticipantAddress(flow.swap),\r\n              secretHash,\r\n            })\r\n\r\n            if (isSwapCreated) {\r\n              await flow.ethLikeSwap.getSecretFromContract({ flow })\r\n              return true\r\n            }\r\n            return false\r\n          })\r\n        },\r\n\r\n        // 7. Withdraw\r\n\r\n        async () => {\r\n          await this.btcSwap.withdrawFromSwap({\r\n            flow,\r\n          })\r\n        },\r\n\r\n        // 8. Finish\r\n\r\n        () => {\r\n          flow.swap.room.once('request swap finished', () => {\r\n            const { utxoSwapWithdrawTransactionHash } = flow.state\r\n\r\n            flow.swap.room.sendMessage({\r\n              event: 'swap finished',\r\n              data: {\r\n                utxoSwapWithdrawTransactionHash,\r\n              },\r\n            })\r\n          })\r\n\r\n          flow.finishStep({\r\n            isFinished: true,\r\n          }, { step: 'finish' })\r\n        },\r\n\r\n        // 9. Finished!\r\n\r\n        () => {}\r\n      ]\r\n    } else {\r\n      return [\r\n        // 1 - `sign` - Signs \r\n        async () => {\r\n          this.signABSide()\r\n        },\r\n\r\n        // 2 - `sync-balance` - syncBalance\r\n        async () => {\r\n          this.syncBalance()\r\n        },\r\n\r\n        // 3 - `lock-eth` - create AB contract -  , ,  \r\n        async () => {\r\n          if (!this.state.secret) {\r\n            const {\r\n              secret,\r\n              secretHash,\r\n            } = this.generateSecret()\r\n\r\n            this.createWorkUTXOScript(secretHash, false)\r\n\r\n            this.setState({\r\n              secret,\r\n              secretHash,\r\n            }, true)\r\n          }\r\n\r\n          await flow.ethLikeSwap.fundContract({\r\n            flow,\r\n            //     (  )\r\n            //  ,  ,   utxo     ab  \r\n            // -   UTXO    \r\n            //     ab   getTargetWallet\r\n            useTargetWallet: true,\r\n          })\r\n        },\r\n\r\n        // 4 - `wait-lock-utxo` - wait create UTXO\r\n        async () => {\r\n          this.waitUTXOScriptFunded()\r\n            .then((funded) => {\r\n              if (funded) {\r\n                this.finishStep({}, 'wait-lock-utxo`')\r\n              }\r\n            })\r\n        },\r\n\r\n        // 5 - `withdraw-utxo` - withdraw from UTXO\r\n        async () => {\r\n          await this.btcSwap.withdrawFromSwap({\r\n            flow,\r\n          })\r\n        },\r\n\r\n        // 6 - `finish`\r\n        async () => {\r\n          // @to-do - txids room events\r\n          flow.finishStep({\r\n            isFinished: true,\r\n          }, 'finish')\r\n        },\r\n\r\n        // 7 - `end`\r\n        async () => {},\r\n      ]\r\n    }\r\n  }\r\n\r\n  _checkSwapAlreadyExists() {\r\n    const swapData = {\r\n      ownerAddress: this.getMyAddress(),\r\n      participantAddress: this.getParticipantAddress(this.swap)\r\n    }\r\n\r\n    return this.ethLikeSwap.checkSwapExists(swapData)\r\n  }\r\n\r\n  async tryRefund() {\r\n    const { secretHash } = this.state\r\n\r\n    const refundHandler = (hash = null) => {\r\n      this.swap.room.sendMessage({\r\n        event: 'eth refund completed',\r\n      })\r\n\r\n      this.setState({\r\n        refundTransactionHash: hash,\r\n        isRefunded: true,\r\n        isSwapExist: false,\r\n      }, true)\r\n    }\r\n\r\n    try {\r\n      const wasRefunded = await this.ethLikeSwap.wasRefunded({ secretHash })\r\n\r\n      if (wasRefunded) {\r\n        debug('swap.core:flow')('This swap was refunded')\r\n\r\n        refundHandler()\r\n\r\n        return true\r\n      }\r\n    } catch (error) {\r\n      console.warn('wasRefunded error:', error)\r\n\r\n      return false\r\n    }\r\n\r\n    return this.ethLikeSwap.refund({\r\n      participantAddress: this.getParticipantAddress(this.swap),\r\n    })\r\n      .then((hash) => {\r\n        if (!hash) {\r\n          return false\r\n        }\r\n\r\n        //@ts-ignore: strictNullChecks\r\n        refundHandler(hash)\r\n\r\n        return true\r\n      })\r\n      .catch((error) => false)\r\n  }\r\n\r\n  async isRefundSuccess() {\r\n    return true\r\n  }\r\n\r\n  async tryWithdraw(_secret) {\r\n    const { secret, secretHash, isbtcWithdrawn, utxoScriptValues } = this.state\r\n\r\n    if (!_secret)\r\n      throw new Error(`Withdrawal is automatic. For manual withdrawal, provide a secret`)\r\n\r\n    if (!utxoScriptValues)\r\n      throw new Error(`Cannot withdraw without script values`)\r\n\r\n    if (secret && secret != _secret)\r\n      console.warn(`Secret already known and is different. Are you sure?`)\r\n\r\n    if (isbtcWithdrawn)\r\n      console.warn(`Looks like money were already withdrawn, are you sure?`)\r\n\r\n    debug('swap.core:flow')(`WITHDRAW using secret = ${_secret}`)\r\n\r\n    const _secretHash = this.app.env.bitcoin.crypto.ripemd160(Buffer.from(_secret, 'hex')).toString('hex')\r\n\r\n    if (secretHash != _secretHash)\r\n      console.warn(`Hash does not match! state: ${secretHash}, given: ${_secretHash}`)\r\n\r\n    const { scriptAddress } = this.btcSwap.createScript(utxoScriptValues)\r\n    const balance = await this.btcSwap.getBalance(scriptAddress)\r\n\r\n    debug('swap.core:flow')(`address=${scriptAddress}, balance=${balance}`)\r\n\r\n    if (balance === 0) {\r\n      this.finishStep({\r\n        isbtcWithdrawn: true,\r\n      }, { step: 'withdraw-utxo' })\r\n      throw new Error(`Already withdrawn: address=${scriptAddress},balance=${balance}`)\r\n    }\r\n\r\n    this.btcSwap.withdraw({\r\n      scriptValues: utxoScriptValues,\r\n      secret: _secret,\r\n    }).then((hash) => {\r\n      debug('swap.core:flow')(`TX hash=${hash}`)\r\n      this.setState({\r\n        utxoSwapWithdrawTransactionHash: hash,\r\n      })\r\n    \r\n      debug('swap.core:flow')(`TX withdraw sent: ${this.state.utxoSwapWithdrawTransactionHash}`)\r\n\r\n      this.finishStep({\r\n        isbtcWithdrawn: true,\r\n      }, { step: 'withdraw-utxo' })\r\n    })\r\n  }\r\n}\r\n\r\n\r\nexport default EthLikeToBtc\r\n","import { constants } from 'swap.app'\r\nimport EthLikeToBtc from './atomic/EthLikeToBtc'\r\n\r\n\r\nclass ETH2BTC extends EthLikeToBtc {\r\n  static getName() {\r\n    return `${this.getFromName()}2${this.getToName()}`\r\n  }\r\n  static getFromName() {\r\n    return constants.COINS.eth\r\n  }\r\n  static getToName() {\r\n    return constants.COINS.btc\r\n  }\r\n  constructor(swap) {\r\n    super(swap, {\r\n      flowName: `ETH2BTC`,\r\n      getMyAddress: swap.app.getMyEthAddress.bind(swap.app),\r\n      getParticipantAddress: swap.app.getParticipantEthAddress.bind(swap.app),\r\n    })\r\n  }\r\n}\r\n\r\n\r\nexport default ETH2BTC\r\n","import debug from 'debug'\r\nimport { util } from 'swap.app'\r\nimport { AtomicAB2UTXO } from 'swap.swap'\r\nimport { EthLikeSwap, BtcSwap } from 'swap.swaps'\r\n\r\n\r\ninterface IBtcToEthLike {\r\n  flowName: string\r\n  getMyAddress: Function\r\n  getParticipantAddress: Function\r\n}\r\nclass BtcToEthLike extends AtomicAB2UTXO {\r\n\r\n  _flowName: string\r\n  ethLikeSwap: EthLikeSwap\r\n  ethLikeCoin: string\r\n  btcSwap: BtcSwap\r\n\r\n  state: any\r\n\r\n  getMyAddress: Function\r\n  getParticipantAddress: Function\r\n\r\n  constructor(swap, options: IBtcToEthLike) {\r\n    super(swap)\r\n\r\n    if (!options.flowName) {\r\n      throw new Error('BtcToEthLike - option flowName requery')\r\n    }\r\n    if (!options.getMyAddress || typeof options.getMyAddress !== 'function') {\r\n      throw new Error(`BtcToEthLike ${options.flowName} - option getMyAddress - function requery`)\r\n    }\r\n    if (!options.getParticipantAddress || typeof options.getParticipantAddress !== 'function') {\r\n      throw new Error(`BtcToEthLike ${options.flowName} - option getParticipantAddress - function requery`)\r\n    }\r\n\r\n    this.getMyAddress = options.getMyAddress\r\n    this.getParticipantAddress = options.getParticipantAddress\r\n\r\n    this.utxoCoin = `btc`\r\n    this.ethLikeCoin = swap.ethLikeCoin\r\n    this._flowName = options.flowName\r\n\r\n    this.isUTXOSide = true\r\n    this.isTakerMakerModel = true\r\n    this.setupTakerMakerEvents()\r\n    this.stepNumbers = this.getStepNumbers()\r\n\r\n    this.ethLikeSwap = swap.ownerSwap\r\n    this.btcSwap = swap.participantSwap\r\n\r\n    this.abBlockchain = this.ethLikeSwap\r\n    this.utxoBlockchain = this.btcSwap\r\n\r\n    if (!this.ethLikeSwap) {\r\n      throw new Error(`BTC2${this.ethLikeCoin}: \"ethLikeSwap\" of type object required`)\r\n    }\r\n    if (!this.btcSwap) {\r\n      throw new Error(`BTC2${this.ethLikeCoin}: \"btcSwap\" of type object required`)\r\n    }\r\n\r\n    this.state = {\r\n      step: 0,\r\n\r\n      isStoppedSwap: false,\r\n\r\n      signTransactionHash: null,\r\n      isSignFetching: false,\r\n      isParticipantSigned: false,\r\n\r\n      ethLikeSwapCreationTransactionHash: null,\r\n\r\n      secretHash: null,\r\n\r\n      isBalanceFetching: false,\r\n      isBalanceEnough: true,\r\n      balance: null,\r\n\r\n      isEthContractFunded: false,\r\n\r\n      utxoSwapWithdrawTransactionHash: null,\r\n      ethLikeSwapWithdrawTransactionHash: null,\r\n\r\n      canCreateEthTransaction: true,\r\n      isEthWithdrawn: false,\r\n\r\n      refundTransactionHash: null,\r\n      isRefunded: false,\r\n\r\n      withdrawFee: null,\r\n      refundTxHex: null,\r\n      isFinished: false,\r\n      isSwapExist: false,\r\n\r\n      requireWithdrawFee: false,\r\n\r\n      utxoFundError: null,\r\n    }\r\n\r\n    const flow = this\r\n\r\n    if (this.isMaker()) {\r\n      this.swap.room.once('create eth contract', async ({\r\n        ethLikeSwapCreationTransactionHash,\r\n      }) => {\r\n        flow.setState({\r\n          ethLikeSwapCreationTransactionHash,\r\n        }, true)\r\n      })\r\n    }\r\n\r\n    this._persistState()\r\n    super._persistSteps()\r\n  }\r\n\r\n  _persistState() {\r\n    super._persistState()\r\n  }\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  _getSteps() {\r\n    const flow = this\r\n\r\n\r\n    if (this.isTaker()) {\r\n      return [\r\n\r\n        // 1. Signs\r\n        async () => {\r\n          this.signUTXOSide()\r\n        },\r\n\r\n        // 2. Create secret, secret hash and BTC script\r\n        () => {\r\n          this.submitSecret()\r\n        },\r\n\r\n        // 3. Check balance\r\n        () => {\r\n          this.syncBalance()\r\n        },\r\n\r\n        // 4. Create BTC Script, fund, notify participant\r\n        async () => {\r\n          this.btcSwap.fundSwapScript({\r\n            flow,\r\n          })\r\n        },\r\n\r\n        // 5. Wait participant creates ETH Contract\r\n        async () => {\r\n          await flow.ethLikeSwap.waitABContract({\r\n            flow,\r\n            utxoCoin: `btc`,\r\n          })\r\n        },\r\n\r\n        // 6. Withdraw\r\n        async () => {\r\n          await flow.ethLikeSwap.withdrawFromABContract({ flow })\r\n        },\r\n\r\n        // 7. Finish\r\n        () => {\r\n          flow.swap.room.once('swap finished', ({utxoSwapWithdrawTransactionHash}) => {\r\n            flow.setState({\r\n              utxoSwapWithdrawTransactionHash,\r\n            })\r\n          })\r\n\r\n          flow.swap.room.sendMessage({\r\n            event: 'request swap finished',\r\n          })\r\n\r\n          flow.finishStep({\r\n            isFinished: true,\r\n          }, 'finish')\r\n        },\r\n\r\n        // 8. Finished!\r\n        () => {}\r\n      ]\r\n    } else {\r\n      return [\r\n        // 1 - `sign` Signs\r\n        async () => {\r\n          this.signUTXOSide()\r\n        },\r\n\r\n        // 2 - `sync-balance` - syncBalance\r\n        async () => {\r\n          this.syncBalance()\r\n        },\r\n\r\n        // 3 - `wait-lock-eth` - wait taker create AB -  \r\n        async () => {\r\n          await util.helpers.repeatAsyncUntilResult(async () => {\r\n            const isContractFunded = await this.ethLikeSwap.isContractFunded(this)\r\n            if (isContractFunded) {\r\n              this.finishStep({\r\n                isEthContractFunded: true,\r\n              }, 'wait-lock-eth`')\r\n              return true\r\n            }\r\n            return false\r\n          })\r\n        },\r\n\r\n        // 4 - `lock-utxo` - create UTXO\r\n        async () => {\r\n          // Repeat until \r\n          await util.helpers.repeatAsyncUntilResult(async () => {\r\n            const {\r\n              secretHash,\r\n              utxoScriptValues\r\n            } = flow.state\r\n            if (secretHash && utxoScriptValues) {\r\n              const isSwapCreated = await flow.ethLikeSwap.isSwapCreated({\r\n                ownerAddress: flow.getParticipantAddress(flow.swap),\r\n                participantAddress: flow.getMyAddress(),\r\n                secretHash,\r\n              })\r\n              if (isSwapCreated) {\r\n                const destAddressIsOk = await this.ethLikeSwap.checkTargetAddress({ flow })\r\n\r\n                if (destAddressIsOk) {\r\n                  await this.btcSwap.fundSwapScript({\r\n                    flow,\r\n                  })\r\n                  return true\r\n                } else {\r\n                  console.warn('Destination address not valid. Stop swap now!')\r\n                }\r\n              }\r\n            } else {\r\n              flow.swap.room.sendMessage({\r\n                event: 'request utxo script',\r\n              })\r\n              return false\r\n            }\r\n          })\r\n        },\r\n\r\n        // 5 - `wait-withdraw-utxo` - wait withdraw UTXO - fetch secret from TX - getSecretFromTxhash\r\n        async () => {\r\n          await util.helpers.repeatAsyncUntilResult(async () => {\r\n            // check withdraw\r\n            const {\r\n              utxoScriptValues,\r\n            } = this.state\r\n            const { scriptAddress } = this.utxoBlockchain.createScript(utxoScriptValues)\r\n\r\n            const utxoWithdrawData = await this.btcSwap.checkWithdraw(scriptAddress)\r\n\r\n            if (utxoWithdrawData) {\r\n              const {\r\n                txid: utxoSwapWithdrawTransactionHash,\r\n              } = utxoWithdrawData\r\n\r\n              const secret = await this.btcSwap.getSecretFromTxhash(utxoSwapWithdrawTransactionHash)\r\n              if (secret) {\r\n                this.finishStep({\r\n                  secret,\r\n                  utxoSwapWithdrawTransactionHash,\r\n                }, 'wait-withdraw-utxo')\r\n              }\r\n              return true\r\n            } else {\r\n              return false\r\n            }\r\n          })\r\n        },\r\n\r\n        // 6 - `withdraw-eth` - withdraw from AB\r\n        async () => {\r\n          await flow.ethLikeSwap.withdrawFromABContract({ flow })\r\n        },\r\n\r\n        // 7 - `finish`\r\n        async () => {\r\n          // @to-do - txids room events\r\n          flow.finishStep({\r\n            isFinished: true,\r\n          }, 'finish')\r\n        },\r\n\r\n        // 8 - `end`\r\n        async () => {\r\n          \r\n        },\r\n      ]\r\n    }\r\n  }\r\n\r\n  getBTCScriptAddress() {\r\n    const { scriptAddress } = this.state\r\n    return scriptAddress;\r\n  }\r\n\r\n  async skipSyncBalance() {\r\n    this.finishStep({}, { step: 'sync-balance' })\r\n  }\r\n\r\n  getRefundTxHex = () => {\r\n    this.btcSwap.getRefundHexTransaction({\r\n      scriptValues: this.state.utxoScriptValues,\r\n      secret: this.state.secret,\r\n    })\r\n      .then((txHex) => {\r\n        this.setState({\r\n          refundTxHex: txHex,\r\n        })\r\n      })\r\n  }\r\n\r\n  tryRefund() {\r\n    const flow = this\r\n    const { utxoScriptValues, secret } = flow.state\r\n\r\n    return flow.btcSwap.refund({\r\n      scriptValues: utxoScriptValues,\r\n      secret: secret,\r\n    })\r\n      .then((hash) => {\r\n        if (!hash) {\r\n          return false\r\n        }\r\n\r\n        this.swap.room.sendMessage({\r\n          event: 'utxo refund completed',\r\n        })\r\n\r\n        flow.setState({\r\n          refundTransactionHash: hash,\r\n          isRefunded: true,\r\n          isSwapExist: false,\r\n        }, true)\r\n\r\n        return true\r\n      })\r\n      .catch((error) => {\r\n        if (/Address is empty/.test(error)) {\r\n          // TODO - fetch TX list to script for refund TX\r\n          flow.setState({\r\n            isRefunded: true,\r\n            isSwapExist: false,\r\n          }, true)\r\n          return true\r\n        } else {\r\n          console.warn('Btc refund:', error)\r\n\r\n          return false\r\n        }\r\n      })\r\n  }\r\n\r\n  async isRefundSuccess() {\r\n    const { refundTransactionHash, isRefunded } = this.state\r\n    if (refundTransactionHash && isRefunded) {\r\n      if (await this.btcSwap.checkTX(refundTransactionHash)) {\r\n        return true\r\n      } else {\r\n        console.warn('BTC2ETH - unknown refund transaction')\r\n        this.setState( {\r\n          refundTransactionHash: null,\r\n          isRefunded: false,\r\n        } )\r\n        return false\r\n      }\r\n    }\r\n    return false\r\n  }\r\n\r\n  async tryWithdraw(_secret) {\r\n    const { secret, secretHash, isEthWithdrawn } = this.state\r\n\r\n    if (!_secret)\r\n      throw new Error(`Withdrawal is automatic. For manual withdrawal, provide a secret`)\r\n\r\n    if (secret && secret != _secret)\r\n      console.warn(`Secret already known and is different. Are you sure?`)\r\n\r\n    if (isEthWithdrawn)\r\n      console.warn(`Looks like money were already withdrawn, are you sure?`)\r\n\r\n    debug('swap.core:flow')(`WITHDRAW using secret = ${_secret}`)\r\n\r\n    const _secretHash = this.app.env.bitcoin.crypto.ripemd160(Buffer.from(_secret, 'hex')).toString('hex')\r\n\r\n    if (secretHash != _secretHash)\r\n      console.warn(`Hash does not match! state: ${secretHash}, given: ${_secretHash}`)\r\n\r\n    const data = {\r\n      ownerAddress: this.getParticipantAddress(this.swap),\r\n      secret: _secret,\r\n    }\r\n\r\n    await this.ethLikeSwap.withdraw(data, (hash) => {\r\n      debug('swap.core:flow')(`TX hash=${hash}`)\r\n      this.setState({\r\n        ethLikeSwapWithdrawTransactionHash: hash,\r\n        canCreateEthTransaction: true,\r\n      })\r\n    }).then(() => {\r\n\r\n      this.finishStep({\r\n        isEthWithdrawn: true,\r\n      }, 'withdraw-eth')\r\n    })\r\n  }\r\n}\r\n\r\nexport default BtcToEthLike\r\n","import { constants } from 'swap.app'\r\nimport BtcToEthLike from './atomic/BtcToEthLike'\r\n\r\n\r\nclass BTC2ETH extends BtcToEthLike {\r\n  static getName() {\r\n    return `${this.getFromName()}2${this.getToName()}`\r\n  }\r\n\r\n  static getFromName() {\r\n    return constants.COINS.btc\r\n  }\r\n\r\n  static getToName() {\r\n    return constants.COINS.eth\r\n  }\r\n\r\n  constructor(swap) {\r\n    super(swap, {\r\n      flowName: `BTC2ETH`,\r\n      getMyAddress: swap.app.getMyEthAddress.bind(swap.app),\r\n      getParticipantAddress: swap.app.getParticipantEthAddress.bind(swap.app),\r\n    })\r\n  }\r\n}\r\n\r\nexport default BTC2ETH\r\n","import debug from 'debug'\r\nimport {util } from 'swap.app'\r\nimport { AtomicAB2UTXO } from 'swap.swap'\r\nimport Swap from 'swap.swap'\r\nimport { EthLikeTokenSwap, BtcSwap } from 'swap.swaps'\r\n\r\n\r\ninterface IEthLikeTokenToBtc {\r\n  blockchainName: string\r\n  tokenName: string\r\n  getMyAddress: Function\r\n  getParticipantAddress: Function\r\n}\r\n\r\nexport default class EthLikeTokenToBtc extends AtomicAB2UTXO {\r\n\r\n  ethTokenSwap: EthLikeTokenSwap\r\n  btcSwap: BtcSwap\r\n  state: any\r\n\r\n  getMyAddress: Function\r\n  getParticipantAddress: Function\r\n  blockchainName: string\r\n  tokenName: string\r\n\r\n  constructor(swap: Swap, options: IEthLikeTokenToBtc) {\r\n    super(swap)\r\n    if (!options.tokenName) {\r\n      throw new Error(`EthLikeTokenToBtc - option tokenName requery`)\r\n    }\r\n    if (!options.blockchainName) {\r\n      throw new Error(`EthLikeTokenToBtc - token ${options.tokenName} - option blockchainName requery`)\r\n    }\r\n    if (!options.getMyAddress || typeof options.getMyAddress !== 'function') {\r\n      throw new Error(`EthLikeTokenToBtc ${options.blockchainName} - token ${options.tokenName} - option getMyAddress - function requery`)\r\n    }\r\n    if (!options.getParticipantAddress || typeof options.getParticipantAddress !== 'function') {\r\n      throw new Error(`EthLikeTokenToBtc ${options.blockchainName} - token ${options.tokenName} - option getParticipantAddress - function requery`)\r\n    }\r\n\r\n    this.blockchainName = options.blockchainName\r\n    this.tokenName = options.tokenName\r\n    this.getMyAddress = options.getMyAddress\r\n    this.getParticipantAddress = options.getParticipantAddress\r\n\r\n    this.utxoCoin = `btc`\r\n\r\n    this.isTakerMakerModel = true\r\n    this.setupTakerMakerEvents()\r\n    this.stepNumbers = this.getStepNumbers()\r\n\r\n    this.ethTokenSwap = swap.participantSwap\r\n    this.btcSwap = swap.ownerSwap\r\n\r\n    this.abBlockchain = this.ethTokenSwap\r\n    this.utxoBlockchain = this.btcSwap\r\n\r\n    if (!this.ethTokenSwap) {\r\n      throw new Error('ETHTOKEN2BTC: \"ethTokenSwap\" of type object required')\r\n    }\r\n    if (!this.btcSwap) {\r\n      throw new Error('ETHTOKEN2BTC: \"btcSwap\" of type object required')\r\n    }\r\n\r\n    this.state = {\r\n      step: 0,\r\n\r\n      isStoppedSwap: false,\r\n\r\n      signTransactionHash: null,\r\n      isSignFetching: false,\r\n      isMeSigned: false,\r\n\r\n      targetWallet : null,\r\n      secretHash: null,\r\n\r\n      isBalanceFetching: false,\r\n      isBalanceEnough: true,\r\n      balance: null,\r\n\r\n      ethSwapCreationTransactionHash: null,\r\n      canCreateEthTransaction: true,\r\n      isEthContractFunded: false,\r\n\r\n      secret: null,\r\n\r\n      isEthWithdrawn: false,\r\n      isbtcWithdrawn: false,\r\n\r\n      ethSwapWithdrawTransactionHash: null,\r\n      utxoSwapWithdrawTransactionHash: null,\r\n\r\n      refundTransactionHash: null,\r\n      isRefunded: false,\r\n\r\n      isFinished: false,\r\n      isSwapExist: false,\r\n\r\n      withdrawRequestIncoming: false,\r\n      withdrawRequestAccepted: false,\r\n\r\n      isFailedTransaction: false,\r\n      isFailedTransactionError: null,\r\n      gasAmountNeeded: 0,\r\n    }\r\n\r\n    this._persistState()\r\n\r\n    const flow = this\r\n\r\n    if (this.isTaker()) {\r\n      flow.swap.room.on('create utxo script', (data) => {\r\n        const {\r\n          utxoScriptCreatingTransactionHash,\r\n        } = data\r\n        flow.setState({\r\n          utxoScriptCreatingTransactionHash,\r\n        }, true)\r\n      })\r\n      flow.swap.room.on('ethWithdrawTxHash', (data) => {\r\n        const {\r\n          ethSwapWithdrawTransactionHash,\r\n        } = data\r\n        flow.setState({\r\n          ethSwapWithdrawTransactionHash,\r\n        })\r\n      })\r\n    } else {\r\n      flow.swap.room.once('request withdraw', () => {\r\n        flow.setState({\r\n          withdrawRequestIncoming: true,\r\n        })\r\n      })\r\n\r\n      flow.swap.room.on('wait btc confirm', () => {\r\n        flow.setState({\r\n          waitBtcConfirm: true,\r\n        })\r\n      })\r\n\r\n      flow.swap.room.on('request eth contract', () => {\r\n        const { ethSwapCreationTransactionHash } = flow.state\r\n\r\n        if (ethSwapCreationTransactionHash) {\r\n          console.log('Exists - send hash')\r\n          flow.swap.room.sendMessage({\r\n            event: 'create eth contract',\r\n            data: {\r\n              ethSwapCreationTransactionHash,\r\n            },\r\n          })\r\n        }\r\n      })\r\n    }\r\n\r\n    super._persistSteps()\r\n  }\r\n\r\n  _persistState() {\r\n    super._persistState()\r\n  }\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  _getSteps() {\r\n    const flow = this\r\n\r\n    if (this.isMaker()) {\r\n      return [\r\n\r\n        // 1. Sign swap to start\r\n\r\n        () => {\r\n          this.signABSide()\r\n        },\r\n\r\n        // 2. Wait participant create, fund BTC Script\r\n\r\n        () => {\r\n          flow.waitUTXOScriptCreated()\r\n        },\r\n\r\n        // 3. Verify BTC Script\r\n\r\n        () => {\r\n          debug('swap.core:flow')(`waiting verify btc script`)\r\n          this.verifyScript()\r\n        },\r\n\r\n        // 4. Check balance\r\n\r\n        () => {\r\n          this.syncBalance()\r\n        },\r\n\r\n        // 5. Create ETH Contract\r\n\r\n        async () => {\r\n          const scriptFunded = await this.waitUTXOScriptFunded()\r\n\r\n          if (scriptFunded) {\r\n            await flow.ethTokenSwap.fundERC20Contract({\r\n              flow,\r\n            })\r\n          }\r\n        },\r\n\r\n        // 6. Wait participant withdraw\r\n\r\n        async () => {\r\n          const {\r\n            secretHash,\r\n          } = this.state\r\n\r\n          await util.helpers.repeatAsyncUntilResult(async () => {\r\n            const isSwapCreated = await flow.ethTokenSwap.isSwapCreated({\r\n              ownerAddress: flow.getMyAddress(),\r\n              participantAddress: flow.getParticipantAddress(flow.swap),\r\n              secretHash,\r\n            })\r\n\r\n            if (isSwapCreated) {\r\n              await flow.ethTokenSwap.getSecretFromContract({ flow })\r\n              return true\r\n            }\r\n            return false\r\n          })\r\n        },\r\n\r\n        // 7. Withdraw\r\n\r\n        async () => {\r\n          await this.btcSwap.withdrawFromSwap({\r\n            flow,\r\n          })\r\n        },\r\n\r\n        // 8. Finish\r\n\r\n        () => {\r\n          flow.swap.room.once('request swap finished', () => {\r\n            const { utxoSwapWithdrawTransactionHash } = flow.state\r\n\r\n            flow.swap.room.sendMessage({\r\n              event: 'swap finished',\r\n              data: {\r\n                utxoSwapWithdrawTransactionHash,\r\n              },\r\n            })\r\n          })\r\n\r\n          flow.finishStep({\r\n            isFinished: true,\r\n          }, { step: 'finish' })\r\n        },\r\n\r\n        // 9. Finished!\r\n\r\n        () => {},\r\n      ]\r\n    } else {\r\n      return [\r\n        // 1 - `sign` - Signs\r\n        async () => {\r\n          this.signABSide()\r\n        },\r\n\r\n        // 2 - `sync-balance` - syncBalance\r\n        async () => {\r\n          this.syncBalance()\r\n        },\r\n\r\n        // 3 - `lock-eth` - create AB contract -  , ,  \r\n        async () => {\r\n          if (!this.state.secret) {\r\n            const {\r\n              secret,\r\n              secretHash,\r\n            } = this.generateSecret()\r\n\r\n            this.createWorkUTXOScript(secretHash, false)\r\n\r\n            this.setState({\r\n              secret,\r\n              secretHash,\r\n            }, true)\r\n          }\r\n\r\n          await flow.ethTokenSwap.fundERC20Contract({\r\n            flow,\r\n            //     (  )\r\n            //  ,  ,   utxo     ab  \r\n            // -   UTXO    \r\n            //     ab   getTargetWallet\r\n            useTargetWallet: true,\r\n          })\r\n        },\r\n\r\n        // 4 - `wait-lock-utxo` - wait create UTXO\r\n        async () => {\r\n          await util.helpers.repeatAsyncUntilResult(async () => {\r\n            const isUTXOFunded = await this.waitUTXOScriptFunded()\r\n            if (isUTXOFunded) {\r\n              this.finishStep({}, 'wait-lock-utxo`')\r\n              return true\r\n            }\r\n            return false\r\n          })\r\n        },\r\n\r\n        // 5 - `withdraw-utxo` - withdraw from UTXO\r\n        async () => {\r\n          await this.btcSwap.withdrawFromSwap({\r\n            flow,\r\n          })\r\n        },\r\n\r\n        // 6 - `finish`\r\n        async () => {\r\n          // @to-do - txids room events\r\n          flow.finishStep({\r\n            isFinished: true,\r\n          }, 'finish')\r\n        },\r\n\r\n        // 7 - `end`\r\n        async () => {},\r\n      ]\r\n    }\r\n  }\r\n\r\n  _checkSwapAlreadyExists() {\r\n    const swapData = {\r\n      ownerAddress: this.getMyAddress(),\r\n      participantAddress: this.getParticipantAddress(this.swap)\r\n    }\r\n\r\n    return this.ethTokenSwap.checkSwapExists(swapData)\r\n  }\r\n\r\n  async tryRefund() {\r\n    const { secretHash } = this.state\r\n\r\n    const refundHandler = (hash = null) => {\r\n      this.swap.room.sendMessage({\r\n        event: 'eth refund completed',\r\n      })\r\n\r\n      this.setState({\r\n        refundTransactionHash: hash,\r\n        isRefunded: true,\r\n        isSwapExist: false,\r\n      }, true)\r\n    }\r\n\r\n    try {\r\n      const wasRefunded = await this.ethTokenSwap.wasRefunded({ secretHash })\r\n\r\n      if (wasRefunded) {\r\n        debug('swap.core:flow')('This swap was refunded')\r\n\r\n        refundHandler()\r\n\r\n        return true\r\n      }\r\n    } catch (error) {\r\n      console.warn('wasRefunded error:', error)\r\n\r\n      return false\r\n    }\r\n\r\n    return this.ethTokenSwap.refund({\r\n      participantAddress: this.getParticipantAddress(this.swap),\r\n    })\r\n      .then((hash) => {\r\n        if (!hash) {\r\n          return false\r\n        }\r\n\r\n        //@ts-ignore: strictNullChecks\r\n        refundHandler(hash)\r\n\r\n        return true\r\n      })\r\n      .catch((error) => false)\r\n  }\r\n\r\n\r\n\r\n  async isRefundSuccess() {\r\n    return true\r\n  }\r\n\r\n  async tryWithdraw(_secret) {\r\n    const { secret, secretHash, isbtcWithdrawn, utxoScriptValues } = this.state\r\n\r\n    if (!_secret)\r\n      throw new Error(`Withdrawal is automatic. For manual withdrawal, provide a secret`)\r\n\r\n    if (!utxoScriptValues)\r\n      throw new Error(`Cannot withdraw without script values`)\r\n\r\n    if (secret && secret != _secret)\r\n      console.warn(`Secret already known and is different. Are you sure?`)\r\n\r\n    if (isbtcWithdrawn)\r\n      console.warn(`Looks like money were already withdrawn, are you sure?`)\r\n\r\n    debug('swap.core:flow')(`WITHDRAW using secret = ${_secret}`)\r\n\r\n    const _secretHash = this.app.env.bitcoin.crypto.ripemd160(Buffer.from(_secret, 'hex')).toString('hex')\r\n\r\n    if (secretHash != _secretHash)\r\n      console.warn(`Hash does not match! state: ${secretHash}, given: ${_secretHash}`)\r\n\r\n    const {scriptAddress} = this.btcSwap.createScript(utxoScriptValues)\r\n    const balance = await this.btcSwap.getBalance(scriptAddress)\r\n\r\n    debug('swap.core:flow')(`address=${scriptAddress}, balance=${balance}`)\r\n\r\n    if (balance === 0) {\r\n      this.finishStep({\r\n        isbtcWithdrawn: true,\r\n      }, {step: 'withdraw-utxo'})\r\n      throw new Error(`Already withdrawn: address=${scriptAddress},balance=${balance}`)\r\n    }\r\n\r\n    this.btcSwap.withdraw({\r\n      scriptValues: utxoScriptValues,\r\n      secret: _secret,\r\n    }).then((hash) => {\r\n      debug('swap.core:flow')(`TX hash=${hash}`)\r\n      this.setState({\r\n        utxoSwapWithdrawTransactionHash: hash,\r\n      })\r\n\r\n      debug('swap.core:flow')(`TX withdraw sent: ${this.state.utxoSwapWithdrawTransactionHash}`)\r\n\r\n      this.finishStep({\r\n        isbtcWithdrawn: true,\r\n      }, { step: 'withdraw-utxo' })\r\n    })\r\n  }\r\n}","import { constants } from 'swap.app'\r\nimport EthLikeTokenToBtc from './atomic/EthLikeTokenToBtc'\r\n\r\n\r\nexport default (tokenName) => {\r\n\r\n  class ETHTOKEN2BTC extends EthLikeTokenToBtc {\r\n    _flowName: string\r\n    static blockchainName = `ETH`\r\n\r\n    static getName() {\r\n      return `${this.getFromName()}2${this.getToName()}`\r\n    }\r\n    static getFromName() {\r\n      return `{${this.blockchainName}}${tokenName.toUpperCase()}`\r\n    }\r\n    static getToName() {\r\n      return constants.COINS.btc\r\n    }\r\n\r\n    constructor(swap) {\r\n      super(swap, {\r\n        blockchainName: `ETH`,\r\n        tokenName,\r\n        getMyAddress: swap.app.getMyEthAddress.bind(swap.app),\r\n        getParticipantAddress: swap.app.getParticipantEthAddress.bind(swap.app),\r\n      })\r\n      this._flowName = ETHTOKEN2BTC.getName()\r\n    }\r\n  }\r\n\r\n  return ETHTOKEN2BTC\r\n}\r\n","import debug from 'debug'\r\nimport { util } from 'swap.app'\r\nimport { AtomicAB2UTXO } from 'swap.swap'\r\nimport Swap from 'swap.swap'\r\nimport { EthLikeTokenSwap, BtcSwap } from 'swap.swaps'\r\n\r\n\r\ninterface IBtcToEthLikeToken {\r\n  blockchainName: string\r\n  tokenName: string\r\n  getMyAddress: Function\r\n  getParticipantAddress: Function\r\n}\r\n\r\nexport default class BtcToEthLikeToken extends AtomicAB2UTXO {\r\n\r\n  ethTokenSwap: EthLikeTokenSwap\r\n  btcSwap: BtcSwap\r\n  state: any\r\n\r\n  getMyAddress: Function\r\n  getParticipantAddress: Function\r\n  blockchainName: string\r\n  tokenName: string\r\n\r\n  constructor(swap: Swap, options: IBtcToEthLikeToken) {\r\n    super(swap)\r\n    if (!options.tokenName) {\r\n      throw new Error(`BtcToEthLikeToken - option tokenName requery`)\r\n    }\r\n    if (!options.blockchainName) {\r\n      throw new Error(`BtcToEthLikeToken - token ${options.tokenName} - option blockchainName requery`)\r\n    }\r\n    if (!options.getMyAddress || typeof options.getMyAddress !== 'function') {\r\n      throw new Error(`BtcToEthLikeToken ${options.blockchainName} - token ${options.tokenName} - option getMyAddress - function requery`)\r\n    }\r\n    if (!options.getParticipantAddress || typeof options.getParticipantAddress !== 'function') {\r\n      throw new Error(`BtcToEthLikeToken ${options.blockchainName} - token ${options.tokenName} - option getParticipantAddress - function requery`)\r\n    }\r\n\r\n    this.blockchainName = options.blockchainName\r\n    this.tokenName = options.tokenName\r\n    this.getMyAddress = options.getMyAddress\r\n    this.getParticipantAddress = options.getParticipantAddress\r\n\r\n    this.utxoCoin = `btc`\r\n\r\n    this.isUTXOSide = true\r\n    this.isTakerMakerModel = true\r\n    this.setupTakerMakerEvents()\r\n\r\n    this.stepNumbers = this.getStepNumbers()\r\n\r\n    this.ethTokenSwap = swap.ownerSwap\r\n    this.btcSwap      = swap.participantSwap\r\n\r\n    this.abBlockchain = this.ethTokenSwap\r\n    this.utxoBlockchain = this.btcSwap\r\n\r\n    if (!this.ethTokenSwap) {\r\n      throw new Error('BTC2ETH: \"ethTokenSwap\" of type object required')\r\n    }\r\n    if (!this.btcSwap) {\r\n      throw new Error('BTC2ETH: \"btcSwap\" of type object required')\r\n    }\r\n\r\n    this.state = {\r\n      step: 0,\r\n\r\n      isStoppedSwap: false,\r\n\r\n      signTransactionHash: null,\r\n      isSignFetching: false,\r\n      isParticipantSigned: false,\r\n\r\n      ethSwapCreationTransactionHash: null,\r\n\r\n      secretHash: null,\r\n\r\n      isBalanceFetching: false,\r\n      isBalanceEnough: true,\r\n      balance: null,\r\n\r\n      isEthContractFunded: false,\r\n\r\n      utxoSwapWithdrawTransactionHash: null,\r\n      ethSwapWithdrawTransactionHash: null,\r\n\r\n      secret: null,\r\n\r\n      canCreateEthTransaction: true,\r\n      isEthWithdrawn: false,\r\n\r\n      refundTransactionHash: null,\r\n      isRefunded: false,\r\n\r\n      withdrawFee: null,\r\n      refundTxHex: null,\r\n      isFinished: false,\r\n      isSwapExist: false,\r\n      utxoFundError: null,\r\n    }\r\n\r\n    const flow = this\r\n\r\n    if (this.isMaker()) {\r\n      this.swap.room.once('create eth contract', async ({\r\n        ethSwapCreationTransactionHash,\r\n      }) => {\r\n        flow.setState({\r\n          ethSwapCreationTransactionHash,\r\n        }, true)\r\n      })\r\n    }\r\n\r\n    this._persistState()\r\n    super._persistSteps()\r\n  }\r\n\r\n  _persistState() {\r\n    super._persistState()\r\n  }\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  _getSteps() {\r\n    const flow = this\r\n\r\n    if (this.isTaker()) {\r\n      return [\r\n\r\n        // 1. Signs\r\n\r\n        async () => {\r\n          this.signUTXOSide()\r\n        },\r\n\r\n        // 2. Create secret, secret hash and BTC script\r\n\r\n        () => {\r\n          this.submitSecret()\r\n        },\r\n\r\n        // 3. Check system wallet balance\r\n\r\n        () => {\r\n          this.syncBalance()\r\n        },\r\n\r\n        // 4. Create BTC Script, fund, notify participant\r\n\r\n        async () => {\r\n          await this.btcSwap.fundSwapScript({\r\n            flow,\r\n          })\r\n        },\r\n\r\n        // 5. Wait participant creates ETH Contract\r\n\r\n        async () => {\r\n          await this.ethTokenSwap.waitAB2UTXOContract({\r\n            flow,\r\n            utxoCoin: `btc`,\r\n          })\r\n        },\r\n\r\n        // 6. Withdraw\r\n\r\n        async () => {\r\n          await flow.ethTokenSwap.withdrawFromABContract({ flow })\r\n        },\r\n\r\n        // 7. Finish\r\n\r\n        () => {\r\n          flow.swap.room.once('swap finished', ({utxoSwapWithdrawTransactionHash}) => {\r\n            flow.setState({\r\n              utxoSwapWithdrawTransactionHash,\r\n            })\r\n          })\r\n\r\n          flow.swap.room.sendMessage({\r\n            event: 'request swap finished',\r\n          })\r\n\r\n          flow.finishStep({\r\n            isFinished: true,\r\n          }, 'finish')\r\n        },\r\n\r\n        // 8. Finished!\r\n\r\n        () => {}\r\n      ]\r\n    } else {\r\n      return [\r\n        // 1 - `sign` Signs\r\n        async () => {\r\n          this.signUTXOSide()\r\n        },\r\n\r\n        // 2 - `sync-balance` - syncBalance\r\n        async () => {\r\n          this.syncBalance()\r\n        },\r\n\r\n        // 3 - `wait-lock-eth` - wait taker create AB -  \r\n        async () => {\r\n          await util.helpers.repeatAsyncUntilResult(async () => {\r\n            const isContractFunded = await this.ethTokenSwap.isContractFunded(this)\r\n\r\n            if (isContractFunded) {\r\n              this.finishStep({\r\n                isEthContractFunded: true,\r\n              }, 'wait-lock-eth`')\r\n              return true\r\n            }\r\n            return false\r\n          })\r\n        },\r\n\r\n        // 4 - `lock-utxo` - create UTXO\r\n        async () => {\r\n          // Repeat until \r\n          await util.helpers.repeatAsyncUntilResult(async () => {\r\n            const {\r\n              secretHash,\r\n              utxoScriptValues\r\n            } = flow.state\r\n            if (secretHash && utxoScriptValues) {\r\n              const isSwapCreated = await flow.ethTokenSwap.isSwapCreated({\r\n                ownerAddress: flow.getParticipantAddress(flow.swap),\r\n                participantAddress: flow.getMyAddress(),\r\n                secretHash,\r\n              })\r\n              if (isSwapCreated) {\r\n                // check - token is valid\r\n                const tokenIsValid = await this.ethTokenSwap.checkTokenIsValid({\r\n                  ownerAddress: flow.getParticipantAddress(flow.swap),\r\n                  participantAddress: flow.getMyAddress(),\r\n                })\r\n                const tokenIsValid2 = await this.ethTokenSwap.checkTokenIsValid({\r\n                  ownerAddress: flow.getMyAddress(),\r\n                  participantAddress: flow.getParticipantAddress(flow.swap),\r\n                })\r\n\r\n                const destAddressIsOk = await this.ethTokenSwap.checkTargetAddress({ flow })\r\n\r\n                if (destAddressIsOk) {\r\n                  await this.btcSwap.fundSwapScript({\r\n                    flow,\r\n                  })\r\n                  return true\r\n                } else {\r\n                  console.warn('Destination address not valid. Stop swap now!')\r\n                }\r\n              } else {\r\n                console.log('Swap not mined - wait')\r\n              }\r\n            } else {\r\n              flow.swap.room.sendMessage({\r\n                event: 'request utxo script',\r\n              })\r\n              return false\r\n            }\r\n          })\r\n        },\r\n\r\n        // 5 - `wait-withdraw-utxo` - wait withdraw UTXO - fetch secret from TX - getSecretFromTxhash\r\n        async () => {\r\n          await util.helpers.repeatAsyncUntilResult(async () => {\r\n            // check withdraw\r\n            try {\r\n              const {\r\n                utxoScriptValues,\r\n              } = this.state\r\n              const { scriptAddress } = this.utxoBlockchain.createScript(utxoScriptValues)\r\n\r\n              const utxoWithdrawData = await this.btcSwap.checkWithdraw(scriptAddress)\r\n\r\n              if (utxoWithdrawData) {\r\n                const {\r\n                  txid: utxoSwapWithdrawTransactionHash,\r\n                } = utxoWithdrawData\r\n\r\n                const secret = await this.btcSwap.getSecretFromTxhash(utxoSwapWithdrawTransactionHash)\r\n                if (secret) {\r\n                  this.finishStep({\r\n                    secret,\r\n                    utxoSwapWithdrawTransactionHash,\r\n                  }, 'wait-withdraw-utxo')\r\n                }\r\n                return true\r\n              } else {\r\n                return false\r\n              }\r\n            } catch (e) {\r\n              console.log('>>>> BTC2ETHTOKEN - Step 5 error')\r\n              console.error(e)\r\n              return false\r\n            }\r\n          })\r\n        },\r\n\r\n        // 6 - `withdraw-eth` - withdraw from AB\r\n        async () => {\r\n          await flow.ethTokenSwap.withdrawFromABContract({ flow })\r\n        },\r\n\r\n        // 7 - `finish`\r\n        async () => {\r\n          // @to-do - txids room events\r\n          flow.finishStep({\r\n            isFinished: true,\r\n          }, 'finish')\r\n        },\r\n\r\n        // 8 - `end`\r\n        async () => {},\r\n      ]\r\n    }\r\n  }\r\n\r\n  async skipSyncBalance() {\r\n    this.finishStep({}, { step: 'sync-balance' })\r\n  }\r\n\r\n  getRefundTxHex = () => {\r\n    this.btcSwap.getRefundHexTransaction({\r\n      scriptValues: this.state.utxoScriptValues,\r\n      secret: this.state.secret,\r\n    })\r\n      .then((txHex) => {\r\n        this.setState({\r\n          refundTxHex: txHex,\r\n        })\r\n      })\r\n  }\r\n\r\n  tryRefund() {\r\n    const flow = this\r\n    const { utxoScriptValues, secret } = flow.state\r\n\r\n    return flow.btcSwap.refund({\r\n      scriptValues: utxoScriptValues,\r\n      secret: secret,\r\n    })\r\n      .then((hash) => {\r\n        if (!hash) {\r\n          return false\r\n        }\r\n\r\n        this.swap.room.sendMessage({\r\n          event: 'utxo refund completed',\r\n        })\r\n\r\n        flow.setState({\r\n          refundTransactionHash: hash,\r\n          isRefunded: true,\r\n          isSwapExist: false,\r\n        }, true)\r\n\r\n        return true\r\n      })\r\n      .catch((error) => {\r\n        if (/Address is empty/.test(error)) {\r\n          // TODO - fetch TX list to script for refund TX\r\n          flow.setState({\r\n            isRefunded: true,\r\n            isSwapExist: false,\r\n          }, true)\r\n          return true\r\n        } else {\r\n          console.warn('Btc refund:', error)\r\n\r\n          return false\r\n        }\r\n      })\r\n  }\r\n\r\n  async isRefundSuccess() {\r\n    const { refundTransactionHash, isRefunded } = this.state\r\n    if (refundTransactionHash && isRefunded) {\r\n      if (await this.btcSwap.checkTX(refundTransactionHash)) {\r\n        return true\r\n      } else {\r\n        console.warn('BTC2ETHTOKEN - unknown refund transaction')\r\n        this.setState( {\r\n          refundTransactionHash: null,\r\n          isRefunded: false,\r\n        } )\r\n        return false\r\n      }\r\n    }\r\n    return false\r\n  }\r\n\r\n  async tryWithdraw(_secret) {\r\n    const { secret, secretHash, isEthWithdrawn } = this.state\r\n\r\n    if (!_secret)\r\n      throw new Error(`Withdrawal is automatic. For manual withdrawal, provide a secret`)\r\n\r\n    if (secret && secret != _secret)\r\n      console.warn(`Secret already known and is different. Are you sure?`)\r\n\r\n    if (isEthWithdrawn)\r\n      console.warn(`Looks like money were already withdrawn, are you sure?`)\r\n\r\n    debug('swap.core:flow')(`WITHDRAW using secret = ${_secret}`)\r\n\r\n    const _secretHash = this.app.env.bitcoin.crypto.ripemd160(Buffer.from(_secret, 'hex')).toString('hex')\r\n\r\n    if (secretHash != _secretHash)\r\n      console.warn(`Hash does not match! state: ${secretHash}, given: ${_secretHash}`)\r\n\r\n    const data = {\r\n      ownerAddress: this.getParticipantAddress(this.swap),\r\n      secret: _secret,\r\n    }\r\n\r\n    await this.ethTokenSwap.withdraw(data, (hash) => {\r\n      debug('swap.core:flow')(`TX hash=${hash}`)\r\n      this.setState({\r\n        ethSwapWithdrawTransactionHash: hash,\r\n        canCreateEthTransaction: true,\r\n      })\r\n    }).then(() => {\r\n\r\n      this.finishStep({\r\n        isEthWithdrawn: true,\r\n      }, 'withdraw-eth')\r\n    })\r\n  }\r\n}\r\n","import { constants } from 'swap.app'\r\nimport BtcToEthLikeToken from './atomic/BtcToEthLikeToken'\r\n\r\n\r\nexport default (tokenName) => {\r\n  class BTC2ETHTOKEN extends BtcToEthLikeToken {\r\n    _flowName: string\r\n    static blockchainName = `ETH`\r\n\r\n    static getName() {\r\n      return `${this.getFromName()}2${this.getToName()}`\r\n    }\r\n    static getFromName() {\r\n      return constants.COINS.btc\r\n    }\r\n    static getToName() {\r\n      return `{${this.blockchainName}}${tokenName.toUpperCase()}`\r\n    }\r\n\r\n    constructor(swap) {\r\n      super(swap, {\r\n        blockchainName: `ETH`,\r\n        tokenName,\r\n        getMyAddress: swap.app.getMyEthAddress.bind(swap.app),\r\n        getParticipantAddress: swap.app.getParticipantEthAddress.bind(swap.app),\r\n      })\r\n\r\n      this._flowName = BTC2ETHTOKEN.getName()\r\n    }\r\n  }\r\n\r\n  return BTC2ETHTOKEN\r\n}\r\n","import debug from 'debug'\r\nimport SwapApp, { constants, util } from 'swap.app'\r\nimport { AtomicAB2UTXO } from 'swap.swap'\r\nimport { BigNumber } from 'bignumber.js'\r\n\r\n\r\nclass GHOST2ETH extends AtomicAB2UTXO {\r\n\r\n  _flowName: string\r\n  ghostSwap: any\r\n  ethSwap: any\r\n  state: any\r\n\r\n  static getName() {\r\n    return `${this.getFromName()}2${this.getToName()}`\r\n  }\r\n  static getFromName() {\r\n    return constants.COINS.ghost\r\n  }\r\n  static getToName() {\r\n    return constants.COINS.eth\r\n  }\r\n\r\n  constructor(swap) {\r\n    super(swap)\r\n    this.utxoCoin = `ghost`\r\n\r\n    this._flowName = GHOST2ETH.getName()\r\n\r\n    this.stepNumbers = {\r\n      'sign': 1,\r\n      'submit-secret': 2,\r\n      'sync-balance': 3,\r\n      'lock-utxo': 4,\r\n      'wait-lock-eth': 5,\r\n      'withdraw-eth': 6,\r\n      'finish': 7,\r\n      'end': 8\r\n    }\r\n\r\n    this.ethSwap = swap.ownerSwap\r\n    this.ghostSwap = swap.participantSwap\r\n\r\n    this.abBlockchain = this.ethSwap\r\n    this.utxoBlockchain = this.ghostSwap\r\n    this.isUTXOSide = true\r\n\r\n    if (!this.ethSwap) {\r\n      throw new Error('GHOST2ETH: \"ethSwap\" of type object required')\r\n    }\r\n    if (!this.ghostSwap) {\r\n      throw new Error('GHOST2ETH: \"ghostSwap\" of type object required')\r\n    }\r\n\r\n    this.state = {\r\n      step: 0,\r\n\r\n      isStoppedSwap: false,\r\n\r\n      signTransactionHash: null,\r\n      isSignFetching: false,\r\n      isParticipantSigned: false,\r\n\r\n      ethSwapCreationTransactionHash: null,\r\n\r\n      secretHash: null,\r\n\r\n      isBalanceFetching: false,\r\n      isBalanceEnough: true,\r\n      balance: null,\r\n\r\n      isEthContractFunded: false,\r\n\r\n      utxoSwapWithdrawTransactionHash: null,\r\n      ethSwapWithdrawTransactionHash: null,\r\n\r\n      canCreateEthTransaction: true,\r\n      isEthWithdrawn: false,\r\n\r\n      refundTransactionHash: null,\r\n      isRefunded: false,\r\n\r\n      withdrawFee: null,\r\n      refundTxHex: null,\r\n      isFinished: false,\r\n      isSwapExist: false,\r\n\r\n      requireWithdrawFee: false,\r\n    }\r\n\r\n    this._persistState()\r\n    super._persistSteps()\r\n  }\r\n\r\n  _persistState() {\r\n    super._persistState()\r\n  }\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  _getSteps() {\r\n    const flow = this\r\n\r\n    return [\r\n\r\n      // 1. Signs\r\n\r\n      async () => {\r\n        this.signUTXOSide()\r\n      },\r\n\r\n      // 2. Create secret, secret hash and BTC script\r\n\r\n      () => {\r\n        this.submitSecret()\r\n      },\r\n\r\n      // 3. Check balance\r\n\r\n      () => {\r\n        this.syncBalance()\r\n      },\r\n\r\n      // 4. Create BTC Script, fund, notify participant\r\n\r\n      async () => {\r\n        const onTransactionHash = (txID) => {\r\n          const { utxoScriptCreatingTransactionHash, utxoScriptValues } = flow.state\r\n\r\n          if (utxoScriptCreatingTransactionHash) {\r\n            return\r\n          }\r\n\r\n          flow.setState({\r\n            utxoScriptCreatingTransactionHash: txID,\r\n          })\r\n\r\n          flow.swap.room.once('request utxo script', () => {\r\n            flow.swap.room.sendMessage({\r\n              event:  'create utxo script',\r\n              data: {\r\n                scriptValues: utxoScriptValues,\r\n                utxoScriptCreatingTransactionHash: txID,\r\n              }\r\n            })\r\n          })\r\n\r\n          flow.swap.room.sendMessage({\r\n            event: 'create utxo script',\r\n            data: {\r\n              scriptValues : utxoScriptValues,\r\n              utxoScriptCreatingTransactionHash : txID,\r\n            }\r\n          })\r\n        }\r\n\r\n        const { sellAmount } = flow.swap\r\n        const { isBalanceEnough, utxoScriptValues } = flow.state\r\n\r\n        if (isBalanceEnough) {\r\n          await flow.ghostSwap.fundScript({\r\n            scriptValues: utxoScriptValues,\r\n            amount: sellAmount,\r\n          })\r\n        }\r\n\r\n        const checkGHOSTScriptBalance = async () => {\r\n          const { scriptAddress } = this.ghostSwap.createScript(utxoScriptValues)\r\n          const unspents = await this.ghostSwap.fetchUnspents(scriptAddress)\r\n\r\n          if (unspents.length === 0) {\r\n            return false\r\n          }\r\n\r\n          const txID = unspents[0].txid\r\n\r\n          const balance = await this.ghostSwap.getBalance(utxoScriptValues)\r\n\r\n          const isEnoughMoney = new BigNumber(balance).isGreaterThanOrEqualTo(sellAmount.times(1e8))\r\n\r\n          if (isEnoughMoney) {\r\n            flow.setState({\r\n              scriptBalance: new BigNumber(balance).div(1e8).dp(8),\r\n            })\r\n\r\n            onTransactionHash(txID)\r\n          }\r\n\r\n          return isEnoughMoney\r\n        }\r\n\r\n        await util.helpers.repeatAsyncUntilResult(async (stopRepeat) => {\r\n          const { isStoppedSwap } = flow.state\r\n\r\n          if (!isStoppedSwap) {\r\n            return await checkGHOSTScriptBalance()\r\n          } else {\r\n            stopRepeat()\r\n          }\r\n        })\r\n\r\n        const { isStoppedSwap } = flow.state\r\n\r\n        if (!isStoppedSwap) {\r\n          flow.finishStep({\r\n            isGhostScriptFunded: true,\r\n          }, { step: 'lock-utxo' })\r\n        }\r\n      },\r\n\r\n      // 5. Wait participant creates ETH Contract\r\n\r\n      async () => {\r\n        await flow.ethSwap.waitAB2UTXOContract({\r\n          flow,\r\n          utxoCoin: `ghost`,\r\n        })\r\n      },\r\n\r\n      // 6. Withdraw\r\n\r\n      async () => {\r\n        await flow.ethSwap.withdrawFromAB2UTXO({ flow })\r\n      },\r\n\r\n      // 7. Finish\r\n\r\n      () => {\r\n        flow.swap.room.once('swap finished', ({utxoSwapWithdrawTransactionHash}) => {\r\n          flow.setState({\r\n            utxoSwapWithdrawTransactionHash,\r\n          })\r\n        })\r\n\r\n        flow.swap.room.sendMessage({\r\n          event: 'request swap finished',\r\n        })\r\n\r\n        flow.finishStep({\r\n          isFinished: true,\r\n        }, 'finish')\r\n      },\r\n\r\n      // 8. Finished!\r\n\r\n      () => {}\r\n    ]\r\n  }\r\n\r\n  async skipSyncBalance() {\r\n    this.finishStep({}, { step: 'sync-balance' })\r\n  }\r\n\r\n  getRefundTxHex = () => {\r\n    this.ghostSwap.getRefundHexTransaction({\r\n      scriptValues: this.state.utxoScriptValues,\r\n      secret: this.state.secret,\r\n    })\r\n      .then((txHex) => {\r\n        this.setState({\r\n          refundTxHex: txHex,\r\n        })\r\n      })\r\n  }\r\n\r\n  tryRefund() {\r\n    const flow = this\r\n    const { utxoScriptValues, secret } = flow.state\r\n\r\n    return flow.ghostSwap.refund({\r\n      scriptValues: utxoScriptValues,\r\n      secret: secret,\r\n    })\r\n      .then((hash) => {\r\n        if (!hash) {\r\n          return false\r\n        }\r\n\r\n        this.swap.room.sendMessage({\r\n          event: 'utxo refund completed',\r\n        })\r\n\r\n        flow.setState({\r\n          refundTransactionHash: hash,\r\n          isRefunded: true,\r\n          isSwapExist: false,\r\n        }, true)\r\n\r\n        return true\r\n      })\r\n      .catch((error) => {\r\n        if (/Address is empty/.test(error)) {\r\n          // TODO - fetch TX list to script for refund TX\r\n          flow.setState({\r\n            isRefunded: true,\r\n            isSwapExist: false,\r\n          }, true)\r\n          return true\r\n        } else {\r\n          console.warn('Ghost refund:', error)\r\n\r\n          return false\r\n        }\r\n      })\r\n  }\r\n\r\n  async isRefundSuccess() {\r\n    const { refundTransactionHash, isRefunded } = this.state\r\n    if (refundTransactionHash && isRefunded) {\r\n      if (await this.ghostSwap.checkTX(refundTransactionHash)) {\r\n        return true\r\n      } else {\r\n        console.warn('GHOST2ETH - unknown refund transaction')\r\n        this.setState( {\r\n          refundTransactionHash: null,\r\n          isRefunded: false,\r\n        } )\r\n        return false\r\n      }\r\n    }\r\n    return false\r\n  }\r\n\r\n  async tryWithdraw(_secret) {\r\n    const { secret, secretHash, isEthWithdrawn } = this.state\r\n\r\n    if (!_secret)\r\n      throw new Error(`Withdrawal is automatic. For manual withdrawal, provide a secret`)\r\n\r\n    if (secret && secret != _secret)\r\n      console.warn(`Secret already known and is different. Are you sure?`)\r\n\r\n    if (isEthWithdrawn)\r\n      console.warn(`Looks like money were already withdrawn, are you sure?`)\r\n\r\n    debug('swap.core:flow')(`WITHDRAW using secret = ${_secret}`)\r\n\r\n    const _secretHash = this.app.env.bitcoin.crypto.ripemd160(Buffer.from(_secret, 'hex')).toString('hex')\r\n\r\n    if (secretHash != _secretHash)\r\n      console.warn(`Hash does not match! state: ${secretHash}, given: ${_secretHash}`)\r\n\r\n    const data = {\r\n      ownerAddress: this.app.getParticipantEthAddress(this.swap),\r\n      secret: _secret,\r\n    }\r\n\r\n    await this.ethSwap.withdraw(data, (hash) => {\r\n      debug('swap.core:flow')(`TX hash=${hash}`)\r\n      this.setState({\r\n        ethSwapWithdrawTransactionHash: hash,\r\n        canCreateEthTransaction: true,\r\n      })\r\n    }).then(() => {\r\n\r\n      this.finishStep({\r\n        isEthWithdrawn: true,\r\n      }, 'withdraw-eth')\r\n    })\r\n  }\r\n}\r\n\r\nexport default GHOST2ETH\r\n","import debug from 'debug'\r\nimport SwapApp, { constants, util } from 'swap.app'\r\nimport { AtomicAB2UTXO } from 'swap.swap'\r\n\r\n\r\nclass ETH2GHOST extends AtomicAB2UTXO {\r\n\r\n  _flowName: string\r\n  ethSwap: any\r\n  ghostSwap: any\r\n  state: any\r\n\r\n  static getName() {\r\n    return `${this.getFromName()}2${this.getToName()}`\r\n  }\r\n  static getFromName() {\r\n    return constants.COINS.eth\r\n  }\r\n  static getToName() {\r\n    return constants.COINS.ghost\r\n  }\r\n  constructor(swap) {\r\n    super(swap)\r\n    this.utxoCoin = `ghost`\r\n    this._flowName = ETH2GHOST.getName()\r\n\r\n    this.stepNumbers = {\r\n      'sign': 1,\r\n      'wait-lock-utxo': 2,\r\n      'verify-script': 3,\r\n      'sync-balance': 4,\r\n      'lock-eth': 5,\r\n      'wait-withdraw-eth': 6, // aka getSecret\r\n      'withdraw-utxo': 7,\r\n      'finish': 8,\r\n      'end': 9\r\n    }\r\n\r\n    this.ethSwap = swap.participantSwap\r\n    this.ghostSwap = swap.ownerSwap\r\n\r\n    this.abBlockchain = this.ethSwap\r\n    this.utxoBlockchain = this.ghostSwap\r\n\r\n    if (!this.ethSwap) {\r\n      throw new Error('ETH2GHOST: \"ethSwap\" of type object required')\r\n    }\r\n    if (!this.ghostSwap) {\r\n      throw new Error('ETH2GHOST: \"ghostSwap\" of type object required')\r\n    }\r\n\r\n    this.state = {\r\n      step: 0,\r\n\r\n      isStoppedSwap: false,\r\n\r\n      signTransactionHash: null,\r\n      isSignFetching: false,\r\n      isMeSigned: false,\r\n\r\n      targetWallet : null,\r\n      secretHash: null,\r\n\r\n      isBalanceFetching: false,\r\n      isBalanceEnough: true,\r\n      balance: null,\r\n\r\n      ethSwapCreationTransactionHash: null,\r\n      canCreateEthTransaction: true,\r\n      isEthContractFunded: false,\r\n\r\n      secret: null,\r\n\r\n      isEthWithdrawn: false,\r\n      isGhostWithdrawn: false,\r\n\r\n      ethSwapWithdrawTransactionHash: null,\r\n      utxoSwapWithdrawTransactionHash: null,\r\n\r\n      refundTransactionHash: null,\r\n      isRefunded: false,\r\n\r\n      isFinished: false,\r\n      isSwapExist: false,\r\n\r\n      withdrawRequestIncoming: false,\r\n      withdrawRequestAccepted: false,\r\n\r\n      isFailedTransaction: false,\r\n      isFailedTransactionError: null,\r\n    }\r\n\r\n    this._persistState()\r\n\r\n    const flow = this\r\n    flow.swap.room.once('request withdraw', () => {\r\n      flow.setState({\r\n        withdrawRequestIncoming: true,\r\n      })\r\n    })\r\n\r\n    flow.swap.room.on('request eth contract', () => {\r\n      console.log('Requesting eth contract')\r\n      const { ethSwapCreationTransactionHash } = flow.state\r\n\r\n      if (ethSwapCreationTransactionHash) {\r\n        console.log('Exists - send hash')\r\n        flow.swap.room.sendMessage({\r\n          event: 'create eth contract',\r\n          data: {\r\n            ethSwapCreationTransactionHash,\r\n          },\r\n        })\r\n      }\r\n    })\r\n\r\n    super._persistSteps()\r\n  }\r\n\r\n  _persistState() {\r\n    super._persistState()\r\n  }\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  _getSteps() {\r\n    const flow = this\r\n\r\n    return [\r\n\r\n      // 1. Sign swap to start\r\n\r\n      () => {\r\n        this.signABSide()\r\n      },\r\n\r\n      // 2. Wait participant create, fund BTC Script\r\n\r\n      () => {\r\n        flow.waitUTXOScriptCreated()\r\n      },\r\n\r\n      // 3. Verify GHOST Script\r\n\r\n      () => {\r\n        debug('swap.core:flow')(`waiting verify ghost script`)\r\n        this.verifyScript()\r\n      },\r\n\r\n      // 4. Check balance\r\n\r\n      () => {\r\n        this.syncBalance()\r\n      },\r\n\r\n      // 5. Create ETH Contract\r\n\r\n      async () => {\r\n        await flow.ethSwap.fundAB2UTXOContract({\r\n          flow,\r\n          utxoCoin: `ghost`,\r\n        })\r\n      },\r\n\r\n      // 6. Wait participant withdraw\r\n\r\n      async () => {\r\n        await flow.ethSwap.getSecretFromAB2UTXO({ flow })\r\n      },\r\n\r\n      // 7. Withdraw\r\n\r\n      async () => {\r\n        await util.helpers.repeatAsyncUntilResult((stopRepeat) => {\r\n          const { secret, utxoScriptValues, utxoSwapWithdrawTransactionHash } = flow.state\r\n\r\n          if (utxoSwapWithdrawTransactionHash) {\r\n            return true\r\n          }\r\n\r\n          if (!utxoScriptValues) {\r\n            console.error('There is no \"utxoScriptValues\" in state. No way to continue swap...')\r\n            return null\r\n          }\r\n\r\n          return flow.ghostSwap.withdraw({\r\n            scriptValues: utxoScriptValues,\r\n            secret,\r\n            destinationAddress: flow.swap.destinationBuyAddress,\r\n          })\r\n            .then((hash) => {\r\n              console.log('withdraw hash', hash)\r\n              flow.setState({\r\n                utxoSwapWithdrawTransactionHash: hash,\r\n              }, true)\r\n              return true\r\n            })\r\n            .catch((error) => null)\r\n        })\r\n\r\n        flow.finishStep({\r\n          isGhostWithdrawn: true,\r\n        }, { step: 'withdraw-utxo' })\r\n      },\r\n\r\n      // 8. Finish\r\n\r\n      () => {\r\n        flow.swap.room.once('request swap finished', () => {\r\n          const { utxoSwapWithdrawTransactionHash } = flow.state\r\n\r\n          flow.swap.room.sendMessage({\r\n            event: 'swap finished',\r\n            data: {\r\n              utxoSwapWithdrawTransactionHash,\r\n            },\r\n          })\r\n        })\r\n\r\n        flow.finishStep({\r\n          isFinished: true,\r\n        }, { step: 'finish' })\r\n      },\r\n\r\n      // 9. Finished!\r\n\r\n      () => {}\r\n    ]\r\n  }\r\n\r\n  _checkSwapAlreadyExists() {\r\n    const swapData = {\r\n      ownerAddress: this.app.getMyEthAddress(),\r\n      participantAddress: this.app.getParticipantEthAddress(this.swap)\r\n    }\r\n\r\n    return this.ethSwap.checkSwapExists(swapData)\r\n  }\r\n\r\n  async tryRefund() {\r\n    const { secretHash } = this.state\r\n\r\n    const refundHandler = (hash = null) => {\r\n      this.swap.room.sendMessage({\r\n        event: 'eth refund completed',\r\n      })\r\n\r\n      this.setState({\r\n        refundTransactionHash: hash,\r\n        isRefunded: true,\r\n        isSwapExist: false,\r\n      }, true)\r\n    }\r\n\r\n    try {\r\n      const wasRefunded = await this.ethSwap.wasRefunded({ secretHash })\r\n\r\n      if (wasRefunded) {\r\n        debug('swap.core:flow')('This swap was refunded')\r\n\r\n        refundHandler()\r\n\r\n        return true\r\n      }\r\n    } catch (error) {\r\n      console.warn('wasRefunded error:', error)\r\n\r\n      return false\r\n    }\r\n\r\n    return this.ethSwap.refund({\r\n      participantAddress: this.app.getParticipantEthAddress(this.swap),\r\n    })\r\n      .then((hash) => {\r\n        if (!hash) {\r\n          return false\r\n        }\r\n\r\n        refundHandler(hash)\r\n\r\n        return true\r\n      })\r\n      .catch((error) => false)\r\n  }\r\n\r\n  async isRefundSuccess() {\r\n    return true\r\n  }\r\n\r\n  async tryWithdraw(_secret) {\r\n    const { secret, secretHash, isEthWithdrawn, isGhostWithdrawn, utxoScriptValues } = this.state\r\n\r\n    if (!_secret)\r\n      throw new Error(`Withdrawal is automatic. For manual withdrawal, provide a secret`)\r\n\r\n    if (!utxoScriptValues)\r\n      throw new Error(`Cannot withdraw without script values`)\r\n\r\n    if (secret && secret != _secret)\r\n      console.warn(`Secret already known and is different. Are you sure?`)\r\n\r\n    if (isGhostWithdrawn)\r\n      console.warn(`Looks like money were already withdrawn, are you sure?`)\r\n\r\n    debug('swap.core:flow')(`WITHDRAW using secret = ${_secret}`)\r\n\r\n    const _secretHash = this.app.env.bitcoin.crypto.ripemd160(Buffer.from(_secret, 'hex')).toString('hex')\r\n\r\n    if (secretHash != _secretHash)\r\n      console.warn(`Hash does not match! state: ${secretHash}, given: ${_secretHash}`)\r\n\r\n    const { scriptAddress } = this.ghostSwap.createScript(utxoScriptValues)\r\n    const balance = await this.ghostSwap.getBalance(scriptAddress)\r\n\r\n    debug('swap.core:flow')(`address=${scriptAddress}, balance=${balance}`)\r\n\r\n    if (balance === 0) {\r\n      this.finishStep({\r\n        isGhostWithdrawn: true,\r\n      }, { step: 'withdraw-utxo' })\r\n      throw new Error(`Already withdrawn: address=${scriptAddress},balance=${balance}`)\r\n    }\r\n\r\n    await this.ghostSwap.withdraw({\r\n      scriptValues: utxoScriptValues,\r\n      secret: _secret,\r\n    }, (hash) => {\r\n      debug('swap.core:flow')(`TX hash=${hash}`)\r\n      this.setState({\r\n        utxoSwapWithdrawTransactionHash: hash,\r\n      })\r\n    })\r\n    debug('swap.core:flow')(`TX withdraw sent: ${this.state.utxoSwapWithdrawTransactionHash}`)\r\n\r\n    this.finishStep({\r\n      isGhostWithdrawn: true,\r\n    }, { step: 'withdraw-utxo' })\r\n  }\r\n}\r\n\r\n\r\nexport default ETH2GHOST\r\n","import debug from 'debug'\r\nimport SwapApp, { constants, util } from 'swap.app'\r\nimport { AtomicAB2UTXO } from 'swap.swap'\r\nimport { BigNumber } from 'bignumber.js'\r\n\r\n\r\nexport default (tokenName) => {\r\n\r\n  class GHOST2ETHTOKEN extends AtomicAB2UTXO {\r\n    static blockchainName = `ETH`\r\n\r\n    _flowName: string\r\n    ethTokenSwap: any\r\n    ghostSwap: any\r\n    state: any\r\n\r\n    static getName() {\r\n      return `${this.getFromName()}2${this.getToName()}`\r\n    }\r\n    static getFromName() {\r\n      return constants.COINS.ghost\r\n    }\r\n    static getToName() {\r\n      return `{${this.blockchainName}}${tokenName.toUpperCase()}`\r\n    }\r\n    constructor(swap) {\r\n      super(swap)\r\n      this.utxoCoin = `ghost`\r\n\r\n      this._flowName = GHOST2ETHTOKEN.getName()\r\n\r\n      this.stepNumbers = {\r\n        'sign': 1,\r\n        'submit-secret': 2,\r\n        'sync-balance': 3,\r\n        'lock-utxo': 4,\r\n        'wait-lock-eth': 5,\r\n        'withdraw-eth': 6,\r\n        'finish': 7,\r\n        'end': 8\r\n      }\r\n\r\n      this.ethTokenSwap = swap.ownerSwap\r\n      this.ghostSwap      = swap.participantSwap\r\n\r\n      this.abBlockchain = this.ethTokenSwap\r\n      this.utxoBlockchain = this.ghostSwap\r\n      this.isUTXOSide = true\r\n\r\n      if (!this.ethTokenSwap) {\r\n        throw new Error('GHOST2ETH: \"ethTokenSwap\" of type object required')\r\n      }\r\n      if (!this.ghostSwap) {\r\n        throw new Error('GHOST2ETH: \"ghostSwap\" of type object required')\r\n      }\r\n\r\n      this.state = {\r\n        step: 0,\r\n\r\n        isStoppedSwap: false,\r\n\r\n        signTransactionHash: null,\r\n        isSignFetching: false,\r\n        isParticipantSigned: false,\r\n\r\n        ethSwapCreationTransactionHash: null,\r\n\r\n        secretHash: null,\r\n\r\n        isBalanceFetching: false,\r\n        isBalanceEnough: true,\r\n        balance: null,\r\n\r\n        isEthContractFunded: false,\r\n\r\n        utxoSwapWithdrawTransactionHash: null,\r\n        ethSwapWithdrawTransactionHash: null,\r\n\r\n        secret: null,\r\n\r\n        canCreateEthTransaction: true,\r\n        isEthWithdrawn: false,\r\n\r\n        refundTransactionHash: null,\r\n        isRefunded: false,\r\n\r\n        withdrawFee: null,\r\n        refundTxHex: null,\r\n        isFinished: false,\r\n        isSwapExist: false,\r\n      }\r\n\r\n      this._persistState()\r\n      super._persistSteps()\r\n    }\r\n\r\n    _persistState() {\r\n      super._persistState()\r\n    }\r\n\r\n    //@ts-ignore: strictNullChecks\r\n    _getSteps() {\r\n      const flow = this\r\n\r\n      return [\r\n\r\n        // 1. Signs\r\n\r\n        async () => {\r\n          this.signUTXOSide()\r\n        },\r\n\r\n        // 2. Create secret, secret hash and GHOST script\r\n\r\n        () => {\r\n          this.submitSecret()\r\n        },\r\n\r\n        // 3. Check system wallet balance\r\n\r\n        () => {\r\n          this.syncBalance()\r\n        },\r\n\r\n        // 4. Create GHOSt Script, fund, notify participant\r\n\r\n        async () => {\r\n          const onTransactionHash = (txID) => {\r\n            const { utxoScriptCreatingTransactionHash, utxoScriptValues } = flow.state\r\n\r\n            if (utxoScriptCreatingTransactionHash) {\r\n              return\r\n            }\r\n\r\n            flow.setState({\r\n              utxoScriptCreatingTransactionHash: txID,\r\n            })\r\n\r\n            flow.swap.room.once('request utxo script', () => {\r\n              flow.swap.room.sendMessage({\r\n                event:  'create utxo script',\r\n                data: {\r\n                  scriptValues: utxoScriptValues,\r\n                  utxoScriptCreatingTransactionHash: txID,\r\n                }\r\n              })\r\n            })\r\n\r\n            flow.swap.room.sendMessage({\r\n              event: 'create utxo script',\r\n              data: {\r\n                scriptValues : utxoScriptValues,\r\n                utxoScriptCreatingTransactionHash : txID,\r\n              }\r\n            })\r\n          }\r\n\r\n          const { sellAmount } = flow.swap\r\n          const { isBalanceEnough, utxoScriptValues } = flow.state\r\n\r\n          if (isBalanceEnough) {\r\n            await flow.ghostSwap.fundScript({\r\n              scriptValues: utxoScriptValues,\r\n              amount: sellAmount,\r\n            })\r\n          }\r\n\r\n          const checkGHOSTScriptBalance = async () => {\r\n            const { scriptAddress } = this.ghostSwap.createScript(utxoScriptValues)\r\n            const unspents = await this.ghostSwap.fetchUnspents(scriptAddress)\r\n\r\n            if (unspents.length === 0) {\r\n              return false\r\n            }\r\n\r\n            const txID = unspents[0].txid\r\n\r\n            const balance = await this.ghostSwap.getBalance(utxoScriptValues)\r\n\r\n            const isEnoughMoney = new BigNumber(balance).isGreaterThanOrEqualTo(sellAmount.times(1e8))\r\n\r\n            if (isEnoughMoney) {\r\n              flow.setState({\r\n                scriptBalance: new BigNumber(balance).div(1e8).dp(8),\r\n              })\r\n\r\n              onTransactionHash(txID)\r\n            }\r\n\r\n            return isEnoughMoney\r\n          }\r\n\r\n          await util.helpers.repeatAsyncUntilResult(async (stopRepeat) => {\r\n            const { isStoppedSwap } = flow.state\r\n\r\n            if (!isStoppedSwap) {\r\n              return await checkGHOSTScriptBalance()\r\n            } else {\r\n              stopRepeat()\r\n            }\r\n          })\r\n\r\n          const { isStoppedSwap } = flow.state\r\n\r\n          if (!isStoppedSwap) {\r\n            flow.finishStep({\r\n              isGhostScriptFunded: true,\r\n            }, { step: 'lock-utxo' })\r\n          }\r\n        },\r\n\r\n        // 5. Wait participant creates ETH Contract\r\n\r\n        async () => {\r\n          await this.ethTokenSwap.waitAB2UTXOContract({\r\n            flow,\r\n            utxoCoin: `ghost`,\r\n          })\r\n        },\r\n\r\n        // 6. Withdraw\r\n\r\n        async () => {\r\n          await flow.ethTokenSwap.withdrawFromAB2UTXO({ flow })\r\n        },\r\n\r\n        // 7. Finish\r\n\r\n        () => {\r\n          flow.swap.room.once('swap finished', ({utxoSwapWithdrawTransactionHash}) => {\r\n            flow.setState({\r\n              utxoSwapWithdrawTransactionHash,\r\n            })\r\n          })\r\n\r\n          flow.swap.room.sendMessage({\r\n            event: 'request swap finished',\r\n          })\r\n\r\n          flow.finishStep({\r\n            isFinished: true,\r\n          }, 'finish')\r\n        },\r\n\r\n        // 8. Finished!\r\n\r\n        () => {}\r\n      ]\r\n    }\r\n\r\n    async skipSyncBalance() {\r\n      this.finishStep({}, { step: 'sync-balance' })\r\n    }\r\n\r\n    getRefundTxHex = () => {\r\n      this.ghostSwap.getRefundHexTransaction({\r\n        scriptValues: this.state.utxoScriptValues,\r\n        secret: this.state.secret,\r\n      })\r\n        .then((txHex) => {\r\n          this.setState({\r\n            refundTxHex: txHex,\r\n          })\r\n        })\r\n    }\r\n\r\n    tryRefund() {\r\n      const flow = this\r\n      const { utxoScriptValues, secret } = flow.state\r\n\r\n      return flow.ghostSwap.refund({\r\n        scriptValues: utxoScriptValues,\r\n        secret: secret,\r\n      })\r\n        .then((hash) => {\r\n          if (!hash) {\r\n            return false\r\n          }\r\n\r\n          this.swap.room.sendMessage({\r\n            event: 'utxo refund completed',\r\n          })\r\n\r\n          flow.setState({\r\n            refundTransactionHash: hash,\r\n            isRefunded: true,\r\n            isSwapExist: false,\r\n          }, true)\r\n\r\n          return true\r\n        })\r\n        .catch((error) => {\r\n          if (/Address is empty/.test(error)) {\r\n            // TODO - fetch TX list to script for refund TX\r\n            flow.setState({\r\n              isRefunded: true,\r\n              isSwapExist: false,\r\n            }, true)\r\n            return true\r\n          } else {\r\n            console.warn('Ghost refund:', error)\r\n\r\n            return false\r\n          }\r\n        })\r\n    }\r\n\r\n    async isRefundSuccess() {\r\n      const { refundTransactionHash, isRefunded } = this.state\r\n      if (refundTransactionHash && isRefunded) {\r\n        if (await this.ghostSwap.checkTX(refundTransactionHash)) {\r\n          return true\r\n        } else {\r\n          console.warn('GHOST2ETHTOKEN - unknown refund transaction')\r\n          this.setState( {\r\n            refundTransactionHash: null,\r\n            isRefunded: false,\r\n          } )\r\n          return false\r\n        }\r\n      }\r\n      return false\r\n    }\r\n\r\n    async tryWithdraw(_secret) {\r\n      const { secret, secretHash, isEthWithdrawn } = this.state\r\n\r\n      if (!_secret)\r\n        throw new Error(`Withdrawal is automatic. For manual withdrawal, provide a secret`)\r\n\r\n      if (secret && secret != _secret)\r\n        console.warn(`Secret already known and is different. Are you sure?`)\r\n\r\n      if (isEthWithdrawn)\r\n        console.warn(`Looks like money were already withdrawn, are you sure?`)\r\n\r\n      debug('swap.core:flow')(`WITHDRAW using secret = ${_secret}`)\r\n\r\n      const _secretHash = this.app.env.bitcoin.crypto.ripemd160(Buffer.from(_secret, 'hex')).toString('hex')\r\n\r\n      if (secretHash != _secretHash)\r\n        console.warn(`Hash does not match! state: ${secretHash}, given: ${_secretHash}`)\r\n\r\n      const data = {\r\n        ownerAddress: this.app.getParticipantEthAddress(this.swap),\r\n        secret: _secret,\r\n      }\r\n\r\n      await this.ethTokenSwap.withdraw(data, (hash) => {\r\n        debug('swap.core:flow')(`TX hash=${hash}`)\r\n        this.setState({\r\n          ethSwapWithdrawTransactionHash: hash,\r\n          canCreateEthTransaction: true,\r\n        })\r\n      }).then(() => {\r\n\r\n        this.finishStep({\r\n          isEthWithdrawn: true,\r\n        }, 'withdraw-eth')\r\n      })\r\n    }\r\n  }\r\n\r\n  return GHOST2ETHTOKEN\r\n}\r\n","import debug from 'debug'\r\nimport SwapApp, { constants, util } from 'swap.app'\r\nimport { AtomicAB2UTXO } from 'swap.swap'\r\n\r\n\r\nexport default (tokenName) => {\r\n\r\n  class ETHTOKEN2GHOST extends AtomicAB2UTXO {\r\n    static blockchainName = `ETH`\r\n\r\n    _flowName: string\r\n    ethTokenSwap: any\r\n    ghostSwap: any\r\n    state: any\r\n\r\n    static getName() {\r\n      return `${this.getFromName()}2${this.getToName()}`\r\n    }\r\n    static getFromName() {\r\n      return `{${this.blockchainName}}${tokenName.toUpperCase()}`\r\n    }\r\n    static getToName() {\r\n      return constants.COINS.ghost\r\n    }\r\n    constructor(swap) {\r\n      super(swap)\r\n      this.utxoCoin = `ghost`\r\n\r\n      this._flowName = ETHTOKEN2GHOST.getName()\r\n\r\n      this.stepNumbers = {\r\n        'sign': 1,\r\n        'wait-lock-utxo': 2,\r\n        'verify-script': 3,\r\n        'sync-balance': 4,\r\n        'lock-eth': 5,\r\n        'wait-withdraw-eth': 6, // aka getSecret\r\n        'withdraw-utxo': 7,\r\n        'finish': 8,\r\n        'end': 9\r\n      }\r\n\r\n      this.ethTokenSwap = swap.participantSwap\r\n      this.ghostSwap = swap.ownerSwap\r\n\r\n      this.abBlockchain = this.ethTokenSwap\r\n      this.utxoBlockchain = this.ghostSwap\r\n\r\n      if (!this.ethTokenSwap) {\r\n        throw new Error('ETHTOKEN2GHOST: \"ethTokenSwap\" of type object required')\r\n      }\r\n      if (!this.ghostSwap) {\r\n        throw new Error('ETHTOKEN2GHOST: \"ghostSwap\" of type object required')\r\n      }\r\n\r\n      this.state = {\r\n        step: 0,\r\n\r\n        isStoppedSwap: false,\r\n\r\n        signTransactionHash: null,\r\n        isSignFetching: false,\r\n        isMeSigned: false,\r\n\r\n        targetWallet : null,\r\n        secretHash: null,\r\n\r\n        isBalanceFetching: false,\r\n        isBalanceEnough: true,\r\n        balance: null,\r\n\r\n        ethSwapCreationTransactionHash: null,\r\n        canCreateEthTransaction: true,\r\n        isEthContractFunded: false,\r\n\r\n        secret: null,\r\n\r\n        isEthWithdrawn: false,\r\n        isGhostWithdrawn: false,\r\n\r\n        ethSwapWithdrawTransactionHash: null,\r\n        utxoSwapWithdrawTransactionHash: null,\r\n\r\n        refundTransactionHash: null,\r\n        isRefunded: false,\r\n\r\n        isFinished: false,\r\n        isSwapExist: false,\r\n\r\n        withdrawRequestIncoming: false,\r\n        withdrawRequestAccepted: false,\r\n\r\n        isFailedTransaction: false,\r\n        isFailedTransactionError: null,\r\n        gasAmountNeeded: 0,\r\n      }\r\n\r\n      this._persistState()\r\n\r\n      const flow = this\r\n      flow.swap.room.once('request withdraw', () => {\r\n        flow.setState({\r\n          withdrawRequestIncoming: true,\r\n        })\r\n      })\r\n\r\n      super._persistSteps()\r\n    }\r\n\r\n    _persistState() {\r\n      super._persistState()\r\n    }\r\n\r\n    //@ts-ignore: strictNullChecks\r\n    _getSteps() {\r\n      const flow = this\r\n\r\n      return [\r\n\r\n        // 1. Sign swap to start\r\n\r\n        () => {\r\n          this.signABSide()\r\n        },\r\n\r\n        // 2. Wait participant create, fund GHOST Script\r\n\r\n        () => {\r\n          flow.waitUTXOScriptCreated()\r\n        },\r\n\r\n        // 3. Verify GHOST Script\r\n\r\n        () => {\r\n          debug('swap.core:flow')(`waiting verify ghost script`)\r\n          this.verifyScript()\r\n        },\r\n\r\n        // 4. Check balance\r\n\r\n        () => {\r\n          this.syncBalance()\r\n        },\r\n\r\n        // 5. Create ETH Contract\r\n\r\n        async () => {\r\n          await flow.ethTokenSwap.fundAB2UTXOContract({\r\n            flow,\r\n            utxoCoin: `ghost`,\r\n          })\r\n        },\r\n\r\n        // 6. Wait participant withdraw\r\n\r\n        async () => {\r\n          await flow.ethTokenSwap.getSecretFromAB2UTXO({ flow })\r\n        },\r\n\r\n        // 7. Withdraw\r\n\r\n        async () => {\r\n          await util.helpers.repeatAsyncUntilResult((stopRepeat) => {\r\n            const { secret, utxoScriptValues, utxoSwapWithdrawTransactionHash } = flow.state\r\n\r\n            if (utxoSwapWithdrawTransactionHash) {\r\n              return true\r\n            }\r\n\r\n            if (!utxoScriptValues) {\r\n              console.error('There is no \"utxoScriptValues\" in state. No way to continue swap...')\r\n              return null\r\n            }\r\n\r\n            return flow.ghostSwap.withdraw({\r\n              scriptValues: utxoScriptValues,\r\n              secret,\r\n              destinationAddress: flow.swap.destinationBuyAddress,\r\n            })\r\n              .then((hash) => {\r\n                flow.setState({\r\n                  utxoSwapWithdrawTransactionHash: hash,\r\n                }, true)\r\n                return true\r\n              })\r\n              .catch((error) => null)\r\n          })\r\n\r\n          flow.finishStep({\r\n            isGhostWithdrawn: true,\r\n          }, { step: 'withdraw-utxo' })\r\n        },\r\n\r\n        // 8. Finish\r\n\r\n        () => {\r\n          flow.swap.room.once('request swap finished', () => {\r\n            const { utxoSwapWithdrawTransactionHash } = flow.state\r\n\r\n            flow.swap.room.sendMessage({\r\n              event: 'swap finished',\r\n              data: {\r\n                utxoSwapWithdrawTransactionHash,\r\n              },\r\n            })\r\n          })\r\n\r\n          flow.finishStep({\r\n            isFinished: true,\r\n          }, { step: 'finish' })\r\n        },\r\n\r\n        // 9. Finished!\r\n\r\n        () => {},\r\n      ]\r\n    }\r\n\r\n    _checkSwapAlreadyExists() {\r\n      const flow = this\r\n\r\n      const swapData = {\r\n        ownerAddress: this.app.getMyEthAddress(),\r\n        participantAddress: this.app.getParticipantEthAddress(flow.swap)\r\n      }\r\n\r\n      return this.ethTokenSwap.checkSwapExists(swapData)\r\n    }\r\n\r\n    async tryRefund() {\r\n      const { secretHash } = this.state\r\n\r\n      const refundHandler = (hash = null) => {\r\n        this.swap.room.sendMessage({\r\n          event: 'eth refund completed',\r\n        })\r\n\r\n        this.setState({\r\n          refundTransactionHash: hash,\r\n          isRefunded: true,\r\n          isSwapExist: false,\r\n        }, true)\r\n      }\r\n\r\n      try {\r\n        const wasRefunded = await this.ethTokenSwap.wasRefunded({ secretHash })\r\n\r\n        if (wasRefunded) {\r\n          debug('swap.core:flow')('This swap was refunded')\r\n\r\n          refundHandler()\r\n\r\n          return true\r\n        }\r\n      } catch (error) {\r\n        console.warn('wasRefunded error:', error)\r\n\r\n        return false\r\n      }\r\n\r\n      return this.ethTokenSwap.refund({\r\n        participantAddress: this.app.getParticipantEthAddress(this.swap),\r\n      })\r\n        .then((hash) => {\r\n          if (!hash) {\r\n            return false\r\n          }\r\n\r\n          refundHandler(hash)\r\n\r\n          return true\r\n        })\r\n        .catch((error) => false)\r\n    }\r\n\r\n    async isRefundSuccess() {\r\n      return true\r\n    }\r\n\r\n    async tryWithdraw(_secret) {\r\n      const { secret, secretHash, isEthWithdrawn, isGhostWithdrawn, utxoScriptValues } = this.state\r\n\r\n      if (!_secret)\r\n        throw new Error(`Withdrawal is automatic. For manual withdrawal, provide a secret`)\r\n\r\n      if (!utxoScriptValues)\r\n        throw new Error(`Cannot withdraw without script values`)\r\n\r\n      if (secret && secret != _secret)\r\n        console.warn(`Secret already known and is different. Are you sure?`)\r\n\r\n      if (isGhostWithdrawn)\r\n        console.warn(`Looks like money were already withdrawn, are you sure?`)\r\n\r\n      debug('swap.core:flow')(`WITHDRAW using secret = ${_secret}`)\r\n\r\n      const _secretHash = this.app.env.bitcoin.crypto.ripemd160(Buffer.from(_secret, 'hex')).toString('hex')\r\n\r\n      if (secretHash != _secretHash)\r\n        console.warn(`Hash does not match! state: ${secretHash}, given: ${_secretHash}`)\r\n\r\n      const {scriptAddress} = this.ghostSwap.createScript(utxoScriptValues)\r\n      const balance = await this.ghostSwap.getBalance(scriptAddress)\r\n\r\n      debug('swap.core:flow')(`address=${scriptAddress}, balance=${balance}`)\r\n\r\n      if (balance === 0) {\r\n        this.finishStep({\r\n          isGhostWithdrawn: true,\r\n        }, {step: 'withdraw-utxo'})\r\n        throw new Error(`Already withdrawn: address=${scriptAddress},balance=${balance}`)\r\n      }\r\n\r\n      await this.ghostSwap.withdraw({\r\n        scriptValues: utxoScriptValues,\r\n        secret: _secret,\r\n      }, (hash) => {\r\n        debug('swap.core:flow')(`TX hash=${hash}`)\r\n        this.setState({\r\n          utxoSwapWithdrawTransactionHash: hash,\r\n        })\r\n      })\r\n      debug('swap.core:flow')(`TX withdraw sent: ${this.state.utxoSwapWithdrawTransactionHash}`)\r\n\r\n      this.finishStep({\r\n        isGhostWithdrawn: true,\r\n      }, { step: 'withdraw-utxo' })\r\n    }\r\n  }\r\n\r\n  return ETHTOKEN2GHOST\r\n}\r\n","import debug from 'debug'\r\nimport crypto from 'bitcoinjs-lib/src/crypto' // move to BtcSwap\r\nimport SwapApp, { constants } from 'swap.app'\r\nimport COIN_DATA from 'swap.app/constants'\r\nimport { Flow, stepsForCoins } from 'swap.swap'\r\n\r\nconst fromCoin = constants.COIN_DATA.NEXT\r\nconst toCoin = constants.COIN_DATA.BTC\r\n\r\nclass NEXT2BTC extends Flow {\r\n\r\n  _flowName: string\r\n  nextSwap: any\r\n  btcSwap: any\r\n  state: any\r\n\r\n  static getName() {\r\n    return `${this.getFromName()}2${this.getToName()}`\r\n  }\r\n  static getFromName() {\r\n    return fromCoin.ticker\r\n  }\r\n  static getToName() {\r\n    return toCoin.ticker\r\n  }\r\n  constructor(swap) {\r\n    super(swap)\r\n\r\n    this._flowName = NEXT2BTC.getName()\r\n\r\n    // todo: remove for all flows\r\n    /*\r\n    this.stepNumbers = {\r\n      'sign': 1,\r\n      'wait-lock-btc': 2,\r\n      'verify-script': 3,\r\n      'sync-balance': 4,\r\n      'lock-utxo': 5,\r\n      'wait-withdraw-next': 6, // aka getSecret\r\n      'withdraw-btc': 7,\r\n      'finish': 8,\r\n      'end': 9\r\n    }\r\n    */\r\n    this.stepNumbers = stepsForCoins(fromCoin, toCoin)\r\n\r\n    this.nextSwap = swap.participantSwap\r\n    this.btcSwap = swap.ownerSwap\r\n\r\n    if (!this.nextSwap) {\r\n      throw new Error('BTC2NEXT: \"nextSwap\" of type object required')\r\n    }\r\n    if (!this.btcSwap) {\r\n      throw new Error('BTC2NEXT: \"btcSwap\" of type object required')\r\n    }\r\n\r\n    this.state = {\r\n      step: 0,\r\n\r\n      signTransactionHash: null,\r\n      isSignFetching: false,\r\n      isMeSigned: false,\r\n\r\n      secretHash: null,\r\n      btcScriptValues: null,\r\n      nextScriptValues: null,\r\n\r\n      btcScriptVerified: false,\r\n\r\n      isBalanceFetching: false,\r\n      isBalanceEnough: false,\r\n      balance: null,\r\n\r\n      btcScriptCreatingTransactionHash: null,\r\n      nextSwapCreationTransactionHash: null,\r\n\r\n      isNextScriptFunded: false,\r\n\r\n      secret: null,\r\n\r\n      isNextWithdrawn: false,\r\n      isbtcWithdrawn: false,\r\n\r\n      refundTransactionHash: null,\r\n      isRefunded: false,\r\n\r\n      isFinished: false,\r\n      isSwapExist: false,\r\n    }\r\n\r\n    this._persistState()\r\n    super._persistSteps()\r\n  }\r\n\r\n  _persistState() {\r\n    super._persistState()\r\n  }\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  _getSteps() {\r\n    const flow = this\r\n\r\n    return [\r\n\r\n      // 1. Sign swap to start\r\n\r\n      () => {\r\n        // this.sign()\r\n      },\r\n\r\n      // 2. Wait participant create, fund BTC Script\r\n\r\n      () => {\r\n        flow.swap.room.once('create btc script', ({ scriptValues, btcScriptCreatingTransactionHash }) => {\r\n          flow.finishStep({\r\n            secretHash: scriptValues.secretHash,\r\n            btcScriptValues: scriptValues,\r\n            btcScriptCreatingTransactionHash,\r\n          }, { step: 'wait-lock-btc', silentError: true })\r\n        })\r\n\r\n        flow.swap.room.sendMessage({\r\n          event: 'request btc script',\r\n        })\r\n      },\r\n\r\n      // 3. Verify BTC Script\r\n\r\n      () => {\r\n        debug('swap.core:flow')(`waiting verify btc script`)\r\n        // this.verifyBtcScript()\r\n      },\r\n\r\n      // 4. Check balance\r\n\r\n      () => {\r\n        this.syncBalance()\r\n        debug('swap.core:flow')(this)\r\n      },\r\n\r\n      // 5. Create Next Script\r\n\r\n      async () => {\r\n        const { participant, buyAmount, sellAmount } = flow.swap\r\n        let nextSwapCreationTransactionHash\r\n\r\n        // TODO move this somewhere!\r\n        const utcNow = () => Math.floor(Date.now() / 1000)\r\n        const getLockTime = () => utcNow() + 3600 * 1 // 1 hour from now\r\n\r\n        const scriptCheckResult = await flow.btcSwap.checkScript(flow.state.btcScriptValues, {\r\n          value: buyAmount,\r\n          //@ts-ignore: strictNullChecks\r\n          recipientPublicKey: this.app.services.auth.accounts.btc.getPublicKey(),\r\n          lockTime: getLockTime(),\r\n        })\r\n\r\n        if (scriptCheckResult) {\r\n          console.error(`Btc script check error:`, scriptCheckResult)\r\n          flow.swap.events.dispatch('btc script check error', scriptCheckResult)\r\n          return\r\n        }\r\n\r\n        const scriptValues = {\r\n          secretHash:         flow.state.secretHash,\r\n          //@ts-ignore: strictNullChecks\r\n          ownerPublicKey:     this.app.services.auth.accounts.next.getPublicKey(),\r\n          recipientPublicKey: participant.next.publicKey,\r\n          lockTime:           getLockTime(),\r\n        }\r\n\r\n        try {\r\n          await flow.nextSwap.fundScript({\r\n            scriptValues,\r\n            amount: sellAmount,\r\n          }, (hash) => {\r\n            nextSwapCreationTransactionHash = hash\r\n            flow.setState({\r\n              nextSwapCreationTransactionHash: hash,\r\n            })\r\n          })\r\n        } catch (err) {\r\n          // TODO user can stuck here after page reload...\r\n          if ( /known transaction/.test(err.message) )\r\n            return console.error(`known tx: ${err.message}`)\r\n          else if ( /out of gas/.test(err.message) )\r\n            return console.error(`tx failed (wrong secret?): ${err.message}`)\r\n          else\r\n            return console.error(err)\r\n        }\r\n\r\n        flow.swap.room.on('request next script', () => {\r\n          flow.swap.room.sendMessage({\r\n            event: 'create next script',\r\n            data: {\r\n              scriptValues,\r\n              nextSwapCreationTransactionHash,\r\n            }\r\n          })\r\n        })\r\n\r\n        flow.swap.room.sendMessage({\r\n          event: 'create next script',\r\n          data: {\r\n            scriptValues,\r\n            nextSwapCreationTransactionHash,\r\n          }\r\n        })\r\n\r\n        flow.finishStep({\r\n          isNextScriptFunded: true,\r\n          nextScriptValues: scriptValues,\r\n        }, { step: 'lock-utxo' })\r\n      },\r\n\r\n      // 6. Wait participant withdraw\r\n\r\n      () => {\r\n\r\n        flow.swap.room.once('nextWithdrawTxHash', async ({ nextSwapWithdrawTransactionHash }) => {\r\n          flow.setState({\r\n            nextSwapWithdrawTransactionHash,\r\n          })\r\n\r\n          const secret = await flow.nextSwap.getSecretFromTxhash(nextSwapWithdrawTransactionHash)\r\n\r\n          if (!flow.state.isNextWithdrawn && secret) {\r\n            flow.finishStep({\r\n              isNextWithdrawn: true,\r\n              secret,\r\n            }, { step: 'wait-withdraw-next' })\r\n          }\r\n        })\r\n\r\n        flow.swap.room.sendMessage({\r\n          event: 'request nextWithdrawTxHash',\r\n        })\r\n      },\r\n\r\n      // 7. Withdraw\r\n\r\n      async () => {\r\n        let { secret, btcScriptValues } = flow.state\r\n\r\n        if (!btcScriptValues) {\r\n          console.error('There is no \"btcScriptValues\" in state. No way to continue swap...')\r\n          return\r\n        }\r\n\r\n        await flow.btcSwap.withdraw({\r\n          scriptValues: flow.state.btcScriptValues,\r\n          secret,\r\n        }, (hash) => {\r\n          flow.setState({\r\n            btcSwapWithdrawTransactionHash: hash,\r\n          })\r\n        })\r\n\r\n        flow.finishStep({\r\n          isbtcWithdrawn: true,\r\n        }, { step: 'withdraw-btc' })\r\n      },\r\n\r\n      // 8. Finish\r\n\r\n      () => {\r\n        flow.swap.room.sendMessage({\r\n          event: 'swap finished',\r\n        })\r\n\r\n        flow.finishStep({\r\n          isFinished: true,\r\n        }, { step: 'finish' })\r\n      },\r\n\r\n      // 9. Finished!\r\n      () => {\r\n\r\n      }\r\n    ]\r\n  }\r\n\r\n  _checkSwapAlreadyExists() {\r\n    const { participant } = this.swap\r\n\r\n    const swapData = {\r\n      //@ts-ignore: strictNullChecks\r\n      ownerAddress:       this.app.services.auth.accounts.next.address,\r\n      participantAddress: participant.next.address\r\n    }\r\n\r\n    return false//this.nextSwap.checkSwapExists(swapData)\r\n  }\r\n\r\n  async sign() {\r\n    const swapExists = await this._checkSwapAlreadyExists()\r\n\r\n    if (swapExists) {\r\n      this.swap.room.sendMessage({\r\n        event: 'swap exists',\r\n      })\r\n\r\n      this.setState({\r\n        isSwapExist: true,\r\n      })\r\n    } else {\r\n      this.setState({\r\n        isSignFetching: true,\r\n      })\r\n\r\n      this.swap.room.on('request sign', () => {\r\n        this.swap.room.sendMessage({\r\n          event: 'swap sign',\r\n        })\r\n      })\r\n\r\n      this.swap.room.sendMessage({\r\n        event: 'swap sign',\r\n      })\r\n\r\n      this.finishStep({\r\n        isMeSigned: true,\r\n      }, { step: 'sign', silentError: true })\r\n\r\n      return true\r\n    }\r\n  }\r\n\r\n\r\n  verifyBtcScript() {\r\n    if (this.state.btcScriptVerified) {\r\n      return true\r\n    }\r\n    if (!this.state.btcScriptValues) {\r\n      throw new Error(`No script, cannot verify`)\r\n    }\r\n\r\n    this.finishStep({\r\n      btcScriptVerified: true,\r\n    }, { step: 'verify-script' })\r\n\r\n    return true\r\n  }\r\n\r\n  async syncBalance() {\r\n    const { sellAmount } = this.swap\r\n\r\n    this.setState({\r\n      isBalanceFetching: true,\r\n    })\r\n\r\n    //@ts-ignore: strictNullChecks\r\n    const balance = await this.nextSwap.fetchBalance(this.app.services.auth.accounts.next.getAddress())\r\n\r\n    const isEnoughMoney = sellAmount.isLessThanOrEqualTo(balance)\r\n\r\n    if (isEnoughMoney) {\r\n      this.finishStep({\r\n        balance,\r\n        isBalanceFetching: false,\r\n        isBalanceEnough: true,\r\n      }, { step: 'sync-balance' })\r\n    } else {\r\n      this.setState({\r\n        balance,\r\n        isBalanceFetching: false,\r\n        isBalanceEnough: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  getRefundTxHex = () => {\r\n    this.nextSwap.getRefundHexTransaction({\r\n      scriptValues: this.state.nextScriptValues,\r\n      secret: this.state.secret,\r\n    })\r\n      .then((txHex) => {\r\n        this.setState({\r\n          refundTxHex: txHex,\r\n        })\r\n      })\r\n  }\r\n\r\n  tryRefund() {\r\n    return this.nextSwap.refund({\r\n      scriptValues: this.state.nextScriptValues,\r\n      secret: this.state.secret,\r\n    }, (hash) => {\r\n      this.setState({\r\n        refundTransactionHash: hash,\r\n        isRefunded: true,\r\n      })\r\n    })\r\n      .then(() => {\r\n        this.swap.room.sendMessage({\r\n          event: 'refund completed',\r\n        })\r\n\r\n        this.setState({\r\n          isSwapExist: false,\r\n        })\r\n      })\r\n  }\r\n\r\n  async isRefundSuccess() {\r\n    return true\r\n  }\r\n\r\n  async tryWithdraw(_secret) {\r\n    const { secret, secretHash, isNextWithdrawn, isbtcWithdrawn, btcScriptValues } = this.state\r\n    if (!_secret)\r\n      throw new Error(`Withdrawal is automatic. For manual withdrawal, provide a secret`)\r\n\r\n    if (!btcScriptValues)\r\n      throw new Error(`Cannot withdraw without script values`)\r\n\r\n    if (secret && secret != _secret)\r\n      console.warn(`Secret already known and is different. Are you sure?`)\r\n\r\n    if (isbtcWithdrawn)\r\n      console.warn(`Looks like money were already withdrawn, are you sure?`)\r\n\r\n    debug('swap.core:flow')(`WITHDRAW using secret = ${_secret}`)\r\n\r\n    const _secretHash = crypto.ripemd160(Buffer.from(_secret, 'hex')).toString('hex')\r\n    if (secretHash != _secretHash)\r\n      console.warn(`Hash does not match!`)\r\n\r\n    const { scriptAddress } = this.btcSwap.createScript(btcScriptValues)\r\n    const balance = await this.btcSwap.getBalance(scriptAddress)\r\n\r\n    debug('swap.core:flow')(`address=${scriptAddress}, balance=${balance}`)\r\n\r\n    if (balance === 0) {\r\n      this.finishStep({\r\n        isbtcWithdrawn: true,\r\n      }, { step: 'withdraw-btc' })\r\n      throw new Error(`Already withdrawn: address=${scriptAddress},balance=${balance}`)\r\n    }\r\n\r\n    await this.btcSwap.withdraw({\r\n      scriptValues: btcScriptValues,\r\n      secret: _secret,\r\n    }, (hash) => {\r\n      debug('swap.core:flow')(`TX hash=${hash}`)\r\n      this.setState({\r\n        btcSwapWithdrawTransactionHash: hash,\r\n      })\r\n    })\r\n    debug('swap.core:flow')(`TX withdraw sent: ${this.state.btcSwapWithdrawTransactionHash}`)\r\n\r\n    this.finishStep({\r\n      isbtcWithdrawn: true,\r\n    }, { step: 'withdraw-btc' })\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default NEXT2BTC\r\n","import debug from 'debug'\r\nimport { util } from 'swap.app'\r\nimport { AtomicAB2UTXO } from 'swap.swap'\r\nimport { EthLikeSwap, NextSwap } from 'swap.swaps'\r\n\r\n\r\ninterface INextToEvm {\r\n  flowName: string\r\n  getMyAddress: Function\r\n  getParticipantAddress: Function\r\n}\r\nclass NextToEvm extends AtomicAB2UTXO {\r\n\r\n  _flowName: string\r\n  evmCoin: string\r\n\r\n  evmSwap: EthLikeSwap\r\n  utxoSwap: NextSwap\r\n\r\n  ethLikeSwap: EthLikeSwap\r\n\r\n  state: any\r\n\r\n  getMyAddress: Function\r\n  getParticipantAddress: Function\r\n\r\n  constructor(swap, options: INextToEvm) {\r\n    super(swap)\r\n\r\n    if (!options.flowName) {\r\n      throw new Error('NextToEvm - option flowName requery')\r\n    }\r\n    if (!options.getMyAddress || typeof options.getMyAddress !== 'function') {\r\n      throw new Error(`NextToEvm ${options.flowName} - option getMyAddress - function requery`)\r\n    }\r\n    if (!options.getParticipantAddress || typeof options.getParticipantAddress !== 'function') {\r\n      throw new Error(`NextToEvm ${options.flowName} - option getParticipantAddress - function requery`)\r\n    }\r\n\r\n    this.getMyAddress = options.getMyAddress\r\n    this.getParticipantAddress = options.getParticipantAddress\r\n\r\n    this.utxoCoin = `next`\r\n    this.evmCoin = swap.ethLikeCoin\r\n    this._flowName = options.flowName\r\n\r\n    this.isUTXOSide = true\r\n    this.isTakerMakerModel = true\r\n    this.setupTakerMakerEvents()\r\n    this.stepNumbers = this.getStepNumbers()\r\n\r\n    this.evmSwap = swap.ownerSwap\r\n    this.utxoSwap = swap.participantSwap\r\n\r\n    // need for another classes\r\n    this.ethLikeSwap = this.evmSwap\r\n    this.abBlockchain = this.evmSwap\r\n    this.utxoBlockchain = this.utxoSwap\r\n\r\n    if (!this.evmSwap) {\r\n      throw new Error(`${this._flowName}: \"evmSwap\" of type object required`)\r\n    }\r\n    if (!this.utxoSwap) {\r\n      throw new Error(`${this._flowName}: \"utxoSwap\" of type object required`)\r\n    }\r\n\r\n    // ToDo: update state to UTXO and EVM names\r\n    this.state = {\r\n      step: 0,\r\n\r\n      isStoppedSwap: false,\r\n\r\n      signTransactionHash: null,\r\n      isSignFetching: false,\r\n      isParticipantSigned: false,\r\n\r\n      ethLikeSwapCreationTransactionHash: null,\r\n\r\n      secretHash: null,\r\n\r\n      isBalanceFetching: false,\r\n      isBalanceEnough: true,\r\n      balance: null,\r\n\r\n      isEthContractFunded: false,\r\n\r\n      utxoSwapWithdrawTransactionHash: null,\r\n      ethLikeSwapWithdrawTransactionHash: null,\r\n\r\n      canCreateEthTransaction: true,\r\n      isEthWithdrawn: false,\r\n\r\n      refundTransactionHash: null,\r\n      isRefunded: false,\r\n\r\n      withdrawFee: null,\r\n      refundTxHex: null,\r\n      isFinished: false,\r\n      isSwapExist: false,\r\n\r\n      requireWithdrawFee: false,\r\n\r\n      utxoFundError: null,\r\n    }\r\n\r\n    const flow = this\r\n\r\n    if (this.isMaker()) {\r\n      this.swap.room.once('create eth contract', async ({\r\n        ethLikeSwapCreationTransactionHash,\r\n      }) => {\r\n        flow.setState({\r\n          ethLikeSwapCreationTransactionHash,\r\n        }, true)\r\n      })\r\n    }\r\n\r\n    this._persistState()\r\n    super._persistSteps()\r\n  }\r\n\r\n  _persistState() {\r\n    super._persistState()\r\n  }\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  _getSteps() {\r\n    const flow = this\r\n\r\n\r\n    if (this.isTaker()) {\r\n      return [\r\n\r\n        // 1. Signs\r\n        async () => {\r\n          this.signUTXOSide()\r\n        },\r\n\r\n        // 2. Create secret, secret hash and UTXO script\r\n        () => {\r\n          this.submitSecret()\r\n        },\r\n\r\n        // 3. Check balance\r\n        () => {\r\n          this.syncBalance()\r\n        },\r\n\r\n        // 4. Fund UTXO Script and notify participant\r\n        async () => {\r\n          this.utxoSwap.fundSwapScript({\r\n            flow,\r\n          })\r\n        },\r\n\r\n        // 5. Wait participant creates EVM Contract\r\n        async () => {\r\n          await flow.evmSwap.waitABContract({\r\n            flow,\r\n            utxoCoin: this.utxoCoin,\r\n          })\r\n        },\r\n\r\n        // 6. Withdraw\r\n        async () => {\r\n          await flow.evmSwap.withdrawFromABContract({ flow })\r\n        },\r\n\r\n        // 7. Finish\r\n        () => {\r\n          flow.swap.room.once('swap finished', ({utxoSwapWithdrawTransactionHash}) => {\r\n            flow.setState({\r\n              utxoSwapWithdrawTransactionHash,\r\n            })\r\n          })\r\n\r\n          flow.swap.room.sendMessage({\r\n            event: 'request swap finished',\r\n          })\r\n\r\n          flow.finishStep({\r\n            isFinished: true,\r\n          }, 'finish')\r\n        },\r\n\r\n        // 8. Finished!\r\n        () => {}\r\n      ]\r\n    } else {\r\n      return [\r\n        // 1 - `sign` Signs\r\n        async () => {\r\n          this.signUTXOSide()\r\n        },\r\n\r\n        // 2 - `sync-balance` - syncBalance\r\n        async () => {\r\n          this.syncBalance()\r\n        },\r\n\r\n        // 3 - `wait-lock-eth` - wait taker create EVM -  \r\n        async () => {\r\n          await util.helpers.repeatAsyncUntilResult(async () => {\r\n            const isContractFunded = await this.evmSwap.isContractFunded(this)\r\n            if (isContractFunded) {\r\n              this.finishStep({\r\n                isEthContractFunded: true,\r\n              }, 'wait-lock-eth`')\r\n              return true\r\n            }\r\n            return false\r\n          })\r\n        },\r\n\r\n        // 4 - `lock-utxo` - create UTXO\r\n        async () => {\r\n          // Repeat until \r\n          await util.helpers.repeatAsyncUntilResult(async () => {\r\n            const {\r\n              secretHash,\r\n              utxoScriptValues\r\n            } = flow.state\r\n            if (secretHash && utxoScriptValues) {\r\n              const isSwapCreated = await flow.evmSwap.isSwapCreated({\r\n                ownerAddress: flow.getParticipantAddress(flow.swap),\r\n                participantAddress: flow.getMyAddress(),\r\n                secretHash,\r\n              })\r\n              if (isSwapCreated) {\r\n                const destAddressIsOk = await this.evmSwap.checkTargetAddress({ flow })\r\n\r\n                if (destAddressIsOk) {\r\n                  await this.utxoSwap.fundSwapScript({\r\n                    flow,\r\n                  })\r\n                  return true\r\n                } else {\r\n                  console.warn('Destination address not valid. Stop swap now!')\r\n                }\r\n              }\r\n            } else {\r\n              flow.swap.room.sendMessage({\r\n                event: 'request utxo script',\r\n              })\r\n              return false\r\n            }\r\n          })\r\n        },\r\n\r\n        // 5 - `wait-withdraw-utxo` - wait withdraw UTXO - fetch secret from TX - getSecretFromTxhash\r\n        async () => {\r\n          await util.helpers.repeatAsyncUntilResult(async () => {\r\n            // check withdraw\r\n            const {\r\n              utxoScriptValues,\r\n            } = this.state\r\n            const { scriptAddress } = this.utxoSwap.createScript(utxoScriptValues)\r\n\r\n            const utxoWithdrawData = await this.utxoSwap.checkWithdraw(scriptAddress)\r\n\r\n            if (utxoWithdrawData) {\r\n              const {\r\n                txid: utxoSwapWithdrawTransactionHash,\r\n              } = utxoWithdrawData\r\n\r\n              const secret = await this.utxoSwap.getSecretFromTxhash(utxoSwapWithdrawTransactionHash)\r\n              if (secret) {\r\n                this.finishStep({\r\n                  secret,\r\n                  utxoSwapWithdrawTransactionHash,\r\n                }, 'wait-withdraw-utxo')\r\n              }\r\n              return true\r\n            } else {\r\n              return false\r\n            }\r\n          })\r\n        },\r\n\r\n        // 6 - `withdraw-eth` - withdraw from EVM\r\n        async () => {\r\n          await flow.evmSwap.withdrawFromABContract({ flow })\r\n        },\r\n\r\n        // 7 - `finish`\r\n        async () => {\r\n          // @to-do - txids room events\r\n          flow.finishStep({\r\n            isFinished: true,\r\n          }, 'finish')\r\n        },\r\n\r\n        // 8 - `end`\r\n        async () => {},\r\n      ]\r\n    }\r\n  }\r\n\r\n  getUTXOScriptAddress() {\r\n    const { scriptAddress } = this.state\r\n    return scriptAddress;\r\n  }\r\n\r\n  async skipSyncBalance() {\r\n    this.finishStep({}, { step: 'sync-balance' })\r\n  }\r\n\r\n  getRefundTxHex = () => {\r\n    this.utxoSwap.getRefundHexTransaction({\r\n      scriptValues: this.state.utxoScriptValues,\r\n      secret: this.state.secret,\r\n    })\r\n      .then((txHex) => {\r\n        this.setState({\r\n          refundTxHex: txHex,\r\n        })\r\n      })\r\n  }\r\n\r\n  tryRefund() {\r\n    const flow = this\r\n    const { utxoScriptValues, secret } = flow.state\r\n\r\n    return flow.utxoSwap.refund({\r\n      scriptValues: utxoScriptValues,\r\n      secret: secret,\r\n    })\r\n      .then((hash) => {\r\n        if (!hash) {\r\n          return false\r\n        }\r\n\r\n        this.swap.room.sendMessage({\r\n          event: 'utxo refund completed',\r\n        })\r\n\r\n        flow.setState({\r\n          refundTransactionHash: hash,\r\n          isRefunded: true,\r\n          isSwapExist: false,\r\n        }, true)\r\n\r\n        return true\r\n      })\r\n      .catch((error) => {\r\n        if (/Address is empty/.test(error)) {\r\n          // TODO - fetch TX list to script for refund TX\r\n          flow.setState({\r\n            isRefunded: true,\r\n            isSwapExist: false,\r\n          }, true)\r\n          return true\r\n        } else {\r\n          console.warn(`${flow.utxoCoin} refund: ${error}`)\r\n\r\n          return false\r\n        }\r\n      })\r\n  }\r\n\r\n  async isRefundSuccess() {\r\n    const { refundTransactionHash, isRefunded } = this.state\r\n    if (refundTransactionHash && isRefunded) {\r\n      if (await this.utxoSwap.checkTX(refundTransactionHash)) {\r\n        return true\r\n      } else {\r\n        console.warn(`${this._flowName} - unknown refund transaction`)\r\n        this.setState( {\r\n          refundTransactionHash: null,\r\n          isRefunded: false,\r\n        } )\r\n        return false\r\n      }\r\n    }\r\n    return false\r\n  }\r\n\r\n  async tryWithdraw(_secret) {\r\n    const { secret, secretHash, isEthWithdrawn } = this.state\r\n\r\n    if (!_secret)\r\n      throw new Error(`Withdrawal is automatic. For manual withdrawal, provide a secret`)\r\n\r\n    if (secret && secret != _secret)\r\n      console.warn(`Secret already known and is different. Are you sure?`)\r\n\r\n    if (isEthWithdrawn)\r\n      console.warn(`Looks like money were already withdrawn, are you sure?`)\r\n\r\n    debug('swap.core:flow')(`WITHDRAW using secret = ${_secret}`)\r\n\r\n    const _secretHash = this.app.env.bitcoin.crypto.ripemd160(Buffer.from(_secret, 'hex')).toString('hex')\r\n\r\n    if (secretHash != _secretHash)\r\n      console.warn(`Hash does not match! state: ${secretHash}, given: ${_secretHash}`)\r\n\r\n    const data = {\r\n      ownerAddress: this.getParticipantAddress(this.swap),\r\n      secret: _secret,\r\n    }\r\n\r\n    await this.evmSwap.withdraw(data, (hash) => {\r\n      debug('swap.core:flow')(`TX hash=${hash}`)\r\n      this.setState({\r\n        ethLikeSwapWithdrawTransactionHash: hash,\r\n        canCreateEthTransaction: true,\r\n      })\r\n    }).then(() => {\r\n\r\n      this.finishStep({\r\n        isEthWithdrawn: true,\r\n      }, 'withdraw-eth')\r\n    })\r\n  }\r\n}\r\n\r\nexport default NextToEvm\r\n","import { constants } from 'swap.app'\r\nimport NextToEvm from './atomic/NextToEvm'\r\n\r\n\r\nclass NEXT2ETH extends NextToEvm {\r\n  static getName() {\r\n    return `${this.getFromName()}2${this.getToName()}`\r\n  }\r\n  static getFromName() {\r\n    return constants.COINS.next\r\n  }\r\n  static getToName() {\r\n    return constants.COINS.eth\r\n  }\r\n  constructor(swap) {\r\n    super(swap, {\r\n      flowName: NEXT2ETH.getName(),\r\n      getMyAddress: swap.app.getMyEthAddress.bind(swap.app),\r\n      getParticipantAddress: swap.app.getParticipantEthAddress.bind(swap.app),\r\n    })\r\n  }\r\n}\r\n\r\nexport default NEXT2ETH\r\n","import debug from 'debug'\r\nimport { util } from 'swap.app'\r\nimport { AtomicAB2UTXO } from 'swap.swap'\r\nimport { EthLikeSwap, NextSwap } from 'swap.swaps'\r\n\r\n\r\ninterface IEvmToNext {\r\n  flowName: string\r\n  getMyAddress: Function\r\n  getParticipantAddress: Function\r\n}\r\nclass EvmToNext extends AtomicAB2UTXO {\r\n\r\n  _flowName: string\r\n  evmCoin: string\r\n\r\n  evmSwap: EthLikeSwap\r\n  utxoSwap: NextSwap\r\n\r\n  ethLikeSwap: EthLikeSwap\r\n\r\n  state: any\r\n\r\n  getMyAddress: Function\r\n  getParticipantAddress: Function\r\n\r\n  constructor(swap, options: IEvmToNext) {\r\n    super(swap)\r\n\r\n    if (!options.flowName) {\r\n      throw new Error('EvmToNext - option flowName requery')\r\n    }\r\n    if (!options.getMyAddress || typeof options.getMyAddress !== 'function') {\r\n      throw new Error(`EvmToNext ${options.flowName} - option getMyAddress - function requery`)\r\n    }\r\n    if (!options.getParticipantAddress || typeof options.getParticipantAddress !== 'function') {\r\n      throw new Error(`EvmToNext ${options.flowName} - option getParticipantAddress - function requery`)\r\n    }\r\n\r\n    this.getMyAddress = options.getMyAddress\r\n    this.getParticipantAddress = options.getParticipantAddress\r\n\r\n    this.utxoCoin = `next`\r\n    this.evmCoin = swap.ethLikeCoin\r\n    this._flowName = options.flowName\r\n\r\n    this.isTakerMakerModel = true\r\n    this.setupTakerMakerEvents()\r\n    this.stepNumbers = this.getStepNumbers()\r\n\r\n    this.evmSwap = swap.participantSwap\r\n    this.utxoSwap = swap.ownerSwap\r\n\r\n    // need for another classes\r\n    this.ethLikeSwap = this.evmSwap\r\n    this.abBlockchain = this.evmSwap\r\n    this.utxoBlockchain = this.utxoSwap\r\n\r\n    if (!this.evmSwap) {\r\n      throw new Error(`${this._flowName}: \"evmSwap\" of type object required`)\r\n    }\r\n    if (!this.utxoSwap) {\r\n      throw new Error(`${this._flowName}: \"utxoSwap\" of type object required`)\r\n    }\r\n\r\n    // ToDo: update state to UTXO and EVM names\r\n    this.state = {\r\n      step: 0,\r\n\r\n      isStoppedSwap: false,\r\n\r\n      signTransactionHash: null,\r\n      isSignFetching: false,\r\n      isMeSigned: false,\r\n\r\n      targetWallet : null,\r\n      secretHash: null,\r\n\r\n      isBalanceFetching: false,\r\n      isBalanceEnough: true,\r\n      balance: null,\r\n\r\n      ethLikeSwapCreationTransactionHash: null,\r\n      canCreateEthTransaction: true,\r\n      isEthContractFunded: false,\r\n\r\n      secret: null,\r\n\r\n      isEthWithdrawn: false,\r\n      isbtcWithdrawn: false,\r\n\r\n      ethLikeSwapWithdrawTransactionHash: null,\r\n      utxoSwapWithdrawTransactionHash: null,\r\n\r\n      refundTransactionHash: null,\r\n      isRefunded: false,\r\n\r\n      isFinished: false,\r\n      isSwapExist: false,\r\n\r\n      withdrawRequestIncoming: false,\r\n      withdrawRequestAccepted: false,\r\n\r\n      isFailedTransaction: false,\r\n      isFailedTransactionError: null,\r\n    }\r\n\r\n    this._persistState()\r\n\r\n    const flow = this\r\n\r\n    if (this.isTaker()) {\r\n      flow.swap.room.on('create utxo script', (data) => {\r\n        const {\r\n          utxoScriptCreatingTransactionHash,\r\n        } = data\r\n        flow.setState({\r\n          utxoScriptCreatingTransactionHash,\r\n        }, true)\r\n      })\r\n      flow.swap.room.on('ethWithdrawTxHash', (data) => {\r\n        const {\r\n          ethLikeSwapWithdrawTransactionHash,\r\n        } = data\r\n        flow.setState({\r\n          ethLikeSwapWithdrawTransactionHash,\r\n        })\r\n      })\r\n    } else {\r\n      flow.swap.room.once('request withdraw', () => {\r\n        flow.setState({\r\n          withdrawRequestIncoming: true,\r\n        })\r\n      })\r\n\r\n      flow.swap.room.on('request eth contract', () => {\r\n        const { ethLikeSwapCreationTransactionHash } = flow.state\r\n\r\n        if (ethLikeSwapCreationTransactionHash) {\r\n          console.log('Exists - send hash')\r\n          flow.swap.room.sendMessage({\r\n            event: 'create eth contract',\r\n            data: {\r\n              ethLikeSwapCreationTransactionHash,\r\n            },\r\n          })\r\n        }\r\n      })\r\n    }\r\n\r\n    super._persistSteps()\r\n  }\r\n\r\n  _persistState() {\r\n    super._persistState()\r\n  }\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  _getSteps() {\r\n    const flow = this\r\n\r\n    if (this.isMaker()) {\r\n      return [\r\n\r\n        // 1. Sign swap to start\r\n\r\n        () => {\r\n          this.signABSide()\r\n        },\r\n\r\n        // 2. Wait participant create and fund UTXO Script\r\n\r\n        () => {\r\n          flow.waitUTXOScriptCreated()\r\n        },\r\n\r\n        // 3. Verify UTXO Script\r\n\r\n        () => {\r\n          debug('swap.core:flow')(`waiting verify utxo script`)\r\n          this.verifyScript()\r\n        },\r\n\r\n        // 4. Check balance\r\n\r\n        () => {\r\n          this.syncBalance()\r\n        },\r\n\r\n        // 5. Create EVM Contract\r\n\r\n        async () => {\r\n          const scriptFunded = await this.waitUTXOScriptFunded()\r\n          if (scriptFunded) {\r\n            await flow.evmSwap.fundContract({\r\n              flow,\r\n            })\r\n          }\r\n        },\r\n\r\n        // 6. Wait participant withdraw\r\n\r\n        async () => {\r\n          const {\r\n            secretHash,\r\n          } = this.state\r\n\r\n          await util.helpers.repeatAsyncUntilResult(async () => {\r\n            const isSwapCreated = await flow.evmSwap.isSwapCreated({\r\n              ownerAddress: flow.getMyAddress(),\r\n              participantAddress: flow.getParticipantAddress(flow.swap),\r\n              secretHash,\r\n            })\r\n\r\n            if (isSwapCreated) {\r\n              await flow.evmSwap.getSecretFromContract({ flow })\r\n              return true\r\n            }\r\n            return false\r\n          })\r\n        },\r\n\r\n        // 7. Withdraw\r\n\r\n        async () => {\r\n          await this.utxoSwap.withdrawFromSwap({\r\n            flow,\r\n          })\r\n        },\r\n\r\n        // 8. Finish\r\n\r\n        () => {\r\n          flow.swap.room.once('request swap finished', () => {\r\n            const { utxoSwapWithdrawTransactionHash } = flow.state\r\n\r\n            flow.swap.room.sendMessage({\r\n              event: 'swap finished',\r\n              data: {\r\n                utxoSwapWithdrawTransactionHash,\r\n              },\r\n            })\r\n          })\r\n\r\n          flow.finishStep({\r\n            isFinished: true,\r\n          }, { step: 'finish' })\r\n        },\r\n\r\n        // 9. Finished!\r\n\r\n        () => {}\r\n      ]\r\n    } else {\r\n      return [\r\n        // 1 - `sign` - Signs\r\n        async () => {\r\n          this.signABSide()\r\n        },\r\n\r\n        // 2 - `sync-balance` - syncBalance\r\n        async () => {\r\n          this.syncBalance()\r\n        },\r\n\r\n        // 3 - `lock-eth` - create secret and secretHash - create EVM contract\r\n        async () => {\r\n          if (!this.state.secret) {\r\n            const {\r\n              secret,\r\n              secretHash,\r\n            } = this.generateSecret()\r\n\r\n            this.createWorkUTXOScript(secretHash, false)\r\n\r\n            this.setState({\r\n              secret,\r\n              secretHash,\r\n            }, true)\r\n          }\r\n\r\n          await flow.evmSwap.fundContract({\r\n            flow,\r\n            //     (  )\r\n            //  ,  ,   utxo     evm  \r\n            // -   UTXO    \r\n            //     evm   getTargetWallet\r\n            useTargetWallet: true,\r\n          })\r\n        },\r\n\r\n        // 4 - `wait-lock-utxo` - wait when UTXO script created and funded\r\n        async () => {\r\n          this.waitUTXOScriptFunded()\r\n            .then((funded) => {\r\n              if (funded) {\r\n                this.finishStep({}, 'wait-lock-utxo`')\r\n              }\r\n            })\r\n        },\r\n\r\n        // 5 - `withdraw-utxo` - withdraw from UTXO\r\n        async () => {\r\n          await this.utxoSwap.withdrawFromSwap({\r\n            flow,\r\n          })\r\n        },\r\n\r\n        // 6 - `finish`\r\n        async () => {\r\n          // @to-do - txids room events\r\n          flow.finishStep({\r\n            isFinished: true,\r\n          }, 'finish')\r\n        },\r\n\r\n        // 7 - `end`\r\n        async () => {},\r\n      ]\r\n    }\r\n  }\r\n\r\n  _checkSwapAlreadyExists() {\r\n    const swapData = {\r\n      ownerAddress: this.getMyAddress(),\r\n      participantAddress: this.getParticipantAddress(this.swap)\r\n    }\r\n\r\n    return this.evmSwap.checkSwapExists(swapData)\r\n  }\r\n\r\n  async tryRefund() {\r\n    const { secretHash } = this.state\r\n\r\n    const refundHandler = (hash = null) => {\r\n      this.swap.room.sendMessage({\r\n        event: 'eth refund completed',\r\n      })\r\n\r\n      this.setState({\r\n        refundTransactionHash: hash,\r\n        isRefunded: true,\r\n        isSwapExist: false,\r\n      }, true)\r\n    }\r\n\r\n    try {\r\n      const wasRefunded = await this.evmSwap.wasRefunded({ secretHash })\r\n\r\n      if (wasRefunded) {\r\n        debug('swap.core:flow')('This swap was refunded')\r\n\r\n        refundHandler()\r\n\r\n        return true\r\n      }\r\n    } catch (error) {\r\n      console.warn('wasRefunded error:', error)\r\n\r\n      return false\r\n    }\r\n\r\n    return this.evmSwap.refund({\r\n      participantAddress: this.getParticipantAddress(this.swap),\r\n    })\r\n      .then((hash) => {\r\n        if (!hash) {\r\n          return false\r\n        }\r\n\r\n        //@ts-ignore: strictNullChecks\r\n        refundHandler(hash)\r\n\r\n        return true\r\n      })\r\n      .catch((error) => false)\r\n  }\r\n\r\n  async isRefundSuccess() {\r\n    return true\r\n  }\r\n\r\n  async tryWithdraw(_secret) {\r\n    const { secret, secretHash, isbtcWithdrawn, utxoScriptValues } = this.state\r\n\r\n    if (!_secret)\r\n      throw new Error(`Withdrawal is automatic. For manual withdrawal, provide a secret`)\r\n\r\n    if (!utxoScriptValues)\r\n      throw new Error(`Cannot withdraw without script values`)\r\n\r\n    if (secret && secret != _secret)\r\n      console.warn(`Secret already known and is different. Are you sure?`)\r\n\r\n    if (isbtcWithdrawn)\r\n      console.warn(`Looks like money were already withdrawn, are you sure?`)\r\n\r\n    debug('swap.core:flow')(`WITHDRAW using secret = ${_secret}`)\r\n\r\n    const _secretHash = this.app.env.bitcoin.crypto.ripemd160(Buffer.from(_secret, 'hex')).toString('hex')\r\n\r\n    if (secretHash != _secretHash)\r\n      console.warn(`Hash does not match! state: ${secretHash}, given: ${_secretHash}`)\r\n\r\n    const { scriptAddress } = this.utxoSwap.createScript(utxoScriptValues)\r\n    const balance = await this.utxoSwap.getBalance(scriptAddress)\r\n\r\n    debug('swap.core:flow')(`address=${scriptAddress}, balance=${balance}`)\r\n\r\n    if (balance === 0) {\r\n      this.finishStep({\r\n        isbtcWithdrawn: true,\r\n      }, { step: 'withdraw-utxo' })\r\n      throw new Error(`Already withdrawn: address=${scriptAddress},balance=${balance}`)\r\n    }\r\n\r\n    this.utxoSwap.withdraw({\r\n      scriptValues: utxoScriptValues,\r\n      secret: _secret,\r\n    }).then((hash) => {\r\n      debug('swap.core:flow')(`TX hash=${hash}`)\r\n      this.setState({\r\n        utxoSwapWithdrawTransactionHash: hash,\r\n      })\r\n\r\n      debug('swap.core:flow')(`TX withdraw sent: ${this.state.utxoSwapWithdrawTransactionHash}`)\r\n\r\n      this.finishStep({\r\n        isbtcWithdrawn: true,\r\n      }, { step: 'withdraw-utxo' })\r\n    })\r\n  }\r\n}\r\n\r\n\r\nexport default EvmToNext\r\n","import { constants } from 'swap.app'\r\nimport EvmToNext from './atomic/EvmToNext'\r\n\r\n\r\nclass ETH2NEXT extends EvmToNext {\r\n  static getName() {\r\n    return `${this.getFromName()}2${this.getToName()}`\r\n  }\r\n  static getFromName() {\r\n    return constants.COINS.eth\r\n  }\r\n  static getToName() {\r\n    return constants.COINS.next\r\n  }\r\n  constructor(swap) {\r\n    super(swap, {\r\n      flowName: ETH2NEXT.getName(),\r\n      getMyAddress: swap.app.getMyEthAddress.bind(swap.app),\r\n      getParticipantAddress: swap.app.getParticipantEthAddress.bind(swap.app),\r\n    })\r\n  }\r\n}\r\n\r\nexport default ETH2NEXT\r\n","import debug from 'debug'\r\nimport { util } from 'swap.app'\r\nimport { AtomicAB2UTXO } from 'swap.swap'\r\nimport Swap from 'swap.swap'\r\nimport { EthLikeTokenSwap, NextSwap } from 'swap.swaps'\r\n\r\n\r\ninterface INextToEvmToken {\r\n  flowName: string\r\n  blockchainName: string\r\n  tokenName: string\r\n  getMyAddress: Function\r\n  getParticipantAddress: Function\r\n}\r\n\r\nexport default class NextToEvmToken extends AtomicAB2UTXO {\r\n\r\n  _flowName: string\r\n  evmTokenSwap: EthLikeTokenSwap\r\n  utxoSwap: NextSwap\r\n  state: any\r\n\r\n  ethTokenSwap: EthLikeTokenSwap\r\n\r\n  blockchainName: string\r\n  tokenName: string\r\n  getMyAddress: Function\r\n  getParticipantAddress: Function\r\n\r\n  constructor(swap: Swap, options: INextToEvmToken) {\r\n    super(swap)\r\n    if (!options.tokenName) {\r\n      throw new Error(`NextToEvmToken - option tokenName requery`)\r\n    }\r\n    if (!options.blockchainName) {\r\n      throw new Error(`NextToEvmToken - token ${options.tokenName} - option blockchainName requery`)\r\n    }\r\n    if (!options.getMyAddress || typeof options.getMyAddress !== 'function') {\r\n      throw new Error(`NextToEvmToken ${options.blockchainName} - token ${options.tokenName} - option getMyAddress - function requery`)\r\n    }\r\n    if (!options.getParticipantAddress || typeof options.getParticipantAddress !== 'function') {\r\n      throw new Error(`NextToEvmToken ${options.blockchainName} - token ${options.tokenName} - option getParticipantAddress - function requery`)\r\n    }\r\n\r\n    this.blockchainName = options.blockchainName\r\n    this.tokenName = options.tokenName\r\n    this.getMyAddress = options.getMyAddress\r\n    this.getParticipantAddress = options.getParticipantAddress\r\n\r\n    this.utxoCoin = `next`\r\n    this._flowName = options.flowName\r\n\r\n    this.isUTXOSide = true\r\n    this.isTakerMakerModel = true\r\n    this.setupTakerMakerEvents()\r\n\r\n    this.stepNumbers = this.getStepNumbers()\r\n\r\n    this.evmTokenSwap = swap.ownerSwap\r\n    this.utxoSwap = swap.participantSwap\r\n\r\n    // need for another classes\r\n    this.ethTokenSwap = this.evmTokenSwap\r\n    this.abBlockchain = this.evmTokenSwap\r\n    this.utxoBlockchain = this.utxoSwap\r\n\r\n    if (!this.evmTokenSwap) {\r\n      throw new Error(`${this._flowName}: \"evmTokenSwap\" of type object required`)\r\n    }\r\n    if (!this.utxoSwap) {\r\n      throw new Error(`${this._flowName}: \"utxoSwap\" of type object required`)\r\n    }\r\n\r\n    // ToDo: update state to UTXO and EVM names\r\n    this.state = {\r\n      step: 0,\r\n\r\n      isStoppedSwap: false,\r\n\r\n      signTransactionHash: null,\r\n      isSignFetching: false,\r\n      isParticipantSigned: false,\r\n\r\n      ethSwapCreationTransactionHash: null,\r\n\r\n      secretHash: null,\r\n\r\n      isBalanceFetching: false,\r\n      isBalanceEnough: true,\r\n      balance: null,\r\n\r\n      isEthContractFunded: false,\r\n\r\n      utxoSwapWithdrawTransactionHash: null,\r\n      ethSwapWithdrawTransactionHash: null,\r\n\r\n      secret: null,\r\n\r\n      canCreateEthTransaction: true,\r\n      isEthWithdrawn: false,\r\n\r\n      refundTransactionHash: null,\r\n      isRefunded: false,\r\n\r\n      withdrawFee: null,\r\n      refundTxHex: null,\r\n      isFinished: false,\r\n      isSwapExist: false,\r\n      utxoFundError: null,\r\n    }\r\n\r\n    const flow = this\r\n\r\n    if (this.isMaker()) {\r\n      this.swap.room.once('create eth contract', async ({\r\n        ethSwapCreationTransactionHash,\r\n      }) => {\r\n        flow.setState({\r\n          ethSwapCreationTransactionHash,\r\n        }, true)\r\n      })\r\n    }\r\n\r\n    this._persistState()\r\n    super._persistSteps()\r\n  }\r\n\r\n  _persistState() {\r\n    super._persistState()\r\n  }\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  _getSteps() {\r\n    const flow = this\r\n\r\n    if (this.isTaker()) {\r\n      return [\r\n\r\n        // 1. Signs\r\n\r\n        async () => {\r\n          this.signUTXOSide()\r\n        },\r\n\r\n        // 2. Create secret, secret hash and UTXO script\r\n\r\n        () => {\r\n          this.submitSecret()\r\n        },\r\n\r\n        // 3. Check system wallet balance\r\n\r\n        () => {\r\n          this.syncBalance()\r\n        },\r\n\r\n        // 4. Create UTXO Script, fund, notify participant\r\n\r\n        async () => {\r\n          await this.utxoSwap.fundSwapScript({\r\n            flow,\r\n          })\r\n        },\r\n\r\n        // 5. Wait participant creates EVM Token Contract\r\n\r\n        async () => {\r\n          await this.evmTokenSwap.waitAB2UTXOContract({\r\n            flow,\r\n            utxoCoin: this.utxoCoin,\r\n          })\r\n        },\r\n\r\n        // 6. Withdraw\r\n\r\n        async () => {\r\n          await flow.evmTokenSwap.withdrawFromABContract({ flow })\r\n        },\r\n\r\n        // 7. Finish\r\n\r\n        () => {\r\n          flow.swap.room.once('swap finished', ({utxoSwapWithdrawTransactionHash}) => {\r\n            flow.setState({\r\n              utxoSwapWithdrawTransactionHash,\r\n            })\r\n          })\r\n\r\n          flow.swap.room.sendMessage({\r\n            event: 'request swap finished',\r\n          })\r\n\r\n          flow.finishStep({\r\n            isFinished: true,\r\n          }, 'finish')\r\n        },\r\n\r\n        // 8. Finished!\r\n\r\n        () => {}\r\n      ]\r\n    } else {\r\n      return [\r\n        // 1 - `sign` Signs\r\n        async () => {\r\n          this.signUTXOSide()\r\n        },\r\n\r\n        // 2 - `sync-balance` - syncBalance\r\n        async () => {\r\n          this.syncBalance()\r\n        },\r\n\r\n        // 3 - `wait-lock-eth` - wait taker created and funded EVM Token Contract\r\n        async () => {\r\n          await util.helpers.repeatAsyncUntilResult(async () => {\r\n            const isContractFunded = await this.evmTokenSwap.isContractFunded(this)\r\n\r\n            if (isContractFunded) {\r\n              this.finishStep({\r\n                isEthContractFunded: true,\r\n              }, 'wait-lock-eth`')\r\n              return true\r\n            }\r\n            return false\r\n          })\r\n        },\r\n\r\n        // 4 - `lock-utxo` - create UTXO\r\n        async () => {\r\n          // Repeat until\r\n          await util.helpers.repeatAsyncUntilResult(async () => {\r\n            const {\r\n              secretHash,\r\n              utxoScriptValues\r\n            } = flow.state\r\n            if (secretHash && utxoScriptValues) {\r\n              const isSwapCreated = await flow.evmTokenSwap.isSwapCreated({\r\n                ownerAddress: flow.getParticipantAddress(flow.swap),\r\n                participantAddress: flow.getMyAddress(),\r\n                secretHash,\r\n              })\r\n              if (isSwapCreated) {\r\n                const destAddressIsOk = await this.evmTokenSwap.checkTargetAddress({ flow })\r\n\r\n                if (destAddressIsOk) {\r\n                  await this.utxoSwap.fundSwapScript({\r\n                    flow,\r\n                  })\r\n                  return true\r\n                } else {\r\n                  console.warn('Destination address not valid. Stop swap now!')\r\n                }\r\n              } else {\r\n                console.log('Swap not mined - wait')\r\n              }\r\n            } else {\r\n              flow.swap.room.sendMessage({\r\n                event: 'request utxo script',\r\n              })\r\n              return false\r\n            }\r\n          })\r\n        },\r\n\r\n        // 5 - `wait-withdraw-utxo` - wait withdraw UTXO - fetch secret from TX - getSecretFromTxhash\r\n        async () => {\r\n          await util.helpers.repeatAsyncUntilResult(async () => {\r\n            // check withdraw\r\n            try {\r\n              const {\r\n                utxoScriptValues,\r\n              } = this.state\r\n              const { scriptAddress } = this.utxoSwap.createScript(utxoScriptValues)\r\n\r\n              const utxoWithdrawData = await this.utxoSwap.checkWithdraw(scriptAddress)\r\n\r\n              if (utxoWithdrawData) {\r\n                const {\r\n                  txid: utxoSwapWithdrawTransactionHash,\r\n                } = utxoWithdrawData\r\n\r\n                const secret = await this.utxoSwap.getSecretFromTxhash(utxoSwapWithdrawTransactionHash)\r\n                if (secret) {\r\n                  this.finishStep({\r\n                    secret,\r\n                    utxoSwapWithdrawTransactionHash,\r\n                  }, 'wait-withdraw-utxo')\r\n                }\r\n                return true\r\n              } else {\r\n                return false\r\n              }\r\n            } catch (e) {\r\n              console.log(`${this._flowName} - Step 5 error`)\r\n              console.error(e)\r\n              return false\r\n            }\r\n          })\r\n        },\r\n\r\n        // 6 - `withdraw-eth` - withdraw from EVM Token Contract\r\n        async () => {\r\n          await flow.evmTokenSwap.withdrawFromABContract({ flow })\r\n        },\r\n\r\n        // 7 - `finish`\r\n        async () => {\r\n          // @to-do - txids room events\r\n          flow.finishStep({\r\n            isFinished: true,\r\n          }, 'finish')\r\n        },\r\n\r\n        // 8 - `end`\r\n        async () => {},\r\n      ]\r\n    }\r\n  }\r\n\r\n  async skipSyncBalance() {\r\n    this.finishStep({}, { step: 'sync-balance' })\r\n  }\r\n\r\n  getRefundTxHex = () => {\r\n    this.utxoSwap.getRefundHexTransaction({\r\n      scriptValues: this.state.utxoScriptValues,\r\n      secret: this.state.secret,\r\n    })\r\n      .then((txHex) => {\r\n        this.setState({\r\n          refundTxHex: txHex,\r\n        })\r\n      })\r\n  }\r\n\r\n  tryRefund() {\r\n    const flow = this\r\n    const { utxoScriptValues, secret } = flow.state\r\n\r\n    return flow.utxoSwap.refund({\r\n      scriptValues: utxoScriptValues,\r\n      secret: secret,\r\n    })\r\n      .then((hash) => {\r\n        if (!hash) {\r\n          return false\r\n        }\r\n\r\n        this.swap.room.sendMessage({\r\n          event: 'utxo refund completed',\r\n        })\r\n\r\n        flow.setState({\r\n          refundTransactionHash: hash,\r\n          isRefunded: true,\r\n          isSwapExist: false,\r\n        }, true)\r\n\r\n        return true\r\n      })\r\n      .catch((error) => {\r\n        if (/Address is empty/.test(error)) {\r\n          // TODO - fetch TX list to script for refund TX\r\n          flow.setState({\r\n            isRefunded: true,\r\n            isSwapExist: false,\r\n          }, true)\r\n          return true\r\n        } else {\r\n          console.warn('utxoSwap refund:', error)\r\n\r\n          return false\r\n        }\r\n      })\r\n  }\r\n\r\n  async isRefundSuccess() {\r\n    const { refundTransactionHash, isRefunded } = this.state\r\n    if (refundTransactionHash && isRefunded) {\r\n      if (await this.utxoSwap.checkTX(refundTransactionHash)) {\r\n        return true\r\n      } else {\r\n        console.warn(`${this._flowName} - unknown refund transaction`)\r\n        this.setState( {\r\n          refundTransactionHash: null,\r\n          isRefunded: false,\r\n        } )\r\n        return false\r\n      }\r\n    }\r\n    return false\r\n  }\r\n\r\n  async tryWithdraw(_secret) {\r\n    const { secret, secretHash, isEthWithdrawn } = this.state\r\n\r\n    if (!_secret)\r\n      throw new Error(`Withdrawal is automatic. For manual withdrawal, provide a secret`)\r\n\r\n    if (secret && secret != _secret)\r\n      console.warn(`Secret already known and is different. Are you sure?`)\r\n\r\n    if (isEthWithdrawn)\r\n      console.warn(`Looks like money were already withdrawn, are you sure?`)\r\n\r\n    debug('swap.core:flow')(`WITHDRAW using secret = ${_secret}`)\r\n\r\n    const _secretHash = this.app.env.bitcoin.crypto.ripemd160(Buffer.from(_secret, 'hex')).toString('hex')\r\n\r\n    if (secretHash != _secretHash)\r\n      console.warn(`Hash does not match! state: ${secretHash}, given: ${_secretHash}`)\r\n\r\n    const data = {\r\n      ownerAddress: this.getParticipantAddress(this.swap),\r\n      secret: _secret,\r\n    }\r\n\r\n    await this.evmTokenSwap.withdraw(data, (hash) => {\r\n      debug('swap.core:flow')(`TX hash=${hash}`)\r\n      this.setState({\r\n        ethSwapWithdrawTransactionHash: hash,\r\n        canCreateEthTransaction: true,\r\n      })\r\n    }).then(() => {\r\n\r\n      this.finishStep({\r\n        isEthWithdrawn: true,\r\n      }, 'withdraw-eth')\r\n    })\r\n  }\r\n}\r\n","import { constants } from 'swap.app'\r\nimport NextToEvmToken from './atomic/NextToEvmToken'\r\n\r\n\r\nexport default (tokenName) => {\r\n  class NEXT2ETHTOKEN extends NextToEvmToken {\r\n    _flowName: string\r\n    static blockchainName = `ETH`\r\n\r\n    static getName() {\r\n      return `${this.getFromName()}2${this.getToName()}`\r\n    }\r\n    static getFromName() {\r\n      return constants.COINS.next\r\n    }\r\n    static getToName() {\r\n      return `{${this.blockchainName}}${tokenName.toUpperCase()}`\r\n    }\r\n\r\n    constructor(swap) {\r\n      super(swap, {\r\n        flowName: NEXT2ETHTOKEN.getName(),\r\n        blockchainName: `ETH`,\r\n        tokenName,\r\n        getMyAddress: swap.app.getMyEthAddress.bind(swap.app),\r\n        getParticipantAddress: swap.app.getParticipantEthAddress.bind(swap.app),\r\n      })\r\n\r\n      this._flowName = NEXT2ETHTOKEN.getName()\r\n    }\r\n  }\r\n\r\n  return NEXT2ETHTOKEN\r\n}","import debug from 'debug'\r\nimport { util } from 'swap.app'\r\nimport { AtomicAB2UTXO } from 'swap.swap'\r\nimport Swap from 'swap.swap'\r\nimport { EthLikeTokenSwap, NextSwap } from 'swap.swaps'\r\n\r\n\r\ninterface IEvmTokenToNext {\r\n  flowName: string\r\n  blockchainName: string\r\n  tokenName: string\r\n  getMyAddress: Function\r\n  getParticipantAddress: Function\r\n}\r\n\r\nexport default class EvmTokenToNext extends AtomicAB2UTXO {\r\n\r\n  _flowName: string\r\n  evmTokenSwap: EthLikeTokenSwap\r\n  utxoSwap: NextSwap\r\n  state: any\r\n\r\n  ethTokenSwap: EthLikeTokenSwap\r\n\r\n  blockchainName: string\r\n  tokenName: string\r\n  getMyAddress: Function\r\n  getParticipantAddress: Function\r\n\r\n  constructor(swap: Swap, options: IEvmTokenToNext) {\r\n    super(swap)\r\n    if (!options.tokenName) {\r\n      throw new Error(`EvmTokenToNext - option tokenName requery`)\r\n    }\r\n    if (!options.blockchainName) {\r\n      throw new Error(`EvmTokenToNext - token ${options.tokenName} - option blockchainName requery`)\r\n    }\r\n    if (!options.getMyAddress || typeof options.getMyAddress !== 'function') {\r\n      throw new Error(`EvmTokenToNext ${options.blockchainName} - token ${options.tokenName} - option getMyAddress - function requery`)\r\n    }\r\n    if (!options.getParticipantAddress || typeof options.getParticipantAddress !== 'function') {\r\n      throw new Error(`EvmTokenToNext ${options.blockchainName} - token ${options.tokenName} - option getParticipantAddress - function requery`)\r\n    }\r\n\r\n    this.blockchainName = options.blockchainName\r\n    this.tokenName = options.tokenName\r\n    this.getMyAddress = options.getMyAddress\r\n    this.getParticipantAddress = options.getParticipantAddress\r\n\r\n    this.utxoCoin = `next`\r\n    this._flowName = options.flowName\r\n\r\n    this.isTakerMakerModel = true\r\n    this.setupTakerMakerEvents()\r\n    this.stepNumbers = this.getStepNumbers()\r\n\r\n    this.evmTokenSwap = swap.participantSwap\r\n    this.utxoSwap = swap.ownerSwap\r\n\r\n    // need for another classes\r\n    this.ethTokenSwap = this.evmTokenSwap\r\n    this.abBlockchain = this.evmTokenSwap\r\n    this.utxoBlockchain = this.utxoSwap\r\n\r\n    if (!this.evmTokenSwap) {\r\n      throw new Error(`${this._flowName}: \"evmTokenSwap\" of type object required`)\r\n    }\r\n    if (!this.utxoSwap) {\r\n      throw new Error(`${this._flowName}: \"utxoSwap\" of type object required`)\r\n    }\r\n\r\n    // ToDo: update state to UTXO and EVM names\r\n    this.state = {\r\n      step: 0,\r\n\r\n      isStoppedSwap: false,\r\n\r\n      signTransactionHash: null,\r\n      isSignFetching: false,\r\n      isMeSigned: false,\r\n\r\n      targetWallet : null,\r\n      secretHash: null,\r\n\r\n      isBalanceFetching: false,\r\n      isBalanceEnough: true,\r\n      balance: null,\r\n\r\n      ethSwapCreationTransactionHash: null,\r\n      canCreateEthTransaction: true,\r\n      isEthContractFunded: false,\r\n\r\n      secret: null,\r\n\r\n      isEthWithdrawn: false,\r\n      isbtcWithdrawn: false,\r\n\r\n      ethSwapWithdrawTransactionHash: null,\r\n      utxoSwapWithdrawTransactionHash: null,\r\n\r\n      refundTransactionHash: null,\r\n      isRefunded: false,\r\n\r\n      isFinished: false,\r\n      isSwapExist: false,\r\n\r\n      withdrawRequestIncoming: false,\r\n      withdrawRequestAccepted: false,\r\n\r\n      isFailedTransaction: false,\r\n      isFailedTransactionError: null,\r\n      gasAmountNeeded: 0,\r\n    }\r\n\r\n    this._persistState()\r\n\r\n    const flow = this\r\n\r\n    if (this.isTaker()) {\r\n      flow.swap.room.on('create utxo script', (data) => {\r\n        const {\r\n          utxoScriptCreatingTransactionHash,\r\n        } = data\r\n        flow.setState({\r\n          utxoScriptCreatingTransactionHash,\r\n        }, true)\r\n      })\r\n      flow.swap.room.on('ethWithdrawTxHash', (data) => {\r\n        const {\r\n          ethSwapWithdrawTransactionHash,\r\n        } = data\r\n        flow.setState({\r\n          ethSwapWithdrawTransactionHash,\r\n        })\r\n      })\r\n    } else {\r\n      flow.swap.room.once('request withdraw', () => {\r\n        flow.setState({\r\n          withdrawRequestIncoming: true,\r\n        })\r\n      })\r\n\r\n      flow.swap.room.on('request eth contract', () => {\r\n        const { ethSwapCreationTransactionHash } = flow.state\r\n\r\n        if (ethSwapCreationTransactionHash) {\r\n          console.log('Exists - send hash')\r\n          flow.swap.room.sendMessage({\r\n            event: 'create eth contract',\r\n            data: {\r\n              ethSwapCreationTransactionHash,\r\n            },\r\n          })\r\n        }\r\n      })\r\n    }\r\n\r\n    super._persistSteps()\r\n  }\r\n\r\n  _persistState() {\r\n    super._persistState()\r\n  }\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  _getSteps() {\r\n    const flow = this\r\n\r\n    if (this.isMaker()) {\r\n      return [\r\n\r\n        // 1. Sign swap to start\r\n\r\n        () => {\r\n          this.signABSide()\r\n        },\r\n\r\n        // 2. Wait participant create, fund UTXO Script\r\n\r\n        () => {\r\n          flow.waitUTXOScriptCreated()\r\n        },\r\n\r\n        // 3. Verify UTXO Script\r\n\r\n        () => {\r\n          debug('swap.core:flow')(`waiting verify utxo script`)\r\n          this.verifyScript()\r\n        },\r\n\r\n        // 4. Check balance\r\n\r\n        () => {\r\n          this.syncBalance()\r\n        },\r\n\r\n        // 5. Create EVM Token Contract\r\n\r\n        async () => {\r\n          const scriptFunded = await this.waitUTXOScriptFunded()\r\n\r\n          if (scriptFunded) {\r\n            await flow.evmTokenSwap.fundERC20Contract({\r\n              flow,\r\n            })\r\n          }\r\n        },\r\n\r\n        // 6. Wait participant withdraw\r\n\r\n        async () => {\r\n          const {\r\n            secretHash,\r\n          } = this.state\r\n\r\n          await util.helpers.repeatAsyncUntilResult(async () => {\r\n            const isSwapCreated = await flow.evmTokenSwap.isSwapCreated({\r\n              ownerAddress: flow.getMyAddress(),\r\n              participantAddress: flow.getParticipantAddress(flow.swap),\r\n              secretHash,\r\n            })\r\n\r\n            if (isSwapCreated) {\r\n              await flow.evmTokenSwap.getSecretFromContract({ flow })\r\n              return true\r\n            }\r\n            return false\r\n          })\r\n        },\r\n\r\n        // 7. Withdraw\r\n\r\n        async () => {\r\n          await this.utxoSwap.withdrawFromSwap({\r\n            flow,\r\n          })\r\n        },\r\n\r\n        // 8. Finish\r\n\r\n        () => {\r\n          flow.swap.room.once('request swap finished', () => {\r\n            const { utxoSwapWithdrawTransactionHash } = flow.state\r\n\r\n            flow.swap.room.sendMessage({\r\n              event: 'swap finished',\r\n              data: {\r\n                utxoSwapWithdrawTransactionHash,\r\n              },\r\n            })\r\n          })\r\n\r\n          flow.finishStep({\r\n            isFinished: true,\r\n          }, { step: 'finish' })\r\n        },\r\n\r\n        // 9. Finished!\r\n\r\n        () => {},\r\n      ]\r\n    } else {\r\n      return [\r\n        // 1 - `sign` - Signs\r\n        async () => {\r\n          this.signABSide()\r\n        },\r\n\r\n        // 2 - `sync-balance` - syncBalance\r\n        async () => {\r\n          this.syncBalance()\r\n        },\r\n\r\n        // 3 - `lock-eth` - create secret and secretHash - create EVM token contract\r\n        async () => {\r\n          if (!this.state.secret) {\r\n            const {\r\n              secret,\r\n              secretHash,\r\n            } = this.generateSecret()\r\n\r\n            this.createWorkUTXOScript(secretHash, false)\r\n\r\n            this.setState({\r\n              secret,\r\n              secretHash,\r\n            }, true)\r\n          }\r\n\r\n          await flow.evmTokenSwap.fundERC20Contract({\r\n            flow,\r\n            //     (  )\r\n            //  ,  ,   UTXO     EVM  \r\n            // -   UTXO    \r\n            //     EVM   getTargetWallet\r\n            useTargetWallet: true,\r\n          })\r\n        },\r\n\r\n        // 4 - `wait-lock-utxo` - wait create UTXO\r\n        async () => {\r\n          await util.helpers.repeatAsyncUntilResult(async () => {\r\n            const isUTXOFunded = await this.waitUTXOScriptFunded()\r\n            if (isUTXOFunded) {\r\n              this.finishStep({}, 'wait-lock-utxo`')\r\n              return true\r\n            }\r\n            return false\r\n          })\r\n        },\r\n\r\n        // 5 - `withdraw-utxo` - withdraw from UTXO\r\n        async () => {\r\n          await this.utxoSwap.withdrawFromSwap({\r\n            flow,\r\n          })\r\n        },\r\n\r\n        // 6 - `finish`\r\n        async () => {\r\n          // @to-do - txids room events\r\n          flow.finishStep({\r\n            isFinished: true,\r\n          }, 'finish')\r\n        },\r\n\r\n        // 7 - `end`\r\n        async () => {},\r\n      ]\r\n    }\r\n  }\r\n\r\n  _checkSwapAlreadyExists() {\r\n    const swapData = {\r\n      ownerAddress: this.getMyAddress(),\r\n      participantAddress: this.getParticipantAddress(this.swap)\r\n    }\r\n\r\n    return this.evmTokenSwap.checkSwapExists(swapData)\r\n  }\r\n\r\n  async tryRefund() {\r\n    const { secretHash } = this.state\r\n\r\n    const refundHandler = (hash = null) => {\r\n      this.swap.room.sendMessage({\r\n        event: 'eth refund completed',\r\n      })\r\n\r\n      this.setState({\r\n        refundTransactionHash: hash,\r\n        isRefunded: true,\r\n        isSwapExist: false,\r\n      }, true)\r\n    }\r\n\r\n    try {\r\n      const wasRefunded = await this.evmTokenSwap.wasRefunded({ secretHash })\r\n\r\n      if (wasRefunded) {\r\n        debug('swap.core:flow')('This swap was refunded')\r\n\r\n        refundHandler()\r\n\r\n        return true\r\n      }\r\n    } catch (error) {\r\n      console.warn('wasRefunded error:', error)\r\n\r\n      return false\r\n    }\r\n\r\n    return this.evmTokenSwap.refund({\r\n      participantAddress: this.getParticipantAddress(this.swap),\r\n    })\r\n      .then((hash) => {\r\n        if (hash) {\r\n          return false\r\n        }\r\n\r\n        //@ts-ignore: strictNullChecks\r\n        refundHandler(hash)\r\n\r\n        return true\r\n      })\r\n      .catch((error) => false)\r\n  }\r\n\r\n\r\n\r\n  async isRefundSuccess() {\r\n    return true\r\n  }\r\n\r\n  async tryWithdraw(_secret) {\r\n    const { secret, secretHash, isbtcWithdrawn, utxoScriptValues } = this.state\r\n\r\n    if (!_secret)\r\n      throw new Error(`Withdrawal is automatic. For manual withdrawal, provide a secret`)\r\n\r\n    if (!utxoScriptValues)\r\n      throw new Error(`Cannot withdraw without script values`)\r\n\r\n    if (secret && secret != _secret)\r\n      console.warn(`Secret already known and is different. Are you sure?`)\r\n\r\n    if (isbtcWithdrawn)\r\n      console.warn(`Looks like money were already withdrawn, are you sure?`)\r\n\r\n    debug('swap.core:flow')(`WITHDRAW using secret = ${_secret}`)\r\n\r\n    const _secretHash = this.app.env.bitcoin.crypto.ripemd160(Buffer.from(_secret, 'hex')).toString('hex')\r\n\r\n    if (secretHash != _secretHash)\r\n      console.warn(`Hash does not match! state: ${secretHash}, given: ${_secretHash}`)\r\n\r\n    const {scriptAddress} = this.utxoSwap.createScript(utxoScriptValues)\r\n    const balance = await this.utxoSwap.getBalance(scriptAddress)\r\n\r\n    debug('swap.core:flow')(`address=${scriptAddress}, balance=${balance}`)\r\n\r\n    if (balance === 0) {\r\n      this.finishStep({\r\n        isbtcWithdrawn: true,\r\n      }, {step: 'withdraw-utxo'})\r\n      throw new Error(`Already withdrawn: address=${scriptAddress},balance=${balance}`)\r\n    }\r\n\r\n    this.utxoSwap.withdraw({\r\n      scriptValues: utxoScriptValues,\r\n      secret: _secret,\r\n    }).then((hash) => {\r\n      debug('swap.core:flow')(`TX hash=${hash}`)\r\n      this.setState({\r\n        utxoSwapWithdrawTransactionHash: hash,\r\n      })\r\n\r\n      debug('swap.core:flow')(`TX withdraw sent: ${this.state.utxoSwapWithdrawTransactionHash}`)\r\n\r\n      this.finishStep({\r\n        isbtcWithdrawn: true,\r\n      }, { step: 'withdraw-utxo' })\r\n    })\r\n  }\r\n}","import { constants } from 'swap.app'\r\nimport EvmTokenToNext from './atomic/EvmTokenToNext'\r\n\r\n\r\nexport default (tokenName) => {\r\n\r\n  class ETHTOKEN2NEXT extends EvmTokenToNext {\r\n    _flowName: string\r\n\r\n    static blockchainName = `ETH`\r\n    static getName() {\r\n      return `${this.getFromName()}2${this.getToName()}`\r\n    }\r\n    static getFromName() {\r\n      return `{${this.blockchainName}}${tokenName.toUpperCase()}`\r\n    }\r\n    static getToName() {\r\n      return constants.COINS.next\r\n    }\r\n    constructor(swap) {\r\n      super(swap, {\r\n        flowName: ETHTOKEN2NEXT.getName(),\r\n        blockchainName: `ETH`,\r\n        tokenName,\r\n        getMyAddress: swap.app.getMyEthAddress.bind(swap.app),\r\n        getParticipantAddress: swap.app.getParticipantEthAddress.bind(swap.app),\r\n      })\r\n      this._flowName = ETHTOKEN2NEXT.getName()\r\n    }\r\n  }\r\n\r\n  return ETHTOKEN2NEXT\r\n}\r\n","import { constants } from 'swap.app'\r\nimport EthLikeToBtc from './atomic/EthLikeToBtc'\r\n\r\n\r\nclass BNB2BTC extends EthLikeToBtc {\r\n  static getName() {\r\n    return `${this.getFromName()}2${this.getToName()}`\r\n  }\r\n  static getFromName() {\r\n    return constants.COINS.bnb\r\n  }\r\n  static getToName() {\r\n    return constants.COINS.btc\r\n  }\r\n  constructor(swap) {\r\n    super(swap, {\r\n      flowName: `BNB2BTC`,\r\n      getMyAddress: swap.app.getMyBnbAddress.bind(swap.app),\r\n      getParticipantAddress: swap.app.getParticipantBnbAddress.bind(swap.app),\r\n    })\r\n  }\r\n}\r\n\r\n\r\nexport default BNB2BTC\r\n","import { constants } from 'swap.app'\r\nimport BtcToEthLike from './atomic/BtcToEthLike'\r\n\r\n\r\nclass BTC2BNB extends BtcToEthLike {\r\n  static getName() {\r\n    return `${this.getFromName()}2${this.getToName()}`\r\n  }\r\n\r\n  static getFromName() {\r\n    return constants.COINS.btc\r\n  }\r\n\r\n  static getToName() {\r\n    return constants.COINS.bnb\r\n  }\r\n\r\n  constructor(swap) {\r\n    super(swap, {\r\n      flowName: `BTC2BNB`,\r\n      getMyAddress: swap.app.getMyBnbAddress.bind(swap.app),\r\n      getParticipantAddress: swap.app.getParticipantBnbAddress.bind(swap.app),\r\n    })\r\n  }\r\n}\r\n\r\nexport default BTC2BNB\r\n","import { constants } from 'swap.app'\r\nimport EthLikeTokenToBtc from './atomic/EthLikeTokenToBtc'\r\n\r\n\r\nexport default (tokenName) => {\r\n\r\n  class BSCTOKEN2BTC extends EthLikeTokenToBtc {\r\n    static blockchainName = `BNB`\r\n    _flowName: string\r\n\r\n    static getName() {\r\n      return `${this.getFromName()}2${this.getToName()}`\r\n    }\r\n    static getFromName() {\r\n      return `{${this.blockchainName}}${tokenName.toUpperCase()}`\r\n    }\r\n    static getToName() {\r\n      return constants.COINS.btc\r\n    }\r\n\r\n    constructor(swap) {\r\n      super(swap, {\r\n        blockchainName: `BNB`,\r\n        tokenName,\r\n        getMyAddress: swap.app.getMyBnbAddress.bind(swap.app),\r\n        getParticipantAddress: swap.app.getParticipantBnbAddress.bind(swap.app),\r\n      })\r\n      this._flowName = BSCTOKEN2BTC.getName()\r\n    }\r\n  }\r\n\r\n  return BSCTOKEN2BTC\r\n}\r\n","import { constants } from 'swap.app'\r\nimport BtcToEthLikeToken from './atomic/BtcToEthLikeToken'\r\n\r\n\r\nexport default (tokenName) => {\r\n  class BTC2BSCTOKEN extends BtcToEthLikeToken {\r\n    static blockchainName = `BNB`\r\n    _flowName: string\r\n\r\n    static getName() {\r\n      return `${this.getFromName()}2${this.getToName()}`\r\n    }\r\n    static getFromName() {\r\n      return constants.COINS.btc\r\n    }\r\n    static getToName() {\r\n      return `{${this.blockchainName}}${tokenName.toUpperCase()}`\r\n    }\r\n\r\n    constructor(swap) {\r\n      super(swap, {\r\n        blockchainName: `BNB`,\r\n        tokenName,\r\n        getMyAddress: swap.app.getMyBnbAddress.bind(swap.app),\r\n        getParticipantAddress: swap.app.getParticipantBnbAddress.bind(swap.app),\r\n      })\r\n\r\n      this._flowName = BTC2BSCTOKEN.getName()\r\n    }\r\n  }\r\n\r\n  return BTC2BSCTOKEN\r\n}\r\n","import { constants } from 'swap.app'\r\nimport EthLikeToBtc from './atomic/EthLikeToBtc'\r\n\r\n\r\nclass MATIC2BTC extends EthLikeToBtc {\r\n  static getName() {\r\n    return `${this.getFromName()}2${this.getToName()}`\r\n  }\r\n  static getFromName() {\r\n    return constants.COINS.matic\r\n  }\r\n  static getToName() {\r\n    return constants.COINS.btc\r\n  }\r\n  constructor(swap) {\r\n    super(swap, {\r\n      flowName: `MATIC2BTC`,\r\n      getMyAddress: swap.app.getMyMaticAddress.bind(swap.app),\r\n      getParticipantAddress: swap.app.getParticipantMaticAddress.bind(swap.app),\r\n    })\r\n  }\r\n}\r\n\r\nexport default MATIC2BTC\r\n","import { constants } from 'swap.app'\r\nimport BtcToEthLike from './atomic/BtcToEthLike'\r\n\r\n\r\nclass BTC2MATIC extends BtcToEthLike {\r\n  static getName() {\r\n    return `${this.getFromName()}2${this.getToName()}`\r\n  }\r\n  static getFromName() {\r\n    return constants.COINS.btc\r\n  }\r\n  static getToName() {\r\n    return constants.COINS.matic\r\n  }\r\n  constructor(swap) {\r\n    super(swap, {\r\n      flowName: `BTC2MATIC`,\r\n      getMyAddress: swap.app.getMyMaticAddress.bind(swap.app),\r\n      getParticipantAddress: swap.app.getParticipantMaticAddress.bind(swap.app),\r\n    })\r\n  }\r\n}\r\n\r\nexport default BTC2MATIC\r\n","import { constants } from 'swap.app'\r\nimport EthLikeTokenToBtc from './atomic/EthLikeTokenToBtc'\r\n\r\n\r\nexport default (tokenName) => {\r\n\r\n  class MATICTOKEN2BTC extends EthLikeTokenToBtc {\r\n    static blockchainName = `MATIC`\r\n    _flowName: string\r\n\r\n    static getName() {\r\n      return `${this.getFromName()}2${this.getToName()}`\r\n    }\r\n    static getFromName() {\r\n      return `{${this.blockchainName}}${tokenName.toUpperCase()}`\r\n    }\r\n    static getToName() {\r\n      return constants.COINS.btc\r\n    }\r\n\r\n    constructor(swap) {\r\n      super(swap, {\r\n        blockchainName: `MATIC`,\r\n        tokenName,\r\n        getMyAddress: swap.app.getMyMaticAddress.bind(swap.app),\r\n        getParticipantAddress: swap.app.getParticipantMaticAddress.bind(swap.app),\r\n      })\r\n      this._flowName = MATICTOKEN2BTC.getName()\r\n    }\r\n  }\r\n\r\n  return MATICTOKEN2BTC\r\n}\r\n","import { constants } from 'swap.app'\r\nimport BtcToEthLikeToken from './atomic/BtcToEthLikeToken'\r\n\r\n\r\nexport default (tokenName) => {\r\n\r\n  class BTC2MATICTOKEN extends BtcToEthLikeToken {\r\n    static blockchainName = `MATIC`\r\n    _flowName: string\r\n\r\n    static getName() {\r\n      return `${this.getFromName()}2${this.getToName()}`\r\n    }\r\n    static getFromName() {\r\n      return constants.COINS.btc\r\n    }\r\n    static getToName() {\r\n      return `{${this.blockchainName}}${tokenName.toUpperCase()}`\r\n    }\r\n\r\n    constructor(swap) {\r\n      super(swap, {\r\n        blockchainName: `MATIC`,\r\n        tokenName,\r\n        getMyAddress: swap.app.getMyMaticAddress.bind(swap.app),\r\n        getParticipantAddress: swap.app.getParticipantMaticAddress.bind(swap.app),\r\n      })\r\n      this._flowName = BTC2MATICTOKEN.getName()\r\n    }\r\n  }\r\n\r\n  return BTC2MATICTOKEN\r\n}\r\n","import { constants } from 'swap.app'\r\nimport EthLikeToBtc from './atomic/EthLikeToBtc'\r\n\r\n\r\nclass ARBITRUM2BTC extends EthLikeToBtc {\r\n  static getName() {\r\n    return `${this.getFromName()}2${this.getToName()}`\r\n  }\r\n  static getFromName() {\r\n    return constants.COINS.arbeth\r\n  }\r\n  static getToName() {\r\n    return constants.COINS.btc\r\n  }\r\n  constructor(swap) {\r\n    super(swap, {\r\n      flowName: `ARBITRUM2BTC`,\r\n      getMyAddress: swap.app.getMyArbitrumAddress.bind(swap.app),\r\n      getParticipantAddress: swap.app.getParticipantArbitrumAddress.bind(swap.app),\r\n    })\r\n  }\r\n}\r\n\r\nexport default ARBITRUM2BTC\r\n","import { constants } from 'swap.app'\r\nimport BtcToEthLike from './atomic/BtcToEthLike'\r\n\r\n\r\nclass BTC2ARBITRUM extends BtcToEthLike {\r\n  static getName() {\r\n    return `${this.getFromName()}2${this.getToName()}`\r\n  }\r\n  static getFromName() {\r\n    return constants.COINS.btc\r\n  }\r\n  static getToName() {\r\n    return constants.COINS.arbeth\r\n  }\r\n  constructor(swap) {\r\n    super(swap, {\r\n      flowName: `BTC2ARBITRUM`,\r\n      getMyAddress: swap.app.getMyArbitrumAddress.bind(swap.app),\r\n      getParticipantAddress: swap.app.getParticipantArbitrumAddress.bind(swap.app),\r\n    })\r\n  }\r\n}\r\n\r\nexport default BTC2ARBITRUM\r\n","import debug from 'debug'\r\nimport SwapApp, { SwapInterface, constants, util } from 'swap.app'\r\nimport BigNumber from 'bignumber.js'\r\nimport { Flow } from 'swap.swap'\r\n\r\n\r\nclass UTXOBlockchain extends SwapInterface {\r\n  //@ts-ignore: strictNullChecks\r\n  _swapName: string = null\r\n  //@ts-ignore: strictNullChecks\r\n  fetchBalance: Function = undefined\r\n  //@ts-ignore: strictNullChecks\r\n  fetchUnspents: Function = undefined\r\n  //@ts-ignore: strictNullChecks\r\n  broadcastTx: Function = undefined\r\n  //@ts-ignore: strictNullChecks\r\n  checkWithdraw: Function = undefined\r\n  feeValue: number = 546\r\n  //@ts-ignore: strictNullChecks\r\n  fetchTxInfo: Function = undefined\r\n  //@ts-ignore: strictNullChecks\r\n  estimateFeeValue: Function = undefined\r\n\r\n  //  ,     \r\n  // ,  taker  AB  ,  maker  \r\n  //     UTXO \r\n  //@ts-ignore: strictNullChecks\r\n  fetchTxInputScript: Function = undefined\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  account: string = undefined\r\n  networks: any = undefined\r\n  network: any = undefined\r\n\r\n  skipFetchConfidence: boolean = false\r\n  skipCheckCanBeReplaces: boolean = false\r\n  skipLockTime: boolean = false\r\n  skipRecipientPublickKey: boolean = false\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  processUnspent: Function = undefined\r\n  sendTransaction: Function\r\n\r\n  //@ts-ignore: strictNullChecks\r\n  app: SwapApp = undefined\r\n  /**\r\n   *\r\n   * @param options\r\n   * @param options.fetchBalance\r\n   * @param options.fetchUnspents\r\n   * @param options.broadcastTx\r\n   * @param options.fetchTxInfo {(tx_hash) => Promise({ confidence, fees })}\r\n   * @param options.estimateFeeValue { ({ inSatoshis, speed, address, txSize }) => Promise(fee_value) }\r\n   */\r\n  constructor(options) {\r\n    super()\r\n\r\n    if (typeof options.fetchBalance !== 'function') {\r\n      throw new Error('BtcSwap: \"fetchBalance\" required')\r\n    }\r\n    if (typeof options.fetchUnspents !== 'function') {\r\n      throw new Error('BtcSwap: \"fetchUnspents\" required')\r\n    }\r\n    if (typeof options.broadcastTx !== 'function') {\r\n      throw new Error('BtcSwap: \"broadcastTx\" required')\r\n    }\r\n    if (typeof options.fetchTxInfo !== 'function') {\r\n      // tx_hash => { confidence, fees }\r\n      console.warn(`BtcSwap: \"fetchTxInfo\" is not a function. You will not be able to use tx-confidence feature`)\r\n    }\r\n    if (typeof options.estimateFeeValue !== 'function') {\r\n      // ({ speed } = {}) => feeRate\r\n      console.warn(`BtcSwap: \"estimateFeeValue\" is not a function. You will not be able use automatic mempool-based fee`)\r\n    }\r\n\r\n    this._swapName      = options.swapName || constants.COINS.btc\r\n    this.fetchBalance   = options.fetchBalance\r\n    this.fetchUnspents  = options.fetchUnspents\r\n    this.broadcastTx    = options.broadcastTx\r\n    this.checkWithdraw  = options.checkWithdraw\r\n    this.feeValue       = options.feeValue || 546\r\n    this.fetchTxInfo    = options.fetchTxInfo || (() => {})\r\n    this.estimateFeeValue = options.estimateFeeValue || (() => 0)\r\n\r\n    // UTXO side is taker\r\n    this.fetchTxInputScript = options.fetchTxInputScript || undefined\r\n\r\n    this.account        = options.account || `btc`\r\n    this.networks       = options.networks\r\n\r\n    this.skipFetchConfidence = options.skipFetchConfidence || false\r\n    this.skipCheckCanBeReplaces = options.skipCheckCanBeReplaces || false\r\n    this.skipLockTime = options.skipLockTime || false\r\n    this.skipRecipientPublickKey = options.skipRecipientPublickKey || false\r\n\r\n    this.processUnspent = options.processUnspent || (\r\n      (unspent) => {\r\n        const { txid, vout } = unspent\r\n        return { txid, vout }\r\n      }\r\n    )\r\n    this.sendTransaction = options.sendTransaction\r\n  }\r\n\r\n  _initSwap(app) {\r\n    super._initSwap(app)\r\n\r\n    this.app = app\r\n\r\n    /* init networks if need */\r\n    const {\r\n      main: {\r\n        name: mainName,\r\n        params: mainParams,\r\n      },\r\n      test: {\r\n        name: testName,\r\n        params: testParams,\r\n      },\r\n    } = this.networks\r\n\r\n    if (mainName && mainParams) this.app.env.bitcoin.networks[mainName] = mainParams\r\n    if (testName && testParams) this.app.env.bitcoin.networks[testName] = testParams\r\n\r\n    this.network = (\r\n      this.app.isMainNet()\r\n        ? this.app.env.bitcoin.networks[mainName]\r\n        : this.app.env.bitcoin.networks[testName]\r\n    )\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} options\r\n   * @param {boolean} options.inSatoshis\r\n   * @param {Number} options.size\r\n   * @param {String} options.speed\r\n   * @param {String} options.address\r\n   * @param {String} options.swapUTXOMethod\r\n   * @returns {BigNumber}\r\n   * @public\r\n   */\r\n  async getTxFee({\r\n    inSatoshis,\r\n    size,\r\n    speed = 'fast',\r\n    address,\r\n    swapUTXOMethod,\r\n  }: {\r\n    inSatoshis: boolean,\r\n    size?: number,\r\n    speed?: 'slow' | 'medium' | 'fast'\r\n    address: string,\r\n    swapUTXOMethod?: 'withdraw' | 'deposit'\r\n  }) {\r\n\r\n\r\n    const estimatedFeeRaw = await this.estimateFeeValue({\r\n      inSatoshis: true,\r\n      address,\r\n      speed,\r\n      method: 'swap',\r\n      txSize: size,\r\n      swapUTXOMethod,\r\n    })\r\n\r\n    const estimatedFee = new BigNumber(estimatedFeeRaw)\r\n    this.feeValue = estimatedFee.toNumber()\r\n\r\n    return inSatoshis\r\n      ? estimatedFee\r\n      : estimatedFee.dividedBy(1e8).dp(0, BigNumber.ROUND_UP)\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {array} unspents\r\n   * @param {Number} expectedConfidenceLevel\r\n   * @returns {array}\r\n   * @private\r\n   */\r\n  async filterConfidentUnspents(unspents, expectedConfidenceLevel = 0.95) {\r\n\r\n    const feesToConfidence = async (fees, size, address) => {\r\n      fees = new BigNumber(fees).multipliedBy(1e8).toNumber()\r\n      const currentFastestFee = await this.getTxFee({ inSatoshis: true, size, speed: 'fast', address })\r\n\r\n      return new BigNumber(fees).isLessThan(currentFastestFee)\r\n        ? new BigNumber(fees).dividedBy(currentFastestFee).toNumber()\r\n        : 1\r\n    }\r\n\r\n    /* @ToDo -   */\r\n    const fetchConfidence = async (unspent): Promise<number> => {\r\n\r\n\r\n      if (this.skipFetchConfidence) return 1\r\n\r\n      const {\r\n        fees,\r\n        size,\r\n        senderAddress,\r\n        confirmations: txConfirms,\r\n      } = unspent\r\n\r\n      const confirmationsToConfidence = confs => confs > 0 ? 1 : 0\r\n      const confidenceFromConfirmations = confirmationsToConfidence(txConfirms)\r\n\r\n      if (new BigNumber(confidenceFromConfirmations).isGreaterThanOrEqualTo(expectedConfidenceLevel)) {\r\n        return confidenceFromConfirmations\r\n      }\r\n\r\n      try {\r\n        if (txConfirms > 0) {\r\n          return 1\r\n        }\r\n\r\n        if (fees) {\r\n          const confFromFee = await feesToConfidence(fees, size, senderAddress)\r\n          return confFromFee\r\n        }\r\n\r\n        throw new Error(`txinfo={confirmations: ${txConfirms}, fees: ${fees}, size: ${size}, senderAddress: ${senderAddress} }`)\r\n\r\n      } catch (err) {\r\n        console.error(`BtcSwap: Error fetching confidence: using confirmations > 0:`, err.message)\r\n\r\n        return confidenceFromConfirmations\r\n      }\r\n    }\r\n\r\n    const confidences: number[] = await Promise.all(unspents.map(fetchConfidence))\r\n\r\n    return unspents.filter((utxo, index) => {\r\n      debug('swap.core:swaps')(`confidence[${index}]:`, confidences[index])\r\n      return new BigNumber(confidences[index]).isGreaterThanOrEqualTo(expectedConfidenceLevel)\r\n    })\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {Array[object]} unspents\r\n   * @return {Array[object]}\r\n   */\r\n  async filterConfirmedUnspents(unspents): Promise<any[]> {\r\n    return new Promise(async (resolve) => {\r\n      const filtered = unspents.filter((unspent) => {\r\n        const {\r\n          confirmations,\r\n        } = unspent\r\n\r\n        if (confirmations > 0) {\r\n          return true\r\n        }\r\n      })\r\n      resolve(filtered)\r\n    })\r\n  }\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {object} data.script\r\n   * @param {*} data.txRaw\r\n   * @param {string} data.secret\r\n   * @param {number} inputIndex\r\n   * @private\r\n   */\r\n  _signTransaction(data, inputIndex = 0) {\r\n    debug('swap.core:swaps')('signing script input', inputIndex)\r\n    const {\r\n      script,\r\n      txRaw,\r\n      secret,\r\n    } = data\r\n\r\n    const scriptData = this.app.env.bitcoin.payments.p2sh({\r\n      redeem: {\r\n        output: script,\r\n        network: this.network,\r\n      },\r\n      network: this.network,\r\n    })\r\n\r\n    const hashType      = this.app.env.bitcoin.Transaction.SIGHASH_ALL\r\n    const privKey = this.app.env.bitcoin.ECPair.fromWIF(\r\n      //@ts-ignore: strictNullChecks\r\n      this.app.services.auth.accounts[this.account].getPrivateKey(),\r\n      this.network\r\n    )\r\n\r\n    const signatureHash = txRaw.hashForSignature(inputIndex, scriptData.redeem.output, hashType)\r\n\r\n    const redeemScriptSig = this.app.env.bitcoin.payments.p2sh({ \r\n      network: this.network, \r\n      redeem: { \r\n        network: this.network, \r\n        output: scriptData.redeem.output, \r\n        input: this.app.env.bitcoin.script.compile([ \r\n          this.app.env.bitcoin.script.signature.encode(privKey.sign(signatureHash), hashType),\r\n          //@ts-ignore: strictNullChecks\r\n          this.app.services.auth.accounts[this.account].getPublicKeyBuffer(),\r\n          Buffer.from(secret.replace(/^0x/, ''), 'hex'),\r\n        ]) \r\n      } \r\n    }).input \r\n\r\n    txRaw.setInputScript(inputIndex, redeemScriptSig)\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.secretHash\r\n   * @param {string} data.ownerPublicKey\r\n   * @param {string} data.recipientPublicKey\r\n   * @param {number} data.lockTime\r\n   * @returns {{scriptAddress: *, script: (*|{ignored})}}\r\n   */\r\n  createScript(data, hashName = 'ripemd160') {\r\n    const hashOpcodeName = `OP_${hashName.toUpperCase()}`\r\n    const hashOpcode = this.app.env.bitcoin.opcodes[hashOpcodeName]\r\n\r\n    const { secretHash, ownerPublicKey, recipientPublicKey, lockTime } = data\r\n\r\n    const script = this.app.env.bitcoin.script.compile([\r\n\r\n      this.app.env.bitcoin.opcodes.OP_SIZE,\r\n      Buffer.from('20' ,'hex'),\r\n      this.app.env.bitcoin.opcodes.OP_EQUALVERIFY,\r\n\r\n      hashOpcode,\r\n      Buffer.from(secretHash, 'hex'),\r\n      this.app.env.bitcoin.opcodes.OP_EQUALVERIFY,\r\n\r\n      Buffer.from(recipientPublicKey, 'hex'),\r\n      this.app.env.bitcoin.opcodes.OP_EQUAL,\r\n      this.app.env.bitcoin.opcodes.OP_IF,\r\n\r\n      Buffer.from(recipientPublicKey, 'hex'),\r\n\r\n      this.app.env.bitcoin.opcodes.OP_ELSE,\r\n\r\n      this.app.env.bitcoin.script.number.encode(lockTime),\r\n      this.app.env.bitcoin.opcodes.OP_CHECKLOCKTIMEVERIFY,\r\n      this.app.env.bitcoin.opcodes.OP_DROP,\r\n      Buffer.from(ownerPublicKey, 'hex'),\r\n\r\n      this.app.env.bitcoin.opcodes.OP_ENDIF,\r\n\r\n      this.app.env.bitcoin.opcodes.OP_CHECKSIG,\r\n    ])\r\n\r\n    const scriptData = this.app.env.bitcoin.payments.p2sh({\r\n      redeem: {\r\n        output: script,\r\n        network: this.network,\r\n      },\r\n      network: this.network,\r\n    })\r\n    const scriptAddress = scriptData.address\r\n\r\n    return {\r\n      scriptAddress,\r\n      script,\r\n    }\r\n  }\r\n\r\n  fetchUnspentsFullInfo(scriptAddress): Promise<any[]> {\r\n    return new Promise(async (resolve) => {\r\n      const unspents      = await this.fetchUnspents(scriptAddress)\r\n      const fetchFullUnspentInfo = async (unspent) => {\r\n        try {\r\n          const info = await this.fetchTxInfo(unspent.txid)\r\n          return {\r\n            ...unspent,\r\n            ...info,\r\n          }\r\n        } catch (fetchTxInfoError) {\r\n          return false\r\n        }\r\n      }\r\n\r\n      const unspentsFullInfo = await Promise.all(unspents.map(fetchFullUnspentInfo))\r\n      resolve(unspentsFullInfo.filter((unspent) => unspent !== false ))\r\n    })\r\n  }\r\n\r\n  checkCanBeReplaces(unspents) {\r\n    if (this.skipCheckCanBeReplaces) return false\r\n    const notReplacedUnspents = unspents.filter((unspent) => {\r\n      const notReplacedInputs = unspent.inputs.filter((input) => {\r\n        return input.sequenceNumber.toString(16) === `ffffffff`\r\n      })\r\n      return notReplacedInputs.length === unspent.inputs.length\r\n    })\r\n    return !(notReplacedUnspents.length === unspents.length)\r\n  }\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.recipientPublicKey\r\n   * @param {number} data.lockTime\r\n   * @param {object} expected\r\n   * @param {number} expected.value\r\n   * @param {number} expected.lockTime\r\n   * @param {string} expected.recipientPublicKey\r\n   * @returns {Promise.<string>}\r\n   */\r\n  async checkScript(data, expected, hashName) {\r\n    const { recipientPublicKey, lockTime } = data\r\n    const { scriptAddress, script } = this.createScript(data, hashName)\r\n\r\n    const {\r\n      waitConfirm,\r\n      isWhiteList\r\n    } = expected\r\n\r\n    if (isWhiteList) {\r\n      console.log('is white listed - skip wait btc script')\r\n      return\r\n    }\r\n\r\n    const expectedConfidence = (expected.confidence !== undefined) ? expected.confidence : 0.95\r\n\r\n    const unspents: any[] = await this.fetchUnspentsFullInfo(scriptAddress)\r\n\r\n    if (!unspents.length) return `No unspents. Wait`\r\n\r\n    \r\n    // Check - transaction can be replaced?\r\n    const canBeReplaced = this.checkCanBeReplaces(unspents)\r\n    if (canBeReplaced) {\r\n      console.warn(`Fund to script ${scriptAddress} can be replaced be fee. Wait confirm`)\r\n    }\r\n    if (waitConfirm || canBeReplaced) {\r\n      // Wait confirm only - for big amount of swap\r\n      if (!unspents.length) return `No unspents`\r\n      const confirmedUnspents: any[] = await this.filterConfirmedUnspents(unspents)\r\n      if (unspents.length === confirmedUnspents.length) return\r\n      await util.helpers.waitDelay(30)\r\n      if (canBeReplaced) return `Can be replace by fee. Wait confirm`\r\n      return `Wait confirm tx`\r\n    }\r\n\r\n    const expectedValue = expected.value.multipliedBy(1e8).integerValue()\r\n    const totalUnspent  = unspents.reduce((summ, { satoshis }) => summ + satoshis, 0)\r\n\r\n    const confidentUnspents = await this.filterConfidentUnspents(unspents, expectedConfidence)\r\n\r\n    const totalConfidentUnspent = confidentUnspents.reduce((summ, { satoshis }) => summ + satoshis, 0)\r\n\r\n    if (expectedValue.isGreaterThan(totalUnspent)) {\r\n      return `Expected script value: ${expectedValue.toNumber()}, got: ${totalUnspent}, address: ${scriptAddress}`\r\n    }\r\n    if (!this.skipLockTime && expected.lockTime > lockTime) {\r\n      return `Expected script lockTime: ${expected.lockTime}, got: ${lockTime}, address: ${scriptAddress}`\r\n    }\r\n    if (!this.skipRecipientPublickKey && expected.recipientPublicKey !== recipientPublicKey) {\r\n      return `Expected script recipient publicKey: ${expected.recipientPublicKey}, got: ${recipientPublicKey}`\r\n    }\r\n    if (expectedValue.isGreaterThan(totalConfidentUnspent)) {\r\n      return `Expected script value: ${expectedValue.toString()} with confidence above ${expectedConfidence}, got: ${totalConfidentUnspent}, address: ${scriptAddress}`\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {object} data.scriptValues\r\n   * @param {BigNumber} data.amount\r\n   * @param {function} handleTransactionHash\r\n   * @param {string} hashName\r\n   * @returns {Promise}\r\n   */\r\n  fundScript(data, handleTransactionHash?: Function, hashName?: string) {\r\n    const { scriptValues, amount } = data\r\n\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        const { scriptAddress } = this.createScript(scriptValues, hashName)\r\n\r\n        const scriptBalance = await this.fetchBalance(scriptAddress)\r\n        if (new BigNumber(scriptBalance).isGreaterThan(0)) {\r\n          // Script already funded - skip double payments\r\n          reject('Script funded already')\r\n          return\r\n        }\r\n\r\n        //@ts-ignore: strictNullChecks\r\n        const ownerAddress = this.app.services.auth.accounts[this.account].getAddress()\r\n\r\n        const fundValue     = amount.multipliedBy(1e8).integerValue().toNumber()\r\n        const tx            = new this.app.env.bitcoin.TransactionBuilder(this.network)\r\n        const unspents      = await this.fetchUnspents(ownerAddress)\r\n        const feeValueBN    = await this.getTxFee({ inSatoshis: true, address: ownerAddress })\r\n        const feeValue      = feeValueBN.integerValue().toNumber()\r\n        const totalUnspent  = unspents.reduce((summ, { satoshis }) => summ + satoshis, 0)\r\n        const skipValue     = totalUnspent - fundValue - feeValue\r\n\r\n        if (totalUnspent < feeValue + fundValue) {\r\n          throw new Error(`Total less than fee: ${totalUnspent} < ${feeValue} + ${fundValue}`)\r\n        }\r\n\r\n        unspents.forEach((unspent) => {\r\n          const { txid, vout } = this.processUnspent(unspent)\r\n          tx.addInput(txid, vout, 0xffffffff)\r\n        })\r\n        tx.addOutput(scriptAddress, fundValue)\r\n        //@ts-ignore: strictNullChecks\r\n        tx.addOutput(this.app.services.auth.accounts[this.account].getAddress(), skipValue)\r\n\r\n        const privKey = this.app.env.bitcoin.ECPair.fromWIF(\r\n          //@ts-ignore: strictNullChecks\r\n          this.app.services.auth.accounts[this.account].getPrivateKey(),\r\n          this.network\r\n        )\r\n\r\n        tx.__INPUTS.forEach((input, index) => {\r\n          tx.sign(index, privKey)\r\n        })\r\n\r\n        const txRaw = tx.buildIncomplete()\r\n\r\n        if (typeof handleTransactionHash === 'function') {\r\n          handleTransactionHash(txRaw.getId())\r\n        }\r\n\r\n        this.broadcastTx(txRaw.toHex()).then((result) => {\r\n          resolve(result)\r\n        }).catch ((err) => {\r\n          reject(err)\r\n        })\r\n      }\r\n      catch (err) {\r\n        reject(err)\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object|string} data - scriptValues or wallet address\r\n   * @returns {Promise.<void>}\r\n   */\r\n  async getBalance(data, hashName?: string): Promise<number> {\r\n    let address\r\n\r\n    if (typeof data === 'string') {\r\n      address = data\r\n    }\r\n    else if (typeof data === 'object') {\r\n      const { scriptAddress } = this.createScript(data, hashName)\r\n\r\n      address = scriptAddress\r\n    }\r\n    else {\r\n      throw new Error('Wrong data type')\r\n    }\r\n\r\n    const unspents      = await this.fetchUnspents(address)\r\n    const totalUnspent  = unspents && unspents.length && unspents.reduce((summ, { satoshis }) => summ + satoshis, 0) || 0\r\n\r\n    return totalUnspent\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {object} data.scriptValues\r\n   * @param {string} data.secret\r\n   * @param {boolean} isRefund\r\n   * @returns {Promise}\r\n   */\r\n  async getWithdrawRawTransaction(data: any, isRefund: boolean, hashName?: string) {\r\n    const { scriptValues, secret, destinationAddress } = data\r\n    //@ts-ignore: strictNullChecks\r\n    const destAddress = (destinationAddress) ? destinationAddress : this.app.services.auth.accounts[this.account].getAddress()\r\n\r\n    const { script, scriptAddress } = this.createScript(scriptValues, hashName)\r\n\r\n    const tx            = new this.app.env.bitcoin.TransactionBuilder(this.network)\r\n    const unspents      = await this.fetchUnspents(scriptAddress)\r\n\r\n    const feeValueBN    = await this.getTxFee({ inSatoshis: true, address: scriptAddress, swapUTXOMethod: 'withdraw' })\r\n    const feeValue      = feeValueBN.integerValue().toNumber()\r\n    const totalUnspent  = unspents.reduce((summ, { satoshis }) => summ + satoshis, 0)\r\n\r\n    /* Check - may be withdrawed */\r\n    if (typeof this.checkWithdraw === 'function') {\r\n      const hasWithdraw = await this.checkWithdraw(scriptAddress)\r\n      if (hasWithdraw\r\n        && hasWithdraw.address.toLowerCase() == destAddress.toLowerCase()\r\n      ) {\r\n        // already withdrawed\r\n        return {\r\n          txId: hasWithdraw.txid,\r\n          alreadyWithdrawed: true\r\n        }\r\n      }\r\n    }\r\n\r\n    if (new BigNumber(totalUnspent).isLessThan(feeValue)) {\r\n      throw new Error(`Total less than fee: ${totalUnspent} < ${feeValue}`)\r\n    }\r\n\r\n    if (isRefund) {\r\n      tx.setLockTime(scriptValues.lockTime)\r\n    }\r\n\r\n    unspents.forEach((unspent) => {\r\n      const { txid, vout } = this.processUnspent(unspent)\r\n      tx.addInput(txid, vout, 0xfffffffe)\r\n    })\r\n    tx.addOutput(destAddress, totalUnspent - feeValue)\r\n\r\n    const txRaw = tx.buildIncomplete()\r\n\r\n    tx.__INPUTS.map((_, index) =>\r\n      this._signTransaction({\r\n        script,\r\n        secret,\r\n        txRaw,\r\n      }, index)\r\n    )\r\n\r\n    const txHex = txRaw.toHex()\r\n    const txId = txRaw.getId()\r\n\r\n    return {\r\n      txHex,\r\n      txId,\r\n    }\r\n    return txRaw\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {object} data.scriptValues\r\n   * @param {string} data.secret\r\n   * @param {boolean} isRefund\r\n   * @returns {Promise}\r\n   */\r\n  async getWithdrawHexTransaction(data, isRefund) {\r\n    const txRaw = await this.getWithdrawRawTransaction(data, isRefund)\r\n\r\n    return txRaw.txHex\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {object} data.scriptValues\r\n   * @param {string} data.secret\r\n   * @returns {Promise}\r\n   */\r\n  getRefundRawTransaction(data) {\r\n    return this.getWithdrawRawTransaction(data, true)\r\n  }\r\n\r\n  async fundSwapScript({\r\n    flow,\r\n  }: {\r\n    flow: any, // Flow, @todo - add all fields\r\n  }) {\r\n    const utxoClass = this\r\n    const coin = this._swapName.toLowerCase()\r\n\r\n    const onTransactionHash = (txID) => {\r\n      const {\r\n        utxoScriptCreatingTransactionHash: scriptCreatingTransactionHash,\r\n        utxoScriptValues: scriptValues,\r\n      } = flow.state\r\n\r\n      if (scriptCreatingTransactionHash) {\r\n        return\r\n      }\r\n\r\n      flow.setState({\r\n        utxoScriptCreatingTransactionHash: txID,\r\n      })\r\n\r\n      flow.swap.room.once(`request utxo script`, () => {\r\n        flow.swap.room.sendMessage({\r\n          event: `create utxo script`,\r\n          data: {\r\n            scriptValues,\r\n            utxoScriptCreatingTransactionHash: txID,\r\n          }\r\n        })\r\n      })\r\n\r\n      flow.swap.room.sendMessage({\r\n        event: `create utxo script`,\r\n        data: {\r\n          scriptValues,\r\n          utxoScriptCreatingTransactionHash: txID,\r\n        }\r\n      })\r\n    }\r\n\r\n    const {\r\n      swap: {\r\n        sellAmount,\r\n      },\r\n      state: {\r\n        isBalanceEnough,\r\n        utxoScriptValues: scriptValues,\r\n      },\r\n    } = flow\r\n\r\n    if (isBalanceEnough) {\r\n      const fundScriptRepeat = async () => {\r\n        try {\r\n          await utxoClass.fundScript({\r\n            scriptValues,\r\n            amount: sellAmount,\r\n          })\r\n          return true\r\n        } catch (err) {\r\n          if (err === 'Script funded already') {\r\n            console.warn('Script already funded')\r\n            return true\r\n          } else {\r\n            if (err === 'Conflict') {\r\n              // @ToDo - its can be not btc, other UTXO, but, with btc its frequent error\r\n              console.warn('UTXO(BTC) locked. Has not confirmed tx in mempool. Wait confirm')\r\n              flow.swap.room.sendMessage({\r\n                event: 'wait utxo unlock',\r\n                data: {},\r\n              })\r\n              flow.setState({\r\n                waitUnlockUTXO: true,\r\n              })\r\n              await util.helpers.waitDelay(30)\r\n              return false\r\n            } else {\r\n              console.log('Fail fund script', err)\r\n            }\r\n          }\r\n        }\r\n        return true\r\n      }\r\n\r\n      await util.helpers.repeatAsyncUntilResult(async (stopRepeat) => {\r\n        const { isStoppedSwap } = flow.state\r\n\r\n        if (!isStoppedSwap) {\r\n          return await fundScriptRepeat()\r\n        } else {\r\n          stopRepeat()\r\n        }\r\n      })\r\n    }\r\n\r\n    const checkScriptBalance = async () => {\r\n      const { scriptAddress } = utxoClass.createScript(scriptValues)\r\n      const unspents = await utxoClass.fetchUnspents(scriptAddress)\r\n\r\n      if (unspents.length === 0) {\r\n        return false\r\n      }\r\n\r\n      const txID = unspents[0].txid\r\n\r\n      const balance = await utxoClass.getBalance(scriptValues)\r\n\r\n      const isEnoughMoney = new BigNumber(balance).isGreaterThanOrEqualTo(sellAmount.times(1e8))\r\n\r\n      if (isEnoughMoney) {\r\n        flow.setState({\r\n          scriptBalance: new BigNumber(balance).div(1e8).dp(8),\r\n        })\r\n\r\n        onTransactionHash(txID)\r\n      }\r\n\r\n      return isEnoughMoney\r\n    }\r\n\r\n    await util.helpers.repeatAsyncUntilResult(async (stopRepeat) => {\r\n      const { isStoppedSwap } = flow.state\r\n\r\n      if (!isStoppedSwap) {\r\n        return await checkScriptBalance()\r\n      } else {\r\n        stopRepeat()\r\n      }\r\n    })\r\n\r\n    const { isStoppedSwap } = flow.state\r\n\r\n    if (!isStoppedSwap) {\r\n      flow.finishStep({\r\n        [`is${coin}ScriptFunded}`]: true,\r\n        isUTXOScriptFunded: true,\r\n      }, { step: `lock-utxo` })\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {object} data.scriptValues\r\n   * @param {string} data.secret\r\n   * @returns {Promise}\r\n   */\r\n  async getRefundHexTransaction(data) {\r\n    const txRaw = await this.getRefundRawTransaction(data)\r\n\r\n    return txRaw.txHex\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {object} data.scriptValues\r\n   * @param {string} data.secret\r\n   * @param {function} handleTransactionHash\r\n   * @param {boolean} isRefund\r\n   * @param {string} hashName\r\n   * @returns {Promise}\r\n   */\r\n  withdraw(data, isRefund: boolean = false, hashName?: string): Promise<string> {\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        console.log('withdraw')\r\n        const txRaw = await this.getWithdrawRawTransaction(data, isRefund, hashName)\r\n\r\n        if (txRaw.alreadyWithdrawed) {\r\n          resolve(txRaw.txId)\r\n          return\r\n        }\r\n\r\n        debug('swap.core:swaps')('raw tx withdraw', txRaw.txHex)\r\n\r\n        console.log('broadcast')\r\n        const result = await this.broadcastTx(txRaw.txHex)\r\n\r\n        console.log('broadcast ready', result)\r\n\r\n        // Wait some delay until transaction can be rejected or broadcast failed\r\n        await util.helpers.waitDelay(10)\r\n\r\n        const txSuccess = await this.checkTX(txRaw.txId)\r\n\r\n        if (txSuccess) {\r\n          resolve(txRaw.txId)\r\n        } else {\r\n          console.warn('BtcSwap: cant withdraw', 'Generated TX not found')\r\n          reject('TX not found. Try it later. ' + txRaw.txId)\r\n        }\r\n      }\r\n      catch (error) {\r\n        console.warn('BtcSwap: cant withdraw', error.message)\r\n\r\n        let errorMessage\r\n\r\n        if (error.res && /non-final/.test(error.res.text)) {\r\n          errorMessage = 'Try it later'\r\n        } else if (/Total less than fee/.test(error.message)) {\r\n          if (/Total less than fee: 0/.test(error.message)) {\r\n            errorMessage = 'Address is empty'\r\n          } else {\r\n            errorMessage = 'Less than fee'\r\n          }\r\n        } else {\r\n          errorMessage = error\r\n        }\r\n\r\n        reject(errorMessage)\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {string} txID\r\n   * @returns {Promise}\r\n   */\r\n  async checkTX(txID) {\r\n    console.log('check tx')\r\n    const txInfo = await this.fetchTxInfo(txID)\r\n    console.log('txInfo', txInfo)\r\n    if (txInfo\r\n      && txInfo.senderAddress\r\n      && txInfo.txid\r\n      && (txInfo.txid.toLowerCase() == txID.toLowerCase())\r\n    ) {\r\n      return true\r\n    }\r\n    return false\r\n  }\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {object} data.scriptValues\r\n   * @param {string} data.secret\r\n   * @param {function} handleTransactionHash\r\n   * @param {string} hashName\r\n   * @returns {Promise}\r\n   */\r\n  refund(data: any, hashName?: string) {\r\n    return this.withdraw(data, true, hashName)\r\n  }\r\n\r\n\r\n  async withdrawFromSwap({\r\n    flow,\r\n  }: {\r\n    flow: any,\r\n  }) {\r\n    const utxoClass = this\r\n    const coin = this._swapName.toLowerCase()\r\n\r\n    await util.helpers.repeatAsyncUntilResult((stopRepeat) => {\r\n      const {\r\n        secret,\r\n        utxoScriptValues: scriptValues,\r\n        utxoSwapWithdrawTransactionHash: swapWithdrawTransactionHash,\r\n      } = flow.state\r\n\r\n      if (swapWithdrawTransactionHash) {\r\n        return true\r\n      }\r\n\r\n      if (!scriptValues) {\r\n        console.error(`There is no \"utxoScriptValues\" in state. No way to continue swap...`)\r\n        return null\r\n      }\r\n\r\n      return utxoClass.withdraw({\r\n        scriptValues,\r\n        secret,\r\n        destinationAddress: flow.swap.destinationBuyAddress,\r\n      })\r\n        .then((hash) => {\r\n          console.log('withdraw hash', hash)\r\n          flow.setState({\r\n            utxoSwapWithdrawTransactionHash: hash,\r\n          }, true)\r\n          return true\r\n        })\r\n        .catch((error) => null)\r\n    })\r\n\r\n    flow.finishStep({\r\n      [`is${coin}Withdrawn`]: true,\r\n      isUTXOWithdrawn: true,\r\n    }, { step: `withdraw-utxo` })\r\n  }\r\n\r\n  getSecretFromTxhash(transactionHash) {\r\n    return new Promise((resolve) => {\r\n      if (this.fetchTxInputScript !== undefined) {\r\n        this.fetchTxInputScript({\r\n          txId: transactionHash,\r\n          hash: transactionHash\r\n        }).then((txResult) => {\r\n          if (txResult) {\r\n            const scriptOpts = txResult.split(' ')\r\n            if (scriptOpts.length>3) {\r\n              resolve(scriptOpts[2])\r\n              return\r\n            }\r\n          }\r\n          resolve(false)\r\n        })\r\n      } else {\r\n        resolve(false)\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\n\r\nexport default UTXOBlockchain\r\n","import UTXOBlockchain from './UTXOBlockchain'\r\n\r\n\r\n\r\nclass BtcSwap extends UTXOBlockchain {\r\n  constructor(options) {\r\n    super({\r\n      ...options,\r\n      account: `btc`,\r\n      networks: {\r\n        main: {\r\n          name: `bitcoin`,\r\n        },\r\n        test: {\r\n          name: `testnet`,\r\n        },\r\n      },\r\n    })\r\n  }\r\n}\r\n\r\n\r\nexport default BtcSwap","import _debug from 'debug'\r\nimport { SwapInterface, util } from 'swap.app'\r\nimport BigNumber from 'bignumber.js'\r\nimport InputDataDecoder from 'ethereum-input-data-decoder'\r\nconst debug = _debug('swap.core:swaps')\r\n\r\nclass EthLikeSwap extends SwapInterface {\r\n\r\n  options: any\r\n  address: string\r\n  abi: any[]\r\n  _swapName: string\r\n  gasLimit: number\r\n  gasLimitReserve: number\r\n  gasPrice: number\r\n  fetchBalance: Function\r\n  estimateGasPrice: Function\r\n  sendTransaction: Function\r\n\r\n  web3adapter: any // web3.eth\r\n  web3utils: any // web3.utils\r\n  getMyAddress: any\r\n  getParticipantAddress: any\r\n  coinName: string\r\n\r\n  app: any\r\n  decoder: any\r\n  contract: any\r\n  _allSwapEvents: any\r\n\r\n  /**\r\n   *\r\n   * @param {object}    options\r\n   * @param {string}    options.address\r\n   * @param {array}     options.abi\r\n   * @param {number}    options.gasLimit\r\n   * @param {function}  options.fetchBalance\r\n   */\r\n  constructor(options) {\r\n    super()\r\n\r\n    if (options.coinName === undefined) {\r\n      throw new Error('EthLikeSwap swap - option `coinName` not defined')\r\n    }\r\n    if (typeof options.fetchBalance !== 'function') {\r\n      throw new Error('EthLikeSwap: \"fetchBalance\" required')\r\n    }\r\n    if (typeof options.address !== 'string') {\r\n      throw new Error('EthLikeSwap: \"address\" required')\r\n    }\r\n    if (!Array.isArray(options.abi)) {\r\n      throw new Error('EthLikeSwap: \"abi\" required')\r\n    }\r\n    if (options.getWeb3Adapter === undefined) {\r\n      throw new Error(`EthLikeSwap ${options.coinName}: option 'getWeb3Adapter' not defined`)\r\n    }\r\n    if (options.getWeb3Utils === undefined) {\r\n      throw new Error(`EthLikeSwap ${options.coinName}: option 'getWeb3Utils' not defined`)\r\n    }\r\n    if (options.getMyAddress === undefined) {\r\n      throw new Error(`EthLikeSwap ${options.coinName}: option 'getMyAddress' not defined`)\r\n    }\r\n    if (options.getParticipantAddress === undefined) {\r\n      throw new Error(`EthLikeSwap ${options.coinName}: option 'getParticipantAddress' not defined`)\r\n    }\r\n    if (typeof options.estimateGasPrice !== 'function') {\r\n      // ({ speed } = {}) => gasPrice\r\n      console.warn(`EthLikeSwap: \"estimateGasPrice\" is not a function. You will not be able use automatic mempool-based fee`)\r\n    }\r\n\r\n    this.options        = options\r\n    this.address        = options.address\r\n    this.abi            = options.abi\r\n\r\n    this.coinName       = options.coinName\r\n\r\n    this._swapName      = options.coinName //constants.COINS.eth\r\n\r\n    this.gasLimit       = options.gasLimit || 5e5\r\n    this.gasLimitReserve = options.gasLimitReserve || 1.10 // default +10% of the total estimateGas\r\n    this.gasPrice       = options.gasPrice || 2e9\r\n    this.fetchBalance   = options.fetchBalance\r\n    this.estimateGasPrice = options.estimateGasPrice || (() => {})\r\n    this.sendTransaction = options.sendTransaction\r\n  }\r\n\r\n  _initSwap(app) {\r\n    super._initSwap(app)\r\n\r\n    this.app = app\r\n    if (typeof this.app[this.options.getWeb3Adapter] !== 'function') {\r\n      throw new Error(`EthLikeSwap ${this.coinName}: SwapApp function '${this.options.getWeb3Adapter}' not defined`)\r\n    }\r\n    if (typeof this.app[this.options.getWeb3Utils] !== 'function') {\r\n      throw new Error(`EthLikeSwap ${this.coinName}: SwapApp function '${this.options.getWeb3Utils}' not defined`)\r\n    }\r\n    if (typeof this.app[this.options.getMyAddress] !== 'function') {\r\n      throw new Error(`EthLikeSwap ${this.coinName}: SwapApp function '${this.options.getMyAddress}' not defined`)\r\n    }\r\n    if (typeof this.app[this.options.getParticipantAddress] !== 'function') {\r\n      throw new Error(`EthLikeSwap ${this.coinName}: SwapApp function '${this.options.getParticipantAddress}' not defined`)\r\n    }\r\n\r\n    this.web3adapter = this.app[this.options.getWeb3Adapter].bind(this.app)()\r\n    this.web3utils = this.app[this.options.getWeb3Utils].bind(this.app)()\r\n    this.getMyAddress = this.app[this.options.getMyAddress].bind(this.app)\r\n    this.getParticipantAddress = this.app[this.options.getParticipantAddress].bind(this.app)\r\n\r\n    this.decoder  = new InputDataDecoder(this.abi)\r\n\r\n    this.contract = new this.web3adapter.Contract(this.abi, this.address)\r\n  }\r\n\r\n  async updateGasPrice() {\r\n    debug('gas price before update', this.gasPrice)\r\n\r\n    try {\r\n      this.gasPrice = await this.estimateGasPrice({ speed: 'fast' })\r\n    } catch(err) {\r\n      debug(`EthLikeSwap ${this.coinName}: Error with gas update: ${err.message}, using old value gasPrice=${this.gasPrice}`)\r\n    }\r\n\r\n    debug('gas price after update', this.gasPrice)\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.secretHash\r\n   * @param {string} data.participantAddress\r\n   * @param {string} data.targetWallet\r\n   * @param {number} data.amount\r\n   * @param {function} handleTransactionHash\r\n   * @returns {Promise}\r\n   */\r\n  async create(data, handleTransactionHash) {\r\n    if (\r\n      data.targetWallet\r\n      && (\r\n        (data.targetWallet!==data.participantAddress)\r\n        ||\r\n        data.useTargetWallet\r\n      )\r\n      && this.hasTargetWallet()\r\n    ) {\r\n      return this.createSwapTarget(data, handleTransactionHash)\r\n    } else {\r\n      return this.createSwap(data, handleTransactionHash)\r\n    }\r\n  }\r\n\r\n  async send(methodName, args, _params = {}, handleTransactionHash) {\r\n    if (typeof this.contract.methods[methodName] !== 'function') {\r\n      throw new Error(`EthLikeSwap.send ${this.coinName}: No method ${methodName} in contract`)\r\n    }\r\n\r\n    await this.updateGasPrice()\r\n\r\n    return new Promise(async (resolve, reject) => {\r\n      const params = {\r\n        from: this.getMyAddress(),\r\n        gasPrice: this.gasPrice,\r\n        ..._params,\r\n      }\r\n\r\n      debug(`EthLikeSwap ${this.coinName} -> ${methodName} -> params`, params)\r\n\r\n      const gasAmount = await this.contract.methods[methodName](...args).estimateGas(params)\r\n      params['gas'] = new BigNumber(gasAmount).multipliedBy(this.gasLimitReserve).dp(0, BigNumber.ROUND_UP).toNumber() || this.gasLimit\r\n\r\n      debug(`EthLikeSwapSwap ${this.coinName} -> ${methodName} -> gas`, gasAmount)\r\n\r\n      const receipt = await this.contract.methods[methodName](...args).send(params)\r\n        .on('transactionHash', (hash) => {\r\n          if (typeof handleTransactionHash === 'function') {\r\n            handleTransactionHash(hash)\r\n          }\r\n        })\r\n        .on('error', (err) => {\r\n          reject(err)\r\n        })\r\n\r\n      resolve(receipt)\r\n    })\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.secretHash\r\n   * @param {string} data.participantAddress\r\n   * @param {string} data.targetWallet\r\n   * @param {number} data.amount\r\n   * @param {function} handleTransactionHash\r\n   * @returns {Promise}\r\n   */\r\n  async createSwap(data, handleTransactionHash) {\r\n    const { secretHash, participantAddress, amount } = data\r\n\r\n    const amountWei = this.web3utils.toWei(amount.toString())\r\n\r\n    const hash = `0x${secretHash.replace(/^0x/, '')}`\r\n    const args = [ hash, participantAddress ]\r\n\r\n    return this.send('createSwap', [...args], { value: amountWei }, handleTransactionHash)\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.secretHash\r\n   * @param {string} data.participantAddress\r\n   * @param {string} data.targetWallet\r\n   * @param {number} data.amount\r\n   * @param {function} handleTransactionHash\r\n   * @returns {Promise}\r\n   */\r\n  async createSwapTarget(data, handleTransactionHash) {\r\n    const { secretHash, participantAddress, amount, targetWallet } = data\r\n\r\n    await this.updateGasPrice()\r\n\r\n    const amountWei = this.web3utils.toWei(amount.toString())\r\n\r\n    const hash = `0x${secretHash.replace(/^0x/, '')}`\r\n\r\n    const values = [ hash, participantAddress, targetWallet ]\r\n\r\n    return this.send('createSwapTarget', [...values], { value: amountWei }, handleTransactionHash)\r\n  }\r\n  \r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.ownerAddress\r\n   * @returns {Promise}\r\n   */\r\n  getBalance(data) {\r\n    const { ownerAddress } = data\r\n\r\n    return this.contract.methods.getBalance(ownerAddress).call({\r\n      from: this.getMyAddress(),\r\n    })\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.ownerAddress\r\n   * @param {string} data.participantAddress\r\n   * @returns {Promise}\r\n   */\r\n  swaps(data) {\r\n    const { ownerAddress, participantAddress } = data\r\n\r\n    return this.contract.methods.swaps(ownerAddress, participantAddress).call()\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.ownerAddress\r\n   * @param {string} data.participantAddress\r\n   * @returns {Promise}\r\n   */\r\n  async checkSwapExists(data) {\r\n    const swap = await this.swaps(data)\r\n\r\n    debug('swapExists', swap)\r\n\r\n    const balance = swap && swap.balance ? parseInt(swap.balance) : 0\r\n\r\n    return balance > 0\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.ownerAddress\r\n   * @param {BigNumber} data.expectedValue\r\n   * @returns {Promise.<string>}\r\n   */\r\n  async checkBalance(data) {\r\n    const { ownerAddress, participantAddress, expectedValue, expectedHash } = data\r\n\r\n    const balance = await util.helpers.repeatAsyncUntilResult(() =>\r\n      this.getBalance({ ownerAddress })\r\n    )\r\n    const swap = await util.helpers.repeatAsyncUntilResult(() =>\r\n      this.contract.methods.swaps(ownerAddress, participantAddress).call()\r\n    )\r\n    //@ts-ignore\r\n    const { secretHash } = swap\r\n    debug(`swap.secretHash`, secretHash)\r\n\r\n    const _secretHash = `${secretHash.replace(/^0x/, '')}`\r\n\r\n    debug(`secretHash: expected hash = ${expectedHash}, contract hash = ${_secretHash}`)\r\n\r\n    if (expectedHash !== _secretHash) {\r\n      return `Expected hash: ${expectedHash}, got: ${_secretHash}`\r\n    }\r\n\r\n    const expectedValueWei = new BigNumber(expectedValue).multipliedBy(1e18)\r\n    //@ts-ignore\r\n    if (expectedValueWei.isGreaterThan(balance)) {\r\n      return `Expected value: ${expectedValueWei.toString()}, got: ${balance}`\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @returns {Promise}\r\n   */\r\n  async fetchSwapEvents() {\r\n    if (this._allSwapEvents) return this._allSwapEvents\r\n\r\n    const allSwapEvents = await this.contract.getPastEvents('allEvents', {\r\n      fromBlock: 0,\r\n      toBlock: 'latest',\r\n    })\r\n\r\n    this.contract.events.allEvents({ fromBlock: 0, toBlock: 'latest' })\r\n      .on('data', event => {\r\n        this._allSwapEvents.push(event)\r\n      })\r\n      .on('changed', (event) => {\r\n        console.error(`EthSwap: fetchEvents: needs rescan`)\r\n        this._allSwapEvents = null\r\n      })\r\n      .on('error', err => {\r\n        console.error(err)\r\n        this._allSwapEvents = null\r\n      })\r\n\r\n    this._allSwapEvents = allSwapEvents\r\n\r\n    return allSwapEvents\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.secretHash\r\n   * @returns {Promise}\r\n   */\r\n  async findSwap(data) {\r\n    const { secretHash } = data\r\n\r\n    const allSwapEvents = await this.fetchSwapEvents()\r\n\r\n    const swapEvents = allSwapEvents\r\n      .filter(({ returnValues }) => returnValues._secretHash === `0x${secretHash.replace('0x','')}`)\r\n\r\n    const [ create, close, ...rest ] = swapEvents\r\n\r\n    if (rest && rest.length) {\r\n      console.error(`More than two swaps with same hash`, rest)\r\n      // throw new Error(`More than two swaps with same hash`)\r\n    }\r\n\r\n    return [ create, close ]\r\n  }\r\n\r\n  /**\r\n    *\r\n    * @param {object} data\r\n    * @param {string} data.secretHash\r\n    * @returns {Promise(status)}\r\n    */\r\n\r\n  async wasClosed(data) {\r\n    const [ create, close ] = await this.findSwap(data)\r\n\r\n    if (!create) {\r\n      debug(`No swap with hash ${data.secretHash}`)\r\n      return 'no swap'\r\n    } else if (create && !close) {\r\n      debug(`Open yet!`)\r\n      return 'open'\r\n    } else {\r\n      if (close.event == 'Withdraw') {\r\n        debug(`Withdrawn`)\r\n        return 'withdrawn'\r\n      } else if (close.event == 'Refund') {\r\n        debug(`Refund`)\r\n        return 'refunded'\r\n      } else {\r\n        debug(`Unknown event, error`)\r\n        return 'error'\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.secretHash\r\n   * @returns {Promise(boolean)}\r\n   */\r\n  wasRefunded(data) {\r\n    return this.wasClosed(data)\r\n      .then((status) =>\r\n        status === 'refunded'\r\n      )\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.secretHash\r\n   * @returns {Promise(boolean)}\r\n   */\r\n  async wasWithdrawn(data) {\r\n    const status = await this.wasClosed(data)\r\n    return status === 'withdrawn'\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @returns {boolean}\r\n   */\r\n  hasTargetWallet() {\r\n    return !!this.contract.methods.getTargetWallet\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {string} ownerAddress\r\n   * @returns {Promise.<string>}\r\n   */\r\n  async getTargetWallet(ownerAddress: string): Promise<string> {\r\n    let address: any = await util.helpers.repeatAsyncUntilResult(() =>\r\n      this.getTargetWalletPromise(ownerAddress)\r\n    )\r\n    return address\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {string} ownerAddress\r\n   * @param {number} repeatCount\r\n   * @returns {string}\r\n   */\r\n  async getTargetWalletPromise(ownerAddress: string): Promise<string> {\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        const targetWallet = await this.contract.methods.getTargetWallet(ownerAddress).call({\r\n          from: this.getMyAddress(),\r\n        })\r\n\r\n        resolve(targetWallet)\r\n      }\r\n      catch (err) {\r\n        reject(err)\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.secret\r\n   * @param {string} data.ownerAddress\r\n   * @param {function} handleTransactionHash\r\n   * @returns {Promise}\r\n   */\r\n  async calcWithdrawGas(data) {\r\n    return this.calcWithdrawOtherGas({\r\n      ownerAddress: data.ownerAddress,\r\n      participantAddress: this.getMyAddress(),\r\n      secret: data.secret,\r\n    })\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.secret\r\n   * @param {string} data.ownerAddress\r\n   * @param {function} handleTransactionHash\r\n   * @returns {Promise}\r\n   */\r\n  async withdraw(data, handleTransactionHash) {\r\n    return this.withdrawOther({\r\n      ownerAddress: data.ownerAddress,\r\n      participantAddress: this.getMyAddress(),\r\n      secret: data.secret,\r\n    }, handleTransactionHash)\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.secret\r\n   * @param {string} data.participantAddress\r\n   * @returns {Promise}\r\n   */\r\n  async calcWithdrawNoMoneyGas(data) {\r\n    return this.calcWithdrawOtherGas({\r\n      ownerAddress: this.getMyAddress(),\r\n      participantAddress: data.participantAddress,\r\n      secret: data.secret,\r\n    })\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.secret\r\n   * @param {string} data.participantAddress\r\n   * @param {function} handleTransactionHash\r\n   * @returns {Promise}\r\n   */\r\n  async withdrawNoMoney(data, handleTransactionHash) {\r\n    return this.withdrawOther({\r\n      ownerAddress: this.getMyAddress(),\r\n      participantAddress: data.participantAddress,\r\n      secret: data.secret,\r\n    }, handleTransactionHash)\r\n  }\r\n\r\n  async calcWithdrawOtherGas(data) {\r\n    const { ownerAddress, participantAddress, secret } = data\r\n\r\n    await this.updateGasPrice()\r\n\r\n    return new Promise(async (resolve, reject) => {\r\n      const _secret = `0x${secret.replace(/^0x/, '')}`\r\n\r\n      const params = {\r\n        from: this.getMyAddress(),\r\n        gasPrice: this.gasPrice,\r\n      }\r\n\r\n      try {\r\n        const gasFee = await this.contract.methods.withdrawOther(_secret, ownerAddress, participantAddress).estimateGas(params)\r\n        resolve(new BigNumber(gasFee).multipliedBy(this.gasLimitReserve).dp(0, BigNumber.ROUND_UP).toNumber())\r\n      }\r\n      catch (err) {\r\n        console.error(\"calcWithdrawOtherGasError\", err)\r\n        resolve(this.gasLimit)\r\n      }\r\n    })\r\n  }\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.secret\r\n   * @param {string} data.ownerAddress\r\n   * @param {string} data.participantAddress\r\n   * @param {function} handleTransactionHash\r\n   * @returns {Promise}\r\n   */\r\n  async withdrawOther(data, handleTransactionHash) {\r\n    const { ownerAddress, participantAddress, secret } = data\r\n\r\n    const _secret = `0x${secret.replace(/^0x/, '')}`\r\n\r\n    await this.updateGasPrice()\r\n\r\n    return this.send('withdrawOther', [ _secret, ownerAddress, participantAddress ], {}, handleTransactionHash)\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.participantAddress\r\n   * @param {function} handleTransactionHash\r\n   * @returns {Promise}\r\n   */\r\n  //@ts-ignore: strictNullChecks\r\n  async refund(data, handleTransactionHash: Function = null) {\r\n    const { participantAddress } = data\r\n\r\n    await this.updateGasPrice()\r\n\r\n    return this.send('refund', [ participantAddress ], {}, handleTransactionHash)\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.participantAddress\r\n   * @returns {Promise}\r\n   */\r\n  getSecret(data) {\r\n    const { participantAddress } = data\r\n\r\n    return this.contract.methods.getSecret(participantAddress).call({\r\n      from: this.getMyAddress(),\r\n    })\r\n      .then((secret) => {\r\n        debug('secret ethswap.js', secret)\r\n        return secret && !/^0x0+$/.test(secret) ? secret : null\r\n      })\r\n      .catch((error) => error)\r\n  }\r\n\r\n/*\r\n  Function: withdraw(bytes32 _secret, address _ownerAddress)\r\n  bytes32 {...}\r\n  inputs: (2) []\r\n    0: Uint8Array(32) [ 208, 202, 170,  ]\r\n    1: \"e918c8719bae0525786548b8da7fbef9b33d4e25\"\r\n  name: \"withdraw\"\r\n  types: (2) []\r\n    0: \"bytes32\"\r\n    1: \"address\"\r\n*/\r\n\r\n  /**\r\n   *\r\n   * @param {string} transactionHash\r\n   * @returns {Promise<any>}\r\n   */\r\n  getSecretFromTxhash = (transactionHash) =>\r\n    this.web3adapter.getTransaction(transactionHash)\r\n      .then(txResult => {\r\n        try {\r\n          const bytes32 = this.decoder.decodeData(txResult.input)\r\n          return this.web3utils.bytesToHex(bytes32.inputs[0]).split('0x')[1]\r\n        } catch (err) {\r\n          debug('Trying to fetch secret from tx: ' + err.message)\r\n          return\r\n        }\r\n      })\r\n\r\n  async fundContract({\r\n    flow,\r\n    useTargetWallet,\r\n  }: {\r\n    flow: any,\r\n    useTargetWallet?: boolean,\r\n  }) {\r\n    const abClass = this\r\n    const {\r\n      participant,\r\n      buyAmount,\r\n      sellAmount,\r\n      waitConfirm,\r\n    } = flow.swap\r\n\r\n    const { secretHash } = flow.state\r\n\r\n    const swapData = {\r\n      participantAddress: abClass.getParticipantAddress(flow.swap),\r\n      secretHash: secretHash,\r\n      amount: sellAmount,\r\n      targetWallet: (flow.swap.destinationSellAddress)\r\n        ? flow.swap.destinationSellAddress\r\n        : abClass.getParticipantAddress(flow.swap),\r\n      useTargetWallet,\r\n    }\r\n\r\n    const tryCreateSwap = async () => {\r\n      const {\r\n        isEthContractFunded, // @to-do - rename all `eth` to `ab` or other\r\n        ethSwapCreationTransactionHash,\r\n      } = flow.state\r\n\r\n      if (!isEthContractFunded) {\r\n        try {\r\n          _debug('swap.core:flow')('check swap exists')\r\n          const swapExists = await flow._checkSwapAlreadyExists()\r\n          if (swapExists) {\r\n            console.warn('Swap exists!! May be stucked. Try refund')\r\n            await flow.ethLikeSwap.refund({\r\n              participantAddress: abClass.getParticipantAddress(flow.swap),\r\n            }, (refundTx) => {\r\n              _debug('swap.core:flow')('Stucked swap refunded', refundTx)\r\n            })\r\n          }\r\n          _debug('swap.core:flow')('create swap', swapData)\r\n          await abClass.create(swapData, (hash) => {\r\n            _debug('swap.core:flow')('create swap tx hash', hash)\r\n            flow.swap.room.sendMessage({\r\n              event: 'create eth contract',\r\n              data: {\r\n                ethSwapCreationTransactionHash: hash,\r\n              },\r\n            })\r\n\r\n            flow.setState({\r\n              ethSwapCreationTransactionHash: hash,\r\n              canCreateEthTransaction: true,\r\n              isFailedTransaction: false,\r\n            }, true)\r\n          })\r\n        } catch (err) {\r\n          if (flow.state.ethSwapCreationTransactionHash) {\r\n            console.error('fail create swap, but tx already exists')\r\n            flow.setState({\r\n              canCreateEthTransaction: true,\r\n              isFailedTransaction: false,\r\n            }, true)\r\n            return true\r\n          }\r\n          if ( /known transaction/.test(err.message) ) {\r\n            console.error(`known tx: ${err.message}`)\r\n          } else if ( /out of gas/.test(err.message) ) {\r\n            console.error(`tx failed (wrong secret?): ${err.message}`)\r\n          } else {\r\n            console.error(err)\r\n          }\r\n\r\n          flow.setState({\r\n            canCreateEthTransaction: false,\r\n            isFailedTransaction: true,\r\n            isFailedTransactionError: err.message,\r\n          }, true)\r\n\r\n          return null\r\n        }\r\n      } else {\r\n        flow.swap.room.sendMessage({\r\n          event: 'create eth contract',\r\n          data: {\r\n            ethSwapCreationTransactionHash,\r\n            secretHash,\r\n          },\r\n        })\r\n      }\r\n      return true\r\n    }\r\n\r\n    const isEthContractFunded = await util.helpers.repeatAsyncUntilResult(() =>\r\n      tryCreateSwap(),\r\n    )\r\n\r\n    const { isStoppedSwap } = flow.state\r\n\r\n    if (isEthContractFunded && !isStoppedSwap) {\r\n      _debug('swap.core:flow')(`finish step`)\r\n      flow.finishStep({\r\n        isEthContractFunded,\r\n      }, {step: 'lock-eth'})\r\n    }\r\n  }\r\n\r\n\r\n  async getSecretFromContract({\r\n    flow,\r\n  }: {\r\n    flow: any,\r\n  }) {\r\n    const abClass = this\r\n\r\n    flow.swap.room.once('ethWithdrawTxHash', async ({ethSwapWithdrawTransactionHash}) => {\r\n      flow.setState({\r\n        ethSwapWithdrawTransactionHash,\r\n      }, true)\r\n\r\n      const secretFromTxhash = await util.helpers.extractSecretFromTx({\r\n        flow,\r\n        swapFlow: abClass,\r\n        app: abClass.app,\r\n        ethSwapWithdrawTransactionHash,\r\n      })\r\n\r\n      const { isEthWithdrawn } = flow.state\r\n\r\n      if (!isEthWithdrawn && secretFromTxhash) {\r\n        _debug('swap.core:flow')('got secret from tx', ethSwapWithdrawTransactionHash, secretFromTxhash)\r\n        flow.finishStep({\r\n          isEthWithdrawn: true,\r\n          secret: secretFromTxhash,\r\n        }, {step: 'wait-withdraw-eth'})\r\n      }\r\n    })\r\n\r\n    flow.swap.room.sendMessage({\r\n      event: 'request ethWithdrawTxHash',\r\n    })\r\n\r\n    const { participant } = flow.swap\r\n\r\n    const checkSecretExist = async () => {\r\n      return await util.helpers.extractSecretFromContract({\r\n        flow,\r\n        swapFlow: abClass,\r\n        participantAddress: abClass.getParticipantAddress(flow.swap),\r\n        ownerAddress: abClass.getMyAddress(),\r\n        app: abClass.app,\r\n      })\r\n    }\r\n\r\n    const secretFromContract = await util.helpers.repeatAsyncUntilResult((stopRepeat) => {\r\n      const { isEthWithdrawn, isRefunded } = flow.state\r\n\r\n      if (isEthWithdrawn || isRefunded) {\r\n        stopRepeat()\r\n\r\n        return false\r\n      }\r\n\r\n      return checkSecretExist()\r\n    })\r\n\r\n    const { isEthWithdrawn } = flow.state\r\n\r\n    if (secretFromContract && !isEthWithdrawn) {\r\n      _debug('swap.core:flow')('got secret from smart contract', secretFromContract)\r\n\r\n      flow.finishStep({\r\n        isEthWithdrawn: true,\r\n        secret: secretFromContract,\r\n      }, { step: 'wait-withdraw-eth' })\r\n    }\r\n  }\r\n\r\n  async waitABContract({\r\n    flow,\r\n    utxoCoin,\r\n  }: {\r\n    flow: any,\r\n    utxoCoin: string,\r\n  }) {\r\n    const abClass = this\r\n\r\n    flow.swap.room.sendMessage({\r\n      event: 'request eth contract',\r\n    })\r\n\r\n    flow.swap.room.once(`request ${utxoCoin} script`, () => {\r\n      const {\r\n        utxoScriptValues: scriptValues,\r\n        utxoScriptCreatingTransactionHash: txHash,\r\n      } = flow.state\r\n\r\n      flow.swap.room.sendMessage({\r\n        event:  `create ${utxoCoin} script`,\r\n        data: {\r\n          scriptValues,\r\n          utxoScriptCreatingTransactionHash: txHash,\r\n        }\r\n      })\r\n    })\r\n\r\n    const { participant } = flow.swap\r\n\r\n    flow.swap.room.on('create eth contract', ({ ethSwapCreationTransactionHash }) => {\r\n      flow.setState({\r\n        ethSwapCreationTransactionHash,\r\n      }, true)\r\n    })\r\n\r\n    const isContractBalanceOk = await this.isContractFunded(flow)\r\n\r\n    if (isContractBalanceOk) {\r\n      const { isEthContractFunded } = flow.state\r\n\r\n      // @ToDo -   ,    \r\n      //     ,    isEthContractFunded = true\r\n      //       (#5)\r\n      //       \r\n      if (!isEthContractFunded) {\r\n        flow.finishStep({\r\n          isEthContractFunded: true,\r\n        }, { step: 'wait-lock-eth' })\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  async isSwapCreated(data) {\r\n    const {\r\n      ownerAddress,\r\n      participantAddress,\r\n      secretHash,\r\n    } = data\r\n\r\n    const swap = await util.helpers.repeatAsyncUntilResult(() => {\r\n      return this.contract.methods.swaps(ownerAddress, participantAddress).call()\r\n    })\r\n\r\n    return (swap && swap.secretHash && swap.secretHash === `0x${secretHash}`)\r\n  }\r\n\r\n  async isContractFunded(flow) {\r\n    const abClass = this\r\n\r\n    const isContractBalanceOk = await util.helpers.repeatAsyncUntilResult(async () => {\r\n      const balance = await abClass.getBalance({\r\n        ownerAddress: abClass.app.getParticipantEthAddress(flow.swap),\r\n      })\r\n\r\n      _debug('swap.core:flow')('Checking contract balance:', balance)\r\n\r\n      const needContractBalance = new BigNumber(abClass.web3utils.toWei(flow.swap.buyAmount.toString()))\r\n\r\n      if (new BigNumber(balance).isGreaterThanOrEqualTo(needContractBalance)) {\r\n        return true\r\n      } else {\r\n        if (balance > 0) {\r\n          console.warn(`Balance on contract is less than needed. Swap stucked. Contract balance: ${balance} Needed: ${needContractBalance.toString()}`)\r\n        }\r\n      }\r\n\r\n      return false\r\n    })\r\n\r\n    if (isContractBalanceOk) {\r\n      return true\r\n    }\r\n    return false\r\n  }\r\n\r\n  async checkTargetAddress({\r\n    flow,\r\n  }: {\r\n    flow: any\r\n  }) {\r\n    if (this.hasTargetWallet()) {\r\n      const targetWallet = await this.getTargetWallet(\r\n        this.getParticipantAddress(flow.swap)\r\n      )\r\n      const needTargetWallet = (flow.swap.destinationBuyAddress)\r\n        ? flow.swap.destinationBuyAddress\r\n        : this.getMyAddress()\r\n\r\n      if (targetWallet.toLowerCase() === needTargetWallet.toLowerCase()) {\r\n        return true\r\n      }\r\n    }\r\n    return false\r\n  }\r\n\r\n  async withdrawFromABContract({\r\n    flow,\r\n  }: {\r\n    flow: any,\r\n  }) {\r\n    const abClass = this\r\n    const { buyAmount, participant } = flow.swap\r\n    const { secretHash, secret } = flow.state\r\n\r\n    const data = {\r\n      ownerAddress: abClass.getParticipantAddress(flow.swap),\r\n      secret,\r\n    }\r\n\r\n    const balanceCheckError = await abClass.checkBalance({\r\n      ownerAddress: abClass.getParticipantAddress(flow.swap),\r\n      participantAddress: abClass.getMyAddress(),\r\n      expectedValue: buyAmount,\r\n      expectedHash: secretHash,\r\n    })\r\n\r\n    if (balanceCheckError) {\r\n      console.error('Waiting until deposit: ETH balance check error:', balanceCheckError)\r\n      flow.swap.events.dispatch('eth balance check error', balanceCheckError)\r\n\r\n      return\r\n    }\r\n\r\n    if (flow.ethLikeSwap.hasTargetWallet()) {\r\n      const targetWallet = await abClass.getTargetWallet(\r\n        abClass.getParticipantAddress(flow.swap)\r\n      )\r\n      const needTargetWallet = (flow.swap.destinationBuyAddress)\r\n        ? flow.swap.destinationBuyAddress\r\n        : abClass.getMyAddress()\r\n\r\n      if (targetWallet.toLowerCase() !== needTargetWallet.toLowerCase()) {\r\n        console.error(\r\n          'Destination address for ether dismatch with needed (Needed, Getted). Stop swap now!',\r\n          needTargetWallet,\r\n          targetWallet,\r\n        )\r\n        flow.swap.events.dispatch('address for ether invalid', {\r\n          needed: needTargetWallet,\r\n          getted: targetWallet,\r\n        })\r\n\r\n        return\r\n      }\r\n    }\r\n\r\n    const onWithdrawReady = () => {\r\n      flow.swap.room.once('request ethWithdrawTxHash', () => {\r\n        const { ethSwapWithdrawTransactionHash } = flow.state\r\n\r\n        flow.swap.room.sendMessage({\r\n          event: 'ethWithdrawTxHash',\r\n          data: {\r\n            ethSwapWithdrawTransactionHash,\r\n          },\r\n        })\r\n      })\r\n\r\n      const { step } = flow.state\r\n\r\n      if (step >= 7) {\r\n        return\r\n      }\r\n\r\n      flow.finishStep({\r\n        isEthWithdrawn: true,\r\n      }, 'withdraw-eth')\r\n    }\r\n\r\n    const tryWithdraw = async (stopRepeater) => {\r\n      const { isEthWithdrawn } = flow.state\r\n\r\n      if (!isEthWithdrawn) {\r\n        try {\r\n          const { withdrawFee } = flow.state\r\n\r\n          if (!withdrawFee) {\r\n            const withdrawNeededGas = await abClass.calcWithdrawGas({\r\n              ownerAddress: data.ownerAddress,\r\n              secret,\r\n            })\r\n            flow.setState({\r\n              withdrawFee: withdrawNeededGas,\r\n            })\r\n            _debug('swap.core:flow')('withdraw gas fee', withdrawNeededGas)\r\n          }\r\n\r\n          await abClass.withdraw(data, (hash) => {\r\n            flow.setState({\r\n              isEthWithdrawn: true,\r\n              ethSwapWithdrawTransactionHash: hash,\r\n              canCreateEthTransaction: true,\r\n              requireWithdrawFee: false,\r\n            }, true)\r\n\r\n            flow.swap.room.sendMessage({\r\n              event: 'ethWithdrawTxHash',\r\n              data: {\r\n                ethSwapWithdrawTransactionHash: hash,\r\n              }\r\n            })\r\n          })\r\n\r\n          stopRepeater()\r\n          return true\r\n        } catch (err) {\r\n          if ( /known transaction/.test(err.message) ) {\r\n            console.error(`known tx: ${err.message}`)\r\n            stopRepeater()\r\n            return true\r\n          } else if ( /out of gas/.test(err.message) ) {\r\n            console.error(`tx failed (wrong secret?): ${err.message}`)\r\n          } else if ( /insufficient funds for gas/.test(err.message) ) {\r\n            console.error(`insufficient fund for gas: ${err.message}`)\r\n\r\n            _debug('swap.core:flow')('insufficient fund for gas... wait fund or request other side to withdraw')\r\n\r\n            const { requireWithdrawFee } = flow.state\r\n\r\n            if (!requireWithdrawFee) {\r\n              flow.swap.room.once('withdraw ready', ({ethSwapWithdrawTransactionHash}) => {\r\n                flow.setState({\r\n                  ethSwapWithdrawTransactionHash,\r\n                })\r\n\r\n                onWithdrawReady()\r\n              })\r\n\r\n              flow.setState({\r\n                requireWithdrawFee: true,\r\n              })\r\n            }\r\n\r\n          } else {\r\n            console.error(err)\r\n          }\r\n\r\n          flow.setState({\r\n            canCreateEthTransaction: false,\r\n          })\r\n\r\n          return null\r\n        }\r\n      }\r\n\r\n      return true\r\n    }\r\n\r\n    const isEthWithdrawn = await util.helpers.repeatAsyncUntilResult((stopRepeater) =>\r\n      tryWithdraw(stopRepeater),\r\n    )\r\n\r\n    if (isEthWithdrawn) {\r\n      onWithdrawReady()\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport default EthLikeSwap\r\n","import { constants } from 'swap.app'\r\nimport EthLikeSwap from './EthLikeSwap'\r\n\r\n\r\nclass EthSwap extends EthLikeSwap {\r\n  constructor(options) {\r\n    options = {\r\n      ...options,\r\n      getWeb3Adapter: `getEthWeb3Adapter`,\r\n      getWeb3Utils: `getEthWeb3Utils`,\r\n      getMyAddress: `getMyEthAddress`,\r\n      getParticipantAddress: `getParticipantEthAddress`,\r\n      coinName: constants.COINS.eth\r\n    }\r\n    super(options)\r\n  }\r\n}\r\n\r\n\r\nexport default EthSwap\r\n","import { constants } from 'swap.app'\r\nimport EthLikeSwap from './EthLikeSwap'\r\n\r\n\r\nclass BnbSwap extends EthLikeSwap {\r\n  constructor(options) {\r\n    options = {\r\n      ...options,\r\n      getWeb3Adapter: `getBnbWeb3Adapter`,\r\n      getWeb3Utils: `getBnbWeb3Utils`,\r\n      getMyAddress: `getMyBnbAddress`,\r\n      getParticipantAddress: `getParticipantBnbAddress`,\r\n      coinName: constants.COINS.bnb\r\n    }\r\n    super(options)\r\n  }\r\n}\r\n\r\n\r\nexport default BnbSwap\r\n","import { constants } from 'swap.app'\r\nimport EthLikeSwap from './EthLikeSwap'\r\n\r\n\r\nclass MaticSwap extends EthLikeSwap {\r\n  constructor(options) {\r\n    options = {\r\n      ...options,\r\n      getWeb3Adapter: `getMaticWeb3Adapter`,\r\n      getWeb3Utils: `getMaticWeb3Utils`,\r\n      getMyAddress: `getMyMaticAddress`,\r\n      getParticipantAddress: `getParticipantMaticAddress`,\r\n      coinName: constants.COINS.matic\r\n    }\r\n    super(options)\r\n  }\r\n}\r\n\r\n\r\nexport default MaticSwap\r\n","import { constants } from 'swap.app'\r\nimport EthLikeSwap from './EthLikeSwap'\r\n\r\n\r\nclass ArbitrumSwap extends EthLikeSwap {\r\n  constructor(options) {\r\n    options = {\r\n      ...options,\r\n      getWeb3Adapter: `getArbitrumWeb3Adapter`,\r\n      getWeb3Utils: `getArbitrumWeb3Utils`,\r\n      getMyAddress: `getMyArbitrumAddress`,\r\n      getParticipantAddress: `getParticipantArbitrumAddress`,\r\n      coinName: constants.COINS.arbeth\r\n    }\r\n    super(options)\r\n  }\r\n}\r\n\r\n\r\nexport default ArbitrumSwap\r\n","import debug from 'debug'\r\nimport SwapApp, { SwapInterface, constants, util } from 'swap.app'\r\nimport BigNumber from 'bignumber.js'\r\nimport bitcore from 'ghost-bitcore-lib'\r\nconst PrivateKey = bitcore.PrivateKey;\r\nconst BufferUtil = bitcore.util.buffer;\r\n\r\nclass GhostSwap extends SwapInterface {\r\n\r\n  _swapName: string\r\n  fetchBalance: any\r\n  fetchUnspents: any\r\n  broadcastTx: any\r\n  checkWithdraw: any\r\n  feeValue: any\r\n  fetchTxInfo: any\r\n  estimateFeeValue: ({}) => string\r\n\r\n  app: any\r\n  network: any\r\n\r\n  /**\r\n   *\r\n   * @param options\r\n   * @param options.fetchBalance\r\n   * @param options.fetchUnspents\r\n   * @param options.broadcastTx\r\n   * @param options.fetchTxInfo {(tx_hash) => Promise({ confidence, fees })}\r\n   * @param options.estimateFeeValue { ({ inSatoshis, speed, address, txSize }) => Promise(fee_value) }\r\n   */\r\n  constructor(options) {\r\n    super()\r\n\r\n    if (typeof options.fetchBalance !== 'function') {\r\n      throw new Error('GhostSwap: \"fetchBalance\" required')\r\n    }\r\n    if (typeof options.fetchUnspents !== 'function') {\r\n      throw new Error('GhostSwap: \"fetchUnspents\" required')\r\n    }\r\n    if (typeof options.broadcastTx !== 'function') {\r\n      throw new Error('GhostSwap: \"broadcastTx\" required')\r\n    }\r\n    if (typeof options.fetchTxInfo !== 'function') {\r\n      // tx_hash => { confidence, fees }\r\n      console.warn(`GhostSwap: \"fetchTxInfo\" is not a function. You will not be able to use tx-confidence feature`)\r\n    }\r\n    if (typeof options.estimateFeeValue !== 'function') {\r\n      // ({ speed } = {}) => feeRate\r\n      console.warn(`GhostSwap: \"estimateFeeValue\" is not a function. You will not be able use automatic mempool-based fee`)\r\n    }\r\n\r\n    this._swapName = constants.COINS.ghost\r\n    this.fetchBalance = options.fetchBalance\r\n    this.fetchUnspents = options.fetchUnspents\r\n    this.broadcastTx = options.broadcastTx\r\n    this.checkWithdraw = options.checkWithdraw\r\n    this.feeValue = options.feeValue || 546\r\n    this.fetchTxInfo = options.fetchTxInfo || (() => { })\r\n    this.estimateFeeValue = options.estimateFeeValue || (() => 0)\r\n  }\r\n\r\n  _initSwap(app) {\r\n    super._initSwap(app)\r\n\r\n    this.app = app\r\n\r\n    this.network = this.app.services.auth.accounts.ghost.network // TODO: templess solution, try to find better solution\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} options\r\n   * @param {boolean} options.inSatoshis\r\n   * @param {Number} options.size\r\n   * @param {String} options.speed\r\n   * @param {String} options.address\r\n   * @returns {BigNumber}\r\n   * @public\r\n   */\r\n  async getTxFee({ inSatoshis, size, speed = 'fast', address }) {\r\n    let estimatedFee = new BigNumber(await this.estimateFeeValue({ \r\n      inSatoshis,\r\n      address,\r\n      speed,\r\n      method: 'swap',\r\n      txSize: size\r\n    }))\r\n\r\n    this.feeValue = estimatedFee\r\n\r\n    return inSatoshis\r\n      ? estimatedFee\r\n      : estimatedFee.dividedBy(1e8).dp(0, BigNumber.ROUND_UP)\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {array} unspents\r\n   * @param {Number} expectedConfidenceLevel\r\n   * @returns {array}\r\n   * @private\r\n   */\r\n  async filterConfidentUnspents(unspents, expectedConfidenceLevel = 0.95) {\r\n    const feesToConfidence = async (fees, size, address) => {\r\n      const currentFastestFee = await this.getTxFee({ inSatoshis: true, size, speed: 'fast', address })\r\n\r\n      return new BigNumber(fees).isLessThan(currentFastestFee)\r\n        ? new BigNumber(fees).dividedBy(currentFastestFee).toNumber()\r\n        : 1\r\n    }\r\n\r\n    const confirmationsToConfidence = confs => confs > 0 ? 1 : 0\r\n\r\n    const fetchConfidence = async ({ txid, confirmations }) => {\r\n      const confidenceFromConfirmations = confirmationsToConfidence(confirmations)\r\n\r\n      if (new BigNumber(confidenceFromConfirmations).isGreaterThanOrEqualTo(expectedConfidenceLevel)) {\r\n        return confidenceFromConfirmations\r\n      }\r\n\r\n      try {\r\n        const info = await this.fetchTxInfo(txid)\r\n\r\n        const { fees, size, senderAddress } = info\r\n\r\n        if (fees) {\r\n          return await feesToConfidence(fees, size, senderAddress)\r\n        }\r\n\r\n        throw new Error(`txinfo=${{ confirmations, fees, size, senderAddress }}`)\r\n\r\n      } catch (err) {\r\n        console.error(`GhostSwap: Error fetching confidence: using confirmations > 0:`, err.message)\r\n        return confidenceFromConfirmations\r\n      }\r\n    }\r\n\r\n    const confidences = await Promise.all(unspents.map(fetchConfidence))\r\n\r\n    return unspents.filter((utxo, index) => {\r\n      debug('swap.core:swaps')(`confidence[${index}]:`, confidences[index])\r\n      //@ts-ignore\r\n      return new BigNumber(confidences[index]).isGreaterThanOrEqualTo(expectedConfidenceLevel)\r\n    })\r\n  }\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {object} data.script\r\n   * @param {*} data.tx\r\n   * @param {string} data.secret\r\n   * @param {number} inputIndex\r\n   * @private\r\n   */\r\n  _signTransaction(data, inputIndex = 0) {\r\n    debug('swap.core:swaps')('signing script input', inputIndex)\r\n    const { script, tx, secret } = data\r\n    const hashType = this.app.env.bitcoin.Transaction.SIGHASH_ALL\r\n    // At the moment we are using Bitcore lib from Ghost to handle signing logic. TODO: port Bitcoinjs-lib to be compatible with Ghost and\r\n    // to avoid lib's duplicate\r\n    const network = this.app.isMainNet() ? bitcore.Networks.mainnet : bitcore.Networks.testnet; \r\n    // For refund we need to change the sequence number\r\n    tx.inputs[inputIndex].sequenceNumber = 4294967294;\r\n    const privateKey = new PrivateKey(this.app.services.auth.accounts.ghost.getPrivateKey(), network);\r\n    const signature = bitcore.Transaction.Sighash.sign(tx, privateKey, hashType, inputIndex, script);\r\n    const sigBuffer = BufferUtil.concat([\r\n      signature.toDER(),\r\n      BufferUtil.integerAsSingleByteBuffer(hashType)\r\n    ]);\r\n    const payment = this.app.env.bitcoin.payments.p2sh({\r\n      redeem: this.app.env.bitcoin.payments.p2wsh({\r\n        redeem: {\r\n          output: script,\r\n          input: this.app.env.bitcoin.script.compile([\r\n            sigBuffer,\r\n            this.app.services.auth.accounts.ghost.getPublicKeyBuffer(),\r\n            Buffer.from(secret.replace(/^0x/, ''), 'hex'),\r\n          ])\r\n        }\r\n      })\r\n    })\r\n    \r\n    tx.inputs[inputIndex].setWitnesses(payment.witness);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.secretHash\r\n   * @param {string} data.ownerPublicKey\r\n   * @param {string} data.recipientPublicKey\r\n   * @param {number} data.lockTime\r\n   * @returns {{scriptAddress: *, script: (*|{ignored})}}\r\n   */\r\n  createScript(data, hashName = 'ripemd160') {\r\n    const hashOpcodeName = `OP_${hashName.toUpperCase()}`\r\n    const hashOpcode = this.app.env.bitcoin.opcodes[hashOpcodeName]\r\n\r\n    const { secretHash, ownerPublicKey, recipientPublicKey, lockTime } = data\r\n    const script = this.app.env.bitcoin.script.compile([\r\n\r\n      this.app.env.bitcoin.opcodes.OP_SIZE,\r\n      Buffer.from('20' ,'hex'),\r\n      this.app.env.bitcoin.opcodes.OP_EQUALVERIFY,\r\n\r\n      hashOpcode,\r\n      Buffer.from(secretHash, 'hex'),\r\n      this.app.env.bitcoin.opcodes.OP_EQUALVERIFY,\r\n\r\n      Buffer.from(recipientPublicKey, 'hex'),\r\n      this.app.env.bitcoin.opcodes.OP_EQUAL,\r\n      this.app.env.bitcoin.opcodes.OP_IF,\r\n\r\n      Buffer.from(recipientPublicKey, 'hex'),\r\n\r\n      this.app.env.bitcoin.opcodes.OP_ELSE,\r\n\r\n      this.app.env.bitcoin.script.number.encode(lockTime),\r\n      this.app.env.bitcoin.opcodes.OP_CHECKLOCKTIMEVERIFY,\r\n      this.app.env.bitcoin.opcodes.OP_DROP,\r\n      Buffer.from(ownerPublicKey, 'hex'),\r\n\r\n      this.app.env.bitcoin.opcodes.OP_ENDIF,\r\n\r\n      this.app.env.bitcoin.opcodes.OP_CHECKSIG,\r\n    ])\r\n\r\n    const scriptData = this.app.env.bitcoin.payments.p2sh({ redeem: { output: script, network: this.network }, network: this.network })\r\n    const scriptAddress = scriptData.address;\r\n\r\n    return {\r\n      scriptAddress,\r\n      script,\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.recipientPublicKey\r\n   * @param {number} data.lockTime\r\n   * @param {object} expected\r\n   * @param {number} expected.value\r\n   * @param {number} expected.lockTime\r\n   * @param {string} expected.recipientPublicKey\r\n   * @returns {Promise.<string>}\r\n   */\r\n  async checkScript(data, expected, hashName) {\r\n    const { recipientPublicKey, lockTime } = data\r\n    const { scriptAddress, script } = this.createScript(data, hashName)\r\n\r\n    const expectedConfidence = expected.confidence || 0.95\r\n    const unspents = await this.fetchUnspents(scriptAddress)\r\n    const expectedValue = expected.value.multipliedBy(1e8).integerValue()\r\n    const totalUnspent = unspents.reduce((summ, { satoshis }) => summ + satoshis, 0)\r\n\r\n    const confidentUnspents = await this.filterConfidentUnspents(unspents, expectedConfidence)\r\n    const totalConfidentUnspent = confidentUnspents.reduce((summ, { satoshis }) => summ + satoshis, 0)\r\n\r\n    if (expectedValue.isGreaterThan(totalUnspent)) {\r\n      return `Expected script value: ${expectedValue.toNumber()}, got: ${totalUnspent}, address: ${scriptAddress}`\r\n    }\r\n    if (expected.lockTime > lockTime) {\r\n      return `Expected script lockTime: ${expected.lockTime}, got: ${lockTime}, address: ${scriptAddress}`\r\n    }\r\n    if (expected.recipientPublicKey !== recipientPublicKey) {\r\n      return `Expected script recipient publicKey: ${expected.recipientPublicKey}, got: ${recipientPublicKey}`\r\n    }\r\n    if (expectedValue.isGreaterThan(totalConfidentUnspent)) {\r\n      return `Expected script value: ${expectedValue.toString()} with confidence above ${expectedConfidence}, got: ${totalConfidentUnspent}, address: ${scriptAddress}`\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {object} data.scriptValues\r\n   * @param {BigNumber} data.amount\r\n   * @param {function} handleTransactionHash\r\n   * @param {string} hashName\r\n   * @returns {Promise}\r\n   */\r\n  fundScript(data, handleTransactionHash, hashName) {\r\n    const { scriptValues, amount } = data\r\n\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n\r\n        const { scriptAddress } = this.createScript(scriptValues, hashName)\r\n\r\n        const ownerAddress = this.app.services.auth.accounts.ghost.getAddress()\r\n\r\n        const unspents = await this.fetchUnspents(ownerAddress)\r\n        const fundValue = amount.multipliedBy(1e8).integerValue().toNumber()\r\n        //@ts-ignore\r\n        const feeValueBN = await this.getTxFee({\r\n          inSatoshis: true,\r\n          address: ownerAddress,\r\n        })\r\n        const feeValue = feeValueBN.integerValue().toNumber()\r\n        const totalUnspent = unspents.reduce((summ, { satoshis }) => summ + satoshis, 0)\r\n        const skipValue = totalUnspent - fundValue - feeValue\r\n        if (totalUnspent < feeValue + fundValue) {\r\n          throw new Error(`Total less than fee: ${totalUnspent} < ${feeValue} + ${fundValue}`)\r\n        }\r\n\r\n        const transaction = new bitcore.Transaction()\r\n          .from(unspents)         \r\n          .to(scriptAddress, fundValue) \r\n          .change(this.app.services.auth.accounts.ghost.getAddress())     \r\n          .sign(this.app.services.auth.accounts.ghost.getPrivateKey())    \r\n\r\n        if (typeof handleTransactionHash === 'function') {\r\n          handleTransactionHash(transaction.toObject().txid)\r\n        }\r\n\r\n        try {\r\n          const result = await this.broadcastTx(String(transaction.serialize()))\r\n          resolve(result)\r\n        }\r\n        catch (err) {\r\n          reject(err)\r\n        }\r\n      }\r\n      catch (err) {\r\n        reject(err)\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object|string} data - scriptValues or wallet address\r\n   * @returns {Promise.<void>}\r\n   */\r\n  async getBalance(data, hashName) {\r\n    let address\r\n\r\n    if (typeof data === 'string') {\r\n      address = data\r\n    }\r\n    else if (typeof data === 'object') {\r\n      const { scriptAddress } = this.createScript(data, hashName)\r\n\r\n      address = scriptAddress\r\n    }\r\n    else {\r\n      throw new Error('Wrong data type')\r\n    }\r\n\r\n    const unspents = await this.fetchUnspents(address)\r\n    const totalUnspent = unspents && unspents.length && unspents.reduce((summ, { satoshis }) => summ + satoshis, 0) || 0\r\n\r\n    return totalUnspent\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {object} data.scriptValues\r\n   * @param {string} data.secret\r\n   * @param {boolean} isRefund\r\n   * @returns {Promise}\r\n   */\r\n  async getWithdrawRawTransaction(data, isRefund, hashName?) {\r\n    const { scriptValues, secret, destinationAddress } = data\r\n    const destAddress = (destinationAddress) ? destinationAddress : this.app.services.auth.accounts.ghost.getAddress()\r\n\r\n    const { script, scriptAddress } = this.createScript(scriptValues, hashName)\r\n    const unspents = await this.fetchUnspents(scriptAddress)\r\n    //@ts-ignore\r\n    const feeValueBN = await this.getTxFee({\r\n      inSatoshis: true,\r\n      address: scriptAddress\r\n    })\r\n    const feeValue = feeValueBN.integerValue().toNumber()\r\n    const totalUnspent = unspents.reduce((summ, { satoshis }) => summ + satoshis, 0)\r\n\r\n    if (new BigNumber(totalUnspent).isLessThan(feeValue)) {\r\n      /* Check - may be withdrawed */\r\n      if (typeof this.checkWithdraw === 'function') {\r\n        const hasWithdraw = await this.checkWithdraw(scriptAddress)\r\n        if (hasWithdraw\r\n          && hasWithdraw.address.toLowerCase() == destAddress.toLowerCase()\r\n        ) {\r\n          // already withdrawed\r\n          return {\r\n            txId: hasWithdraw.txid,\r\n            alreadyWithdrawed: true\r\n          }\r\n        } else {\r\n          throw new Error(`Total less than fee: ${totalUnspent} < ${feeValue}`)\r\n        }\r\n      } else {\r\n        throw new Error(`Total less than fee: ${totalUnspent} < ${feeValue}`)\r\n      }\r\n    }\r\n\r\n    const tx = new bitcore.Transaction();\r\n\r\n    if (isRefund) {\r\n      tx.lockUntilDate(scriptValues.lockTime);\r\n    }\r\n \r\n    tx.from(unspents);\r\n    tx.to(destAddress, totalUnspent - feeValue);\r\n    // Sign input witness's\r\n    tx.inputs.map((_, index) =>\r\n      this._signTransaction({\r\n        script,\r\n        secret,\r\n        tx,\r\n      }, index)\r\n\r\n    );\r\n\r\n    const txHex = tx.toString()\r\n    const txId = tx.toObject().hash\r\n\r\n     return {\r\n       txHex,\r\n       txId,\r\n     }\r\n\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {object} data.scriptValues\r\n   * @param {string} data.secret\r\n   * @param {boolean} isRefund\r\n   * @returns {Promise}\r\n   */\r\n  async getWithdrawHexTransaction(data, isRefund) {\r\n    const txRaw = await this.getWithdrawRawTransaction(data, isRefund)\r\n\r\n    return txRaw.txHex\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {object} data.scriptValues\r\n   * @param {string} data.secret\r\n   * @returns {Promise}\r\n   */\r\n  getRefundRawTransaction(data) {\r\n    return this.getWithdrawRawTransaction(data, true)\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {object} data.scriptValues\r\n   * @param {string} data.secret\r\n   * @returns {Promise}\r\n   */\r\n  async getRefundHexTransaction(data) {\r\n    const txRaw = await this.getRefundRawTransaction(data)\r\n\r\n    return txRaw.txHex\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {object} data.scriptValues\r\n   * @param {string} data.secret\r\n   * @param {function} handleTransactionHash\r\n   * @param {boolean} isRefund\r\n   * @param {string} hashName\r\n   * @returns {Promise}\r\n   */\r\n  withdraw(data, isRefund, hashName) {\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        const txRaw = await this.getWithdrawRawTransaction(data, isRefund, hashName)\r\n\r\n        if (txRaw.alreadyWithdrawed) {\r\n          resolve(txRaw.txId)\r\n          return\r\n        }\r\n\r\n        debug('swap.core:swaps')('raw tx withdraw', txRaw.txHex)\r\n\r\n        const result = await this.broadcastTx(txRaw.txHex)\r\n\r\n\r\n        // Wait some delay until transaction can be rejected or broadcast failed\r\n        await util.helpers.waitDelay(10)\r\n\r\n        const txSuccess = await this.checkTX(txRaw.txId)\r\n\r\n        if (txSuccess) {\r\n          resolve(txRaw.txId)\r\n        } else {\r\n          console.warn('GhostSwap: cant withdraw', 'Generated TX not found')\r\n          reject('TX not found. Try it later. ')\r\n        }\r\n      }\r\n      catch (error) {\r\n        console.warn('GhostSwap: cant withdraw', error.message)\r\n\r\n        let errorMessage\r\n\r\n        if (error.res && /non-final/.test(error.res.text)) {\r\n          errorMessage = 'Try it later'\r\n        } else if (/Total less than fee/.test(error.message)) {\r\n          if (/Total less than fee: 0/.test(error.message)) {\r\n            errorMessage = 'Address is empty'\r\n          } else {\r\n            errorMessage = 'Less than fee'\r\n          }\r\n        } else {\r\n          errorMessage = error\r\n        }\r\n\r\n        reject(errorMessage)\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {string} txID\r\n   * @returns {Promise}\r\n   */\r\n  async checkTX(txID) {\r\n    const txInfo = await this.fetchTxInfo(txID)\r\n    if (txInfo\r\n      && txInfo.senderAddress\r\n      && txInfo.txid\r\n      && (txInfo.txid.toLowerCase() == txID.toLowerCase())\r\n    ) {\r\n      return true\r\n    }\r\n    return false\r\n  }\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {object} data.scriptValues\r\n   * @param {string} data.secret\r\n   * @param {function} handleTransactionHash\r\n   * @param {string} hashName\r\n   * @returns {Promise}\r\n   */\r\n  refund(data, hashName) {\r\n    return this.withdraw(data, true, hashName)\r\n  }\r\n}\r\n\r\n\r\nexport default GhostSwap\r\n","import UTXOBlockchain from './UTXOBlockchain'\r\n\r\n\r\nclass NextSwap extends UTXOBlockchain {\r\n  constructor(options) {\r\n    super({\r\n      ...options,\r\n      swapName: `NEXT`,\r\n      account: `next`,\r\n      networks: {\r\n        main: {\r\n          name: `nextmain`,\r\n          params: {\r\n            messagePrefix: '\\x18Nextcoin Signed Message:\\n',\r\n            bech32: 'bc',\r\n            bip32: {\r\n              public:  0x0488B21E,\r\n              private: 0x0488ADE4,\r\n            },\r\n            pubKeyHash: 75,\r\n            scriptHash: 5,\r\n            wif: 128,\r\n          }\r\n        },\r\n        test: {\r\n          name: `nexttest`,\r\n          params: {\r\n            messagePrefix: '\\x18Nextcoin Signed Message:\\n',\r\n            bech32: 'bc',\r\n            bip32: {\r\n              public:  0x0488B21E,\r\n              private: 0x0488ADE4,\r\n            },\r\n            pubKeyHash: 75,\r\n            scriptHash: 5,\r\n            wif: 128,\r\n          }\r\n        },\r\n      },\r\n      skipFetchConfidence: true,\r\n      skipCheckCanBeReplaces: true,\r\n      skipLockTime: true,\r\n      skipRecipientPublickKey: true,\r\n      processUnspent: (unspent) => {\r\n        const {\r\n          txid,\r\n          outputIndex: vout,\r\n        } = unspent\r\n        return {\r\n          txid,\r\n          vout,\r\n        }\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport default NextSwap","import debug from 'debug'\r\nimport { SwapInterface, constants, util } from 'swap.app'\r\nimport BigNumber from 'bignumber.js'\r\nimport InputDataDecoder from 'ethereum-input-data-decoder'\r\n\r\n\r\nclass EthLikeTokenSwap extends SwapInterface {\r\n\r\n  options: any\r\n  _swapName: string\r\n  address: string\r\n  abi: any[]\r\n  decimals: number\r\n  tokenAddress: string\r\n  tokenAbi: any[]\r\n  gasLimit: number\r\n  gasLimitReserve: number\r\n  gasPrice: number\r\n  fetchBalance: any\r\n  estimateGasPrice: any\r\n  _allSwapEvents: any\r\n\r\n  web3adapter: any // web3.eth\r\n  web3utils: any // web3.utils\r\n  getMyAddress: any\r\n  getParticipantAddress: any\r\n  blockchainName: string\r\n\r\n  app: any\r\n  decoder: any\r\n  contract: any\r\n  ERC20: any\r\n\r\n  /**\r\n   *\r\n   * @param {object}    options\r\n   * @param {string}    options.name\r\n   * @param {string}    options.address\r\n   * @param {array}     options.abi\r\n   * @param {string}    options.tokenAddress\r\n   * @param {array}     options.tokenAbi\r\n   * @param {number}    options.gasLimit\r\n   * @param {function}  options.fetchBalance\r\n   */\r\n  constructor(options) {\r\n    super()\r\n\r\n    if (options.blockchainName === undefined) {\r\n      throw new Error('EthLikeTokenSwap swap - option `blockchainName` not defined')\r\n    }\r\n    if (!options.name) {\r\n      throw new Error('EthLikeTokenSwap: \"name\" required')\r\n    }\r\n    const ticker = `{${options.blockchainName.toUpperCase()}}${options.name.toUpperCase()}`\r\n    if (!Object.values(constants.COINS).includes(ticker)) {\r\n      throw new Error('EthLikeTokenSwap: \"ticker\" should be correct')\r\n    }\r\n    if (typeof options.address !== 'string') {\r\n      throw new Error('EthLikeTokenSwap: \"address\" required')\r\n    }\r\n    if (typeof options.decimals !== 'number') {\r\n      throw new Error('EthLikeTokenSwap: \"decimals\" required')\r\n    }\r\n    if (!Array.isArray(options.abi)) {\r\n      throw new Error('EthLikeTokenSwap: \"abi\" required')\r\n    }\r\n    if (typeof options.tokenAddress !== 'string') {\r\n      throw new Error('EthLikeTokenSwap: \"tokenAddress\" required')\r\n    }\r\n    if (!Array.isArray(options.tokenAbi)) {\r\n      throw new Error('EthLikeTokenSwap: \"tokenAbi\" required')\r\n    }\r\n    if (options.getWeb3Adapter === undefined) {\r\n      throw new Error(`EthLikeTokenSwap ${options.blockchainName}: option 'getWeb3Adapter' not defined`)\r\n    }\r\n    if (options.getWeb3Utils === undefined) {\r\n      throw new Error(`EthLikeTokenSwap ${options.blockchainName}: option 'getWeb3Utils' not defined`)\r\n    }\r\n    if (options.getMyAddress === undefined) {\r\n      throw new Error(`EthLikeTokenSwap ${options.blockchainName}: option 'getMyAddress' not defined`)\r\n    }\r\n    if (options.getParticipantAddress === undefined) {\r\n      throw new Error(`EthLikeTokenSwap ${options.blockchainName}: option 'getParticipantAddress' not defined`)\r\n    }\r\n    if (typeof options.estimateGasPrice !== 'function') {\r\n      // ({ speed } = {}) => gasPrice\r\n      console.warn(`EthLikeTokenSwap: \"estimateGasPrice\" is not a function. You will not be able use automatic mempool-based fee`)\r\n    }\r\n\r\n\r\n    this.options        = options\r\n    this._swapName      = options.name.toUpperCase()\r\n    this.blockchainName = options.blockchainName\r\n\r\n    this.address        = options.address\r\n    this.abi            = options.abi\r\n    this.decimals       = options.decimals\r\n    this.tokenAddress   = options.tokenAddress\r\n    this.tokenAbi       = options.tokenAbi\r\n\r\n    this.gasLimit       = options.gasLimit || 5e5\r\n    this.gasLimitReserve = options.gasLimitReserve || 1.20 // default +20% of the total estimateGas\r\n    this.gasPrice       = options.gasPrice || 2e9\r\n    this.fetchBalance   = options.fetchBalance\r\n    this.estimateGasPrice = options.estimateGasPrice || (() => {})\r\n\r\n  }\r\n\r\n  _initSwap(app) {\r\n    super._initSwap(app)\r\n\r\n    this.app = app\r\n    if (typeof this.app[this.options.getWeb3Adapter] !== 'function') {\r\n      throw new Error(`EthLikeTokenSwap ${this.blockchainName}: SwapApp function '${this.options.getWeb3Adapter}' not defined`)\r\n    }\r\n    if (typeof this.app[this.options.getWeb3Utils] !== 'function') {\r\n      throw new Error(`EthLikeTokenSwap ${this.blockchainName}: SwapApp function '${this.options.getWeb3Utils}' not defined`)\r\n    }\r\n    if (typeof this.app[this.options.getMyAddress] !== 'function') {\r\n      throw new Error(`EthLikeTokenSwap ${this.blockchainName}: SwapApp function '${this.options.getMyAddress}' not defined`)\r\n    }\r\n    if (typeof this.app[this.options.getParticipantAddress] !== 'function') {\r\n      throw new Error(`EthLikeTokenSwap ${this.blockchainName}: SwapApp function '${this.options.getParticipantAddress}' not defined`)\r\n    }\r\n \r\n    this.web3adapter = this.app[this.options.getWeb3Adapter].bind(this.app)()\r\n    this.web3utils = this.app[this.options.getWeb3Utils].bind(this.app)()\r\n    this.getMyAddress = this.app[this.options.getMyAddress].bind(this.app)\r\n    this.getParticipantAddress = this.app[this.options.getParticipantAddress].bind(this.app)\r\n\r\n    this.decoder        = new InputDataDecoder(this.abi)\r\n    this.contract       = new this.web3adapter.Contract(this.abi, this.address)\r\n    this.ERC20          = new this.web3adapter.Contract(this.tokenAbi, this.tokenAddress)\r\n  }\r\n\r\n  async updateGasPrice() {\r\n    //@ts-ignore\r\n    debug('gas price before update', this.gasPrice)\r\n\r\n    try {\r\n      this.gasPrice = await this.estimateGasPrice({ speed: 'fast' })\r\n    } catch(err) {\r\n      debug(`EthLikeTokenSwap ${this.blockchainName}: Error with gas update: ${err.message}, using old value gasPrice=${this.gasPrice}`)\r\n    }\r\n    //@ts-ignore\r\n    debug('gas price after update', this.gasPrice)\r\n  }\r\n\r\n  async send(methodName, args, _params = {}, handleTransactionHash) {\r\n    if (typeof this.contract.methods[methodName] !== 'function') {\r\n      throw new Error(`EthLikeTokenSwap.send ${this.blockchainName}: No method ${methodName} in contract`)\r\n    }\r\n\r\n    await this.updateGasPrice()\r\n\r\n    return new Promise(async (resolve, reject) => {\r\n      const params = {\r\n        from: this.getMyAddress(),\r\n        gasPrice: this.gasPrice,\r\n        ..._params,\r\n      }\r\n      //@ts-ignore\r\n      debug(`EthLikeTokenSwap ${this.blockchainName} -> ${methodName} -> params`, params)\r\n\r\n      let gasAmount = await this.contract.methods[methodName](...args).estimateGas(params)\r\n      params['gas'] = new BigNumber(gasAmount).multipliedBy(this.gasLimitReserve).dp(0, BigNumber.ROUND_UP).toNumber() || this.gasLimit\r\n      //@ts-ignore\r\n      debug(`EthLikeTokenSwap $[this.blockchainName} -> ${methodName} -> gas`, gasAmount)\r\n      const receipt = await this.contract.methods[methodName](...args).send(params)\r\n        .on('transactionHash', (hash) => {\r\n          if (typeof handleTransactionHash === 'function') {\r\n            handleTransactionHash(hash)\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          reject({ message: error.message, gasAmount: new BigNumber(gasAmount).dividedBy(1e8).toString() })\r\n        })\r\n\r\n      resolve(receipt)\r\n    })\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {BigNumber} data.amount\r\n   * @param {function} handleTransactionHash\r\n   * @returns {Promise}\r\n   */\r\n  //@ts-ignore: strictNullChecks\r\n  async approve(data, handleTransactionHash: Function = null) {\r\n    const { amount } = data\r\n\r\n    const exp = new BigNumber(10).pow(this.decimals)\r\n    const newAmount = new BigNumber(amount).times(exp).toString()\r\n\r\n    await this.updateGasPrice()\r\n\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        const params = {\r\n          from: this.getMyAddress(),\r\n          gasPrice: this.gasPrice,\r\n        }\r\n\r\n        const gasAmount = await this.ERC20.methods.approve(this.address, newAmount).estimateGas(params)\r\n        params['gas'] = new BigNumber(gasAmount).multipliedBy(this.gasLimitReserve).dp(0, BigNumber.ROUND_UP).toNumber() || this.gasLimit\r\n\r\n        //@ts-ignore\r\n        debug(`EthLikeTokenSwap ${this.blockchainName} -> approve -> params`, params)\r\n\r\n        const result = await this.ERC20.methods.approve(this.address, newAmount).send(params)\r\n          .on('transactionHash', (hash) => {\r\n            if (typeof handleTransactionHash === 'function') {\r\n              handleTransactionHash(hash)\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            reject({ message: error.message, gasAmount: new BigNumber(gasAmount).dividedBy(1e8).toString() })\r\n          })\r\n\r\n        resolve(result)\r\n      }\r\n      catch (err) {\r\n        reject(err)\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.spender\r\n   * @returns {Promise}\r\n   */\r\n  checkAllowance(data): Promise<number> {\r\n    const { owner } = data\r\n\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        const result = await this.ERC20.methods.allowance(owner, this.address).call({\r\n          from: this.getMyAddress(),\r\n        })\r\n\r\n        resolve(result)\r\n      }\r\n      catch (err) {\r\n        reject(err)\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.secretHash\r\n   * @param {string} data.participantAddress\r\n   * @param {BigNumber} data.amount\r\n   * @param {function} handleTransactionHash\r\n   * @returns {Promise}\r\n   */\r\n  async create(data, handleTransactionHash) {\r\n    if (\r\n      data.targetWallet\r\n      && (\r\n        (data.targetWallet!==data.participantAddress)\r\n        ||\r\n        data.useTargetWallet\r\n      )\r\n      && this.hasTargetWallet()\r\n    ) {\r\n      return this.createSwapTarget(data, handleTransactionHash)\r\n    } else {\r\n      return this.createSwap(data, handleTransactionHash)\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.secretHash\r\n   * @param {string} data.participantAddress\r\n   * @param {BigNumber} data.amount\r\n   * @param {function} handleTransactionHash\r\n   * @returns {Promise}\r\n   */\r\n  async createSwap(data, handleTransactionHash) {\r\n    const { secretHash, participantAddress, amount } = data\r\n\r\n    const exp = new BigNumber(10).pow(this.decimals)\r\n    const newAmount = new BigNumber(amount).times(exp).toString()\r\n\r\n    const hash = `0x${secretHash.replace(/^0x/, '')}`\r\n    const args = [ hash, participantAddress, newAmount, this.tokenAddress ]\r\n\r\n    return this.send('createSwap', [...args], {}, handleTransactionHash)\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.secretHash\r\n   * @param {string} data.participantAddress\r\n   * @param {BigNumber} data.amount\r\n   * @param {function} handleTransactionHash\r\n   * @returns {Promise}\r\n   */\r\n  async createSwapTarget(data, handleTransactionHash) {\r\n    const { secretHash, participantAddress, amount, targetWallet } = data\r\n\r\n    const exp = new BigNumber(10).pow(this.decimals)\r\n    const newAmount = new BigNumber(amount).times(exp).toString()\r\n\r\n    const hash = `0x${secretHash.replace(/^0x/, '')}`\r\n    const args = [ hash, participantAddress, targetWallet, newAmount, this.tokenAddress ]\r\n\r\n    return this.send('createSwapTarget', [...args], {}, handleTransactionHash)\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.ownerAddress\r\n   * @param {string} data.participantAddress\r\n   * @returns {Promise}\r\n   */\r\n  swaps(data) {\r\n    const { ownerAddress, participantAddress } = data\r\n\r\n    return this.contract.methods.swaps(ownerAddress, participantAddress).call()\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.ownerAddress\r\n   * @param {string} data.participantAddress\r\n   * @returns {Promise}\r\n   */\r\n  async checkSwapExists(data) {\r\n    const swap = await this.swaps(data)\r\n    //@ts-ignore\r\n    debug('swapExists', swap)\r\n\r\n    const balance = swap && swap.balance ? parseInt(swap.balance) : 0\r\n\r\n    return balance > 0\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.ownerAddress\r\n   * @returns {Promise}\r\n   */\r\n  getBalance(data) {\r\n    const { ownerAddress } = data\r\n\r\n    return this.contract.methods.getBalance(ownerAddress).call({\r\n      from: this.getMyAddress(),\r\n    })\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.ownerAddress\r\n   * @param {BigNumber} data.expectedValue\r\n   * @returns {Promise.<string>}\r\n   */\r\n  async checkBalance(data) {\r\n    const { ownerAddress, participantAddress, expectedValue, expectedHash } = data\r\n\r\n    const balance = await util.helpers.repeatAsyncUntilResult(() =>\r\n      this.getBalance({ ownerAddress })\r\n    )\r\n    const swap = await util.helpers.repeatAsyncUntilResult(() =>\r\n      this.contract.methods.swaps(ownerAddress, participantAddress).call()\r\n    )\r\n    //@ts-ignore\r\n    const { secretHash } = swap\r\n    debug('swap.core:swaps')(`swap.secretHash`, secretHash)\r\n\r\n    const _secretHash = `${secretHash.replace(/^0x/, '')}`\r\n\r\n    debug('swap.core:swaps')(`secretHash: expected hash = ${expectedHash}, contract hash = ${_secretHash}`)\r\n\r\n    if (expectedHash !== _secretHash) {\r\n      return `Expected hash: ${expectedHash}, got: ${_secretHash}`\r\n    }\r\n\r\n    const expectedValueWei = new BigNumber(expectedValue).multipliedBy(this.decimals)\r\n\r\n    if (expectedValueWei.isGreaterThan(balance)) {\r\n      return `Expected value: ${expectedValueWei.toString()}, got: ${balance}`\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   *\r\n   * @returns {Promise}\r\n   */\r\n  async fetchSwapEvents() {\r\n    if (this._allSwapEvents) return this._allSwapEvents\r\n\r\n    const allSwapEvents = await this.contract.getPastEvents('allEvents', {\r\n      fromBlock: 0,\r\n      toBlock: 'latest',\r\n    })\r\n\r\n    this.contract.events.allEvents({ fromBlock: 0, toBlock: 'latest' })\r\n      .on('data', event => {\r\n        this._allSwapEvents.push(event)\r\n      })\r\n      .on('changed', (event) => {\r\n        console.error(`EthTokenSwap: fetchEvents: needs rescan`)\r\n        this._allSwapEvents = null\r\n      })\r\n      .on('error', err => {\r\n        console.error(err)\r\n        this._allSwapEvents = null\r\n      })\r\n\r\n    this._allSwapEvents = allSwapEvents\r\n\r\n    return allSwapEvents\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.secretHash\r\n   * @returns {Promise}\r\n   */\r\n  async findSwap(data) {\r\n    const { secretHash } = data\r\n\r\n    const allSwapEvents = await this.fetchSwapEvents()\r\n\r\n    const swapEvents = allSwapEvents\r\n      .filter(({ returnValues }) => returnValues._secretHash === `0x${secretHash.replace('0x','')}`)\r\n\r\n    const [ create, close, ...rest ] = swapEvents\r\n\r\n    if (rest && rest.length) {\r\n      console.error(`More than two swaps with same hash`, rest)\r\n      // throw new Error(`More than two swaps with same hash`)\r\n    }\r\n\r\n    return [ create, close ]\r\n  }\r\n\r\n  /**\r\n    *\r\n    * @param {object} data\r\n    * @param {string} data.secretHash\r\n    * @returns {Promise(status)}\r\n    */\r\n\r\n  async wasClosed(data) {\r\n    const [ create, close ] = await this.findSwap(data)\r\n\r\n    if (!create) {\r\n      debug(`No swap with hash ${data.secretHash}`)\r\n      return 'no swap'\r\n    } else if (create && !close) {\r\n      debug(`Open yet!`)\r\n      return 'open'\r\n    } else {\r\n      if (close.event == 'Withdraw') {\r\n        debug(`Withdrawn`)\r\n        return 'withdrawn'\r\n      } else if (close.event == 'Refund') {\r\n        debug(`Refund`)\r\n        return 'refunded'\r\n      } else {\r\n        debug(`Unknown event, error`)\r\n        return 'error'\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.secretHash\r\n   * @returns {Promise(boolean)}\r\n   */\r\n  wasRefunded(data) {\r\n    return this.wasClosed(data)\r\n      .then((status) =>\r\n        status === 'refunded'\r\n      )\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.secretHash\r\n   * @returns {Promise(boolean)}\r\n   */\r\n  async wasWithdrawn(data) {\r\n    const status = await this.wasClosed(data)\r\n    return status === 'withdrawn'\r\n  }\r\n\r\n\r\n  /**\r\n   * @param {object} data\r\n   * @param {string} data.ownerAddress\r\n   * @param {string} tokenAddress\r\n   */\r\n  async checkTokenIsValid(data) {\r\n    const { ownerAddress, participantAddress } = data\r\n\r\n    const swap = await util.helpers.repeatAsyncUntilResult(() => \r\n      this.contract.methods.swaps(ownerAddress, participantAddress).call()\r\n    )\r\n\r\n    const { token } = swap\r\n\r\n    debug('swap.core:swaps')(`Token address at swap contract: ${token.toUpperCase()}`);\r\n\r\n    return (this.tokenAddress.toUpperCase() == token.toUpperCase())\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @returns {boolean}\r\n   */\r\n  hasTargetWallet() {\r\n    return !!this.contract.methods.getTargetWallet\r\n  }\r\n\r\n\r\n  /**\r\n   *\r\n   * @param {string} ownerAddress\r\n   * @returns {Promise.<string>}\r\n   */\r\n  async getTargetWallet(ownerAddress: string): Promise<string> {\r\n    let address: string = await util.helpers.repeatAsyncUntilResult(() =>\r\n      this.getTargetWalletPromise(ownerAddress)\r\n    )\r\n    return address\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {string} ownerAddress\r\n   * @returns {string}\r\n   */\r\n  async getTargetWalletPromise(ownerAddress) {\r\n    debug('swap.core:swaps')('EthTokenSwap->getTargetWallet');\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        const targetWallet = await this.contract.methods.getTargetWallet(ownerAddress).call({\r\n          from: this.getMyAddress(),\r\n        })\r\n        debug('swap.core:swaps')('EthTokenSwap->getTargetWallet',targetWallet);\r\n\r\n        resolve(targetWallet)\r\n      }\r\n      catch (err) {\r\n        reject(err)\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.secret\r\n   * @param {string} data.ownerAddress\r\n   * @param {function} handleTransactionHash\r\n   * @returns {Promise}\r\n   */\r\n  async calcWithdrawGas(data) {\r\n    return this.calcWithdrawOtherGas({\r\n      ownerAddress: data.ownerAddress,\r\n      participantAddress: this.getMyAddress(),\r\n      secret: data.secret,\r\n    })\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.secret\r\n   * @param {string} data.ownerAddress\r\n   * @param {function} handleTransactionHash\r\n   * @returns {Promise}\r\n   */\r\n  async withdraw(data, handleTransactionHash) {\r\n    return this.withdrawOther({\r\n      ownerAddress: data.ownerAddress,\r\n      participantAddress: this.getMyAddress(),\r\n      secret: data.secret,\r\n    } , handleTransactionHash)\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.secret\r\n   * @param {string} data.participantAddress\r\n   * @returns {Promise}\r\n   */\r\n  async calcWithdrawNoMoneyGas(data) {\r\n    return this.calcWithdrawOtherGas({\r\n      ownerAddress: this.getMyAddress(),\r\n      participantAddress: data.participantAddress,\r\n      secret: data.secret,\r\n    })\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.secret\r\n   * @param {string} data.participantAddress\r\n   * @param {function} handleTransactionHash\r\n   * @returns {Promise}\r\n   */\r\n  async withdrawNoMoney(data, handleTransactionHash) {\r\n    return this.withdrawOther({\r\n      ownerAddress: this.getMyAddress(),\r\n      participantAddress: data.participantAddress,\r\n      secret: data.secret,\r\n    }, handleTransactionHash)\r\n  }\r\n\r\n  async calcWithdrawOtherGas(data) {\r\n    const { ownerAddress, participantAddress, secret } = data\r\n\r\n    await this.updateGasPrice()\r\n\r\n    return new Promise(async (resolve, reject) => {\r\n      const _secret = `0x${secret.replace(/^0x/, '')}`\r\n\r\n      const params = {\r\n        from: this.getMyAddress(),\r\n        gasPrice: this.gasPrice,\r\n      }\r\n\r\n      try {\r\n        const gasAmount = await this.contract.methods.withdrawOther(_secret, ownerAddress, participantAddress).estimateGas(params)\r\n        resolve(new BigNumber(gasAmount).multipliedBy(this.gasLimitReserve).dp(0, BigNumber.ROUND_UP).toNumber())\r\n      }\r\n      catch (err) {\r\n        console.error('calcWithdrawOtherGas', err)\r\n        resolve(this.gasLimit)\r\n      }\r\n    })\r\n  }\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.secret\r\n   * @param {string} data.ownerAddress\r\n   * @param {string} data.participantAddress\r\n   * @param {function} handleTransactionHash\r\n   * @returns {Promise}\r\n   */\r\n  async withdrawOther(data, handleTransactionHash) {\r\n    const { ownerAddress, participantAddress, secret } = data\r\n\r\n    const _secret = `0x${secret.replace(/^0x/, '')}`\r\n\r\n    await this.updateGasPrice()\r\n\r\n    return this.send('withdrawOther', [ _secret, ownerAddress, participantAddress ], {}, handleTransactionHash)\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.participantAddress\r\n   * @param {function} handleTransactionHash\r\n   * @returns {Promise}\r\n   */\r\n  async refund(data, handleTransactionHash?: Function) {\r\n    const { participantAddress } = data\r\n\r\n    await this.updateGasPrice()\r\n\r\n    return this.send('refund', [ participantAddress ], {}, handleTransactionHash)\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {object} data\r\n   * @param {string} data.participantAddress\r\n   * @returns {Promise}\r\n   */\r\n  getSecret(data) {\r\n    const { participantAddress } = data\r\n\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        const secret = await this.contract.methods.getSecret(participantAddress).call({\r\n          from: this.getMyAddress(),\r\n        })\r\n\r\n        const secretValue = secret && !/^0x0+$/.test(secret) ? secret : null\r\n\r\n        resolve(secretValue)\r\n      }\r\n      catch (err) {\r\n        reject(err)\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  /**\r\n   *\r\n   * @param {string} transactionHash\r\n   * @returns {Promise<any>}\r\n   */\r\n  getSecretFromTxhash = (transactionHash) =>\r\n    this.web3adapter.getTransaction(transactionHash)\r\n      .then(txResult => {\r\n        try {\r\n          const bytes32 = this.decoder.decodeData(txResult.input)\r\n          return this.web3utils.bytesToHex(bytes32.inputs[0]).split('0x')[1]\r\n        } catch (err) {\r\n          debug('swap.core:swaps')('Trying to fetch secret from tx: ' + err.message)\r\n          return\r\n        }\r\n      })\r\n\r\n\r\n  async fundERC20Contract({\r\n    flow,\r\n    useTargetWallet,\r\n  }: {\r\n    flow: any,\r\n    useTargetWallet?: boolean,\r\n  }) {\r\n    const abClass = this\r\n    const {\r\n      participant,\r\n      buyAmount,\r\n      sellAmount,\r\n      waitConfirm,\r\n    } = flow.swap\r\n\r\n    const { secretHash } = flow.state\r\n\r\n    const swapData = {\r\n      participantAddress: abClass.getParticipantAddress(flow.swap),\r\n      secretHash,\r\n      amount: sellAmount,\r\n      targetWallet: (flow.swap.destinationSellAddress)\r\n        ? flow.swap.destinationSellAddress\r\n        : abClass.getParticipantAddress(flow.swap),\r\n      useTargetWallet,\r\n      calcFee: true,\r\n    }\r\n\r\n    // TODO fee after allowance\r\n    // EthTokenSwap -> approve need gas too\r\n    /* calc create contract fee and save this */\r\n    /*\r\n    flow.setState({\r\n      createSwapFee: await flow.ethTokenSwap.create(swapData),\r\n    })\r\n    */\r\n    swapData.calcFee = false\r\n    //debug('swap.core:flow')('create swap fee', flow.state.createSwapFee)\r\n\r\n    const tryCreateSwap = async () => {\r\n      const { isEthContractFunded } = flow.state\r\n\r\n      if (!isEthContractFunded) {\r\n        try {\r\n          debug('swap.core:flow')('fetching allowance')\r\n\r\n          const allowance = await abClass.checkAllowance({\r\n            owner: abClass.getMyAddress(),\r\n          })\r\n\r\n          const allowanceAmount = new BigNumber(allowance)\r\n            .dp(0, BigNumber.ROUND_UP)\r\n            .div(new BigNumber(10).pow(this.decimals))\r\n\r\n          debug('swap.core:flow')('allowance', allowance)\r\n\r\n          if (allowanceAmount.isLessThan(sellAmount)) {\r\n            debug('swap.core:flow')('allowanceAmount < sellAmount', allowanceAmount.toNumber(), sellAmount)\r\n            await abClass.approve({\r\n              amount: sellAmount,\r\n            })\r\n          }\r\n\r\n          debug('swap.core:flow')('check swap exists')\r\n          const swapExists = await flow._checkSwapAlreadyExists()\r\n          if (swapExists) {\r\n            console.warn('Swap exists!! May be stucked. Try refund')\r\n            await abClass.refund({\r\n              participantAddress: abClass.getParticipantAddress(flow.swap),\r\n            }, (refundTx) => {\r\n              debug('swap.core:flow')('Stucked swap refunded', refundTx)\r\n            })\r\n          }\r\n          await abClass.create(swapData, async (hash) => {\r\n            debug('swap.core:flow')('create swap tx hash', hash)\r\n            flow.swap.room.sendMessage({\r\n              event: 'create eth contract',\r\n              data: {\r\n                ethSwapCreationTransactionHash: hash,\r\n              },\r\n            })\r\n\r\n            flow.swap.room.on('request eth contract', () => {\r\n              flow.swap.room.sendMessage({\r\n                event: 'create eth contract',\r\n                data: {\r\n                  ethSwapCreationTransactionHash: hash,\r\n                },\r\n              })\r\n            })\r\n\r\n            flow.setState({\r\n              ethSwapCreationTransactionHash: hash,\r\n              canCreateEthTransaction: true,\r\n              isFailedTransaction: false,\r\n            }, true)\r\n\r\n            debug('swap.core:flow')('created swap!', hash)\r\n          })\r\n\r\n        } catch (error) {\r\n          if (flow.state.ethSwapCreationTransactionHash) {\r\n            console.error('fail create swap, but tx already exists')\r\n            flow.setState({\r\n              canCreateEthTransaction: true,\r\n              isFailedTransaction: false,\r\n            }, true)\r\n            return true\r\n          }\r\n          const { message, gasAmount } = error\r\n\r\n          if ( /insufficient funds/.test(message) ) {\r\n            console.error(`Insufficient ETH for gas: ${gasAmount} ETH needed`)\r\n\r\n            flow.setState({\r\n              canCreateEthTransaction: false,\r\n              gasAmountNeeded: gasAmount,\r\n            })\r\n\r\n            return null\r\n          } else if ( /known transaction/.test(message) ) {\r\n            console.error(`known tx: ${message}`)\r\n          } else if ( /out of gas/.test(message) ) {\r\n            console.error(`tx failed (wrong secret?): ${message}`)\r\n          } else if ( /always failing transaction/.test(message) ) {\r\n            console.error(`Insufficient Token for transaction: ${message}`)\r\n          } else if ( /Failed to check for transaction receipt/.test(message) ) {\r\n            console.error(error)\r\n          } else if ( /replacement transaction underpriced/.test(message) ) {\r\n            console.error(error)\r\n          } else {\r\n            console.error(error)\r\n          }\r\n\r\n          flow.setState({\r\n            isFailedTransaction: true,\r\n            isFailedTransactionError: error.message,\r\n          })\r\n\r\n          return null\r\n        }\r\n      }\r\n\r\n      return true\r\n    }\r\n\r\n    const isEthContractFunded = await util.helpers.repeatAsyncUntilResult(() =>\r\n      tryCreateSwap(),\r\n    )\r\n\r\n    const { isStoppedSwap } = flow.state\r\n\r\n    if (isEthContractFunded && !isStoppedSwap) {\r\n      debug('swap.core:flow')(`finish step`)\r\n      flow.finishStep({\r\n        isEthContractFunded,\r\n      }, {step: 'lock-eth'})\r\n    }\r\n  }\r\n\r\n\r\n  async getSecretFromContract({\r\n    flow,\r\n  }: {\r\n    flow: any,\r\n  }) {\r\n    const abClass = this\r\n\r\n    flow.swap.room.once('ethWithdrawTxHash', async ({ethSwapWithdrawTransactionHash}) => {\r\n      flow.setState({\r\n        ethSwapWithdrawTransactionHash,\r\n      }, true)\r\n\r\n      const secretFromTxhash = await util.helpers.extractSecretFromTx({\r\n        flow,\r\n        swapFlow: flow.ethTokenSwap,\r\n        app: flow.app,\r\n        ethSwapWithdrawTransactionHash,\r\n      })\r\n\r\n      const { isEthWithdrawn } = flow.state\r\n\r\n      if (!isEthWithdrawn && secretFromTxhash) {\r\n        debug('swap.core:flow')('got secret from tx', ethSwapWithdrawTransactionHash, secretFromTxhash)\r\n        flow.finishStep({\r\n          isEthWithdrawn: true,\r\n          secret: secretFromTxhash,\r\n        }, {step: 'wait-withdraw-eth'})\r\n      }\r\n    })\r\n\r\n    flow.swap.room.sendMessage({\r\n      event: 'request ethWithdrawTxHash',\r\n    })\r\n\r\n    const { participant } = flow.swap\r\n\r\n    const checkSecretExist = async () => {\r\n      return await util.helpers.extractSecretFromContract({\r\n        flow,\r\n        swapFlow: abClass,\r\n        participantAddress: flow.getParticipantAddress(flow.swap),\r\n        ownerAddress: flow.getMyAddress(),\r\n        app: flow.app,\r\n      })\r\n    }\r\n\r\n    const secretFromContract = await util.helpers.repeatAsyncUntilResult((stopRepeat) => {\r\n      const { isEthWithdrawn, isRefunded } = flow.state\r\n\r\n      if (isEthWithdrawn || isRefunded) {\r\n        stopRepeat()\r\n\r\n        return false\r\n      }\r\n\r\n      return checkSecretExist()\r\n    })\r\n\r\n    const { isEthWithdrawn } = flow.state\r\n\r\n    if (secretFromContract && !isEthWithdrawn) {\r\n      debug('swap.core:flow')('got secret from smart contract', secretFromContract)\r\n\r\n      flow.finishStep({\r\n        isEthWithdrawn: true,\r\n        secret: secretFromContract,\r\n      }, { step: 'wait-withdraw-eth' })\r\n    }\r\n  }\r\n\r\n\r\n  async waitAB2UTXOContract({\r\n    flow,\r\n    utxoCoin,\r\n  }: {\r\n    flow: any,\r\n    utxoCoin: string,\r\n  }) {\r\n    const abClass = this\r\n\r\n    flow.swap.room.sendMessage({\r\n      event: 'request eth contract',\r\n    })\r\n\r\n    flow.swap.room.once(`request ${utxoCoin} script`, () => {\r\n      const {\r\n        utxoScriptValues: scriptValues,\r\n        utxoScriptCreatingTransactionHash: txHash,\r\n      } = flow.state\r\n\r\n      flow.swap.room.sendMessage({\r\n        event:  `create ${utxoCoin} script`,\r\n        data: {\r\n          scriptValues,\r\n          utxoScriptCreatingTransactionHash: txHash,\r\n        }\r\n      })\r\n    })\r\n\r\n    const { participant } = flow.swap\r\n\r\n    flow.swap.room.on('create eth contract', ({ ethSwapCreationTransactionHash }) => {\r\n      flow.setState({\r\n        ethSwapCreationTransactionHash,\r\n      }, true)\r\n    })\r\n\r\n    const isContractBalanceOk = await this.isContractFunded(flow)\r\n\r\n    if (isContractBalanceOk) {\r\n      const { isEthContractFunded } = flow.state\r\n\r\n      if (!isEthContractFunded) {\r\n        flow.finishStep({\r\n          isEthContractFunded: true,\r\n        }, { step: 'wait-lock-eth' })\r\n      }\r\n    }\r\n  }\r\n\r\n  async withdrawFromABContract({\r\n    flow,\r\n  }: {\r\n    flow: any,\r\n  }) {\r\n    const abClass = this\r\n    const { buyAmount, participant } = flow.swap\r\n    const { secretHash, secret } = flow.state\r\n\r\n    const data = {\r\n      ownerAddress: flow.getParticipantAddress(flow.swap),\r\n      secret,\r\n    }\r\n\r\n    const balanceCheckError = await abClass.checkBalance({\r\n      ownerAddress: flow.getParticipantAddress(flow.swap),\r\n      participantAddress: flow.getMyAddress(),\r\n      expectedValue: buyAmount,\r\n      expectedHash: secretHash,\r\n    })\r\n\r\n    if (balanceCheckError) {\r\n      console.error('Waiting until deposit: ETH balance check error:', balanceCheckError)\r\n      flow.swap.events.dispatch('eth balance check error', balanceCheckError)\r\n\r\n      return\r\n    }\r\n\r\n    if (abClass.hasTargetWallet()) {\r\n      const targetWallet = await abClass.getTargetWallet(\r\n        flow.getParticipantAddress(flow.swap)\r\n      )\r\n      const needTargetWallet = (flow.swap.destinationBuyAddress)\r\n        ? flow.swap.destinationBuyAddress\r\n        : flow.getMyAddress()\r\n\r\n      if (targetWallet.toLowerCase() != needTargetWallet.toLowerCase()) {\r\n        console.error(\r\n          \"Destination address for tokens dismatch with needed (Needed, Getted). Stop swap now!\",\r\n          needTargetWallet,\r\n          targetWallet,\r\n        )\r\n\r\n        flow.swap.events.dispatch('address for tokens invalid', {\r\n          needed: needTargetWallet,\r\n          getted: targetWallet,\r\n        })\r\n\r\n        return\r\n      }\r\n    }\r\n\r\n    const tokenAddressIsValid = await abClass.checkTokenIsValid({\r\n      ownerAddress: flow.getParticipantAddress(flow.swap),\r\n      participantAddress: flow.getMyAddress(),\r\n    })\r\n\r\n    if (!tokenAddressIsValid) {\r\n      console.error(\"Tokens, blocked at contract dismatch with needed. Stop swap now!\")\r\n      return\r\n    }\r\n\r\n    const onWithdrawReady = () => {\r\n      flow.swap.room.once('request ethWithdrawTxHash', () => {\r\n        const { ethSwapWithdrawTransactionHash } = flow.state\r\n\r\n        flow.swap.room.sendMessage({\r\n          event: 'ethWithdrawTxHash',\r\n          data: {\r\n            ethSwapWithdrawTransactionHash,\r\n          },\r\n        })\r\n      })\r\n\r\n      const { step } = flow.state\r\n\r\n      if (step >= 7) {\r\n        return\r\n      }\r\n\r\n      flow.finishStep({\r\n        isEthWithdrawn: true,\r\n      }, 'withdraw-eth')\r\n    }\r\n\r\n    const tryWithdraw = async (stopRepeater) => {\r\n      const { isEthWithdrawn } = flow.state\r\n\r\n      if (!isEthWithdrawn) {\r\n        try {\r\n          const { withdrawFee } = flow.state\r\n\r\n          if (!withdrawFee) {\r\n            const withdrawNeededGas = await abClass.calcWithdrawGas({\r\n              ownerAddress: data.ownerAddress,\r\n              secret,\r\n            })\r\n            flow.setState({\r\n              withdrawFee: withdrawNeededGas,\r\n            })\r\n            debug('swap.core:flow')('withdraw gas fee', withdrawNeededGas)\r\n          }\r\n\r\n          await abClass.withdraw(data, (hash) => {\r\n            flow.setState({\r\n              isEthWithdrawn: true,\r\n              ethSwapWithdrawTransactionHash: hash,\r\n              canCreateEthTransaction: true,\r\n              requireWithdrawFee: false,\r\n            }, true)\r\n\r\n            flow.swap.room.sendMessage({\r\n              event: 'ethWithdrawTxHash',\r\n              data: {\r\n                ethSwapWithdrawTransactionHash: hash,\r\n              }\r\n            })\r\n          })\r\n\r\n          stopRepeater()\r\n          return true\r\n        } catch (err) {\r\n          if ( /known transaction/.test(err.message) ) {\r\n            console.error(`known tx: ${err.message}`)\r\n            stopRepeater()\r\n            return true\r\n          } else if ( /out of gas/.test(err.message) ) {\r\n            console.error(`tx failed (wrong secret?): ${err.message}`)\r\n          } else if ( /insufficient funds for gas/.test(err.message) ) {\r\n            console.error(`insufficient fund for gas: ${err.message}`)\r\n\r\n            debug('swap.core:flow')('insufficient fund for gas... wait fund or request other side to withdraw')\r\n\r\n            const { requireWithdrawFee } = flow.state\r\n\r\n            if (!requireWithdrawFee) {\r\n              flow.swap.room.once('withdraw ready', ({ethSwapWithdrawTransactionHash}) => {\r\n                flow.setState({\r\n                  ethSwapWithdrawTransactionHash,\r\n                })\r\n\r\n                onWithdrawReady()\r\n              })\r\n\r\n              flow.setState({\r\n                requireWithdrawFee: true,\r\n              })\r\n            }\r\n\r\n          } else {\r\n            console.error(err)\r\n          }\r\n\r\n          flow.setState({\r\n            canCreateEthTransaction: false,\r\n          })\r\n\r\n          return null\r\n        }\r\n      }\r\n\r\n      return true\r\n    }\r\n\r\n    const isEthWithdrawn = await util.helpers.repeatAsyncUntilResult((stopRepeater) =>\r\n      tryWithdraw(stopRepeater),\r\n    )\r\n\r\n    if (isEthWithdrawn) {\r\n      onWithdrawReady()\r\n    }\r\n  }\r\n\r\n  async isSwapCreated(data) {\r\n    const {\r\n      ownerAddress,\r\n      participantAddress,\r\n      secretHash,\r\n    } = data\r\n\r\n    const swap = await util.helpers.repeatAsyncUntilResult(() => {\r\n      return this.contract.methods.swaps(ownerAddress, participantAddress).call()\r\n    })\r\n\r\n    return (swap && swap.secretHash && swap.secretHash === `0x${secretHash}`)\r\n  }\r\n\r\n  async isContractFunded(flow) {\r\n    const abClass = this\r\n    const { buyAmount } = flow.swap\r\n\r\n    const isContractBalanceOk = await util.helpers.repeatAsyncUntilResult(async () => {\r\n      const balance = await abClass.getBalance({\r\n        ownerAddress: flow.getParticipantAddress(flow.swap),\r\n      })\r\n\r\n      const exp = new BigNumber(10).pow(abClass.decimals)\r\n      const needContractBalance = new BigNumber(buyAmount).times(exp)\r\n\r\n      debug('swap.core:flow')('Checking contract balance:', balance)\r\n\r\n      if (new BigNumber(balance).isGreaterThanOrEqualTo(needContractBalance)) {\r\n        return true\r\n      } else {\r\n        if (balance > 0) {\r\n          console.warn(`Balance on contract is less than needed. Swap stucked. Contract balance: ${balance} Needed: ${needContractBalance.toString()}`)\r\n        }\r\n      }\r\n\r\n      return false\r\n    })\r\n\r\n    if (isContractBalanceOk) {\r\n      return true\r\n    }\r\n    return false\r\n  }\r\n\r\n  async checkTargetAddress({\r\n    flow,\r\n  }: {\r\n    flow: any\r\n  }) {\r\n    if (this.hasTargetWallet()) {\r\n      const targetWallet = await this.getTargetWallet(\r\n        this.getParticipantAddress(flow.swap)\r\n      )\r\n      const needTargetWallet = (flow.swap.destinationBuyAddress)\r\n        ? flow.swap.destinationBuyAddress\r\n        : this.getMyAddress()\r\n\r\n      if (targetWallet.toLowerCase() === needTargetWallet.toLowerCase()) {\r\n        return true\r\n      }\r\n    }\r\n    return false\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\nexport default EthLikeTokenSwap\r\n","import { constants } from 'swap.app'\r\nimport EthLikeTokenSwap from './EthLikeTokenSwap'\r\n\r\n\r\nclass EthTokenSwap extends EthLikeTokenSwap {\r\n  constructor(options) {\r\n    options = {\r\n      ...options,\r\n      getWeb3Adapter: `getEthWeb3Adapter`,\r\n      getWeb3Utils: `getEthWeb3Utils`,\r\n      getMyAddress: `getMyEthAddress`,\r\n      getParticipantAddress: `getParticipantEthAddress`,\r\n      blockchainName: constants.COINS.eth,\r\n      standard: constants.TOKEN_STANDARD.ERC20.toLowerCase(),\r\n    }\r\n    super(options)\r\n  }\r\n}\r\n\r\n\r\nexport default EthTokenSwap\r\n","import { constants } from 'swap.app'\r\nimport EthLikeTokenSwap from './EthLikeTokenSwap'\r\n\r\n\r\nclass BscTokenSwap extends EthLikeTokenSwap {\r\n  constructor(options) {\r\n    options = {\r\n      ...options,\r\n      getWeb3Adapter: `getBnbWeb3Adapter`,\r\n      getWeb3Utils: `getBnbWeb3Utils`,\r\n      getMyAddress: `getMyBnbAddress`,\r\n      getParticipantAddress: `getParticipantBnbAddress`,\r\n      blockchainName: constants.COINS.bnb,\r\n      standard: constants.TOKEN_STANDARD.BEP20.toLowerCase(),\r\n    }\r\n    super(options)\r\n  }\r\n}\r\n\r\n\r\nexport default BscTokenSwap\r\n","import { constants } from 'swap.app'\r\nimport EthLikeTokenSwap from './EthLikeTokenSwap'\r\n\r\n\r\nclass MaticTokenSwap extends EthLikeTokenSwap {\r\n  constructor(options) {\r\n    options = {\r\n      ...options,\r\n      getWeb3Adapter: `getMaticWeb3Adapter`,\r\n      getWeb3Utils: `getMaticWeb3Utils`,\r\n      getMyAddress: `getMyMaticAddress`,\r\n      getParticipantAddress: `getParticipantMaticAddress`,\r\n      blockchainName: constants.COINS.matic,\r\n      standard: constants.TOKEN_STANDARD.ERC20MATIC.toLowerCase(),\r\n    }\r\n    super(options)\r\n  }\r\n}\r\n\r\n\r\nexport default MaticTokenSwap\r\n","import 'abortcontroller-polyfill/dist/abortcontroller-polyfill-only'\r\nimport * as bitcoin from 'bitcoinjs-lib'\r\nimport * as ghost from 'bitcoinjs-lib'\r\nimport * as next from 'bitcoinjs-lib'\r\n\r\nimport abi from 'human-standard-token-abi'\r\nimport ethLikeHelper from 'common/helpers/ethLikeHelper'\r\nimport EVM_CONTRACTS_ABI from 'common/helpers/constants/EVM_CONTRACTS_ABI'\r\nimport erc20Like from 'common/erc20Like'\r\n\r\nimport config, { initExternalConfig } from 'helpers/externalConfig'\r\n\r\nimport helpers, { constants as privateKeys, utils } from 'helpers'\r\nimport actions from 'redux/actions'\r\n\r\nimport SwapApp, { constants } from 'swap.app'\r\nimport SwapAuth from 'swap.auth'\r\nimport SwapRoom from 'swap.room'\r\nimport SwapOrders from 'swap.orders'\r\nimport {\r\n  TurboMaker,\r\n  TurboTaker,\r\n\r\n  ETH2BTC,\r\n  BTC2ETH,\r\n  ETHTOKEN2BTC,\r\n  BTC2ETHTOKEN,\r\n\r\n  GHOST2ETH,\r\n  ETH2GHOST,\r\n  ETHTOKEN2GHOST,\r\n  GHOST2ETHTOKEN,\r\n  //GHOST2BTC,\r\n  //BTC2GHOST,\r\n\r\n  NEXT2ETH,\r\n  ETH2NEXT,\r\n  ETHTOKEN2NEXT,\r\n  NEXT2ETHTOKEN,\r\n  //NEXT2BTC,\r\n  //BTC2NEXT,\r\n\r\n\r\n  BNB2BTC,\r\n  BTC2BNB,\r\n  BSCTOKEN2BTC,\r\n  BTC2BSCTOKEN,\r\n\r\n  MATIC2BTC,\r\n  BTC2MATIC,\r\n  MATICTOKEN2BTC,\r\n  BTC2MATICTOKEN,\r\n\r\n  ARBITRUM2BTC,\r\n  BTC2ARBITRUM,  \r\n} from 'swap.flows'\r\nimport {\r\n  BtcSwap,\r\n  EthSwap,\r\n  BnbSwap,\r\n  MaticSwap,\r\n  ArbitrumSwap,\r\n  GhostSwap,\r\n  NextSwap,\r\n\r\n  EthTokenSwap,\r\n  BscTokenSwap,\r\n  MaticTokenSwap,\r\n\r\n} from 'swap.swaps'\r\n\r\nimport metamask from 'helpers/metamask'\r\n\r\nimport { default as bitcoinUtils } from '../../../common/utils/coin/btc'\r\nimport { default as nextUtils } from '../../../common/utils/coin/next'\r\n\r\n\r\ninitExternalConfig()\r\n\r\nconst repo = utils.createRepo()\r\nutils.exitListener()\r\n\r\nlet _inited = false\r\n\r\nconst onInit = (cb) => {\r\n  const _wait = () => {\r\n    if (_inited) {\r\n      cb()\r\n    } else {\r\n      setTimeout(_wait, 100)\r\n    }\r\n  }\r\n  _wait()\r\n}\r\n\r\nconst createSwapApp = async () => {\r\n  await metamask.web3connect.onInit(async () => {\r\n    const web3 = actions.eth.getWeb3()\r\n    const NETWORK = process.env.MAINNET ? `MAINNET` : `TESTNET`\r\n\r\n    SwapApp.setup({\r\n      network: process.env.MAINNET ? 'mainnet' : 'testnet',\r\n\r\n      env: {\r\n        web3,\r\n        getWeb3: actions.eth.getWeb3,\r\n        web3bnb: actions.bnb.getWeb3(),\r\n        getWeb3Bnb: actions.bnb.getWeb3,\r\n        web3Matic: actions.matic.getWeb3(),\r\n        getWeb3Matic: actions.matic.getWeb3,\r\n        web3Arbitrum: actions.arbeth.getWeb3(),\r\n        getWeb3Arbitrum: actions.arbeth.getWeb3,\r\n        bitcoin,\r\n        ghost,\r\n        next,\r\n        coininfo: {\r\n          ghost: {\r\n            main: helpers.ghost.networks.mainnet,\r\n            test: helpers.ghost.networks.testnet,\r\n          },\r\n          next: {\r\n            main: helpers.next.networks.mainnet,\r\n            test: helpers.next.networks.mainnet,\r\n          },\r\n        },\r\n        storage: window.localStorage,\r\n        sessionStorage: window.sessionStorage,\r\n        metamask,\r\n        isBinance: !!config.binance,\r\n        isTest: !!config.isTest,\r\n      },\r\n\r\n      // White list (  btc  )\r\n      // whitelistBtc: [],\r\n\r\n      services: [\r\n        new SwapAuth({\r\n          // TODO need init swapApp only after private keys created!!!!!!!!!!!!!!!!!!!\r\n          eth: localStorage.getItem(privateKeys.privateKeyNames.eth),\r\n          // for evm compatible blockchains use eth private key\r\n          bnb: localStorage.getItem(privateKeys.privateKeyNames.eth),\r\n          matic: localStorage.getItem(privateKeys.privateKeyNames.eth),\r\n          arbeth: localStorage.getItem(privateKeys.privateKeyNames.eth),\r\n          btc: localStorage.getItem(privateKeys.privateKeyNames.btc),\r\n          ghost: localStorage.getItem(privateKeys.privateKeyNames.ghost),\r\n          next: localStorage.getItem(privateKeys.privateKeyNames.next),\r\n        }),\r\n        new SwapRoom({\r\n          repo,\r\n          config: {\r\n            Addresses: {\r\n              Swarm: [\r\n                config.pubsubRoom.swarm,\r\n              ],\r\n            },\r\n          },\r\n        }),\r\n        new SwapOrders(),\r\n      ],\r\n      swaps: [\r\n        new EthSwap({\r\n          address: config.swapContract.eth,\r\n          abi: EVM_CONTRACTS_ABI.NATIVE_COIN_SWAP,\r\n          fetchBalance: (address) => actions.eth.fetchBalance(address),\r\n          estimateGasPrice: () => ethLikeHelper.eth.estimateGasPrice(),\r\n          sendTransaction: ({ to, amount }) => actions.eth.send({ to, amount }),\r\n        }),\r\n        new BnbSwap({\r\n          address: config.swapContract.bnb,\r\n          abi: EVM_CONTRACTS_ABI.NATIVE_COIN_SWAP,\r\n          fetchBalance: (address) => actions.bnb.fetchBalance(address),\r\n          estimateGasPrice: () => ethLikeHelper.bnb.estimateGasPrice(),\r\n          sendTransaction: ({ to, amount }) => actions.bnb.send({ to, amount }),\r\n        }),\r\n        ...((config?.opts?.blockchainSwapEnabled?.matic) ? [\r\n          new MaticSwap({\r\n            address: config.swapContract.matic,\r\n            abi: EVM_CONTRACTS_ABI.NATIVE_COIN_SWAP,\r\n            fetchBalance: (address) => actions.matic.fetchBalance(address),\r\n            estimateGasPrice: () => ethLikeHelper.matic.estimateGasPrice(),\r\n            sendTransaction: ({ to, amount }) => actions.matic.send({ to, amount }),\r\n          })\r\n        ] : []),\r\n        ...((config?.opts?.blockchainSwapEnabled?.arbeth) ? [\r\n          new ArbitrumSwap({\r\n            address: config.swapContract.arbitrum,\r\n            abi: EVM_CONTRACTS_ABI.NATIVE_COIN_SWAP,\r\n            fetchBalance: (address) => actions.arbeth.fetchBalance(address),\r\n            estimateGasPrice: () => ethLikeHelper.arbeth.estimateGasPrice(),\r\n            sendTransaction: ({ to, amount }) => actions.arbeth.send({ to, amount }),\r\n          })\r\n        ] : []),\r\n        new BtcSwap({\r\n          fetchBalance: (address) => bitcoinUtils.fetchBalance({\r\n            address,\r\n            NETWORK,\r\n          }),\r\n          fetchUnspents: (address) => bitcoinUtils.fetchUnspents({\r\n            address,\r\n            NETWORK,\r\n          }),\r\n          broadcastTx: (txRaw) => bitcoinUtils.broadcastTx({\r\n            txRaw,\r\n            NETWORK,\r\n          }),\r\n          fetchTxInfo: (hash) => bitcoinUtils.fetchTxInfo({\r\n            hash,\r\n            NETWORK,\r\n          }),\r\n          checkWithdraw: (scriptAddress) => bitcoinUtils.checkWithdraw({\r\n            scriptAddress,\r\n            NETWORK,\r\n          }),\r\n          estimateFeeValue: (options) => bitcoinUtils.estimateFeeValue({\r\n            ...options,\r\n            NETWORK,\r\n          }),\r\n          fetchTxInputScript: (options) => bitcoinUtils.fetchTxInputScript({\r\n            ...options,\r\n            NETWORK,\r\n          }),\r\n          sendTransaction: ({ to, amount }) => actions.btc.sendTransaction({ to, amount }),\r\n        }),\r\n        new GhostSwap({\r\n          fetchBalance: (address) => actions.ghost.fetchBalance(address),\r\n          fetchUnspents: (scriptAddress) => actions.ghost.fetchUnspents(scriptAddress),\r\n          broadcastTx: (txRaw) => actions.ghost.broadcastTx(txRaw),\r\n          fetchTxInfo: (txid) => actions.ghost.fetchTxInfo(txid),\r\n          checkWithdraw: (scriptAddress) => actions.ghost.checkWithdraw(scriptAddress),\r\n          estimateFeeValue: ({ inSatoshis, speed, address, txSize }) => helpers.ghost.estimateFeeValue({ inSatoshis, speed, address, txSize }),\r\n        }),\r\n        new NextSwap({\r\n          fetchBalance: (address) => nextUtils.fetchBalance({\r\n            address,\r\n            NETWORK,\r\n          }),\r\n          fetchUnspents: (address) => nextUtils.fetchUnspents({\r\n            address,\r\n            NETWORK,\r\n          }),\r\n          broadcastTx: (txRaw) => nextUtils.broadcastTx({\r\n            txRaw,\r\n            NETWORK,\r\n          }),\r\n          fetchTxInfo: (hash) => nextUtils.fetchTxInfo({\r\n            hash,\r\n            NETWORK,\r\n          }),\r\n          checkWithdraw: (scriptAddress) => nextUtils.checkWithdraw({\r\n            scriptAddress,\r\n            NETWORK,\r\n          }),\r\n          estimateFeeValue: (options) => nextUtils.estimateFeeValue({\r\n            ...options,\r\n            NETWORK,\r\n          }),\r\n          fetchTxInputScript: (options) => nextUtils.fetchTxInputScript({\r\n            ...options,\r\n            NETWORK,\r\n          }),\r\n        }),\r\n        // Ether\r\n        ...(Object.keys(config.erc20)\r\n          .map(key =>\r\n            new EthTokenSwap({\r\n              name: key,\r\n              tokenAbi: abi,\r\n              address: config.swapContract.erc20,\r\n              //@ts-ignore\r\n              decimals: config.erc20[key].decimals,\r\n              tokenAddress: config.erc20[key].address,\r\n              fetchBalance: (address) => actions.erc20.fetchBalance(address, config.erc20[key].address, config.erc20[key].decimals),\r\n              //@ts-ignore\r\n              estimateGasPrice: ({ speed } = {}) => erc20Like.erc20.estimateGasPrice({ speed }),\r\n              abi: EVM_CONTRACTS_ABI.TOKEN_SWAP,\r\n            })\r\n          )),\r\n        // Binance\r\n        ...(Object.keys(config.bep20)\r\n          .map(key =>\r\n            new BscTokenSwap({\r\n              name: key,\r\n              tokenAbi: abi,\r\n              address: config.swapContract.bep20,\r\n              //@ts-ignore\r\n              decimals: config.bep20[key].decimals,\r\n              tokenAddress: config.bep20[key].address,\r\n              fetchBalance: (address) => actions.bep20.fetchBalance(address, config.bep20[key].address, config.bep20[key].decimals),\r\n              //@ts-ignore\r\n              estimateGasPrice: ({ speed } = {}) => erc20Like.bep20.estimateGasPrice({ speed }),\r\n              abi: EVM_CONTRACTS_ABI.TOKEN_SWAP,\r\n            })\r\n          )),\r\n        // Matic\r\n        ...(Object.keys(config.erc20matic)\r\n        .map(key =>\r\n          new MaticTokenSwap({\r\n            name: key,\r\n            tokenAbi: abi,\r\n            address: config.swapContract.erc20matic,\r\n            //@ts-ignore\r\n            decimals: config.erc20matic[key].decimals,\r\n            tokenAddress: config.erc20matic[key].address,\r\n            fetchBalance: (address) => actions.erc20matic.fetchBalance(address, config.erc20matic[key].address, config.erc20matic[key].decimals),\r\n            //@ts-ignore\r\n            estimateGasPrice: ({ speed } = {}) => erc20Like.erc20matic.estimateGasPrice({ speed }),\r\n            abi: EVM_CONTRACTS_ABI.TOKEN_SWAP,\r\n          })\r\n        )),\r\n      ],\r\n      flows: [\r\n        TurboMaker,\r\n        TurboTaker,\r\n\r\n        ETH2BTC,\r\n        BTC2ETH,\r\n\r\n        BNB2BTC,\r\n        BTC2BNB,\r\n\r\n        ...((config?.opts?.blockchainSwapEnabled?.matic) ? [\r\n          MATIC2BTC,\r\n          BTC2MATIC,\r\n        ] : []),\r\n\r\n        ARBITRUM2BTC,\r\n        BTC2ARBITRUM,\r\n\r\n        // GHOST2BTC,\r\n        // BTC2GHOST,\r\n\r\n        GHOST2ETH,\r\n        ETH2GHOST,\r\n\r\n        //NEXT2BTC,\r\n        //BTC2NEXT,\r\n\r\n        NEXT2ETH,\r\n        ETH2NEXT,\r\n\r\n        ...(Object.keys(config.bep20))\r\n          .map(key => BSCTOKEN2BTC(key)),\r\n        ...(Object.keys(config.bep20))\r\n          .map(key => BTC2BSCTOKEN(key)),\r\n\r\n          ...(Object.keys(config.erc20matic))\r\n          .map(key => MATICTOKEN2BTC(key)),\r\n        ...(Object.keys(config.erc20matic))\r\n          .map(key => BTC2MATICTOKEN(key)),\r\n\r\n        ...(Object.keys(config.erc20))\r\n          .map(key => ETHTOKEN2BTC(key)),\r\n\r\n        ...(Object.keys(config.erc20))\r\n          .map(key => BTC2ETHTOKEN(key)),\r\n\r\n        ...(Object.keys(config.erc20))\r\n          .map(key => ETHTOKEN2GHOST(key)),\r\n\r\n        ...(Object.keys(config.erc20))\r\n          .map(key => GHOST2ETHTOKEN(key)),\r\n\r\n        ...(Object.keys(config.erc20))\r\n          .map(key => ETHTOKEN2NEXT(key)),\r\n\r\n        ...(Object.keys(config.erc20))\r\n          .map(key => NEXT2ETHTOKEN(key)),\r\n\r\n      ],\r\n    }, true)\r\n\r\n\r\n    window.SwapApp = SwapApp.shared()\r\n    _inited = true\r\n  })\r\n}\r\n\r\nexport {\r\n  createSwapApp,\r\n  onInit,\r\n}","import React from 'react'\r\n\r\n\r\nconst BtcScript = ({ recipientPublicKey, secretHash, lockTime, ownerPublicKey }) => (\r\n  <div>\r\n    {`\r\nbitcoinjs.script.compile([\r\n\r\n  this.app.env.bitcoin.opcodes.OP_SIZE,\r\n  Buffer.from('20' ,'hex'),\r\n  this.app.env.bitcoin.opcodes.OP_EQUALVERIFY,\r\n\r\n  bitcoin.core.opcodes.OP_RIPEMD160,\r\n  Buffer.from('${secretHash}', 'hex'),\r\n  bitcoin.core.opcodes.OP_EQUALVERIFY,\r\n\r\n  Buffer.from('${recipientPublicKey}', 'hex'),\r\n  bitcoin.core.opcodes.OP_EQUAL,\r\n  bitcoin.core.opcodes.OP_IF,\r\n\r\n  Buffer.from('${recipientPublicKey}', 'hex'),\r\n\r\n  bitcoin.core.opcodes.OP_ELSE,\r\n\r\n  bitcoin.core.script.number.encode(${lockTime}),\r\n  bitcoin.core.opcodes.OP_CHECKLOCKTIMEVERIFY,\r\n  bitcoin.core.opcodes.OP_DROP,\r\n  Buffer.from('${ownerPublicKey}', 'hex'),\r\n\r\n  bitcoin.core.opcodes.OP_ENDIF,\r\n\r\n  bitcoin.core.opcodes.OP_CHECKSIG,\r\n])\r\n    `}\r\n  </div>\r\n)\r\n\r\nexport default BtcScript\r\n","import React, { Component } from 'react'\r\n\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from '../Swap.scss'\r\n\r\nimport { FormattedMessage } from 'react-intl'\r\n\r\nimport BtcScript from './BtcScript'\r\n\r\n\r\n@CSSModules(styles)\r\nexport default class ShowBtcScript extends Component<any, any> {\r\n  render() {\r\n    const { utxoScriptValues } = this.props\r\n    if (!utxoScriptValues) return null\r\n    return (\r\n      <BtcScript\r\n        secretHash={utxoScriptValues.secretHash}\r\n        recipientPublicKey={utxoScriptValues.recipientPublicKey}\r\n        lockTime={utxoScriptValues.lockTime}\r\n        ownerPublicKey={utxoScriptValues.ownerPublicKey}\r\n      />\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './Debug.scss'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport ShowBtcScript from './ShowBtcScript'\r\n\r\ntype ComponentProps = {\r\n  flow: IUniversalObj\r\n}\r\n\r\n@CSSModules(styles, { allowMultiple: true })\r\nexport default class Debug extends Component<ComponentProps, any> {\r\n  render() {\r\n    const {\r\n      flow: {\r\n        state: flowState,\r\n        state: {\r\n          utxoScriptValues: scriptValues,\r\n        },\r\n      },\r\n    } = this.props\r\n\r\n    return (\r\n      <div styleName=\"debug\">\r\n        <button styleName='button' onClick={() => document.location.href = '#/localStorage'}>\r\n          <FormattedMessage id=\"DebugStoredDataLink\" defaultMessage=\"Show stored data\" />\r\n        </button>\r\n        <h5 styleName='title'>\r\n          <FormattedMessage id=\"DebugSwapDataTitle\" defaultMessage=\"Swap data:\" />\r\n        </h5>\r\n        <pre styleName=\"information\">\r\n          <code>\r\n            <ShowBtcScript btcScriptValues={scriptValues} />\r\n          </code>\r\n        </pre>\r\n        <pre styleName=\"information\">\r\n          <code>{JSON.stringify(flowState, null, 4)}</code>\r\n        </pre>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"debug\":\"ESRVpbYbElaPh8uKotg+Sw==\",\"title\":\"xYXgGGjh7WZamqAUpFo9IA==\",\"button\":\"KSOQ8tGY6QG-1vZHisCLyg==\",\"information\":\"YtG8aGd4zG36-8mJLGDGFA==\"};","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport actions from 'redux/actions'\r\nimport SwapApp from 'swap.app'\r\n\r\n\r\nclass DeleteSwapAfterEnd extends Component<any, any> {\r\n\r\n  static propTypes = {\r\n    swap: PropTypes.shape({\r\n      flow: PropTypes.shape({\r\n        state: PropTypes.shape({\r\n          step: PropTypes.number.isRequired,\r\n          isFinished: PropTypes.bool.isRequired,\r\n        }).isRequired,\r\n      }),\r\n      id: PropTypes.string.isRequired,\r\n    }).isRequired,\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const { swap } = props\r\n\r\n    swap.on('state update', this.autoDeleteOrder)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const { swap } = this.props\r\n    swap.off('state update', this.autoDeleteOrder)\r\n\r\n    this.autoDeleteOrder()\r\n  }\r\n\r\n  autoDeleteOrder = () => {\r\n    const { swap } = this.props\r\n\r\n    if (swap.flow.state.isFinished) {\r\n      //@ts-ignore: strictNullChecks\r\n      const deletedOrder = SwapApp.shared().services.orders.getByKey(swap.id)\r\n      if (deletedOrder !== undefined) {\r\n        actions.core.deletedPartialCurrency(swap.id)\r\n      }\r\n      actions.core.removeOrder(swap.id)\r\n      actions.core.showMyOrders()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return null\r\n  }\r\n}\r\n\r\nexport default DeleteSwapAfterEnd\r\n","\r\nimport React, { PureComponent, Fragment } from 'react'\r\n\r\nimport Swap from 'swap.swap'\r\nimport SwapApp from 'swap.app'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './Swap.scss'\r\n\r\nimport { connect } from 'redaction'\r\nimport helpers, { links, constants, apiLooper } from 'helpers'\r\nimport { isMobile } from 'react-device-detect'\r\nimport actions from 'redux/actions'\r\n\r\nimport { swapComponents } from './swaps'\r\nimport { createSwapApp } from \"instances/newSwap\";\r\nimport Debug from './Debug/Debug'\r\nimport { injectIntl, FormattedMessage } from 'react-intl'\r\nimport { localisedUrl } from 'helpers/locale'\r\nimport DeleteSwapAfterEnd from './DeleteSwapAfterEnd'\r\n\r\nimport feedback from 'shared/helpers/feedback'\r\n\r\n@connect(({\r\n  user: {\r\n    ethData,\r\n    bnbData,\r\n    maticData,\r\n    arbethData,\r\n    btcData,\r\n    ghostData,\r\n    nextData,\r\n    tokensData,\r\n    activeFiat,\r\n  },\r\n  pubsubRoom: { peer },\r\n  rememberedOrders,\r\n}) => {\r\n  const coinsData = [\r\n    ethData,\r\n    bnbData,\r\n    maticData,\r\n    arbethData,\r\n    btcData,\r\n    ghostData,\r\n    nextData,\r\n  ]\r\n\r\n  return {\r\n    activeFiat,\r\n    items: [...coinsData],\r\n    currenciesData: [...coinsData],\r\n    tokensData: [...Object.keys(tokensData).map(k => (tokensData[k]))],\r\n    savedOrders: rememberedOrders.savedOrders,\r\n    peer,\r\n  }\r\n})\r\n\r\n@cssModules(styles, { allowMultiple: true })\r\nclass SwapComponent extends PureComponent<any, any> {\r\n\r\n  wallets: any\r\n  checkingConfirmSuccessTimer: any\r\n  checkingCycleTimer: any\r\n  sendDebugInfoTimer: any\r\n\r\n\r\n\r\n  /*\r\n    ================================================================\r\n    This is debug information without any secret and private data.\r\n    This information can help me resolve problems.\r\n    Contact me https://t.me/sashanoxon with any questions\r\n  */\r\n  sendSwapDebugInformation = (orderId) => {\r\n    const {\r\n      swap: {\r\n        flow: {\r\n          state: {\r\n            step,\r\n            utxoScriptValues,\r\n          },\r\n          state: flowState,\r\n        },\r\n        flow,\r\n      },\r\n      swap,\r\n    } = this.state\r\n\r\n    if (step >= 3) {\r\n      //@ts-ignore: strictNullChecks\r\n      let swapsId = JSON.parse(localStorage.getItem('axiosSwaps'))\r\n\r\n      if (swapsId === null || swapsId.length === 0) {\r\n        swapsId = []\r\n      }\r\n      if (!swapsId.includes(orderId)) {\r\n        swapsId.push(orderId)\r\n\r\n        const {\r\n          id,\r\n          buyCurrency,\r\n          sellCurrency,\r\n          buyAmount,\r\n          sellAmount,\r\n          destinationBuyAddress,\r\n          destinationSellAddress,\r\n          owner,\r\n          participant,\r\n        } = swap\r\n\r\n        const sendedData = {\r\n          id,\r\n          buyCurrency,\r\n          sellCurrency,\r\n          buyAmount: buyAmount.toNumber(),\r\n          sellAmount: sellAmount.toNumber(),\r\n          destinationBuyAddress,\r\n          destinationSellAddress,\r\n          owner,\r\n          participant,\r\n          utxoScriptValues\r\n        }\r\n        const sendedJSON = JSON.stringify(sendedData)\r\n\r\n        localStorage.setItem('axiosSwaps', JSON.stringify(swapsId))\r\n        clearInterval(this.sendDebugInfoTimer)\r\n\r\n        feedback.swap.started(sendedJSON)\r\n      }\r\n    }\r\n  }\r\n  /* ================================================================ */\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      isAddressCopied: false,\r\n      swap: null,\r\n      isMy: false,\r\n      currencyData: null,\r\n      isAmountMore: null,\r\n      ActiveSwap: null,\r\n      continueSwap: true,\r\n      enoughBalance: true,\r\n      depositWindow: false,\r\n      isShowDebug: false,\r\n      shouldStopCheckSendingOfRequesting: false,\r\n      waitWithdrawOther: false,\r\n      isFaucetRequested: false,\r\n      isSwapCancelled: false,\r\n      errorInfo: '',\r\n    }\r\n  }\r\n\r\n\r\n  async componentDidMount() {\r\n    console.group('Swap page >%c didMount', 'color: green')\r\n\r\n    const { items, currenciesData, tokensData } = this.props\r\n    let { match: { params: { orderId } }, history, activeFiat } = this.props\r\n\r\n    if (!!window.performance && window.performance.navigation.type === 2) {\r\n      window.location.reload()\r\n    }\r\n\r\n    if (!orderId) {\r\n      history.push(localisedUrl(links.exchange))\r\n      return\r\n    }\r\n\r\n    this.wallets = {}\r\n    currenciesData.forEach(item => {\r\n      this.wallets[item.currency] = item.address\r\n    })\r\n    tokensData.forEach(item => {\r\n      this.wallets[item.currency] = item.address\r\n    })\r\n\r\n    try {\r\n      console.log('creating swap')\r\n      console.log('orderId', orderId)\r\n      console.log('SwapApp', window.SwapApp)\r\n      if (window.SwapApp) {\r\n        this.createSwap({ orderId, items, tokensData, activeFiat })\r\n      } else {\r\n        await actions.user.sign()\r\n        await createSwapApp()\r\n        this.createSwap({ orderId, items, tokensData, activeFiat })\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error(error)\r\n      actions.notifications.show(constants.notifications.ErrorNotification, {\r\n        error: 'Sorry, but this order does not exist already'\r\n      })\r\n      this.props.history.push(localisedUrl(links.exchange))\r\n    }\r\n\r\n    console.groupEnd()\r\n  }\r\n\r\n  createSwap(params) {\r\n    const { orderId, items, tokensData, activeFiat } = params\r\n    const swap = new Swap(orderId, SwapApp.shared())\r\n    actions.core.rememberSwap(swap)\r\n    window.active_swap = swap\r\n\r\n    console.log('swap: ', swap)\r\n    console.log('swap flow name:', swap.flow._flowName);\r\n\r\n    const ActiveSwap = swapComponents[swap.flow._flowName]\r\n    const ethData = items.filter(item => item.currency === 'ETH')\r\n    const sellCurrency = swap.sellCurrency.toUpperCase()\r\n    const currencyData = items.concat(tokensData)\r\n      .filter(item => item.isToken ? item.tokenKey.toUpperCase() === sellCurrency : item.currency === sellCurrency)[0]\r\n    const currencies = [\r\n      {\r\n        currency: swap.sellCurrency,\r\n        amount: swap.sellAmount,\r\n      },\r\n      {\r\n        currency: swap.buyCurrency,\r\n        amount: swap.buyAmount,\r\n      },\r\n    ]\r\n\r\n    currencies.forEach(item => {\r\n      actions.user.getExchangeRate(item.currency, activeFiat.toLowerCase())\r\n        .then(exRate => {\r\n          const amount = exRate * Number(item.amount)\r\n\r\n          if (Number(amount) >= 50) {\r\n            this.setState(() => ({ isAmountMore: 'enable' }))\r\n          } else {\r\n            this.setState(() => ({ isAmountMore: 'disable' }))\r\n          }\r\n        })\r\n    })\r\n\r\n    console.log('setting swap into state (swap): ', swap)\r\n\r\n    this.setState({\r\n      swap,\r\n      ethData,\r\n      ActiveSwap,\r\n      currencyData,\r\n      ethAddress: ethData[0].address,\r\n    }, this.afterComponentDidMount)\r\n\r\n    /* hide my orders */\r\n    // disable for now TODO\r\n    // actions.core.hideMyOrders()\r\n\r\n  }\r\n\r\n\r\n  afterComponentDidMount() {\r\n    const {\r\n      swap,\r\n      swap: {\r\n        flow: {\r\n          step,\r\n        },\r\n      },\r\n    } = this.state\r\n\r\n    const { match: { params: { orderId } }, savedOrders } = this.props\r\n\r\n    if (step >= 4 && !savedOrders.includes(orderId)) {\r\n      this.saveThisSwap(orderId)\r\n    }\r\n\r\n    if (swap !== null) {\r\n      if (this.checkIsFinished() || this.checkStoppedSwap()) {\r\n        return\r\n      }\r\n      this.sendDebugInfoTimer = setInterval(() => {\r\n        this.sendSwapDebugInformation(orderId)\r\n      }, 1000)\r\n\r\n      const checkingCycle = setInterval(() => {\r\n        const isFinallyFinished = this.checkIsFinished()\r\n        const isStoppedSwap = this.checkStoppedSwap()\r\n\r\n        if (isFinallyFinished) {\r\n          feedback.swap.finished()\r\n        }\r\n        if (isStoppedSwap) {\r\n          feedback.swap.stopped()\r\n        }\r\n\r\n        if (isFinallyFinished || isStoppedSwap) {\r\n          clearInterval(checkingCycle)\r\n          return\r\n        }\r\n\r\n        this.checkEnoughFee()\r\n        this.requestingWithdrawFee()\r\n        this.isBalanceEnough()\r\n        this.checkFailSwap()\r\n        this.checkOtherSideRefund()\r\n      }, 5000)\r\n\r\n      const checkingConfirmSuccess = setTimeout(() => {\r\n        if (!this.checkIsConfirmed()) {\r\n          window.location.reload()\r\n        }\r\n      }, 240_000) // seconds\r\n\r\n      this.checkingConfirmSuccessTimer = checkingConfirmSuccess\r\n      this.checkingCycleTimer = checkingCycle\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.checkingCycleTimer)\r\n    clearTimeout(this.checkingConfirmSuccessTimer)\r\n    clearInterval(this.sendDebugInfoTimer)\r\n  }\r\n\r\n  checkStoppedSwap = () => {\r\n    const {\r\n      swap: {\r\n        id,\r\n        flow: {\r\n          state: {\r\n            isStoppedSwap,\r\n            isFinished,\r\n            isRefunded,\r\n            isSwapTimeout,\r\n          },\r\n        },\r\n      },\r\n    } = this.state\r\n\r\n    if (!isStoppedSwap || isFinished || isRefunded || isSwapTimeout) {\r\n      return false\r\n    }\r\n\r\n    this.deleteThisSwap(id)\r\n\r\n    this.setState(() => ({\r\n      isSwapCancelled: true,\r\n    }))\r\n\r\n    return true\r\n  }\r\n\r\n  checkIsConfirmed = () => {\r\n    const { swap: { flow: { state: { step } } } } = this.state\r\n    return !(step === 1)\r\n  }\r\n\r\n  componentDidCatch(error, info) {\r\n    this.setState(() => ({\r\n      errorInfo: info,\r\n    }))\r\n\r\n    actions.notifications.show(\r\n      constants.notifications.ErrorNotification,\r\n      { error: error.message }\r\n    )\r\n  }\r\n\r\n  checkIsFinished = () => {\r\n    const {\r\n      swap: {\r\n        id,\r\n        flow: {\r\n          state: {\r\n            isFinished,\r\n            isSwapTimeout,\r\n            step,\r\n            isRefunded,\r\n          },\r\n        },\r\n      },\r\n    } = this.state\r\n\r\n    if (isFinished || isSwapTimeout || step > 7 || isRefunded) {\r\n      this.deleteThisSwap(id)\r\n      return true\r\n    }\r\n\r\n    return false\r\n  }\r\n\r\n  saveThisSwap = (orderId) => {\r\n    actions.core.rememberOrder(orderId)\r\n  }\r\n\r\n  deleteThisSwap = (orderId) => {\r\n    actions.core.saveDeletedOrder(orderId)\r\n    actions.core.forgetOrders(orderId)\r\n  }\r\n\r\n  isBalanceEnough = () => {\r\n    const { swap } = this.state\r\n    const { flow, sellCurrency } = swap\r\n    const { step, balance, isBalanceEnough } = flow.state\r\n\r\n    const isSellCurrencyEthOrEthToken = helpers.ethToken.isEthOrEthToken({ name: sellCurrency })\r\n    const stepForCheckBalance = isSellCurrencyEthOrEthToken\r\n      ? 4\r\n      : 3\r\n\r\n    if (!isBalanceEnough && step === stepForCheckBalance) {\r\n      this.setState(() => ({ enoughBalance: false }))\r\n    } else {\r\n      this.setState(() => ({ enoughBalance: true }))\r\n    }\r\n  }\r\n\r\n  requestingWithdrawFee = () => {\r\n    const {\r\n      swap: {\r\n        flow: {\r\n          state: {\r\n            requireWithdrawFee,\r\n            requireWithdrawFeeSended,\r\n            withdrawRequestIncoming,\r\n            withdrawRequestAccepted,\r\n          },\r\n        },\r\n      },\r\n    } = this.state\r\n\r\n    if (requireWithdrawFee && !requireWithdrawFeeSended) {\r\n      if (this.state.swap && this.state.swap.flow) {\r\n        this.state.swap.flow.sendWithdrawRequest()\r\n        this.setState({\r\n          waitWithdrawOther: true,\r\n        })\r\n        window.setTimeout(() => {\r\n          this.setState({\r\n            waitWithdrawOther: false,\r\n          })\r\n        }, 1000 * 60 * 2)\r\n      }\r\n    }\r\n\r\n    if (withdrawRequestIncoming && !withdrawRequestAccepted) {\r\n      if (this.state.swap && this.state.swap.flow) {\r\n        this.state.swap.flow.acceptWithdrawRequest()\r\n      }\r\n    }\r\n  }\r\n\r\n  sendRequestToFaucet = () => {\r\n    const {\r\n      swap: {\r\n        owner,\r\n        buyCurrency,\r\n        buyAmount,\r\n        sellCurrency,\r\n        sellAmount,\r\n      },\r\n      isFaucetRequested,\r\n      continueSwap,\r\n    } = this.state\r\n\r\n    if (isFaucetRequested) {\r\n      return\r\n    }\r\n\r\n    this.setState(() => ({\r\n      isFaucetRequested: true,\r\n    }))\r\n\r\n    apiLooper.post('faucet', '', {\r\n      body: {\r\n        eth: this.state.ethAddress,\r\n        buyCurrency,\r\n        buyAmount: buyAmount.toString(),\r\n        sellCurrency,\r\n        sellAmount: sellAmount.toString(),\r\n      },\r\n    }).then((rv: any) => {\r\n      console.info('faucet answered', rv.txid)\r\n      this.setState(() => ({\r\n        continueSwap: true,\r\n      }))\r\n    }).catch((error) => {\r\n      console.warn('faucet error:', error)\r\n      this.setState(() => ({\r\n        continueSwap: false,\r\n      }))\r\n    })\r\n  }\r\n\r\n  checkOtherSideRefund = async () => {\r\n    const {\r\n      swap: {\r\n        flow,\r\n      },\r\n    } = this.state\r\n\r\n    if (typeof flow.checkOtherSideRefund === 'function') {\r\n      const isOtherSideRefunded = await flow.checkOtherSideRefund()\r\n      if (isOtherSideRefunded) {\r\n        this.setState(() => ({\r\n          otherSideRefunded: true,\r\n        }))\r\n      }\r\n    }\r\n  }\r\n\r\n  checkFailSwap = () => {\r\n    const {\r\n      swap: {\r\n        flow: {\r\n          state: {\r\n            isFailedTransaction,\r\n          },\r\n        },\r\n      },\r\n      continueSwap,\r\n    } = this.state\r\n\r\n    if (!isFailedTransaction) {\r\n      return\r\n    }\r\n\r\n    this.setState(() => ({\r\n      continueSwap: false,\r\n    }))\r\n  }\r\n\r\n  checkEnoughFee = () => {\r\n    const {\r\n      swap: {\r\n        participantSwap,\r\n        flow: {\r\n          state: {\r\n            canCreateEthTransaction,\r\n          },\r\n        },\r\n      },\r\n      currencyData: {\r\n        currency,\r\n      },\r\n    } = this.state\r\n\r\n    if (canCreateEthTransaction === false &&\r\n      helpers.ethToken.isEthOrEthToken({ name: currency })\r\n    ) {\r\n      this.sendRequestToFaucet()\r\n    } else {\r\n      this.setState(() => ({\r\n        continueSwap: true,\r\n      }))\r\n    }\r\n  }\r\n\r\n  toggleDebug = () => {\r\n    this.setState((state) => ({\r\n      isShowDebug: !state.isShowDebug,\r\n    }))\r\n  }\r\n\r\n  goWallet = () => {\r\n    const { intl: { locale } } = this.props\r\n    this.props.history.push(localisedUrl(locale, '/'))\r\n  }\r\n\r\n  render() {\r\n    const { peer, tokensData, history, intl: { locale } } = this.props\r\n    const {\r\n      swap,\r\n      ActiveSwap,\r\n      currencyData,\r\n      isAmountMore,\r\n      ethData,\r\n      continueSwap,\r\n      enoughBalance,\r\n      depositWindow,\r\n      ethAddress,\r\n      isShowDebug,\r\n      requestToFaucetSended,\r\n      isAddressCopied,\r\n      waitWithdrawOther,\r\n      isSwapCancelled,\r\n      errorInfo,\r\n    } = this.state\r\n\r\n    if (!swap || !ActiveSwap || !peer || !isAmountMore) {\r\n      return null\r\n    }\r\n\r\n    return (\r\n      <Fragment>\r\n        {!isSwapCancelled ?\r\n          <div styleName={`${isMobile ? 'swap swapMobile' : 'swap'}`}>\r\n            <ActiveSwap\r\n              tokenItems={tokensData}\r\n              depositWindow={depositWindow}\r\n              disabledTimer={isAmountMore === 'enable'}\r\n              history={history}\r\n              swap={swap}\r\n              ethAddress={ethAddress}\r\n              currencyData={currencyData}\r\n              styles={styles}\r\n              enoughBalance={enoughBalance}\r\n              ethData={ethData}\r\n              continueSwap={continueSwap}\r\n              requestToFaucetSended={requestToFaucetSended}\r\n              waitWithdrawOther={waitWithdrawOther}\r\n              locale={locale}\r\n              wallets={this.wallets}\r\n            />\r\n            <div>\r\n              <p styleName=\"reloadText\" role=\"presentation\">\r\n                <FormattedMessage\r\n                  id=\"SwapStuck\"\r\n                  defaultMessage=\"The swap was stuck? Try to \"\r\n                />\r\n                <span styleName=\"pseudolink\" onClick={this.toggleDebug}>\r\n                  <FormattedMessage\r\n                    id=\"SwapDebug\"\r\n                    defaultMessage=\"debug\"\r\n                  />\r\n                </span>\r\n                <FormattedMessage\r\n                  id=\"SwapOr\"\r\n                  defaultMessage=\" or \"\r\n                />\r\n                <span styleName=\"pseudolink\" onClick={() => window.location.reload()}>\r\n                  <FormattedMessage\r\n                    id=\"SwapReload\"\r\n                    defaultMessage=\"reload the page\"\r\n                  />\r\n                </span>\r\n              </p>\r\n\r\n              {peer === swap.owner.peer &&\r\n                <DeleteSwapAfterEnd swap={swap} />\r\n              }\r\n            </div>\r\n          </div>\r\n          :\r\n          <div styleName=\"canceledSwapInfo\">\r\n            <h3 styleName=\"canceled\" onClick={this.goWallet}>\r\n              <FormattedMessage id=\"swappropgress327\" defaultMessage=\"This swap is canceled\" />\r\n            </h3>\r\n\r\n            {errorInfo && (\r\n              <div>\r\n                {errorInfo}\r\n              </div>\r\n            )}\r\n\r\n            <h3>\r\n              <FormattedMessage\r\n                id=\"swappropgress400\"\r\n                defaultMessage=\"Refund is taking automatically\"\r\n              />\r\n            </h3>\r\n            <div styleName=\"pseudolink\" onClick={this.toggleDebug}>\r\n              <FormattedMessage id=\"SwapDebug\" defaultMessage=\"debug\" />\r\n            </div>\r\n          </div>\r\n        }\r\n\r\n        {isShowDebug &&\r\n          <Debug flow={swap.flow} />\r\n        }\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(SwapComponent)\r\n","import BigNumber from 'bignumber.js'\r\n\r\n\r\nexport enum SwapMode {\r\n  Atomic = 'Atomic',\r\n  Turbo = 'Turbo',\r\n}\r\n\r\nexport enum SwapSide {\r\n  Maker = 'Maker',\r\n  Taker = 'Taker',\r\n}\r\n\r\nexport enum SwapTxStatus {\r\n  Expected = 'Expected',\r\n  Pending = 'Pending',\r\n  Done = 'Done'\r\n}\r\n\r\nexport enum SwapStatus {\r\n  Pending = 'Pending',\r\n  Finished = 'Finished',\r\n}\r\n\r\n/*\r\nexport interface ITurboSwapConditions {\r\n  TakerCoin: ...\r\n  TakerAddressFrom: ...\r\n  MakerAddressTo: ...\r\n  MakerCoin: ...\r\n  MakerAddressFrom: ...\r\n  TakerAddressTo: ...\r\n  mySide: SwapSide\r\n  coinA: {\r\n    ticker: ...\r\n    amount: BigNumber\r\n    takerAddress: ...\r\n    makerAddress: ...\r\n  },\r\n  coinB: {\r\n    ticker: ...\r\n    amount: BigNumber\r\n    makerAddress: ...\r\n    takerAddress: ...\r\n  }\r\n  \r\n}\r\n*/\r\n\r\n/*export enum TurboSwapStep {\r\n  TakerSendsToMaker = 'TakerSendsToMaker',\r\n  MakerSendsToTaker = 'MakerSendsToTaker',\r\n  Finished = 'Finished',\r\n}*/\r\n\r\n/*export interface ITurboSwapState {\r\n  takerTxHash: string\r\n  makerTxHash: string\r\n\r\n  coin1: {\r\n    isTakerSended: boolean\r\n    isMakerReceived: boolean\r\n  },\r\n  coin2: {\r\n    isMakerSended: boolean\r\n    isTakerReceived: boolean\r\n  }\r\n}*/\r\n\r\n/*export interface ITurboSwap {\r\n  id: any\r\n  mySide: SwapSide\r\n  conditions: ITurboSwapConditions\r\n  //state: ITurboSwapState\r\n  status: SwapStatus\r\n  takerTx: SwapTx\r\n  makerTx: SwapTx\r\n}*/\r\n\r\n/*export type SwapTx = {\r\n  status: SwapTxStatus.Expected\r\n  hash: null\r\n} | {\r\n  status: SwapTxStatus.Pending\r\n  hash: string\r\n} | {\r\n  status: SwapTxStatus.Done\r\n  hash: string\r\n}*/\r\n","import { Component, Fragment } from 'react'\r\nimport cssModules from 'react-css-modules'\r\nimport { AddressType, AddressFormat } from 'domain/address'\r\nimport styles from './Address.scss'\r\n\r\ninterface IAddress {\r\n  address: any\r\n  format?: AddressFormat\r\n  type?: AddressType\r\n  style?: any\r\n}\r\n\r\n@cssModules(styles, { allowMultiple: true })\r\nexport default class Address extends Component<IAddress, object> {\r\n  constructor(props) {\r\n    super(props)\r\n  }\r\n\r\n  render() {\r\n    let {\r\n      address,\r\n      format,\r\n      type,\r\n      //copyable, // todo\r\n      style,\r\n    } = this.props\r\n\r\n    if (!address) return null\r\n\r\n    const addressStart = address.substring(0, 6)\r\n    const addressEnd = address.substring(address.length - 4, address.length)\r\n    const color = type === AddressType.Metamask ? '#e4761b' : ''\r\n\r\n    return (\r\n      <code styleName={`address`} title={address} style={{ ...style, color }}>\r\n        {format === AddressFormat.Short ? (\r\n          <Fragment>\r\n            {addressStart}&#183;&#183;&#183;{addressEnd}\r\n          </Fragment>\r\n        ) : (\r\n          address\r\n        )}\r\n      </code>\r\n    )\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"address\":\"_7l98Qmhs5JSfVEqR1FeGpw==\"};","import React, { PureComponent, Fragment } from 'react'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './TxSide.scss'\r\n\r\n\r\nimport { injectIntl, FormattedMessage } from 'react-intl'\r\n\r\nimport Address from 'components/ui/Address/Address'\r\nimport { AddressFormat } from 'domain/address'\r\n\r\n\r\ninterface ITxSide {\r\n  //peerId: string,\r\n  title: React.ReactElement,\r\n  isTitleHighlighted?: boolean\r\n  address: string,\r\n}\r\n\r\n//@injectIntl\r\n@cssModules(styles, { allowMultiple: true })\r\nexport default class TxSide extends PureComponent<ITxSide, {}> {\r\n\r\n  constructor() {\r\n    //@ts-ignore\r\n    super()\r\n  }\r\n\r\n  render() {\r\n    const { /*peerId,*/ title, isTitleHighlighted, address } = this.props\r\n\r\n    return (\r\n      <div styleName=\"txSide\">\r\n        <div styleName={`title ${isTitleHighlighted ? 'highlighted' : ''}`}>\r\n          {title}{isTitleHighlighted}\r\n        </div>\r\n        <div styleName=\"avatar\">\r\n        </div>\r\n        <div styleName=\"address\">\r\n          <Address\r\n            address={address}\r\n            format={AddressFormat.Short}\r\n          />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"txSide\":\"kCYwRVtKEi89QJPSrRfKnA==\",\"title\":\"M3PGbDotpryDQWmYFuw5Aw==\",\"highlighted\":\"zV48aE8QBktIAn1i7i+y6g==\",\"avatar\":\"qXUKothL+7y7ok2YccUTBg==\",\"address\":\"PZz-2bUhWsmmejSPQhSFIQ==\"};","// extracted by mini-css-extract-plugin\nexport default {\"tx\":\"OOOgIATYkHGPmfyYF9Onlw==\",\"amount\":\"EB2RZbKPV6YV3SKmI8rkkA==\",\"Expected\":\"wFQyN4x+-yN0FvzaE6Hh-A==\",\"tx-hash\":\"pcOwbt-oQMlFgTpEA04CaQ==\",\"tx-link\":\"_896FdvMrtfQI0tTr3GU3hQ==\",\"tx-status-icon\":\"hXcjrq2Qc8c6H+66CTI-oA==\",\"arrow\":\"m3QpN5+wJguRmSO8HlRLfA==\",\"left\":\"Hgl6-f9nr7ZtQgllV9gMaA==\",\"right\":\"_9ot880c6lvNWZrZa62ehjg==\",\"Pending\":\"_7om8W0qBMw8BprY0F-wz8g==\",\"pending\":\"oeaOxuX9USoLxFsc5v-E5Q==\",\"Done\":\"V+3N4YE6TwPKaAJHhE0Bcg==\"};","export default __webpack_public_path__ + \"images/pending_d030c1.svg\";","export default __webpack_public_path__ + \"images/done_644c97.svg\";","import React, { PureComponent, Fragment } from 'react'\r\nimport BigNumber from 'bignumber.js'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './Tx.scss'\r\n\r\nimport { injectIntl, FormattedMessage } from 'react-intl'\r\n\r\nimport { SwapTxStatus } from 'common/domain/swap'\r\n\r\nimport Address from 'components/ui/Address/Address'\r\nimport { AddressFormat } from 'domain/address'\r\n\r\nimport imgPending from 'shared/images/tx-status/pending.svg'\r\nimport imgDone from 'shared/images/tx-status/done.svg'\r\n\r\ninterface ITx {\r\n  amount: BigNumber,\r\n  ticker: string,\r\n  id: string | null,\r\n  url: string,\r\n  direction: 'left' | 'right',\r\n  status: SwapTxStatus\r\n}\r\n\r\n//@injectIntl\r\n@cssModules(styles, { allowMultiple: true })\r\nexport default class Tx extends PureComponent<ITx, {}> {\r\n\r\n  constructor() {\r\n    //@ts-ignore\r\n    super()\r\n  }\r\n\r\n  render() {\r\n    const { amount, ticker, id, url, direction, status } = this.props\r\n\r\n    return (\r\n      <div styleName={`tx ${status}`}>\r\n        <div styleName=\"amount\">\r\n          {amount.toNumber()} {ticker}\r\n        </div>\r\n        <div styleName={`arrow ${direction}`}></div>\r\n        <div styleName=\"tx-hash\">\r\n          {id ?\r\n            <a styleName=\"tx-link\" href={url} target='_blank'>\r\n              <Address\r\n                address={id}\r\n                format={AddressFormat.Short}\r\n              />\r\n            </a>\r\n            :\r\n            <span>&nbsp;</span>\r\n          }\r\n        </div>\r\n        <div styleName=\"tx-status-icon\">\r\n          {status == SwapTxStatus.Pending &&\r\n            <img src={imgPending} />\r\n          }\r\n          {status == SwapTxStatus.Done &&\r\n            <img src={imgDone} />\r\n          }\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { PureComponent, Fragment } from 'react'\r\n\r\nimport BigNumber from 'bignumber.js'\r\nimport Swap from 'swap.swap'\r\nimport SwapApp from 'swap.app'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './TurboSwap.scss'\r\n\r\nimport { connect } from 'redaction'\r\nimport helpers, { links, constants } from 'helpers'\r\nimport request from 'common/utils/request'\r\nimport actions from 'redux/actions'\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\nimport { injectIntl, FormattedMessage } from 'react-intl'\r\nimport { localisedUrl } from 'helpers/locale'\r\n\r\nimport feedback from 'shared/helpers/feedback'\r\n\r\nimport config from 'app-config'\r\n\r\nimport { SwapSide, SwapStatus, SwapTxStatus } from 'common/domain/swap'\r\nimport TxSide from './TxSide'\r\nimport Tx from './Tx'\r\n\r\nimport { Button } from 'components/controls'\r\n\r\n\r\ninterface ITurboSwapState {\r\n  swap: Swap,\r\n  flowState: any,\r\n}\r\n\r\n@connect(({\r\n/*  user: {\r\n    ethData,\r\n    btcData,\r\n    ghostData,\r\n    nextData,\r\n    tokensData,\r\n  },*/\r\n  pubsubRoom: { peer },\r\n  rememberedOrders,\r\n}) => ({\r\n  //items: [ethData, btcData, ghostData, nextData],\r\n  //currenciesData: [ethData, btcData, ghostData, nextData],\r\n  //tokensData: [...Object.keys(tokensData).map(k => (tokensData[k]))],\r\n  //savedOrders: rememberedOrders.savedOrders,\r\n  //deletedOrders: rememberedOrders.deletedOrders,\r\n  //peer,\r\n}))\r\n@cssModules(styles, { allowMultiple: true })\r\nclass TurboSwap extends PureComponent<any, ITurboSwapState> {\r\n\r\n/*\r\n  checkingConfirmSuccessTimer: any\r\n  checkingCycleTimer: any*/\r\n\r\n  history = null\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const { history } = props\r\n    this.history = history\r\n\r\n    this.state = {\r\n      //@ts-ignore: strictNullChecks\r\n      swap: null,\r\n      flowState: null,\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n    const {\r\n      items,\r\n      currenciesData,\r\n      tokensData,\r\n      intl: {\r\n        locale\r\n      },\r\n      //deletedOrders\r\n    } = this.props\r\n\r\n    let { match: { params: { orderId } }, history } = this.props\r\n\r\n    if (!orderId) {\r\n      history.push(localisedUrl(links.exchange))\r\n      return\r\n    }\r\n\r\n    try {\r\n      const swap = new Swap(orderId, SwapApp.shared())\r\n      console.log(`Front uses flow ${swap.flow._flowName}`);\r\n\r\n      this.setState(() => ({\r\n        swap,\r\n        flowState: swap.flow.state\r\n      }))\r\n\r\n      setInterval(() => {\r\n        this.setState(() => ({\r\n          flowState: swap.flow.state\r\n        }))\r\n      }, 300)\r\n\r\n    } catch (error) {\r\n      console.error(error)\r\n      actions.notifications.show(constants.notifications.ErrorNotification, {\r\n        error: 'Sorry, but this order do not exsit already'\r\n      })\r\n      this.props.history.push(localisedUrl(links.exchange))\r\n    }\r\n\r\n    /*if (!this.props.savedOrders.includes(orderId)) {\r\n      this.setSaveSwapId(orderId)\r\n    }*/\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { swap, /*deletedOrders*/ } = this.state\r\n\r\n    const { /*match: { params: { orderId } }, savedOrders*/ } = this.props\r\n\r\n/*    if (swap !== null) {\r\n      console.log('checkingCycle')\r\n\r\n      const checkingCycle = setInterval(() => {\r\n\r\n        if (isFinallyFinished) {\r\n          feedback.swap.finished()\r\n        }\r\n        if (isStoppedSwap) {\r\n          feedback.swap.stopped()\r\n        }\r\n\r\n        if (isFinallyFinished || isStoppedSwap) {\r\n          clearInterval(checkingCycle)\r\n          return\r\n        }\r\n\r\n        this.isBalanceEnough()\r\n      }, 5000)\r\n    }*/\r\n\r\n    feedback.swap.started(JSON.stringify({\r\n      // todo\r\n    }))\r\n\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    /*clearInterval(this.checkingCycleTimer)\r\n    clearTimeout(this.checkingConfirmSuccessTimer)*/\r\n  }\r\n\r\n\r\n\r\n/*  saveThisSwap = (orderId) => {\r\n    actions.core.rememberOrder(orderId)\r\n  }\r\n\r\n  deleteThisSwap = (orderId) => {\r\n    actions.core.saveDeletedOrder(orderId)\r\n    actions.core.forgetOrders(orderId)\r\n    window.swap = null\r\n  }\r\n\r\n  setSaveSwapId = (orderId) => {\r\n    let swapsId = JSON.parse(localStorage.getItem('swapId'))\r\n\r\n    if (swapsId === null || swapsId.length === 0) {\r\n      swapsId = []\r\n    }\r\n    if (!swapsId.includes(orderId)) {\r\n      swapsId.push(orderId)\r\n    }\r\n    localStorage.setItem('swapId', JSON.stringify(swapsId))\r\n  }\r\n*/\r\n\r\n  /*isBalanceEnough = () => {\r\n    //...\r\n  }*/\r\n\r\n  goToWallet = () => {\r\n    //@ts-ignore: strictNullChecks\r\n    this.history.push(links.wallet)\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      peer,\r\n      history,\r\n      intl: { locale }\r\n    } = this.props\r\n\r\n    const {\r\n      swap,\r\n      flowState,\r\n    } = this.state\r\n\r\n    const sellCurrencyKey = swap.sellCurrency.toLowerCase()\r\n    const buyCurrencyKey = swap.buyCurrency.toLowerCase()\r\n\r\n    const myAddressSend =\r\n      //@ts-ignore: strictNullChecks\r\n      swap.app.services.auth.accounts[sellCurrencyKey].address ||\r\n      //@ts-ignore: strictNullChecks\r\n      swap.app.services.auth.accounts[sellCurrencyKey].getAddress()\r\n\r\n    const myAddressReceive =\r\n      //@ts-ignore: strictNullChecks\r\n      swap.app.services.auth.accounts[buyCurrencyKey].address ||\r\n      //@ts-ignore: strictNullChecks\r\n      swap.app.services.auth.accounts[buyCurrencyKey].getAddress()\r\n\r\n    const participantAddressSend = swap.participant[buyCurrencyKey].address\r\n    const participantAddressReceive = swap.participant[sellCurrencyKey].address\r\n\r\n    const swapIdShortened = swap.id\r\n      .split('-').map(part =>\r\n        parseInt(part) || part\r\n          .split('')\r\n          .reduce((acc, letter, index) => {\r\n            if ([\r\n              0, 1, 2, 3,\r\n              part.length-4, part.length-3, part.length-2, part.length-1\r\n            ].includes(index))\r\n              return acc + letter\r\n            if (index === 4)\r\n              return acc + ''\r\n            return acc\r\n          }, '')\r\n      ).join('-')\r\n\r\n\r\n    const takerTx = {\r\n      amount: swap.isMy ? swap.buyAmount : swap.sellAmount,\r\n      currency: swap.isMy ? swap.buyCurrency : swap.sellCurrency,\r\n      hash: flowState.takerTxHash,\r\n      status: !flowState.takerTxHash ?\r\n        SwapTxStatus.Expected\r\n        :\r\n        !flowState.isTakerTxPended ?\r\n          SwapTxStatus.Pending\r\n          :\r\n          SwapTxStatus.Done,\r\n      url: null,\r\n    }\r\n    takerTx.url = takerTx.hash ? helpers.transactions.getLink(takerTx.currency.toLowerCase(), takerTx.hash) : null\r\n\r\n    const makerTx = {\r\n      amount: swap.isMy ? swap.sellAmount : swap.buyAmount,\r\n      currency: swap.isMy ? swap.sellCurrency : swap.buyCurrency,\r\n      hash: flowState.makerTxHash,\r\n      status: !flowState.makerTxHash ?\r\n        SwapTxStatus.Expected\r\n        :\r\n        !flowState.isMakerTxPended ?\r\n          SwapTxStatus.Pending\r\n          :\r\n          SwapTxStatus.Done,\r\n      url: null,\r\n    }\r\n    makerTx.url = makerTx.hash ? helpers.transactions.getLink(makerTx.currency.toLowerCase(), makerTx.hash) : null\r\n\r\n\r\n    const swapStatus: SwapStatus = !flowState.isFinished ? SwapStatus.Pending : SwapStatus.Finished\r\n\r\n    const i18n_you = <FormattedMessage id=\"TurboSwap_You\" defaultMessage=\"You\" />\r\n    const i18n_maker = <FormattedMessage id=\"TurboSwap_Maker\" defaultMessage=\"Maker\" />\r\n    const i18n_taker = <FormattedMessage id=\"TurboSwap_Taker\" defaultMessage=\"Taker\" />\r\n\r\n    return (\r\n      <div styleName=\"turboSwap\">\r\n        <h1 styleName=\"pageTitle\">\r\n          <FormattedMessage id=\"TurboSwap_Title\" defaultMessage=\"Turbo swap\" />\r\n        </h1>\r\n        <div styleName=\"swapId\">#{swapIdShortened}</div>\r\n        <div styleName={`swapStatus ${swapStatus}`}>\r\n          {swapStatus === SwapStatus.Pending &&\r\n            <FormattedMessage id=\"TurboSwap_StatusPending\" defaultMessage=\"Pending...\" />\r\n          }\r\n          {swapStatus === SwapStatus.Finished &&\r\n            <FormattedMessage id=\"TurboSwap_StatusFinished\" defaultMessage=\"Finished...\" />\r\n          }\r\n        </div>\r\n        <div styleName=\"blockchain\">\r\n          <TxSide\r\n            title={swap.isMy ? i18n_taker : i18n_you}\r\n            isTitleHighlighted={!swap.isMy}\r\n            address={swap.isMy ? participantAddressSend : myAddressSend}\r\n          />\r\n          <Tx\r\n            amount={takerTx.amount}\r\n            ticker={takerTx.currency}\r\n            id={takerTx.hash}\r\n            //@ts-ignore: strictNullChecks\r\n            url={takerTx.url}\r\n            direction={'right'}\r\n            status={takerTx.status}\r\n          />\r\n          <TxSide\r\n            title={swap.isMy ? i18n_you : i18n_maker}\r\n            isTitleHighlighted={swap.isMy}\r\n            address={swap.isMy ? myAddressReceive : participantAddressReceive}\r\n          />\r\n        </div>\r\n        <div styleName=\"blockchain\">\r\n          <TxSide\r\n            title={swap.isMy ? i18n_taker : i18n_you}\r\n            isTitleHighlighted={!swap.isMy}\r\n            address={swap.isMy ? participantAddressReceive : myAddressReceive}\r\n          />\r\n          <Tx\r\n            amount={makerTx.amount}\r\n            ticker={makerTx.currency}\r\n            id={makerTx.hash}\r\n            //@ts-ignore: strictNullChecks\r\n            url={makerTx.url}\r\n            direction={'left'}\r\n            status={makerTx.status}\r\n          />\r\n          <TxSide\r\n            title={swap.isMy ? i18n_you : i18n_maker}\r\n            isTitleHighlighted={swap.isMy}\r\n            address={swap.isMy ? myAddressSend : participantAddressSend}\r\n          />\r\n        </div>\r\n\r\n        {swapStatus === SwapStatus.Finished &&\r\n          <div styleName=\"checkBalanceButtonWrapper\">\r\n            <Button brand onClick={this.goToWallet}><FormattedMessage id=\"swapProgressGoToWallet\" defaultMessage=\"Check balance\" /></Button>\r\n          </div>\r\n        }\r\n\r\n        {false && //debug\r\n          <code>\r\n            {JSON.stringify(flowState, null, 2)}\r\n          </code>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(TurboSwap)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"turboSwap\":\"Fz7xyhWdo0cahB+0MQlIww==\",\"pageTitle\":\"I3D8qcQWEkilPgdbBHLwBg==\",\"swapId\":\"AMxuPbbI6CUC+2R6XH1NuA==\",\"swapStatus\":\"RKz+Sgtj9NJ3qp5Q7IM+1A==\",\"Pending\":\"_4THoWllJqIMYPlquLQKmQQ==\",\"Finished\":\"xf7gKVE1nOQlCC-Cifxwnw==\",\"blockchain\":\"lvNCaiPRPEcfNoHFawK5Mw==\",\"checkBalanceButtonWrapper\":\"PeCpU449sYaVeZYOYj03+g==\"};","import React from 'react'\r\nimport CSSModules from 'react-css-modules'\r\nimport moment from 'moment-with-locales-es6'\r\nimport styles from './Comment.scss'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport actions from 'redux/actions'\r\n\r\ntype WithdrawModalProps = {\r\n  commentKey?: any,\r\n  isOpen?: boolean,\r\n  label?: string,\r\n  date?: any,\r\n  canEdit?: boolean,\r\n  showComment?: boolean,\r\n  updateComment?: (text: string) => void,\r\n  onSubmit?: (text: string) => void\r\n}\r\n\r\ntype WithdrawModalState = {\r\n  comment?: null | string,\r\n  isOpen?: boolean\r\n}\r\n\r\n\r\n@CSSModules(styles, { allowMultiple: true })\r\nexport default class CommentRow extends React.PureComponent<WithdrawModalProps, WithdrawModalState> {\r\n  commentTextarea: any\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.commentTextarea = React.createRef()\r\n    this.state = {\r\n      isOpen: false,\r\n      comment: '',\r\n    }\r\n  }\r\n\r\n  submitComment = (event, props) => {\r\n    if (event) {\r\n      event.preventDefault()\r\n    }\r\n\r\n    const {\r\n      commentKey,\r\n      updateComment = false,\r\n    } = props\r\n\r\n    const {\r\n      comment\r\n    } = this.state\r\n\r\n    actions.comments.setComment({\r\n      key: commentKey,\r\n      comment: comment\r\n    })\r\n\r\n    if (updateComment) {\r\n      updateComment(comment)\r\n    }\r\n\r\n    this.toggleComment()\r\n  }\r\n\r\n  componentDidMount() {\r\n    const {\r\n      commentKey\r\n    } = this.props\r\n\r\n    // not need anymore\r\n    // actions.core.getSwapHistory()\r\n    const comment = actions.comments.getComment(commentKey)\r\n\r\n    if (comment) {\r\n      this.setState({\r\n        comment\r\n      })\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.isOpen && this.props.isOpen !== prevProps.isOpen && this.props.onSubmit) {\r\n      this.handleKeyUp()\r\n    }\r\n  }\r\n\r\n  handleKeyUp = (e = null) => {\r\n    if (!this.commentTextarea) {\r\n      return\r\n    }\r\n\r\n    //@ts-ignore: strictNullChecks\r\n    if (e && e.ctrlKey && e.keyCode == 13) {\r\n      this.submitComment(null, this.props)\r\n      return\r\n    }\r\n\r\n    this.commentTextarea\r\n      .current.style.cssText = 'height:' + this.commentTextarea.current.scrollHeight + 'px;'\r\n  }\r\n\r\n  changeComment = (event) => this.setState({comment: event.target.value});\r\n\r\n  toggleComment = () => {\r\n    const { isOpen = false } = this.state\r\n\r\n    this.setState({\r\n      isOpen: !isOpen\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      label,\r\n      date,\r\n      canEdit = false,\r\n      showComment = false,\r\n    } = this.props\r\n\r\n    const {\r\n      isOpen = false,\r\n      comment = ''\r\n    } = this.state\r\n\r\n    return (\r\n      <div styleName=\"wrap-block\">\r\n        {canEdit && (isOpen ?\r\n          <form styleName=\"input\" onSubmit={(e) => this.submitComment(e, this.props)}>\r\n            <textarea \r\n              ref={this.commentTextarea}\r\n              styleName=\"commentTextarea\" id=\"commentTextarea\"\r\n              //@ts-ignore: strictNullChecks\r\n              onKeyUp={this.handleKeyUp}\r\n              onChange={this.changeComment}\r\n              //@ts-ignore: strictNullChecks\r\n              value={comment} \r\n            ></textarea>\r\n            <span styleName=\"submit\" onClick={(e) => this.submitComment(e, this.props)}>&#10004;</span>\r\n            <span styleName=\"close\" onClick={() => this.toggleComment()}>&times;</span>\r\n          </form>\r\n          :\r\n          <div styleName=\"add-link\" onClick={() => this.toggleComment()}>\r\n            <FormattedMessage id=\"add_notice\" defaultMessage=\"Add notice\" />\r\n          </div>)\r\n        }\r\n\r\n        {showComment && (\r\n          <div styleName=\"date\">\r\n            {date &&\r\n              <div>{moment(date).format('LLLL')}</div>\r\n            }\r\n            {comment &&\r\n              <div styleName=\"commentText\">{comment}</div>\r\n            }\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"commentTextarea\":\"Kd4H1PM58WWiNIVSePTi7w==\",\"date\":\"aaZPEbHW-tCbg6JdklW-tA==\",\"comment\":\"_4+QfV78GvD7XTJsLBWW2Zw==\",\"add-link\":\"zml0r7kamB2tqSjJJja2lw==\",\"wrap-block\":\"VVGHeNRFWygLC9LQplHBWw==\",\"input\":\"x8IA3KRm6yViq9k5YioEXg==\",\"submit\":\"_49IejPnEThmYXzoDE4Y1+g==\",\"close\":\"gDtzykITkH4UAZ-OlkQv0A==\",\"commentText\":\"YBtyOD3XhMAfHxp4wBb2qw==\"};","import { PureComponent } from 'react'\r\nimport cx from 'classnames'\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './Row.scss'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport actions from 'redux/actions'\r\nimport { constants, links, utils } from 'helpers'\r\nimport { Link } from 'react-router-dom'\r\nimport { getFullOrigin } from 'helpers/links'\r\n\r\nimport CommentRow from 'components/Comment/Comment'\r\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\r\nimport getCurrencyKey from 'helpers/getCurrencyKey'\r\nimport Address from 'components/ui/Address/Address'\r\nimport { AddressFormat } from 'domain/address'\r\nimport erc20Like from 'common/erc20Like'\r\n\r\n@cssModules(styles, { allowMultiple: true })\r\nexport default class Row extends PureComponent<any, any> {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const { hash, type, hiddenList, invoiceData, viewType } = props\r\n    const dataInd = invoiceData && invoiceData.id\r\n    const ind = `${dataInd || hash}-${type}`\r\n\r\n    this.state = {\r\n      viewType: (viewType || 'transaction'),\r\n      exCurrencyRate: 0,\r\n      comment: actions.comments.returnDefaultComment(hiddenList, ind),\r\n      cancelled: false,\r\n      payed: false,\r\n      showFiat: false,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchFiatBalance()\r\n  }\r\n\r\n  fetchFiatBalance = async () => {\r\n    const { activeFiat, type } = this.props\r\n\r\n    if (activeFiat) {\r\n      actions.user.getExchangeRate(type, activeFiat.toLowerCase()).then((exCurrencyRate) => {\r\n        this.setState(() => ({\r\n          exCurrencyRate,\r\n          showFiat: true,\r\n        }))\r\n      })\r\n    }\r\n  }\r\n\r\n  handlePayInvoice = async () => {\r\n    const {\r\n      invoiceData: {\r\n        type,\r\n        toAddress: address,\r\n        amount,\r\n        destAddress,\r\n        fromAddress,\r\n      },\r\n      invoiceData: invoice,\r\n    } = this.props\r\n\r\n    const walletData = actions.core.getWallet({\r\n      address,\r\n      currency: type,\r\n    })\r\n    if (walletData) {\r\n      const {\r\n        currency,\r\n        balance,\r\n        unconfirmedBalance\r\n      } = walletData\r\n\r\n      actions.modals.open(constants.modals.Withdraw, {\r\n        currency,\r\n        address,\r\n        balance,\r\n        itemCurrency: walletData,\r\n        unconfirmedBalance,\r\n        toAddress: destAddress || fromAddress,\r\n        amount,\r\n        invoice,\r\n        hiddenCoinsList: [],\r\n        onReady: () => {\r\n          this.setState({\r\n            payed: true,\r\n          })\r\n        },\r\n      })\r\n    }\r\n  }\r\n\r\n  handleCancelInvoice = async () => {\r\n    const { invoiceData } = this.props\r\n\r\n    actions.modals.open(constants.modals.Confirm, {\r\n      onAccept: async () => {\r\n        await actions.invoices.cancelInvoice(invoiceData.id)\r\n        this.setState({\r\n          cancelled: true,\r\n        })\r\n      },\r\n    })\r\n  }\r\n\r\n  handleSendConfirmLink = () => {\r\n    const {\r\n      confirmTx: {\r\n        uniqhash,\r\n      },\r\n    } = this.props\r\n\r\n    const link = `${getFullOrigin()}${links.multisign}/btc/confirm/${uniqhash}`\r\n\r\n    actions.modals.open(constants.modals.Share, {\r\n      link,\r\n      title: `Confirm multisignature transaction`,\r\n    })\r\n  }\r\n\r\n  handleConfirmTx = () => {\r\n    const {\r\n      history,\r\n      confirmTx: {\r\n        uniqhash,\r\n      },\r\n    } = this.props\r\n\r\n    const shareLink = `${links.multisign}/btc/confirm/${uniqhash}`\r\n\r\n    history.push(shareLink)\r\n  }\r\n\r\n  parseFloat = (direction, value, directionType, type) => {\r\n    const { txType, standard } = this.props\r\n    switch (type) {\r\n      case 'btc (sms-protected)': type = 'BTC'\r\n        break\r\n      case 'btc (pin-protected)': type = 'BTC'\r\n        break\r\n      case 'btc (multisig)': type = 'BTC'\r\n        break\r\n    }\r\n\r\n    return (\r\n      <div id=\"historyRowAmountInfo\">\r\n        {direction === directionType ? (\r\n            <div styleName=\"amount\">\r\n              {`+ ${parseFloat(Number(value).toFixed(5))}`} {type.toUpperCase()}\r\n              {standard ? (\r\n                <span styleName=\"tokenStandard\">{standard.toUpperCase()}</span>\r\n              ) : ''}\r\n              {txType === 'INVOICE' ? (\r\n                <span styleName=\"smallTooltip\"><Tooltip id='RowTooltipInvoice'>Invoice</Tooltip></span>\r\n              ) : ''}\r\n            </div>\r\n          ) : (\r\n            <div styleName=\"amount\">\r\n              {`- ${parseFloat(Number(value).toFixed(5))}`}{' '}\r\n              {type.toUpperCase()}\r\n              {standard ? (\r\n                <span styleName=\"tokenStandard\">{standard.toUpperCase()}</span>\r\n              ) : ''}\r\n            </div>\r\n          )\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n\r\n  returnLinkRouter = (params) => {\r\n    let {\r\n      location,\r\n      targetPath,\r\n      tokenPart,\r\n      name,\r\n      hash,\r\n    } = params\r\n\r\n    if (erc20Like.isToken({ name })) {\r\n      // react router doesn't rewrite url\r\n      // it fix problem with token transaction info url\r\n      if (location.pathname.includes(tokenPart)) {\r\n        targetPath = `tx/${hash}`\r\n      } else {\r\n        targetPath = `token/${name}/tx/${hash}`\r\n      }\r\n    }\r\n\r\n    return {\r\n      ...location,\r\n      pathname: targetPath,\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      activeFiat,\r\n      address,\r\n      baseCurrency: tokenBaseCurrency,\r\n      type,\r\n      direction,\r\n      value,\r\n      hash: propsHash,\r\n      confirmations,\r\n      txType,\r\n      invoiceData,\r\n      date,\r\n      confirmTx,\r\n    } = this.props\r\n\r\n    const {\r\n      showFiat,\r\n    } = this.state\r\n\r\n    const substrAddress = address ? `${address.slice(0, 2)}...${address.slice(-2)}` : ''\r\n    const hash = (invoiceData && invoiceData.txInfo) ? invoiceData.txInfo : propsHash\r\n\r\n    const { exCurrencyRate, cancelled, payed } = this.state\r\n    const fiatValue = exCurrencyRate ? utils.toMeaningfulFloatValue({\r\n      rate: exCurrencyRate,\r\n      value,\r\n    }) : false\r\n\r\n    const paymentAddress = invoiceData\r\n      ? invoiceData.destAddress\r\n        ? invoiceData.destAddress\r\n        : invoiceData.fromAddress\r\n      : ''\r\n\r\n    const statusStyleName = cx('status', {\r\n      'in': direction === 'in',\r\n      'out': direction !== 'in',\r\n      'self': direction === 'self',\r\n    })\r\n    let statusStyleAmount = statusStyleName\r\n\r\n    if (invoiceData) {\r\n      statusStyleAmount = cx('status', {\r\n        'in': direction !== 'in',\r\n        'out': direction === 'in',\r\n        'self': direction === 'self',\r\n      })\r\n    }\r\n\r\n    const hasInvoiceButtons = (invoiceData && !invoiceData.txid && direction === 'in' && invoiceData.status === 'new' && !cancelled && !payed)\r\n    let invoiceStatusClass = 'confirm green'\r\n    let invoiceStatusText = <FormattedMessage id=\"HistoryRowInvoiceStatusNew\" defaultMessage=\"  \" />\r\n    if (invoiceData && ((invoiceData.status === 'ready') || payed)) {\r\n      invoiceStatusClass = 'confirm'\r\n      invoiceStatusText = <FormattedMessage id=\"RowHistoryInvoicePayed\" defaultMessage=\"\" />\r\n    }\r\n    if (invoiceData && ((invoiceData.status === 'cancelled') || cancelled)) {\r\n      invoiceStatusClass = 'confirm red'\r\n      invoiceStatusText = <FormattedMessage id=\"RowHistoryInvoiceCancelled\" defaultMessage=\"\" />\r\n    }\r\n\r\n    let txLink = `/${getCurrencyKey(type, false)}/tx/${hash}`\r\n\r\n    if (txType === 'INVOICE' && invoiceData.uniqhash) {\r\n      txLink = `${links.invoice}/${invoiceData.uniqhash}`\r\n    }\r\n\r\n    if (txType === 'CONFIRM' && confirmTx.uniqhash) {\r\n      txLink = `${links.multisign}/btc/confirm/${confirmTx.uniqhash}`\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <tr styleName=\"historyRow\">\r\n          <td>\r\n            <div styleName={`${statusStyleAmount} circleIcon`}>\r\n              <div styleName='arrowWrap'>\r\n                <Link to={txLink}>\r\n                  <svg width='12' height='15' viewBox='0 0 12 15' fill='none'>\r\n                    <path d='M6 15V3' stroke='#8E9AA3' strokeWidth='2' />\r\n                    <path d='M11 7L6 2L1 7' stroke='#8E9AA3' strokeWidth='2' />\r\n                  </svg>\r\n                </Link>\r\n              </div>\r\n            </div>\r\n            <div styleName=\"historyInfo\">\r\n              <div>\r\n                {txType === 'INVOICE' ?\r\n                  <>\r\n                    <Link to={txLink}>\r\n                      <FormattedMessage\r\n                        id=\"RowHistoryInvoce\"\r\n                        defaultMessage=\"Invoice #{number}\"\r\n                        values={{\r\n                          number: `${invoiceData.id}-${invoiceData.invoiceNumber}`,\r\n                        }}\r\n                      />\r\n                    </Link>\r\n                    <div styleName={`${invoiceStatusClass} cell`}>\r\n                      {invoiceStatusText}\r\n                    </div>\r\n                  </> :\r\n                  <>\r\n                    <Link\r\n                      to={(location) => this.returnLinkRouter({\r\n                        location,\r\n                        targetPath: txLink,\r\n                        tokenPart: `token/{${tokenBaseCurrency}}${type}/`,\r\n                        name: tokenBaseCurrency ? `{${tokenBaseCurrency}}${type}` : type,\r\n                        hash: hash,\r\n                      })}\r\n                    >\r\n                      {(txType === 'CONFIRM') ? (\r\n                        <FormattedMessage id=\"RowHistory_Confirm_Sending\" defaultMessage=\"Sent\" />\r\n                      ) : (\r\n                          <>\r\n                            {\r\n                              direction === 'in'\r\n                                ? <FormattedMessage id=\"RowHistory281\" defaultMessage=\"Received {address}\" values={{\r\n                                  address: substrAddress ? <span><FormattedMessage id=\"fromRow\" defaultMessage=\"from\" /> {substrAddress}</span> : \"\"\r\n                                }} />\r\n                                : (\r\n                                  direction !== 'self'\r\n                                    ? <FormattedMessage id=\"RowHistory282\" defaultMessage=\"Sent {address}\" values={{\r\n                                      address: substrAddress ? <span><FormattedMessage id=\"toRow\" defaultMessage=\"to\" /> {substrAddress}</span> : \"\"\r\n                                    }} />\r\n                                    : <FormattedMessage id=\"RowHistory283\" defaultMessage=\"Self\" />\r\n                                )\r\n                            }\r\n                          </>\r\n                        )}\r\n                    </Link>\r\n\r\n                    {/* Transaction status */}\r\n                    {(txType === 'CONFIRM') ? (\r\n                      <>\r\n                        {confirmTx.status === 'pending' && (\r\n                          <div styleName=\"unconfirmed cell\">\r\n                            <FormattedMessage id=\"RowHistory_Confirm_InProgress\" defaultMessage=\"Pending\" />\r\n                          </div>\r\n                        )}\r\n                        {confirmTx.status === 'reject' && (\r\n                          <div styleName=\"confirm red\">\r\n                            <FormattedMessage id=\"RowHistory_Confirm_Rejected\" defaultMessage=\"Rejected\" />\r\n                          </div>\r\n                        )}\r\n                        {confirmTx.status === 'cancel' && (\r\n                          <div styleName=\"confirm red\">\r\n                            <FormattedMessage id=\"RowHistory_Confirm_Cancelled\" defaultMessage=\"Canceled\" />\r\n                          </div>\r\n                        )}\r\n                      </>\r\n                    ) : (\r\n                        <div styleName={confirmations > 0 ? 'confirm cell' : 'unconfirmed cell'}>\r\n                          {confirmations > 0 ? confirmations > 6 ?\r\n                            <FormattedMessage id=\"RowHistory34\" defaultMessage=\"Received\" /> :\r\n                            <a href=\"#\"><FormattedMessage id=\"RowHistory341\" defaultMessage=\"Confirmed\" /></a> :\r\n                            <FormattedMessage id=\"RowHistory342\" defaultMessage=\"Unconfirmed\" />\r\n                          }\r\n                        </div>\r\n                      )}\r\n                  </>\r\n                }\r\n              </div>\r\n\r\n              {/* Date */}\r\n              <CommentRow\r\n                label={invoiceData && invoiceData.label}\r\n                date={date}\r\n                showComment={true}\r\n                commentKey={hash}\r\n              />\r\n\r\n              {/* Contacts */}\r\n              {invoiceData && invoiceData.contact &&\r\n                <div styleName='invoiceContactWrapper'>\r\n                  <FormattedMessage\r\n                    id=\"RowHistoryInvoiceContact\"\r\n                    defaultMessage='Contact:'\r\n                  />{' '}\r\n                  <span styleName='contact'>{invoiceData.contact}</span>\r\n                </div>\r\n              }\r\n\r\n              {/* Payment address */}\r\n              {txType === 'INVOICE' && direction === 'in' &&\r\n                <div styleName='addressWrapper'>\r\n                  <FormattedMessage\r\n                    id=\"RowHistoryInvoiceAddress\"\r\n                    defaultMessage='Payment address:'\r\n                  />{' '}\r\n                  <div style={{ display: 'flex', alignItems: 'center' }}>\r\n                    <Address address={paymentAddress} format={AddressFormat.Short} />\r\n                    <span styleName='requests'>({invoiceData.totalCount})</span>\r\n                  </div>\r\n                </div>\r\n              }\r\n            </div>\r\n\r\n            {/* Invoice buttons */}\r\n            {hasInvoiceButtons &&\r\n              <div styleName=\"btnWrapper\">\r\n                <button onClick={this.handlePayInvoice}>\r\n                  <FormattedMessage id='RowHistoryPayInvoice' defaultMessage='Pay' />\r\n                </button>\r\n                <button onClick={this.handleCancelInvoice}>\r\n                  <FormattedMessage id='RowHistoryCancelInvoice' defaultMessage='Decline' />\r\n                </button>\r\n              </div>\r\n            }\r\n\r\n            {txType === 'CONFIRM' && confirmTx.status === 'pending' && (\r\n              <div styleName=\"confirmWrapper\">\r\n                {(confirmTx.isHolder) ? (\r\n                  <>\r\n                    <span>\r\n                      <FormattedMessage\r\n                        id=\"RowHistory_ConfirmTX_NeedConfirm\"\r\n                        defaultMessage=\"Confirmation of another participant is required\" />\r\n                    </span>\r\n                    <button onClick={this.handleSendConfirmLink}>\r\n                      <FormattedMessage\r\n                        id=\"RowHistory_ConfirmTX_SendLink\"\r\n                        defaultMessage=\"Send link\"\r\n                      />\r\n                    </button>\r\n                  </>\r\n                ) : (\r\n                    <>\r\n                      <span>\r\n                        <FormattedMessage\r\n                          id=\"RowHistory_ConfirmTX_NeedYourSign\"\r\n                          defaultMessage=\"Your signature is required\"\r\n                        />\r\n                      </span>\r\n                      <button onClick={this.handleConfirmTx}>\r\n                        <FormattedMessage\r\n                          id=\"RowHistory_ConfirmTX_Sign\"\r\n                          defaultMessage=\"Confirm\"\r\n                        />\r\n                      </button>\r\n                    </>\r\n                  )}\r\n              </div>\r\n            )}\r\n\r\n            {/* Currency amount */}\r\n            <div styleName={statusStyleAmount}>\r\n              {invoiceData\r\n                ? this.parseFloat(direction, value, 'out', type)\r\n                : this.parseFloat(direction, value, 'in', type)}\r\n              {showFiat && fiatValue ? (\r\n                <span styleName=\"amountUsd\">\r\n                  ~{fiatValue}\r\n                  {` `}\r\n                  {activeFiat}\r\n                </span>\r\n              ) : null}\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      </>\r\n    )\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"status\":\"OFljJyZqCXLxDxfIsjqKSg==\",\"in\":\"JdZROR+5-vCXaPEvv+NUQg==\",\"arrowWrap\":\"MaQwSiSde3ZGipDr0UIgOw==\",\"amount\":\"huDcbn5REGFAK8vdP4pskw==\",\"out\":\"dh9d-WTCL4RSuBGTgXQg1Q==\",\"self\":\"LUANyEo2KrusOXt+XEbjag==\",\"cell\":\"+LVSvPYzveSeNn1piKWYfQ==\",\"confirm\":\"G2wQedAhsPV9aTKQluSlGA==\",\"unconfirmed\":\"YHCGdYLEyI-xUVffQ4p8Ag==\",\"red\":\"NMilGnVa4rARHfKKrO8zkQ==\",\"green\":\"Vwm8FE7ntWhc-Wf6PCQXww==\",\"date\":\"FOLYU0FaxvRQezwqa-RqYA==\",\"address\":\"_9KgabUnSroGGNhBM+HalmA==\",\"amountUsd\":\"WFzAe1VX+sRXzRbp+U063w==\",\"tokenStandard\":\"_0a4pI6JDvQygfxiTBqkCqw==\",\"historyInfo\":\"CAUwd7KM7wYMm8JvFn3z2g==\",\"invoiceContactWrapper\":\"qpjaFUBYDkWvwyS+DJHm+Q==\",\"contact\":\"dFkWOqwRngTltPVlrGgXDQ==\",\"addressWrapper\":\"PgUBlbMzX7+TrwjB+Wq5mA==\",\"requests\":\"+z6C4ZyeDSrTvFga8O4WtQ==\",\"comment\":\"Lif-QY0jhdbct7YXio5wQA==\",\"btnWrapper\":\"VMpyXleobLH8SZu1tKapEg==\",\"confirmWrapper\":\"V2UH-zx-r-U-4gdfj3JjnQ==\",\"historyRow\":\"jSdDGgq3cfGMPk33ni3oxw==\",\"smallTooltip\":\"D+mdUIC1QSHAdeYDOgLk+g==\",\"circleIcon\":\"_74LnFiVPS3HypTCw6zTvbg==\"};","// extracted by mini-css-extract-plugin\nexport default {\"table\":\"_12cJ5zScXLQzPiLEOgCbPA==\",\"noticeText\":\"_8FQxSaYBUvk7W-1hQno3vA==\",\"wallet\":\"FwrJkF1SjYbKUN2DQ3tnlw==\",\"history\":\"FKhsWicKObB2f33wHM2j6w==\",\"historySwap\":\"_0dGGyzYPh9iiFWoKSpgjkw==\",\"mobileThead\":\"_45-MUks0Lis1PS1DNZSBrg==\",\"exchange\":\"qVTb2zp8dz9yYUV9MMAXGw==\",\"img\":\"_3I7u4McHYpH3DuNxMkGdOw==\"};","// extracted by mini-css-extract-plugin\nexport default {\"history\":\"C+9nJwhS3znLUPG3tjQNFw==\",\"historyHeading\":\"LWTs4tewOPnTkC+iuTiidA==\",\"historyLoader\":\"hXnmztdaaU+2mZAxR5ir-w==\"};","import React from 'react'\r\nimport { FormattedMessage } from 'react-intl'\r\n\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './Table.scss'\r\n\r\ntype TableProps = {\r\n  rows: { [key: string]: any }[]\r\n  rowRender: (...any) => JSX.Element\r\n  \r\n  id?: string\r\n  className?: string\r\n  isLoading?: boolean\r\n  textIfEmpty?: JSX.Element | string\r\n  loadingText?: JSX.Element\r\n  titles?: (string | JSX.Element)[]\r\n}\r\n\r\ntype TableState = {\r\n  selectId: number\r\n}\r\n\r\n@CSSModules(styles, { allowMultiple: true })\r\nexport default class Table extends React.Component<TableProps, TableState> {\r\n  linkOnTableHead: any\r\n  linkOnTableBody: any\r\n  linkOnTable: any\r\n\r\n  static defaultProps = {\r\n    textIfEmpty: <FormattedMessage id=\"Table95\" defaultMessage=\"The table is empty\" />,\r\n    loadingText: <FormattedMessage id=\"Table96\" defaultMessage=\"Loading...\" />,\r\n    titles: []\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      selectId: 0,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.id === 'table-wallet') {\r\n      window.addEventListener('resize', this.handleResponsiveTable)\r\n      this.handleResponsiveTable()\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.props.id === 'table-wallet') {\r\n      window.removeEventListener('resize', this.handleResponsiveTable)\r\n    }\r\n  }\r\n\r\n  handleSelectId = (id) => {\r\n    this.setState(() => ({ selectId: id }))\r\n  }\r\n\r\n  handleResponsiveTable = () => {\r\n    const { linkOnTableBody: tdLink, linkOnTableHead: thLink } = this\r\n\r\n    let th = thLink.children[0].cells\r\n    let td = tdLink.children[0].cells\r\n\r\n    for (let i = 0; i < th.length; i++) {\r\n      th[i].style.width = `${td[i].offsetWidth}px`\r\n    }\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    const { rows, isLoading} = this.props\r\n\r\n    return isLoading !== nextProps.isLoading || rows !== nextProps.rows || this.state.selectId !== nextState.selectId\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      titles,\r\n      rows,\r\n      rowRender,\r\n      textIfEmpty,\r\n      isLoading,\r\n      loadingText,\r\n      className,\r\n    } = this.props\r\n\r\n    return (\r\n      <table styleName=\"table\" className={`table ${className}`} ref={(table) => this.linkOnTable = table}>\r\n        <thead ref={(thead) => this.linkOnTableHead = thead}>\r\n          <tr>\r\n            {\r\n              titles && titles.filter(title => !!title).map((title, index) => (\r\n                <th key={index}>{title}</th>\r\n              ))\r\n            }\r\n          </tr>\r\n        </thead>\r\n        <tbody ref={(tbody) => this.linkOnTableBody = tbody}>\r\n          {\r\n            isLoading && (\r\n              <tr>\r\n                <td styleName=\"noticeText\">{loadingText}</td>\r\n              </tr>\r\n            )\r\n          }\r\n          {\r\n            !isLoading && !rows.length && (\r\n              <tr>\r\n                <td styleName=\"noticeText\">{textIfEmpty}</td>\r\n              </tr>\r\n            )\r\n          }\r\n          {\r\n            !isLoading && !!rows.length && rows.map((row, rowIndex) => {\r\n              if (typeof rowRender === 'function') {\r\n                return rowRender(row, rowIndex, this.state.selectId, this.handleSelectId)\r\n              }\r\n            })\r\n          }\r\n        </tbody>\r\n      </table>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\n\r\nexport const withInfiniteScroll = () => Component => {\r\n  class InfiniteScroll extends React.Component<any, any> {\r\n    componentDidMount() {\r\n      window.addEventListener('scroll', this.onScroll)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n      window.removeEventListener('scroll', this.onScroll)\r\n    }\r\n\r\n    onScroll = () => {\r\n      const { bottomOffset, items, itemsCount } = this.props\r\n\r\n      const bottomSidePositionOnPage = document.documentElement.scrollTop + document.documentElement.clientHeight\r\n\r\n      if (bottomSidePositionOnPage >= document.body.offsetHeight - bottomOffset && items.length !== itemsCount && items.length) {\r\n        this.props.getMore()\r\n      }\r\n    }\r\n\r\n    render() {\r\n      const { getMore, bottomOffset, itemsCount, ...rest } = this.props\r\n      return <Component {...rest} />\r\n    }\r\n  }\r\n\r\n  //@ts-ignore\r\n  InfiniteScroll.propTypes = {\r\n    getMore: PropTypes.func,\r\n    bottomOffset: PropTypes.number,\r\n    items: PropTypes.array,\r\n    itemsCount: PropTypes.number,\r\n  }\r\n\r\n  return InfiniteScroll\r\n}\r\n","import React from 'react'\r\nimport Table from 'components/tables/Table/Table'\r\nimport { withInfiniteScroll } from 'decorators/withInfiniteScroll'\r\n\r\n@withInfiniteScroll()\r\nexport default class InfiniteScrollTable extends React.Component<any, any> {\r\n  render() {\r\n    const { items, ...rest } = this.props\r\n    const { rowRender } = rest\r\n\r\n    return (\r\n      <Table {...rest} rowRender={rowRender} rows={items} />\r\n    )\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"animationLoading\":\"HwbW9F7AvPvn5BbL7ST2fg==\",\"rideSideContent\":\"RUAIJ75cMbZuLAppPkKtsg==\",\"leftSideContent\":\"_0hx5AS5E4t7UKY0lP9LQXA==\",\"stop\":\"_7tMVOsuUc6O6f8ZLDUboZQ==\",\"container\":\"_7usbJxLiAKgEL-Z5mU2qgQ==\",\"inner\":\"mZmQFgnXihswhARneuahLw==\",\"descr\":\"_8YziL2GguvHBcJ-dxhTl-A==\",\"one\":\"hcJOk5XInxMzsc+OfJ2elw==\",\"balance\":\"_7w7NEubB1fm3wGmdhIM23Q==\",\"three\":\"DMQSMBiIRgR3PnLvgvJAWw==\",\"two\":\"_1ubXr6HECXyed7M7PqJ11A==\",\"content\":\"Bo3N8IY7MPJPPoRL1-jVag==\",\"four\":\"jy0BbEFTflE-i2pBXdZEnQ==\",\"five\":\"kZk-OQvfao2W6rmktQ+Lcw==\",\"six\":\"QO4RuAvXLEJwm4gvywrAgw==\",\"animate\":\"E8LDvFF-EeqIGoH3S2cjUQ==\",\"banners\":\"_2rgvGZVnAqcfrgnRUuzpCQ==\",\"textBlock\":\"qjbtLlFYrR8mD0L-O6-1dQ==\"};","import React, { Fragment, useState } from 'react'\r\nimport CSSModules from 'react-css-modules'\r\n\r\nimport styles from '../../ContentLoader.scss'\r\n\r\n\r\nconst ContentSection = () => (\r\n  <div styleName=\"container content\">\r\n    <div styleName=\"one\" />\r\n    <div styleName=\"two\" />\r\n    <div styleName=\"three\" />\r\n    <div styleName=\"four\" />\r\n    <div styleName=\"five\" />\r\n    <div styleName=\"six\" />\r\n  </div>\r\n)\r\n\r\nexport default CSSModules(ContentSection, styles, { allowMultiple: true })\r\n","import React, { Fragment, useState } from 'react'\r\nimport CSSModules from 'react-css-modules'\r\n\r\nimport styles from '../../ContentLoader.scss'\r\n\r\n\r\nconst DescrSection = () => (\r\n  <div styleName=\"container descr\">\r\n    <div styleName=\"one\" />\r\n  </div>\r\n)\r\n\r\nexport default CSSModules(DescrSection, styles, { allowMultiple: true })\r\n","import React, { Fragment, useState } from 'react'\r\nimport CSSModules from 'react-css-modules'\r\n\r\nimport styles from '../../ContentLoader.scss'\r\n\r\n\r\nfunction BalanceSection() {\r\n\r\n  return (\r\n    <div styleName=\"container balance\">\r\n      <div styleName=\"one\" />\r\n      <div styleName=\"two\" />\r\n      <div styleName=\"three\" />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CSSModules(BalanceSection, styles, { allowMultiple: true })\r\n\r\n","import React, { Fragment, useState } from 'react'\r\nimport CSSModules from 'react-css-modules'\r\n\r\nimport styles from '../../ContentLoader.scss'\r\n\r\n\r\nfunction BannersSection() {\r\n\r\n  return (\r\n    <div styleName=\"container banners\">\r\n      <div styleName=\"one\" />\r\n      <div styleName=\"two\" />\r\n      <div styleName=\"three\" />\r\n      <div styleName=\"four\" />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CSSModules(BannersSection, styles, { allowMultiple: true })\r\n\r\n","import React, { Fragment, useState } from 'react'\r\nimport CSSModules from 'react-css-modules'\r\n\r\nimport styles from './ContentLoader.scss'\r\nimport ContentSection from './components/ContentSection/ContentSection'\r\nimport DescrSection from './components/DescrSection/DescrSection'\r\nimport BalanceSection from './components/BalanceSection/BalanceSection'\r\nimport BannersSection from './components/BannersSection/BannersSection'\r\n\r\nfunction ContentLoader(props) {\r\n  const { empty, inner, rideSideContent, leftSideContent, banners, nonHeader } = props\r\n\r\n  return (\r\n    <Fragment>\r\n      {\r\n        rideSideContent ? (\r\n          <div styleName={`animationLoading rideSideContent ${empty ? 'stop' : ''} ${inner ? 'inner' : ''}`}>\r\n            {\r\n              empty ? (\r\n                <div styleName=\"textBlock\">\r\n                  <p>No transactions</p>\r\n                  <span>There isn't any activity in your account yet</span>\r\n                </div>\r\n              ) : ''\r\n            }\r\n            {!empty && !nonHeader ? <DescrSection /> : ''}\r\n            <ContentSection />\r\n            <ContentSection />\r\n          </div>\r\n        ) : ''\r\n      }\r\n      {\r\n        leftSideContent ? (\r\n          <div styleName=\"animationLoading leftSideContent\">\r\n            <BalanceSection />\r\n          </div>\r\n        ) : ''\r\n      }\r\n      {\r\n        banners ? (\r\n          <div styleName=\"animationLoading banners\">\r\n            <BannersSection />\r\n          </div>\r\n        ) : ''\r\n      }\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default CSSModules(ContentLoader, styles, { allowMultiple: true })\r\n\r\n","import React from 'react'\r\nimport CSSModules from 'react-css-modules'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport styles from './styles.scss'\r\n\r\n\r\nconst FilterForm = ({ filterValue, onSubmit, onChange, resetFilter }) => {\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault()\r\n\r\n    onSubmit()\r\n  }\r\n\r\n  const handleResetFilter = e => {\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n\r\n    resetFilter()\r\n  }\r\n\r\n  return (\r\n    <form styleName=\"filterForm\" onSubmit={handleSubmit} >\r\n      <input placeholder=\"Search\" value={filterValue} type=\"text\" onChange={onChange} />\r\n      <div styleName=\"buttons\">\r\n        <button styleName=\"show\" onClick={handleSubmit} type=\"button\">\r\n          <FormattedMessage id=\"FilterTextFind\" defaultMessage=\"Find\" />\r\n        </button>\r\n        <button styleName={`all ${filterValue ? 'active' : ''}`} onClick={handleResetFilter} type=\"button\">\r\n          <FormattedMessage id=\"FilterTextAll\" defaultMessage=\"All\" />\r\n        </button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default CSSModules(FilterForm, styles, { allowMultiple: true })\r\n","// extracted by mini-css-extract-plugin\nexport default {\"filterForm\":\"gy-3SeyADXF7DI6b0InyoQ==\",\"buttons\":\"OWhhFzY4xSZn2c0vzESJNA==\",\"show\":\"M6RDrlDDPYjuDSfO2KCnIg==\",\"all\":\"rbGQZKqF5c5vPVwFAQxl6g==\",\"active\":\"B6rptIJV9rDInuJ9RfmcjA==\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"n-AanhEs5V-SrQt4sXh1xQ==\",\"currencyWalletWrapper\":\"_2H0JgzN9iElXoqfno0v6vQ==\",\"currencyWalletBalance\":\"zV8Q9A35wf0IJcssKk7zog==\",\"currencyWalletActivity\":\"+zYYnsM9KlbrzedHv92A0w==\",\"title\":\"_6eRhukvKjp3fT5-uytvdbg==\",\"heading\":\"Ek0uOUCQ8-CWuBnd-YIlvg==\",\"currencyHistory\":\"lsTJLQTlJZWmIvI6f973-A==\",\"historyContent\":\"_4CBMdA2ZZQzLra9r4dNoWA==\",\"btc\":\"muKxT1x8j+YYYT6b7e+pSg==\",\"subtitle\":\"_2YzMYYrmVSWAQhMGYxOUJQ==\",\"table\":\"Gzbwso2rs6qpyH8L0B8QdQ==\",\"inRow\":\"-CzXm2hRlWrP4Dmi2gtUBw==\",\"button\":\"gbTFFnQZ3ciuwl5MZIEOtg==\",\"actions\":\"NtiV3CH9gDmI3CUHJhKpcA==\",\"widgetNav\":\"_4+QYSMBaNwTshrRKj7RMzA==\",\"widgetNavItem\":\"_8aFrEfwGJt9hg-u2Obk9zQ==\",\"active\":\"-9hvmoxyREzR5mqzI4EdGA==\",\"widgetNavItemLink\":\"qypTECq00kMQrO6pciCL5Q==\",\"info\":\"v3d2-5cc8VQ3oTSlqHcTCA==\"};","import React, { PureComponent, Fragment } from 'react'\r\n\r\nimport { connect } from 'redaction'\r\nimport actions from 'redux/actions'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nimport { links, constants } from 'helpers'\r\n\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from 'pages/CurrencyWallet/CurrencyWallet.scss'\r\n\r\nimport Row from 'pages/History/Row/Row'\r\n\r\nimport Table from 'components/tables/Table/Table'\r\nimport { FormattedMessage, injectIntl } from 'react-intl'\r\nimport { localisedUrl } from 'helpers/locale'\r\nimport config from 'helpers/externalConfig'\r\nimport ContentLoader from 'components/loaders/ContentLoader/ContentLoader'\r\nimport lsDataCache from 'helpers/lsDataCache'\r\n\r\n\r\nconst isWidgetBuild = config && config.isWidget\r\n\r\n@connect(({\r\n  user: {\r\n    btcData,\r\n    ethData,\r\n    bnbData,\r\n    maticData,\r\n    arbethData,\r\n    aurethData,\r\n    xdaiData,\r\n    ftmData,\r\n    avaxData,\r\n    movrData,\r\n    oneData,\r\n    ghostData,\r\n    nextData,\r\n    phiData,\r\n    ameData,\r\n    activeFiat,\r\n  },\r\n}) => {\r\n  return {\r\n    data: {\r\n      btc: btcData,\r\n      eth: ethData,\r\n      bnb: bnbData,\r\n      matic: maticData,\r\n      arbeth: arbethData,\r\n      aureth: aurethData,\r\n      xdai: xdaiData,\r\n      ftm: ftmData,\r\n      avax: avaxData,\r\n      movr: movrData,\r\n      one: oneData,\r\n      ghost: ghostData,\r\n      next: nextData,\r\n      phi: phiData,\r\n      ame: ameData,\r\n    },\r\n    activeFiat,\r\n  }\r\n})\r\n@withRouter\r\n@CSSModules(styles, { allowMultiple: true })\r\nclass InvoicesList extends PureComponent<any, any> {\r\n  unmounted = false\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const {\r\n      match: {\r\n        params: {\r\n          type = null,\r\n          address = null,\r\n        },\r\n      },\r\n    } = props\r\n\r\n    let items = false\r\n    if (type && address) {\r\n      items = lsDataCache.get(`Invoices_${type.toLowerCase()}_${address.toLowerCase()}`)\r\n    } else {\r\n      items = lsDataCache.get(`Invoices_All`)\r\n    }\r\n    this.state = {\r\n      type,\r\n      address,\r\n      items,\r\n    }\r\n  }\r\n\r\n  handleGoWalletHome = () => {\r\n    const { history, intl: { locale } } = this.props\r\n\r\n    history.push(localisedUrl(locale, links.wallet))\r\n  }\r\n\r\n  fetchItems = () => {\r\n    const {\r\n      type,\r\n      address,\r\n    } = this.state\r\n\r\n    if (type && address) {\r\n      // Fetch for one wallet\r\n      actions.invoices.getInvoices({\r\n        currency: type,\r\n        address,\r\n      //@ts-ignore\r\n      }).then((items) => {\r\n        lsDataCache.push({\r\n          key: `Invoices_${type.toLowerCase()}_${address.toLowerCase()}`,\r\n          time: 3600,\r\n          data: items,\r\n        })\r\n        if (!this.unmounted) {\r\n          this.setState({ items })\r\n        }\r\n      })\r\n    } else {\r\n      // Fetch for all my wallets\r\n      const wallets = actions.core.getWallets({})\r\n      const invoicesData = wallets.map((wallet) => {\r\n        const {\r\n          currency: type,\r\n          tokenKey,\r\n          address,\r\n        } = wallet\r\n\r\n        return {\r\n          type,\r\n          tokenKey,\r\n          address,\r\n        }\r\n      }).filter((wallet) => wallet.address !== `Not connected`)\r\n\r\n      actions.invoices.getManyInvoices(invoicesData).then((items) => {\r\n        lsDataCache.push({\r\n          key: `Invoices_All`,\r\n          time: 3600,\r\n          data: items,\r\n        })\r\n        if (!this.unmounted) {\r\n          this.setState({ items })\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  async componentWillUnmount() {\r\n    console.log('InvoicesList unmounted')\r\n    this.unmounted = true\r\n  }\r\n\r\n  async componentDidMount() {\r\n    console.log('InvoicesList mounted')\r\n    this.fetchItems()\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    let {\r\n      match: {\r\n        params: {\r\n          type = null,\r\n          address = null,\r\n        },\r\n      },\r\n    } = this.props\r\n\r\n    let {\r\n      match: {\r\n        params: {\r\n          address: prevAddress = null,\r\n          type: prevType = null,\r\n        },\r\n      },\r\n    } = prevProps\r\n\r\n    if ((prevAddress !== address) || (prevType !== type)) {\r\n      let items = false\r\n      if (type && address) {\r\n        items = lsDataCache.get(`Invoices_${type.toLowerCase()}_${address.toLowerCase()}`)\r\n      } else {\r\n        items = lsDataCache.get(`Invoices_All`)\r\n      }\r\n      this.setState({\r\n        type,\r\n        address,\r\n        items,\r\n      }, () => {\r\n        this.fetchItems()\r\n      })\r\n    }\r\n  }\r\n\r\n  rowRender = (row, rowIndex) => {\r\n    const {\r\n      history,\r\n      activeFiat,\r\n    } = this.props\r\n\r\n    return (\r\n      <Row key={rowIndex} {...row} viewType=\"invoice\" activeFiat={activeFiat} history={history} />\r\n    )\r\n  }\r\n\r\n  render() {\r\n    let {\r\n      onlyTable,\r\n    } = this.props\r\n\r\n    const {\r\n      isRedirecting,\r\n      items,\r\n    } = this.state\r\n\r\n    if (isRedirecting) return null\r\n\r\n    const invoicesTable = (\r\n      <div styleName=\"currencyWalletActivity\">\r\n        <h3>\r\n          <FormattedMessage id=\"InvoicesList_Title\" defaultMessage=\"Invoices\" />\r\n        </h3>\r\n        {(items && items.length > 0) ? (\r\n          <Table rows={items} styleName=\"currencyHistory\" rowRender={this.rowRender} />\r\n        ) : (\r\n          <ContentLoader rideSideContent empty inner />\r\n        )}\r\n      </div>\r\n    )\r\n\r\n    if (onlyTable) {\r\n      return invoicesTable\r\n    }\r\n\r\n    return (\r\n      <div styleName=\"root\">\r\n        {isWidgetBuild && !config.isFullBuild && (\r\n          <ul styleName=\"widgetNav\">\r\n            <li styleName=\"widgetNavItem\" onClick={this.handleGoWalletHome}>\r\n              <a href=\"#\" styleName=\"widgetNavItemLink\">\r\n                <FormattedMessage id=\"MybalanceswalletNav\" defaultMessage=\" \" />\r\n              </a>\r\n            </li>\r\n            <li styleName=\"widgetNavItem active\">\r\n              <a href=\"#\" styleName=\"widgetNavItemLink\">\r\n                <FormattedMessage id=\"InvoicesList_Title\" defaultMessage=\"Invoices\" />\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        )}\r\n        <Fragment>\r\n          <div styleName=\"currencyWalletWrapper\">\r\n            <div styleName=\"currencyWalletBalance\">\r\n              {(items && items.length > 0) ? (\r\n                <div>\r\n                  {/* Right form holder */}\r\n                </div>\r\n              ) : (\r\n                <ContentLoader leftSideContent />\r\n              )}\r\n            </div>\r\n            <div styleName=\"currencyWalletActivity\">\r\n              {invoicesTable}\r\n            </div>\r\n          </div>\r\n        </Fragment>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(InvoicesList)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"statusFinished\":\"E--AI+PdaDQkqC66pNH1Pw==\",\"statusRefunded\":\"tfoPGrp1BlHZ7jJzXjt4WA==\",\"statusStopped\":\"_81aiUzw+MGX8BFm0iOzE2g==\",\"refundStatus\":\"l6AnQ1jhd5igjDtkTNyEVQ==\"};","import React, { Fragment, Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport moment from 'moment/moment'\r\nimport cx from 'classnames'\r\n\r\nimport { links } from 'helpers'\r\nimport actions from 'redux/actions'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './RowHistory.scss'\r\n\r\nimport Timer from 'pages/Swap/Timer/Timer'\r\nimport { FormattedMessage, injectIntl } from 'react-intl'\r\nimport BigNumber from 'bignumber.js'\r\n\r\nimport { COIN_DATA, COIN_MODEL } from 'swap.app/constants/COINS'\r\n\r\n@CSSModules(styles, { allowMultiple: true })\r\nclass RowHistory extends Component<any, any> {\r\n  static propTypes = {\r\n    row: PropTypes.object,\r\n  }\r\n\r\n  tryRefund = (timeLeft) => {\r\n    const {\r\n      row: { id },\r\n    } = this.props\r\n\r\n    if (timeLeft > 0) return\r\n\r\n    try {\r\n      const { flow } = actions.core.getSwapById(id)\r\n\r\n      const {\r\n        state: { isFinished, isRefunded, step, scriptBalance, isEthContractFunded },\r\n        swap: { sellCurrency },\r\n      } = flow\r\n\r\n      if (isFinished || isRefunded) return\r\n\r\n      const isUTXOModel = COIN_DATA[sellCurrency] && COIN_DATA[sellCurrency].model === COIN_MODEL.UTXO\r\n\r\n      const isPayed = isUTXOModel ? 4 : 5\r\n      const isEmptyBalance = isUTXOModel ? scriptBalance === 0 : !isEthContractFunded\r\n\r\n      if (step === isPayed && isEmptyBalance) {\r\n        console.group('HISTORY ROW > %c Refund of swap', 'color: red;')\r\n        console.log(`Refund of swap ${id} is not available`)\r\n        console.groupEnd()\r\n        return\r\n      }\r\n\r\n      flow.tryRefund().then((result) => {\r\n        console.log('refunded', result)\r\n      })\r\n    } catch (err) {\r\n      console.error(`RefundError`, err)\r\n    }\r\n  }\r\n\r\n  getSwapStatusText = (isFinished: boolean, isRefunded: boolean, isStoppedSwap: boolean) => {\r\n    if (isFinished) {\r\n      return <FormattedMessage id=\"RowHistory94\" defaultMessage=\"Finished\" />\r\n    }\r\n    if (isRefunded) {\r\n      return <FormattedMessage id=\"RowHistory77\" defaultMessage=\"Refunded\" />\r\n    }\r\n    if (isStoppedSwap) {\r\n      return <FormattedMessage id=\"RowHistory139\" defaultMessage=\"Stopped\" />\r\n    }\r\n\r\n    return ''\r\n  }\r\n\r\n  closeIncompleted = () => {\r\n    actions.modals.close('IncompletedSwaps')\r\n  }\r\n  componentDidMount() {\r\n    const {\r\n      utxoScriptValues: values,\r\n    } = this.props.row\r\n\r\n    if (!values) return\r\n\r\n    const lockTime = values.lockTime * 1000\r\n\r\n    const timeLeft = lockTime - Date.now()\r\n\r\n    this.tryRefund(timeLeft)\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      row,\r\n    } = this.props\r\n\r\n    if (row === 'undefined') {\r\n      return null\r\n    }\r\n\r\n    let {\r\n      buyAmount,\r\n      buyCurrency,\r\n      sellAmount,\r\n      utxoScriptValues: values,\r\n      scriptBalance,\r\n      isRefunded,\r\n      isTurbo,\r\n      sellCurrency,\r\n      isFinished,\r\n      id,\r\n      isStoppedSwap,\r\n    } = row\r\n\r\n    const canBeRefunded = values && scriptBalance > 0\r\n    const isDeletedSwap = isFinished || isRefunded\r\n\r\n    const date = Date.now() / 1000\r\n\r\n    if (!values) {\r\n      return\r\n    }\r\n\r\n    const lockDateAndTime = moment.unix(values.lockTime || date).format('HH:mm:ss DD/MM/YYYY')\r\n\r\n    const swapUri = isTurbo ?\r\n      `${links.turboSwap}/${id}`\r\n      :\r\n      `${links.atomicSwap}/${id}`\r\n\r\n    buyAmount = new BigNumber(buyAmount)\r\n    sellAmount = new BigNumber(sellAmount)\r\n\r\n    return (\r\n      <tr key={id}>\r\n        <td>\r\n          <span>You buy</span>\r\n          {`${buyAmount.toFixed(5)} ${buyCurrency.toUpperCase()}`}\r\n        </td>\r\n        <td>\r\n          <span>You sell</span>\r\n          {`${sellAmount.toFixed(5)} ${sellCurrency.toUpperCase()}`}\r\n        </td>\r\n        <td>\r\n          <span>Lock time</span>\r\n          {lockDateAndTime.split(' ').map((item, key) => (\r\n            <Fragment key={key}> {item}</Fragment>\r\n          ))}\r\n        </td>\r\n        <td>\r\n          <span>Status</span>\r\n          <p\r\n            className={cx({\r\n              [styles.statusFinished]: isFinished,\r\n              [styles.statusRefunded]: isRefunded,\r\n              [styles.statusStopped]: isStoppedSwap && (isFinished || isRefunded) ? false : true,\r\n            })}\r\n          >\r\n            {this.getSwapStatusText(isFinished, isRefunded, isStoppedSwap)}\r\n\r\n            {!isDeletedSwap && (\r\n              <div styleName=\"refundStatus\">\r\n                {canBeRefunded ? (\r\n                  <Timer lockTime={values.lockTime * 1000} enabledButton={this.tryRefund} />\r\n                ) : (\r\n                  <FormattedMessage id=\"RowHistory76\" defaultMessage=\"Refund not available\" />\r\n                )}\r\n              </div>\r\n            )}\r\n          </p>\r\n        </td>\r\n        <td>\r\n          <Link to={swapUri} onClick={this.closeIncompleted}>\r\n            <FormattedMessage id=\"RowHistory91\" defaultMessage=\"Link\" />\r\n          </Link>\r\n        </td>\r\n      </tr>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(RowHistory)\r\n","import React, { PureComponent } from 'react'\r\n\r\nimport Table from 'components/tables/Table/Table'\r\nimport styles from 'components/tables/Table/Table.scss'\r\nimport RowHistory from './RowHistory/RowHistory'\r\n\r\nimport { FormattedMessage } from 'react-intl'\r\n\r\nimport CSSModules from 'react-css-modules'\r\nimport stylesSwaps from './SwapsHistory.scss'\r\n\r\n@CSSModules({ ...styles, ...stylesSwaps }, { allowMultiple: true })\r\nexport default class SwapsHistory extends PureComponent<any, any> {\r\n\r\n  render() {\r\n    let { orders } = this.props\r\n\r\n    if (orders === null || orders.length === 0) {\r\n      return null\r\n    }\r\n\r\n    return (\r\n      <div styleName=\"swapsHistory\">\r\n        <h3>\r\n          <FormattedMessage id=\"SwapHisrory21\" defaultMessage=\"Swaps history\" />\r\n        </h3>\r\n        <Table\r\n          id=\"table-history\"\r\n          className={styles.historySwap}\r\n          rows={orders.reverse()}\r\n          rowRender={(row, index) => (\r\n            <RowHistory\r\n              key={index}\r\n              row={row}\r\n            />\r\n          )}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"swapsHistory\":\"yU8224byjGxIAA1cVRlv8w==\"};","import { Component, Fragment } from 'react'\r\nimport { FormattedMessage, injectIntl } from 'react-intl'\r\nimport CSSModules from 'react-css-modules'\r\nimport { connect } from 'redaction'\r\nimport actions from 'redux/actions'\r\nimport Row from './Row/Row'\r\nimport styles from 'components/tables/Table/Table.scss'\r\nimport stylesHere from './History.scss'\r\nimport { externalConfig } from 'helpers'\r\nimport InfiniteScrollTable from 'components/tables/InfiniteScrollTable/InfiniteScrollTable'\r\nimport ContentLoader from 'components/loaders/ContentLoader/ContentLoader'\r\nimport FilterForm from 'components/FilterForm/FilterForm'\r\nimport InvoicesList from 'pages/Invoices/InvoicesList'\r\nimport SwapsHistory from 'pages/History/SwapsHistory/SwapsHistory'\r\n\r\nimport { onInit as onSwapCoreInited } from 'instances/newSwap'\r\n\r\n\r\nconst filterHistory = (items, filter) => {\r\n  if (filter === 'sent') {\r\n    return items.filter(({ direction }) => direction === 'out')\r\n  }\r\n\r\n  if (filter === 'received') {\r\n    return items.filter(({ direction }) => direction === 'in')\r\n  }\r\n\r\n  return items\r\n}\r\n\r\n@connect(({\r\n  user: { activeFiat },\r\n  history: {\r\n    transactions,\r\n    filter,\r\n    swapHistory,\r\n  },\r\n}) => ({\r\n  activeFiat,\r\n  items: filterHistory(transactions, filter),\r\n  swapHistory,\r\n}))\r\n@CSSModules(stylesHere, { allowMultiple: true })\r\nclass History extends Component<any, any> {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const {\r\n      items,\r\n      match: {\r\n        params: {\r\n          page = null,\r\n        }\r\n      }\r\n    } = props\r\n\r\n    const commentsList = actions.comments.getComments()\r\n\r\n    this.state = {\r\n      page,\r\n      items,\r\n      filterValue: \"\",\r\n      isLoading: false,\r\n      renderedItems: 10,\r\n      commentsList: commentsList || null\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    actions.user.setTransactions()\r\n\r\n    onSwapCoreInited(() => {\r\n      actions.core.getSwapHistory()\r\n    })\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { items: prevItems } = prevProps\r\n    const { items } = this.props\r\n\r\n    if (items !== prevItems) {\r\n      this.createItemsState(items)\r\n    }\r\n  }\r\n\r\n  createItemsState = (items) => {\r\n    this.setState(() => ({ items }))\r\n  }\r\n\r\n  loadMore = () => {\r\n    const { items } = this.props\r\n    const { renderedItems } = this.state\r\n\r\n    if (renderedItems < items.length) {\r\n      this.setState(state => ({\r\n        renderedItems: state.renderedItems + Math.min(10, items.length - state.renderedItems),\r\n      }))\r\n    }\r\n  }\r\n\r\n  rowRender = (row, rowIndex) => {\r\n    const { activeFiat } = this.props\r\n    const { commentsList } = this.state\r\n\r\n    return (\r\n      <Row\r\n        activeFiat={activeFiat}\r\n        key={rowIndex}\r\n        hiddenList={commentsList}\r\n        {...row}\r\n      />\r\n    )\r\n  }\r\n\r\n  handleFilterChange = ({ target }) => {\r\n    const { value } = target\r\n\r\n    this.setState(() => ({ filterValue: value }))\r\n  }\r\n\r\n  handleFilter = () => {\r\n    const { filterValue, items } = this.state\r\n\r\n    if (filterValue && filterValue.length) {\r\n      const newRows = items.filter(({ address }) => address && address.includes(filterValue.toLowerCase()))\r\n      this.setState(() => ({ items: newRows }))\r\n\r\n    } else {\r\n      this.resetFilter()\r\n    }\r\n  }\r\n\r\n  loading = () => {\r\n    this.setState(() => ({ isLoading: true }))\r\n    setTimeout(() => this.setState(() => ({ isLoading: false })), 1000)\r\n  }\r\n\r\n  resetFilter = () => {\r\n\r\n    this.loading()\r\n    const { items } = this.props\r\n    this.setState(() => ({ filterValue: \"\" }))\r\n\r\n    this.createItemsState(items)\r\n  }\r\n\r\n  render() {\r\n    const { filterValue, items, isLoading } = this.state\r\n    const { swapHistory } = this.props\r\n    const titles = []\r\n\r\n    return (\r\n      <Fragment>\r\n      <section styleName=\"history\">\r\n        <h3 styleName=\"historyHeading\">\r\n          <FormattedMessage id=\"History_Activity_Title\" defaultMessage=\"Activity\" />\r\n        </h3>\r\n        {items ? (\r\n          <div>\r\n            <FilterForm\r\n              filterValue={filterValue}\r\n              onSubmit={this.handleFilter}\r\n              onChange={this.handleFilterChange}\r\n              resetFilter={this.resetFilter}\r\n            />\r\n            <div>\r\n              {\r\n                items.length > 0 && !isLoading ? (\r\n                  <InfiniteScrollTable\r\n                    className={styles.history}\r\n                    titles={titles}\r\n                    bottomOffset={400}\r\n                    getMore={this.loadMore}\r\n                    itemsCount={items.length}\r\n                    items={items.slice(0, this.state.renderedItems)}\r\n                    rowRender={this.rowRender}\r\n                  />\r\n                ) : (\r\n                  <ContentLoader rideSideContent empty={!isLoading} nonHeader />\r\n                )\r\n              }\r\n            </div>\r\n          </div>\r\n          ) : (\r\n            <div styleName=\"historyLoader\">\r\n              <ContentLoader rideSideContent />\r\n            </div>\r\n          )\r\n        }\r\n      </section>\r\n\r\n      {externalConfig.opts.invoiceEnabled && <InvoicesList onlyTable />}\r\n\r\n      { swapHistory.length > 0 &&\r\n        <SwapsHistory orders={swapHistory.filter((item) => item.step >= 1)} />\r\n      }\r\n\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(History)\r\n","import cssModules from 'react-css-modules'\r\nimport styles from './CloseIcon.scss'\r\n\r\ntype ComponentProps = {\r\n  onClick: (...args: any) => void\r\n  styleName?: string\r\n  id?: string\r\n}\r\n\r\nconst CloseIcon = (props: ComponentProps) => {\r\n  const { onClick, styleName = '', id = '', ...rest } = props\r\n\r\n  return (\r\n    <div id={id} styleName=\"button\" {...rest} role=\"closeButton\" onClick={onClick}>\r\n      <div styleName=\"icon\" role=\"closeIcon\" />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default cssModules(CloseIcon, styles, { allowMultiple: true })\r\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"wZATbmaU-kMdWbf+1GzAeA==\",\"icon\":\"A1XuWueLWsaY05pgs29C2A==\"};","import config from 'helpers/externalConfig'\r\n\r\nconst { curEnabled } = config.opts\r\nconst onlyEvmWallets = !!(config?.opts?.ui?.disableInternalWallet)\r\n\r\nexport const defaultPack = [\r\n  ...((!curEnabled || curEnabled.btc) && !onlyEvmWallets ? [{ name: 'BTC', capture: 'Bitcoin' }] : []),\r\n\r\n  ...(!curEnabled || curEnabled.eth ? [{ name: 'ETH', capture: 'Ethereum' }] : []),\r\n\r\n  ...(!curEnabled || curEnabled.bnb ? [{ name: 'BNB', capture: 'Binance Coin' }] : []),\r\n\r\n  ...(!curEnabled || curEnabled.matic ? [{ name: 'MATIC', capture: 'MATIC Token' }] : []),\r\n\r\n  ...(!curEnabled || curEnabled.arbeth ? [{ name: 'ARBETH', capture: 'Arbitrum ETH' }] : []),\r\n\r\n  ...(!curEnabled || curEnabled.xdai ? [{ name: 'XDAI', capture: 'xDai' }] : []),\r\n\r\n  ...(!curEnabled || curEnabled.ftm ? [{ name: 'FTM', capture: 'Fantom' }] : []),\r\n\r\n  ...(!curEnabled || curEnabled.avax ? [{ name: 'AVAX', capture: 'Avalanche' }] : []),\r\n\r\n  ...(!curEnabled || curEnabled.movr ? [{ name: 'MOVR', capture: 'Moonriver' }] : []),\r\n\r\n  ...(!curEnabled || curEnabled.one ? [{ name: 'ONE', capture: 'Harmony' }] : []),\r\n\r\n  ...(!curEnabled || curEnabled.ame ? [{ name: 'AME', capture: 'AME Chain' }] : []),\r\n\r\n  ...(!curEnabled || curEnabled.aureth ? [{ name: 'AURETH', capture: 'Aurora ETH' }] : []),\r\n\r\n  ...(!curEnabled || curEnabled.phi_v1 ? [{ name: 'PHI_V1', capture: 'PHI_V1' }] : []),\r\n  ...(!curEnabled || curEnabled.phi ? [{ name: 'PHI', capture: 'PHI' }] : []),\r\n\r\n  ...(!curEnabled || curEnabled.fkw ? [{ name: 'FKW', capture: 'FKW' }] : []),\r\n  \r\n  ...(!curEnabled || curEnabled.phpx ? [{ name: 'PHPX', capture: 'PHPX' }] : []),\r\n\r\n  ...((!curEnabled || curEnabled.ghost) && !onlyEvmWallets ? [{ name: 'GHOST', capture: 'Ghost' }] : []),\r\n  ...((!curEnabled || curEnabled.next) && !onlyEvmWallets ? [{ name: 'NEXT', capture: 'NEXT.coin' }] : []),\r\n\r\n  ...(config.bep20 ? [{ name: 'BTCB', capture: 'BTCB Token', baseCurrency: 'BNB' }] : []),\r\n  ...(config.erc20\r\n    ? [\r\n      { name: 'WBTC', capture: 'Wrapped Bitcoin', baseCurrency: 'ETH' },\r\n      { name: 'USDT', capture: 'Tether', baseCurrency: 'ETH' },\r\n      { name: 'EURS', capture: 'Eurs', baseCurrency: 'ETH' },\r\n    ]\r\n    : []),\r\n  ...(config.erc20matic ? [{ name: 'WBTC', capture: 'WBTC Token', baseCurrency: 'MATIC' }] : []),\r\n  ...(process.env.MAINNET\r\n    ? [{ name: 'SWAP', capture: 'Swap', baseCurrency: 'ETH' }]\r\n    : [{ name: 'WEENUS', capture: 'Weenus', baseCurrency: 'ETH' }]),\r\n  ...(config.erc20 ? [{ name: 'ERC20', capture: 'Token', baseCurrency: 'ETH' }] : []),\r\n  ...(config.bep20 ? [{ name: 'BEP20', capture: 'Token', baseCurrency: 'BNB' }] : []),\r\n  ...(config.erc20matic ? [{ name: 'ERC20MATIC', capture: 'Token', baseCurrency: 'MATIC' }] : []),\r\n  ...(config.erc20xdai ? [{ name: 'ERC20XDAI', capture: 'Token', baseCurrency: 'XDAI' }] : []),\r\n  ...(config.erc20ftm ? [{ name: 'ERC20FTM', capture: 'Token', baseCurrency: 'FTM' }] : []),\r\n  ...(config.erc20avax ? [{ name: 'ERC20AVAX', capture: 'Token', baseCurrency: 'AVAX' }] : []),\r\n  ...(config.erc20movr ? [{ name: 'ERC20MOVR', capture: 'Token', baseCurrency: 'MOVR' }] : []),\r\n  ...(config.erc20one ? [{ name: 'ERC20ONE', capture: 'Token', baseCurrency: 'ONE' }] : []),\r\n  ...(config.erc20ame ? [{ name: 'ERC20AME', capture: 'Token', baseCurrency: 'AME' }] : []),\r\n  ...(config.erc20aurora ? [{ name: 'ERC20AURORA', capture: 'Token', baseCurrency: 'AURETH' }] : []),\r\n  ...(config.phi20_v1 ? [{ name: 'PHI20_V1', capture: 'Token', baseCurrency: 'PHI_V1' }] : []),\r\n  ...(config.phi20 ? [{ name: 'PHI20', capture: 'Token', baseCurrency: 'PHI' }] : []),\r\n  ...(config.fkw20 ? [{ name: 'FKW20', capture: 'Token', baseCurrency: 'FKW' }] : []),\r\n  ...(config.phpx20 ? [{ name: 'PHPX20', capture: 'Token', baseCurrency: 'PHPX' }] : []),\r\n]\r\n\r\nexport const widgetPack = [\r\n  ...((!curEnabled || curEnabled.btc) && !onlyEvmWallets ? [{ name: 'BTC', capture: 'Bitcoin' }] : []),\r\n  ...(!curEnabled || curEnabled.eth ? [{ name: 'ETH', capture: 'Ethereum' }] : []),\r\n  ...((config.erc20 && (!curEnabled || curEnabled.eth)) ? [{ name: 'ERC20', capture: 'Token', baseCurrency: 'ETH' }] : []),\r\n  ...(!curEnabled || curEnabled.bnb ? [{ name: 'BNB', capture: 'Binance Coin' }] : []),\r\n  ...((config.bep20 && (!curEnabled || curEnabled.bnb)) ? [{ name: 'BEP20', capture: 'Token', baseCurrency: 'BNB' }] : []),\r\n  ...(!curEnabled || curEnabled.matic ? [{ name: 'MATIC', capture: 'MATIC Token' }] : []),\r\n  ...((config.erc20matic && (!curEnabled || curEnabled.matic)) ? [{ name: 'ERC20MATIC', capture: 'Token', baseCurrency: 'MATIC' }] : []),\r\n  ...(!curEnabled || curEnabled.arbeth ? [{ name: 'ARBETH', capture: 'Arbitrum ETH' }] : []),\r\n  ...(!curEnabled || curEnabled.xdai ? [{ name: 'XDAI', capture: 'xDai' }] : []),\r\n  ...((config.erc20xdai && (!curEnabled || curEnabled.xdai)) ? [{ name: 'ERC20XDAI', capture: 'Token', baseCurrency: 'XDAI' }] : []),\r\n  ...(!curEnabled || curEnabled.ftm ? [{ name: 'FTM', capture: 'Fantom' }] : []),\r\n  ...((config.erc20ftm && (!curEnabled || curEnabled.ftm)) ? [{ name: 'ERC20FTM', capture: 'Token', baseCurrency: 'FTM' }] : []),\r\n  ...(!curEnabled || curEnabled.avax ? [{ name: 'AVAX', capture: 'Avalanche' }] : []),\r\n  ...((config.erc20avax && (!curEnabled || curEnabled.avax)) ? [{ name: 'ERC20AVAX', capture: 'Token', baseCurrency: 'AVAX' }] : []),\r\n  ...(!curEnabled || curEnabled.movr ? [{ name: 'MOVR', capture: 'Moonriver' }] : []),\r\n  ...((config.erc20movr && (!curEnabled || curEnabled.movr)) ? [{ name: 'ERC20MOVR', capture: 'Token', baseCurrency: 'MOVR' }] : []),\r\n  ...(!curEnabled || curEnabled.one ? [{ name: 'ONE', capture: 'Harmony One' }] : []),\r\n  ...((config.erc20one && (!curEnabled || curEnabled.one)) ? [{ name: 'ERC20ONE', capture: 'Token', baseCurrency: 'ONE' }] : []),\r\n  ...(!curEnabled || curEnabled.ame ? [{ name: 'AME', capture: 'AME Chain' }] : []),\r\n  ...((config.erc20ame && (!curEnabled || curEnabled.ame)) ? [{ name: 'ERC20AME', capture: 'Token', baseCurrency: 'AME' }] : []),\r\n  ...(!curEnabled || curEnabled.aureth ? [{ name: 'AURETH', capture: 'Aurora ETH' }] : []),\r\n  ...((config.erc20aurora && (!curEnabled || curEnabled.aureth)) ? [{ name: 'ERC20AURORA', capture: 'Token', baseCurrency: 'AURETH' }] : []),\r\n  ...(!curEnabled || curEnabled.phi_v1 ? [{ name: 'PHI_V1', capture: 'PHI_V1' }] : []),\r\n  ...(!curEnabled || curEnabled.phi ? [{ name: 'PHI', capture: 'PHI' }] : []),\r\n  ...(!curEnabled || curEnabled.fkw ? [{ name: 'FKW', capture: 'FKW' }] : []),\r\n  ...((config.phi20_v1 && (!curEnabled || curEnabled.phi_v1)) ? [{ name: 'PHI20_V1', capture: 'Token', baseCurrency: 'PHI_V1' }] : []),\r\n  ...((config.phi20 && (!curEnabled || curEnabled.phi)) ? [{ name: 'PHI20', capture: 'Token', baseCurrency: 'PHI' }] : []),\r\n  ...((config.fkw20 && (!curEnabled || curEnabled.fkw)) ? [{ name: 'FKW20', capture: 'Token', baseCurrency: 'FKW' }] : []),\r\n  ...((config.phpx20 && (!curEnabled || curEnabled.phpx)) ? [{ name: 'PHPX20', capture: 'Token', baseCurrency: 'PHPX' }] : []),\r\n  ...((!curEnabled || curEnabled.ghost) && !onlyEvmWallets ? [{ name: 'GHOST', capture: 'Ghost' }] : []),\r\n  ...((!curEnabled || curEnabled.next) && !onlyEvmWallets ? [{ name: 'NEXT', capture: 'NEXT.coin' }] : []),\r\n]\r\n","// extracted by mini-css-extract-plugin\nexport default {\"coin\":\"KfcO-gP7Re1UiqpkuxAwCQ==\",\"noColors\":\"tRaaEkh8Q7Isut9vjB6MEA==\",\"icon\":\"_589rHWpJne-AIRn+EYOniQ==\",\"letter\":\"Eo1eRo8YWltISLgEHfvj2g==\"};","export default __webpack_public_path__ + \"images/btc_186d8b.svg\";","export default __webpack_public_path__ + \"images/eth_f16ac1.svg\";","export default __webpack_public_path__ + \"images/bnb_0222dd.svg\";","export default __webpack_public_path__ + \"images/matic_765bd4.svg\";","export default __webpack_public_path__ + \"images/arbeth_433cc8.svg\";","export default __webpack_public_path__ + \"images/aureth_489e46.svg\";","export default __webpack_public_path__ + \"images/xdai_94218f.svg\";","export default __webpack_public_path__ + \"images/ftm_4e9ab3.svg\";","export default __webpack_public_path__ + \"images/avax_1dfdee.svg\";","export default __webpack_public_path__ + \"images/movr_18b854.svg\";","export default __webpack_public_path__ + \"images/one_02c2e3.svg\";","export default __webpack_public_path__ + \"images/ame_dc0203.png\";","export default __webpack_public_path__ + \"images/wbtc_e6e5e6.svg\";","export default __webpack_public_path__ + \"images/icx_46730b.svg\";","export default __webpack_public_path__ + \"images/waves_59303c.svg\";","export default __webpack_public_path__ + \"images/xrp_b3110e.svg\";","export default __webpack_public_path__ + \"images/swap_33eb94.svg\";","export default __webpack_public_path__ + \"images/usdt_dd4c74.svg\";","export default __webpack_public_path__ + \"images/syc2_227e88.svg\";","export default __webpack_public_path__ + \"images/drt_efb6ec.svg\";","export default __webpack_public_path__ + \"images/omg_97cd9d.svg\";","export default __webpack_public_path__ + \"images/yup_5afbfd.svg\";","export default __webpack_public_path__ + \"images/kn_1244da.svg\";","export default __webpack_public_path__ + \"images/arn_df858c.svg\";","export default __webpack_public_path__ + \"images/lev_6e787e.svg\";","export default __webpack_public_path__ + \"images/bxb_7c2d40.svg\";","import btc from './btc.svg'\r\nimport eth from './eth.svg'\r\nimport bnb from './bnb.svg'\r\nimport matic from './matic.svg'\r\nimport arbeth from './arbeth.svg'\r\nimport aureth from './aureth.svg'\r\nimport xdai from './xdai.svg'\r\nimport ftm from './ftm.svg'\r\nimport avax from './avax.svg'\r\nimport movr from './movr.svg'\r\nimport one from './one.svg'\r\nimport ame from './ame.png'\r\nimport wbtc from './wbtc.svg'\r\nimport icx from './icx.svg'\r\nimport waves from './waves.svg'\r\nimport xrp from './xrp.svg'\r\nimport swap from './swap.svg'\r\nimport usdt from './usdt.svg'\r\nimport syc2 from './syc2.svg'\r\nimport drt from './drt.svg'\r\nimport omg from './omg.svg'\r\nimport yup from './yup.svg'\r\nimport kn from './kn.svg'\r\nimport arn from './arn.svg'\r\nimport lev from './lev.svg'\r\nimport bxb from './bxb.svg'\r\nimport dcn from './dcn.svg'\r\nimport pay from './pay.png'\r\nimport eurs from './eurs.svg'\r\nimport ghost from './ghost.svg'\r\nimport next from './next.svg'\r\nimport phi_v1 from './phi.png'\r\nimport phi from './phi_v2.png'\r\nimport fkw from './fkw.png'\r\nimport phpx from './phpx.png'\r\n\r\n\r\n\r\nexport default {\r\n  btc,\r\n  'btc (multisig)': btc,\r\n  'btc (sms-protected)': btc,\r\n  'btc (pin-protected)': btc,\r\n  wbtc,\r\n  dcn,\r\n  bxb,\r\n  kn,\r\n  drt,\r\n  lev,\r\n  arn,\r\n  omg,\r\n  eth,\r\n  bnb,\r\n  matic,\r\n  arbeth,\r\n  aureth,\r\n  xdai,\r\n  ftm,\r\n  avax,\r\n  movr,\r\n  one,\r\n  ame,\r\n  syc2,\r\n  icx,\r\n  usdt,\r\n  swap,\r\n  waves,\r\n  xrp,\r\n  yup,\r\n  pay,\r\n  eurs,\r\n  ghost,\r\n  next,\r\n  phi_v1,\r\n  phi,\r\n  fkw,\r\n  phpx,\r\n}\r\n","export default __webpack_public_path__ + \"images/dcn_a1ab5f.svg\";","export default __webpack_public_path__ + \"images/pay_f76fe2.png\";","export default __webpack_public_path__ + \"images/eurs_e40bdb.svg\";","export default __webpack_public_path__ + \"images/ghost_8f1e82.svg\";","export default __webpack_public_path__ + \"images/next_5828fe.svg\";","export default __webpack_public_path__ + \"images/phi_fff600.png\";","export default __webpack_public_path__ + \"images/phi_v2_fff600.png\";","export default __webpack_public_path__ + \"images/fkw_9d7c8f.png\";","export default __webpack_public_path__ + \"images/phpx_57d68a.png\";","import React from 'react'\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './CurrencyIcon.scss'\r\nimport TOKEN_STANDARDS from 'helpers/constants/TOKEN_STANDARDS'\r\nimport icons from './images'\r\nimport getCoinInfo from 'common/coins/getCoinInfo'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport config from 'app-config'\r\n\r\nexport const currencyIcons = Object.keys(icons)\r\n\r\nfunction returnTokenIcon(name) {\r\n  try {\r\n    for (const key in TOKEN_STANDARDS) {\r\n      const standard = TOKEN_STANDARDS[key].standard\r\n      const icon = config[standard][name]?.icon\r\n\r\n      if (icon) return icon\r\n    }\r\n  } catch (error) {\r\n    console.group('%c CurrencyIcon', 'color: red')\r\n    console.error('can\\'t to load currency icon')\r\n    console.groupEnd()\r\n  }\r\n}\r\n\r\ntype CurrencyIconProps = {\r\n  style?: { [key: string]: string }\r\n  className?: string\r\n  name: string\r\n  source?: string\r\n}\r\n\r\nconst CurrencyIcon = (props: CurrencyIconProps) => {\r\n  const { className, style, name: coinName , source } = props\r\n  const {\r\n    coin: name,\r\n    blockchain,\r\n  } = getCoinInfo(coinName)\r\n\r\n  if (typeof name === 'undefined') {\r\n    return <p><FormattedMessage id=\"currencyIcon15\" defaultMessage=\"Error\" /></p>\r\n  }\r\n\r\n  if (source) {\r\n    return (\r\n      <img\r\n        styleName=\"sizeLimit\"\r\n        src={source}\r\n        style={style}\r\n        alt=\"icon\"\r\n        role=\"image\"\r\n      />\r\n    )\r\n  }\r\n\r\n  const tokenIcon = returnTokenIcon(name.toLowerCase())\r\n\r\n  if (tokenIcon) {\r\n    return (\r\n      <img\r\n        styleName=\"sizeLimit\"\r\n        className={className}\r\n        src={tokenIcon}\r\n        alt={`${name} icon`}\r\n        role=\"image\"\r\n      />\r\n    )\r\n  }\r\n\r\n  const isIconExist = currencyIcons.includes(name.toLowerCase())\r\n\r\n  if (isIconExist) {\r\n    return (\r\n      <img\r\n        styleName=\"sizeLimit\"\r\n        className={className}\r\n        src={icons[name.toLowerCase()]}\r\n        alt={`${name} icon`}\r\n        role=\"image\"\r\n      />\r\n    )\r\n  }\r\n\r\n  return (\r\n    <span\r\n      className={className}\r\n      style={style}\r\n      styleName=\"text\"\r\n      role=\"letter\"\r\n    >\r\n      {name.charAt(0).toUpperCase()}\r\n    </span>\r\n  )\r\n}\r\n\r\n\r\nexport default cssModules(CurrencyIcon, styles)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"text\":\"aGeUdwR6zZoJ5H52j6dNIA==\",\"sizeLimit\":\"PRDR4GWnQdIoGfXhz5SZsw==\"};","import CSSModules from 'react-css-modules'\r\nimport web3Icons from 'images'\r\nimport styles from './Coin.scss'\r\nimport CurrencyIcon, { currencyIcons } from 'components/ui/CurrencyIcon/CurrencyIcon'\r\nimport config from 'app-config'\r\n\r\nconst defaultCurrencyColors = {\r\n  'btc': 'orange',\r\n  'btc (multisig)': 'orange',\r\n  'btc (sms-protected)': 'orange',\r\n  'btc (pin-protected)': 'orange',\r\n  'matic': '#8247e5',\r\n  'xdai': '#48a9a6',\r\n  'ftm': '#11b4ec',\r\n  'avax': '#e84142',\r\n  'movr': 'white',\r\n  'one': 'white',\r\n  'ame': 'white',\r\n  'aureth': '#ECEEF0',\r\n  'phi_v1': '#1C0237',\r\n  'phi': '#1C0237',\r\n  'fkw': '#f2f9f6',\r\n  'phpx': '#000000',\r\n  'usdt': '#33a681',\r\n  'ghost': 'black',\r\n  'next': 'white',\r\n}\r\n\r\ntype CoinProps = {\r\n  className?: string\r\n  size?: number\r\n  name: string\r\n}\r\n\r\nconst Coin = function (props: CoinProps) {\r\n  const {\r\n    size = 40,\r\n    className,\r\n    name,\r\n  } = props\r\n\r\n  const lowerName = name.toLowerCase()\r\n  const isIconExist = currencyIcons.includes(lowerName)\r\n  const iconSource = web3Icons[name]\r\n  let isIconConfigExist = false\r\n\r\n  if (\r\n    config?.erc20[lowerName]?.icon\r\n    || config?.bep20[lowerName]?.icon\r\n    || config?.erc20matic[lowerName]?.icon\r\n    || config?.erc20xdai[lowerName]?.icon\r\n    || config?.erc20ftm[lowerName]?.icon\r\n    || config?.erc20avax[lowerName]?.icon\r\n    || config?.erc20movr[lowerName]?.icon\r\n    || config?.erc20one[lowerName]?.icon\r\n    || config?.erc20ame[lowerName]?.icon\r\n    || config?.erc20aurora[lowerName]?.icon\r\n    || config?.phi20_v1[lowerName]?.icon\r\n    || config?.phi20[lowerName]?.icon\r\n    || config?.fkw20[lowerName]?.icon\r\n    || config?.phpx20[lowerName]?.icon\r\n  ) {\r\n    isIconConfigExist = true\r\n  }\r\n\r\n  // Coin styles *************************\r\n\r\n  const style: {\r\n    [ k: string]: string\r\n  } = {\r\n    width: `${size}px`,\r\n    height: `${size}px`,\r\n  }\r\n\r\n  if (defaultCurrencyColors[lowerName]) {\r\n    style.backgroundColor = defaultCurrencyColors[lowerName]\r\n  }\r\n\r\n  if (config?.erc20[lowerName]?.iconBgColor) {\r\n    style.backgroundColor = config.erc20[lowerName].iconBgColor\r\n  }\r\n\r\n  if (config?.bep20[lowerName]?.iconBgColor) {\r\n    style.backgroundColor = config.bep20[lowerName].iconBgColor\r\n  }\r\n\r\n  if (config?.erc20matic[lowerName]?.iconBgColor) {\r\n    style.backgroundColor = config.erc20matic[lowerName].iconBgColor\r\n  }\r\n\r\n  if (config?.erc20xdai[lowerName]?.iconBgColor) {\r\n    style.backgroundColor = config.erc20xdai[lowerName].iconBgColor\r\n  }\r\n\r\n  if (config?.erc20ftm[lowerName]?.iconBgColor) {\r\n    style.backgroundColor = config.erc20ftm[lowerName].iconBgColor\r\n  }\r\n\r\n  if (config?.erc20avax[lowerName]?.iconBgColor) {\r\n    style.backgroundColor = config.erc20avax[lowerName].iconBgColor\r\n  }\r\n\r\n  if (config?.erc20movr[lowerName]?.iconBgColor) {\r\n    style.backgroundColor = config.erc20movr[lowerName].iconBgColor\r\n  }\r\n\r\n  if (config?.erc20one[lowerName]?.iconBgColor) {\r\n    style.backgroundColor = config.erc20one[lowerName].iconBgColor\r\n  }\r\n\r\n  if (config?.erc20ame[lowerName]?.iconBgColor) {\r\n    style.backgroundColor = config.erc20ame[lowerName].iconBgColor\r\n  }\r\n\r\n  if (config?.erc20aurora[lowerName]?.iconBgColor) {\r\n    style.backgroundColor = config.erc20aurora[lowerName].iconBgColor\r\n  }\r\n\r\n  if (config?.phi20_v1[lowerName]?.iconBgColor) {\r\n    style.backgroundColor = config.phi20_v1[lowerName].iconBgColor\r\n  }\r\n\r\n  if (config?.fkw20[lowerName]?.iconBgColor) {\r\n    style.backgroundColor = config.fkw20[lowerName].iconBgColor\r\n  }\r\n  \r\n  if (config?.phpx20[lowerName]?.iconBgColor) {\r\n    style.backgroundColor = config.phpx20[lowerName].iconBgColor\r\n  }\r\n\r\n  // *************************************\r\n\r\n  if (config?.isWidget && window?.widgetEvmLikeTokens?.length) {\r\n    window.widgetEvmLikeTokens.forEach((token) =>  {\r\n      if (token.name.toLowerCase() === lowerName) {\r\n        if (token.icon) isIconConfigExist = true\r\n        if (token.iconBgColor) (style.backgroundColor = token.iconBgColor)\r\n      }\r\n    })\r\n  }\r\n\r\n  const currencyIconProps = {\r\n    name: lowerName,\r\n    styleName: '',\r\n    style: {},\r\n    source: iconSource,\r\n  }\r\n\r\n  if (isIconExist || isIconConfigExist) {\r\n    currencyIconProps.styleName = 'icon'\r\n  } else {\r\n    currencyIconProps.styleName = 'letter'\r\n    currencyIconProps.style = {\r\n      lineHeight: `${size}px`,\r\n      fontSize: `${size / 2}px`,\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div\r\n      styleName={`coin ${iconSource ? 'noColors' : ''}`}\r\n      className={className}\r\n      style={style}\r\n    >\r\n      <CurrencyIcon {...currencyIconProps} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CSSModules(Coin, styles, { allowMultiple: true })\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"ojDGnCS8bqbFGAvRf2yVOA==\",\"closeButton\":\"oRi3IZn1ySPmatR8e3wOig==\",\"mobileFormBody\":\"yqrCx5IveZ11V+aG7b2uVA==\",\"formBody\":\"MCtHZ3yANXCq1PC0DvT0qg==\",\"currencyChooserWrapper\":\"DX8gK9fT5fmIk2XpBZ9z+g==\",\"inLine\":\"AOfBaZnPmp+IG3i3gyPzrA==\",\"notMain\":\"YqEwrkgIAZqc0kUH+aN+gw==\",\"stepNumber\":\"_2s+jTu4-qKXOWBqOU3ut3A==\",\"logo\":\"d0bxm+TnsdmBHOFmH8Qi3w==\",\"purple\":\"_4TukzSIWiOL9+Ipm2oGIwA==\",\"green\":\"Ggo8akwNCr7a7MXwnAxJdg==\",\"assetsTableIcon\":\"WfEsKKkAEUn0WUVjgo8SbA==\",\"stepButton\":\"ioWCPj1jJmPPr+A7DuJiMA==\",\"subHeader\":\"_68R8Zqf48P8ZQrokwpgAIQ==\",\"smallArr\":\"Q6Slal2sumE+B1A+MgKZEQ==\",\"alertTooltipWrapper\":\"mLI8eh8zYqYeaOajScTCQQ==\",\"buttonWrapper\":\"NUs7cA8htOBM18jnmyCBhQ==\",\"card\":\"ezL10HO5-8Xf+CTWC0gy1Q==\",\"currencyInfoList\":\"FUe-zKe+5O7G1rtiF5QuLA==\",\"connectWalletIcon\":\"_2LQhSKCoXTRYGWndYPNpvw==\",\"cupture1\":\"jXQ8hFtA647sPIJm8a55Ug==\",\"cardDisabled\":\"PF79O6mCEZo9EuFS2xwyfg==\",\"purpleBorder\":\"jCp9TQRtueeeq96GykfV8A==\",\"cardActivated\":\"_7YctH3aLq4+1j9RRy1dnNw==\",\"secureSize\":\"_8tg9TnEW3AbguR6HqiWBAA==\",\"securityIcon\":\"Of2-d9JMBY9LW9wsxmSJ6g==\",\"flex\":\"S9P3wxXDeHcol-EZZSNUcQ==\",\"ind\":\"gnKMe2mQJTnopLBvoaK4Fw==\",\"second\":\"xFcVO2pZl4-UAf6hDU7uZw==\",\"capture\":\"wsLQjX3fGf31g6iufFLkdg==\",\"steps\":\"SnlFEsBFvtoMxc7wA15kdw==\",\"thirdCard\":\"izqeIwVePXDbQ2b3bWcQng==\",\"error\":\"Nn2AS8cFriiYbcc0iTuEcw==\"};","import React from 'react'\r\n\r\nimport { isMobile } from 'react-device-detect'\r\n\r\n\r\nexport const color = (step, el) => {\r\n  if (step === el) {\r\n    return 'purple'\r\n  } else if (isMobile ? el < step : el > step) {\r\n    return 'green'\r\n  }\r\n  return ''\r\n}\r\n","import React, { useState } from 'react'\r\n\r\nimport { connect } from 'redaction'\r\n\r\nimport CSSModules from 'react-css-modules'\r\n\r\nimport { isMobile } from 'react-device-detect'\r\n\r\nimport styles from './CreateWallet.scss'\r\nimport { color } from './chooseColor'\r\nimport check from './images/check'\r\n\r\n\r\nconst Explanation = ({ subHeaderText, children, step, createWallet: { step: stepNum }, notMain, isShow }) => (\r\n  <div styleName={`inLine ${notMain ? 'notMain' : ''}`}>\r\n    {!isMobile && !isShow &&\r\n      <div styleName={`stepNumber ${color(step, stepNum)}`}>\r\n        {stepNum > step ? check() : step}\r\n      </div>\r\n    }\r\n    <div styleName={`subHeader ${step === '2' ? 'second' : ''}`}>\r\n      <h5>\r\n        {subHeaderText}\r\n      </h5>\r\n      <p styleName=\"capture\">\r\n        {children}\r\n      </p>\r\n    </div>\r\n  </div>\r\n)\r\nexport default connect({\r\n  createWallet: 'createWallet',\r\n})(CSSModules(Explanation, styles, { allowMultiple: true }))\r\n","import React from 'react'\r\n\r\n/* eslint-disable */\r\nexport default () => (\r\n  <img alt=\"svgImg\" src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjBweCIgeT0iMHB4Igp3aWR0aD0iMjQiIGhlaWdodD0iMjQiCnZpZXdCb3g9IjAgMCAyMjYgMjI2IgpzdHlsZT0iIGZpbGw6IzAwMDAwMDsiPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIHN0cm9rZS1saW5lY2FwPSJidXR0IiBzdHJva2UtbGluZWpvaW49Im1pdGVyIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1kYXNoYXJyYXk9IiIgc3Ryb2tlLWRhc2hvZmZzZXQ9IjAiIGZvbnQtZmFtaWx5PSJub25lIiBmb250LXdlaWdodD0ibm9uZSIgZm9udC1zaXplPSJub25lIiB0ZXh0LWFuY2hvcj0ibm9uZSIgc3R5bGU9Im1peC1ibGVuZC1tb2RlOiBub3JtYWwiPjxwYXRoIGQ9Ik0wLDIyNnYtMjI2aDIyNnYyMjZ6IiBmaWxsPSJub25lIj48L3BhdGg+PGcgZmlsbD0iI2ZmZmZmZiI+PHBhdGggZD0iTTE5MS4wOTIxMiw0OS44NDIxMmwtMTA2LjM0MjEyLDEwNi4zNDIxM2wtNDAuNDI1NDYsLTQwLjQyNTQ2bC0xMy4zMTU3NSwxMy4zMTU3NWw1My43NDEyMSw1My43NDEyMWwxMTkuNjU3ODgsLTExOS42NTc4N3oiPjwvcGF0aD48L2c+PC9nPjwvc3ZnPg==\" />\r\n)\r\n","import React from 'react'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport CSSModules from 'react-css-modules'\r\n\r\nimport styles from '../CreateWallet.scss'\r\n\r\n\r\nexport const subHeaderText1 = () => (\r\n  <FormattedMessage\r\n    id=\"createWalletSubHeader1\"\r\n    defaultMessage=\"  \"\r\n  />\r\n)\r\n\r\n/* eslint-disable */\r\nconst Cupture = () => (\r\n  <>\r\n    <span styleName=\"cupture1\">\r\n      <FormattedMessage\r\n        id=\"createWalletCapture1\"\r\n        defaultMessage=\"  Bitcoin, Ethereum, Swap, Tokens\"\r\n      />\r\n    </span>\r\n  </>\r\n)\r\n\r\nexport default CSSModules(Cupture, styles, { allowMultiple: true })\r\n\r\nexport const subHeaderText2 = () => (\r\n  <FormattedMessage\r\n    id=\"createWalletSubHeader2\"\r\n    defaultMessage=\"    \"\r\n  />\r\n)\r\n\r\nexport const cupture2 = () => (\r\n  <FormattedMessage\r\n    id=\"createWalletCapture2\"\r\n    defaultMessage=\" , sms, google auth, \"\r\n  />\r\n)\r\n/* eslint-enable */\r\n","import CSSModules from 'react-css-modules'\r\nimport { isMobile } from 'react-device-detect'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport config from 'helpers/externalConfig'\r\nimport Coin from 'components/Coin/Coin'\r\nimport Button from 'components/controls/Button/Button'\r\nimport styles from '../CreateWallet.scss'\r\nimport Explanation from '../Explanation'\r\n\r\nimport Cupture, {\r\n  subHeaderText1,\r\n  subHeaderText2,\r\n  cupture2,\r\n} from './texts'\r\n\r\nconst isWidgetBuild = config && config.isWidget\r\n\r\nfunction FirstStep(props) {\r\n  const { onClick, error, curState, startPack, handleClick, showPinContent } = props\r\n\r\n  return (\r\n    <>\r\n      <>\r\n        <>\r\n          <Explanation step={1} subHeaderText={subHeaderText1()}>\r\n            {!isWidgetBuild && (\r\n              <Cupture />\r\n            )}\r\n          </Explanation>\r\n          <div styleName={`currencyChooserWrapper ${startPack.length < 4 ? 'smallArr' : ''}`}>\r\n            {startPack.map((el, index) => {\r\n              const { name, capture, baseCurrency } = el\r\n              const firstIdPart = `${baseCurrency ? `${baseCurrency}${name}` : `${name}`}`\r\n              const secondIdPart = 'Wallet'\r\n              const selectedCurrency = `${\r\n                baseCurrency ? `{${baseCurrency}}${name}` : `${name}`\r\n              }`.toUpperCase()\r\n\r\n              return (\r\n                <div\r\n                  id={firstIdPart.toLowerCase() + secondIdPart}\r\n                  key={index}\r\n                  styleName={`card ${curState[selectedCurrency] ? 'purpleBorder' : ''}`}\r\n                  onClick={() => handleClick(selectedCurrency)}\r\n                >\r\n                  <div styleName=\"logo\">\r\n                    <Coin name={name} styleName=\"assetsTableIcon\" />\r\n                  </div>\r\n                  <ul styleName=\"currencyInfoList\">\r\n                    <li><b>{name}</b></li>\r\n                    <li>\r\n                      {baseCurrency && `(${baseCurrency}) `}\r\n                      {capture}\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              )\r\n            })}\r\n          </div>\r\n        </>\r\n        <Button id=\"continueBtn\" styleName=\"stepButton\" disabled={error} onClick={onClick}>\r\n          <FormattedMessage id=\"createWalletButton1\" defaultMessage=\"Continue\" />\r\n        </Button>\r\n      </>\r\n      {\r\n        !isMobile && curState?.BTC && showPinContent\r\n        && (\r\n          <div>\r\n            <Explanation step={2} subHeaderText={subHeaderText2()} notMain>\r\n              {cupture2()}\r\n            </Explanation>\r\n          </div>\r\n        )\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default CSSModules(FirstStep, styles, { allowMultiple: true })\r\n","import swap from 'components/ui/CurrencyIcon/images/swap.svg'\r\nimport btc from 'components/ui/CurrencyIcon/images/btc.svg'\r\nimport eth from 'components/ui/CurrencyIcon/images/eth.svg'\r\nimport usdt from 'components/ui/CurrencyIcon/images/usdt.svg'\r\n\r\nimport withoutSecure from './withoutSecure.svg'\r\nimport sms from './sms.svg'\r\nimport pin from './pin.svg'\r\nimport google2FA from './google2FA.svg'\r\nimport multisignature from './multisignature.svg'\r\nimport fingerprint from './fingerprint.svg'\r\n\r\n\r\nexport default {\r\n  btc,\r\n  swap,\r\n  eth,\r\n  usdt,\r\n  withoutSecure,\r\n  sms,\r\n  pin,\r\n  google2FA,\r\n  multisignature,\r\n  fingerprint,\r\n}\r\n","export default __webpack_public_path__ + \"images/withoutSecure_aacfc9.svg\";","export default __webpack_public_path__ + \"images/sms_b5dc51.svg\";","export default __webpack_public_path__ + \"images/pin_b5dc51.svg\";","export default __webpack_public_path__ + \"images/google2FA_f4c087.svg\";","export default __webpack_public_path__ + \"images/multisignature_994bf2.svg\";","export default __webpack_public_path__ + \"images/fingerprint_5813ba.svg\";","import { useState, useEffect, useRef } from 'react'\r\nimport CSSModules from 'react-css-modules'\r\nimport reducers from 'redux/core/reducers'\r\n\r\nimport { FormattedMessage, injectIntl } from 'react-intl'\r\nimport { isMobile } from 'react-device-detect'\r\n\r\nimport actions from 'redux/actions'\r\nimport { constants } from 'helpers'\r\nimport feedback from 'shared/helpers/feedback'\r\nimport Button from 'components/controls/Button/Button'\r\n\r\nimport styles from '../CreateWallet.scss'\r\nimport Explanation from '../Explanation'\r\nimport icons from '../images'\r\nimport Cupture, {\r\n  subHeaderText1,\r\n  subHeaderText2,\r\n  cupture2,\r\n} from './texts'\r\n\r\nfunction SecondStep(props) {\r\n  const {\r\n    intl: { locale },\r\n    onClick,\r\n    currencies,\r\n    error,\r\n    setError,\r\n    forcedCurrencyData,\r\n    btcData,\r\n  } = props\r\n\r\n  const _protection = {\r\n    pin: {\r\n      btc: true,\r\n    },\r\n    g2fa: {},\r\n    multisign: {},\r\n    fingerprint: {},\r\n  }\r\n\r\n  const _activated = {\r\n    nothing: {},\r\n    pin: {},\r\n    g2fa: {},\r\n    multisign: {},\r\n    fingerprint: {},\r\n  }\r\n\r\n  const { hiddenCoinsList } = constants.localStorage\r\n  // @ts-ignore: strictNullChecks\r\n  const hiddenCoins = JSON.parse(localStorage.getItem(hiddenCoinsList))\r\n\r\n  if (currencies.BTC) {\r\n    // @ts-ignore\r\n    _protection.pin.btc = true\r\n    // @ts-ignore\r\n    _protection.g2fa.btc = false\r\n    // @ts-ignore\r\n    _protection.multisign.btc = true\r\n    // @ts-ignore\r\n    _protection.fingerprint.btc = true\r\n    // @ts-ignore\r\n    _activated.nothing.btc = btcData.balance > 0 || (hiddenCoins.length ? !hiddenCoins.includes('BTC') && !hiddenCoins.includes(`BTC:${btcData.address}`) : false)\r\n    // @ts-ignore\r\n    _activated.pin.btc = actions.btcmultisig.checkPINActivated()\r\n    // @ts-ignore\r\n    _activated.g2fa.btc = actions.btcmultisig.checkG2FAActivated()\r\n    // @ts-ignore\r\n    _activated.multisign.btc = actions.btcmultisig.checkUserActivated()\r\n    // @ts-ignore\r\n    _activated.fingerprint.btc = false\r\n  }\r\n\r\n  const [border, setBorder] = useState({\r\n    color: {\r\n      withoutSecure: false,\r\n      pin: false,\r\n      google2FA: false,\r\n      multisignature: false,\r\n    },\r\n    selected: '',\r\n  })\r\n\r\n  const [isFingerprintAvailable, setFingerprintAvaillable] = useState(false)\r\n\r\n  const thisComponentInitHelper = useRef(true)\r\n\r\n  const [isFingerprintFeatureAsked, setFingerprintFeatureAsked] = useState(false)\r\n  const [isTrivialFeatureAsked, setTrivialFeatureAsked] = useState(false)\r\n  const [isPinFeatureAsked, setPinFeatureAsked] = useState(false)\r\n  const [is2FAFeatureAsked, set2FAFeatureAsked] = useState(false)\r\n  const [isMultisigFeatureAsked, setMultisigFeatureAsked] = useState(false)\r\n\r\n  useEffect(() => {\r\n    try {\r\n      // @ts-ignore\r\n      if (typeof PublicKeyCredential !== 'undefined') {\r\n        // eslint-disable-next-line no-undef\r\n        // @ts-ignore\r\n        if (thisComponentInitHelper.current && PublicKeyCredential) {\r\n          // eslint-disable-next-line no-undef\r\n          // @ts-ignore\r\n          PublicKeyCredential\r\n            .isUserVerifyingPlatformAuthenticatorAvailable()\r\n            .then(result => {\r\n              if (result) {\r\n                setFingerprintAvaillable(true)\r\n              }\r\n            })\r\n            .catch(e => console.error(e))\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error(error)\r\n    }\r\n  })\r\n\r\n  const handleFinish = () => {\r\n    if (currencies.BTC) {\r\n      feedback.createWallet.finished('BTC')\r\n    } else {\r\n      feedback.createWallet.finished()\r\n    }\r\n    onClick()\r\n    // onCreateTrigger()\r\n  }\r\n\r\n  const handleClick = (index, el) => {\r\n    const { name, enabled, activated } = el\r\n\r\n    if (el.name === 'fingerprint') {\r\n      // eslint-disable-next-line no-alert\r\n      alert('We don\\'t support this type of device for now :(')\r\n      return null\r\n    }\r\n\r\n    if (!enabled) {\r\n      return\r\n    }\r\n    // if (activated) return\r\n    const colors = border.color\r\n\r\n    Object.keys(border.color).forEach(el => {\r\n      if (el !== name) {\r\n        colors[el] = false\r\n      } else {\r\n        colors[el] = true\r\n      }\r\n    })\r\n    setBorder({ color: colors, selected: name })\r\n    reducers.createWallet.newWalletData({ type: 'secure', data: name })\r\n    setError(null)\r\n  }\r\n\r\n  const currencyName = Object.keys(currencies).filter((el) => currencies[el])[0] || 'Cant define currency'\r\n  const currencyKey = currencyName.toLowerCase()\r\n\r\n  const coins = [\r\n    {\r\n      text: {\r\n        en: 'No security',\r\n        ru: ' ',\r\n        nl: 'Geen beveliging',\r\n        es: 'Sin seguridad',\r\n        pl: 'Brak ochrony',\r\n      }[locale],\r\n      name: 'withoutSecure',\r\n      capture: {\r\n        en: 'Suitable for small amounts',\r\n        ru: '   ',\r\n        nl: 'Geschikt voor kleine bedragen',\r\n        es: 'Apto para pequeas cantidades',\r\n        pl: 'Nadaje si do maych iloci',\r\n      }[locale],\r\n      enabled: !_activated.nothing[currencyKey],\r\n      activated: _activated.nothing[currencyKey],\r\n      onClickHandler: () => {\r\n        if (isTrivialFeatureAsked) {\r\n          return null\r\n        }\r\n        setTrivialFeatureAsked(true)\r\n        feedback.createWallet.securitySelected(`${currencyName}-normal`)\r\n      },\r\n    },\r\n    {\r\n      text: 'PIN',\r\n      name: 'pin',\r\n      capture: {\r\n        en: 'Verify your transactions via PIN code',\r\n        ru: '  PIN-',\r\n        nl: 'Verifieer uw transacties via PIN code',\r\n        es: 'Verifique sus transacciones mediante el cdigo PIN',\r\n        pl: 'Zweryfikuj swoje transakcje za pomoc kodu PIN',\r\n      }[locale],\r\n      enabled: _protection.pin[currencyKey],\r\n      activated: _activated.pin[currencyKey],\r\n      onClickHandler: () => {\r\n        if (isPinFeatureAsked) {\r\n          return null\r\n        }\r\n        setPinFeatureAsked(true)\r\n        feedback.createWallet.securitySelected(`${currencyName}-pin`)\r\n      },\r\n    },\r\n    /*\r\n    {\r\n      text: 'Google 2FA',\r\n      name: 'google2FA',\r\n      capture: locale === 'en' ?\r\n        'Verify your transactions through the Google Authenticator app' :\r\n        '    Google Authenticator',\r\n      enabled: _protection.g2fa.btc,\r\n      activated: _activated.g2fa.btc,\r\n      onClickHandler: () => {\r\n        if (is2FAFeatureAsked) {\r\n          return null\r\n        }\r\n        set2FAFeatureAsked(true)\r\n        feedback.createWallet.securitySelected(`${currencyName}-2fa`)\r\n      },\r\n    },\r\n    */\r\n    {\r\n      text: 'Multisignature',\r\n      name: 'multisignature',\r\n      capture: {\r\n        en: 'Verify your transactions by using another device or by another person',\r\n        ru: '     /  ',\r\n        nl: 'Verifieer uw transacties met een ander apparaat of persoon',\r\n        es: 'Verifique sus transacciones usando otro dispositivo o por otra persona',\r\n        pl: 'Zweryfikuj swoje transakcje za pomoc innego urzdzenia lub innej osoby',\r\n      }[locale],\r\n      enabled: _protection.multisign[currencyKey],\r\n      activated: _activated.multisign[currencyKey],\r\n      onClickHandler: () => {\r\n        if (isMultisigFeatureAsked) {\r\n          return null\r\n        }\r\n        setMultisigFeatureAsked(true)\r\n        feedback.createWallet.securitySelected(`${currencyName}-multisig`)\r\n      },\r\n    },\r\n  ]\r\n\r\n  if (isFingerprintAvailable) {\r\n    coins.push({\r\n      text: 'Fingerprint',\r\n      name: 'fingerprint',\r\n      capture: {\r\n        en: 'Transactions are confirmed with your fingerprint authenticator',\r\n        ru: '      ',\r\n        nl: 'Transacties bevestigd met uw vingerprint authenticator',\r\n        es: 'Las transacciones se confirman con su autenticador de huellas digitales',\r\n        pl: 'Transakcje s potwierdzane za pomoc Twojego czytnika linii papilarnych',\r\n      }[locale],\r\n\r\n      enabled: _protection.fingerprint[currencyKey],\r\n      activated: _activated.fingerprint[currencyKey],\r\n      onClickHandler: () => {\r\n        if (isFingerprintFeatureAsked) {\r\n          return null\r\n        }\r\n        setFingerprintFeatureAsked(true)\r\n        feedback.createWallet.securitySelected(`${currencyName}-fingerprint`)\r\n      },\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {!isMobile && !forcedCurrencyData\r\n        && (\r\n          <div>\r\n            <Explanation subHeaderText={subHeaderText1()} step={1} notMain>\r\n              <Cupture />\r\n            </Explanation>\r\n          </div>\r\n        )}\r\n      <div>\r\n        <div>\r\n          <Explanation subHeaderText={subHeaderText2()} step={2} isShow={forcedCurrencyData}>\r\n            {cupture2()}\r\n          </Explanation>\r\n          <div styleName=\"currencyChooserWrapper\">\r\n            {coins.map((el, index) => {\r\n              const { name, capture, text, enabled, activated } = el\r\n\r\n              const cardStyle = ['card', 'secureSize', 'thirdCard']\r\n\r\n              if (border.color[name] && enabled) cardStyle.push('purpleBorder')\r\n              if (!enabled) cardStyle.push('cardDisabled')\r\n\r\n              if (activated) cardStyle.push('cardActivated')\r\n              const cardStyle_ = cardStyle.join(' ')\r\n\r\n              return (\r\n                <div\r\n                  key={index}\r\n                  styleName={`${cardStyle_}`}\r\n                  id={name}\r\n                  onClick={() => {\r\n                    if (typeof el.onClickHandler !== 'undefined') { el.onClickHandler() }\r\n                    return handleClick(index, el)\r\n                  }}\r\n                >\r\n                  <div styleName=\"ind\">\r\n                    {(!enabled || activated)\r\n                      && (\r\n                        <em>\r\n                          {!activated && <FormattedMessage id=\"createWalletSoon\" defaultMessage=\"Soon!\" />}\r\n                          {activated && <FormattedMessage id=\"createWalletActivated\" defaultMessage=\"Activated!\" />}\r\n                        </em>\r\n                      )}\r\n                  </div>\r\n                  <div styleName=\"flex\">\r\n                    <div styleName=\"logo securityIcon\">\r\n                      <img\r\n                        src={icons[name]}\r\n                        alt={`${name} icon`}\r\n                        role=\"image\"\r\n                      />\r\n                    </div>\r\n                    <ul styleName=\"currencyInfoList\">\r\n                      <li>\r\n                        <b>{text}</b>\r\n                      </li>\r\n                      <li>{capture}</li>\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n              )\r\n            })}\r\n          </div>\r\n        </div>\r\n        <Button\r\n          id=\"createWalletBtn\"\r\n          styleName=\"stepButton\"\r\n          disabled={error || border.selected === '' || border.selected === 'fingerprint'}\r\n          onClick={handleFinish}\r\n        >\r\n          <FormattedMessage id=\"createWalletButton3\" defaultMessage=\"Create Wallet\" />\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default injectIntl(CSSModules(SecondStep, styles, { allowMultiple: true }))\r\n","import { Component } from 'react'\r\nimport { connect } from 'redaction'\r\nimport reducers from 'redux/core/reducers'\r\nimport TOKEN_STANDARDS from 'helpers/constants/TOKEN_STANDARDS'\r\nimport feedback from 'shared/helpers/feedback'\r\nimport { getActivatedCurrencies } from 'helpers/user'\r\nimport config from 'helpers/externalConfig'\r\nimport getCoinInfo from 'common/coins/getCoinInfo'\r\nimport { defaultPack, widgetPack } from './startPacks'\r\nimport FirstStep from './FirstStep'\r\nimport SecondStep from './SecondStep'\r\n\r\nconst isWidgetBuild = config && config.isWidget\r\nconst { curEnabled } = config.opts\r\n\r\n@connect(({ currencies: { items: currencies } }) => ({ currencies }))\r\nexport default class StepsWrapper extends Component<any, any> {\r\n\r\n  defaultStartPack = defaultPack\r\n\r\n  widgetStartPack = widgetPack\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    const { currencies } = props\r\n    if (config?.opts.ownTokens?.length) {\r\n      this.defaultStartPack = []\r\n\r\n      if (!curEnabled || curEnabled.btc) {\r\n        this.defaultStartPack.push({ name: 'BTC', capture: 'Bitcoin' })\r\n      }\r\n      if (!curEnabled || curEnabled.ghost) {\r\n        this.defaultStartPack.push({ name: 'GHOST', capture: 'Ghost' })\r\n      }\r\n      if (!curEnabled || curEnabled.next) {\r\n        this.defaultStartPack.push({ name: 'NEXT', capture: 'NEXT.coin' })\r\n      }\r\n\r\n      Object.values(config.enabledEvmNetworks).forEach(({ currency, chainName }: EvmNetworkConfig) => {\r\n        if (currency && chainName) {\r\n          this.defaultStartPack.push({ name: currency, capture: chainName })\r\n        }\r\n      })\r\n\r\n      // Multi token build\r\n      config.opts.ownTokens.forEach((token) => {\r\n        const name = token.name.toLowerCase()\r\n        const standard = token.standard.toLowerCase()\r\n\r\n        this.defaultStartPack.push({\r\n          name: name.toUpperCase(),\r\n          capture: token.fullName,\r\n          baseCurrency: TOKEN_STANDARDS[standard].currency.toUpperCase(),\r\n        })\r\n      })\r\n\r\n      if (config.opts.addCustomTokens) {\r\n        if (config.erc20 && (!curEnabled || curEnabled.eth)) this.defaultStartPack.push({ name: 'ERC20', capture: 'Token', baseCurrency: 'ETH' })\r\n        if (config.bep20 && (!curEnabled || curEnabled.bnb)) this.defaultStartPack.push({ name: 'BEP20', capture: 'Token', baseCurrency: 'BNB' })\r\n        if (config.erc20matic && (!curEnabled || curEnabled.matic)) this.defaultStartPack.push({ name: 'ERC20MATIC', capture: 'Token', baseCurrency: 'MATIC' })\r\n        if (config.erc20xdai && (!curEnabled || curEnabled.xdai)) this.defaultStartPack.push({ name: 'ERC20XDAI', capture: 'Token', baseCurrency: 'XDAI' })\r\n        if (config.erc20ftm && (!curEnabled || curEnabled.ftm)) this.defaultStartPack.push({ name: 'ERC20FTM', capture: 'Token', baseCurrency: 'FTM' })\r\n        if (config.erc20avax && (!curEnabled || curEnabled.avax)) this.defaultStartPack.push({ name: 'ERC20AVAX', capture: 'Token', baseCurrency: 'AVAX' })\r\n        if (config.erc20movr && (!curEnabled || curEnabled.movr)) this.defaultStartPack.push({ name: 'ERC20MOVR', capture: 'Token', baseCurrency: 'MOVR' })\r\n        if (config.erc20one && (!curEnabled || curEnabled.one)) this.defaultStartPack.push({ name: 'ERC20ONE', capture: 'Token', baseCurrency: 'ONE' })\r\n        if (config.erc20ame && (!curEnabled || curEnabled.ame)) this.defaultStartPack.push({ name: 'ERC20AME', capture: 'Token', baseCurrency: 'AME' })\r\n        if (config.erc20aurora && (!curEnabled || curEnabled.aureth)) this.defaultStartPack.push({ name: 'ERC20AURORA', capture: 'Token', baseCurrency: 'AURETH' })\r\n        if (config.phi20_v1 && (!curEnabled || curEnabled.phi_v1)) this.defaultStartPack.push({ name: 'PHI20_V1', capture: 'Token', baseCurrency: 'PHI_V1' })\r\n        if (config.phi20 && (!curEnabled || curEnabled.phi)) this.defaultStartPack.push({ name: 'PHI20', capture: 'Token', baseCurrency: 'PHI' })\r\n        if (config.fkw20 && (!curEnabled || curEnabled.fkw)) this.defaultStartPack.push({ name: 'FKW20', capture: 'Token', baseCurrency: 'FKW' })\r\n        if (config.phpx20 && (!curEnabled || curEnabled.phpx)) this.defaultStartPack.push({ name: 'PHPX20', capture: 'Token', baseCurrency: 'PHPX' })\r\n      }\r\n    }\r\n\r\n    const enabledCurrencies = getActivatedCurrencies()\r\n\r\n    const items = currencies\r\n      .filter(({ addAssets }) => addAssets)\r\n      // @ts-ignore: strictNullChecks\r\n      .filter(({ name }) => enabledCurrencies.includes(name))\r\n\r\n    const untouchable = this.defaultStartPack.map(({ name }) => name)\r\n\r\n    const coins = items\r\n      .map(({ name, fullTitle }) => ({ name, capture: fullTitle }))\r\n      .filter(({ name }) => !untouchable.includes(name))\r\n\r\n    const curState = {}\r\n    items.forEach(({ currency }) => { curState[currency] = false })\r\n\r\n    let haveTokenConfig = true\r\n\r\n    Object.keys(TOKEN_STANDARDS).forEach((key) => {\r\n      if (!config[TOKEN_STANDARDS[key].standard]) {\r\n        haveTokenConfig = false\r\n      }\r\n    })\r\n\r\n    if (isWidgetBuild && haveTokenConfig) {\r\n      if (window?.widgetEvmLikeTokens?.length) {\r\n        // Multi token build\r\n        window.widgetEvmLikeTokens.reverse().forEach((token) => {\r\n          const name = token.name.toLowerCase()\r\n          const standard = token.standard.toLowerCase()\r\n          const baseCurrency = TOKEN_STANDARDS[standard].currency.toUpperCase()\r\n          const isTokenAdded = this.widgetStartPack.find((packToken) =>\r\n            // @ts-ignore\r\n            packToken.name?.toLowerCase() === name && packToken.standard?.toLowerCase() === standard,\r\n          )\r\n\r\n          if (config[standard][name] && !isTokenAdded) {\r\n            this.widgetStartPack.unshift({\r\n              name: name.toUpperCase(),\r\n              capture: config[standard][name].fullName,\r\n              // @ts-ignore\r\n              standard,\r\n              baseCurrency,\r\n            })\r\n          }\r\n        })\r\n      } else {\r\n        // Single token build\r\n        if (config.erc20[config.erc20token]) {\r\n          this.widgetStartPack.push({\r\n            name: config.erc20token.toUpperCase(),\r\n            capture: config.erc20[config.erc20token].fullName,\r\n            baseCurrency: 'ETH',\r\n          })\r\n        }\r\n      }\r\n    }\r\n\r\n    //    \r\n    if (config.opts.createWalletCoinsOrder && config.opts.createWalletCoinsOrder.length) {\r\n      const sortPacks = (packList) => {\r\n        const setCoinOrder = (coinInfo, order) => {\r\n          const {\r\n            coin,\r\n            blockchain,\r\n          } = getCoinInfo(coinInfo)\r\n          let isCustomToken = false\r\n          let customTokenType = ``\r\n          const tokenStandard = new RegExp(\r\n            [\r\n              '^CUSTOM_(',\r\n              'ERC20|BEP20|PHI20_V1|PHI20|FKW20|ERC20MATIC|ERC20XDAI|ERC20FTM|',\r\n              'ERC20AVAX|ERC20MOVR|ERC20ONE|ERC20AME|ERC20AURORA',\r\n              ')$',\r\n            ].join('')\r\n          )\r\n\r\n          if (\r\n            !!coinInfo.match(tokenStandard)\r\n          ) {\r\n            ;[customTokenType] = coinInfo.split(`_`)\r\n            isCustomToken = true\r\n          }\r\n          Object.keys(packList).forEach((coinIndex) => {\r\n            if (isCustomToken) {\r\n              if (packList[coinIndex].name === customTokenType\r\n                && packList[coinIndex].capture === `Token`\r\n              ) {\r\n                packList[coinIndex].order = order\r\n                return false\r\n              }\r\n            } else {\r\n              if (blockchain) {\r\n                if (packList[coinIndex].name === coin\r\n                  && packList[coinIndex].baseCurrency === blockchain.toUpperCase()\r\n                ) {\r\n                  packList[coinIndex].order = order\r\n                  return false\r\n                }\r\n              } else {\r\n                if (packList[coinIndex].name === coin) {\r\n                  packList[coinIndex].order = order\r\n                  return false\r\n                }\r\n              }\r\n            }\r\n          })\r\n        }\r\n        Object.keys(packList).forEach((coinIndex, index) => {\r\n          packList[coinIndex].order = packList.length + index\r\n        })\r\n        config.opts.createWalletCoinsOrder.forEach((coin, order) => {\r\n          setCoinOrder(coin, order)\r\n        })\r\n        packList.sort((pack1, pack2) => pack1.order - pack2.order)\r\n      }\r\n      sortPacks((isWidgetBuild) ? this.widgetStartPack : this.defaultStartPack)\r\n    }\r\n\r\n    this.state = {\r\n      curState,\r\n      coins,\r\n      startPack: (isWidgetBuild) ? this.widgetStartPack : this.defaultStartPack,\r\n    }\r\n  }\r\n\r\n  handleClick = (name) => {\r\n    feedback.createWallet.currencySelected(name)\r\n    const { setError } = this.props\r\n    const { curState } = this.state\r\n\r\n    const dataToReturn = { [name]: !curState[name] }\r\n    this.setState(() => ({ curState: dataToReturn }))\r\n    reducers.createWallet.newWalletData({ type: 'currencies', data: dataToReturn })\r\n    setError(null)\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      forcedCurrencyData,\r\n      onClick,\r\n      error,\r\n      setError,\r\n      btcData,\r\n      step,\r\n      currenciesForSecondStep,\r\n      showPinContent,\r\n    } = this.props\r\n    const { curState, startPack } = this.state\r\n\r\n    return (\r\n      <div>\r\n        {\r\n          forcedCurrencyData\r\n            ? (\r\n              <SecondStep\r\n                error={error}\r\n                onClick={onClick}\r\n                currencies={currenciesForSecondStep}\r\n                setError={setError}\r\n                handleClick={this.handleClick}\r\n                btcData={btcData}\r\n                forcedCurrencyData\r\n              />\r\n            )\r\n            : (\r\n              <div>\r\n                {\r\n                  step === 1\r\n                && (\r\n                  <FirstStep\r\n                    error={error}\r\n                    onClick={onClick}\r\n                    setError={setError}\r\n                    handleClick={this.handleClick}\r\n                    curState={curState}\r\n                    startPack={startPack}\r\n                    showPinContent={showPinContent}\r\n                  />\r\n                )\r\n                }\r\n                {\r\n                  step === 2\r\n                && (\r\n                  <SecondStep\r\n                    error={error}\r\n                    btcData={btcData}\r\n                    onClick={onClick}\r\n                    currencies={currenciesForSecondStep}\r\n                    setError={setError}\r\n                    handleClick={this.handleClick}\r\n                  />\r\n                )\r\n                }\r\n              </div>\r\n            )\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","/* eslint-disable no-restricted-syntax */\r\nimport { useState, useEffect } from 'react'\r\nimport config from 'helpers/externalConfig'\r\n\r\nimport CSSModules from 'react-css-modules'\r\nimport { connect } from 'redaction'\r\nimport actions from 'redux/actions'\r\nimport { FormattedMessage, useIntl } from 'react-intl'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { isMobile } from 'react-device-detect'\r\nimport reducers from 'redux/core/reducers'\r\nimport TOKEN_STANDARDS, { EXISTING_STANDARDS } from 'helpers/constants/TOKEN_STANDARDS'\r\nimport links from 'helpers/links'\r\nimport metamask from 'helpers/metamask'\r\nimport { localisedUrl } from 'helpers/locale'\r\n\r\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\r\nimport Button from 'shared/components/controls/Button/Button'\r\n\r\nimport { constants, localStorage } from 'helpers'\r\nimport CloseIcon from 'components/ui/CloseIcon/CloseIcon'\r\nimport web3Icons from 'images'\r\nimport StepsWrapper from './Steps/StepsWrapper'\r\nimport styles from './CreateWallet.scss'\r\n\r\nconst noInternalWallet = !!(config?.opts?.ui?.disableInternalWallet)\r\nconst addAllEnabledWalletsAfterRestoreOrCreateSeedPhrase = !!config?.opts?.addAllEnabledWalletsAfterRestoreOrCreateSeedPhrase\r\n\r\nfunction CreateWallet(props) {\r\n  const {\r\n    history,\r\n    currencies: { items: allCurrencies },\r\n    createWallet: { currencies, secure },\r\n    location: { pathname, hash },\r\n    userData,\r\n    core: { hiddenCoinsList },\r\n  } = props\r\n\r\n  const { locale } = useIntl()\r\n\r\n  const forcedCurrency = pathname.split('/')[2]\r\n\r\n  const {\r\n    btcData,\r\n  } = userData\r\n\r\n  const userWallets = actions.core\r\n    .getWallets({})\r\n    .filter(({ currency }) => !hiddenCoinsList.includes(currency))\r\n\r\n  useEffect(() => {\r\n    if (forcedCurrency) {\r\n      const hiddenList = localStorage.getItem('hiddenCoinsList')\r\n\r\n      const isExist = hiddenList.find((el) => {\r\n        if (el.includes(':')) {\r\n          const [elCoin, elAddress] = el.split(':')\r\n          return elCoin === forcedCurrency.toUpperCase()\r\n        }\r\n        return el === forcedCurrency.toUpperCase()\r\n      })\r\n\r\n      if (!isExist) {\r\n        setExist(true)\r\n      }\r\n\r\n      if (forcedCurrency.toUpperCase() === 'SWAP') {\r\n        // SWAP has no security options\r\n        // just add and redirect\r\n        const isWasOnWallet = localStorage\r\n          .getItem('hiddenCoinsList')\r\n          .find((cur) => cur.includes(forcedCurrency))\r\n        actions.core.markCoinAsVisible(isWasOnWallet || forcedCurrency.toUpperCase(), true)\r\n        handleClick()\r\n      }\r\n    }\r\n  }, [pathname])\r\n\r\n  const [step, setStep] = useState(1)\r\n  const [error, setError] = useState('Choose something')\r\n  const [isExist, setExist] = useState(false)\r\n\r\n  const goHome = () => {\r\n    history.push(localisedUrl(locale, links.home))\r\n  }\r\n\r\n  const handleConnectWallet = () => {\r\n    history.push(localisedUrl(locale, links.connectWallet))\r\n  }\r\n\r\n  const handleClick = () => {\r\n    // @ts-ignore: strictNullChecks\r\n    setError(null)\r\n    if (step !== 2 && !forcedCurrencyData) {\r\n      reducers.createWallet.newWalletData({ type: 'step', data: step + 1 })\r\n      return setStep(step + 1)\r\n    }\r\n    localStorage.setItem(constants.localStorage.isWalletCreate, true)\r\n    goHome()\r\n  }\r\n\r\n  const handleShowMnemonic = () => {\r\n    actions.modals.open(constants.modals.SaveWalletSelectMethod)\r\n  }\r\n\r\n  const handleRestoreMnemonic = () => {\r\n    actions.modals.open(constants.modals.RestoryMnemonicWallet)\r\n  }\r\n\r\n  const handleRestoreShamirs = () => {\r\n    actions.modals.open(constants.modals.ShamirsSecretRestory)\r\n  }\r\n\r\n  const validate = () => {\r\n    // @ts-ignore: strictNullChecks\r\n    setError(null)\r\n\r\n    if (!Object.values(currencies).includes(true) && step === 1) {\r\n      setError('Choose something')\r\n      return\r\n    }\r\n\r\n    const isIgnoreSecondStep = !Object.keys(currencies).includes('BTC') || (Object.keys(currencies).includes('BTC') && hash !== '#pin')\r\n    const standardConfigs = EXISTING_STANDARDS.map((standard) => TOKEN_STANDARDS[standard])\r\n\r\n    for (const standardObj of standardConfigs) {\r\n      const standardName = standardObj.standard.toUpperCase()\r\n      const baseCurrency = standardObj.currency.toUpperCase()\r\n      const key = `{${baseCurrency}}${standardName}`\r\n\r\n      if (currencies[key] && isIgnoreSecondStep) {\r\n        actions.core.markCoinAsVisible(standardObj.currency.toUpperCase(), true)\r\n        localStorage.setItem(constants.localStorage.isWalletCreate, true)\r\n\r\n        goHome()\r\n\r\n        actions.modals.open(constants.modals.AddCustomToken, {\r\n          standard: standardName,\r\n          baseCurrency: standardObj.currency,\r\n        })\r\n\r\n        return\r\n      }\r\n    }\r\n\r\n    if (isIgnoreSecondStep) {\r\n      Object.keys(currencies).forEach((currency) => {\r\n        if (currencies[currency]) {\r\n          actions.core.markCoinAsVisible(currency.toUpperCase(), true)\r\n        }\r\n      })\r\n      localStorage.setItem(constants.localStorage.isWalletCreate, true)\r\n      goHome()\r\n      return\r\n    }\r\n\r\n    if (!secure.length && (step === 2 || forcedCurrencyData)) {\r\n      setError('Choose something')\r\n      return\r\n    }\r\n\r\n    if (step === 2 || forcedCurrencyData) {\r\n      switch (secure) {\r\n        case 'withoutSecure':\r\n          Object.keys(currencies).forEach((el) => {\r\n            if (currencies[el]) {\r\n              const isWasOnWallet = localStorage\r\n                .getItem('hiddenCoinsList')\r\n                .find((cur) => cur.includes(`${el}:`))\r\n              actions.core.markCoinAsVisible(isWasOnWallet || el.toUpperCase(), true)\r\n            }\r\n          })\r\n          break\r\n        case 'pin':\r\n          if (currencies.BTC) {\r\n            if (!actions.btcmultisig.checkPINActivated()) {\r\n              actions.modals.open(constants.modals.RegisterPINProtected, {\r\n                callback: () => {\r\n                  actions.core.markCoinAsVisible('BTC (PIN-Protected)', true)\r\n                  handleClick()\r\n                },\r\n              })\r\n              return\r\n            }\r\n\r\n            actions.modals.open(constants.modals.Confirm, {\r\n              title: (\r\n                <FormattedMessage\r\n                  id=\"ConfirmActivatePIN_Title\"\r\n                  defaultMessage=\"  BTC (PIN-Protected)\"\r\n                />\r\n              ),\r\n              message: (\r\n                <FormattedMessage\r\n                  id=\"ConfirmActivatePIN_Message\"\r\n                  defaultMessage=\"      .    ?\"\r\n                />\r\n              ),\r\n              labelYes: <FormattedMessage id=\"ConfirmActivatePIN_Yes\" defaultMessage=\"\" />,\r\n              labelNo: <FormattedMessage id=\"ConfirmActivatePIN_No\" defaultMessage=\"\" />,\r\n              onAccept: () => {\r\n                actions.modals.open(constants.modals.RegisterPINProtected, {\r\n                  callback: () => {\r\n                    actions.core.markCoinAsVisible('BTC (PIN-Protected)', true)\r\n                    handleClick()\r\n                  },\r\n                })\r\n              },\r\n              onCancel: () => {\r\n                actions.core.markCoinAsVisible('BTC (PIN-Protected)', true)\r\n                handleClick()\r\n              },\r\n            })\r\n            return\r\n          }\r\n          break\r\n        case 'multisignature':\r\n          if (currencies.BTC) {\r\n            actions.modals.open(constants.modals.MultisignJoinLink, {\r\n              callback: () => {\r\n                actions.core.markCoinAsVisible('BTC (Multisig)', true)\r\n                handleClick()\r\n              },\r\n              showCloseButton: false,\r\n            })\r\n            return\r\n          }\r\n          break\r\n        default:\r\n          console.warn('unconnected secure type')\r\n      }\r\n    }\r\n    handleClick()\r\n  }\r\n\r\n  let forcedCurrencyData\r\n\r\n  if (forcedCurrency) {\r\n    forcedCurrencyData = allCurrencies.find(({ name, standard, value }) => (standard ? value.toUpperCase() : name) === forcedCurrency.toUpperCase())\r\n    if (forcedCurrencyData) {\r\n      currencies[forcedCurrency.toLowerCase()] = true\r\n    }\r\n  }\r\n\r\n  if (isExist) {\r\n    goHome()\r\n  }\r\n\r\n  const web3Type = metamask.web3connect.getInjectedType()\r\n  const web3Icon = (web3Icons[web3Type] && web3Type !== `UNKNOWN` && web3Type !== `NONE`) ? web3Icons[web3Type] : false\r\n\r\n  const hasExternalWallet = (web3Type == 'NONE' && config.opts.hasWalletConnect) || (web3Type !== 'NONE')\r\n\r\n  return (\r\n    <div styleName=\"wrapper\">\r\n      {userWallets.length ? (\r\n        <CloseIcon\r\n          styleName=\"closeButton\"\r\n          onClick={goHome}\r\n          data-testid=\"modalCloseIcon\"\r\n        />\r\n      ) : null}\r\n\r\n      <div styleName={isMobile ? 'mobileFormBody' : 'formBody'}>\r\n        <h2>\r\n          <FormattedMessage id=\"createWalletHeader1\" defaultMessage=\" \" />\r\n          {' '}\r\n          {forcedCurrency && forcedCurrency.toUpperCase()}\r\n        </h2>\r\n        <div styleName=\"buttonWrapper\">\r\n          {!noInternalWallet && (\r\n            <>\r\n              <div>\r\n                <button onClick={handleRestoreMnemonic} type=\"button\">\r\n                  <FormattedMessage id=\"ImportKeys_RestoreMnemonic\" defaultMessage=\"Restore from 12-word seed\" />\r\n                </button>\r\n                &nbsp;\r\n                <Tooltip id=\"ImportKeys_RestoreMnemonic_tooltip\">\r\n                  <span>\r\n                    <FormattedMessage\r\n                      id=\"ImportKeys_RestoreMnemonic_Tooltip\"\r\n                      defaultMessage=\"12-word backup phrase\"\r\n                    />\r\n                    <br />\r\n                    <br />\r\n                    <div styleName=\"alertTooltipWrapper\">\r\n                      <FormattedMessage\r\n                        id=\"ImportKeys_RestoreMnemonic_Tooltip_withBalance\"\r\n                        defaultMessage=\"Please, be causious!\"\r\n                      />\r\n                    </div>\r\n                  </span>\r\n                </Tooltip>\r\n              </div>\r\n              <div>\r\n                <button onClick={handleRestoreShamirs} type=\"button\">\r\n                  <FormattedMessage id=\"ImportKeys_RestoreShamirs\" defaultMessage=\"Restore from Secret-Sharing\" />\r\n                </button>\r\n                &nbsp;\r\n                <Tooltip id=\"ImportKeys_RestoreShamirsc_tooltip\">\r\n                  <span>\r\n                    <FormattedMessage\r\n                      id=\"ImportKeys_RestoreShamirs_Tooltip\"\r\n                      defaultMessage=\"Shamir's Secret-Sharing for Mnemonic Codes\"\r\n                    />\r\n                    <br />\r\n                    <br />\r\n                    <div styleName=\"alertTooltipWrapper\">\r\n                      <FormattedMessage\r\n                        id=\"ImportKeys_RestoreShamirs_Tooltip_withBalance\"\r\n                        defaultMessage=\"Please, be causious!\"\r\n                      />\r\n                    </div>\r\n                  </span>\r\n                </Tooltip>\r\n              </div>\r\n            </>\r\n          )}\r\n          {hasExternalWallet && (\r\n            <>\r\n              {!metamask.isConnected() && (\r\n                <div>\r\n                  <button onClick={handleConnectWallet} type=\"button\">\r\n                    {web3Icon && (\r\n                      <img styleName=\"connectWalletIcon\" src={web3Icon} />\r\n                    )}\r\n                    <FormattedMessage id=\"ImportKeys_ConnectWallet\" defaultMessage=\"Connect Wallet\" />\r\n                  </button>\r\n                  &nbsp;\r\n                  <Tooltip id=\"CreateWallet_ConnectWalletTooltip\">\r\n                    <FormattedMessage\r\n                      id=\"CreateWallet_ConnectWalletButton\"\r\n                      defaultMessage=\"Use this if you already have ethereum wallet\"\r\n                    />\r\n                  </Tooltip>\r\n                </div>\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        {\r\n          addAllEnabledWalletsAfterRestoreOrCreateSeedPhrase\r\n            ? (\r\n              <div style={{ display: 'flex', justifyContent: 'center', width: '60%', margin: 'auto' }}>\r\n                <Button blue fullWidth onClick={handleShowMnemonic}>\r\n                  <FormattedMessage\r\n                    id=\"BTCMS_SaveMnemonicButton\"\r\n                    defaultMessage=\"Save secret phrase\"\r\n                  />\r\n                </Button>\r\n              </div>\r\n            )\r\n            : (\r\n              <StepsWrapper\r\n                step={step}\r\n                forcedCurrencyData={forcedCurrencyData}\r\n                error={error}\r\n                onClick={validate}\r\n                setError={setError}\r\n                btcData={btcData}\r\n                currenciesForSecondStep={currencies}\r\n                showPinContent={hash === '#pin'}\r\n              />\r\n            )\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default connect({\r\n  createWallet: 'createWallet',\r\n  currencies: 'currencies',\r\n  userData: 'user',\r\n  core: 'core',\r\n})(withRouter(CSSModules(CreateWallet, styles, { allowMultiple: true })))\r\n","import React from 'react'\r\n\r\nimport styles from './NotFound.scss'\r\nimport CSSModules from 'react-css-modules'\r\n\r\nimport { FormattedMessage } from 'react-intl'\r\n\r\n\r\nconst NotFound = () => (\r\n  <div className=\"container\">\r\n    <h2 styleName=\"text\">\r\n      <FormattedMessage id=\"NotFound8\" defaultMessage=\"Page not found!\" />\r\n    </h2>\r\n  </div>\r\n)\r\nexport default CSSModules(NotFound, styles)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"text\":\"_5S5Qwi6NSE153IoJOckSNA==\"};","// extracted by mini-css-extract-plugin\nexport default {\"wallet\":\"w3MjhVsRgJbI7Kbn6qU-Og==\",\"faqWrapper\":\"fxMx4E1hfXb719ema9g-Gg==\",\"hasCusomLogo\":\"aP08vXq7WzjgJBd80n8RYQ==\",\"walletBalance\":\"+rpVUMJxD-2TNipR-QUr7w==\",\"yourAssetsWrapper\":\"jASXSnj5m2bL6tmw9b1m4Q==\",\"activity\":\"usBoOuT-dGud0LDyuyCUgA==\",\"active\":\"_9kdK4KBuXDppKNcFKPrIhQ==\",\"walletContent\":\"_1CYxebmpnTY+RKY+paRrsw==\",\"desktopEnabledViewForFaq\":\"j9FdTTjNzSqQIl5hLC9KCg==\",\"mobileEnabledViewForFaq\":\"MiWASXMc7lv+3S6uGPkCtA==\",\"yourBalance\":\"DxD14pMk3gB+HhNKs3EB0A==\"};","// extracted by mini-css-extract-plugin\nexport default {\"faQuestions\":\"g3I8ept0E7OTBJkHhuscMg==\",\"faQuestions__header\":\"hQKn63ssml2Va3z1xkqmCg==\",\"faQuestions__tabsContainer\":\"_6Rx+Lpp9-zkLg0bv6+IDvQ==\",\"tab\":\"BfBRLHE7n2NygKGsMjsptw==\",\"tab__header\":\"jxOtKEuEqj3XU60mm4334Q==\",\"tab__content\":\"W12gE5eiOWgnkPOy4GndHA==\",\"tab__content_active\":\"K3rIdppotL8H-9qCFUU5uA==\",\"feeInfoTitle\":\"CD7gFWd1lR--OfeWkIeP+g==\",\"chrest\":\"B3147TxyAHhw6tOeJL++mA==\",\"chrest_active\":\"_1DER-XudJZPR5NxP2WHUBw==\",\"descriptionFee\":\"bW2+m+GTG+dEVh68tGd41w==\",\"link\":\"ExYkySERaZmrhVXE9ckS5A==\"};","import React, { useState, useEffect } from 'react'\r\nimport BigNumber from 'bignumber.js'\r\nimport InlineLoader from 'components/loaders/InlineLoader/InlineLoader'\r\nimport btcUtils from 'common/utils/coin/btc'\r\nimport ethLikeHelper from 'common/helpers/ethLikeHelper'\r\nimport { FormattedMessage, injectIntl } from 'react-intl'\r\nimport { feedback, adminFee, externalConfig } from 'helpers'\r\nimport cssModules from 'react-css-modules'\r\nimport cx from 'classnames'\r\nimport config from 'helpers/externalConfig'\r\nimport styles from './styles.scss'\r\n\r\nconst { disableInternalWallet } = config.opts.ui\r\n\r\nconst NETWORK = process.env.MAINNET\r\n  ? 'MAINNET'\r\n  : 'TESTNET'\r\n\r\nconst enabledCurrencies = config.opts.curEnabled\r\nconst hasOwnBeforeTabs = (config?.opts?.ui?.faq?.before && (config.opts.ui.faq.before.length > 0))\r\nconst hasOwnAfterTabs = (config?.opts?.ui?.faq?.after && (config.opts.ui.faq.after.length > 0))\r\n\r\nconst beforeTabs = {}\r\nconst beforeTabsIds = {}\r\nif (hasOwnBeforeTabs) {\r\n  config.opts.ui.faq.before.map((tabData, tabIndex) => {\r\n    beforeTabs[`BEFORE_TAB_${tabIndex}`] = false\r\n    beforeTabsIds[`BEFORE_TAB_${tabIndex}`] = `MainFaq_Before_${tabIndex}_header`\r\n  })\r\n}\r\n\r\nconst afterTabs = {}\r\nconst afterTabsIds = {}\r\nif (hasOwnAfterTabs) {\r\n  config.opts.ui.faq.after.map((tabData, tabIndex) => {\r\n    afterTabs[`AFTER_TAB_${tabIndex}`] = false\r\n    afterTabsIds[`AFTER_TAB_${tabIndex}`] = `MainFaq_After_${tabIndex}_header`\r\n  })\r\n}\r\n\r\nconst tabsIdsDictionary = {\r\n  ...beforeTabsIds,\r\n  FIRST_TAB: 'MainFAQ1_header',\r\n  SECOND_TAB: 'MainFAQ2_header',\r\n  THIRD_TAB: 'MainFAQ3_header',\r\n  ...afterTabsIds,\r\n}\r\n\r\n\r\nconst FAQ = function (props) {\r\n  const { intl: { formatMessage } } = props\r\n  const [tabsVisibility, setTabsVisibility] = useState({\r\n    ...beforeTabs,\r\n    FIRST_TAB: false,\r\n    SECOND_TAB: false,\r\n    THIRD_TAB: false,\r\n    ...afterTabs,\r\n  })\r\n\r\n  const [openedTabs, setOpenedTabs] = useState({\r\n    ...beforeTabs,\r\n    FIRST_TAB: false,\r\n    SECOND_TAB: false,\r\n    THIRD_TAB: false,\r\n    ...afterTabs,\r\n  })\r\n\r\n  const handleTabClick = (tabName) => {\r\n    setTabsVisibility({ ...tabsVisibility, [tabName]: !tabsVisibility[tabName] })\r\n\r\n    if (!openedTabs[tabName]) {\r\n      feedback.faq.opened(formatMessage({ id: tabsIdsDictionary[tabName] }))\r\n      setOpenedTabs({ ...openedTabs, [tabName]: true })\r\n    }\r\n  }\r\n\r\n  const convertToGwei = (value) => new BigNumber(value)\r\n    .dividedBy(1e9)\r\n    .dp(2, BigNumber.ROUND_HALF_CEIL)\r\n    .toNumber()\r\n\r\n  const [fees, setFees] = useState({\r\n    btc: 0,\r\n    eth: 0,\r\n    bnb: 0,\r\n    matic: 0,\r\n    arbeth: 0,\r\n    xdai: 0,\r\n    ftm: 0,\r\n    avax: 0,\r\n    movr: 0,\r\n    one: 0,\r\n  })\r\n\r\n  useEffect(() => {\r\n    let _mounted = true\r\n\r\n\r\n    async function fetchFees() {\r\n      try {\r\n        // remove memory leak\r\n        if (!enabledCurrencies || enabledCurrencies.btc) {\r\n          const BYTE_IN_KB = 1024\r\n          const btcSatoshiPrice = await btcUtils.estimateFeeRate({ speed: 'fast', NETWORK })\r\n          if (_mounted) {\r\n            setFees((prevFees) => ({\r\n              ...prevFees,\r\n              // divided by 1 kb to convert it to satoshi / byte\r\n              btc: Math.ceil(btcSatoshiPrice / BYTE_IN_KB),\r\n            }))\r\n          }\r\n        }\r\n\r\n        // Evm blockchains fee\r\n        const setEvmBlockchainFee = async (evmType: string) => {\r\n          const fee = await ethLikeHelper[evmType].estimateGasPrice()\r\n          if (_mounted) {\r\n            setFees((prevFees) => ({\r\n              ...prevFees,\r\n              [`${evmType}`]: convertToGwei(fee),\r\n            }))\r\n          }\r\n        }\r\n\r\n        Object.keys(config.enabledEvmNetworks).forEach((evmType) => {\r\n          if (!enabledCurrencies || enabledCurrencies[evmType.toLowerCase()]) setEvmBlockchainFee(evmType.toLowerCase())\r\n        })\r\n      } catch (error) {\r\n        feedback.faq.failed(`FAQ. Fetch fees error(${error.message})`)\r\n      }\r\n    }\r\n\r\n    if (tabsVisibility.SECOND_TAB) {\r\n      fetchFees()\r\n    }\r\n\r\n    return () => {\r\n      _mounted = false\r\n    }\r\n  }, [tabsVisibility.SECOND_TAB])\r\n\r\n  const evmMiningFeeItems: any = []\r\n  Object.keys(config.enabledEvmNetworks).forEach((evmType) => {\r\n    if (!enabledCurrencies || enabledCurrencies[evmType.toLowerCase()]) {\r\n      evmMiningFeeItems.push({\r\n        ticker: evmType,\r\n        fee: fees[evmType.toLowerCase()],\r\n        unit: 'gwei',\r\n      })\r\n    }\r\n  })\r\n  const miningFeeItems = [\r\n    ...((!enabledCurrencies || enabledCurrencies.btc) ? [{\r\n      ticker: 'BTC',\r\n      fee: fees.btc,\r\n      unit: 'sat/byte',\r\n      sourceLink: externalConfig.api.blockcypher,\r\n    }] : []),\r\n    ...evmMiningFeeItems,\r\n  ]\r\n\r\n  const evmAdminFeeItems: any = []\r\n  Object.keys(config.enabledEvmNetworks).forEach((evmType) => {\r\n    if (!enabledCurrencies || enabledCurrencies[evmType.toLowerCase()]) {\r\n      evmAdminFeeItems.push({\r\n        ticker: evmType,\r\n        percentFee: adminFee.isEnabled(evmType),\r\n      })\r\n    }\r\n  })\r\n  const adminFeeItems = [\r\n    ...((!enabledCurrencies || enabledCurrencies.btc) ? [{\r\n      ticker: 'BTC',\r\n      percentFee: adminFee.isEnabled('BTC'),\r\n    }] : []),\r\n    ...evmAdminFeeItems,\r\n  ]\r\n\r\n  const renderTabs = (tabsData, prefix) => {\r\n    return tabsData.map((tabData, tabIndex) => {\r\n      return (\r\n        <article className={styles.tab}>\r\n          <span className={styles.tab__header} onClick={() => handleTabClick(`${prefix}_TAB_${tabIndex}`)}>\r\n            <div className={cx({\r\n              [styles.chrest]: true,\r\n              [styles.chrest_active]: tabsVisibility[`${prefix}_TAB_${tabIndex}`],\r\n            })} />\r\n            {tabData.title}\r\n          </span>\r\n          <div className={cx({\r\n            [styles.tab__content]: true,\r\n            [styles.tab__content_active]: tabsVisibility[`${prefix}_TAB_${tabIndex}`],\r\n          })}>\r\n            {tabData.content}\r\n          </div>\r\n        </article>\r\n      )\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className={`${styles.faQuestions}`}>\r\n      <h5 className={styles.faQuestions__header}>\r\n        <FormattedMessage id=\"MainFAQHeader\" defaultMessage=\"FAQ\" />\r\n      </h5>\r\n      <div className={styles.faQuestions__tabsContainer}>\r\n        {hasOwnBeforeTabs && (\r\n          <>\r\n            {renderTabs(config.opts.ui.faq.before, `BEFORE`)}\r\n          </>\r\n        )}\r\n        {!disableInternalWallet && (\r\n          <article className={styles.tab}>\r\n            <span className={styles.tab__header} onClick={() => handleTabClick('FIRST_TAB')}>\r\n              <div className={cx({\r\n                [styles.chrest]: true,\r\n                [styles.chrest_active]: tabsVisibility.FIRST_TAB,\r\n              })} />\r\n              <FormattedMessage id=\"MainFAQ1_header\" defaultMessage=\"How are my private keys stored?\" />\r\n            </span>\r\n            <div className={cx({\r\n              [styles.tab__content]: true,\r\n              [styles.tab__content_active]: tabsVisibility.FIRST_TAB,\r\n            })}>\r\n              <FormattedMessage\r\n                id=\"MainFAQ1_content\"\r\n                defaultMessage={`\r\n                  Your private keys are stored ONLY on your device, in the localStorage of your browser.\r\n                  Please backup your keys, because your browser or device may be crashed.\r\n                `}\r\n              />\r\n            </div>\r\n          </article>\r\n        )}\r\n\r\n        <article className={styles.tab}>\r\n          <span className={styles.tab__header} onClick={() => handleTabClick('SECOND_TAB')}>\r\n            <div className={cx({\r\n              [styles.chrest]: true,\r\n              [styles.chrest_active]: tabsVisibility.SECOND_TAB,\r\n            })} />\r\n            <FormattedMessage id=\"MainFAQ2_header\" defaultMessage=\"What are the fees involved?\" />\r\n          </span>\r\n          <div className={cx({\r\n            [styles.tab__content]: true,\r\n            [styles.tab__content_active]: tabsVisibility.SECOND_TAB,\r\n          })}>\r\n            <p>\r\n              <FormattedMessage id=\"MainFAQ2_content\" defaultMessage=\"You pay the standard TX (miners fees) for all transactions you conduct on the platform.\" />\r\n            </p>\r\n            <p>\r\n              <FormattedMessage\r\n                id=\"MainFAQ2_content1\"\r\n                defaultMessage={`\r\n                  For {tokenType} tokens, it is required that you have at least 0.001 {currency} on your wallets.\r\n                  Remember! when sending {tokenType} tokens, you are required to hold some {currency} as miners fees for transactions.\r\n                  This is also the case for all atomic swaps for {currency} & {tokenType} tokens.\r\n                `}\r\n                values={{\r\n                  currency: 'ETH',\r\n                  tokenType: 'ERC20',\r\n                }}\r\n              />\r\n            </p>\r\n            <p>\r\n              <FormattedMessage id=\"MainFAQ2_content2\" defaultMessage=\"NOTE: You can easily check the miners fees required for each respective coin by simply googling them.\" />\r\n            </p>\r\n\r\n            <p className={styles.feeInfoTitle}>\r\n              <FormattedMessage id=\"MainFAQ2_content3\" defaultMessage=\"Current mining fees:\" />\r\n            </p>\r\n\r\n            {miningFeeItems.map((item, index) => {\r\n              const { ticker, fee, unit, sourceLink } = item\r\n\r\n              return (\r\n                <div className={styles.descriptionFee} key={index}>\r\n                  <span>\r\n                    {ticker}\r\n                    :\r\n                  </span>\r\n                  {' '}\r\n                  {fee ? (\r\n                    <span>\r\n                      <b>{fee}</b>\r\n                      {' '}\r\n                      {unit}\r\n                      {' '}\r\n                      {sourceLink && (\r\n                        <a className={styles.link} href={sourceLink} target=\"_blank\" rel=\"noreferrer\">\r\n                          <FormattedMessage id=\"FAQFeeApiLink\" defaultMessage=\"(source)\" />\r\n                        </a>\r\n                      )}\r\n                    </span>\r\n                  ) : (\r\n                    <InlineLoader />\r\n                  )}\r\n                </div>\r\n              )\r\n            })}\r\n\r\n            <br />\r\n\r\n            <p className={styles.feeInfoTitle}>\r\n              <FormattedMessage id=\"FAQServiceFee\" defaultMessage=\"Service fee (only withdraw):\" />\r\n            </p>\r\n\r\n            {adminFeeItems.map((item, index) => {\r\n              const { ticker, percentFee } = item\r\n\r\n              return (\r\n                <p className={styles.descriptionFee} key={index}>\r\n                  <span>\r\n                    {ticker}\r\n                    :\r\n                  </span>\r\n                  {' '}\r\n                  {percentFee\r\n                    ? (\r\n                      <span>\r\n                        {`${percentFee.fee}%, `}\r\n                        <FormattedMessage id=\"FAQServiceFeeDescription\" defaultMessage=\"no less than\" />\r\n                        {' '}\r\n                        <b>{adminFee.calc(ticker, null)}</b>\r\n                        {' '}\r\n                        {ticker}\r\n                      </span>\r\n                    )\r\n                    : <span>0%</span>}\r\n                </p>\r\n              )\r\n            })}\r\n          </div>\r\n        </article>\r\n\r\n        <article className={styles.tab}>\r\n          <span className={styles.tab__header} onClick={() => handleTabClick('THIRD_TAB')}>\r\n            <div className={cx({\r\n              [styles.chrest]: true,\r\n              [styles.chrest_active]: tabsVisibility.THIRD_TAB,\r\n            })} />\r\n            <FormattedMessage id=\"MainFAQ3_header\" defaultMessage=\"Why mining fee is too high?\" />\r\n          </span>\r\n          <div className={cx({\r\n            [styles.tab__content]: true,\r\n            [styles.tab__content_active]: tabsVisibility.THIRD_TAB,\r\n          })}>\r\n            <p>\r\n              <FormattedMessage\r\n                id=\"MainFAQ3_content\"\r\n                defaultMessage={`\r\n                  Blockchain fees depend on several factors including network congestion and transaction size\r\n                  (affected when converting crypto from multiple inputs such as faucet earnings or other micro-transactions).\r\n                `}\r\n              />\r\n            </p>\r\n            <p>\r\n              <FormattedMessage\r\n                id=\"MainFAQ3_content1\"\r\n                defaultMessage=\"In other words, you may need to pay higher blockchain fees if:\"\r\n              />\r\n            </p>\r\n            <p>\r\n              <FormattedMessage\r\n                id=\"MainFAQ3_content2\"\r\n                defaultMessage={`\r\n                  1) The blockchain network is busy or loaded at the moment. Usually, the fee increases during sudden blockchain rate fluctuations and major world events;\r\n                `}\r\n              />\r\n              <br />\r\n              <FormattedMessage\r\n                id=\"MainFAQ3_content3\"\r\n                defaultMessage={`\r\n                  2) Your crypto account has a history of microdeposits. If your account has large amounts of small deposits,\r\n                  the size of your transaction will be bigger as it will consist of many inputs. The bigger the transaction size, the higher the blockchain fee.\r\n                `}\r\n              />\r\n            </p>\r\n            <p>\r\n              <FormattedMessage id=\"MainFAQ3_content4\" defaultMessage=\"There might be other causes of higher blockchain fees, but we've listed the most common ones.\" />\r\n            </p>\r\n          </div>\r\n        </article>\r\n        {hasOwnAfterTabs && (\r\n          <>\r\n            {renderTabs(config.opts.ui.faq.after, `AFTER`)}\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default React.memo(cssModules(injectIntl(FAQ), styles, { allowMultiple: true }))\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport cx from 'classnames'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './WidthContainer.scss'\r\n\r\n\r\nconst WidthContainer = ({ children, className, main, fullHeight, relative, contentCentering, ...rest }) => {\r\n  const containerStyleName = cx('widthContainer', {\r\n    'main': main,\r\n    'fullHeight': fullHeight,\r\n    'centeringContent': contentCentering,\r\n  })\r\n\r\n  if (fullHeight || relative) {\r\n    const containerInStyleName = cx('widthContainerIn', {\r\n      'fullHeight': fullHeight,\r\n      'relative': relative,\r\n    })\r\n\r\n    return (\r\n      <div styleName={containerStyleName} className={className} {...rest}>\r\n        <div styleName={containerInStyleName}>\r\n          {children}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div styleName={containerStyleName} className={className} {...rest}>\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nWidthContainer.propTypes = {\r\n  children: PropTypes.node,\r\n  main: PropTypes.bool, // uses for main container between header and footer with vertical paddings\r\n  fullHeight: PropTypes.bool,\r\n  relative: PropTypes.bool,\r\n  contentCentering: PropTypes.bool,\r\n  className: PropTypes.string,\r\n}\r\n\r\nexport default cssModules(WidthContainer, styles, { allowMultiple: true })\r\n","// extracted by mini-css-extract-plugin\nexport default {\"widthContainer\":\"_05u8I8JC96m-jIgUM-88bQ==\",\"widthContainerIn\":\"cbFnJBM3FdbfBJ-5COiaRQ==\",\"relative\":\"OG2sMEHBJnFCC8gRILzybA==\",\"fullHeight\":\"VdZ-pNTt-6B5FQywEX+NRQ==\",\"centeringContent\":\"aVJOQmG+7+JRqpwErltZyA==\",\"main\":\"o6czFM+ceH6vaeeRWfFx2w==\"};","import React, { useEffect } from 'react'\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './Overlay.scss'\r\n\r\ntype ComponentProps = {\r\n  children: JSX.Element | JSX.Element[]\r\n  onClick?: () => void\r\n  dashboardView?: boolean\r\n}\r\n\r\nfunction Overlay(props: ComponentProps) {\r\n  const {\r\n    children,\r\n    onClick = () => undefined,\r\n    dashboardView = false,\r\n  } = props\r\n\r\n  const [evaluatedHeight, setEvaluatedHeight] = React.useState(400)\r\n\r\n  useEffect(() => {\r\n    if (dashboardView) {\r\n      const elWithHeight: HTMLElement | null = document.querySelector('.__modalConductorProvided__ .contentHeightEvaluateHere')\r\n\r\n      if (elWithHeight) {\r\n        setEvaluatedHeight(elWithHeight.clientHeight\r\n          || elWithHeight.offsetHeight\r\n          || 400)\r\n      }\r\n    }\r\n  })\r\n\r\n  return (\r\n    <div styleName={dashboardView ? 'overlayDashboardView' : 'overlay'} onClick={onClick} style={dashboardView ? { minHeight: `${evaluatedHeight + 88}px` } : {}}>\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default cssModules(Overlay, styles)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"overlay\":\"W0lNOKrV+8mvx5zJb3TX2w==\",\"overlayDashboardView\":\"-2vtjvQe928a4o6Ezb8hYg==\"};","import React from 'react'\r\nimport cx from 'classnames'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './Center.scss'\r\n\r\ntype CenterProps = {\r\n  children: React.ReactNode\r\n  relative?: boolean\r\n  scrollable?: boolean\r\n  keepFontSize?: boolean\r\n  centerVertically?: boolean\r\n  centerHorizontally?: boolean\r\n}\r\n\r\nconst Center = ({\r\n  children,\r\n  scrollable = false,\r\n  centerHorizontally = true,\r\n  centerVertically = true,\r\n  keepFontSize = false,\r\n  relative = false,\r\n  ...rest\r\n}: CenterProps) => {\r\n  // TODO move overflow to Modal and any other cases where it belongs\r\n  const styleName = cx('centringContainer', {\r\n    scrollable: scrollable,\r\n    centerHorizontally: centerHorizontally,\r\n    centerVertically: centerVertically,\r\n    keepFontSize: keepFontSize,\r\n    relative: relative,\r\n  })\r\n\r\n  return (\r\n    <div styleName={styleName} {...rest}>\r\n      <div styleName=\"centringContent\">{children}</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default cssModules(Center, styles, { allowMultiple: true })\r\n","// extracted by mini-css-extract-plugin\nexport default {\"centringContainer\":\"UBlxT9Ku1R3nqkhPP6GDkA==\",\"scrollable\":\"geZVaq4IzXn1vbMqFf0SmQ==\",\"keepFontSize\":\"Sn+9BXmtCH9lS2grwSCAmA==\",\"relative\":\"K2+qYApSn+OkYDwE9ihCyw==\",\"centerHorizontally\":\"_3DZ132YSNuNR5c-G+p-3cw==\",\"centerVertically\":\"_6E1bfipUH6Ehuk22jJQPRQ==\",\"centringContent\":\"tLIeB7Fsl5rYagKv+Go1zQ==\"};","import React, { Component } from 'react'\r\nimport { connect } from 'redaction'\r\n\r\nimport actions from 'redux/actions'\r\nimport cx from 'classnames'\r\nimport cssModules from 'react-css-modules'\r\n\r\nimport WidthContainer from 'components/layout/WidthContainer/WidthContainer'\r\nimport CloseIcon from 'components/ui/CloseIcon/CloseIcon'\r\nimport Overlay from 'components/layout/Overlay/Overlay'\r\nimport Center from 'components/layout/Center/Center'\r\nimport styles from './Modal.scss'\r\n\r\ntype ModalProps = {\r\n  title?: JSX.Element | string\r\n  closeOnLocationChange?: boolean | Function\r\n  onClose?: (isLocationChange) => boolean | void\r\n\r\n  children: JSX.Element | JSX.Element[]\r\n  data?: IUniversalObj\r\n  onLocationChange?: (hash: string) => boolean\r\n  name: string\r\n  className?: string\r\n  styleName?: string\r\n  showLogo?: boolean\r\n  whiteLogo?: boolean\r\n  delayClose?: boolean\r\n  disableClose?: boolean\r\n  dashboardView?: boolean\r\n  titleUppercase?: boolean\r\n  showCloseButton?: boolean\r\n  shouldCenterVertically?: boolean\r\n  shouldCenterHorizontally?: boolean\r\n  contentWithTabs?: boolean\r\n}\r\n\r\n@connect(({\r\n  ui: { dashboardModalsAllowed },\r\n}) => ({\r\n  dashboardView: dashboardModalsAllowed,\r\n}))\r\n@cssModules(styles, { allowMultiple: true })\r\nexport default class Modal extends Component<ModalProps, object> {\r\n\r\n  catchLocationChange = null\r\n\r\n  componentDidMount() {\r\n    const {\r\n      closeOnLocationChange,\r\n      onLocationChange,\r\n      name,\r\n    } = this.props\r\n\r\n    window.addEventListener('popstate', () => actions.modals.close(name))\r\n\r\n    if (closeOnLocationChange) {\r\n      let currentLocation = window.location.hash\r\n\r\n      // @ts-ignore: strictNullChecks\r\n      this.catchLocationChange = setInterval(() => {\r\n        if (window.location.hash != currentLocation) {\r\n          if (typeof onLocationChange === 'function') {\r\n            if (onLocationChange(window.location.hash)) {\r\n              currentLocation = window.location.hash\r\n            } else {\r\n              // @ts-ignore: strictNullChecks\r\n              clearInterval(this.catchLocationChange)\r\n              this.close(null, true)\r\n            }\r\n          } else {\r\n            // @ts-ignore: strictNullChecks\r\n            clearInterval(this.catchLocationChange)\r\n            this.close(null, true)\r\n          }\r\n        }\r\n      }, 500)\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const { name } = this.props\r\n\r\n    window.removeEventListener('popstate', () => actions.modals.close(name))\r\n    // @ts-ignore: strictNullChecks\r\n    clearInterval(this.catchLocationChange)\r\n  }\r\n\r\n  close = (event, isLocationChange) => {\r\n    const { name, data, onClose, disableClose } = this.props\r\n\r\n    if (name === 'OfferModal') {\r\n      // actions.analytics.dataEvent('orderbook-addoffer-click-exit-button')\r\n    }\r\n\r\n    if (!disableClose) {\r\n      actions.modals.close(name)\r\n\r\n      if (onClose && typeof onClose === 'function') {\r\n        onClose(isLocationChange)\r\n      }\r\n\r\n      // @ts-ignore: strictNullChecks\r\n      if (data?.onClose && typeof data.onClose === 'function') {\r\n        // @ts-ignore: strictNullChecks\r\n        data.onClose(isLocationChange)\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      className,\r\n      title,\r\n      showCloseButton,\r\n      disableClose,\r\n      children,\r\n      titleUppercase,\r\n      shouldCenterHorizontally,\r\n      shouldCenterVertically,\r\n      styleName,\r\n      delayClose,\r\n      dashboardView,\r\n      contentWithTabs,\r\n    } = this.props\r\n\r\n    const titleStyleName = cx('title', {\r\n      'uppercase': titleUppercase,\r\n    })\r\n\r\n    return (\r\n      <Overlay dashboardView={dashboardView} styleName={styleName}>\r\n        <div\r\n          styleName={cx({\r\n            modal: true,\r\n            modal_dashboardView: dashboardView,\r\n          })}\r\n          className={className}\r\n        >\r\n          {\r\n            Boolean(title || showCloseButton) && (\r\n              <div styleName=\"header\">\r\n                {/*\r\n                  //@ts-ignore */}\r\n                <WidthContainer styleName=\"headerContent\">\r\n                  <div styleName={titleStyleName} role=\"title\">{title}</div>\r\n                  {\r\n                    showCloseButton && !disableClose && (\r\n                      <CloseIcon styleName={`closeButton ${delayClose ? 'delayClose' : ''}`} onClick={this.close} data-testid=\"modalCloseIcon\" />\r\n                    )\r\n                  }\r\n                </WidthContainer>\r\n              </div>\r\n            )\r\n          }\r\n          <div styleName={cx({\r\n            contentContainer: true,\r\n            contentContainer_dashboardView: dashboardView,\r\n          })}>\r\n            {\r\n              dashboardView\r\n                ? (\r\n                  <div styleName={contentWithTabs ? 'content content_dashboardView withTabs' : 'content content_dashboardView'} className=\"contentHeightEvaluateHere\">\r\n                    {children}\r\n                  </div>\r\n                )\r\n                : (\r\n                  <Center scrollable centerHorizontally={shouldCenterHorizontally} centerVertically={shouldCenterVertically}>\r\n                    <div styleName={contentWithTabs ? 'content withTabs' : 'content'}>\r\n                      {children}\r\n                    </div>\r\n                  </Center>\r\n                )\r\n            }\r\n          </div>\r\n        </div>\r\n      </Overlay>\r\n    )\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"modal\":\"T3nwbX+Urueyny1itAtsLw==\",\"modal_dashboardView\":\"qYlctVAMLo0jMOqs+RhRCQ==\",\"header\":\"Z1yeJjj0QV6rNiWTFtu0Hw==\",\"headerContent\":\"_2kWu-XKWlCx9K9G2LtdKUQ==\",\"title\":\"kYpcsaDHqQlrjSdQZRvBMw==\",\"uppercase\":\"x9vvnpGk07fruqD8il8cDA==\",\"closeButton\":\"kHRgOeNiYBTSVoYg4SyfFA==\",\"delayClose\":\"QpMi++-+Ij2BVjSnqnEW9w==\",\"contentContainer\":\"_4-Dp8yplGgfJ+oFEc9Bc+Q==\",\"contentContainer_dashboardView\":\"_1jRkOtDHtw+IMndWhO4lhQ==\",\"content\":\"v-eUFWqzo1xFgZpx33JUeg==\",\"content_dashboardView\":\"CA-dDGj9g0++ury7c+w5-Q==\",\"withTabs\":\"kAj7iFWgW1qQsZGL1r4O4A==\",\"header__logo\":\"_3F6DCYEZqXORbnLTy0EY4A==\"};","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './Row.scss'\r\n\r\n\r\nconst Row = ({ children, className }) => (\r\n  <div className={className}>\r\n    <div styleName=\"row\" >\r\n      {children}\r\n    </div>\r\n  </div>\r\n)\r\n\r\nRow.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n  className: PropTypes.string,\r\n}\r\n\r\nexport default cssModules(Row, styles)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"row\":\"u5xz4YJgaDhzqH6RIFm6ow==\"};","import React from 'react'\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './Coins.scss'\r\n\r\nimport Coin from 'components/Coin/Coin'\r\n\r\ntype ComponentProps = {\r\n  names: string[]\r\n  size?: number\r\n  className?: string\r\n}\r\n\r\nconst Coins = (props: ComponentProps) => {\r\n  const { className, names, size = 40 } = props\r\n\r\n  return (\r\n    <div styleName=\"coins\" className={className}>\r\n      <Coin name={names[0]} size={size} />\r\n      <Coin name={names[1]} size={size} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CSSModules(Coins, styles)\r\n\r\n","// extracted by mini-css-extract-plugin\nexport default {\"coins\":\"GwFoGwXrzyVlwZLC6ByX0A==\"};","import React from 'react'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './Row.scss'\r\n\r\n\r\nconst Row = ({ title, children }) => (\r\n  <div styleName=\"row\">\r\n    <div styleName=\"title\">{title}</div>\r\n    <div styleName=\"content\">\r\n      {children}\r\n    </div>\r\n  </div>\r\n)\r\n\r\nexport default cssModules(Row, styles)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"row\":\"_4xXnYhKRErQaWUHmHJIydg==\",\"title\":\"yM+P3OG97beyjNUee9DJxA==\",\"content\":\"YxcsT7f+B-QWmtaOZilIAA==\"};","import React from 'react'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './Value.scss'\r\n\r\n\r\nconst Value = ({ value, currency }) => (\r\n  <span styleName=\"value\">\r\n    <span>{value}{' '}</span>\r\n    <span styleName=\"currency\">{' '}{currency.toUpperCase()}</span>\r\n  </span>\r\n)\r\n\r\nexport default cssModules(Value, styles)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"value\":\"pPaSUsXzvvDys813tbbuVA==\",\"currency\":\"OTcE-BlezWwynAA9S4L2vg==\"};","import React from 'react'\r\n\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './Amounts.scss'\r\n\r\nimport Row from '../Row/Row'\r\nimport Value from '../Value/Value'\r\nimport { FormattedMessage } from 'react-intl'\r\n\r\nconst title = (\r\n  <FormattedMessage id=\"amount\" defaultMessage=\"Exchange\" />\r\n)\r\n\r\nconst Amounts = ({ buyAmount, sellAmount, buyCurrency, sellCurrency }) => (\r\n  <Row title={title}>\r\n    <Value value={sellAmount} currency={sellCurrency} />\r\n    <span styleName=\"arrow\">&rarr;</span>\r\n    <Value value={buyAmount} currency={buyCurrency} />\r\n  </Row>\r\n)\r\n\r\nexport default CSSModules(Amounts, styles)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"arrow\":\"CjOdSHy1PD3WTY0B7EcXAw==\"};","import React, { PureComponent } from 'react'\r\n\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './ExchangeRate.scss'\r\n\r\nimport Row from '../Row/Row'\r\nimport Value from '../Value/Value'\r\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\r\nimport BigNumber from 'bignumber.js'\r\n\r\n\r\nconst title = defineMessages({\r\n  ExchangeRate: {\r\n    id: 'ExchangeRate12',\r\n    defaultMessage: `Exchange Rate`,\r\n  },\r\n})\r\n\r\n@CSSModules(styles)\r\nclass ExchangeRate extends PureComponent<any, any> {\r\n  render() {\r\n    const { sellCurrency, buyCurrency, exchangeRate, intl } = this.props\r\n    return (\r\n      <Row title={intl.formatMessage(title.ExchangeRate)}>\r\n        <Value value={1} currency={sellCurrency} />\r\n        {' '}\r\n        <div styleName=\"equal\">\r\n          <FormattedMessage id=\"ExchangeRate14\" defaultMessage=\"=\" />\r\n        </div>\r\n        {' '}\r\n        <Value value={new BigNumber(exchangeRate).toString()} currency={buyCurrency} />\r\n      </Row>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(ExchangeRate)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"equal\":\"oCESV+XqhdPtpbhvhSOYOQ==\"};","import React, { Component, Fragment } from 'react'\r\nimport actions from 'redux/actions'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './ConfirmOffer.scss'\r\n\r\nimport Row from 'components/Row/Row'\r\nimport Button from 'components/controls/Button/Button'\r\nimport Coins from 'components/Coins/Coins'\r\n\r\nimport Amounts from './Amounts/Amounts'\r\nimport ExchangeRate from './ExchangeRate/ExchangeRate'\r\nimport { FormattedMessage, injectIntl } from 'react-intl'\r\nimport feedback from 'shared/helpers/feedback'\r\n\r\n\r\n@cssModules(styles)\r\nclass ConfirmOffer extends Component<any, any> {\r\n  handleConfirm = () => {\r\n    const { offer: { buyCurrency, sellCurrency } } = this.props\r\n\r\n    feedback.createOffer.finished(`${sellCurrency}->${buyCurrency}`)\r\n    this.createOrder()\r\n    actions.modals.close('OfferModal')\r\n  }\r\n\r\n  createOrder = () => {\r\n    const { offer } = this.props\r\n\r\n    actions.core.createOrder(offer, offer.isPartial)\r\n    actions.core.updateCore()\r\n  }\r\n\r\n  render() {\r\n    const { offer: { buyAmount, sellAmount, buyCurrency, sellCurrency, exchangeRate }, onBack } = this.props\r\n\r\n    return (\r\n      <Fragment>\r\n        <Coins styleName=\"coins\" names={[ sellCurrency, buyCurrency ]} size={60} />\r\n        <Amounts {...{ buyAmount, sellAmount, buyCurrency, sellCurrency }} />\r\n        <ExchangeRate {...{ sellCurrency, buyCurrency, exchangeRate }} />\r\n\r\n        <Row styleName=\"buttonsInRow\">\r\n          <Button styleName=\"button\" brand onClick={onBack}>\r\n            <FormattedMessage id=\"back\" defaultMessage=\"Back\" />\r\n          </Button>\r\n          <Button styleName=\"button\" id=\"confirm\" brand onClick={this.handleConfirm}>\r\n            <FormattedMessage id=\"ConfirmOffer73\" defaultMessage=\"Add\" />\r\n          </Button>\r\n        </Row>\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(ConfirmOffer)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"coins\":\"Lg4I42SLeELuwCgXQPQ2wA==\",\"buttonsInRow\":\"Hpe3-V-Rd56WMZeet3GetA==\",\"button\":\"Flg-K6mRsvQR4xV-9Uivsw==\",\"link\":\"_2oI43b0-jLBy3X+KZlUEtQ==\"};","import React, { Component } from 'react'\r\nimport InputMask from 'react-input-mask'\r\nimport cx from 'classnames'\r\nimport { ignoreProps } from 'helpers'\r\n\r\n\r\nconst setValue = (x, e) => e.target.value\r\nconst setBoolValue = (x, e) => Boolean(e.target.checked)\r\n\r\nconst validationClasses = ({ className, invalidClass, requiredClass }, value, error) =>\r\n  cx(className, {\r\n    [invalidClass || 'invalid']: Boolean(error),\r\n    [requiredClass || 'required']: Boolean(error && value === ''),\r\n  })\r\n\r\n\r\nconst Input = (props) => {\r\n  const { valueLink, checkedLink, pattern, mask, maskChar, maskReplace, onChange, ...rest } = props\r\n  const link = valueLink || checkedLink\r\n\r\n  switch (props.type) {\r\n    case 'checkbox':\r\n      return (\r\n        <input\r\n          {...rest}\r\n          checked={Boolean(link.value)}\r\n          onChange={link.action(setBoolValue)}\r\n        />\r\n      )\r\n    case 'radio':\r\n      return (\r\n        <input\r\n          {...rest}\r\n          checked={link.value === props.value}\r\n          onChange={e => {\r\n            if (e.target.checked) {\r\n              link.set(props.value)\r\n            }\r\n          }}\r\n        />\r\n      )\r\n    /* eslint-disable no-case-declarations */\r\n    default:\r\n      const className = validationClasses(rest, valueLink.value, valueLink.error)\r\n      const node = Boolean(mask) ? InputMask : 'input'\r\n\r\n      const nodeProps = {\r\n        ...rest,\r\n        className,\r\n        value: typeof valueLink.value !== 'undefined' ? String(valueLink.value) : '',\r\n        onChange: valueLink.action((x, e) => {\r\n          let val = e.target.value\r\n\r\n          if (pattern && val) {\r\n            val = val.replace(new RegExp(`[^${pattern}]+`, 'g'), '')\r\n          }\r\n\r\n          if (rest.isPriceValueMask && val) {\r\n            if (val.length === 1 && val === '.') {\r\n              val = '0.'\r\n            }\r\n            if (x.match(/\\./g) && val.match(/\\./g) && x.match(/\\./g).length === 1 && val.match(/\\./g).length > 1) {\r\n              val = x\r\n            }\r\n          }\r\n\r\n          if (mask && val) {\r\n            if (maskReplace) {\r\n              return val.replace(maskReplace, '')\r\n            }\r\n            else if (maskReplace !== null && maskReplace !== false) {\r\n              return val.replace(/[^0-9]+/g, '')\r\n            }\r\n          }\r\n          if (typeof onChange === 'function') onChange(e)\r\n          return val\r\n        }),\r\n      }\r\n\r\n      if (mask) {\r\n        nodeProps.mask = mask\r\n        nodeProps.maskChar = maskChar\r\n      }\r\n\r\n      return React.createElement(node, nodeProps)\r\n  }\r\n  /* eslint-enable no-case-declarations */\r\n}\r\n\r\nclass NumberInput extends Component<any, any> {\r\n\r\n   onKeyPress: any\r\n   value: any\r\n   error: any\r\n\r\n  constructor() {\r\n    //@ts-ignore\r\n    super(...arguments)\r\n\r\n    this.onKeyPress = (event) => {\r\n      const { integer, positive } = this.props\r\n      const { charCode, ctrlKey } = event\r\n\r\n      const allowedCharCodes = (positive ? [] : [45]).concat(integer ? [] : [46])\r\n\r\n      if (ctrlKey) {\r\n        return\r\n      }\r\n\r\n      if (\r\n        charCode\r\n        && (charCode < 48 || charCode > 57)\r\n        && allowedCharCodes.indexOf(charCode) < 0\r\n      ) {\r\n        event.preventDefault()\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.setAndConvert(this.props.valueLink.value)\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    const { valueLink: next } = nextProps\r\n\r\n    if (Number(next.value) !== Number(this.value)) {\r\n      this.setAndConvert(next.value) // keep state being synced\r\n    }\r\n  }\r\n\r\n  setValue(x) {\r\n    // We're not using native state in order to avoid race condition.\r\n    this.value = String(x)\r\n    this.error = this.value === '' || isNaN(Number(x))\r\n\r\n    this.forceUpdate()\r\n  }\r\n\r\n  setAndConvert(x) {\r\n    let value = Number(x)\r\n\r\n    if (this.props.positive) {\r\n      value = Math.abs(x)\r\n    }\r\n    if (this.props.integer) {\r\n      value = Math.round(value)\r\n    }\r\n\r\n    this.setValue(value)\r\n  }\r\n\r\n  onChange = (e) => {\r\n    const { value } = e.target\r\n    const asNumber = Number(value)\r\n\r\n    this.setValue(value)\r\n\r\n    if (value && !isNaN(asNumber)) {\r\n      this.props.valueLink.update(x => {\r\n        // Update link if value is changed\r\n        if (asNumber !== Number(x)) {\r\n          return asNumber\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { valueLink, ...props } = this.props\r\n    const error = valueLink.error || this.error\r\n\r\n    return (\r\n      <input\r\n        {...ignoreProps(props, 'positive', 'integer')}\r\n        //@ts-ignore\r\n        className={validationClasses(props, this.value, error)}\r\n        value={this.value}\r\n        onKeyPress={this.onKeyPress}\r\n        onChange={this.onChange}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\n/**\r\n * Wrapper for standard <textarea/> to be compliant with React 0.14 valueLink semantic.\r\n * Simple supports for link validation - adds 'invalid' class if link has an error.\r\n *\r\n *     <TextArea valueLink={ linkToText } />\r\n */\r\nconst TextArea = ({ valueLink, ...props }) => (\r\n  <textarea\r\n    {...props}\r\n    //@ts-ignore\r\n    className={validationClasses(props, valueLink.value, valueLink.error)}\r\n    value={valueLink.value}\r\n    onChange={valueLink.action(setValue)}\r\n  />\r\n)\r\n\r\n/**\r\n * Wrapper for standard <select/> to be compliant with React 0.14 valueLink semantic.\r\n * Regular <option/> tags must be used:\r\n *\r\n *     <Select valueLink={ linkToSelectedValue }>\r\n *         <option value=\"a\">A</option>\r\n *         <option value=\"b\">B</option>\r\n *     </Select>\r\n */\r\nconst Select = ({ valueLink, children, ...props }) => (\r\n  <select\r\n    {...props}\r\n    value={valueLink.value}\r\n    onChange={valueLink.action(setValue)}\r\n  >\r\n    {children}\r\n  </select>\r\n)\r\n\r\n/**\r\n * Simple custom <Radio/> tag implementation. Can be easily styled.\r\n * Intended to be used with offhand bool link:\r\n *\r\n *    <Radio checkedLink={ linkToValue.equals( optionValue ) />\r\n */\r\nconst Radio = ({ className = 'radio', checkedLink, children }) => (\r\n  <div\r\n    className={cx(className, { 'selected': checkedLink.value })}\r\n    onClick={checkedLink.action(() => true)}\r\n  >\r\n    {children}\r\n  </div>\r\n)\r\n\r\n/**\r\n * Simple custom <Checkbox /> tag implementation.\r\n * Takes any type of boolean link. Can be easily styled.\r\n *\r\n *     <Checkbox checkedLink={ boolLink } />\r\n */\r\nconst Checkbox = ({ className = 'checkbox', checkedLink, children }) => (\r\n  <div\r\n    className={cx(className, { 'selected': checkedLink.value })}\r\n    onClick={checkedLink.action(x => !x)}\r\n  >\r\n    {children}\r\n  </div>\r\n)\r\n\r\n\r\nexport {\r\n  Input,\r\n  TextArea,\r\n  Select,\r\n  Radio,\r\n  Checkbox,\r\n  NumberInput,\r\n}\r\n","import Link from 'valuelink'\r\n\r\n\r\n// this.state = { foo: '', bar: '' }  =>   Link.all(this, 'foo', 'bar')\r\n//@ts-ignore\r\nLink.allFields = (component) => Link.all(component, ...Object.keys(component.state))\r\n\r\n\r\nexport { Input, NumberInput, Checkbox, Radio, TextArea, Select } from './tags'\r\n\r\nexport default Link\r\n","import React, { Fragment } from 'react'\r\nimport styles from './Select.scss'\r\nimport cssModules from 'react-css-modules'\r\nimport FieldLabel from 'components/forms/FieldLabel/FieldLabel'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport Switching from 'components/controls/Switching/Switching'\r\nimport BigNumber from 'bignumber.js'\r\n\r\n\r\nconst Select = ({ balance, changeBalance, switching }) => {\r\n\r\n  return (\r\n    <Fragment>\r\n      <div styleName=\"groupField\">\r\n        <div styleName=\"group\">\r\n          <span styleName=\"cell\" onClick={() => changeBalance(new BigNumber(balance).div(4))}><FormattedMessage id=\"Select23\" defaultMessage=\"25%\" /></span>\r\n          <span styleName=\"cell\" onClick={() => changeBalance(new BigNumber(balance).div(2))}><FormattedMessage id=\"Select25\" defaultMessage=\"50%\" /></span>\r\n          <span styleName=\"cell\" onClick={() => changeBalance(new BigNumber(balance).div(4).multipliedBy(3))}><FormattedMessage id=\"Select30\" defaultMessage=\"75%\" /></span>\r\n          <span styleName=\"cell\" onClick={() => changeBalance(new BigNumber(balance).div(1))}><FormattedMessage id=\"Select40\" defaultMessage=\"100%\" /></span>\r\n        </div>\r\n        <div styleName=\"switchButton\">\r\n          <Switching onClick={switching} />\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default cssModules(Select, styles, { allowMultiple: true })\r\n","// extracted by mini-css-extract-plugin\nexport default {\"groupField\":\"_7KeiGdLbakS3-mhbXvinIQ==\",\"balance\":\"_7Qloz36L0kZJ0Gja8m15Tw==\",\"group\":\"fK-aLcyRNh-zR+7peVejwQ==\",\"cell\":\"BjsRenBS9toNQ4qntyadMg==\",\"switchButton\":\"JaHyVmGZGj3PkhQfiB6J4A==\"};","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport autosize from 'autosize'\r\n\r\n\r\nconst UPDATE  = 'autosize:update'\r\nconst DESTROY = 'autosize:destroy'\r\nconst RESIZED = 'autosize:resized'\r\n\r\nexport default class TextareaAutosize extends Component<any, any> {\r\n\r\n  static propTypes = {\r\n    valueLink: PropTypes.object.isRequired,\r\n    onResize: PropTypes.func,\r\n  }\r\n\r\n  static defaultProps = {\r\n    rows: 1,\r\n  }\r\n\r\n  textareaEl: any\r\n\r\n  componentDidMount() {\r\n    autosize(this.textareaEl)\r\n\r\n    if (this.props.onResize) {\r\n      this.textareaEl.addEventListener(RESIZED, this.props.onResize)\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.props.onResize) {\r\n      this.textareaEl.removeEventListener(RESIZED, this.props.onResize)\r\n    }\r\n    //@ts-ignore\r\n    this.dispatchEvent(DESTROY)\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    //@ts-ignore\r\n    if (this.getValue(nextProps) !== this.getValue(this.props)) {\r\n      this.dispatchEvent(UPDATE, true)\r\n    }\r\n  }\r\n\r\n  dispatchEvent = (EVENT_TYPE, defer) => {\r\n    const event = document.createEvent('Event')\r\n\r\n    event.initEvent(EVENT_TYPE, true, false)\r\n\r\n    const dispatch = () => this.textareaEl.dispatchEvent(event)\r\n\r\n    if (defer) {\r\n      setTimeout(dispatch)\r\n    }\r\n    else {\r\n      dispatch()\r\n    }\r\n  }\r\n\r\n  getValue = ({ valueLink, value }) => valueLink ? valueLink.value : value\r\n\r\n  render() {\r\n    const { valueLink, ...props } = this.props\r\n\r\n    return (\r\n      <textarea\r\n        ref={(el) => this.textareaEl = el}\r\n        {...props}\r\n        value={valueLink.value}\r\n        onChange={valueLink.action((x, e) => e.target.value)}\r\n      />\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from \"react\"\r\nimport PropTypes from \"prop-types\"\r\nimport { Input as ValueLinkInput } from \"local_modules/sw-valuelink\"\r\nimport cx from \"classnames\";\r\nimport { ignoreProps } from \"helpers\"\r\nimport reducers from \"redux/core/reducers\"\r\nimport { isMobile } from \"react-device-detect\"\r\n\r\nimport cssModules from \"react-css-modules\"\r\nimport styles from \"./Input.scss\"\r\nimport \"./style.css\"\r\nimport TextArea from \"components/forms/TextArea/TextArea\"\r\n\r\n\r\n@cssModules(styles, { allowMultiple: true })\r\nexport default class Input extends Component<any, any> {\r\n  static propTypes = {\r\n    className: PropTypes.string,\r\n    rootClassName: PropTypes.string,\r\n    inputClassName: PropTypes.string,\r\n    placeholder: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\r\n    type: PropTypes.string,\r\n    valueLink: PropTypes.object.isRequired,\r\n    focusOnInit: PropTypes.bool,\r\n    multiline: PropTypes.bool,\r\n    disabled: PropTypes.bool,\r\n    readOnly: PropTypes.bool,\r\n    required: PropTypes.bool,\r\n    icon: PropTypes.bool,\r\n    intl: PropTypes.object\r\n  };\r\n\r\n  static defaultProps = {\r\n    focusOnInit: false,\r\n    multiline: false,\r\n    disabled: false,\r\n    readOnly: false,\r\n    required: false,\r\n    type: \"text\"\r\n  };\r\n\r\n  handleFocus = () => {\r\n    const { onFocus } = this.props;\r\n\r\n    if (onFocus) {\r\n      onFocus();\r\n    }\r\n\r\n    // Hide the Header if Input is blured\r\n    if (isMobile) {\r\n      const header = document.getElementById('header-mobile')\r\n      if (header) {\r\n        header.classList.add(\"hidden-header\")\r\n      }\r\n    }\r\n    reducers.inputActive.setInputActive(true);\r\n  };\r\n\r\n  handleBlur = (event) => {\r\n    const { onBlur } = this.props\r\n\r\n    if (onBlur) {\r\n      onBlur(event)\r\n    }\r\n\r\n    // Show the Header if Input is blured\r\n    if (isMobile) {\r\n      const header = document.getElementById('header-mobile')\r\n      if (header) {\r\n        header.classList.remove(\"hidden-header\")\r\n      }\r\n    }\r\n    reducers.inputActive.setInputActive(false);\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      styleName,\r\n      className,\r\n      inputContainerClassName,\r\n      inputClassName,\r\n      errorStyle,\r\n      openScan,\r\n      qr,\r\n      smallFontSize,\r\n      valueLink: { error },\r\n      valueLink,\r\n      dontDisplayError,\r\n      inputCustomStyle,\r\n      withMargin,\r\n      multiline,\r\n      focusOnInit,\r\n      disabled,\r\n      readOnly,\r\n      type,\r\n      fiat,\r\n      srollingForm,\r\n      activeFiat,\r\n      id,\r\n      ...rest\r\n    } = this.props;\r\n\r\n    const inputContainerStyleName = cx(\"inputContainer\", {\r\n      withError: error,\r\n      withMargin: withMargin,\r\n      smallFontSize: smallFontSize,\r\n      withQr: qr,\r\n    });\r\n\r\n    const focusEvent = !isMobile\r\n      ? {}\r\n      : {\r\n        onFocus: this.handleFocus,\r\n        onBlur: this.handleBlur\r\n      };\r\n\r\n    const style = `input ${errorStyle ? 'inputError' : ''} ${srollingForm ? 'srollingForm' : ''} ${\r\n      styleName ? styleName : ''\r\n    }`\r\n\r\n    return (\r\n      <div styleName=\"root\" className={className}>\r\n        <div styleName={inputContainerStyleName} className={inputContainerClassName}>\r\n          {React.createElement(multiline ? TextArea : ValueLinkInput, {\r\n            ...ignoreProps(rest, \"styles\"),\r\n            styleName: style,\r\n            className: inputClassName,\r\n            style: inputCustomStyle,\r\n            valueLink,\r\n            type,\r\n            id,\r\n            disabled: disabled || readOnly,\r\n            autoFocus: !!focusOnInit,\r\n            dir: \"auto\",\r\n            autoComplete: \"off\",\r\n            ...focusEvent\r\n          })}\r\n          {fiat > 0 && <p styleName=\"dollar\">{`~${fiat}`}{activeFiat}</p>}\r\n          {qr && (\r\n            <p styleName=\"qrWrapper\">\r\n              <i className=\"fas fa-qrcode\" onClick={openScan} />\r\n            </p>\r\n          )}\r\n        </div>\r\n        {Boolean(error && !dontDisplayError) && <div styleName=\"error\">{error}</div>}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"input\":\"Vko3sDwFGJRmh8KNxj0W7Q==\",\"srollingForm\":\"Z1JB1PNKOPb1wyFhrtIqVQ==\",\"root\":\"XRimPrX56vtMA92s30o2rQ==\",\"inputContainer\":\"-bBuxoYZ1qjNjnXl6Bo+-A==\",\"withMargin\":\"+VgYwfGvZpI1fZLHXkhnVA==\",\"disabled\":\"Fx4mTZ7igOyQo7-OXD8bMQ==\",\"withError\":\"h2PeFNj8LECT8zC+nDGZsw==\",\"label\":\"nAh7Qiiw5PnOjrDRqrXl5A==\",\"withQr\":\"_6l9FvyhYeN5+jNnQGh9nIg==\",\"dollar\":\"GF1SgpETMTZ-qg5yJLfkdA==\",\"qrWrapper\":\"a65qVOl4xBUCFv+fjFKrjg==\",\"inputError\":\"_1g3ZiUQnYv7oMs8Y3m2NxQ==\",\"error\":\"K1ylTV4aCw4J5qs88Fau-Q==\",\"smallFontSize\":\"_27pZ-IW3gO0gqs6e3Sh4Dg==\"};","const ignoreProps = (props = {}, ...ignored) => {\r\n  const list = {}\r\n\r\n  Object.keys(props).forEach(key => {\r\n    if (!ignored.includes(key)) {\r\n      list[key] = props[key]\r\n    }\r\n  })\r\n\r\n  return list\r\n}\r\n\r\n\r\nexport default ignoreProps\r\n","import React, { Fragment } from 'react'\r\n\r\nimport styles from './Group.scss'\r\nimport cssModules from 'react-css-modules'\r\n\r\nimport Input from 'components/forms/Input/Input'\r\nimport FieldLabel from 'components/forms/FieldLabel/FieldLabel'\r\n\r\n\r\nconst Group = ({ className, disabled, label, id, inputValueLink, isInteger = false, placeholder, children }) => (\r\n  <Fragment>\r\n    <div styleName=\"groupField\" className={className}>\r\n      <Input\r\n        styleName=\"inputRoot\"\r\n        inputContainerClassName=\"inputContainer\"\r\n        valueLink={inputValueLink}\r\n        type=\"number\"\r\n        pattern={isInteger ? '0-9' : '0-9.'}\r\n        id={id}\r\n        placeholder={placeholder}\r\n        disabled={disabled}\r\n      />\r\n      {children}\r\n    </div>\r\n  </Fragment>\r\n)\r\n\r\nexport default cssModules(Group, styles)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"groupField\":\"_2C5cQRz8DMGoj3LEvbsc7A==\",\"inputRoot\":\"aP5enm3UygOxfNuQffrR8g==\",\"inputContainer\":\"HEZEzeEycOp9eqTFRhwCDw==\"};","import React from 'react'\r\nimport styles from './ExchangeRateGroup.scss'\r\nimport cssModules from 'react-css-modules'\r\nimport Group from '../Group/Group'\r\n\r\nconst ExchangeRateGroup = ({\r\n  className = null,\r\n  disabled,\r\n  label,\r\n  id,\r\n  inputValueLink,\r\n  placeholder,\r\n  buyCurrency,\r\n  sellCurrency,\r\n}) => (\r\n  <Group\r\n    styleName=\"exRate\"\r\n    className={className}\r\n    label={label}\r\n    id={id}\r\n    disabled={disabled}\r\n    inputValueLink={inputValueLink}\r\n    placeholder={placeholder}\r\n  >\r\n    <span styleName=\"currencyRatio\">\r\n      {sellCurrency} / {buyCurrency}\r\n    </span>\r\n  </Group>\r\n)\r\n\r\nexport default cssModules(ExchangeRateGroup, styles)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"currencyRatio\":\"d+QhqKqwyxG-PjH4iPQsZA==\",\"exRate\":\"vnPK-B4Zy60hKUf9G8NpYg==\"};","import ReactDOM from 'react-dom'\r\n\r\n\r\nexport const bodySelector = document.querySelector('body')\r\nexport const portalSelector = document.getElementById('portal')\r\n\r\nexport const fixBodyOverflow = (fix) => {\r\n  //@ts-ignore: strictNullChecks\r\n  bodySelector.style.overflow = !!fix ? 'hidden' : 'auto'\r\n}\r\n\r\nexport const inputReplaceCommaWithDot = (event) => {\r\n  const isCommaKey = event.key === ','\r\n\r\n  if (isCommaKey) {\r\n    event.preventDefault()\r\n    document.execCommand('insertHTML', false, '.')\r\n  }\r\n}\r\n\r\nexport const createPortal = (component, customSelector = null) =>\r\n  //@ts-ignore: strictNullChecks\r\n  ReactDOM.createPortal(component, customSelector || portalSelector)\r\n\r\nexport const animate = (draw, duration) => {\r\n  let start = performance.now()\r\n\r\n  requestAnimationFrame(function animate(time) {\r\n    let timePassed = time - start\r\n\r\n    if (timePassed > duration) timePassed = duration\r\n\r\n    draw(timePassed)\r\n\r\n    if (timePassed < duration) {\r\n      requestAnimationFrame(animate)\r\n    }\r\n\r\n  })\r\n}\r\n","import React from 'react'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './Option.scss'\r\n\r\nimport CurrencyIcon from 'components/ui/CurrencyIcon/CurrencyIcon'\r\nimport config from 'app-config'\r\n\r\n\r\nconst Option = (props) => {\r\n  let { icon, title, blockchain } = props\r\n\r\n  return (\r\n    <div styleName=\"optionrow\">\r\n      <span styleName=\"circle\">\r\n        <CurrencyIcon styleName=\"icon\" name={icon} />\r\n      </span>\r\n      {(blockchain) ? `${title.replaceAll('*','')} (${blockchain})` : title}\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default cssModules(Option, styles)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"optionrow\":\"RhfCUlCgOn3f+WbbKCHNdQ==\",\"icon\":\"f2cvRyx96E53A96Yd7PeUw==\",\"circle\":\"Ry8ywCjoRVQlfOirgddFRw==\"};","import React, { Component } from 'react'\r\n\r\ntype OutsideClickProps = {\r\n  children: JSX.Element[] | JSX.Element\r\n  outsideAction: () => void\r\n}\r\n\r\nexport default class OutsideClick extends Component<OutsideClickProps, object> {\r\n  wrapperRef: Node\r\n\r\n  componentDidMount() {\r\n    document.addEventListener('mousedown', this.handleClickOutside)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener('mousedown', this.handleClickOutside)\r\n  }\r\n\r\n  setWrapperRef = (node) => {\r\n    this.wrapperRef = node\r\n  }\r\n\r\n  handleClickOutside = (event) => {\r\n    const { outsideAction } = this.props\r\n\r\n    if (this.wrapperRef && !this.wrapperRef.contains(event.target)) {\r\n      outsideAction()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return <div ref={this.setWrapperRef}>{this.props.children}</div>\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"dropDown\":\"Nq-hOJ1tjWFKl2qRQ9q9OQ==\",\"active\":\"XHtJ5JTSAcyLIZz0wuyJTw==\",\"arrow\":\"aEChbE4Nbsw2Z7hRTeWKMA==\",\"closeBtn\":\"Rvn4harvf9MZxT0CvzMxCw==\",\"searchInput\":\"O01+bclE6m0LoPQDd88Tsg==\",\"selectedItem\":\"ErS1LP9YKLWhh2Bfhcuurw==\",\"simpleDropdown\":\"wfq-Z10UZp3SxkedPlH4bg==\",\"simplestDropdown\":\"_8UtT7zDWo+hN8v8K7rROyg==\",\"select\":\"y1Ow0eP2G+V6tmcYK4qFOA==\",\"dropDownItem\":\"IQ2DC74zZMNYWt9p7klQ4g==\",\"smallTooltip\":\"_2qHxOL0UOwjHiAmnd-ZOow==\",\"dropDownLabel\":\"_8F3Rzg-RcRS18zb-m-slXA==\",\"activeLabel\":\"_05UctvaKz+ARqnK5KBPesg==\",\"listName\":\"QsRk7fsOr+LM3cuH+5ggrw==\",\"fullTitle\":\"hOgLKmtYN65b27qvGiXuVA==\",\"left\":\"FqcGUq38IIMAqgKFD68h9g==\",\"single\":\"gmFLGXjX-F7SN+V83r+-gw==\",\"disabled\":\"ARVANEBfFIwk1uPhQm24eQ==\",\"selectedItemInner\":\"oV0H6ebNPGfGRabqbRHKUw==\",\"reducedLength\":\"xBSZS7a6MOuFMs4ILIUxdg==\",\"dontscroll\":\"Ky9ytCBZYObDzAxBUiugog==\"};","import React, { Component, ReactNode } from 'react'\r\nimport cx from 'classnames'\r\nimport cssModules from 'react-css-modules'\r\nimport Link from 'local_modules/sw-valuelink'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport Input from 'components/forms/Input/Input'\r\nimport OutsideClick from 'components/OutsideClick'\r\nimport styles from './index.scss'\r\n\r\ntype DropDownProps = {\r\n  selectedValue: string\r\n  items: IUniversalObj[]\r\n  selectedItemRender?: (item) => void\r\n  itemRender: (item) => ReactNode\r\n  onSelect?: (item) => void\r\n  className?: string\r\n  name?: string | JSX.Element\r\n  placeholder?: string\r\n  arrowSide?: string\r\n  disableSearch?: boolean\r\n  dontScroll?: boolean\r\n  disabled?: boolean\r\n  role?: string\r\n}\r\n\r\ntype DropDownState = {\r\n  error: boolean\r\n  optionToggleIsOpen: boolean\r\n  inputValue: string\r\n  selectedValue: string\r\n}\r\n\r\n@cssModules(styles, { allowMultiple: true })\r\nexport default class DropDown extends Component<DropDownProps, DropDownState> {\r\n  constructor(props: DropDownProps) {\r\n    super(props)\r\n\r\n    const { selectedValue } = props\r\n\r\n    this.state = {\r\n      optionToggleIsOpen: false,\r\n      selectedValue,\r\n      inputValue: '',\r\n      error: false,\r\n    }\r\n  }\r\n\r\n  toggleClose = () => {\r\n    this.setState(() => ({\r\n      optionToggleIsOpen: false,\r\n    }))\r\n  }\r\n\r\n  toggleOpen = () => {\r\n    const { disabled } = this.props\r\n    if (disabled) return\r\n\r\n    this.setState(() => ({\r\n      optionToggleIsOpen: true,\r\n    }))\r\n  }\r\n\r\n  handleOptionClick = (item) => {\r\n    const { onSelect } = this.props\r\n\r\n    // for example we'd like to change `selectedValue` manually\r\n    if (typeof onSelect === 'function' && !item.disabled) {\r\n      onSelect(item)\r\n      this.setState({ selectedValue: item.value })\r\n    }\r\n\r\n    this.toggleClose()\r\n  }\r\n\r\n  renderSelectedItem = () => {\r\n    const {\r\n      items,\r\n      selectedItemRender,\r\n      selectedValue: propsSelectedValue,\r\n    } = this.props\r\n    const {\r\n      selectedValue: stateSelectedValue,\r\n    } = this.state\r\n\r\n    const selectedValue = propsSelectedValue || stateSelectedValue\r\n    const selectedItem = items.find(({ value }) => value === selectedValue)\r\n\r\n    if (selectedItem !== undefined) {\r\n      if (typeof selectedItemRender !== 'function') {\r\n        const textToShow = selectedItem.title || selectedItem.fullTitle\r\n        return (\r\n          <div\r\n            styleName={`selectedItemInner ${selectedItem.disabled ? 'disabled' : ''} ${\r\n              selectedItem.reduceSelectedItemText ? 'reducedLength' : ''\r\n            }`}\r\n          >\r\n            {textToShow}\r\n          </div>\r\n        )\r\n      }\r\n      return selectedItemRender(selectedItem)\r\n\r\n    }\r\n  }\r\n\r\n  handleClickOutside = () => {\r\n    const { disableSearch } = this.props\r\n    const { optionToggleIsOpen } = this.state\r\n    const linkedValue = Link.all(this, 'inputValue')\r\n\r\n    if (optionToggleIsOpen) {\r\n      // cleanup the search field\r\n      if (!disableSearch) {\r\n        linkedValue.inputValue.set('')\r\n      }\r\n\r\n      this.toggleClose()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      className,\r\n      name,\r\n      placeholder,\r\n      items,\r\n      selectedValue,\r\n      disableSearch,\r\n      dontScroll, // Show all items, for small lists\r\n      arrowSide,\r\n      role,\r\n      itemRender,\r\n      disabled,\r\n    } = this.props\r\n\r\n    const { optionToggleIsOpen, inputValue } = this.state\r\n    const dropDownStyleName = cx('dropDown', { active: optionToggleIsOpen })\r\n    const {\r\n      inputValue: linkedInputValue,\r\n    } = Link.all(this, 'inputValue')\r\n\r\n    let itemsFiltered = items\r\n    // Filtering values for search input\r\n    if (!disableSearch && inputValue) {\r\n      itemsFiltered = items\r\n        .filter((item) => item.name.includes(inputValue.toUpperCase()))\r\n        .filter((item) => item.value !== selectedValue)\r\n    }\r\n\r\n    const noOptions = itemsFiltered.length === 0\r\n    const moreThenOneOption = itemsFiltered.length > 1\r\n\r\n    const dropDownId = role ? `dropDown${role}` : 'dropDownNoRole'\r\n\r\n    return (\r\n      <OutsideClick outsideAction={this.handleClickOutside}>\r\n        <div\r\n          styleName={`${dropDownStyleName}`}\r\n          className={className}\r\n        >\r\n          <div\r\n            className={dropDownId}\r\n            styleName={`\r\n              selectedItem\r\n              ${arrowSide === 'left' ? 'left' : ''}\r\n              ${!moreThenOneOption ? 'single' : ''}\r\n            `}\r\n            onClick={moreThenOneOption ? this.toggleOpen : () => null}\r\n          >\r\n            {/* Drop Down arrow */}\r\n            {moreThenOneOption && !disabled && <div styleName={`arrow ${arrowSide === 'left' ? 'left' : ''}`} />}\r\n\r\n            {/* Search input */}\r\n            {optionToggleIsOpen && !disableSearch ? (\r\n              <Input\r\n                styleName=\"searchInput\"\r\n                placeholder={placeholder}\r\n                valueLink={linkedInputValue}\r\n                focusOnInit\r\n              />\r\n            ) : (\r\n              this.renderSelectedItem()\r\n            )}\r\n          </div>\r\n\r\n          {/* Drop Down list */}\r\n          {optionToggleIsOpen && (\r\n            <div styleName={`select ${dontScroll ? 'dontscroll' : ''}`}>\r\n              {name ? <span styleName=\"listName\">{name}</span> : ''}\r\n\r\n              {noOptions ? (\r\n                <FormattedMessage id=\"DropDownNoOptionsInTheList\" defaultMessage=\"No options\" />\r\n              ) : moreThenOneOption ? (\r\n                itemsFiltered.map((item, index) => {\r\n                  if (!item.hidden) {\r\n                    return (\r\n                      <div\r\n                        id={item.value}\r\n                        key={index}\r\n                        styleName=\"dropDownItem\"\r\n                        onClick={() => {\r\n                          linkedInputValue.set('')\r\n                          this.handleOptionClick(item)\r\n                        }}\r\n                      >\r\n                        {itemRender(item)}\r\n                      </div>\r\n                    )\r\n                  }\r\n\r\n                  return null\r\n                })\r\n              ) : (\r\n                <div\r\n                  styleName=\"dropDownItem\"\r\n                  onClick={() => {\r\n                    linkedInputValue.set('')\r\n                    this.handleOptionClick(itemsFiltered[0])\r\n                  }}\r\n                >\r\n                  {itemRender(itemsFiltered[0])}\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </OutsideClick>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport Option from './Option/Option'\r\nimport DropDown from 'shared/components/ui/DropDown'\r\n\r\nconst CurrencySelect = (props) => {\r\n  const {\r\n    className,\r\n    selectedValue,\r\n    onSelect,\r\n    currencies,\r\n    name = '',\r\n    placeholder = '',\r\n    selectedItemRender,\r\n    disabled = false\r\n  } = props\r\n\r\n  const defaultRenderSelected = (item) => <Option {...item} />\r\n  const usedSelectedItemRender = (selectedItemRender || defaultRenderSelected)\r\n  return (\r\n    <DropDown\r\n      className={className}\r\n      placeholder={placeholder}\r\n      items={currencies}\r\n      selectedValue={selectedValue}\r\n      selectedItemRender={usedSelectedItemRender}\r\n      itemRender={defaultRenderSelected}\r\n      onSelect={onSelect}\r\n      disabled={disabled}\r\n      name={name}\r\n      role=\"SelectCurrency\"\r\n    />\r\n  )\r\n}\r\n\r\nexport default CurrencySelect\r\n","import { BigNumber } from 'bignumber.js'\r\nimport { FormattedMessage, injectIntl } from 'react-intl'\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './index.scss'\r\nimport getCoinInfo from 'common/coins/getCoinInfo'\r\nimport { inputReplaceCommaWithDot } from 'helpers/domUtils'\r\nimport Input from 'components/forms/Input/Input'\r\nimport CurrencySelect from 'components/ui/CurrencySelect/CurrencySelect'\r\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\r\n\r\nconst SelectGroup = (props) => {\r\n  const {\r\n    dynamicFee,\r\n    isToken,\r\n    extendedControls,\r\n    selectedValue,\r\n    onSelect,\r\n    currencies,\r\n    fiat,\r\n    placeholder,\r\n    label,\r\n    disabled,\r\n    className,\r\n    inputValueLink,\r\n    tooltip,\r\n    balance,\r\n    error,\r\n    id,\r\n    inputId,\r\n    idFee,\r\n    tooltipAboutFee,\r\n    haveAmount,\r\n    inputToolTip,\r\n    activeFiat,\r\n    onKeyUp,\r\n    dontDisplayError,\r\n    onFocus,\r\n    onBlur,\r\n  } = props\r\n\r\n  const doNothing = () => {}\r\n  const currAllowed = currencies.filter((item) => !item.dontCreateOrder)\r\n  const canalculate = balance && dynamicFee\r\n\r\n  return (\r\n    <div styleName=\"selectGroup\">\r\n      <div styleName=\"row\">\r\n        {label && <strong styleName=\"label\">{label}</strong>}\r\n\r\n        {tooltip && (\r\n          <div styleName=\"smallTooltip\">\r\n            <Tooltip id={id}>{tooltip}</Tooltip>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div styleName=\"groupField\" className={className}>\r\n        <Input\r\n          styleName=\"inputRoot\"\r\n          inputContainerClassName=\"inputContainer\"\r\n          inputClassName=\"selectGroupInput\"\r\n          id={inputId}\r\n          valueLink={inputValueLink}\r\n          type=\"number\"\r\n          placeholder={placeholder}\r\n          pattern=\"0-9\\.\"\r\n          errorStyle={error}\r\n          disabled={disabled}\r\n          onFocus={onFocus ? onFocus : doNothing}\r\n          onBlur={onBlur ? onBlur : doNothing}\r\n          onKeyUp={onKeyUp ? onKeyUp : doNothing}\r\n          onKeyDown={inputReplaceCommaWithDot}\r\n          dontDisplayError={dontDisplayError}\r\n        />\r\n        {fiat > 0 && (\r\n          <p styleName=\"textUsd\">\r\n            {`~${fiat}`} {activeFiat}\r\n          </p>\r\n        )}\r\n        {inputToolTip && inputToolTip}\r\n\r\n        <CurrencySelect\r\n          selectedItemRender={(item) => {\r\n            const { blockchain } = getCoinInfo(item.value)\r\n\r\n            return blockchain ? `${item.title.replaceAll('*','')} (${blockchain})` : item.fullTitle\r\n          }}\r\n          styleName=\"currencySelect\"\r\n          placeholder=\"Enter the name of coin\"\r\n          selectedValue={selectedValue}\r\n          onSelect={onSelect}\r\n          currencies={currAllowed}\r\n        />\r\n      </div>\r\n      {label?.props?.defaultMessage === 'You sell' &&\r\n        !extendedControls &&\r\n        (canalculate ? (\r\n          !isToken && (\r\n            <span\r\n              styleName={\r\n                new BigNumber(balance).isLessThan(new BigNumber(haveAmount).plus(dynamicFee)) &&\r\n                new BigNumber(haveAmount).isGreaterThan(0)\r\n                  ? 'red'\r\n                  : 'balance'\r\n              }\r\n            >\r\n              <FormattedMessage\r\n                id=\"select75\"\r\n                defaultMessage=\"Available for exchange: {availableBalance} {tooltip}\"\r\n                values={{\r\n                  availableBalance: `${new BigNumber(balance).minus(\r\n                    dynamicFee\r\n                  )} ${selectedValue.toUpperCase()}`,\r\n                  tooltip: <Tooltip id={idFee}> {tooltipAboutFee}</Tooltip>,\r\n                }}\r\n              />\r\n            </span>\r\n          )\r\n        ) : (\r\n          <span styleName=\"textForNull\">\r\n            <FormattedMessage\r\n              id=\"selected53\"\r\n              defaultMessage=\"You can use an external wallet to perform a swap\"\r\n            />\r\n          </span>\r\n        ))}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default injectIntl(CSSModules(SelectGroup, styles, { allowMultiple: true }))\r\n","// extracted by mini-css-extract-plugin\nexport default {\"selectGroup\":\"c+LJY9-5ullQ80uD9DGuZg==\",\"row\":\"_9aUq8YVqCl0rrpG08glzYQ==\",\"label\":\"tKJ6nDE06grO0oMZMijIHA==\",\"groupField\":\"PyMrbRrGLDD2T-iSUg8y-g==\",\"balance\":\"+OM3N-vNgPHVp+T4Dc0Ppg==\",\"smallTooltip\":\"aaVDF+1dbi4LEbh0xiRjQQ==\",\"textUsd\":\"PoRYOwudxgLwsyy1US0maw==\",\"inputRoot\":\"HwOe5Q6sbEDvnjm2mrmFNw==\",\"textForNull\":\"mivmh8hDH417dkHg2j+Awg==\",\"inputContainer\":\"PQlWkUSMBy-M1XfwO8PPFg==\",\"red\":\"ddWT3Aq886P550dvHdfEUA==\",\"selectGroupContainer\":\"TvEe1sTMNR-8or1ZgAr5Yw==\",\"currencySelect\":\"h6d6T0QLqCboOljEh7eCHw==\",\"dropDown\":\"lcnPQQCfEAOOy7g1DZR-1g==\"};","export default __webpack_public_path__ + \"images/turbo_8b45f4.svg\";","import React from 'react'\r\nimport cssModules from 'react-css-modules'\r\nimport { FormattedMessage } from 'react-intl'\r\n\r\nimport styles from './TurboIcon.scss'\r\nimport turboSwapIcon from 'shared/images/turbo.svg'\r\nimport Tooltip from 'shared/components/ui/Tooltip/Tooltip'\r\n\r\n\r\nconst TurboIcon = () => {\r\n  return (\r\n    <div styleName='turboIcon' id=\"ti\">\r\n      <img styleName='turboIconImage' src={turboSwapIcon} />\r\n      <span styleName='turboIconText'>turbo</span>\r\n      {/* @ts-ignore: strictNullChecks */}\r\n      <Tooltip id=\"test\" mark={false} place={'bottom'}>\r\n        <FormattedMessage id=\"TurboIcon_Tip\" defaultMessage=\"Faster and cheaper swap with trusted marketmaker, recommended for small amounts\" />\r\n      </Tooltip>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default cssModules(TurboIcon, styles, { allowMultiple: true })\r\n","// extracted by mini-css-extract-plugin\nexport default {\"turboIcon\":\"DLP8PNBNPISjtRnJui6PIA==\",\"turboIconImage\":\"q8B4hXEmosGyppt5KscL3Q==\",\"turboIconText\":\"Kf1Xb82O6z7edDoRbU8ocA==\"};","// temporarily: no tokens support at the turboswaps-alpha\r\n// see https://github.com/swaponline/MultiCurrencyWallet/issues/3875\r\n\r\nconst supportedAssets = ['btc', 'eth', /*'next', 'ghost'*/]\r\n\r\nconst isAssetSupported = (asset: string) => supportedAssets.includes(asset.toLowerCase())\r\n\r\nexport default {\r\n  isAssetSupported\r\n}","import React, { Component } from 'react'\r\n\r\nimport { connect } from 'redaction'\r\nimport actions from 'redux/actions'\r\nimport erc20Like from 'common/erc20Like'\r\nimport helpers, { constants } from 'helpers'\r\nimport swapsHelper from 'helpers/swaps'\r\n\r\nimport Link from 'local_modules/sw-valuelink'\r\nimport config from 'app-config'\r\n\r\nimport { BigNumber } from 'bignumber.js'\r\n\r\nimport styles from './AddOffer.scss'\r\nimport cssModules from 'react-css-modules'\r\n\r\nimport Select from './Select/Select'\r\nimport ExchangeRateGroup from './ExchangeRateGroup/ExchangeRateGroup'\r\nimport SelectGroup from 'components/SelectGroup'\r\n\r\nimport Button from 'components/controls/Button/Button'\r\nimport Toggle from 'components/controls/Toggle/Toggle'\r\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport COINS_WITH_DYNAMIC_FEE from 'common/helpers/constants/COINS_WITH_DYNAMIC_FEE'\r\nimport TurboIcon from 'shared/components/ui/TurboIcon/TurboIcon'\r\nimport MIN_AMOUNT_OFFER from 'common/helpers/constants/MIN_AMOUNT'\r\nimport turboSwap from 'common/helpers/turboSwap'\r\nimport getCoinInfo from 'common/coins/getCoinInfo'\r\n\r\n\r\nconst mathConstants = {\r\n  high_precision: 10e-8,\r\n  low_precision: 10e-5,\r\n}\r\n\r\nconst isNumberStringFormatCorrect = number => {\r\n  const stringified = String(number)\r\n\r\n  const firstDotIndex = stringified.indexOf('.')\r\n  const lastDotIndex = stringified.lastIndexOf('.')\r\n\r\n  // first and last dot positions match, so it has only one dot\r\n  return firstDotIndex === lastDotIndex\r\n}\r\n\r\n@connect(\r\n  ({\r\n    currencies,\r\n  }) => ({\r\n    currencies: swapsHelper.isExchangeAllowed(currencies.partialItems),\r\n    addSelectedItems: swapsHelper.isExchangeAllowed(currencies.addPartialItems),\r\n    currenciesOrig: currencies,\r\n  })\r\n)\r\n@cssModules(styles, { allowMultiple: true })\r\nexport default class AddOffer extends Component<any, any> {\r\n\r\n  isSending: any\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const { initialData } = props\r\n\r\n    if (config?.isWidget) {\r\n      if (window?.widgetEvmLikeTokens?.length) {\r\n        window.widgetEvmLikeTokens.forEach((token) => {\r\n          MIN_AMOUNT_OFFER[token.name.toLowerCase()] = 1\r\n        })\r\n      } else {\r\n        MIN_AMOUNT_OFFER[config.erc20token] = 1\r\n      }\r\n    }\r\n\r\n    const { exchangeRate, buyAmount, sellAmount, buyCurrency, sellCurrency } = initialData || {}\r\n\r\n    this.state = {\r\n      balance: null,\r\n      isTokenSell: false,\r\n      isTokenBuy: false,\r\n      isPartial: true,\r\n      isTurbo: false,\r\n      isSending: false,\r\n      manualRate: true,\r\n      buyAmount: buyAmount || '',\r\n      sellAmount: sellAmount || '',\r\n      exchangeRate: exchangeRate || 1,\r\n      buyCurrency: buyCurrency || 'btc',\r\n      sellCurrency: sellCurrency || 'eth',\r\n      buyBlockchain: ``,\r\n      sellBlockchain: ``,\r\n      minimalestAmountForBuy: MIN_AMOUNT_OFFER[buyCurrency] || MIN_AMOUNT_OFFER.btc,\r\n      minimalestAmountForSell: MIN_AMOUNT_OFFER[sellCurrency] || MIN_AMOUNT_OFFER.eth,\r\n      tokenBaseCurrencyBalance: 0,\r\n      // @to-do buy and sell for support token-token orders\r\n      balanceForBuyTokenFee: 0,\r\n      balanceForSellTokenFee: 0,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { sellCurrency, buyCurrency } = this.state\r\n\r\n    actions.pairs.selectPairPartial(sellCurrency)\r\n    this.checkBalance(sellCurrency)\r\n    this.updateExchangeRate(sellCurrency, buyCurrency)\r\n    this.isTokenOffer(sellCurrency, buyCurrency)\r\n    this.getFee()\r\n    this.checkBalanceForTokenFee()\r\n\r\n    const {\r\n      coin: sellName,\r\n      blockchain: sellBlockchain,\r\n    } = getCoinInfo(sellCurrency)\r\n    const {\r\n      coin: buyName,\r\n      blockchain: buyBlockchain,\r\n    } = getCoinInfo(buyCurrency)\r\n\r\n    if (sellBlockchain) {\r\n      this.setState(() => ({ sellBlockchain }))\r\n      this.updateTokenBaseWalletBalance(sellBlockchain)\r\n    }\r\n    if (buyBlockchain) {\r\n      this.setState(() => ({ buyBlockchain }))\r\n      this.updateTokenBaseWalletBalance(buyBlockchain)\r\n    }\r\n  }\r\n\r\n  updateTokenBaseWalletBalance = async (baseCurrency) => {\r\n    const tokenBaseCurrencyBalance = await actions[baseCurrency.toLowerCase()].getBalance()\r\n\r\n    this.setState(() => ({\r\n      tokenBaseCurrencyBalance,\r\n    }))\r\n  }\r\n\r\n  getFee = () => {\r\n    const { sellCurrency, buyCurrency } = this.state\r\n\r\n    this.correctMinAmountSell(sellCurrency)\r\n    this.correctMinAmountBuy(buyCurrency)\r\n  }\r\n\r\n  checkBalanceForTokenFee = async () => {\r\n    const {\r\n      sellBlockchain,\r\n      buyBlockchain,\r\n    } = this.state\r\n    const balanceForBuyTokenFee = (buyBlockchain !== ``)\r\n      ? await actions[buyBlockchain.toLowerCase()].getBalance()\r\n      : 0\r\n    const balanceForSellTokenFee = (sellBlockchain !== ``)\r\n      ? await actions[sellBlockchain.toLowerCase()].getBalance()\r\n      : 0\r\n\r\n    this.setState(() => ({\r\n      balanceForBuyTokenFee,\r\n      balanceForSellTokenFee,\r\n    }))\r\n  }\r\n\r\n  checkBalance = async (sellCurrency) => {\r\n    const sellWallet = actions.core.getWallet({ currency: sellCurrency })\r\n    let balance = new BigNumber(\r\n      await actions.core.fetchWalletBalance(sellWallet)\r\n    )\r\n    let { unconfirmedBalance } = sellWallet\r\n\r\n    unconfirmedBalance = new BigNumber(unconfirmedBalance)\r\n\r\n    const currentBalance = unconfirmedBalance.isNaN() && unconfirmedBalance.isLessThan(0)\r\n      ? balance.plus(unconfirmedBalance)\r\n      : balance\r\n\r\n    const balanceWithoutFee = !erc20Like.isToken({ name: sellCurrency })\r\n      ? currentBalance\r\n      : currentBalance.minus(this.state.minimalestAmountForSell)\r\n\r\n    const finalBalance = balanceWithoutFee.isGreaterThan(0) ? balanceWithoutFee : new BigNumber(0)\r\n\r\n    this.setState({\r\n      balance: finalBalance.toString(),\r\n    })\r\n  }\r\n\r\n  isTokenOffer = (sellCurrency, buyCurrency) => {\r\n    const isTokenSell = erc20Like.isToken({ name: sellCurrency })\r\n    const isTokenBuy = erc20Like.isToken({ name: buyCurrency })\r\n\r\n    this.setState(() => ({\r\n      isTokenBuy,\r\n      isTokenSell,\r\n    }))\r\n  }\r\n\r\n  correctMinAmountSell = async (sellCurrency) => {\r\n    const isToken = erc20Like.isToken({ name: sellCurrency })\r\n\r\n    if (COINS_WITH_DYNAMIC_FEE.includes(sellCurrency) && !isToken) {\r\n      const minimalestAmountForSell = await helpers[sellCurrency].estimateFeeValue({ method: 'swap', speed: 'fast' })\r\n\r\n      this.setState({\r\n        minimalestAmountForSell,\r\n      })\r\n    }\r\n  }\r\n\r\n  correctMinAmountBuy = async (buyCurrency) => {\r\n    const isToken = erc20Like.isToken({ name: buyCurrency })\r\n\r\n    if (COINS_WITH_DYNAMIC_FEE.includes(buyCurrency) && !isToken) {\r\n      const minimalestAmountForBuy = await helpers[buyCurrency].estimateFeeValue({ method: 'swap', speed: 'fast' })\r\n\r\n      this.setState({\r\n        minimalestAmountForBuy,\r\n      })\r\n    }\r\n  }\r\n\r\n  updateExchangeRate = async (sellCurrency, buyCurrency) => {\r\n    const exchangeRateSell: any = await actions.user.getExchangeRate(sellCurrency, 'usd')\r\n    const exchangeRateBuy: any = await actions.user.getExchangeRate(buyCurrency, 'usd')\r\n\r\n    const exchangeRate = sellCurrency === 'swap' || buyCurrency === 'swap'\r\n      ? await actions.user.getExchangeRate(sellCurrency, buyCurrency)\r\n      : new BigNumber(exchangeRateSell).div(exchangeRateBuy).dp(4, BigNumber.ROUND_CEIL)\r\n\r\n    return new Promise((resolve, reject) => {\r\n      this.setState({ exchangeRate }, () => resolve(true))\r\n    })\r\n  }\r\n\r\n  handleBuyCurrencySelect = async (selectedItem) => {\r\n    const { value, blockchain } = selectedItem\r\n    const { sellCurrency, buyAmount, sellAmount } = this.state\r\n\r\n    this.setState({\r\n      isTurbo: false,\r\n    })\r\n\r\n    if (sellCurrency === value) {\r\n      this.switching()\r\n    } else {\r\n      this.checkPair(sellCurrency)\r\n      await this.checkBalance(sellCurrency)\r\n      await this.updateExchangeRate(sellCurrency, value)\r\n      this.isTokenOffer(sellCurrency, value)\r\n\r\n      this.setState(() => ({\r\n        buyCurrency: value,\r\n        buyBlockchain: blockchain,\r\n      }), () => {\r\n        const { isTokenBuy } = this.state\r\n\r\n        if (isTokenBuy) {\r\n          this.checkBalanceForTokenFee()\r\n          this.updateTokenBaseWalletBalance(blockchain)\r\n        }\r\n      })\r\n\r\n      if (sellAmount > 0 || buyAmount > 0) {\r\n        this.handleBuyAmountChange(buyAmount)\r\n        this.handleSellAmountChange(sellAmount)\r\n      }\r\n\r\n      this.getFee()\r\n    }\r\n  }\r\n\r\n  handleSellCurrencySelect = async (selectedItem) => {\r\n    const { value, blockchain } = selectedItem\r\n    const { buyCurrency, sellCurrency, sellAmount, buyAmount } = this.state\r\n\r\n    this.setState({\r\n      isTurbo: false,\r\n    })\r\n\r\n    if (buyCurrency === value) {\r\n      this.switching()\r\n    } else {\r\n      this.checkPair(value)\r\n      await this.checkBalance(value)\r\n      await this.updateExchangeRate(value, buyCurrency)\r\n      this.isTokenOffer(value, buyCurrency)\r\n\r\n      this.setState(() => ({\r\n        sellCurrency: value,\r\n        sellBlockchain: blockchain,\r\n      }), () => {\r\n        const { isTokenSell } = this.state\r\n\r\n        if (isTokenSell) {\r\n          this.checkBalanceForTokenFee()\r\n          this.updateTokenBaseWalletBalance(blockchain)\r\n        }\r\n      })\r\n\r\n      if (sellAmount > 0 || buyAmount > 0) {\r\n        this.handleBuyAmountChange(buyAmount)\r\n        this.handleSellAmountChange(sellAmount)\r\n      }\r\n\r\n      this.getFee()\r\n    }\r\n  }\r\n\r\n  handleExchangeRateChange = (value) => {\r\n    if (!isNumberStringFormatCorrect(value)) {\r\n      return undefined\r\n    }\r\n\r\n    this.handleAnyChange({\r\n      type: 'rate',\r\n      value,\r\n    })\r\n\r\n    return value\r\n  }\r\n\r\n  handleBuyAmountChange = (value) => {\r\n    if (!isNumberStringFormatCorrect(value)) {\r\n      return undefined\r\n    }\r\n\r\n    this.handleAnyChange({\r\n      type: 'buy',\r\n      value,\r\n    })\r\n\r\n    return value\r\n  }\r\n\r\n  handleSellAmountChange = (value) => {\r\n    if (!isNumberStringFormatCorrect(value)) {\r\n      return undefined\r\n    }\r\n\r\n    this.handleAnyChange({\r\n      type: 'sell',\r\n      value,\r\n    })\r\n\r\n    return value\r\n  }\r\n\r\n  handleAnyChange = ({ type, value }) => {\r\n    const { manualRate, exchangeRate, buyAmount, sellAmount, buyCurrency, sellCurrency } = this.state\r\n\r\n    if (type === 'sell' || type === 'buy') {\r\n      if (!this.isSending) {\r\n        this.setState({ isSending: true })\r\n      }\r\n    }\r\n\r\n    /*\r\n        XR = S / B\r\n        B = S / XR\r\n        S = XR * B\r\n    */\r\n\r\n    switch (type) {\r\n      case 'sell': {\r\n        /*\r\n          S++ -> XR++ -> B (Manual Rate)\r\n          S++ -> XR -> B++ (Auto Rate)\r\n        */\r\n\r\n        const newSellAmount = new BigNumber(value || 0)\r\n\r\n        if (manualRate) {\r\n          const newExchangeRate = new BigNumber(value).dividedBy(buyAmount)\r\n\r\n          this.setState({\r\n            exchangeRate: newExchangeRate.isGreaterThan(0) ? newExchangeRate.toString() : '',\r\n            sellAmount: newSellAmount.toString(),\r\n          })\r\n        } else {\r\n          const newBuyAmount = newSellAmount.multipliedBy(exchangeRate || 0)\r\n            .dp(constants.tokenDecimals[buyCurrency.toLowerCase()], BigNumber.ROUND_DOWN)\r\n\r\n          this.setState({\r\n            sellAmount: newSellAmount.toString(),\r\n            buyAmount: newBuyAmount.toString(),\r\n          })\r\n        }\r\n        break\r\n      }\r\n\r\n      case 'buy': {\r\n        /*\r\n          B++ -> XR-- -> S (Manual Rate)\r\n          B++ -> XR -> S++ (Auto Rate)\r\n        */\r\n\r\n        const newBuyAmount = new BigNumber(value || 0)\r\n\r\n        if (manualRate) {\r\n          const newExchangeRate = new BigNumber(sellAmount).dividedBy(value)\r\n\r\n          this.setState({\r\n            exchangeRate: newExchangeRate.isGreaterThan(0) ? newExchangeRate.toString() : '',\r\n            buyAmount: newBuyAmount.toString(),\r\n          })\r\n        } else {\r\n          const newSellAmount = newBuyAmount.dividedBy(exchangeRate || 0)\r\n            .dp(constants.tokenDecimals[sellCurrency.toLowerCase()], BigNumber.ROUND_DOWN)\r\n\r\n          this.setState({\r\n            sellAmount: newSellAmount.toString(),\r\n            buyAmount: newBuyAmount.toString(),\r\n          })\r\n        }\r\n\r\n        break\r\n      }\r\n\r\n      case 'rate': {\r\n        if (new BigNumber(sellAmount).isGreaterThan(mathConstants.high_precision)) {\r\n          // If user has set sell value change buy value\r\n          /*\r\n            XR++ -> S -> B--\r\n          */\r\n\r\n          const newBuyAmount = new BigNumber(sellAmount).dividedBy(value || 0)\r\n\r\n          this.setState({\r\n            buyAmount: newBuyAmount.toString(),\r\n          })\r\n        } else {\r\n          // Otherwise change sell value if buy value is not null\r\n          /*\r\n            XR++ -> S++ -> B\r\n          */\r\n\r\n          const newSellAmount = new BigNumber(value || 0).multipliedBy(buyAmount)\r\n\r\n          this.setState({\r\n            sellAmount: newSellAmount.toString(),\r\n          })\r\n        }\r\n\r\n        break\r\n      }\r\n      default:\r\n        console.error('Unknown type')\r\n        break\r\n    }\r\n  }\r\n\r\n  handleNext = () => {\r\n    const { onNext } = this.props\r\n\r\n    onNext(this.state)\r\n  }\r\n\r\n  changeBalance = (value) => {\r\n    this.setState(() => ({\r\n      sellAmount: new BigNumber(value).toString(),\r\n    }))\r\n\r\n    this.handleSellAmountChange(value)\r\n  }\r\n\r\n  handleManualRate = (value) => {\r\n    if (!value) {\r\n      const { sellCurrency } = this.state\r\n      this.handleSellCurrencySelect({ value: sellCurrency })\r\n    }\r\n    this.setState(() => ({ manualRate: value }))\r\n  }\r\n\r\n  switching = async () => {\r\n    const {\r\n      sellCurrency,\r\n      buyCurrency,\r\n      balanceForSellTokenFee,\r\n      balanceForBuyTokenFee,\r\n      buyBlockchain,\r\n      sellBlockchain,\r\n    } = this.state\r\n\r\n    this.setState(() => ({\r\n      sellCurrency: buyCurrency,\r\n      sellBlockchain: buyBlockchain,\r\n      sellAmount: '',\r\n      balanceForSellTokenFee: balanceForBuyTokenFee,\r\n      // ----\r\n      buyCurrency: sellCurrency,\r\n      buyBlockchain: sellBlockchain,\r\n      buyAmount: '',\r\n      balanceForBuyTokenFee: balanceForSellTokenFee,\r\n    }), async () => {\r\n      await this.checkBalance(buyCurrency)\r\n      await this.updateExchangeRate(buyCurrency, sellCurrency)\r\n\r\n      actions.pairs.selectPairPartial(buyCurrency)\r\n\r\n      this.isTokenOffer(this.state.sellCurrency, this.state.buyCurrency)\r\n      this.getFee()\r\n    })\r\n  }\r\n\r\n  checkPair = (value) => {\r\n    const selected = actions.pairs.selectPairPartial(value)\r\n    const check = selected.map(item => item.value).includes(this.state.buyCurrency)\r\n\r\n    if (!check) {\r\n      this.setState(() => ({\r\n        buyCurrency: selected[0].value,\r\n      }))\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { currencies, addSelectedItems } = this.props\r\n\r\n    const { \r\n      exchangeRate,\r\n      buyAmount,\r\n      sellAmount,\r\n      buyCurrency,\r\n      sellCurrency,\r\n      minimalestAmountForSell,\r\n      minimalestAmountForBuy,\r\n      balance,\r\n      tokenBaseCurrencyBalance,\r\n      manualRate,\r\n      isPartial,\r\n      isTurbo,\r\n      isTokenSell,\r\n      isTokenBuy,\r\n    } = this.state\r\n\r\n    // @to-do - fetch eth miner fee for swap\r\n    const minAmountForSwap = 0.004\r\n    const needEthBalance = (new BigNumber(tokenBaseCurrencyBalance).isLessThan(minAmountForSwap) && (isTokenBuy || isTokenSell))\r\n    const linked = Link.all(this, 'exchangeRate', 'buyAmount', 'sellAmount')\r\n\r\n    const minimalAmountSell = !isTokenSell\r\n      ? COINS_WITH_DYNAMIC_FEE.includes(sellCurrency) ? minimalestAmountForSell : MIN_AMOUNT_OFFER[buyCurrency]\r\n      : 0.001\r\n\r\n    const minimalAmountBuy = !isTokenBuy\r\n      ? COINS_WITH_DYNAMIC_FEE.includes(buyCurrency) ? minimalestAmountForBuy : MIN_AMOUNT_OFFER[buyCurrency]\r\n      : 0.001\r\n\r\n    // temporary: hide turboswaps on mainnet\r\n    const isShowSwapModeSwitch = !process.env.MAINNET\r\n\r\n    const isTurboAllowed = turboSwap.isAssetSupported(buyCurrency) && turboSwap.isAssetSupported(sellCurrency)\r\n\r\n    const isDisabled = !exchangeRate\r\n      || !buyAmount && !sellAmount\r\n      || new BigNumber(sellAmount).isGreaterThan(balance)\r\n      || new BigNumber(sellAmount).isLessThan(minimalAmountSell)\r\n      || new BigNumber(buyAmount).isLessThan(minimalAmountBuy)\r\n      || needEthBalance\r\n\r\n    if (linked.sellAmount.value !== '' && linked.sellAmount.value > 0) {\r\n      linked.sellAmount.check((value) => (new BigNumber(value).isGreaterThan(minimalAmountSell)),\r\n        <span>\r\n          <FormattedMessage id=\"transaction444\" defaultMessage=\"Sell amount must be greater than \" />\r\n          {' '}\r\n          {minimalAmountSell}\r\n        </span>\r\n      )\r\n    }\r\n    if (linked.buyAmount.value !== '' && linked.buyAmount.value > 0) {\r\n      linked.buyAmount.check((value) => (new BigNumber(value).isGreaterThan(minimalAmountBuy)),\r\n        <span>\r\n          <FormattedMessage id=\"transaction450\" defaultMessage=\"Buy amount must be greater than \" />\r\n          {' '}\r\n          {minimalAmountBuy}\r\n        </span>\r\n      )\r\n    }\r\n\r\n    return (\r\n      <div styleName={`wrapper addOffer`}>\r\n        <div styleName=\"offerTitle\">\r\n          <FormattedMessage id=\"offerMessageToUser\" defaultMessage=\"You must be online all the time, otherwise your order will not be visible to other users\" />\r\n        </div>\r\n\r\n        <SelectGroup\r\n          label={<FormattedMessage id=\"addoffer381\" defaultMessage=\"Sell\" />}\r\n          tooltip={<FormattedMessage id=\"partial462\" defaultMessage=\"The amount you have on swap.online or an external wallet that you want to exchange\" />}\r\n          inputValueLink={linked.sellAmount.pipe(this.handleSellAmountChange)}\r\n          dontDisplayError\r\n          selectedValue={sellCurrency}\r\n          onSelect={this.handleSellCurrencySelect}\r\n          id=\"sellAmount\"\r\n          balance={balance}\r\n          currencies={currencies}\r\n          placeholder=\"0.00000000\"\r\n        />\r\n        <Select\r\n          changeBalance={this.changeBalance}\r\n          balance={balance}\r\n          switching={this.switching}\r\n        />\r\n\r\n        <SelectGroup\r\n          label={<FormattedMessage id=\"addoffer396\" defaultMessage=\"Buy\" />}\r\n          tooltip={<FormattedMessage id=\"partial478\" defaultMessage=\"The amount you will receive after the exchange\" />}\r\n          inputValueLink={linked.buyAmount.pipe(this.handleBuyAmountChange)}\r\n          dontDisplayError\r\n          selectedValue={buyCurrency}\r\n          onSelect={this.handleBuyCurrencySelect}\r\n          id=\"buyAmount\"\r\n          currencies={addSelectedItems}\r\n          placeholder=\"0.00000000\"\r\n        />\r\n\r\n        <div styleName=\"exchangeRate\">\r\n          <ExchangeRateGroup\r\n            label={<FormattedMessage id=\"addoffer406\" defaultMessage=\"Exchange rate\" />}\r\n            inputValueLink={linked.exchangeRate.pipe(this.handleExchangeRateChange)}\r\n            disabled={!manualRate}\r\n            id=\"exchangeRate\"\r\n            placeholder=\"Enter exchange rate amount\"\r\n            buyCurrency={buyCurrency}\r\n            sellCurrency={sellCurrency}\r\n          />\r\n        </div>\r\n\r\n        <div styleName=\"controlsToggles\">\r\n          <div styleName=\"toggle\">\r\n            <Toggle checked={manualRate} onChange={this.handleManualRate} />\r\n            <div styleName=\"toggleText\">\r\n              <FormattedMessage id=\"AddOffer418\" defaultMessage=\"Custom exchange rate\" />\r\n              {' '}\r\n              <Tooltip id=\"add264\">\r\n                <FormattedMessage id=\"add408\" defaultMessage=\"To change the exchange rate \" />\r\n              </Tooltip>\r\n            </div>\r\n          </div>\r\n\r\n          <div styleName=\"toggle\">\r\n            <Toggle checked={isPartial} onChange={() => this.setState((state) => ({ isPartial: !state.isPartial }))} />\r\n            <div styleName=\"toggleText\">\r\n              <FormattedMessage id=\"AddOffer423\" defaultMessage=\"Enable partial fills\" />\r\n              {' '}\r\n              <Tooltip id=\"add547\">\r\n                <div style={{ textAlign: 'center' }} >\r\n                  <FormattedMessage\r\n                    id=\"addOfferPartialTooltip\"\r\n                    defaultMessage={`You will receive exchange requests or the {p} amount less than the total amount you want {p} sell. For example you want to sell 1 BTC,\r\n                      other users can send you exchange requests {p}for 0.1, 0.5 BTC`}\r\n                    values={{ p: <br /> }}\r\n                  />\r\n                </div>\r\n              </Tooltip>\r\n            </div>\r\n          </div>\r\n\r\n          {isShowSwapModeSwitch &&\r\n            <div styleName=\"toggle\">\r\n              <div styleName=\"toggleText\">\r\n                <FormattedMessage id=\"AtomicSwap_Title\" defaultMessage=\"Atomic swap\" />\r\n              </div>\r\n              <Toggle checked={isTurbo} isDisabled={!isTurboAllowed} onChange={() => this.setState((state) => ({ isTurbo: !state.isTurbo }))} />\r\n              <div styleName=\"toggleText\">\r\n                <TurboIcon />\r\n                <span>\r\n                  <FormattedMessage id=\"TurboSwap_Title\" defaultMessage=\"Turbo swap\" />\r\n                  &nbsp;\r\n                  <a href=\"https://github.com/swaponline/MultiCurrencyWallet/blob/master/docs/TURBO_SWAPS.md\" target=\"_blank\">(?)</a>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          }\r\n        </div>\r\n        {needEthBalance && (\r\n          <div styleName=\"Error\">\r\n            {isTokenBuy && (\r\n              <FormattedMessage\r\n                id=\"CreateOffer_BuyToken_NeedEth\"\r\n                defaultMessage=\"  {buyCurrency}    {ethAmount} ETH   \"\r\n                values={{\r\n                  buyCurrency: buyCurrency.toUpperCase(),\r\n                  ethAmount: minAmountForSwap,\r\n                }}\r\n              />\r\n            )}\r\n            {isTokenSell && (\r\n              <FormattedMessage\r\n                id=\"CreateOffer_SellToken_NeedEth\"\r\n                defaultMessage=\"  {sellCurrency}    {ethAmount} ETH   \"\r\n                values={{\r\n                  sellCurrency: sellCurrency.toUpperCase(),\r\n                  ethAmount: minAmountForSwap,\r\n                }}\r\n              />\r\n            )}\r\n          </div>\r\n        )}\r\n        {\r\n          Object.values(linked).map((item, index) => Boolean(item.error)\r\n            ? <div key={index} styleName=\"Error\">{item.error}</div>\r\n            : ''\r\n          )\r\n        }\r\n        <Button styleName=\"button\" fullWidth blue disabled={isDisabled} onClick={this.handleNext}>\r\n          <FormattedMessage id=\"AddOffer396\" defaultMessage=\"Next\" />\r\n        </Button>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"ODP5bTbzIigCdyqOryctQA==\",\"offerTitle\":\"hwHifM7A+4QwLbLXZDlh1A==\",\"exchangeRate\":\"cjy2nSnxYjvAdlkiqiO80Q==\",\"toggle\":\"f7X9MmpeU9hMdfyx5ROWCQ==\",\"toggleText\":\"FxwYcvjw1gOlEZvT8N92SA==\",\"controlsToggles\":\"_08yDqNhg4WQDfzvS10H3vQ==\",\"button\":\"zEx4xI-9xVIw6XPwyYPDEw==\",\"error\":\"WcmO0PhWJIZBMA3NFNN6ig==\",\"Error\":\"mt+GXnYmkSwXc2LCWeMTCg==\",\"errorAppend\":\"uGe1TsUSVfHf1CX5IygqNQ==\",\"addOffer\":\"LNHmBhZ0+kMVDQqUEWg9og==\"};","import React from 'react'\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './OfferModal.scss'\r\nimport Modal from 'components/modal/Modal/Modal'\r\nimport ConfirmOffer from './ConfirmOffer/ConfirmOffer'\r\nimport AddOffer from './AddOffer/AddOffer'\r\nimport { FormattedMessage } from 'react-intl'\r\n\r\ntype OfferCurrency = {\r\n  sellCurrency: string\r\n  buyCurrency: string\r\n}\r\n\r\ntype OfferProps = {\r\n  name: string\r\n  data: OfferCurrency\r\n}\r\n\r\ntype OfferState = {\r\n  view: string\r\n  offer: OfferCurrency\r\n}\r\n\r\n@cssModules(styles)\r\nexport default class Offer extends React.Component<OfferProps, OfferState> {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const propsData = props && props.data\r\n    const buyCurrency = propsData ? propsData.buyCurrency : 'eth'\r\n    const sellCurrency = propsData ? propsData.sellCurrency : 'btc'\r\n\r\n    this.state = {\r\n      view: 'editOffer',\r\n      offer: {\r\n        buyCurrency,\r\n        sellCurrency,\r\n      },\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.scrollTo({ top: 0 })\r\n  }\r\n\r\n  handleMoveToConfirmation = (offer) => {\r\n    this.setState({\r\n      view: 'Confirm offer',\r\n      offer,\r\n    })\r\n  }\r\n\r\n  handleMoveToOfferEditing = () => {\r\n    // actions.analytics.dataEvent('orderbook-addoffer-click-confirm-button')\r\n    this.setState({\r\n      view: 'editOffer',\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { view, offer } = this.state\r\n    const { name } = this.props\r\n\r\n    const title =\r\n      view === 'editOffer' ? (\r\n        <FormattedMessage id=\"Add52\" defaultMessage=\"Place an offer\" />\r\n      ) : (\r\n        <FormattedMessage id=\"Confirm52\" defaultMessage=\"Confirm Offer\" />\r\n      )\r\n\r\n    return (\r\n      <Modal name={name} title={title}>\r\n        <div styleName=\"content\">\r\n          {view === 'editOffer' ? (\r\n            <AddOffer initialData={offer} onNext={this.handleMoveToConfirmation} />\r\n          ) : (\r\n            <ConfirmOffer offer={offer} onBack={this.handleMoveToOfferEditing} />\r\n          )}\r\n        </div>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"content\":\"BTa9zoiiMU4qAgjv31dHrw==\"};","import { FormattedMessage } from 'react-intl'\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './index.scss'\r\nimport Modal from 'components/modal/Modal/Modal'\r\nimport Button from 'components/controls/Button/Button'\r\nimport SelectGroup from 'components/SelectGroup'\r\n\r\nfunction ModalForm(props) {\r\n  const {\r\n    wrongNetwork,\r\n    modalName,\r\n    availableCurrencies,\r\n    takerList,\r\n    stateReference,\r\n    makerAsset,\r\n    makerWallet,\r\n    takerAsset,\r\n    takerWallet,\r\n    blockApprove,\r\n    blockCreation,\r\n    isPending,\r\n    selectMakerAsset,\r\n    selectTakerAsset,\r\n    checkMakerAllowance,\r\n    checkTakerAllowance,\r\n    needMakerApprove,\r\n    approve,\r\n    createOrder,\r\n    enoughSwapCurrencies,\r\n  } = props\r\n\r\n  const needApprove = needMakerApprove\r\n\r\n  const makerApprove = () => {\r\n    approve(makerWallet, stateReference.makerAmount.value)\r\n  }\r\n\r\n  const takerApprove = () => {\r\n    approve(takerWallet, stateReference.takerAmount.value)\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      name={modalName}\r\n      title={<FormattedMessage id=\"limitOrder\" defaultMessage=\"Limit order\" />}\r\n    >\r\n      <section styleName=\"limitOrder\">\r\n        <p styleName=\"betaVersionDisclaimer\">\r\n          <FormattedMessage\r\n            id=\"disclaimerAbout1inch\"\r\n            defaultMessage=\"* Disclaimer: Limit Orders are provided by a 3rd 1inch Limit Order Protocol and should be considered in beta. Be carefully and use at your own risk.\"\r\n          />\r\n        </p>\r\n\r\n        {!enoughSwapCurrencies && (\r\n          <p styleName=\"warning\">\r\n            <FormattedMessage\r\n              id=\"notEnoughTokensForSwap\"\r\n              defaultMessage=\"Not all currencies are available for swap. It looks like you don't have enough tokens. Try adding more of them.\"\r\n            />\r\n          </p>\r\n        )}\r\n\r\n        {wrongNetwork && (\r\n          <p styleName=\"warning\">\r\n            <FormattedMessage id=\"incorrectNetwork\" defaultMessage='Please choose correct network' />\r\n          </p>\r\n        )}\r\n\r\n        <div styleName={`formWrapper ${wrongNetwork || availableCurrencies[0].notExist ? 'disabled' : ''}`}>\r\n          <SelectGroup\r\n            label={<FormattedMessage id=\"addoffer381\" defaultMessage=\"Sell\" />}\r\n            tooltip={\r\n              <FormattedMessage\r\n                id=\"partial462\"\r\n                defaultMessage=\"The amount you have on swap.online or an external wallet that you want to exchange\"\r\n              />\r\n            }\r\n            inputValueLink={stateReference.makerAmount}\r\n            selectedValue={makerAsset.value}\r\n            onSelect={selectMakerAsset}\r\n            id=\"makerAmount\"\r\n            balance={makerWallet.balance}\r\n            currencies={availableCurrencies}\r\n            placeholder=\"0.00\"\r\n            onKeyUp={checkMakerAllowance}\r\n          />\r\n\r\n          <div styleName={`footer ${enoughSwapCurrencies ? '' : 'disabled'}`}>\r\n            <SelectGroup\r\n              label={<FormattedMessage id=\"addoffer396\" defaultMessage=\"Buy\" />}\r\n              tooltip={\r\n                <FormattedMessage\r\n                  id=\"partial478\"\r\n                  defaultMessage=\"The amount you will receive after the exchange\"\r\n                />\r\n              }\r\n              inputValueLink={stateReference.takerAmount}\r\n              selectedValue={takerAsset.value}\r\n              onSelect={selectTakerAsset}\r\n              id=\"takerAmount\"\r\n              balance={takerWallet.balance}\r\n              currencies={takerList}\r\n              placeholder=\"0.00\"\r\n              onKeyUp={checkTakerAllowance}\r\n            />\r\n\r\n            {needApprove ? (\r\n              needMakerApprove ? (\r\n                <Button\r\n                  disabled={blockApprove}\r\n                  onClick={makerApprove}\r\n                  pending={isPending}\r\n                  fullWidth\r\n                  brand\r\n                >\r\n                  <FormattedMessage\r\n                    id=\"FormattedMessageIdApprove\"\r\n                    defaultMessage=\"Approve {token}\"\r\n                    values={{ token: makerAsset.name }}\r\n                  />\r\n                </Button>\r\n              ) : (\r\n                <Button\r\n                  disabled={blockApprove}\r\n                  onClick={takerApprove}\r\n                  pending={isPending}\r\n                  fullWidth\r\n                  brand\r\n                >\r\n                  <FormattedMessage\r\n                    id=\"FormattedMessageIdApprove\"\r\n                    defaultMessage=\"Approve {token}\"\r\n                    values={{ token: takerAsset.name }}\r\n                  />\r\n                </Button>\r\n              )\r\n            ) : (\r\n              <Button\r\n                disabled={blockCreation}\r\n                onClick={createOrder}\r\n                pending={isPending}\r\n                fullWidth\r\n                brand\r\n              >\r\n                <FormattedMessage id=\"create\" defaultMessage=\"Create\" />\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default CSSModules(ModalForm, styles, { allowMultiple: true })\r\n","// extracted by mini-css-extract-plugin\nexport default {\"limitOrder\":\"ZfLcdj7g552n2-Tz38gLRg==\",\"betaVersionDisclaimer\":\"x4jnGXR5rmNuuHKlWIMFsw==\",\"warning\":\"uvn9IeUVPIh4Q75QUnjtzA==\",\"formWrapper\":\"MqMxMhCR-aMxrHGcnCVCmQ==\",\"disabled\":\"iiislPxhTJGhjYtJcbm5dQ==\",\"footer\":\"hq0DjRmUCUwwN-Y+7GWrUQ==\",\"inputWrapper\":\"OMIxpbqVvYTGHZQF7HADUw==\"};","import { Component } from 'react'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport { connect } from 'redaction'\r\nimport { BigNumber } from 'bignumber.js'\r\nimport erc20Like from 'common/erc20Like'\r\nimport {\r\n  feedback,\r\n  externalConfig,\r\n  constants,\r\n  transactions,\r\n  cacheStorageGet,\r\n  cacheStorageSet,\r\n  metamask,\r\n} from 'helpers'\r\nimport actions from 'redux/actions'\r\nimport Link from 'local_modules/sw-valuelink'\r\nimport ModalForm from './ModalForm'\r\n\r\ntype ComponentProps = {\r\n  name: string\r\n  allCurrencies: IUniversalObj[]\r\n  tokensWallets: IUniversalObj[]\r\n}\r\n\r\ntype ComponentState = {\r\n  network: IUniversalObj\r\n  currencies: IUniversalObj[]\r\n  takerList: IUniversalObj[]\r\n  makerWallet: IUniversalObj\r\n  takerWallet: IUniversalObj\r\n  makerAsset: IUniversalObj\r\n  takerAsset: IUniversalObj\r\n  makerAmount: string\r\n  takerAmount: string\r\n  wrongNetwork: boolean\r\n  isPending: boolean\r\n  needMakerApprove: boolean\r\n  enoughSwapCurrencies: boolean\r\n}\r\n\r\nconst noCurrenciesTemplate = [{\r\n  blockchain: '-',\r\n  fullTitle: '-',\r\n  name: '-',\r\n  notExist: true,\r\n}]\r\n\r\nclass LimitOrder extends Component<ComponentProps, ComponentState> {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const { allCurrencies } = props\r\n    let { currencies, wrongNetwork } = actions.oneinch.filterCurrencies({\r\n      currencies: allCurrencies,\r\n      onlyTokens: true,\r\n    })\r\n\r\n    let enoughSwapCurrencies = true\r\n\r\n    if (wrongNetwork || !currencies.length) {\r\n      currencies = noCurrenciesTemplate\r\n\r\n      if (!currencies.length) enoughSwapCurrencies = false\r\n    }\r\n\r\n    const makerAsset = currencies[0]\r\n    const makerWallet = actions.core.getWallet({ currency: makerAsset.value })\r\n    const network = externalConfig.evmNetworks[makerAsset.blockchain || makerAsset.value.toUpperCase()]\r\n\r\n    let takerList = this.returnTakerList(currencies, makerAsset)\r\n\r\n    if (!takerList.length) {\r\n      takerList = noCurrenciesTemplate\r\n      enoughSwapCurrencies = false\r\n    }\r\n\r\n    const takerAsset = takerList[0]\r\n    const takerWallet = actions.core.getWallet({ currency: takerAsset.value })\r\n\r\n    this.state = {\r\n      network,\r\n      wrongNetwork,\r\n      currencies,\r\n      takerList,\r\n      makerWallet,\r\n      takerWallet,\r\n      makerAsset,\r\n      takerAsset,\r\n      makerAmount: '',\r\n      needMakerApprove: false,\r\n      takerAmount: '',\r\n      isPending: false,\r\n      enoughSwapCurrencies,\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { allCurrencies, tokensWallets } = this.props\r\n    const { wrongNetwork: prevWrongNetwork, currencies: prevCurrencies } = prevState\r\n    const { makerAsset } = this.state\r\n\r\n    const isCurrentNetworkAvailable = metamask.isAvailableNetwork()\r\n\r\n    const isMakerAssetNetworkAvailable = metamask.isAvailableNetworkByCurrency(makerAsset.value)\r\n\r\n    const needUpdate =\r\n      metamask.isConnected() &&\r\n      (\r\n        (prevWrongNetwork && (isMakerAssetNetworkAvailable || isCurrentNetworkAvailable))\r\n        ||\r\n        (!prevWrongNetwork && !isMakerAssetNetworkAvailable)\r\n      )\r\n\r\n    if (needUpdate) {\r\n      let { currencies, wrongNetwork } = actions.oneinch.filterCurrencies({\r\n        currencies: allCurrencies,\r\n        tokensWallets,\r\n      })\r\n\r\n      if (wrongNetwork) {\r\n        currencies = prevCurrencies\r\n      }\r\n\r\n      let makerAsset = currencies[0]\r\n      let takerList = this.returnTakerList(currencies, makerAsset)\r\n      let takerAsset = takerList[0]\r\n\r\n      this.setState(() => ({\r\n        wrongNetwork,\r\n        currencies,\r\n        makerAsset,\r\n        takerList,\r\n        takerAsset,\r\n        network: externalConfig.evmNetworks[makerAsset.blockchain || makerAsset.value.toUpperCase()]\r\n      }))\r\n    }\r\n  }\r\n\r\n  reportError = (error) => {\r\n    console.group('%c Create limit order', 'color: red;')\r\n    console.error(error)\r\n    console.groupEnd()\r\n\r\n    actions.notifications.show(constants.notifications.ErrorNotification, {\r\n      error: error.message,\r\n    })\r\n\r\n    feedback.oneinch.failed(error.message)\r\n  }\r\n\r\n  updateNetwork = () => {\r\n    const { makerAsset } = this.state\r\n\r\n    this.setState(() => ({\r\n      network: externalConfig.evmNetworks[makerAsset.blockchain || makerAsset.value.toUpperCase()],\r\n    }))\r\n  }\r\n\r\n  returnTakerList = (currencies, makerAsset) => {\r\n    return currencies.filter(\r\n      (item) => item.blockchain === makerAsset.blockchain && item.value !== makerAsset.value\r\n    )\r\n  }\r\n\r\n  updateTakerList = () => {\r\n    const { allCurrencies } = this.props\r\n    const { makerAsset, currencies } = this.state\r\n\r\n    const takerList = this.returnTakerList(currencies, makerAsset)\r\n\r\n    if (!takerList.length) {\r\n      this.setState(() => ({\r\n        takerList: allCurrencies,\r\n        enoughSwapCurrencies: false,\r\n      }))\r\n    } else {\r\n      this.setState(() => ({\r\n        takerList,\r\n        takerAsset: takerList[0],\r\n        takerAmount: '0',\r\n        takerWallet: actions.core.getWallet({ currency: takerList[0].value }),\r\n        enoughSwapCurrencies: true,\r\n      }))\r\n    }\r\n  }\r\n\r\n  approve = async (wallet, amount) => {\r\n    this.setState(() => ({\r\n      isPending: true,\r\n    }))\r\n\r\n    try {\r\n      const hash = await actions[wallet.standard].approve({\r\n        to: externalConfig.limitOrder[wallet.baseCurrency.toLowerCase()],\r\n        name: wallet.tokenKey,\r\n        amount,\r\n      })\r\n\r\n      actions.notifications.show(constants.notifications.Transaction, {\r\n        link: transactions.getLink(wallet.baseCurrency.toLowerCase(), hash),\r\n        completed: true,\r\n      })\r\n\r\n      cacheStorageSet('limitOrderAllowance', wallet.tokenKey, amount, Infinity)\r\n\r\n      this.checkMakerAllowance()\r\n      this.checkTakerAllowance()\r\n    } catch (error) {\r\n      this.reportError(error)\r\n    } finally {\r\n      this.setState(() => ({\r\n        isPending: false,\r\n      }))\r\n    }\r\n  }\r\n\r\n  createLimitOrder = async () => {\r\n    const { name } = this.props\r\n    const { network, makerWallet, takerWallet, makerAmount, takerAmount } = this.state\r\n\r\n    this.setState(() => ({\r\n      isPending: true,\r\n    }))\r\n\r\n    try {\r\n      const response: any = await actions.oneinch.createLimitOrder({\r\n        chainId: network.networkVersion,\r\n        baseCurrency: makerWallet.baseCurrency.toLowerCase(),\r\n        makerAddress: makerWallet.address,\r\n        makerAssetAddress: makerWallet.contractAddress,\r\n        makerAssetDecimals: makerWallet.decimals,\r\n        takerAssetAddress: takerWallet.contractAddress,\r\n        takerAssetDecimals: takerWallet.decimals,\r\n        makerAmount,\r\n        takerAmount,\r\n      })\r\n\r\n      this.decreaseAllowance(makerWallet, makerAmount)\r\n      this.decreaseAllowance(takerWallet, takerAmount)\r\n\r\n      if (response && response.success) {\r\n        await actions.oneinch.fetchLatestLimitOrder({\r\n          chainId: network.networkVersion,\r\n          owner: makerWallet.address,\r\n        })\r\n\r\n        actions.modals.close(name)\r\n        actions.notifications.show(constants.notifications.Message, {\r\n          message: (\r\n            <FormattedMessage\r\n              id=\"limitOrderCreated\"\r\n              defaultMessage=\"You have successfully created the order\"\r\n            />\r\n          ),\r\n        })\r\n      } else {\r\n        actions.notifications.show(constants.notifications.Message, {\r\n          message: (\r\n            <FormattedMessage\r\n              id=\"limitOrderIsNotCreated\"\r\n              defaultMessage=\"Something went wrong. Try again later\"\r\n            />\r\n          ),\r\n        })\r\n      }\r\n    } catch (error) {\r\n      this.reportError(error)\r\n    } finally {\r\n      this.setState(() => ({\r\n        isPending: false,\r\n      }))\r\n    }\r\n  }\r\n\r\n  selectMakerAsset = async (value) => {\r\n    const makerWallet = actions.core.getWallet({ currency: value.value })\r\n\r\n    this.setState(\r\n      () => ({\r\n        makerAsset: value,\r\n        makerWallet,\r\n      }),\r\n      () => {\r\n        this.checkMakerAllowance()\r\n        this.updateNetwork()\r\n        this.updateTakerList()\r\n      }\r\n    )\r\n  }\r\n\r\n  selectTakerAsset = (value) => {\r\n    const takerWallet = actions.core.getWallet({ currency: value.value })\r\n\r\n    this.setState(\r\n      () => ({\r\n        takerAsset: value,\r\n        takerWallet,\r\n      }),\r\n      () => {\r\n        this.checkTakerAllowance()\r\n      }\r\n    )\r\n  }\r\n\r\n  decreaseAllowance = (wallet, amount) => {\r\n    const oldAllowance: any = cacheStorageSet(\r\n      'limitOrderAllowance',\r\n      wallet.tokenKey,\r\n      amount,\r\n      Infinity\r\n    )\r\n\r\n    cacheStorageSet(\r\n      'limitOrderAllowance',\r\n      wallet.tokenKey,\r\n      new BigNumber(oldAllowance).minus(amount),\r\n      Infinity\r\n    )\r\n  }\r\n\r\n  checkMakerAllowance = async () => {\r\n    const { makerWallet, makerAmount } = this.state\r\n    let allowance = cacheStorageGet('limitOrderAllowance', makerWallet.tokenKey)\r\n\r\n    if (!allowance) {\r\n      allowance = await this.fetchTokenAllowance(makerWallet)\r\n    }\r\n\r\n    this.setState(() => ({\r\n      needMakerApprove: new BigNumber(allowance).isLessThan(makerAmount),\r\n    }))\r\n  }\r\n\r\n  checkTakerAllowance = async () => {\r\n    const { takerWallet, takerAmount } = this.state\r\n    let allowance = cacheStorageGet('limitOrderAllowance', takerWallet.tokenKey)\r\n\r\n    if (!allowance) {\r\n      allowance = await this.fetchTokenAllowance(takerWallet)\r\n    }\r\n  }\r\n\r\n  fetchTokenAllowance = async (wallet) => {\r\n    return await erc20Like[wallet.standard].checkAllowance({\r\n      owner: wallet.address,\r\n      spender: externalConfig.limitOrder[wallet.baseCurrency.toLowerCase()],\r\n      contract: wallet.contractAddress,\r\n      decimals: wallet.decimals,\r\n    })\r\n  }\r\n\r\n  areWrongOrderParams = () => {\r\n    const { makerAmount, takerAmount, makerWallet } = this.state\r\n\r\n    const isWrongAmount = (amount) => {\r\n      return new BigNumber(amount).isNaN() || new BigNumber(amount).isEqualTo(0)\r\n    }\r\n\r\n    return (\r\n      isWrongAmount(makerAmount) ||\r\n      isWrongAmount(takerAmount) ||\r\n      new BigNumber(makerWallet.balance).isLessThan(makerAmount)\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { name } = this.props\r\n    const {\r\n      currencies,\r\n      takerList,\r\n      makerAsset,\r\n      takerAsset,\r\n      makerWallet,\r\n      takerWallet,\r\n      isPending,\r\n      needMakerApprove,\r\n      enoughSwapCurrencies,\r\n      wrongNetwork,\r\n    } = this.state\r\n\r\n    const linked = Link.all(this, 'makerAmount', 'takerAmount')\r\n    const blockCreation = this.areWrongOrderParams() || !enoughSwapCurrencies || isPending\r\n\r\n    // TODO: how to calculate the tx cost for token approvement ?\r\n    // FIXME: don't let an user to start approvement without balance\r\n    const blockApprove = blockCreation // || new BigNumber(makerWallet.balance).isLessThan(0)\r\n\r\n    return (\r\n      <ModalForm\r\n        wrongNetwork={wrongNetwork}\r\n        enoughSwapCurrencies={enoughSwapCurrencies}\r\n        modalName={name}\r\n        stateReference={linked}\r\n        availableCurrencies={currencies}\r\n        takerList={takerList}\r\n        makerAsset={makerAsset}\r\n        makerWallet={makerWallet}\r\n        takerAsset={takerAsset}\r\n        takerWallet={takerWallet}\r\n        blockApprove={blockApprove}\r\n        blockCreation={blockCreation}\r\n        isPending={isPending}\r\n        selectMakerAsset={this.selectMakerAsset}\r\n        checkMakerAllowance={this.checkMakerAllowance}\r\n        checkTakerAllowance={this.checkTakerAllowance}\r\n        needMakerApprove={needMakerApprove}\r\n        selectTakerAsset={this.selectTakerAsset}\r\n        approve={this.approve}\r\n        createOrder={this.createLimitOrder}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(({ currencies, user }) => ({\r\n  allCurrencies: currencies.items,\r\n  activeFiat: user.activeFiat,\r\n}))(LimitOrder)\r\n","import React from 'react'\r\nimport cx from 'classnames'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './FieldLabel.scss'\r\n\r\ninterface FieldLabelProps {\r\n  children: React.ReactNode\r\n  inRow?: boolean\r\n  inDropDown?: boolean\r\n  positionStatic?: boolean\r\n}\r\n\r\nconst FieldLabel = ({ children, inRow, inDropDown, positionStatic }: FieldLabelProps) => (\r\n  <div\r\n    styleName={cx(\r\n      'label',\r\n      { inRow: inRow },\r\n      { inDropDown: inDropDown },\r\n      { positionStatic: positionStatic },\r\n    )}\r\n  >\r\n    {children}\r\n  </div>\r\n)\r\n\r\nexport default cssModules(FieldLabel, styles, { allowMultiple: true })\r\n","// extracted by mini-css-extract-plugin\nexport default {\"label\":\"mhWFK1dHYixo-xWWDA4xnQ==\",\"positionStatic\":\"TKsVcLatjinn8ry4p3HAzQ==\",\"inDropDown\":\"LvVndl3rkbi+2cP8WUG4Iw==\",\"inRow\":\"kmZQlwaAedtWOt5Yq8SsGA==\"};","import React from 'react'\r\n\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './styles.scss'\r\n\r\nimport { FormattedMessage } from 'react-intl'\r\nimport { QrReader } from 'react-qr-reader'\r\n\r\n/* eslint-disable */\r\nconst QR = ({ openScan, handleScan, handleError }) => (\r\n  <div styleName=\"scan\">\r\n    <span styleName=\"close\" onClick={openScan}>\r\n      &times;\r\n    </span>\r\n    <QrReader\r\n      constraints={{ facingMode: { exact: 'environment' } }}\r\n      onResult={(result, error) => {\r\n        if (!!result) {\r\n          handleScan(result?.getText())\r\n          return\r\n        }\r\n      }}\r\n    />\r\n  </div>\r\n)\r\n\r\n/* eslint-enable */\r\n\r\nexport default CSSModules(QR, styles, { allowMultiple: true })\r\n","// extracted by mini-css-extract-plugin\nexport default {\"scan\":\"L5BWEqPhidqS-oM2Rxq2bQ==\",\"close\":\"VMeitnWZGta6IrlXS18t6Q==\"};","import React from 'react'\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './InvoiceInfoBlock.scss'\r\nimport { FormattedMessage } from 'react-intl'\r\n\r\ntype ComponentProps = {\r\n  invoiceData: {\r\n    invoiceNumber: number\r\n    amount: number\r\n    id: number\r\n    destAddress: string\r\n    fromAddress: string\r\n    label: string\r\n    type: string\r\n  }\r\n}\r\n\r\nconst InvoiceInfoBlock = (props: ComponentProps) => {\r\n  const { invoiceData } = props\r\n\r\n  let bip0020link = `bitcoin:${(invoiceData.destAddress) ? invoiceData.destAddress : invoiceData.fromAddress}`\r\n\r\n  bip0020link = `${bip0020link}?amount=${invoiceData.amount}`\r\n  bip0020link = `${bip0020link}&label=Invoice-${invoiceData.id}-${invoiceData.invoiceNumber}`\r\n\r\n  if (invoiceData.label) {\r\n    bip0020link = `${bip0020link}&message=${encodeURI(invoiceData.label)}`\r\n  }\r\n\r\n  return (\r\n    <div styleName=\"invoiceInfoBlock\">\r\n      <h4>\r\n        <FormattedMessage id=\"InvoiceInfoBlockTitle\" defaultMessage=\"Payment of invoice #{id}-{invoiceNumber}\" values={invoiceData} />\r\n      </h4>\r\n      {invoiceData.label &&\r\n        <span>{invoiceData.label}</span>\r\n      }\r\n      {invoiceData.type === 'BTC' &&\r\n        <a href={bip0020link}>\r\n          <FormattedMessage id=\"InvoiceInfoBlockOpenDesktopApp\" defaultMessage=\"Pay from an external wallet\" />\r\n        </a>\r\n      }\r\n      <hr />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default cssModules(InvoiceInfoBlock, styles, { allowMultiple: true })\r\n","// extracted by mini-css-extract-plugin\nexport default {\"invoiceInfoBlock\":\"P8sDXQUNdqP8NWX+oPY5UQ==\"};","import React from 'react'\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './AdminFeeInfoBlock.scss'\r\nimport { FormattedMessage } from 'react-intl'\r\n\r\nconst AdminFeeInfoBlock = (props) => {\r\n  const {\r\n    fee,\r\n    min,\r\n    currency,\r\n  } = props\r\n\r\n  return (\r\n    <div styleName=\"adminFeeInfoBlock\">\r\n      <FormattedMessage\r\n        id=\"AdminFee_Message\"\r\n        defaultMessage=\" {fee}%   ,    {min} {currency}\"\r\n        values={{\r\n          fee,\r\n          min,\r\n          currency,\r\n        }}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default cssModules(AdminFeeInfoBlock, styles, { allowMultiple: true })\r\n","// extracted by mini-css-extract-plugin\nexport default {\"adminFeeInfoBlock\":\"_6fROjECpNMsOGxc31VxS8Q==\"};","// extracted by mini-css-extract-plugin\nexport default {\"note\":\"JhormdiG+31i35EQwSTc6Q==\",\"prompt\":\"EoqOYef2s08jasjmq8i8Bg==\",\"hide\":\"rYfDt41auC0sLMwVAQc7jQ==\",\"r-tooltip\":\"t6y9MEBvKyEnavF35Loumg==\",\"rednote\":\"gu1poFkkUjYFNyOBAl7wCQ==\",\"bottom0\":\"VoBTa6+BE9q-Ayv3VFpwBg==\",\"groupField\":\"gBFqvbf1v0iervXfoa7vXQ==\",\"balance\":\"_5EIzg-TVmDZdh3bQ36bKoQ==\",\"notice\":\"HYSbjks9Nhp4qzpEdXrE+A==\",\"rednotes\":\"_0wFhIOnXeNC7IUmLQ9d+TA==\",\"buttonFull\":\"uiGwReSwKtBuWeIl4H4-ig==\",\"group\":\"JpXrDoPM-UFfvpD06cZ0KQ==\",\"input\":\"ByJX1lOxNE9ieXnfj8QI2g==\",\"downLabel\":\"MYi0P-Vz1FDkUy3bCrTryA==\",\"highLevel\":\"HPWVZEAyN0+nY1Xn9Rd5rA==\",\"lowLevel\":\"Rgd8Lvhij-7NohCteryS+A==\",\"sendBtnsWrapper\":\"wdRQ9Jrw1UV2qbxcLJFxyg==\",\"commentFormWrapper\":\"maHMz3+-UOOJQyG-WvvJDQ==\",\"actionBtn\":\"_6Z6NC2PXAVcc3-1o1vkv2g==\",\"dashboardViewNotice\":\"o2WdKbYJArlcA6ARu2+pqA==\",\"button\":\"tSbAbb5plM6vJs3+vz0LqA==\",\"mobileFont\":\"ao1wimfnVx-r6lsUbgRpRA==\",\"qrCode\":\"ouhsJt4-aIO00jbO6hfrWQ==\",\"customSelectContainer\":\"MhA+fod-1X56kCItF8gCTw==\",\"customSelectValue\":\"mLTcO4AqfgAIdeBl0I0LVg==\",\"address\":\"Oe2iJJrvNucTiNDrnJCb8Q==\",\"mobileAddress\":\"_2N5AzdqUuzjihRd3xD1LSg==\",\"currencySelectContainer\":\"Vywi5Y2lD-e-JTl7Awsk5w==\",\"coin\":\"Dt8bp1KulSA7Z4iGMzfyOQ==\",\"customSelectList\":\"VtsZQ8zukVPIFFYggRrTKQ==\",\"additionalurrencies\":\"QuypAojv5AKlBUxa6B8RBw==\",\"additionalurrenciesItem\":\"tLySxtlmtcW8aE5SgO54ig==\",\"additionalurrenciesItemActive\":\"FbPE7zFcliIzeYm936tvTA==\",\"delimiter\":\"xEWTOq8HG6aYOW4US12ZpQ==\",\"customSelectListItem\":\"pv-Aapm0xM5bj4M3fUS0Nw==\",\"customSelectArrow\":\"nhZeNMV-ZSCoAbA980WRng==\",\"active\":\"PqFH7bk8ATXOZ-CrskFUNA==\",\"disabled\":\"Qmjc539ba7dvyKcYXpGyQg==\",\"amount\":\"LiPx07-tIcJ4fuZbAnPByw==\",\"usd\":\"NWpF5XBF68OEoeuKPYH2XA==\"};","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport cssModules from 'react-css-modules'\r\n\r\nimport styles from './Href.scss'\r\n\r\ninterface HrefProps {\r\n  children: React.ReactNode\r\n  to?: string\r\n  redirect?: string\r\n  tab?: string\r\n  rel?: string\r\n  className?: string\r\n}\r\n\r\nconst Href = ({ children, to, redirect, tab, rel, className }: HrefProps) => {\r\n  if (to) {\r\n    return (\r\n      <NavLink styleName=\"link\" to={to}>\r\n        {children}\r\n      </NavLink>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <a\r\n      styleName=\"link\"\r\n      className={className}\r\n      href={redirect || tab}\r\n      //@ts-ignore: strictNullChecks\r\n      target={tab ? '_blank' : null}\r\n      //@ts-ignore: strictNullChecks\r\n      rel={rel || null}\r\n    >\r\n      {children}\r\n    </a>\r\n  )\r\n}\r\n\r\nexport default cssModules(Href, styles)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"link\":\"_0h94TMlYuPTs327UJFq+Rg==\"};","import React from 'react'\r\nimport config from 'app-config'\r\nimport Href from 'components/Href/Href'\r\n\r\nconst ApiEndpoint = (props) => {\r\n  const { symbol, isERC20, isBTC, children } = props\r\n  const lowerSymbol = symbol.toLowerCase()\r\n  let api = '.'\r\n\r\n  // TODO: add BEP20 api\r\n\r\n  if (isERC20 || lowerSymbol === 'eth') {\r\n    api = config.api.etherscan\r\n  } else if (isBTC) { // btc [pin, sms, multisig]\r\n    api = config.api.bitpay\r\n  } else if (lowerSymbol === 'ghost') {\r\n    api = config.api.ghostscan\r\n  } else if (lowerSymbol === 'next') {\r\n    api = config.api.nextExplorer\r\n  }\r\n\r\n  return <Href tab={api}>{children}</Href>\r\n}\r\n\r\nconst LinkEndpoint = (props) => {\r\n  const {\r\n    symbol,\r\n    address,\r\n    children,\r\n    contractAddress,\r\n    isERC20,\r\n    isBTC,\r\n  } = props\r\n  const lowerSymbol = symbol.toLowerCase()\r\n  let link = '.'\r\n\r\n    // TODO: add BEP20 link\r\n\r\n  if (isERC20 || lowerSymbol === 'eth') {\r\n    link = config.link.etherscan\r\n  } else if (isBTC) { // btc [pin, sms, multisig]\r\n    link = config.link.bitpay\r\n  } else if (lowerSymbol === 'ghost') {\r\n    link = config.link.ghostscan\r\n  } else if (lowerSymbol === 'next') { // only mainnet link\r\n    link = config.link.nextExplorer\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {lowerSymbol === 'next'\r\n        ? <Href tab={`${link}/#/address/${address}`}>{children}</Href>\r\n        : isERC20\r\n        ? <Href tab={`${link}/token/${contractAddress}?a=${address}`}>{children}</Href>\r\n        : <Href tab={`${link}/address/${address}`}>{children}</Href>\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport {\r\n  ApiEndpoint,\r\n  LinkEndpoint,\r\n}\r\n","import React from 'react'\r\n\r\nimport Address from 'components/ui/Address/Address'\r\nimport { AddressFormat } from 'domain/address'\r\nimport { LinkEndpoint } from '../Endpoints'\r\n\r\nexport default function PartOfAddress(props) {\r\n  const { \r\n    style,\r\n    currency, \r\n    contractAddress, \r\n    address, \r\n    withoutLink,\r\n  } = props\r\n\r\n  const styleOverwrited = {\r\n    fontSize: '12px',\r\n    fontWeight: 'bold',\r\n    color: 'rgb(142, 154, 163)',\r\n  }\r\n\r\n  const AddressElement = (\r\n    <Address\r\n      address={address}\r\n      format={AddressFormat.Short}\r\n      style={{ ...style, ...styleOverwrited }}\r\n    />\r\n  )\r\n\r\n  return (\r\n    <div>\r\n      {!withoutLink ? (\r\n        <LinkEndpoint symbol={currency} contractAddress={contractAddress} address={address}>\r\n          {AddressElement}\r\n        </LinkEndpoint>\r\n      ) : AddressElement}\r\n    </div>\r\n  )\r\n}\r\n","import { Component } from 'react'\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './index.scss'\r\nimport cx from 'classnames'\r\nimport PartOfAddress from 'pages/Wallet/PartOfAddress'\r\nimport { isMobile } from 'react-device-detect'\r\nimport { user, utils } from 'helpers'\r\nimport { localisedUrl } from 'helpers/locale'\r\nimport getCurrencyKey from 'helpers/getCurrencyKey'\r\nimport Coin from 'components/Coin/Coin'\r\nimport OutsideClick from 'components/OutsideClick'\r\n\r\n@cssModules(styles, { allowMultiple: true })\r\nexport default class CurrencyList extends Component<any, any> {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      isAssetsOpen: false,\r\n    }\r\n  }\r\n\r\n  openModal = (params) => {\r\n    const { target } = params\r\n    let { currency, address, tokenKey } = target\r\n\r\n    this.setState({\r\n      isAssetsOpen: false,\r\n    }, () => {\r\n      const {\r\n        history,\r\n        intl: { locale },\r\n      } = this.props\r\n\r\n      switch (currency.toLowerCase()) {\r\n        case 'btc (multisig)':\r\n        case 'btc (pin-protected)':\r\n          currency = 'btc'\r\n      }\r\n\r\n      const newPathName = `${tokenKey ? `/token/${tokenKey}` : `/${currency}`}/${address}/send`\r\n      // `\r\n\r\n      if (history.location.pathname !== newPathName) {\r\n        history.push(\r\n          localisedUrl(locale, newPathName)\r\n        )\r\n      }\r\n    })\r\n  }\r\n\r\n  closeList = () => {\r\n    this.setState(() => ({\r\n      isAssetsOpen: false,\r\n    }))\r\n  }\r\n\r\n  toggleListDisplay = () => {\r\n    this.setState((state) => ({\r\n      isAssetsOpen: !state.isAssetsOpen,\r\n    }))\r\n  }\r\n\r\n  returnFiatBalance = (cryptoBalance, rate) => {\r\n    return utils.toMeaningfulFloatValue({\r\n      value: cryptoBalance,\r\n      rate,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      selectedCurrency,\r\n      currentBalance,\r\n      currency,\r\n      activeFiat,\r\n      tableRows,\r\n      currentAddress,\r\n    } = this.props\r\n\r\n    const {\r\n      isAssetsOpen,\r\n    } = this.state\r\n\r\n    const standard = selectedCurrency.itemCurrency?.standard\r\n    const fiatBalance = selectedCurrency?.infoAboutCurrency?.price_fiat\r\n      ? this.returnFiatBalance(currentBalance, selectedCurrency.infoAboutCurrency.price_fiat)\r\n      : false\r\n\r\n    return (\r\n      <OutsideClick outsideAction={this.closeList}>\r\n        <div\r\n          id='withdrawCurrencyList'\r\n          styleName=\"customSelectValue\"\r\n          onClick={this.toggleListDisplay}\r\n        >\r\n          <div styleName=\"coin\">\r\n            <Coin name={selectedCurrency.currency} />\r\n          </div>\r\n\r\n          <div>\r\n            <a>\r\n              {selectedCurrency.currency}\r\n              {standard && <span styleName=\"tokenStandard\">{standard.toUpperCase()}</span>}\r\n            </a>\r\n            <span styleName=\"address\">{currentAddress}</span>\r\n            <span styleName=\"mobileAddress\">\r\n              {isMobile ? <PartOfAddress address={currentAddress} withoutLink /> : ''}\r\n            </span>\r\n          </div>\r\n\r\n          <div styleName=\"amount\">\r\n            <>\r\n              {utils.toMeaningfulFloatValue({\r\n                value: currentBalance,\r\n                meaningfulDecimals: 5,\r\n              })}{' '}\r\n              {getCurrencyKey(currency, true).toUpperCase()}\r\n            </>\r\n            {/* save the element anyway for UI paddings */}\r\n            <span styleName=\"usd\">\r\n              {fiatBalance && (\r\n                <>\r\n                  {fiatBalance} {activeFiat}\r\n                </>\r\n              )}\r\n            </span>\r\n          </div>\r\n          <div styleName={cx('customSelectArrow', { active: isAssetsOpen })}></div>\r\n        </div>\r\n\r\n        {isAssetsOpen && (\r\n          <div styleName=\"customSelectList\">\r\n            {tableRows.map((item, index) => {\r\n              if (!user.isCorrectWalletToShow(item)) return\r\n              \r\n              const {\r\n                baseCurrency,\r\n                currency,\r\n                balance,\r\n                balanceError,\r\n                fullName,\r\n                standard,\r\n                address,\r\n                infoAboutCurrency,\r\n                isToken,\r\n              } = item\r\n              const coinView = (isToken) ? getCurrencyKey(currency, true).replaceAll(`*`,``).toUpperCase() : getCurrencyKey(currency, true).toUpperCase()\r\n\r\n              const itemFiatBalance = infoAboutCurrency?.price_fiat\r\n                ? this.returnFiatBalance(balance, infoAboutCurrency?.price_fiat)\r\n                : false\r\n\r\n              const itemId = `${\r\n                baseCurrency ? baseCurrency.toLowerCase() : ''\r\n              }${currency.toLowerCase()}`\r\n\r\n              return (\r\n                <div id={`${itemId}Send`} key={index}\r\n                  styleName={cx('customSelectListItem customSelectValue', {\r\n                    disabled: !balance || balanceError,\r\n                  })}\r\n                  onClick={() => this.openModal({ target: item })}\r\n                >\r\n                  <Coin name={item.currency} />\r\n\r\n                  <div>\r\n                    <a>\r\n                      {fullName}\r\n                      {standard && <span styleName=\"tokenStandard\">{standard.toUpperCase()}</span>}\r\n                    </a>\r\n                    <span styleName=\"address\">{address}</span>\r\n                    <span styleName=\"mobileAddress\">\r\n                      {isMobile ? <PartOfAddress address={address} withoutLink /> : ''}\r\n                    </span>\r\n                  </div>\r\n   \r\n                  <div styleName=\"amount\">\r\n                    <span>\r\n                      <span id={`${itemId}CryptoBalance`}>\r\n                        {!balanceError\r\n                          ? utils.toMeaningfulFloatValue({\r\n                              value: balance,\r\n                              meaningfulDecimals: 5,\r\n                            })\r\n                          : '-'}\r\n                      </span>{' '}\r\n                      {coinView}\r\n                    </span>\r\n                    {/* save the element anyway for UI paddings */}\r\n                    <span styleName=\"usd\">\r\n                      {itemFiatBalance && (\r\n                        <>\r\n                          {itemFiatBalance} {activeFiat}\r\n                        </>\r\n                      )}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              )\r\n            })}\r\n          </div>\r\n        )}\r\n      </OutsideClick>\r\n    )\r\n  }\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nexport default {\"coin\":\"bIAZAlvqQsVtcDQmSaCqKw==\",\"tokenStandard\":\"uATfML5I0v4Uj07g3mY63A==\",\"amount\":\"Za7pDJnP9zEYW0zMCjykPA==\",\"usd\":\"kze80wt8sY5usdLy3UXRww==\",\"customSelectArrow\":\"DJhXstdMf5MtAaSLWhV4lA==\",\"active\":\"jG-jYwfiegJcssOmy3jCWQ==\",\"customSelectValue\":\"bcf3cIx+Bx0Ni5CqgIA9rA==\",\"address\":\"_23Ra0DJKIKIxrwRJeq3vVw==\",\"mobileAddress\":\"u0isCkF-NW4A-wzfgTGKzQ==\",\"customSelectList\":\"mS2PA3ub4aNucP4lhqC7lg==\",\"customSelectListItem\":\"HRi3nS8wYZnHjhLMpil6Sg==\",\"disabled\":\"Zhy14jUthoDzJC3x91xI6w==\"};","import React, { Component } from 'react'\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './index.scss'\r\nimport { FormattedMessage } from 'react-intl'\r\n\r\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\r\nimport InlineLoader from 'shared/components/loaders/InlineLoader/InlineLoader'\r\nimport BigNumber from 'bignumber.js'\r\n\r\ntype FeeRadiosProps = {\r\n  isLoading: boolean\r\n\r\n  speedType: string\r\n\r\n  fees: {\r\n    slow: number | any\r\n    normal: number | any\r\n    fast: number | any\r\n    custom: number\r\n  }\r\n  setFee: (speedType: string, customValue?: number) => void\r\n}\r\n\r\ntype FeeRadiosState = {\r\n  customFeeValue: number\r\n}\r\n\r\nconst bitcoinFees = [\r\n  {\r\n    slug: 'slow',\r\n    labelMessage: <FormattedMessage id=\"FeeRadiosSpeedTypeSlow\" defaultMessage=\"Slow\" />,\r\n    timeMessage: <FormattedMessage id=\"FeeRadiosSpeedTypeTimeSlow\" defaultMessage=\"~60 more minutes\" />,\r\n    tooltip: (\r\n      <Tooltip id=\"FeeRadiosSpeedTypeDescriptionSlow\">\r\n        <div styleName=\"tooltipMessage\">\r\n          <FormattedMessage\r\n            id=\"FeeRadiosSpeedTypeDescriptionSlow\"\r\n            defaultMessage=\"A rolling average of the fee for transactions to be confirmed in 7 or more blocks.\"\r\n          />\r\n        </div>\r\n      </Tooltip>\r\n    ),\r\n  },  \r\n  {\r\n    slug: 'normal',\r\n    labelMessage: <FormattedMessage id=\"FeeRadiosSpeedTypeMedium\" defaultMessage=\"Medium\" />,\r\n    timeMessage: <FormattedMessage id=\"FeeRadiosSpeedTypeTimeMedium\" defaultMessage=\"~25-60 minutes\" />,\r\n    tooltip: (\r\n      <Tooltip id=\"FeeRadiosSpeedTypeDescriptionMedium\">\r\n        <div styleName=\"tooltipMessage\">\r\n          <FormattedMessage\r\n            id=\"FeeRadiosSpeedTypeDescriptionMedium\"\r\n            defaultMessage=\"A rolling average of the fee for transactions to be confirmed within 3 to 6 blocks.\"\r\n          />\r\n        </div>\r\n      </Tooltip>\r\n    ),\r\n  },\r\n  {\r\n    slug: 'fast',\r\n    labelMessage: <FormattedMessage id=\"FeeRadiosSpeedTypeFast\" defaultMessage=\"Fast\" />,\r\n    timeMessage: <FormattedMessage id=\"FeeRadiosSpeedTypeTimeFast\" defaultMessage=\"~5-20 minutes\" />,\r\n    tooltip: (\r\n      <Tooltip id=\"FeeRadiosSpeedTypeDescriptionFast\">\r\n        <div styleName=\"tooltipMessage\">\r\n          <FormattedMessage\r\n            id=\"FeeRadiosSpeedTypeDescriptionFast\"\r\n            defaultMessage=\"A rolling average of the fee for transactions to be confirmed within 1 to 2 blocks.\"\r\n          />\r\n        </div>\r\n      </Tooltip>\r\n    ),\r\n  },\r\n  {\r\n    slug: 'custom',\r\n    labelMessage: <FormattedMessage id=\"FeeRadiosSpeedTypeCustom\" defaultMessage=\"Custom\" />,\r\n    timeMessage: null,\r\n    tooltip: (\r\n      <Tooltip id=\"FeeRadiosSpeedTypeDescriptionCustom\">\r\n        <div styleName=\"tooltipMessage\">\r\n          <FormattedMessage\r\n            id=\"FeeRadiosSpeedTypeDescriptionCustom\"\r\n            defaultMessage=\"Set custom fee rate.\"\r\n          />\r\n        </div>\r\n      </Tooltip>\r\n    ),\r\n  },\r\n]\r\n\r\n@cssModules(styles, { allowMultiple: true })\r\nexport default class FeeRadios extends Component<FeeRadiosProps, FeeRadiosState> {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      customFeeValue: 50\r\n    }\r\n  }\r\n\r\n  onFeeRateChange = (event) => {\r\n    const { setFee } = this.props;\r\n    setFee(event.target.value, this.state.customFeeValue)\r\n  }\r\n\r\n  onCustomFeeValueChange = (event) => {\r\n    const { setFee } = this.props\r\n    this.setState({\r\n      customFeeValue: event.target.value\r\n    })\r\n    setFee('custom', event.target.value)\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      isLoading,\r\n      speedType,\r\n      fees,\r\n    } = this.props\r\n\r\n    return (\r\n      <div styleName=\"fee-radio\">\r\n        {bitcoinFees.map((fee, index) => {\r\n          const feeInByte = fee.slug === \"custom\"\r\n            ? this.state.customFeeValue\r\n            : new BigNumber(fees[fee.slug]).div(1024).dp(0, BigNumber.ROUND_HALF_EVEN).toNumber()\r\n\r\n          return (\r\n            <React.Fragment key={index}>\r\n              <input\r\n                type=\"radio\"\r\n                value={fee.slug}\r\n                id={fee.slug}\r\n                styleName=\"fee-radio__input\"\r\n                checked={isLoading ? 'fast' === fee.slug : speedType === fee.slug }\r\n                onChange={this.onFeeRateChange}\r\n              />\r\n\r\n              <label htmlFor={fee.slug} styleName=\"fee-radio__label\">\r\n                <div>\r\n                  <span styleName=\"labelTitle\">{fee.labelMessage}</span>\r\n                  {' '}\r\n                  {fee.tooltip}\r\n                </div>\r\n\r\n                {isLoading ? (\r\n                  <div styleName='paleLoader'>\r\n                    <InlineLoader />\r\n                  </div>\r\n                ) : (\r\n                  <div styleName=\"feeRadioDescription\">\r\n                    <span styleName=\"constantTextSize\">\r\n                      {feeInByte} sat/byte\r\n                    </span>\r\n                    <span styleName=\"constantTextSize\">\r\n                      {fee.timeMessage}\r\n                    </span>\r\n                    {speedType === \"custom\" && speedType === fee.slug &&\r\n                      <input\r\n                        styleName=\"customRangeInput\"\r\n                        type=\"range\"\r\n                        id=\"sat/byte\"\r\n                        name=\"volume\"\r\n                        min=\"1\"\r\n                        max=\"250\"\r\n                        value={this.state.customFeeValue}\r\n                        onChange={this.onCustomFeeValueChange}\r\n                      />\r\n                    }\r\n                  </div>\r\n                )}\r\n              </label>\r\n            </React.Fragment>\r\n            )\r\n          })\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nexport default {\"fee-radio\":\"PXO3YrMAUhm9gtXoAxTdkQ==\",\"fee-radio__input\":\"UlPyQ5HeBdpARoEu7moFAA==\",\"fee-radio__label\":\"lhV15A7K1h6bvp0lnivROQ==\",\"labelTitle\":\"_56oSbiC0yUy5wlPqE5rk0Q==\",\"tooltipMessage\":\"Smn03+gcM1a9qoljnfviYg==\",\"feeRadioDescription\":\"j5raWsjUq1qnw2WhBlNyaQ==\",\"constantTextSize\":\"Od3Sj3W-SgIDPVHdm+VusQ==\",\"customRangeInput\":\"vx5c6Dzokpk+KfUmPTtxsg==\",\"fee-radio__label--active\":\"I-XKyosYi2H9tltsywa61g==\",\"paleLoader\":\"QSzCMNOD-xP-ei7tsy9elg==\"};","import cssModules from 'react-css-modules'\r\nimport { BigNumber } from 'bignumber.js'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport { links, utils } from 'helpers'\r\nimport { COIN_DATA, COIN_MODEL } from 'swap.app/constants/COINS'\r\n\r\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\r\nimport InlineLoader from 'components/loaders/InlineLoader/InlineLoader'\r\nimport styles from './index.scss'\r\nimport FeeRadios  from './FeeRadios'\r\n\r\ntype FeeInfoBlockProps = {\r\n  isLoading: boolean\r\n  hasTxSize: boolean\r\n\r\n  currency: string\r\n  activeFiat: string\r\n  dataCurrency: string\r\n  bitcoinFeeSpeedType: string\r\n\r\n  selectedItem: IUniversalObj\r\n\r\n  txSize?: number\r\n  feeCurrentCurrency?: number\r\n  exchangeRateForTokens?: BigNumber\r\n  exCurrencyRate?: BigNumber\r\n  minerFee: BigNumber\r\n  serviceFee: BigNumber\r\n  usedAdminFee: undefined | {\r\n    address: string\r\n    fee: number // percent (%)\r\n    min: number\r\n  }\r\n  bitcoinFees?: {\r\n    slow: number\r\n    normal: number\r\n    fast: number\r\n    custom: number\r\n  }\r\n\r\n  setBitcoinFee?: (speedType: string, customValue?: number) => void\r\n}\r\n\r\nconst FeeInfoBlock = function (props: FeeInfoBlockProps) {\r\n  const {\r\n    selectedItem,\r\n    currency,\r\n    activeFiat,\r\n    dataCurrency,\r\n    exchangeRateForTokens = 0,\r\n    exCurrencyRate = 0,\r\n    isLoading,\r\n    minerFee: initialMinerFee,\r\n    serviceFee,\r\n    usedAdminFee,\r\n    hasTxSize,\r\n    txSize,\r\n    feeCurrentCurrency,\r\n    bitcoinFeeSpeedType,\r\n    bitcoinFees,\r\n    setBitcoinFee,\r\n  } = props\r\n\r\n  const {\r\n    isToken,\r\n    isConnected, // only evm coins and tokens have this property\r\n  } = selectedItem\r\n\r\n  const minerFeeTicker = dataCurrency\r\n  const serviceFeeTicker = currency\r\n\r\n  let activeFiatSymbol\r\n\r\n  switch (activeFiat.toLowerCase()) {\r\n    case 'usd':\r\n      activeFiatSymbol = '$'\r\n      break\r\n    case 'eur':\r\n      activeFiatSymbol = ''\r\n      break\r\n    default:\r\n      activeFiatSymbol = activeFiat\r\n  }\r\n\r\n  let minerFee = initialMinerFee\r\n\r\n  // double miner fee for user and admin transactions\r\n  if (usedAdminFee && (isToken || COIN_DATA[currency]?.model === COIN_MODEL.AB) && !isConnected) {\r\n    minerFee = initialMinerFee.multipliedBy(2)\r\n  }\r\n\r\n  const totalFee = minerFee.plus(serviceFee)\r\n\r\n  const fiatMinerFee = isToken\r\n    ? exchangeRateForTokens > 0 // eth rate for tokens\r\n      ? utils.toMeaningfulFloatValue({ value: minerFee, rate:exchangeRateForTokens })\r\n      : 0\r\n    : exCurrencyRate > 0 // own currency rate for another\r\n      ? utils.toMeaningfulFloatValue({ value: minerFee, rate:exCurrencyRate })\r\n      : 0\r\n\r\n  const fiatServiceFee = usedAdminFee\r\n    ? exCurrencyRate > 0\r\n      ? utils.toMeaningfulFloatValue({ value: serviceFee, rate:exCurrencyRate })\r\n      : 0\r\n    : 0\r\n\r\n  const fiatTotalFee = exCurrencyRate > 0 && !isToken\r\n    ? utils.toMeaningfulFloatValue({ value: totalFee, rate:exCurrencyRate })\r\n    : 0\r\n\r\n  const transactionSize = (\r\n    <>\r\n      {feeCurrentCurrency}\r\n      &nbsp;sat/byte *\r\n      {' '}\r\n      {txSize}\r\n      &nbsp;bytes&nbsp;\r\n      <a href={links.transactionRate} target=\"_blank\" rel=\"noreferrer\">(?)</a>\r\n      {' '}\r\n      =\r\n      {' '}\r\n    </>\r\n  )\r\n\r\n  return (\r\n    <section styleName=\"feeInfoBlock\">\r\n      {hasTxSize && (\r\n        <div styleName=\"feeRow\">\r\n          <span styleName=\"feeRowTitle\">\r\n            <FormattedMessage id=\"FeeInfoBlockChooseFeeRate\" defaultMessage=\"Choose Fee Rate:\" />\r\n          </span>\r\n          <FeeRadios\r\n            speedType={bitcoinFeeSpeedType}\r\n            // @ts-ignore: strictNullChecks\r\n            fees={bitcoinFees}\r\n            // @ts-ignore: strictNullChecks\r\n            setFee={setBitcoinFee}\r\n            isLoading={isLoading}\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      <div styleName=\"feeRow\">\r\n        <span styleName=\"feeRowTitle\">\r\n          <FormattedMessage id=\"FeeInfoBlockMinerFee\" defaultMessage=\"Miner fee:\" />\r\n        </span>\r\n        <div className=\"feeRowInfo\">\r\n          {isLoading\r\n            ? <div styleName=\"paleLoader\"><InlineLoader /></div>\r\n            : (\r\n              <span styleName=\"fee\" id=\"feeInfoBlockMinerFee\">\r\n                {/* @ts-ignore: strictNullChecks */}\r\n                {hasTxSize && feeCurrentCurrency > 0 ? transactionSize : null}\r\n                {+minerFee}\r\n                &nbsp;\r\n                {minerFeeTicker}\r\n                {' '}\r\n                {fiatMinerFee > 0 && `(${activeFiatSymbol}${fiatMinerFee})`}\r\n              </span>\r\n            )}\r\n          {' '}\r\n          <Tooltip id=\"FeeInfoBlockMinerFeeTooltip\">\r\n            <div style={{ maxWidth: '24em', textAlign: 'center' }}>\r\n              <FormattedMessage\r\n                id=\"FeeInfoBlockMinerFeeTooltip\"\r\n                defaultMessage=\"Amount of cryptocurrency paid to incentivize miners to confirm your transaction\"\r\n              />\r\n            </div>\r\n          </Tooltip>\r\n        </div>\r\n      </div>\r\n\r\n      {usedAdminFee && !isConnected && (\r\n        <div styleName=\"feeRow\">\r\n          <span styleName=\"feeRowTitle\">\r\n            <FormattedMessage id=\"FeeInfoBlockServiceFee\" defaultMessage=\"Service fee\" />\r\n            :\r\n          </span>\r\n          <div className=\"feeRowInfo\">\r\n            <div styleName=\"serviceFeeConditions\">\r\n              <span>\r\n                {usedAdminFee.fee}\r\n                %\r\n              </span>\r\n              {' '}\r\n              <span>\r\n                <FormattedMessage id=\"FeeInfoBlockServiceFeeConditions\" defaultMessage=\"of the transfer amount, but not less than\" />\r\n              </span>\r\n              {' '}\r\n              <span>\r\n                {usedAdminFee.min}\r\n                &nbsp;\r\n                {serviceFeeTicker}\r\n              </span>\r\n            </div>\r\n            {isLoading\r\n              ? <div styleName=\"paleLoader\"><InlineLoader /></div>\r\n              : (\r\n                <span styleName=\"fee\" id=\"feeInfoBlockAdminFee\">\r\n                  {+serviceFee}\r\n                  &nbsp;\r\n                  {serviceFeeTicker}\r\n                  {' '}\r\n                  {fiatServiceFee > 0 && `(${activeFiatSymbol}${fiatServiceFee})`}\r\n                </span>\r\n              )}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {!isToken && !isConnected && (\r\n        <div styleName=\"feeRow\">\r\n          <span styleName=\"feeRowTitle\">\r\n            <FormattedMessage id=\"FeeInfoBlockTotalFee\" defaultMessage=\"Total fees you pay:\" />\r\n          </span>\r\n          <div className=\"feeRowInfo\">\r\n            {isLoading\r\n              ? <div styleName=\"paleLoader\"><InlineLoader /></div>\r\n              : (\r\n                <span styleName=\"fee\" id=\"feeInfoBlockTotalFee\">\r\n                  {+totalFee}\r\n                  &nbsp;\r\n                  {minerFeeTicker}\r\n                  {' '}\r\n                  {fiatTotalFee > 0 && `(${activeFiatSymbol}${fiatTotalFee})`}\r\n                </span>\r\n              )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default cssModules(FeeInfoBlock, styles, { allowMultiple: true })\r\n","// extracted by mini-css-extract-plugin\nexport default {\"feeInfoBlock\":\"-j3ka2PuTYWSMxdCBry4zw==\",\"feeRow\":\"EHHyKypdDjuQ9M44ktNBiw==\",\"feeRowTitle\":\"qqTX-klRwZvXGD5XOTRzhw==\",\"feeRowInfo\":\"i8isuaYH2kPIBbIfVwyBNA==\",\"paleLoader\":\"FgFXQD6fht-6atGrlVRhRw==\",\"fee\":\"G5US6lOqZFFEaAGY2F+k3g==\",\"serviceFeeConditions\":\"QJXfQ3-t7UAKbHGkSEqJ2w==\"};","import React from 'react'\r\nimport cx from 'classnames'\r\nimport cssModules from 'react-css-modules'\r\nimport actions from 'redux/actions'\r\nimport Link from 'local_modules/sw-valuelink'\r\nimport { connect } from 'redaction'\r\nimport typeforce from 'swap.app/util/typeforce'\r\nimport { BigNumber } from 'bignumber.js'\r\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\r\nimport { isMobile } from 'react-device-detect'\r\n\r\nimport MIN_AMOUNT from 'common/helpers/constants/MIN_AMOUNT'\r\nimport COINS_WITH_DYNAMIC_FEE from 'common/helpers/constants/COINS_WITH_DYNAMIC_FEE'\r\n\r\nimport TOKEN_STANDARDS from 'helpers/constants/TOKEN_STANDARDS'\r\nimport { inputReplaceCommaWithDot } from 'helpers/domUtils'\r\nimport { localisedUrl } from 'helpers/locale'\r\nimport getCurrencyKey from 'helpers/getCurrencyKey'\r\nimport lsDataCache from 'helpers/lsDataCache'\r\nimport helpers, {\r\n  user,\r\n  constants,\r\n  links,\r\n  adminFee,\r\n  feedback,\r\n  routing,\r\n} from 'helpers'\r\nimport btcUtils from 'common/utils/coin/btc'\r\nimport erc20Like from 'common/erc20Like'\r\nimport ethLikeHelper from 'common/helpers/ethLikeHelper'\r\nimport Modal from 'components/modal/Modal/Modal'\r\nimport FieldLabel from 'components/forms/FieldLabel/FieldLabel'\r\nimport Input from 'components/forms/Input/Input'\r\nimport Button from 'components/controls/Button/Button'\r\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\r\nimport QrReader from 'components/QrReader'\r\nimport InvoiceInfoBlock from 'components/InvoiceInfoBlock/InvoiceInfoBlock'\r\nimport AdminFeeInfoBlock from 'components/AdminFeeInfoBlock/AdminFeeInfoBlock'\r\n\r\nimport styles from './WithdrawModal.scss'\r\nimport CurrencyList from './components/CurrencyList'\r\nimport FeeInfoBlock from './components/FeeInfoBlock'\r\n\r\nconst NETWORK = process.env.MAINNET\r\n  ? 'MAINNET'\r\n  : 'TESTNET'\r\n\r\ntype WithdrawModalProps = {\r\n  name: 'WithdrawModal'\r\n  activeFiat: string\r\n  dashboardView: boolean\r\n\r\n  intl: IUniversalObj\r\n  history: IUniversalObj\r\n  data: IUniversalObj\r\n  coinsData: IUniversalObj[]\r\n}\r\n\r\ntype WithdrawModalState = {\r\n  isShipped: boolean\r\n  fetchFee: boolean\r\n  isInvoicePay?: boolean\r\n  openScanCam: boolean\r\n\r\n  reduxActionName: string\r\n  commissionCurrency: string\r\n  address: string\r\n  comment?: string\r\n  ownTx: string\r\n  selectedValue: string\r\n  fiatAmount: string\r\n  amount: string\r\n\r\n  currentDecimals: number\r\n  btcFeeRate: number | any\r\n  txSize: undefined | number\r\n  bitcoinFeeSpeedType: string\r\n  bitcoinFees: {\r\n    slow: number\r\n    normal: number\r\n    fast: number\r\n    custom: number\r\n  }\r\n\r\n  walletForTokenFee: IUniversalObj\r\n  exCurrencyRate: BigNumber\r\n  fees: {\r\n    miner: BigNumber\r\n    service: BigNumber\r\n    total: BigNumber\r\n    adminFeeSize: BigNumber\r\n  }\r\n  usedAdminFee: {\r\n    address: string\r\n    fee: number\r\n    min: number\r\n  }\r\n  balances: {\r\n    balance: BigNumber\r\n    allowedCurrency: BigNumber\r\n    allowedFiat: BigNumber\r\n  }\r\n\r\n  hiddenCoinsList: string[]\r\n  selectedCurrency: IUniversalObj\r\n  selectedItem: IUniversalObj\r\n}\r\n\r\n@connect(\r\n  ({\r\n    user: {\r\n      ethData,\r\n      bnbData,\r\n      maticData,\r\n      arbethData,\r\n      aurethData,\r\n      xdaiData,\r\n      ftmData,\r\n      avaxData,\r\n      movrData,\r\n      oneData,\r\n      phi_v1Data,\r\n      phiData,\r\n      fkwData,\r\n      phpxData,\r\n      ameData,\r\n      btcData,\r\n      ghostData,\r\n      nextData,\r\n      activeFiat,\r\n      metamaskData,\r\n    },\r\n    ui: { dashboardModalsAllowed },\r\n  }) => ({\r\n    activeFiat,\r\n    coinsData: [\r\n      ethData,\r\n      bnbData,\r\n      maticData,\r\n      arbethData,\r\n      aurethData,\r\n      xdaiData,\r\n      ftmData,\r\n      avaxData,\r\n      movrData,\r\n      oneData,\r\n      phi_v1Data,\r\n      phiData,\r\n      fkwData,\r\n      phpxData,\r\n      ameData,\r\n      btcData,\r\n      ghostData,\r\n      nextData,\r\n      metamaskData,\r\n    ],\r\n    dashboardView: dashboardModalsAllowed,\r\n  }),\r\n)\r\n@cssModules(styles, { allowMultiple: true })\r\nclass WithdrawModal extends React.Component<WithdrawModalProps, WithdrawModalState> {\r\n  mounted = true\r\n\r\n  btcFeeTimer: ReturnType<typeof setTimeout> | null = null\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const {\r\n      coinsData,\r\n      data: selectedCurrency,\r\n    } = props\r\n\r\n    const {\r\n      toAddress,\r\n      currency,\r\n      address: walletAddressOwner,\r\n      itemCurrency,\r\n    } = selectedCurrency\r\n\r\n    const currentDecimals = constants.tokenDecimals[getCurrencyKey(currency, true).toLowerCase()]\r\n    const selectedItem = actions.user.getWithdrawWallet(\r\n      itemCurrency?.tokenKey || currency,\r\n      walletAddressOwner,\r\n    )\r\n\r\n    const usedAdminFee = adminFee.isEnabled(itemCurrency?.tokenKey || currency)\r\n\r\n    const reduxActionName = selectedItem.standard || currency.toLowerCase()\r\n    let commissionCurrency = currency.toUpperCase()\r\n\r\n    // save wallet for token exchange's rate\r\n    const walletForTokenFee = coinsData.find((wallet) => {\r\n      if (TOKEN_STANDARDS[selectedItem.standard]) {\r\n        const tokenCurrency =  TOKEN_STANDARDS[selectedItem.standard].currency.toUpperCase()\r\n        commissionCurrency = tokenCurrency\r\n\r\n        return wallet.currency.toUpperCase() === tokenCurrency\r\n      }\r\n    })\r\n\r\n    const exCurrencyRate = selectedCurrency.infoAboutCurrency?.price_fiat\r\n      ? new BigNumber(selectedCurrency.infoAboutCurrency.price_fiat)\r\n      : new BigNumber(0)\r\n\r\n    this.state = {\r\n      isShipped: false,\r\n      usedAdminFee,\r\n      openScanCam: false,\r\n      address: toAddress || '',\r\n      fiatAmount: '',\r\n      amount: '',\r\n      selectedItem,\r\n      reduxActionName,\r\n      commissionCurrency,\r\n      currentDecimals,\r\n      selectedValue: currency,\r\n      ownTx: '',\r\n      hiddenCoinsList: actions.core.getHiddenCoins(),\r\n      selectedCurrency,\r\n      walletForTokenFee: walletForTokenFee || {},\r\n      exCurrencyRate,\r\n      bitcoinFees: {\r\n        slow: 5 * 1024,\r\n        normal: 15 * 1024,\r\n        fast: 30 * 1024,\r\n        custom: 50 * 1024,\r\n      },\r\n      bitcoinFeeSpeedType: '',\r\n      fees: {\r\n        miner: new BigNumber(0),\r\n        service: new BigNumber(0),\r\n        total: new BigNumber(0),\r\n        adminFeeSize: new BigNumber(0),\r\n      },\r\n      balances: {\r\n        balance: new BigNumber(selectedItem.balance || 0),\r\n        allowedCurrency: new BigNumber(0),\r\n        allowedFiat: new BigNumber(0),\r\n      },\r\n      btcFeeRate: null,\r\n      fetchFee: true,\r\n      txSize: undefined,\r\n      isInvoicePay: !!(selectedCurrency.invoice),\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.mounted = false\r\n\r\n    if (this.btcFeeTimer) {\r\n      clearTimeout(this.btcFeeTimer)\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setCommissions()\r\n    feedback.withdraw.entered()\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const {\r\n      data: prevData,\r\n    } = prevProps\r\n\r\n    const {\r\n      amount: prevAmount,\r\n      fiatAmount: prevFiatAmount,\r\n    } = prevState\r\n\r\n    const {\r\n      amount,\r\n      fiatAmount,\r\n      selectedCurrency,\r\n    } = this.state\r\n\r\n    const {\r\n      coinsData,\r\n      data,\r\n    } = this.props\r\n\r\n    const availableWallets = user.filterUserCurrencyData(actions.core.getWallets())\r\n    const walletIndex = availableWallets.findIndex(wallet => wallet.currency === selectedCurrency.currency && wallet.address === selectedCurrency.address)\r\n    if (walletIndex === -1) {\r\n      this.handleHaveNotAvailableWallet(availableWallets)\r\n    }\r\n\r\n    const selectedCurrencyInProps = coinsData.find(coinData => coinData.currency === selectedCurrency.currency && coinData.address === selectedCurrency.address)\r\n    if (selectedCurrencyInProps && selectedCurrencyInProps.balance !== selectedCurrency.balance) {\r\n      this.setState(() => ({\r\n        selectedCurrency: { ...selectedCurrency, balance: selectedCurrencyInProps.balance },\r\n      }))\r\n    }\r\n\r\n    if (prevData !== data) {\r\n      this.updateCurrencyData()\r\n    }\r\n\r\n    if (prevAmount !== amount || prevFiatAmount !== fiatAmount) {\r\n      this.updateServiceAndTotalFee()\r\n    }\r\n  }\r\n\r\n  reportError = (error: IError, details = '-') => {\r\n    console.error(error)\r\n    feedback.withdraw.failed(`details(${details}) : error message(${error.message})`)\r\n\r\n    console.group('%c Withdraw', 'color: red;')\r\n    console.error(`Withdraw. details(${details}) : error(${JSON.stringify(error)})`)\r\n    console.groupEnd()\r\n\r\n    actions.notifications.show(\r\n      constants.notifications.ErrorNotification,\r\n      { error: `name (${error.name}); message(${error.message}); details(${details})` },\r\n    )\r\n  }\r\n\r\n  handleHaveNotAvailableWallet = (availableWallets) => {\r\n    const {\r\n      history,\r\n      intl: { locale },\r\n    } = this.props\r\n\r\n    if (\r\n      !Object.keys(availableWallets).length\r\n      || (Object.keys(availableWallets).length === 1 && !user.isCorrectWalletToShow(availableWallets[0]))\r\n    ) {\r\n      actions.notifications.show(\r\n        constants.notifications.Message,\r\n        {\r\n          message: (\r\n            <FormattedMessage\r\n              id=\"WalletEmptyBalance\"\r\n              defaultMessage=\"No wallets available\"\r\n            />\r\n          ),\r\n        },\r\n      )\r\n\r\n      return\r\n    }\r\n\r\n    const firstWallet = user.isCorrectWalletToShow(availableWallets[0]) ? availableWallets[0] : availableWallets[1]\r\n\r\n    const { currency, address, tokenKey } = firstWallet\r\n    let targetCurrency = currency\r\n\r\n    switch (currency.toLowerCase()) {\r\n      case 'btc (multisig)':\r\n      case 'btc (pin-protected)':\r\n        targetCurrency = 'btc'\r\n    }\r\n\r\n    const firstUrlPart = tokenKey ? `/token/${tokenKey}` : `/${targetCurrency}`\r\n\r\n    history.push(\r\n      localisedUrl(locale, `${firstUrlPart}/${address}/send`),\r\n    )\r\n  }\r\n\r\n  updateCurrencyData = () => {\r\n    const { data } = this.props\r\n\r\n    this.setState(() => ({\r\n      selectedCurrency: data,\r\n    }))\r\n  }\r\n\r\n  fetchBtcFee = async () => {\r\n    const {\r\n      address: toAddress,\r\n      selectedItem: {\r\n        address,\r\n        isUserProtected,\r\n        isPinProtected,\r\n      },\r\n      currentDecimals,\r\n      amount,\r\n    } = this.state\r\n\r\n    let method = `send`\r\n    if (isUserProtected) method = `send_multisig`\r\n    if (isPinProtected) method = `send_2fa`\r\n\r\n    const numAmount = Number(amount) || 0\r\n\r\n    try {\r\n      const { txSize } = await helpers.btc.estimateFeeValue({\r\n        method,\r\n        speed: 'fast',\r\n        address,\r\n        toAddress,\r\n        amount: numAmount,\r\n        moreInfo: true,\r\n      })\r\n\r\n      const bitcoinFeesRate = await btcUtils.getFeesRateBlockcypher({ NETWORK })\r\n      const feeInByte = new BigNumber(bitcoinFeesRate.fast).div(1024).dp(0, BigNumber.ROUND_HALF_EVEN)\r\n      const fee = feeInByte.multipliedBy(txSize).multipliedBy(1e-8)\r\n      if (!this.mounted) return\r\n      this.setState((state) => ({\r\n        bitcoinFeeSpeedType: 'fast',\r\n        bitcoinFees: bitcoinFeesRate,\r\n        btcFeeRate: feeInByte.toNumber(),\r\n        txSize,\r\n        fees: {\r\n          ...state.fees,\r\n          miner: fee,\r\n          total: state.fees.service.plus(fee).dp(currentDecimals, BigNumber.ROUND_CEIL),\r\n        },\r\n      }))\r\n    } catch (error) {\r\n      this.reportError(error)\r\n    }\r\n  }\r\n\r\n  setBtcUserFee = (speedType: string, customValue: number) => {\r\n    const { bitcoinFees, txSize, currentDecimals } = this.state\r\n    const feeInByte = speedType === 'custom'\r\n      ? new BigNumber(customValue)\r\n      : new BigNumber(bitcoinFees[speedType]).div(1024).dp(0, BigNumber.ROUND_HALF_EVEN)\r\n\r\n    // @ts-ignore: strictNullChecks\r\n    const fee = feeInByte.multipliedBy(txSize).multipliedBy(1e-8)\r\n\r\n    if (this.mounted) {\r\n      this.setState((state) => ({\r\n        bitcoinFeeSpeedType: speedType,\r\n        btcFeeRate: feeInByte.toNumber(),\r\n        fees: {\r\n          ...state.fees,\r\n          miner: fee,\r\n          total: state.fees.service.plus(fee).dp(currentDecimals, BigNumber.ROUND_CEIL),\r\n        },\r\n      }))\r\n      this.setAllowedBalances()\r\n    }\r\n  }\r\n\r\n  setCommissions = async () => {\r\n    const {\r\n      data: { currency },\r\n    } = this.props\r\n    const {\r\n      selectedItem,\r\n      usedAdminFee,\r\n      amount,\r\n      currentDecimals,\r\n    } = this.state\r\n\r\n    const currentCoin = getCurrencyKey(currency, true).toLowerCase()\r\n    const adminFeeSize = usedAdminFee ? adminFee.calc(selectedItem.tokenKey || currency, amount) : 0\r\n    let newMinerFee = new BigNumber(0)\r\n\r\n    this.setState({ fetchFee: true })\r\n\r\n    try {\r\n      if (selectedItem.isToken) {\r\n        const tokenBaseCurrency = selectedItem.baseCurrency\r\n        const tokenStandard = selectedItem.standard\r\n        // if decimals < 7 then equal 0.0...1\r\n        // if decimals >= 7 then equal 1e-<decimals>\r\n        MIN_AMOUNT[tokenBaseCurrency] = 10 ** -currentDecimals\r\n        MIN_AMOUNT.eth = await ethLikeHelper[tokenBaseCurrency].estimateFeeValue({\r\n          method: 'send',\r\n        })\r\n\r\n        newMinerFee = new BigNumber(await erc20Like[tokenStandard].estimateFeeValue({\r\n          method: 'send',\r\n        }))\r\n      }\r\n\r\n      else if (COINS_WITH_DYNAMIC_FEE.includes(currentCoin)) {\r\n        let method = 'send'\r\n        if (selectedItem.isUserProtected) method = 'send_multisig'\r\n        if (selectedItem.isPinProtected) method = 'send_2fa'\r\n\r\n        newMinerFee = new BigNumber(await helpers[currentCoin].estimateFeeValue({\r\n          method,\r\n          speed: 'fast',\r\n          address: selectedItem.address,\r\n          amount,\r\n        }))\r\n\r\n        MIN_AMOUNT[currentCoin] = newMinerFee.toNumber()\r\n\r\n        if (selectedItem.isBTC) {\r\n          this.fetchBtcFee()\r\n        }\r\n      }\r\n\r\n      if (this.mounted) {\r\n        this.setState((state) => ({\r\n          fees: {\r\n            ...state.fees,\r\n            miner: newMinerFee,\r\n            service: new BigNumber(adminFeeSize).dp(currentDecimals, BigNumber.ROUND_CEIL),\r\n            total: newMinerFee.plus(adminFeeSize).dp(currentDecimals, BigNumber.ROUND_CEIL),\r\n            adminFeeSize: new BigNumber(adminFeeSize),\r\n          },\r\n        }))\r\n        this.setAllowedBalances()\r\n      }\r\n    } catch (error) {\r\n      this.reportError(error)\r\n    } finally {\r\n      this.setState({ fetchFee: false })\r\n    }\r\n  }\r\n\r\n  handleSubmit = async () => {\r\n    feedback.withdraw.started()\r\n\r\n    const {\r\n      address: to,\r\n      amount,\r\n      ownTx,\r\n      fees,\r\n      selectedItem,\r\n      reduxActionName,\r\n      comment = '',\r\n    } = this.state\r\n\r\n    const {\r\n      data: { currency, address, invoice, onReady },\r\n      name,\r\n    } = this.props\r\n\r\n    this.setState(() => ({\r\n      isShipped: true,\r\n    }))\r\n\r\n    const sendOptions = {\r\n      from: address,\r\n      to,\r\n      amount,\r\n      speed: 'fast',\r\n      name: selectedItem.isToken ? currency.toLowerCase() : '',\r\n      feeValue: selectedItem.isBTC && fees.miner,\r\n    }\r\n\r\n    if (invoice && ownTx) {\r\n      await actions.invoices.markInvoice(invoice.id, 'ready', ownTx, address)\r\n\r\n      actions.notifications.show(constants.notifications.SuccessWithdraw, {\r\n        amount,\r\n        currency,\r\n        address: to,\r\n      })\r\n      this.setState(() => ({ isShipped: false }))\r\n      actions.modals.close(name)\r\n      if (onReady instanceof Function) {\r\n        onReady()\r\n      }\r\n      return\r\n    }\r\n\r\n    if (selectedItem.isPinProtected || selectedItem.isUserProtected) {\r\n      let nextStepModal = constants.modals.WithdrawBtcPin\r\n\r\n      if (selectedItem.isUserProtected) nextStepModal = constants.modals.WithdrawBtcMultisig\r\n\r\n      actions.modals.close(name)\r\n\r\n      actions.modals.open(nextStepModal, {\r\n        wallet: selectedItem,\r\n        invoice,\r\n        sendOptions,\r\n        onReady,\r\n        adminFee: fees.adminFeeSize,\r\n      })\r\n      return\r\n    }\r\n\r\n    await actions[reduxActionName]\r\n      .send(sendOptions)\r\n      .then(async (txRaw) => {\r\n        actions[reduxActionName].getBalance(currency)\r\n\r\n        if (invoice) {\r\n          await actions.invoices.markInvoice(invoice.id, 'ready', txRaw, address)\r\n        }\r\n\r\n        if (this.mounted) {\r\n          this.setState(() => ({\r\n            isShipped: false,\r\n          }))\r\n        }\r\n\r\n        if (onReady instanceof Function) {\r\n          onReady()\r\n        }\r\n\r\n        // Redirect to tx\r\n        const txInfo = helpers.transactions.getInfo(\r\n          (selectedItem.tokenKey)\r\n            ? selectedItem.tokenKey\r\n            : selectedItem.currency,\r\n          txRaw,\r\n        )\r\n        const { tx: txId } = txInfo\r\n\r\n        //    \r\n        const txInfoCache = {\r\n          amount,\r\n          senderAddress: address,\r\n          receiverAddress: to,\r\n          confirmed: false,\r\n          adminFee: fees.adminFeeSize,\r\n        }\r\n\r\n        lsDataCache.push({\r\n          key: `TxInfo_${currency.toLowerCase()}_${txId}`,\r\n          time: 3600,\r\n          data: txInfoCache,\r\n        })\r\n        feedback.withdraw.finished()\r\n\r\n        if (comment) {\r\n          actions.comments.setComment({\r\n            key: txId,\r\n            comment,\r\n          })\r\n        }\r\n\r\n        const { tokenKey, currency: selectedCurrency } = selectedItem\r\n        const txInfoUrl = helpers.transactions.getTxRouter(tokenKey || selectedCurrency, txId)\r\n\r\n        routing.redirectTo(txInfoUrl)\r\n      })\r\n      .then(() => {\r\n        actions.modals.close(name)\r\n      })\r\n      .catch((error) => {\r\n        const { selectedItem } = this.state\r\n        const errorText = error.res ? error.res.text : ''\r\n        const customError = {\r\n          name: {\r\n            id: 'Withdraw218',\r\n            defaultMessage: 'Withdrawal error',\r\n          },\r\n          message: {\r\n            id: 'ErrorNotification12',\r\n            defaultMessage: 'Oops, looks like something went wrong!',\r\n          },\r\n        }\r\n\r\n        if (/insufficient priority|bad-txns-inputs-duplicate/.test(errorText)) {\r\n          customError.message = {\r\n            id: 'Withdraw232',\r\n            defaultMessage: 'There is not enough confirmation of the last transaction. Try later.',\r\n          }\r\n        }\r\n\r\n        this.reportError(error, `selected item: ${selectedItem.fullName} | custom message: ${customError.message.defaultMessage}`)\r\n\r\n        if (this.mounted) {\r\n          this.setState(() => ({\r\n            isShipped: false,\r\n          }))\r\n        }\r\n      })\r\n  }\r\n\r\n  addressIsCorrect() {\r\n    const {\r\n      data: { currency },\r\n    } = this.props\r\n    const { address, selectedItem } = this.state\r\n\r\n    if (!address) return false\r\n\r\n    if (getCurrencyKey(currency, false).toLowerCase() === `btc`) {\r\n      if (!typeforce.isCoinAddress.BTC(address)) {\r\n        return actions.btc.addressIsCorrect(address)\r\n      }\r\n      return true\r\n    }\r\n\r\n    if (selectedItem.isToken) {\r\n      const baseCurrency = selectedItem.baseCurrency.toUpperCase()\r\n      return typeforce.isCoinAddress[baseCurrency](address)\r\n    }\r\n\r\n    const currencyKey = getCurrencyKey(currency, true).toUpperCase()\r\n\r\n    return typeforce.isCoinAddress[currencyKey](address)\r\n  }\r\n\r\n  openScan = () => {\r\n    this.setState((state) => ({\r\n      openScanCam: !state.openScanCam,\r\n    }))\r\n  }\r\n\r\n  handleScan = (data) => {\r\n    if (data) {\r\n      const address = (data.indexOf(':') !== -1) ? data.split(':')[1].split('?')[0] : data\r\n      const amount = (data.indexOf('=') !== -1) ? data.split('=')[1] : false\r\n\r\n      this.setState(() => ({ address }))\r\n      if (amount !== false) this.setState(() => ({ amount }))\r\n      this.openScan()\r\n    }\r\n  }\r\n\r\n  handleAmount = (value): any => {\r\n    const {\r\n      selectedCurrency,\r\n      currentDecimals,\r\n      exCurrencyRate,\r\n      selectedValue,\r\n      selectedItem: {\r\n        isBTC,\r\n      },\r\n    } = this.state\r\n\r\n    if (isBTC) {\r\n      if (this.btcFeeTimer) {\r\n        clearTimeout(this.btcFeeTimer)\r\n      }\r\n\r\n      this.btcFeeTimer = setTimeout(() => {\r\n        this.fetchBtcFee()\r\n      }, 2000)\r\n    }\r\n\r\n    const hasExCurrencyRate = exCurrencyRate.isGreaterThan(0)\r\n\r\n    if (selectedValue === selectedCurrency.currency) {\r\n      this.setState({\r\n        fiatAmount: value && hasExCurrencyRate\r\n          ? exCurrencyRate.times(value).dp(2, BigNumber.ROUND_CEIL).toString()\r\n          : '',\r\n        amount: value,\r\n      })\r\n    } else {\r\n      this.setState({\r\n        fiatAmount: value,\r\n        amount: value && hasExCurrencyRate\r\n          ? new BigNumber(value).div(exCurrencyRate).dp(currentDecimals).toString()\r\n          : '',\r\n      })\r\n    }\r\n  }\r\n\r\n  handleClose = () => {\r\n    const {\r\n      history,\r\n      intl: { locale },\r\n    } = this.props\r\n    const { name } = this.props\r\n\r\n    history.push(localisedUrl(locale, links.home))\r\n    actions.modals.close(name)\r\n  }\r\n\r\n  handleBuyCurrencySelect = (value) => {\r\n    this.setState({\r\n      selectedValue: value,\r\n    })\r\n  }\r\n\r\n  setAllowedBalances = () => {\r\n    const {\r\n      selectedItem,\r\n      usedAdminFee,\r\n      currentDecimals,\r\n      exCurrencyRate,\r\n      balances,\r\n      fees,\r\n    } = this.state\r\n\r\n    const ONE_HUNDRED_PERCENT = 100\r\n    const minerFee = selectedItem.isToken ? new BigNumber(0) : fees.miner\r\n    const maxService = usedAdminFee\r\n      ? new BigNumber(usedAdminFee.fee).dividedBy(ONE_HUNDRED_PERCENT).multipliedBy(balances.balance)\r\n      : new BigNumber(0)\r\n    const maxAmount = new BigNumber(balances.balance.minus(minerFee).minus(maxService).dp(currentDecimals, BigNumber.ROUND_CEIL))\r\n    const maxFiatAmount = maxAmount.multipliedBy(exCurrencyRate).dp(2, BigNumber.ROUND_CEIL)\r\n\r\n    if (maxAmount.isGreaterThan(balances.balance) || maxAmount.isLessThanOrEqualTo(0)) {\r\n      this.setState((state) => ({\r\n        balances: {\r\n          ...state.balances,\r\n          allowedCurrency: new BigNumber(0),\r\n          allowedFiat: new BigNumber(0),\r\n        },\r\n      }))\r\n    } else {\r\n      this.setState((state) => ({\r\n        balances: {\r\n          ...state.balances,\r\n          allowedCurrency: maxAmount,\r\n          allowedFiat: maxFiatAmount,\r\n        },\r\n      }))\r\n    }\r\n  }\r\n\r\n  setMaxBalance = () => {\r\n    const { balances } = this.state\r\n\r\n    this.setState({\r\n      amount: balances.allowedCurrency.toString(),\r\n      fiatAmount: balances.allowedFiat.toString(),\r\n    })\r\n  }\r\n\r\n  updateServiceAndTotalFee = () => {\r\n    const { usedAdminFee, amount, fees, currentDecimals } = this.state\r\n    const ONE_HUNDRED_PERCENT = 100\r\n\r\n    let newServiceFeeSize = usedAdminFee\r\n      ? new BigNumber(usedAdminFee.fee).dividedBy(ONE_HUNDRED_PERCENT).multipliedBy(amount)\r\n      : new BigNumber(0)\r\n\r\n    newServiceFeeSize = new BigNumber(amount).isGreaterThan(0)\r\n      && newServiceFeeSize.isGreaterThan(fees.adminFeeSize)\r\n      ? newServiceFeeSize\r\n      : fees.adminFeeSize\r\n\r\n    this.setState((state) => ({\r\n      fees: {\r\n        ...state.fees,\r\n        service: newServiceFeeSize.dp(currentDecimals, BigNumber.ROUND_CEIL),\r\n        total: fees.miner.plus(newServiceFeeSize).dp(currentDecimals, BigNumber.ROUND_CEIL),\r\n      },\r\n    }))\r\n  }\r\n\r\n  returnHaveInfoPrice = (params) => {\r\n    const { selectedCurrency } = this.state\r\n    const { arrOfCurrencies } = params\r\n    const activeCryptoCurrency = getCurrencyKey(selectedCurrency.currency, true).toUpperCase()\r\n    let result = true\r\n\r\n    arrOfCurrencies.forEach(item => {\r\n      if (item.currency === activeCryptoCurrency) {\r\n        result = item.infoAboutCurrency && item.infoAboutCurrency.price_fiat\r\n      }\r\n    })\r\n\r\n    return result\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      ownTx,\r\n      amount,\r\n      address,\r\n      balances,\r\n      walletForTokenFee,\r\n      isShipped,\r\n      fiatAmount,\r\n      commissionCurrency,\r\n      openScanCam,\r\n      exCurrencyRate,\r\n      currentDecimals,\r\n      selectedCurrency,\r\n      selectedValue,\r\n      usedAdminFee,\r\n      fees,\r\n      fetchFee,\r\n      txSize,\r\n      bitcoinFeeSpeedType,\r\n      bitcoinFees,\r\n      btcFeeRate,\r\n      selectedItem,\r\n      selectedItem: {\r\n        isBTC: isBTCWallet,\r\n      },\r\n    } = this.state\r\n\r\n    const { name, intl, activeFiat, dashboardView } = this.props\r\n    const linked = Link.all(this, 'address', 'amount', 'ownTx', 'fiatAmount', 'comment')\r\n\r\n    const {\r\n      currency,\r\n      address: currentAddress,\r\n      balance: currentBalance,\r\n      invoice,\r\n    } = selectedCurrency\r\n\r\n    const tableRows = user.filterUserCurrencyData(actions.core.getWallets())\r\n    const activeCryptoCurrency = getCurrencyKey(selectedCurrency.currency, true).toUpperCase()\r\n    const selectedValueView = getCurrencyKey(selectedValue, true).toUpperCase()\r\n    const cryptoCurrencyHaveInfoPrice = this.returnHaveInfoPrice({\r\n      arrOfCurrencies: tableRows,\r\n    })\r\n    const notEnoughForTokenMinerFee = new BigNumber(walletForTokenFee?.balance).isLessThan(fees.miner)\r\n    const exchangeRateForTokens = new BigNumber(walletForTokenFee?.infoAboutCurrency?.price_fiat || 0)\r\n\r\n    const notEnoughForPayment = selectedItem.isToken\r\n      ? new BigNumber(amount).isGreaterThan(balances.balance)\r\n      : new BigNumber(amount).plus(fees.total).isGreaterThan(balances.balance)\r\n\r\n    const isDisabled = (\r\n      !+amount\r\n      || isShipped\r\n      || !!ownTx\r\n      || !this.addressIsCorrect()\r\n      || selectedItem.isToken && notEnoughForTokenMinerFee\r\n      || notEnoughForPayment\r\n      // -  .    ts\r\n      // @ts-ignore\r\n      || new BigNumber(amount).dp() > currentDecimals\r\n    )\r\n\r\n    const labels = defineMessages({\r\n      withdrawModal: {\r\n        id: 'withdrowTitle271',\r\n        defaultMessage: `Send`,\r\n      },\r\n      balanceFiatMobile: {\r\n        id: 'Withdraw_FiatBalanceMobile',\r\n        defaultMessage: '~{amount} {currency}',\r\n      },\r\n      balanceFiatDesktop: {\r\n        id: 'Withdraw_FiatBalanceDesktop',\r\n        defaultMessage: ' ~{amount} {currency}',\r\n      },\r\n      balanceMobile: {\r\n        id: 'Withdraw_BalanceMobile',\r\n        defaultMessage: '{amount} {currency}',\r\n      },\r\n      balanceDesktop: {\r\n        id: 'Withdraw_BalanceDesktop',\r\n        defaultMessage: '{amount} {currency} will be send',\r\n      },\r\n      ownTxPlaceholder: {\r\n        id: 'withdrawOwnTxPlaceholder',\r\n        defaultMessage: 'If paid from another source',\r\n      },\r\n    })\r\n\r\n    const balanceLabelProp = (\r\n      selectedValue !== activeFiat\r\n        ? isMobile\r\n          ? `balanceFiatMobile`\r\n          : `balanceFiatDesktop`\r\n        : isMobile\r\n          ? `balanceMobile`\r\n          : `balanceDesktop`\r\n    )\r\n\r\n    const balanceLabel = labels[balanceLabelProp]\r\n\r\n    const formRender = (\r\n      <>\r\n        {openScanCam && (\r\n          <QrReader\r\n            openScan={this.openScan}\r\n            handleError={this.reportError}\r\n            handleScan={this.handleScan}\r\n          />\r\n        )}\r\n        {invoice && <InvoiceInfoBlock invoiceData={invoice} />}\r\n        {!dashboardView && (\r\n          <p styleName={selectedItem.isToken ? 'rednotes' : 'notice'}>\r\n            <FormattedMessage\r\n              id=\"Withdrow213\"\r\n              defaultMessage=\"Please note: Fee is {minAmount} {data}.{br}Your balance must exceed this sum to perform transaction\"\r\n              values={{\r\n                minAmount: <span>{selectedItem.isToken ? MIN_AMOUNT.eth : fees.total.toNumber()}</span>,\r\n                br: <br />,\r\n                data: `${commissionCurrency}`,\r\n              }}\r\n            />\r\n          </p>\r\n        )}\r\n\r\n        <div style={{ marginBottom: '40px' }}>\r\n          <div styleName=\"customSelectContainer\">\r\n            <FieldLabel>\r\n              <FormattedMessage id=\"Withdrow559\" defaultMessage=\"Send from wallet \" />\r\n            </FieldLabel>\r\n            <CurrencyList\r\n              {...this.props}\r\n              selectedCurrency={selectedCurrency}\r\n              currentBalance={currentBalance}\r\n              currency={currency}\r\n              activeFiat={activeFiat}\r\n              tableRows={tableRows}\r\n              currentAddress={currentAddress}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div styleName=\"highLevel\">\r\n          <FieldLabel>\r\n            <FormattedMessage id=\"Withdrow1194\" defaultMessage=\"Address \" />\r\n            {' '}\r\n            <Tooltip id=\"WtH203\">\r\n              <div style={{ textAlign: 'center' }}>\r\n                <FormattedMessage\r\n                  id=\"WTH275\"\r\n                  defaultMessage=\"Make sure the wallet you{br}are sending the funds to supports {currency}\"\r\n                  values={{\r\n                    br: <br />,\r\n                    currency: `${currency.toUpperCase()}`,\r\n                  }}\r\n                />\r\n              </div>\r\n            </Tooltip>\r\n          </FieldLabel>\r\n          <Input\r\n            id=\"toAddressInput\"\r\n            valueLink={linked.address}\r\n            focusOnInit\r\n            pattern=\"0-9a-zA-Z:\"\r\n            placeholder={`Enter ${currency.toUpperCase()} address to transfer`}\r\n            qr={isMobile}\r\n            openScan={this.openScan}\r\n          />\r\n          {/* show invalid value warning in address input */}\r\n          {address && !this.addressIsCorrect() && (\r\n            <div styleName=\"rednote bottom0\">\r\n              <FormattedMessage\r\n                id=\"WithdrawIncorectAddress\"\r\n                defaultMessage=\"Your address not correct\"\r\n              />\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div styleName=\"lowLevel\" style={{ marginBottom: '30px' }}>\r\n          {/* why style ? see tip for max button */}\r\n          <div style={usedAdminFee ? { right: '20px' } : undefined} styleName=\"additionalurrencies\">\r\n            {cryptoCurrencyHaveInfoPrice && (\r\n              <>\r\n                <span\r\n                  styleName={cx('additionalurrenciesItem', {\r\n                    additionalurrenciesItemActive: selectedValue.toUpperCase() === activeFiat,\r\n                  })}\r\n                  onClick={() => this.handleBuyCurrencySelect(activeFiat)}\r\n                >\r\n                  {activeFiat}\r\n                </span>\r\n                <span styleName=\"delimiter\" />\r\n              </>\r\n            )}\r\n            <span\r\n              styleName={cx('additionalurrenciesItem', {\r\n                additionalurrenciesItemActive:\r\n                  selectedValueView === activeCryptoCurrency,\r\n              })}\r\n              onClick={() => this.handleBuyCurrencySelect(selectedCurrency.currency)}\r\n            >\r\n              {activeCryptoCurrency}\r\n            </span>\r\n          </div>\r\n          {/* why style ? see tip for max button */}\r\n          <p style={usedAdminFee ? { right: '10px' } : undefined} styleName=\"balance\">\r\n            {new BigNumber(amount).isGreaterThan(0) && cryptoCurrencyHaveInfoPrice && (\r\n              intl.formatMessage({\r\n                id: balanceLabel.id,\r\n                defaultMessage: balanceLabel.defaultMessage,\r\n              }, {\r\n                amount: selectedValue !== activeFiat\r\n                  ? new BigNumber(fiatAmount).dp(2, BigNumber.ROUND_CEIL).toNumber()\r\n                  : new BigNumber(amount).dp(6, BigNumber.ROUND_CEIL).toNumber(),\r\n                currency: selectedValue !== activeFiat ? activeFiat : activeCryptoCurrency.toUpperCase(),\r\n              })\r\n            )}\r\n          </p>\r\n\r\n          <FieldLabel>\r\n            <FormattedMessage id=\"orders102\" defaultMessage=\"Amount\" />\r\n          </FieldLabel>\r\n          <div styleName=\"group\">\r\n            <Input\r\n              id=\"amountInput\"\r\n              pattern=\"0-9\\.\"\r\n              onKeyDown={inputReplaceCommaWithDot}\r\n              valueLink={selectedValue === selectedCurrency.currency\r\n                ? linked.amount.pipe(this.handleAmount)\r\n                : linked.fiatAmount.pipe(this.handleAmount)}\r\n            />\r\n            {/*\r\n            with service commission we can't send all balance (there is a remainder)\r\n            so we disable this button\r\n            */}\r\n            {!usedAdminFee\r\n              && (\r\n                <>\r\n                  <div style={{ marginLeft: '15px' }}>\r\n                    <Button disabled={fetchFee} blue big onClick={this.setMaxBalance} id=\"Withdrow134\">\r\n                      <FormattedMessage id=\"Select210\" defaultMessage=\"MAX\" />\r\n                    </Button>\r\n                  </div>\r\n                  {!isMobile && (\r\n                    <Tooltip id=\"Withdrow134\" place=\"top\" mark={false}>\r\n                      <FormattedMessage\r\n                        id=\"WithdrawButton32\"\r\n                        defaultMessage=\"When you click this button, in the field, an amount{br}equal to your balance minus the miners commission will appear\"\r\n                        values={{\r\n                          br: <br />,\r\n                        }}\r\n                      />\r\n                    </Tooltip>\r\n                  )}\r\n                </>\r\n              )}\r\n          </div>\r\n          {/* hint for amount value */}\r\n          {dashboardView && (\r\n            <div styleName={`prompt ${fetchFee ? 'hide' : ''}`}>\r\n              {selectedItem.isToken && notEnoughForTokenMinerFee\r\n                ? (\r\n                  <FormattedMessage\r\n                    id=\"WithdrowTokenCurrencyBalance\"\r\n                    defaultMessage=\"Not enough {tokenCurrency} balance for miner fee\"\r\n                    values={{\r\n                      tokenCurrency: walletForTokenFee?.currency,\r\n                    }}\r\n                  />\r\n                )\r\n                : balances.allowedCurrency.isEqualTo(0)\r\n                  ? (\r\n                    <FormattedMessage\r\n                      id=\"WithdrowBalanceNotEnoughtPrompt\"\r\n                      defaultMessage=\"Not enough balance to send\"\r\n                    />\r\n                  ) : (\r\n                    <FormattedMessage\r\n                      id=\"Withdrow170\"\r\n                      defaultMessage=\"Maximum amount you can send is {allowedBalance} {currency}\"\r\n                      values={{\r\n                        allowedBalance: selectedValue === selectedCurrency.currency\r\n                          ? balances.allowedCurrency.toNumber()\r\n                          : balances.allowedFiat.toNumber(),\r\n                        currency: selectedValue === selectedCurrency.currency\r\n                          ? activeCryptoCurrency\r\n                          : activeFiat,\r\n                      }}\r\n                    />\r\n                  )}\r\n              {' '}\r\n              <Tooltip id=\"WtH204\">\r\n                <div style={{ maxWidth: '24em', textAlign: 'center' }}>\r\n                  <FormattedMessage\r\n                    id=\"WTH276\"\r\n                    defaultMessage=\"The amount should not exceed your{br} current balance minus mining fee\"\r\n                    values={{\r\n                      br: <br />,\r\n                    }}\r\n                  />\r\n                </div>\r\n              </Tooltip>\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div styleName=\"commentFormWrapper\">\r\n          <FieldLabel>\r\n            <FormattedMessage id=\"Comment\" defaultMessage=\"Comment\" />\r\n          </FieldLabel>\r\n          <div styleName=\"group\">\r\n            <Input\r\n              valueLink={linked.comment}\r\n              placeholder={\r\n                intl.formatMessage({\r\n                  id: 'Comment',\r\n                  defaultMessage: 'Comment',\r\n                })\r\n              }\r\n            />\r\n          </div>\r\n        </div>\r\n        <div styleName=\"sendBtnsWrapper\">\r\n          <div styleName=\"actionBtn\">\r\n            <Button big fill brand onClick={this.handleClose}>\r\n              <FormattedMessage id=\"WithdrawModalCancelBtn\" defaultMessage=\"Cancel\" />\r\n            </Button>\r\n          </div>\r\n          <div styleName=\"actionBtn\">\r\n            <Button\r\n              id=\"sendButton\"\r\n              brand\r\n              big\r\n              fill\r\n              pending={isShipped}\r\n              disabled={isDisabled}\r\n              onClick={this.handleSubmit}\r\n            >\r\n              <>\r\n                <FormattedMessage id=\"withdrowTitle271\" defaultMessage=\"Send\" />\r\n                {' '}\r\n                {`${currency.toUpperCase()}`}\r\n              </>\r\n            </Button>\r\n          </div>\r\n        </div>\r\n        {usedAdminFee && selectedItem.isToken && (\r\n          <AdminFeeInfoBlock {...usedAdminFee} currency={currency} />\r\n        )}\r\n        {invoice && (\r\n          <>\r\n            <hr />\r\n            <div styleName=\"lowLevel\" style={{ marginBottom: '50px' }}>\r\n              <div styleName=\"groupField\">\r\n                <div styleName=\"downLabel\">\r\n                  <FieldLabel inRow>\r\n                    <span styleName=\"mobileFont\">\r\n                      <FormattedMessage id=\"WithdrowOwnTX\" defaultMessage=\"  TX\" />\r\n                    </span>\r\n                  </FieldLabel>\r\n                </div>\r\n              </div>\r\n              <div styleName=\"group\">\r\n                <Input\r\n                  styleName=\"input\"\r\n                  valueLink={linked.ownTx}\r\n                  placeholder={`${intl.formatMessage(labels.ownTxPlaceholder)}`}\r\n                />\r\n              </div>\r\n            </div>\r\n            <Button\r\n              styleName=\"buttonFull\"\r\n              blue\r\n              big\r\n              fullWidth\r\n              disabled={!ownTx || isShipped}\r\n              onClick={this.handleSubmit}\r\n            >\r\n              {isShipped ? (\r\n                <FormattedMessage id=\"WithdrawModal11212\" defaultMessage=\"Processing...\" />\r\n              ) : (\r\n                <FormattedMessage\r\n                  id=\"WithdrawModalInvoiceSaveTx\"\r\n                  defaultMessage=\"  \"\r\n                />\r\n              )}\r\n            </Button>\r\n          </>\r\n        )}\r\n        {dashboardView && (\r\n          <div style={{ paddingTop: '2em' }}>\r\n            <FeeInfoBlock\r\n              selectedItem={selectedItem}\r\n              currency={currency}\r\n              activeFiat={activeFiat}\r\n              dataCurrency={commissionCurrency}\r\n              exchangeRateForTokens={exchangeRateForTokens}\r\n              exCurrencyRate={exCurrencyRate}\r\n              feeCurrentCurrency={btcFeeRate}\r\n              isLoading={fetchFee}\r\n              usedAdminFee={usedAdminFee}\r\n              hasTxSize={isBTCWallet}\r\n              txSize={txSize}\r\n              bitcoinFees={bitcoinFees}\r\n              bitcoinFeeSpeedType={bitcoinFeeSpeedType}\r\n              setBitcoinFee={this.setBtcUserFee}\r\n              minerFee={fees.miner}\r\n              serviceFee={fees.service}\r\n            />\r\n          </div>\r\n        )}\r\n      </>\r\n    )\r\n\r\n    return (\r\n      <Modal\r\n        name={name}\r\n        onClose={this.handleClose}\r\n        title={`${intl.formatMessage(labels.withdrawModal)}${' '}${currency.toUpperCase()}`}\r\n      >\r\n        {formRender}\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(WithdrawModal)\r\n","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport helpers, { constants } from 'helpers'\r\nimport actions from 'redux/actions'\r\nimport Link from 'local_modules/sw-valuelink'\r\nimport { connect } from 'redaction'\r\nimport config from 'app-config'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from '../WithdrawModal/WithdrawModal.scss'\r\nimport ownStyle from './WithdrawModalMultisigUser.scss'\r\n\r\nimport { BigNumber } from 'bignumber.js'\r\nimport Modal from 'components/modal/Modal/Modal'\r\nimport FieldLabel from 'components/forms/FieldLabel/FieldLabel'\r\nimport Input from 'components/forms/Input/Input'\r\nimport Button from 'components/controls/Button/Button'\r\nimport { ShareLink } from 'components/controls'\r\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\r\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\r\nimport ReactTooltip from 'react-tooltip'\r\nimport { isMobile } from 'react-device-detect'\r\nimport InvoiceInfoBlock from 'components/InvoiceInfoBlock/InvoiceInfoBlock'\r\n\r\nimport typeforce from 'swap.app/util/typeforce'\r\nimport MIN_AMOUNT from 'common/helpers/constants/MIN_AMOUNT'\r\nimport { inputReplaceCommaWithDot } from 'helpers/domUtils'\r\nimport links from 'helpers/links'\r\nimport QrReader from 'components/QrReader'\r\nimport { getFullOrigin } from 'helpers/links'\r\n\r\n@connect(\r\n  ({\r\n    user: {\r\n      activeFiat,\r\n      btcMultisigUserData,\r\n      btcMultisigUserData: { wallets },\r\n    },\r\n    ui: { dashboardModalsAllowed },\r\n  }) => ({\r\n    activeFiat,\r\n    items: [btcMultisigUserData, ...wallets],\r\n    dashboardView: dashboardModalsAllowed,\r\n  })\r\n)\r\n@cssModules({ ...styles, ...ownStyle }, { allowMultiple: true })\r\nclass WithdrawModalMultisigUser extends React.Component<any, any> {\r\n  static propTypes = {\r\n    name: PropTypes.string,\r\n    data: PropTypes.object,\r\n  }\r\n\r\n  broadcastCancelFunc: any\r\n  fiatRates: any\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const {\r\n      data: { currency, amount, toAddress, address },\r\n      items,\r\n    } = props\r\n\r\n    //@ts-ignore\r\n    const currentDecimals = constants.tokenDecimals.btcmultisig\r\n\r\n    const selectedItem = items.filter((item) => item.address === address)[0]\r\n\r\n    this.broadcastCancelFunc = false\r\n\r\n    let usedAdminFee: any = false\r\n\r\n    let min = MIN_AMOUNT['btc_multisig_2n2']\r\n\r\n    if (config && config.opts && config.opts.fee && config.opts.fee.btc) {\r\n      usedAdminFee = config.opts.fee.btc\r\n      if (usedAdminFee) {\r\n        // miner fee + minimal admin fee\r\n        min = new BigNumber(min).plus(usedAdminFee.min).toNumber()\r\n      }\r\n    }\r\n\r\n    this.state = {\r\n      usedAdminFee,\r\n      step: 'fillform',\r\n      isShipped: false,\r\n      address: toAddress ? toAddress : '',\r\n      amount: amount ? amount : '',\r\n      code: '',\r\n      minus: '',\r\n      balance: selectedItem.balance || 0,\r\n      ethBalance: null,\r\n      currentDecimals,\r\n      getFiat: 0,\r\n      error: false,\r\n      smsConfirmed: false,\r\n      txRaw: '',\r\n      isLinkCopied: false,\r\n      ownTx: '',\r\n      min,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { exCurrencyRate } = this.state\r\n    const {\r\n      data: { currency },\r\n    } = this.props\r\n\r\n    this.setBalanceOnState(currency)\r\n\r\n    this.fiatRates = {}\r\n    this.getFiatBalance()\r\n    this.actualyMinAmount()\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.broadcastCancelFunc) this.broadcastCancelFunc()\r\n  }\r\n\r\n  actualyMinAmount = async () => {\r\n    const { usedAdminFee } = this.state\r\n\r\n    let min: any = await helpers['btc'].estimateFeeValue({ method: 'send_multisig', speed: 'fast' })\r\n    MIN_AMOUNT['btc_multisig_2n2'] = min\r\n\r\n    if (usedAdminFee) {\r\n      min = new BigNumber(min).plus(usedAdminFee.min).toNumber()\r\n    }\r\n\r\n    this.setState({\r\n      min,\r\n    })\r\n  }\r\n\r\n  setBalanceOnState = async (currency) => {\r\n    const {\r\n      data: { address },\r\n    } = this.props\r\n\r\n    const {\r\n      //@ts-ignore\r\n      unconfirmedBalance,\r\n      //@ts-ignore\r\n      balance,\r\n    } = await actions.btcmultisig.getAddrBalance(address)\r\n\r\n    const finalBalance =\r\n      unconfirmedBalance !== undefined && unconfirmedBalance < 0\r\n        ? new BigNumber(balance).plus(unconfirmedBalance).toString()\r\n        : balance\r\n\r\n    this.setState(() => ({\r\n      balance: finalBalance,\r\n    }))\r\n  }\r\n\r\n  getFiatBalance = async () => {\r\n    const {\r\n      data: { currency },\r\n      activeFiat,\r\n    } = this.props\r\n\r\n    const exCurrencyRate = await actions.user.getExchangeRate(currency, activeFiat.toLowerCase())\r\n\r\n    this.fiatRates[currency] = exCurrencyRate\r\n\r\n    this.setState(() => ({\r\n      exCurrencyRate,\r\n    }))\r\n  }\r\n\r\n  handleSubmit = async () => {\r\n    const { address: to, amount, ownTx } = this.state\r\n    const {\r\n      data: { currency, address, balance, invoice, onReady },\r\n      name,\r\n    } = this.props\r\n\r\n    this.setState(() => ({ isShipped: true }))\r\n\r\n    this.setBalanceOnState(currency)\r\n\r\n    let sendOptions = {\r\n      to,\r\n      amount,\r\n      speed: 'fast',\r\n    }\r\n\r\n    if (invoice && ownTx) {\r\n      await actions.invoices.markInvoice(invoice.id, 'ready', ownTx, address)\r\n      actions.loader.hide()\r\n      actions.notifications.show(constants.notifications.SuccessWithdraw, {\r\n        amount,\r\n        currency,\r\n        address: to,\r\n      })\r\n      this.setState(() => ({ isShipped: false, error: false }))\r\n      actions.modals.close(name)\r\n      if (onReady instanceof Function) {\r\n        onReady()\r\n      }\r\n      return\r\n    }\r\n\r\n    sendOptions = {\r\n      ...sendOptions,\r\n      //@ts-ignore\r\n      from: address,\r\n    }\r\n\r\n    //@ts-ignore\r\n    const result = await actions.btcmultisig.send(sendOptions)\r\n\r\n    let txId = false\r\n\r\n    if (result) {\r\n      //@ts-ignore\r\n      txId = await actions.multisigTx.broadcast({\r\n        sender: address,\r\n        destination: to,\r\n        amount,\r\n        fee: 0.0001, // actions.helpers.lastBtcFee\r\n        rawTx: result,\r\n      })\r\n    }\r\n\r\n    this.broadcastCancelFunc = actions.btcmultisig.broadcastTX2Room(\r\n      {\r\n        txRaw: result,\r\n        txId,\r\n        address: to,\r\n        amount,\r\n        currency: 'BTC',\r\n        invoice,\r\n      },\r\n      () => {\r\n        this.setState({\r\n          step: 'rawlink',\r\n          txRaw: result,\r\n          txId,\r\n          isShipped: false,\r\n        })\r\n      },\r\n      () => {\r\n        this.setState({\r\n          step: 'rawlink',\r\n          txRaw: result,\r\n          txId,\r\n          isShipped: false,\r\n        })\r\n      }\r\n    )\r\n  }\r\n\r\n  sellAllBalance = async () => {\r\n    const { amount, balance, currency, min, usedAdminFee } = this.state\r\n\r\n    const { data } = this.props\r\n\r\n    let minFee = min\r\n\r\n    if (usedAdminFee) {\r\n      let feeFromAmount = new BigNumber(usedAdminFee.fee).dividedBy(100).multipliedBy(balance)\r\n      minFee = new BigNumber(minFee).plus(feeFromAmount).toNumber()\r\n    }\r\n\r\n    const balanceMiner = balance\r\n      ? balance !== 0\r\n        ? new BigNumber(balance).minus(minFee).toString()\r\n        : balance\r\n      : 'Wait please. Loading...'\r\n\r\n    this.setState({\r\n      amount: balanceMiner,\r\n    })\r\n  }\r\n\r\n  addressIsCorrect() {\r\n    const {\r\n      data: { currency },\r\n    } = this.props\r\n    const { address } = this.state\r\n\r\n    if (!typeforce.isCoinAddress.BTC(address)) {\r\n      return actions.btc.addressIsCorrect(address)\r\n    } else return true\r\n  }\r\n\r\n  handleCopyLink = () => {\r\n    this.setState(\r\n      {\r\n        isLinkCopied: true,\r\n      },\r\n      () => {\r\n        setTimeout(() => {\r\n          this.setState({\r\n            isLinkCopied: false,\r\n          })\r\n        }, 500)\r\n      }\r\n    )\r\n  }\r\n\r\n  handleReady = () => {\r\n    const { name } = this.props\r\n    actions.modals.close(name)\r\n  }\r\n\r\n  openScan = () => {\r\n    const { openScanCam } = this.state\r\n\r\n    this.setState(() => ({\r\n      openScanCam: !openScanCam,\r\n    }))\r\n  }\r\n\r\n  handleError = (err) => {\r\n    console.error(err)\r\n  }\r\n\r\n  handleScan = (data) => {\r\n    if (data) {\r\n      const address = data.split(':')[1].split('?')[0]\r\n      const amount = data.split('=')[1]\r\n      this.setState(() => ({\r\n        address,\r\n        amount,\r\n      }))\r\n      this.openScan()\r\n    }\r\n  }\r\n\r\n  handleClose = () => {\r\n    const { name } = this.props\r\n\r\n    actions.modals.close(name)\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      address,\r\n      amount,\r\n      code,\r\n      balance,\r\n      isShipped,\r\n      minus,\r\n      exCurrencyRate,\r\n      currentDecimals,\r\n      error,\r\n      step,\r\n      txRaw,\r\n      txId,\r\n      isLinkCopied,\r\n      ownTx,\r\n      openScanCam,\r\n      usedAdminFee,\r\n    } = this.state\r\n\r\n    const {\r\n      name,\r\n      data: { currency, invoice },\r\n      items,\r\n      intl,\r\n    } = this.props\r\n\r\n    let { min, min: defaultMin } = this.state\r\n\r\n    if (usedAdminFee) {\r\n      if (amount) {\r\n        let feeFromAmount = new BigNumber(usedAdminFee.fee).dividedBy(100).multipliedBy(amount)\r\n        if (new BigNumber(usedAdminFee.min).isGreaterThan(feeFromAmount))\r\n          feeFromAmount = new BigNumber(usedAdminFee.min)\r\n\r\n        min = new BigNumber(min).plus(feeFromAmount).toNumber() // Admin fee in satoshi\r\n      }\r\n    }\r\n\r\n    let txConfirmLink = `${getFullOrigin()}${links.multisign}/btc/confirm/${txId}`\r\n    if (invoice) {\r\n      txConfirmLink = `${getFullOrigin()}${links.multisign}/btc/confirminvoice/${\r\n        invoice.id\r\n      }|${txId}`\r\n    }\r\n    //@ts-ignore\r\n    const linked = Link.all(this, 'address', 'amount', 'code', 'ownTx')\r\n\r\n    const dataCurrency = currency.toUpperCase()\r\n\r\n    const isDisabled =\r\n      !address ||\r\n      !amount ||\r\n      isShipped ||\r\n      ownTx ||\r\n      !this.addressIsCorrect() ||\r\n      new BigNumber(amount).isGreaterThan(balance) ||\r\n      //    ts   .     \r\n      // @ts-ignore\r\n      new BigNumber(amount).dp() > currentDecimals\r\n\r\n    const NanReplacement = balance || '...'\r\n    const getFiat = amount * exCurrencyRate\r\n\r\n    if (new BigNumber(amount).isGreaterThan(0)) {\r\n      linked.amount.check(\r\n        (value) => new BigNumber(value).isLessThanOrEqualTo(balance),\r\n        <div style={{ width: '340px', fontSize: '12px' }}>\r\n          <FormattedMessage\r\n            id=\"amountNoMoreThenBalance\"\r\n            defaultMessage=\"The amount must be no more than your balance\"\r\n          />\r\n        </div>\r\n      )\r\n    }\r\n\r\n    if (this.state.amount < 0) {\r\n      this.setState({\r\n        amount: '',\r\n        minus: true,\r\n      })\r\n    }\r\n\r\n    const labels = defineMessages({\r\n      withdrawModal: {\r\n        id: 'withdrowTitle271',\r\n        defaultMessage: `Send`,\r\n      },\r\n      ownTxPlaceholder: {\r\n        id: 'withdrawOwnTxPlaceholder',\r\n        defaultMessage: 'If paid from another source',\r\n      },\r\n    })\r\n\r\n    const formRender = (\r\n      <Fragment>\r\n        {openScanCam && (\r\n          <QrReader\r\n            openScan={this.openScan}\r\n            handleError={this.handleError}\r\n            handleScan={this.handleScan}\r\n          />\r\n        )}\r\n        {invoice && <InvoiceInfoBlock invoiceData={invoice} />}\r\n        {step === 'fillform' && (\r\n          <Fragment>\r\n            <p styleName=\"notice dashboardViewNotice\">\r\n              <FormattedMessage\r\n                id=\"Withdrow213\"\r\n                defaultMessage=\"Please note: Fee is {minAmount} {data}.{br}Your balance must exceed this sum to perform transaction\"\r\n                values={{ minAmount: <span>{min}</span>, br: <br />, data: `${dataCurrency}` }}\r\n              />\r\n            </p>\r\n            <br />\r\n            <br />\r\n            <br />\r\n            <div styleName=\"highLevel\" style={{ marginBottom: '20px' }}>\r\n              <FieldLabel>\r\n                <FormattedMessage id=\"Withdrow1194\" defaultMessage=\"Address \" />{' '}\r\n                <Tooltip id=\"WtH203\">\r\n                  <div style={{ textAlign: 'center' }}>\r\n                    <FormattedMessage\r\n                      id=\"WTH275\"\r\n                      defaultMessage=\"Make sure the wallet you{br}are sending the funds to supports {currency}\"\r\n                      values={{ br: <br />, currency: `${currency.toUpperCase()}` }}\r\n                    />\r\n                  </div>\r\n                </Tooltip>\r\n              </FieldLabel>\r\n              <Input\r\n                valueLink={linked.address}\r\n                focusOnInit\r\n                pattern=\"0-9a-zA-Z:\"\r\n                placeholder={`Enter ${currency.toUpperCase()} address to transfer`}\r\n                qr\r\n                withMargin\r\n                openScan={this.openScan}\r\n              />\r\n              {address && !this.addressIsCorrect() && (\r\n                <div styleName=\"rednote\">\r\n                  <FormattedMessage\r\n                    id=\"WithdrawIncorectAddress\"\r\n                    defaultMessage=\"Your address not correct\"\r\n                  />\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div styleName=\"lowLevel\" style={{ marginBottom: '50px' }}>\r\n              <p styleName=\"balance\">\r\n                {balance} {currency.toUpperCase()}\r\n              </p>\r\n              <FieldLabel>\r\n                <FormattedMessage id=\"orders102\" defaultMessage=\"Amount\" />\r\n              </FieldLabel>\r\n\r\n              <div styleName=\"group\">\r\n                <Input\r\n                  styleName=\"input\"\r\n                  valueLink={linked.amount}\r\n                  pattern=\"0-9\\.\"\r\n                  placeholder=\"Enter the amount\"\r\n                  fiat={getFiat.toFixed(2)}\r\n                  onKeyDown={inputReplaceCommaWithDot}\r\n                />\r\n                <div style={{ marginLeft: '15px' }}>\r\n                  <Button blue big onClick={this.sellAllBalance} data-tip data-for=\"Withdrow134\">\r\n                    <FormattedMessage id=\"Select210\" defaultMessage=\"MAX\" />\r\n                  </Button>\r\n                </div>\r\n                {!isMobile && (\r\n                  <ReactTooltip id=\"Withdrow134\" type=\"light\" effect=\"solid\" styleName=\"r-tooltip\">\r\n                    <FormattedMessage\r\n                      id=\"WithdrawButton32\"\r\n                      defaultMessage=\"When you click this button, in the field, an amount{br}equal to your balance minus the miners commission will appear\"\r\n                      values={{\r\n                        br: <br />,\r\n                      }}\r\n                    />\r\n                  </ReactTooltip>\r\n                )}\r\n                {!linked.amount.error && (\r\n                  <div styleName={minus ? 'rednote' : 'note'}>\r\n                    <FormattedMessage\r\n                      id=\"WithdrawModal256\"\r\n                      defaultMessage=\"No less than {minAmount}\"\r\n                      values={{ minAmount: `${defaultMin}` }}\r\n                    />\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div styleName=\"sendBtnsWrapper\">\r\n              <div styleName=\"actionBtn\">\r\n                <Button blue big fill disabled={isDisabled} onClick={this.handleSubmit}>\r\n                  {isShipped ? (\r\n                    <Fragment>\r\n                      <FormattedMessage id=\"WithdrawModal11212\" defaultMessage=\"Processing ...\" />\r\n                    </Fragment>\r\n                  ) : (\r\n                    <Fragment>\r\n                      <FormattedMessage id=\"withdrowTitle271\" defaultMessage=\"Send\" />\r\n                    </Fragment>\r\n                  )}\r\n                </Button>\r\n              </div>\r\n              <div styleName=\"actionBtn\">\r\n                <Button big fill gray onClick={this.handleClose}>\r\n                  <Fragment>\r\n                    <FormattedMessage id=\"WithdrawModalCancelBtn\" defaultMessage=\"Cancel\" />\r\n                  </Fragment>\r\n                </Button>\r\n              </div>\r\n            </div>\r\n            {error && (\r\n              <div styleName=\"rednote\">\r\n                <FormattedMessage\r\n                  id=\"WithdrawModalErrorSend\"\r\n                  defaultMessage=\"{errorName} {currency}:{br}{errorMessage}\"\r\n                  values={{\r\n                    errorName: intl.formatMessage(error.name),\r\n                    errorMessage: intl.formatMessage(error.message),\r\n                    br: <br />,\r\n                    currency: `${currency}`,\r\n                  }}\r\n                />\r\n              </div>\r\n            )}\r\n            {invoice && (\r\n              <Fragment>\r\n                <hr />\r\n                <div\r\n                  styleName=\"lowLevel\"\r\n                  style={{ marginBottom: '50px' }}\r\n                >\r\n                  <div styleName=\"groupField\">\r\n                    <div styleName=\"downLabel\">\r\n                      <FieldLabel inRow>\r\n                        <span styleName=\"mobileFont\">\r\n                          <FormattedMessage id=\"WithdrowOwnTX\" defaultMessage=\"  TX\" />\r\n                        </span>\r\n                      </FieldLabel>\r\n                    </div>\r\n                  </div>\r\n                  <div styleName=\"group\">\r\n                    <Input\r\n                      styleName=\"input\"\r\n                      valueLink={linked.ownTx}\r\n                      placeholder={`${intl.formatMessage(labels.ownTxPlaceholder)}`}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <Button\r\n                  styleName=\"buttonFull\"\r\n                  blue\r\n                  big\r\n                  fullWidth\r\n                  disabled={!ownTx || isShipped}\r\n                  onClick={this.handleSubmit}\r\n                >\r\n                  {isShipped ? (\r\n                    <Fragment>\r\n                      <FormattedMessage id=\"WithdrawModal11212\" defaultMessage=\"Processing ...\" />\r\n                    </Fragment>\r\n                  ) : (\r\n                    <FormattedMessage\r\n                      id=\"WithdrawModalInvoiceSaveTx\"\r\n                      defaultMessage=\"  \"\r\n                    />\r\n                  )}\r\n                </Button>\r\n              </Fragment>\r\n            )}\r\n          </Fragment>\r\n        )}\r\n        {step === 'rawlink' && (\r\n          <Fragment>\r\n            <p styleName=\"notice dashboardViewNotice\">\r\n              <FormattedMessage id=\"WithdrawMSUserReady\" defaultMessage=\"TX confirm link\" />\r\n              <br />\r\n              <FormattedMessage\r\n                id=\"WithdrawMSUserMessage\"\r\n                defaultMessage=\"Send this link to other wallet owner\"\r\n              />\r\n            </p>\r\n            <div styleName=\"highLevel\">\r\n              <div styleName=\"groupField\"></div>\r\n              <div>\r\n                <ShareLink link={txConfirmLink} />\r\n              </div>\r\n            </div>\r\n            <div styleName=\"centerAlign\">\r\n              <Button styleName=\"buttonFull\" big blue fullWidth onClick={this.handleReady}>\r\n                <FormattedMessage id=\"WithdrawMSUserFinish\" defaultMessage=\"Ready\" />\r\n              </Button>\r\n            </div>\r\n          </Fragment>\r\n        )}\r\n      </Fragment>\r\n    )\r\n    return (\r\n      <Modal\r\n        name={name}\r\n        title={`${intl.formatMessage(labels.withdrawModal)}${' '}${currency.toUpperCase()}`}\r\n      >\r\n        {formRender}\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(WithdrawModalMultisigUser)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"multisignConfirmTxLink\":\"+3GfxciahD6u6EKdYPsuxA==\",\"centerAlign\":\"aiGXvA4LvnutCoiePJuyqw==\",\"sendBtnsWrapper\":\"Edwo5vTIcBZT6NJqYmt4zQ==\",\"actionBtn\":\"zstQT5foYkP+sJVVusO1wg==\"};","import React from 'react'\r\nimport actions from 'redux/actions'\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './PrivateKeysModal.scss'\r\nimport Copy from 'components/ui/Copy/Copy'\r\nimport Modal from 'components/modal/Modal/Modal'\r\nimport { Button } from 'components/controls'\r\nimport { FormattedMessage, defineMessages, injectIntl } from 'react-intl'\r\n\r\nconst title = defineMessages({\r\n  PrivateKeysModal: {\r\n    id: 'ImCAUTIONport',\r\n    defaultMessage: 'CAUTION!',\r\n  },\r\n})\r\n\r\n@cssModules(styles, { allowMultiple: true })\r\nclass PrivateKeysModal extends React.PureComponent<any, any> {\r\n  handleCloseModal = () => {\r\n    const { name } = this.props\r\n\r\n    actions.modals.close(name)\r\n  }\r\n\r\n  render() {\r\n    const { name, intl, data } = this.props\r\n    const { fullName, key } = data\r\n\r\n    return (\r\n      <Modal\r\n        name={name}\r\n        showCloseButton\r\n        onClose={this.handleCloseModal}\r\n        title={intl.formatMessage(title.PrivateKeysModal)}\r\n      >\r\n        <section styleName=\"content\">\r\n          <p styleName=\"text\">\r\n            <FormattedMessage\r\n              id=\"privateKeyCurrency\"\r\n              defaultMessage=\"Your {cur} private key\"\r\n              values={{\r\n                cur: fullName,\r\n              }}\r\n            />\r\n          </p>\r\n          <p styleName=\"key\" className=\"ym-hide-content\">\r\n            {key}\r\n          </p>\r\n          <Copy text={key}>\r\n            <Button brand>\r\n              <FormattedMessage id=\"FeeControler49\" defaultMessage=\"Copy\" />\r\n            </Button>\r\n          </Copy>\r\n        </section>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(PrivateKeysModal)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"content\":\"_4gQs5iS2Wr3Y1UdpVK02qw==\",\"text\":\"ZIIYxRrNQoC42OHxmg4jZw==\",\"key\":\"CrCC3Ymbp4c41wf+8an+DQ==\"};","// extracted by mini-css-extract-plugin\nexport default {\"note\":\"VFlVjIpZ+w2LLnBRW4kpcA==\",\"r-tooltip\":\"wZ225q0PRr42vDS8j1YTYg==\",\"link\":\"WI7jflIWps1CWimkVg95tA==\",\"error\":\"_4H-d21wefVy1tGvWPD7tHw==\",\"rednote\":\"qDmV99gKZ2lBkN14jv2bUw==\",\"groupField\":\"-oWbeubS2ujW9rmBMVHFug==\",\"balance\":\"_305AMEAAAFK4HvKU5kExng==\",\"notice\":\"ksjwdz5-NKsuakd1Tr1Jaw==\",\"rednotes\":\"gGpRfqPp-oPBMi00tfFFVw==\",\"buttonCenter\":\"uhhEDQOjuPF7F57iqqKDTw==\",\"buttonHalfFullWidth\":\"iJ8wNHO-CtOOlK8Q0nD8Jg==\",\"buttonFull\":\"zrs7deDojC1HvgtRQHnI0g==\",\"buttonFullMargin\":\"utRFYg3pLttv6dCuNumGhQ==\",\"cell\":\"x4Z0xDSJaXt4cB-5c9Mbdg==\",\"group\":\"vOTMkeizevjL46UD6EZ5Ag==\",\"input\":\"_0pJ+9BM0eRT2W-I4Cfgd3g==\",\"label\":\"SgK146wfABUShOr9g8Bdpw==\",\"button\":\"AfrnrWW90cuBR72XLJNybg==\",\"button_sms\":\"_7DClXp-xXHHT9t9hOvoj9w==\",\"inputName\":\"zRmdqoFMN2vhkkYeG1NJXw==\",\"downLabel\":\"Bqu3Af2-VVqg4KYEE57eFg==\",\"highLevel\":\"_7Sv9yYls1U6+BDPBTtqRWA==\",\"lowLevel\":\"vi9iQGbTYxXB8DNQNrnwdA==\",\"inputMargin25\":\"_0upDd9ccHepPI7I+1BohqA==\",\"mobileFont\":\"I8yITdfNBbZSlT0uuuKahA==\",\"centerInfoBlock\":\"xORjFb2MKohN-Cv4GrnqMQ==\",\"content-overlay\":\"U508Jp6RaSfYmFkrTfvNPA==\",\"button-overlay\":\"zGsnnL3vJSl4RZfVrGBJ3A==\",\"convent-overlay\":\"adb85mdJVryqeAtNk7PZYg==\"};","import { FormattedMessage, defineMessages, injectIntl } from 'react-intl'\r\nimport React, { Fragment }  from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport actions from 'redux/actions'\r\nimport cssModules from 'react-css-modules'\r\nimport { constants, externalConfig, getCurrencyKey, user } from 'helpers'\r\nimport erc20Like from 'common/erc20Like'\r\nimport getCoinInfo from 'common/coins/getCoinInfo'\r\nimport styles from '../Styles/default.scss'\r\nimport ownStyles from './ReceiveModal.scss'\r\nimport QR from 'components/QR/QR'\r\nimport { Modal } from 'components/modal'\r\nimport { Button } from 'components/controls'\r\nimport Copy from 'components/ui/Copy/Copy'\r\n\r\nconst langPrefix = `ReceiveModal`\r\nconst langs = defineMessages({\r\n  title: {\r\n    id: 'Receive',\r\n    defaultMessage: 'Receive',\r\n  },\r\n  needSaveMnemonicToContinue: {\r\n    id: `${langPrefix}_YouNeedSaveMnemonic`,\r\n    defaultMessage: `   12 .`,\r\n  },\r\n  pleaseSaveMnemonicToContinue: {\r\n    id: `${langPrefix}_SaveYourMnemonic`,\r\n    defaultMessage: `    .`\r\n  },\r\n  buttonSaveMnemonic: {\r\n    id: `${langPrefix}_ButtonSaveMnemonic`,\r\n    defaultMessage: `Save`,\r\n  },\r\n  buttonCancel: {\r\n    id: `${langPrefix}_ButtonCancel`,\r\n    defaultMessage: `Cancel`,\r\n  },\r\n})\r\n\r\n@withRouter\r\n@cssModules({ ...styles, ...ownStyles }, { allowMultiple: true })\r\nclass ReceiveModal extends React.Component<any, any> {\r\n  constructor(props) {\r\n    super(props)\r\n    const {\r\n      data: {\r\n        address,\r\n        currency,\r\n        standard,\r\n      },\r\n    } = props\r\n\r\n    let howToDeposit = ''\r\n\r\n    if (\r\n      standard\r\n      && externalConfig[standard]\r\n      && externalConfig[standard][currency.toLowerCase()]\r\n      && externalConfig[standard][currency.toLowerCase()].howToDeposit\r\n    ) {\r\n      howToDeposit = externalConfig[standard][currency.toLowerCase()].howToDeposit\r\n    }\r\n\r\n    const mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\r\n    const mnemonicSaved = (mnemonic === `-`)\r\n\r\n    howToDeposit = howToDeposit.replace(/{userAddress}/g, address);\r\n\r\n    const targetCurrency = getCurrencyKey(currency.toLowerCase(), true)\r\n\r\n    const isToken = erc20Like.isToken({ name: currency })\r\n    const recieveUrl = (isToken ? '/token' : '') + `/${targetCurrency}/${address}/receive`\r\n\r\n    const {\r\n      tokenSymbol,\r\n      tokenBlockchain,\r\n    } = ((currency, isToken) => {\r\n      if (isToken) {\r\n        const tokenInfo = getCoinInfo(currency)\r\n        return {\r\n          tokenSymbol: tokenInfo.coin,\r\n          tokenBlockchain: tokenInfo.blockchain,\r\n        }\r\n      } else {\r\n        return { tokenSymbol: ``, tokenBlockchain: `` }\r\n      }\r\n    })(currency, isToken)\r\n\r\n    props.history.push(recieveUrl)\r\n\r\n    this.state = {\r\n      step: (mnemonicSaved) ? 'receive' : 'saveMnemonic',\r\n      howToDeposit,\r\n      isToken,\r\n      tokenSymbol,\r\n      tokenBlockchain,\r\n    }\r\n  }\r\n\r\n  handleBeginSaveMnemonic = async () => {\r\n    actions.modals.open(constants.modals.SaveWalletSelectMethod, {\r\n      onClose: () => {\r\n        const mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\r\n        const mnemonicSaved = (mnemonic === `-`)\r\n        const step = (mnemonicSaved) ? 'receive' : 'saveMnemonicWords'\r\n\r\n        this.setState({\r\n          mnemonicSaved,\r\n          step,\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  handleClose = () => {\r\n    const { name, history: { location: { pathname }, goBack } } = this.props\r\n\r\n    if (pathname.includes('receive')) {\r\n      goBack()\r\n    }\r\n\r\n    actions.modals.close(name)\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      intl: { locale },\r\n      name,\r\n      intl,\r\n      data: { currency, address },\r\n    } = this.props\r\n\r\n    const {\r\n      howToDeposit,\r\n      step,\r\n      isToken,\r\n      tokenSymbol,\r\n      tokenBlockchain,\r\n    } = this.state\r\n\r\n    const externalExchangeLink = user.getExternalExchangeLink({ address, currency, locale })\r\n\r\n    return (\r\n      <Modal name={name} title={intl.formatMessage(langs.title)}>\r\n        <div styleName=\"content\">\r\n          {step === 'receive' && (\r\n            <Fragment>\r\n              {howToDeposit && (\r\n                <div styleName=\"depositInstruction\">\r\n                  <h5 styleName=\"title\">\r\n                    <FormattedMessage id=\"howToDeposit\" defaultMessage=\"How to deposit\" />:\r\n                  </h5>\r\n                  <p styleName=\"description\" dangerouslySetInnerHTML={{ __html: howToDeposit }} />\r\n                </div>\r\n              )}\r\n\r\n              <p style={{ fontSize: 25 }}>\r\n                {isToken ? (\r\n                  <FormattedMessage\r\n                    id=\"ReceiveModal_TokenAddress\"\r\n                    defaultMessage=\"This is your {tokenSymbol} address on the {tokenBlockchain} blockchain\"\r\n                    values={{\r\n                      tokenSymbol,\r\n                      tokenBlockchain,\r\n                    }}\r\n                  />\r\n                ) : (\r\n                  <FormattedMessage\r\n                    id=\"ReceiveModal50\"\r\n                    defaultMessage=\"This is your {currency} address\"\r\n                    values={{ currency: `${currency.toUpperCase()}` }}\r\n                  />\r\n                )}\r\n              </p>\r\n              <Copy text={address}>\r\n                <div styleName=\"qr\">\r\n                  <QR address={address} />\r\n\r\n                  <p styleName=\"address\">{address}</p>\r\n\r\n                  <div styleName=\"sendBtnsWrapper\">\r\n                    <div styleName=\"actionBtn\">\r\n                      <Button big brand fill>\r\n                        <FormattedMessage id=\"recieved67\" defaultMessage=\"Copy to clipboard\" />\r\n                      </Button>\r\n                    </div>\r\n                    <div styleName=\"actionBtn\">\r\n                      <Button big gray fill onClick={this.handleClose}>\r\n                        <FormattedMessage id=\"WithdrawModalCancelBtn\" defaultMessage=\"Cancel\" />\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </Copy>\r\n\r\n              {externalExchangeLink && (\r\n                <div styleName=\"fiatDepositRow\">\r\n                  <a href={externalExchangeLink} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                    <FormattedMessage id=\"buyByCreditCard\" defaultMessage=\"buy using credit card\" />\r\n                  </a>\r\n                </div>\r\n              )}\r\n            </Fragment>\r\n          )}\r\n          {step === 'saveMnemonic' && (\r\n            <Fragment>\r\n              <div styleName=\"content-overlay\">\r\n                <p styleName=\"centerInfoBlock\">\r\n                  <strong>\r\n                    <FormattedMessage {...langs.needSaveMnemonicToContinue} />\r\n                  </strong>\r\n                  <br />\r\n                  <FormattedMessage {...langs.pleaseSaveMnemonicToContinue} />\r\n                </p>\r\n              </div>\r\n\r\n              <div styleName=\"buttonsHolder buttonsHolder_2_buttons button-overlay\">\r\n                <Button blue onClick={this.handleBeginSaveMnemonic}>\r\n                  <FormattedMessage {...langs.buttonSaveMnemonic} />\r\n                </Button>\r\n                <Button gray onClick={this.handleClose}>\r\n                  <FormattedMessage {...langs.buttonCancel} />\r\n                </Button>\r\n              </div>\r\n            </Fragment>\r\n          )}\r\n        </div>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(ReceiveModal)","// extracted by mini-css-extract-plugin\nexport default {\"content\":\"Z2JMgE4r5QrEGyq0hnWeMw==\",\"depositInstruction\":\"v0EqFVbmgRIO-7cqZ4fRSw==\",\"title\":\"C9v5YAq4l20lsYIj-w8s7g==\",\"description\":\"_7kH7xdICUUnDXGp5lUDEMA==\",\"sendBtnsWrapper\":\"c1AH1qu9ZwuxCzW4N2HE+A==\",\"actionBtn\":\"cRYzLES6kY86D12vdZHodg==\",\"fiatDepositRow\":\"_3+EVc6tfExidkjnbq9Sp0w==\",\"buttonsHolder\":\"Uzal5wmjnHlHUXMjiAptQw==\",\"buttonsHolder_2_buttons\":\"q9yZ1BlzCDYh+ccv3B-7tQ==\",\"qr\":\"N+byGWXyD4Mb-NOsoY68rA==\",\"address\":\"UxM2Trp1rQRE15dvHXfSgw==\"};","import React, { Fragment } from 'react'\r\nimport { connect } from 'redaction'\r\nimport actions from 'redux/actions'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './DownloadModal.scss'\r\n\r\nimport Modal from 'components/modal/Modal/Modal'\r\nimport Button from 'components/controls/Button/Button'\r\nimport Copy from 'components/ui/Copy/Copy'\r\n\r\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\r\n\r\nimport { withRouter } from 'react-router-dom'\r\n\r\n\r\nconst title = defineMessages({\r\n  downloadModal: {\r\n    id: 'down97',\r\n    defaultMessage: 'Your private keys!',\r\n  },\r\n})\r\n\r\n@withRouter\r\n@connect(\r\n  ({\r\n    user: {\r\n      ethData,\r\n      bnbData,\r\n      maticData,\r\n      arbethData,\r\n      aurethData,\r\n      xdaiData,\r\n      ftmData,\r\n      avaxData,\r\n      movrData,\r\n      oneData,\r\n      phi_v1Data,\r\n      phiData,\r\n      ameData,\r\n      btcData,\r\n      ghostData,\r\n      nextData,\r\n    },\r\n  }) => ({\r\n    items: [\r\n      ethData,\r\n      bnbData,\r\n      maticData,\r\n      arbethData,\r\n      aurethData,\r\n      xdaiData,\r\n      ftmData,\r\n      avaxData,\r\n      movrData,\r\n      oneData,\r\n      phi_v1Data,\r\n      phiData,\r\n      ameData,\r\n      btcData,\r\n      ghostData,\r\n      nextData,\r\n    ],\r\n  })\r\n)\r\n@cssModules(styles)\r\nclass DownloadModal extends React.Component<any, any> {\r\n  handleDownloadTxt = () => {\r\n    actions.user.downloadPrivateKeys()\r\n  }\r\n\r\n  render() {\r\n    const { items, name, intl } = this.props\r\n    const textToCopy = actions.user.getText()\r\n\r\n    const Account = () => (\r\n      items.map((item, index) => (\r\n        <Fragment key={index}>\r\n          <a>\r\n            {item.fullName}\r\n            {' '}\r\n            <FormattedMessage id=\"downloadModal75\" defaultMessage=\"Address:\" />\r\n          </a>\r\n          <p>{item.address}</p>\r\n          <a>\r\n            {item.fullName}\r\n            {' '}\r\n            <FormattedMessage id=\"downloadModal782\" defaultMessage=\"Private key\" />\r\n            {' '}\r\n          </a>\r\n\r\n          <p>\r\n            {item.privateKey}\r\n          </p>\r\n        </Fragment>\r\n      ))\r\n    )\r\n\r\n    return (\r\n      <Modal name={name} title={intl.formatMessage(title.downloadModal)}>\r\n        <div styleName=\"subTitle\">\r\n          <FormattedMessage\r\n            id=\"down57\"\r\n            defaultMessage=\"It seems like you're trying to save your private keys. Just copy this keys and paste into notepad textarea. Also you can download it as a .txt file.\"\r\n          />\r\n        </div>\r\n        <div styleName=\"buttonsContainer\">\r\n          <Copy text={textToCopy}>\r\n            <Button styleName=\"button\" brand>\r\n              <FormattedMessage id=\"recieved67\" defaultMessage=\"Copy to clipboard\" />\r\n            </Button>\r\n          </Copy>\r\n          {\r\n            !(/iPad|iPhone|iPod/.test(navigator.userAgent)) && (\r\n              <Fragment>\r\n                <Button onClick={this.handleDownloadTxt} styleName=\"button\" brand >\r\n                  <FormattedMessage id=\"downFile2\" defaultMessage=\"Download txt file\" />\r\n                </Button>\r\n              </Fragment>\r\n            )\r\n          }\r\n        </div>\r\n        <div styleName=\"indent\">\r\n          <Account />\r\n        </div>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(DownloadModal)","// extracted by mini-css-extract-plugin\nexport default {\"subTitle\":\"i2Y9HoeNBhOKqaSmooovWA==\",\"indent\":\"_3AcQpoufd6SA0basWjUlPA==\",\"button\":\"qGaeu-cvqGRp14gi0xueTA==\",\"buttonsContainer\":\"_0n9ZnT7L4xk7q5hGA+oYCg==\"};","import React, { Component } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\r\nimport actions from 'redux/actions'\r\nimport { localisedUrl } from 'helpers/locale'\r\nimport links from 'helpers/links'\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './DeclineOrdersModal.scss'\r\n\r\nimport Modal from 'components/modal/Modal/Modal'\r\n\r\nconst title = defineMessages({\r\n  downloadModal: {\r\n    id: 'decline21',\r\n    defaultMessage: 'Declined orders!',\r\n  },\r\n})\r\n\r\n@withRouter\r\n@cssModules(styles)\r\nclass DeclineOrdersModal extends Component<any, any> {\r\n\r\n  goToDecline = () => {\r\n    const { data: { declineSwap: { sellCurrency, buyCurrency, id } }, history } = this.props /* eslint-disable-line */\r\n\r\n    const { intl : { locale } } = this.props\r\n\r\n    const swapUri = `${links.atomicSwap}/${id}`\r\n    // todo: decline turbo swaps\r\n\r\n    console.log(`Redirect to swap: ${swapUri}`)\r\n    history.push(localisedUrl(locale, swapUri))\r\n    actions.modals.close('DeclineOrdersModal')\r\n  }\r\n\r\n  render() {\r\n    const { intl } = this.props\r\n\r\n    return (\r\n      <Modal name=\"DeclineOrdersModal\" title={intl.formatMessage(title.downloadModal)}>\r\n        <div styleName=\"subTitle\">\r\n          <FormattedMessage id=\"decline43\" defaultMessage=\"Sorry, but you have cannot start until you complete the swaps started earlier \" />\r\n        </div>\r\n        <h2 styleName=\"link\" onClick={this.goToDecline}>\r\n          <FormattedMessage id=\"decline49\" defaultMessage=\"See your incomplete swap\" />\r\n        </h2>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(DeclineOrdersModal)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"subTitle\":\"HmqFt0lp3isGal6y0eZHpQ==\",\"link\":\"_6CodnBTmlCsOF277rH4mHA==\"};","import React from 'react'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './SubTitle.scss'\r\n\r\n\r\nconst SubTitle = ({ children }) => (\r\n  <h1 styleName=\"subTitle\">{children}</h1>\r\n)\r\n\r\nexport default cssModules(SubTitle, styles)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"subTitle\":\"M8LuHkwreMnULVf43MwHKg==\"};","import React, { Component } from 'react'\r\n\r\nimport { connect } from 'redaction'\r\nimport actions from 'redux/actions'\r\n\r\nimport Link from 'local_modules/sw-valuelink'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './IncompletedSwaps.scss'\r\n\r\nimport { Modal } from 'components/modal'\r\nimport { FieldLabel } from 'components/forms'\r\nimport { Button } from 'components/controls'\r\nimport Table from 'components/tables/Table/Table'\r\nimport SubTitle from 'components/PageHeadline/SubTitle/SubTitle'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport SwapsHistory from 'shared/pages/History/SwapsHistory/SwapsHistory'\r\n\r\n\r\nconst title = [\r\n  <FormattedMessage id=\"Incompleted21\" defaultMessage=\"Incompleted Swaps\" />,\r\n]\r\n\r\n@connect(({\r\n  rememberedOrders,\r\n  history: { swapHistory },\r\n}) => ({\r\n  decline: rememberedOrders.savedOrders,\r\n  swapHistory,\r\n}))\r\n@cssModules(styles, { allowMultiple: true })\r\nexport default class IncompletedSwaps extends Component<any, any> {\r\n\r\n  render() {\r\n    const { decline, swapHistory } = this.props\r\n\r\n    return (\r\n      //@ts-ignore: strictNullChecks\r\n      <Modal name=\"IncompletedSwaps\" title={title} shouldCenterVertically={false}>\r\n        <div styleName=\"modal\">\r\n          <div styleName=\"modal_column\">\r\n            <SubTitle styleName=\"modal_column-title\">\r\n              <FormattedMessage id=\"IncompletedSwaps49\" defaultMessage=\"Swaps needing to complete\" />\r\n            </SubTitle>\r\n            { swapHistory.length > 0 ?\r\n              <SwapsHistory\r\n                showSubtitle={false}\r\n                orders={swapHistory\r\n                  .filter(item => item.isSwapExist === false)\r\n                  .filter(item => decline.includes(item.id))\r\n                  .filter(item => item.step >= 4)\r\n                }\r\n              /> :\r\n              <h1>\r\n                <FormattedMessage id=\"IncompletedSwaps55\" defaultMessage=\"Data processed, try to reload the page\" />\r\n              </h1>\r\n            }\r\n          </div>\r\n        </div>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"modal\":\"_1HdJV6VqVICCUKcjMGcYzQ==\",\"modal_column\":\"p26k-8Yq7YEC+hi3aOgymw==\",\"modal_column-title\":\"CqR4yWaXckFgVQn1B-v48A==\"};","import React from 'react'\r\nimport { connect } from 'redaction'\r\nimport cx from 'classnames'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport erc20Like from 'common/erc20Like'\r\nimport styles from './CurrencyAction.scss'\r\nimport { constants } from 'helpers'\r\n\r\nimport { FormattedMessage, injectIntl } from 'react-intl'\r\nimport { localisedUrl } from 'helpers/locale'\r\nimport CurrencyIcon from 'components/ui/CurrencyIcon/CurrencyIcon'\r\nimport CloseIcon from 'components/ui/CloseIcon/CloseIcon'\r\nimport icons from 'components/ui/CurrencyIcon/images'\r\nimport config from 'app-config'\r\nimport actions from 'shared/redux/actions'\r\n\r\n@connect(({\r\n  ui: { dashboardModalsAllowed },\r\n}) => ({\r\n  dashboardView: dashboardModalsAllowed,\r\n}))\r\n@cssModules(styles, { allowMultiple: true })\r\nclass CurrencyAction extends React.Component<any, any> {\r\n  handleClose = () => {\r\n    const { name, data, onClose } = this.props\r\n\r\n    if (typeof onClose === 'function') {\r\n      onClose()\r\n    }\r\n\r\n    if (typeof data.onClose === 'function') {\r\n      data.onClose()\r\n    }\r\n    //@ts-ignore\r\n    actions.modals.close(name)\r\n  }\r\n\r\n  handleClickCurrency = (item) => {\r\n    const {\r\n      data: { context },\r\n      history,\r\n      intl: { locale },\r\n    } = this.props\r\n\r\n    const { currency, address, standard, tokenKey } = item\r\n\r\n    if (context === 'Deposit') {\r\n      this.handleClose()\r\n\r\n      actions.modals.open(constants.modals.ReceiveModal, {\r\n        currency: (tokenKey || currency),\r\n        address,\r\n        standard,\r\n      })\r\n    } else {\r\n      let targetCurrency = currency\r\n      switch (currency.toLowerCase()) {\r\n        case 'btc (multisig)':\r\n        case 'btc (pin-protected)':\r\n          targetCurrency = 'btc'\r\n          break\r\n      }\r\n\r\n      this.handleClose()\r\n\r\n      history.push(\r\n        localisedUrl(locale, (tokenKey ? '/token' : '') + `/${(tokenKey || targetCurrency)}/${address}/send`)\r\n      )\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      props: {\r\n        data: { currencies, context },\r\n        dashboardView,\r\n      }\r\n    } = this\r\n\r\n    // if currencies is one, do autoselect\r\n    if (currencies.length == 1) {\r\n      this.handleClickCurrency(currencies.shift())\r\n    }\r\n\r\n    return (\r\n      <div styleName={cx({\r\n        \"modal-overlay\": true,\r\n      })}>\r\n        <div styleName={cx({\r\n          \"modal\": true,\r\n          \"modal_dashboardView\": dashboardView\r\n        })}>\r\n          <div styleName=\"header\">\r\n            <p styleName=\"title\">{context}</p>\r\n\r\n            <CloseIcon styleName=\"closeButton\" onClick={this.handleClose} data-testid=\"modalCloseIcon\" />\r\n          </div>\r\n          <div styleName={cx({\r\n            \"content\": true,\r\n            \"content_dashboardView\": dashboardView\r\n          })}>\r\n            <p styleName=\"text\">\r\n              <FormattedMessage\r\n                id=\"currencyAction81\"\r\n                defaultMessage=\"Please choose a currency, which you want to {context}\"\r\n                values={{ context: context.toLowerCase() }}\r\n              />\r\n            </p>\r\n            <div styleName={cx({\r\n              \"currenciesWrapper\": true,\r\n              \"currenciesWrapper_dashboardView\": dashboardView\r\n            })}>\r\n              {currencies.map((item, index) => {\r\n                let iconName = item.currency.toLowerCase()\r\n                let itemTitle = item.currency\r\n                let itemFullTitle = item.fullName\r\n\r\n                switch (item.currency) {\r\n                  case 'BTC (Multisig)':\r\n                    iconName = 'btc'\r\n                    itemTitle = 'BTC (MTS)'\r\n                    itemFullTitle = 'BTC (MTS)'\r\n                    break\r\n                  case 'BTC (SMS-Protected)':\r\n                    iconName = 'btc'\r\n                    itemTitle = 'BTC (SMS)'\r\n                    itemFullTitle = 'BTC (SMS)'\r\n                    break\r\n                  case 'BTC (PIN-Protected)':\r\n                    iconName = 'btc'\r\n                    itemTitle = 'BTC (PIN)'\r\n                    itemFullTitle = 'BTC (PIN)'\r\n                    break\r\n                }\r\n\r\n                if (!icons[iconName] && item.standard && item.baseCurrency) {\r\n                  iconName = item.baseCurrency\r\n                }\r\n\r\n                let renderIcon = icons[iconName]\r\n                let renderStyle = {\r\n                  backgroundColor: '',\r\n                }\r\n\r\n                const tokenStandard = item.standard?.toLowerCase()\r\n                const currencyKey = item.currency.toLowerCase()\r\n\r\n                if (tokenStandard && config[tokenStandard][currencyKey]) {\r\n                  const token = config[tokenStandard][currencyKey]\r\n\r\n                  if (token.icon) {\r\n                    renderIcon = token.icon\r\n                  }\r\n                  if (token.iconBgColor) {\r\n                    renderStyle.backgroundColor = token.iconBgColor\r\n                  }\r\n                }\r\n\r\n                return (\r\n                  <div styleName=\"card\" key={index} onClick={() => this.handleClickCurrency(item)}>\r\n                    <CurrencyIcon\r\n                      styleName=\"circle\"\r\n                      name={itemTitle}\r\n                      source={renderIcon && renderIcon}\r\n                      style={renderStyle}\r\n                    />\r\n                    <div styleName=\"info\">\r\n                      <p>{itemTitle}</p>\r\n                      <span>{itemFullTitle}</span>\r\n                    </div>\r\n                  </div>\r\n                )\r\n              })}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(CurrencyAction)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"text\":\"sHJ5OSQCNSrHeovVq+i36A==\",\"currenciesWrapper\":\"UTq3PI5hiS9vV64y4yIZXA==\",\"currenciesWrapper_dashboardView\":\"_8+Ul5N-nHEwNsh94k0TzkA==\",\"header\":\"EmeZR89wrJE6FOHtGtLWgw==\",\"title\":\"exD+bIIitpyTWoqtuURTKA==\",\"uppercase\":\"QPmsg6-kJxBGSD-+tklcEw==\",\"card\":\"Jzcis7ZkIyeoEcwnKhwNAw==\",\"info\":\"_0gX8AjyId0jFPmooCGSYeg==\",\"circle\":\"iEk+8GCqzjhkHKqkpqxa6A==\",\"closeButton\":\"x2zmOl6aIcFnNBrQhNj0ow==\",\"modal-overlay\":\"S9xbyjfPnwN+5a+MFHNZPQ==\",\"modal-overlay_dashboardView\":\"YX0wdHbkfECT8z+2ZMe+pQ==\",\"modal\":\"_9NjuxC-AhzB81HCqsxKQoA==\",\"modal_dashboardView\":\"lXdj2F59TO23aE+ohcOG6w==\",\"button\":\"zZY4saZRs8rjiNfV3A4c3w==\",\"content\":\"T3EDdHrdYcm+7n5G95s1kw==\",\"content_dashboardView\":\"nArdprZprRQDcwTqSzUFtQ==\"};","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport actions from 'redux/actions'\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './Confirm.scss'\r\n\r\nimport { Modal } from 'components/modal'\r\nimport { Button } from 'components/controls'\r\nimport { FieldLabel, Input } from 'components/forms'\r\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\r\nimport WidthContainer from 'components/layout/WidthContainer/WidthContainer'\r\n\r\n\r\nconst defaultLanguage = defineMessages({\r\n  title: {\r\n    id: 'confirmDialogDefaultTitle',\r\n    defaultMessage: 'Confirm action',\r\n  },\r\n  message: {\r\n    id: 'confirmDialogDefaultMessage',\r\n    defaultMessage: 'Confirm action on this site?',\r\n  },\r\n  yes: {\r\n    id: 'confirmDialogDefaultYes',\r\n    defaultMessage: 'Yes',\r\n  },\r\n  no: {\r\n    id: 'confirmDialogDefaultNo',\r\n    defaultMessage: 'No',\r\n  },\r\n})\r\n\r\n@cssModules(styles, { allowMultiple: true })\r\nclass Confirm extends React.Component<any, any> {\r\n  static propTypes = {\r\n    onAccept: PropTypes.func,\r\n  }\r\n\r\n  handleClose = () => {\r\n    const { name, data, onClose } = this.props\r\n\r\n    if (typeof onClose === 'function') {\r\n      onClose()\r\n    }\r\n\r\n    if (typeof data.onClose === 'function') {\r\n      data.onClose()\r\n    }\r\n\r\n    actions.modals.close(name)\r\n  }\r\n\r\n  handleCancel = () => {\r\n    const { data } = this.props\r\n    if (typeof data.onCancel === 'function') {\r\n      data.onCancel()\r\n    }\r\n    this.handleClose()\r\n  }\r\n\r\n  handleConfirm = () => {\r\n    const { name, data, onAccept } = this.props\r\n\r\n    actions.modals.close(name)\r\n\r\n    if (typeof onAccept === 'function') {\r\n      onAccept()\r\n    }\r\n\r\n    if (typeof data.onAccept === 'function') {\r\n      data.onAccept()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      intl,\r\n      name,\r\n      data: {\r\n        title,\r\n        message,\r\n        labelYes,\r\n        labelNo,\r\n      },\r\n    } = this.props\r\n\r\n    const labels = {\r\n      title: title || intl.formatMessage(defaultLanguage.title),\r\n      message: message || intl.formatMessage(defaultLanguage.message),\r\n      yes: labelYes || intl.formatMessage(defaultLanguage.yes),\r\n      no: labelNo || intl.formatMessage(defaultLanguage.no),\r\n    }\r\n\r\n    return (\r\n      <div styleName=\"modal-overlay\" onClick={this.handleClose}>\r\n        <div styleName=\"modal\">\r\n          <div styleName=\"header\">\r\n            {/*\r\n            //@ts-ignore */}\r\n            <WidthContainer styleName=\"headerContent\">\r\n              <div styleName=\"title\">{labels.title}</div>\r\n            </WidthContainer>\r\n          </div>\r\n          <div styleName=\"content\">\r\n            <div styleName=\"notification-overlay\">\r\n              <p styleName=\"notification\">{labels.message}</p>\r\n            </div>\r\n            <div styleName=\"button-overlay\">\r\n              <Button styleName=\"button\" gray onClick={this.handleCancel}>{labels.no}</Button>\r\n              <Button styleName=\"button\" blue onClick={this.handleConfirm}>{labels.yes}</Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(Confirm)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"_2ytS1-ZlNtanYj3lXSq1iA==\",\"headerContent\":\"ekSnFDZulCSovW1dQby3PA==\",\"title\":\"RHfipB2sWFARjb6jXdnWvg==\",\"uppercase\":\"Dq8QYifFW9AiXcdJ1Bps1Q==\",\"closeButton\":\"h-jomFzmXqwb75fjkbXqAw==\",\"modal-overlay\":\"zHZW8rlvtOZMDf0s4tnC5Q==\",\"modal\":\"Ab-9mspK903tnNGA+iyyyQ==\",\"button\":\"_2SjVvm6ROx7mNr0tSXZ+MA==\",\"content\":\"HOc5B9D-KTQ3FlPD9YcbfQ==\",\"notification-overlay\":\"WUVPRaH9ZMXY4Uui1eKhUQ==\",\"notification\":\"dwyLOKWGSCP+kgBSMhHe5Q==\",\"button-overlay\":\"G88S+9hFnj6BWmRVBCVD+Q==\"};","import React, { Component, RefObject } from 'react'\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './MnemonicInput.css'\r\n\r\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\r\nimport { isMobile } from 'react-device-detect'\r\n\r\nimport * as bip39 from 'bip39'\r\nimport ReactTags from 'react-tag-autocomplete'\r\n\r\n\r\nconst langPrefix = `MnemonicInputComponent`\r\nconst langLabels = defineMessages({\r\n  placeholder: {\r\n    id: `${langPrefix}_Placeholder`,\r\n    defaultMessage: `   `,\r\n  },\r\n  deleteText: {\r\n    id: `${langPrefix}_DeleteText`,\r\n    defaultMessage: `,   `,\r\n  },\r\n})\r\n\r\ntype MnemonicInputProps = {\r\n  onChange: (string) => void\r\n  fullWidth?: boolean\r\n  autoFill?: boolean\r\n  intl?: { [key: string]: any }\r\n}\r\n\r\ntype Tags = {\r\n  id: number\r\n  name: string\r\n}[]\r\n\r\ntype MnemonicInputState = {\r\n  suggestions: Tags\r\n  tags: Tags\r\n  isPlaceholderVisible: boolean\r\n  busy?: boolean\r\n}\r\n\r\n@cssModules(styles, { allowMultiple: true })\r\nclass MnemonicInput extends Component<MnemonicInputProps, MnemonicInputState> {\r\n  /* \r\n  * This phrase just for test\r\n  * If config entry point equals testnet\r\n  * Then fill in the input with a test phrase\r\n  */\r\n  private TESTNET_TEST_PHRASE = 'vast bronze oyster trade love once fog match rail lock cake science'\r\n  private TESTNET_TAGS: Tags\r\n  private isAutofill = false\r\n\r\n  reactTags: RefObject<any>\r\n\r\n  constructor (props) {\r\n    super(props)\r\n\r\n    const { autoFill = false } = props\r\n    const suggestions = bip39.wordlists.english.map((name, id) => { return { id, name } })\r\n\r\n    if (autoFill) {\r\n      this.isAutofill = true\r\n      //@ts-ignore: strictNullChecks\r\n      this.TESTNET_TAGS = this.TESTNET_TEST_PHRASE.split(' ').map(word => {\r\n        return suggestions.find(obj => obj.name === word)\r\n      })\r\n    }\r\n\r\n    this.state = {\r\n      tags: [],\r\n      suggestions,\r\n      isPlaceholderVisible: true,\r\n    }\r\n\r\n    this.reactTags = React.createRef()\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { autoFill = false } = this.props\r\n\r\n    if (autoFill) { // without last element\r\n      this.onAddition(this.TESTNET_TAGS[this.TESTNET_TAGS.length - 1])\r\n    }\r\n  }\r\n\r\n  onChangeCallback () {\r\n    const {\r\n      props: {\r\n        onChange,\r\n      },\r\n      state: {\r\n        tags,\r\n      },\r\n    } = this\r\n\r\n    const words = tags.map(tagData => tagData.name)\r\n    this.setState({ isPlaceholderVisible: words.length < 12 })\r\n\r\n    const mnemonic = words.join(` `)\r\n\r\n    if (onChange instanceof Function) {\r\n      onChange(mnemonic)\r\n    }\r\n  }\r\n\r\n  onDelete = (i) => {\r\n    const tags = this.state.tags.slice(0)\r\n    tags.splice(i, 1)\r\n    this.setState({ tags }, this.onChangeCallback )\r\n  }\r\n\r\n  onAddition = (tag) => {\r\n    /* \r\n    * there is probably a better solution to autofill ReactTags component \r\n    * you need to call this callback at least once\r\n    * so pass the last element in the argument\r\n    */\r\n   const returnTags = () => {\r\n     if (this.isAutofill) {\r\n        const testnetTagsWithoutLastElement = this.TESTNET_TAGS.filter((tag, index) => {\r\n         return this.TESTNET_TAGS.length - 1 !== index\r\n        })\r\n        this.isAutofill = false\r\n        return [...testnetTagsWithoutLastElement, tag]\r\n      } else {\r\n        return [...this.state.tags, tag]\r\n      }\r\n    }\r\n\r\n    const tags = returnTags()\r\n    this.setState({ tags }, this.onChangeCallback )\r\n  }\r\n\r\n  onInput = (query) => {\r\n    const allowedhars = /[A-Za-z]/\r\n    const isPasteWords = query.trim().split(/\\s+/g)\r\n\r\n    if (query.match(allowedhars) === null) {\r\n      return null\r\n    } else if (isPasteWords.length === 12) {\r\n      /* This pasted of phrase */\r\n      const tags = isPasteWords.map((name, id) => { return { id, name } })\r\n      this.setState({ tags }, () => {\r\n        this.reactTags.current.clearInput()\r\n        this.onChangeCallback()\r\n      })\r\n    } else if (!this.state.busy) {\r\n      this.setState({ busy: true })\r\n\r\n      return fetch(`query=${query}`).then((result) => {\r\n        this.setState({ busy: false })\r\n      })\r\n    } \r\n  }\r\n\r\n  render () {\r\n    const {\r\n      props: {\r\n        intl,\r\n        fullWidth,\r\n      },\r\n      state: {\r\n        tags,\r\n        suggestions,\r\n        isPlaceholderVisible\r\n      },\r\n      reactTags,\r\n    } = this\r\n\r\n    return (\r\n      <div translate=\"no\" className={`notranslate mnemonicInput ${(isMobile) ? '--is-mobile' : ''} ${(fullWidth) ? '--full-width' : ''}`}>\r\n        <ReactTags\r\n          ref={reactTags}\r\n          tags={tags}\r\n          autoresize={true}\r\n          suggestions={suggestions}\r\n          onDelete={this.onDelete}\r\n          onAddition={this.onAddition}\r\n          onInput={this.onInput}\r\n          //@ts-ignore: strictNullChecks\r\n          placeholderText={isPlaceholderVisible ? intl.formatMessage(langLabels.placeholder) : ''}\r\n          //@ts-ignore: strictNullChecks\r\n          removeButtonText={intl.formatMessage(langLabels.deleteText)}\r\n          delimiters={[`Enter`, `Tab`, ` `, `,`]}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(MnemonicInput)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport { connect } from 'redaction'\r\nimport actions from 'redux/actions'\r\nimport Link from 'local_modules/sw-valuelink'\r\n\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './ConfirmBeginSwap.scss'\r\n\r\nimport { Button, Toggle } from 'components/controls'\r\nimport { Input } from 'components/forms'\r\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\r\nimport WidthContainer from 'components/layout/WidthContainer/WidthContainer'\r\nimport typeforce from 'swap.app/util/typeforce'\r\n\r\nimport config from 'app-config'\r\n\r\nconst defaultLanguage = defineMessages({\r\n  title: {\r\n    id: 'confirmDialogDefaultTitle',\r\n    defaultMessage: 'Confirm action',\r\n  },\r\n  message: {\r\n    id: 'confirmDialogDefaultMessage',\r\n    defaultMessage: 'Confirm action on this site?',\r\n  },\r\n  yes: {\r\n    id: 'confirmDialogDefaultYes',\r\n    defaultMessage: 'Yes',\r\n  },\r\n  no: {\r\n    id: 'confirmDialogDefaultNo',\r\n    defaultMessage: 'No',\r\n  },\r\n})\r\n\r\n@connect(({\r\n  user: {\r\n    ethData,\r\n    bnbData,\r\n    maticData,\r\n    arbethData,\r\n    btcData,\r\n    ghostData,\r\n    nextData,\r\n    tokensData,\r\n  },\r\n}) => ({\r\n  currenciesData: [\r\n    ethData, \r\n    bnbData, \r\n    maticData,\r\n    arbethData, \r\n    btcData, \r\n    ghostData, \r\n    nextData,\r\n  ],\r\n  tokensData: [...Object.keys(tokensData).map(k => (tokensData[k]))],\r\n}))\r\n@CSSModules(styles, { allowMultiple: true })\r\nclass ConfirmBeginSwap extends React.Component<any, any> {\r\n  static propTypes = {\r\n    onAccept: PropTypes.func,\r\n  }\r\n\r\n  systemWallets: any\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const { tokensData, currenciesData } = props\r\n\r\n    this.systemWallets = {}\r\n\r\n    const coinsData = [...currenciesData, ...tokensData]\r\n    coinsData.forEach(item => {\r\n      if (item.currency && item.address) {\r\n        this.systemWallets[item.currency.toUpperCase()] = item.address\r\n      }\r\n    })\r\n\r\n    this.state = {\r\n      customWalletUse: false,\r\n    }\r\n  }\r\n\r\n  customWalletIsValid() {\r\n    const { customWallet, customWalletUse } = this.state\r\n    const { sellCurrency } = this.props.data.order\r\n\r\n    if (customWalletUse) {\r\n      if (!typeforce.isCoinAddress[sellCurrency]) {\r\n        console.warn(`Swap.Core unknown isCoinAddress check for ${sellCurrency}`)\r\n        return true\r\n      }\r\n      return typeforce.isCoinAddress[sellCurrency](customWallet)\r\n    }\r\n    return true\r\n  }\r\n\r\n  customWalletAllowed() {\r\n\r\n    return false // temporary disable custom address\r\n\r\n    /*const { buyCurrency, sellCurrency } = this.props.data.order\r\n\r\n    if (buyCurrency === 'BTC') {\r\n      // btc-token\r\n      if (config.erc20[sellCurrency.toLowerCase()] !== undefined) return true\r\n      // btc-eth\r\n      if (sellCurrency === 'ETH') return true\r\n      if (sellCurrency === 'GHOST') return true\r\n      if (sellCurrency === 'NEXT') return true\r\n    }\r\n    if (config.erc20[buyCurrency.toLowerCase()] !== undefined) {\r\n      // token-btc\r\n      if (sellCurrency === 'BTC') return true\r\n      if (sellCurrency === 'GHOST') return true\r\n      if (sellCurrency === 'NEXT') return true\r\n    }\r\n\r\n    if (buyCurrency === 'ETH') {\r\n      // eth-btc\r\n      if (sellCurrency === 'BTC') return true\r\n      if (sellCurrency === 'GHOST') return true\r\n      if (sellCurrency === 'NEXT') return true\r\n    }\r\n\r\n    if (buyCurrency === 'GHOST') {\r\n      // ghost-eth\r\n      if (sellCurrency === 'ETH') return true\r\n       // ghost-btc\r\n      if (sellCurrency === 'BTC') return true\r\n    }\r\n\r\n    if (buyCurrency === 'NEXT') {\r\n      // next-eth\r\n      if (sellCurrency === 'ETH') return true\r\n       // next-btc\r\n      if (sellCurrency === 'BTC') return true\r\n    }\r\n\r\n    return false*/\r\n  }\r\n\r\n  handleCustomWalletUse = () => {\r\n    const { customWalletUse } = this.state\r\n\r\n    const newCustomWalletUse = !customWalletUse\r\n\r\n    const { sellCurrency } = this.props.data.order\r\n    const sellTicker = sellCurrency.toUpperCase()\r\n    const sellWalletAddress = this.systemWallets[sellTicker]\r\n\r\n    this.setState({\r\n      customWalletUse: newCustomWalletUse,\r\n      customWallet: (newCustomWalletUse === false) ? '' : sellWalletAddress,\r\n    })\r\n  }\r\n\r\n  handleClose = () => {\r\n    const { name, data, onClose } = this.props\r\n\r\n    if (typeof onClose === 'function') {\r\n      onClose()\r\n    }\r\n\r\n    if (typeof data.onClose === 'function') {\r\n      data.onClose()\r\n    }\r\n\r\n    actions.modals.close(name)\r\n  }\r\n\r\n  handleConfirm = () => {\r\n    const { name, data, onAccept } = this.props\r\n    const { customWalletUse, customWallet } = this.state\r\n\r\n    if (!this.customWalletIsValid()) {\r\n      return\r\n    }\r\n\r\n    actions.modals.close(name)\r\n\r\n    if (typeof onAccept === 'function') {\r\n      onAccept((customWalletUse) ? customWallet : null)\r\n    }\r\n\r\n    if (typeof data.onAccept === 'function') {\r\n      data.onAccept((customWalletUse) ? customWallet : null)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      intl,\r\n      name,\r\n      data: {\r\n        title,\r\n        message,\r\n        labelYes,\r\n        labelNo,\r\n      },\r\n    } = this.props\r\n\r\n    const labels = {\r\n      title: title || intl.formatMessage(defaultLanguage.title),\r\n      message: message || intl.formatMessage(defaultLanguage.message),\r\n      yes: labelYes || intl.formatMessage(defaultLanguage.yes),\r\n      no: labelNo || intl.formatMessage(defaultLanguage.no),\r\n    }\r\n\r\n    const { customWalletUse, customWallet } = this.state\r\n    const okStyle = (this.customWalletIsValid()) ? 'brand' : 'gray'\r\n\r\n    const linked = Link.all(this, 'customWallet')\r\n\r\n\r\n    return (\r\n      <div styleName=\"modal-overlay\">\r\n        <div styleName=\"modal\">\r\n          <div styleName=\"header\">\r\n            {/*\r\n            //@ts-ignore */}\r\n            <WidthContainer styleName=\"headerContent\">\r\n              <div styleName=\"title\">{labels.title}</div>\r\n            </WidthContainer>\r\n          </div>\r\n          <div styleName=\"content\">\r\n            <div styleName=\"content-inner\">\r\n              <p styleName=\"notification\">{labels.message}</p>\r\n\r\n              {this.customWalletAllowed()\r\n                ?\r\n                <div>\r\n                  {\r\n                    (!this.customWalletIsValid()) && (\r\n                      <div styleName=\"error\">\r\n                        <FormattedMessage id=\"CustomWalletIsNotCorrect\" defaultMessage=\"Wallet address is incorrect\" />\r\n                      </div>\r\n                    )\r\n                  }\r\n                  <div styleName=\"walletToggle walletToggle_site\">\r\n                    <div styleName=\"walletOpenSide\">\r\n                      {/*\r\n                      //@ts-ignore */}\r\n                      <Toggle checked={customWalletUse} onChange={this.handleCustomWalletUse} />\r\n                      <span styleName=\"specify\">\r\n                        <FormattedMessage id=\"UseAnotherWallet\" defaultMessage=\"Specify the receiving wallet address\" />\r\n                      </span>\r\n                    </div>\r\n                    <div styleName={customWalletUse ? 'anotherRecepient anotherRecepient_active' : 'anotherRecepient'}>\r\n                      <div styleName=\"walletInput\">\r\n                        <Input required valueLink={linked.customWallet} pattern=\"0-9a-zA-Z\" placeholder=\"Enter the receiving wallet address\" />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                :\r\n                <div>\r\n                  <FormattedMessage id=\"ConfirmBeginSwapOnlyInternal\" defaultMessage=\"Acceptance of an offer from the offerbook is temporarily possible only for internal addresses\" />\r\n                </div>\r\n              }\r\n            </div>\r\n          </div>\r\n          <div styleName=\"buttons\">\r\n            <Button styleName=\"button\" gray onClick={this.handleClose}>{labels.no}</Button>\r\n            {(this.customWalletIsValid()) && (\r\n              <Button styleName=\"button\" blue onClick={this.handleConfirm}>{labels.yes}</Button>\r\n            )}\r\n            {(!this.customWalletIsValid()) && (\r\n              <Button styleName=\"button\" disabled>{labels.yes}</Button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(ConfirmBeginSwap)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"DjnxoqPpRw36GtLNDwemfw==\",\"headerContent\":\"hIEd+hkDIlaDznpF55k19Q==\",\"title\":\"tXFRIgKz9XeFpJq9QExWow==\",\"uppercase\":\"-R+zFSDMJfBMgCo6hJ7jeA==\",\"error\":\"NNw7bNnF2ACkcQkqL1q0hg==\",\"closeButton\":\"v2733uWr8eIl3gvh6pSUHA==\",\"modal-overlay\":\"Y0HboZOwNSx8Rg2A5i6udQ==\",\"modal\":\"_342ybbKms+lQvc7vbL-4wg==\",\"button\":\"gsmegF-sRZIZ3TWoSrEHuA==\",\"content\":\"_3ElExErGbBCjPS2vDcLm7g==\",\"content-inner\":\"jLH2lvSOQWBlRtpRRww-7Q==\",\"notification\":\"f8IS+PskY7PW2Yl6VoECJQ==\",\"walletToggle\":\"_45j+W7aEbY4Ots7nQBDe8A==\",\"walletToggle_site\":\"GZZiE49nYosVXsizDYeWMg==\",\"walletOpenSide\":\"_7jH1mcNhVl6oXg3ptrjxYA==\",\"specify\":\"YFP49HoNb7MA78fzfMiJeg==\",\"anotherRecepient\":\"t5TiCORglfCra1LK2bllDQ==\",\"anotherRecepient_active\":\"hb7ZDPkh7xaFxpHob2znvQ==\",\"walletInput\":\"BrWn-pQmS75FPa8vtiiJgQ==\",\"buttons\":\"maVtT6KBf+ObZ+Qo0eyh+Q==\"};","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { constants } from 'helpers'\r\nimport actions from 'redux/actions'\r\nimport { connect } from 'redaction'\r\n\r\nimport cssModules from 'react-css-modules'\r\n\r\nimport defaultStyles from '../Styles/default.scss'\r\nimport styles from './MultisignJoinLink.scss'\r\n\r\nimport Modal from 'components/modal/Modal/Modal'\r\nimport Button from 'components/controls/Button/Button'\r\nimport { ShareLink } from 'components/controls'\r\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\r\n\r\nimport links from 'helpers/links'\r\nimport { getFullOrigin } from 'helpers/links'\r\n\r\nimport SwapApp from 'swap.app'\r\n\r\n\r\nconst langLabels = defineMessages({\r\n  multiSignJoinLinkMessage: {\r\n    id: 'multiSignJoinLinkMessage',\r\n    defaultMessage: `     `,\r\n  },\r\n  multiSignJoinLink: {\r\n    id: 'multiSignJoinLink',\r\n    defaultMessage: ` BTC-Multisign `,\r\n  },\r\n  needSaveMnemonicToContinue: {\r\n    id: 'multiSignJoinLink_YouNeedSaveMnemonic',\r\n    defaultMessage: `  btc-multisig    12 .`,\r\n  },\r\n  pleaseSaveMnemonicToContinue: {\r\n    id: 'multiSignJoinLink_SaveYourMnemonic',\r\n    defaultMessage: `    .`\r\n  },\r\n  buttonSaveMnemonic: {\r\n    id: 'multiSignJoinLink_ButtonSaveMnemonic',\r\n    defaultMessage: `Save`,\r\n  },\r\n  buttonCancel: {\r\n    id: 'multiSignJoinLink_ButtonCancel',\r\n    defaultMessage: `Cancel`,\r\n  },\r\n})\r\n\r\n@connect(\r\n  ({\r\n    user: {\r\n      btcData,\r\n    },\r\n  }) => ({\r\n    btcData,\r\n  })\r\n)\r\n@cssModules({ ...defaultStyles, ...styles }, { allowMultiple: true })\r\nclass MultisignJoinLink extends React.Component<any, any> {\r\n  static propTypes = {\r\n    name: PropTypes.string,\r\n    data: PropTypes.object,\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\r\n    const mnemonicSaved = (mnemonic === `-`)\r\n\r\n    this.state = {\r\n      joinLink: '',\r\n      mnemonicSaved,\r\n      step: (mnemonicSaved) ? 'link' : 'savemnemonic',\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const {\r\n      data: {\r\n        action,\r\n      },\r\n      btcData,\r\n    } = this.props\r\n\r\n    const publicKey = btcData.publicKey.toString('Hex')\r\n    const linkAction = action || `join`\r\n\r\n    //@ts-ignore: strictNullChecks\r\n    const joinLink = `${getFullOrigin()}${links.multisign}/btc/${linkAction}/${publicKey}/${SwapApp.shared().services.room.peer}`\r\n\r\n    this.setState(() => ({\r\n      joinLink,\r\n    }))\r\n  }\r\n\r\n  handleBeginSaveMnemonic = async () => {\r\n    actions.modals.open(constants.modals.SaveWalletSelectMethod, {\r\n      onClose: () => {\r\n        const mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\r\n        const mnemonicSaved = (mnemonic === `-`)\r\n        const step = (mnemonicSaved) ? 'link' : 'savemnemonic'\r\n\r\n        this.setState({\r\n          mnemonicSaved,\r\n          step,\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  handleClose = () => {\r\n    const { name, data, onClose } = this.props\r\n\r\n    if (typeof onClose === 'function') {\r\n      onClose()\r\n    }\r\n\r\n    if (typeof data.onClose === 'function') {\r\n      data.onClose()\r\n    }\r\n\r\n    actions.modals.close(name)\r\n  }\r\n\r\n  handleFinish = async () => {\r\n    const {\r\n      name,\r\n      data: {\r\n        callback,\r\n      },\r\n    } = this.props\r\n\r\n    actions.modals.close(name)\r\n\r\n    if (callback && callback instanceof Function) {\r\n      callback()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { name, intl } = this.props\r\n    const {\r\n      joinLink,\r\n      isLinkCopied,\r\n      step,\r\n    } = this.state\r\n\r\n    const {\r\n      data: {\r\n        showCloseButton,\r\n      },\r\n    } = this.props\r\n\r\n    return (\r\n      //@ts-ignore: strictNullChecks\r\n      <Modal name={name} title={`${intl.formatMessage(langLabels.multiSignJoinLink)}`} onClose={this.handleClose} showCloseButton={showCloseButton}>\r\n        {step === 'savemnemonic' && (\r\n          <Fragment>\r\n            <div styleName=\"content-overlay\">\r\n              <p styleName=\"centerInfoBlock\">\r\n                <strong>\r\n                  <FormattedMessage {...langLabels.needSaveMnemonicToContinue} />\r\n                </strong>\r\n                <br />\r\n                <FormattedMessage {...langLabels.pleaseSaveMnemonicToContinue} />\r\n              </p>\r\n            </div>\r\n\r\n            <div styleName=\"buttonsHolder buttonsHolder_2_buttons button-overlay\">\r\n              <Button blue onClick={this.handleBeginSaveMnemonic}>\r\n                <FormattedMessage {...langLabels.buttonSaveMnemonic} />\r\n              </Button>\r\n              <Button gray onClick={this.handleClose}>\r\n                <FormattedMessage {...langLabels.buttonCancel} />\r\n              </Button>\r\n            </div>\r\n          </Fragment>\r\n        )}\r\n        {step === 'link' && (\r\n          <Fragment>\r\n            <p styleName=\"notice\">\r\n              <FormattedMessage { ... langLabels.multiSignJoinLinkMessage } />\r\n            </p>\r\n            <div className=\"ym-hide-content\">\r\n              <ShareLink link={joinLink} fullSize={true} />\r\n            </div>\r\n            <hr />\r\n            <Button blue styleName=\"finishButton\" fullWidth onClick={this.handleFinish}>\r\n              <FormattedMessage id=\"BTCMS_CreateWalletReadyButton\" defaultMessage=\".  \" />\r\n            </Button>\r\n          </Fragment>\r\n        )}\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(MultisignJoinLink)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"generatedJoinLink\":\"_3IsdrxzS0YlBwYE7X52OGQ==\",\"finishButton\":\"fmRdS4wcywjfaKGqybQGog==\",\"buttonsHolder\":\"vLGnCDHpFvFViBbyQWLRTA==\",\"buttonsHolder_2_buttons\":\"+DznTCILZo2aKcqI+nl+PQ==\"};","// extracted by mini-css-extract-plugin\nexport default {\"invoiceModalHolder\":\"FekGQs1Bdqz+wzkqjmW1TA==\",\"amountTooltip\":\"rSX6ob+4YtZE+-5WuTNF1A==\"};","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport React from 'react'\r\nimport { constants, feedback, links, routing } from 'helpers'\r\nimport actions from 'redux/actions'\r\nimport Link from 'local_modules/sw-valuelink'\r\nimport BigNumber from 'bignumber.js'\r\nimport cssModules from 'react-css-modules'\r\nimport dropDownStyles from 'components/ui/DropDown/index.scss'\r\nimport Modal from 'components/modal/Modal/Modal'\r\nimport FieldLabel from 'components/forms/FieldLabel/FieldLabel'\r\nimport Input from 'components/forms/Input/Input'\r\nimport Button from 'components/controls/Button/Button'\r\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\r\nimport CurrencySelect from 'components/ui/CurrencySelect/CurrencySelect'\r\nimport { isMobile } from 'react-device-detect'\r\nimport QrReader from 'components/QrReader'\r\nimport erc20Like from 'common/erc20Like'\r\nimport typeforce from 'swap.app/util/typeforce'\r\nimport { inputReplaceCommaWithDot } from 'helpers/domUtils'\r\nimport getCurrencyKey from 'helpers/getCurrencyKey'\r\nimport ownStyle from './InvoiceModal.scss'\r\nimport styles from '../Styles/default.scss'\r\n\r\nconst localeLabel = defineMessages({\r\n  title: {\r\n    id: 'invoiceModal_Title',\r\n    defaultMessage: '   ',\r\n  },\r\n  addressPlaceholder: {\r\n    id: 'invoiceModal_addressPlaceholder',\r\n    defaultMessage: '  {currency} ',\r\n  },\r\n  destiAddressPlaceholder: {\r\n    id: 'invoiceModal_destiAddressPlaceholder',\r\n    defaultMessage: '  {currency} ',\r\n  },\r\n  amountPlaceholder: {\r\n    id: 'invoiceModal_amountPlaceholder',\r\n    defaultMessage: ' ',\r\n  },\r\n  contactPlaceholder: {\r\n    id: 'invoiceModal_contactPlaceholder',\r\n    defaultMessage: ' ',\r\n  },\r\n  labelPlaceholder: {\r\n    id: 'invoiceModal_labelPlaceholder',\r\n    defaultMessage: '   ',\r\n  },\r\n})\r\n\r\ntype InvoiceModalProps = {\r\n  name: string\r\n  intl: IUniversalObj\r\n  data: IUniversalObj\r\n}\r\n\r\ntype InvoiceModalState = {\r\n  toAddressEnabled: boolean\r\n  openScanCam: boolean\r\n  isToken: boolean\r\n  isShipped: boolean\r\n  selectedValue: string\r\n  payerAddress: string\r\n  destination: string\r\n  address: string\r\n  contact: string\r\n  fiatAmount: string\r\n  amount: string\r\n  label: string\r\n  currentDecimals: number\r\n  multiplier: BigNumber\r\n  error: IError | null\r\n  infoAboutCurrency: IUniversalObj\r\n  walletData: IUniversalObj\r\n}\r\n\r\n@cssModules({ ...styles, ...ownStyle }, { allowMultiple: true })\r\nclass InvoiceModal extends React.Component<InvoiceModalProps, InvoiceModalState> {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const {\r\n      data: {\r\n        address,\r\n        currency,\r\n        toAddress,\r\n      },\r\n      payerAddress = false,\r\n    } = props\r\n\r\n    const isToken = erc20Like.isToken({ name: currency })\r\n    const walletData = actions.core.getWallet({ currency })\r\n    const currentDecimals = walletData.decimals\r\n    const { infoAboutCurrency } = walletData\r\n    const multiplier = infoAboutCurrency && infoAboutCurrency.price_fiat\r\n      ? infoAboutCurrency.price_fiat\r\n      : 0\r\n\r\n    this.state = {\r\n      isToken,\r\n      isShipped: false,\r\n      openScanCam: false,\r\n      toAddressEnabled: !!toAddress,\r\n      address: toAddress || '',\r\n      destination: address || '',\r\n      payerAddress,\r\n      contact: '',\r\n      label: '',\r\n      selectedValue: currency,\r\n      fiatAmount: '',\r\n      amount: '',\r\n      multiplier: new BigNumber(multiplier),\r\n      currentDecimals,\r\n      error: null,\r\n      infoAboutCurrency,\r\n      walletData,\r\n    }\r\n\r\n    localStorage.setItem(constants.localStorage.invoicesEnabled, '1')\r\n  }\r\n\r\n  handleSubmit = () => {\r\n    const { data } = this.props\r\n    const {\r\n      address,\r\n      amount,\r\n      destination,\r\n      contact,\r\n      label,\r\n      isShipped,\r\n      walletData: {\r\n        currency: currencyOriginal,\r\n        tokenKey,\r\n      },\r\n    } = this.state\r\n\r\n    const currency = ((tokenKey) || currencyOriginal).toUpperCase()\r\n    if (isShipped) return\r\n\r\n    this.setState({\r\n      isShipped: true,\r\n    }, async () => {\r\n      try {\r\n        const message = `${contact}\\r\\n${label}`\r\n        const result: any = await actions.invoices.addInvoice({\r\n          currency,\r\n          toAddress: address,\r\n          fromAddress: data.address,\r\n          amount,\r\n          contact,\r\n          label: message,\r\n          destination,\r\n        })\r\n        if (result && result.answer && result.answer === 'ok') {\r\n          this.handleGoToInvoice(result.invoiceId)\r\n        }\r\n        if (data.onReady instanceof Function) {\r\n          data.onReady()\r\n        }\r\n      } catch (error) {\r\n        this.reportError(error)\r\n      }\r\n\r\n      this.setState({\r\n        isShipped: false,\r\n      })\r\n    })\r\n  }\r\n\r\n  reportError = (error) => {\r\n    feedback.createInvoice.failed(error)\r\n    console.error(error)\r\n  }\r\n\r\n  handleGoToInvoice = (invoiceId) => {\r\n    routing.redirectTo(`${links.invoice}/${invoiceId}/share`)\r\n  }\r\n\r\n  addressIsCorrect(otherAddress = '') {\r\n    const {\r\n      isToken,\r\n      address,\r\n      walletData: {\r\n        currency,\r\n      },\r\n    } = this.state\r\n    const checkAddress = otherAddress || address\r\n\r\n    if (isToken) {\r\n      return typeforce.isCoinAddress.ETH(checkAddress)\r\n    }\r\n\r\n    const checkCurrency = getCurrencyKey(currency, true).toUpperCase()\r\n\r\n    return typeforce.isCoinAddress[checkCurrency](checkAddress)\r\n  }\r\n\r\n  openScan = () => {\r\n    const { openScanCam } = this.state\r\n\r\n    this.setState(() => ({\r\n      openScanCam: !openScanCam,\r\n    }))\r\n  }\r\n\r\n  handleAmount = (value): any => {\r\n    const {\r\n      multiplier,\r\n      currentDecimals,\r\n      selectedValue,\r\n      walletData: {\r\n        currency: currencyOriginal,\r\n        tokenKey,\r\n      },\r\n    } = this.state\r\n\r\n    const currency = ((tokenKey) || currencyOriginal).toUpperCase()\r\n\r\n    if (!value) {\r\n      this.setState({\r\n        fiatAmount: '',\r\n        amount: '',\r\n      })\r\n    } else if (selectedValue === currency) {\r\n      this.setState({\r\n        fiatAmount: new BigNumber(value)\r\n          .times(multiplier)\r\n          .dp(2, BigNumber.ROUND_CEIL)\r\n          .toString(),\r\n        amount: value,\r\n      })\r\n    } else {\r\n      this.setState({\r\n        fiatAmount: value,\r\n        amount: new BigNumber(value)\r\n          .div(multiplier)\r\n          .dp(currentDecimals, BigNumber.ROUND_CEIL)\r\n          .toString(),\r\n      })\r\n    }\r\n  }\r\n\r\n  handleScan = (data) => {\r\n    if (data) {\r\n      this.setState({\r\n        address: data.includes(':') ? data.split(':')[1] : data,\r\n      }, () => {\r\n        this.openScan()\r\n      })\r\n    }\r\n  }\r\n\r\n  handleBuyCurrencySelect = (value) => {\r\n    this.setState({\r\n      selectedValue: value.name,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      address,\r\n      destination,\r\n      amount,\r\n      fiatAmount,\r\n      contact,\r\n      isShipped,\r\n      openScanCam,\r\n      error,\r\n      selectedValue,\r\n      toAddressEnabled,\r\n      walletData: {\r\n        currency: currencyOriginal,\r\n        tokenKey,\r\n      },\r\n      walletData,\r\n      multiplier,\r\n    } = this.state\r\n    const currency = ((tokenKey) || currencyOriginal).toUpperCase()\r\n\r\n    const {\r\n      name,\r\n      data: {\r\n        disableClose,\r\n      },\r\n      intl,\r\n    } = this.props\r\n\r\n    const linked = Link.all(\r\n      this,\r\n      'address',\r\n      'destination',\r\n      'fiatAmount',\r\n      'amount',\r\n      'contact',\r\n      'label',\r\n    )\r\n\r\n    const curList = [\r\n      {\r\n        fullTitle: walletData.fullName,\r\n        icon: currencyOriginal.toLowerCase(),\r\n        name: currencyOriginal,\r\n        title: currencyOriginal,\r\n        value: currency,\r\n      },\r\n      {\r\n        fullTitle: 'USD',\r\n        icon: 'usd',\r\n        name: 'USD',\r\n        title: 'USD',\r\n        value: 'USD',\r\n      },\r\n    ]\r\n\r\n    const isDisabled = !amount || isShipped || !destination || !contact || (!!address && !this.addressIsCorrect())\r\n\r\n    return (\r\n      <Modal\r\n        name={name}\r\n        title={`${intl.formatMessage(localeLabel.title)}${' '}${currency.toUpperCase()}`}\r\n        disableClose={disableClose}\r\n      >\r\n        <>\r\n          {openScanCam && (\r\n            <QrReader\r\n              openScan={this.openScan}\r\n              handleError={this.reportError}\r\n              handleScan={this.handleScan}\r\n            />\r\n          )}\r\n          <div styleName=\"invoiceModalHolder\">\r\n            {toAddressEnabled && (\r\n              <div styleName=\"highLevel\">\r\n                <FieldLabel>\r\n                  <FormattedMessage\r\n                    id=\"invoiceModal_Address\"\r\n                    defaultMessage=\",    \"\r\n                  />\r\n                </FieldLabel>\r\n                <Input\r\n                  smallFontSize\r\n                  withMargin\r\n                  valueLink={linked.address}\r\n                  focusOnInit\r\n                  pattern=\"0-9a-zA-Z:\"\r\n                  placeholder={intl.formatMessage(localeLabel.addressPlaceholder, {\r\n                    currency: currency.toUpperCase(),\r\n                  })}\r\n                  qr={isMobile}\r\n                  openScan={this.openScan}\r\n                />\r\n                {address && !this.addressIsCorrect() && (\r\n                  <div styleName=\"rednote\">\r\n                    <FormattedMessage\r\n                      id=\"invoiceModal_IncorrectAddress\"\r\n                      defaultMessage=\"Incorrect address\"\r\n                    />\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n            <div styleName=\"highLevel\">\r\n              <FieldLabel>\r\n                <FormattedMessage\r\n                  id=\"invoiceModal_destiAddress\"\r\n                  defaultMessage=\",    \"\r\n                />\r\n              </FieldLabel>\r\n              <Input\r\n                valueLink={linked.destination}\r\n                focusOnInit\r\n                smallFontSize\r\n                withMargin\r\n                pattern=\"0-9a-zA-Z:\"\r\n                placeholder={intl.formatMessage(localeLabel.destiAddressPlaceholder, {\r\n                  currency: currency.toUpperCase(),\r\n                })}\r\n                qr={isMobile}\r\n                openScan={this.openScan}\r\n              />\r\n              {destination && !this.addressIsCorrect(destination) && (\r\n                <div styleName=\"rednote\">\r\n                  <FormattedMessage\r\n                    id=\"invoiceModal_IncorrectAddress\"\r\n                    defaultMessage=\"Incorrect address\"\r\n                  />\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div styleName=\"highLevel\">\r\n              <FieldLabel>\r\n                <span>\r\n                  <FormattedMessage id=\"orders102\" defaultMessage=\"Amount\" />\r\n                </span>\r\n              </FieldLabel>\r\n              {!multiplier.isEqualTo(0) && (\r\n                <span styleName=\"amountTooltip\">\r\n                  {\r\n                    new BigNumber(amount).isGreaterThan(0)\r\n                      ? selectedValue === currency\r\n                        ? `~ ${fiatAmount} USD`\r\n                        : `~ ${amount} ${currency}`\r\n                      : ''\r\n                  }\r\n                </span>\r\n              )}\r\n              <Input\r\n                className={ownStyle.input}\r\n                placeholder={intl.formatMessage(localeLabel.amountPlaceholder)}\r\n                onKeyDown={inputReplaceCommaWithDot}\r\n                pattern=\"0-9\\.\"\r\n                withMargin\r\n                valueLink={selectedValue === currency\r\n                  ? linked.amount.pipe(this.handleAmount)\r\n                  : linked.fiatAmount.pipe(this.handleAmount)}\r\n              />\r\n              <CurrencySelect\r\n                className={dropDownStyles.simpleDropdown}\r\n                selectedValue={selectedValue}\r\n                onSelect={this.handleBuyCurrencySelect}\r\n                selectedItemRender={(item) => item.fullTitle}\r\n                currencies={curList}\r\n                disabled={multiplier.isEqualTo(0)}\r\n              />\r\n            </div>\r\n            <div styleName=\"highLevel\">\r\n              <FieldLabel>\r\n                <span>\r\n                  <FormattedMessage\r\n                    id=\"invoiceModal_Contact\"\r\n                    defaultMessage=\"  (  @)\"\r\n                  />\r\n                </span>\r\n              </FieldLabel>\r\n              <Input\r\n                valueLink={linked.contact}\r\n                withMargin\r\n                placeholder={intl.formatMessage(localeLabel.contactPlaceholder)}\r\n              />\r\n            </div>\r\n            <div styleName=\"lowLevel\">\r\n              <FieldLabel>\r\n                <span>\r\n                  <FormattedMessage id=\"invoiceModal_Label\" defaultMessage=\"\" />\r\n                </span>\r\n              </FieldLabel>\r\n              <div styleName=\"group\" style={{ marginBottom: '25px' }}>\r\n                <Input\r\n                  srollingForm\r\n                  valueLink={linked.label}\r\n                  multiline\r\n                  placeholder={intl.formatMessage(localeLabel.labelPlaceholder)}\r\n                />\r\n              </div>\r\n            </div>\r\n            <Button fullWidth blue big disabled={isDisabled} onClick={this.handleSubmit}>\r\n              {isShipped ? (\r\n                <FormattedMessage id=\"invoiceModal_Processing\" defaultMessage=\" ...\" />\r\n              ) : (\r\n                <FormattedMessage id=\"invoiceModal_Submit\" defaultMessage=\" \" />\r\n              )}\r\n            </Button>\r\n            {error && (\r\n              <div styleName=\"rednote\">\r\n                <FormattedMessage\r\n                  id=\"invoiceModal_Error\"\r\n                  defaultMessage=\"{errorName} {currency}:{br}{errorMessage}\"\r\n                  values={{\r\n                    errorName: intl.formatMessage(error.name),\r\n                    errorMessage: intl.formatMessage(error.message),\r\n                    br: <br />,\r\n                    currency: `${currency}`,\r\n                  }}\r\n                />\r\n              </div>\r\n            )}\r\n          </div>\r\n        </>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(InvoiceModal)\r\n","import React from 'react'\r\nimport CopyToClipboard from 'react-copy-to-clipboard'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './InvoiceLinkModal.scss'\r\n\r\nimport QR from 'components/QR/QR'\r\nimport { Modal } from 'components/modal'\r\nimport { Button } from 'components/controls'\r\nimport { FormattedMessage, defineMessages, injectIntl } from 'react-intl'\r\nimport { links } from 'helpers'\r\nimport { getFullOrigin } from 'helpers/links'\r\n\r\n\r\nconst labels = defineMessages({\r\n  Title: {\r\n    id: 'InvoiceLinkModal_Title',\r\n    defaultMessage: '   ',\r\n  },\r\n})\r\n\r\n@cssModules(styles)\r\nclass InvoiceLinkModal extends React.Component<any, any> {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      isLinkCopied: false,\r\n    }\r\n  }\r\n\r\n  handleCopyLink = () => {\r\n    this.setState({\r\n      isLinkCopied: true,\r\n    }, () => {\r\n      setTimeout(() => {\r\n        this.setState({\r\n          isLinkCopied: false,\r\n        })\r\n      }, 500)\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { props: { name, intl, data: { currency, address, tokenKey } }, state: { isLinkCopied } } = this\r\n\r\n    let type = (tokenKey) ? tokenKey.toLowerCase() : currency.toLowerCase()\r\n    switch (currency) {\r\n      case 'BTC (SMS-Protected)':\r\n      case 'BTC (PIN-Protected)':\r\n      case 'BTC (Multisig)':\r\n        type = 'btc'\r\n        break;\r\n    }\r\n    const invoiceLink = `${getFullOrigin()}${links.createInvoice}/${type}/${address}`\r\n\r\n    return (\r\n      <Modal name={name} title={intl.formatMessage(labels.Title)}>\r\n        <div styleName=\"content\">\r\n          <p style={{ fontSize: 25 }}>\r\n            <FormattedMessage id=\"InvoiceLinkModalInfo\" defaultMessage=\"    .\" />\r\n          </p>\r\n          <CopyToClipboard\r\n            text={invoiceLink}\r\n            onCopy={this.handleCopyLink}\r\n          >\r\n            <div>\r\n              <p>\r\n                {invoiceLink}\r\n              </p>\r\n              <Button\r\n                styleName=\"button\"\r\n                brand\r\n                onClick={() => {}}\r\n                disabled={isLinkCopied}\r\n                fullWidth\r\n              >\r\n                { isLinkCopied ?\r\n                  <FormattedMessage id=\"InvoiceLinkCopied\" defaultMessage=\"Link copied\" />\r\n                  :\r\n                  <FormattedMessage id=\"InvoiceLinkCopy\" defaultMessage=\"Copy this link\" />\r\n                }\r\n              </Button>\r\n            </div>\r\n          </CopyToClipboard>\r\n        </div>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(InvoiceLinkModal)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"n5D2EjcnwOwhXh3MeyhIYQ==\",\"content\":\"zVBIPeEQRbamX380H96SFg==\"};","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"EL0bbNJxoZDMhkVeGMAgNA==\",\"headerContent\":\"fVBXAjSj2nAlg9GolX6r9Q==\",\"closeButton\":\"_0iS9AAr+AM6jFN4LWdmpGg==\",\"title\":\"WgMuGo7aYLoGy53ZIgv7bg==\",\"modal-overlay\":\"_3PhEZDv-SKnOgxI2n9IWpA==\",\"modal-overlay_dashboardView\":\"_4hIs8NAXNd3V41Hd7aFHXA==\",\"modal\":\"i8inyXtSDUaSwJa7r0lFdw==\",\"modal_dashboardView\":\"xlB95QKGa-WCAH9HBpsDvQ==\",\"button\":\"-OFtCJM+f-C9q5tALzJS1g==\",\"button_autoWidth\":\"_8qRq9ToiE9r85NcCH7UfEg==\",\"content\":\"DEEkI1JR6PGvzstL9jkOqw==\",\"notification-overlay\":\"kfdE0GskjyUL2dp5BkSf8w==\",\"notification\":\"NQujvy-Q1mDyXWkiBbryjg==\",\"button-overlay\":\"PheVL+Fx4h1GZpx+M79F+Q==\"};","import React from 'react'\r\nimport { connect } from 'redaction'\r\nimport cx from 'classnames'\r\nimport actions from 'redux/actions'\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './AlertModal.scss'\r\nimport { Button } from 'components/controls'\r\nimport { injectIntl, IntlShape, defineMessages } from 'react-intl'\r\nimport WidthContainer from 'components/layout/WidthContainer/WidthContainer'\r\nimport CloseIcon from 'components/ui/CloseIcon/CloseIcon'\r\n\r\nconst defaultLanguage = defineMessages({\r\n  title: {\r\n    id: 'alertDialogDefaultTitle',\r\n    defaultMessage: '',\r\n  },\r\n  message: {\r\n    id: 'alertDialogDefaultMessage',\r\n    defaultMessage: '  ',\r\n  },\r\n  ok: {\r\n    id: 'alertDialogDefaultOk',\r\n    defaultMessage: 'Ok',\r\n  },\r\n})\r\n\r\ntype AlertModalProps = {\r\n  intl: IntlShape\r\n  name: string\r\n  dashboardModalsAllowed\r\n  onClose: () => void\r\n  data: {\r\n    canClose: boolean\r\n    dontClose: boolean\r\n    okButtonAutoWidth: boolean\r\n    onClose: () => void\r\n    callbackOk: () => boolean\r\n    title: JSX.Element\r\n    message: JSX.Element\r\n    labelOk: JSX.Element\r\n  }\r\n}\r\n\r\n\r\n@connect(({ ui: { dashboardModalsAllowed }}) => ({\r\n  dashboardModalsAllowed\r\n}))\r\n@cssModules(styles)\r\nclass AlertModal extends React.Component<AlertModalProps, null> {\r\n  closeWithCustomAction = () => {\r\n    const {\r\n      name,\r\n      data,\r\n      data: {\r\n        dontClose,\r\n      },\r\n      onClose,\r\n    } = this.props\r\n\r\n    if (dontClose) return\r\n\r\n    if (typeof onClose === 'function') {\r\n      onClose()\r\n    }\r\n\r\n    if (typeof data.onClose === 'function') {\r\n      data.onClose()\r\n    }\r\n\r\n    actions.modals.close(name)\r\n  }\r\n\r\n  closeModal = () => {\r\n    const { name } = this.props\r\n\r\n    actions.modals.close(name)\r\n  }\r\n\r\n  handleOk = () => {\r\n    const {\r\n      data: {\r\n        callbackOk,\r\n      },\r\n    } = this.props\r\n\r\n    if (typeof callbackOk === `function`) {\r\n      if (callbackOk()) {\r\n        this.closeModal()\r\n      }\r\n    } else {\r\n      this.closeWithCustomAction()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      intl,\r\n      data: {\r\n        canClose,\r\n        title,\r\n        message,\r\n        labelOk,\r\n        okButtonAutoWidth,\r\n      },\r\n      dashboardModalsAllowed,\r\n    } = this.props\r\n\r\n    const labels = {\r\n      title: title || intl.formatMessage(defaultLanguage.title),\r\n      message: message || intl.formatMessage(defaultLanguage.message),\r\n      ok: labelOk || intl.formatMessage(defaultLanguage.ok),\r\n    }\r\n\r\n    const buttonStyle = (!okButtonAutoWidth) ? `button` : `button_autoWidth`\r\n\r\n    return (\r\n      <div className={cx({\r\n        [styles['modal-overlay']]: true,\r\n      })}>\r\n        <div className={cx({\r\n          [styles.modal]: true,\r\n          [styles.modal_dashboardView]: dashboardModalsAllowed\r\n        })}>\r\n          <div styleName=\"header\">\r\n            {/*\r\n            //@ts-ignore */}\r\n            <WidthContainer styleName=\"headerContent\">\r\n              <div styleName=\"title\">{labels.title}</div>\r\n\r\n              {canClose && (\r\n                <CloseIcon styleName=\"closeButton\" onClick={this.closeModal} />\r\n              )}\r\n            </WidthContainer>\r\n          </div>\r\n          <div styleName=\"content\">\r\n            <div styleName=\"notification-overlay\">\r\n              <p styleName=\"notification\">{labels.message}</p>\r\n            </div>\r\n            <div styleName=\"button-overlay\">\r\n              <Button styleName={buttonStyle} blue onClick={this.handleOk}>{labels.ok}</Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n//@ts-ignore: strictNullChecks\r\nexport default injectIntl(AlertModal)","import React, { Fragment } from 'react'\r\nimport actions from 'redux/actions'\r\nimport Link from 'local_modules/sw-valuelink'\r\nimport cssModules from 'react-css-modules'\r\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\r\nimport axios from 'axios'\r\n\r\nimport typeforce from 'swap.app/util/typeforce'\r\nimport TOKEN_STANDARDS, {\r\n  EXISTING_STANDARDS,\r\n  TokenStandard,\r\n} from 'helpers/constants/TOKEN_STANDARDS'\r\nimport config from 'helpers/externalConfig'\r\n\r\nimport Modal from 'components/modal/Modal/Modal'\r\nimport FieldLabel from 'components/forms/FieldLabel/FieldLabel'\r\nimport Input from 'components/forms/Input/Input'\r\nimport Button from 'components/controls/Button/Button'\r\nimport DropDown from 'components/ui/DropDown'\r\nimport CloseIcon from 'components/ui/CloseIcon/CloseIcon'\r\nimport dropDownStyles from 'components/ui/DropDown/index.scss'\r\nimport ownStyle from './index.scss'\r\nimport styles from '../Styles/default.scss'\r\n\r\nconst { curEnabled } = config.opts\r\n\r\nconst TOKEN_STANDARDS_ARR: TokenStandard[] = []\r\n\r\nEXISTING_STANDARDS.forEach((standard) => {\r\n  const standardConfig: TokenStandard = TOKEN_STANDARDS[standard]\r\n  const { currency: standardBlockchain } = standardConfig\r\n\r\n  const isStandardBlockchainEnabled = curEnabled[standardBlockchain]\r\n\r\n  if (isStandardBlockchainEnabled) {\r\n    TOKEN_STANDARDS_ARR.push(standardConfig)\r\n  }\r\n})\r\n\r\ninterface IAvailableAssetPlatform {\r\n  tokenAddress: string\r\n  standard: string\r\n  value: string\r\n  currency: string\r\n}\r\n\r\ntype CustomTokenProps = {\r\n  name: string\r\n  style: IUniversalObj\r\n  intl: IUniversalObj\r\n  data: {\r\n    api: string\r\n    apiKey: string\r\n    standard: string\r\n    baseCurrency: string\r\n  }\r\n}\r\n\r\ntype CustomTokenState = {\r\n  step: string\r\n  tokenStandard: string\r\n  tokenAddress: string\r\n  tokenName: string\r\n  tokenSymbol: string\r\n  tokenDecimals: number\r\n  baseCurrency: string\r\n  notFound: boolean\r\n  isPending: boolean\r\n  addTokenMode: 'byAddress' | 'bySearch'\r\n  searchQuery: string\r\n  assetsList: IUniversalObj[]\r\n  isAssetsListLoading: boolean\r\n  selectedAsset: IUniversalObj | null\r\n  selectedAssetFullInfo: IUniversalObj | null\r\n  isAssetFullInfoLoading: boolean\r\n  selectedAssetPlatforms: IAvailableAssetPlatform[]\r\n  selectedAssetPlatform: IAvailableAssetPlatform | null\r\n}\r\n\r\n@cssModules({ ...styles, ...ownStyle }, { allowMultiple: true })\r\nclass AddCustomToken extends React.Component<CustomTokenProps, CustomTokenState> {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const { data } = props\r\n\r\n    let tokenStandard = data?.standard?.toLowerCase()\r\n    let baseCurrency = data?.baseCurrency\r\n\r\n    if (baseCurrency && !tokenStandard) {\r\n      tokenStandard = TOKEN_STANDARDS_ARR.find((standard => standard.currency === baseCurrency))?.standard\r\n    }\r\n\r\n    if (!baseCurrency || !tokenStandard) {\r\n      tokenStandard = TOKEN_STANDARDS_ARR[0]?.standard\r\n      baseCurrency = TOKEN_STANDARDS_ARR[0]?.currency\r\n    }\r\n\r\n    this.state = {\r\n      step: 'enterAddress',\r\n      tokenStandard,\r\n      baseCurrency,\r\n      tokenAddress: '',\r\n      tokenName: '',\r\n      tokenSymbol: '',\r\n      tokenDecimals: 0,\r\n      notFound: false,\r\n      isPending: false,\r\n      addTokenMode: 'byAddress',\r\n      searchQuery: '',\r\n      assetsList: [],\r\n      isAssetsListLoading: false,\r\n      selectedAsset: null,\r\n      selectedAssetFullInfo: null,\r\n      isAssetFullInfoLoading: false,\r\n      selectedAssetPlatforms: [],\r\n      selectedAssetPlatform: null,\r\n    }\r\n  }\r\n\r\n  handleSubmit = async () => {\r\n    const { tokenAddress, tokenStandard, addTokenMode, selectedAssetPlatform } = this.state\r\n\r\n    this.setState(() => ({ isPending: true }))\r\n\r\n    const address = addTokenMode === 'byAddress'\r\n      ? tokenAddress\r\n      : selectedAssetPlatform?.tokenAddress\r\n\r\n    const info = await actions[tokenStandard].getInfoAboutToken(address)\r\n\r\n    if (info) {\r\n      const { name, symbol, decimals } = info\r\n\r\n      this.setState(() => ({\r\n        tokenName: name,\r\n        tokenSymbol: symbol,\r\n        tokenDecimals: decimals,\r\n        step: 'confirm',\r\n      }))\r\n    } else {\r\n      this.setState(() => ({\r\n        notFound: true,\r\n      }))\r\n\r\n      setTimeout(() => {\r\n        this.setState(() => ({\r\n          notFound: false,\r\n        }))\r\n      }, 4000)\r\n    }\r\n\r\n    this.setState(() => ({ isPending: false }))\r\n  }\r\n\r\n  handleConfirm = () => {\r\n    const { tokenStandard, tokenAddress, tokenSymbol, tokenDecimals, baseCurrency, addTokenMode, selectedAssetPlatform } = this.state\r\n\r\n    const address = addTokenMode === 'byAddress'\r\n      ? tokenAddress\r\n      : selectedAssetPlatform?.tokenAddress\r\n\r\n    actions[tokenStandard].addToken({\r\n      standard: tokenStandard,\r\n      contractAddr: address,\r\n      symbol: tokenSymbol,\r\n      decimals: tokenDecimals,\r\n      baseCurrency: baseCurrency.toLowerCase(),\r\n    })\r\n    const tokenValue = `{${baseCurrency.toUpperCase()}}${tokenSymbol.toUpperCase()}`\r\n    actions.core.markCoinAsVisible(tokenValue, true)\r\n\r\n    this.setState({\r\n      step: 'ready',\r\n    })\r\n  }\r\n\r\n  handleReady = async () => {\r\n    window.location.reload()\r\n  }\r\n\r\n  addressIsCorrect() {\r\n    const { tokenAddress, baseCurrency, selectedAssetPlatform, addTokenMode } = this.state\r\n\r\n    const address = addTokenMode === 'byAddress'\r\n      ? tokenAddress\r\n      : selectedAssetPlatform?.tokenAddress\r\n\r\n    return typeforce.isCoinAddress[baseCurrency.toUpperCase()](address)\r\n  }\r\n\r\n  selectAddByAddress = () => {\r\n    this.setState({\r\n      addTokenMode: 'byAddress',\r\n    })\r\n  }\r\n\r\n  selectAddBySearch = () => {\r\n    this.setState({\r\n      addTokenMode: 'bySearch',\r\n    })\r\n  }\r\n\r\n  async getAssetsList(searchQuery: string) {\r\n    const coinGeckoSearchLink = 'https://api.coingecko.com/api/v3/search'\r\n    try {\r\n      this.setState({ isAssetsListLoading: true })\r\n      const result = await axios.get(`${coinGeckoSearchLink}?query=${searchQuery}`)\r\n      return result.data?.coins\r\n    } catch (error) {\r\n      console.log('error', error)\r\n      return []\r\n    } finally {\r\n      this.setState({ isAssetsListLoading: false })\r\n    }\r\n  }\r\n\r\n  setAssetsList = (assetsList: IUniversalObj[]) => this.setState(() => ({ assetsList }))\r\n\r\n  setAsset = (asset: any) => this.setState(() => ({ selectedAsset: asset }))\r\n\r\n  resetSearchData = () => this.setState(() => ({\r\n    selectedAsset: null,\r\n    selectedAssetFullInfo: null,\r\n    searchQuery: '',\r\n    assetsList: [],\r\n    selectedAssetPlatforms: [],\r\n    isAssetsListLoading: false,\r\n    isAssetFullInfoLoading: false,\r\n    selectedAssetPlatform: null,\r\n  }))\r\n\r\n  setSelectedAssetFullInfo = (assetFullInfo: IUniversalObj) => {\r\n    const { tokenStandard, baseCurrency } = this.state\r\n    const availableAssetPlatforms: IAvailableAssetPlatform[] = []\r\n\r\n    TOKEN_STANDARDS_ARR.forEach(standardConfig => {\r\n      const standardTokenAddress = assetFullInfo?.platforms[standardConfig.platformKey]\r\n      if (standardTokenAddress) {\r\n        availableAssetPlatforms.push({\r\n          tokenAddress: standardTokenAddress,\r\n          standard: standardConfig.standard,\r\n          value: standardConfig.value,\r\n          currency: standardConfig.currency,\r\n        })\r\n      }\r\n    })\r\n\r\n    this.setState(() => ({\r\n      selectedAssetFullInfo: assetFullInfo,\r\n      selectedAssetPlatforms: availableAssetPlatforms,\r\n      selectedAssetPlatform: availableAssetPlatforms[0] || null,\r\n      tokenStandard: availableAssetPlatforms[0]?.standard || tokenStandard,\r\n      baseCurrency: availableAssetPlatforms[0]?.currency || baseCurrency,\r\n    }))\r\n  }\r\n\r\n  async getAssetFullInfo(assetId: string) {\r\n    const coinGeckoAssetsLink = 'https://api.coingecko.com/api/v3/coins'\r\n    try {\r\n      this.setState({ isAssetFullInfoLoading: true })\r\n      const { data } = await axios.get(`${coinGeckoAssetsLink}/${assetId}`)\r\n\r\n      this.setSelectedAssetFullInfo(data)\r\n    } catch (error) {\r\n      console.log('error', error)\r\n      return []\r\n    } finally {\r\n      this.setState({ isAssetFullInfoLoading: false })\r\n    }\r\n  }\r\n\r\n  async componentDidUpdate(prevProps, prevState) {\r\n    const {\r\n      searchQuery: prevSearchQuery,\r\n      assetsList: prevAssetsList,\r\n    } = prevState\r\n\r\n    const {\r\n      searchQuery,\r\n      isAssetsListLoading,\r\n      selectedAsset,\r\n      selectedAssetFullInfo,\r\n      isAssetFullInfoLoading,\r\n    } = this.state\r\n\r\n    const hasNotAssetsInSimilarPrevSearchQuery = searchQuery?.length === 1 || !(\r\n      searchQuery?.length > 1\r\n      && searchQuery.match(prevSearchQuery)?.index === 0\r\n      && prevAssetsList?.length === 0\r\n    )\r\n\r\n    if (\r\n      searchQuery?.length > 0\r\n      && document.activeElement?.id === 'searchQueryInput'\r\n      && prevSearchQuery !== searchQuery\r\n      && hasNotAssetsInSimilarPrevSearchQuery\r\n      && !isAssetsListLoading\r\n    ) {\r\n      const assetsList = await this.getAssetsList(searchQuery) as IUniversalObj[]\r\n      this.setAssetsList(assetsList)\r\n    }\r\n\r\n    const shouldFetchSelectedAssetFullInfo = (\r\n      selectedAsset\r\n      && !selectedAssetFullInfo\r\n      && !isAssetFullInfoLoading\r\n    )\r\n\r\n    if (shouldFetchSelectedAssetFullInfo) {\r\n      await this.getAssetFullInfo(selectedAsset.id)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      step,\r\n      tokenStandard,\r\n      tokenAddress,\r\n      tokenName,\r\n      tokenSymbol,\r\n      tokenDecimals,\r\n      isPending,\r\n      notFound,\r\n      addTokenMode,\r\n      searchQuery,\r\n      assetsList,\r\n      isAssetsListLoading,\r\n      selectedAsset,\r\n      isAssetFullInfoLoading,\r\n      selectedAssetPlatforms,\r\n      selectedAssetPlatform,\r\n    } = this.state\r\n\r\n    const {\r\n      name,\r\n      intl,\r\n    } = this.props\r\n\r\n    const linked = Link.all(this, 'tokenAddress', 'searchQuery')\r\n\r\n    const isDisabled = (\r\n      (\r\n        addTokenMode === 'byAddress'\r\n          ? !tokenAddress\r\n          : !selectedAssetPlatform?.tokenAddress\r\n      )\r\n      || isPending\r\n      || !this.addressIsCorrect()\r\n    )\r\n\r\n    const localeLabel = defineMessages({\r\n      addressPlaceholder: {\r\n        id: 'customERC20_addressPlaceholder',\r\n        defaultMessage: 'Enter token address',\r\n      },\r\n      searchPlaceholder: {\r\n        id: 'customERC20_searchPlaceholder',\r\n        defaultMessage: 'Enter token name or symbol',\r\n      },\r\n    })\r\n\r\n    return (\r\n      <Modal\r\n        name={name}\r\n        title={<FormattedMessage id=\"customERC20_Title\" defaultMessage=\"Add a new token\" />}\r\n        contentWithTabs\r\n        showCloseButton\r\n      >\r\n        <div styleName=\"stepsWrapper\">\r\n          {step === 'enterAddress' && (\r\n            <>\r\n              <div styleName=\"tabsWrapper\">\r\n                <button\r\n                  type=\"button\"\r\n                  styleName={`tab ${addTokenMode === 'byAddress' ? 'active' : ''}`}\r\n                  onClick={this.selectAddByAddress}\r\n                >\r\n                  <FormattedMessage id=\"addByAddress\" defaultMessage=\"by Address\" />\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  styleName={`tab ${addTokenMode === 'bySearch' ? 'active' : ''}`}\r\n                  onClick={this.selectAddBySearch}\r\n                >\r\n                  <FormattedMessage id=\"addBySearch\" defaultMessage=\"by Search\" />\r\n                </button>\r\n              </div>\r\n              {addTokenMode === 'byAddress' ? (\r\n                <div styleName=\"highLevel\">\r\n                  <FieldLabel inRow>\r\n                    <span style={{ fontSize: '16px' }}>\r\n                      <FormattedMessage\r\n                        id=\"customTokenAddress\"\r\n                        defaultMessage=\"Token address\"\r\n                      />\r\n                    </span>\r\n                  </FieldLabel>\r\n                  <Input\r\n                    id=\"customTokenInput\"\r\n                    valueLink={linked.tokenAddress}\r\n                    focusOnInit\r\n                    pattern=\"0-9a-zA-Z:\"\r\n                    placeholder={intl.formatMessage(localeLabel.addressPlaceholder)}\r\n                  />\r\n                  <DropDown\r\n                    className={dropDownStyles.simpleDropdown}\r\n                    items={TOKEN_STANDARDS_ARR}\r\n                    selectedValue={TOKEN_STANDARDS[tokenStandard].value}\r\n                    selectedItemRender={(item) => item.value.toUpperCase()}\r\n                    itemRender={(item) => item.value.toUpperCase()}\r\n                    onSelect={(item) => {\r\n                      this.setState({\r\n                        tokenStandard: item.standard,\r\n                        baseCurrency: item.currency,\r\n                      })\r\n                    }}\r\n                    name=\"Select a standard\"\r\n                    role=\"SelectStandard\"\r\n                  />\r\n                  {notFound && (\r\n                    <div styleName=\"rednote\">\r\n                      <FormattedMessage\r\n                        id=\"customTokenNotFound\"\r\n                        defaultMessage=\"This is not {standard} address\"\r\n                        values={{\r\n                          standard: tokenStandard,\r\n                        }}\r\n                      />\r\n                    </div>\r\n                  )}\r\n                  {tokenAddress && !this.addressIsCorrect() && (\r\n                    <div styleName=\"rednote\">\r\n                      <FormattedMessage\r\n                        id=\"customTokenIncorrectAddress\"\r\n                        defaultMessage=\"Invalid address\"\r\n                      />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              ) : (\r\n                <div styleName=\"highLevel\">\r\n                  {selectedAsset ? (\r\n                    <>\r\n                      <div styleName=\"lowLevel\">\r\n                        <FieldLabel inRow>\r\n                          <span styleName=\"title\">\r\n                            <FormattedMessage id=\"selectedTokenTitle\" defaultMessage=\"Token\" />\r\n                          </span>\r\n                        </FieldLabel>\r\n                        <div styleName=\"fakeInput\">\r\n                          {selectedAsset.thumb && <span><img src={selectedAsset.thumb} alt={selectedAsset.id} /></span>}\r\n                          <span>{` ${selectedAsset.name} (${selectedAsset.symbol})`}</span>\r\n                        </div>\r\n                        <div styleName=\"closeIconWrapper\">\r\n                          <CloseIcon onClick={this.resetSearchData} />\r\n                        </div>\r\n                      </div>\r\n                      {\r\n                        isAssetFullInfoLoading\r\n                          ? (\r\n                            <div style={{ padding: '1rem' }}>\r\n                              <FormattedMessage id=\"Table96\" defaultMessage=\"Loading...\" />\r\n                            </div>\r\n                          ) : (selectedAssetPlatform && selectedAssetPlatforms.length > 0) ? (\r\n                            <div styleName=\"lowLevel\">\r\n                              <FieldLabel inRow>\r\n                                <span styleName=\"title\">\r\n                                  <FormattedMessage\r\n                                    id=\"customTokenAddress\"\r\n                                    defaultMessage=\"Token address\"\r\n                                  />\r\n                                </span>\r\n                              </FieldLabel>\r\n                              <div styleName=\"fakeInput\">{selectedAssetPlatform.tokenAddress}</div>\r\n                              <DropDown\r\n                                className={dropDownStyles.simpleDropdown}\r\n                                items={selectedAssetPlatforms}\r\n                                selectedValue={selectedAssetPlatform.value}\r\n                                selectedItemRender={(item) => item.value.toUpperCase()}\r\n                                itemRender={(item) => item.value.toUpperCase()}\r\n                                onSelect={(item) => {\r\n                                  this.setState({\r\n                                    tokenStandard: item.standard,\r\n                                    baseCurrency: item.currency,\r\n                                    selectedAssetPlatform: item,\r\n                                  })\r\n                                }}\r\n                                name=\"Select a standard\"\r\n                                role=\"SelectStandard\"\r\n                              />\r\n                            </div>\r\n                          ) : (\r\n                            <div style={{ padding: '1rem' }}>\r\n                              <FormattedMessage id=\"selectedAssetHaveNotChains\" defaultMessage=\"This asset has no token addresses on supported networks\" />\r\n                            </div>\r\n                          )\r\n                      }\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <FieldLabel inRow>\r\n                        <span style={{ fontSize: '16px' }}>\r\n                          <FormattedMessage\r\n                            id=\"Search\"\r\n                            defaultMessage=\"Search\"\r\n                          />\r\n                        </span>\r\n                      </FieldLabel>\r\n                      <Input\r\n                        id=\"searchQueryInput\"\r\n                        valueLink={linked.searchQuery}\r\n                        focusOnInit\r\n                        placeholder={intl.formatMessage(localeLabel.searchPlaceholder)}\r\n                      />\r\n                      {\r\n                        document.activeElement?.id === 'searchQueryInput'\r\n                        && searchQuery?.length > 0\r\n                        && (\r\n                          <>\r\n                            <div styleName=\"closeIconWrapper\">\r\n                              <CloseIcon onClick={this.resetSearchData} />\r\n                            </div>\r\n                            <div style={{ padding: '1rem' }}>\r\n                              {isAssetsListLoading\r\n                                ? <FormattedMessage id=\"Table96\" defaultMessage=\"Loading...\" />\r\n                                : assetsList?.length > 0\r\n                                  ? (\r\n                                    <div styleName=\"assetsList\">\r\n                                      {assetsList.map((assetInfo, i) => (\r\n                                        <button\r\n                                          styleName=\"asset\"\r\n                                          key={i}\r\n                                          onClick={() => this.setAsset(assetInfo)}\r\n                                          type=\"button\"\r\n                                        >\r\n                                          {assetInfo?.thumb && <span><img src={assetInfo.thumb} alt={assetInfo.id} /></span>}\r\n                                          <span>{` ${assetInfo.name} (${assetInfo.symbol})`}</span>\r\n                                        </button>\r\n                                      ))}\r\n                                    </div>\r\n                                  )\r\n                                  : (\r\n                                    <FormattedMessage\r\n                                      id=\"noSearchingResult\"\r\n                                      defaultMessage=\"No result for {searchQuery}\"\r\n                                      values={{\r\n                                        searchQuery,\r\n                                      }}\r\n                                    />\r\n                                  )}\r\n                            </div>\r\n                          </>\r\n                        )\r\n                      }\r\n                    </>\r\n                  )}\r\n                </div>\r\n              )}\r\n              <Button\r\n                id=\"customTokenNextButton\"\r\n                styleName=\"buttonFullMargin\"\r\n                brand\r\n                fullWidth\r\n                disabled={isDisabled}\r\n                onClick={this.handleSubmit}\r\n                pending={isPending}\r\n              >\r\n                <FormattedMessage id=\"NextId\" defaultMessage=\"Nxt\" />\r\n              </Button>\r\n            </>\r\n          )}\r\n          {step === 'confirm' && (\r\n            <>\r\n              <div styleName=\"lowLevel\">\r\n                <FieldLabel inRow>\r\n                  <span styleName=\"title\">\r\n                    <FormattedMessage\r\n                      id=\"customTokenAddress\"\r\n                      defaultMessage=\"Token address\"\r\n                    />\r\n                  </span>\r\n                </FieldLabel>\r\n                <div styleName=\"fakeInput\">\r\n                  {\r\n                    addTokenMode === 'byAddress'\r\n                      ? tokenAddress\r\n                      : selectedAssetPlatform?.tokenAddress\r\n                  }\r\n                </div>\r\n              </div>\r\n              <div styleName=\"lowLevel\">\r\n                <FieldLabel inRow>\r\n                  <span styleName=\"title\">\r\n                    <FormattedMessage id=\"TitleId\" defaultMessage=\"Title\" />\r\n                  </span>\r\n                </FieldLabel>\r\n                <div styleName=\"fakeInput\">{tokenName}</div>\r\n              </div>\r\n              <div styleName=\"lowLevel\">\r\n                <FieldLabel inRow>\r\n                  <span styleName=\"title\">\r\n                    <FormattedMessage id=\"SymbolId\" defaultMessage=\"Symbol\" />\r\n                  </span>\r\n                </FieldLabel>\r\n                <div styleName=\"fakeInput\">{tokenSymbol}</div>\r\n              </div>\r\n              <div styleName=\"lowLevel\">\r\n                <FieldLabel inRow>\r\n                  <span styleName=\"title\">\r\n                    <FormattedMessage id=\"DecimalsId\" defaultMessage=\"Decimals\" />\r\n                  </span>\r\n                </FieldLabel>\r\n                <div styleName=\"fakeInput\">{tokenDecimals}</div>\r\n              </div>\r\n              <Button\r\n                id=\"customTokenAddButton\"\r\n                styleName=\"buttonFullMargin\"\r\n                brand\r\n                fullWidth\r\n                disabled={isDisabled}\r\n                onClick={this.handleConfirm}\r\n                pending={isPending}\r\n              >\r\n                <FormattedMessage\r\n                  id=\"customTokenConfirm\"\r\n                  defaultMessage=\"Add this token\"\r\n                />\r\n              </Button>\r\n            </>\r\n          )}\r\n          {step === 'ready' && (\r\n            <>\r\n              <h4 styleName=\"readyTitle\">\r\n                <FormattedMessage\r\n                  id=\"customTokenAdded\"\r\n                  defaultMessage=\"Token added successfully\"\r\n                />\r\n              </h4>\r\n              <Button\r\n                id=\"customTokenDoneButton\"\r\n                styleName=\"buttonFullMargin\"\r\n                brand\r\n                fullWidth\r\n                disabled={isDisabled}\r\n                onClick={this.handleReady}\r\n              >\r\n                <FormattedMessage id=\"SweepBannerButton\" defaultMessage=\"Done\" />\r\n              </Button>\r\n            </>\r\n          )}\r\n        </div>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(AddCustomToken)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"stepsWrapper\":\"vByXjgNVtjfJhx7tgTvMbw==\",\"fakeInput\":\"rd9h27LIgMpn2EonkXtpWQ==\",\"readyTitle\":\"HDv05bUwCIk1GvDWunq1Mw==\",\"erc20ModalHolder\":\"AYeN-ht+ZcZKiG2SZdMc7A==\",\"title\":\"-TgzfdsGKfJFSmOn7NUrvw==\",\"lowLevel\":\"k7WeSAwEBbzofANuchK9WQ==\",\"tabsWrapper\":\"nAHbS9IRv1XBtYAkt3WpJA==\",\"tab\":\"gT31GIeTvTWvRkwjpbXHRA==\",\"active\":\"w0BrwG9rD6X4zMh0Jwcgpw==\",\"disabled\":\"_61vKjGq-S8lpetsoygwiMw==\",\"assetsList\":\"Lz4v91QPxsI1is7aJBcNtA==\",\"asset\":\"Zji2Mxac8CKmns5ocWu7sg==\",\"closeIconWrapper\":\"_97kKOWe5ScoFTeOPF3CJ-w==\"};","// extracted by mini-css-extract-plugin\nexport default {\"marginRight\":\"_5PbFTh4dl00w9pUu6Q-N1Q==\",\"copied\":\"Dqn3G1Exp4ZE8ecx5hCXUg==\",\"no-select-inline\":\"WI4ZZskTYDFqsTlFyL3kUg==\",\"icon\":\"JWC6fHx+U8ufhFXThIYh9A==\",\"notActiveLink\":\"phdu0v8+BjKaQAK7XozWqw==\",\"disableWth\":\"Ppf35sAqM5tEzoBkOe9OyA==\",\"notContractAddress\":\"oYlxpOqq5wpn8AUsBSS7GQ==\",\"button\":\"kXuf71LLiOw18Izhp67oww==\",\"nameRow\":\"OQPrWhiulieeE2X23488cQ==\",\"disbutton\":\"+zmHeVWMG44TsvbM2A1L5w==\",\"buttonActivate\":\"UKX3sF1twaRXqBBjEnxYLA==\",\"table_balance-cell\":\"_0Z46WkvePfhyHdqFSKmofw==\",\"mobileName\":\"RTVFjpEo3uNVKxjoToIb-A==\",\"hidden\":\"_6hAIqt2m68HxSlPSVDM-Mg==\",\"visible\":\"gKJYLJQWVxcYo7vqZvWGvA==\",\"yourAddress\":\"npuzn7T18tdwLzGXuRrpag==\",\"yourAddressWithOptions\":\"KAOwQxWKny39wydhcPY1sg==\",\"walletButtons\":\"-FRq6CsoWdcFW-06S7nmwA==\",\"activeControlButtons\":\"CFB4OfTsqqQqTSMlhHNGow==\",\"buttonUseAnother\":\"_083SEoGEaevWsziUvrXb1g==\",\"actButton\":\"uWMm7HjIIpBJB7vOgBKjrw==\",\"useButton\":\"mugFZQnO5w9bED7q+p-prw==\",\"addressExist\":\"OftgKA44fk161TM6l2oEDw==\",\"notActivated\":\"_1zepq7juZuCmjVkst2-Ejw==\",\"showButtons\":\"_9Ix-SwbRKxqGw3EMpaCAUA==\",\"assetsTable\":\"FNuKSyINV7ABljclmepqaQ==\",\"assetsTableRow\":\"CTXeFzNtxOfxt2cuOReM9A==\",\"assetsTableCurrency\":\"QgQhNRkqiL7CUlpR3tWCfw==\",\"assetsTableIcon\":\"Sk750ZcaQErG9V3VioTs+A==\",\"assetsTableValue\":\"Z6WIx1orpIe6rNTkROSC-Q==\",\"assetsTableInfo\":\"bnjwJ6Lul2CYOh1nTr7CcQ==\",\"errorMessage\":\"ElhUhpbATBIxGxCg3pJlEg==\",\"unconfirmedBalance\":\"lr6sL-04hO0CazliQ3cG4A==\",\"assetsTableDots\":\"_8XLXo2vqYSxVfry9-3zZgg==\",\"loader\":\"QJihOpHxOP3QmsAWxIQRRA==\",\"walletInfoRow\":\"gdNc4FU00UKfoFiGXWItAw==\",\"notifyBlock\":\"K0QLmBEsO5ZArXDBtjAkVQ==\"};","import React, { Component } from 'react';\r\nimport classNames from 'classnames';\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './DropdownMenu.scss'\r\n\r\ntype Props = {\r\n\tclassName: string\r\n\titems: {\r\n\t\taction: () => void\r\n\t\ttitle: JSX.Element\r\n\t\tdisabled?: boolean\r\n\t\thidden?: boolean\r\n\t\tid: number\r\n\t}[]\r\n}\r\n\r\n@cssModules(styles, { allowMultiple: true })\r\nexport default class DropdownMenu extends Component<Props, any> {\r\n\r\n\tdropdownMenu: any\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\topen: false,\r\n\t\t}\r\n\r\n\t\tthis.dropdownMenu = React.createRef();\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tdocument.addEventListener('mousedown', this.handleAnyClick, false);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tdocument.removeEventListener('mousedown', this.handleAnyClick, false);\r\n\t}\r\n\r\n\thandleAnyClick = (e) => {\r\n\t\tif (!this.dropdownMenu.current.contains(e.target)) {\r\n\t\t\tthis.setState({\r\n\t\t\t\topen: false\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\thandleClick = () => {\r\n\t\tconst { open } = this.state;\r\n\r\n\t\tthis.setState({\r\n\t\t\topen: !open\r\n\t\t});\r\n\t}\r\n\r\n\thandleItemClick = (action) => {\r\n\t\tthis.setState({\r\n\t\t\topen: false\r\n\t\t});\r\n\r\n\t\taction();\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { items, className } = this.props\r\n\t\tconst { open } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<div styleName={classNames('dropdownMenu')} ref={this.dropdownMenu}>\r\n\t\t\t\t<button styleName=\"dotsButton\" type=\"button\" onClick={this.handleClick} className=\"data-tut-row-menu\">\r\n\t\t\t\t\t<i className=\"fas fa-circle\" styleName=\"icon\"></i>\r\n\t\t\t\t\t<i className=\"fas fa-circle\" styleName=\"icon\"></i>\r\n\t\t\t\t\t<i className=\"fas fa-circle\" styleName=\"icon\"></i>\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t<div styleName={`${classNames('menu', className, { open })}`}>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\titems.map((item, index) => item.hidden ? null : (\r\n\t\t\t\t\t\t\t<div key={index} styleName=\"dropdownMenuItem\">\r\n\t\t\t\t\t\t\t\t<button \r\n\t\t\t\t\t\t\t\t\tdisabled={item.disabled}\r\n\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => this.handleItemClick(item.action)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{item.title}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nexport default {\"dropdownMenu\":\"HXJExoSQLIuxQNKKFHKQDw==\",\"dotsButton\":\"_2IFdhVYXBVBMyShiNvObrA==\",\"icon\":\"oQvXj63N7fp8OKOAkDK8Nw==\",\"dropdownMenuItem\":\"o3gbiJNYjci66mx+HDvTkw==\",\"menu\":\"cR34EQE2U8vqkVcLDo66hw==\",\"open\":\"zR0u+AZ3TBJEnJBv47KOhQ==\",\"walletControls\":\"taFqQo6RSmFL9iM4QF6psw==\"};","import React, { Component, Fragment } from 'react'\r\nimport actions from 'redux/actions'\r\nimport { connect } from 'redaction'\r\nimport helpers, { constants, links } from 'helpers'\r\nimport config from 'app-config'\r\nimport { isMobile } from 'react-device-detect'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './WalletRow.scss'\r\n\r\nimport { Link } from 'react-router-dom'\r\nimport CopyToClipboard from 'react-copy-to-clipboard'\r\n\r\nimport Coin from 'components/Coin/Coin'\r\nimport InlineLoader from 'components/loaders/InlineLoader/InlineLoader'\r\nimport BtnTooltip from 'components/controls/WithdrawButton/BtnTooltip'\r\nimport DropdownMenu from 'components/ui/DropdownMenu/DropdownMenu'\r\nimport { withRouter } from 'react-router-dom'\r\nimport ReactTooltip from 'react-tooltip'\r\nimport { FormattedMessage, injectIntl } from 'react-intl'\r\nimport CurrencyButton from 'components/controls/CurrencyButton/CurrencyButton'\r\nimport SwapApp from 'swap.app'\r\nimport { BigNumber } from 'bignumber.js'\r\n\r\n\r\n\r\n@cssModules(styles, { allowMultiple: true })\r\nclass WalletRow extends Component<any, any> {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n  }\r\n\r\n  handleOpenDropdown = () => {\r\n    this.setState({\r\n      isDropdownOpen: true\r\n    })\r\n  }\r\n\r\n  handleSwitch = () => {\r\n    const { item: { index }, handleFinish } = this.props\r\n    actions.btcmultisig.switchBtcMultisigKey(index)\r\n    handleFinish()\r\n  }\r\n\r\n  handleRemove = () => {\r\n    const { item: { index }, handleRefresh } = this.props\r\n\r\n    //@ts-ignore: strictNullChecks\r\n    actions.modals.open(constants.modals.Confirm, {\r\n      onAccept: () => {\r\n        actions.btcmultisig.removeBtcMultisigNey(index)\r\n        handleRefresh()\r\n      },\r\n    })\r\n\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      item,\r\n      itemsCount,\r\n      intl: { locale },\r\n    } = this.props\r\n\r\n    const {\r\n      address,\r\n      currency,\r\n      balance,\r\n    } = item\r\n\r\n    let dropDownMenuItems = [\r\n      {\r\n        id: 1001,\r\n        title: <FormattedMessage id='SwitchBtcMultisigMenuSwitch' defaultMessage='Switch' />,\r\n        action: this.handleSwitch,\r\n        disabled: false,\r\n      },\r\n      {\r\n        id: 1002,\r\n        title: <FormattedMessage id='SwitchBtcMultisigMenuRemove' defaultMessage='Remove' />,\r\n        action: this.handleRemove,\r\n        disabled: false,\r\n      }\r\n    ]\r\n\r\n    if (itemsCount === 1) {\r\n      dropDownMenuItems = []\r\n    }\r\n    return (\r\n      <tr styleName=\"walletInfoRow\">\r\n        <td styleName=\"assetsTableRow\">\r\n          <div styleName=\"assetsTableCurrency\">\r\n            <Coin className={styles.assetsTableIcon} name={currency} />\r\n            <div styleName=\"assetsTableInfo\">\r\n              <div styleName=\"nameRow\">\r\n                {address}\r\n              </div>\r\n              <span>\r\n                <div styleName=\"no-select-inline\">\r\n                  <span>\r\n                    {new BigNumber(balance).dp(5, BigNumber.ROUND_FLOOR).toString()}{' '}\r\n                  </span>\r\n                  <span>{currency}</span>\r\n                </div>\r\n              </span>\r\n              <strong>{' '}</strong>\r\n            </div>\r\n          </div>\r\n          {dropDownMenuItems.length > 0 && (\r\n            <div onClick={this.handleOpenDropdown} styleName=\"assetsTableDots\">\r\n              <DropdownMenu\r\n                className=\"walletControls\"\r\n                items={dropDownMenuItems}\r\n              />\r\n            </div>\r\n          )}\r\n        </td>\r\n      </tr>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default injectIntl(WalletRow)\r\n","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport actions from 'redux/actions'\r\nimport cssModules from 'react-css-modules'\r\n\r\nimport defaultStyles from '../Styles/default.scss'\r\nimport styles from './BtcMultisignSwitch.scss'\r\n\r\nimport Modal from 'components/modal/Modal/Modal'\r\n\r\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\r\n\r\nimport Table from 'components/tables/Table/Table'\r\nimport WalletRow from './WalletRow'\r\n\r\n\r\n@cssModules({ ...defaultStyles, ...styles }, { allowMultiple: true })\r\nclass BtcMultisignSwitch extends React.Component<any, any> {\r\n  static propTypes = {\r\n    name: PropTypes.string,\r\n    data: PropTypes.object,\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      wallets: [],\r\n      isFetching: true,\r\n    }\r\n  }\r\n\r\n  handleRefresh = async () => {\r\n    this.refreshWallets()\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.refreshWallets()\r\n  }\r\n\r\n  refreshWallets() {\r\n    //@ts-ignore\r\n    actions.btcmultisig.getBtcMultisigKeys().then((wallets) => {\r\n      this.setState({\r\n        wallets,\r\n        isFetching: false,\r\n      })\r\n    })\r\n  }\r\n\r\n  handleFinish = async () => {\r\n    const { name } = this.props\r\n    actions.modals.close(name)\r\n\r\n    if (this.props.data.callback) {\r\n      this.props.data.callback()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { name, intl } = this.props\r\n    const { wallets, isFetching } = this.state\r\n    const itemsCount = wallets.length\r\n\r\n    const langLabels = defineMessages({\r\n      title: {\r\n        id: 'btcmsSwitchTitle',\r\n        defaultMessage: ` BTC-Multisign `,\r\n      },\r\n      fetching: {\r\n        id: 'btcmsSwitchFetchWalletsData',\r\n        defaultMessage: ` BTC-Multisign `,\r\n      },\r\n      empty: {\r\n        id: 'btcmsSwitchFetchWalletsEmpty',\r\n        defaultMessage: `   BTC-Multisign `,\r\n      }\r\n    })\r\n\r\n    return (\r\n      <Modal name={name} title={`${intl.formatMessage(langLabels.title)}`}>\r\n        <Fragment>\r\n          <Table\r\n            styleName=\"wallets\"\r\n            rows={wallets}\r\n            textIfEmpty={`${intl.formatMessage((isFetching) ? langLabels.fetching : langLabels.empty)}`}\r\n            rowRender={(row, index, selectId, handleSelectId) => (\r\n              <WalletRow\r\n                key={index}\r\n                index={index}\r\n                itemsCount={itemsCount}\r\n                item={row}\r\n                handleFinish={this.handleFinish}\r\n                handleRefresh={this.handleRefresh}\r\n              />\r\n            )}\r\n            { ... this.props }\r\n          />\r\n        </Fragment>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(BtcMultisignSwitch)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wallets\":\"_30ZqO2A9jfoL88vi+3Ol3g==\"};","import React, { Component } from 'react'\r\nimport { Modal } from 'components/modal'\r\nimport styles from './Share.scss'\r\nimport { FormattedMessage, defineMessages, injectIntl } from 'react-intl'\r\nimport cssModules from 'react-css-modules'\r\nimport CopyToClipboard from 'react-copy-to-clipboard'\r\nimport actions from 'redux/actions'\r\nimport Button from 'components/controls/Button/Button'\r\n\r\n\r\n\r\nconst langLabels = defineMessages({\r\n  copyLink: {\r\n    id: 'ShareModal1',\r\n    defaultMessage: 'Copy Link',\r\n  },\r\n  linkCopied: {\r\n    id: 'InvoiceLinkCopied',\r\n    defaultMessage: 'Link copied',\r\n  },\r\n})\r\n\r\n@cssModules(styles, { allowMultiple: true })\r\nclass Share extends Component<any, any> {\r\n\r\n  state = {\r\n    isLinkCopied: false,\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    const { props: { data: { link, title } } } = this\r\n\r\n    if (navigator.share) {\r\n      navigator.share({\r\n        title: title,\r\n        url: link\r\n      }).catch(console.error);\r\n      actions.modals.close('ShareModal')\r\n    }\r\n  }\r\n\r\n  handleCopyLink = () => {\r\n    this.setState({\r\n      isLinkCopied: true,\r\n    }, () => {\r\n      setTimeout( () => {\r\n        this.setState({\r\n          isLinkCopied: false,\r\n        })\r\n      }, 1000)\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      props: {\r\n        data: {\r\n          link,\r\n          title,\r\n        },\r\n      },\r\n      state: {\r\n        isLinkCopied,\r\n      },\r\n    } = this\r\n\r\n    let name = 'ShareModal';\r\n    let titleModal = 'Share';\r\n    \r\n    return (\r\n      <Modal name={name} title={titleModal} >\r\n          <span styleName=\"targets\">\r\n          <a styleName=\"button\" href={'https://www.facebook.com/sharer/sharer.php?u=' + encodeURI(link) + '&t=' + title} target=\"_blank\">\r\n            <i styleName=\"icon\" className=\"fab fa-facebook\" />\r\n            <span>Facebook</span>\r\n          </a>\r\n          <a styleName=\"button\" href={'https://twitter.com/intent/tweet?text=' + encodeURIComponent(title) + '&url=' + encodeURI(link)} target=\"_blank\">\r\n            <i styleName=\"icon\" className=\"fab fa-twitter\" />\r\n            <span>Twitter</span>\r\n          </a>\r\n          <a styleName=\"button\" href={'https://www.linkedin.com/shareArticle?mini=true&url=' + encodeURI(link) + '&title=' + encodeURIComponent(title)} target=\"_blank\">\r\n            <i styleName=\"icon\" className=\"fab fa-linkedin\" />\r\n            <span>LinkedIn</span>\r\n          </a>\r\n          <a styleName=\"button\" href={'mailto:x@y.com?body=' + encodeURI(link) + '&subject=' + encodeURIComponent(title)}>\r\n            <i styleName=\"icon\" className=\"fas fa-envelope\" />\r\n            <span>Email</span>\r\n          </a>\r\n        </span>\r\n        <div styleName=\"copyButtonHolder\">\r\n          <CopyToClipboard\r\n            text={link}\r\n            onCopy={this.handleCopyLink}\r\n          >\r\n            <Button blue disabled={isLinkCopied}>\r\n              <FormattedMessage { ... ((isLinkCopied) ? langLabels.linkCopied : langLabels.copyLink) } />\r\n            </Button>\r\n          </CopyToClipboard>\r\n        </div>\r\n        <CopyToClipboard\r\n            text={link}\r\n            onCopy={this.handleCopyLink}\r\n          >\r\n          <div styleName=\"link\">\r\n            <span>{link}</span>\r\n          </div>\r\n        </CopyToClipboard>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(Share)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"icon\":\"Xkyl-KZkCFT0KawAoqpzSQ==\",\"targets\":\"_01aedAGpDvqeAGP7qgFuAA==\",\"button\":\"EyMS+hMTXIYXnAo1Xq+FUQ==\",\"link\":\"+020WpVLeo5rAqFQeOZW1w==\",\"copyButtonHolder\":\"xS+aioZNqhzOuw9NduIF4w==\",\"pen-url\":\"CYzQFne1KfIkrBPV5e03CQ==\",\"copy-link\":\"wJHLMqGGMuXRTFR5noNcYw==\"};","/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport helpers, { routing } from 'helpers'\r\nimport actions from 'redux/actions'\r\nimport Link from 'local_modules/sw-valuelink'\r\nimport { connect } from 'redaction'\r\n\r\nimport cssModules from 'react-css-modules'\r\n\r\nimport Modal from 'components/modal/Modal/Modal'\r\nimport FieldLabel from 'components/forms/FieldLabel/FieldLabel'\r\nimport Input from 'components/forms/Input/Input'\r\nimport Button from 'components/controls/Button/Button'\r\nimport InlineLoader from 'components/loaders/InlineLoader/InlineLoader'\r\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\r\nimport { FormattedMessage } from 'react-intl'\r\n\r\nimport lsDataCache from 'helpers/lsDataCache'\r\nimport styles from './BtcMultisignConfirmTx.scss'\r\nimport defaultStyles from '../Styles/default.scss'\r\n\r\n@connect(({ user: { btcMultisigUserData } }) => ({\r\n  btcData: btcMultisigUserData,\r\n}))\r\n@cssModules({ ...defaultStyles, ...styles }, { allowMultiple: true })\r\nclass BtcMultisignConfirmTx extends React.Component<any, any> {\r\n  static propTypes = {\r\n    name: PropTypes.string,\r\n    data: PropTypes.object,\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      step: `fetchgin`,\r\n      isControlFetching: true,\r\n      isTxHolder: true,\r\n      address: ``,\r\n      amount: ``,\r\n      from: ``,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    setTimeout(async () => {\r\n      const {\r\n        data: { txData, txId },\r\n      } = this.props\r\n\r\n      if (txId) {\r\n        const txData: any = await actions.multisigTx.fetchTx(txId)\r\n\r\n        const { destination: address, sender: from, amount } = txData\r\n\r\n        const wallet = actions.btcmultisig.addressToWallet(from)\r\n\r\n        if (!wallet) {\r\n          this.setState({\r\n            step: `dinned`,\r\n          })\r\n          return\r\n        }\r\n\r\n        this.setState(\r\n          {\r\n            step: `txInfo`,\r\n            txId,\r\n            txData: {\r\n              ...txData,\r\n              wallet,\r\n            },\r\n            address,\r\n            from,\r\n            amount,\r\n          },\r\n          () => {\r\n            // Fetching full tx info (rawTX)\r\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n            // @ts-ignore: strictNullChecks\r\n            actions.multisigTx.fetchRawTx(from, txId).then((txAuthedData: any) => {\r\n              if (txAuthedData) {\r\n                actions.btcmultisig.parseRawTX(txAuthedData.rawTx).then((txDataParsed) => {\r\n                  this.setState({\r\n                    txRaw: txAuthedData.rawTx,\r\n                    txData: txDataParsed,\r\n                    isTxHolder: wallet.publicKey.toString(`Hex`) === txAuthedData.holder,\r\n                    isControlFetching: false,\r\n                  })\r\n                })\r\n              } else {\r\n                this.setState({\r\n                  step: `dinned`,\r\n                })\r\n              }\r\n            })\r\n          },\r\n        )\r\n      } else {\r\n        const txDataParsed = await actions.btcmultisig.parseRawTX(txData)\r\n\r\n        if (!txDataParsed.isOur) {\r\n          this.setState({\r\n            step: `dinned`,\r\n          })\r\n          return\r\n        }\r\n\r\n        this.setState({\r\n          step: `txInfo`,\r\n          txRaw: txData,\r\n          txData: txDataParsed,\r\n          address: txDataParsed.to,\r\n          from: txDataParsed.from,\r\n          amount: txDataParsed.amount,\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  handleGoToWallet = () => {\r\n    this.handleClose()\r\n  }\r\n\r\n  handleConfirm = async () => {\r\n    const { txId: useBackendId, txRaw, txData, from, address: to, amount } = this.state\r\n\r\n    this.setState({\r\n      isConfirming: true,\r\n    })\r\n\r\n    const signedTX = await actions.btcmultisig.signMultiSign(txRaw, txData.wallet)\r\n    const btcTxId = await actions.btcmultisig.broadcastTx(signedTX)\r\n    let txId = false\r\n\r\n    if (btcTxId && btcTxId.txid) txId = btcTxId.txid\r\n\r\n    if (useBackendId) {\r\n      await actions.multisigTx.confirmTx(from, useBackendId, signedTX, txId)\r\n    }\r\n\r\n    if (txId) {\r\n      //    \r\n      const txInfoCache = {\r\n        amount,\r\n        senderAddress: from,\r\n        receiverAddress: to,\r\n        confirmed: false,\r\n      }\r\n\r\n      lsDataCache.push({\r\n        key: `TxInfo_btc_${txId}`,\r\n        time: 3600,\r\n        data: txInfoCache,\r\n      })\r\n\r\n      this.handleClose()\r\n\r\n      const txInfoUrl = helpers.transactions.getTxRouter('btc', txId)\r\n      routing.redirectTo(txInfoUrl)\r\n    } else {\r\n      this.setState({\r\n        isError: true,\r\n        isConfirming: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleReject = async () => {\r\n    const { txId: useBackendId, from } = this.state\r\n    if (useBackendId) {\r\n      await actions.multisigTx.rejectTx(from, useBackendId)\r\n      this.handleClose()\r\n    }\r\n  }\r\n\r\n  handleClose = () => {\r\n    const { name, data, onClose } = this.props\r\n\r\n    if (typeof onClose === 'function') {\r\n      onClose()\r\n    }\r\n\r\n    if (typeof data.onClose === 'function') {\r\n      data.onClose()\r\n    }\r\n\r\n    actions.modals.close(name)\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      name,\r\n      data: { showCloseButton },\r\n    } = this.props\r\n\r\n    const {\r\n      step,\r\n      txData,\r\n      isConfirming,\r\n      isControlFetching,\r\n      isTxHolder,\r\n    } = this.state\r\n\r\n    const linked = Link.all(this, 'address', 'amount', 'from')\r\n\r\n    const title = (\r\n      <FormattedMessage\r\n        id=\"multiSignConfirmTxModal_Title\"\r\n        defaultMessage=\"Confirmation of BTC Multisig transaction\"\r\n      />\r\n    )\r\n\r\n    return (\r\n      <Modal\r\n        name={name}\r\n        title={title}\r\n        onClose={this.handleClose}\r\n        showCloseButton={showCloseButton}\r\n      >\r\n        <>\r\n          {step !== `dinned` && (\r\n            <p styleName=\"notice\">\r\n              <FormattedMessage\r\n                id=\"multiSignConfirmTxModal_UpNotice\"\r\n                defaultMessage=\"Review the transaction and confirm it. If you are against the cancellation, reject the transaction\"\r\n              />\r\n            </p>\r\n          )}\r\n          <div styleName=\"confirmTxModal\">\r\n            {step === `fetchgin` && (\r\n              <p styleName=\"notice\">\r\n                <FormattedMessage\r\n                  id=\"multiSignConfirmTxModal_NoticeFetching\"\r\n                  defaultMessage=\"Loading...\"\r\n                />\r\n              </p>\r\n            )}\r\n            {step === `dinned` && (\r\n              <>\r\n                <p styleName=\"rednotes\">\r\n                  <FormattedMessage\r\n                    id=\"multiSignConfirmTxModal_YouCantSignThisTx\"\r\n                    defaultMessage=\"You do not have permission to sign this transaction (check that you have created a multisig)\"\r\n                  />\r\n                </p>\r\n                <Button styleName=\"buttonCenter\" blue onClick={this.handleGoToWallet}>\r\n                  <FormattedMessage\r\n                    id=\"multiSignConfirmTxModal_GoToWalletPage\"\r\n                    defaultMessage=\"Open wallet\"\r\n                  />\r\n                </Button>\r\n              </>\r\n            )}\r\n            {step === `txInfo` && (\r\n              <>\r\n                <div styleName=\"highLevel\" style={{ marginBottom: '20px' }}>\r\n                  <FieldLabel>\r\n                    <FormattedMessage\r\n                      id=\"BtcMultisignConfirmTx_FromAddress\"\r\n                      defaultMessage=\"  \"\r\n                    />\r\n                    {' '}\r\n                  </FieldLabel>\r\n                  <Input valueLink={linked.from} disabled styleName=\"input fakeInput\" withMargin />\r\n                </div>\r\n                <div styleName=\"highLevel\" style={{ marginBottom: '20px' }}>\r\n                  <FieldLabel>\r\n                    <FormattedMessage id=\"Withdrow1194\" defaultMessage=\"Address \" />\r\n                    {' '}\r\n                    <Tooltip id=\"WtH203\">\r\n                      <div style={{ textAlign: 'center' }}>\r\n                        <FormattedMessage\r\n                          id=\"WTH275\"\r\n                          defaultMessage=\"Make sure the wallet you{br}are sending the funds to supports {currency}\"\r\n                          values={{ br: <br />, currency: `BTC` }}\r\n                        />\r\n                      </div>\r\n                    </Tooltip>\r\n                  </FieldLabel>\r\n                  <Input valueLink={linked.address} disabled styleName=\"input fakeInput\" withMargin />\r\n                </div>\r\n                <div styleName=\"lowLevel\" style={{ marginBottom: '30px' }}>\r\n                  <p styleName=\"balance walletBalance\">\r\n                    {txData.wallet.balance}\r\n                    {' '}\r\n                    BTC\r\n                  </p>\r\n                  <FieldLabel>\r\n                    <FormattedMessage id=\"orders102\" defaultMessage=\"Amount\" />\r\n                  </FieldLabel>\r\n\r\n                  <div styleName=\"group\">\r\n                    <Input styleName=\"input fakeInput\" valueLink={linked.amount} disabled />\r\n                  </div>\r\n                </div>\r\n                {isControlFetching ? (\r\n                  <div styleName=\"buttonsHolder_fetching\">\r\n                    <InlineLoader />\r\n                  </div>\r\n                ) : (\r\n                  <div styleName=\"buttonsHolder\">\r\n                    {!isTxHolder && (\r\n                      <Button\r\n                        styleName=\"buttonFull\"\r\n                        blue\r\n                        disabled={isConfirming || isTxHolder}\r\n                        onClick={this.handleConfirm}\r\n                        fullWidth\r\n                      >\r\n                        <FormattedMessage\r\n                          id=\"multiSignConfirmTxModal_ConfirmTx\"\r\n                          defaultMessage=\"Confirm\"\r\n                        />\r\n                      </Button>\r\n                    )}\r\n                    <Button\r\n                      styleName=\"buttonFull\"\r\n                      blue\r\n                      disabled={isConfirming}\r\n                      onClick={isTxHolder ? this.handleClose : this.handleReject}\r\n                      fullWidth\r\n                    >\r\n                      {isTxHolder ? (\r\n                        <FormattedMessage\r\n                          id=\"multiSignConfirmTxModal_ButtonClose\"\r\n                          defaultMessage=\"Close\"\r\n                        />\r\n                      ) : (\r\n                        <FormattedMessage\r\n                          id=\"multiSignConfirmTxModal_DismatchTx\"\r\n                          defaultMessage=\"Reject\"\r\n                        />\r\n                      )}\r\n                    </Button>\r\n                  </div>\r\n                )}\r\n              </>\r\n            )}\r\n          </div>\r\n\r\n        </>\r\n\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default BtcMultisignConfirmTx\r\n","// extracted by mini-css-extract-plugin\nexport default {\"confirmTxModal\":\"Hgu5UjfsJ92n00IuppANpw==\",\"buttonsHolder\":\"KmSNt2qGpg7BxfcTuz65Sw==\",\"buttonsHolder_fetching\":\"_9Wx+iZjGZiXqbI6H2ffMug==\",\"walletBalance\":\"qaKshkh7adlWWAR4zwZvGA==\",\"fakeInput\":\"fiYkUqe3+wotNNP9N4Q3dg==\"};","import React, { Fragment } from 'react'\r\nimport { constants } from 'helpers'\r\nimport actions from 'redux/actions'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'redaction'\r\nimport config from 'helpers/externalConfig'\r\nimport { getActivatedCurrencies } from 'helpers/user'\r\n\r\nimport cssModules from 'react-css-modules'\r\n\r\nimport okSvg from 'shared/images/ok.svg'\r\n\r\nimport Modal from 'components/modal/Modal/Modal'\r\nimport Button from 'components/controls/Button/Button'\r\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\r\nimport Copy from 'components/ui/Copy/Copy'\r\n\r\nimport links from 'helpers/links'\r\nimport feedback from 'shared/helpers/feedback'\r\nimport styles from './SaveMnemonicModal.scss'\r\nimport defaultStyles from '../Styles/default.scss'\r\n\r\nconst langPrefix = `SaveMnemonicModal`\r\nconst langLabels = defineMessages({\r\n  title: {\r\n    id: `${langPrefix}_Title`,\r\n    defaultMessage: `  `,\r\n  },\r\n  enterMnemonicNotice: {\r\n    id: `${langPrefix}_EnterNotice`,\r\n    defaultMessage: ` ,          `,\r\n  },\r\n  shareMnemonicTitle: {\r\n    id: `${langPrefix}_ShareMnemonicTitle`,\r\n    defaultMessage: `  `,\r\n  },\r\n  showMnemonicNotice: {\r\n    id: `${langPrefix}_ShowMnemonicNotice`,\r\n    defaultMessage: `           .`,\r\n  },\r\n  readySaveNotice: {\r\n    id: `${langPrefix}_ReadySaveNotice`,\r\n    defaultMessage: `    ,    `,\r\n  },\r\n  saveMnemonicStep1: {\r\n    id: `${langPrefix}_SaveMnemonicStep1`,\r\n    defaultMessage: `1.    `,\r\n  },\r\n  saveMnemonicStep2: {\r\n    id: `${langPrefix}_SaveMnemonicStep2`,\r\n    defaultMessage: `2.       {domain}`,\r\n  },\r\n  mnemonicDeleted: {\r\n    id: `${langPrefix}_MnemoniceDeleted`,\r\n    defaultMessage: `You have already saved your 12-words seed. {href}`,\r\n    values: { \r\n      href: (\r\n        <Link to={links.savePrivateKeys}>\r\n          {' '}\r\n          <FormattedMessage id=\"MnemoniceDeleted_hrefText\" defaultMessage=\"Try export private key\" />\r\n        </Link>\r\n      ) \r\n    },\r\n  },\r\n  beginNotice: {\r\n    id: `${langPrefix}_BeginNotice`,\r\n    defaultMessage: `    12    .{br}         `,\r\n  },\r\n  beginContinue: {\r\n    id: `${langPrefix}_BeginContinue`,\r\n    defaultMessage: ` `,\r\n  },\r\n  beginLater: {\r\n    id: `${langPrefix}_BeginLater`,\r\n    defaultMessage: `  `,\r\n  },\r\n})\r\n\r\ntype MnemonicModalProps = {\r\n  intl: IUniversalObj\r\n  name: string\r\n  onClose: () => void\r\n  data: {\r\n    onClose: () => void\r\n  }\r\n}\r\n\r\ntype MnemonicModalState = {\r\n  step: string\r\n  mnemonic: string | null\r\n  words: string[]\r\n  enteredWords: string[]\r\n  randomWords: string[]\r\n  mnemonicInvalid: boolean\r\n  incorrectWord: boolean\r\n}\r\n\r\n@connect(\r\n  ({\r\n    user: { btcMultisigUserData },\r\n  }) => ({\r\n    btcData: btcMultisigUserData,\r\n  }),\r\n)\r\n@cssModules({ ...defaultStyles, ...styles }, { allowMultiple: true })\r\nclass SaveMnemonicModal extends React.Component<MnemonicModalProps, MnemonicModalState> {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\r\n\r\n    const randomWords = (mnemonic && mnemonic !== '-') ? mnemonic.split(` `) : []\r\n    randomWords.sort(() => 0.5 - Math.random())\r\n\r\n    const words = (mnemonic && mnemonic !== '-') ? mnemonic.split(` `) : []\r\n\r\n    this.state = {\r\n      step: (mnemonic === '-') ? `removed` : `begin`,\r\n      mnemonic,\r\n      words,\r\n      enteredWords: [],\r\n      randomWords,\r\n      mnemonicInvalid: true,\r\n      incorrectWord: false,\r\n    }\r\n  }\r\n\r\n  handleClose = () => {\r\n    const { name, data, onClose } = this.props\r\n\r\n    if (typeof onClose === 'function') {\r\n      onClose()\r\n    }\r\n\r\n    if (data && typeof data.onClose === 'function') {\r\n      data.onClose()\r\n    } else {\r\n      window.location.assign(links.hashHome)\r\n    }\r\n\r\n    const addAllEnabledWalletsAfterRestoreOrCreateSeedPhrase = config?.opts?.addAllEnabledWalletsAfterRestoreOrCreateSeedPhrase\r\n\r\n    if (addAllEnabledWalletsAfterRestoreOrCreateSeedPhrase) {\r\n      const currencies = getActivatedCurrencies()\r\n      currencies.forEach((currency) => {\r\n        actions.core.markCoinAsVisible(currency.toUpperCase(), true)\r\n      })\r\n      localStorage.setItem(constants.localStorage.isWalletCreate, 'true')\r\n    }\r\n\r\n    actions.modals.close(constants.modals.SaveWalletSelectMethod)\r\n    actions.modals.close(name)\r\n  }\r\n\r\n  handleFinish = () => {\r\n    feedback.backup.finished()\r\n    this.handleClose()\r\n  }\r\n\r\n  handleGoToConfirm = () => {\r\n    this.setState({\r\n      step: `confirmMnemonic`,\r\n    })\r\n  }\r\n\r\n  handleClickWord = (index) => {\r\n    const {\r\n      randomWords,\r\n      enteredWords,\r\n      words,\r\n      mnemonic,\r\n    } = this.state\r\n\r\n    const currentWord = enteredWords.length\r\n\r\n    if (words[currentWord] !== randomWords[index]) {\r\n\r\n      this.setState({\r\n        incorrectWord: true,\r\n      }, () => {\r\n        setTimeout(() => {\r\n          this.setState({\r\n            incorrectWord: false,\r\n          })\r\n        }, 500)\r\n      })\r\n      return\r\n    }\r\n\r\n    const clickedWord = randomWords.splice(index, 1)\r\n    enteredWords.push(...clickedWord)\r\n\r\n    this.setState({\r\n      randomWords,\r\n      enteredWords,\r\n      incorrectWord: false,\r\n      mnemonicInvalid: (enteredWords.join(` `) !== mnemonic),\r\n    }, () => {\r\n      if (randomWords.length === 0) {\r\n        localStorage.setItem(constants.privateKeyNames.twentywords, '-')\r\n        localStorage.setItem(constants.privateKeyNames.shamirsMnemonics, '-')\r\n        localStorage.setItem(constants.privateKeyNames.shamirsSecrets, '-')\r\n        actions.backupManager.serverCleanupSeed()\r\n\r\n        this.setState({\r\n          step: `ready`,\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      name,\r\n      intl,\r\n    } = this.props\r\n\r\n    const {\r\n      step,\r\n      words,\r\n      enteredWords,\r\n      mnemonic,\r\n      randomWords,\r\n      mnemonicInvalid,\r\n      incorrectWord,\r\n    } = this.state\r\n\r\n    return (\r\n      // @ts-ignore: strictNullChecks\r\n      <Modal\r\n        name={name}\r\n        title={`${intl.formatMessage(langLabels.title)}`}\r\n        onClose={this.handleClose}\r\n        showCloseButton\r\n      >\r\n        {step === `confirmMnemonic` && (\r\n          <p styleName=\"notice mnemonicNotice\">\r\n            <FormattedMessage {...langLabels.enterMnemonicNotice} />\r\n          </p>\r\n        )}\r\n        {step === `show` && (\r\n          <p styleName=\"notice mnemonicNotice\">\r\n            <FormattedMessage {...langLabels.showMnemonicNotice} />\r\n          </p>\r\n        )}\r\n        {step === `removed` && (\r\n          <p styleName=\"notice mnemonicNotice\">\r\n            <FormattedMessage {...langLabels.mnemonicDeleted} />\r\n          </p>\r\n        )}\r\n        <div>\r\n          {step === `begin` && (\r\n            <>\r\n              <p styleName=\"notice mnemonicNotice\">\r\n                <FormattedMessage\r\n                  {...langLabels.beginNotice}\r\n                  values={{\r\n                    br: <br />,\r\n                  }} />\r\n              </p>\r\n              <div styleName=\"buttonsHolder\">\r\n                <Button\r\n                  blue\r\n                  onClick={() => {\r\n                    feedback.backup.started()\r\n                    this.setState({ step: `show` })\r\n                  }}>\r\n                  <FormattedMessage {...langLabels.beginContinue} />\r\n                </Button>\r\n                <Button gray onClick={this.handleClose}>\r\n                  <FormattedMessage {...langLabels.beginLater} />\r\n                </Button>\r\n              </div>\r\n            </>\r\n          )}\r\n          {step === `ready` && (\r\n            <>\r\n              <p styleName=\"notice mnemonicNotice\">\r\n                <img styleName=\"finishImg\" src={okSvg} alt=\"finish\" />\r\n                <FormattedMessage {...langLabels.readySaveNotice} />\r\n              </p>\r\n              <div styleName=\"lowLevel\">\r\n                <Button\r\n                  styleName=\"buttonCenter buttonHalfFullWidth\"\r\n                  blue\r\n                  onClick={this.handleFinish}\r\n                >\r\n                  <FormattedMessage id=\"WithdrawMSUserFinish\" defaultMessage=\"Ready\" />\r\n                </Button>\r\n              </div>\r\n            </>\r\n          )}\r\n          {step === `confirmMnemonic` && (\r\n            <>\r\n              <div styleName=\"highLevel\">\r\n                <div styleName={`mnemonicView mnemonicEnter ${(incorrectWord) ? 'mnemonicError' : ''}`}>\r\n                  {\r\n                    enteredWords.map((word, index) => (\r\n                      <button key={index} onClick={() => { }} className=\"ym-hide-content notranslate\" translate=\"no\" type=\"button\">\r\n                        {word}\r\n                      </button>\r\n                    ))\r\n                  }\r\n                </div>\r\n                <div styleName=\"mnemonicWords\">\r\n                  {\r\n                    randomWords.map((word, index) => (\r\n                      <button key={index} onClick={() => this.handleClickWord(index)} className=\"ym-hide-content notranslate\" translate=\"no\" type=\"button\">\r\n                        {word}\r\n                      </button>\r\n                    ))\r\n                  }\r\n                </div>\r\n              </div>\r\n              <div styleName=\"lowLevel\">\r\n                <Button\r\n                  styleName=\"buttonCenter buttonHalfFullWidth\"\r\n                  blue\r\n                  disabled={mnemonicInvalid}\r\n                  onClick={this.handleFinish}\r\n                >\r\n                  <FormattedMessage id=\"WithdrawMSUserFinish\" defaultMessage=\"Ready\" />\r\n                </Button>\r\n              </div>\r\n            </>\r\n          )}\r\n          {step === `show` && (\r\n            <>\r\n              <div styleName=\"highLevel\">\r\n                <div styleName=\"mnemonicView\" className=\"ym-hide-content notranslate\" translate=\"no\">\r\n                  {\r\n                    words.map((word, index) => (\r\n                      <div key={index} styleName=\"mnemonicViewWordWrapper\">\r\n                        <div>\r\n                          <span styleName=\"wordIndex\">{(index + 1)}</span>\r\n                          <span>{word}</span>\r\n                        </div>\r\n                        {\r\n                          /* space for correct copy-paste */\r\n                          index + 1 !== words.length && ' '\r\n                        }\r\n                      </div>\r\n                    ))\r\n                  }\r\n                </div>\r\n                <p styleName=\"notice mnemonicNotice\">\r\n                  <FormattedMessage {...langLabels.saveMnemonicStep1} />\r\n                  <br />\r\n                  <FormattedMessage {...langLabels.saveMnemonicStep2} values={{ domain: location.hostname }} />\r\n                </p>\r\n              </div>\r\n\r\n              <div styleName=\"mnemonicButtonsWrapper\">\r\n                <Copy text={mnemonic}>\r\n                  <Button brand>\r\n                    <FormattedMessage id=\"FeeControler49\" defaultMessage=\"Copy\" />\r\n                  </Button>\r\n                </Copy>\r\n                <div styleName=\"continueBtnWrapper\">\r\n                  <Button brand onClick={this.handleGoToConfirm}>\r\n                    <FormattedMessage id=\"createWalletButton1\" defaultMessage=\"Continue\" />\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(SaveMnemonicModal)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"buttonsHolder\":\"Qwcd89FihU4yhkepABOXwA==\",\"finishImg\":\"RubR4KGDOY4F1hlSp6TFBQ==\",\"mnemonicView\":\"QWbNBqAMqZE5xkuQl5VqZQ==\",\"mnemonicViewWordWrapper\":\"FkYaAwV8LY3ZIfxEu41WHA==\",\"wordIndex\":\"L4YZ2uecUTkP-yoDg3lWsQ==\",\"mnemonicEnter\":\"yas0BdeI22cR38j9zzKhMg==\",\"mnemonicError\":\"rLQ3DPXOLBFLntpHsRFmBA==\",\"mnemonicWords\":\"mQyG+a5WrpwiruhgYhblUw==\",\"mnemonicButtonsWrapper\":\"MdlTtSI42O6lzogcp-qUrw==\",\"continueBtnWrapper\":\"OtAbBSbDoHJZeNAXXUC1GA==\",\"mnemonicNotice\":\"Nz6EtRgAC5XVJkHSQ191YA==\"};","import React, { Fragment } from 'react'\r\nimport { BigNumber } from 'bignumber.js'\r\nimport { constants } from 'helpers'\r\nimport actions from 'redux/actions'\r\nimport config from 'app-config'\r\n\r\nimport cssModules from 'react-css-modules'\r\n\r\nimport defaultStyles from '../Styles/default.scss'\r\nimport styles from './RestoryMnemonicWallet.scss'\r\nimport okSvg from 'shared/images/ok.svg'\r\nimport * as mnemonicUtils from 'common/utils/mnemonic'\r\nimport Modal from 'components/modal/Modal/Modal'\r\nimport FieldLabel from 'components/forms/FieldLabel/FieldLabel'\r\nimport Button from 'components/controls/Button/Button'\r\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\r\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\r\n\r\nimport links from 'helpers/links'\r\n\r\nimport MnemonicInput from 'components/forms/MnemonicInput/MnemonicInput'\r\nimport feedback from 'shared/helpers/feedback'\r\n\r\n\r\nconst langPrefix = `RestoryMnemonicWallet`\r\nconst langLabels = defineMessages({\r\n  title: {\r\n    id: `${langPrefix}_Title`,\r\n    defaultMessage: `    `,\r\n  },\r\n  mnemonicLabel: {\r\n    id: `${langPrefix}_MnemonicField`,\r\n    defaultMessage: `  (12 ):`,\r\n  },\r\n  readyNotice: {\r\n    id: `${langPrefix}_ReadyNotice`,\r\n    defaultMessage: `    BTC, ETH   `,\r\n  },\r\n  Ready: {\r\n    id: `${langPrefix}_Ready`,\r\n    defaultMessage: ``,\r\n  },\r\n  restoringWallet: {\r\n    id: `${langPrefix}_RestroringWallet`,\r\n    defaultMessage: `...`,\r\n  },\r\n  restoryWallet: {\r\n    id: `${langPrefix}_RestoryWallet`,\r\n    defaultMessage: ``,\r\n  },\r\n  cancelRestory: {\r\n    id: `${langPrefix}_CancelRestory`,\r\n    defaultMessage: ``,\r\n  },\r\n  mnemonicInvalid: {\r\n    id: `${langPrefix}_MnemonicInvalid`,\r\n    defaultMessage: `     `,\r\n  },\r\n})\r\n\r\ntype ComponentProps = {\r\n  name: string\r\n  onClose: () => void\r\n  intl: IUniversalObj\r\n\r\n  data: {\r\n    onClose: () => void\r\n    noRedirect?: boolean\r\n  }\r\n}\r\n\r\ntype ComponentState = {\r\n  mnemonic: string\r\n  step: string\r\n  mnemonicIsInvalid: boolean\r\n  isFetching: boolean\r\n}\r\n\r\n@cssModules({ ...defaultStyles, ...styles }, { allowMultiple: true })\r\nclass RestoryMnemonicWallet extends React.Component<ComponentProps, ComponentState> {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      step: `enter`,\r\n      mnemonic: '',\r\n      mnemonicIsInvalid: false,\r\n      isFetching: false,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    feedback.restore.started()\r\n  }\r\n\r\n  handleClose = () => {\r\n    const { name, data, onClose } = this.props\r\n\r\n    if (typeof onClose === 'function') {\r\n      onClose()\r\n    }\r\n\r\n    if (data && typeof data.onClose === 'function') {\r\n      data.onClose()\r\n    } else if (!(data && data.noRedirect)) {\r\n      window.location.assign(links.hashHome)\r\n    }\r\n\r\n    actions.modals.close(name)\r\n  }\r\n\r\n  handleFinish = () => {\r\n    const { data } = this.props\r\n\r\n    this.handleClose()\r\n\r\n    if (!(data && data.noRedirect)) {\r\n      window.location.assign(links.hashHome)\r\n      window.location.reload()\r\n    }\r\n  }\r\n\r\n  handleRestoryWallet = () => {\r\n    const { mnemonic } = this.state\r\n\r\n    if (!mnemonic || !mnemonicUtils.validateMnemonicWords(mnemonic)) {\r\n      this.setState({\r\n        mnemonicIsInvalid: true,\r\n        isFetching: false,\r\n      })\r\n      return\r\n    }\r\n\r\n    this.setState(() => ({\r\n      isFetching: true,\r\n    }), () => {\r\n      this.restoreWallet(mnemonic)\r\n    })\r\n  }\r\n\r\n  restoreWallet = (mnemonic) => {\r\n    // callback in timeout doesn't block ui\r\n    setTimeout(async () => {\r\n      await actions.user.restoreWallet(mnemonic)\r\n      this.setState(() => ({\r\n        isFetching: false,\r\n        step: `ready`,\r\n      }))\r\n\r\n      feedback.restore.finished()\r\n    })\r\n  }\r\n\r\n  handleMnemonicChange = (mnemonic) => {\r\n    this.setState({\r\n      mnemonic,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { name, intl } = this.props\r\n\r\n    const {\r\n      step,\r\n      mnemonic,\r\n      mnemonicIsInvalid,\r\n      isFetching,\r\n    } = this.state\r\n\r\n    return (\r\n      <Modal\r\n        name={name}\r\n        title={`${intl.formatMessage(langLabels.title)}`}\r\n        onClose={this.handleClose}\r\n        showCloseButton={true}\r\n      >\r\n        <div styleName=\"restoreModalHolder\">\r\n          {step === `enter` && (\r\n            <Fragment>\r\n              {mnemonic && mnemonicIsInvalid && (\r\n                <div styleName=\"rednotes mnemonicNotice\">\r\n                  <FormattedMessage {...langLabels.mnemonicInvalid} />\r\n                </div>\r\n              )}\r\n              <div styleName=\"highLevel\" className=\"ym-hide-content notranslate\" translate=\"no\">\r\n                <FieldLabel>\r\n                  <span styleName=\"tooltipWrapper\">\r\n                    <FormattedMessage {...langLabels.mnemonicLabel} />\r\n                    &nbsp;\r\n                    <Tooltip id=\"ImportKeys_RestoreMnemonic_tooltip\">\r\n                      <>\r\n                        <FormattedMessage\r\n                          id=\"ImportKeys_RestoreMnemonic_Tooltip\"\r\n                          defaultMessage=\"12-word backup phrase\"\r\n                        />\r\n                        <br />\r\n                        <br />\r\n                        <div styleName=\"alertTooltipWrapper\">\r\n                          <FormattedMessage\r\n                            id=\"ImportKeys_RestoreMnemonic_Tooltip_withBalance\"\r\n                            defaultMessage=\"Please, be causious!\"\r\n                          />\r\n                        </div>\r\n                      </>\r\n                    </Tooltip>\r\n                  </span>\r\n                </FieldLabel>\r\n                <MnemonicInput \r\n                  autoFill={config.entry === 'testnet'}\r\n                  onChange={this.handleMnemonicChange}\r\n                />\r\n              </div>\r\n              <div styleName=\"buttonsHolder\">\r\n                <Button gray onClick={this.handleClose}>\r\n                  <FormattedMessage {...langLabels.cancelRestory} />\r\n                </Button>\r\n                <Button\r\n                  id='walletRecoveryButton'\r\n                  blue\r\n                  disabled={!mnemonic || mnemonic.split(' ').length !== 12 || isFetching}\r\n                  onClick={this.handleRestoryWallet}\r\n                >\r\n                  {isFetching ? (\r\n                    <FormattedMessage {...langLabels.restoringWallet} />\r\n                  ) : (\r\n                    <FormattedMessage {...langLabels.restoryWallet} />\r\n                  )}\r\n                </Button>\r\n              </div>\r\n            </Fragment>\r\n          )}\r\n          {step === `ready` && (\r\n            <Fragment>\r\n              <p styleName=\"notice mnemonicNotice\">\r\n                <img styleName=\"finishImg\" src={okSvg} alt=\"finish\" />\r\n                <FormattedMessage {...langLabels.readyNotice} />\r\n              </p>\r\n              <div styleName=\"lowLevel\">\r\n                <Button\r\n                  id='finishWalletRecoveryButton'\r\n                  styleName=\"buttonCenter buttonHalfFullWidth\"\r\n                  blue\r\n                  onClick={this.handleFinish}\r\n                >\r\n                  <FormattedMessage {...langLabels.Ready} />\r\n                </Button>\r\n              </div>\r\n            </Fragment>\r\n          )}\r\n        </div>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(RestoryMnemonicWallet)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"restoreModalHolder\":\"DbM9acSUWJEAMQeAIx9hLA==\",\"buttonsHolder\":\"awu32BAo-AtWQ7sVfpE1cw==\",\"tooltipWrapper\":\"N5O1tWWHpOHhdVkylfMbxA==\",\"alertTooltipWrapper\":\"FzSRiyLcBzWyohv6dQJJPw==\",\"finishImg\":\"js1-HJ-trDN1nqPab+RtMw==\",\"mnemonicNotice\":\"+wcQIjjb8GCf3FkX5vaRpg==\"};","import React from 'react'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './HowToWithdrawModal.scss'\r\n\r\nimport { Modal } from 'components/modal'\r\nimport { FormattedMessage, defineMessages, injectIntl } from 'react-intl'\r\nimport config from 'helpers/externalConfig'\r\n\r\n\r\nconst langLabels = defineMessages({\r\n  title: {\r\n    id: 'HowToWithdrawModal_Title',\r\n    defaultMessage: 'How to withdraw',\r\n  },\r\n})\r\n\r\n@cssModules(styles, { allowMultiple: true })\r\nclass HowToWithdrawModal extends React.Component<any, any> {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    const {\r\n      data: {\r\n        currency,\r\n      },\r\n    } = props\r\n\r\n    let howToWithdraw = ''\r\n    if (config\r\n      && config.erc20\r\n      && config.erc20[currency.toLowerCase()]\r\n      && config.erc20[currency.toLowerCase()].howToWithdraw\r\n    ) howToWithdraw = config.erc20[currency.toLowerCase()].howToWithdraw\r\n\r\n    this.state = {\r\n      howToWithdraw,\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      props: {\r\n        name,\r\n        intl,\r\n      },\r\n      state: {\r\n        howToWithdraw,\r\n      },\r\n    } = this\r\n\r\n    return (\r\n      <Modal name={name} title={intl.formatMessage(langLabels.title)}>\r\n        <div dangerouslySetInnerHTML={{ __html: howToWithdraw }} />\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(HowToWithdrawModal)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"tbvIalRdvvCLTO8ozbnasA==\",\"content\":\"aHHY9usxeHo622+grHll9w==\",\"qr\":\"qpGcEtNR88wgLOcPwl-30g==\"};","// extracted by mini-css-extract-plugin\nexport default {\"animate-fetching\":\"_7x2rw2iOwnVg5ZiOj1ypow==\",\"animate\":\"vO9QH-RClW8jn8NjLz1q3g==\"};","import React, { Fragment } from 'react'\r\nimport { Modal } from 'components/modal'\r\nimport { FormattedMessage, defineMessages, injectIntl } from 'react-intl'\r\n\r\nimport actions from 'redux/actions'\r\n\r\nimport { links, constants } from 'helpers'\r\nimport { getFullOrigin } from 'helpers/links'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport defaultStyles from '../Styles/default.scss'\r\nimport styles from './InfoInvoice.scss'\r\nimport animateFetching from 'components/loaders/ContentLoader/ElementLoading.scss'\r\n\r\nimport { ShareLink } from 'components/controls'\r\nimport ShareButton from 'components/controls/ShareButton/ShareButton'\r\n\r\nimport Button from 'components/controls/Button/Button'\r\n\r\nimport { isMobile } from \"react-device-detect\"\r\nimport { regularIcons } from 'images'\r\n\r\nconst langPrefix = 'InvoiceInfoModal'\r\nconst langLabels = defineMessages({\r\n  titleFetching: {\r\n    id: `${langPrefix}_TitleFetch`,\r\n    defaultMessage: ` ...`,\r\n  },\r\n  title: {\r\n    id: `${langPrefix}_Title`,\r\n    defaultMessage: ` #{number}`,\r\n  },\r\n  destination: {\r\n    id: `${langPrefix}_DestinationAddress`,\r\n    defaultMessage: `   {destination}`,\r\n  },\r\n  invoiceSender: {\r\n    id: `${langPrefix}_Sender`,\r\n    defaultMessage: ` ()`,\r\n  },\r\n  invoiceComment: {\r\n    id: `${langPrefix}_Comment`,\r\n    defaultMessage: `Comment`,\r\n  },\r\n  fromAddress: {\r\n    id: `${langPrefix}_FromAddress`,\r\n    defaultMessage: ` `,\r\n  },\r\n  buttonClose: {\r\n    id: `${langPrefix}_CloseButton`,\r\n    defaultMessage: ``,\r\n  },\r\n  payInvoice: {\r\n    id: `${langPrefix}_PayInvoiceButton`,\r\n    defaultMessage: ``,\r\n  },\r\n  declimeInvoice: {\r\n    id: `${langPrefix}_DeclimeInvoiceButton`,\r\n    defaultMessage: ``,\r\n  },\r\n  shareText: {\r\n    id: `${langPrefix}_ShareInvoiceText`,\r\n    defaultMessage: ` #{id}-{invoiceNumber}  {contact}  {amount} {type}`,\r\n  },\r\n  shareReady: {\r\n    id: `${langPrefix}_ButtonShareReady`,\r\n    defaultMessage: ``,\r\n  },\r\n  shareInfo: {\r\n    id: `${langPrefix}_ShareLink_InfoText`,\r\n    defaultMessage: `      `,\r\n  },\r\n  infoStatusReady: {\r\n    id: `${langPrefix}_InfoStatus_Ready`,\r\n    defaultMessage: ``,\r\n  },\r\n  infoStatusDeclimed: {\r\n    id: `${langPrefix}_InfoStatus_Declimed`,\r\n    defaultMessage: ``,\r\n  },\r\n  infoStatusPending: {\r\n    id: `${langPrefix}_InfoStatus_Pending`,\r\n    defaultMessage: ` `,\r\n  },\r\n})\r\n\r\n@cssModules({\r\n  ...defaultStyles,\r\n  ...styles,\r\n  ...animateFetching,\r\n}, { allowMultiple: true })\r\n\r\nclass InfoInvoice extends React.Component<any, any> {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const {\r\n      data: {\r\n        isFetching,\r\n        onFetching,\r\n        invoice,\r\n        uniqhash,\r\n        doshare,\r\n      }\r\n    } = props\r\n\r\n    this.state = {\r\n      isFetching,\r\n      invoice,\r\n      uniqhash,\r\n      isCancelled: false,\r\n      isReady: false,\r\n      isPending: true,\r\n      doshare,\r\n      isShareReady: !(doshare),\r\n    }\r\n\r\n    if (isFetching && typeof onFetching === 'function') {\r\n      onFetching(this)\r\n    }\r\n  }\r\n\r\n  handleCloseButton = () => {\r\n    //@ts-ignore\r\n    this.handleClose()\r\n  }\r\n\r\n  handleClose = (isLocationChange) => {\r\n    const { name, data, onClose } = this.props\r\n\r\n    if (typeof onClose === 'function') {\r\n      onClose(isLocationChange)\r\n    }\r\n\r\n    if (typeof data.onClose === 'function') {\r\n      data.onClose(isLocationChange)\r\n    }\r\n\r\n    actions.modals.close(name)\r\n  }\r\n\r\n  handleShareReady = () => {\r\n    const { history } = this.props\r\n    const { uniqhash } = this.state\r\n\r\n    location.hash = `${links.invoice}/${uniqhash}`\r\n    setTimeout(() => { location.reload() }, 100)\r\n    /*\r\n    this.setState({\r\n      isShareReady: true,\r\n    }, () => {\r\n      history.push(`${links.invoice}/${uniqhash}`)\r\n    })\r\n    */\r\n  }\r\n\r\n  handlePayInvoice = () => {\r\n    const {\r\n      invoice: {\r\n        invoiceData: invoice = false,\r\n      },\r\n    } = this.state\r\n\r\n    if (invoice) {\r\n      const {\r\n        type,\r\n        destAddress,\r\n        fromAddress,\r\n        amount,\r\n        toAddress,\r\n      } = invoice\r\n\r\n      const payWallet = actions.user.getWithdrawWallet(type, toAddress)\r\n      if (payWallet) {\r\n        // @ToDo -    \r\n        let withdrawType = constants.modals.Withdraw\r\n\r\n        if (payWallet.isUserProtected) withdrawType = constants.modals.WithdrawMultisigUser\r\n\r\n        const {\r\n          currency,\r\n          address,\r\n          balance,\r\n          unconfirmedBalance,\r\n        } = payWallet\r\n\r\n        actions.modals.open(withdrawType, {\r\n          currency,\r\n          address,\r\n          balance,\r\n          itemCurrency: payWallet,\r\n          unconfirmedBalance,\r\n          toAddress: destAddress || fromAddress,\r\n          amount: amount,\r\n          invoice,\r\n          onReady: () => {\r\n            this.setState({\r\n              isReady: true,\r\n            })\r\n          },\r\n        })\r\n\r\n      } else {\r\n        // No wallet - pay from external wallet\r\n      }\r\n    }\r\n  }\r\n\r\n  handleChangeLocation = (newLocation) => {\r\n  console.log('>>> handleChangeLocation', newLocation)\r\n    const { uniqhash } = this.state\r\n\r\n    return newLocation.includes(`#${links.invoice}/${uniqhash}`)\r\n  }\r\n\r\n  handleDeclimeInvoice = () => {\r\n    const {\r\n      invoice: {\r\n        invoiceData,\r\n      },\r\n    } = this.state\r\n\r\n    //@ts-ignore: strictNullChecks\r\n    actions.modals.open(constants.modals.Confirm, {\r\n      onAccept: async () => {\r\n        await actions.invoices.cancelInvoice(invoiceData.id)\r\n        this.setState({\r\n          isCancelled: true,\r\n        })\r\n      },\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      intl,\r\n    } = this.props\r\n\r\n    const {\r\n      uniqhash,\r\n      isFetching,\r\n      invoice,\r\n      isCancelled,\r\n      isReady,\r\n      doshare,\r\n      isShareReady,\r\n    } = this.state\r\n\r\n    const {\r\n      invoiceData = false,\r\n    } = (invoice || {})\r\n\r\n    let status = 'pending'\r\n    if (!isFetching && invoiceData) status = invoiceData.status\r\n    if (isCancelled) status = 'cancel'\r\n    if (isReady) status = 'ready'\r\n\r\n    const shareText = (!isFetching && invoiceData) ? 'Fetching'\r\n      : intl.formatMessage(langLabels.shareText, invoiceData)\r\n\r\n\r\n    const shareLink = `${getFullOrigin()}${links.invoice}/${uniqhash}`\r\n\r\n\r\n    const isPayerSide = (!isFetching && invoice && invoice.direction === 'in')\r\n    const isOwner = (!isFetching && invoice && invoice.isOwner)\r\n    const hasPayer = (!isFetching && invoice && invoice.hasPayer)\r\n\r\n    const shareButtonEnabled = isMobile\r\n\r\n    const isPayerControlEnabled = (!isCancelled && !isReady && (isPayerSide || (!hasPayer && !isOwner)))\r\n\r\n    const buttonsHolderStyles = [`invoiceControlsHolder`, `button-overlay`]\r\n    buttonsHolderStyles.push((shareButtonEnabled) ? `with-share-button` : `without-share-button`)\r\n    if (!isPayerControlEnabled) buttonsHolderStyles.push(`without-pay-control`)\r\n\r\n    const modalTitle = (isFetching) ?\r\n      intl.formatMessage(langLabels.titleFetching) :\r\n      intl.formatMessage(langLabels.title, {\r\n        number: `${invoiceData.id}-${invoiceData.invoiceNumber}`,\r\n      })\r\n\r\n\r\n    let infoIconTitle = ''\r\n    let infoIconUrl = ''\r\n\r\n    switch (status) {\r\n      case 'ready':\r\n        infoIconTitle = intl.formatMessage(langLabels.infoStatusReady)\r\n        infoIconUrl = regularIcons.OK\r\n        break;\r\n      case 'cancelled':\r\n        infoIconTitle = intl.formatMessage(langLabels.infoStatusDeclimed)\r\n        infoIconUrl = regularIcons.CANCELLED\r\n        break;\r\n      default:\r\n        infoIconTitle = intl.formatMessage(langLabels.infoStatusPending)\r\n        infoIconUrl = regularIcons.PENDING\r\n    }\r\n\r\n    return (\r\n      <Modal \r\n        name=\"InfoInvoice\" title={modalTitle} \r\n        onClose={this.handleClose} \r\n        showCloseButton={true} \r\n        closeOnLocationChange={true} \r\n        onLocationChange={this.handleChangeLocation}\r\n      >\r\n        {doshare && !isShareReady && (\r\n          <Fragment>\r\n            <div styleName=\"convent-overlay\">\r\n              <div styleName=\"share-info\">\r\n                <strong>\r\n                  <FormattedMessage { ...langLabels.shareInfo } />\r\n                </strong>\r\n              </div>\r\n              <ShareLink\r\n                link={shareLink}\r\n                fullSize={true}\r\n              />\r\n            </div>\r\n            <div styleName=\"button-overlay share-ready-holder\">\r\n              <Button\r\n                blue\r\n                onClick={this.handleShareReady}\r\n              >\r\n                <FormattedMessage { ...langLabels.shareReady } />\r\n              </Button>\r\n            </div>\r\n          </Fragment>\r\n        )}\r\n        {isShareReady && (\r\n          <Fragment>\r\n            <div styleName=\"blockCenter convent-overlay\">\r\n              <div className=\"p-3\"  styleName={isFetching ? `animate-fetching` : ``}>\r\n                <div styleName={`statusImgHolder statusImgHolder_${status}`}>\r\n                  <img src={infoIconUrl} title={infoIconTitle} alt={infoIconTitle} />\r\n                  <strong>{infoIconTitle}</strong>\r\n                </div>\r\n                <div styleName=\"shortInfoHolder\">\r\n                  {!isFetching && invoiceData && (\r\n                    <Fragment>\r\n                      <div>\r\n                        <strong styleName=\"invoiceNumber\">\r\n                          <FormattedMessage { ...langLabels.title } values={{number: `${invoiceData.id}-${invoiceData.invoiceNumber}`}} />\r\n                        </strong>\r\n                      </div>\r\n                      <div>\r\n                        <span>\r\n                          <strong>{invoiceData.amount} {invoiceData.type}</strong>\r\n                        </span>\r\n                      </div>\r\n                      <div>\r\n                        <span>\r\n                          <FormattedMessage { ... langLabels.destination } values={{\r\n                            destination: <b>{invoiceData.destAddress}</b>,\r\n                          }} />\r\n                        </span>\r\n                      </div>\r\n                    </Fragment>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <table styleName=\"blockCenter__table\" className=\"table table-borderless\">\r\n                <tbody>\r\n                  {isFetching ? (\r\n                    <tr>\r\n                      <td styleName=\"animate-fetching\" colSpan={2}></td>\r\n                    </tr>\r\n                  ) : (\r\n                    <>\r\n                      <tr>\r\n                        <td styleName=\"header\">\r\n                          <FormattedMessage { ...langLabels.invoiceSender} />\r\n                        </td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td styleName=\"responsiveBlock\">{invoiceData.contact}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td styleName=\"header\" colSpan={2}>\r\n                          <FormattedMessage { ...langLabels.fromAddress } />\r\n                        </td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td styleName=\"responsiveBlock\" colSpan={2}>\r\n                          <span>{invoiceData.fromAddress}{' '}({invoiceData.invoiceNumber})</span>\r\n                        </td>\r\n                      </tr>\r\n                      {invoiceData.destAddress && (\r\n                        <>\r\n                          <tr>\r\n                            <td styleName=\"header\" colSpan={2}>\r\n                              <FormattedMessage id=\"InvoiceInfoModal_ToAddress\" defaultMessage=\"Payer address\" />\r\n                            </td>\r\n                          </tr>\r\n                          <tr>\r\n                            <td styleName=\"responsiveBlock\" colSpan={2}>{invoiceData.destAddress}</td>\r\n                          </tr>\r\n                        </>\r\n                      )}\r\n                      {invoiceData.label && (\r\n                        <>\r\n                          <tr>\r\n                            <td styleName=\"header\" colSpan={2}>\r\n                              <FormattedMessage { ...langLabels.invoiceComment} />\r\n                            </td>\r\n                          </tr>\r\n                          <tr>\r\n                            <td styleName=\"responsiveBlock\" colSpan={2}>\r\n                              {invoiceData.label}\r\n                            </td>\r\n                          </tr>\r\n                        </>\r\n                      )}\r\n                    </>\r\n                  )}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <div styleName={buttonsHolderStyles.join(` `)}>\r\n              {(isPayerControlEnabled && !isFetching && status === 'new') && (\r\n                <Fragment>\r\n                  <div styleName=\"payControl\">\r\n                    <Button\r\n                      blue\r\n                      onClick={this.handlePayInvoice}\r\n                    >\r\n                      <FormattedMessage { ...langLabels.payInvoice } />\r\n                    </Button>\r\n                  </div>\r\n                  <div styleName=\"payControl\">\r\n                    <Button\r\n                      gray\r\n                      onClick={this.handleDeclimeInvoice}\r\n                    >\r\n                      <FormattedMessage { ...langLabels.declimeInvoice } />\r\n                    </Button>\r\n                  </div>\r\n                </Fragment>\r\n              )}\r\n              <div styleName=\"closeButton\">\r\n                <Button\r\n                  blue\r\n                  onClick={this.handleCloseButton}\r\n                >\r\n                  <FormattedMessage { ...langLabels.buttonClose } />\r\n                </Button>\r\n              </div>\r\n              {shareButtonEnabled && (\r\n                <div styleName=\"shareButton\">\r\n                  <ShareButton\r\n                    fullWidth={true}\r\n                    link={`${shareLink}`}\r\n                    title={shareText} />\r\n                </div>\r\n              )}\r\n            </div>\r\n          </Fragment>\r\n        )}\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(InfoInvoice)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"blockCenter\":\"yg0WtaesFAMZPPVaMsltwA==\",\"shortInfoHolder\":\"zcsaSvBP3ribsL2p8+j+zg==\",\"share-info\":\"DBtRh2nJYLXxVKEObz61vQ==\",\"responsiveBlock\":\"O5EW9yyKaY-OlNpxN89i4A==\",\"share-ready-holder\":\"dL565GIC0zztSuzdozMxgQ==\",\"align-right\":\"LguNDimfGt05PYs3OCYpnQ==\",\"statusImgHolder\":\"BibvzJ1Fv8OXX8933KbZcw==\",\"statusImgHolder_cancelled\":\"j-yVE7MoQRnYr81TEmj5wA==\",\"statusImgHolder_ready\":\"j0CML9MBj72ha3p1jfb1aA==\",\"statusImgHolder_new\":\"JRGbId6sU0IManOC2iWCxQ==\",\"statusImgHolder_pending\":\"QmkrTkzEmxcGuz6x3bNsPg==\",\"invoiceControlsHolder\":\"mjT-Ta09Y2KERsmNlARAOw==\",\"payControl\":\"dVkXHd2y+KJohRUOYVd-SQ==\",\"closeButton\":\"MIj1cnXUCXOlL6lOoNI3rg==\",\"shareButton\":\"yNksGN7mqBPPS9CICrS1CA==\",\"with-share-button\":\"nkg97pYK1K3m3O029ZPSrw==\",\"without-share-button\":\"T955dOWEWv77L4OdX4lP3w==\",\"without-pay-control\":\"k0xNS4-SVX3xrxuiWJ6OFA==\",\"blockCenter__table\":\"fxg2o5-0rdARUckhAX+i1Q==\",\"header\":\"dK1NHjDq6Zg8iT2yrDW5zA==\",\"invoiceNumber\":\"jbmkVRxUMlmJQaQBxx4TVg==\"};","import React, { Fragment } from 'react'\r\nimport { constants } from 'helpers'\r\nimport actions from 'redux/actions'\r\nimport Link from 'local_modules/sw-valuelink'\r\nimport { connect } from 'redaction'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from '../Styles/default.scss'\r\nimport ownStyle from './RegisterPINProtected.scss'\r\nimport * as mnemonicUtils from 'common/utils/mnemonic'\r\nimport Modal from 'components/modal/Modal/Modal'\r\nimport FieldLabel from 'components/forms/FieldLabel/FieldLabel'\r\nimport Input from 'components/forms/Input/Input'\r\nimport Button from 'components/controls/Button/Button'\r\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\r\n\r\nimport CopyToClipboard from 'react-copy-to-clipboard'\r\nimport moment from 'moment/moment'\r\nimport okSvg from 'shared/images/ok.svg'\r\n\r\nconst langPrefix = `RegisterPINProtectedBTC`\r\n\r\nconst langs = defineMessages({\r\n  registerPinModal: {\r\n    id: `${langPrefix}_Title`,\r\n    defaultMessage: `Activate PIN Protected Wallet`,\r\n  },\r\n  pinCodePlaceHolder: {\r\n    id: `${langPrefix}_PinCodePlaceholder`,\r\n    defaultMessage: `Enter your pin code`,\r\n  },\r\n  pinCodeConfirmPlaceHolder: {\r\n    id: `${langPrefix}_PinCodeConfirmPlaceholder`,\r\n    defaultMessage: `Confirm your pin code`,\r\n  },\r\n  needSaveMnemonicToContinue: {\r\n    id: `${langPrefix}_YouNeedSaveMnemonic`,\r\n    defaultMessage: `  2fa    12 .`,\r\n  },\r\n  pleaseSaveMnemonicToContinue: {\r\n    id: `${langPrefix}_SaveYourMnemonic`,\r\n    defaultMessage: `    .`,\r\n  },\r\n  buttonSaveMnemonic: {\r\n    id: `${langPrefix}_ButtonSaveMnemonic`,\r\n    defaultMessage: `Save`,\r\n  },\r\n  buttonCancel: {\r\n    id: `${langPrefix}_ButtonCancel`,\r\n    defaultMessage: `Cancel`,\r\n  },\r\n  enterPinCodeUpMessage: {\r\n    id: `${langPrefix}_EnterPinCodeUpMessage`,\r\n    defaultMessage: `  BTC,  `,\r\n  },\r\n  enterPinCodeBottomMessage: {\r\n    id: `${langPrefix}_EnterPinCodeBottomMessage`,\r\n    defaultMessage: ` `,\r\n  },\r\n  youNotEnterPin: {\r\n    id: `${langPrefix}_ErrorNoPinOrSmall`,\r\n    defaultMessage: `     4 `,\r\n  },\r\n  pinCodeNotEqueals: {\r\n    id: `${langPrefix}_ErrorPinCodesNotEqueals`,\r\n    defaultMessage: `  `,\r\n  },\r\n  pinServerOffline: {\r\n    id: `${langPrefix}_PinServerOffline`,\r\n    defaultMessage: `   `,\r\n  },\r\n  useMnemonicNote: {\r\n    id: `${langPrefix}_UseMnemonicRestoreNote`,\r\n    defaultMessage: `       (12 )`,\r\n  },\r\n  useMnemonicButton: {\r\n    id: `${langPrefix}_UseMnemonicButton`,\r\n    defaultMessage: ` `,\r\n  },\r\n  restoryUpMessage: {\r\n    id: `${langPrefix}_RestoryUpMessage`,\r\n    defaultMessage: ` BTC   `,\r\n  },\r\n  restoryBottomMessage: {\r\n    id: `${langPrefix}_RestoryBottomMessage`,\r\n    defaultMessage: `   (12 )`,\r\n  },\r\n  labelYourMnemonic: {\r\n    id: `${langPrefix}_LabelYourMnemonic`,\r\n    defaultMessage: `  `,\r\n  },\r\n  mnemonicPlaceHolder: {\r\n    id: `${langPrefix}_MnemonicPlaceholder`,\r\n    defaultMessage: `   (12 )`,\r\n  },\r\n  shipButton: {\r\n    id: `${langPrefix}_ShipButton`,\r\n    defaultMessage: `Processing ...`,\r\n  },\r\n  confirmButton: {\r\n    id: `${langPrefix}_ConfirmRestory`,\r\n    defaultMessage: ` `,\r\n  },\r\n  usepinButton: {\r\n    id: `${langPrefix}_UsePinButton`,\r\n    defaultMessage: ` `,\r\n  },\r\n  activateWallet: {\r\n    id: `${langPrefix}_ActivateWalletButton`,\r\n    defaultMessage: ` `,\r\n  },\r\n  errorWalletLocked: {\r\n    id: `${langPrefix}_ErrorWalletLocked`,\r\n    defaultMessage: `       .   `,\r\n  },\r\n  labelYourPin: {\r\n    id: `${langPrefix}_LabelYourPinCode`,\r\n    defaultMessage: `Your PIN-code`,\r\n  },\r\n  labelConfirmYourPin: {\r\n    id: `${langPrefix}_LabelConfirmYourPin`,\r\n    defaultMessage: `Confirm your PIN-code`,\r\n  },\r\n  buttonFinish: {\r\n    id: `${langPrefix}_ButtonFinish`,\r\n    defaultMessage: ``,\r\n  },\r\n  buttonCopiedInstruction: {\r\n    id: `${langPrefix}_Instruction_Copied`,\r\n    defaultMessage: ``,\r\n  },\r\n  buttonCopyInstruction: {\r\n    id: `${langPrefix}_Instruction_Copy`,\r\n    defaultMessage: ``,\r\n  },\r\n  buttonDownloadingInstruction: {\r\n    id: `${langPrefix}_Instruction_Downloading`,\r\n    defaultMessage: ``,\r\n  },\r\n  buttonDownloadInstruction: {\r\n    id: `${langPrefix}_Instruction_Download`,\r\n    defaultMessage: ``,\r\n  },\r\n  buttonShare: {\r\n    id: `${langPrefix}_Share`,\r\n    defaultMessage: `Share`,\r\n  },\r\n  finishMessage: {\r\n    id: `${langPrefix}_FinishMessage`,\r\n    defaultMessage: `Your protected wallet activated`,\r\n  },\r\n  instructionMessage: {\r\n    id: `${langPrefix}_Instruction_Message`,\r\n    defaultMessage: `     `,\r\n  },\r\n  howToWithdraw: {\r\n    id: `${langPrefix}_HowToWithdraw`,\r\n    defaultMessage: `How to withdraw money manually`,\r\n  },\r\n  errorMnemonicInvalid: {\r\n    id: `${langPrefix}_ErrorMnemonicInvalid`,\r\n    defaultMessage: `      (12 )`,\r\n  },\r\n  errorMnemonicIncorrect: {\r\n    id: `${langPrefix}_ErrorMnemonicIncorrect`,\r\n    defaultMessage: `       `,\r\n  },\r\n})\r\n\r\n@connect(({ user: { btcData, btcMultisigPinData } }) => ({\r\n  btcData,\r\n  btcMultisigPinData,\r\n}))\r\n@cssModules({ ...styles, ...ownStyle }, { allowMultiple: true })\r\nclass RegisterPINProtected extends React.Component<any, any> {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const {\r\n      data: { initStep },\r\n    } = props\r\n\r\n    const generatedKey = localStorage.getItem(constants.privateKeyNames.btcSmsMnemonicKeyGenerated)\r\n\r\n    const mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\r\n    const mnemonicSaved = mnemonic === `-`\r\n    const useGeneratedKeyEnabled = !!generatedKey\r\n\r\n    let step = 'enterPinCode'\r\n    if (useGeneratedKeyEnabled && !mnemonicSaved) step = 'saveMnemonicWords'\r\n\r\n    let showFinalInstruction = false\r\n    if (initStep === 'export') {\r\n      showFinalInstruction = true\r\n      step = 'ready'\r\n    }\r\n\r\n    this.state = {\r\n      pinCode: '',\r\n      pinCodeConfirm: '',\r\n      step,\r\n      error: false,\r\n      isShipped: false,\r\n      showFinalInstruction,\r\n      useGeneratedKey: useGeneratedKeyEnabled,\r\n      generatedKey,\r\n      useGeneratedKeyEnabled,\r\n      mnemonicSaved,\r\n      mnemonic: ``,\r\n      mnemonicWallet: false,\r\n      isMnemonicGenerated: false,\r\n      isMnemonicValid: true,\r\n      isWalletLockedOtherPin: false,\r\n      isInstructionCopied: false,\r\n      isInstructionDownloaded: false,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.generateRestoreInstruction()\r\n  }\r\n\r\n  handleRestoreWallet = async () => {\r\n    const { mnemonic } = this.state\r\n\r\n    this.setState(\r\n      {\r\n        error: false,\r\n        isShipped: true,\r\n      },\r\n      async () => {\r\n        if (!mnemonic || !mnemonicUtils.validateMnemonicWords(mnemonic)) {\r\n          this.setState({\r\n            error: <FormattedMessage {...langs.errorMnemonicInvalid} />,\r\n            isShipped: false,\r\n          })\r\n          return\r\n        }\r\n\r\n        if (!actions.btcmultisig.checkPinCanRestory(mnemonic.trim())) {\r\n          this.setState({\r\n            error: <FormattedMessage {...langs.errorMnemonicIncorrect} />,\r\n            isShipped: false,\r\n          })\r\n          return\r\n        }\r\n\r\n        await actions.btcmultisig.addPinWallet(mnemonic.trim())\r\n\r\n        this.generateRestoreInstruction()\r\n\r\n        this.setState({\r\n          isShipped: false,\r\n          step: 'ready',\r\n        })\r\n      }\r\n    )\r\n  }\r\n\r\n  handleCopyInstruction = async () => {\r\n    this.setState(\r\n      {\r\n        isInstructionCopied: true,\r\n      },\r\n      () => {\r\n        setTimeout(() => {\r\n          this.setState({\r\n            isInstructionCopied: false,\r\n          })\r\n        }, 1000)\r\n      }\r\n    )\r\n  }\r\n\r\n  handleDownloadInstruction = async () => {\r\n    const { restoreInstruction } = this.state\r\n\r\n    this.setState(\r\n      {\r\n        isInstructionDownloaded: true,\r\n      },\r\n      () => {\r\n        const element = document.createElement('a')\r\n        const message = 'Check your browser downloads'\r\n\r\n        element.setAttribute(\r\n          'href',\r\n          `data:text/plaincharset=utf-8,${encodeURIComponent(restoreInstruction)}`\r\n        )\r\n        element.setAttribute(\r\n          'download',\r\n          `${window.location.hostname}_btc_sms_protected_keys_${moment().format('DD.MM.YYYY')}.txt`\r\n        )\r\n\r\n        element.style.display = 'none'\r\n        document.body.appendChild(element)\r\n        element.click()\r\n        document.body.removeChild(element)\r\n\r\n        setTimeout(() => {\r\n          this.setState({\r\n            isInstructionDownloaded: false,\r\n          })\r\n        }, 1000)\r\n      }\r\n    )\r\n  }\r\n\r\n  handleUsePin = () => {\r\n    this.setState({\r\n      pinCode: ``,\r\n      pinCodeConfirm: ``,\r\n      step: `enterPinCode`,\r\n      error: false,\r\n      pinServerOffline: false,\r\n    })\r\n  }\r\n\r\n  handleRestoreWalletStep = () => {\r\n    this.setState({\r\n      error: false,\r\n      mnemonic: ``,\r\n      pinServerOffline: false,\r\n      step: `restory`,\r\n    })\r\n  }\r\n\r\n  handleFinish = async () => {\r\n    const { name } = this.props\r\n\r\n    actions.btcmultisig.enableWalletSMS()\r\n    actions.modals.close(name)\r\n    if (this.props.data.callback) {\r\n      this.props.data.callback()\r\n    }\r\n  }\r\n\r\n  handleShareInstruction = async () => {\r\n    const { restoreInstruction } = this.state\r\n\r\n    actions.modals.open(constants.modals.Share, {\r\n      title: `BTC Sms-protected wallet restory instruction`,\r\n      link: restoreInstruction,\r\n    })\r\n  }\r\n\r\n  handleBeginSaveMnemonic = async () => {\r\n    actions.modals.open(constants.modals.SaveWalletSelectMethod, {\r\n      onClose: () => {\r\n        const mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\r\n        const mnemonicSaved = mnemonic === `-`\r\n        const step = mnemonicSaved ? 'enterPhoneAndMnemonic' : 'saveMnemonicWords'\r\n\r\n        this.setState({\r\n          mnemonicSaved,\r\n          step,\r\n        })\r\n      },\r\n    })\r\n  }\r\n\r\n  handleClose = () => {\r\n    const { name, data, onClose } = this.props\r\n\r\n    if (typeof onClose === 'function') {\r\n      onClose()\r\n    }\r\n\r\n    if (typeof data.onClose === 'function') {\r\n      data.onClose()\r\n    }\r\n\r\n    actions.modals.close(name)\r\n  }\r\n\r\n  generateRestoreInstruction = () => {\r\n    const { mnemonic, mnemonicWallet, useGeneratedKey, generatedKey } = this.state\r\n\r\n    const { btcData, btcMultisigPinData } = this.props\r\n\r\n    let restoreInstruction = ''\r\n\r\n    restoreInstruction = `Wallet address:\\r\\n`\r\n    restoreInstruction += `${btcMultisigPinData.address}\\r\\n`\r\n    restoreInstruction += `To withdraw funds create transaction using this code https://github.com/bitcoinjs/bitcoinjs-lib/blob/master/test/integration/transactions.spec.ts#L193\\r\\n`\r\n    restoreInstruction += `\\r\\n`\r\n    restoreInstruction += `Public keys for create Multisig (2of3) wallet:\\r\\n`\r\n    if (btcMultisigPinData.publicKeys[0])\r\n      restoreInstruction += `${btcMultisigPinData.publicKeys[0].toString('Hex')}\\r\\n`\r\n    if (btcMultisigPinData.publicKeys[1])\r\n      restoreInstruction += `${btcMultisigPinData.publicKeys[1].toString('Hex')}\\r\\n`\r\n    if (btcMultisigPinData.publicKeys[2])\r\n      restoreInstruction += `${btcMultisigPinData.publicKeys[2].toString('Hex')}\\r\\n`\r\n    restoreInstruction += `\\r\\n`\r\n    restoreInstruction += `Hot wallet private key (WIF) (first of three for sign tx):\\r\\n`\r\n    restoreInstruction += `Wallet delivery path from your secret phrase:\\r\\n`\r\n    restoreInstruction += `m/44'/0'/0'/0/0\\r\\n`\r\n    restoreInstruction += `${btcData.privateKey}\\r\\n`\r\n    restoreInstruction += `*** (this private key stored in your browser)\\r\\n`\r\n    restoreInstruction += `\\r\\n`\r\n    if (!useGeneratedKey) {\r\n      restoreInstruction += `Secret mnemonic:\\r\\n`\r\n      restoreInstruction += `${mnemonic}\\r\\n`\r\n      restoreInstruction += `Wallet delivery path for mnemonic:\\r\\n`\r\n      restoreInstruction += `m/44'/0'/0'/0/0\\r\\n`\r\n      restoreInstruction += `Private key (WIF) of wallet, generated from mnemonic:\\r\\n`\r\n      restoreInstruction += `(DELETE THIS LINE!) ${mnemonicWallet.WIF}\\r\\n`\r\n      restoreInstruction += `*** (this private key does not stored anywhere! but in case if our  2fa server does down, you can withdraw your fond using this private key)\\r\\n`\r\n    } else {\r\n      restoreInstruction += `Second of three for sign tx:\\r\\n`\r\n      restoreInstruction += `Wallet delivery path from your secret phrase:\\r\\n`\r\n      restoreInstruction += `m/44'/0'/0'/0/1\\r\\n`\r\n      restoreInstruction += `\\r\\n`\r\n    }\r\n    restoreInstruction += `If our service is unavailable, use a local copy of the wallet.\\r\\n`\r\n    restoreInstruction += `https://swaponline.github.io/2fa_wallet.zip\\r\\n`\r\n\r\n    this.setState({\r\n      restoreInstruction,\r\n    })\r\n  }\r\n\r\n  handleCheckPIN = () => {\r\n    const {\r\n      pinCode,\r\n      pinCodeConfirm,\r\n      mnemonic,\r\n      useGeneratedKey,\r\n      useGeneratedKeyEnabled,\r\n      generatedKey,\r\n    } = this.state\r\n\r\n    this.setState(\r\n      {\r\n        error: false,\r\n        isShipped: true,\r\n        pinServerOffline: false,\r\n        isWalletLockedOtherPin: false,\r\n      },\r\n      async () => {\r\n        if (!pinCode || pinCode.length < 4) {\r\n          this.setState({\r\n            error: <FormattedMessage {...langs.youNotEnterPin} />,\r\n            isShipped: false,\r\n          })\r\n          return\r\n        }\r\n        if (pinCode != pinCodeConfirm) {\r\n          this.setState({\r\n            error: <FormattedMessage {...langs.pinCodeNotEqueals} />,\r\n            isShipped: false,\r\n          })\r\n          return\r\n        }\r\n        const result = await actions.btcmultisig.registerPinWallet(\r\n          pinCode,\r\n          mnemonic ? mnemonic.trim() : false,\r\n          useGeneratedKey && useGeneratedKeyEnabled ? generatedKey : false\r\n        )\r\n\r\n        if (result && result.answer && result.answer == 'ok') {\r\n          this.generateRestoreInstruction()\r\n          this.setState({\r\n            isShipped: false,\r\n            step: 'ready',\r\n          })\r\n        } else {\r\n          if (result && result.error == 'Already registered') {\r\n            this.generateRestoreInstruction()\r\n            this.setState({\r\n              isShipped: false,\r\n              step: 'ready',\r\n            })\r\n          } else {\r\n            if (result && result.error == 'This wallet already locked by other pin code') {\r\n              //      \r\n              //   ,       \r\n              //    ,     \r\n              //  mnemonic -    \r\n              this.setState({\r\n                isShipped: false,\r\n                isWalletLockedOtherPin: true,\r\n              })\r\n            } else {\r\n              const pinServerOffline = result === false\r\n              this.setState({\r\n                isShipped: false,\r\n                pinServerOffline,\r\n                error: result && result.error ? result.error : 'Unknown error',\r\n              })\r\n            }\r\n          }\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      step,\r\n      pinCode,\r\n      pinCodeConfirm,\r\n      error,\r\n      isShipped,\r\n      mnemonicSaved,\r\n      // useGeneratedKey,\r\n      useGeneratedKeyEnabled,\r\n      mnemonic,\r\n      mnemonicWallet,\r\n      isMnemonicGenerated,\r\n      isMnemonicValid,\r\n      pinServerOffline,\r\n      isWalletLockedOtherPin,\r\n      isInstructionCopied,\r\n      isInstructionDownloaded,\r\n      restoreInstruction,\r\n      showFinalInstruction,\r\n    } = this.state\r\n\r\n    const { name, intl, btcData, btcMultisigPinData } = this.props\r\n\r\n    const linked = Link.all(this, 'pinCode', 'pinCodeConfirm', 'mnemonic')\r\n\r\n    return (\r\n      <Modal name={name} title={`${intl.formatMessage(langs.registerPinModal)}`}>\r\n        <div styleName=\"registerPINModalHolder\">\r\n          {step === 'saveMnemonicWords' && (\r\n            <Fragment>\r\n              <div styleName=\"content-overlay\">\r\n                <p styleName=\"centerInfoBlock\">\r\n                  <strong>\r\n                    <FormattedMessage {...langs.needSaveMnemonicToContinue} />\r\n                  </strong>\r\n                  <br />\r\n                  <FormattedMessage {...langs.pleaseSaveMnemonicToContinue} />\r\n                </p>\r\n              </div>\r\n\r\n              <div styleName=\"buttonsHolder buttonsHolder_2_buttons button-overlay\">\r\n                <Button blue onClick={this.handleBeginSaveMnemonic}>\r\n                  <FormattedMessage {...langs.buttonSaveMnemonic} />\r\n                </Button>\r\n                <Button gray onClick={this.handleClose}>\r\n                  <FormattedMessage {...langs.buttonCancel} />\r\n                </Button>\r\n              </div>\r\n            </Fragment>\r\n          )}\r\n          {step === 'restory' && (\r\n            <Fragment>\r\n              <p styleName=\"centerInfoBlock\">\r\n                <strong>\r\n                  <FormattedMessage {...langs.restoryUpMessage} />\r\n                </strong>\r\n                <br />\r\n                <FormattedMessage {...langs.restoryBottomMessage} />\r\n              </p>\r\n              <div styleName=\"highLevel\" className=\"ym-hide-content\">\r\n                <FieldLabel>\r\n                  <FormattedMessage {...langs.labelYourMnemonic} />\r\n                </FieldLabel>\r\n                <Input\r\n                  styleName=\"input inputMargin25\"\r\n                  valueLink={linked.mnemonic}\r\n                  placeholder={`${intl.formatMessage(langs.mnemonicPlaceHolder)}`}\r\n                  focusOnInit\r\n                />\r\n              </div>\r\n              {error && <div styleName=\"error rednotes\">{error}</div>}\r\n              <div styleName=\"mnemonicButtonsHolder\">\r\n                <Button blue disabled={isShipped} onClick={this.handleRestoreWallet}>\r\n                  {isShipped ? (\r\n                    <Fragment>\r\n                      <FormattedMessage {...langs.shipButton} />\r\n                    </Fragment>\r\n                  ) : (\r\n                    <Fragment>\r\n                      <FormattedMessage {...langs.confirmButton} />\r\n                    </Fragment>\r\n                  )}\r\n                </Button>\r\n                <Button blue disabled={isShipped} onClick={this.handleUsePin}>\r\n                  <FormattedMessage {...langs.usepinButton} />\r\n                </Button>\r\n              </div>\r\n            </Fragment>\r\n          )}\r\n          {step === 'enterPinCode' && (\r\n            <Fragment>\r\n              <p styleName=\"centerInfoBlock\">\r\n                <strong>\r\n                  <FormattedMessage {...langs.enterPinCodeUpMessage} />\r\n                </strong>\r\n                <br />\r\n                <FormattedMessage {...langs.enterPinCodeBottomMessage} />\r\n              </p>\r\n              {isWalletLockedOtherPin && (\r\n                <div styleName=\"rednotes pinInfoBlock\">\r\n                  <FormattedMessage {...langs.errorWalletLocked} />\r\n                </div>\r\n              )}\r\n              <div styleName=\"highLevel\" className=\"ym-hide-content\">\r\n                <FieldLabel>\r\n                  <FormattedMessage {...langs.labelYourPin} />\r\n                </FieldLabel>\r\n                <Input\r\n                  styleName=\"input inputMargin25\"\r\n                  valueLink={linked.pinCode}\r\n                  type=\"password\"\r\n                  placeholder={`${intl.formatMessage(langs.pinCodePlaceHolder)}`}\r\n                  focusOnInit\r\n                />\r\n              </div>\r\n              <div styleName=\"highLevel\" className=\"ym-hide-content\">\r\n                <FieldLabel>\r\n                  <FormattedMessage {...langs.labelConfirmYourPin} />\r\n                </FieldLabel>\r\n                <Input\r\n                  styleName=\"input inputMargin25\"\r\n                  valueLink={linked.pinCodeConfirm}\r\n                  type=\"password\"\r\n                  placeholder={`${intl.formatMessage(langs.pinCodeConfirmPlaceHolder)}`}\r\n                />\r\n                {!pinServerOffline && error && <div styleName=\"error rednotes\">{error}</div>}\r\n                {pinServerOffline && (\r\n                  <div styleName=\"error rednotes\">\r\n                    <FormattedMessage {...langs.pinServerOffline} />\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <div styleName=\"buttonHolder\">\r\n                <Button blue big fullWidth disabled={isShipped} onClick={this.handleCheckPIN}>\r\n                  {isShipped ? (\r\n                    <Fragment>\r\n                      <FormattedMessage {...langs.shipButton} />\r\n                    </Fragment>\r\n                  ) : (\r\n                    <Fragment>\r\n                      <FormattedMessage {...langs.activateWallet} />\r\n                    </Fragment>\r\n                  )}\r\n                </Button>\r\n              </div>\r\n              {pinServerOffline && (\r\n                <div styleName=\"restoryHolder\">\r\n                  <p>\r\n                    <FormattedMessage {...langs.useMnemonicNote} />\r\n                  </p>\r\n                  <Button blue fullWidth onClick={this.handleRestoreWalletStep}>\r\n                    <FormattedMessage {...langs.useMnemonicButton} />\r\n                  </Button>\r\n                </div>\r\n              )}\r\n            </Fragment>\r\n          )}\r\n          {step === 'ready' && (\r\n            <Fragment>\r\n              <div styleName=\"highLevel\">\r\n                <div>\r\n                  <img styleName=\"finishImg\" src={okSvg} alt=\"finish\" />\r\n                </div>\r\n                <span\r\n                  style={{\r\n                    fontSize: '25px',\r\n                    display: 'block',\r\n                    textAlign: 'center',\r\n                    marginBottom: '40px',\r\n                  }}\r\n                >\r\n                  <FormattedMessage {...langs.finishMessage} />\r\n                </span>\r\n              </div>\r\n              {showFinalInstruction && (\r\n                <div styleName=\"restoreInstruction\" className=\"ym-hide-content\">\r\n                  <h1>\r\n                    <FormattedMessage {...langs.instructionMessage} />\r\n                  </h1>\r\n                  <div>\r\n                    <pre>{restoreInstruction}</pre>\r\n                    <a\r\n                      styleName=\"link\"\r\n                      target=\"_blank\"\r\n                      href=\"https://github.com/bitcoinjs/bitcoinjs-lib/blob/master/test/integration/addresses.spec.ts\"\r\n                    >\r\n                      <FormattedMessage {...langs.howToWithdraw} />\r\n                    </a>\r\n                  </div>\r\n                  <div styleName=\"buttonsHolder\">\r\n                    <CopyToClipboard text={restoreInstruction} onCopy={this.handleCopyInstruction}>\r\n                      <Button\r\n                        blue\r\n                        disabled={isInstructionCopied}\r\n                        onClick={this.handleCopyInstruction}\r\n                      >\r\n                        {isInstructionCopied ? (\r\n                          <FormattedMessage {...langs.buttonCopiedInstruction} />\r\n                        ) : (\r\n                          <FormattedMessage {...langs.buttonCopyInstruction} />\r\n                        )}\r\n                      </Button>\r\n                    </CopyToClipboard>\r\n                    <Button\r\n                      blue\r\n                      disabled={isInstructionDownloaded}\r\n                      onClick={this.handleDownloadInstruction}\r\n                    >\r\n                      {isInstructionDownloaded ? (\r\n                        <FormattedMessage {...langs.buttonDownloadingInstruction} />\r\n                      ) : (\r\n                        <FormattedMessage {...langs.buttonDownloadInstruction} />\r\n                      )}\r\n                    </Button>\r\n                    <Button blue onClick={this.handleShareInstruction}>\r\n                      <FormattedMessage {...langs.buttonShare} />\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              <Button big blue fullWidth onClick={this.handleFinish}>\r\n                <Fragment>\r\n                  <FormattedMessage {...langs.buttonFinish} />\r\n                </Fragment>\r\n              </Button>\r\n            </Fragment>\r\n          )}\r\n        </div>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(RegisterPINProtected)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"registerPINModalHolder\":\"K8D9Hw7ja64nLjgeuW1STA==\",\"infoCaption\":\"FJXeeN-wQKF9NMa3qrFyYA==\",\"mnemonicNotice\":\"PQyuqSVGVmgshFfC9zsZGg==\",\"mnemonicButtonsHolder\":\"m27IKdPt2nsKGjjXMWQLcQ==\",\"finishImg\":\"ebaCrEVHoY3sJkCZjDSVxQ==\",\"pinInfoBlock\":\"rHdBmZR0NajSGCGodwhpFA==\",\"pinCodeHolder\":\"eUgvsQYBdqnqH2WytsjjdA==\",\"confirmSmsCode\":\"YgG8yZeWwlyMmte5UXf+sw==\",\"restoreInstruction\":\"gTJrBYfSVfXu2weTbX35fg==\",\"restoryHolder\":\"_1WwbjG8VowuGENC2v9bxYQ==\",\"buttonHolder\":\"b4yiqiPH6zST7-Hrm2rO7Q==\",\"buttonsHolder\":\"lJLDldifYPvDHv-Uq2r9qg==\",\"buttonsHolder_2_buttons\":\"t3q61fn8cBzqNwlBvEVlhQ==\",\"buttonContainer\":\"yIaMB+zld8sWOxf3pRyaBA==\"};","import React, { Fragment } from 'react'\r\nimport helpers from 'helpers'\r\nimport actions from 'redux/actions'\r\nimport Link from 'local_modules/sw-valuelink'\r\nimport { connect } from 'redaction'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from '../Styles/default.scss'\r\nimport ownStyle from './WithdrawBtcPin.scss'\r\n\r\nimport Modal from 'components/modal/Modal/Modal'\r\nimport FieldLabel from 'components/forms/FieldLabel/FieldLabel'\r\nimport Input from 'components/forms/Input/Input'\r\nimport Button from 'components/controls/Button/Button'\r\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\r\nimport * as mnemonicUtils from 'common/utils/mnemonic'\r\nimport { routing } from 'helpers'\r\nimport lsDataCache from 'helpers/lsDataCache'\r\nimport MnemonicInput from 'components/forms/MnemonicInput/MnemonicInput'\r\n\r\nconst langPrefix = `WithdrawPINProtected`\r\n\r\nconst langs = defineMessages({\r\n  title: {\r\n    id: `${langPrefix}_Title`,\r\n    defaultMessage: `Confirm withdraw transaction`,\r\n  },\r\n  upMessage: {\r\n    id: `${langPrefix}_UpMessage`,\r\n    defaultMessage: `    `,\r\n  },\r\n  upMessageMnemonic: {\r\n    id: `${langPrefix}_UpMessageMnemonic`,\r\n    defaultMessage: `      (12 )`,\r\n  },\r\n  labelYourPin: {\r\n    id: `${langPrefix}_LabelYourPin`,\r\n    defaultMessage: `Your Pin-code`,\r\n  },\r\n  labelYourMnemonic: {\r\n    id: `${langPrefix}_LabelYourMnemonic`,\r\n    defaultMessage: `Your secret phrase`,\r\n  },\r\n  pinCodePlaceHolder: {\r\n    id: `${langPrefix}_PinCodePlaceholder`,\r\n    defaultMessage: `Enter your pin code`,\r\n  },\r\n  youNotEnterPin: {\r\n    id: `${langPrefix}_ErrorNoPinOrSmall`,\r\n    defaultMessage: `     4 `,\r\n  },\r\n  pinCodeNotValid: {\r\n    id: `${langPrefix}_PinCodeNotValid`,\r\n    defaultMessage: `    `,\r\n  },\r\n  useMnemonic: {\r\n    id: `${langPrefix}_UseMnemonicButton`,\r\n    defaultMessage: `  `,\r\n  },\r\n  confirmButton: {\r\n    id: `${langPrefix}_Confirm`,\r\n    defaultMessage: ` `,\r\n  },\r\n  shipButton: {\r\n    id: `${langPrefix}_ShipButton`,\r\n    defaultMessage: `Processing ...`,\r\n  },\r\n  cancelButton: {\r\n    id: `${langPrefix}_Cancel`,\r\n    defaultMessage: ``,\r\n  },\r\n  mnemonicNote: {\r\n    id: `${langPrefix}_MnemonicUseNote`,\r\n    defaultMessage: `     ,     ,     `,\r\n  },\r\n  serverIsOffline: {\r\n    id: `${langPrefix}_ServerOffline`,\r\n    defaultMessage: `   .      `,\r\n  },\r\n  mnemonicPlaceHolder: {\r\n    id: `${langPrefix}_MnemonicPlaceholder`,\r\n    defaultMessage: `Enter secret phrase (12 words)`,\r\n  },\r\n  pincodeNote: {\r\n    id: `${langPrefix}_PincodeNote`,\r\n    defaultMessage: `-      `,\r\n  },\r\n  usePinCode: {\r\n    id: `${langPrefix}_ButtonUsePin`,\r\n    defaultMessage: ` `,\r\n  },\r\n  errorMnemonicInvalid: {\r\n    id: `${langPrefix}_ErrorMnemonicInvalid`,\r\n    defaultMessage: `      (12 )`,\r\n  },\r\n  errorMnemonicIncorrect: {\r\n    id: `${langPrefix}_ErrorMnemonicIncorrect`,\r\n    defaultMessage: `       `,\r\n  },\r\n})\r\n\r\ntype ComponentProps = {\r\n  name: string\r\n  data: IUniversalObj\r\n  intl: IUniversalObj\r\n  onClose?: () => void\r\n}\r\n\r\ntype ComponentState = {\r\n  pinCode: string\r\n  mnemonic: string\r\n  isShipped: boolean\r\n  isMnemonicValid: boolean\r\n  serverOffline: boolean\r\n  useMnemonic: boolean\r\n  error: false | JSX.Element\r\n}\r\n\r\n@connect(({ user: { btcData, btcMultisigPinData } }) => ({\r\n  btcData,\r\n  btcMultisigPinData,\r\n}))\r\n@cssModules({ ...styles, ...ownStyle }, { allowMultiple: true })\r\nclass WithdrawBtcPin extends React.Component<ComponentProps, ComponentState> {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      pinCode: '',\r\n      error: false,\r\n      isShipped: false,\r\n      mnemonic: '',\r\n      isMnemonicValid: true,\r\n      serverOffline: false,\r\n      useMnemonic: false,\r\n    }\r\n  }\r\n\r\n  handleFinish = async () => {\r\n    const { name } = this.props\r\n\r\n    actions.btcmultisig.enableWalletSMS()\r\n    actions.modals.close(name)\r\n    if (this.props.data.callback) {\r\n      this.props.data.callback()\r\n    }\r\n  }\r\n\r\n  handleClose = () => {\r\n    const { name, data, onClose } = this.props\r\n\r\n    if (typeof onClose === 'function') {\r\n      onClose()\r\n    }\r\n\r\n    if (typeof data.onClose === 'function') {\r\n      data.onClose()\r\n    }\r\n\r\n    actions.modals.close(name)\r\n  }\r\n\r\n  handleCancel = () => {\r\n    window.history.back()\r\n  }\r\n\r\n  handleSendMnemonic = async () => {\r\n    const { mnemonic } = this.state\r\n\r\n    const {\r\n      data: { sendOptions },\r\n    } = this.props\r\n\r\n    this.setState(\r\n      {\r\n        isShipped: true,\r\n        error: false,\r\n      },\r\n      async () => {\r\n        if (!mnemonic || !mnemonicUtils.validateMnemonicWords(mnemonic)) {\r\n          this.setState({\r\n            error: <FormattedMessage {...langs.errorMnemonicInvalid} />,\r\n            isShipped: false,\r\n          })\r\n          return\r\n        }\r\n        if (!actions.btcmultisig.checkPinMnemonic(mnemonic.trim())) {\r\n          this.setState({\r\n            error: <FormattedMessage {...langs.errorMnemonicIncorrect} />,\r\n            isShipped: false,\r\n          })\r\n          return\r\n        }\r\n\r\n        const result = await actions.btcmultisig.sendPinProtected({\r\n          ...sendOptions,\r\n          mnemonic,\r\n        })\r\n\r\n        this.processSendResult(result)\r\n      }\r\n    )\r\n  }\r\n\r\n  handleSend = async () => {\r\n    const { pinCode } = this.state\r\n\r\n    const {\r\n      data: { sendOptions },\r\n    } = this.props\r\n\r\n    if (!pinCode || pinCode.length < 4) {\r\n      this.setState({\r\n        error: <FormattedMessage {...langs.youNotEnterPin} />,\r\n      })\r\n      return\r\n    }\r\n\r\n    this.setState(\r\n      {\r\n        error: false,\r\n        serverOffline: false,\r\n        isShipped: true,\r\n      },\r\n      async () => {\r\n        const result = await actions.btcmultisig.sendPinProtected({\r\n          ...sendOptions,\r\n          password: pinCode,\r\n        })\r\n        this.processSendResult(result)\r\n      }\r\n    )\r\n  }\r\n\r\n  processSendResult = async (result) => {\r\n    const {\r\n      data: {\r\n        wallet,\r\n        sendOptions: { amount, from, to },\r\n        invoice,\r\n        adminFee,\r\n        beforeBalances,\r\n        onReady,\r\n      },\r\n    } = this.props\r\n    if (result && result.answer === 'ok') {\r\n      const { txId } = result\r\n\r\n      //    \r\n      const txInfoCache = {\r\n        amount,\r\n        senderAddress: from,\r\n        receiverAddress: to,\r\n        confirmed: false,\r\n      }\r\n\r\n      lsDataCache.push({\r\n        key: `TxInfo_btc_${txId}`,\r\n        time: 3600,\r\n        data: txInfoCache,\r\n      })\r\n\r\n      actions.loader.hide()\r\n      actions.btcmultisig.getBalancePin()\r\n      if (invoice) {\r\n        await actions.invoices.markInvoice(invoice.id, 'ready', txId, wallet.address)\r\n      }\r\n\r\n      if (onReady instanceof Function) {\r\n        onReady()\r\n      }\r\n\r\n      const txInfoUrl = helpers.transactions.getTxRouter('btc', txId)\r\n      routing.redirectTo(txInfoUrl)\r\n    } else {\r\n      this.setState({\r\n        isShipped: false,\r\n        serverOffline: !result.error,\r\n        error: result.error || `Unknown error`,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUseMnemonic = () => {\r\n    this.setState({\r\n      isShipped: false,\r\n      error: false,\r\n      useMnemonic: true,\r\n      serverOffline: false,\r\n      mnemonic: '',\r\n    })\r\n  }\r\n\r\n  handleMnemonicChange = (mnemonic) => {\r\n    this.setState({\r\n      mnemonic,\r\n    })\r\n  }\r\n\r\n  handleUsePassword = () => {\r\n    this.setState({\r\n      isShipped: false,\r\n      error: false,\r\n      useMnemonic: false,\r\n      serverOffline: false,\r\n      pinCode: '',\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      error,\r\n      isShipped,\r\n      serverOffline,\r\n      useMnemonic,\r\n    } = this.state\r\n\r\n    const { name, intl } = this.props\r\n    const linked = Link.all(this, 'pinCode')\r\n\r\n    return (\r\n      <Modal name={name} title={`${intl.formatMessage(langs.title)}`}>\r\n        <div styleName=\"confirmPINModalHolder\">\r\n          {!useMnemonic && (\r\n            <Fragment>\r\n              <p styleName=\"centerInfoBlock\">\r\n                <strong>\r\n                  <FormattedMessage {...langs.upMessage} />\r\n                </strong>\r\n                <br />\r\n              </p>\r\n              <div styleName=\"highLevel\" className=\"ym-hide-content\">\r\n                <FieldLabel>\r\n                  <FormattedMessage {...langs.labelYourPin} />\r\n                </FieldLabel>\r\n                <Input\r\n                  styleName=\"input inputMargin25\"\r\n                  valueLink={linked.pinCode}\r\n                  type=\"password\"\r\n                  placeholder={`${intl.formatMessage(langs.pinCodePlaceHolder)}`}\r\n                  focusOnInit\r\n                />\r\n              </div>\r\n              {error && <div styleName=\"error rednotes\">{error}</div>}\r\n              <div styleName=\"buttonsHolder\">\r\n                <Button blue disabled={isShipped} onClick={this.handleSend}>\r\n                  {isShipped ? (\r\n                    <Fragment>\r\n                      <FormattedMessage {...langs.shipButton} />\r\n                    </Fragment>\r\n                  ) : (\r\n                    <Fragment>\r\n                      <FormattedMessage {...langs.confirmButton} />\r\n                    </Fragment>\r\n                  )}\r\n                </Button>\r\n                <Button blue disabled={isShipped} onClick={this.handleCancel}>\r\n                  <FormattedMessage {...langs.cancelButton} />\r\n                </Button>\r\n              </div>\r\n              <div styleName=\"mnemonicButtonHolder\">\r\n                {serverOffline && (\r\n                  <div styleName=\"error rednotes\">\r\n                    <FormattedMessage {...langs.serverIsOffline} />\r\n                  </div>\r\n                )}\r\n                <p>\r\n                  <FormattedMessage {...langs.mnemonicNote} />\r\n                </p>\r\n                <Button blue fullWidth disabled={isShipped} onClick={this.handleUseMnemonic}>\r\n                  <FormattedMessage {...langs.useMnemonic} />\r\n                </Button>\r\n              </div>\r\n            </Fragment>\r\n          )}\r\n          {useMnemonic && (\r\n            <Fragment>\r\n              <p styleName=\"centerInfoBlock\">\r\n                <strong>\r\n                  <FormattedMessage {...langs.upMessageMnemonic} />\r\n                </strong>\r\n                <br />\r\n              </p>\r\n              <div styleName=\"highLevel\" className=\"ym-hide-content\">\r\n                <FieldLabel>\r\n                  <FormattedMessage {...langs.labelYourMnemonic} />\r\n                </FieldLabel>\r\n                <MnemonicInput onChange={this.handleMnemonicChange} fullWidth={true} />\r\n              </div>\r\n              {error && <div styleName=\"error rednotes\">{error}</div>}\r\n              <div styleName=\"buttonsHolder\">\r\n                <Button blue disabled={isShipped} onClick={this.handleSendMnemonic}>\r\n                  {isShipped ? (\r\n                    <Fragment>\r\n                      <FormattedMessage {...langs.shipButton} />\r\n                    </Fragment>\r\n                  ) : (\r\n                    <Fragment>\r\n                      <FormattedMessage {...langs.confirmButton} />\r\n                    </Fragment>\r\n                  )}\r\n                </Button>\r\n                <Button blue disabled={isShipped} onClick={this.handleCancel}>\r\n                  <FormattedMessage {...langs.cancelButton} />\r\n                </Button>\r\n              </div>\r\n              <div styleName=\"pinButtonHolder\">\r\n                <p>\r\n                  <FormattedMessage {...langs.pincodeNote} />\r\n                </p>\r\n                <Button blue fullWidth disabled={isShipped} onClick={this.handleUsePassword}>\r\n                  <FormattedMessage {...langs.usePinCode} />\r\n                </Button>\r\n              </div>\r\n            </Fragment>\r\n          )}\r\n        </div>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(WithdrawBtcPin)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"confirmPINModalHolder\":\"yh7Ap-VXMzp9eYj7IINWNg==\",\"mnemonicButtonHolder\":\"U3MI7N7E9VpWXs7k37jZWg==\",\"pinButtonHolder\":\"-hsAHlzGawWeBrNjCm9UrQ==\",\"infoCaption\":\"-+WDMrZcLEPCescVEhXMLQ==\",\"mnemonicNotice\":\"U2kZ4a5baJ1FMOITDvAieg==\",\"mnemonicButtonsHolder\":\"LGrwtjpBQsq0HuX+maeeqg==\",\"pinInfoBlock\":\"uAwMBq6kT0FwiuOx5kDLmg==\",\"pinCodeHolder\":\"kyts5EBaEA-zYJdR-uDcBQ==\",\"buttonsHolder\":\"VLeZzdMmX9sFG1kMIOKggA==\",\"buttonContainer\":\"gJITtOQswew0RkICv28uug==\"};","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport helpers, { constants } from 'helpers'\r\nimport actions from 'redux/actions'\r\nimport { connect } from 'redaction'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from '../WithdrawModal/WithdrawModal.scss'\r\nimport ownStyle from './WithdrawBtcMultisig.scss'\r\n\r\nimport Modal from 'components/modal/Modal/Modal'\r\nimport Button from 'components/controls/Button/Button'\r\nimport { ShareLink } from 'components/controls'\r\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\r\nimport InvoiceInfoBlock from 'components/InvoiceInfoBlock/InvoiceInfoBlock'\r\n\r\nimport links from 'helpers/links'\r\nimport { getFullOrigin } from 'helpers/links'\r\n\r\n@connect(\r\n  ({\r\n    ui: { dashboardModalsAllowed }\r\n  }) => ({\r\n    dashboardView: dashboardModalsAllowed,\r\n  })\r\n)\r\n@cssModules({ ...styles, ...ownStyle }, { allowMultiple: true })\r\nclass WithdrawBtcMultisig extends React.Component<any, any> {\r\n  static propTypes = {\r\n    name: PropTypes.string,\r\n    data: PropTypes.object,\r\n  }\r\n\r\n  broadcastCancelFunc: any\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.broadcastCancelFunc = false\r\n\r\n    this.state = {\r\n      step: 'fillform',\r\n      isShipped: false,\r\n      error: false,\r\n      txRaw: '',\r\n      isLinkCopied: false,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      isShipped: true,\r\n    }, async () => {\r\n      const {\r\n        data: {\r\n          wallet: {\r\n            address,\r\n          },\r\n          sendOptions,\r\n          sendOptions: {\r\n            to,\r\n            amount,\r\n          },\r\n          invoice,\r\n        },\r\n      } = this.props\r\n\r\n      const result = await actions.btcmultisig.send(sendOptions)\r\n\r\n      let txId = false\r\n\r\n      if (result) {\r\n        //@ts-ignore\r\n        txId = await actions.multisigTx.broadcast({\r\n          sender: address,\r\n          destination: to,\r\n          amount,\r\n          fee: 0.0001, // actions.helpers.lastBtcFee\r\n          rawTx: result,\r\n        })\r\n        this.setState({\r\n          step: 'rawlink',\r\n          txRaw: result,\r\n          txId,\r\n          isShipped: false,\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  handleCopyLink = () => {\r\n    this.setState({\r\n      isLinkCopied: true,\r\n    }, () => {\r\n      setTimeout(() => {\r\n        this.setState({\r\n          isLinkCopied: false,\r\n        })\r\n      }, 500)\r\n    })\r\n  }\r\n\r\n  handleReady = () => {\r\n    const {\r\n      name,\r\n      data: {\r\n        onReady,\r\n      },\r\n    } = this.props\r\n\r\n    actions.modals.close(name)\r\n    if (onReady instanceof Function) {\r\n      onReady()\r\n    }\r\n  }\r\n\r\n\r\n  handleError = err => {\r\n    console.error(err);\r\n  };\r\n\r\n  handleClose = () => {\r\n    const { name } = this.props\r\n\r\n    actions.modals.close(name)\r\n  }\r\n\r\n\r\n  render() {\r\n    const {\r\n      isShipped,\r\n      error,\r\n      step,\r\n      txRaw,\r\n      txId,\r\n      isLinkCopied,\r\n    } = this.state\r\n\r\n    const {\r\n      name,\r\n      data: {\r\n        wallet: {\r\n          currency,\r\n        },\r\n        invoice,\r\n      },\r\n      intl,\r\n    } = this.props\r\n\r\n    let txConfirmLink = `${getFullOrigin()}${links.multisign}/btc/confirm/${txId}`\r\n    if (invoice) {\r\n      txConfirmLink = `${getFullOrigin()}${links.multisign}/btc/confirminvoice/${invoice.id}|${txId}`\r\n    }\r\n\r\n    const labels = defineMessages({\r\n      withdrawModal: {\r\n        id: 'withdrowTitle271',\r\n        defaultMessage: `Send`,\r\n      },\r\n      ownTxPlaceholder: {\r\n        id: 'withdrawOwnTxPlaceholder',\r\n        defaultMessage: 'If paid from another source'\r\n      },\r\n    })\r\n\r\n    const formRender = (\r\n      <Fragment>\r\n        {invoice &&\r\n          <InvoiceInfoBlock invoiceData={invoice} />\r\n        }\r\n        {step === 'rawlink' &&\r\n          <Fragment>\r\n            <p styleName=\"notice dashboardViewNotice\">\r\n              <FormattedMessage id=\"WithdrawMSUserReady\" defaultMessage=\"TX confirm link\" />\r\n              <br />\r\n              <FormattedMessage id=\"WithdrawMSUserMessage\" defaultMessage=\"Send this link to other wallet owner\" />\r\n            </p>\r\n            <div styleName=\"highLevel\">\r\n              <div styleName=\"groupField\">\r\n\r\n              </div>\r\n              <div>\r\n                <ShareLink link={txConfirmLink} />\r\n              </div>\r\n            </div>\r\n            <div styleName=\"centerAlign\">\r\n              <Button styleName=\"buttonFull\" big blue fullWidth onClick={this.handleReady}>\r\n                <FormattedMessage id=\"WithdrawMSUserFinish\" defaultMessage=\"Ready\" />\r\n              </Button>\r\n            </div>\r\n          </Fragment>\r\n        }\r\n      </Fragment>\r\n    )\r\n    return (\r\n      <Modal name={name} title={`${intl.formatMessage(labels.withdrawModal)}${' '}${currency.toUpperCase()}`}>\r\n        {formRender}\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(WithdrawBtcMultisig)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"multisignConfirmTxLink\":\"jKa7oFIli4Co4LgjYgz5+g==\",\"centerAlign\":\"iX+xHmlcGHfUg8Yh61EyUw==\",\"sendBtnsWrapper\":\"XYjiNGdlNlRJ0eSkksbbaA==\",\"actionBtn\":\"P08t2sy4JDkZVP0KT79C6Q==\"};","import React from 'react'\r\n\r\nimport actions from 'redux/actions'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './WalletAddressModal.scss'\r\n\r\nimport Modal from 'components/modal/Modal/Modal'\r\nimport { Button } from 'components/controls'\r\nimport { FormattedMessage, defineMessages, injectIntl } from 'react-intl'\r\n\r\n\r\nconst langPrefix = `WalletAddressModal`\r\nconst langLabels = defineMessages({\r\n  title: {\r\n    id: `${langPrefix}_Title`,\r\n    defaultMessage: `Copy wallet address`,\r\n  },\r\n  message: {\r\n    id: `${langPrefix}_Message`,\r\n    defaultMessage: `Your {cur} address`,\r\n  },\r\n})\r\n\r\n@cssModules(styles, { allowMultiple: true })\r\nclass WalletAddressModal extends React.PureComponent<any, any> {\r\n  handleCloseModal = () => {\r\n    const { name } = this.props\r\n\r\n    actions.modals.close(name)\r\n  }\r\n\r\n  render() {\r\n    const { name, intl, data } = this.props\r\n    const { fullName, address } = data\r\n\r\n    return (\r\n      <Modal\r\n        name={name}\r\n        onClose={this.handleCloseModal}\r\n        title={intl.formatMessage(langLabels.title)}\r\n      >\r\n        <section styleName=\"content\">\r\n          <p styleName=\"text\">\r\n            <FormattedMessage {...langLabels.message} \r\n              values={{\r\n                cur: fullName,\r\n              }}\r\n            />\r\n          </p>\r\n          <p styleName=\"address\">\r\n            {address}\r\n          </p>\r\n        </section>\r\n\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(WalletAddressModal)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"content\":\"qfC0ueNxuLiSetLmq9OJWg==\",\"text\":\"PjMz6LbCB5Ii6LA9FivDNw==\",\"address\":\"o+djy0O4md2Qke3hv8asWg==\"};","import React, { Component } from 'react'\r\n\r\nimport { withRouter } from 'react-router-dom'\r\nimport CSSModules from 'react-css-modules'\r\nimport { FormattedMessage, defineMessages, injectIntl } from 'react-intl'\r\n\r\nimport actions from 'redux/actions'\r\nimport { constants, links } from 'helpers'\r\nimport { localisedUrl } from 'helpers/locale'\r\n\r\nimport { Button } from 'components/controls'\r\nimport CloseIcon from 'components/ui/CloseIcon/CloseIcon'\r\nimport WidthContainer from 'components/layout/WidthContainer/WidthContainer'\r\n\r\nimport styles from './styles.scss'\r\n\r\nconst defaultLanguage = defineMessages({\r\n  createWallet: {\r\n    id: 'AlertModalcreateWallet',\r\n    defaultMessage: 'Create Wallet',\r\n  },\r\n  deposit: {\r\n    id: 'AlertModaldeposit',\r\n    defaultMessage: 'Deposit',\r\n  },\r\n  title: {\r\n    id: 'alertTitle',\r\n    defaultMessage: 'Alert',\r\n  },\r\n})\r\n\r\n@withRouter\r\n@CSSModules(styles, { allowMultiple: true })\r\nclass AlertWindow extends Component<any, any> {\r\n\r\n  handleClose = () => {\r\n    const { name, data, onClose, history, intl } = this.props\r\n    const { onClose: dataClose, currency, address, actionType } = data\r\n    const { locale } = intl\r\n\r\n    if (actionType === 'deposit') {\r\n      actions.modals.open(constants.modals.ReceiveModal, {\r\n        currency,\r\n        address,\r\n      })\r\n    }\r\n\r\n    if (actionType === 'createWallet') {\r\n      history.push(localisedUrl(locale, links.createWallet))\r\n    }\r\n\r\n    if (typeof onClose === 'function') {\r\n      onClose()\r\n    }\r\n\r\n    if (typeof dataClose === 'function') {\r\n      dataClose()\r\n    }\r\n\r\n    actions.modals.close(name)\r\n  }\r\n\r\n  handleClosePopup = () => {\r\n    const { name } = this.props\r\n    actions.modals.close(name)\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      data: {\r\n        title,\r\n        message,\r\n        actionType,\r\n        canClose,\r\n      },\r\n      intl,\r\n    } = this.props\r\n\r\n    const labels = {\r\n      actionLabel: intl.formatMessage(defaultLanguage[actionType]),\r\n      title: title || intl.formatMessage(defaultLanguage.title),\r\n    }\r\n\r\n    return (\r\n      <div styleName=\"modal-overlay\">\r\n        <div styleName=\"modal\">\r\n          <div styleName=\"header\">\r\n            {/*\r\n            //@ts-ignore */}\r\n            <WidthContainer styleName=\"headerContent\">\r\n              <div styleName=\"title\">{labels.title}</div>\r\n\r\n              {canClose && (<CloseIcon styleName=\"closeButton\" onClick={this.handleClosePopup} />)}\r\n            </WidthContainer>\r\n          </div>\r\n          <div styleName=\"content\">\r\n            <div styleName=\"notification-overlay\">\r\n              <p styleName=\"notification\">\r\n                {message}\r\n              </p>\r\n            </div>\r\n            <div styleName=\"button-overlay\">\r\n              <Button styleName=\"button\" gray onClick={this.handleClose}>{labels.actionLabel}</Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(AlertWindow)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"EwX6mFPYkXK4hSMPA4WWJQ==\",\"closeButton\":\"Y5DnLbQJPiVZnjRg0wOZxg==\",\"headerContent\":\"wNoTdeA+Cor2tyHuO2xrmg==\",\"title\":\"xCRaDHW6Ci+ulCHlmy9ZWQ==\",\"uppercase\":\"AQpAHL3WRsDEJzhhGci8UA==\",\"modal-overlay\":\"knGQOvbeipYi3NWhajx+MQ==\",\"modal\":\"dGPOxCXqyMCVGyvB1PRDfg==\",\"button\":\"AFEgnzK5BnoinWPeMAtjgw==\",\"content\":\"_08lFiJu8oI6TGOLYdl0Hhg==\",\"notification-overlay\":\"frxynaV6IQgPN46bnZtnOg==\",\"notification\":\"QlD8G0HJ4HmGbYfYhffXJg==\",\"button-overlay\":\"_5gnIQF1tSQPcw7qO80zMag==\"};","// extracted by mini-css-extract-plugin\nexport default {\"disabled\":\"EY-1PpE3skDB4P8yiEaQeg==\",\"modal-overlay\":\"MEOckIR76K1EfEL9tCfeNw==\",\"modal-overlay_dashboardView\":\"jYTgC2br6YvjuPIbzBtqug==\",\"modal\":\"iIiF1croHBKJYiU74unbwg==\",\"modal_dashboardView\":\"BLKa4fvr50gH50DAMdqarg==\",\"button\":\"KNfT64mxKz1rT4nEnrzSEA==\",\"header\":\"_4u2BExAPGFPgZnW1SiAYwQ==\",\"title\":\"TQ3OWnUbV-K-KyWTpKTNbg==\",\"notification-overlay\":\"R+olOgFcLzeqTlGkp+6TXg==\",\"stepWrapper\":\"iNxELvZc6e-cTWP949Jb0A==\",\"options\":\"FE+M+gvH4k-KgHnS8rQPLw==\",\"option\":\"jYVvJgF3Gtqlply-sRJr+w==\",\"selected\":\"Mw4yXvToR-J0EWH6lDBdnQ==\",\"chainName\":\"tE8jrWcSoRdZ+9WczaCvZg==\",\"provider\":\"_7eQ+3rsfDeRUjBLJZsu7nw==\",\"notification\":\"wRS-Z+soSQ5D9+dqpuLwZw==\"};","import React from 'react'\r\nimport actions from 'redux/actions'\r\nimport { connect } from 'redaction'\r\nimport { FormattedMessage, injectIntl } from 'react-intl'\r\nimport cssModules from 'react-css-modules'\r\nimport cx from 'classnames'\r\nimport { externalConfig, constants, links, metamask } from 'helpers'\r\nimport SUPPORTED_PROVIDERS from 'common/web3connect/providers/supported'\r\nimport { localisedUrl } from 'helpers/locale'\r\nimport { Button } from 'components/controls'\r\nimport Coin from 'components/Coin/Coin'\r\nimport CloseIcon from 'components/ui/CloseIcon/CloseIcon'\r\nimport web3Icons from 'images'\r\nimport styles from './ConnectWalletModal.scss'\r\n\r\n@connect(({ ui: { dashboardModalsAllowed } }) => ({\r\n  dashboardModalsAllowed,\r\n}))\r\n@cssModules(styles, { allowMultiple: true })\r\nclass ConnectWalletModal extends React.Component<any, { choseNetwork: boolean; currentBaseCurrency: string, hasWalletConnect: boolean }> {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      choseNetwork: false,\r\n      hasWalletConnect: false,\r\n      currentBaseCurrency: '',\r\n    }\r\n  }\r\n\r\n  goToPage(link) {\r\n    const {\r\n      name,\r\n      history,\r\n      intl: { locale },\r\n    } = this.props\r\n    history.push(localisedUrl(locale, link))\r\n  }\r\n\r\n  onConnectLogic(connected) {\r\n    const {\r\n      name,\r\n      data: { dontRedirect, onResolve },\r\n    } = this.props\r\n\r\n    if (connected) {\r\n      if (!dontRedirect) this.goToPage(links.home)\r\n      if (typeof onResolve === `function`) {\r\n        onResolve(true)\r\n      }\r\n      actions.modals.close(name)\r\n    }\r\n  }\r\n\r\n  handleClose = () => {\r\n    const {\r\n      name,\r\n      data: { dontRedirect, onResolve },\r\n    } = this.props\r\n\r\n    if (!dontRedirect) {\r\n      if (!localStorage.getItem(constants.localStorage.isWalletCreate)) {\r\n        this.goToPage(links.createWallet)\r\n      } else {\r\n        this.goToPage(links.home)\r\n      }\r\n    }\r\n    if (typeof onResolve === `function`) {\r\n      onResolve(false)\r\n    }\r\n    actions.modals.close(name)\r\n  }\r\n\r\n  handleInjected = async () => {\r\n    const { currentBaseCurrency } = this.state\r\n    const web3connect = this.newWeb3connect()\r\n\r\n    web3connect.connectTo(SUPPORTED_PROVIDERS.INJECTED).then(async (connected) => {\r\n      if (!connected && web3connect.isLocked()) {\r\n        actions.modals.open(constants.modals.AlertModal, {\r\n          message: (\r\n            <FormattedMessage\r\n              id=\"ConnectWalletModal_WalletLocked\"\r\n              defaultMessage=\"Wallet is locked. Unlock the wallet first.\"\r\n            />\r\n          ),\r\n        })\r\n      } else {\r\n        if (!metamask.isAvailableNetworkByCurrency(currentBaseCurrency)) {\r\n          await metamask.switchNetwork(currentBaseCurrency)\r\n        }\r\n\r\n        this.onConnectLogic(connected)\r\n      }\r\n    })\r\n  }\r\n\r\n  handleWalletConnect = () => {\r\n    const web3connect = this.newWeb3connect()\r\n\r\n    web3connect.connectTo(SUPPORTED_PROVIDERS.WALLETCONNECT).then(async (connected) => {\r\n      await metamask.web3connectInit()\r\n\r\n      this.onConnectLogic(connected)\r\n    })\r\n  }\r\n\r\n  newWeb3connect = () => {\r\n    const { currentBaseCurrency } = this.state\r\n    const networkInfo = externalConfig.evmNetworks[currentBaseCurrency.toUpperCase()]\r\n\r\n    metamask.setWeb3connect(networkInfo.networkVersion)\r\n\r\n    return metamask.getWeb3connect()\r\n  }\r\n\r\n  setNetwork = async (coinName, hasWalletConnect) => {\r\n    const { currentBaseCurrency } = this.state\r\n\r\n    this.setState(() => ({\r\n      choseNetwork: true,\r\n      hasWalletConnect: (externalConfig.opts.hasWalletConnect && hasWalletConnect),\r\n    }))\r\n\r\n    if (currentBaseCurrency !== coinName) {\r\n      this.setState(() => ({\r\n        currentBaseCurrency: coinName,\r\n      }))\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { dashboardModalsAllowed, noCloseButton } = this.props\r\n    const { choseNetwork, currentBaseCurrency, hasWalletConnect } = this.state\r\n\r\n    const web3Type = metamask.web3connect.getInjectedType()\r\n    const web3Icon = (web3Icons[web3Type] && web3Type !== `UNKNOWN` && web3Type !== `NONE`) ? web3Icons[web3Type] : false\r\n    const walletConnectIcon = web3Icons.WALLETCONNECT\r\n\r\n\r\n    return (\r\n      <div\r\n        className={cx({\r\n          [styles['modal-overlay']]: true,\r\n          [styles['modal-overlay_dashboardView']]: dashboardModalsAllowed,\r\n        })}\r\n      >\r\n        <div\r\n          className={cx({\r\n            [styles.modal]: true,\r\n            [styles.modal_dashboardView]: dashboardModalsAllowed,\r\n          })}\r\n        >\r\n          <div styleName=\"header\">\r\n            <h3 styleName=\"title\"><FormattedMessage id=\"Connect\" defaultMessage=\"Connect\" /></h3>\r\n            {!noCloseButton && (\r\n              <CloseIcon onClick={this.handleClose} />\r\n            )}\r\n          </div>\r\n\r\n          <div styleName=\"notification-overlay\">\r\n            <div styleName=\"stepWrapper\">\r\n              <h3 styleName=\"title\">\r\n                <FormattedMessage id=\"chooseNetwork\" defaultMessage=\"Choose network\" />\r\n              </h3>\r\n              <div styleName=\"options\">\r\n                {Object.values(externalConfig.evmNetworks)\r\n                  .filter((network: any) => externalConfig.opts.curEnabled[network.currency.toLowerCase()])\r\n                  .map(\r\n                    (\r\n                      item: EvmNetworkConfig,\r\n                      index,\r\n                    ) => (\r\n                      <button\r\n                        type=\"button\"\r\n                        key={index}\r\n                        styleName={`option ${currentBaseCurrency === item.currency ? 'selected' : ''}`}\r\n                        onClick={() => this.setNetwork(item.currency, item.hasWalletConnect)}\r\n                      >\r\n                        <Coin size={50} name={item.currency.toLowerCase()} />\r\n                        <span styleName=\"chainName\">{item.chainName.split(' ')[0]}</span>\r\n                      </button>\r\n                    ),\r\n                  )}\r\n              </div>\r\n            </div>\r\n\r\n            {choseNetwork && (\r\n              <div styleName={`stepWrapper ${choseNetwork ? '' : 'disabled'}`}>\r\n                <h3 styleName=\"title\">\r\n                  <FormattedMessage id=\"chooseWallet\" defaultMessage=\"Choose wallet\" />\r\n                </h3>\r\n                <div styleName=\"options\">\r\n                  {metamask.web3connect.isInjectedEnabled() && (\r\n                    <div styleName=\"provider\">\r\n                      <Button brand onClick={this.handleInjected}>\r\n                        {web3Icon && (\r\n                          <img src={web3Icon} alt={metamask.web3connect.getInjectedTitle()} />\r\n                        )}\r\n                        {metamask.web3connect.getInjectedTitle()}\r\n                      </Button>\r\n                    </div>\r\n                  )}\r\n                  {hasWalletConnect && (\r\n                    <div styleName=\"provider\">\r\n                      <Button brand onClick={this.handleWalletConnect}>\r\n                        <img src={walletConnectIcon} alt=\"WalletConnect\" />\r\n                        <FormattedMessage id=\"ConnectWalletModal_WalletConnect\" defaultMessage=\"WalletConnect\" />\r\n                      </Button>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(ConnectWalletModal)\r\n","import React from 'react'\r\nimport actions from 'redux/actions'\r\nimport { connect } from 'redaction'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './WalletConnectAccount.scss'\r\nimport { AddressFormat, AddressType } from 'domain/address'\r\n\r\nimport {\r\n  metamask,\r\n  externalConfig as config\r\n} from 'helpers'\r\n\r\nimport { Button } from 'components/controls'\r\nimport Address from 'components/ui/Address/Address'\r\nimport Copy from 'components/ui/Copy/Copy'\r\nimport CloseIcon from 'components/ui/CloseIcon/CloseIcon'\r\nimport InlineLoader from 'components/loaders/InlineLoader/InlineLoader'\r\n\r\ntype ComponentState = {\r\n  isPending: boolean\r\n  balanceUpdating: boolean\r\n}\r\n\r\n@connect(({\r\n  ui: { dashboardModalsAllowed },\r\n  user: { metamaskData }\r\n}) => ({\r\n  dashboardModalsAllowed,\r\n  metamaskData,\r\n}))\r\n@cssModules(styles, { allowMultiple: true })\r\nclass WalletConnectAccount extends React.Component<any, ComponentState> {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      isPending: false,\r\n      balanceUpdating: false,\r\n    }\r\n  }\r\n\r\n  handleClose = () => {\r\n    const {\r\n      name,\r\n    } = this.props\r\n\r\n    actions.modals.close(name)\r\n  }\r\n\r\n  handleConnect = () => {\r\n    this.setState(() => ({\r\n      isPending: true,\r\n    }))\r\n\r\n    metamask.handleConnectMetamask({\r\n      callback: () => {\r\n        this.setState(() => ({\r\n          isPending: false,\r\n        }))\r\n      },\r\n    })\r\n  }\r\n\r\n  handleDisconnect = () => {\r\n    this.setState(() => ({\r\n      isPending: true,\r\n    }))\r\n\r\n    metamask.handleDisconnectWallet(this.handleClose)\r\n  }\r\n\r\n  updateBalance = async () => {\r\n    const { metamaskData } = this.props\r\n\r\n    this.setState(() => ({\r\n      balanceUpdating: true,\r\n    }))\r\n\r\n    await actions[metamaskData.currency.toLowerCase()].getBalance()\r\n\r\n    setTimeout(() => {\r\n      this.setState(() => ({\r\n        balanceUpdating: false,\r\n      }))\r\n    }, 300)\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      dashboardModalsAllowed,\r\n      metamaskData: {\r\n        isConnected,\r\n        address,\r\n        balance,\r\n        currency,\r\n      },\r\n    } = this.props\r\n\r\n    const { isPending, balanceUpdating } = this.state\r\n\r\n    const web3Type = metamask.web3connect.getProviderType()\r\n    const isAvailableNetwork = metamask.isAvailableNetwork()\r\n\r\n    const walletAddress = isAvailableNetwork ?\r\n      (\r\n        <Copy text={address}>\r\n          <span>\r\n            <Address\r\n              address={address}\r\n              format={AddressFormat.Full}\r\n              type={AddressType.Metamask}\r\n            />\r\n          </span>\r\n        </Copy>\r\n      ) :\r\n      <FormattedMessage id=\"incorrectNetwork\" defaultMessage='Please choose correct network' />\r\n\r\n    const walletBalance = isAvailableNetwork ?\r\n      `${balance} ${currency}` :\r\n      '0'\r\n\r\n    const chainName = isAvailableNetwork ?\r\n      config.evmNetworks[currency].chainName :\r\n      <FormattedMessage id=\"UnknownNetworkConnectedWallet\" defaultMessage=\"Unknown Network\" />\r\n\r\n    return (\r\n      <div styleName={`modalOverlay ${dashboardModalsAllowed ? \"modalOverlay_dashboardView\" : \"\"}`}>\r\n        <div styleName={`modal ${dashboardModalsAllowed ? \"modal_dashboardView\" : \"\"}`}>\r\n          <div styleName=\"header\">\r\n            <div styleName=\"headerContent\">\r\n              <h3 styleName=\"title\">\r\n                <FormattedMessage\r\n                  id=\"WalletConnectAccountTitle\"\r\n                  defaultMessage=\"CONNECTED ACCOUNT\"\r\n                />\r\n              </h3>\r\n              <CloseIcon onClick={this.handleClose} />\r\n            </div>\r\n          </div>\r\n          <div styleName=\"content\">\r\n            <div styleName=\"infoWrapper\">\r\n              <div styleName=\"parameter\">\r\n                <FormattedMessage id=\"YourWalletbalance\" defaultMessage=\"Balance\" />:{' '}\r\n                {isPending ? (\r\n                  '-'\r\n                ) : (\r\n                  <>\r\n                    <button styleName=\"updateBalanceButton\" onClick={this.updateBalance}>\r\n                      <i className=\"fas fa-sync-alt\" />\r\n                    </button>\r\n                    {balanceUpdating ? (\r\n                      <span styleName=\"balanceLoader\"><InlineLoader /></span>\r\n                    ) : (\r\n                      <span styleName=\"value\">{walletBalance}</span>\r\n                    )}\r\n                  </>\r\n                )}\r\n              </div>\r\n              <p styleName=\"parameter\">\r\n                <FormattedMessage id=\"network\" defaultMessage=\"Network\" />:{' '}\r\n                {isPending ? '-' : <span styleName=\"value\">{chainName}</span>}\r\n              </p>\r\n              <p styleName=\"parameter\">\r\n                <FormattedMessage id=\"menu.wallet\" defaultMessage=\"Wallet\" />:{' '}\r\n                {isPending ? '-' : <span styleName=\"value\">{web3Type}</span>}\r\n              </p>\r\n            </div>\r\n            <span styleName=\"walletAddress\">\r\n              {isPending ? <InlineLoader /> : walletAddress}\r\n            </span>\r\n            <div>\r\n              {\r\n                isConnected ? (\r\n                  <Button blue onClick={this.handleDisconnect}>\r\n                    <FormattedMessage id=\"MetamaskDisconnect\" defaultMessage=\"Disconnect wallet\" />\r\n                  </Button>\r\n                ) : (\r\n                  <Button blue onClick={this.handleConnect}>\r\n                    <FormattedMessage id=\"Exchange_ConnectAddressOption\" defaultMessage=\"Connect Wallet\" />\r\n                  </Button>\r\n                )\r\n              }\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default WalletConnectAccount\r\n","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"AaILY-VjMhdzKPk85P6ZEA==\",\"headerContent\":\"PwgWAONnI1lPPLXXa0NvSw==\",\"title\":\"TbW+rUVZdAtfd-pQxo5h9Q==\",\"modalOverlay\":\"_6fp-dIqNPC8oeRh4MmQleA==\",\"modalOverlay_dashboardView\":\"YRp+vnu3sDuAJWr3SerIgg==\",\"modal\":\"u6aYWKka1CRNPV8qKKZxgg==\",\"modal_dashboardView\":\"_5GDFqa3y+C8NtBFFWnYqbg==\",\"content\":\"QBdUGceiWvp0aNL6xd2Zmg==\",\"infoWrapper\":\"b9TDaJJ3fFsX7LnXjd7n6A==\",\"parameter\":\"m+jKaoBsxshhHLCwwsblpw==\",\"value\":\"KorIO-xQFh-3JXMUikOD3Q==\",\"updateBalanceButton\":\"BQTJSHCSROLXtkEOJXWuYQ==\",\"balanceLoader\":\"WBpxOkX4Caq1hmq+rh57rw==\",\"walletAddress\":\"mWvbgzdZbYa45lA+TXqnEw==\"};","import React from 'react'\r\nimport actions from 'redux/actions'\r\nimport cssModules from 'react-css-modules'\r\nimport styles from '../Styles/default.scss'\r\nimport ownStyle from './ShamirsSecretRestory.scss'\r\nimport Copy from 'components/ui/Copy/Copy'\r\nimport Modal from 'components/modal/Modal/Modal'\r\nimport { Button } from 'components/controls'\r\nimport Input from 'components/forms/Input/Input'\r\nimport FieldLabel from 'components/forms/FieldLabel/FieldLabel'\r\nimport { FormattedMessage, defineMessages, injectIntl } from 'react-intl'\r\nimport Link from 'local_modules/sw-valuelink'\r\nimport * as mnemonicUtils from 'common/utils/mnemonic'\r\nimport okSvg from 'shared/images/ok.svg'\r\nimport links from 'helpers/links'\r\nimport feedback from 'shared/helpers/feedback'\r\n\r\n\r\nconst langPrefix = `Shamirs_Restory`\r\nconst langLabels = defineMessages({\r\n  title: {\r\n    id: `${langPrefix}_Title`,\r\n    defaultMessage: ' ',\r\n  },\r\n  doRestore: {\r\n    id: `${langPrefix}_DoRestore`,\r\n    defaultMessage: '',\r\n  },\r\n  isDoRestoring: {\r\n    id: `${langPrefix}_IsDoRestoring`,\r\n    defaultMessage: '',\r\n  },\r\n  secretOne: {\r\n    id: `${langPrefix}_SecretOne`,\r\n    defaultMessage: '  #1',\r\n  },\r\n  secretOneError: {\r\n    id: `${langPrefix}_SecretOneError`,\r\n    defaultMessage: '    #1',\r\n  },\r\n  enterSecretOne: {\r\n    id: `${langPrefix}_EnterSecretOne`,\r\n    defaultMessage: '   #1',\r\n  },\r\n  secretTwo: {\r\n    id: `${langPrefix}_SecretTwo`,\r\n    defaultMessage: '  #2',\r\n  },\r\n  enterSecretTwo: {\r\n    id: `${langPrefix}_EnterSecretTwo`,\r\n    defaultMessage: '   #2',\r\n  },\r\n  secretTwoError: {\r\n    id: `${langPrefix}_SecretTwoError`,\r\n    defaultMessage: '    #2',\r\n  },\r\n  hasError: {\r\n    id: `${langPrefix}_RestoreHasError`,\r\n    defaultMessage: '   : {errorMessage}',\r\n  },\r\n  readyNotice: {\r\n    id: `${langPrefix}_ReadyNotice`,\r\n    defaultMessage: '    BTC, ETH   ',\r\n  },\r\n  Ready: {\r\n    id: `${langPrefix}_Ready`,\r\n    defaultMessage: '',\r\n  },\r\n  cancelRestory: {\r\n    id: `${langPrefix}_CancelRestory`,\r\n    defaultMessage: '',\r\n  },\r\n})\r\n\r\n/*\r\n     \r\n    20   BigInt  \r\n*/\r\nconst useMnemonicAsSecret = false\r\n\r\n@cssModules({ ...styles, ...ownStyle }, { allowMultiple: true })\r\nclass ShamirsSecretRestory extends React.PureComponent<any, any> {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      isRestoring: false,\r\n      isFetching: false,\r\n      secretOne: ``,\r\n      secretTwo: ``,\r\n      hasError: false,\r\n      secretOneError: false,\r\n      secretTwoError: false,\r\n      errorMessage: ``,\r\n      isRestored: false,\r\n    }\r\n  }\r\n\r\n  handleCloseModal = () => {\r\n    const { name, data, onClose } = this.props\r\n\r\n    if (typeof onClose === 'function') {\r\n      onClose()\r\n    }\r\n\r\n    if (data && typeof data.onClose === 'function') {\r\n      data.onClose()\r\n    } else if (!(data && data.noRedirect)) {\r\n      window.location.assign(links.hashHome)\r\n    }\r\n\r\n    actions.modals.close(name)\r\n  }\r\n\r\n  handleRestore = () => {\r\n    const {\r\n      isRestoring,\r\n      isFetching,\r\n      secretOne,\r\n      secretTwo,\r\n    } = this.state\r\n    if (isRestoring || isFetching) return\r\n    this.setState({\r\n      isFetching: true,\r\n      hasError: false,\r\n      secretOneError: false,\r\n      secretTwoError: false,\r\n    }, () => {\r\n      if (!secretOne || secretOne.length === 0 || !mnemonicUtils.isValidShamirsSecret(secretOne)) {\r\n        this.setState({ secretOneError: true, isFetching: false})\r\n        return\r\n      }\r\n      if (!secretTwo || secretTwo.length === 0 || !mnemonicUtils.isValidShamirsSecret(secretTwo)) {\r\n        this.setState({ secretTwoError: true, isFetching: false})\r\n        return\r\n      }\r\n\r\n      this.setState({\r\n        isRestoring: true,\r\n      }, () => {\r\n        setTimeout(async () => {\r\n          try {\r\n            const mnemonicFromSecrets = mnemonicUtils.restoryMnemonicFromSecretParts([secretOne, secretTwo], useMnemonicAsSecret)\r\n            \r\n            await actions.user.restoreWallet(mnemonicFromSecrets)\r\n            this.setState(() => ({\r\n              isRestored: true,\r\n            }))\r\n\r\n            feedback.restore.finished()\r\n          } catch (e) {\r\n            console.log(e.message)\r\n            this.setState({\r\n              isFetching: false,\r\n              isRestoring: false,\r\n              hasError: true,\r\n              errorMessage: e.message,\r\n            })\r\n          }\r\n        })\r\n      })\r\n    })\r\n  }\r\n\r\n  handleFinish = () => {\r\n    const { data } = this.props\r\n\r\n    this.handleCloseModal()\r\n\r\n    if (!(data && data.noRedirect)) {\r\n      window.location.assign(links.hashHome)\r\n      window.location.reload()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { name, intl } = this.props\r\n\r\n    const {\r\n      isRestoring,\r\n      isFetching,\r\n      secretOne,\r\n      secretTwo,\r\n      hasError,\r\n      secretOneError,\r\n      secretTwoError,\r\n      errorMessage,\r\n      isRestored,\r\n    } = this.state\r\n\r\n    const linked = Link.all(\r\n      this,\r\n      'secretOne',\r\n      'secretTwo',\r\n    )\r\n\r\n    return (\r\n      <Modal\r\n        name={name}\r\n        showCloseButton\r\n        onClose={this.handleCloseModal}\r\n        title={intl.formatMessage(langLabels.title)}\r\n      >\r\n        <section styleName=\"content\">\r\n          {!isRestored && (\r\n            <>\r\n              <div styleName=\"highLevel\">\r\n                <FieldLabel>\r\n                  <FormattedMessage {...langLabels.enterSecretOne} />\r\n                </FieldLabel>\r\n                <Input\r\n                  smallFontSize\r\n                  withMargin\r\n                  valueLink={linked.secretOne}\r\n                  focusOnInit\r\n                  disabled={isRestoring}\r\n                  onFocus={() => { this.setState({ secretOneError: false }) }}\r\n                  placeholder={intl.formatMessage(langLabels.secretOne)}\r\n                />\r\n                {secretOneError && (\r\n                  <div styleName=\"rednote\">\r\n                    <FormattedMessage {...langLabels.secretOneError} />\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <div styleName=\"highLevel\">\r\n                <FieldLabel>\r\n                  <FormattedMessage {...langLabels.enterSecretTwo} />\r\n                </FieldLabel>\r\n                <Input\r\n                  smallFontSize\r\n                  withMargin\r\n                  valueLink={linked.secretTwo}\r\n                  disabled={isRestoring}\r\n                  onFocus={() => { this.setState({ secretTwoError: false }) }}\r\n                  placeholder={intl.formatMessage(langLabels.secretTwo)}\r\n                />\r\n                {secretTwoError && (\r\n                  <div styleName=\"rednote\">\r\n                    <FormattedMessage {...langLabels.secretTwoError} />\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <div styleName=\"highLevel\">\r\n                {!isRestoring && (\r\n                  <div styleName=\"buttonsHolder\">\r\n                    <Button gray disabled={isFetching} onClick={this.handleCloseModal}>\r\n                      <FormattedMessage {...langLabels.cancelRestory} />\r\n                    </Button>\r\n                    <Button\r\n                      blue\r\n                      disabled={isFetching}\r\n                      onClick={this.handleRestore}\r\n                    >\r\n                      <FormattedMessage {...langLabels.doRestore} />\r\n                    </Button>\r\n                  </div>\r\n                )}\r\n                {isRestoring && (\r\n                  <Button\r\n                    styleName=\"buttonCenter buttonFull\"\r\n                    blue\r\n                    disabled={true}\r\n                  >\r\n                    <FormattedMessage {...langLabels.isDoRestoring} />\r\n                  </Button>\r\n                )}\r\n                {hasError && (\r\n                  <div styleName=\"rednote\">\r\n                    <FormattedMessage {...langLabels.hasError} values={{errorMessage}} />\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </>\r\n          )}\r\n          {isRestored && (\r\n            <>\r\n              <p styleName=\"notice mnemonicNotice\">\r\n                <img styleName=\"finishImg\" src={okSvg} alt=\"finish\" />\r\n                <FormattedMessage {...langLabels.readyNotice} />\r\n              </p>\r\n              <div styleName=\"lowLevel\">\r\n                <Button\r\n                  styleName=\"buttonCenter buttonHalfFullWidth\"\r\n                  blue\r\n                  onClick={this.handleFinish}\r\n                >\r\n                  <FormattedMessage {...langLabels.Ready} />\r\n                </Button>\r\n              </div>\r\n            </>\r\n          )}\r\n        </section>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(ShamirsSecretRestory)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"content\":\"Hj-7Iy-O6XS3MSLYUxAikQ==\",\"text\":\"kCLRiei6Pl8e3eccAUjsEg==\",\"key\":\"RyFT1BE2nBBKSMUrgntHng==\",\"finishImg\":\"mixawYuy1W2nvUMDWB7+Qg==\",\"mnemonicNotice\":\"AqJDLb2xqMqZpOfHM83LCw==\",\"buttonsHolder\":\"nxaXWkbADIzZKR8BlWuvAQ==\"};","import React, { Fragment } from 'react'\r\nimport { constants } from 'helpers'\r\nimport actions from 'redux/actions'\r\nimport { Link as HrefLink } from 'react-router-dom'\r\nimport { connect } from 'redaction'\r\nimport config from 'helpers/externalConfig'\r\nimport { getActivatedCurrencies } from 'helpers/user'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport moment from 'moment/moment'\r\nimport okSvg from 'shared/images/ok.svg'\r\n\r\nimport Modal from 'components/modal/Modal/Modal'\r\nimport Button from 'components/controls/Button/Button'\r\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\r\nimport Copy from 'components/ui/Copy/Copy'\r\n\r\nimport links from 'helpers/links'\r\nimport feedback from 'shared/helpers/feedback'\r\nimport styles from './ShamirsSecretSave.scss'\r\nimport defaultStyles from '../Styles/default.scss'\r\n\r\n\r\nconst langPrefix = `ShamirsSecretSave`\r\nconst langLabels = defineMessages({\r\n  title: {\r\n    id: `${langPrefix}_Title`,\r\n    defaultMessage: `Shamir's Secret-Share`,\r\n  },\r\n  shareMnemonicTitle: {\r\n    id: `${langPrefix}_ShareMnemonicTitle`,\r\n    defaultMessage: `Shamir's Secret-Share codes`,\r\n  },\r\n  showMnemonicNotice: {\r\n    id: `${langPrefix}_ShowMnemonicNotice`,\r\n    defaultMessage: `  .    -   ,     `,\r\n  },\r\n  readySaveNotice: {\r\n    id: `${langPrefix}_ReadySaveNotice`,\r\n    defaultMessage: `   `,\r\n  },\r\n  countSecretsSaved: {\r\n    id: `${langPrefix}_CountSavedSecrets`,\r\n    defaultMessage: ` {saved}  {total}`,\r\n  },\r\n  mnemonicDeleted: {\r\n    id: `${langPrefix}_MnemoniceDeleted`,\r\n    defaultMessage: `You have already saved your Shamir's Secret-Share codes. {href}`,\r\n    values: { \r\n      href: (\r\n        <HrefLink to={links.savePrivateKeys}>\r\n          {' '}\r\n          <FormattedMessage id=\"MnemoniceDeleted_hrefText\" defaultMessage=\"Try export private key\" />\r\n        </HrefLink>\r\n      ) \r\n    },\r\n  },\r\n  beginNotice: {\r\n    id: `${langPrefix}_BeginNotice`,\r\n    defaultMessage: `      .{br}   -   ,      `,\r\n  },\r\n  beginContinue: {\r\n    id: `${langPrefix}_BeginContinue`,\r\n    defaultMessage: ` `,\r\n  },\r\n  beginLater: {\r\n    id: `${langPrefix}_BeginLater`,\r\n    defaultMessage: `  `,\r\n  },\r\n  useCopy: {\r\n    id: `${langPrefix}_UseCopy`,\r\n    defaultMessage: ``,\r\n  },\r\n  useSave: {\r\n    id: `${langPrefix}_UseSave`,\r\n    defaultMessage: ``,\r\n  },\r\n  useSend: {\r\n    id: `${langPrefix}_UseSend`,\r\n    defaultMessage: ``,\r\n  },\r\n  codeNfromSite: {\r\n    id: `${langPrefix}_CodeNfromSite`,\r\n    defaultMessage: ` Shamir's Secret-Share  #{number}   {sitehost}`,\r\n  },\r\n})\r\n\r\n\r\n@cssModules({ ...defaultStyles, ...styles }, { allowMultiple: true })\r\nclass ShamirsSecretSave extends React.Component<any, any> {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\r\n    let shamirsSecretKeys: any = localStorage.getItem(constants.privateKeyNames.shamirsSecrets)\r\n    if (shamirsSecretKeys && shamirsSecretKeys !== '-') {\r\n      try {\r\n        shamirsSecretKeys = JSON.parse(shamirsSecretKeys)\r\n      } catch (e) {\r\n        shamirsSecretKeys = false\r\n      }\r\n    } else {\r\n      shamirsSecretKeys = false\r\n    }\r\n\r\n    this.state = {\r\n      step: (shamirsSecretKeys) ? `begin` : `removed`,\r\n      shamirsSecretKeys,\r\n      copyUsed: false,\r\n      saveUsed: false,\r\n      sendUsed: false,\r\n      sharededSecrets: {  //  , ,   \r\n        0: false,\r\n        1: false,\r\n        2: false,\r\n      }\r\n    }\r\n  }\r\n\r\n  handleGoToConfirm = () => {\r\n    localStorage.setItem(constants.privateKeyNames.twentywords, '-')\r\n    localStorage.setItem(constants.privateKeyNames.shamirsMnemonics, '-')\r\n    localStorage.setItem(constants.privateKeyNames.shamirsSecrets, '-')\r\n    actions.backupManager.serverCleanupSeed()\r\n    this.setState({\r\n      step: `ready`,\r\n    })\r\n  }\r\n\r\n  handleClose = () => {\r\n    const { name, data, onClose } = this.props\r\n\r\n    if (typeof onClose === 'function') {\r\n      onClose()\r\n    }\r\n\r\n    if (data && typeof data.onClose === 'function') {\r\n      data.onClose()\r\n    } else {\r\n      window.location.assign(links.hashHome)\r\n    }\r\n\r\n    const addAllEnabledWalletsAfterRestoreOrCreateSeedPhrase = config?.opts?.addAllEnabledWalletsAfterRestoreOrCreateSeedPhrase\r\n\r\n    if (addAllEnabledWalletsAfterRestoreOrCreateSeedPhrase) {\r\n      const currencies = getActivatedCurrencies()\r\n      currencies.forEach((currency) => {\r\n        actions.core.markCoinAsVisible(currency.toUpperCase(), true)\r\n      })\r\n      localStorage.setItem(constants.localStorage.isWalletCreate, 'true')\r\n    }\r\n\r\n    actions.modals.close(constants.modals.SaveWalletSelectMethod)\r\n    actions.modals.close(name)\r\n  }\r\n\r\n  handleFinish = () => {\r\n    feedback.backup.finished()\r\n    this.handleClose()\r\n  }\r\n\r\n  createDownload = (filename, text) => {\r\n    const element = document.createElement('a')\r\n    const message = 'Check your browser downloads'\r\n\r\n    element.setAttribute('href', `data:text/plaincharset=utf-8,${encodeURIComponent(text)}`)\r\n    element.setAttribute('download', `${filename}_${moment().format('DD.MM.YYYY')}.txt`)\r\n\r\n    element.style.display = 'none'\r\n    document.body.appendChild(element)\r\n    element.click()\r\n    document.body.removeChild(element)\r\n\r\n    actions.notifications.show(constants.notifications.Message, {\r\n      message,\r\n    })\r\n  }\r\n\r\n  markCodeShared = (secretNumber) => {\r\n    const { sharededSecrets } = this.state\r\n    this.setState({\r\n      sharededSecrets: {\r\n        ...sharededSecrets,\r\n        [`${secretNumber}`]: true,\r\n      }\r\n    })\r\n  }\r\n\r\n  renderShareSecret = (secretNumber) => {\r\n    const {\r\n      shamirsSecretKeys,\r\n      sharededSecrets,\r\n      copyUsed,\r\n      saveUsed,\r\n      sendUsed,\r\n    } = this.state\r\n\r\n\r\n    const text = `Shamir's Secret-Share code #${secretNumber+1} from ${document.location.hostname}\\n` +\r\n      `${shamirsSecretKeys[secretNumber]}\\n` +\r\n      `Don't Lose This Code.`\r\n    return (\r\n      <div styleName=\"sharedSecret\">\r\n        <div styleName=\"sharedSecretKey\">\r\n          <span>\r\n            <FormattedMessage\r\n              {...langLabels.codeNfromSite}\r\n              values={{\r\n                number: (secretNumber+1),\r\n                sitehost: window.location.hostname,\r\n              }}\r\n            />\r\n          </span>\r\n          <span>{shamirsSecretKeys[secretNumber]}</span>\r\n        </div>\r\n        <div styleName=\"sharedSecretButtons\">\r\n          {copyUsed ? (\r\n            <Button disabled={true} blue>\r\n              <FormattedMessage {...langLabels.useCopy} />\r\n            </Button>\r\n          ) : (\r\n            <Copy text={text} onCopy={() => {\r\n              this.markCodeShared(secretNumber)\r\n              /* this.setState({ copyUsed: true }) */\r\n            }}>\r\n              <Button blue>\r\n                <FormattedMessage {...langLabels.useCopy} />\r\n              </Button>\r\n            </Copy>\r\n          )}\r\n          <Button disabled={saveUsed} blue onClick={() => {\r\n            this.createDownload(`shamirs_secret_key_${secretNumber+1}_${document.location.hostname}`,text)\r\n            this.markCodeShared(secretNumber)\r\n            /* this.setState({ saveUsed: true }) */\r\n          }}>\r\n            <FormattedMessage {...langLabels.useSave} />\r\n          </Button>\r\n          {(sendUsed) ? (\r\n            <Button disabled={true} blue>\r\n              <FormattedMessage {...langLabels.useSend} />\r\n            </Button>\r\n          ) : (\r\n            <a href={'mailto:x@y.com?body=' + encodeURI(text) + '&subject=' + encodeURIComponent(`Shamir's Secret-Share code #${secretNumber+1} from ${document.location.hostname}`)}>\r\n              <Button blue onClick={() => {\r\n                this.markCodeShared(secretNumber)\r\n                /* this.setState({ sendUsed: true }) */\r\n              }}>\r\n                <FormattedMessage {...langLabels.useSend} />\r\n              </Button>\r\n            </a>\r\n          )}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      name,\r\n      intl,\r\n    } = this.props\r\n\r\n    const {\r\n      step,\r\n      shamirsSecretKeys,\r\n      sharededSecrets,\r\n    } = this.state\r\n\r\n    const canContinue = !(sharededSecrets[0] && sharededSecrets[1] && sharededSecrets[2])\r\n    const totalSaved = ((sharededSecrets[0]) ? 1 : 0) + ((sharededSecrets[1]) ? 1 : 0) + ((sharededSecrets[2]) ? 1 : 0)\r\n\r\n    return (\r\n      // @ts-ignore: strictNullChecks\r\n      <Modal\r\n        name={name}\r\n        title={`${intl.formatMessage(langLabels.title)}`}\r\n        onClose={this.handleClose}\r\n        showCloseButton\r\n      >\r\n        {step === `show` && (\r\n          <p styleName=\"notice mnemonicNotice\">\r\n            <FormattedMessage {...langLabels.showMnemonicNotice} />\r\n          </p>\r\n        )}\r\n        {step === `removed` && (\r\n          <p styleName=\"notice mnemonicNotice\">\r\n            <FormattedMessage {...langLabels.mnemonicDeleted} />\r\n          </p>\r\n        )}\r\n        <div>\r\n          {step === `begin` && (\r\n            <>\r\n              <p styleName=\"notice mnemonicNotice\">\r\n                <FormattedMessage\r\n                  {...langLabels.beginNotice}\r\n                  values={{\r\n                    br: <br />,\r\n                  }} />\r\n              </p>\r\n              <div styleName=\"buttonsHolder\">\r\n                <Button\r\n                  blue\r\n                  onClick={() => {\r\n                    feedback.backup.started()\r\n                    this.setState({ step: `show` })\r\n                  }}>\r\n                  <FormattedMessage {...langLabels.beginContinue} />\r\n                </Button>\r\n                <Button gray onClick={this.handleClose}>\r\n                  <FormattedMessage {...langLabels.beginLater} />\r\n                </Button>\r\n              </div>\r\n            </>\r\n          )}\r\n          {step === `ready` && (\r\n            <>\r\n              <p styleName=\"notice mnemonicNotice\">\r\n                <img styleName=\"finishImg\" src={okSvg} alt=\"finish\" />\r\n                <FormattedMessage {...langLabels.readySaveNotice} />\r\n              </p>\r\n              <div styleName=\"lowLevel\">\r\n                <Button\r\n                  styleName=\"buttonCenter buttonHalfFullWidth\"\r\n                  blue\r\n                  onClick={this.handleFinish}\r\n                >\r\n                  <FormattedMessage id=\"WithdrawMSUserFinish\" defaultMessage=\"Ready\" />\r\n                </Button>\r\n              </div>\r\n            </>\r\n          )}\r\n          {step === `show` && (\r\n            <>\r\n              <div styleName=\"highLevel\">\r\n                {this.renderShareSecret(0)}\r\n                {this.renderShareSecret(1)}\r\n                {this.renderShareSecret(2)}\r\n              </div>\r\n              <div>\r\n                <FormattedMessage\r\n                  {...langLabels.countSecretsSaved}\r\n                  values={{\r\n                    saved: totalSaved,\r\n                    total: 3,\r\n                  }}\r\n                />\r\n              </div>\r\n              <div styleName=\"mnemonicButtonsWrapper\">\r\n                <div styleName=\"continueBtnWrapper\">\r\n                  <Button brand disabled={canContinue} onClick={this.handleGoToConfirm}>\r\n                    <FormattedMessage id=\"createWalletButton1\" defaultMessage=\"Continue\" />\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(ShamirsSecretSave)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"buttonsHolder\":\"i9q8RGuoD+JCPk5-oPgDpQ==\",\"finishImg\":\"ePiJxzwAu8COCqL8AJVBpA==\",\"mnemonicView\":\"X3xdCO91OM+zInQh+7qEkw==\",\"mnemonicViewWordWrapper\":\"t3I7FMFphTmymWlfN1RV5A==\",\"wordIndex\":\"_8hWgeplG4uV6JJU6Sa68BA==\",\"mnemonicEnter\":\"oZz+ZZtoEt90d7A9zwMWpw==\",\"mnemonicError\":\"XmA4VF6GDCnu9s4iP7X-JQ==\",\"mnemonicWords\":\"ITRHPI7NRM1VSB1uS0N58A==\",\"mnemonicButtonsWrapper\":\"_3-Uxbh26o+D0GLQ3P9mjoA==\",\"sharedSecret\":\"TiHyvdORbOIqHfzF3V7new==\",\"sharedSecretInfo\":\"GkFnyqFekn69xBOqKnsmBA==\",\"sharedSecretKey\":\"VOsC9BLfwGBooXbaEfz1vw==\",\"sharedSecretButtons\":\"_8rzQ2-CzuJeHwJgJgNmaOg==\",\"continueBtnWrapper\":\"vciG+TlUQ1xlpbAR7kAwNA==\",\"mnemonicNotice\":\"YUI36m2ZL36qSyUNrYOTKQ==\"};","import React from 'react'\r\nimport actions from 'redux/actions'\r\nimport cssModules from 'react-css-modules'\r\nimport styles from '../Styles/default.scss'\r\nimport ownStyle from './RestoreWalletSelectMethod.scss'\r\nimport Modal from 'components/modal/Modal/Modal'\r\nimport { Button } from 'components/controls'\r\nimport { FormattedMessage, defineMessages, injectIntl } from 'react-intl'\r\nimport links from 'helpers/links'\r\nimport { constants } from 'helpers'\r\n\r\n\r\nconst langPrefix = `RestoreWalletSelectMethod`\r\nconst langLabels = defineMessages({\r\n  title: {\r\n    id: `${langPrefix}_Title`,\r\n    defaultMessage: ' ',\r\n  },\r\n  useShamirs: {\r\n    id: `${langPrefix}_UseShamirs`,\r\n    defaultMessage: `  Shamir's Secret-Share`,\r\n  },\r\n  useMnemonic: {\r\n    id: `${langPrefix}_UseMnemonic`,\r\n    defaultMessage: '  12-',\r\n  },\r\n  cancel: {\r\n    id: `${langPrefix}_Cancel`,\r\n    defaultMessage: '',\r\n  },\r\n  selectMethod: {\r\n    id: `${langPrefix}_SelectMethod`,\r\n    defaultMessage: '  ',\r\n  },\r\n})\r\n\r\n\r\n@cssModules({ ...styles, ...ownStyle }, { allowMultiple: true })\r\nclass RestoreWalletSelectMethod extends React.PureComponent<any, any> {\r\n  constructor(props) {\r\n    super(props)\r\n  }\r\n\r\n  handleCloseModal = () => {\r\n    const { name, data, onClose } = this.props\r\n\r\n    if (typeof onClose === 'function') {\r\n      onClose()\r\n    }\r\n\r\n    if (data && typeof data.onClose === 'function') {\r\n      data.onClose()\r\n    } else if (!(data && data.noRedirect)) {\r\n      window.location.assign(links.hashHome)\r\n    }\r\n\r\n    actions.modals.close(name)\r\n  }\r\n\r\n  handleUseShamirs = () => {\r\n    const { data, onClose } = this.props\r\n    actions.modals.open(constants.modals.ShamirsSecretRestory, data)\r\n  }\r\n\r\n  handleUseMnemonic = () => {\r\n    const { data, onClose } = this.props\r\n    actions.modals.open(constants.modals.RestoryMnemonicWallet, data)\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      name,\r\n      intl,\r\n    } = this.props\r\n\r\n    return (\r\n      <Modal\r\n        name={name}\r\n        showCloseButton\r\n        onClose={this.handleCloseModal}\r\n        title={intl.formatMessage(langLabels.title)}\r\n      >\r\n        <section styleName=\"content\">\r\n          <div styleName=\"highLevel\">\r\n            <div styleName=\"buttonHolder\">\r\n              <Button id='restoreWalletUseMnemonic' blue onClick={this.handleUseMnemonic}>\r\n                <FormattedMessage {...langLabels.useMnemonic} />\r\n              </Button>\r\n              <Button id='restoreWalletUseShamirs' blue onClick={this.handleUseShamirs}>\r\n                <FormattedMessage {...langLabels.useShamirs} />\r\n              </Button>\r\n              <Button gray onClick={this.handleCloseModal}>\r\n                <FormattedMessage {...langLabels.cancel} />\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(RestoreWalletSelectMethod)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"content\":\"St5qnchi9OHc21K5Hb37UQ==\",\"text\":\"xpe93swli-ynO-dM9JX9vQ==\",\"restoreNotice\":\"e3D0sl5oJr1suXn6JSf22A==\",\"buttonHolder\":\"m6qZnKRT--heA7xt4CVewA==\"};","import React from 'react'\r\nimport actions from 'redux/actions'\r\nimport cssModules from 'react-css-modules'\r\nimport styles from '../Styles/default.scss'\r\nimport ownStyle from './SaveWalletSelectMethod.scss'\r\nimport Modal from 'components/modal/Modal/Modal'\r\nimport { Button } from 'components/controls'\r\nimport { FormattedMessage, defineMessages, injectIntl } from 'react-intl'\r\nimport links from 'helpers/links'\r\nimport { constants } from 'helpers'\r\n\r\n\r\nconst langPrefix = `SaveWalletSelectMethod`\r\nconst langLabels = defineMessages({\r\n  title: {\r\n    id: `${langPrefix}_Title`,\r\n    defaultMessage: ' ',\r\n  },\r\n  useShamirs: {\r\n    id: `${langPrefix}_UseShamirs`,\r\n    defaultMessage: ` Shamir's Secret-Share`,\r\n  },\r\n  useMnemonic: {\r\n    id: `${langPrefix}_UseMnemonic`,\r\n    defaultMessage: ' 12-',\r\n  },\r\n  cancel: {\r\n    id: `${langPrefix}_Cancel`,\r\n    defaultMessage: '',\r\n  },\r\n  selectMethod: {\r\n    id: `${langPrefix}_SelectMethod`,\r\n    defaultMessage: ' ',\r\n  },\r\n})\r\n\r\n\r\n@cssModules({ ...styles, ...ownStyle }, { allowMultiple: true })\r\nclass SaveWalletSelectMethod extends React.PureComponent<any, any> {\r\n  constructor(props) {\r\n    super(props)\r\n  }\r\n\r\n  handleCloseModal = () => {\r\n    const { name, data, onClose } = this.props\r\n\r\n    if (typeof onClose === 'function') {\r\n      onClose()\r\n    }\r\n\r\n    if (data && typeof data.onClose === 'function') {\r\n      data.onClose()\r\n    } else if (!(data && data.noRedirect)) {\r\n      window.location.assign(links.hashHome)\r\n    }\r\n\r\n    actions.modals.close(name)\r\n  }\r\n\r\n  handleUseShamirs = () => {\r\n    const { data, onClose } = this.props\r\n\r\n    actions.modals.open(constants.modals.ShamirsSecretSave, data)\r\n  }\r\n\r\n  handleUseMnemonic = () => {\r\n    const { data, onClose } = this.props\r\n    actions.modals.open(constants.modals.SaveMnemonicModal, data)\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      name,\r\n      intl,\r\n    } = this.props\r\n\r\n    return (\r\n      <Modal\r\n        name={name}\r\n        showCloseButton\r\n        onClose={this.handleCloseModal}\r\n        title={intl.formatMessage(langLabels.title)}\r\n      >\r\n        <section styleName=\"content\">\r\n          <div styleName=\"highLevel\">\r\n            <div styleName=\"buttonHolder\">\r\n              <Button blue onClick={this.handleUseMnemonic}>\r\n                <FormattedMessage {...langLabels.useMnemonic} />\r\n              </Button>\r\n              <Button blue onClick={this.handleUseShamirs}>\r\n                <FormattedMessage {...langLabels.useShamirs} />\r\n              </Button>\r\n              <Button gray onClick={this.handleCloseModal}>\r\n                <FormattedMessage {...langLabels.cancel} />\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(SaveWalletSelectMethod)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"content\":\"-gagDBit1f5wXr8+KHoQsw==\",\"text\":\"VmaFWVsm3wcqIDdT5k-WJg==\",\"restoreNotice\":\"guNtOasAGmWb1CE1xUeTGg==\",\"buttonHolder\":\"JzJ8xSngIxQ8f0UNcDp5Ww==\"};","import axios from 'axios'\r\nimport config from 'helpers/externalConfig'\r\n/*\r\nwindow.WPuserUid = 1;\r\nwindow.WPuserHash = 'b4bc15da219c32313258b75e4f686313';\r\nwindow.SO_ReferralSystem_Enabled = true;\r\nwindow.SO_ReferralSystem_GenerateLinkUrl = 'https://localhost.feo.crimea/wallet/wp-admin/admin-ajax.php?action=mcwallet_ref_system_generate_link';\r\nwindow.SO_ReferralSystem_StatisticUrl = 'https://localhost.feo.crimea/wallet/wp-admin/admin-ajax.php?action=mcwallet_ref_system_info';\r\nwindow.SO_ReferralSystem_CheckLink = 'https://localhost.feo.crimea/wallet/wp-admin/admin-ajax.php?action=mcwallet_ref_system_check'\r\nconsole.log('>>> Included ref system')\r\nconsole.log('>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>')\r\n*/\r\nconst Ref_Test = () => {\r\n  console.log('>>>>', config.opts.WPuserHash)\r\n  axios.post(\r\n    window.SO_ReferralSystem_CheckLink,\r\n    {\r\n      WPuserUid: config.opts.WPuserUid,\r\n      WPuserHash: config.opts.WPuserHash,\r\n    }\r\n  ).then((res: any) => {\r\n    console.log('>>>', res?.data)\r\n  }).catch((err) => {\r\n    console.log('>>> fail', err)\r\n  })\r\n}\r\nexport const GenerateJoinLink = (options) => {\r\n  return new Promise((resolve, reject) => {\r\n    const { userAddress } = options\r\n    if (config.opts.plugins.GenerateJoinLink\r\n      && config.opts.WPuserUid\r\n      && config.opts.WPuserHash\r\n      && config.opts.plugins.ReferralEnabled\r\n    ) {\r\n      axios.post(\r\n        config.opts.plugins.GenerateJoinLink,\r\n        {\r\n          WPuserUid: config.opts.WPuserUid,\r\n          WPuserHash: config.opts.WPuserHash,\r\n          address: userAddress\r\n        }\r\n      ).then((res: any) => {\r\n        if (res\r\n          && res?.data\r\n          && res?.data?.answer\r\n          && res?.data?.answer == 'ok'\r\n          && res?.data?.url\r\n        ) {\r\n          resolve(res?.data?.url)\r\n        } else {\r\n          reject()\r\n        }\r\n      }).catch((err) => {\r\n        reject()\r\n      })\r\n    } else {\r\n      reject('not_inited')\r\n    }\r\n  })\r\n}\r\nexport const GetReferralStatistic = () => {\r\n  return new Promise((resolve, reject) => {\r\n    if (config.opts.plugins.ReferralStatisticUrl\r\n      && config.opts.WPuserUid\r\n      && config.opts.WPuserHash\r\n      && config.opts.plugins.ReferralEnabled\r\n    ) {\r\n      axios.post(\r\n        config.opts.plugins.ReferralStatisticUrl,\r\n        {\r\n          WPuserUid: config.opts.WPuserUid,\r\n          WPuserHash: config.opts.WPuserHash\r\n        }\r\n      ).then((res: any) => {\r\n        if (res\r\n          && res?.data\r\n          && res?.data?.answer\r\n        ) {\r\n          resolve(res?.data)\r\n        } else {\r\n          reject()\r\n        }\r\n      }).catch((err) => {\r\n        reject(err)\r\n      })\r\n    } else {\r\n      reject('not_inited')\r\n    }\r\n  })\r\n}\r\nwindow.Ref_Test = Ref_Test\r\nwindow.GenerateJoinLink = GenerateJoinLink\r\nwindow.GetReferralStatistic = GetReferralStatistic\r\n\r\n\r\nexport default {\r\n  GenerateJoinLink,\r\n  GetReferralStatistic\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'redaction'\r\nimport actions from 'redux/actions'\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './ReferralProgramModal.scss'\r\nimport Link from 'local_modules/sw-valuelink'\r\nimport { Modal } from 'components/modal'\r\nimport { Button } from 'components/controls'\r\nimport { FieldLabel, Input } from 'components/forms'\r\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\r\nimport { constants } from 'helpers'\r\nimport config from 'helpers/externalConfig'\r\n\r\nimport {\r\n  GenerateJoinLink,\r\n  GetReferralStatistic\r\n} from 'plugins/ReferralSystem'\r\n\r\nconst defaultLanguage = defineMessages({\r\n  title: {\r\n    id: 'ReferralModalTitle',\r\n    defaultMessage: 'Referral Program',\r\n  },\r\n  saveMnemonicFirst: {\r\n    id: 'ReferralSaveMnemonicFirst',\r\n    defaultMessage: 'Before using the referral system, you need to save your secret phrase.',\r\n  },\r\n  saveMnemonicButton: {\r\n    id: 'ReferralSaveMnemonicButton',\r\n    defaultMessage: 'Save secret phrase',\r\n  },\r\n  buttonGenerateJoinLink: {\r\n    id: 'ReferralButtonGenerateJoinLink',\r\n    defaultMessage: 'Show your referral link'\r\n  }\r\n})\r\n\r\n@connect(({ user }) => ({ user }))\r\n@cssModules(styles, { allowMultiple: true })\r\nclass ReferralProgramModal extends React.Component<any, any> {\r\n  handleClose = () => {\r\n    actions.modals.close(name)\r\n  }\r\n  constructor(props) {\r\n    super(props)\r\n    const {\r\n      intl,\r\n      user: {\r\n        ethData: {\r\n          address: addressForBonus,\r\n        },\r\n      },\r\n    } = this.props\r\n    const mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\r\n    const mnemonicDeleted = mnemonic === '-'\r\n    this.state = {\r\n      mnemonicDeleted,\r\n      joinUrl: false,\r\n      isJoinUrlFetching: false,\r\n      addressForBonus,\r\n      referrals: [],\r\n      referralsFetched: false\r\n    }\r\n  }\r\n  \r\n  handleOpenSaveMnemonic() {\r\n    actions.modals.open(constants.modals.SaveWalletSelectMethod, {\r\n      onClose: () => {\r\n        const mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\r\n        const mnemonicDeleted = mnemonic === '-'\r\n        this.setState({\r\n          mnemonicDeleted,\r\n        })\r\n      },\r\n    })\r\n  }\r\n\r\n  \r\n  handleGenerateJoinLink() {\r\n    const {\r\n      addressForBonus\r\n    } = this.state\r\n    \r\n    this.setState({\r\n      isJoinUrlFetching: true,\r\n    }, () => {\r\n      GenerateJoinLink({\r\n        userAddress: addressForBonus,\r\n      }).then((joinUrl) => {\r\n        console.log('Join url', joinUrl)\r\n        this.setState({\r\n          joinUrl,\r\n          isJoinUrlFetching: false\r\n        })\r\n      }).catch((err) => {\r\n        console.log('Fail get join url', err)\r\n        this.setState({\r\n          joinUrl: false,\r\n          isJoinUrlFetching: false,\r\n        })\r\n      })\r\n    })\r\n    \r\n  }\r\n  componentDidMount() {\r\n    GetReferralStatistic().then((info) => {\r\n      // @ts-ignore\r\n      if (info && info?.answer && info?.answer == \"ok\" && info?.referrals) {\r\n        const {\r\n          // @ts-ignore\r\n          address: addressForBonus,\r\n          // @ts-ignore\r\n          referrals,\r\n          // @ts-ignore\r\n          joinUrl,\r\n        } = info\r\n        this.setState({\r\n          addressForBonus,\r\n          referrals,\r\n          referralsFetched: true,\r\n          joinUrl\r\n        })\r\n      }\r\n    }).catch((err) => {\r\n      console.log('>> GetReferralStatistic fail', err)\r\n    })\r\n  }\r\n  render() {\r\n    const {\r\n      intl,\r\n    } = this.props\r\n    const {\r\n      mnemonicDeleted,\r\n      joinUrl,\r\n      isJoinUrlFetching,\r\n      addressForBonus,\r\n      referrals,\r\n      referralsFetched,\r\n    } = this.state\r\n    \r\n    const labels = {\r\n      title: intl.formatMessage(defaultLanguage.title),\r\n    }\r\n\r\n    \r\n    return (\r\n      <Modal\r\n        name={`ReferralProgramModal`}\r\n        title={labels.title}\r\n        onClose={this.handleClose}\r\n        showCloseButton\r\n      >\r\n        <div>\r\n          {!mnemonicDeleted ? (\r\n            <>\r\n              <div>\r\n                <FormattedMessage {...defaultLanguage.saveMnemonicFirst} />\r\n              </div>\r\n              <div>\r\n                <Button blue onClick={this.handleOpenSaveMnemonic.bind(this)}>\r\n                  <FormattedMessage {...defaultLanguage.saveMnemonicButton } />\r\n                </Button>\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <>\r\n            \r\n              Referral program\r\n              <div>\r\n                <strong>\r\n                  The address to which you will receive bonuses in the form of token A for each user who registers using your link\r\n                </strong>\r\n              </div>\r\n              <div>\r\n                <strong>{addressForBonus}</strong>\r\n              </div>\r\n              {!joinUrl && (\r\n                <div>\r\n                  <Button\r\n                    blue\r\n                    pending={isJoinUrlFetching}\r\n                    onClick={this.handleGenerateJoinLink.bind(this)}\r\n                  >\r\n                    <FormattedMessage {...defaultLanguage.buttonGenerateJoinLink } />\r\n                  </Button>\r\n                </div>\r\n              )}\r\n              {joinUrl && (\r\n                <div>\r\n                  <strong>You referral link</strong>\r\n                  <div>{joinUrl}</div>\r\n                </div>\r\n              )}\r\n              {referralsFetched && (\r\n                <table>\r\n                  <thead>\r\n                    <tr>\r\n                      <td>User name</td>\r\n                      <td>Email</td>\r\n                      <td>Registered at</td>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {referrals.length > 0 ? (\r\n                      <>\r\n                        {referrals.map((referral) => {\r\n                          const {\r\n                            ID,\r\n                            name,\r\n                            email,\r\n                            registered\r\n                          } = referral\r\n                          return (\r\n                            <tr key={ID}>\r\n                              <td>{name}</td>\r\n                              <td>{email}</td>\r\n                              <td>{registered}</td>\r\n                            </tr>\r\n                          )\r\n                        })}\r\n                      </>\r\n                    ) : (\r\n                      <tr>\r\n                        <td colSpan={3}>You dont have referrals</td>\r\n                      </tr>\r\n                    )}\r\n                  </tbody>\r\n                </table>\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(ReferralProgramModal)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"BsO2om3FnvPED9W-eiGb2w==\",\"headerContent\":\"JkXJpZYB-XLf7h-izAiMWw==\",\"title\":\"iDn3snGJ3Ie9SEzw5c5+DQ==\",\"uppercase\":\"CAHfeZiWcBbol68GNUVhnw==\",\"closeButton\":\"xbct-CoqN9dYJ9Oh-Ch8pA==\",\"modal-overlay\":\"LpvmgOrKIkr7uhx5rOicFQ==\",\"modal\":\"CJ6krMtuzDbs-7AgSBaMcg==\",\"button\":\"_64V09LQ-bccGl4cwQXkyuw==\",\"content\":\"FOogS1k+3Za+AZnL1S0PNQ==\",\"notification-overlay\":\"hUvvOBrco7SYRPFKVv3dpA==\",\"notification\":\"Ngn2hJG5KbiRO8WHhqPL6w==\",\"button-overlay\":\"bkgp8rufBMFFzADvUXXliw==\"};","import OfferModal from './OfferModal/OfferModal'\r\nimport LimitOrder from './LimitOrder'\r\nimport WithdrawModal from './WithdrawModal/WithdrawModal'\r\nimport WithdrawModalMultisigUser from './WithdrawModalMultisig/WithdrawModalMultisigUser'\r\nimport PrivateKeysModal from './PrivateKeysModal/PrivateKeysModal'\r\nimport ReceiveModal from './ReceiveModal/ReceiveModal'\r\nimport DownloadModal from './DownloadModal/DownloadModal'\r\nimport DeclineOrdersModal from './DeclineOrdersModal/DeclineOrdersModal'\r\nimport IncompletedSwaps from './IncompletedSwaps/IncompletedSwaps'\r\nimport CurrencyAction from './CurrencyAction/CurrencyAction'\r\nimport Confirm from './Confirm/Confirm'\r\nimport ConfirmBeginSwap from './ConfirmBeginSwap/ConfirmBeginSwap'\r\nimport MultisignJoinLink from './MultisignJoinLink/MultisignJoinLink'\r\nimport InvoiceModal from './InvoiceModal/InvoiceModal'\r\nimport InvoiceLinkModal from './InvoiceLinkModal/InvoiceLinkModal'\r\nimport AlertModal from './Alert/AlertModal'\r\nimport AddCustomToken from './AddCustomToken'\r\nimport BtcMultisignSwitch from './BtcMultisignSwitch/BtcMultisignSwitch'\r\nimport ShareModal from './Share/Share'\r\nimport BtcMultisignConfirmTx from './BtcMultisignConfirmTx/BtcMultisignConfirmTx'\r\nimport SaveMnemonicModal from './SaveMnemonicModal/SaveMnemonicModal'\r\nimport RestoryMnemonicWallet from './RestoryMnemonicWallet/RestoryMnemonicWallet'\r\nimport HowToWithdrawModal from './HowToWithdrawModal/HowToWithdrawModal'\r\nimport InfoInvoice from './InfoInvoice/InfoInvoice'\r\n\r\nimport RegisterPINProtected from './RegisterPINProtected/RegisterPINProtected'\r\n\r\nimport WithdrawBtcPin from './WithdrawBtcPin/WithdrawBtcPin'\r\nimport WithdrawBtcMultisig from './WithdrawBtcMultisig/WithdrawBtcMultisig'\r\n\r\nimport WalletAddressModal from './WalletAddressModal/WalletAddressModal'\r\n\r\nimport AlertWindow from \"./AlertWindow\"\r\n\r\nimport ConnectWalletModal from './ConnectWalletModal/ConnectWalletModal'\r\nimport WalletConnectAccount from './WalletConnectAccount/WalletConnectAccount'\r\n\r\n// Shamir's Secret-Sharing for Mnemonic Codes\r\nimport ShamirsSecretRestory from './ShamirsSecretRestory/ShamirsSecretRestory'\r\nimport ShamirsSecretSave from './ShamirsSecretSave/ShamirsSecretSave'\r\nimport RestoreWalletSelectMethod from './RestoreWalletSelectMethod/RestoreWalletSelectMethod'\r\nimport SaveWalletSelectMethod from './SaveWalletSelectMethod/SaveWalletSelectMethod'\r\n\r\n// Referral Program\r\nimport ReferralProgramModal from './ReferralProgramModal/ReferralProgramModal'\r\n\r\nexport default {\r\n  DeclineOrdersModal,\r\n  ShareModal,\r\n  OfferModal,\r\n  LimitOrder,\r\n  WithdrawModal,\r\n  WithdrawModalMultisigUser, // Deprecated\r\n  PrivateKeysModal,\r\n  ReceiveModal,\r\n  DownloadModal,\r\n  IncompletedSwaps,\r\n  Confirm,\r\n  ConfirmBeginSwap,\r\n\r\n  MultisignJoinLink,\r\n  CurrencyAction,\r\n  InvoiceModal,\r\n  InvoiceLinkModal,\r\n  AlertModal,\r\n  AddCustomToken,\r\n  BtcMultisignSwitch,\r\n  BtcMultisignConfirmTx,\r\n\r\n  HowToWithdrawModal,\r\n  InfoInvoice,\r\n\r\n  RegisterPINProtected,\r\n  WithdrawBtcPin,\r\n\r\n  WalletAddressModal,\r\n\r\n  WithdrawBtcMultisig, \r\n\r\n  AlertWindow,\r\n\r\n  ConnectWalletModal,\r\n  WalletConnectAccount,\r\n\r\n  ShamirsSecretRestory,\r\n  ShamirsSecretSave,\r\n  RestoreWalletSelectMethod,\r\n  SaveWalletSelectMethod,\r\n  SaveMnemonicModal,\r\n  RestoryMnemonicWallet,\r\n  \r\n  ReferralProgramModal,\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'redaction'\r\nimport { getPageOffset } from 'helpers'\r\n\r\nimport Modals from 'components/modals'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './ModalConductor.scss'\r\n\r\n@connect({\r\n  modals: 'modals',\r\n})\r\n@cssModules(styles, { allowMultiple: true })\r\nexport default class ModalConductor extends Component<any, any> {\r\n\r\n  static propTypes = {\r\n    modals: PropTypes.object,\r\n  }\r\n\r\n  state = {\r\n    offsetTop: 0,\r\n  }\r\n\r\n  componentWillReceiveProps({ modals }) {\r\n    const { offsetTop } = this.state\r\n\r\n    const myOffsetTop = getPageOffset().y\r\n\r\n    // When modal is showing add overflow: hidden to body and padding-right: ${scrollWidth}\r\n    // to prevent screen from blinking\r\n    if (Object.keys(modals).length) {\r\n      if (myOffsetTop > 0) {\r\n        this.setState({\r\n          offsetTop: myOffsetTop,\r\n        })\r\n      }\r\n    }\r\n    else {\r\n      if (offsetTop > 0) {\r\n        window.scrollTo(0, offsetTop)\r\n\r\n        this.setState({\r\n          offsetTop: 0,\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { modals, history, dashboardView } = this.props\r\n\r\n    const modalNames = Object.keys(modals)\r\n    const highestZIndex = Object.values(modals)\r\n      //@ts-ignore \r\n      .map(i => i.zIndex)\r\n      .reduce((acc, i) => acc < i ? i : acc, 0)\r\n    const areModalsExist = Boolean(modalNames.length)\r\n\r\n    return areModalsExist && (\r\n      <div styleName={`${!dashboardView ? 'modalConductor' : 'modalDashboardConductor'}`}>\r\n        {\r\n          modalNames.map((key, index) => {\r\n            const { name, data = {}, zIndex } = modals[key]\r\n\r\n            if (zIndex === highestZIndex) {\r\n              return React.createElement(Modals[name], {\r\n                key: index,\r\n                name,\r\n                data,\r\n                history,\r\n                style: { zIndex },\r\n              })\r\n            }\r\n            return null\r\n          })\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"modalConductor\":\"nGkwbnc3Fmr+E-b2NQrYRA==\",\"modalDashboardConductor\":\"_92FSViyMGq9V0-e3YoWB9g==\"};","const getPageOffset = () => {\r\n  // isCSS1Compat for old browsers support like IE < 9,\r\n  // which do not have window.pageYOffset and window.scrollY\r\n  // For more info check https://developer.mozilla.org/ru/docs/Web/API/Window/scrollY\r\n  const isCSS1Compat = ((document.compatMode || '') === 'CSS1Compat')\r\n  const isSupportPageOffset = window.pageXOffset !== undefined\r\n\r\n  if (isSupportPageOffset) {\r\n\r\n    return {\r\n      x: window.pageXOffset,\r\n      y: window.pageYOffset,\r\n    }\r\n  }\r\n\r\n  return {\r\n    x: isCSS1Compat ? document.documentElement.scrollLeft : document.body.scrollLeft,\r\n    y: isCSS1Compat ? document.documentElement.scrollTop : document.body.scrollTop,\r\n  }\r\n}\r\n\r\n\r\nexport default getPageOffset\r\n","// extracted by mini-css-extract-plugin\nexport default {\"modalsCalled\":\"DBVZFBEIY87nGQZzu9Jp0w==\"};","import React from 'react'\r\nimport { connect } from 'redaction'\r\nimport { withRouter } from 'react-router-dom'\r\nimport cssModules from 'react-css-modules'\r\nimport cx from 'classnames'\r\n\r\nimport actions from 'redux/actions'\r\nimport ModalConductor from 'components/modal/ModalConductor/ModalConductor'\r\nimport styles from './styles.scss'\r\n\r\n\r\nconst ModalConductorProvider = ({ children, history, modals, ...props }) => {\r\n  const isAnyModalCalled = Object.keys(modals).length\r\n\r\n  const hiestZ = Object.values(modals).reduce(\r\n    //@ts-ignore\r\n    (acc, i) => (acc > i.zIndex ? acc : i.zIndex),\r\n    -1\r\n  )\r\n  const upperModal = Object.keys(modals)[\r\n    //@ts-ignore \r\n    Object.values(modals).findIndex((i) => i.zIndex === hiestZ)\r\n  ]\r\n\r\n  let isModalOpenedHelper = false\r\n  const handleClick = (e) => {\r\n    if (!isModalOpenedHelper && isAnyModalCalled) {\r\n      return (isModalOpenedHelper = true)\r\n    }\r\n\r\n    if (\r\n      !(\r\n        e.target.closest('.__modalConductorProvided__') !== null ||\r\n        e.target.closest('.data-tut-all-balance') !== null\r\n      ) &&\r\n      document.body.contains(e.target) &&\r\n      isModalOpenedHelper\r\n    ) {\r\n      isModalOpenedHelper = false\r\n      window.removeEventListener('click', handleClick)\r\n      setTimeout(() => {\r\n        // actions.modals.close(`${upperModal}`)\r\n      }, 1)\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if (isAnyModalCalled) {\r\n      window.removeEventListener('click', handleClick)\r\n      window.addEventListener('click', handleClick)\r\n    }\r\n    return () => {\r\n      window.removeEventListener('click', handleClick)\r\n    }\r\n  })\r\n\r\n  return (\r\n    <div\r\n      className={cx({\r\n        __modalConductorProvided__: true,\r\n        [styles.modalsCalled]: isAnyModalCalled,\r\n      })}\r\n    >\r\n      {isAnyModalCalled ? (\r\n        <ModalConductor dashboardView history={history} />\r\n      ) : (\r\n        children\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default connect(({ modals, ui: { dashboardModalsAllowed } }) => ({\r\n  modals,\r\n  dashboardView: dashboardModalsAllowed,\r\n}))(\r\n  withRouter(\r\n    //@ts-ignore \r\n    cssModules(ModalConductorProvider, styles, { allowMultiple: true })\r\n  )\r\n)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"modalContainer\":\"FIKpUDGQSWfDvn7MTjlHng==\",\"fullWidth\":\"ALe2VHjADIN8R5lABwY6-Q==\",\"mounted\":\"D5ZCqWEg2ON7yX8dBBuZPg==\"};","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport cx from 'classnames'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './ModalContainer.scss'\r\n\r\nimport Overlay from 'components/layout/Overlay/Overlay'\r\nimport Center from 'components/layout/Center/Center'\r\n\r\n\r\n@cssModules(styles, { allowMultiple: true })\r\nexport default class ModalContainer extends Component<any, any> {\r\n\r\n  static propTypes = {\r\n    children: PropTypes.any.isRequired,\r\n    fullWidth: PropTypes.bool,\r\n    disableClose: PropTypes.bool,\r\n    onClose: PropTypes.func.isRequired,\r\n  }\r\n\r\n  handleMount = (el) => {\r\n    if (el) {\r\n      setTimeout(() => {\r\n        el.classList.add(styles.mounted)\r\n      }, 0)\r\n    }\r\n  }\r\n\r\n  close = () => {\r\n    const { disableClose, onClose } = this.props\r\n\r\n    if (!disableClose) {\r\n      onClose()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { children, fullWidth } = this.props\r\n\r\n    // TODO move overflow to Modal from Center\r\n    const modalContainerStyleName = cx('modalContainer', {\r\n      'fullWidth': fullWidth,\r\n    })\r\n\r\n    return (\r\n      //@ts-ignore \r\n      <Overlay>\r\n        {/*\r\n        //@ts-ignore */}\r\n        <Center scrollable>\r\n          <div\r\n            styleName={modalContainerStyleName}\r\n            ref={this.handleMount}\r\n          >\r\n            {children}\r\n          </div>\r\n        </Center>\r\n      </Overlay>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './ModalBox.scss'\r\n\r\nimport CloseIcon from 'components/ui/CloseIcon/CloseIcon'\r\nimport WidthContainer from 'components/layout/WidthContainer/WidthContainer'\r\n\r\n@cssModules(styles, { allowMultiple: true })\r\nexport default class ModalBox extends Component<any, any> {\r\n  static propTypes = {\r\n    children: PropTypes.node,\r\n    title: PropTypes.any,\r\n    onClose: PropTypes.func,\r\n    whiteLogo: PropTypes.bool,\r\n    showLogo: PropTypes.bool,\r\n  }\r\n\r\n  static defaultProps = {\r\n    showLogo: true,\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      title,\r\n      children,\r\n      onClose,\r\n    } = this.props\r\n\r\n\r\n    return (\r\n      <div styleName=\"modal-box\">\r\n        <div styleName=\"header\">\r\n          {/*\r\n          //@ts-ignore */}\r\n          <WidthContainer styleName=\"headerContent\">\r\n            <div styleName=\"title\">{title}</div>\r\n\r\n            <CloseIcon id=\"modalCloseButton\" styleName=\"closeButton\" onClick={onClose} />\r\n          </WidthContainer>\r\n        </div>\r\n        <div styleName=\"contentContainer\">\r\n          <div styleName=\"content\">\r\n            {children}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"modal-box\":\"DAfcqVthbu8vLJ3v3Zp02g==\",\"header\":\"LL5W1LD65rEadJEX38aACg==\",\"headerContent\":\"v7b3cReVZTjXfNDC+SQJ6w==\",\"title\":\"RCMBoF+tTOSjTMKYUo76lw==\",\"uppercase\":\"nNdYzmMuu2Uc7a66Dp5yrQ==\",\"closeButton\":\"p54LOnpKdY+87mSMQ9DI+Q==\",\"delayClose\":\"YpOOBNgBVm9B+tBk8zUqyA==\",\"contentContainer\":\"HrGpdNq6X64HbB1XkghemQ==\",\"content\":\"NTJj+92AzzJP+n+YwGizfg==\"};","import React, { ReactNode } from 'react'\r\nimport cssModules from 'react-css-modules'\r\nimport { isMobile } from 'react-device-detect'\r\nimport cx from 'classnames'\r\nimport styles from './styles.scss'\r\nimport FAQ from 'components/FAQ/FAQ'\r\nimport { ModalConductorProvider } from 'components/modal'\r\n\r\ntype ComponentProps = {\r\n  page: 'history' | 'invoices'\r\n  children?: ReactNode\r\n  BalanceForm: ReactNode\r\n}\r\n\r\nconst DashboardLayout = (props: ComponentProps) => {\r\n  const { children, page } = props\r\n\r\n  const balanceRef = React.useRef(null) // Create a ref object\r\n\r\n  let activeView = 0\r\n\r\n  if (page === 'history' && !isMobile) {\r\n    activeView = 1\r\n  }\r\n  if (page === 'invoices') activeView = 2\r\n\r\n  return (\r\n    <article className=\"data-tut-start-widget-tour\">\r\n      {window.CUSTOM_LOGO && <img className=\"cutomLogo\" src={window.CUSTOM_LOGO} alt=\"logo\" />}\r\n      <section\r\n        styleName={`wallet ${window.CUSTOM_LOGO ? 'hasCusomLogo' : ''}`}\r\n      >\r\n        <div className=\"data-tut-store\" styleName=\"walletContent\" ref={balanceRef}>\r\n          <div styleName=\"walletBalance\">\r\n            {props.BalanceForm}\r\n\r\n            <div\r\n              className={cx({\r\n                [styles.desktopEnabledViewForFaq]: true,\r\n                [styles.faqWrapper]: true,\r\n              })}\r\n            >\r\n              <FAQ />\r\n            </div>\r\n          </div>\r\n          <div\r\n            styleName={cx({\r\n              yourAssetsWrapper: activeView === 0,\r\n              activity: activeView === 1 || activeView === 2,\r\n              active: true,\r\n            })}\r\n          >\r\n            <ModalConductorProvider>{children}</ModalConductorProvider>\r\n          </div>\r\n          <div\r\n            className={cx({\r\n              [styles.mobileEnabledViewForFaq]: true,\r\n              [styles.faqWrapper]: true,\r\n            })}\r\n          >\r\n            <FAQ />\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </article>\r\n  )\r\n}\r\n\r\nexport default cssModules(DashboardLayout, styles, { allowMultiple: true })\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wallet\":\"CdKkSMHa8gjUFjdEmy5C8g==\",\"btc\":\"_77om7CSQaL16YO45ZVdmnA==\",\"walletTable\":\"k-ExeVrnranmMC+VgUQ5uA==\",\"btns\":\"wYQlk8w7tZcnUoipCpifuA==\",\"yourAssets\":\"sLNfjKyyzAz1gr8PA+-+3A==\",\"yourAssetsHeading\":\"_0qPUGUNxzHA-SYvvzz+CXA==\",\"yourAssetsDescr\":\"bvgpB07zbQ6D6Fu0RFB1tQ==\",\"yourBalance\":\"_1yyb8hVo5G-PFoqd1uDSGQ==\",\"multisigWaitCount\":\"fpCbqzdBcAHV+g-eDbQcsg==\",\"yourBalanceTop\":\"zzze41N9f0kb0cDKO43gKA==\",\"yourBalanceDescr\":\"TlhJnpeMCCHlyzD0Ib8MOQ==\",\"yourBalanceValue\":\"FnZsfRzteWUYwqikx1-9hg==\",\"loaderHolder\":\"rAdZIjF8uU8GjkvlszovkA==\",\"yourBalanceBottomWrapper\":\"+YberBc-VZ+aR9Rnn26iHg==\",\"yourBalanceBottom\":\"fU9acClI1NJKQgVYcpGOkQ==\",\"button__invoice\":\"EdvlrTQCYrJVhxeTJDTRiA==\",\"yourBalanceCurrencies\":\"_3Tf20JfSy3ctuwnwnjGcoQ==\",\"separator\":\"QxIsvO4Am1L3u4lgUaxOvw==\",\"active\":\"M85hFySUEeKR6K4iKanK3Q==\",\"widgetBuild\":\"zbAjDj1SrWMMFNKAKUZdCA==\",\"addCurrencyBtnWrapper\":\"gMZRb5GLaJAJOUKcTOo8qw==\",\"walletBalance\":\"O-Gd69nJ2ih2EAIsnbGH0w==\",\"alertTooltipWrapper\":\"Dc9mgROiV5XgDJDifCq2VA==\"};","export default __webpack_public_path__ + \"images/dollar_ab7bbc.svg\";","export default __webpack_public_path__ + \"images/btcIcon_e74899.svg\";","import { useState, useEffect } from 'react'\r\nimport CSSModules from 'react-css-modules'\r\nimport actions from 'redux/actions'\r\nimport cx from 'classnames'\r\n\r\nimport styles from 'pages/Wallet/Wallet.scss'\r\nimport Button from 'components/controls/Button/Button'\r\nimport InlineLoader from 'components/loaders/InlineLoader/InlineLoader'\r\nimport { BigNumber } from 'bignumber.js'\r\nimport config from 'helpers/externalConfig'\r\nimport metamask from 'helpers/metamask'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport dollar from './images/dollar.svg'\r\nimport btc from './images/btcIcon.svg'\r\n\r\nconst BalanceForm = function ({\r\n  activeFiat,\r\n  activeCurrency,\r\n  fiatBalance,\r\n  currencyBalance,\r\n  handleReceive,\r\n  handleWithdraw,\r\n  currency,\r\n  currencyView = false,\r\n  handleInvoice = () => {},\r\n  isFetching = false,\r\n  showButtons = true,\r\n  type,\r\n  singleWallet = false,\r\n  multisigPendingCount = 10,\r\n}) {\r\n  const [selectedCurrency, setActiveCurrency] = useState(activeCurrency)\r\n  const isWidgetBuild = config && config.isWidget\r\n\r\n  useEffect(() => {\r\n    if (type === 'wallet' && activeCurrency !== activeFiat.toLowerCase()) {\r\n      setActiveCurrency('btc')\r\n    } else {\r\n      setActiveCurrency(activeCurrency)\r\n    }\r\n  }, [activeCurrency])\r\n\r\n  const active = activeFiat ? activeFiat.toLowerCase() : 'usd'\r\n\r\n  // @ToDo\r\n  //  Data     isUserProtected  isSMSProtected\r\n  //    ,    \"\"  \r\n  // Use flags in currency data (isUserProtected and isSMSProtected)\r\n  // eslint-disable-next-line default-case\r\n  switch (currency) {\r\n    case 'btc (multisig)':\r\n    case 'btc (pin-protected)':\r\n      currency = 'BTC'\r\n      break\r\n  }\r\n\r\n  const handleClickCurrency = (currency) => {\r\n    setActiveCurrency(currency)\r\n    actions.user.pullActiveCurrency(currency)\r\n  }\r\n\r\n  const handleGoToMultisig = () => {\r\n    actions.multisigTx.goToLastWallet()\r\n  }\r\n\r\n  const buttonsDisabled = !((config.opts.ui.disableInternalWallet && metamask.isConnected()) || !config.opts.ui.disableInternalWallet)\r\n\r\n  const sendButtonDisabled = !currencyBalance || buttonsDisabled\r\n\r\n  return (\r\n    <div\r\n      styleName={\r\n        `${isWidgetBuild && !config.isFullBuild ? 'yourBalance widgetBuild' : 'yourBalance'}`\r\n      }\r\n    >\r\n      <div styleName=\"yourBalanceTop\" className=\"data-tut-widget-balance\">\r\n        <p styleName=\"yourBalanceDescr\">\r\n          {singleWallet\r\n            ? <FormattedMessage id=\"YourWalletbalance\" defaultMessage=\"Balance\" />\r\n            : <FormattedMessage id=\"Yourtotalbalance\" defaultMessage=\"  \" />}\r\n        </p>\r\n        <div styleName=\"yourBalanceValue\">\r\n          {isFetching && (\r\n            <div styleName=\"loaderHolder\">\r\n              <InlineLoader />\r\n            </div>\r\n          )}\r\n          {selectedCurrency === active ? (\r\n            // eslint-disable-next-line no-restricted-globals\r\n            <p>\r\n              {(activeFiat === 'USD' || activeFiat === 'CAD') && <img src={dollar} alt=\"dollar\" />}\r\n              {\r\n                // eslint-disable-next-line no-restricted-globals\r\n                !isNaN(fiatBalance) ? new BigNumber(fiatBalance).dp(2, BigNumber.ROUND_FLOOR).toString() : ''\r\n              }\r\n            </p>\r\n          ) : (\r\n            <p className=\"data-tut-all-balance\">\r\n              {currency.toUpperCase() === 'BTC' ? <img src={btc} alt=\"btc\" /> : ''}\r\n              {new BigNumber(currencyBalance).dp(6, BigNumber.ROUND_FLOOR).toString()}\r\n            </p>\r\n          )}\r\n        </div>\r\n        <div styleName=\"yourBalanceCurrencies\">\r\n          <button\r\n            type=\"button\"\r\n            styleName={selectedCurrency === active ? 'active' : undefined}\r\n            onClick={() => handleClickCurrency(active)}\r\n          >\r\n            {active}\r\n          </button>\r\n          <span styleName=\"separator\" />\r\n          <button\r\n            type=\"button\"\r\n            styleName={selectedCurrency === currency ? 'active' : undefined}\r\n            onClick={() => handleClickCurrency(currency)}\r\n          >\r\n            {currencyView || currency}\r\n          </button>\r\n        </div>\r\n      </div>\r\n      {multisigPendingCount > 0 && (\r\n        <div onClick={handleGoToMultisig}>\r\n          <p styleName=\"multisigWaitCount\">\r\n            <FormattedMessage\r\n              id=\"Balance_YouAreHaveNotSignegTx\"\r\n              defaultMessage=\"{count} transaction needs your confirmation\"\r\n              values={{\r\n                count: multisigPendingCount,\r\n              }}\r\n            />\r\n          </p>\r\n        </div>\r\n      )}\r\n      <div\r\n        className={cx({\r\n          [styles.yourBalanceBottomWrapper]: true,\r\n        })}\r\n      >\r\n        <div styleName=\"yourBalanceBottom\">\r\n          {showButtons ? (\r\n            <div styleName=\"btns\" className=\"data-tut-withdraw-buttons\">\r\n              <Button blue disabled={buttonsDisabled} id=\"depositBtn\" onClick={() => handleReceive('Deposit')}>\r\n                <FormattedMessage id=\"YourtotalbalanceDeposit\" defaultMessage=\"\" />\r\n              </Button>\r\n              <Button blue disabled={sendButtonDisabled} id={!sendButtonDisabled ? 'sendBtn' : ''} onClick={() => handleWithdraw('Send')}>\r\n                <FormattedMessage id=\"YourtotalbalanceSend\" defaultMessage=\"\" />\r\n              </Button>\r\n            </div>\r\n          ) : (\r\n            <Button blue disabled={!currencyBalance} styleName=\"button__invoice\" onClick={handleInvoice}>\r\n              <FormattedMessage id=\"RequestPayment\" defaultMessage=\"\" />\r\n            </Button>\r\n          )}\r\n        </div>\r\n        {/*\r\n        {!singleWallet && config.opts.plugins.ReferralEnabled && (\r\n          <div styleName=\"yourBalanceBottom\">\r\n            <Button blue styleName=\"button__invoice\" onClick={() => {}}>\r\n              <FormattedMessage id=\"ReferralSystemButton\" defaultMessage=\"Referral Program\" />\r\n            </Button>\r\n          </div>\r\n        )}\r\n        */}\r\n      </div>\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CSSModules(BalanceForm, styles, { allowMultiple: true })\r\n","export default __webpack_public_path__ + \"images/security_740935.svg\";","// extracted by mini-css-extract-plugin\nexport default {\"notifyBlock\":\"SrfPLik31heojsvFgVMrhw==\",\"notifyBlockIcon\":\"OVfxIioN67LjFkuim5ssRg==\",\"notifyBlockOverlay\":\"rUeyVZc1UFOlJHu9n4CFTQ==\",\"notifyBlockDescr\":\"WS9Ki2DN0G3hmlvfau4F7Q==\",\"bannersHeading\":\"_0rhbRJepfSKW8ymQldNK5w==\",\"swiperContainer\":\"_2P+taLFsz1YKicjAS17nlQ==\"};","import React from 'react'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './NotifyBlock.scss'\r\nimport feedback from 'shared/helpers/feedback'\r\n\r\n\r\ninterface INotifyBlockProps {\r\n  className?: string\r\n  background: string\r\n  icon?: string\r\n  text: JSX.Element | string\r\n  feedbackText?: string\r\n  onPress?: () => void\r\n  link?: string\r\n}\r\n\r\nconst NotifyBlock = (props: INotifyBlockProps & RouteComponentProps) => {\r\n  const {\r\n    className,\r\n    icon,\r\n    text,\r\n    onPress,\r\n    background,\r\n    link,\r\n    feedbackText,\r\n    history,\r\n  } = props\r\n\r\n  const handleClick = () => {\r\n    onPress && onPress()\r\n\r\n    if (link && link.includes('http')) {\r\n      window.location.href = link\r\n    } else {\r\n      if (link) {\r\n        history.push(link)\r\n      }\r\n    }\r\n\r\n    const textToSend = feedbackText || text\r\n    feedback.wallet.clickedBanner(textToSend)\r\n  }\r\n\r\n  const backGroundStyle = { background: `#${background}` }\r\n  const backGroundImgStyle = { backgroundImage: `url(${background})` }\r\n  const style = background && background.length < 7 ? backGroundStyle : backGroundImgStyle\r\n\r\n  return (\r\n    <div styleName=\"notifyBlock\" style={style} onClick={handleClick}>\r\n      {background && background.length > 7 ? <div styleName=\"notifyBlockOverlay\" /> : ''}\r\n      <div>\r\n        <div styleName=\"notifyBlockIcon\">\r\n          <img src={icon} alt=\"\" />\r\n        </div>\r\n        <div styleName=\"notifyBlockDescr\">\r\n          <span>{text}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default withRouter(CSSModules(NotifyBlock, styles, { allowMultiple: true }))\r\n","import * as React from 'react'\r\n\r\nimport { connect } from 'redaction'\r\n\r\nimport Swiper from 'swiper'\r\nimport 'swiper/css/bundle'\r\nimport config from 'helpers/externalConfig'\r\n\r\nimport { constants, getItezUrl } from 'helpers'\r\nimport actions from 'redux/actions'\r\nimport axios from 'axios'\r\nimport security from '../images/security.svg'\r\nimport styles from '../NotityBlock/NotifyBlock.scss'\r\nimport NotifyBlock from '../NotityBlock/NotifyBlock'\r\nimport ContentLoader from 'components/loaders/ContentLoader/ContentLoader'\r\nimport { FormattedMessage, injectIntl } from 'react-intl'\r\nimport linksManager from 'helpers/links'\r\n\r\n\r\nconst disableInternalWallet = (config?.opts?.ui?.disableInternalWallet) ? true : false\r\n\r\ntype WallerSliderProps = {\r\n  intl?: { [key: string]: any }\r\n  user?: { [key: string]: any }\r\n  multisigPendingCount: number\r\n}\r\n\r\ntype WallerSliderState = {\r\n  mnemonicDeleted: boolean\r\n  isFetching: boolean\r\n  metamaskConnected: boolean\r\n  banners?: any[]\r\n}\r\n\r\n@connect(({ user }) => ({ user }))\r\nclass WallerSlider extends React.Component<WallerSliderProps, WallerSliderState> {\r\n  _mounted = false\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\r\n    const mnemonicDeleted = mnemonic === '-'\r\n    this.state = {\r\n      mnemonicDeleted,\r\n      isFetching: false,\r\n      metamaskConnected: false,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this._mounted = true\r\n    this.getBanners()\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._mounted = false\r\n  }\r\n\r\n  initBanners = () => {\r\n    let starterSwiper = new Swiper('#swiper_banners', {\r\n      spaceBetween: 10,\r\n      slidesPerView: 4,\r\n      // centeredSlides: true,\r\n      // loop: true,\r\n      // Responsive breakpoints\r\n      breakpoints: {\r\n        480: {\r\n          slidesPerView: 3,\r\n        },\r\n        // when window width is >= 640px\r\n        640: {\r\n          slidesPerView: 3,\r\n          spaceBetween: 20,\r\n        },\r\n      },\r\n    })\r\n  }\r\n\r\n  processItezBanner = (inBanners) => {\r\n    const {\r\n      user,\r\n      //@ts-ignore: strictNullChecks\r\n      intl: { locale: intlLocale },\r\n    } = this.props\r\n\r\n    let locale = intlLocale\r\n\r\n    if (!locale) locale = `en`\r\n\r\n    const oldItezUrl = 'https://itez.swaponline.io/'\r\n    const newItezUrl = 'https://buy.itez.com/swaponline/'\r\n\r\n    const banners = inBanners\r\n      .map((el) => {\r\n        let bannerUrl = el[4]\r\n        if (bannerUrl.includes(oldItezUrl)) {\r\n          bannerUrl = bannerUrl.replace(oldItezUrl, newItezUrl)\r\n          const bannerArr = [...el]\r\n          bannerArr.splice(4, 1, getItezUrl({ user, locale, url: bannerUrl }))\r\n\r\n          return bannerArr\r\n        }\r\n        return el\r\n      })\r\n      .filter((el) => el && el.length)\r\n    return banners\r\n  }\r\n\r\n  getBanners = () => {\r\n    if (\r\n      window &&\r\n      window.bannersOnMainPage !== undefined\r\n    ) {\r\n      //  ,     index.html (   )\r\n      const widgetBanners = window.bannersOnMainPage.length ? window.bannersOnMainPage : []\r\n\r\n      if (!this._mounted) return\r\n\r\n      this.setState(\r\n        () => ({\r\n          banners: this.processItezBanner(widgetBanners).filter((el) => el && el.length),\r\n          isFetching: true,\r\n        }),\r\n        () => this.initBanners()\r\n      )\r\n    } else {\r\n      try {\r\n        const bannersSource = config.opts.ui.bannersSource\r\n        return axios\r\n          .get(bannersSource)\r\n          .then(({ data }) => {\r\n            const banners = this.processItezBanner(data).filter((el) => el && el.length)\r\n\r\n            if (!this._mounted) return\r\n\r\n            this.setState(\r\n              () => ({\r\n                banners,\r\n                isFetching: true,\r\n              }),\r\n              () => this.initBanners()\r\n            )\r\n          })\r\n          .catch((error) => {\r\n            console.error('getBanners:', error)\r\n          })\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n    }\r\n    return null\r\n  }\r\n\r\n  handleShowKeys = () => {\r\n    actions.modals.open(constants.modals.DownloadModal)\r\n  }\r\n\r\n  handleSaveKeys = () => {\r\n    actions.modals.open(constants.modals.PrivateKeys)\r\n  }\r\n\r\n  handleShowMnemonic = () => {\r\n    //@ts-ignore: strictNullChecks\r\n    actions.modals.open(constants.modals.SaveWalletSelectMethod, {\r\n      onClose: () => {\r\n        const mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\r\n        const mnemonicDeleted = mnemonic === '-'\r\n        this.setState({\r\n          mnemonicDeleted,\r\n        })\r\n      },\r\n    })\r\n  }\r\n  handleReferralProgram = () => {\r\n    actions.modals.open(constants.modals.ReferralProgramModal)\r\n  }\r\n  \r\n  handleGoToMultisigRequest = () => {\r\n    actions.multisigTx.goToLastWallet()\r\n  }\r\n\r\n  render() {\r\n    const { mnemonicDeleted, banners } = this.state\r\n    const { multisigPendingCount } = this.props\r\n\r\n    const isPrivateKeysSaved = localStorage.getItem(constants.localStorage.privateKeysSaved)\r\n\r\n    const needSignMultisig = (\r\n      <FormattedMessage\r\n        id=\"Banner_YouAreHaveNotSignegTx\"\r\n        defaultMessage=\"{count} multisig transaction is waiting for your confirmation\"\r\n        values={{\r\n          count: multisigPendingCount,\r\n        }}\r\n      />\r\n    )\r\n\r\n    return window.location.hash !== linksManager.hashHome ? null : (\r\n      <div className=\"data-tut-banners\">\r\n        <h3 className={`${styles.bannersHeading}`}>\r\n          <FormattedMessage id=\"ForYou\" defaultMessage=\"For you\" />\r\n          <button style={{display: 'none'}} onClick={this.handleReferralProgram}>[RP]</button>\r\n        </h3>\r\n        {!this.state.isFetching ? (\r\n          //@ts-ignore\r\n          <ContentLoader banners />\r\n        ) : (\r\n          <div\r\n            id=\"swiper_banners\"\r\n            className={`swiper ${styles.swiperContainer}`}\r\n            style={{ marginTop: '20px', marginBottom: '30px', overflow: 'hidden' }}\r\n          >\r\n            <div className=\"swiper-wrapper\">\r\n              {config.opts.plugins.ReferralEnabled && (\r\n                <div className=\"swiper-slide\">\r\n                  <NotifyBlock\r\n                    className=\"notifyIncomeRequest\"\r\n                    background=\"129218\"\r\n                    text={`Referral Program`}\r\n                    feedbackText={`Earn coins`}\r\n                    onPress={this.handleReferralProgram}\r\n                  />\r\n                </div>\r\n              )}\r\n              {multisigPendingCount > 0 && (\r\n                <div className=\"swiper-slide\">\r\n                  <NotifyBlock\r\n                    className=\"notifyIncomeRequest\"\r\n                    background=\"129218\"\r\n                    text={needSignMultisig}\r\n                    feedbackText={`BTC multisig`}\r\n                    onPress={this.handleGoToMultisigRequest}\r\n                  />\r\n                </div>\r\n              )}\r\n              {!isPrivateKeysSaved && !mnemonicDeleted && !disableInternalWallet && (\r\n                <div className=\"swiper-slide\">\r\n                  <NotifyBlock\r\n                    className=\"notifyBlockSaveKeys\"\r\n                    icon={security}\r\n                    text={\r\n                      <FormattedMessage\r\n                        id=\"ShowMyMnemonic_copy\"\r\n                        defaultMessage=\"Please backup your wallet\"\r\n                      />\r\n                    }\r\n                    feedbackText={`Save mnemonic`}\r\n                    onPress={mnemonicDeleted ? this.handleShowKeys : this.handleShowMnemonic}\r\n                  />\r\n                </div>\r\n              )}\r\n              {banners &&\r\n                banners.length > 0 &&\r\n                banners.map((banner, index) => (\r\n                  <div key={index} className=\"swiper-slide\">\r\n                    <NotifyBlock\r\n                      background={`${banner[3]}`}\r\n                      icon={banner[5]}\r\n                      text={banner[2]}\r\n                      link={banner[4]}\r\n                    />\r\n                  </div>\r\n                ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(WallerSlider)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"txWaitConfirm\":\"_4cMxXiyfFdHcI82IHVp1ag==\",\"nameRow\":\"F0vjzfRhK2I1zo+ISk-WeQ==\",\"linkToHistory\":\"vOiQpGZDRaWLLi8l2iatpg==\",\"desktop\":\"ae-+RAxHKQFsS6b8U3KEUQ==\",\"mobile\":\"khMb-fwwBTnsKe+YLTHQsw==\",\"tokenStandard\":\"_8kBTLYqorX8eHq571rzZKw==\",\"cryptoBalanceBtn\":\"Ak92NtL539buWUmv3UrxZg==\",\"icon\":\"ifVgJMz8L+0EP-3Va5VvAA==\",\"assetsTableRow\":\"oAx+LzcUt1ePD-VIqtJzAg==\",\"assetsTableCurrency\":\"U4iZ74xZ1gq18iZNL5SxrQ==\",\"assetsTableIcon\":\"_1B+cowcXudH1ysPEMsP0Hg==\",\"web3ProviderIcon\":\"rn3bvvuEVezcP7yrt8ChLQ==\",\"assetsTableCurrencyWrapper\":\"yUZdHUycVaAjbFCcaliihw==\",\"assetsTableCurrencyBalance\":\"NpYKgmJTISWhKwf9PdNeZw==\",\"addressStyle\":\"fRpQyeoyp3VHCruyYSNm3g==\",\"showAddressStyle\":\"_2f9v2w8PmoAsutMMmmHAkA==\",\"statusStyle\":\"lzrqwgZPl6VGZoZfoXGulg==\",\"assetsTableValue\":\"bkLB5gcsR9w2uZphWCbTBA==\",\"errorMessage\":\"at2NPLDYVsHeJIPhAVeZHg==\",\"assetsTableInfo\":\"+KAWZ-9qbWfCgj6SxUegCw==\",\"unconfirmedBalance\":\"_9XU0yE4+3iMrUZSvuKzdaA==\",\"assetsTableDots\":\"k+SpUV0mGQnZVg6aWq0kFA==\",\"loader\":\"nfCZQqx4RHACd7kMeDsAxw==\"};","import { Component, Fragment } from 'react'\r\nimport actions from 'redux/actions'\r\nimport { connect } from 'redaction'\r\nimport erc20Like from 'common/erc20Like'\r\nimport { constants, metamask, utils, externalConfig } from 'helpers'\r\nimport config from 'helpers/externalConfig'\r\nimport { isMobile } from 'react-device-detect'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './Row.scss'\r\nimport Coin from 'components/Coin/Coin'\r\nimport InlineLoader from 'components/loaders/InlineLoader/InlineLoader'\r\nimport DropdownMenu from 'components/ui/DropdownMenu/DropdownMenu'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\r\nimport { localisedUrl } from 'helpers/locale'\r\nimport { BigNumber } from 'bignumber.js'\r\nimport { Button } from 'components/controls'\r\nimport PartOfAddress from '../PartOfAddress'\r\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\r\nimport { ApiEndpoint } from '../Endpoints'\r\nimport Copy from 'components/ui/Copy/Copy'\r\n\r\ntype RowProps = {\r\n  // from component\r\n  currency: IUniversalObj\r\n  itemData: IUniversalObj\r\n  // from store\r\n  activeFiat?: string\r\n  ethDataHelper?: {\r\n    address: string\r\n    privateKey: string\r\n  }\r\n  history?: IUniversalObj\r\n  intl?: IUniversalObj\r\n  multisigStatus?: any\r\n}\r\n\r\ntype RowState = {\r\n  isBalanceFetching: boolean\r\n  isBalanceEmpty: boolean\r\n  isDropdownOpen: boolean\r\n  isToken: boolean\r\n  reduxActionName: string\r\n}\r\n\r\nconst langLabels = defineMessages({\r\n  unconfirmedBalance: {\r\n    id: 'RowWallet181',\r\n    defaultMessage: `Unconfirmed balance`,\r\n  },\r\n  msConfirmCount: {\r\n    id: 'RowWallet_MsConfirmCountMobile',\r\n    defaultMessage: `{count} tx wait your confirm`,\r\n  },\r\n})\r\n\r\n@withRouter\r\n@connect(\r\n  (\r\n    {\r\n      user: {\r\n        activeFiat,\r\n        ethData: {\r\n          address,\r\n          privateKey,\r\n        },\r\n        multisigStatus,\r\n      }\r\n    }\r\n  ) => ({\r\n    activeFiat,\r\n    multisigStatus,\r\n    ethDataHelper: {\r\n      address,\r\n      privateKey,\r\n    },\r\n  })\r\n)\r\n@cssModules(styles, { allowMultiple: true })\r\nclass Row extends Component<RowProps, RowState> {\r\n  constructor(props) {\r\n    super(props)\r\n    \r\n    const { currency, itemData } = props\r\n    const currencyName = currency.currency\r\n    const isToken = erc20Like.isToken({ name: currencyName })\r\n    const reduxActionName = itemData.standard || currencyName.toLowerCase()\r\n\r\n    this.state = {\r\n      isBalanceFetching: false,\r\n      isBalanceEmpty: true,\r\n      isDropdownOpen: false,\r\n      isToken,\r\n      reduxActionName,\r\n    }\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { balance } = this.props.itemData\r\n\r\n    this.setState({\r\n      isBalanceEmpty: balance === 0,\r\n    })\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const {\r\n      itemData: { \r\n        balance: prevBalance\r\n      }\r\n    } = prevProps\r\n\r\n    const {\r\n      itemData: { \r\n        currency, \r\n        balance \r\n      }\r\n    } = this.props\r\n\r\n    if (balance > 0) {\r\n      actions.analytics.balanceEvent({ action: 'have', currency, balance })\r\n    }\r\n\r\n    if (prevBalance !== balance) {\r\n      this.setState({\r\n        isBalanceEmpty: balance === 0,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleReloadBalance = () => {\r\n    const {\r\n      isBalanceFetching,\r\n      isToken,\r\n      reduxActionName,\r\n    } = this.state\r\n    const {\r\n      itemData: {\r\n        isMetamask,\r\n        isConnected,\r\n      }\r\n    } = this.props\r\n\r\n    if (isBalanceFetching) {\r\n      return null\r\n    }\r\n\r\n    if (isMetamask && !isConnected ) {\r\n      this.setState({\r\n        isBalanceFetching: true,\r\n      }, () => {\r\n        setTimeout(() => {\r\n          this.setState({isBalanceFetching: false})\r\n        }, 500)\r\n      })\r\n      return null\r\n    }\r\n\r\n    this.setState({\r\n      isBalanceFetching: true,\r\n    }, () => {\r\n      // here is timeout for the impression of the balance request\r\n      setTimeout(async () => {\r\n        const {\r\n          itemData: { currency, address },\r\n        } = this.props\r\n        switch (currency) {\r\n          case 'BTC (SMS-Protected)':\r\n            await actions.btcmultisig.getBalance()\r\n            break\r\n          case 'BTC (Multisig)':\r\n            await actions.btcmultisig.getBalanceUser(address)\r\n            break\r\n          case 'BTC (PIN-Protected)':\r\n            await actions.btcmultisig.getBalancePin()\r\n            break\r\n          default:\r\n            if (isMetamask && !isToken && metamask.isAvailableNetwork()) {\r\n              await metamask.getBalance()\r\n            } else {\r\n              await actions[reduxActionName].getBalance(currency)\r\n            }\r\n        }\r\n\r\n        this.setState(() => ({\r\n          isBalanceFetching: false,\r\n        }))\r\n      }, 250)\r\n    })\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    const getComparableProps = ({ itemData, index, selectId }) => ({\r\n      itemData,\r\n      index,\r\n      selectId,\r\n    })\r\n    return (\r\n      JSON.stringify({\r\n        ...getComparableProps(nextProps),\r\n        ...nextState,\r\n      }) !==\r\n      JSON.stringify({\r\n        //@ts-ignore\r\n        ...getComparableProps(this.props),\r\n        ...this.state,\r\n      })\r\n    )\r\n  }\r\n\r\n  handleWithdrawPopup = () => {\r\n    const {\r\n      itemData\r\n    } = this.props\r\n\r\n    actions.modals.open(constants.modals.Withdraw, itemData)\r\n  }\r\n\r\n  handleWithdraw = () => {\r\n    const {\r\n      itemData,\r\n      history,\r\n      intl\r\n    } = this.props\r\n\r\n    if (itemData.currency.toLowerCase() === 'ghost') {\r\n      this.handleWithdrawPopup()\r\n      return\r\n    }\r\n\r\n    if (itemData.currency.toLowerCase() === 'next') {\r\n      this.handleWithdrawPopup()\r\n      return\r\n    }\r\n\r\n    let targetCurrency = itemData.currency\r\n    switch (itemData.currency.toLowerCase()) {\r\n      case 'btc (multisig)':\r\n      case 'btc (sms-protected)':\r\n      case 'btc (pin-protected)':\r\n        targetCurrency = 'btc'\r\n        break\r\n    }\r\n\r\n    const firstUrlPart = itemData.tokenKey ? `/token/${itemData.tokenKey}` : `/${targetCurrency}`\r\n\r\n    history?.push(\r\n      localisedUrl(intl?.locale, `${firstUrlPart}/${itemData.address}/send`)\r\n    )\r\n  }\r\n\r\n  handleReceive = () => {\r\n    const {\r\n      itemData: { currency, address, standard, tokenKey },\r\n    } = this.props\r\n\r\n    actions.modals.open(constants.modals.ReceiveModal, {\r\n      currency: (tokenKey || currency),\r\n      address,\r\n      standard,\r\n    })\r\n  }\r\n\r\n  handleActivatePinProtected = async () => {\r\n    actions.modals.open(constants.modals.RegisterPINProtected, {})\r\n  }\r\n\r\n  handleGenerateMultisignLink = async () => {\r\n    actions.modals.open(constants.modals.MultisignJoinLink, {})\r\n  }\r\n\r\n  handleHowToWithdraw = () => {\r\n    const {\r\n      itemData: { currency, address },\r\n    } = this.props\r\n\r\n    actions.modals.open(constants.modals.HowToWithdrawModal, {\r\n      currency,\r\n      address,\r\n    })\r\n  }\r\n\r\n  handleOpenDropdown = () => {\r\n    this.setState({\r\n      isDropdownOpen: true,\r\n    })\r\n  }\r\n\r\n  handleCreateInvoiceLink = () => {\r\n    const {\r\n      itemData: { currency, address, tokenKey },\r\n    } = this.props\r\n\r\n    actions.modals.open(constants.modals.InvoiceLinkModal, {\r\n      currency,\r\n      address,\r\n      tokenKey,\r\n    })\r\n  }\r\n\r\n  handleSwitchMultisign = () => {\r\n    actions.modals.open(constants.modals.BtcMultisignSwitch)\r\n  }\r\n\r\n  handleCreateInvoice = () => {\r\n    const {\r\n      itemData: {\r\n        decimals,\r\n        token,\r\n        contractAddress,\r\n        unconfirmedBalance,\r\n        currency,\r\n        tokenKey,\r\n        address,\r\n        balance,\r\n      },\r\n      itemData\r\n    } = this.props\r\n\r\n    actions.modals.open(constants.modals.InvoiceModal, {\r\n      currency: ((tokenKey) ? tokenKey : currency).toUpperCase(),\r\n      address,\r\n      contractAddress,\r\n      decimals,\r\n      token,\r\n      balance,\r\n      unconfirmedBalance,\r\n    })\r\n  }\r\n\r\n  goToExchange = () => {\r\n    const {\r\n      history,\r\n      intl,\r\n    } = this.props\r\n    history?.push(localisedUrl(intl?.locale, '/exchange'))\r\n  }\r\n\r\n  goToCurrencyHistory = () => {\r\n    const {\r\n      history,\r\n      intl,\r\n      itemData,\r\n    } = this.props\r\n\r\n\r\n    let targetCurrency = itemData.currency\r\n    switch (itemData.currency.toLowerCase()) {\r\n      case 'btc (multisig)':\r\n      case 'btc (sms-protected)':\r\n      case 'btc (pin-protected)':\r\n        targetCurrency = 'btc'\r\n        break\r\n    }\r\n\r\n\r\n    const firstUrlPart = itemData.tokenKey ? `/token/${itemData.tokenKey}` : `/${targetCurrency}`\r\n\r\n    history?.push(\r\n      localisedUrl(intl?.locale, `${firstUrlPart}/${itemData.address}`)\r\n    )\r\n  }\r\n\r\n  hideCurrency = () => {\r\n    const {\r\n      itemData: { currency, address, balance, isToken, tokenKey },\r\n    } = this.props\r\n\r\n    if (balance > 0) {\r\n      actions.modals.open(constants.modals.AlertModal, {\r\n        message: (\r\n          <FormattedMessage\r\n            id=\"WalletRow_Action_HideNonZero_Message\"\r\n            defaultMessage=\"    .   .\"\r\n          />\r\n        ),\r\n      })\r\n    } else {\r\n      actions.core.markCoinAsHidden(`${isToken ? tokenKey.toUpperCase() : currency}:${address}`)\r\n      actions.notifications.show(constants.notifications.Message, {\r\n        message: (\r\n          <FormattedMessage\r\n            id=\"WalletRow_Action_Hidden\"\r\n            defaultMessage=\" \"\r\n          />\r\n        ),\r\n      })\r\n    }\r\n  }\r\n\r\n  copy = () => {\r\n    const {\r\n      itemData: { address, fullName },\r\n    } = this.props\r\n\r\n    actions.modals.open(constants.modals.WalletAddressModal, {\r\n      address,\r\n      fullName,\r\n    })\r\n  }\r\n\r\n  copyPrivateKey = () => {\r\n    const {\r\n      itemData: { address, privateKey, fullName },\r\n      ethDataHelper,\r\n    } = this.props\r\n\r\n    actions.modals.open(constants.modals.PrivateKeysModal, {\r\n      key: address === ethDataHelper?.address ? ethDataHelper?.privateKey : privateKey,\r\n      fullName,\r\n    })\r\n  }\r\n\r\n  handleShowMnemonic = () => {\r\n    actions.modals.open(constants.modals.SaveWalletSelectMethod)\r\n  }\r\n\r\n  connectMetamask = () => {\r\n    metamask.handleConnectMetamask()\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      isBalanceFetching,\r\n      isBalanceEmpty,\r\n    } = this.state\r\n\r\n    const {\r\n      itemData,\r\n      intl,\r\n      activeFiat,\r\n      multisigStatus,\r\n    } = this.props\r\n\r\n    const {\r\n      currency,\r\n      baseCurrency,\r\n      balance,\r\n      isBalanceFetched,\r\n      fullName,\r\n      unconfirmedBalance,\r\n      balanceError,\r\n      standard,\r\n      isToken,\r\n    } = itemData\r\n\r\n    let nodeDownErrorShow = true\r\n    let currencyFiatBalance\r\n    let currencyView = (isToken) ? currency.replaceAll(`*`,``) : currency\r\n\r\n    switch (currencyView) {\r\n      case 'BTC (Multisig)':\r\n      case 'BTC (SMS-Protected)':\r\n      case 'BTC (PIN-Protected)':\r\n        currencyView = 'BTC'\r\n        break\r\n    }\r\n\r\n    if (itemData?.infoAboutCurrency?.price_fiat) {\r\n      currencyFiatBalance = utils.toMeaningfulFloatValue({\r\n        value: balance,\r\n        rate: itemData.infoAboutCurrency.price_fiat,\r\n      })\r\n    }\r\n\r\n    let hasHowToWithdraw = false\r\n    if (\r\n      config?.erc20?.[this.props.currency.currency.toLowerCase()]?.howToWithdraw\r\n    ) {\r\n      hasHowToWithdraw = true\r\n    }\r\n\r\n    const isSafari = 'safari' in window\r\n\r\n    const mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\r\n    const mnemonicSaved = (mnemonic === `-`)\r\n\r\n    type DropDownItem = {\r\n      action: () => void\r\n      disabled?: boolean\r\n      title: JSX.Element\r\n      id: number\r\n    }\r\n\r\n    //@ts-ignore: strictNullChecks\r\n    let dropDownMenuItems: DropDownItem[] = [\r\n      {\r\n        id: 1001,\r\n        title: (\r\n          <FormattedMessage\r\n            id=\"WalletRow_Menu_Deposit\"\r\n            defaultMessage=\"Deposit\"\r\n          />\r\n        ),\r\n        action: this.handleReceive,\r\n        disabled: false,\r\n      },\r\n      ...(hasHowToWithdraw\r\n        ? [\r\n          {\r\n            id: 10021,\r\n            title: (\r\n              <FormattedMessage\r\n                id=\"HowToWithdrawModal_Title\"\r\n                defaultMessage=\"How to withdraw\"\r\n              />\r\n            ),\r\n            action: this.handleHowToWithdraw,\r\n          },\r\n        ]\r\n        : []),\r\n      {\r\n        id: 1002,\r\n        title: (\r\n          <FormattedMessage id=\"WalletRow_Menu_Send\" defaultMessage=\"Send\" />\r\n        ),\r\n        action: this.handleWithdraw,\r\n        disabled: isBalanceEmpty,\r\n      },\r\n      !config.opts.exchangeDisabled && {\r\n        id: 1004,\r\n        title: (\r\n          <FormattedMessage\r\n            id=\"menu.exchange\"\r\n            defaultMessage=\"Exchange\"\r\n          />\r\n        ),\r\n        action: this.goToExchange,\r\n        disabled: false,\r\n      },\r\n      {\r\n        id: 1003,\r\n        title: (\r\n          <FormattedMessage\r\n            id=\"WalletRow_Menu_History\"\r\n            defaultMessage=\"History\"\r\n          />\r\n        ),\r\n        action: this.goToCurrencyHistory,\r\n        disabled: !mnemonicSaved,\r\n      },\r\n      !isSafari && {\r\n        id: 1012,\r\n        title: (\r\n          <FormattedMessage\r\n            id=\"WalletRow_Menu_opy\"\r\n            defaultMessage=\"Copy address\"\r\n          />\r\n        ),\r\n        action: this.copy,\r\n        disabled: !mnemonicSaved,\r\n      },\r\n      !config.opts.hideShowPrivateKey && {\r\n        id: 1012,\r\n        title: (\r\n          <FormattedMessage\r\n            id=\"WalletRow_Menu_opy_PrivateKey\"\r\n            defaultMessage=\"Copy Private Key\"\r\n          />\r\n        ),\r\n        action: this.copyPrivateKey,\r\n        disabled: false,\r\n      },\r\n      {\r\n        id: 1011,\r\n        title: (\r\n          <FormattedMessage id=\"WalletRow_Menu_Hide\" defaultMessage=\"Hide\" />\r\n        ),\r\n        action: this.hideCurrency,\r\n        disabled: false,\r\n      },\r\n    ].filter((el) => el)\r\n\r\n    if (\r\n      config.opts.invoiceEnabled\r\n    ) {\r\n      dropDownMenuItems.push({\r\n        id: 1004,\r\n        title: (\r\n          <FormattedMessage\r\n            id=\"WalletRow_Menu_Invoice\"\r\n            defaultMessage=\" \"\r\n          />\r\n        ),\r\n        action: this.handleCreateInvoice,\r\n        disabled: false,\r\n      })\r\n      dropDownMenuItems.push({\r\n        id: 1005,\r\n        title: (\r\n          <FormattedMessage\r\n            id=\"WalletRow_Menu_InvoiceLink\"\r\n            defaultMessage=\"    \"\r\n          />\r\n        ),\r\n        action: this.handleCreateInvoiceLink,\r\n        disabled: false,\r\n      })\r\n    }\r\n\r\n    if (itemData.isMetamask\r\n      && !itemData.isConnected\r\n    ) {\r\n      dropDownMenuItems = [{\r\n        id: 1,\r\n        title: (\r\n          <FormattedMessage\r\n            id=\"WalletRow_MetamaskConnect\"\r\n            defaultMessage=\"\"\r\n          />\r\n        ),\r\n        action: metamask.handleConnectMetamask,\r\n        disabled: false,\r\n      }]\r\n    }\r\n\r\n    if (itemData.isMetamask\r\n      && itemData.isConnected\r\n    ) {\r\n      dropDownMenuItems = [\r\n        {\r\n          id: 1123,\r\n          title: (\r\n            <FormattedMessage\r\n              id=\"MetamaskDisconnect\"\r\n              defaultMessage=\"Disconnect wallet\"\r\n            />\r\n          ),\r\n          action: metamask.handleDisconnectWallet,\r\n          disabled: false\r\n        },\r\n        ...dropDownMenuItems\r\n      ]\r\n    }\r\n\r\n    let showBalance = true\r\n    let statusInfo = ''\r\n\r\n    // Prevent render SMS wallet\r\n    if (itemData.isSmsProtected) return null\r\n\r\n    if (\r\n      itemData.isPinProtected &&\r\n      !itemData.isRegistered\r\n    ) {\r\n      statusInfo = 'Not activated'\r\n      showBalance = false\r\n      nodeDownErrorShow = false\r\n      dropDownMenuItems = [\r\n        {\r\n          id: 1,\r\n          title: (\r\n            <FormattedMessage\r\n              id=\"WalletRow_Menu_ActivatePinProtected\"\r\n              defaultMessage=\"Activate\"\r\n            />\r\n          ),\r\n          action: this.handleActivatePinProtected,\r\n          disabled: false,\r\n        },\r\n        {\r\n          id: 1011,\r\n          title: (\r\n            <FormattedMessage id=\"WalletRow_Menu_Hide\" defaultMessage=\"Hide\" />\r\n          ),\r\n          action: this.hideCurrency,\r\n          disabled: false,\r\n        },\r\n      ]\r\n    }\r\n\r\n    const msConfirmCount = (\r\n      itemData.isUserProtected\r\n      && multisigStatus\r\n      && multisigStatus[itemData.address]\r\n      && multisigStatus[itemData.address].count\r\n    ) ? multisigStatus[itemData.address].count : false\r\n\r\n    if (itemData.isUserProtected) {\r\n      if (!itemData.active) {\r\n        statusInfo = 'Not joined'\r\n        showBalance = false\r\n        nodeDownErrorShow = false\r\n        dropDownMenuItems = []\r\n      } else {\r\n        dropDownMenuItems.push({\r\n          id: 1105,\r\n          title: (\r\n            <FormattedMessage\r\n              id=\"WalletRow_Menu_BTCMS_SwitchMenu\"\r\n              defaultMessage=\"Switch wallet\"\r\n            />\r\n          ),\r\n          action: this.handleSwitchMultisign,\r\n          disabled: false,\r\n        })\r\n      }\r\n      dropDownMenuItems.push({\r\n        id: 3,\r\n        title: (\r\n          <FormattedMessage\r\n            id=\"WalletRow_Menu_BTCMS_GenerateJoinLink\"\r\n            defaultMessage=\"Generate join link\"\r\n          />\r\n        ),\r\n        action: this.handleGenerateMultisignLink,\r\n        disabled: false,\r\n      })\r\n      if (!itemData.active) {\r\n        dropDownMenuItems.push({\r\n          id: 1011,\r\n          title: (\r\n            <FormattedMessage id=\"WalletRow_Menu_Hide\" defaultMessage=\"Hide\" />\r\n          ),\r\n          action: this.hideCurrency,\r\n          disabled: false,\r\n        })\r\n      }\r\n    }\r\n\r\n    const ethRowWithoutExternalProvider = itemData.address.toLowerCase() === 'not connected' && !metamask.web3connect.isInjectedEnabled()\r\n    const web3Type = metamask.web3connect.getInjectedType()\r\n\r\n    const isMetamask = itemData.isMetamask\r\n    const metamaskIsConnected = isMetamask && itemData.isConnected\r\n    const metamaskDisconnected = isMetamask && !itemData.isConnected\r\n    const isAvailableMetamaskNetwork = isMetamask && metamask.isAvailableNetwork()\r\n    const isNotAvailableMetamaskNetwork = isMetamask && !metamask.isAvailableNetwork()\r\n    const currencyTitleId = `${standard ? standard.toLowerCase() : ''}${currency.toLowerCase()}`\r\n    const showFiatBalance =\r\n      currencyFiatBalance !== undefined &&\r\n      !Number.isNaN(currencyFiatBalance) &&\r\n      showBalance &&\r\n      !balanceError\r\n\r\n    return (\r\n      !ethRowWithoutExternalProvider\r\n      && <tr>\r\n        <td styleName={`assetsTableRow`}>\r\n          <div styleName=\"assetsTableCurrency\">\r\n            <Coin\r\n              className={styles.assetsTableIcon}\r\n              name={metamaskDisconnected || isNotAvailableMetamaskNetwork ? web3Type : currency }\r\n            />\r\n\r\n            {/* Title-Link */}\r\n            <div id={currencyTitleId + 'WalletTitle'} styleName=\"assetsTableInfo\">\r\n              <div styleName=\"nameRow\">\r\n                <a onClick={\r\n                  metamaskDisconnected\r\n                    ? this.connectMetamask\r\n                    : isNotAvailableMetamaskNetwork\r\n                      ? () => null\r\n                      : mnemonicSaved || (metamaskIsConnected && isAvailableMetamaskNetwork)\r\n                        ? this.goToCurrencyHistory\r\n                        : () => null\r\n                  }\r\n                  styleName={`${\r\n                    mnemonicSaved && isMobile\r\n                      ? 'linkToHistory mobile'\r\n                        : mnemonicSaved || (metamaskIsConnected && isAvailableMetamaskNetwork)\r\n                          ? 'linkToHistory desktop'\r\n                          : ''\r\n                  }`}\r\n                  title={`Online ${fullName} wallet`}\r\n                >\r\n                  {fullName}\r\n                  {/* label for tokens */}\r\n                  {standard ? (\r\n                    <span styleName=\"tokenStandard\">\r\n                      {` ${standard.toUpperCase()}`}\r\n                    </span>\r\n                  ) : ''}\r\n                </a>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Tip - if something wrong with endpoint */}\r\n            {balanceError && nodeDownErrorShow && (\r\n              <div className={styles.errorMessage}>\r\n                <ApiEndpoint\r\n                  contractAddress={itemData.contractAddress}\r\n                  address={itemData.address}\r\n                  symbol={itemData.currency}\r\n                  isERC20={itemData.isERC20}\r\n                  isBTC={itemData.isBTC}\r\n                >\r\n                  <FormattedMessage\r\n                    id=\"RowWallet276\"\r\n                    defaultMessage=\"Node is down\"\r\n                  />\r\n                </ApiEndpoint>\r\n                {' '}\r\n                <Tooltip id=\"WalletRowNodeIsDownTooltip\">\r\n                  <div style={{ textAlign: 'center' }}>\r\n                    <FormattedMessage\r\n                      id=\"WalletRowNodeIsDownTooltipMessage\"\r\n                      defaultMessage=\"You can not perform transactions\"\r\n                    />\r\n                  </div>\r\n                </Tooltip>\r\n              </div>\r\n            )}\r\n\r\n            {/* Currency amount */}\r\n            <span styleName=\"assetsTableCurrencyWrapper\">\r\n              {showBalance && (\r\n                <Fragment>\r\n                  {/*\r\n                  If it's a metamask and it disconnected then showing connect button\r\n                  else if balance fetched or fetching then showing loader\r\n                  else showing fetch-button and currency balance\r\n                  */}\r\n                  {metamaskDisconnected ? (\r\n                      <Button small empty onClick={metamask.handleConnectMetamask}>\r\n                        <FormattedMessage id=\"CommonTextConnect\" defaultMessage=\"Connect\" />\r\n                      </Button>\r\n                    ) :\r\n                      isNotAvailableMetamaskNetwork\r\n                        ? (\r\n                          <Button small empty onClick={metamask.handleDisconnectWallet}>\r\n                            <FormattedMessage id=\"MetamaskDisconnect\" defaultMessage=\"Disconnect wallet\" />\r\n                          </Button>\r\n                        )\r\n                        : !isBalanceFetched || isBalanceFetching ? (\r\n                          itemData.isUserProtected &&\r\n                            !itemData.active ? (\r\n                              <span>\r\n                                <FormattedMessage\r\n                                  id=\"walletMultisignNotJoined\"\r\n                                  defaultMessage=\"Not joined\"\r\n                                />\r\n                              </span>\r\n                            ) : (\r\n                              <div styleName=\"loader\">\r\n                                {!(balanceError && nodeDownErrorShow) && <InlineLoader />}\r\n                              </div>\r\n                            )\r\n                        ) : (\r\n                          <button\r\n                            id=\"walletRowUpdateBalanceBtn\"\r\n                            styleName=\"cryptoBalanceBtn\"\r\n                            onClick={this.handleReloadBalance}\r\n                          >\r\n                            <i className=\"fas fa-sync-alt\" styleName=\"icon\" />\r\n                            <span id=\"walletRowCryptoBalance\">\r\n                              {balanceError\r\n                                ? '?'\r\n                                : utils.toMeaningfulFloatValue({\r\n                                    value: balance,\r\n                                    meaningfulDecimals: 5,\r\n                                  })}{' '}\r\n                            </span>\r\n                            <span styleName=\"assetsTableCurrencyBalance\">\r\n                              {currencyView}\r\n                            </span>\r\n                            {unconfirmedBalance !== 0 && (\r\n                              <Fragment>\r\n                                <br />\r\n                                <span\r\n                                  styleName=\"unconfirmedBalance\"\r\n                                  title={intl?.formatMessage(\r\n                                    langLabels.unconfirmedBalance\r\n                                  )}\r\n                                >\r\n                                  {unconfirmedBalance > 0 && <>{'+'}</>}\r\n                                  {unconfirmedBalance}{' '}\r\n                                </span>\r\n                              </Fragment>\r\n                            )}\r\n                          </button>\r\n                        )\r\n                  }\r\n                </Fragment>\r\n              )}\r\n            </span>\r\n\r\n            {/* Address */}\r\n            <Fragment>\r\n              {statusInfo ?\r\n                <p styleName=\"statusStyle\">{statusInfo}</p>\r\n                :\r\n                !mnemonicSaved && !itemData.isMetamask ?\r\n                  <p styleName=\"showAddressStyle\" onClick={this.handleShowMnemonic}>\r\n                    <FormattedMessage\r\n                      id=\"WalletRow_ShowAddress\"\r\n                      defaultMessage=\"Show address\"\r\n                    />\r\n                  </p>\r\n                  : // only for metamask\r\n                  metamaskDisconnected ?\r\n                    <p styleName=\"addressStyle\">\r\n                      <FormattedMessage\r\n                        id=\"WalletRow_MetamaskNotConnected\"\r\n                        defaultMessage=\"Not connected\"\r\n                      />\r\n                    </p>\r\n                    : isNotAvailableMetamaskNetwork\r\n                      ?\r\n                        <p styleName=\"addressStyle\">\r\n                          <FormattedMessage\r\n                            id=\"WalletRow_MetamaskNotAvailableNetwork\"\r\n                            defaultMessage=\"Please choose another\"\r\n                          />\r\n                        </p>\r\n                      : // Address shows\r\n                      <div styleName=\"addressStyle\">\r\n                        <Copy text={itemData.address}>\r\n                          {isMobile ? (\r\n                              <PartOfAddress\r\n                                withoutLink\r\n                                currency={itemData.currency}\r\n                                contractAddress={itemData.contractAddress}\r\n                                address={itemData.address}\r\n                                style={{\r\n                                  position: 'relative',\r\n                                  bottom: '16px',\r\n                                }}\r\n                              />\r\n                            ) : (\r\n                              <p id={`${\r\n                                baseCurrency ? baseCurrency + currency.toLowerCase() : currency.toLowerCase()\r\n                              }Address`}>\r\n                                {itemData.address}\r\n                              </p>\r\n                            )\r\n                          }\r\n                        </Copy>\r\n                      </div>\r\n              }\r\n            </Fragment>\r\n\r\n            {/* Fiat amount */}\r\n            {showFiatBalance || msConfirmCount ? (\r\n              <div styleName=\"assetsTableValue\">\r\n                {msConfirmCount && !isMobile && (\r\n                  <p styleName=\"txWaitConfirm\" onClick={this.goToCurrencyHistory}>\r\n                    {intl?.formatMessage(\r\n                      langLabels.msConfirmCount,\r\n                      {\r\n                        count: msConfirmCount,\r\n                      }\r\n                    )}\r\n                  </p>\r\n                )}\r\n                {showFiatBalance && (\r\n                  <>\r\n                    <p>{currencyFiatBalance}</p>\r\n                    <strong>{activeFiat}</strong>\r\n                  </>\r\n                )}\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n\r\n          {/* Additional option. Ethereum row with external wallet */}\r\n          {!metamaskDisconnected && !isNotAvailableMetamaskNetwork &&\r\n            <div onClick={this.handleOpenDropdown} styleName=\"assetsTableDots\">\r\n              <DropdownMenu\r\n                className=\"walletControls\"\r\n                items={dropDownMenuItems}\r\n              />\r\n            </div>\r\n          }\r\n        </td>\r\n      </tr>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(Row)\r\n","import CSSModules from 'react-css-modules'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport config from 'app-config'\r\nimport {\r\n  constants,\r\n  metamask,\r\n  externalConfig as exConfig,\r\n} from 'helpers'\r\nimport actions from 'redux/actions'\r\n\r\nimport Button from 'components/controls/Button/Button'\r\nimport Tooltip from 'shared/components/ui/Tooltip/Tooltip'\r\nimport Table from 'components/tables/Table/Table'\r\nimport ConnectWalletModal from 'components/modals/ConnectWalletModal/ConnectWalletModal'\r\nimport Slider from './WallerSlider'\r\nimport Row from './Row/Row'\r\nimport styles from './Wallet.scss'\r\n\r\nconst addAllEnabledWalletsAfterRestoreOrCreateSeedPhrase = config?.opts?.addAllEnabledWalletsAfterRestoreOrCreateSeedPhrase\r\nconst noInternalWallet = config?.opts?.ui?.disableInternalWallet\r\nconst isWidgetBuild = config && config.isWidget\r\n\r\ntype CurrenciesListProps = {\r\n  multisigPendingCount: number\r\n  goToreateWallet: () => void\r\n  hiddenCoinsList: string[]\r\n  tableRows: IUniversalObj[]\r\n}\r\n\r\nfunction CurrenciesList(props: CurrenciesListProps) {\r\n  const {\r\n    tableRows,\r\n    goToreateWallet,\r\n    multisigPendingCount,\r\n  } = props\r\n\r\n  const openAddCustomTokenModal = () => {\r\n    actions.modals.open(constants.modals.AddCustomToken)\r\n  }\r\n\r\n  const handleRestoreMnemonic = () => {\r\n    actions.modals.open(constants.modals.RestoryMnemonicWallet)\r\n  }\r\n\r\n  const showAssets = !(config?.opts?.ui?.disableInternalWallet)\r\n    ? true\r\n    : !!(metamask.isConnected())\r\n  return (\r\n    <div styleName=\"yourAssets\">\r\n      {showAssets && (\r\n        <>\r\n          {(exConfig && exConfig.opts && exConfig.opts.showWalletBanners) || isWidgetBuild ? (\r\n            <Slider multisigPendingCount={multisigPendingCount} />\r\n          ) : (\r\n            ''\r\n          )}\r\n          <h3 styleName=\"yourAssetsHeading\">\r\n            <FormattedMessage id=\"YourAssets\" defaultMessage=\"Your assets\" />\r\n          </h3>\r\n          <div styleName=\"yourAssetsDescr\">\r\n            <FormattedMessage\r\n              id=\"YourAssetsDescription\"\r\n              defaultMessage=\"Here you can safely store, send and receive assets\"\r\n            />\r\n          </div>\r\n\r\n          <Table\r\n            className={`${styles.walletTable} data-tut-address`}\r\n            rows={tableRows}\r\n            rowRender={(row, index) => (\r\n              <Row\r\n                key={index}\r\n                currency={row}\r\n                itemData={row}\r\n              />\r\n            )}\r\n          />\r\n          <div styleName=\"addCurrencyBtnWrapper\">\r\n            <Button id=\"addCustomTokenBtn\" onClick={openAddCustomTokenModal} transparent fullWidth>\r\n              <FormattedMessage id=\"addCustomToken\" defaultMessage=\"Add custom token\" />\r\n            </Button>\r\n            {addAllEnabledWalletsAfterRestoreOrCreateSeedPhrase && !noInternalWallet && (\r\n              <Button onClick={handleRestoreMnemonic} small link>\r\n                <FormattedMessage id=\"ImportKeys_RestoreMnemonic\" defaultMessage=\"Restore from 12-word seed\" />\r\n                &nbsp;\r\n                <Tooltip id=\"ImportKeys_RestoreMnemonic_tooltip\">\r\n                  <span>\r\n                    <FormattedMessage\r\n                      id=\"ImportKeys_RestoreMnemonic_Tooltip\"\r\n                      defaultMessage=\"12-word backup phrase\"\r\n                    />\r\n                    <br />\r\n                    <br />\r\n                    <div styleName=\"alertTooltipWrapper\">\r\n                      <FormattedMessage\r\n                        id=\"ImportKeys_RestoreMnemonic_Tooltip_withBalance\"\r\n                        defaultMessage=\"Please, be causious!\"\r\n                      />\r\n                    </div>\r\n                  </span>\r\n                </Tooltip>\r\n              </Button>\r\n            )}\r\n            {!addAllEnabledWalletsAfterRestoreOrCreateSeedPhrase && (\r\n              <Button id=\"addAssetBtn\" onClick={goToreateWallet} transparent fullWidth>\r\n                <FormattedMessage id=\"addAsset\" defaultMessage=\"Add currency\" />\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n      {!showAssets && !metamask.isConnected() && (\r\n        <ConnectWalletModal noCloseButton />\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CSSModules(CurrenciesList, styles, { allowMultiple: true })\r\n","import { PureComponent } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { FormattedMessage, injectIntl } from 'react-intl'\r\nimport { connect } from 'redaction'\r\nimport cssModules from 'react-css-modules'\r\nimport { isMobile } from 'react-device-detect'\r\nimport { BigNumber } from 'bignumber.js'\r\nimport moment from 'moment'\r\n\r\nimport appConfig from 'app-config'\r\nimport actions from 'redux/actions'\r\nimport { links, constants, stats, user, routing } from 'helpers'\r\nimport { localisedUrl } from 'helpers/locale'\r\nimport config from 'helpers/externalConfig'\r\nimport metamask from 'helpers/metamask'\r\nimport wpLogoutModal from 'helpers/wpLogoutModal'\r\nimport feedback from 'helpers/feedback'\r\n\r\nimport InvoicesList from 'pages/Invoices/InvoicesList'\r\nimport History from 'pages/History/History'\r\nimport DashboardLayout from 'components/layout/DashboardLayout/DashboardLayout'\r\nimport BalanceForm from 'components/BalanceForm/BalanceForm'\r\nimport CurrenciesList from './CurrenciesList'\r\nimport styles from './Wallet.scss'\r\n\r\n\r\n\r\n\r\nconst host = window.location.hostname || document.location.host\r\nconst isWidgetBuild = config && config.isWidget\r\n\r\n@connect(\r\n  ({\r\n    core: { hiddenCoinsList },\r\n    user,\r\n    user: {\r\n      activeFiat,\r\n      ethData,\r\n      bnbData,\r\n      maticData,\r\n      arbethData,\r\n      aurethData,\r\n      xdaiData,\r\n      ftmData,\r\n      movrData,\r\n      oneData,\r\n      ameData,\r\n      avaxData,\r\n      btcData,\r\n      ghostData,\r\n      nextData,\r\n      phi_v1Data,\r\n      phiData,\r\n      fkwData,\r\n      phpxData,\r\n      tokensData,\r\n      btcMultisigSMSData,\r\n      btcMultisigUserData,\r\n      btcMultisigUserDataList,\r\n      isBalanceFetching,\r\n      multisigPendingCount,\r\n      activeCurrency,\r\n      metamaskData,\r\n    },\r\n    currencies: { items: currencies },\r\n    modals,\r\n  }) => {\r\n    const userCurrencyData = [\r\n      ethData,\r\n      bnbData,\r\n      maticData,\r\n      arbethData,\r\n      aurethData,\r\n      xdaiData,\r\n      ftmData,\r\n      avaxData,\r\n      movrData,\r\n      oneData,\r\n      ameData,\r\n      btcData,\r\n      ghostData,\r\n      nextData,\r\n      phi_v1Data,\r\n      phiData,\r\n      fkwData,\r\n      phpxData,\r\n      ...Object.keys(tokensData).map((k) => tokensData[k]),\r\n    ]\r\n\r\n    return {\r\n      userCurrencyData,\r\n      currencies,\r\n      isBalanceFetching,\r\n      multisigPendingCount,\r\n      hiddenCoinsList,\r\n      user,\r\n      activeCurrency,\r\n      activeFiat,\r\n      coinsData: {\r\n        ethData,\r\n        bnbData,\r\n        maticData,\r\n        arbethData,\r\n        aurethData,\r\n        xdaiData,\r\n        ftmData,\r\n        avaxData,\r\n        movrData,\r\n        oneData,\r\n        ameData,\r\n        phi_v1Data,\r\n        phiData,\r\n        fkwData,\r\n        phpxData,\r\n        metamaskData: {\r\n          ...metamaskData,\r\n          currency: 'ETH Metamask',\r\n        },\r\n        btcData,\r\n        ghostData,\r\n        nextData,\r\n        btcMultisigSMSData,\r\n        btcMultisigUserData,\r\n        btcMultisigUserDataList,\r\n      },\r\n      modals,\r\n    }\r\n  },\r\n)\r\n@withRouter\r\n@cssModules(styles, { allowMultiple: true })\r\nclass Wallet extends PureComponent<any, any> {\r\n  syncTimer: ReturnType<typeof setTimeout> | null = null\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const {\r\n      match: {\r\n        params: { page = null },\r\n      },\r\n      multisigPendingCount,\r\n    } = props\r\n\r\n    let activeComponentNum = 0\r\n\r\n    if (page === 'history' && !isMobile) {\r\n      activeComponentNum = 1\r\n    }\r\n    if (page === 'invoices') {\r\n      activeComponentNum = 2\r\n    }\r\n\r\n    this.state = {\r\n      activeComponentNum,\r\n      btcBalance: 0,\r\n      enabledCurrencies: user.getActivatedCurrencies(),\r\n      multisigPendingCount,\r\n    }\r\n    window.testSaveShamirsSecrets = () => { this.testSaveShamirsSecrets() }\r\n  }\r\n\r\n  handleConnectWallet() {\r\n    const {\r\n      history,\r\n      intl: { locale },\r\n    } = this.props\r\n\r\n    if (metamask.isConnected()) {\r\n      history.push(localisedUrl(locale, links.home))\r\n      return\r\n    }\r\n\r\n    setTimeout(() => {\r\n      metamask.connect({})\r\n    }, 100)\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const {\r\n      match: {\r\n        params: { page: prevPage = null },\r\n      },\r\n      multisigPendingCount: prevMultisigPendingCount,\r\n      location: { pathname: prevPathname },\r\n    } = prevProps\r\n\r\n    const {\r\n      match: {\r\n        params: { page = null },\r\n      },\r\n      multisigPendingCount,\r\n      intl,\r\n      intl: { locale },\r\n      location: { pathname },\r\n      history,\r\n    } = this.props\r\n\r\n    if (\r\n      pathname.toLowerCase() !== prevPathname.toLowerCase()\r\n      && pathname.toLowerCase() === links.connectWallet.toLowerCase()\r\n    ) {\r\n      this.handleConnectWallet()\r\n    }\r\n\r\n    if (page !== prevPage || multisigPendingCount !== prevMultisigPendingCount) {\r\n      let activeComponentNum = 0\r\n\r\n      if (page === 'history' && !isMobile) activeComponentNum = 1\r\n      if (page === 'invoices') activeComponentNum = 2\r\n\r\n      if (page === 'exit') {\r\n        wpLogoutModal(() => {\r\n          history.push(localisedUrl(locale, links.home))\r\n        }, intl)\r\n      }\r\n\r\n      this.setState(() => ({\r\n        activeComponentNum,\r\n        multisigPendingCount,\r\n      }))\r\n    }\r\n    // @ts-ignore\r\n    clearTimeout(this.syncTimer)\r\n  }\r\n\r\n  componentDidMount() {\r\n    const {\r\n      match: {\r\n        params,\r\n        params: { page },\r\n        url,\r\n      },\r\n      multisigPendingCount,\r\n      history,\r\n      location: { pathname },\r\n      intl,\r\n      intl: { locale },\r\n    } = this.props\r\n\r\n    if (pathname.toLowerCase() === links.connectWallet.toLowerCase()) {\r\n      this.handleConnectWallet()\r\n    }\r\n\r\n    actions.user.getBalances()\r\n\r\n    actions.user.fetchMultisigStatus()\r\n\r\n    if (url.includes('send')) {\r\n      this.handleWithdraw(params)\r\n    }\r\n\r\n    if (page === 'exit') {\r\n      wpLogoutModal(() => {\r\n        history.push(localisedUrl(locale, links.home))\r\n      }, intl)\r\n    }\r\n    this.getInfoAboutCurrency()\r\n    this.setState({\r\n      multisigPendingCount,\r\n    })\r\n  }\r\n\r\n  getInfoAboutCurrency = async () => {\r\n    const { currencies } = this.props\r\n    const currencyNames = currencies.map(({ value, name }) => value || name)\r\n\r\n    await actions.user.getInfoAboutCurrency(currencyNames)\r\n  }\r\n\r\n  handleWithdraw = (params) => {\r\n    const { userCurrencyData } = this.state\r\n    const { address, amount } = params\r\n    const item = userCurrencyData.find(\r\n      ({ currency }) => currency.toLowerCase() === params.currency.toLowerCase(),\r\n    )\r\n\r\n    actions.modals.open(constants.modals.Withdraw, {\r\n      ...item,\r\n      toAddress: address,\r\n      amount,\r\n    })\r\n  }\r\n\r\n  goToreateWallet = () => {\r\n    feedback.wallet.pressedAddCurrency()\r\n    const {\r\n      history,\r\n      intl: { locale },\r\n    } = this.props\r\n\r\n    history.push(localisedUrl(locale, links.createWallet))\r\n  }\r\n\r\n  handleReceive = (context) => {\r\n    const widgetCurrencies = user.getWidgetCurrencies()\r\n    const filteredCurrencies = user.filterUserCurrencyData(actions.core.getWallets())\r\n\r\n    const availableWallets = filteredCurrencies.filter((item) => {\r\n      const { isMetamask, isConnected, currency, balance } = item\r\n\r\n      return (\r\n        (context !== 'Send' || balance)\r\n        && (!isMetamask || (isMetamask && isConnected))\r\n        && (!isWidgetBuild || widgetCurrencies.includes(currency))\r\n      )\r\n    })\r\n\r\n    actions.modals.open(constants.modals.CurrencyAction, {\r\n      currencies: availableWallets,\r\n      context,\r\n    })\r\n  }\r\n\r\n  showNoWalletsNotification = () => {\r\n    actions.notifications.show(\r\n      constants.notifications.Message,\r\n      { message: (\r\n        <FormattedMessage\r\n          id=\"WalletEmptyBalance\"\r\n          defaultMessage=\"No wallets available\"\r\n        />\r\n      ) },\r\n    )\r\n  }\r\n\r\n  handleWithdrawFirstAsset = () => {\r\n    const {\r\n      history,\r\n      intl: { locale },\r\n    } = this.props\r\n    const userCurrencyData = actions.core.getWallets({})\r\n    const availableWallets = user.filterUserCurrencyData(userCurrencyData)\r\n\r\n    if (\r\n      !Object.keys(availableWallets).length\r\n      || (Object.keys(availableWallets).length === 1 && !user.isCorrectWalletToShow(availableWallets[0]))\r\n    ) {\r\n      this.showNoWalletsNotification()\r\n      return\r\n    }\r\n\r\n    const firstAvailableWallet = availableWallets.find((wallet) => (\r\n      user.isCorrectWalletToShow(wallet)\r\n        && !wallet.balanceError\r\n        && new BigNumber(wallet.balance).isPositive()\r\n    ))\r\n\r\n    if (!firstAvailableWallet) {\r\n      this.showNoWalletsNotification()\r\n      return\r\n    }\r\n\r\n    const { currency, address, tokenKey } = firstAvailableWallet\r\n    let targetCurrency = currency\r\n\r\n    switch (currency.toLowerCase()) {\r\n      case 'btc (multisig)':\r\n      case 'btc (sms-protected)':\r\n      case 'btc (pin-protected)':\r\n        targetCurrency = 'btc'\r\n    }\r\n\r\n    const firstUrlPart = tokenKey ? `/token/${tokenKey}` : `/${targetCurrency}`\r\n\r\n    history.push(\r\n      localisedUrl(locale, `${firstUrlPart}/${address}/send`),\r\n    )\r\n  }\r\n\r\n  returnFiatBalanceByWallet = (wallet) => {\r\n    const hasFiatPrice = wallet.balance > 0 && wallet.infoAboutCurrency?.price_fiat\r\n\r\n    if (hasFiatPrice) {\r\n      return new BigNumber(wallet.balance)\r\n        .multipliedBy(wallet.infoAboutCurrency.price_fiat)\r\n        .dp(2, BigNumber.ROUND_FLOOR)\r\n        .toNumber()\r\n    }\r\n\r\n    return 0\r\n  }\r\n\r\n  testSaveShamirsSecrets = () => {\r\n    actions.modals.open(constants.modals.ShamirsSecretSave)\r\n  }\r\n  \r\n  \r\n  addFiatBalanceInUserCurrencyData = (currencyData) => {\r\n    currencyData.forEach((wallet) => {\r\n      wallet.fiatBalance = this.returnFiatBalanceByWallet(wallet)\r\n    })\r\n\r\n    return currencyData\r\n  }\r\n\r\n  returnBalanceInBtc = (wallet) => {\r\n    const widgetCurrencies = user.getWidgetCurrencies()\r\n    const name = wallet.isToken\r\n      ? wallet.tokenKey.toUpperCase()\r\n      : (wallet.currency || wallet.name)\r\n\r\n    if (\r\n      (!isWidgetBuild || widgetCurrencies.includes(name))\r\n      && !wallet.balanceError\r\n      && wallet.infoAboutCurrency?.price_btc\r\n      && wallet.balance > 0\r\n    ) {\r\n      return wallet.balance * wallet.infoAboutCurrency.price_btc\r\n    }\r\n\r\n    return 0\r\n  }\r\n\r\n  returnTotalBalanceInBtc = (currencyData) => {\r\n    let balance = new BigNumber(0)\r\n\r\n    currencyData.forEach((wallet) => {\r\n      balance = balance.plus(this.returnBalanceInBtc(wallet))\r\n    })\r\n\r\n    return balance.toNumber()\r\n  }\r\n\r\n  returnTotalFiatBalance = (currencyData) => {\r\n    let balance = new BigNumber(0)\r\n\r\n    currencyData.forEach((wallet) => {\r\n      balance = balance.plus(wallet.fiatBalance)\r\n    })\r\n\r\n    return balance.toNumber()\r\n  }\r\n\r\n  syncData = () => {\r\n    // that is for noxon, dont delete it :)\r\n    const now = moment().format('HH:mm:ss DD/MM/YYYY')\r\n    const lastCheck = localStorage.getItem(constants.localStorage.lastCheckBalance) || now\r\n    const lastCheckMoment = moment(lastCheck, 'HH:mm:ss DD/MM/YYYY')\r\n\r\n    const isFirstCheck = moment(now, 'HH:mm:ss DD/MM/YYYY').isSame(lastCheckMoment)\r\n    const isOneHourAfter = moment(now, 'HH:mm:ss DD/MM/YYYY').isAfter(\r\n      lastCheckMoment.add(1, 'hours'),\r\n    )\r\n\r\n    const { coinsData, coinsData: ethData } = this.props\r\n\r\n    this.syncTimer = setTimeout(async () => {\r\n      if (host === 'localhost' || config?.entry !== 'mainnet' || !metamask.isCorrectNetwork()) {\r\n        return\r\n      }\r\n\r\n      if (isOneHourAfter || isFirstCheck) {\r\n        localStorage.setItem(constants.localStorage.lastCheckBalance, now)\r\n        try {\r\n          const ipInfo = await stats.getIPInfo()\r\n\r\n          const registrationData: {\r\n            locale: string\r\n            ip: string\r\n            widget_url?: string\r\n            wallets?: IUniversalObj[]\r\n          } = {\r\n            locale:\r\n              ipInfo.locale\r\n              || (navigator.userLanguage || navigator.language || 'en-gb').split('-')[0],\r\n            ip: ipInfo.ip,\r\n          }\r\n\r\n          let widgetUrl\r\n          if (appConfig.isWidget) {\r\n            widgetUrl = routing.getTopLocation().origin\r\n\r\n            registrationData.widget_url = widgetUrl\r\n          }\r\n\r\n          const tokensArray: any[] = Object.values(coinsData)\r\n\r\n          const wallets = tokensArray.map((item) => ({\r\n            symbol: item && item.currency ? item.currency.split(' ')[0] : '',\r\n            type: item && item.currency ? item.currency.split(' ')[1] || 'common' : '',\r\n            address: item && item.address ? item.address : '',\r\n            balance: item && item.balance ? new BigNumber(item.balance).toNumber() : 0,\r\n            public_key: item && item.publicKey ? item.publicKey.toString('Hex') : '',\r\n            entry: config?.entry ? config.entry : 'testnet:undefined',\r\n          }))\r\n\r\n          registrationData.wallets = wallets\r\n\r\n          await stats.updateUser(ethData.address, routing.getTopLocation().host, registrationData)\r\n        } catch (error) {\r\n          console.group('wallet >%c syncData', 'color: red;')\r\n          console.error(`Sync error in wallet: ${error}`)\r\n          console.groupEnd()\r\n        }\r\n      }\r\n    }, 2000)\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      activeComponentNum,\r\n      multisigPendingCount,\r\n    } = this.state\r\n\r\n    const {\r\n      hiddenCoinsList,\r\n      isBalanceFetching,\r\n      activeFiat,\r\n      activeCurrency,\r\n      match: {\r\n        params: { page = null },\r\n      },\r\n    } = this.props\r\n\r\n    if (!config.isWidget || window?.STATISTICS_ENABLED) {\r\n      this.syncData()\r\n    }\r\n\r\n    let userWallets = user.filterUserCurrencyData(actions.core.getWallets({}))\r\n\r\n    userWallets = this.addFiatBalanceInUserCurrencyData(userWallets)\r\n\r\n    const balanceInBtc = this.returnTotalBalanceInBtc(userWallets)\r\n    const allFiatBalance = this.returnTotalFiatBalance(userWallets)\r\n\r\n    return (\r\n      <DashboardLayout\r\n        page={page}\r\n        BalanceForm={(\r\n          <BalanceForm\r\n            activeFiat={activeFiat}\r\n            fiatBalance={allFiatBalance}\r\n            currencyBalance={balanceInBtc}\r\n            activeCurrency={activeCurrency}\r\n            handleReceive={this.handleReceive}\r\n            handleWithdraw={this.handleWithdrawFirstAsset}\r\n            isFetching={isBalanceFetching}\r\n            type=\"wallet\"\r\n            currency=\"btc\"\r\n            multisigPendingCount={multisigPendingCount}\r\n          />\r\n        )}\r\n      >\r\n        {activeComponentNum === 0 && (\r\n          <CurrenciesList\r\n            tableRows={userWallets}\r\n            hiddenCoinsList={hiddenCoinsList}\r\n            goToreateWallet={this.goToreateWallet}\r\n            multisigPendingCount={multisigPendingCount}\r\n          />\r\n        )}\r\n        {activeComponentNum === 1 && <History {...this.props} />}\r\n        {activeComponentNum === 2 && <InvoicesList {...this.props} onlyTable />}\r\n      </DashboardLayout>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(Wallet)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"promoContainer\":\"YND7LTr5vcF+qaMDP+k8Pg==\",\"switchButton\":\"aLbMQxQca80ur67K6ek-Wg==\",\"exchangeWrap\":\"ViLiyuJGD0S5FLjNjKLjog==\",\"container\":\"ka8Qg+90iAQ3GyIJon0vEg==\",\"link\":\"X9qJW7o-B-YWJ9SigTP5ww==\",\"button-like\":\"_0TUSVhPN1-gYfuuQab3R4Q==\",\"liquidity\":\"A2a6xNI2BLL6ko0tuCTCQA==\",\"button\":\"vtbHNyE2fnel-hFUdKYvzA==\",\"noMoney\":\"fyOd2iEaIXAY-O2XEO7fHg==\",\"disabled\":\"krmIw8R23TUtxgs95R5rog==\",\"orderbook\":\"_6MX0y8TWCIV38yWc8Fv6QQ==\",\"buttonContinueSwap\":\"bELs5z2GjNHhfxClsjkSNQ==\",\"swapModeSelector\":\"_3QoWNDgkjrVG1mlX1eRmiQ==\",\"toggle\":\"Hf8k3pYNxaqoe3DR++IgVQ==\",\"toggleText\":\"BVRaoeCAW6mJ19vGe6dsnQ==\",\"errors\":\"vrv3mY5x31JD8IEVAkIQHg==\",\"conditions\":\"z8Sx90klm9y66sirw4rcNA==\",\"price\":\"EmShTL7qpmpmlnunz8axYA==\",\"fees\":\"X0+VQdzZm1JDe06xiwVVXw==\",\"serviceFee\":\"uH2R3F1yGCfB3JBqPyOzFg==\",\"minerFee\":\"qYDe7sQ7IIaHJQ7E15mexQ==\",\"minerFeeUpdateBtn\":\"fnzEZpPOcQcrXvPsQpyZHg==\",\"buttons\":\"VLeAno5Ng6powGU9uSVkhg==\",\"swapStartStatus\":\"t92RLFQyJmy0qMpxRgKEDw==\",\"swapStartStatusLoader\":\"Ko5xvrQFsfCoc4s---y5iA==\",\"section\":\"zxjWYa26hZpnQQeWtjkHyA==\",\"maxAmount\":\"d3Yxz1ZW0CQQZbewdwIcDQ==\",\"formExchange\":\"mMGuJD5tMW7H4hXWFmFmcA==\",\"userSendAndGet\":\"HALjZXpFBXzV6x08ZQ6L7A==\",\"error\":\"CgUxQxSpptXGeNyyX+nWcw==\",\"errorAppend\":\"tW3Ug21yDko5thnC+YkEpg==\",\"smallError\":\"ML6EsCpqAb7jA3hQFDynpQ==\",\"errorLink\":\"_66JWmiXdW40AfPsqjLq+6g==\",\"row\":\"FesvVMqDXA4R1cv1pCyV+g==\",\"inform\":\"+N-MKCVui7NAljE3jDs1aw==\",\"close\":\"vKU33fZJHVdEvhfIj-Gj0w==\",\"extendedControls\":\"vgexWic4hRPbbkvhbudU-g==\",\"networkStatusPlace\":\"_0RR+P2L6yZTS3kmYeT8eqA==\",\"tabsWrapper\":\"_3xlKqUiUlzSbIYc5sprJ5A==\",\"tab\":\"_3PYc06t7MhXxCunDizxQIw==\",\"active\":\"CSxb1p-C1wPnkWaXYlPOrw==\",\"block\":\"jN57m0O7fz+ytb3XxJLoAg==\",\"scrollAnimation\":\"fLowKTiC4RKr0QyDmzprQQ==\"};","import config from 'app-config'\r\n\r\nexport const SOURCE_MODE_SLIPPAGE = {\r\n  MAX: 50,\r\n  FAIL: 0.5,\r\n  FRONTRUN: 10,\r\n}\r\n\r\nexport const COIN_DECIMALS = 18\r\nexport const GWEI_DECIMALS = 9\r\nexport const MAX_PERCENT = 100\r\nexport const SEC_PER_MINUTE = 60\r\n\r\nexport const SWAP_API = {\r\n  1: {\r\n    name: 'zeroxEthereum',\r\n    spender: 'zerox',\r\n  },\r\n  11155111: {\r\n    name: 'zeroxSepolia',\r\n    spender: 'zeroxSepolia',\r\n  },\r\n  56: {\r\n    name: 'zeroxBsc',\r\n    spender: 'zerox',\r\n  },\r\n  137: {\r\n    name: 'zeroxPolygon',\r\n    spender: 'zerox',\r\n  },\r\n  80001: {\r\n    name: 'zeroxMumbai',\r\n    spender: 'zeroxMumbai',\r\n  },\r\n  250: {\r\n    name: 'zeroxFantom',\r\n    spender: 'zeroxFantom',\r\n  },\r\n  43114: {\r\n    name: 'zeroxAvalanche',\r\n    spender: 'zerox',\r\n  },\r\n  42161: {\r\n    name: 'zeroxArbitrum',\r\n    spender: 'zerox',\r\n  },\r\n}\r\n\r\nexport const API_GAS_LIMITS = {\r\n  MAX_PRICE: '30_000',\r\n  MIN_LIMIT: '100_000',\r\n  MAX_LIMIT: '11_500_000',\r\n}\r\n\r\nexport const LIQUIDITY_SOURCE_DATA = {\r\n  [config.evmNetworks.ETH.networkVersion]: {\r\n    name: 'Uniswap V2',\r\n    router: config.swapContract.uniswapRouter,\r\n    factory: config.swapContract.uniswapFactory,\r\n  },\r\n  [config.evmNetworks.BNB.networkVersion]: {\r\n    name: 'PancakeSwap',\r\n    router: config.swapContract.pancakeswapRouter,\r\n    factory: config.swapContract.pancakeswapFactory,\r\n  },\r\n  [config.evmNetworks.MATIC.networkVersion]: {\r\n    name: 'SushiSwap',\r\n    router: config.swapContract.sushiswapRouter,\r\n    factory: config.swapContract.sushiswapFactory,\r\n  },\r\n  [config.evmNetworks.XDAI.networkVersion]: {\r\n    name: 'HoneySwap',\r\n    router: config.swapContract.honeyswapRouter,\r\n    factory: config.swapContract.honeyswapFactory,\r\n  },\r\n  [config.evmNetworks.FTM.networkVersion]: {\r\n    name: 'SpiritSwap',\r\n    router: config.swapContract.spiritSwapRouter,\r\n    factory: config.swapContract.spiritSwapFactory,\r\n  },\r\n  [config.evmNetworks.AVAX.networkVersion]: {\r\n    name: 'PangolinSwap',\r\n    router: config.swapContract.pangolinSwapRouter,\r\n    factory: config.swapContract.pangolinSwapFactory,\r\n  },\r\n  [config.evmNetworks.MOVR.networkVersion]: {\r\n    name: 'SushiSwap',\r\n    router: config.swapContract.sushiSwapRouter,\r\n    factory: config.swapContract.sushiSwapFactory,\r\n  },\r\n  [config.evmNetworks.ONE.networkVersion]: {\r\n    name: 'ViperSwap',\r\n    router: config.swapContract.viperSwapRouter,\r\n    factory: config.swapContract.viperSwapFactory,\r\n  },\r\n  [config.evmNetworks.AURETH.networkVersion]: {\r\n    name: 'Trisolaris',\r\n    router: config.swapContract.trisolarisRouter,\r\n    factory: config.swapContract.trisolarisFactory,\r\n  },\r\n  [config.evmNetworks.PHI_V1.networkVersion]: {\r\n    name: 'PHIv1 Swap',\r\n    router: config.swapContract.phi_v1Router,\r\n    factory: config.swapContract.phi_v1Factory,\r\n  },\r\n  [config.evmNetworks.PHI.networkVersion]: {\r\n    name: 'PHI Swap',\r\n    router: config.swapContract.phiRouter,\r\n    factory: config.swapContract.phiFactory,\r\n  },\r\n  [config.evmNetworks.FKW.networkVersion]: {\r\n    name: 'FKW Swap',\r\n    router: config.swapContract.fkwRouter,\r\n    factory: config.swapContract.fkwFactory,\r\n  },\r\n  [config.evmNetworks.PHPX.networkVersion]: {\r\n    name: 'PHPX Swap',\r\n    router: config.swapContract.phpxRouter,\r\n    factory: config.swapContract.phpxFactory,\r\n  },\r\n  [config.evmNetworks.AME.networkVersion]: {\r\n    name: 'AME Swap',\r\n    router: config.swapContract.ameRouter,\r\n    factory: config.swapContract.ameFactory,\r\n  },\r\n}\r\n","import { BigNumber } from 'bignumber.js'\r\nimport { EVM_COIN_ADDRESS } from 'common/helpers/constants/ADDRESSES'\r\nimport utils from 'common/utils'\r\nimport actions from 'redux/actions'\r\nimport { externalConfig } from 'helpers'\r\nimport { COIN_DECIMALS, MAX_PERCENT, GWEI_DECIMALS } from './constants'\r\nimport { ServiceFee, SwapData } from './types'\r\n\r\nexport const buildApiSwapParams = (params: {\r\n  route: '/price' | '/quote'\r\n  skipValidation?: boolean\r\n  slippage: number\r\n  spendedAmount: string\r\n  fromWallet: IUniversalObj\r\n  toWallet: IUniversalObj\r\n  serviceFee: ServiceFee | false\r\n  zeroxApiKey: string\r\n}): {\r\n  headers: { '0x-api-key': string }\r\n  endpoint: string\r\n} => {\r\n  const {\r\n    route,\r\n    skipValidation = false,\r\n    slippage,\r\n    spendedAmount,\r\n    fromWallet,\r\n    toWallet,\r\n    serviceFee,\r\n    zeroxApiKey,\r\n  } = params\r\n\r\n  const sellToken = fromWallet?.contractAddress || EVM_COIN_ADDRESS\r\n  const buyToken = toWallet?.contractAddress || EVM_COIN_ADDRESS\r\n\r\n  const sellAmount = utils.amount.formatWithDecimals(\r\n    spendedAmount,\r\n    fromWallet.decimals || COIN_DECIMALS\r\n  )\r\n\r\n  const enoughBalanceForSwap = new BigNumber(fromWallet.balance).isGreaterThan(\r\n    new BigNumber(spendedAmount)\r\n  )\r\n\r\n  const request = [\r\n    `/swap/v1${route}?`,\r\n    `buyToken=${buyToken}&`,\r\n    `sellToken=${sellToken}&`,\r\n    `sellAmount=${sellAmount}`,\r\n  ]\r\n  if (enoughBalanceForSwap) {\r\n    request.push(`&takerAddress=${fromWallet.address}`)\r\n  }\r\n\r\n  if (window?.STATISTICS_ENABLED) {\r\n    request.push(`&affiliateAddress=${externalConfig.swapContract.affiliateAddress}`)\r\n  }\r\n\r\n  if (serviceFee) {\r\n    const { address, percent } = serviceFee\r\n    request.push(`&feeRecipient=${address}`)\r\n    request.push(`&buyTokenPercentageFee=${percent}`)\r\n  }\r\n\r\n  if (skipValidation) {\r\n    request.push(`&skipValidation=true`)\r\n  }\r\n\r\n  if (slippage) {\r\n    // allow users to enter an amount up to 100, because it's more easy then enter the amount from 0 to 1\r\n    // and now convert it into the api format\r\n    const correctValue = new BigNumber(slippage).dividedBy(MAX_PERCENT)\r\n    request.push(`&slippagePercentage=${correctValue}`)\r\n  }\r\n\r\n  return {\r\n    headers: { '0x-api-key': zeroxApiKey },\r\n    endpoint: request.join(''),\r\n  }\r\n}\r\n\r\nexport const estimateApiSwapData = async (params: {\r\n  data: SwapData\r\n  withoutValidation?: RegExpMatchArray | null\r\n  baseChainWallet: IUniversalObj\r\n  toWallet: IUniversalObj\r\n  gasLimit: string\r\n  gasPrice: string\r\n  onError?: (e: Error) => void\r\n}): Promise<{\r\n  receivedAmount: string\r\n  swapData: SwapData\r\n  swapFee: string\r\n  isPending: boolean\r\n}> => {\r\n  const {\r\n    data,\r\n    withoutValidation = null,\r\n    baseChainWallet,\r\n    toWallet,\r\n    gasLimit,\r\n    gasPrice,\r\n    onError,\r\n  } = params\r\n\r\n  // We've had a special error in the previous request. It means there is\r\n  // some problem and we add a \"skip validation\" parameter to bypass it.\r\n  // Usually the swap tx with this parameter fails in the blockchain,\r\n  // because it's not enough gas limit. Estimate manually\r\n  if (withoutValidation) {\r\n    const estimatedGas: string | Error = await actions[\r\n      baseChainWallet.currency.toLowerCase()\r\n    ]?.estimateGas(data)\r\n\r\n    if (estimatedGas instanceof Error) {\r\n      onError && onError(estimatedGas)\r\n    } else {\r\n      data.gas = estimatedGas\r\n    }\r\n  }\r\n\r\n  const customGasLimit = gasLimit && gasLimit > data.gas ? gasLimit : data.gas\r\n  const customGasPrice = gasPrice\r\n    ? utils.amount.formatWithDecimals(gasPrice, GWEI_DECIMALS)\r\n    : data.gasPrice\r\n\r\n  const weiFee = new BigNumber(customGasLimit).times(customGasPrice)\r\n  const swapFee = utils.amount.formatWithoutDecimals(weiFee, COIN_DECIMALS)\r\n  const receivedAmount = utils.amount.formatWithoutDecimals(\r\n    data.buyAmount,\r\n    toWallet?.decimals || COIN_DECIMALS\r\n  )\r\n\r\n  return {\r\n    receivedAmount,\r\n    swapData: data,\r\n    swapFee,\r\n    isPending: false,\r\n  }\r\n}\r\n","export type CurrencyMenuItem = {\r\n  name: string\r\n  title: string\r\n  icon: string\r\n  value: string\r\n  fullTitle: string\r\n  blockchain?: string\r\n  standard?: string\r\n  notExist?: boolean\r\n}\r\n\r\nexport type TokenData = {\r\n  symbol: string\r\n  name: string\r\n  decimals: number\r\n  address: string\r\n  logoURI: string\r\n}\r\n\r\nexport type SwapData = {\r\n  allowanceTarget: string\r\n  buyAmount: string\r\n  data: string\r\n  gasPrice: string\r\n  gas: string\r\n  sellAmount: string\r\n  to: `0x${number}`\r\n}\r\n\r\nexport type SwapInfo = {\r\n  swapFee: string,\r\n  fiat: string,\r\n  serviceFee: ServiceFee | false,\r\n  slippage: number,\r\n  network: EvmNetworkConfig,\r\n  spendedAmount: string,\r\n  baseChainWallet: IUniversalObj,\r\n  fromWallet: IUniversalObj,\r\n  toWallet: IUniversalObj,\r\n}\r\n\r\nexport enum Sections {\r\n  Aggregator,\r\n  Source,\r\n  Settings,\r\n}\r\n\r\nexport enum Actions {\r\n  Swap,\r\n  AddLiquidity,\r\n}\r\n\r\nexport enum Direction {\r\n  Spend,\r\n  Receive,\r\n}\r\n\r\nexport enum BlockReasons {\r\n  InsufficientSlippage,\r\n  NoLiquidity,\r\n  NoBalance,\r\n  NoBaseCurrencyBalance,\r\n  Liquidity,\r\n  PairDoesNotExist,\r\n  NotApproved,\r\n  Unknown,\r\n}\r\n\r\nexport type ServiceFee = {\r\n  address: string\r\n  percent: number\r\n}\r\n\r\nexport type ComponentState = SwapInfo & {\r\n  externalExchangeReference: null | IUniversalObj\r\n  externalWindowTimer: null | NodeJS.Timeout\r\n  currentLiquidityPair: null | string\r\n  currencies: CurrencyMenuItem[]\r\n  receivedList: CurrencyMenuItem[]\r\n  error: IError | null\r\n  activeSection: Sections\r\n  isPending: boolean\r\n  isSourceMode: boolean\r\n  onlyAggregator: boolean\r\n  onlySource: boolean\r\n  needApproveA: boolean\r\n  needApproveB: boolean\r\n  spendedCurrency: CurrencyMenuItem\r\n  receivedCurrency: CurrencyMenuItem\r\n  receivedAmount: string\r\n  sourceAction: Actions\r\n  userDeadline: number\r\n  slippageMaxRange: number\r\n  wrongNetwork: boolean\r\n  swapData: SwapData | undefined\r\n  gasPrice: string\r\n  gasLimit: string\r\n  blockReason: BlockReasons | undefined\r\n  liquidityErrorMessage: string\r\n  zeroxApiKey: string\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"quickSwap\":\"a4OFOywrBIlhbitQm8r4zg==\",\"header\":\"KXeGLq0AMeXLmbVDpcyrxw==\",\"tab\":\"NKddEyMUVlj5PoXZwbrRnQ==\",\"active\":\"pytnF9Fm3u7yquFmWZgDtg==\",\"disabled\":\"+wg7OuVm2J4Aur8BcdDu+g==\",\"inputWrapper\":\"yLNSFPYK9P3epOvylKfSvQ==\",\"userInfo\":\"KGMBK1K5MfDV-HcbO0UhnQ==\",\"walletButton\":\"xDpxKmdPd3BfKFvj4UdeiA==\",\"formCenter\":\"MgsL8Oj5EFwkg4eGI6XFSQ==\",\"padding\":\"vF0tory0rSbFYTEmoXFGkA==\",\"arrows\":\"SsBSlMKPEqnhMxQrhKA9yQ==\",\"fiatExchangeBtn\":\"YWWMIX05nFVbc0yOZ7Myow==\",\"balanceTooltip\":\"vlNMdg5-fQbuRRrr9MA-sw==\",\"balanceLoader\":\"_7nnAiGqPUaOp9qkRbTPlhA==\",\"balanceUpdateBtn\":\"_3cX-JL7sDGvR8NK-96ZX9g==\",\"icon\":\"DCiEc4Pi8rHUz0gJ3c-9fg==\",\"indicator\":\"e2nmWZrkiJrFHG67pvwRgg==\",\"value\":\"rH8aJhzBu4G40OuiKnEI0Q==\",\"address\":\"-YLw8jsPKQdOl2W8fgqZsA==\",\"noAssetsNotice\":\"ryLO7GEGV4dyp-6iRlU0yA==\",\"dangerousNotice\":\"VMODxLlbdWaCmphYdrrrvQ==\",\"warningNotice\":\"_1VGEY2TQtk6XnPNxsZoPOQ==\",\"neutralNotice\":\"wO1CcRih3TQ5MwhwjUcvGA==\",\"footer\":\"saxwNWnewPOG49dPW-5X2A==\",\"addCustomTokenBtn\":\"d2w8rBv8P-D0TwQ4jR6J-A==\",\"swapPreviewWrapper\":\"XzMMAGK7aHR4CWpUbJ91YA==\",\"swapInProgressMessage\":\"CGMVY3Jf34V7dns08cb7-g==\",\"newTokenInstruction\":\"U-umy98ay9dBYATwKGbCOg==\",\"title\":\"IfN113nDX0HdUfcYscgmsQ==\"};","import { useState } from 'react'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './TokenInstruction.scss'\r\n\r\nfunction TokenInstruction(props) {\r\n  const [visible, setVisibility] = useState(false)\r\n\r\n  const toggleVisibility = () => {\r\n    setVisibility(!visible)\r\n  }\r\n\r\n  return (\r\n    <section styleName={`newTokenInstruction ${visible ? 'open' : ''}`}>\r\n      <button styleName=\"tab\" onClick={toggleVisibility}>\r\n        <FormattedMessage id=\"howToAddToken\" defaultMessage=\"How to add a token\" />\r\n\r\n        <span styleName=\"arrow\"></span>\r\n      </button>\r\n\r\n      {visible && (\r\n        <div styleName=\"content\">\r\n          <ol>\r\n            <li>\r\n              <FormattedMessage\r\n                id=\"addNewCurrencyMessage\"\r\n                defaultMessage=\"On the wallet page, click the add currency button.\"\r\n              />\r\n            </li>\r\n            <li>\r\n              <FormattedMessage\r\n                id=\"choseTokenStandard\"\r\n                defaultMessage=\"Chose a token standard and click the continue button.\"\r\n              />\r\n            </li>\r\n            <li>\r\n              <FormattedMessage\r\n                id=\"enterTokenContractAddress\"\r\n                defaultMessage=\"Enter a token contract address.\"\r\n              />\r\n            </li>\r\n            <li>\r\n              <FormattedMessage\r\n                id=\"confirmTokenAddition\"\r\n                defaultMessage=\"Check the information and confirm token addition.\"\r\n              />\r\n            </li>\r\n            <li>\r\n              <FormattedMessage\r\n                id=\"checkTokenInTheSwapList\"\r\n                defaultMessage=\"Now you can see you token in the list.\"\r\n              />\r\n            </li>\r\n          </ol>\r\n\r\n          <p styleName=\"paragraph\">\r\n            <FormattedMessage\r\n              id=\"ifYouDoNotSeeNewToken\"\r\n              defaultMessage=\"You will not be able to exchange some tokens, because there may not be an available liquidity pool with your token. You have to create a new one if you want to exchange it.\"\r\n            />\r\n          </p>\r\n\r\n          <ol>\r\n            <li>\r\n              <FormattedMessage\r\n                id=\"createNewPoolInAggregates\"\r\n                defaultMessage=\"Chose one of supported sources and create there a new pool with your token.\"\r\n              />\r\n            </li>\r\n            <li>\r\n              <FormattedMessage\r\n                id=\"youWillSeeYourToken\"\r\n                defaultMessage=\"After determining a liquidity pool with your token, it will be available for exchange.\"\r\n              />\r\n            </li>\r\n          </ol>\r\n\r\n          <a\r\n            styleName=\"liquiditySourcesLink\"\r\n            href=\"https://github.com/swaponline/MultiCurrencyWallet/blob/master/docs/LIQUIDITY_SOURCES.md\"\r\n            target=\"_blank\"\r\n          >\r\n            <FormattedMessage id=\"detailedInformation\" defaultMessage=\"Detailed information\" />\r\n          </a>\r\n        </div>\r\n      )}\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default CSSModules(TokenInstruction, styles, { allowMultiple: true })\r\n","// extracted by mini-css-extract-plugin\nexport default {\"newTokenInstruction\":\"mfB74ExWiTYjh69ndnDPgw==\",\"open\":\"ddQsHAvCm99ZnKbXxmvIuA==\",\"tab\":\"ho34JYm7XKejKE-V7YYEew==\",\"arrow\":\"iRRO2Ui6T+Ppn5l2rE+XKA==\",\"content\":\"xx5wyV8WExlvxHIN0-50JA==\",\"paragraph\":\"_4C7GHq9ysxrIi8dyNfjn-w==\",\"liquiditySourcesLink\":\"MNUDSf4++WNEINFRqSU0nw==\"};","import { FormattedMessage } from 'react-intl'\r\nimport { isMobile } from 'react-device-detect'\r\nimport { GoSettings } from 'react-icons/go'\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './index.scss'\r\nimport { externalConfig } from 'helpers'\r\nimport { Sections } from './types'\r\nimport { LIQUIDITY_SOURCE_DATA } from './constants'\r\n\r\nfunction Header(props) {\r\n  const {\r\n    network,\r\n    activeSection,\r\n    onlyAggregator,\r\n    onlySource,\r\n    wrongNetwork,\r\n    receivedCurrency,\r\n    openAggregatorSection,\r\n    openSourceSection,\r\n    openSettingsSection,\r\n  } = props\r\n\r\n  let sourceTitle = LIQUIDITY_SOURCE_DATA[network.networkVersion]?.name || (\r\n    <FormattedMessage id=\"source\" defaultMessage=\"Source\" />\r\n  )\r\n  if (onlySource) sourceTitle = <FormattedMessage id=\"menu.exchange\" defaultMessage=\"Exchange\" />\r\n\r\n  return (\r\n    <div styleName=\"header\">\r\n      {!onlySource && (\r\n        <button\r\n          styleName={`tab ${activeSection === Sections.Aggregator ? 'active' : ''} ${\r\n            externalConfig.entry === 'testnet' ? 'disabled' : ''\r\n          }`}\r\n          onClick={openAggregatorSection}\r\n        >\r\n          <FormattedMessage id=\"aggregator\" defaultMessage=\"Aggregator\" />\r\n        </button>\r\n      )}\r\n\r\n      {!onlyAggregator && (\r\n        <button\r\n          id=\"sourceSectionDescription\"\r\n          styleName={`tab ${activeSection === Sections.Source ? 'active' : ''}`}\r\n          onClick={openSourceSection}\r\n        >\r\n          {sourceTitle}\r\n        </button>\r\n      )}\r\n\r\n      <button\r\n        styleName={`tab ${activeSection === Sections.Settings ? 'active' : ''} ${\r\n          wrongNetwork || receivedCurrency.notExist ? 'disabled' : ''\r\n        }`}\r\n        onClick={openSettingsSection}\r\n      >\r\n        {isMobile ? (\r\n          <GoSettings alt=\"swap settings\" />\r\n        ) : (\r\n          <FormattedMessage id=\"settings\" defaultMessage=\"Settings\" />\r\n        )}\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CSSModules(Header, styles, { allowMultiple: true })\r\n","import React from 'react'\r\n\r\nimport { FormattedMessage } from 'react-intl'\r\n\r\nimport CSSModules from 'react-css-modules'\r\n\r\nimport styles from './styles.scss'\r\n\r\nfunction Tooltip(props) {\r\n  const { continuous, index, isLastStep, step, backProps, primaryProps, skipProps, tooltipProps, closeTour } = props\r\n\r\n  const click = e => {\r\n    skipProps.onClick(e)\r\n    closeTour()\r\n  }\r\n\r\n  const clickPrimary = (e) => {\r\n    primaryProps.onClick(e)\r\n    if (isLastStep) {\r\n      closeTour()\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div styleName=\"toolTipBody\" {...tooltipProps}>\r\n      {step.title && <h2 styleName=\"TooltipTitle\">{step.title}</h2>}\r\n      {step.content && <div styleName=\"TooltipContent\">{step.content}</div>}\r\n      <div styleName=\"TooltipFooter\">\r\n        {!isLastStep && (\r\n          <button {...skipProps} onClick={click} type=\"button\">\r\n            <FormattedMessage id=\"skip\" defaultMessage=\"Skip\" />\r\n          </button>\r\n        )}\r\n        {index > 0 && (\r\n          <button {...backProps} type=\"button\">\r\n            <FormattedMessage id=\"back\" defaultMessage=\"Back\" />\r\n          </button>\r\n        )}\r\n        <button {...primaryProps} onClick={clickPrimary} type=\"button\">\r\n          {continuous && !isLastStep\r\n            ? <FormattedMessage id=\"nextTourWindow\" defaultMessage=\"Next\" />\r\n            : <FormattedMessage id=\"closeTourWindow\" defaultMessage=\"Close\" />}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CSSModules(Tooltip, styles, { allowMultiple: true })\r\n","// extracted by mini-css-extract-plugin\nexport default {\"toolTipBody\":\"UGJGRSfiT1dDrdmceoN-Lg==\",\"TooltipTitle\":\"ohoa6Wt-umDIX3GCs003hw==\",\"TooltipContent\":\"HRTKHMFm9n2fXdO+qe2f3Q==\",\"TooltipFooter\":\"JphMhbcMXfN7MU1RDl6ZZw==\"};","import React, { Component } from 'react'\r\n\r\nimport Joyride, { STATUS } from 'react-joyride'\r\n\r\nimport { FormattedMessage } from 'react-intl'\r\nimport Tooltip from 'components/TourWindow'\r\n\r\n\r\nexport class WidgetWalletTour extends Component<any, any> {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    /* eslint-disable */\r\n    this.state = {\r\n      run: true,\r\n      steps: [\r\n        {\r\n          content: <FormattedMessage\r\n            id=\"widget-tour-step-1\"\r\n            defaultMessage=\"Welcome to {widgetName}. Take the tour?\"\r\n            values={{ widgetName: window.widgetName }}\r\n          />,\r\n          placement: 'center',\r\n          target: '.data-tut-start-widget-tour',\r\n        },\r\n        {\r\n          content: <FormattedMessage\r\n            id=\"widget-tour-step-2\"\r\n            defaultMessage=\"This is your wallet balance.\" />,\r\n          spotlightPadding: 0,\r\n          target: '.data-tut-widget-balance',\r\n        },\r\n        {\r\n          content: <FormattedMessage\r\n            id=\"widget-tour-step-3\"\r\n            defaultMessage=\"Use these buttons to transfer Cryptocurrencies in and out of your wallet.\" />,\r\n          spotlightPadding: 0,\r\n          target: '.data-tut-withdraw-buttons',\r\n        },\r\n        {\r\n          content: <FormattedMessage\r\n            id=\"widget-tour-step-4\"\r\n            defaultMessage=\"Scroll through this menu to find products, services and useful information.\"\r\n          />,\r\n          target: '.data-tut-banners',\r\n        },\r\n        {\r\n          content: <FormattedMessage\r\n            id=\"widget-tour-step-5\"\r\n            defaultMessage=\"Click these three dots to find your wallet address, private keys and more.\"\r\n          />,\r\n          spotlightPadding: 0,\r\n          placement: 'left',\r\n          target: '.data-tut-row-menu',\r\n        },\r\n        {\r\n          content: <FormattedMessage\r\n            id=\"widget-tour-step-6\"\r\n            defaultMessage=\"Click this button to review a list of your recent transactions.\"\r\n          />,\r\n          spotlightPadding: 0,\r\n          target: '.data-tut-recent',\r\n        },\r\n        {\r\n          content: <FormattedMessage\r\n            id=\"widget-tour-step-7\"\r\n            defaultMessage=\"Click this button to exchange your cryptocurrencies.\"\r\n          />,\r\n          spotlightPadding: 0,\r\n          target: '.data-tut-widget-exchange',\r\n        },\r\n        {\r\n          content: <FormattedMessage\r\n            id=\"widget-tour-finishStep\"\r\n            defaultMessage=\"That's it! Lets get started.\"\r\n          />,\r\n          placement: 'center',\r\n          target: '.data-tut-widget-tourFinish',\r\n        },\r\n      ],\r\n    }\r\n    /* eslint-enable */\r\n  }\r\n\r\n  handleJoyrideCallback = (data) => {\r\n    const { status } = data\r\n    const finishedStatuses = [STATUS.FINISHED, STATUS.SKIPPED]\r\n\r\n    if (finishedStatuses.includes(status)) {\r\n      this.setState({ run: false })\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { run, steps } = this.state\r\n    const { closeTour, isTourOpen } = this.props\r\n    return (\r\n      <div className=\"demo-wrapper\">\r\n        {isTourOpen && <Joyride\r\n          callback={this.handleJoyrideCallback}\r\n          continuous\r\n          run={run}\r\n          scrollToFirstStep\r\n          tooltipComponent={(props) => <Tooltip closeTour={closeTour} {...props} />}\r\n          showProgress\r\n          showSkipButton\r\n          steps={steps}\r\n          styles={{\r\n            options: {\r\n              zIndex: 10000,\r\n              arrowColor: '#302272',\r\n              width: 300\r\n            },\r\n          }}\r\n        />}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import { Component } from 'react'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport Joyride, { STATUS } from 'react-joyride'\r\nimport Tooltip from 'components/TourWindow'\r\n\r\nexport class QuickSwapFormTour extends Component<any, any> {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      run: true,\r\n      steps: [\r\n        {\r\n          content: (\r\n            <FormattedMessage\r\n              id=\"bankCardButtonDescription\"\r\n              defaultMessage={`\r\n                In the modal window, you have to go through several steps to exchange fiat funds for {buyCurrency}.\r\n                Select {buyCurrency} in the window and specify the address of your wallet (you can copy it below).\r\n                Wait until the funds are credited to your address. Then you can buy tokens using it.\r\n              `}\r\n              values={{\r\n                buyCurrency: `ETH`,\r\n              }}\r\n            />\r\n          ),\r\n          spotlightPadding: 0,\r\n          target: '.buyViaBankCardButton',\r\n        },\r\n      ],\r\n    }\r\n  }\r\n\r\n  handleJoyrideCallback = (data) => {\r\n    const { status } = data\r\n    const finishedStatuses = [STATUS.FINISHED, STATUS.SKIPPED]\r\n\r\n    if (finishedStatuses.includes(status)) {\r\n      this.setState({ run: false })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { run, steps } = this.state\r\n    const { closeTour, isTourOpen } = this.props\r\n\r\n    return (\r\n      <div className=\"demo-wrapper\">\r\n        {isTourOpen && (\r\n          <Joyride\r\n            callback={this.handleJoyrideCallback}\r\n            continuous\r\n            run={run}\r\n            tooltipComponent={(props) => <Tooltip closeTour={closeTour} {...props} />}\r\n            showProgress\r\n            showSkipButton\r\n            steps={steps}\r\n            styles={{\r\n              options: {\r\n                zIndex: 10000,\r\n                arrowColor: '#302272',\r\n                width: 300,\r\n              },\r\n            }}\r\n          />\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import { useState, useEffect, useRef } from 'react'\r\nimport { FormattedMessage, useIntl } from 'react-intl'\r\nimport { connect } from 'redaction'\r\nimport CSSModules from 'react-css-modules'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { utils, localStorage, constants, links } from 'helpers'\r\nimport { localisedUrl } from 'helpers/locale'\r\nimport actions from 'redux/actions'\r\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\r\nimport Button from 'components/controls/Button/Button'\r\nimport InlineLoader from 'components/loaders/InlineLoader/InlineLoader'\r\nimport Switching from 'components/controls/Switching/Switching'\r\nimport SelectGroup from 'components/SelectGroup'\r\nimport { QuickSwapFormTour } from 'components/Header/WidgetTours'\r\nimport externalConfig from 'helpers/externalConfig'\r\nimport styles from './index.scss'\r\nimport { ComponentState, Direction, Actions, CurrencyMenuItem } from './types'\r\n\r\nconst usePrevious = (value) => {\r\n  const ref = useRef()\r\n\r\n  useEffect(() => {\r\n    ref.current = value\r\n  }, [value])\r\n\r\n  return ref.current\r\n}\r\n\r\ntype InputFormProps = {\r\n  history: any\r\n  user: any\r\n  parentState: ComponentState\r\n  stateReference: any\r\n  selectCurrency: ({ direction: Direction, value: CurrencyMenuItem }) => void\r\n  updateWallets: () => void\r\n  flipCurrency: () => void\r\n  openExternalExchange: () => void\r\n  onInputDataChange: () => void\r\n  resetReceivedAmount: () => void\r\n  setSpendedAmount: (v: string) => void\r\n  setReceivedAmount: (v: string) => void\r\n  insufficientBalanceA: boolean\r\n  insufficientBalanceB: boolean\r\n}\r\n\r\nfunction InputForm(props: InputFormProps) {\r\n  const {\r\n    history,\r\n    user,\r\n    parentState,\r\n    stateReference,\r\n    setSpendedAmount,\r\n    selectCurrency,\r\n    updateWallets,\r\n    flipCurrency,\r\n    openExternalExchange,\r\n    onInputDataChange,\r\n    resetReceivedAmount,\r\n    setReceivedAmount,\r\n    insufficientBalanceA,\r\n    insufficientBalanceB,\r\n  } = props\r\n\r\n  const {\r\n    isSourceMode,\r\n    sourceAction,\r\n    currencies,\r\n    receivedList,\r\n    currentLiquidityPair,\r\n    spendedAmount,\r\n    spendedCurrency,\r\n    receivedAmount,\r\n    receivedCurrency,\r\n    fiat,\r\n    fromWallet,\r\n    toWallet,\r\n    isPending,\r\n  } = parentState\r\n\r\n  const [fromBalancePending, setFromBalancePending] = useState(false)\r\n  const [toBalancePending, setToBalancePending] = useState(false)\r\n\r\n  const sawBankCardMessage = localStorage.getItem('sawBankCardMessage')\r\n  const [isTourOpen, setIsTourOpen] = useState(!sawBankCardMessage)\r\n\r\n  const closeTour = () => {\r\n    setIsTourOpen(false)\r\n    localStorage.setItem('sawBankCardMessage', true)\r\n  }\r\n\r\n  const hasFiatAmount = spendedAmount && fromWallet.infoAboutCurrency?.price_fiat\r\n  const fiatValue = hasFiatAmount\r\n    && utils.toMeaningfulFloatValue({\r\n      value: spendedAmount,\r\n      rate: fromWallet.infoAboutCurrency.price_fiat,\r\n    })\r\n\r\n  const updateBalance = async (direction, wallet) => {\r\n    if (!Object.keys(wallet).length) return\r\n\r\n    const key = wallet.standard || wallet.currency\r\n\r\n    if (direction === Direction.Spend) setFromBalancePending(true)\r\n    if (direction === Direction.Receive) setToBalancePending(true)\r\n\r\n    await actions[key.toLowerCase()].getBalance(wallet.tokenKey)\r\n\r\n    updateWallets()\r\n\r\n    setTimeout(() => {\r\n      if (direction === Direction.Spend) setFromBalancePending(false)\r\n      if (direction === Direction.Receive) setToBalancePending(false)\r\n    }, 300)\r\n  }\r\n\r\n  const balanceTooltip = (direction, wallet) => {\r\n    const wrongTooltip = wallet.balanceError || Number.isNaN(wallet.balance)\r\n\r\n    if (!wrongTooltip) {\r\n      return (\r\n        <span styleName=\"balanceTooltip\">\r\n          <span styleName=\"title\">\r\n            <FormattedMessage id=\"partial767\" defaultMessage=\"Balance: \" />\r\n          </span>\r\n\r\n          <button styleName=\"balanceUpdateBtn\" onClick={() => updateBalance(direction, wallet)}>\r\n            {wallet.balance}\r\n            <i className=\"fas fa-sync-alt\" styleName=\"icon\" />\r\n          </button>\r\n        </span>\r\n      )\r\n    }\r\n\r\n    return null\r\n  }\r\n\r\n  const getWalletStoreData = (wallet): IUniversalObj | undefined => {\r\n    let data\r\n\r\n    if (Object.keys(wallet).length) {\r\n      data = wallet.isToken\r\n        ? user.tokensData[wallet.tokenKey.toLowerCase()]\r\n        : user[`${wallet.currency.toLowerCase()}Data`]\r\n    }\r\n\r\n    return data\r\n  }\r\n\r\n  const { locale } = useIntl()\r\n\r\n  const openAddCustomTokenModal = () => {\r\n    const { parentState: { baseChainWallet } } = props\r\n    const baseCurrency = baseChainWallet.currency?.toLowerCase()\r\n\r\n    history.push(localisedUrl(locale, links.home))\r\n    actions.modals.open(constants.modals.AddCustomToken, {\r\n      baseCurrency,\r\n    })\r\n  }\r\n\r\n  const fromWalletData = getWalletStoreData(fromWallet)\r\n  const toWalletData = getWalletStoreData(toWallet)\r\n\r\n  useEffect(() => {\r\n    updateBalance(Direction.Spend, fromWallet)\r\n  }, [fromWalletData?.balance])\r\n\r\n  useEffect(() => {\r\n    updateBalance(Direction.Receive, toWallet)\r\n  }, [toWalletData?.balance])\r\n\r\n  const [isBalanceFetching, setIsBalanceFetching] = useState(user.isBalanceFetching)\r\n  const prevIsBalanceFetching = usePrevious(isBalanceFetching)\r\n\r\n  useEffect(() => {\r\n    setIsBalanceFetching(user.isBalanceFetching)\r\n\r\n    // update in the end of balance fetching\r\n    if (prevIsBalanceFetching && !user.isBalanceFetching) {\r\n      updateBalance(Direction.Spend, fromWallet)\r\n      updateBalance(Direction.Receive, toWallet)\r\n    }\r\n  }, [user.isBalanceFetching])\r\n\r\n  const [flagForLazyChanges, setFlagForLazyChanges] = useState(false)\r\n\r\n  useEffect(() => {\r\n    let timeoutId: ReturnType<typeof setTimeout> | undefined\r\n\r\n    if (flagForLazyChanges) {\r\n      timeoutId = setTimeout(async () => {\r\n        await onInputDataChange()\r\n        setFlagForLazyChanges(false)\r\n      }, 600)\r\n    }\r\n\r\n    return () => {\r\n      if (timeoutId) clearTimeout(timeoutId)\r\n    }\r\n  }, [flagForLazyChanges])\r\n\r\n  useEffect(() => {\r\n    onInputDataChange()\r\n  }, [spendedCurrency?.value, receivedCurrency?.value, isSourceMode])\r\n\r\n  const addFirstLiquidity = isSourceMode && (sourceAction === Actions.AddLiquidity) && !currentLiquidityPair\r\n\r\n  const isValidNumber = (value) => !isNaN(Number(value)) && Number(value) > 0\r\n\r\n  const handleSpendAmount = (value) => {\r\n    setSpendedAmount(value)\r\n\r\n    if (!receivedCurrency.notExist && isValidNumber(value) && value !== spendedAmount) {\r\n      setFlagForLazyChanges(true)\r\n    }\r\n\r\n    // there will be new external data on \"every\" one of our changes\r\n    // reset the old ones\r\n    if (!addFirstLiquidity) resetReceivedAmount()\r\n  }\r\n\r\n  const handleReceiveAmount = (value) => {\r\n    setReceivedAmount(value)\r\n\r\n    if (isValidNumber(value) && value !== receivedAmount) {\r\n      setFlagForLazyChanges(true)\r\n    }\r\n  }\r\n\r\n  const supportedCurrencies = externalConfig.opts.buyFiatSupported\r\n  const showFiatExchangeBtn = window.transakApiKey\r\n    || supportedCurrencies.includes(spendedCurrency.value)\r\n\r\n  return (\r\n    <form action=\"\">\r\n      <QuickSwapFormTour isTourOpen={isTourOpen} closeTour={closeTour} />\r\n\r\n      <div styleName=\"inputWrapper\">\r\n        <SelectGroup\r\n          activeFiat={fiat}\r\n          error={insufficientBalanceA}\r\n          fiat={fiatValue && fiatValue}\r\n          inputValueLink={stateReference.spendedAmount.pipe(handleSpendAmount)}\r\n          selectedValue={spendedCurrency.value}\r\n          inputId=\"quickSwapSpendCurrencyInput\"\r\n          placeholder=\"0.00\"\r\n          currencies={currencies}\r\n          inputToolTip={\r\n            fromBalancePending ? (\r\n              <div styleName=\"balanceLoader\">\r\n                <InlineLoader />\r\n              </div>\r\n            ) : (\r\n              balanceTooltip(Direction.Spend, fromWallet)\r\n            )\r\n          }\r\n          onSelect={(value) => selectCurrency({\r\n            direction: Direction.Spend,\r\n            value,\r\n          })}\r\n        />\r\n      </div>\r\n\r\n      <div styleName={`formCenter ${showFiatExchangeBtn ? 'padding' : ''}`}>\r\n        {showFiatExchangeBtn && (\r\n          <>\r\n            <Button\r\n              className=\"buyViaBankCardButton\"\r\n              styleName=\"fiatExchangeBtn\"\r\n              pending={isPending}\r\n              disabled={isPending}\r\n              onClick={openExternalExchange}\r\n              empty\r\n              small\r\n            >\r\n              <FormattedMessage id=\"buyViaBankCard\" defaultMessage=\"Buy via bank card\" />\r\n            </Button>\r\n\r\n            <Tooltip id=\"buyViaBankCardButton\" place=\"top\" mark={false}>\r\n              <FormattedMessage\r\n                id=\"bankCardButtonDescription\"\r\n                defaultMessage={\r\n                  `In the modal window, you have to go through several steps to exchange fiat funds\r\n                  for {buyCurrency}. Select {buyCurrency} in the window and specify the address\r\n                  of your wallet (you can copy it below). Wait until the funds are credited to your address.\r\n                  Then you can buy tokens using it.`\r\n                }\r\n                values={{\r\n                  buyCurrency: spendedCurrency.value.toUpperCase(),\r\n                }}\r\n              />\r\n            </Tooltip>\r\n          </>\r\n        )}\r\n\r\n        <div styleName=\"arrows\">\r\n          <Switching noneBorder onClick={flipCurrency} />\r\n        </div>\r\n      </div>\r\n\r\n      <div styleName={`inputWrapper ${receivedCurrency.notExist ? 'disabled' : ''}`}>\r\n        <SelectGroup\r\n          disabled={!addFirstLiquidity}\r\n          activeFiat={fiat}\r\n          error={isSourceMode && sourceAction === Actions.AddLiquidity && insufficientBalanceB}\r\n          inputValueLink={stateReference.receivedAmount.pipe(handleReceiveAmount)}\r\n          selectedValue={receivedCurrency.value}\r\n          inputId=\"quickSwapReceiveCurrencyInput\"\r\n          currencies={receivedList}\r\n          inputToolTip={\r\n            toBalancePending ? (\r\n              <div styleName=\"balanceLoader\">\r\n                <InlineLoader />\r\n              </div>\r\n            ) : (\r\n              balanceTooltip(Direction.Receive, toWallet)\r\n            )\r\n          }\r\n          onSelect={(value) => {\r\n            selectCurrency({\r\n              direction: Direction.Receive,\r\n              value,\r\n            })\r\n          }}\r\n        />\r\n      </div>\r\n      {receivedCurrency.notExist && (\r\n        <div styleName=\"addCustomTokenBtn\">\r\n          <Button id=\"addCustomTokenBtn\" onClick={openAddCustomTokenModal} empty small>\r\n            <FormattedMessage id=\"addCustomToken\" defaultMessage=\"Add custom token\" />\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default connect(({ user }) => ({\r\n  user,\r\n}))(withRouter(CSSModules(InputForm, styles, { allowMultiple: true })))\r\n","import { FormattedMessage } from 'react-intl'\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './SourceActions.scss'\r\nimport { Actions } from './types'\r\n\r\nfunction SourceActions(props) {\r\n  const { sourceAction, setAction } = props\r\n\r\n  const actions = [\r\n    {\r\n      type: Actions.Swap,\r\n      message: <FormattedMessage id=\"swap\" defaultMessage=\"Swap\" />,\r\n    },\r\n    {\r\n      type: Actions.AddLiquidity,\r\n      message: <FormattedMessage id=\"addLiquidity\" defaultMessage=\"Add liquidity\" />,\r\n    },\r\n  ]\r\n\r\n  return (\r\n    <div styleName=\"actionsWrapper\">\r\n      {actions.map((action) => {\r\n        return (\r\n          <label styleName=\"actionLabel\">\r\n            <input\r\n              type=\"radio\"\r\n              name=\"sourceAction\"\r\n              defaultChecked={sourceAction === action.type}\r\n              onChange={() => setAction(action.type)}\r\n            />\r\n            {action.message}\r\n          </label>\r\n        )\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CSSModules(SourceActions, styles, { allowMultiple: true })\r\n","// extracted by mini-css-extract-plugin\nexport default {\"actionsWrapper\":\"Q5NXeodtf2zbt9IEyIFKzA==\",\"actionLabel\":\"RP7uXsujjkgtj2w2ZrDYrA==\"};","import { useState } from 'react'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport { isMobile } from 'react-device-detect'\r\nimport { BigNumber } from 'bignumber.js'\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './index.scss'\r\nimport commonUtils from 'common/utils'\r\nimport { AddressFormat, AddressType } from 'domain/address'\r\nimport { metamask, links, constants, localStorage, utils } from 'helpers'\r\nimport actions from 'redux/actions'\r\nimport { LIQUIDITY_SOURCE_DATA } from './constants'\r\nimport { SwapData } from './types'\r\nimport Address from 'components/ui/Address/Address'\r\nimport Copy from 'components/ui/Copy/Copy'\r\nimport Button from 'components/controls/Button/Button'\r\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\r\nimport { COIN_DECIMALS, MAX_PERCENT } from './constants'\r\nimport { ServiceFee } from './types'\r\nimport config from 'helpers/externalConfig'\r\n\r\n\r\nconst onlyEvmWallets = (config?.opts?.ui?.disableInternalWallet) ? true : false\r\n\r\ntype ComponentProps = {\r\n  history: any\r\n  isSourceMode: boolean\r\n  slippage: number\r\n  network: EvmNetworkConfig\r\n  swapData?: SwapData\r\n  swapFee: string\r\n  spendedAmount: string\r\n  baseChainWallet: IUniversalObj\r\n  fromWallet: IUniversalObj\r\n  toWallet: IUniversalObj\r\n  fiat: string\r\n  serviceFee: ServiceFee | false\r\n}\r\n\r\nfunction UserInfo(props: ComponentProps) {\r\n  const {\r\n    history,\r\n    isSourceMode,\r\n    slippage,\r\n    network,\r\n    swapData,\r\n    swapFee,\r\n    fromWallet,\r\n    toWallet,\r\n    spendedAmount,\r\n    baseChainWallet,\r\n    fiat,\r\n    serviceFee,\r\n  } = props\r\n\r\n  const mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\r\n  const [mnemonicSaved, setMnemonicSaved] = useState(mnemonic === '-')\r\n\r\n  const isWalletCreated = localStorage.getItem(constants.localStorage.isWalletCreate)\r\n  const saveSecretPhrase = !mnemonicSaved && !metamask.isConnected()\r\n\r\n  const saveMnemonic = () => {\r\n    actions.modals.open(constants.modals.SaveWalletSelectMethod, {\r\n      onClose: () => {\r\n        const mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\r\n\r\n        setMnemonicSaved(mnemonic === '-')\r\n      },\r\n    })\r\n  }\r\n\r\n  const createWallet = () => {\r\n    const walletName = fromWallet.tokenKey || fromWallet.currency\r\n\r\n    history.push(`${links.createWallet}/${walletName.toUpperCase()}`)\r\n  }\r\n\r\n  const connectWallet = () => {\r\n    metamask.connect({ dontRedirect: true })\r\n  }\r\n\r\n  let fee: string | undefined = undefined\r\n  let total: string | undefined = undefined\r\n  let fiatFee: string | undefined = undefined\r\n  let totalFiat: string | undefined = undefined\r\n  let price: string | undefined = undefined\r\n\r\n  if (swapData) {\r\n    const { sellAmount, buyAmount } = swapData\r\n\r\n    const fromAmount = commonUtils.amount.formatWithoutDecimals(\r\n      sellAmount,\r\n      fromWallet.decimals ?? COIN_DECIMALS\r\n    )\r\n    const toAmount = commonUtils.amount.formatWithoutDecimals(\r\n      buyAmount,\r\n      toWallet.decimals ?? COIN_DECIMALS\r\n    )\r\n    const howMuchToDisplay = 7\r\n\r\n    price = `${new BigNumber(fromAmount).div(toAmount).dp(howMuchToDisplay).toString()} ${\r\n      fromWallet.currency\r\n    } / ${toWallet.currency}`\r\n\r\n    const totalAmount = new BigNumber(spendedAmount).plus(swapFee).dp(howMuchToDisplay)\r\n\r\n    fee = `${new BigNumber(swapFee).dp(howMuchToDisplay)} ${network.currency}`\r\n\r\n    // don't show total amount for tokens. Show only transaction fee\r\n    if (!fromWallet.isToken) {\r\n      total = `${totalAmount} ${network.currency}`\r\n    }\r\n\r\n    if (baseChainWallet.infoAboutCurrency?.price) {\r\n      const fixedAmount = utils.toMeaningfulFloatValue({\r\n        value: swapFee,\r\n        rate: baseChainWallet.infoAboutCurrency.price,\r\n      })\r\n      const fixedTotalAmount = utils.toMeaningfulFloatValue({\r\n        value: totalAmount,\r\n        rate: baseChainWallet.infoAboutCurrency.price,\r\n      })\r\n\r\n      fiatFee = `(${fixedAmount} ${fiat})`\r\n      totalFiat = `(${fixedTotalAmount} ${fiat})`\r\n    }\r\n  }\r\n\r\n  const connectWalletButton = (\r\n    <Button\r\n      id=\"connectWalletBtn\"\r\n      brand\r\n      fullWidth\r\n      styleName=\"walletButton\"\r\n      onClick={connectWallet}\r\n    >\r\n      <FormattedMessage id=\"Exchange_ConnectAddressOption\" defaultMessage=\"Connect Wallet\" />\r\n    </Button>\r\n  )\r\n  const walletAddressBlock = (\r\n    <span styleName=\"indicator\">\r\n      <FormattedMessage id=\"addressOfYourWallet\" defaultMessage=\"Address of your wallet:\" />\r\n\r\n      <Copy text={fromWallet.address}>\r\n        <span styleName=\"value address\">\r\n          <Address\r\n            address={fromWallet.address}\r\n            format={isMobile ? AddressFormat.Short : AddressFormat.Full}\r\n            type={metamask.isConnected() ? AddressType.Metamask : AddressType.Internal}\r\n          />\r\n        </span>\r\n      </Copy>\r\n    </span>\r\n  )\r\n\r\n  return (\r\n    <section styleName=\"userInfo\">\r\n      {onlyEvmWallets ? (\r\n        <>\r\n          {!metamask.isConnected() ? (\r\n            <>{connectWalletButton}</>\r\n          ) : (\r\n            <>{walletAddressBlock}</>\r\n          )}\r\n        </>\r\n      ) : (\r\n        <>\r\n          {!metamask.isConnected() && (!isWalletCreated || !mnemonicSaved) && (\r\n            <>{connectWalletButton}</>\r\n          )}\r\n          {!isWalletCreated ? (\r\n            <Button id=\"createWalletBtn\" styleName=\"walletButton\" gray fullWidth onClick={createWallet}>\r\n              <FormattedMessage id=\"menu.CreateWallet\" defaultMessage=\"Create wallet\" />\r\n            </Button>\r\n          ) : saveSecretPhrase ? (\r\n            <Button\r\n              id=\"saveSecretPhraseBtn\"\r\n              styleName=\"walletButton\"\r\n              gray\r\n              fullWidth\r\n              onClick={saveMnemonic}\r\n            >\r\n              <FormattedMessage id=\"BTCMS_SaveMnemonicButton\" defaultMessage=\"Save secret phrase\" />\r\n            </Button>\r\n          ) : (\r\n            <>{walletAddressBlock}</>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      <span styleName=\"indicator\">\r\n        <FormattedMessage id=\"network\" defaultMessage=\"Network\" />:{' '}\r\n        <span styleName=\"value\">{network.chainName}</span>\r\n      </span>\r\n\r\n      {isSourceMode && (\r\n        <span styleName=\"indicator\">\r\n          <FormattedMessage id=\"source\" defaultMessage=\"Source\" />:{' '}\r\n          <span styleName=\"value\">{LIQUIDITY_SOURCE_DATA[network.networkVersion]?.name}</span>\r\n        </span>\r\n      )}\r\n\r\n      <span styleName=\"indicator\">\r\n        <span>\r\n          <FormattedMessage id=\"slippageTolerance\" defaultMessage=\"Slippage tolerance\" />{' '}\r\n          <Tooltip id=\"slippageTolerance\">\r\n            <FormattedMessage\r\n              id=\"slippageNotice\"\r\n              defaultMessage=\"Your transaction will revert if the price changes unfavorably by more than this percentage\"\r\n            />\r\n          </Tooltip>\r\n          :\r\n        </span>\r\n        <span styleName=\"value\">{slippage}%</span>\r\n      </span>\r\n\r\n      {serviceFee && !isSourceMode && (\r\n        <span styleName=\"indicator\">\r\n          <span>\r\n            <FormattedMessage id=\"FeeInfoBlockServiceFee\" defaultMessage=\"Service fee\" />{' '}\r\n            <Tooltip id=\"FeeInfoBlockServiceFee\">\r\n              <FormattedMessage\r\n                id=\"aggregatorFeeDescription\"\r\n                defaultMessage=\"The percentage of the purchase amount that charged as a commission\"\r\n              />\r\n            </Tooltip>\r\n            :\r\n          </span>\r\n          <span styleName=\"value\">\r\n            {new BigNumber(serviceFee.percent).multipliedBy(MAX_PERCENT).toNumber()}%\r\n          </span>\r\n        </span>\r\n      )}\r\n\r\n      {price && (\r\n        <span styleName=\"indicator\">\r\n          <FormattedMessage id=\"orders105\" defaultMessage=\"Price\" />:{' '}\r\n          <span styleName=\"value\">{price}</span>\r\n        </span>\r\n      )}\r\n\r\n      {swapFee && fee && (\r\n        <span styleName=\"indicator\">\r\n          <FormattedMessage id=\"fee\" defaultMessage=\"Fee\" />:{' '}\r\n          <span styleName=\"value\">\r\n            {fee} {fiatFee && fiatFee}\r\n          </span>\r\n        </span>\r\n      )}\r\n\r\n      {total && spendedAmount && swapFee && (\r\n        <span styleName=\"indicator\">\r\n          <FormattedMessage id=\"total\" defaultMessage=\"Total\" />:{' '}\r\n          <span styleName=\"value\">\r\n            {total} {totalFiat && totalFiat}\r\n          </span>\r\n        </span>\r\n      )}\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default CSSModules(UserInfo, styles, { allowMultiple: true })\r\n","import CSSModules from 'react-css-modules'\r\nimport styles from './index.scss'\r\nimport FieldLabel from 'components/forms/FieldLabel/FieldLabel'\r\nimport Input from 'components/forms/Input/Input'\r\n\r\nconst doNothing = () => {}\r\n\r\nfunction InputRow(props) {\r\n  const {\r\n    labelMessage,\r\n    labelTooltip,\r\n    disabled = false,\r\n    onKeyUp = doNothing,\r\n    onKeyDown = doNothing,\r\n    valueLink,\r\n    styleName = '',\r\n    placeholder = '',\r\n    margin = false,\r\n  } = props\r\n\r\n  return (\r\n    <div styleName={`inputWrapper ${disabled ? 'disabled' : ''}`}>\r\n      <FieldLabel>\r\n        {labelMessage} {labelTooltip}\r\n      </FieldLabel>\r\n      <Input\r\n        disabled={disabled}\r\n        styleName={styleName}\r\n        pattern=\"0-9\\.\"\r\n        onKeyDown={onKeyDown}\r\n        onKeyUp={onKeyUp}\r\n        valueLink={valueLink}\r\n        withMargin={margin}\r\n        placeholder={placeholder}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CSSModules(InputRow, styles, { allowMultiple: true })\r\n","import { useState, useEffect } from 'react'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport CSSModules from 'react-css-modules'\r\nimport commonStyles from './index.scss'\r\nimport styles from './Settings.scss'\r\nimport { inputReplaceCommaWithDot } from 'helpers/domUtils'\r\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\r\nimport { SOURCE_MODE_SLIPPAGE } from './constants'\r\nimport InputRow from './InputRow'\r\n\r\nfunction Settings(props) {\r\n  const { isSourceMode, stateReference, onInputDataChange, resetSwapData, slippage } = props\r\n\r\n  const keyUpHandler = () => {\r\n    setTimeout(onInputDataChange, 300)\r\n  }\r\n\r\n  const keyDownHandler = (event) => {\r\n    inputReplaceCommaWithDot(event)\r\n    resetSwapData()\r\n  }\r\n\r\n  const [lowSlippage, setLowSlippage] = useState<boolean>(false)\r\n  const [frontrunSlippageRange, setFrontrunRange] = useState<boolean>(false)\r\n  const [maxSlippageRange, setMaxSlippageRange] = useState<boolean>(false)\r\n\r\n  useEffect(() => {\r\n    setLowSlippage(slippage < SOURCE_MODE_SLIPPAGE.FAIL)\r\n    setFrontrunRange(\r\n      slippage > SOURCE_MODE_SLIPPAGE.FRONTRUN && slippage < SOURCE_MODE_SLIPPAGE.MAX\r\n    )\r\n    setMaxSlippageRange(slippage >= SOURCE_MODE_SLIPPAGE.MAX)\r\n  }, [slippage])\r\n\r\n  return (\r\n    <section styleName=\"settings\">\r\n      <InputRow\r\n        margin\r\n        onKeyUp={keyUpHandler}\r\n        onKeyDown={inputReplaceCommaWithDot}\r\n        valueLink={stateReference.slippage}\r\n        labelMessage={\r\n          <>\r\n            <FormattedMessage id=\"slippageTolerance\" defaultMessage=\"Slippage tolerance\" />\r\n            {' (%)'}\r\n          </>\r\n        }\r\n        labelTooltip={\r\n          <Tooltip id=\"slippageTooltip\">\r\n            <FormattedMessage\r\n              id=\"slippageNotice\"\r\n              defaultMessage=\"Your transaction will revert if the price changes unfavorably by more than this percentage\"\r\n            />\r\n          </Tooltip>\r\n        }\r\n      />\r\n\r\n      {isSourceMode && (\r\n        <InputRow\r\n          margin\r\n          onKeyDown={inputReplaceCommaWithDot}\r\n          valueLink={stateReference.userDeadline}\r\n          labelMessage={\r\n            <FormattedMessage\r\n              id=\"transactionDeadline\"\r\n              defaultMessage=\"Transaction deadline (minutes)\"\r\n            />\r\n          }\r\n        />\r\n      )}\r\n\r\n      <InputRow\r\n        margin\r\n        disabled={isSourceMode}\r\n        placeholder=\"auto\"\r\n        onKeyUp={keyUpHandler}\r\n        onKeyDown={keyDownHandler}\r\n        valueLink={stateReference.gasPrice}\r\n        labelMessage={\r\n          <>\r\n            <FormattedMessage id=\"gasPrice\" defaultMessage=\"Gas price\" /> (GWEI)\r\n          </>\r\n        }\r\n        labelTooltip={\r\n          <Tooltip id=\"gasPriceTooltip\">\r\n            <FormattedMessage\r\n              id=\"gasPriceNotice\"\r\n              defaultMessage=\"Gas price specifies the amount of Ether you are willing to pay for each unit of gas\"\r\n            />\r\n          </Tooltip>\r\n        }\r\n      />\r\n\r\n      <InputRow\r\n        disabled={isSourceMode}\r\n        placeholder=\"auto\"\r\n        onKeyUp={keyUpHandler}\r\n        onKeyDown={keyDownHandler}\r\n        valueLink={stateReference.gasLimit}\r\n        labelMessage={<FormattedMessage id=\"gasLimit\" defaultMessage=\"Gas limit\" />}\r\n        labelTooltip={\r\n          <Tooltip id=\"gasLimitTooltip\">\r\n            <FormattedMessage\r\n              id=\"gasLimitNotice\"\r\n              defaultMessage=\"Gas limit is the maximum amount of units of gas you are willing to spend\"\r\n            />\r\n          </Tooltip>\r\n        }\r\n      />\r\n\r\n      <div styleName=\"messagesWrapper\">\r\n        {lowSlippage ? (\r\n          <p styleName=\"warningNotice\">\r\n            <FormattedMessage id=\"transactionMayFail\" defaultMessage=\"Transaction may fail\" />\r\n          </p>\r\n        ) : frontrunSlippageRange ? (\r\n          <p styleName=\"warningNotice\">\r\n            <FormattedMessage\r\n              id=\"transactionMayBeFrontrun\"\r\n              defaultMessage=\"Transaction may be frontrun\"\r\n            />\r\n          </p>\r\n        ) : maxSlippageRange ? (\r\n          <p styleName=\"dangerousNotice\">\r\n            <FormattedMessage\r\n              id=\"invalidSlippagePercent\"\r\n              defaultMessage=\"Invalid slippage percent\"\r\n            />\r\n          </p>\r\n        ) : null}\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default CSSModules(Settings, { ...styles, ...commonStyles }, { allowMultiple: true })\r\n","// extracted by mini-css-extract-plugin\nexport default {\"settings\":\"swGIYvAe9ZUBaeNCCWjL+w==\",\"messagesWrapper\":\"WfXsT7tLK+UJ-hA+OTkqxw==\"};","import { BigNumber } from 'bignumber.js'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './index.scss'\r\nimport { BlockReasons, Actions } from './types'\r\nimport { SWAP_API } from './constants'\r\n\r\nfunction Feedback(props) {\r\n  const {\r\n    network,\r\n    isSourceMode,\r\n    blockReason,\r\n    baseChainWallet,\r\n    spendedAmount,\r\n    insufficientBalanceA,\r\n    insufficientBalanceB,\r\n    wrongNetwork,\r\n    needApproveA,\r\n    needApproveB,\r\n    spendedCurrency,\r\n    receivedCurrency,\r\n    error,\r\n    sourceAction,\r\n  } = props\r\n\r\n  return (\r\n    <section>\r\n      {!isSourceMode && !SWAP_API[network?.networkVersion] ? (\r\n        <p styleName=\"dangerousNotice\">\r\n          <FormattedMessage\r\n            id=\"aggregatorCannotUseThisNetwork\"\r\n            defaultMessage=\"Aggregator cannot use this network. Please choose another\"\r\n          />\r\n        </p>\r\n      ) : wrongNetwork ? (\r\n        <p styleName=\"dangerousNotice\">\r\n          <FormattedMessage id=\"incorrectNetwork\" defaultMessage=\"Please choose correct network\" />\r\n        </p>\r\n      ) : blockReason === BlockReasons.PairDoesNotExist &&\r\n        isSourceMode &&\r\n        sourceAction !== Actions.AddLiquidity ? (\r\n        <p styleName=\"neutralNotice\">\r\n          <FormattedMessage\r\n            id=\"liquidityPairDoesNotExist\"\r\n            defaultMessage=\"This pair does not have liquidity. You can create a new one and be the first liquidity provider\"\r\n          />\r\n        </p>\r\n      ) : !spendedAmount ? (\r\n        <p styleName=\"neutralNotice\">\r\n          <FormattedMessage id=\"enterYouSend\" defaultMessage='Enter \"You send\" amount' />\r\n        </p>\r\n      ) : new BigNumber(baseChainWallet?.balance).isEqualTo(0) ? (\r\n        <p styleName=\"warningNotice\">\r\n          <FormattedMessage\r\n            id=\"doNotHaveNativeCurrencyBalance\"\r\n            defaultMessage=\"You do not have native currency balance to pay the transaction fee\"\r\n          />\r\n        </p>\r\n      ) : insufficientBalanceA ? (\r\n        <p styleName=\"warningNotice\">\r\n          <FormattedMessage\r\n            id=\"topUpCurrencyBalance\"\r\n            defaultMessage=\"Please top up {currency} balance\"\r\n            values={{ currency: spendedCurrency?.name }}\r\n          />\r\n        </p>\r\n      ) : insufficientBalanceB && sourceAction === Actions.AddLiquidity ? (\r\n        <p styleName=\"warningNotice\">\r\n          <FormattedMessage\r\n            id=\"topUpCurrencyBalance\"\r\n            defaultMessage=\"Please top up {currency} balance\"\r\n            values={{ currency: receivedCurrency?.name }}\r\n          />\r\n        </p>\r\n      ) : needApproveA && needApproveB && sourceAction === Actions.AddLiquidity ? (\r\n        <p styleName=\"warningNotice\">\r\n          <FormattedMessage\r\n            id=\"approveBothTokens\"\r\n            defaultMessage=\"Please approve both tokens first\"\r\n          />\r\n        </p>\r\n      ) : needApproveA ? (\r\n        <p styleName=\"warningNotice\">\r\n          <FormattedMessage\r\n            id=\"approveTokenFirst\"\r\n            defaultMessage=\"Please approve {token} first\"\r\n            values={{ token: spendedCurrency.name }}\r\n          />\r\n        </p>\r\n      ) : needApproveB && sourceAction === Actions.AddLiquidity ? (\r\n        <p styleName=\"warningNotice\">\r\n          <FormattedMessage\r\n            id=\"approveTokenFirst\"\r\n            defaultMessage=\"Please approve {token} first\"\r\n            values={{ token: receivedCurrency.name }}\r\n          />\r\n        </p>\r\n      ) : blockReason === BlockReasons.InsufficientSlippage ? (\r\n        <p styleName=\"warningNotice\">\r\n          <FormattedMessage\r\n            id=\"insufficientSlippage\"\r\n            defaultMessage=\"Insufficient slippage. Try to increase it\"\r\n          />\r\n        </p>\r\n      ) : blockReason === BlockReasons.NoLiquidity ? (\r\n        <p styleName=\"neutralNotice\">\r\n          <FormattedMessage\r\n            id=\"insufficientLiquidity\"\r\n            defaultMessage=\"Insufficient pool liquidity\"\r\n          />\r\n        </p>\r\n      ) : blockReason === BlockReasons.Liquidity ? (\r\n        <p styleName=\"neutralNotice\">\r\n          <FormattedMessage\r\n            id=\"liquidityPoolProblem\"\r\n            defaultMessage=\"There is some problem with liquidity pool. Try to exchange with a Source section\"\r\n          />\r\n        </p>\r\n      ) : blockReason === BlockReasons.Unknown ? (\r\n        <p styleName=\"dangerousNotice\">\r\n          <FormattedMessage\r\n            id=\"unknownSwapProblemHasOccurred\"\r\n            defaultMessage=\"Unknown problem has occurred\"\r\n          />\r\n        </p>\r\n      ) : null}\r\n\r\n      {error && <pre styleName=\"dangerousNotice\">{error?.message}</pre>}\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default CSSModules(Feedback, styles, { allowMultiple: true })\r\n","import { FormattedMessage } from 'react-intl'\r\nimport { useState } from 'react'\r\nimport { Modal } from 'components/modal'\r\nimport Button from 'components/controls/Button/Button'\r\nimport UserInfo from './UserInfo'\r\nimport { SwapInfo, SwapData } from './types'\r\n\r\ninterface Props {\r\n  onSwap: VoidFunction\r\n  onClose: VoidFunction\r\n  history: any,\r\n  isPending: boolean,\r\n  data: SwapData | undefined\r\n}\r\n\r\nexport default function ReviewSwapModal(props: Props & SwapInfo) {\r\n  const {\r\n    isPending,\r\n    data,\r\n    onSwap,\r\n    onClose,\r\n    history,\r\n    swapFee,\r\n    fiat,\r\n    serviceFee,\r\n    slippage,\r\n    network,\r\n    spendedAmount,\r\n    baseChainWallet,\r\n    fromWallet,\r\n    toWallet,\r\n  } = props\r\n\r\n  const [isSwapStarted, setIsSwapStarted] = useState(false)\r\n\r\n  const startSwap = () => {\r\n    setIsSwapStarted(true)\r\n    onSwap()\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      name={'Preview swap'}\r\n      title={<FormattedMessage id=\"previewSwap\" defaultMessage=\"Preview swap\" />}\r\n      onClose={onClose}\r\n      showCloseButton\r\n    >\r\n      <div className=\"swapPreviewWrapper\">\r\n        {!isPending && (\r\n          <UserInfo\r\n            history={history}\r\n            isSourceMode={false}\r\n            slippage={slippage}\r\n            network={network}\r\n            swapData={data}\r\n            swapFee={swapFee}\r\n            spendedAmount={spendedAmount}\r\n            baseChainWallet={baseChainWallet}\r\n            fromWallet={fromWallet}\r\n            toWallet={toWallet}\r\n            fiat={fiat}\r\n            serviceFee={serviceFee}\r\n          />\r\n        )}\r\n        {isSwapStarted && (\r\n          <p className=\"swapInProgressMessage\">\r\n            <FormattedMessage id=\"waitUntilSwapComplete\" defaultMessage=\"Please wait until the swap is complete\" />\r\n          </p>\r\n        )}\r\n        <Button pending={isPending} disabled={isPending} onClick={startSwap} brand fullWidth>\r\n          <FormattedMessage id=\"swap\" defaultMessage=\"Swap\" />\r\n        </Button>\r\n      </div>\r\n    </Modal>\r\n  )\r\n}\r\n","import { FormattedMessage } from 'react-intl'\r\nimport { useState } from 'react'\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './index.scss'\r\nimport utils from 'common/utils'\r\nimport ADDRESSES from 'common/helpers/constants/ADDRESSES'\r\nimport actions from 'redux/actions'\r\nimport { feedback, externalConfig, constants, transactions, routing } from 'helpers'\r\nimport { ComponentState, BlockReasons, Actions, Direction } from './types'\r\nimport {\r\n  SWAP_API,\r\n  GWEI_DECIMALS,\r\n  COIN_DECIMALS,\r\n  LIQUIDITY_SOURCE_DATA,\r\n  SEC_PER_MINUTE,\r\n} from './constants'\r\nimport Button from 'components/controls/Button/Button'\r\nimport ReviewSwapModal from './ReviewSwapModal'\r\n\r\ntype FooterProps = {\r\n  history: any\r\n  parentState: ComponentState\r\n  insufficientBalanceA: boolean\r\n  insufficientBalanceB: boolean\r\n  isSourceMode: boolean\r\n  sourceAction: Actions\r\n  reportError: (e: IError) => void\r\n  resetSwapData: VoidFunction\r\n  resetSpendedAmount: VoidFunction\r\n  setBlockReason: (a: BlockReasons) => void\r\n  isApiRequestBlocking: () => boolean\r\n  setPending: (a: boolean) => void\r\n  onInputDataChange: VoidFunction\r\n  finalizeApiSwapData: () => Promise<void>\r\n  baseChainWallet: IUniversalObj\r\n}\r\n\r\nfunction Footer(props: FooterProps) {\r\n  const {\r\n    history,\r\n    parentState,\r\n    isSourceMode,\r\n    sourceAction,\r\n    reportError,\r\n    setBlockReason,\r\n    resetSwapData,\r\n    resetSpendedAmount,\r\n    isApiRequestBlocking,\r\n    insufficientBalanceA,\r\n    insufficientBalanceB,\r\n    setPending,\r\n    baseChainWallet,\r\n    onInputDataChange,\r\n    finalizeApiSwapData,\r\n  } = props\r\n  const {\r\n    blockReason,\r\n    network,\r\n    spendedAmount,\r\n    fromWallet,\r\n    spendedCurrency,\r\n    receivedCurrency,\r\n    toWallet,\r\n    swapData,\r\n    gasLimit,\r\n    gasPrice,\r\n    needApproveA,\r\n    needApproveB,\r\n    isPending,\r\n    receivedAmount,\r\n    userDeadline,\r\n    error,\r\n    slippage,\r\n    currentLiquidityPair,\r\n    swapFee,\r\n    serviceFee,\r\n    fiat,\r\n  } = parentState\r\n\r\n  const [finalizeSwap, setFinalizeSwap] = useState<boolean>(false)\r\n\r\n  const startSwapReview = async () => {\r\n    setFinalizeSwap(true)\r\n    await finalizeApiSwapData()\r\n  }\r\n\r\n  const approve = async (direction) => {\r\n    const spender: `0x${number}` = isSourceMode\r\n      ? LIQUIDITY_SOURCE_DATA[network.networkVersion]?.router\r\n      : externalConfig.swapContract[SWAP_API[network.networkVersion].spender]\r\n\r\n    let wallet = fromWallet\r\n    let amount = spendedAmount\r\n\r\n    if (direction === Direction.Receive) {\r\n      wallet = toWallet\r\n      amount = receivedAmount\r\n    }\r\n\r\n    setPending(true)\r\n\r\n    try {\r\n      const transactionHash = await actions[wallet.standard].approve({\r\n        to: spender,\r\n        name: wallet.tokenKey,\r\n        amount,\r\n      })\r\n\r\n      actions.notifications.show(constants.notifications.Transaction, {\r\n        link: transactions.getLink(wallet.standard, transactionHash),\r\n      })\r\n\r\n      setPending(false)\r\n      await onInputDataChange()\r\n    } catch (error) {\r\n      reportError(error)\r\n    }\r\n  }\r\n\r\n  const apiSwap = async () => {\r\n    if (isSourceMode) return\r\n    if (!swapData) throw new Error('No swap data. Can not complete swap')\r\n    if (swapData.to !== externalConfig.swapContract[SWAP_API[network.networkVersion].spender]) {\r\n      return console.log('%c0x constant proxy is not equal to swap transaction proxy', 'color:red')\r\n    }\r\n\r\n    const baseCurrency = fromWallet.standard ? fromWallet.baseCurrency : fromWallet.currency\r\n    const assetName = fromWallet.standard ? fromWallet.tokenKey : fromWallet.currency\r\n\r\n    feedback.zerox.startedSwap(\r\n      `Network: ${network.chainName}. ${fromWallet.currency} -> ${toWallet.currency}`\r\n    )\r\n    setPending(true)\r\n\r\n    try {\r\n      if (gasLimit) swapData.gas = gasLimit\r\n      if (gasPrice) swapData.gasPrice = utils.amount.formatWithDecimals(gasPrice, GWEI_DECIMALS)\r\n\r\n      const txHash = await actions[baseCurrency.toLowerCase()].sendReadyTransaction({\r\n        data: swapData,\r\n      })\r\n\r\n      if (txHash) {\r\n        const txInfoUrl = transactions.getTxRouter(assetName.toLowerCase(), txHash)\r\n        routing.redirectTo(txInfoUrl)\r\n      }\r\n\r\n      resetSwapData()\r\n      resetSpendedAmount()\r\n    } catch (error) {\r\n      reportError(error)\r\n    }\r\n\r\n    setPending(false)\r\n    setFinalizeSwap(false)\r\n  }\r\n\r\n  const directSwap = async () => {\r\n    if (sourceAction !== Actions.Swap || !isSourceMode) return\r\n\r\n    const baseCurrency = fromWallet.standard ? fromWallet.baseCurrency : fromWallet.currency\r\n\r\n    feedback.liquiditySource.startedSwap(\r\n      `Network: ${network.chainName}. Source: ${\r\n        LIQUIDITY_SOURCE_DATA[network.networkVersion]?.name\r\n      }. Route: ${fromWallet.currency} -> ${toWallet.currency}`\r\n    )\r\n    setPending(true)\r\n\r\n    try {\r\n      const result = await actions.uniswap.swapCallback({\r\n        slippage,\r\n        routerAddress: LIQUIDITY_SOURCE_DATA[network.networkVersion]?.router,\r\n        baseCurrency,\r\n        owner: fromWallet.address,\r\n        fromToken: fromWallet.contractAddress ?? ADDRESSES.EVM_COIN_ADDRESS,\r\n        sellAmount: spendedAmount,\r\n        fromTokenDecimals: fromWallet.decimals ?? COIN_DECIMALS,\r\n        toToken: toWallet.contractAddress ?? ADDRESSES.EVM_COIN_ADDRESS,\r\n        buyAmount: receivedAmount,\r\n        toTokenDecimals: toWallet.decimals ?? COIN_DECIMALS,\r\n        deadlinePeriod: userDeadline * SEC_PER_MINUTE,\r\n        useFeeOnTransfer: true,\r\n      })\r\n\r\n      setPending(false)\r\n\r\n      if (result instanceof Error) {\r\n        if (result?.message?.match(/INSUFFICIENT_OUTPUT_AMOUNT/)) {\r\n          setBlockReason(BlockReasons.InsufficientSlippage)\r\n        } else {\r\n          reportError(result)\r\n        }\r\n      } else if (result?.transactionHash) {\r\n        const txInfoUrl = transactions.getTxRouter(\r\n          fromWallet.standard ? fromWallet.tokenKey : fromWallet.currency,\r\n          result.transactionHash\r\n        )\r\n\r\n        routing.redirectTo(txInfoUrl)\r\n      }\r\n    } catch (error) {\r\n      reportError(error)\r\n    }\r\n\r\n    setPending(false)\r\n  }\r\n\r\n  const addLiquidity = async () => {\r\n    if (sourceAction !== Actions.AddLiquidity || !isSourceMode) return\r\n\r\n    feedback.liquiditySource.addLiquidity(\r\n      `Source: ${LIQUIDITY_SOURCE_DATA[network.networkVersion]?.name}. Asset A: ${\r\n        fromWallet.currency\r\n      }. Asset B: ${toWallet.currency}`\r\n    )\r\n    setPending(true)\r\n\r\n    try {\r\n      const result = await actions.uniswap.addLiquidityCallback({\r\n        routerAddress: LIQUIDITY_SOURCE_DATA[network.networkVersion]?.router,\r\n        baseCurrency: baseChainWallet.currency,\r\n        // don't use slippage for the first pair creation\r\n        slippage: currentLiquidityPair ? slippage : 0,\r\n        tokenA: fromWallet.contractAddress ?? ADDRESSES.EVM_COIN_ADDRESS,\r\n        tokenADecimals: fromWallet.decimals ?? COIN_DECIMALS,\r\n        amountADesired: spendedAmount,\r\n        tokenB: toWallet.contractAddress ?? ADDRESSES.EVM_COIN_ADDRESS,\r\n        tokenBDecimals: toWallet.decimals ?? COIN_DECIMALS,\r\n        amountBDesired: receivedAmount,\r\n        owner: fromWallet.address,\r\n        deadlinePeriod: userDeadline * SEC_PER_MINUTE,\r\n      })\r\n\r\n      if (result?.transactionHash) {\r\n        const txInfoUrl = transactions.getTxRouter(\r\n          fromWallet.standard ? fromWallet.tokenKey : fromWallet.currency,\r\n          result.transactionHash\r\n        )\r\n\r\n        routing.redirectTo(txInfoUrl)\r\n      }\r\n    } catch (error) {\r\n      reportError(error)\r\n    } finally {\r\n      setPending(false)\r\n    }\r\n  }\r\n\r\n  const doNotMakeApiRequest = isApiRequestBlocking()\r\n\r\n  const commonBlockReasons =\r\n    isPending ||\r\n    (blockReason !== BlockReasons.NotApproved &&\r\n      !!error &&\r\n      !error.message?.match('transfer amount exceeds allowance'))\r\n  const formFilled = !!spendedAmount && !!receivedAmount\r\n\r\n  const approvingDoesNotMakeSense =\r\n    sourceAction === Actions.AddLiquidity &&\r\n    !currentLiquidityPair &&\r\n    (insufficientBalanceA || insufficientBalanceB)\r\n\r\n  const approveAIsAvailable =\r\n    !commonBlockReasons && !insufficientBalanceA && spendedAmount && needApproveA\r\n  const approveBIsAvailable =\r\n    !commonBlockReasons && !insufficientBalanceB && receivedAmount && needApproveB\r\n\r\n  const approveBIsNecessary = isSourceMode && sourceAction === Actions.AddLiquidity\r\n\r\n  const apiSwapIsAvailable = swapData && !doNotMakeApiRequest && !commonBlockReasons && formFilled\r\n\r\n  const directSwapIsAvailable =\r\n    !commonBlockReasons && !needApproveA && !insufficientBalanceA && formFilled\r\n\r\n  const addLiquidityIsAvailable =\r\n    !commonBlockReasons && !needApproveA && !needApproveB && !insufficientBalanceB && formFilled\r\n\r\n  return (\r\n    <div styleName=\"footer\">\r\n      {finalizeSwap && (\r\n        <ReviewSwapModal\r\n          isPending={isPending}\r\n          data={swapData}\r\n          onSwap={apiSwap}\r\n          onClose={() => setFinalizeSwap(false)}\r\n          history={history}\r\n          swapFee={swapFee}\r\n          fiat={fiat}\r\n          serviceFee={serviceFee}\r\n          slippage={slippage}\r\n          network={network}\r\n          spendedAmount={spendedAmount}\r\n          baseChainWallet={baseChainWallet}\r\n          fromWallet={fromWallet}\r\n          toWallet={toWallet}\r\n        />\r\n      )}\r\n      {needApproveA ? (\r\n        <Button\r\n          pending={isPending}\r\n          disabled={!approveAIsAvailable || approvingDoesNotMakeSense}\r\n          onClick={() => approve(Direction.Spend)}\r\n          fullWidth\r\n          brand\r\n        >\r\n          <FormattedMessage\r\n            id=\"FormattedMessageIdApprove\"\r\n            defaultMessage=\"Approve {token}\"\r\n            values={{ token: spendedCurrency.name }}\r\n          />\r\n        </Button>\r\n      ) : needApproveB && approveBIsNecessary ? (\r\n        <Button\r\n          pending={isPending}\r\n          disabled={!approveBIsAvailable || approvingDoesNotMakeSense}\r\n          onClick={() => approve(Direction.Receive)}\r\n          fullWidth\r\n          brand\r\n        >\r\n          <FormattedMessage\r\n            id=\"FormattedMessageIdApprove\"\r\n            defaultMessage=\"Approve {token}\"\r\n            values={{ token: receivedCurrency.name }}\r\n          />\r\n        </Button>\r\n      ) : !isSourceMode ? (\r\n        <Button pending={isPending} disabled={!apiSwapIsAvailable} onClick={startSwapReview} brand>\r\n          <FormattedMessage id=\"reviewSwap\" defaultMessage=\"Review swap\" />\r\n        </Button>\r\n      ) : sourceAction === Actions.Swap ? (\r\n        <Button pending={isPending} disabled={!directSwapIsAvailable} onClick={directSwap} brand>\r\n          <FormattedMessage id=\"swap\" defaultMessage=\"Swap\" />\r\n        </Button>\r\n      ) : sourceAction === Actions.AddLiquidity ? (\r\n        <Button\r\n          pending={isPending}\r\n          disabled={!addLiquidityIsAvailable}\r\n          onClick={addLiquidity}\r\n          brand\r\n        >\r\n          <FormattedMessage id=\"addLiquidity\" defaultMessage=\"Add liquidity\" />\r\n        </Button>\r\n      ) : null}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CSSModules(Footer, styles, { allowMultiple: true })\r\n","import { PureComponent } from 'react'\r\nimport { connect } from 'redaction'\r\nimport { BigNumber } from 'bignumber.js'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport CSSModules from 'react-css-modules'\r\nimport getCoinInfo from 'common/coins/getCoinInfo'\r\nimport utils from 'common/utils'\r\nimport erc20Like from 'common/erc20Like'\r\nimport { EVM_COIN_ADDRESS, ZERO_ADDRESS } from 'common/helpers/constants/ADDRESSES'\r\nimport {\r\n  apiLooper,\r\n  externalConfig,\r\n  constants,\r\n  localStorage,\r\n  metamask,\r\n  links,\r\n  user,\r\n  cacheStorageGet,\r\n  cacheStorageSet,\r\n  quickswap,\r\n} from 'helpers'\r\nimport { localisedUrl } from 'helpers/locale'\r\nimport actions from 'redux/actions'\r\nimport Link from 'local_modules/sw-valuelink'\r\nimport { buildApiSwapParams, estimateApiSwapData } from './swapApi'\r\nimport {\r\n  ComponentState,\r\n  Direction,\r\n  BlockReasons,\r\n  Sections,\r\n  Actions,\r\n  CurrencyMenuItem,\r\n} from './types'\r\nimport {\r\n  SWAP_API,\r\n  GWEI_DECIMALS,\r\n  COIN_DECIMALS,\r\n  API_GAS_LIMITS,\r\n  MAX_PERCENT,\r\n  LIQUIDITY_SOURCE_DATA,\r\n} from './constants'\r\n\r\nimport styles from './index.scss'\r\nimport TokenInstruction from './TokenInstruction'\r\nimport Header from './Header'\r\nimport InputForm from './InputForm'\r\nimport SourceActions from './SourceActions'\r\nimport UserInfo from './UserInfo'\r\nimport Settings from './Settings'\r\nimport Feedback from './Feedback'\r\nimport Footer from './Footer'\r\n\r\nconst QuickswapModes = {\r\n  aggregator: 'aggregator',\r\n  source: 'source',\r\n  only_aggregator: 'only_aggregator',\r\n  only_source: 'only_source',\r\n}\r\n\r\nconst CURRENCY_PLUG = {\r\n  blockchain: '-',\r\n  fullTitle: '-',\r\n  name: '-',\r\n  notExist: true,\r\n}\r\n\r\nclass QuickSwap extends PureComponent<IUniversalObj, ComponentState> {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const { match, activeFiat, allCurrencies, history } = props\r\n    const { params, path } = match\r\n\r\n    const mode = QuickswapModes[window.quickswapMode]\r\n    let onlyAggregator = false\r\n    let onlySource = false\r\n    let activeSection\r\n\r\n    switch (mode) {\r\n      case QuickswapModes.only_aggregator:\r\n        activeSection = Sections.Aggregator\r\n        onlyAggregator = true\r\n        break\r\n      case QuickswapModes.only_source:\r\n        activeSection = Sections.Source\r\n        onlySource = true\r\n        break\r\n      case QuickswapModes.aggregator:\r\n        activeSection = Sections.Aggregator\r\n        break\r\n      case QuickswapModes.source:\r\n        activeSection = Sections.Source\r\n        break\r\n      default:\r\n        activeSection = Sections.Aggregator\r\n    }\r\n\r\n    // for testnets API isn't available\r\n    if (externalConfig.entry === 'testnet') {\r\n      activeSection = Sections.Source\r\n      onlySource = true\r\n    }\r\n\r\n    const isSourceMode = activeSection === Sections.Source\r\n\r\n    let {\r\n      currentCurrencies,\r\n      receivedList,\r\n      spendedCurrency,\r\n      receivedCurrency,\r\n      wrongNetwork,\r\n    } = this.returnCurrentAssetState(allCurrencies, activeSection)\r\n\r\n    if (externalConfig.opts.defaultQuickSell) {\r\n      const defaultSellCurrency = allCurrencies.filter((curData) => curData.value.toUpperCase() === externalConfig.opts.defaultQuickSell.toUpperCase())\r\n      if (defaultSellCurrency.length) {\r\n        [spendedCurrency] = defaultSellCurrency\r\n        receivedList = this.returnReceivedList(allCurrencies, spendedCurrency)\r\n      }\r\n    }\r\n    if (externalConfig.opts.defaultQuickBuy) {\r\n      const defaultBuyCurrency = allCurrencies.filter((curData) => curData.value.toUpperCase() === externalConfig.opts.defaultQuickBuy.toUpperCase())\r\n      if (defaultBuyCurrency.length) [receivedCurrency] = defaultBuyCurrency\r\n    }\r\n\r\n    // if we have url parameters then show it as default values\r\n    if (!wrongNetwork && path.match(/\\/quick/) && params.sell && params.buy) {\r\n      const urlSpendedCurrency = currentCurrencies.find(\r\n        (item) => item.value.toLowerCase() === params.sell.toLowerCase(),\r\n      )\r\n      if (!urlSpendedCurrency) history.push(localisedUrl('', `${links.quickSwap}`))\r\n\r\n      const urlReceivedList = this.returnReceivedList(currentCurrencies, urlSpendedCurrency)\r\n      const urlReceivedCurrency = urlReceivedList.find(\r\n        (item) => item.value.toLowerCase() === params.buy.toLowerCase(),\r\n      )\r\n\r\n      if (!urlReceivedCurrency) history.push(localisedUrl('', `${links.quickSwap}`))\r\n\r\n      // reassigning these variables only if url is correct\r\n      if (urlSpendedCurrency && urlReceivedList && urlReceivedCurrency) {\r\n        spendedCurrency = urlSpendedCurrency\r\n        receivedList = urlReceivedList\r\n        receivedCurrency = urlReceivedCurrency\r\n      }\r\n    }\r\n\r\n    const baseChainWallet = actions.core.getWallet({\r\n      currency: spendedCurrency.blockchain || spendedCurrency.value,\r\n    })\r\n    const fromWallet = actions.core.getWallet({\r\n      currency: spendedCurrency.value,\r\n    })\r\n    const toWallet = actions.core.getWallet({\r\n      currency: receivedCurrency.value,\r\n    })\r\n\r\n    this.state = {\r\n      error: null,\r\n      liquidityErrorMessage: '',\r\n      isPending: false,\r\n      isSourceMode,\r\n      onlyAggregator,\r\n      onlySource,\r\n      activeSection,\r\n      needApproveA: false,\r\n      needApproveB: false,\r\n      externalExchangeReference: null,\r\n      externalWindowTimer: null,\r\n      currentLiquidityPair: null,\r\n      fiat: window.DEFAULT_FIAT || activeFiat,\r\n      currencies: currentCurrencies,\r\n      receivedList,\r\n      baseChainWallet,\r\n      spendedCurrency,\r\n      spendedAmount: '',\r\n      fromWallet: fromWallet || {},\r\n      receivedCurrency,\r\n      receivedAmount: '',\r\n      toWallet: toWallet || {},\r\n      sourceAction: Actions.Swap,\r\n      slippage: 0.5,\r\n      userDeadline: 20,\r\n      slippageMaxRange: 100,\r\n      wrongNetwork,\r\n      network:\r\n        externalConfig.evmNetworks[\r\n          spendedCurrency.blockchain || spendedCurrency.value.toUpperCase()\r\n        ],\r\n      swapData: undefined,\r\n      swapFee: '',\r\n      gasPrice: '',\r\n      gasLimit: '',\r\n      blockReason: undefined,\r\n      serviceFee: false,\r\n      zeroxApiKey: window.zeroxApiKey || '',\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.updateNetwork()\r\n    this.updateServiceFeeData()\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { metamaskData, availableBlockchains } = this.props\r\n    const { metamaskData: prevMetamaskData } = prevProps\r\n    const { wrongNetwork: prevWrongNetwork, activeSection: prevActiveSection } = prevState\r\n    const { blockReason, currencies, spendedCurrency, activeSection, wrongNetwork: curWrongNetwork } = this.state\r\n\r\n    const chainId = metamask.getChainId()\r\n    const isCurrentNetworkAvailable = !!availableBlockchains[chainId]\r\n    const isSpendedCurrencyNetworkAvailable = metamask.isAvailableNetworkByCurrency(spendedCurrency.value)\r\n    const switchToCorrectNetwork = prevWrongNetwork\r\n      && (isSpendedCurrencyNetworkAvailable || isCurrentNetworkAvailable)\r\n    const switchToWrongNetwork = !prevWrongNetwork && !isSpendedCurrencyNetworkAvailable\r\n    const switchFromWrongToWrong = prevWrongNetwork && curWrongNetwork\r\n    const disconnect = prevMetamaskData.isConnected && !metamaskData.isConnected\r\n\r\n    let needFullUpdate = (\r\n      disconnect\r\n      || (\r\n        metamaskData.isConnected\r\n        && (\r\n          (\r\n            (\r\n              switchToCorrectNetwork\r\n              || switchToWrongNetwork\r\n            ) && !switchFromWrongToWrong\r\n          )\r\n          || prevMetamaskData.address !== metamaskData.address\r\n        )\r\n      )\r\n    )\r\n\r\n    //console.log('>>> need full up', needFullUpdate, switchToCorrectNetwork, switchToWrongNetwork, switchFromWrongToWrong)\r\n    const changeSection = activeSection !== prevActiveSection\r\n\r\n    if (changeSection) {\r\n      const {\r\n        currentCurrencies,\r\n        spendedCurrency: newSpendedCurrency,\r\n        wrongNetwork,\r\n      } = this.returnCurrentAssetState(currencies, activeSection)\r\n\r\n      const haveSpendedCurrencyInList = currentCurrencies.filter(currency => currency.value === spendedCurrency.value).length === 1\r\n\r\n      const needCurrenciesListsUpdate = (\r\n        newSpendedCurrency.value === spendedCurrency.value\r\n        || haveSpendedCurrencyInList && !blockReason\r\n      )\r\n\r\n      if (needCurrenciesListsUpdate) {\r\n        this.setState(() => ({\r\n          wrongNetwork,\r\n          currencies: currentCurrencies,\r\n        }), this.updateReceivedList)\r\n      } else if (!haveSpendedCurrencyInList) {\r\n        needFullUpdate = true\r\n      }\r\n    }\r\n\r\n    if (needFullUpdate) {\r\n      const {\r\n        currentCurrencies,\r\n        receivedList,\r\n        spendedCurrency,\r\n        receivedCurrency,\r\n        wrongNetwork,\r\n      } = this.returnCurrentAssetState(currencies, activeSection)\r\n\r\n      this.updateBaseChainWallet(spendedCurrency)\r\n\r\n      const fromWallet = actions.core.getWallet({\r\n        currency: spendedCurrency.value,\r\n      })\r\n      const toWallet = actions.core.getWallet({\r\n        currency: receivedCurrency.value,\r\n      })\r\n\r\n      this.setState(() => ({\r\n        wrongNetwork,\r\n        currencies: currentCurrencies,\r\n        spendedCurrency,\r\n        receivedList,\r\n        receivedCurrency,\r\n        network:\r\n          externalConfig.evmNetworks[\r\n            spendedCurrency.blockchain || spendedCurrency.value.toUpperCase()\r\n          ],\r\n        fromWallet,\r\n        toWallet,\r\n      }))\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.clearWindowTimer()\r\n    this.saveOptionsInStorage()\r\n  }\r\n\r\n  returnCurrentAssetState = (currentCurrencies, activeSection: Sections) => {\r\n    const { allCurrencies } = this.props\r\n\r\n    let { currencies: filteredCurrencies, wrongNetwork } = quickswap.filterCurrencies({\r\n      currencies: allCurrencies,\r\n    })\r\n    let currencies: any[] = []\r\n\r\n    if (wrongNetwork) {\r\n      filteredCurrencies = currentCurrencies\r\n    }\r\n\r\n    if (activeSection === Sections.Aggregator) {\r\n      currencies = filteredCurrencies.filter(currency => {\r\n        const { coin, blockchain } = getCoinInfo(currency.value)\r\n        const network = externalConfig.evmNetworks[blockchain || coin]\r\n\r\n        return !!SWAP_API[network?.networkVersion]\r\n      })\r\n    }\r\n\r\n    if (!currencies.length) {\r\n      currencies = filteredCurrencies.length ? filteredCurrencies : [ CURRENCY_PLUG ]\r\n    }\r\n\r\n    const spendedCurrency = currencies[0]\r\n    let receivedList = this.returnReceivedList(currencies, spendedCurrency)\r\n\r\n    // user doesn't have enough tokens in the wallet. Show a notice about it\r\n    if (!receivedList.length) {\r\n      receivedList = [CURRENCY_PLUG]\r\n    }\r\n\r\n    const receivedCurrency = receivedList[0]\r\n\r\n    return {\r\n      wrongNetwork,\r\n      currentCurrencies: currencies,\r\n      receivedList,\r\n      spendedCurrency,\r\n      receivedCurrency,\r\n    }\r\n  }\r\n\r\n  updateServiceFeeData = () => {\r\n    const { fromWallet } = this.state\r\n\r\n    const feeOptsKey = fromWallet?.standard || fromWallet?.currency\r\n    const currentFeeOpts = externalConfig.opts.fee[feeOptsKey?.toLowerCase()]\r\n    const correctFeeRepresentation = !Number.isNaN(window?.zeroxFeePercent)\r\n      && window.zeroxFeePercent >= 0\r\n      && window.zeroxFeePercent <= 100\r\n\r\n    //      1% -   1%\r\n    if (window.zeroxFeePercent > 1) window.zeroxFeePercent = 1\r\n    if (currentFeeOpts?.address && correctFeeRepresentation) {\r\n      // percent of the buyAmount >= 0 && <= 1\r\n      const apiPercentFormat = new BigNumber(window.zeroxFeePercent).dividedBy(MAX_PERCENT)\r\n\r\n      this.setState(() => ({\r\n        serviceFee: {\r\n          address: currentFeeOpts.address,\r\n          percent: Number(apiPercentFormat),\r\n        },\r\n      }))\r\n    } else {\r\n      this.setState(() => ({\r\n        serviceFee: false,\r\n      }))\r\n    }\r\n  }\r\n\r\n  updateBaseChainWallet = (currencyItem: CurrencyMenuItem) => {\r\n    const { coin, blockchain } = getCoinInfo(currencyItem.value)\r\n    const baseChainWallet = actions.core.getWallet({\r\n      currency: blockchain || coin,\r\n    })\r\n\r\n    this.setState(() => ({\r\n      baseChainWallet,\r\n    }))\r\n  }\r\n\r\n  updateNetwork = async () => {\r\n    const { spendedCurrency } = this.state\r\n\r\n    const network = externalConfig.evmNetworks[spendedCurrency.blockchain || spendedCurrency.value.toUpperCase()]\r\n\r\n    this.updateBaseChainWallet(spendedCurrency)\r\n\r\n    this.setState(\r\n      () => ({\r\n        network,\r\n      }),\r\n      async () => {\r\n        await this.updateCurrentPairAddress()\r\n      },\r\n    )\r\n  }\r\n\r\n  updateWallets = () => {\r\n    const { spendedCurrency, receivedCurrency } = this.state\r\n\r\n    this.updateBaseChainWallet(spendedCurrency)\r\n\r\n    const fromWallet = actions.core.getWallet({\r\n      currency: spendedCurrency.value,\r\n    })\r\n    const toWallet = actions.core.getWallet({\r\n      currency: receivedCurrency.value,\r\n    })\r\n\r\n    this.setState(() => ({\r\n      fromWallet,\r\n      toWallet,\r\n    }))\r\n  }\r\n\r\n  saveOptionsInStorage = () => {\r\n    const { fromWallet, toWallet } = this.state\r\n\r\n    const exchangeSettings = localStorage.getItem(constants.localStorage.exchangeSettings)\r\n\r\n    if (exchangeSettings) {\r\n      const sell = fromWallet.tokenKey || fromWallet.currency || ''\r\n      const buy = toWallet.tokenKey || toWallet.currency || ''\r\n\r\n      exchangeSettings.quickCurrency = {\r\n        sell,\r\n        buy,\r\n      }\r\n      localStorage.setItem(constants.localStorage.exchangeSettings, exchangeSettings)\r\n    }\r\n  }\r\n\r\n  returnReceivedList = (currencies, spendedCurrency) => {\r\n    const result = currencies.filter((item) => {\r\n      const currentSpendedAsset = item.value === spendedCurrency?.value\r\n      const spendedAssetChain = item.blockchain || item.value.toUpperCase()\r\n      const receivedAssetChain =        spendedCurrency?.blockchain || spendedCurrency?.value?.toUpperCase()\r\n\r\n      return spendedAssetChain === receivedAssetChain && !currentSpendedAsset\r\n    })\r\n\r\n    return result\r\n  }\r\n\r\n  updateReceivedList = () => {\r\n    const { currencies, spendedCurrency } = this.state\r\n    let receivedList = this.returnReceivedList(currencies, spendedCurrency)\r\n\r\n    if (!receivedList.length) {\r\n      receivedList = [\r\n        {\r\n          blockchain: '-',\r\n          fullTitle: '-',\r\n          name: '-',\r\n          notExist: true,\r\n        },\r\n      ]\r\n    }\r\n\r\n    this.setState(\r\n      () => ({\r\n        receivedList,\r\n        receivedCurrency: receivedList[0],\r\n        toWallet: actions.core.getWallet({ currency: receivedList[0].value }),\r\n      }),\r\n      async () => {\r\n        this.resetSwapData()\r\n      },\r\n    )\r\n  }\r\n\r\n  reportError = (error: IError) => {\r\n    const { liquidityErrorMessage } = this.state\r\n    const possibleNoLiquidity = JSON.stringify(error)?.match(/INSUFFICIENT_ASSET_LIQUIDITY/)\r\n    const insufficientSlippage = JSON.stringify(error)?.match(/IncompleteTransformERC20Error/)\r\n    const notEnoughBalance = error.message?.match(/(N|n)ot enough .* balance/)\r\n    const notApproved = JSON.stringify(error)?.match(/SenderNotAuthorizedError/)\r\n\r\n    if (possibleNoLiquidity) {\r\n      this.setBlockReason(BlockReasons.NoLiquidity)\r\n    } else if (insufficientSlippage) {\r\n      this.setBlockReason(BlockReasons.InsufficientSlippage)\r\n    } else if (notEnoughBalance) {\r\n      this.setBlockReason(BlockReasons.NoBalance)\r\n    } else if (liquidityErrorMessage) {\r\n      this.setBlockReason(BlockReasons.Liquidity)\r\n    } else if (notApproved) {\r\n      this.setBlockReason(BlockReasons.NotApproved)\r\n    } else {\r\n      this.setBlockReason(BlockReasons.Unknown)\r\n\r\n      console.group('%c Swap', 'color: red;')\r\n      console.error(error)\r\n      console.groupEnd()\r\n    }\r\n\r\n    this.setState(() => ({\r\n      isPending: false,\r\n      error,\r\n    }))\r\n  }\r\n\r\n  onInputDataChange = async () => {\r\n    const { activeSection, sourceAction, currentLiquidityPair } = this.state\r\n\r\n    await this.updateCurrentPairAddress()\r\n    await this.checkApprove(Direction.Spend)\r\n\r\n    if (\r\n      activeSection === Sections.Source\r\n      && sourceAction !== Actions.AddLiquidity\r\n      && currentLiquidityPair\r\n    ) {\r\n      this.resetSwapData()\r\n    }\r\n\r\n    this.setState(() => ({\r\n      error: null,\r\n    }))\r\n\r\n    if (activeSection === Sections.Aggregator) {\r\n      await this.fetchApiSwapPrice()\r\n    } else if (activeSection === Sections.Source) {\r\n      await this.processingSourceActions()\r\n      // start approve check only after the received amount request in processingSourceActions()\r\n      if (activeSection === Sections.Source && sourceAction === Actions.AddLiquidity) {\r\n        await this.checkApprove(Direction.Receive)\r\n      }\r\n    }\r\n  }\r\n\r\n  tryToSkipValidation = (error): boolean => {\r\n    const { code, reason, values } = JSON.parse(error.message)\r\n    const INVALID_TX_CODE = 105\r\n    const transactionError = code === INVALID_TX_CODE && reason === 'Error'\r\n    const insufficientSlippage = reason === 'IncompleteTransformERC20Error'\r\n\r\n    if (transactionError && !insufficientSlippage) {\r\n      const liquidityError = values.message.match(/^[0-9a-zA-Z]+: K$/m)\r\n\r\n      if (liquidityError) {\r\n        this.setState(() => ({\r\n          liquidityErrorMessage: liquidityError[0],\r\n        }))\r\n      }\r\n\r\n      return true\r\n    }\r\n\r\n    return false\r\n  }\r\n\r\n  fetchApiSwapPrice = async () => {\r\n    const {\r\n      isSourceMode,\r\n      network,\r\n      spendedAmount,\r\n      isPending,\r\n      zeroxApiKey,\r\n      slippage,\r\n      fromWallet,\r\n      toWallet,\r\n      serviceFee,\r\n      baseChainWallet,\r\n      gasLimit,\r\n      gasPrice,\r\n    } = this.state\r\n\r\n    if (!isSourceMode && !zeroxApiKey) {\r\n      return console.log('%c0x API key is not set', 'color:red')\r\n    }\r\n\r\n    const dontFetch = (\r\n      new BigNumber(spendedAmount).isNaN()\r\n      || new BigNumber(spendedAmount).isEqualTo(0)\r\n      || isPending\r\n    )\r\n\r\n    if (dontFetch) return\r\n\r\n    this.setState(() => ({\r\n      isPending: true,\r\n      blockReason: undefined,\r\n    }))\r\n\r\n    let repeatRequest = true\r\n    const params = buildApiSwapParams({\r\n      route: '/price',\r\n      slippage,\r\n      spendedAmount,\r\n      fromWallet,\r\n      toWallet,\r\n      serviceFee,\r\n      zeroxApiKey,\r\n    })\r\n    let { headers, endpoint } = params\r\n\r\n    while (repeatRequest) {\r\n      const swap: any = await apiLooper.get(SWAP_API[network.networkVersion].name, endpoint, {\r\n        headers,\r\n        sourceError: true,\r\n        reportErrors: (error: IError) => {\r\n          if (!repeatRequest) {\r\n            this.reportError(error)\r\n          }\r\n        },\r\n      })\r\n\r\n      if (!(swap instanceof Error)) {\r\n        repeatRequest = false\r\n\r\n        const data = await estimateApiSwapData({\r\n          data: swap,\r\n          withoutValidation: endpoint.match(/skipValidation/),\r\n          baseChainWallet,\r\n          toWallet,\r\n          gasLimit,\r\n          gasPrice,\r\n          onError: this.reportError,\r\n        })\r\n        console.log('SWAP PRICE response', data)\r\n        this.setState(() => ({ ...data }))\r\n      } else if (this.tryToSkipValidation(swap)) {\r\n        const p = buildApiSwapParams({\r\n          route: '/price',\r\n          skipValidation: true,\r\n          slippage,\r\n          spendedAmount,\r\n          fromWallet,\r\n          toWallet,\r\n          serviceFee,\r\n          zeroxApiKey,\r\n        })\r\n        headers = p.headers\r\n        endpoint = p.endpoint\r\n      } else {\r\n        this.reportError(swap)\r\n        repeatRequest = false\r\n      }\r\n    }\r\n  }\r\n\r\n  finalizeApiSwapData = async () => {\r\n    const {\r\n      network,\r\n      spendedAmount,\r\n      zeroxApiKey,\r\n      slippage,\r\n      fromWallet,\r\n      toWallet,\r\n      serviceFee,\r\n      baseChainWallet,\r\n      gasLimit,\r\n      gasPrice,\r\n    } = this.state\r\n\r\n    const { headers, endpoint } = buildApiSwapParams({\r\n      route: '/quote',\r\n      slippage,\r\n      spendedAmount,\r\n      fromWallet,\r\n      toWallet,\r\n      serviceFee,\r\n      zeroxApiKey,\r\n    })\r\n\r\n    this.resetSwapData()\r\n    this.setState(() => ({\r\n      swapFee: '',\r\n      isPending: true,\r\n    }))\r\n    const rawQuote: any = await apiLooper.get(SWAP_API[network.networkVersion].name, endpoint, {\r\n      headers,\r\n      sourceError: true,\r\n      reportErrors: this.reportError,\r\n    })\r\n    const data = await estimateApiSwapData({\r\n      data: rawQuote,\r\n      baseChainWallet,\r\n      toWallet,\r\n      gasLimit,\r\n      gasPrice,\r\n    })\r\n    this.setState(() => ({ ...data }))\r\n  }\r\n\r\n  updateCurrentPairAddress = async () => {\r\n    const { network, baseChainWallet, fromWallet, toWallet } = this.state\r\n    const tokenA = fromWallet?.contractAddress || EVM_COIN_ADDRESS\r\n    const tokenB = toWallet?.contractAddress || EVM_COIN_ADDRESS\r\n\r\n    let pairAddress = cacheStorageGet(\r\n      'quickswapLiquidityPair',\r\n      `${externalConfig.entry}_${tokenA}_${tokenB}`,\r\n    )\r\n\r\n    if (!pairAddress) {\r\n      pairAddress = await actions.uniswap.getPairAddress({\r\n        baseCurrency: baseChainWallet.currency,\r\n        chainId: network.networkVersion,\r\n        factoryAddress: LIQUIDITY_SOURCE_DATA[network.networkVersion]?.factory,\r\n        tokenA,\r\n        tokenB,\r\n      })\r\n\r\n      const SECONDS = 15\r\n\r\n      cacheStorageSet(\r\n        'quickswapLiquidityPair',\r\n        `${externalConfig.entry}_${tokenA}_${tokenB}`,\r\n        pairAddress,\r\n        SECONDS,\r\n      )\r\n    }\r\n\r\n    const noLiquidityPair = pairAddress === ZERO_ADDRESS\r\n\r\n    this.setState(() => ({\r\n      currentLiquidityPair: noLiquidityPair ? null : pairAddress,\r\n      blockReason: noLiquidityPair ? BlockReasons.PairDoesNotExist : undefined,\r\n    }))\r\n  }\r\n\r\n  processingSourceActions = async () => {\r\n    const { sourceAction, currentLiquidityPair, spendedAmount } = this.state\r\n\r\n    if (!currentLiquidityPair || !spendedAmount) return\r\n\r\n    switch (sourceAction) {\r\n      case Actions.Swap:\r\n        await this.fetchAmountOut()\r\n        break\r\n      case Actions.AddLiquidity:\r\n        await this.fetchLiquidityData()\r\n    }\r\n  }\r\n\r\n  fetchAmountOut = async () => {\r\n    const { network, baseChainWallet, spendedAmount, fromWallet, toWallet } = this.state\r\n\r\n    const tokenA = fromWallet.contractAddress ?? EVM_COIN_ADDRESS\r\n    const tokenB = toWallet.contractAddress ?? EVM_COIN_ADDRESS\r\n\r\n    this.setPending(true)\r\n\r\n    try {\r\n      const amountOut = await actions.uniswap.getAmountOut({\r\n        routerAddress: LIQUIDITY_SOURCE_DATA[network.networkVersion]?.router,\r\n        baseCurrency: baseChainWallet.currency,\r\n        chainId: network.networkVersion,\r\n        tokenA,\r\n        tokenADecimals: fromWallet.decimals ?? COIN_DECIMALS,\r\n        amountIn: spendedAmount,\r\n        tokenB,\r\n        tokenBDecimals: toWallet.decimals ?? COIN_DECIMALS,\r\n      })\r\n\r\n      this.setState(() => ({\r\n        receivedAmount: amountOut,\r\n      }))\r\n    } catch (error) {\r\n      this.reportError(error)\r\n    } finally {\r\n      this.setPending(false)\r\n    }\r\n  }\r\n\r\n  fetchLiquidityData = async () => {\r\n    const { network, spendedAmount, baseChainWallet, currentLiquidityPair, fromWallet, toWallet } = this.state\r\n\r\n    this.setPending(true)\r\n\r\n    try {\r\n      const result = await actions.uniswap.getLiquidityAmountForAssetB({\r\n        chainId: network.networkVersion,\r\n        pairAddress: currentLiquidityPair,\r\n        routerAddress: LIQUIDITY_SOURCE_DATA[network.networkVersion]?.router,\r\n        baseCurrency: baseChainWallet.currency,\r\n        tokenA: fromWallet.contractAddress ?? EVM_COIN_ADDRESS,\r\n        amountADesired: spendedAmount,\r\n        tokenADecimals: fromWallet.decimals ?? COIN_DECIMALS,\r\n        tokenBDecimals: toWallet.decimals ?? COIN_DECIMALS,\r\n      })\r\n\r\n      this.setState(() => ({\r\n        receivedAmount: result,\r\n      }))\r\n    } catch (error) {\r\n      this.reportError(error)\r\n    }\r\n\r\n    this.setPending(false)\r\n  }\r\n\r\n  setSpendedAmount = (value) => {\r\n    this.setState(() => ({\r\n      spendedAmount: value,\r\n    }))\r\n  }\r\n\r\n  setReceivedAmount = (value) => {\r\n    this.setState(() => ({\r\n      receivedAmount: value,\r\n    }))\r\n  }\r\n\r\n  resetReceivedAmount = () => {\r\n    this.setState(() => ({\r\n      receivedAmount: '',\r\n    }))\r\n  }\r\n\r\n  resetSwapData = () => {\r\n    this.setState(() => ({ swapData: undefined }))\r\n    this.resetReceivedAmount()\r\n  }\r\n\r\n  checkApprove = async (direction) => {\r\n    const { network, isSourceMode, spendedAmount, receivedAmount, fromWallet, toWallet } = this.state\r\n\r\n    let amount = spendedAmount\r\n    let wallet = fromWallet\r\n\r\n    if (direction === Direction.Receive) {\r\n      amount = receivedAmount\r\n      wallet = toWallet\r\n    }\r\n\r\n    const spender: `0x${number}` = isSourceMode\r\n      ? LIQUIDITY_SOURCE_DATA[network.networkVersion]?.router\r\n      : externalConfig.swapContract[SWAP_API[network.networkVersion].spender]\r\n\r\n    if (!wallet.isToken) {\r\n      this.setNeedApprove(direction, false)\r\n    } else {\r\n      const { standard, address, contractAddress, decimals } = wallet\r\n      const allowance = await erc20Like[standard].checkAllowance({\r\n        contract: contractAddress,\r\n        owner: address,\r\n        decimals,\r\n        spender,\r\n      })\r\n\r\n      if (amount) {\r\n        this.setNeedApprove(direction, new BigNumber(amount).isGreaterThan(allowance))\r\n      }\r\n    }\r\n  }\r\n\r\n  setNeedApprove = (direction, value) => {\r\n    if (direction === Direction.Spend) {\r\n      this.setState(() => ({ needApproveA: value }))\r\n    } else {\r\n      this.setState(() => ({ needApproveB: value }))\r\n    }\r\n  }\r\n\r\n  selectCurrency = (params) => {\r\n    const { direction, value } = params\r\n    const { spendedCurrency, receivedCurrency } = this.state\r\n\r\n    const changeSpendedSide = direction === Direction.Spend && spendedCurrency.value !== value.value\r\n    const changeReceivedSide = direction === Direction.Receive && receivedCurrency.value !== value.value\r\n\r\n    if (changeSpendedSide) {\r\n      this.setState(\r\n        () => ({\r\n          spendedCurrency: value,\r\n        }),\r\n        this.updateSpendedSide,\r\n      )\r\n    }\r\n\r\n    if (changeReceivedSide) {\r\n      this.setState(\r\n        () => ({\r\n          receivedCurrency: value,\r\n        }),\r\n        this.updateReceivedSide,\r\n      )\r\n    }\r\n  }\r\n\r\n  updateSpendedSide = async () => {\r\n    const { spendedCurrency } = this.state\r\n\r\n    const fromWallet = actions.core.getWallet({ currency: spendedCurrency.value })\r\n\r\n    this.setState(\r\n      () => ({\r\n        fromWallet,\r\n      }),\r\n      async () => {\r\n        this.updateNetwork()\r\n        this.updateReceivedList()\r\n        this.updateServiceFeeData()\r\n        await this.onInputDataChange()\r\n      },\r\n    )\r\n  }\r\n\r\n  updateReceivedSide = () => {\r\n    const { receivedCurrency } = this.state\r\n\r\n    this.setState(\r\n      () => ({\r\n        toWallet: actions.core.getWallet({ currency: receivedCurrency.value }),\r\n      }),\r\n      async () => {\r\n        await this.onInputDataChange()\r\n      },\r\n    )\r\n  }\r\n\r\n  flipCurrency = () => {\r\n    const { currencies, fromWallet, spendedCurrency, receivedCurrency, toWallet, wrongNetwork } =      this.state\r\n\r\n    if (wrongNetwork || receivedCurrency.notExist) return\r\n\r\n    const receivedList = this.returnReceivedList(currencies, receivedCurrency)\r\n\r\n    this.setState(\r\n      () => ({\r\n        fromWallet: toWallet,\r\n        spendedCurrency: receivedCurrency,\r\n        receivedList,\r\n        toWallet: fromWallet,\r\n        receivedCurrency: spendedCurrency,\r\n      }),\r\n      async () => {\r\n        await this.onInputDataChange()\r\n      },\r\n    )\r\n  }\r\n\r\n  openExternalExchange = () => {\r\n    const { externalExchangeReference, fromWallet } = this.state\r\n\r\n    const link = user.getExternalExchangeLink({\r\n      address: fromWallet.address,\r\n      currency: fromWallet.currency,\r\n    })\r\n\r\n    if (link && (externalExchangeReference === null || externalExchangeReference.closed)) {\r\n      this.setPending(true)\r\n\r\n      const newWindowProxy = window.open(link)\r\n\r\n      this.setState(\r\n        () => ({\r\n          externalExchangeReference: newWindowProxy,\r\n        }),\r\n        this.startCheckingExternalWindow,\r\n      )\r\n    } else {\r\n      // in this case window reference must exist and the window is not closed\r\n      externalExchangeReference?.focus()\r\n    }\r\n  }\r\n\r\n  startCheckingExternalWindow = () => {\r\n    const { externalExchangeReference } = this.state\r\n\r\n    const timer = setInterval(() => {\r\n      if (externalExchangeReference?.closed) {\r\n        this.closeExternalExchange()\r\n      }\r\n    }, 1000)\r\n\r\n    this.setState(() => ({\r\n      externalWindowTimer: timer,\r\n    }))\r\n  }\r\n\r\n  closeExternalExchange = () => {\r\n    const { externalExchangeReference, externalWindowTimer } = this.state\r\n\r\n    if (externalExchangeReference) {\r\n      externalExchangeReference.close()\r\n\r\n      this.setState(() => ({\r\n        externalExchangeReference: null,\r\n      }))\r\n    }\r\n\r\n    if (externalWindowTimer) {\r\n      clearInterval(externalWindowTimer)\r\n\r\n      this.setState(() => ({\r\n        externalWindowTimer: null,\r\n      }))\r\n    }\r\n\r\n    this.setPending(false)\r\n  }\r\n\r\n  clearWindowTimer = () => {\r\n    const { externalWindowTimer } = this.state\r\n\r\n    if (externalWindowTimer) {\r\n      clearInterval(externalWindowTimer)\r\n    }\r\n  }\r\n\r\n  openAggregatorSection = () => {\r\n    this.setState(() => ({\r\n      activeSection: Sections.Aggregator,\r\n      isSourceMode: false,\r\n      receivedAmount: '',\r\n    }))\r\n  }\r\n\r\n  openSourceSection = () => {\r\n    this.setState(() => ({\r\n      activeSection: Sections.Source,\r\n      isSourceMode: true,\r\n      receivedAmount: '',\r\n      swapData: undefined,\r\n    }))\r\n  }\r\n\r\n  openSettingsSection = () => {\r\n    this.setState(() => ({\r\n      activeSection: Sections.Settings,\r\n    }))\r\n  }\r\n\r\n  setAction = (type) => {\r\n    this.resetSwapData()\r\n\r\n    this.setState(() => ({\r\n      spendedAmount: '',\r\n      sourceAction: type,\r\n    }))\r\n  }\r\n\r\n  mnemonicIsSaved = () => localStorage.getItem(constants.privateKeyNames.twentywords) === '-'\r\n\r\n  setPending = (value: boolean) => {\r\n    this.setState(() => ({\r\n      isPending: value,\r\n    }))\r\n  }\r\n\r\n  setBlockReason = (value: BlockReasons) => {\r\n    this.setState(() => ({\r\n      blockReason: value,\r\n    }))\r\n  }\r\n\r\n  resetSpendedAmount = () => {\r\n    this.setState(() => ({\r\n      spendedAmount: '',\r\n    }))\r\n  }\r\n\r\n  isApiRequestBlocking = () => {\r\n    const {\r\n      isPending,\r\n      spendedAmount,\r\n      fromWallet,\r\n      baseChainWallet,\r\n      slippage,\r\n      slippageMaxRange,\r\n      gasPrice,\r\n      gasLimit,\r\n    } = this.state\r\n\r\n    const wrongSlippage = slippage\r\n      && (new BigNumber(slippage).isEqualTo(0)\r\n        || new BigNumber(slippage).isGreaterThan(slippageMaxRange))\r\n\r\n    const wrongGasPrice = new BigNumber(gasPrice).isPositive()\r\n      && new BigNumber(gasPrice).isGreaterThan(API_GAS_LIMITS.MAX_PRICE)\r\n\r\n    const wrongGasLimit = new BigNumber(gasLimit).isPositive()\r\n      && (new BigNumber(gasLimit).isLessThan(API_GAS_LIMITS.MIN_LIMIT)\r\n        || new BigNumber(gasLimit).isGreaterThan(API_GAS_LIMITS.MAX_LIMIT))\r\n\r\n    const wrongSettings = wrongGasPrice || wrongGasLimit || wrongSlippage\r\n    const noBalance = baseChainWallet.balanceError || new BigNumber(baseChainWallet.balance).isEqualTo(0)\r\n\r\n    return (\r\n      noBalance\r\n      || isPending\r\n      || wrongSettings\r\n      || new BigNumber(spendedAmount).isNaN()\r\n      || new BigNumber(spendedAmount).isEqualTo(0)\r\n      || new BigNumber(spendedAmount).isGreaterThan(fromWallet.balance)\r\n    )\r\n  }\r\n\r\n  createLimitOrder = () => {\r\n    actions.modals.open(constants.modals.LimitOrder)\r\n  }\r\n\r\n  render() {\r\n    const { history } = this.props\r\n    const {\r\n      baseChainWallet,\r\n      activeSection,\r\n      isSourceMode,\r\n      onlyAggregator,\r\n      onlySource,\r\n      needApproveA,\r\n      needApproveB,\r\n      fiat,\r\n      spendedAmount,\r\n      spendedCurrency,\r\n      receivedAmount,\r\n      fromWallet,\r\n      toWallet,\r\n      receivedCurrency,\r\n      sourceAction,\r\n      wrongNetwork,\r\n      network,\r\n      swapData,\r\n      swapFee,\r\n      blockReason,\r\n      slippage,\r\n      serviceFee,\r\n    } = this.state\r\n\r\n    const linked = Link.all(\r\n      this,\r\n      'slippage',\r\n      'gasPrice',\r\n      'gasLimit',\r\n      'userDeadline',\r\n      'spendedAmount',\r\n      'receivedAmount',\r\n    )\r\n\r\n    const insufficientBalanceA = new BigNumber(fromWallet.balance).isEqualTo(0)\r\n      || new BigNumber(spendedAmount)\r\n        .plus(fromWallet?.standard ? 0 : swapFee || 0)\r\n        .isGreaterThan(fromWallet.balance)\r\n\r\n    const insufficientBalanceB = new BigNumber(toWallet.balance).isEqualTo(0)\r\n      || new BigNumber(receivedAmount).isGreaterThan(toWallet.balance)\r\n\r\n    return (\r\n      <>\r\n        {onlyAggregator && <TokenInstruction />}\r\n\r\n        {spendedCurrency.notExist || receivedCurrency.notExist && (\r\n          <p styleName=\"noAssetsNotice\">\r\n            <FormattedMessage\r\n              id=\"notEnoughAssetsNotice\"\r\n              defaultMessage=\"You don't have available assets for {networkName} to exchange. Please change the network or add a custom asset to the wallet.\"\r\n              values={{\r\n                networkName: network.chainName || 'Unknown network',\r\n              }}\r\n            />\r\n          </p>\r\n        )}\r\n\r\n        <section styleName=\"quickSwap\">\r\n          <Header\r\n            network={network}\r\n            onlyAggregator={onlyAggregator}\r\n            onlySource={onlySource}\r\n            activeSection={activeSection}\r\n            wrongNetwork={wrongNetwork}\r\n            receivedCurrency={receivedCurrency}\r\n            openAggregatorSection={this.openAggregatorSection}\r\n            openSourceSection={this.openSourceSection}\r\n            openSettingsSection={this.openSettingsSection}\r\n          />\r\n          {activeSection === Sections.Settings ? (\r\n            <Settings\r\n              isSourceMode={isSourceMode}\r\n              stateReference={linked}\r\n              onInputDataChange={this.onInputDataChange}\r\n              resetSwapData={this.resetSwapData}\r\n              slippage={slippage}\r\n            />\r\n          ) : (\r\n            <>\r\n              <div styleName={`${wrongNetwork ? 'disabled' : ''}`}>\r\n                <InputForm\r\n                  parentState={this.state}\r\n                  stateReference={linked}\r\n                  selectCurrency={this.selectCurrency}\r\n                  flipCurrency={this.flipCurrency}\r\n                  openExternalExchange={this.openExternalExchange}\r\n                  onInputDataChange={this.onInputDataChange}\r\n                  setSpendedAmount={this.setSpendedAmount}\r\n                  updateWallets={this.updateWallets}\r\n                  insufficientBalanceA={insufficientBalanceA}\r\n                  insufficientBalanceB={insufficientBalanceB}\r\n                  resetReceivedAmount={this.resetReceivedAmount}\r\n                  setReceivedAmount={this.setReceivedAmount}\r\n                />\r\n              </div>\r\n\r\n              {activeSection === Sections.Source && (\r\n                <SourceActions sourceAction={sourceAction} setAction={this.setAction} />\r\n              )}\r\n\r\n              <UserInfo\r\n                history={history}\r\n                isSourceMode={isSourceMode}\r\n                slippage={slippage}\r\n                network={network}\r\n                swapData={swapData}\r\n                swapFee={swapFee}\r\n                spendedAmount={spendedAmount}\r\n                baseChainWallet={baseChainWallet}\r\n                fromWallet={fromWallet}\r\n                toWallet={toWallet}\r\n                fiat={fiat}\r\n                serviceFee={serviceFee}\r\n              />\r\n\r\n              <Feedback\r\n                network={network}\r\n                isSourceMode={isSourceMode}\r\n                wrongNetwork={wrongNetwork}\r\n                insufficientBalanceA={insufficientBalanceA}\r\n                insufficientBalanceB={insufficientBalanceB}\r\n                blockReason={blockReason}\r\n                baseChainWallet={baseChainWallet}\r\n                spendedAmount={spendedAmount}\r\n                needApproveA={needApproveA}\r\n                needApproveB={needApproveB}\r\n                spendedCurrency={spendedCurrency}\r\n                receivedCurrency={receivedCurrency}\r\n                sourceAction={sourceAction}\r\n              />\r\n\r\n              <Footer\r\n                history={history}\r\n                parentState={this.state}\r\n                isSourceMode={isSourceMode}\r\n                sourceAction={sourceAction}\r\n                reportError={this.reportError}\r\n                setBlockReason={this.setBlockReason}\r\n                resetSwapData={this.resetSwapData}\r\n                resetSpendedAmount={this.resetSpendedAmount}\r\n                isApiRequestBlocking={this.isApiRequestBlocking}\r\n                insufficientBalanceA={insufficientBalanceA}\r\n                insufficientBalanceB={insufficientBalanceB}\r\n                setPending={this.setPending}\r\n                onInputDataChange={this.onInputDataChange}\r\n                finalizeApiSwapData={this.finalizeApiSwapData}\r\n                baseChainWallet={baseChainWallet}\r\n              />\r\n            </>\r\n          )}\r\n        </section>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(({ currencies, user, oneinch }) => ({\r\n  allCurrencies: currencies.items,\r\n  tokensWallets: user.tokensData,\r\n  activeFiat: user.activeFiat,\r\n  metamaskData: user.metamaskData,\r\n  availableBlockchains: oneinch.blockchains,\r\n}))(CSSModules(QuickSwap, styles, { allowMultiple: true }))\r\n","import React from 'react'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './Option.scss'\r\n\r\n\r\nconst Option = ({ icon, title, smalltext, disabled }) => (\r\n  <div styleName={`optionrow ${disabled ? 'disabled' : ''}`}>\r\n    {icon && (\r\n      <em>\r\n        <img src={icon} />\r\n      </em>\r\n    )}\r\n    <div styleName={`optionTitle ${smalltext ? 'smalltext' : ''}`}>{title}</div>\r\n  </div>\r\n)\r\n\r\n\r\nexport default cssModules(Option, styles, { allowMultiple: true })\r\n","// extracted by mini-css-extract-plugin\nexport default {\"optionrow\":\"MgXc5YACI+-qe6zmOG7bQg==\",\"disabled\":\"_6x+tnoC+40zbu3UV9mG-4w==\",\"optionTitle\":\"Q9KrxsJHsWR7q1z5+o6RZQ==\",\"smalltext\":\"C+YSfXatD6TJ9yzlNfr4bQ==\"};","export default __webpack_public_path__ + \"images/logo-black_d99acd.svg\";","export default __webpack_public_path__ + \"images/custom_328c21.svg\";","import React, { Component, Fragment } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport Link from 'local_modules/sw-valuelink'\r\n\r\nimport styles from './AddressSelect.scss'\r\nimport cssModules from 'react-css-modules'\r\nimport { FormattedMessage, defineMessages, injectIntl } from 'react-intl'\r\nimport Input from 'components/forms/Input/Input'\r\nimport DropDown from 'components/ui/DropDown'\r\nimport Address from 'components/ui/Address/Address'\r\nimport { AddressFormat } from 'domain/address'\r\nimport metamask from 'helpers/metamask'\r\nimport { Button } from 'components/controls'\r\nimport erc20Like from 'common/erc20Like'\r\nimport Option from './Option/Option'\r\nimport { links } from 'helpers'\r\nimport { isAllowedCurrency } from 'helpers/user'\r\nimport actions from 'redux/actions'\r\nimport feedback from 'shared/helpers/feedback'\r\nimport web3Icons from 'shared/images'\r\nimport { isMobile } from 'react-device-detect'\r\nimport QrReader from 'components/QrReader'\r\nimport iconInternal from 'images/logo/logo-black.svg'\r\nimport iconCustom from 'images/custom.svg'\r\n\r\nimport getCoinInfo from 'common/coins/getCoinInfo'\r\nimport config from 'helpers/externalConfig'\r\n\r\n\r\nimport { AddressType, AddressRole } from 'domain/address'\r\nimport { COIN_DATA, COIN_MODEL } from 'swap.app/constants/COINS'\r\n\r\nconst disableInternalWallet = (config?.opts?.ui?.disableInternalWallet) ? true : false\r\nconst langLabels = defineMessages({\r\n  labelSpecifyAddress: {\r\n    id: 'Exchange_SpecifyAddress',\r\n    defaultMessage: 'Select...',\r\n  },\r\n  optionInternal: {\r\n    id: 'Exchange_InternalAddressOption',\r\n    defaultMessage: 'Internal',\r\n  },\r\n  optionInternalDisabled: {\r\n    id: 'Exchange_InternalAddressOptionDisabled',\r\n    defaultMessage: 'Internal (insufficient balance)',\r\n  },\r\n  optionInternalCreate: {\r\n    id: 'Exchange_InternalCreate',\r\n    defaultMessage: 'Create wallet',\r\n  },\r\n  optionConnect: {\r\n    id: 'Exchange_ConnectAddressOption',\r\n    defaultMessage: 'Connect Wallet',\r\n  },\r\n  optionCustom: {\r\n    id: 'Exchange_CustomAddressOption',\r\n    defaultMessage: 'External wallet',\r\n  },\r\n  placeholderAddress: {\r\n    id: 'Exchange_PlaceholderEnterAddress',\r\n    defaultMessage: 'Enter the receiving wallet address',\r\n  },\r\n  connectMetamask: {\r\n    id: 'CommonTextConnect',\r\n    defaultMessage: 'Connect',\r\n  },\r\n})\r\n\r\ntype AddressSelectProps = {\r\n  role: string\r\n  currency: string\r\n  selectedType?: string\r\n  placeholder?: string\r\n  balance?: number\r\n  hasError?: boolean\r\n  onChange: ({}) => void\r\n  history: IUniversalObj\r\n  intl: IUniversalObj\r\n  label: IUniversalObj\r\n}\r\n\r\ntype DropDownOptions = {\r\n  value: string\r\n  disabled?: boolean\r\n  reduceSelectedItemText?: boolean\r\n  dontSelect?: boolean\r\n  hidden?: boolean\r\n  title: JSX.Element\r\n  icon?: SVGElement\r\n}\r\n\r\ntype AddressSelectState = {\r\n  address: string\r\n  currency: string\r\n  selectedType: string\r\n  metamaskAddress: string\r\n  walletAddressFocused: boolean\r\n  isMetamaskConnected: boolean\r\n  isScanActive: boolean\r\n  hasError: boolean\r\n  dropDownOptions: Array<DropDownOptions>\r\n}\r\n\r\n\r\n\r\n@withRouter\r\n@cssModules(styles, { allowMultiple: true })\r\nclass AddressSelect extends Component<AddressSelectProps, AddressSelectState> {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const { currency, hasError = false, selectedType = false } = props\r\n\r\n    this.state = {\r\n      currency,\r\n      hasError,\r\n      address: '',\r\n      selectedType: selectedType || 'Internal',\r\n      walletAddressFocused: false,\r\n      isMetamaskConnected: metamask.isConnected(),\r\n      metamaskAddress: metamask.getAddress()|| '',\r\n      isScanActive: false,\r\n      dropDownOptions: [],\r\n    }\r\n  }\r\n\r\n  getTicker = () => {\r\n    return this.props.currency.toUpperCase()\r\n  }\r\n\r\n  getInternalAddress = () => {\r\n    const { currency } = this.props\r\n    const currentWallet = actions.core.getWallet({\r\n      currency,\r\n      addressType: AddressType.Internal,\r\n    })\r\n\r\n    return currentWallet ? currentWallet.address : false\r\n  }\r\n\r\n  isCurrencyInInternalWallet = () => {\r\n    const ticker = this.getTicker()\r\n    const internalAddress = this.getInternalAddress()\r\n\r\n    return !internalAddress\r\n      ? false\r\n      : isAllowedCurrency(ticker, internalAddress)\r\n  }\r\n\r\n  handleFocusAddress = () => {\r\n    this.setState({\r\n      walletAddressFocused: true,\r\n    })\r\n  }\r\n\r\n  onWeb3Updated = () => {\r\n    this.setState({\r\n      isMetamaskConnected: metamask.isConnected(),\r\n      metamaskAddress: metamask.getAddress() || '',\r\n    })\r\n  }\r\n\r\n  componentDidMount() {\r\n    metamask.web3connect.on('updated', this.onWeb3Updated)\r\n    this.prepareDropDownOptions()\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    metamask.web3connect.off('updated', this.onWeb3Updated)\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { currency: newCurrency, selectedType, hasError = false, balance } = this.props\r\n\r\n    const {balance: oldBalance} = prevProps\r\n\r\n    const {\r\n      currency: oldCurrency,\r\n      hasError: oldHasError = false,\r\n    } = this.state\r\n\r\n    if(!isNaN(Number(oldBalance)) && !isNaN(Number(balance)) && oldBalance !== balance){\r\n      this.prepareDropDownOptions(selectedType)\r\n    }\r\n\r\n    if (newCurrency !== oldCurrency || hasError !== oldHasError) {\r\n      this.setState({\r\n        currency: newCurrency,\r\n        hasError,\r\n      }, () => {\r\n        this.prepareDropDownOptions(selectedType)\r\n      })\r\n    }\r\n  }\r\n\r\n  handleBlurAddress = () => {\r\n    this.setState({\r\n      walletAddressFocused: false,\r\n    })\r\n\r\n    this.applyAddress({\r\n      type: AddressType.Custom,\r\n      value: this.state.address,\r\n    })\r\n  }\r\n\r\n  goreateWallet = () => {\r\n    const {\r\n      history,\r\n    } = this.props\r\n    const ticker = this.getTicker()\r\n\r\n    feedback.exchangeForm.redirectedCreateWallet(ticker)\r\n\r\n    history.push(`${links.createWallet}/${ticker}`)\r\n  }\r\n\r\n  handleConnectMetamask = () => {\r\n    metamask\r\n      .connect({\r\n        dontRedirect: true,\r\n      })\r\n      .then((isConnected) => {\r\n        if (!isConnected) {\r\n          return\r\n        }\r\n\r\n        this.setState(\r\n          {\r\n            isMetamaskConnected: true,\r\n            metamaskAddress: metamask.getAddress() || '',\r\n          },\r\n          () => {\r\n            this.applyAddress({\r\n              type: AddressType.Metamask,\r\n              value: metamask.getAddress(),\r\n            })\r\n          }\r\n        )\r\n      }).catch((error) => {\r\n        console.error('Metamask rejected', error)\r\n      })\r\n  }\r\n\r\n  toggleScan = () => {\r\n    const { isScanActive } = this.state\r\n    this.setState(() => ({\r\n      isScanActive: !isScanActive,\r\n    }))\r\n  }\r\n\r\n  handleScanError = (err) => {\r\n    console.error('Scan error', err)\r\n  }\r\n\r\n  handleScan = (data) => {\r\n    if (data) {\r\n      const address = data.includes(':') ? data.split(':')[1] : data\r\n      this.toggleScan()\r\n      this.applyAddress({\r\n        type: AddressType.Custom,\r\n        value: address,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleOptionSelect = (option) => {\r\n    const { selectedType: oldSelectedType } = this.state\r\n\r\n    const { value: selectedType, dontSelect } = option\r\n\r\n    if (selectedType === 'InternalAddressCreate') {\r\n      this.goreateWallet()\r\n      return\r\n    }\r\n\r\n    this.setState(\r\n      {\r\n        selectedType: dontSelect ? oldSelectedType : selectedType,\r\n      },\r\n      () => {\r\n        if (!selectedType) {\r\n          return\r\n        }\r\n\r\n        let value\r\n\r\n        if (selectedType === AddressType.Internal) {\r\n          value = this.getInternalAddress()\r\n        }\r\n\r\n        if (selectedType === AddressType.Metamask) {\r\n          value = metamask.getAddress()\r\n        }\r\n\r\n        if (selectedType === AddressType.Metamask && !metamask.isConnected()) {\r\n          this.handleConnectMetamask()\r\n        } else {\r\n          this.applyAddress({\r\n            type: selectedType,\r\n            value,\r\n          })\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  applyAddress = (addressObj) => {\r\n    const { onChange, currency } = this.props\r\n    const { type, value } = addressObj\r\n\r\n    if (typeof onChange !== 'function') {\r\n      return\r\n    }\r\n\r\n    onChange({\r\n      currency,\r\n      type,\r\n      value,\r\n    })\r\n  }\r\n\r\n  prepareDropDownOptions = (newSelectedType?) => {\r\n    const {\r\n      currency,\r\n      balance,\r\n      role,\r\n    } = this.props\r\n\r\n    const {\r\n      selectedType: oldSelectedType,\r\n      isMetamaskConnected,\r\n      metamaskAddress,\r\n    } = this.state\r\n\r\n    let selectedType = (newSelectedType && oldSelectedType !== newSelectedType)\r\n      ? newSelectedType\r\n      : oldSelectedType\r\n\r\n    const ticker = this.getTicker()\r\n\r\n    let { balance: internalBalance } = actions.core.getWallet({\r\n      currency,\r\n      addressType: AddressType.Internal,\r\n    })\r\n\r\n    if (\r\n      (selectedType === AddressType.Internal\r\n      || (selectedType === AddressType.Metamask && !metamask.isConnected()))\r\n      && !!balance) {\r\n      internalBalance = balance\r\n    }\r\n\r\n    const isInternalOptionDisabled =\r\n      role === AddressRole.Send && (!internalBalance || internalBalance === 0)\r\n\r\n    const isMetamaskOption = erc20Like.isToken({ name: currency }) || ['ETH', 'BNB', 'MATIC'].includes(ticker) // ToDo: replace at constant\r\n\r\n    // Forbid `Custom address` option when using ethereum/tokens\r\n    // because you need to make a request to the contract\r\n    const isCustomAddressOption = !erc20Like.isToken({ name: currency })\r\n      && !['ETH', 'BNB', 'MATIC'].includes(ticker) // ToDo: replace at constant\r\n\r\n    const isUTXOModel = COIN_DATA[ticker] && COIN_DATA[ticker].model === COIN_MODEL.UTXO\r\n    const isCustomOptionInputHidden = role === AddressRole.Send && isUTXOModel\r\n\r\n    const web3Icon = metamask.isConnected()\r\n      ? web3Icons[metamask.web3connect.getProviderType()] || false\r\n      : web3Icons[metamask.web3connect.getInjectedType()] || false\r\n\r\n    const dropDownOptions: DropDownOptions[] = []\r\n\r\n    const isCurrencyInInternalWallet = this.isCurrencyInInternalWallet()\r\n\r\n    if (!disableInternalWallet) {\r\n      if (isCurrencyInInternalWallet) {\r\n        dropDownOptions.push(\r\n          {\r\n            value: AddressType.Internal,\r\n            icon: iconInternal,\r\n            title: !isInternalOptionDisabled ? (\r\n              <Fragment>\r\n                <FormattedMessage {...langLabels.optionInternal} />\r\n                <Address\r\n                  address={this.getInternalAddress()}\r\n                  format={AddressFormat.Short}\r\n                  type={AddressType.Internal}\r\n                />\r\n              </Fragment>\r\n            ) : (\r\n              <FormattedMessage {...langLabels.optionInternalDisabled} />\r\n            ),\r\n            disabled: isInternalOptionDisabled,\r\n          },\r\n        )\r\n      } else if (isUTXOModel || !isMetamaskConnected) {\r\n        dropDownOptions.push(\r\n          {\r\n            value: 'InternalAddressCreate',\r\n            icon: iconInternal,\r\n            title: <FormattedMessage {...langLabels.optionInternalCreate} />,\r\n          },\r\n        )\r\n      }\r\n    }\r\n\r\n    if (isMetamaskOption) {\r\n      if (isMetamaskConnected) {\r\n        dropDownOptions.push(\r\n          {\r\n            value: AddressType.Metamask,\r\n            icon: web3Icon,\r\n            title: (\r\n              <Fragment>\r\n                {metamask.web3connect.getProviderTitle()}\r\n                <Address\r\n                  address={metamaskAddress}\r\n                  format={AddressFormat.Short}\r\n                  type={AddressType.Metamask}\r\n                />\r\n              </Fragment>\r\n            ),\r\n          },\r\n        )\r\n      } else {\r\n        dropDownOptions.push(\r\n          {\r\n            value: AddressType.Metamask,\r\n            icon: web3Icon,\r\n            title: <FormattedMessage {...langLabels.optionConnect} />,\r\n            dontSelect: true,\r\n          },\r\n        )\r\n      }\r\n    }\r\n\r\n    if ((role === AddressRole.Receive || !isCurrencyInInternalWallet) && isCustomAddressOption) {\r\n      dropDownOptions.push(\r\n        {\r\n          value: AddressType.Custom,\r\n          icon: iconCustom,\r\n          title: <FormattedMessage {...langLabels.optionCustom} />,\r\n          reduceSelectedItemText: !isCustomOptionInputHidden,\r\n        },\r\n      )\r\n    }\r\n\r\n    const hasSelectedType = dropDownOptions.filter(({ value }) => value === selectedType)\r\n    if (!hasSelectedType.length && dropDownOptions.length) selectedType = dropDownOptions[0].value\r\n\r\n    this.setState({\r\n      dropDownOptions,\r\n      selectedType,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      label,\r\n      role,\r\n      placeholder = 'Enter address',\r\n    } = this.props\r\n\r\n    const {\r\n      selectedType,\r\n      walletAddressFocused,\r\n      isMetamaskConnected,\r\n      isScanActive,\r\n      hasError,\r\n      dropDownOptions,\r\n    } = this.state\r\n\r\n    const ticker = this.getTicker()\r\n\r\n    const isUTXOModel = COIN_DATA[ticker] && COIN_DATA[ticker].model === COIN_MODEL.UTXO\r\n    const isCustomOptionInputHidden = role === AddressRole.Send && isUTXOModel\r\n\r\n\r\n    // =======================================================\r\n\r\n    const valueLink = Link.all(this, 'address')\r\n    const customInputStyles = {\r\n      fontSize: '15px',\r\n      textOverflow: 'ellipsis',\r\n    }\r\n\r\n    return (\r\n      <div styleName={`addressSelect ${hasError ? 'addressSelect_error' : ''}`}>\r\n        <div styleName=\"label\">{label}</div>\r\n        <DropDown\r\n          styleName=\"dropDown\"\r\n          items={dropDownOptions}\r\n          selectedValue={selectedType}\r\n          disableSearch={true}\r\n          dontScroll={true}\r\n          arrowSide=\"left\"\r\n          role={role}\r\n          itemRender={(item) => <Option {...item} />}\r\n          onSelect={this.handleOptionSelect}\r\n        />\r\n        {selectedType === AddressType.Metamask && metamask.isEnabled() && !isMetamaskConnected && (\r\n          <div styleName=\"selectedInner connectWrapper\">\r\n            <Button\r\n              blue\r\n              styleName=\"button\"\r\n              onClick={this.handleConnectMetamask}\r\n            >\r\n              <FormattedMessage {...langLabels.connectMetamask} />\r\n            </Button>\r\n          </div>\r\n        )}\r\n        {!isCustomOptionInputHidden && selectedType === AddressType.Custom && (\r\n          <div styleName=\"selectedInner\">\r\n            <div styleName={`customWallet ${walletAddressFocused ? 'customWallet_focus' : ''}`}>\r\n              <div styleName=\"customAddressInput\">\r\n                <Input\r\n                  inputCustomStyle={customInputStyles}\r\n                  pattern=\"0-9a-zA-Z\"\r\n                  onFocus={this.handleFocusAddress}\r\n                  onBlur={this.handleBlurAddress}\r\n                  placeholder={placeholder}\r\n                  valueLink={valueLink.address}\r\n                  openScan={this.toggleScan}\r\n                  qr={isMobile}\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n        {isScanActive && (\r\n          <QrReader\r\n            openScan={this.toggleScan}\r\n            handleError={this.handleScanError}\r\n            handleScan={this.handleScan}\r\n          />\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(AddressSelect)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"addressSelect\":\"TrZs8-SaBDBnjVsuJar+4Q==\",\"label\":\"GbgVh-jUYorQsXMuTXM2AA==\",\"dropDown\":\"_8cdVd6dkbVF5NH04wE1KRQ==\",\"addressSelect_error\":\"iQ0Sz3qlsQ4V1IRKy-32ZA==\",\"selectedInner\":\"A0A5H51QK5TuSAfwg2WbQg==\",\"connectWrapper\":\"W3of1inDAc2EJrwa3T8l7g==\",\"selectedInner_connectBtn\":\"GaAkOK8vBqOe4LCzmwB-Qw==\",\"customWallet\":\"UUrCac6bXlbGOtFX6VtpGw==\",\"customWallet_site\":\"cYZTGCGidlMvvytSrYjiqg==\",\"customWallet_focus\":\"hMrejViAtmM4iId7mHzeQQ==\",\"customAddressInput\":\"lHfkUc-3u9dNk5hwB2kaYA==\",\"button\":\"E9j5LNGnPrHoMcDOsJYUyQ==\"};","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport { connect } from 'redaction'\r\nimport styles from './NetworkStatus.scss'\r\n\r\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\r\nimport { FormattedMessage } from 'react-intl'\r\n\r\n@connect(\r\n  ({\r\n    pubsubRoom,\r\n  }) => ({\r\n    isOnline: pubsubRoom.isOnline,\r\n    onlineUsers: pubsubRoom.onlineUsers,\r\n  })\r\n)\r\n@cssModules(styles, { allowMultiple: true })\r\nexport default class NetworkStatus extends React.Component<any, any> {\r\n  static propTypes = {\r\n    isOnline: PropTypes.bool.isRequired,\r\n    onlineUsers: PropTypes.number,\r\n  }\r\n\r\n  static defaultProps = {\r\n    isOnline: false,\r\n    onlineUsers: 1,\r\n  }\r\n\r\n  render() {\r\n    const { isOnline, onlineUsers } = this.props\r\n\r\n    const onlinePeersHack = onlineUsers >= 0 ? onlineUsers : 1\r\n\r\n    return (\r\n      <div styleName={`title ${isOnline ? 'online' : 'offline'}`}>\r\n        <em styleName=\"mark\"></em>\r\n        {!isOnline &&\r\n          <span styleName=\"status\">Offline</span>\r\n        }\r\n        {\r\n          isOnline && (onlineUsers <= 0\r\n            ? <span styleName=\"status\">Connecting...</span>\r\n            : <span styleName=\"status\">{`${onlineUsers} peers online`}</span>)\r\n        }\r\n        <span styleName='status-tooltip'>\r\n          <Tooltip id=\"NetworkStatusPeersOnlineTooltip\">\r\n            <div style={{ maxWidth: '24em', textAlign: 'center' }}>\r\n              <FormattedMessage\r\n                id=\"NetworkStatusPeersOnlineMessage\"\r\n                defaultMessage=\"Searching for Peers and Offers can take a couple of minutes. We do not store the offers on a centralized server. Instead, we use libp2p network by Protocol Labs that works like a Torrent network, which means that each user such as yourself is a peer in this network. If no offers are found within a couple of minutes, it means that there are no matching offers or a user who placed the offer is offline.\"\r\n              />\r\n            </div>\r\n          </Tooltip>\r\n        </span>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"ETipVlU6Ghrxj6DXyv2s-Q==\",\"status\":\"pY7ooFCNbwwzcJsaZ5F+7g==\",\"status-tooltip\":\"_5xaVwDD1Clt8ReE9j6iHJA==\",\"online\":\"zaJ5CBZ6Aj02wsfvuwmXHw==\",\"mark\":\"Do5jLoif74ElqDQUy+kHdA==\",\"offline\":\"nhqW5x3m434cxQ2LO39lIA==\"};","import React from 'react'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './Title.scss'\r\n\r\n\r\nconst Title = ({ children }) => (\r\n  <div styleName=\"title\">{children}</div>\r\n)\r\n\r\nexport default cssModules(Title, styles)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"XSuVInqZiKnHjuws2Jzhuw==\"};","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './PageHeadline.scss'\r\n\r\nimport Title from './Title/Title'\r\nimport SubTitle from './SubTitle/SubTitle'\r\n\r\n\r\nconst PageHeadline = ({ children, title, subTitle, ...rest }) => (\r\n  <div styleName=\"headline\" {...rest} >\r\n    {\r\n      children || (\r\n        <Fragment>\r\n          {\r\n            title && (\r\n              <Title>{title}</Title>\r\n            )\r\n          }\r\n          {\r\n            subTitle && (\r\n              <SubTitle>{subTitle}</SubTitle>\r\n            )\r\n          }\r\n        </Fragment>\r\n      )\r\n    }\r\n  </div>\r\n)\r\n\r\nPageHeadline.propTypes = {\r\n  title: PropTypes.node,\r\n  subTitle: PropTypes.node,\r\n}\r\n\r\nexport default CSSModules(PageHeadline, styles)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"headline\":\"+t9krTpVEjZM09Qa5LECBg==\"};","import React from 'react'\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './FaqExpandableItem.scss'\r\nimport Href from 'components/Href/Href'\r\n\r\ntype ComponentProps = {\r\n  question: string\r\n  link: string\r\n}\r\n\r\nconst FaqExpandableItem = (props: ComponentProps) => {\r\n  const { link, question } = props\r\n\r\n  return (\r\n    <div styleName=\"container\">\r\n      <Href tab={link} styleName=\"header\" rel=\"noreferrer noopener\">\r\n        {question}\r\n      </Href>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CSSModules(FaqExpandableItem, styles)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"x9QyL8HV2y91Iw-i77TEdg==\",\"active\":\"_3CqmM70CftUYEvRqiADrlw==\",\"header\":\"_382GGLfrvpSf7wzWUKOrBw==\",\"description\":\"gt7ZBblpsBCuPyXlh4tV0w==\",\"icon\":\"elAfrWJRlyI9yz2s7+yyWA==\"};","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport actions from 'redux/actions'\r\nimport { constants } from 'helpers'\r\n\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './CurrencyDirectionChooser.scss'\r\nimport { connect } from 'redaction'\r\n\r\nimport Flip from 'components/controls/Flip/Flip'\r\nimport Button from 'components/controls/Button/Button'\r\nimport CurrencySelect from 'components/ui/CurrencySelect/CurrencySelect'\r\nimport SubTitle from 'components/PageHeadline/SubTitle/SubTitle'\r\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\r\nimport { FormattedMessage } from 'react-intl'\r\n\r\n\r\n@connect(\r\n  ({\r\n    currencies,\r\n  }) => ({\r\n    currencies: currencies.items,\r\n    addSelectedItems: currencies.addSelectedItems[0],\r\n  })\r\n)\r\n@CSSModules(styles, { allowMultiple: true })\r\nexport default class CurrencyDirectionChooser extends Component<any, any> {\r\n\r\n  static propTypes = {\r\n    flipCurrency: PropTypes.func,\r\n    currencies: PropTypes.any,\r\n    handleSellCurrencySelect: PropTypes.func,\r\n    handleBuyCurrencySelect: PropTypes.func,\r\n    handleSubmit: PropTypes.func,\r\n    buyCurrency: PropTypes.string.isRequired,\r\n    sellCurrency: PropTypes.string.isRequired,\r\n  }\r\n\r\n  createOffer = () => {\r\n    const { buyCurrency, sellCurrency } = this.props\r\n\r\n    // return if value equal undefined or null\r\n    if (!sellCurrency || !buyCurrency) {\r\n      return\r\n    }\r\n\r\n    //@ts-ignore: strictNullChecks\r\n    actions.modals.open(constants.modals.Offer, {\r\n      buyCurrency,\r\n      sellCurrency,\r\n    })\r\n\r\n    // actions.analytics.dataEvent('orderbook-click-createoffer-button')\r\n  }\r\n\r\n  chooseProps = () => {\r\n    const { currencies, addSelectedItems } = this.props\r\n\r\n    if (addSelectedItems === undefined) {\r\n      return currencies\r\n    }\r\n    return addSelectedItems\r\n  }\r\n\r\n  render() {\r\n    const { buyCurrency, sellCurrency,\r\n      flipCurrency, handleBuyCurrencySelect, handleSellCurrencySelect, handleSubmit,\r\n      currencies, addSelectedItems } = this.props\r\n\r\n\r\n\r\n    return (\r\n      <div styleName=\"choice\">\r\n        <div styleName=\"row title\">\r\n          <SubTitle>\r\n            <FormattedMessage id=\"CurrencyDirectionChooser54\" defaultMessage=\" Choose the direction of exchange\" />\r\n          </SubTitle>\r\n        </div>\r\n        <div styleName=\"row formRow\">\r\n          <div styleName=\"row\">\r\n            <div styleName=\"row rowLeft\">\r\n              <p styleName=\"text\">\r\n                <FormattedMessage id=\"CDC63\" defaultMessage=\"You have\" />\r\n              </p>\r\n              {/*\r\n              //@ts-ignore */}\r\n              <CurrencySelect\r\n                styleName=\"currencySelect currencySelectLeft\"\r\n                selectedValue={sellCurrency}\r\n                selectedItemRender={(item) => item.fullTitle}\r\n                onSelect={handleSellCurrencySelect}\r\n                currencies={currencies}\r\n              />\r\n            </div>\r\n            <Flip onClick={flipCurrency} />\r\n            <div styleName=\"row rowRight\">\r\n              <p styleName=\"text\">\r\n                <FormattedMessage id=\"MyOrdersYouGet\" defaultMessage=\"You get\" />\r\n              </p>\r\n              {/*\r\n              //@ts-ignore */}\r\n              <CurrencySelect\r\n                styleName=\"currencySelect currencySelectRight\"\r\n                selectedValue={buyCurrency}\r\n                onSelect={handleBuyCurrencySelect}\r\n                selectedItemRender={(item) => item.fullTitle}\r\n                currencies={this.chooseProps()}\r\n              />\r\n            </div>\r\n          </div>\r\n          <Button styleName=\"button\" brand onClick={handleSubmit}>\r\n            <FormattedMessage id=\"CurrencyDirectionChooser86\" defaultMessage=\"SHOW ORDERS \" />\r\n          </Button>\r\n          <Tooltip id=\"cdc87\" >\r\n            <FormattedMessage id=\"CDC52\" defaultMessage=\"Offer list\" />\r\n          </Tooltip>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nexport default {\"currencySelect\":\"WO1ogph+bd--TudCoTYSEQ==\",\"choice\":\"CNGfe0dRU1HcQvcVOvXmHA==\",\"row\":\"bDFY1-zrWyd4vVqtUzWMzg==\",\"title\":\"BuvgCt7TiiTq95N29ECHUA==\",\"text\":\"j3GD1jUXVLSr0G9yhzUV4Q==\",\"formRow\":\"oBGgSCIvqaBzaUg0u76vUw==\",\"rowLeft\":\"y1MxtIj79Ib-ntQBFB-QHg==\",\"rowRight\":\"VVS7Go+1ZnRLaxKCIFOr6A==\",\"currencySelectLeft\":\"hpJukyyz2cVoVbyKpTydZA==\",\"currencySelectRight\":\"eMTr8xecVxc1xEUg7wDuBA==\"};","import React, { Component } from 'react'\r\nimport classNames from 'classnames'\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './Panel.scss'\r\n\r\n@cssModules(styles, { allowMultiple: true })\r\nexport default class Panel extends Component<any, any> {\r\n  render() {\r\n    return (\r\n      <section styleName={classNames('panel')}>\r\n        { this.props.header &&\r\n          <div styleName=\"panelHeader\">\r\n            { this.props.header }\r\n          </div>\r\n        }\r\n        { this.props.children }\r\n      </section>\r\n    )\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"panel\":\"QkKoUebCAZViD5+SMh+gGA==\",\"panelHeader\":\"_3gBrHJa0S6WBVqC84te6mA==\"};","import seo, { getUrl } from 'helpers/seo'\r\n\r\nconst JsonLd = ({ uri, title, description }) => (\r\n  <script\r\n    type=\"application/ld+json\"\r\n    dangerouslySetInnerHTML={{\r\n      __html: JSON.stringify({\r\n        '@context': 'http://schema.org',\r\n        '@type': 'Website',\r\n        sameAs: [\r\n          seo.config.medium,\r\n          seo.config.twitter,\r\n          seo.config.facebook,\r\n          seo.config.telegram,\r\n        ],\r\n        email: seo.config.email,\r\n        url: getUrl(uri),\r\n        name: title,\r\n        description,\r\n        logo: seo.config.logo,\r\n      }),\r\n    }}\r\n  />\r\n)\r\n\r\nexport default JsonLd\r\n","import { Component } from 'react'\r\nimport DocumentMeta from 'react-document-meta'\r\nimport JsonLd from './JsonLd'\r\nimport seo, { getSeoPage, getUrl } from 'helpers/seo'\r\n\r\nexport default class Seo extends Component<any, any> {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      seoPage: getSeoPage(props.location.pathname)\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { location: prevLocation } = prevProps\r\n    const { location } = this.props\r\n\r\n    if (location.pathname !== prevLocation.pathname) {\r\n      const seoPage = getSeoPage(location.pathname)\r\n\r\n      this.setState(() => ({\r\n        seoPage,\r\n      }))\r\n    }\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps) {\r\n    return this.props.location.pathname !== nextProps.location.pathname\r\n  }\r\n\r\n  render() {\r\n    const { seoPage } = this.state\r\n\r\n    if (!seoPage) {\r\n      return null\r\n    }\r\n\r\n    const { uri, title, description } = seoPage\r\n    const url = getUrl(uri)\r\n\r\n    return (\r\n      <DocumentMeta\r\n        title={title}\r\n        description={description}\r\n        canonical={url}\r\n        meta={{\r\n          property: {\r\n            'og:title': title,\r\n            'og:description': description,\r\n            'og:url': url,\r\n            'og:image': seo.config.logo,\r\n          },\r\n        }}\r\n      >\r\n        <JsonLd uri={uri} title={title} description={description} />\r\n      </DocumentMeta>\r\n    )\r\n  }\r\n}\r\n","import PropTypes from 'prop-types'\r\nimport DocumentMeta from 'react-document-meta'\r\n\r\nimport Seo from './Seo'\r\nimport JsonLd from './JsonLd'\r\nimport seo, { getUrl } from 'helpers/seo'\r\n\r\n\r\nexport default class PageSeo extends Seo {\r\n  static propTypes = {\r\n    location: PropTypes.object.isRequired,\r\n    defaultTitle: PropTypes.string,\r\n    defaultDescription: PropTypes.string,\r\n  }\r\n\r\n  getValues = () => {\r\n    if (!!this.state.seoPage) {\r\n      return {\r\n        ...this.state.seoPage,\r\n        url: getUrl(this.state.seoPage.uri),\r\n      }\r\n    }\r\n\r\n    const  { defaultTitle, defaultDescription } = this.props\r\n    return {\r\n      title: defaultTitle,\r\n      description: defaultDescription,\r\n      uri: null,\r\n      url: null,\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    const { title, description, uri, url } = this.getValues()\r\n    return (\r\n      <DocumentMeta\r\n        title={title}\r\n        description={description}\r\n        canonical={url}\r\n        meta={{\r\n          property: {\r\n            'og:title': title,\r\n            'og:description': description,\r\n            'og:url': url,\r\n            'og:image': seo.config.logo,\r\n          },\r\n        }}\r\n      >\r\n        <JsonLd uri={uri} title={title} description={description} />\r\n      </DocumentMeta>\r\n    )\r\n  }\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport config from 'helpers/externalConfig'\r\n\r\nimport { toSvg } from 'jdenticon'\r\n\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './Avatar.scss'\r\n\r\nconst hasGravatar = (ethAddress) => {\r\n  if (config && config.gravatarUsers) {\r\n    let has = false\r\n    Object.keys(config.gravatarUsers).forEach((key) => {\r\n      if (key.toLowerCase() === ethAddress.toLowerCase()) {\r\n        has = config.gravatarUsers[key]\r\n        return false\r\n      }\r\n    })\r\n    return has\r\n  }\r\n  return false\r\n}\r\n\r\ntype ComponentProps = {\r\n  value: string\r\n  size?: number\r\n  className?: string\r\n  ownerEthAddress?: string\r\n}\r\n\r\nconst Avatar = (props: ComponentProps) => {\r\n  const { value, className, size = 35, ownerEthAddress } = props\r\n  let avatarUrl = `data:image/svg+xml,${encodeURIComponent(toSvg(value, size))}`\r\n\r\n  if (ownerEthAddress) {\r\n    const gravatar = hasGravatar(ownerEthAddress)\r\n    if (gravatar) {\r\n      avatarUrl = `https://www.gravatar.com/avatar/${gravatar}?s=${size}`\r\n    }\r\n  }\r\n  return (\r\n    <Fragment>\r\n      <img\r\n        className={className}\r\n        styleName=\"avatar\"\r\n        alt={value}\r\n        title={value}\r\n        src={avatarUrl}\r\n      />\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default CSSModules(Avatar, styles)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"avatar\":\"rc6nEbjBLvD3GY19Gjp-cQ==\"};","import React from 'react'\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './RequestButton.scss'\r\nimport PAIR_TYPES from 'helpers/constants/PAIR_TYPES'\r\nimport { FormattedMessage } from 'react-intl'\r\n\r\nconst RequestButton = (params) => {\r\n  const {\r\n    disabled,\r\n    onClick,\r\n    data: {\r\n      type,\r\n      base,\r\n      main,\r\n    },\r\n  } = params\r\n\r\n  return (\r\n    <button styleName={`button ${disabled ? 'disabled' : ''}`} onClick={onClick}>\r\n      <div styleName=\"rows\">\r\n        <div styleName=\"row1\">\r\n          <FormattedMessage id=\"Reqstbttn16\" defaultMessage=\"Buy\" />\r\n          {' '}\r\n          <span styleName=\"ticker\">{type === PAIR_TYPES.BID ? base : main}</span>\r\n        </div>\r\n        <div  styleName=\"row2\">\r\n          <FormattedMessage id=\"Reqstbttn22\" defaultMessage=\"for\" />\r\n          {' '}\r\n          <span styleName=\"ticker\">{type === PAIR_TYPES.BID ? main : base}</span>\r\n        </div>\r\n      </div>\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default cssModules(RequestButton, styles, { allowMultiple: true })\r\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"_6jTJ1sPkXk9y8pAf1whiuA==\",\"disabled\":\"cUuwIYSUbcdQ8t5gJH7DJQ==\",\"rows\":\"_36rPymktPZDv-ZQNSQmyNA==\",\"row1\":\"lsq9kbxaux+2xjt8vvc0tg==\",\"row2\":\"oGzfPo3DoZHnMpTGC2zCyA==\",\"ticker\":\"O855UvE+IspXqX2Gl+uRhA==\"};","import React, { Component, Fragment } from 'react'\r\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\r\nimport cssModules from 'react-css-modules'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'redaction'\r\nimport actions from 'redux/actions'\r\nimport styles from './Row.scss'\r\nimport config from 'app-config'\r\n\r\nimport helpers, { links, constants } from 'helpers'\r\nimport { IPairFees } from 'helpers/getPairFees'\r\nimport PAIR_TYPES from 'helpers/constants/PAIR_TYPES'\r\nimport { localisedUrl } from 'helpers/locale'\r\nimport feedback from 'helpers/feedback'\r\nimport { BigNumber } from 'bignumber.js'\r\n\r\nimport Avatar from 'components/Avatar/Avatar'\r\nimport InlineLoader from 'components/loaders/InlineLoader/InlineLoader'\r\nimport { RemoveButton } from 'components/controls'\r\nimport TurboIcon from 'components/ui/TurboIcon/TurboIcon'\r\n\r\nimport Pair from './../../Pair'\r\nimport RequestButton from '../RequestButton/RequestButton'\r\nimport SwapApp from 'swap.app'\r\n\r\ntype RowProps = {\r\n  history: IUniversalObj\r\n  balances: { [key: string]: number } | boolean\r\n  pairFees: IPairFees\r\n  decline: any[]\r\n  orderId: string\r\n  linkedOrderId: string\r\n  \r\n  row: {\r\n    id: string\r\n    isMy: boolean\r\n    isTurbo: boolean\r\n    buyCurrency: string\r\n    sellCurrency: string\r\n    buyAmount: BigNumber\r\n    sellAmount: BigNumber\r\n    isRequested: boolean\r\n    isProcessing: boolean\r\n    owner: IUniversalObj\r\n  }\r\n\r\n  removeOrder: (number) => void\r\n  checkSwapAllow: ({}) => boolean\r\n  checkSwapExists: ({}) => boolean\r\n\r\n  currenciesData?: IUniversalObj\r\n  intl?: IUniversalObj\r\n  peer?: string\r\n\r\n  buy?: string\r\n  sell?: string\r\n}\r\n\r\ntype RowState = {\r\n  enterButton: boolean\r\n  isFetching: boolean\r\n  windowWidth: number\r\n}\r\n\r\n@connect(({\r\n  pubsubRoom: { peer },\r\n  user,\r\n}) => ({\r\n  currenciesData: user,\r\n  peer,\r\n}))\r\n\r\n@cssModules(styles, { allowMultiple: true })\r\nclass Row extends Component<RowProps, RowState> {\r\n  _mounted = false\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      windowWidth: 0,\r\n      isFetching: false,\r\n      enterButton: false,\r\n    }\r\n  }\r\n\r\n  getBalance() {\r\n    const {\r\n      row: {\r\n        isMy,\r\n        buyCurrency,\r\n        sellCurrency,\r\n      },\r\n      balances,\r\n    } = this.props\r\n\r\n    let balanceCheckCur = isMy ? sellCurrency : buyCurrency\r\n\r\n    return (balances && balances[balanceCheckCur]) ? balances[balanceCheckCur] : 0\r\n  }\r\n\r\n  componentDidMount() {\r\n    this._mounted = true\r\n    window.addEventListener('resize', this.renderContent)\r\n    this.renderContent()\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._mounted = false\r\n    window.removeEventListener('resize', this.renderContent)\r\n    actions.modals.close(constants.modals.Confirm)\r\n  }\r\n\r\n  checkDeclineOrders = (orderId, currency) => {\r\n    const { decline } = this.props\r\n\r\n    if (decline.length === 0) {\r\n      this.sendSwapRequest(orderId, currency)\r\n    } else {\r\n      const getDeclinedExistedSwapIndex = helpers.handleGoTrade.getDeclinedExistedSwapIndex({ currency, decline })\r\n      if (getDeclinedExistedSwapIndex !== false) {\r\n        this.handleDeclineOrdersModalOpen(getDeclinedExistedSwapIndex)\r\n      } else {\r\n        this.sendSwapRequest(orderId, currency)\r\n      }\r\n    }\r\n  }\r\n\r\n  formatWithDecimals = (amount, currency): string => {\r\n    const decimals = constants.tokenDecimals[currency.toLowerCase()]\r\n    const wrongDecimals = !Number.isInteger(decimals) || decimals < 0 || decimals > 8\r\n    const finalDecimals = wrongDecimals ? 8 : decimals\r\n    const result = new BigNumber(amount).dp(finalDecimals, BigNumber.ROUND_HALF_CEIL)\r\n\r\n    // save decimals if it's float number\r\n    return !result.mod(1) ? result.toFixed(finalDecimals) : result.toFixed()\r\n  }\r\n\r\n  handleDeclineOrdersModalOpen = (indexOfDecline) => {\r\n    //@ts-ignore: strictNullChecks\r\n    const orders = SwapApp.shared().services.orders.items\r\n    const declineSwap = actions.core.getSwapById(this.props.decline[indexOfDecline])\r\n\r\n    if (declineSwap !== undefined) {\r\n      //@ts-ignore: strictNullChecks\r\n      actions.modals.open(constants.modals.DeclineOrdersModal, {\r\n        declineSwap,\r\n      })\r\n    }\r\n  }\r\n\r\n  renderCoinName = (coin) => {\r\n    return coin.toUpperCase()\r\n  }\r\n\r\n  sendSwapRequest = async (orderId, currency) => {\r\n    const {\r\n      row: {\r\n        id,\r\n        buyAmount: sellAmount,\r\n        //sellAmount,\r\n      },\r\n      buy: buyCurrency,\r\n      sell: sellCurrency,\r\n      row,\r\n      intl,\r\n      history,\r\n      checkSwapAllow,\r\n      checkSwapExists,\r\n    } = this.props\r\n\r\n    const balance = this.getBalance()\r\n\r\n    feedback.offers.buyPressed(`${this.renderCoinName(sellCurrency)}->${this.renderCoinName(buyCurrency)}`)\r\n\r\n    const pair = Pair.fromOrder(row)\r\n    //@ts-ignore: strictNullChecks\r\n    const { price, amount, total, main, base, type } = pair\r\n\r\n    if (!checkSwapAllow({\r\n      sellCurrency,\r\n      buyCurrency,\r\n      amount: sellAmount,\r\n      balance,\r\n    })) return false\r\n\r\n    const isSwapExists = await checkSwapExists({ haveCurrency: sellCurrency, getCurrency: buyCurrency, orderId })\r\n\r\n    if (isSwapExists) {\r\n      actions.notifications.show(\r\n        constants.notifications.ErrorNotification,\r\n        { error: 'You have Exists Swap with order participant. Please use other order for start swap with this pair.' }\r\n      )\r\n      return false\r\n    }\r\n\r\n    const exchangeRates = new BigNumber(price).dp(6, BigNumber.ROUND_CEIL)\r\n\r\n    const messages = defineMessages({\r\n      sell: {\r\n        id: 'ordersRow97',\r\n        defaultMessage: 'sell',\r\n      },\r\n      buy: {\r\n        id: 'ordersRow101',\r\n        defaultMessage: 'buy',\r\n      },\r\n    })\r\n\r\n    //@ts-ignore: strictNullChecks\r\n    actions.modals.open(constants.modals.ConfirmBeginSwap, {\r\n      order: row,\r\n      onAccept: async (customWallet) => {\r\n        feedback.offers.swapRequested(`${this.renderCoinName(sellCurrency)}->${this.renderCoinName(buyCurrency)}`)\r\n\r\n        this.setState({ isFetching: true })\r\n\r\n        setTimeout(() => {\r\n          this.setState(() => ({ isFetching: false }))\r\n        }, 15 * 1000)\r\n\r\n        const destination = {\r\n          address: null\r\n        }\r\n        if (customWallet !== null) {\r\n          destination.address = customWallet\r\n        }\r\n\r\n        actions.core.sendRequest(orderId, destination, (isAccepted) => {\r\n          console.log(`Your request is ${isAccepted ? 'accepted' : 'declined'}`)\r\n\r\n          if (isAccepted) {\r\n            this.setState({ isFetching: false }, () => {\r\n              const swapUri = row.isTurbo ?\r\n                `${links.turboSwap}/${id}`\r\n                :\r\n                `${links.atomicSwap}/${id}`\r\n              \r\n              console.log(`Redirect to swap: ${swapUri}`)\r\n              //@ts-ignore: strictNullChecks\r\n              history.push(localisedUrl(intl.locale, swapUri))\r\n            })\r\n          } else {\r\n            this.setState({ isFetching: false })\r\n          }\r\n        })\r\n        actions.core.updateCore()\r\n      },\r\n      message: (\r\n        <FormattedMessage\r\n          id=\"ordersRow134\"\r\n          defaultMessage=\"Do you want to {action} {amount} {main} for {total} {base} at price {price} {main}/{base}?\"\r\n          values={{\r\n            action: `${type === PAIR_TYPES.BID\r\n              //@ts-ignore: strictNullChecks\r\n              ? intl.formatMessage(messages.sell)\r\n              //@ts-ignore: strictNullChecks\r\n              : intl.formatMessage(messages.buy)\r\n            }`,\r\n            amount: `${this.formatWithDecimals(amount, main)}`,\r\n            main: `${this.renderCoinName(main)}`,\r\n            total: `${this.formatWithDecimals(total, base)}`,\r\n            base: `${this.renderCoinName(base)}`,\r\n            price: `${exchangeRates}`,\r\n          }}\r\n        />\r\n      ),\r\n    })\r\n  }\r\n\r\n  renderContent = () => {\r\n    const windowWidth = window.innerWidth\r\n\r\n    this.setState(() => ({\r\n      windowWidth,\r\n    }))\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      isFetching,\r\n      windowWidth,\r\n    } = this.state\r\n\r\n    const {\r\n      row: {\r\n        id,\r\n        isMy,\r\n        isTurbo,\r\n        buyCurrency,\r\n        buyAmount,\r\n        sellCurrency,\r\n        isRequested,\r\n        isProcessing,\r\n        owner: {\r\n          peer: ownerPeer,\r\n          eth: {\r\n            address: ownerEthAddress,\r\n          },\r\n        },\r\n      },\r\n      buy,\r\n      sell,\r\n      row: order,\r\n      peer,\r\n      orderId,\r\n      removeOrder,\r\n      linkedOrderId,\r\n      checkSwapAllow,\r\n    } = this.props\r\n\r\n    const pair = Pair.fromOrder(this.props.row)\r\n    //@ts-ignore: strictNullChecks\r\n    const { price, amount, total, main, base, type } = pair\r\n\r\n    const isSwapButtonEnabled = checkSwapAllow({\r\n      sellCurrency: sell,\r\n      buyCurrency: buy,\r\n      amount: buyAmount,\r\n      isSilentError: true,\r\n    })\r\n\r\n    let sellCurrencyOut\r\n    let sellAmountOut\r\n    let getCurrencyOut\r\n    let getAmountOut\r\n    let priceOut\r\n\r\n    if (type === PAIR_TYPES.BID) {\r\n      sellCurrencyOut = base\r\n      sellAmountOut = total\r\n      getCurrencyOut = main\r\n      getAmountOut = amount\r\n      priceOut = new BigNumber(1).div(price)\r\n    }\r\n\r\n    if (type === PAIR_TYPES.ASK) {\r\n      sellCurrencyOut = main\r\n      sellAmountOut = amount\r\n      getCurrencyOut = base\r\n      getAmountOut = total\r\n      priceOut = price\r\n    }\r\n\r\n    const swapUri = `${links.atomicSwap}/${id}`\r\n\r\n    const mobileFormatCrypto = (value, currency) => {\r\n      if (currency === 'USDT' || currency == 'EUR') {\r\n        return String(value.toFixed(2))\r\n      } else {\r\n        if (Number(value) > 10) {\r\n          return String(value.toFixed(5))\r\n        } else {\r\n          return String(value.toFixed(8))\r\n        }\r\n      }\r\n    }\r\n\r\n    const showDesktopContent = windowWidth > 800\r\n\r\n    return showDesktopContent ? (\r\n      <tr\r\n        id={id}\r\n        styleName={`\r\n          ${id === linkedOrderId ? 'linkedOrderHighlight' : ''}\r\n        `}\r\n        style={orderId === id ? { background: 'rgba(0, 236, 0, 0.1)' } : {}}\r\n      >\r\n        <td styleName='rowCell'>\r\n          <div styleName='withIcon'>\r\n            <Avatar\r\n              value={ownerPeer}\r\n              size={25}\r\n              ownerEthAddress={ownerEthAddress}\r\n            />\r\n            {isTurbo &&\r\n              <TurboIcon />\r\n            }\r\n          </div>\r\n        </td>\r\n        <td styleName='rowCell'>\r\n          <span styleName='rowAmount'>\r\n            <span className={`${sellCurrencyOut.toLowerCase()}SellAmountOfOrder`}>{`${this.formatWithDecimals(sellAmountOut, sellCurrencyOut)}`}</span>\r\n            {' '}\r\n            <span>{`${this.renderCoinName(sellCurrencyOut)}`}</span>\r\n          </span>\r\n        </td>\r\n        <td styleName='rowCell'>\r\n          <span styleName='rowAmount'>\r\n            <span className={`${getCurrencyOut.toLowerCase()}GetAmountOfOrder`}>{`${this.formatWithDecimals(getAmountOut, getCurrencyOut)}`}</span>\r\n            {' '}\r\n            <span>{`${this.renderCoinName(getCurrencyOut)}`}</span>\r\n          </span>\r\n        </td>\r\n        <td styleName='rowCell'>\r\n          <span styleName='rowAmount'>\r\n            {`${this.formatWithDecimals(priceOut, getCurrencyOut)} ${this.renderCoinName(getCurrencyOut)}/${this.renderCoinName(sellCurrencyOut)}`}\r\n          </span>\r\n        </td>\r\n        <td styleName='rowCell'>\r\n          {peer === ownerPeer\r\n            ? <RemoveButton onClick={() => removeOrder(id)} brand />\r\n            :\r\n            <Fragment>\r\n              {\r\n                isRequested ? (\r\n                  <Fragment>\r\n                    <div style={{ color: 'red' }}>\r\n                      <FormattedMessage id=\"RowM136\" defaultMessage=\"REQUESTING\" />\r\n                    </div>\r\n                    {' '}\r\n                    <Link to={swapUri}>\r\n                      <FormattedMessage id=\"RowM139\" defaultMessage=\"Swap\" />\r\n                    </Link>\r\n                  </Fragment>\r\n                ) : (\r\n                  isProcessing ? (\r\n                    <span>\r\n                      <FormattedMessage id=\"Row157\" defaultMessage=\"This order is in execution\" />\r\n                    </span>\r\n                  ) : (\r\n                    isFetching ? (\r\n                      <Fragment>\r\n                        <InlineLoader />\r\n                        <br />\r\n                        <span>\r\n                          <FormattedMessage id=\"Row165\" defaultMessage=\"Please wait while we confirm your request\" />\r\n                        </span>\r\n                      </Fragment>\r\n                    ) : (\r\n                      <RequestButton\r\n                        disabled={!isSwapButtonEnabled}\r\n                        onClick={isSwapButtonEnabled ?\r\n                          () => this.checkDeclineOrders(id, isMy ? sellCurrency : buyCurrency)\r\n                          :\r\n                          () => {}\r\n                        }\r\n                        data={{\r\n                          type,\r\n                          main: this.renderCoinName(main),\r\n                          base: this.renderCoinName(base),\r\n                        }}\r\n                      />\r\n                    )\r\n                  )\r\n                )\r\n              }\r\n            </Fragment>\r\n          }\r\n        </td>\r\n      </tr>\r\n    )\r\n    : /* mobile content */\r\n    (\r\n      <tr\r\n        id={id}\r\n        styleName={`\r\n          ${'mobileRow'}\r\n          ${id === linkedOrderId ? 'linkedOrderHighlight' : ''}\r\n        `}\r\n        style={orderId === id ? { background: 'rgba(0, 236, 0, 0.1)' } : {}}\r\n      >\r\n        <td>\r\n          <div styleName=\"bigContainer\">\r\n            <div styleName=\"tdContainer-1\">\r\n              <span styleName=\"firstType\">\r\n                {type === PAIR_TYPES.BID\r\n                  ? (<FormattedMessage id=\"MyOrdersYouSend\" defaultMessage=\"You send\" />)\r\n                  : (<FormattedMessage id=\"RowMobileYouGet\" defaultMessage=\"You get\" />)}\r\n              </span>\r\n              <span styleName='rowAmount withIcon'>\r\n                {isTurbo &&\r\n                  <TurboIcon />\r\n                }\r\n                {`${mobileFormatCrypto(amount, main)} ${main}`}\r\n              </span>\r\n            </div>\r\n            <div>\r\n              <i styleName='arrowsIcon' className=\"fas fa-exchange-alt\" />\r\n            </div>\r\n            <div styleName=\"tdContainer-2\">\r\n              <span styleName=\"secondType\">\r\n                {type === PAIR_TYPES.BID\r\n                  ? (<FormattedMessage id=\"RowMobileYouGet\" defaultMessage=\"You get\" />)\r\n                  : (<FormattedMessage id=\"MyOrdersYouSend\" defaultMessage=\"You send\" />)}\r\n              </span>\r\n              <span styleName='rowAmount'>{`${mobileFormatCrypto(total, base)} ${this.renderCoinName(base)}`}</span>\r\n            </div>\r\n            <div styleName=\"tdContainer-3\">\r\n              {\r\n                peer === ownerPeer ? (\r\n                  <RemoveButton onClick={() => removeOrder(id)} brand={true} />\r\n                ) : (\r\n                  <Fragment>\r\n                    {\r\n                      isRequested ? (\r\n                        <Fragment>\r\n                          <div style={{ color: 'red' }}>\r\n                            <FormattedMessage id=\"RowM136\" defaultMessage=\"REQUESTING\" />\r\n                          </div>\r\n                          {' '}\r\n                          <Link to={swapUri}>\r\n                            <FormattedMessage id=\"RowM139\" defaultMessage=\"Swap\" />\r\n                          </Link>\r\n                        </Fragment>\r\n                      ) : (\r\n                        isProcessing ? (\r\n                          <span>\r\n                            <FormattedMessage id=\"RowM145\" defaultMessage=\"This order is in execution\" />\r\n                          </span>\r\n                        ) : (\r\n                          isFetching ? (\r\n                            <Fragment>\r\n                              <InlineLoader />\r\n                              <br />\r\n                              <span>\r\n                                <FormattedMessage id=\"RowM153\" defaultMessage=\"Please wait while we confirm your request\" />\r\n                              </span>\r\n                            </Fragment>\r\n                          ) : (\r\n                            <RequestButton\r\n                              styleName=\"startButton\"\r\n                              disabled={!isSwapButtonEnabled}\r\n                              onClick={isSwapButtonEnabled ?\r\n                                () => this.sendSwapRequest(id, isMy ? sellCurrency : buyCurrency)\r\n                                :\r\n                                () => {}\r\n                              }\r\n                              data={{\r\n                                type,\r\n                                main: this.renderCoinName(main),\r\n                                base: this.renderCoinName(base),\r\n                              }}\r\n                            />\r\n                          )\r\n                        )\r\n                      )\r\n                    }\r\n                  </Fragment>\r\n                )\r\n              }\r\n            </div>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(Row)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"rowAmount\":\"Ay6RlbL4E4FynmzTuWKELQ==\",\"withIcon\":\"jluoKxR0-6AVedOsCK4DoA==\",\"arrowsIcon\":\"zosODqk6XY1nX5oh1H1Uag==\",\"rowCell\":\"D5Bewr3jveciRBBXElF1NQ==\",\"mobileRow\":\"_3Kcracvv1RzdMsFbMSHbSg==\",\"firstType\":\"Cct619aB5IW3WiHSzZBhIw==\",\"secondType\":\"SLGMHwsaqCwk9xW2JzhgFA==\",\"tdContainer-1\":\"MZYyJhV0mOcYvLq-FQEuxQ==\",\"tdContainer-2\":\"snqWhMU-wxm8j7g8OpPrlw==\",\"tdContainer-3\":\"I9Le4rE8Fkjo4G0G5K0iug==\",\"startButton\":\"U3CS8QbtBMTUMWLXw4AbxA==\",\"bigContainer\":\"oMbYP2+k9S+n64nddrH8cw==\",\"linkedOrderHighlight\":\"vYvoEdfpKiTB3puaoMICMQ==\"};","export default __webpack_public_path__ + \"images/share-alt-solid_db73c0.svg\";","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport config from 'app-config'\r\nimport { links, constants } from 'helpers'\r\nimport { Link, withRouter } from 'react-router-dom'\r\n\r\nimport styles from './RowFeeds.scss'\r\nimport CSSModules from 'react-css-modules'\r\nimport ShareImg from './images/share-alt-solid.svg'\r\n\r\nimport Coins from 'components/Coins/Coins'\r\nimport Copy from 'components/ui/Copy/Copy'\r\nimport { RemoveButton } from 'components/controls'\r\nimport { FormattedMessage, injectIntl } from 'react-intl'\r\nimport { localisedUrl } from 'helpers/locale'\r\nimport BigNumber from 'bignumber.js'\r\nimport TurboIcon from 'shared/components/ui/TurboIcon/TurboIcon'\r\n\r\n\r\n@withRouter\r\n@CSSModules(styles, { allowMultiple: true })\r\nclass RowFeeds extends Component<any, any> {\r\n\r\n  static propTypes = {\r\n    row: PropTypes.object,\r\n  }\r\n\r\n  generateOfferUrl = () => {\r\n    const { row: { id } } = this.props\r\n\r\n    const currentUrl = window.location.href\r\n\r\n    const offerUrl = currentUrl.includes(`/${id}`) ?\r\n      currentUrl // if already entered\r\n      :\r\n      `${currentUrl}/${id}`\r\n\r\n    return offerUrl\r\n  }\r\n\r\n  renderCoinName(coin) {\r\n    return coin.toUpperCase()\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      row: { requests, buyAmount, buyCurrency, sellAmount, sellCurrency, exchangeRate, id, isTurbo },\r\n      declineRequest, acceptRequest, removeOrder, intl: { locale },\r\n    } = this.props\r\n\r\n    const rate = exchangeRate ? new BigNumber(exchangeRate) : new BigNumber(buyAmount).div(sellAmount)\r\n\r\n    const swapUri = isTurbo ?\r\n      `${links.turboSwap}/${id}`\r\n      :\r\n      `${links.atomicSwap}/${id}`\r\n\r\n    return (\r\n      <tr key={this.props.key}>\r\n        <td styleName=\"with-icon rowData\">\r\n          <Coins names={[sellCurrency, buyCurrency]} size={25} />\r\n          {isTurbo &&\r\n            <TurboIcon />\r\n          }\r\n        </td>\r\n        <td styleName='rowData'>\r\n          <span className='sellAmountOrders' styleName=\"value\">{sellAmount.toFixed(5)}</span>\r\n          {' '}\r\n          <span styleName=\"currency\">{this.renderCoinName(sellCurrency)}</span>\r\n        </td>\r\n        <td styleName='rowData'>\r\n          <span className='buyAmountOrders' styleName=\"value\">{buyAmount.toFixed(5)}</span>\r\n          {' '}\r\n          <span styleName=\"currency\">{this.renderCoinName(buyCurrency)}</span>\r\n        </td>\r\n        <td styleName='rowData'>\r\n          <span styleName=\"value\">{rate.toFixed(5)}</span>\r\n          {' '}\r\n          <span styleName=\"currency\">{`${this.renderCoinName(buyCurrency)}/${this.renderCoinName(sellCurrency)}`}</span>\r\n        </td>\r\n        <td styleName='rowData'>\r\n          <div styleName=\"buttons\">\r\n            <div>\r\n              <Copy text={this.generateOfferUrl()}>\r\n                <div styleName=\"circle\">\r\n                  <img src={ShareImg} styleName=\"img\" alt=\"share\" />\r\n                </div>\r\n              </Copy>\r\n            </div>\r\n            {Boolean(requests && requests.length) ?\r\n              <div>\r\n                <div styleName=\"delete\" onClick={() => declineRequest(id, requests[0].participant.peer)} >\r\n                  <FormattedMessage id=\"RowHistoryCancelInvoice\" defaultMessage=\"Decline\" />\r\n                </div>\r\n                <Link to={swapUri}>\r\n                  <div styleName=\"accept\" onClick={() => acceptRequest(id, requests[0].participant.peer)} >\r\n                    <FormattedMessage id=\"RowFeeds81\" defaultMessage=\"Accept\" />\r\n                  </div>\r\n                </Link>\r\n              </div>\r\n              : <RemoveButton onClick={() => removeOrder(id)} brand={true} />\r\n            }\r\n          </div>\r\n        </td>\r\n      </tr>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(RowFeeds)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"accept\":\"_7E-xHpPPZG8WE+5faR+Tkg==\",\"delete\":\"IBgB+3NdcWGjQhlbvIgk9Q==\",\"rowData\":\"UrvGQgyaXo0-52yscFI0Kw==\",\"with-icon\":\"-I8Rx14qxBwXwtCUstGP-w==\",\"buttons\":\"ySv9Cyfj3LDLV05kDMC2Kg==\",\"img\":\"Aa9PVR1oGoqCyYVjHMspyA==\",\"circle\":\"VN9LPQ9Df3ya1cihJuJzmQ==\",\"value\":\"_2l13SIMm2ajeccl3Jn15hQ==\",\"currency\":\"CEutYNZGk9KFE2wjJwpb1A==\"};","import React, { PureComponent, Fragment } from 'react'\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './MyOrders.scss'\r\nimport RowFeeds from './RowFeeds/RowFeeds'\r\n\r\nimport { FormattedMessage } from 'react-intl'\r\n\r\n@cssModules(styles, { allowMultiple: true })\r\nexport default class MyOrders extends PureComponent<any, any> {\r\n\r\n  render() {\r\n    const titles = [\r\n      ' ', // empty title in the table\r\n      <FormattedMessage id=\"MyOrdersYouSend\" defaultMessage=\"You send\" />,\r\n      <FormattedMessage id=\"MyOrdersYouGet\" defaultMessage=\"You get\" />,\r\n      <FormattedMessage id=\"MyOrdersRate\" defaultMessage=\"Exchnage rate\" />,\r\n      ' ', // empty title in the table\r\n    ]\r\n    const { myOrders, declineRequest, acceptRequest, removeOrder } = this.props\r\n\r\n    if (myOrders.length === undefined || myOrders.length <= 0) {\r\n      return null\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <table styleName=\"myOrdersTable\">\r\n          <thead>\r\n            <tr>\r\n              {\r\n                titles.map((title, index) =>\r\n                  <th key={index}>{title}</th>\r\n                )\r\n              }\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {myOrders.map((order, index) => {\r\n              return (\r\n                <RowFeeds\r\n                  key={index}\r\n                  row={order}\r\n                  declineRequest={declineRequest}\r\n                  acceptRequest={acceptRequest}\r\n                  removeOrder={removeOrder}\r\n                />\r\n              )\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"myOrdersTable\":\"KTZBfrkeoa62o28GJEN3wg==\"};","import React, { Component, Fragment } from 'react'\r\n\r\nimport { connect } from 'redaction'\r\nimport actions from 'redux/actions'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nimport constants from 'helpers/constants'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './OrderBook.scss'\r\n\r\nimport Panel from 'components/ui/Panel/Panel'\r\nimport Table from 'components/tables/Table/Table'\r\nimport tableStyles from 'components/tables/Table/Table.scss'\r\nimport Toggle from 'components/controls/Toggle/Toggle'\r\nimport InlineLoader from 'components/loaders/InlineLoader/InlineLoader'\r\nimport PageSeo from 'components/Seo/PageSeo'\r\nimport { getSeoPage } from 'helpers/seo'\r\n\r\nimport Pair from './../Pair'\r\nimport Row from './Row/Row'\r\nimport MyOrders from './../MyOrders/MyOrders'\r\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\r\n\r\nimport config from 'app-config'\r\nimport feedback from 'shared/helpers/feedback'\r\nimport getCoinInfo from 'common/coins/getCoinInfo'\r\n\r\n\r\ntype OrderBookProps = {\r\n  sellCurrency: string\r\n  buyCurrency: string\r\n\r\n  isOnline: boolean\r\n  invalidPair: boolean\r\n  isAllPeersLoaded: boolean\r\n\r\n  decline: any[]\r\n  history: { [key: string]: any }\r\n  intl: { [key: string]: any }\r\n  location: { [key: string]: any }\r\n  orders: { [key: string]: any }[]\r\n  myOrders: { [key: string]: any }[]\r\n  currencies: { [key: string]: any }[]\r\n\r\n  pairFees: { [key: string]: any } | boolean\r\n  balances: { [key: string]: number } | boolean\r\n  \r\n  linkedOrderId: string\r\n  orderId: string\r\n\r\n  checkSwapAllow: ({}) => boolean\r\n  checkSwapExists: ({}) => boolean\r\n}\r\n\r\ntype OrderBookState = {\r\n  buyOrders: { [key: string]: any }[]\r\n  sellOrders: { [key: string]: any }[]\r\n  isShowAllMyOrders: boolean\r\n}\r\n\r\nconst filterMyOrders = (orders, peer) => orders\r\n  .filter(order => order.owner.peer === peer)\r\n\r\nconst filterOrders = (orders, filter) => {\r\n  return orders\r\n    .filter(order => order.isProcessing !== true)\r\n    .filter(order => order.isHidden !== true)\r\n    .filter(order => Pair.check(order, filter))\r\n    .sort((a, b) => {\r\n      return Pair.compareOrders(b, a)\r\n    })\r\n}\r\n\r\n@connect(({\r\n  rememberedOrders,\r\n  core: { orders, filter },\r\n  pubsubRoom: { isOnline, isAllPeersLoaded, peer },\r\n  currencies: { items: currencies },\r\n}) => ({\r\n  orders: filterOrders(orders, filter),\r\n  myOrders: filterMyOrders(orders, peer),\r\n  isOnline,\r\n  isAllPeersLoaded,\r\n  currencies,\r\n  decline: rememberedOrders.savedOrders,\r\n}))\r\n@withRouter\r\n@cssModules(styles, { allowMultiple: true })\r\nclass OrderBook extends Component<OrderBookProps, OrderBookState> {\r\n  static getDerivedStateFromProps({ orders, sellCurrency, buyCurrency }) {\r\n    if (orders.length === 0) {\r\n      return null\r\n    }\r\n\r\n    const sellOrders = orders.filter(order =>\r\n      order.buyCurrency.toLowerCase() === buyCurrency.toLowerCase() &&\r\n      order.sellCurrency.toLowerCase() === sellCurrency.toLowerCase()\r\n    ).sort((a, b) => Pair.compareOrders(b, a))\r\n\r\n    const buyOrders = orders.filter(order =>\r\n      order.buyCurrency.toLowerCase() === sellCurrency.toLowerCase() &&\r\n      order.sellCurrency.toLowerCase() === buyCurrency.toLowerCase()\r\n    ).sort((a, b) => Pair.compareOrders(a, b))\r\n\r\n    return {\r\n      buyOrders,\r\n      sellOrders,\r\n    }\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      buyOrders: [],\r\n      sellOrders: [],\r\n      isShowAllMyOrders: true,\r\n    }\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const { orders } = this.props\r\n    const { buyOrders, sellOrders } = this.state\r\n\r\n    if (orders.length === 0) {\r\n      if (buyOrders.length) {\r\n        this.setState(() => ({\r\n          buyOrders: [],\r\n        }))\r\n      }\r\n\r\n      if (sellOrders.length) {\r\n        this.setState({\r\n          sellOrders: [],\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  handleShowAllMyOrders = (value) => {\r\n    this.setState(() => ({ isShowAllMyOrders: value }))\r\n  }\r\n\r\n  removeOrder = (orderId) => {\r\n    actions.modals.open(constants.modals.Confirm, {\r\n      onAccept: () => {\r\n        feedback.offers.deleted()\r\n        actions.core.deletedPartialCurrency(orderId)\r\n        actions.core.removeOrder(orderId)\r\n        actions.core.updateCore()\r\n      },\r\n      message: (\r\n        <FormattedMessage id=\"orders94s\" defaultMessage=\"Are you sure you want to delete the order?\" />\r\n      ),\r\n    })\r\n  }\r\n\r\n  acceptRequest = (orderId, peer) => {\r\n    actions.core.acceptRequest(orderId, peer)\r\n    actions.core.updateCore()\r\n  }\r\n\r\n  declineRequest = (orderId, peer) => {\r\n    actions.core.declineRequest(orderId, peer)\r\n    actions.core.updateCore()\r\n  }\r\n\r\n  \r\n  renderCoinName(coin) {\r\n    return coin.toUpperCase()\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      buyOrders,\r\n      sellOrders,\r\n      isShowAllMyOrders,\r\n    } = this.state\r\n\r\n    const { \r\n      intl,\r\n      decline,\r\n      linkedOrderId,\r\n      pairFees,\r\n      balances, \r\n      history, \r\n      isOnline, \r\n      isAllPeersLoaded, \r\n      myOrders, \r\n      orderId, \r\n      location, \r\n      currencies,\r\n      checkSwapAllow,\r\n      checkSwapExists,\r\n      buyCurrency: propsBuyCurrency,\r\n      sellCurrency: propsSellCurrency,\r\n      invalidPair,\r\n    } = this.props\r\n\r\n    const buyCurrency = propsBuyCurrency.toUpperCase()\r\n    const sellCurrency = propsSellCurrency.toUpperCase()\r\n\r\n    const titles = [\r\n      ' ', // empty title in the table\r\n      <FormattedMessage id=\"orders102\" defaultMessage=\"Amount\" />,\r\n      <FormattedMessage id=\"orders104\" defaultMessage=\"Total\" />,\r\n      <FormattedMessage id=\"orders105\" defaultMessage=\"Price\" />,\r\n      ' ', // empty title in the table \r\n    ]\r\n\r\n    const seoPage = getSeoPage(location.pathname)\r\n\r\n    const isWidget = (config && config.isWidget)\r\n\r\n    const buyCurrencyFullName = (currencies.find(c => c.name === buyCurrency) || {}).fullTitle\r\n    const sellCurrencyFullName = (currencies.find(c => c.name === sellCurrency) || {}).fullTitle\r\n\r\n    const title = defineMessages({\r\n      metaTitle: {\r\n        id: 'Orders121',\r\n        defaultMessage: 'Atomic Swap {buyCurrencyFullName} ({buyCurrency}) to {sellCurrencyFullName} ({sellCurrency}) Instant Exchange',\r\n      },\r\n    })\r\n    const description = defineMessages({\r\n      metaDescription: {\r\n        id: 'Orders127',\r\n        defaultMessage: `Best exchange rate for {buyCurrencyFullName} ({buyCurrency}) to {sellCurrencyFullName} ({sellCurrency}).\r\n         Swap.Online wallet provides instant exchange using Atomic Swap Protocol.`,\r\n      },\r\n    })\r\n\r\n    const myOrdersThisMarket = myOrders.filter(order =>\r\n      order.buyCurrency === buyCurrency && order.sellCurrency === sellCurrency\r\n      ||\r\n      order.buyCurrency === sellCurrency && order.sellCurrency === buyCurrency\r\n    )\r\n\r\n    const offersNoticeLoadingText = (\r\n      <div styleName='offersLoadingNotice'>\r\n        <FormattedMessage\r\n          id=\"OrderBookOffersNoteOverLoader\"\r\n          defaultMessage=\"Requesting offers from peers online\"\r\n        />\r\n        <div styleName='loader'>\r\n          <InlineLoader />\r\n        </div>\r\n        <FormattedMessage\r\n          id=\"OrderBookOffersNoteUnderLoader\"\r\n          defaultMessage=\"it may take a minute\"\r\n        />\r\n      </div>\r\n    )\r\n\r\n    const offersNoticeOfflineText = (\r\n      <p styleName=\"offersOfflineNotice\">\r\n        <FormattedMessage\r\n          id=\"OrderBookOffersOfflineNote\"\r\n          defaultMessage=\"If no offers are found, this means that there are no users who posted the offer, not online.\"\r\n        />\r\n      </p>\r\n    )\r\n\r\n    return (\r\n      <div styleName=\"orderbookWrapper\">\r\n        <PageSeo\r\n          location={location}\r\n          defaultTitle={intl.formatMessage(title.metaTitle, {\r\n            buyCurrency: this.renderCoinName(buyCurrency),\r\n            sellCurrency: this.renderCoinName(sellCurrency),\r\n            buyCurrencyFullName,\r\n            sellCurrencyFullName,\r\n          })}\r\n          defaultDescription={intl.formatMessage(description.metaDescription, {\r\n            buyCurrency: this.renderCoinName(buyCurrency),\r\n            sellCurrency: this.renderCoinName(sellCurrency),\r\n            buyCurrencyFullName,\r\n            sellCurrencyFullName,\r\n          })}\r\n        />\r\n\r\n        {!!myOrders.length &&\r\n          <Panel\r\n            header={\r\n              <Fragment>\r\n                <h3>\r\n                  <FormattedMessage id=\"MyOrders23\" defaultMessage=\"Your offers\" />\r\n                  {' '}\r\n                  <span>{ isShowAllMyOrders ? `(${myOrders.length})` : `(${myOrdersThisMarket.length}/${myOrders.length})` }</span>\r\n                </h3>\r\n                <div styleName=\"subtitle showAllSwitch\">\r\n                  <FormattedMessage\r\n                    id=\"orders1381\"\r\n                    defaultMessage=\"{buyCurrency}  {sellCurrency}\"\r\n                    values={{\r\n                      buyCurrency: this.renderCoinName(buyCurrency),\r\n                      sellCurrency: this.renderCoinName(sellCurrency),\r\n                    }}\r\n                  />\r\n                  {/*\r\n                  //@ts-ignore */}\r\n                  <Toggle checked={isShowAllMyOrders} onChange={this.handleShowAllMyOrders} />\r\n                  <FormattedMessage id=\"orders1382\" defaultMessage=\"All\" />\r\n                </div>\r\n              </Fragment>\r\n            }\r\n          >\r\n            <MyOrders\r\n              myOrders={isShowAllMyOrders ? myOrders : myOrdersThisMarket}\r\n              declineRequest={this.declineRequest}\r\n              removeOrder={this.removeOrder}\r\n              acceptRequest={this.acceptRequest}\r\n            />\r\n          </Panel>\r\n        }\r\n        <Panel header={\r\n          <Fragment>\r\n            <h3 styleName=\"ordersHeading\">\r\n              <FormattedMessage\r\n                id=\"orders159\"\r\n                defaultMessage=\"{currency} offers\"\r\n                values={{ currency: this.renderCoinName(buyCurrency) }} />\r\n            </h3>\r\n            <div styleName=\"subtitle\">\r\n              <FormattedMessage\r\n                id=\"orders156\"\r\n                defaultMessage=\"Buy {currency} here\"\r\n                values={{ currency: this.renderCoinName(buyCurrency) }}\r\n              />\r\n            </div>\r\n          </Fragment>\r\n        }>\r\n          {isOnline\r\n            ? (\r\n              buyOrders.length > 0\r\n                ? (\r\n                  <Table\r\n                    id=\"table_exchange\"\r\n                    className={tableStyles.exchange}\r\n                    styleName=\"orderBookTable\"\r\n                    titles={titles}\r\n                    rows={buyOrders}\r\n                    rowRender={(row) => (\r\n                      <Row\r\n                        key={row.id}\r\n                        orderId={orderId}\r\n                        row={row}\r\n                        decline={decline}\r\n                        history={history}\r\n                        removeOrder={this.removeOrder}\r\n                        linkedOrderId={linkedOrderId}\r\n                        pairFees={pairFees}\r\n                        balances={balances}\r\n                        checkSwapAllow={checkSwapAllow}\r\n                        checkSwapExists={checkSwapExists}\r\n                        buy={buyCurrency}\r\n                        sell={sellCurrency}\r\n                      />\r\n                    )}\r\n                  />\r\n                )\r\n                : offersNoticeLoadingText\r\n            )\r\n            : offersNoticeOfflineText\r\n          }\r\n        </Panel>\r\n\r\n        <Panel header={\r\n          <Fragment>\r\n            <h3 styleName=\"ordersHeading\">\r\n              <FormattedMessage\r\n                id=\"orders159\"\r\n                defaultMessage=\"{currency} offers\"\r\n                values={{ currency: this.renderCoinName(sellCurrency) }} />\r\n            </h3>\r\n            <div styleName=\"subtitle\">\r\n              <FormattedMessage\r\n                id=\"orders156\"\r\n                defaultMessage=\"Buy {currency} here\"\r\n                values={{ currency: this.renderCoinName(sellCurrency) }}\r\n              />\r\n            </div>\r\n          </Fragment>\r\n        }\r\n        >\r\n          {isOnline\r\n            ? (\r\n              sellOrders.length > 0\r\n                ? (\r\n                  <Table\r\n                    id=\"table_exchange\"\r\n                    className={tableStyles.exchange}\r\n                    styleName=\"orderBookTable\"\r\n                    titles={titles}\r\n                    rows={sellOrders}\r\n                    rowRender={(row) => (\r\n                      <Row\r\n                        key={row.id}\r\n                        orderId={orderId}\r\n                        row={row}\r\n                        decline={decline}\r\n                        history={history}\r\n                        removeOrder={this.removeOrder}\r\n                        linkedOrderId={linkedOrderId}\r\n                        pairFees={pairFees}\r\n                        balances={balances}\r\n                        checkSwapAllow={checkSwapAllow}\r\n                        checkSwapExists={checkSwapExists}\r\n                        buy={sellCurrency}\r\n                        sell={buyCurrency}\r\n                      />\r\n                    )}\r\n                  />\r\n                )\r\n                : offersNoticeLoadingText\r\n            )\r\n            : offersNoticeOfflineText\r\n          }\r\n        </Panel>\r\n        {seoPage && seoPage.footer && <div>{seoPage.footer}</div>}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(OrderBook)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"ordersHeading\":\"_3L7xpTFwdp8+UnUd2QUWaA==\",\"offersLoadingNotice\":\"H8qPKxPe4qIdU3OVb1M+xw==\",\"loader\":\"-WWHy6bAfEh9p57GRxhVRA==\",\"offersOfflineNotice\":\"qoK561SxYFSRbmEAOlZz6A==\",\"orderBookTable\":\"kFNTm+fzpp0cZXSSEXAyOA==\",\"subtitle\":\"yfCP1E9QLUF+Ad4-zJENgQ==\",\"showAllSwitch\":\"_1OvOSRuIKev3lq-vawQniQ==\",\"orderbookWrapper\":\"WQEwQ2SZLOqX3Q+v1ca44A==\"};","import React, { Component, Fragment } from 'react'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './Orders.scss'\r\n\r\nimport { links, constants } from 'helpers'\r\n\r\nimport actions from 'redux/actions'\r\nimport { connect } from 'redaction'\r\nimport { isMobile } from 'react-device-detect'\r\n\r\nimport Center from 'components/layout/Center/Center'\r\nimport PageHeadline from 'components/PageHeadline/PageHeadline'\r\nimport SubTitle from 'components/PageHeadline/SubTitle/SubTitle'\r\nimport FaqExpandableItem from 'components/FaqExpandableItem/FaqExpandableItem'\r\nimport CurrencyDirectionChooser from 'components/CurrencyDirectionChooser/CurrencyDirectionChooser'\r\nimport { FormattedMessage, injectIntl } from 'react-intl'\r\nimport { localisedUrl } from 'helpers/locale'\r\n\r\nimport OrderBook from './OrderBook/OrderBook'\r\n\r\nimport config from 'app-config'\r\n\r\n\r\n@connect(({\r\n  core: { filter },\r\n  currencies: { items: currencies },\r\n}) => ({\r\n  filter,\r\n  currencies,\r\n}))\r\n@cssModules(styles, { allowMultiple: true })\r\nclass Offers extends Component<any, any> {\r\n  constructor(props) {\r\n    super(props)\r\n    const { initialData, intl: { locale } } = props\r\n    const { buyCurrency, sellCurrency } = initialData || {}\r\n\r\n    const { buy, sell } = this.getCurrentCurrencies(props)\r\n\r\n    this.state = {\r\n      buyCurrency: buy || buyCurrency || 'swap',\r\n      sellCurrency: sell || sellCurrency || 'btc',\r\n      invalidPair: false,\r\n      isShow: false,\r\n      exchange: localisedUrl(locale, links.exchange),\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { buy, sell } = this.getCurrentCurrencies(this.props)\r\n\r\n    if (!sell || !buy) {\r\n      return\r\n    }\r\n\r\n    this.checkPair(sell, buy)\r\n  }\r\n\r\n  componentDidUpdate({ buy: prevBuy, sell: prevSell }) {\r\n    const { buy, sell } = this.props\r\n    if (buy !== prevBuy || sell !== prevSell) {\r\n      this.createNewState({\r\n        buyCurrency: buy,\r\n        sellCurrency: sell,\r\n      })\r\n    }\r\n  }\r\n\r\n  createNewState = ({ buyCurrency, sellCurrency }) => {\r\n    this.checkPair(sellCurrency, buyCurrency)\r\n\r\n    this.setState(() => ({ buyCurrency, sellCurrency }))\r\n  }\r\n\r\n  getCurrentCurrencies = (props) => {\r\n    const { match = {}, buy: buyCurrency, sell: sellCurrency } = props\r\n\r\n    const buy = match.params ? match.params.buy : buyCurrency\r\n    const sell = match.params ? match.params.sell : sellCurrency\r\n\r\n    return { buy, sell }\r\n  }\r\n\r\n  handleBuyCurrencySelect = ({ value }) => {\r\n    let { sellCurrency, buyCurrency } = this.state\r\n\r\n    if (sellCurrency === value) {\r\n      sellCurrency = buyCurrency\r\n    }\r\n\r\n    this.checkPair(sellCurrency, value)\r\n\r\n    this.setState({\r\n      buyCurrency: value,\r\n      sellCurrency,\r\n    })\r\n  }\r\n\r\n  handleSellCurrencySelect = ({ value }) => {\r\n    let { sellCurrency, buyCurrency } = this.state\r\n\r\n    if (buyCurrency === value) {\r\n      buyCurrency = sellCurrency\r\n    }\r\n\r\n    this.checkPair(value, buyCurrency)\r\n    actions.pairs.selectPair(sellCurrency)\r\n    this.setState({\r\n      buyCurrency,\r\n      sellCurrency: value,\r\n    })\r\n  }\r\n\r\n  flipCurrency = () => {\r\n    const { buyCurrency, sellCurrency } = this.state\r\n\r\n    this.checkPair(buyCurrency, sellCurrency)\r\n\r\n    this.setState({\r\n      buyCurrency: sellCurrency,\r\n      sellCurrency: buyCurrency,\r\n    })\r\n  }\r\n\r\n  setFilter = (filter) => {\r\n    actions.core.setFilter(filter)\r\n  }\r\n\r\n  checkPair = (sell, buy) => {\r\n    sell = sell.toUpperCase()\r\n    buy = buy.toUpperCase()\r\n\r\n    if (constants.tradeTicker.includes(`${sell}-${buy}`)) {\r\n      this.setFilter(`${sell}-${buy}`)\r\n    } else if (constants.tradeTicker.includes(`${buy}-${sell}`)) {\r\n      this.setFilter(`${buy}-${sell}`)\r\n    } else {\r\n      this.setFilter('usdt-btc')\r\n      this.setState(() => ({\r\n        sellCurrency: 'btc',\r\n        buyCurrency: 'usdt',\r\n        invalidPair: true,\r\n      }))\r\n    }\r\n  }\r\n\r\n  handleShowOrders = () => {\r\n    const { history, filter } = this.props\r\n\r\n    this.setState(() => ({\r\n      isVisible: false,\r\n      isShow: true,\r\n    }))\r\n    history.replace(filter.toLowerCase())\r\n  }\r\n\r\n  render() {\r\n    const { match = {}, history = {}, currencies, linkedOrderId } = this.props\r\n    const { buyCurrency, sellCurrency, invalidPair, exchange } = this.state\r\n    const sectionContainerStyleName = isMobile ? 'sectionContainerMobile' : 'sectionContainer'\r\n    const isWidgetBuild = config && config.isWidget\r\n\r\n    const {\r\n      pairFees,\r\n      balances,\r\n    } = this.props\r\n\r\n    return (\r\n      <section styleName={isWidgetBuild ? `${sectionContainerStyleName} ${sectionContainerStyleName}_widget` : sectionContainerStyleName}>\r\n        {\r\n          history.location && history.location.pathname === exchange ? (\r\n            //@ts-ignore\r\n            <PageHeadline>\r\n              <CurrencyDirectionChooser\r\n                handleSellCurrencySelect={this.handleSellCurrencySelect}\r\n                handleBuyCurrencySelect={this.handleBuyCurrencySelect}\r\n                handleSubmit={this.handleShowOrders}\r\n                buyCurrency={buyCurrency}\r\n                sellCurrency={sellCurrency}\r\n                flipCurrency={this.flipCurrency}\r\n                currencies={currencies}\r\n              />\r\n              <div styleName=\"videoContainer\">\r\n                <Center relative centerVertically={false}>\r\n                  <SubTitle>\r\n                    <FormattedMessage id=\"Home153\" defaultMessage=\"What is atomic swap?\" />\r\n                  </SubTitle>\r\n                </Center>\r\n\r\n                <div styleName=\"videoFaqContainer\">\r\n                  <iframe\r\n                    title=\"What is atomic swap?\"\r\n                    width=\"700\"\r\n                    height=\"480\"\r\n                    src=\"https://www.youtube.com/embed/Jhrb7xOT_7s\"\r\n                    frameBorder=\"0\"\r\n                    allow=\"autoplay; encrypted-media\"\r\n                    allowFullScreen\r\n                  />\r\n                  <div styleName=\"faqContainer\">\r\n                    {\r\n                      links.faq.map((question, idx) =>\r\n                        <FaqExpandableItem key={idx} {...question} />\r\n                      )\r\n                    }\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </PageHeadline>\r\n          ) : (\r\n            <OrderBook\r\n              handleSellCurrencySelect={this.handleSellCurrencySelect}\r\n              handleBuyCurrencySelect={this.handleBuyCurrencySelect}\r\n              buyCurrency={buyCurrency}\r\n              sellCurrency={sellCurrency}\r\n              flipCurrency={this.flipCurrency}\r\n              orderId={match.params && match.params.orderId}\r\n              invalidPair={invalidPair}\r\n              linkedOrderId={linkedOrderId}\r\n              pairFees={pairFees}\r\n              balances={balances}\r\n              checkSwapAllow={this.props.checkSwapAllow}\r\n              checkSwapExists={this.props.checkSwapExists}\r\n            />\r\n          )\r\n        }\r\n      </section>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(Offers)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"sectionContainer\":\"wbdHwGF89e02l50MgKeU7Q==\",\"sectionContainer_widget\":\"ExxdZQqZPzzX0LiBYF0mPw==\",\"sectionContainerMobile\":\"PQXf3TDPFTsBCPtWN-EIxw==\",\"sectionContainerMobile_widget\":\"_12HhFL3BF87FJ2HX13EXZA==\",\"videoContainer\":\"glyPCu0Y35gF514hbemRXg==\",\"videoFaqContainer\":\"W4dscN+OjvTdvfYgi8AKWw==\",\"faqContainer\":\"t+bQ4VhAF954NpV9CGRJbQ==\",\"loading\":\"L3vpnSnR65zhR3SyGGGVwg==\",\"noItems\":\"_3i1PGhJmckWrEOJMRhgecA==\"};","import React from 'react'\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './Promo.scss'\r\nimport { FormattedMessage } from 'react-intl'\r\n\r\nconst Promo = () => {\r\n  return (\r\n    <div styleName=\"promo\">\r\n      <div styleName=\"promoWrap\">\r\n        <h3 styleName=\"promoText\">\r\n          <FormattedMessage id=\"ExchangeTitleTag1\" defaultMessage=\"Fastest cross-chain swaps\" />\r\n        </h3>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CSSModules(Promo, styles)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"promoWrap\":\"E4NV-fg6KrDn6xMNtFX4Ag==\",\"promo\":\"aKxWpB5ecoC1l0uI6+F4xw==\",\"promoText\":\"HMq7sNTlhFTUEwKgFXRR4g==\"};","import React from 'react'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './styles.scss'\r\n\r\n/* eslint-disable */\r\nconst Quote = () => {\r\n  const href = \"https://blog.qtum.org/atomic-cross-chain-swap-on-qtum-7e756a890ed7\"\r\n  return (\r\n    <div styleName=\"container\">\r\n      <div styleName=\"header\">\r\n        &#34;\r\n      <FormattedMessage\r\n          id=\"Quote\"\r\n          defaultMessage=\"The swap.online project realizes swaps among Bitcoin-like, Ethereum-like, and made a product for users to execute swaps\"\r\n        />\r\n        &#34;\r\n    </div>\r\n      <a href={href} title={href} target=\"_blank\" rel=\"noopener noreferrer\" styleName=\"href\">\r\n        <b>\r\n           QTUM official Atomic Swap research\r\n          <span> https://blog.qtum.org/atomic-cross-chain-swap-on-qtum-7e756a890ed7</span>\r\n        </b>\r\n      </a>\r\n    </div>\r\n  )\r\n}\r\n/* eslint-enable */\r\n\r\nexport default CSSModules(Quote, styles, { allowMultiple: true })\r\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"DJOdr5M5w5iBCKKqmLwEyQ==\",\"header\":\"_1tS+whL4fh2QYk7hQ49kkQ==\",\"href\":\"FySbzNZwMjZrRZfl3Ogv-w==\"};","import React from 'react'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './HowItWorks.scss'\r\n\r\nconst HowItWorks = () => (\r\n  <div styleName=\"HowItWorksContainer\">\r\n    <h3 styleName=\"HowItWorksTitle\">\r\n      <FormattedMessage id=\"HowItWorks10\" defaultMessage=\"How Does It Work\" />\r\n    </h3>\r\n    <div styleName=\"HowItWorksList\">\r\n      <div styleName=\"HowItWorksItem\">\r\n        <span styleName=\"HowItWorksStep\">\r\n          <FormattedMessage id=\"HowItWorks18\" defaultMessage=\"1. Select your cryptocurrency and the amount.\" />\r\n        </span>\r\n        <span styleName=\"HowItWorksInfo\">\r\n          <FormattedMessage id=\"HowItWorks21\" defaultMessage=\"Choose a cryptocurrency that you have at your disposal on any external wallet, exchange, or Swap Online wallet\" />\r\n        </span>\r\n      </div>\r\n      <div styleName=\"HowItWorksItem\">\r\n        <span styleName=\"HowItWorksStep\">\r\n          <FormattedMessage id=\"HowItWorks26\" defaultMessage=\"2. Click Exchange\" />\r\n        </span>\r\n        <span styleName=\"HowItWorksInfo\">\r\n          <FormattedMessage id=\"HowItWorks29\" defaultMessage=\"If a suitable order is found and the seller confirms the exchange, you will be redirected to the exchange page\" />\r\n        </span>\r\n      </div>\r\n      <div styleName=\"HowItWorksItem\">\r\n        <span styleName=\"HowItWorksStep\">\r\n          <FormattedMessage id=\"HowItWorks34\" defaultMessage=\"3. Make a cryptocurrency deposit.\" />\r\n        </span>\r\n        <span styleName=\"HowItWorksInfo\">\r\n          <FormattedMessage id=\"HowItWorks37\" defaultMessage=\"In the event that the required amount is available on your internal wallet, the deposit will be executed automatically.\" /> {/* eslint-disable-line */}\r\n        </span>\r\n      </div>\r\n      <div styleName=\"HowItWorksItem\">\r\n        <span styleName=\"HowItWorksStep\">\r\n          <FormattedMessage id=\"HowItWorks42\" defaultMessage=\"4. Confirm completion of the swap.\" />\r\n        </span>\r\n        <span styleName=\"HowItWorksInfo\">\r\n          <FormattedMessage\r\n            id=\"HowItWorks45\"\r\n            defaultMessage=\"The exchange usually takes about a minute.  At the end of the swap, you will see the txid and will be able to confirm completion of the transfer on your end.\" /> {/* eslint-disable-line */}\r\n        </span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n)\r\n\r\nexport default CSSModules(HowItWorks, styles, { allowMultiple: true })\r\n","// extracted by mini-css-extract-plugin\nexport default {\"HowItWorksTitle\":\"xlzU33fIl8KwUmO8KKJsrQ==\",\"HowItWorksList\":\"PjQb9gjZAItM-qJDeXPLgA==\",\"HowItWorksItem\":\"_6vFK1tyMBoOTysml76VH4w==\",\"HowItWorksStep\":\"ppwcX8iWisLhm50zc+rmlw==\",\"HowItWorksInfo\":\"lSFeR3XkM5FOWHl0XtZEUA==\",\"HowItWorksContainer\":\"Ff+Ft9hLrHTDFo95yk5qEA==\"};","import React from 'react'\r\nimport { FormattedMessage, injectIntl } from 'react-intl'\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './VideoAndFeatures.scss'\r\n\r\nconst VideoAndFeatures = (props) => (\r\n  <div styleName=\"VidNdFeatures\">\r\n    <div styleName=\"VidNdFeatures__container\">\r\n      <div styleName=\"VidNdFeatures__item VidNdFeatures__item_features\">\r\n        <ul>\r\n          <li><FormattedMessage id=\"partialVideoAndFeatures0\" defaultMessage=\"Based on Atomic Swap technology\" /></li>\r\n          <li><FormattedMessage id=\"partialVideoAndFeatures1\" defaultMessage=\"Exchange only takes 2 minutes\" /></li>\r\n          <li><FormattedMessage id=\"partialVideoAndFeatures2\" defaultMessage=\"Supports BTC, ETH, USDT, ERC-20 tokens\" /></li>\r\n          <li><FormattedMessage id=\"partialVideoAndFeatures3\" defaultMessage=\"Can be deployed on any website as an exchange service\" /></li>\r\n        </ul>\r\n      </div>\r\n      <div styleName=\"VidNdFeatures__item VidNdFeatures__item_video\">\r\n        <iframe\r\n          title=\"Preview\"\r\n          width=\"100%\"\r\n          height=\"300\"\r\n          src={props.intl.formatMessage({ id: 'VidLinkFrame', defaultMessage: 'https://www.youtube.com/embed/Jhrb7xOT_7s' })}\r\n          frameBorder=\"0\"\r\n          allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\r\n          allowFullScreen\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n)\r\n\r\nexport default injectIntl(CSSModules(VideoAndFeatures, styles, { allowMultiple: true }))\r\n","// extracted by mini-css-extract-plugin\nexport default {\"VidNdFeatures\":\"mt6obq1LufwezjijmJ3VdQ==\",\"VidNdFeatures__title\":\"Uau5sgsT727RDP0W1fkjbw==\",\"VidNdFeatures__container\":\"A0bkWE6KC7A1k6ZBpt7eBw==\",\"VidNdFeatures__item_features\":\"NrR+sQ1a8B7QVgHcrwaokQ==\",\"VidNdFeatures__item_video\":\"_1PqpghJN9o9NhAGN6ZThfQ==\",\"VidNdFeatures__item\":\"DN1qUe7Qp17bRq-fJ3pzfQ==\"};","import React, { PureComponent, Fragment } from 'react'\r\nimport Link from 'local_modules/sw-valuelink'\r\n\r\nimport ThemeTooltip from 'components/ui/Tooltip/ThemeTooltip'\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './index.scss'\r\nimport Swap from 'swap.swap'\r\nimport { connect } from 'redaction'\r\nimport actions from 'redux/actions'\r\nimport { BigNumber } from 'bignumber.js'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { getState } from 'redux/core'\r\nimport reducers from 'redux/core/reducers'\r\n\r\nimport SelectGroup from 'components/SelectGroup'\r\nimport { Button } from 'components/controls'\r\nimport InlineLoader from 'components/loaders/InlineLoader/InlineLoader'\r\nimport { FormattedMessage, injectIntl } from 'react-intl'\r\nimport { localisedUrl } from 'helpers/locale'\r\nimport config from 'helpers/externalConfig'\r\nimport swapsHelper from 'helpers/swaps'\r\nimport SwapApp from 'swap.app'\r\n\r\nimport helpers, {\r\n  localStorage,\r\n  getPairFees,\r\n  constants,\r\n  metamask,\r\n  feedback,\r\n  links,\r\n} from 'helpers'\r\n\r\nimport Switching from 'components/controls/Switching/Switching'\r\nimport AddressSelect from './AddressSelect/AddressSelect'\r\nimport { AddressType, AddressRole } from 'domain/address'\r\nimport { SwapMode } from 'domain/swap'\r\nimport NetworkStatus from 'components/NetworkStatus/NetworkStatus'\r\nimport Orders from './Orders/Orders'\r\nimport erc20Like from 'common/erc20Like'\r\nimport turboSwap from 'common/helpers/turboSwap'\r\nimport Toggle from 'components/controls/Toggle/Toggle'\r\nimport TurboIcon from 'shared/components/ui/TurboIcon/TurboIcon'\r\nimport Promo from './Promo/Promo'\r\nimport Quote from './Quote'\r\nimport HowItWorks from './HowItWorks/HowItWorks'\r\nimport VideoAndFeatures from './VideoAndFeatures/VideoAndFeatures'\r\n\r\nimport { COIN_DATA, COIN_MODEL, COIN_TYPE } from 'swap.app/constants/COINS'\r\nimport getCoinInfo from 'common/coins/getCoinInfo'\r\n\r\n\r\ntype CurrencyObj = {\r\n  addAssets?: boolean\r\n  fullTitle: string\r\n  icon: string\r\n  name: string\r\n  title: string\r\n  value: string\r\n}\r\n\r\ntype ExchangeProps = {\r\n  isOnlyForm: boolean\r\n  activeFiat: string\r\n  intl: IUniversalObj\r\n  match: IUniversalObj\r\n  location: IUniversalObj\r\n  history: IUniversalObj\r\n  tokensData: IUniversalObj[]\r\n  currencies: { [key: string]: string }[]\r\n  allCurrencies: CurrencyObj[]\r\n  addSelectedItems: CurrencyObj[]\r\n  hiddenCoinsList: string[]\r\n  decline: string[]\r\n}\r\n\r\ntype Address = {\r\n  currency: string\r\n  type: AddressType\r\n  value: string\r\n}\r\n\r\ntype ExchangeState = {\r\n  haveAmount: number\r\n  getAmount: number\r\n  goodRate: number\r\n  maxAmount: number\r\n  haveFiat: number\r\n  exHaveRate?: number\r\n  exGetRate?: number\r\n  maxBuyAmount: number\r\n  \r\n  getFiat: string\r\n  haveCurrency: string\r\n  haveType: string\r\n  getCurrency: string\r\n  getType: string\r\n  peer: string\r\n  wayToDeclinedOrder: string\r\n\r\n  ordersIsOpen: boolean\r\n  hasTokenAllowance: boolean\r\n  extendedControls: boolean\r\n  isLowAmount: boolean\r\n  isNonOffers: boolean\r\n  isWaitForPeerAnswer: boolean\r\n  isDeclinedOffer: boolean\r\n  haveBalance: boolean\r\n  isTurbo: boolean\r\n  isPending: boolean\r\n  isTokenSell: boolean\r\n  isPendingTokenApprove: boolean\r\n  isNoAnyOrders?: boolean\r\n  isFullLoadingComplete?: boolean\r\n\r\n  orderId?: string\r\n  redirectToSwap: null | SwapMode\r\n\r\n  balances: any\r\n  pairFees: any\r\n  directionOrders: IUniversalObj[]\r\n  filteredOrders: IUniversalObj[]\r\n  desclineOrders: Swap[] | []\r\n\r\n  fromAddress: Address\r\n  toAddress: Address\r\n}\r\n\r\nconst isWidgetBuild = config && config.isWidget\r\nconst isChromeExtention = config && config.dir === 'chrome-extension/application'\r\nconst bannedPeers = {} // rejected swap peers\r\n\r\n@connect(\r\n  ({\r\n    currencies,\r\n    rememberedOrders,\r\n    core: { orders },\r\n    user: { tokensData, activeFiat },\r\n  }) => ({\r\n    currencies: swapsHelper.isExchangeAllowed(currencies.partialItems),\r\n    allCurrencies: currencies.items,\r\n    addSelectedItems: swapsHelper.isExchangeAllowed(currencies.addPartialItems),\r\n    orders: swapsHelper.filterIsPartial(orders),\r\n    tokensData: [...Object.keys(tokensData).map((k) => tokensData[k])],\r\n    decline: rememberedOrders.savedOrders,\r\n    activeFiat,\r\n  })\r\n)\r\n@CSSModules(styles, { allowMultiple: true })\r\nclass Exchange extends PureComponent<ExchangeProps, ExchangeState> {\r\n  private _mounted = false\r\n\r\n  static defaultProps = {\r\n    orders: [],\r\n  }\r\n\r\n  timer: boolean\r\n  promoContainer: Element\r\n  fiatRates: { [key: string]: number }\r\n  onRequestAnswer: (newOrder: IUniversalObj, isAccepted: boolean) => void\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    const { orders } = props\r\n    const { haveCurrency, getCurrency, isTurbo } = state\r\n\r\n    if (!orders.length) {\r\n      return null\r\n    }\r\n\r\n    const directionOrders = orders.filter(order =>\r\n      !order.isMy &&\r\n      order.sellCurrency.toUpperCase() === getCurrency.toUpperCase() &&\r\n      order.buyCurrency.toUpperCase() === haveCurrency.toUpperCase()\r\n    )\r\n\r\n    const filteredOrders = directionOrders.filter(order =>\r\n      Boolean(order.isTurbo) === Boolean(isTurbo)\r\n    )\r\n\r\n    return {\r\n      directionOrders,\r\n      filteredOrders,\r\n    }\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const {\r\n      allCurrencies,\r\n      intl: { locale },\r\n      history,\r\n      location,\r\n      match,\r\n    } = props\r\n\r\n    this.fiatRates = {}\r\n    this.onRequestAnswer = (newOrder, isAccepted) => {}\r\n\r\n    const isRootPage = history.location.pathname === '/'\r\n    const {\r\n      url,\r\n      params: { buy, sell },\r\n    } = match || { params: { buy: 'btc', sell: '{eth}usdt' } }\r\n\r\n    if (sell && buy && !isRootPage) {\r\n      if (\r\n        !allCurrencies.map((item) => item.value.toUpperCase()).includes(sell.toUpperCase()) ||\r\n        !allCurrencies.map((item) => item.value.toUpperCase()).includes(buy.toUpperCase())\r\n      ) {\r\n        history.push(localisedUrl(locale, `${links.exchange}/eth-to-btc`))\r\n      }\r\n    }\r\n\r\n    let haveCurrency = sell || config.opts.defaultExchangePair.sell\r\n    let getCurrency = buy || (!isWidgetBuild ? config.opts.defaultExchangePair.buy : config.erc20token)\r\n\r\n    const exchangeSettings = localStorage.getItem(constants.localStorage.exchangeSettings)\r\n\r\n    if (exchangeSettings) {\r\n      haveCurrency = exchangeSettings.atomicCurrency?.sell || haveCurrency\r\n      getCurrency = exchangeSettings.atomicCurrency?.buy || getCurrency\r\n    }\r\n\r\n    if (!(buy && sell) && !props.location.hash.includes('#widget') && !isRootPage) {\r\n      if (url !== '/wallet') {\r\n        history.push(localisedUrl(locale, `${links.exchange}/${haveCurrency}-to-${getCurrency}`))\r\n      }\r\n    }\r\n\r\n    const {\r\n      haveType,\r\n      fromAddress,\r\n      getType,\r\n      toAddress,\r\n    } = this.getAddressesDataByCurrencies({haveCurrency, getCurrency})\r\n\r\n    this.state = {\r\n      isTokenSell: erc20Like.isToken({ name: haveCurrency }),\r\n      isPendingTokenApprove: false,\r\n      hasTokenAllowance: false,\r\n      haveCurrency,\r\n      haveType,\r\n      getCurrency,\r\n      getType,\r\n      exHaveRate: 0,\r\n      exGetRate: 0,\r\n      haveAmount: 0,\r\n      getAmount: 0,\r\n      haveFiat: 0,\r\n      getFiat: '',\r\n      isLowAmount: false,\r\n      maxAmount: 0,\r\n      maxBuyAmount: 0,\r\n      peer: '',\r\n      wayToDeclinedOrder: '',\r\n      goodRate: 0,\r\n      directionOrders: [],\r\n      filteredOrders: [],\r\n      isNonOffers: false,\r\n      isNoAnyOrders: false,\r\n      isDeclinedOffer: false,\r\n      extendedControls: false,\r\n      isWaitForPeerAnswer: false,\r\n      desclineOrders: [],\r\n      pairFees: false,\r\n      balances: false,\r\n      haveBalance: false,\r\n      fromAddress,\r\n      toAddress,\r\n      isTurbo: false,\r\n      redirectToSwap: null,\r\n      isPending: true,\r\n      ordersIsOpen: false,\r\n    }\r\n\r\n    if (config.isWidget) {\r\n      this.setState(() => ({\r\n        getCurrency: config.erc20token,\r\n      }))\r\n    }\r\n  }\r\n\r\n  reportError = (error: IError, details: string = '-') => {\r\n    feedback.exchangeForm.failed(`details(${details}) : error message(${error.message})`)\r\n\r\n    console.group('%c Exchange', 'color: red;')\r\n    console.error(`details(${details}) : error(${JSON.stringify(error)})`)\r\n    console.log('%c Stack trace', 'color: brown')\r\n    console.trace()\r\n    console.groupEnd()\r\n\r\n    actions.notifications.show(\r\n      constants.notifications.ErrorNotification,\r\n      { error: error.message }\r\n    )\r\n  }\r\n\r\n  getAddressesDataByCurrencies(params) {\r\n    const { haveCurrency, getCurrency } = params\r\n\r\n    const haveType = this.getDefaultWalletType(haveCurrency.toUpperCase())\r\n    const getType = this.getDefaultWalletType(getCurrency.toUpperCase())\r\n\r\n    const fromAddress = this.makeAddressObject(haveType, haveCurrency.toUpperCase())\r\n    const toAddress = this.makeAddressObject(getType, getCurrency.toUpperCase())\r\n\r\n    return {\r\n      haveType,\r\n      fromAddress,\r\n      getType,\r\n      toAddress,\r\n    }\r\n  }\r\n\r\n  makeAddressObject(type, currency) {\r\n    const wallet =\r\n      type !== AddressType.Custom\r\n        ? actions.core.getWallet({\r\n            currency,\r\n            addressType: type,\r\n          })\r\n        : false\r\n\r\n    switch (type) {\r\n      case AddressType.Metamask:\r\n        return {\r\n          type: AddressType.Metamask,\r\n          currency,\r\n          value: wallet ? wallet.address : '',\r\n        }\r\n      case AddressType.Custom:\r\n        return {\r\n          type: AddressType.Custom,\r\n          currency,\r\n          value: ``,\r\n        }\r\n      default:\r\n        return {\r\n          type: AddressType.Internal,\r\n          currency,\r\n          value: wallet ? wallet.address : '',\r\n        }\r\n    }\r\n  }\r\n\r\n  getExchangeSettingsFromLocalStorage() {\r\n    const exchangeSettings = localStorage.getItem(constants.localStorage.exchangeSettings)\r\n\r\n    return exchangeSettings || {}\r\n  }\r\n\r\n  setDefaultCurrencyType(currency, type) {\r\n    const exchangeSettings = this.getExchangeSettingsFromLocalStorage()\r\n    const userWalletTypes = exchangeSettings.userWalletTypes || {}\r\n\r\n    userWalletTypes[currency] = type\r\n\r\n    const newExchangeData = {\r\n      atomicCurrency: exchangeSettings.atomicCurrency,\r\n      userWalletTypes,\r\n    }\r\n\r\n    localStorage.setItem(\r\n      constants.localStorage.exchangeSettings,\r\n      newExchangeData\r\n    )\r\n  }\r\n\r\n  getLocalStorageWalletType = (currency) => {\r\n    const exchangeSettings = this.getExchangeSettingsFromLocalStorage()\r\n    const { userWalletTypes } = exchangeSettings\r\n\r\n    if (userWalletTypes && userWalletTypes[currency.toUpperCase()]) {\r\n      return userWalletTypes[currency.toUpperCase()]\r\n    }\r\n\r\n    const ticker = currency.toUpperCase()\r\n    const isUTXOModel = COIN_DATA[ticker] && COIN_DATA[ticker].model === COIN_MODEL.UTXO\r\n    const isWalletCreate = localStorage.getItem(constants.localStorage.isWalletCreate)\r\n\r\n    if (isUTXOModel && isWalletCreate) {\r\n      this.setDefaultCurrencyType(currency.toUpperCase(), AddressType.Internal)\r\n      return AddressType.Internal\r\n    }\r\n\r\n    return false\r\n  }\r\n\r\n  getDefaultWalletType(currency) {\r\n    const storageType = this.getLocalStorageWalletType(currency)\r\n\r\n    if (storageType) {\r\n      return storageType\r\n    }\r\n\r\n    let resultType = 'Internal'\r\n\r\n    if (COIN_DATA[currency]) {\r\n      if (COIN_DATA[currency].model === COIN_MODEL.UTXO) {\r\n        resultType = AddressType.Custom\r\n      } else if (\r\n        COIN_DATA[currency].type === COIN_TYPE.ETH_TOKEN ||\r\n        COIN_DATA[currency].type === COIN_TYPE.BNB_TOKEN ||\r\n        COIN_DATA[currency].model === COIN_MODEL.AB\r\n      ) {\r\n        resultType = AddressType.Metamask\r\n      }\r\n    } else {\r\n      console.group('Exchange > %c getDefaultWalletType', 'color: yellow;')\r\n      console.warn(`Unknown coin ${currency}`)\r\n      console.groupEnd()\r\n    }\r\n\r\n    return resultType\r\n  }\r\n\r\n  componentDidMount() {\r\n    this._mounted = true\r\n\r\n    const {\r\n      isTokenSell,\r\n      haveCurrency,\r\n      getCurrency,\r\n      haveAmount,\r\n    } = this.state\r\n\r\n    actions.core.updateCore()\r\n    this.returnNeedCurrency(haveCurrency, getCurrency)\r\n    this.checkPair()\r\n    this.getFiatBalance()\r\n\r\n    this.timer = true\r\n    const timerProcess = () => {\r\n      if (!this.timer) return\r\n      this.setOrders()\r\n      this.checkUrl()\r\n      this.getCorrectDecline()\r\n      setTimeout(timerProcess, 2000)\r\n    }\r\n    timerProcess()\r\n\r\n    SwapApp.onInit(() => {\r\n      //@ts-ignore: strictNullChecks\r\n      SwapApp.shared().services.room.on('new orders', () => this.checkPair())\r\n    })\r\n\r\n    setTimeout(() => {\r\n      if (this._mounted) {\r\n        this.setState({\r\n          isFullLoadingComplete: true,\r\n        })\r\n      }\r\n    }, 60 * 1000) // 1 minute\r\n    \r\n    this.getInfoAboutCurrency()\r\n    this.fetchPairFeesAndBalances()\r\n\r\n    if (isTokenSell && haveAmount) {\r\n      this.updateTokenAllowance()\r\n    }\r\n\r\n    metamask.web3connect.on('updated', this.fetchPairFeesAndBalances)\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { haveCurrency: prevHaveCurrency } = prevState\r\n    const { haveCurrency, haveAmount } = this.state\r\n\r\n    if (prevHaveCurrency !== haveCurrency) {\r\n      const isTokenSell = erc20Like.isToken({ name: haveCurrency })\r\n\r\n      this.setState(() => ({\r\n        isTokenSell,\r\n      }))\r\n\r\n      if (isTokenSell && haveAmount) {\r\n        this.updateTokenAllowance()\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidCatch(error, info) {\r\n    console.group('%c Exchange', 'color: red;')\r\n    console.error(error)\r\n    console.trace()\r\n    console.groupEnd()\r\n  }\r\n\r\n  updateTokenAllowance = async () => {\r\n    const { tokensData } = this.props\r\n    const { haveCurrency, haveAmount } = this.state\r\n\r\n    const tokenObj = tokensData.find(tokenObj => {\r\n      return tokenObj.tokenKey === haveCurrency.toLowerCase()\r\n    })\r\n\r\n    if (tokenObj) {\r\n      const allowance = await erc20Like[tokenObj.standard].checkAllowance({\r\n        owner: tokenObj.address,\r\n        spender: config.swapContract[tokenObj.standard],\r\n        contract: tokenObj.contractAddress,\r\n        decimals: tokenObj.decimals,\r\n      })\r\n\r\n      this.setState(() => ({\r\n        hasTokenAllowance: new BigNumber(allowance).isGreaterThanOrEqualTo(haveAmount),\r\n      }))\r\n    }\r\n  }\r\n\r\n  getInfoAboutCurrency = async (): Promise<void> => {\r\n    const { currencies } = this.props\r\n    const currencyNames = currencies.map(({ name }) => name)\r\n\r\n    await actions.user.getInfoAboutCurrency(currencyNames)\r\n  }\r\n\r\n  getBalance(currency) {\r\n    const { balances } = this.state\r\n\r\n    return balances && balances[currency.toUpperCase()] ? balances[currency.toUpperCase()] : 0\r\n  }\r\n\r\n  fetchPairFeesAndBalances = async () => {\r\n    await this.fetchPairFees()\r\n    await this.fetchBalances()\r\n  }\r\n\r\n  updateFees = () => {\r\n    const updateCacheValue = true\r\n\r\n    this.fetchPairFees(updateCacheValue)\r\n  }\r\n\r\n  fetchPairFees = async (updateCacheValue = false): Promise<void> => {\r\n    const {\r\n      haveCurrency: sell,\r\n      getCurrency: buy,\r\n    } = this.state\r\n\r\n    this.setState(() => ({ isPending: true }))\r\n\r\n    const pairFees = await getPairFees({\r\n      sellCurrency: sell,\r\n      buyCurrency: buy,\r\n      updateCacheValue,\r\n    })\r\n\r\n    const buyExRate = await this.fetchFiatExRate(pairFees.buy.coin)\r\n    const sellExRate = await this.fetchFiatExRate(pairFees.sell.coin)\r\n\r\n    if (!this._mounted) return\r\n\r\n    this.setState(() => ({\r\n      isPending: false,\r\n      pairFees: {\r\n        ...pairFees,\r\n        buyExRate,\r\n        sellExRate,\r\n      }\r\n    }))\r\n  }\r\n\r\n  fetchBalances = async (): Promise<void> => {\r\n    const {\r\n      haveCurrency: sellCurrency,\r\n      getCurrency: buyCurrency,\r\n      pairFees,\r\n    } = this.state\r\n\r\n    if (!pairFees || !this._mounted) return\r\n\r\n    this.setState(() => ({ isPending: true }))\r\n\r\n    const buyWallet = actions.core.getWallet({ currency: buyCurrency })\r\n    const sellWallet = actions.core.getWallet({ currency: sellCurrency })\r\n    const feeBuyWallet = actions.core.getWallet({ currency: pairFees.buy.coin })\r\n    const feeSellWallet = actions.core.getWallet({ currency: pairFees.sell.coin })\r\n\r\n    const balances = {}\r\n    balances[`${buyCurrency.toUpperCase()}`] = await actions.core.fetchWalletBalance(buyWallet)\r\n    balances[`${sellCurrency.toUpperCase()}`] = await actions.core.fetchWalletBalance(sellWallet)\r\n\r\n    if (balances[`${feeBuyWallet.currency}`] === undefined) {\r\n      balances[`${feeBuyWallet.currency}`] = await actions.core.fetchWalletBalance(\r\n        feeBuyWallet\r\n      )\r\n    }\r\n\r\n    if (balances[`${feeSellWallet.currency}`] === undefined) {\r\n      balances[`${feeSellWallet.currency}`] = await actions.core.fetchWalletBalance(\r\n        feeSellWallet\r\n      )\r\n    }\r\n\r\n    this.setState(() => ({\r\n      isPending: false,\r\n      balances,\r\n    }))\r\n\r\n    this.checkBalanceOnAllCurrency()\r\n  }\r\n\r\n  checkBalanceOnAllCurrency() {\r\n    const { balances } = this.state\r\n\r\n    if (Object.keys(balances).length) {\r\n      for (let currency in balances) {\r\n        if (balances[currency] > 0) {\r\n          this.setState({\r\n            haveBalance: true,\r\n          })\r\n          break\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.updateExchangeSettings()\r\n    this._mounted = false\r\n    this.timer = false\r\n\r\n    metamask.web3connect.off('updated', this.fetchPairFeesAndBalances)\r\n  }\r\n\r\n  updateExchangeSettings = () => {\r\n    const exchangeSettings = this.getExchangeSettingsFromLocalStorage()\r\n    const { haveCurrency, getCurrency, haveType, getType } = this.state\r\n\r\n    const newExchangeSettings = {\r\n      ...exchangeSettings,\r\n      userWalletTypes: {\r\n        [haveCurrency.toUpperCase()]: haveType,\r\n        [getCurrency.toUpperCase()]: getType,\r\n      },\r\n      atomicCurrency: {\r\n        sell: haveCurrency,\r\n        buy: getCurrency,\r\n      },\r\n    }\r\n\r\n    localStorage.setItem(\r\n      constants.localStorage.exchangeSettings,\r\n      newExchangeSettings\r\n    )\r\n  }\r\n\r\n  checkUrl = () => {\r\n    const {\r\n      allCurrencies,\r\n      intl: { locale },\r\n      history,\r\n      match: {\r\n        params: { buy: buyValue, sell: sellValue },\r\n      },\r\n    } = this.props\r\n\r\n    if (\r\n      sellValue && buyValue &&\r\n      (\r\n        !allCurrencies.map((item) => item.value.toUpperCase()).includes(sellValue.toUpperCase()) ||\r\n        !allCurrencies.map((item) => item.value.toUpperCase()).includes(buyValue.toUpperCase())\r\n      )\r\n    ) {\r\n      history.push(localisedUrl(locale, `${links.exchange}/eth-to-btc`))\r\n    }\r\n\r\n    const { getCurrency, haveCurrency } = this.state\r\n\r\n    if (haveCurrency && sellValue && sellValue !== haveCurrency) {\r\n      this.handleSetHaveValue({ value: sellValue })\r\n    }\r\n\r\n    if (getCurrency && sellValue && buyValue && buyValue !== getCurrency) {\r\n      this.checkValidUrl(sellValue, buyValue)\r\n    }\r\n  }\r\n\r\n  checkValidUrl = (sellValue, buyValue) => {\r\n    const avaliablesBuyCurrency = actions.pairs.selectPairPartial(sellValue).map((el) => el.value)\r\n    if (avaliablesBuyCurrency.includes(buyValue)) {\r\n      return this.handleSetGetValue({ value: buyValue })\r\n    }\r\n    if (avaliablesBuyCurrency.includes(sellValue)) {\r\n      const filterSameVale = avaliablesBuyCurrency.filter((el) => el !== sellValue)\r\n      if (filterSameVale.includes('btc')) {\r\n        this.handleSetGetValue({ value: 'btc' })\r\n      } else {\r\n        this.handleSetGetValue({ value: filterSameVale[0] })\r\n      }\r\n    }\r\n  }\r\n\r\n  changeUrl = (sell, buy) => {\r\n    const {\r\n      intl: { locale },\r\n      isOnlyForm,\r\n    } = this.props\r\n\r\n    if (!this.props.location.hash.includes('#widget') && !isOnlyForm) {\r\n      this.props.history.push(localisedUrl(locale, `${links.exchange}/${sell}-to-${buy}`))\r\n    }\r\n  }\r\n\r\n  fetchFiatExRate = async (coin) => {\r\n    const { activeFiat } = this.props\r\n\r\n    try {\r\n      if (this.fiatRates[coin]) {\r\n        return this.fiatRates[coin]\r\n      } else {\r\n        const exRate = await actions.user.getExchangeRate(coin, activeFiat)\r\n        this.fiatRates[coin] = exRate\r\n        return exRate\r\n      }\r\n    } catch (error) {\r\n      this.reportError(error, `Cryptonator offline: Fail fetch ${coin} exRate for fiat ${activeFiat}`)\r\n      return 0\r\n    }\r\n  }\r\n\r\n  getFiatBalance = async (): Promise<void> => {\r\n    const { haveCurrency, getCurrency } = this.state\r\n\r\n    const exHaveRate = await this.fetchFiatExRate(haveCurrency)\r\n    const exGetRate = await this.fetchFiatExRate(getCurrency)\r\n    this.setState({\r\n      exHaveRate,\r\n      exGetRate,\r\n    })\r\n  }\r\n\r\n  createOffer = async () => {\r\n    feedback.createOffer.started()\r\n\r\n    const { haveCurrency, getCurrency } = this.state\r\n\r\n    actions.modals.open(constants.modals.Offer, {\r\n      sellCurrency: haveCurrency,\r\n      buyCurrency: getCurrency,\r\n    })\r\n  }\r\n\r\n  checkBalanceForSwapPossibility = (checkParams) => {\r\n    const { sellCurrency, buyCurrency, amount, fromType, isSilentError } = checkParams\r\n    const buyWallet = actions.core.getWallet({ currency: buyCurrency })\r\n    const sellWallet = actions.core.getWallet({ currency: sellCurrency })\r\n    const {\r\n      coin: sellCoin,\r\n      blockchain: sellBlockchain,\r\n    } = getCoinInfo(sellCurrency)\r\n    const {\r\n      coin: buyCoin,\r\n      blockchain: buyBlockchain,\r\n    } = getCoinInfo(buyCurrency)\r\n    const { pairFees, balances } = this.state\r\n\r\n    const isUserSellToken = sellWallet.isToken\r\n    const isUserBuyToken = buyWallet.isToken\r\n    const sellBalance = new BigNumber(balances[sellCurrency.toUpperCase()] || 0)\r\n    let enoughBalanceForSellAmount = false\r\n    let enoughBalanceForFullPayment = false\r\n    let balanceIsOk = false\r\n\r\n    try {\r\n      const sellFee = pairFees?.sell?.fee\r\n      const buyFee = pairFees?.buy?.fee\r\n      const isUTXOSell = pairFees?.sell?.isUTXO\r\n      const sellBlockchainBalance = new BigNumber((isUserSellToken) ? balances[sellBlockchain] : 0)\r\n      const buyBlockchainBalance = new BigNumber((isUserBuyToken) ? balances[buyBlockchain] : 0)\r\n\r\n      enoughBalanceForSellAmount = sellBalance.isGreaterThanOrEqualTo(amount)\r\n\r\n      if (isUserSellToken && enoughBalanceForSellAmount && sellBlockchainBalance.isGreaterThanOrEqualTo(sellFee)) {\r\n        enoughBalanceForFullPayment = true\r\n      }\r\n      else if (isUserBuyToken && (fromType === AddressType.Custom || enoughBalanceForSellAmount) &&  buyBlockchainBalance.isGreaterThanOrEqualTo(buyFee)) {\r\n        enoughBalanceForFullPayment = true\r\n      }\r\n      else if (isUTXOSell && sellBalance.isGreaterThanOrEqualTo(new BigNumber(amount).plus(sellFee)) && buyBlockchainBalance.isGreaterThanOrEqualTo(buyFee)) {\r\n        enoughBalanceForFullPayment = true\r\n      }\r\n      else if (fromType === AddressType.Custom && buyBlockchainBalance.isGreaterThanOrEqualTo(buyFee)) {\r\n        enoughBalanceForFullPayment = true\r\n      }\r\n      else if (sellBalance.isGreaterThanOrEqualTo(new BigNumber(amount).plus(sellFee))) {\r\n        enoughBalanceForFullPayment = true\r\n      }\r\n\r\n      if (enoughBalanceForFullPayment) {\r\n        balanceIsOk = true\r\n      }\r\n    } catch (error) {\r\n      this.reportError(error, `from checkBalanceForSwapPossibility()`)\r\n      return false\r\n    }\r\n    if (isSilentError) {\r\n      return balanceIsOk\r\n    }\r\n\r\n    if (!balanceIsOk) {\r\n      const { address } = actions.core.getWallet({ currency: sellCurrency })\r\n      const {\r\n        sell: {\r\n          fee: sellFee,\r\n          coin: sellCoin,\r\n        },\r\n        buy: {\r\n          fee: buyFee,\r\n          coin: buyCoin,\r\n        },\r\n      } = pairFees\r\n\r\n      const alertMessage = (\r\n        <Fragment>\r\n          <FormattedMessage\r\n            id=\"AlertOrderNonEnoughtBalance\"\r\n            defaultMessage=\"Please top up your balance before you start the swap\"\r\n          />\r\n          <br />\r\n\r\n          {!enoughBalanceForFullPayment && fromType === AddressType.Custom ? (\r\n            <FormattedMessage\r\n              id=\"NotEnoughForBuy\"\r\n              defaultMessage=\"You must have at least Miner commission {buyFee} {buyCoin}\"\r\n              values={{\r\n                buyFee,\r\n                buyCoin: this.renderCoinName(buyCoin),\r\n              }}\r\n            />\r\n          ) : (\r\n            <FormattedMessage\r\n              id=\"Swap_NeedMoreAmount\"\r\n              defaultMessage=\"You must have at least {amount} {currency} on your balance. {br} Miner commission {sellFee} {sellCoin} and {buyFee} {buyCoin}\"\r\n              values={{\r\n                amount,\r\n                currency: this.renderCoinName(sellCurrency),\r\n                sellFee,\r\n                sellCoin: this.renderCoinName(sellCoin),\r\n                buyFee,\r\n                buyCoin: this.renderCoinName(buyCoin),\r\n                br: <br />,\r\n              }}\r\n            />\r\n          )}\r\n        </Fragment>\r\n      )\r\n\r\n      actions.modals.open(constants.modals.AlertWindow, {\r\n        title: (\r\n          <FormattedMessage\r\n            id=\"AlertOrderNonEnoughtBalanceTitle\"\r\n            defaultMessage=\"Not enough balance.\"\r\n          />\r\n        ),\r\n        message: alertMessage,\r\n        canClose: true,\r\n        currency: this.renderCoinName(buyCurrency),\r\n        address,\r\n        actionType: 'deposit',\r\n      })\r\n      return false\r\n    }\r\n    return true\r\n  }\r\n\r\n  approveTheToken = async () => {\r\n    const { haveCurrency, haveAmount, haveType, getCurrency, orderId } = this.state\r\n\r\n    if (\r\n      !this.checkBalanceForSwapPossibility({\r\n        sellCurrency: haveCurrency,\r\n        buyCurrency: getCurrency,\r\n        amount: haveAmount,\r\n        balance: this.getBalance(haveCurrency),\r\n        fromType: haveType,\r\n      })\r\n    ) {\r\n      return false\r\n    }\r\n\r\n    const isSwapExists = await this.checkSwapExists({ haveCurrency, getCurrency, orderId })\r\n\r\n    if (isSwapExists) {\r\n      actions.notifications.show(\r\n        constants.notifications.ErrorNotification,\r\n        { error: 'You have Exists Swap with order participant. Please use orderbook for start swap with this pair.' }\r\n      )\r\n      return false\r\n    }\r\n\r\n    this.setState(() => ({\r\n      isPendingTokenApprove: true,\r\n    }))\r\n\r\n    const { coin: haveCurrencyName } = getCoinInfo(haveCurrency)\r\n    const coinStandard = COIN_DATA[haveCurrency.toUpperCase()].standard.toLowerCase()\r\n\r\n    actions[coinStandard]\r\n      .approve({\r\n        to: config.swapContract[coinStandard],\r\n        name: haveCurrencyName,\r\n        amount: haveAmount,\r\n      })\r\n      .then((txHash) => {\r\n        this.updateTokenAllowance()\r\n\r\n        actions.notifications.show(\r\n          constants.notifications.Message,\r\n          {message: (\r\n            <FormattedMessage\r\n              id=\"ExchangeTokenWasApproved\"\r\n              defaultMessage=\"Token was approved.{br}Explorer link: {txLink}\"\r\n              values={{\r\n                txLink: (\r\n                  <a\r\n                    href={`${actions[coinStandard].explorerLink}/tx/${txHash}`}\r\n                    target=\"_blank\"\r\n                  >\r\n                    Transaction\r\n                  </a>\r\n                ),\r\n                br: <br />,\r\n              }}\r\n            />\r\n          )}\r\n        )\r\n      })\r\n      .catch((error) => {\r\n        this.reportError(error, `approve a token(${haveCurrency})`)\r\n      })\r\n      .finally(() => {\r\n        this.setState(() => ({\r\n          isPendingTokenApprove: false,\r\n        }))\r\n      })\r\n  }\r\n\r\n  initSwap = async () => {\r\n    const { decline } = this.props\r\n\r\n    const { haveCurrency, haveAmount, getCurrency, haveType, orderId } = this.state\r\n    const haveTicker = haveCurrency.toUpperCase()\r\n    const getTicker = getCurrency.toUpperCase()\r\n\r\n    feedback.exchangeForm.requestedSwap(`${haveTicker}->${getTicker}`)\r\n\r\n    if (\r\n      !this.checkBalanceForSwapPossibility({\r\n        sellCurrency: haveCurrency,\r\n        buyCurrency: getCurrency,\r\n        amount: haveAmount,\r\n        balance: this.getBalance(haveCurrency),\r\n        fromType: haveType,\r\n      })\r\n    ) {\r\n      return false\r\n    }\r\n\r\n    const isSwapExists = await this.checkSwapExists({ haveCurrency, getCurrency, orderId })\r\n\r\n    if (isSwapExists) {\r\n      actions.notifications.show(\r\n        constants.notifications.ErrorNotification,\r\n        { error: 'You have Exists Swap with order participant. Please use orderbook for start swap with this pair.' }\r\n      )\r\n      return false\r\n    }\r\n\r\n    if (decline.length === 0) {\r\n      this.sendRequestForPartial()\r\n    } else {\r\n      const declinedExistedSwapIndex = helpers.handleGoTrade.getDeclinedExistedSwapIndex({\r\n        currency: haveCurrency,\r\n        decline,\r\n      })\r\n      if (declinedExistedSwapIndex !== false) {\r\n        this.openModalDeclineOrders(declinedExistedSwapIndex)\r\n      } else {\r\n        this.sendRequestForPartial()\r\n      }\r\n    }\r\n  }\r\n\r\n  checkSwapExists = async (params) => {\r\n    const { haveCurrency, getCurrency, orderId } = params\r\n\r\n    const sellWallet = actions.core.getWallet({ currency: haveCurrency })\r\n    const buyWallet = actions.core.getWallet({ currency: getCurrency })\r\n    const {\r\n      coin: sellCoin,\r\n      blockchain: sellBlockchain,\r\n    } = getCoinInfo(haveCurrency.toUpperCase())\r\n    const {\r\n      coin: buyCoin,\r\n      blockchain: buyBlockchain,\r\n    } = getCoinInfo(getCurrency.toUpperCase())\r\n\r\n    const isTokenSell = !!sellBlockchain\r\n    const isTokenBuy = !!buyBlockchain\r\n\r\n    const isEvmCoinSell = !isTokenSell && (COIN_DATA[haveCurrency.toUpperCase()].model === COIN_MODEL.AB)\r\n    const isEvmCoinBuy = !isTokenBuy && (COIN_DATA[getCurrency.toUpperCase()].model === COIN_MODEL.AB)\r\n\r\n    const actionType =\r\n      (isTokenSell && sellWallet.standard) ||\r\n      (isTokenBuy && buyWallet.standard) ||\r\n      (isEvmCoinSell && sellCoin) ||\r\n      (isEvmCoinBuy && buyCoin)\r\n\r\n    const orderOwnerEvmCoin =\r\n      (isTokenSell && sellBlockchain) ||\r\n      (isTokenBuy && buyBlockchain) ||\r\n      (isEvmCoinSell && sellCoin) ||\r\n      (isEvmCoinBuy && buyCoin)\r\n\r\n    if (!actionType || SwapApp === null || !orderId) return\r\n\r\n    //@ts-ignore: strictNullChecks\r\n    const order = SwapApp.shared().services.orders.getByKey(orderId)\r\n\r\n    const orderOwnerEvmAddress = order.owner[orderOwnerEvmCoin.toLowerCase()].address\r\n\r\n    const swapOwnerAddress = (isTokenSell || isEvmCoinSell) ? sellWallet.address : orderOwnerEvmAddress\r\n    const swapParticipantAddress = (isTokenBuy || isEvmCoinBuy) ? buyWallet.address : orderOwnerEvmAddress\r\n\r\n    return await actions[actionType.toLowerCase()].checkSwapExists({ownerAddress: swapOwnerAddress, participantAddress: swapParticipantAddress})\r\n  }\r\n\r\n  openModalDeclineOrders = (indexOfDecline) => {\r\n    const declineSwap = actions.core.getSwapById(this.props.decline[indexOfDecline])\r\n\r\n    if (declineSwap !== undefined) {\r\n      //@ts-ignore: strictNullChecks\r\n      actions.modals.open(constants.modals.DeclineOrdersModal, {\r\n        declineSwap,\r\n      })\r\n    }\r\n  }\r\n\r\n  sendRequestForPartial = () => {\r\n    const {\r\n      peer,\r\n      orderId,\r\n      fromAddress,\r\n      toAddress,\r\n      haveAmount,\r\n      getAmount,\r\n      maxAmount,\r\n      maxBuyAmount,\r\n    } = this.state\r\n\r\n    console.group('Exchange > sendRequestForPartial')\r\n    console.log(`${haveAmount} FROM ${fromAddress.value}`)\r\n    console.log(`${getAmount} TO ${toAddress.value}`)\r\n    console.groupEnd()\r\n\r\n    if (!String(getAmount) || !peer || !orderId || !String(haveAmount)) {\r\n      return\r\n    }\r\n\r\n    const newValues = {\r\n      sellAmount: new BigNumber(maxBuyAmount).isEqualTo(haveAmount) ? maxAmount : getAmount,\r\n    }\r\n\r\n    const destination = {\r\n      address: toAddress.value,\r\n    }\r\n\r\n    this.setState(() => ({ isWaitForPeerAnswer: true }))\r\n\r\n    // wait until not skip and ban peer\r\n    const requestTimeoutSec = config && config.isWidgetBuild ? 60 : 30\r\n\r\n    const requestTimeout = setTimeout(() => {\r\n      this.banPeer(peer)\r\n      this.getLinkToDeclineSwap()\r\n      this.setDeclinedOffer()\r\n    }, requestTimeoutSec * 1000)\r\n\r\n    this.onRequestAnswer = (newOrder, isAccepted) => {\r\n      clearTimeout(requestTimeout)\r\n      if (isAccepted) {\r\n        this.setState(() => ({\r\n          redirectToSwap: newOrder.isTurbo ? SwapMode.Turbo : SwapMode.Atomic,\r\n          orderId: newOrder.id,\r\n          isWaitForPeerAnswer: false,\r\n        }))\r\n      } else {\r\n        this.banPeer(peer)\r\n        this.getLinkToDeclineSwap()\r\n        this.setDeclinedOffer()\r\n      }\r\n    }\r\n\r\n    actions.core.sendRequestForPartial(orderId, newValues, destination, this.onRequestAnswer)\r\n  }\r\n\r\n  getLinkToDeclineSwap = () => {\r\n    //@ts-ignore: strictNullChecks\r\n    const orders = SwapApp.shared().services.orders.items\r\n\r\n    const unfinishedOrder = orders\r\n      .filter((item) => item.isProcessing === true)\r\n      .filter((item) => item.participant)\r\n      .filter((item) => item.participant.peer === this.state.peer)\r\n      .filter((item) => item.sellCurrency === this.state.getCurrency.toUpperCase())[0]\r\n\r\n    if (!unfinishedOrder) return\r\n\r\n    this.setState(() => ({\r\n      wayToDeclinedOrder: `swaps/${unfinishedOrder.sellCurrency}-${unfinishedOrder.sellCurrency}/${unfinishedOrder.id}`,\r\n    }))\r\n  }\r\n\r\n  returnNeedCurrency = (haveCurrency, getCurrency): void => {\r\n    const partialItems = Object.assign(getState().currencies.partialItems)\r\n    const partialCurrency = getState().currencies.partialItems.map((item) => item.name)\r\n    const allCurrencies = getState().currencies.items.map((item) => item.name)\r\n    const formCurrencies = [haveCurrency, getCurrency]\r\n    const partialItemsArray = [...partialItems]\r\n\r\n    formCurrencies.forEach((item) => {\r\n      const { coin } = getCoinInfo(item)\r\n      if (allCurrencies.includes(coin.toUpperCase())) {\r\n        if (!partialCurrency.includes(coin.toUpperCase())) {\r\n          partialItemsArray.push({\r\n            name: coin.toUpperCase(),\r\n            title: coin.toUpperCase(),\r\n            icon: coin.toLowerCase(),\r\n            value: coin.toLowerCase(),\r\n            fullTitle: coin.toLowerCase(),\r\n          })\r\n          reducers.currencies.updatePartialItems(partialItemsArray)\r\n        }\r\n      } else {\r\n        this.setState(() => ({\r\n          haveCurrency: config && config.isWidget ? config.erc20token : 'swap',\r\n        }))\r\n      }\r\n    })\r\n  }\r\n\r\n  setDeclinedOffer = () => {\r\n    this.setState(() => ({\r\n      haveAmount: 0,\r\n      isWaitForPeerAnswer: false,\r\n      isDeclinedOffer: true,\r\n    }))\r\n\r\n    setTimeout(() => {\r\n      this.setState(() => ({\r\n        isDeclinedOffer: false,\r\n      }))\r\n    }, 7 * 1000)\r\n  }\r\n\r\n  setNoOfferState = () => {\r\n    this.setState(() => ({ isNonOffers: true }))\r\n  }\r\n\r\n  setAmountOnState = (maxAmount, getAmount, buyAmount) => {\r\n    const { getCurrency, haveAmount } = this.state\r\n    const {coin: getCurrencyName } = getCoinInfo(getCurrency)\r\n    const decimalPlaces = constants.tokenDecimals[getCurrencyName.toLowerCase()]\r\n\r\n    this.setState(() => ({\r\n      maxAmount: Number(maxAmount),\r\n      getAmount: new BigNumber(getAmount).dp(decimalPlaces).toNumber(),\r\n      maxBuyAmount: buyAmount,\r\n    }))\r\n\r\n    return (\r\n      new BigNumber(getAmount).isLessThanOrEqualTo(maxAmount) ||\r\n      new BigNumber(haveAmount).isEqualTo(buyAmount)\r\n    )\r\n  }\r\n\r\n  setAmount = (value): any => {\r\n    this.setState(() => {\r\n      return {\r\n        haveAmount: value,\r\n        maxAmount: 0,\r\n      }\r\n    }, () => {\r\n      const { isTokenSell, haveAmount } = this.state\r\n\r\n      if (isTokenSell && haveAmount) {\r\n        this.updateTokenAllowance()\r\n      }\r\n    })\r\n  }\r\n\r\n  setOrders = () => {\r\n    const { filteredOrders, haveAmount } = this.state\r\n\r\n    if (!filteredOrders.length) {\r\n      this.setState(() => ({\r\n        isNonOffers: true,\r\n        isNoAnyOrders: true,\r\n        maxAmount: 0,\r\n        getAmount: 0,\r\n        maxBuyAmount: 0,\r\n      }))\r\n      return\r\n    }\r\n\r\n    const sortedOrders = filteredOrders\r\n      .sort(\r\n        (a, b) =>\r\n          Number(b.buyAmount.dividedBy(b.sellAmount)) - Number(a.buyAmount.dividedBy(a.sellAmount))\r\n      )\r\n      .map((item, index) => {\r\n        const exRate = item.buyAmount.dividedBy(item.sellAmount)\r\n        const getAmount = new BigNumber(haveAmount).dividedBy(exRate).toString()\r\n\r\n        return {\r\n          sellAmount: item.sellAmount,\r\n          buyAmount: item.buyAmount,\r\n          exRate,\r\n          getAmount,\r\n          orderId: item.id,\r\n          peer: item.owner.peer,\r\n        }\r\n      })\r\n\r\n    const didFound = this.setOrderOnState(sortedOrders)\r\n\r\n    if (didFound) {\r\n      this.setState(() => ({\r\n        isNoAnyOrders: false,\r\n      }))\r\n    }\r\n  }\r\n\r\n  setOrderOnState = (orders) => {\r\n    const { haveAmount } = this.state\r\n\r\n    let maxAllowedSellAmount = new BigNumber(0)\r\n    let maxAllowedGetAmount = new BigNumber(0)\r\n    let maxAllowedBuyAmount = new BigNumber(0)\r\n\r\n    let isFound = false\r\n    let newState = {}\r\n\r\n    const findGoodOrder = (inOrders) => {\r\n      inOrders.forEach((item) => {\r\n        maxAllowedSellAmount = maxAllowedSellAmount.isLessThanOrEqualTo(item.sellAmount)\r\n          ? item.sellAmount\r\n          : maxAllowedSellAmount\r\n        maxAllowedBuyAmount = maxAllowedBuyAmount.isLessThanOrEqualTo(item.buyAmount)\r\n          ? item.buyAmount\r\n          : maxAllowedBuyAmount\r\n\r\n        if (new BigNumber(haveAmount).isLessThanOrEqualTo(item.buyAmount)) {\r\n          maxAllowedGetAmount = maxAllowedGetAmount.isLessThanOrEqualTo(item.getAmount)\r\n            ? new BigNumber(item.getAmount)\r\n            : maxAllowedGetAmount\r\n\r\n          isFound = true\r\n\r\n          newState = {\r\n            isNonOffers: false,\r\n            goodRate: item.exRate,\r\n            peer: item.peer,\r\n            orderId: item.orderId,\r\n          }\r\n        }\r\n      })\r\n    }\r\n\r\n    findGoodOrder(orders.filter((order) => !this.isPeerBanned(order.peer)))\r\n\r\n    if (!isFound) {\r\n      // check banned peers\r\n      findGoodOrder(orders.filter((order) => this.isPeerBanned(order.peer)))\r\n    }\r\n\r\n    if (isFound) {\r\n      this.setState((state) => ({\r\n        ...state,\r\n        ...newState,\r\n      }))\r\n    } else {\r\n      this.setState(() => ({\r\n        isNonOffers: true,\r\n        getFiat: Number(0).toFixed(2),\r\n      }))\r\n    }\r\n\r\n    const checkAmount = this.setAmountOnState(\r\n      maxAllowedSellAmount,\r\n      maxAllowedGetAmount,\r\n      maxAllowedBuyAmount\r\n    )\r\n\r\n    if (!checkAmount) {\r\n      this.setNoOfferState()\r\n    }\r\n\r\n    return true\r\n  }\r\n\r\n  isPeerBanned(peerID) {\r\n    if (bannedPeers[peerID] && bannedPeers[peerID] > Math.floor(new Date().getTime() / 1000)) {\r\n      return true\r\n    }\r\n    return false\r\n  }\r\n\r\n  banPeer(peerID) {\r\n    const bannedPeersTimeout = 180 // 3 mins\r\n    bannedPeers[peerID] = Math.floor(new Date().getTime() / 1000) + bannedPeersTimeout\r\n  }\r\n\r\n  handleSetGetValue = ({ value }) => {\r\n    const { haveCurrency } = this.state\r\n\r\n    if (value === haveCurrency) {\r\n      this.flipCurrency()\r\n    } else {\r\n      const {\r\n        haveType,\r\n        fromAddress,\r\n        getType,\r\n        toAddress,\r\n      } = this.getAddressesDataByCurrencies({haveCurrency, getCurrency: value})\r\n\r\n      this.setState(\r\n        {\r\n          getCurrency: value,\r\n          getType,\r\n          toAddress,\r\n          haveCurrency,\r\n          haveType,\r\n          fromAddress,\r\n          pairFees: false,\r\n        },\r\n        () => {\r\n          const { haveCurrency, haveType, getCurrency, getType } = this.state\r\n          this.setDefaultCurrencyType(haveCurrency.toUpperCase(), haveType)\r\n          this.setDefaultCurrencyType(getCurrency.toUpperCase(), getType)\r\n          this.fetchPairFeesAndBalances()\r\n          this.changeUrl(haveCurrency, value)\r\n          actions.analytics.dataEvent({\r\n            action: 'exchange-click-selector',\r\n            label: `${haveCurrency}-to-${getCurrency}`,\r\n          })\r\n        }\r\n      )\r\n    }\r\n  }\r\n\r\n  handleSetHaveValue = async ({ value }) => {\r\n    const { getCurrency } = this.state\r\n\r\n    if (value === getCurrency) {\r\n      this.flipCurrency()\r\n    } else {\r\n      const {\r\n        haveType,\r\n        fromAddress,\r\n        getType,\r\n        toAddress,\r\n      } = this.getAddressesDataByCurrencies({haveCurrency: value, getCurrency})\r\n\r\n      this.setState(\r\n        {\r\n          haveCurrency: value,\r\n          haveType,\r\n          fromAddress,\r\n          getCurrency,\r\n          getType,\r\n          toAddress,\r\n          pairFees: false,\r\n        },\r\n        () => {\r\n          const { haveCurrency, haveType, getCurrency, getType } = this.state\r\n          this.setDefaultCurrencyType(haveCurrency.toUpperCase(), haveType)\r\n          this.setDefaultCurrencyType(getCurrency.toUpperCase(), getType)\r\n          this.fetchPairFeesAndBalances()\r\n          this.changeUrl(value, getCurrency)\r\n          actions.analytics.dataEvent({\r\n            action: 'exchange-click-selector',\r\n            label: `${haveCurrency}-to-${getCurrency}`,\r\n          })\r\n\r\n          this.checkPair()\r\n        }\r\n      )\r\n    }\r\n  }\r\n\r\n  applyAddress = (addressRole, addressData) => {\r\n    // address value or missing either already validated\r\n    const { type, value, currency } = addressData\r\n\r\n    this.setDefaultCurrencyType(currency.toUpperCase(), type)\r\n    feedback.exchangeForm.selectedAddress(`${addressRole} ${currency.toUpperCase()} ${type}`)\r\n\r\n    if (addressRole === AddressRole.Send) {\r\n      this.setState({\r\n        fromAddress: addressData,\r\n        haveType: type,\r\n      })\r\n    }\r\n    if (addressRole === AddressRole.Receive) {\r\n      this.setState({\r\n        toAddress: addressData,\r\n        getType: type,\r\n      })\r\n    }\r\n  }\r\n\r\n  flipCurrency = async () => {\r\n    const {\r\n      haveCurrency,\r\n      haveType,\r\n      getCurrency,\r\n      getType,\r\n      exHaveRate,\r\n      exGetRate,\r\n      pairFees,\r\n      fromAddress,\r\n      toAddress,\r\n    } = this.state\r\n\r\n    feedback.exchangeForm.flipped(\r\n      `${haveCurrency}->${getCurrency} => ${getCurrency}->${haveCurrency}`\r\n    )\r\n\r\n    const toAddressTicker = toAddress.currency.toUpperCase()\r\n    const isToAddressUTXOModel = COIN_DATA[toAddressTicker] && COIN_DATA[toAddressTicker].model === COIN_MODEL.UTXO\r\n    const isWalletCreate = localStorage.getItem(constants.localStorage.isWalletCreate)\r\n\r\n    if (isToAddressUTXOModel && isWalletCreate) {\r\n      this.setDefaultCurrencyType(toAddress.currency.toUpperCase(), AddressType.Internal)\r\n      toAddress.type = AddressType.Internal\r\n    }\r\n\r\n    this.resetState()\r\n    this.changeUrl(getCurrency, haveCurrency)\r\n    this.setState(\r\n      {\r\n        haveCurrency: getCurrency,\r\n        getCurrency: haveCurrency,\r\n        haveType: toAddress.type,\r\n        getType: haveType,\r\n        exHaveRate: exGetRate,\r\n        exGetRate: exHaveRate,\r\n        pairFees: {\r\n          ...(pairFees\r\n            ? {\r\n                // flip pair fees and exRates\r\n                ...pairFees,\r\n                buy: pairFees.sell,\r\n                sell: pairFees.buy,\r\n                have: pairFees.get,\r\n                get: pairFees.have,\r\n                buyExRate: pairFees.sellExRate,\r\n                sellExRate: pairFees.buyExRate,\r\n              }\r\n            : []),\r\n        },\r\n        // todo: flip values\r\n        fromAddress: toAddress,\r\n        toAddress: fromAddress,\r\n      },\r\n      () => {\r\n        actions.analytics.dataEvent({\r\n          action: 'exchange-click-selector',\r\n          label: `${haveCurrency}-to-${getCurrency}`,\r\n        })\r\n        this.fetchPairFeesAndBalances()\r\n        this.checkPair()\r\n      }\r\n    )\r\n  }\r\n\r\n  resetState = () => {\r\n    this.setState(() => ({\r\n      haveAmount: 0,\r\n      getAmount: 0,\r\n      maxAmount: 0,\r\n      maxBuyAmount: 0,\r\n      peer: '',\r\n      isNonOffers: false,\r\n      isWaitForPeerAnswer: false,\r\n      isDeclinedOffer: false,\r\n    }))\r\n  }\r\n\r\n  checkPair = () => {\r\n    const { getCurrency, haveCurrency } = this.state\r\n\r\n    const noPairToken = config && config.isWidget ? config.erc20token : 'swap'\r\n\r\n    const checkingValue = this.props.allCurrencies\r\n      .map((item) => item.value)\r\n      .includes(haveCurrency)\r\n        ? haveCurrency\r\n        : noPairToken\r\n\r\n    const dropDownCurrencies = actions.pairs.selectPairPartial(checkingValue)\r\n    const check = dropDownCurrencies.map((item) => item.value).includes(getCurrency)\r\n\r\n    this.getFiatBalance()\r\n\r\n    if (dropDownCurrencies.length && (!check || getCurrency === checkingValue)) {\r\n      this.chooseCurrencyToRender(dropDownCurrencies)\r\n    }\r\n  }\r\n\r\n  chooseCurrencyToRender = (selected) => {\r\n    this.setState(\r\n      () => ({\r\n        getCurrency: selected[0].value,\r\n      }),\r\n      () => {\r\n        this.getFiatBalance()\r\n      }\r\n    )\r\n  }\r\n\r\n  checkoutLowAmount() {\r\n    const { haveAmount, getAmount } = this.state\r\n\r\n    return (\r\n      this.doesComissionPreventThisOrder() &&\r\n      new BigNumber(getAmount).isGreaterThan(0) &&\r\n      haveAmount &&\r\n      getAmount\r\n    )\r\n  }\r\n\r\n  extendedControlsSet = (value) => {\r\n    const { extendedControls } = this.state\r\n\r\n    if (typeof value !== 'boolean') {\r\n      return this.setState({ extendedControls: false })\r\n    }\r\n    if (extendedControls === value) {\r\n      return false\r\n    }\r\n    return this.setState({ extendedControls: value })\r\n  }\r\n\r\n  doesComissionPreventThisOrder = () => {\r\n    const { pairFees, haveAmount, getAmount, isPending } = this.state\r\n\r\n    if (!isPending && pairFees) {\r\n      // @ToDo\r\n      //         \r\n      //     ,   \r\n      //        \r\n      // (     )\r\n      const feeMultipler = 1\r\n\r\n      if (\r\n        pairFees.sell.isUTXO &&\r\n        new BigNumber(pairFees.sell.fee).times(feeMultipler).isGreaterThanOrEqualTo(haveAmount)\r\n      ) {\r\n        return true\r\n      }\r\n\r\n      if (\r\n        pairFees.buy.isUTXO &&\r\n        new BigNumber(pairFees.buy.fee).times(feeMultipler).isGreaterThanOrEqualTo(getAmount)\r\n      ) {\r\n        return true\r\n      }\r\n    } else {\r\n      /* No information for fee... wait - disable swap */\r\n      return true\r\n    }\r\n    return false\r\n  }\r\n\r\n  goDeclimeFaq = () => {\r\n    const faqLink = links.getFaqLink('requestDeclimed')\r\n    if (faqLink) {\r\n      window.location.href = faqLink\r\n    }\r\n  }\r\n\r\n  getCorrectDecline = () => {\r\n    const { decline } = this.props\r\n    const localSavedOrders = localStorage.getItem(constants.localStorage.savedOrders)\r\n\r\n    if (!localSavedOrders || localSavedOrders.length !== decline.length) {\r\n      return\r\n    }\r\n\r\n    const desclineOrders = decline\r\n      .map((swapId) => actions.core.getSwapById(swapId))\r\n      .filter((swap) => {\r\n        const { isFinished, isRefunded, isStoppedSwap } = swap.flow.state\r\n        // if timeout - skip this swap. for refund, if need - use history page\r\n        const lifeTimeout = swap.checkTimeout(60 * 60 * 3) // 3 hours\r\n        return isFinished || isRefunded || isStoppedSwap || lifeTimeout\r\n      })\r\n\r\n    if (desclineOrders.length) {\r\n      this.setState(() => ({\r\n        desclineOrders,\r\n      }))\r\n    }\r\n  }\r\n\r\n  toggleOrdersVisibility = () => {\r\n    this.setState((state) => ({\r\n      ordersIsOpen: !state.ordersIsOpen\r\n    }))\r\n  }\r\n\r\n  showIncompleteSwap = () => {\r\n    const { desclineOrders } = this.state\r\n\r\n    actions.modals.open(constants.modals.IncompletedSwaps, {\r\n      desclineOrders,\r\n    })\r\n  }\r\n\r\n  handleAddCorrectNetwork = () => {\r\n    const {\r\n      haveCurrency,\r\n      getCurrency,\r\n      fromAddress,\r\n      toAddress\r\n    } = this.state\r\n\r\n    const sellCoin = this.renderCoinName(haveCurrency)\r\n    const buyCoin = this.renderCoinName(getCurrency)\r\n\r\n    const isSellCoinNeedAddCorrectNetwork =\r\n      fromAddress.type === AddressType.Metamask &&\r\n      !metamask.isAvailableNetworkByCurrency(sellCoin)\r\n\r\n    const isBuyCoinNeedAddCorrectNetwork =\r\n      toAddress.type === AddressType.Metamask &&\r\n      !metamask.isAvailableNetworkByCurrency(buyCoin)\r\n\r\n    metamask.addCurrencyNetwork(isSellCoinNeedAddCorrectNetwork && sellCoin || isBuyCoinNeedAddCorrectNetwork && buyCoin)\r\n  }\r\n\r\n  renderCoinName = (coin) => {\r\n    return coin.toUpperCase()\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      currencies,\r\n      activeFiat,\r\n      addSelectedItems,\r\n      match: {\r\n        params: { linkedOrderId },\r\n      },\r\n    } = this.props\r\n    const {\r\n      isTokenSell,\r\n      isPendingTokenApprove,\r\n      hasTokenAllowance,\r\n      haveCurrency,\r\n      haveType,\r\n      getCurrency,\r\n      getType,\r\n      fromAddress,\r\n      toAddress,\r\n      orderId,\r\n      isNonOffers,\r\n      maxAmount,\r\n      exHaveRate,\r\n      exGetRate,\r\n      maxBuyAmount,\r\n      getAmount,\r\n      goodRate,\r\n      haveAmount,\r\n      isNoAnyOrders,\r\n      isFullLoadingComplete,\r\n      redirectToSwap,\r\n      isWaitForPeerAnswer,\r\n      directionOrders,\r\n      desclineOrders,\r\n      isDeclinedOffer,\r\n      pairFees,\r\n      balances,\r\n      haveBalance,\r\n      isTurbo,\r\n      isPending,\r\n      ordersIsOpen,\r\n    } = this.state\r\n\r\n    const sellCoin = haveCurrency.toUpperCase()\r\n    const buyCoin = getCurrency.toUpperCase()\r\n    const balance = this.getBalance(sellCoin)\r\n\r\n    if (redirectToSwap) {\r\n      const swapUri = ({\r\n        [SwapMode.Atomic]: `${links.atomicSwap}/${orderId}`,\r\n        [SwapMode.Turbo]: `${links.turboSwap}/${orderId}`\r\n      })[redirectToSwap]\r\n\r\n      if (!swapUri) {\r\n        throw new Error('Wrong swap redirect')\r\n      }\r\n      console.log(`Redirect to swap: ${swapUri}`)\r\n      return <Redirect to={swapUri} push />\r\n    }\r\n\r\n    let balanceTooltip: JSX.Element | null = null\r\n\r\n    if (pairFees && pairFees.byCoins) {\r\n      const sellCoinFee = pairFees.byCoins[sellCoin] || false\r\n\r\n      balanceTooltip = (\r\n        // React: Warning: Each child in a list should have a unique \"key\" prop\r\n        // why React tells that it has to have a key prop?\r\n        // there isn't any loops. Maybe I'm missing something...\r\n        <p styleName=\"maxAmount\" key=\"why I am here\">\r\n          {new BigNumber(balance).toNumber() === 0 ||\r\n          (sellCoinFee &&\r\n            new BigNumber(balance).minus(sellCoinFee.fee).isLessThanOrEqualTo(0)) ? null : (\r\n            <>\r\n              {sellCoinFee ? (\r\n                <FormattedMessage id=\"Exchange_AvialableBalance\" defaultMessage=\"Available: \" />\r\n              ) : (\r\n                <FormattedMessage id=\"partial767\" defaultMessage=\"Balance: \" />\r\n              )}\r\n              {sellCoinFee && sellCoinFee.fee\r\n                ? new BigNumber(balance)\r\n                    .minus(sellCoinFee.fee)\r\n                    .dp(5, BigNumber.ROUND_FLOOR)\r\n                    .toString()\r\n                : new BigNumber(balance).dp(5, BigNumber.ROUND_FLOOR).toString()}\r\n              {'  '}\r\n              {this.renderCoinName(sellCoin)}\r\n            </>\r\n          )}\r\n        </p>\r\n      )\r\n    }\r\n\r\n    //@ts-ignore: strictNullChecks\r\n    const haveFiat = new BigNumber(exHaveRate).times(haveAmount).dp(2, BigNumber.ROUND_CEIL)\r\n\r\n    //@ts-ignore: strictNullChecks\r\n    const getFiat = new BigNumber(exGetRate).times(getAmount).dp(2, BigNumber.ROUND_CEIL)\r\n\r\n    const fiatFeeCalculation =\r\n      pairFees && pairFees.buy && pairFees.sell\r\n        ? new BigNumber(pairFees.buyExRate)\r\n            .times(pairFees.buy.fee)\r\n            .plus(new BigNumber(pairFees.sellExRate).times(pairFees.sell.fee))\r\n            .dp(2, BigNumber.ROUND_CEIL)\r\n            .toNumber()\r\n        : 0\r\n\r\n    const oneCryptoCost = new BigNumber(maxBuyAmount).isLessThanOrEqualTo(0)\r\n      ? new BigNumber(0)\r\n      : new BigNumber(goodRate)\r\n\r\n    const linked = Link.all(this, 'haveAmount', 'getAmount')\r\n\r\n    const availableAmount =\r\n      pairFees &&\r\n      pairFees.byCoins &&\r\n      pairFees.byCoins[sellCoin] &&\r\n      new BigNumber(pairFees.byCoins[sellCoin].fee).isGreaterThan(0)\r\n        ? new BigNumber(balance).minus(pairFees.byCoins[sellCoin].fee)\r\n        : 0\r\n\r\n    const isLowAmount = this.checkoutLowAmount()\r\n\r\n    // temporary: show atomic/turbo switch if only there are turbo offers\r\n    const isShowSwapModeSwitch = directionOrders.filter(offer => offer.isTurbo).length > 0\r\n\r\n    const isTurboAllowed = (\r\n      turboSwap.isAssetSupported(buyCoin) &&\r\n      turboSwap.isAssetSupported(sellCoin) &&\r\n      // temporarily: no external addresses support at the turboswaps-alpha stage\r\n      // see https://github.com/swaponline/MultiCurrencyWallet/issues/3875\r\n      fromAddress.type === AddressType.Internal &&\r\n      toAddress.type === AddressType.Internal\r\n    )\r\n\r\n    const isPrice = oneCryptoCost.isGreaterThan(0) && oneCryptoCost.isFinite() && !isNonOffers\r\n\r\n    const isErrorNoOrders = isNoAnyOrders && linked.haveAmount.value > 0 && isFullLoadingComplete\r\n\r\n    const isErrorLowLiquidity =\r\n      !isNoAnyOrders && maxAmount > 0 && isNonOffers && linked.haveAmount.value > 0\r\n\r\n    // temporarly disable some combinations (need test)\r\n    const isErrorExternalDisabled =\r\n      (fromAddress &&\r\n        ![AddressType.Internal, AddressType.Metamask, AddressType.Custom].includes(\r\n          fromAddress.type\r\n        )) ||\r\n      (toAddress &&\r\n        ![AddressType.Internal, AddressType.Metamask, AddressType.Custom].includes(toAddress.type))\r\n\r\n    const isFromAddressReady =\r\n      (fromAddress.type === AddressType.Internal && fromAddress.value) ||\r\n      (fromAddress.type === AddressType.Metamask && fromAddress.value && metamask.isConnected()) ||\r\n      (fromAddress.type === AddressType.Custom)\r\n\r\n    const isToAddressReady =\r\n      (toAddress.type === AddressType.Internal && toAddress.value) ||\r\n      (toAddress.type === AddressType.Metamask && toAddress.value && metamask.isConnected()) ||\r\n      (toAddress.type === AddressType.Custom && toAddress.value)\r\n\r\n    const isBalanceReady =\r\n      (isTokenSell && new BigNumber(balance).isGreaterThanOrEqualTo(haveAmount)) ||\r\n      new BigNumber(availableAmount).isGreaterThanOrEqualTo(haveAmount) ||\r\n      fromAddress.type === AddressType.Custom\r\n\r\n    const isSellCoinAvailableNetwork = metamask.isAvailableNetworkByCurrency(sellCoin)\r\n    const isBuyCoinAvailableNetwork = metamask.isAvailableNetworkByCurrency(buyCoin)\r\n\r\n    const isSellCoinNeedAddCorrectNetwork =\r\n      fromAddress.type === AddressType.Metamask &&\r\n      !isSellCoinAvailableNetwork\r\n\r\n    const isBuyCoinNeedAddCorrectNetwork =\r\n      toAddress.type === AddressType.Metamask &&\r\n      !isBuyCoinAvailableNetwork\r\n\r\n    const isCorrectMetamaskNetwork = !metamask.isConnected() ||\r\n      (!isSellCoinNeedAddCorrectNetwork && !isBuyCoinNeedAddCorrectNetwork)\r\n\r\n    const isIncorrectMetamaskNetwork = metamask.isConnected() &&\r\n      (isSellCoinNeedAddCorrectNetwork || isBuyCoinNeedAddCorrectNetwork)\r\n\r\n    const canStartSwap =\r\n      !isErrorExternalDisabled &&\r\n      isCorrectMetamaskNetwork &&\r\n      linked.haveAmount.value > 0 &&\r\n      fromAddress &&\r\n      isFromAddressReady &&\r\n      toAddress &&\r\n      isToAddressReady &&\r\n      !isNonOffers &&\r\n      !this.doesComissionPreventThisOrder() &&\r\n      isBalanceReady &&\r\n      new BigNumber(getAmount).isGreaterThan(0) &&\r\n      !isWaitForPeerAnswer\r\n\r\n    const getTextWhyCanNotStartSwap = () => {\r\n      if (isErrorExternalDisabled) return <FormattedMessage id=\"swapDisabled\" defaultMessage='Swap Disabled' />\r\n      if (!isCorrectMetamaskNetwork) return <FormattedMessage id=\"incorrectNetwork\" defaultMessage='Please choose correct network' />\r\n      if (!(linked.haveAmount.value > 0)) return <FormattedMessage id=\"enterYouSend\" defaultMessage='Enter \"You send\" amount' />\r\n      if (!fromAddress) return <FormattedMessage id=\"selectFromAddress\" defaultMessage='Select \"From address\"' />\r\n      if (!isFromAddressReady) {\r\n        if (fromAddress.type === AddressType.Internal && !fromAddress.value)\r\n          return <FormattedMessage id=\"selectSendType\" defaultMessage='Select type of \"From address\"' />\r\n        if (fromAddress.type === AddressType.Metamask && !fromAddress.value || !metamask.isConnected())\r\n          return <FormattedMessage id=\"connectYourWallet\" defaultMessage='Connect your wallet in \"From address\"' />\r\n      }\r\n      if (!toAddress) return <FormattedMessage id=\"selectToAddress\" defaultMessage='Select \"To address\"' />\r\n      if (!isToAddressReady) {\r\n        if (toAddress.type === AddressType.Internal && !toAddress.value)\r\n          return <FormattedMessage id=\"setDestination\" defaultMessage='Set Destination' />\r\n        if (toAddress.type === AddressType.Metamask && !toAddress.value || !metamask.isConnected())\r\n          return <FormattedMessage id=\"connectDestinationWallet\" defaultMessage='Connect your Destination wallet' />\r\n        if (toAddress.type === AddressType.Internal && !toAddress.value)\r\n          return <FormattedMessage id=\"enterToAddress\" defaultMessage='Enter Destination wallet' />\r\n      }\r\n      if (isNonOffers) return <FormattedMessage id=\"noOffers\" defaultMessage='No Offers' />\r\n      if (this.doesComissionPreventThisOrder()) return <FormattedMessage id=\"lowAmount\" defaultMessage='Low amount' />\r\n      if (!isBalanceReady) {\r\n        if (\r\n          (isTokenSell && !new BigNumber(balance).isGreaterThanOrEqualTo(haveAmount)) ||\r\n          !new BigNumber(availableAmount).isGreaterThanOrEqualTo(haveAmount)\r\n          )\r\n          return <FormattedMessage id=\"enterLesserAmount\" defaultMessage='Enter lesser amount to \"You send\"' />\r\n      }\r\n      if (!(new BigNumber(getAmount).isGreaterThan(0))) return <FormattedMessage id=\"errorWithGetAmount\" defaultMessage='\"You get\" no more than 0' />\r\n      if (isWaitForPeerAnswer) return <FormattedMessage id=\"waitPeerAnswer\" defaultMessage='Wait peer answer' />\r\n\r\n      return <FormattedMessage id=\"contactSupport\" defaultMessage='Please contact support' />\r\n    }\r\n\r\n    const isIncompletedSwaps = !!desclineOrders.length\r\n\r\n    const isDevBuild = (config.env === 'development')\r\n\r\n    const { coin: sellCoinName, blockchain: sellCoinBlockchain } = getCoinInfo(sellCoin)\r\n    const { coin: buyCoinName, blockchain: buyCoinBlockchain } = getCoinInfo(buyCoin)\r\n\r\n    const sellNativeCurrency = sellCoinBlockchain || sellCoinName\r\n    const buyNativeCurrency = buyCoinBlockchain || buyCoinName\r\n\r\n    const networkNeedsToBeUsed = isSellCoinNeedAddCorrectNetwork && sellNativeCurrency || isBuyCoinNeedAddCorrectNetwork && buyNativeCurrency\r\n\r\n    // when Add EIP-3326: wallet_switchEthereumChain remove this\r\n    const isEthNativeCoin = [sellNativeCurrency, buyNativeCurrency].includes('ETH')\r\n    const isMetamaskProvider = metamask.web3connect.getProviderTitle() === 'MetaMask'\r\n\r\n    const Form = (\r\n      <div styleName=\"section\">\r\n        <div styleName=\"formExchange\">\r\n          <div styleName=\"userSendAndGet\">\r\n            <div>\r\n              <SelectGroup\r\n                activeFiat={activeFiat}\r\n                inputValueLink={linked.haveAmount.pipe(this.setAmount)}\r\n                selectedValue={haveCurrency}\r\n                onSelect={this.handleSetHaveValue}\r\n                label={<FormattedMessage id=\"MyOrdersYouSend\" defaultMessage=\"You send\" />}\r\n                id=\"Exchange456\"\r\n                placeholder=\"0.00000000\"\r\n                fiat={maxAmount > 0 && isNonOffers ? 0 : haveFiat}\r\n                currencies={currencies}\r\n                onFocus={() => this.extendedControlsSet(true)}\r\n                onBlur={() => setTimeout(() => this.extendedControlsSet(false), 200)}\r\n                inputToolTip={(haveType !== AddressType.Custom) && balanceTooltip}\r\n              />\r\n\r\n              <AddressSelect\r\n                label={<FormattedMessage id=\"Exchange_FromAddress\" defaultMessage=\"From address\" />}\r\n                currency={haveCurrency}\r\n                balance={this.getBalance(sellCoin)}\r\n                selectedType={haveType}\r\n                role={AddressRole.Send}\r\n                hasError={false}\r\n                placeholder=\"From address\"\r\n                onChange={(addrData) => this.applyAddress(AddressRole.Send, addrData)}\r\n              />\r\n            </div>\r\n\r\n            <div styleName=\"switchButton\">\r\n              <Switching noneBorder onClick={this.flipCurrency} />\r\n            </div>\r\n\r\n            <div>\r\n              <SelectGroup\r\n                activeFiat={activeFiat}\r\n                dataTut=\"get\"\r\n                inputValueLink={linked.getAmount}\r\n                selectedValue={getCurrency}\r\n                onSelect={this.handleSetGetValue}\r\n                disabled={true} // value calculated from market price\r\n                label={<FormattedMessage id=\"partial255\" defaultMessage=\"You get\" />}\r\n                id=\"Exchange472\"\r\n                currencies={addSelectedItems}\r\n                fiat={getFiat}\r\n                error={isLowAmount}\r\n              />\r\n\r\n              <AddressSelect\r\n                label={<FormattedMessage id=\"Exchange_ToAddress\" defaultMessage=\"To address\" />}\r\n                role={AddressRole.Receive}\r\n                currency={getCurrency}\r\n                balance={this.getBalance(buyCoin)}\r\n                selectedType={getType}\r\n                hasError={false}\r\n                placeholder=\"To address\"\r\n                onChange={(addrData) => this.applyAddress(AddressRole.Receive, addrData)}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {isShowSwapModeSwitch &&\r\n            <div styleName={`swapModeSelector ${isTurboAllowed ? '' : 'disabled'}`}>\r\n              <div styleName=\"toggle\">\r\n                <div styleName=\"toggleText\">\r\n                  <FormattedMessage id=\"AtomicSwap_Title\" defaultMessage=\"Atomic swap\" />\r\n                </div>\r\n                <Toggle checked={isTurbo} isDisabled={!isTurboAllowed} onChange={() => this.setState((state) => ({ isTurbo: !state.isTurbo }))} />\r\n                <div styleName=\"toggleText\">\r\n                  <TurboIcon />\r\n                  <span>\r\n                    <FormattedMessage id=\"TurboSwap_Title\" defaultMessage=\"Turbo swap\" />\r\n                    &nbsp;\r\n                    <a href=\"https://github.com/swaponline/MultiCurrencyWallet/blob/master/docs/TURBO_SWAPS.md\" target=\"_blank\">(?)</a>\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          }\r\n\r\n          <div styleName=\"errors\">\r\n            {isErrorNoOrders && (\r\n              <Fragment>\r\n                <p styleName=\"error\">\r\n                  <FormattedMessage\r\n                    id=\"PartialPriceNoOrdersReduce\"\r\n                    defaultMessage=\"No orders found, try later or change the currency pair\"\r\n                  />\r\n                </p>\r\n              </Fragment>\r\n            )}\r\n\r\n            {isIncorrectMetamaskNetwork && (isEthNativeCoin || !isMetamaskProvider) && (\r\n              <Fragment>\r\n                <p styleName=\"error\">\r\n                  <FormattedMessage\r\n                    id=\"chooseCorrectNetwork\"\r\n                    defaultMessage=\"Please open connected wallet and choose {br}{chainName}\"\r\n                    values={{\r\n                      br: <br />,\r\n                      chainName: config?.evmNetworks?.[networkNeedsToBeUsed]?.chainName || 'Correct Network'\r\n                    }}\r\n                  />\r\n                </p>\r\n              </Fragment>\r\n            )}\r\n\r\n            {isErrorLowLiquidity && (\r\n              <Fragment>\r\n                <p styleName=\"error\">\r\n                  <FormattedMessage\r\n                    id=\"PartialPriceNoOrdersReduceAllInfo\"\r\n                    defaultMessage=\"This trade amount is too high for present market liquidity. Please reduce amount to {maxForSell}.\"\r\n                    values={{\r\n                      maxForBuy: `${maxAmount} ${this.renderCoinName(getCurrency)}`,\r\n                      maxForSell: `${new BigNumber(maxBuyAmount).toFixed(8)} ${this.renderCoinName(haveCurrency)}`,\r\n                    }}\r\n                  />\r\n                </p>\r\n              </Fragment>\r\n            )}\r\n\r\n            {isLowAmount && (\r\n              <p styleName=\"error\">\r\n                <FormattedMessage\r\n                  id=\"ErrorBtcLowAmount\"\r\n                  defaultMessage=\"This amount is too low, does not cover mining fee\"\r\n                  values={{\r\n                    btcAmount:\r\n                      this.state.haveCurrency === 'btc'\r\n                        ? this.state.haveAmount\r\n                        : this.state.getAmount,\r\n                  }}\r\n                />\r\n              </p>\r\n            )}\r\n\r\n            {isDeclinedOffer && (\r\n              <div styleName=\"smallError\">\r\n                <p styleName=\"error errorLink\" onClick={this.goDeclimeFaq}>\r\n                  {' '}\r\n                  <FormattedMessage\r\n                    id=\"PartialOfferCantProceed1\"\r\n                    defaultMessage=\"Request rejected, possibly you have not complete another swap {br}{link}\"\r\n                    values={{\r\n                      link: (\r\n                        <a className=\"errorLink\" role=\"button\" onClick={this.goDeclimeFaq}>\r\n                          {' '}\r\n                          <FormattedMessage\r\n                            id=\"PartialOfferCantProceed1_1\"\r\n                            defaultMessage=\"Check here\"\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      br: <br />,\r\n                    }}\r\n                  />\r\n                </p>\r\n              </div>\r\n            )}\r\n\r\n            {isErrorExternalDisabled && (\r\n              <p styleName=\"error\">\r\n                The exchange is temporarily disabled for some external addresses (under maintenance)\r\n              </p>\r\n            )}\r\n          </div>\r\n\r\n          <div styleName=\"conditions\">\r\n            <div styleName=\"price\">\r\n              <FormattedMessage id=\"Exchange_BestPrice\" defaultMessage=\"Best price:\" />{' '}\r\n              {!isPrice && !isErrorNoOrders && <InlineLoader />}\r\n              {isPrice &&\r\n                `1 ${getCurrency.toUpperCase()} = ${oneCryptoCost.toFixed(\r\n                  5\r\n                )} ${this.renderCoinName(haveCurrency)}`}\r\n              {isErrorNoOrders && '?'}\r\n            </div>\r\n\r\n            <div styleName=\"fees\">\r\n              <div styleName=\"serviceFee\">\r\n                <span>\r\n                  <FormattedMessage id=\"Exchange_ServiceFee\" defaultMessage=\"Service fee\" />:\r\n                </span>\r\n                &nbsp;\r\n                <span>0</span>\r\n              </div>\r\n\r\n              <div styleName=\"minerFee\">\r\n                <span>\r\n                  <FormattedMessage id=\"Exchange_MinerFees\" defaultMessage=\"Miner fee\" />:\r\n                </span>\r\n                &nbsp;\r\n\r\n                {/* Fees info */}\r\n                <>\r\n                  {isPending || !pairFees ? (\r\n                    <span>\r\n                      <InlineLoader />\r\n                    </span>\r\n                  ) : (\r\n                    <span>\r\n                      {pairFees.sell.fee} {pairFees.sell.coin} + {pairFees.buy.fee} {pairFees.buy.coin}\r\n                      {'  '}\r\n                      {fiatFeeCalculation > 0 ? <>${fiatFeeCalculation}</> : 0}\r\n                      {' '}\r\n                    </span>\r\n                  )}\r\n                  <button\r\n                    className=\"fas fa-sync-alt\"\r\n                    styleName=\"minerFeeUpdateBtn\"\r\n                    onClick={this.updateFees}\r\n                    disabled={isPending}\r\n                  />\r\n                  <a\r\n                    href=\"https://wiki.swaponline.io/faq/why-i-pay-ming-fees-of-btc-and-eth-both-why-not-seller/\"\r\n                    target=\"_blank\"\r\n                  >\r\n                    (?)\r\n                  </a>\r\n                </>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {isWaitForPeerAnswer && (\r\n            <div styleName=\"swapStartStatus\">\r\n              <div styleName=\"swapStartStatusLoader\">\r\n                <InlineLoader />\r\n              </div>\r\n              {' '}\r\n              <FormattedMessage\r\n                id=\"partial291\"\r\n                defaultMessage=\"Waiting for another participant (30 sec)\"\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          <div styleName=\"buttons\">\r\n            {isTokenSell && linked.haveAmount.value > 0 && !hasTokenAllowance ? (\r\n              <Button\r\n                id='exchangeButton'\r\n                styleName=\"button\"\r\n                onClick={this.approveTheToken}\r\n                disabled={!canStartSwap || isPendingTokenApprove}\r\n                pending={isPendingTokenApprove}\r\n                blue\r\n              >\r\n                {canStartSwap ?\r\n                      <FormattedMessage\r\n                        id=\"FormattedMessageIdApprove\"\r\n                        defaultMessage=\"Approve {token}\"\r\n                        values={{ token: haveCurrency.toUpperCase() }}\r\n                      />\r\n                  : getTextWhyCanNotStartSwap()\r\n                }\r\n              </Button>\r\n            ) : (isIncorrectMetamaskNetwork && !isEthNativeCoin && isMetamaskProvider) ? (\r\n              <Button\r\n                styleName=\"button\"\r\n                onClick={this.handleAddCorrectNetwork}\r\n                blue\r\n              >\r\n                <FormattedMessage\r\n                  id=\"switchToCorrectNetwork\"\r\n                  defaultMessage=\"Switch to {br}{chainName}\"\r\n                  values={{\r\n                    br: <br />,\r\n                    chainName: config?.evmNetworks?.[networkNeedsToBeUsed]?.chainName || 'Correct Network'\r\n                  }}\r\n                />\r\n              </Button>\r\n            ) : (\r\n              <Button\r\n                id='exchangeButton'\r\n                styleName=\"button\"\r\n                onClick={this.initSwap}\r\n                disabled={!canStartSwap}\r\n                blue\r\n              >\r\n                {canStartSwap\r\n                  ? <FormattedMessage id=\"partial541\" defaultMessage=\"Exchange now\" />\r\n                  : getTextWhyCanNotStartSwap()}\r\n              </Button>\r\n            )}\r\n\r\n            <>\r\n              <Button\r\n                id=\"createOrderReactTooltipMessageForUser\"\r\n                styleName={`button ${haveBalance ? '' : 'noMoney'}`}\r\n                //@ts-ignore: strictNullChecks\r\n                onClick={haveBalance ? this.createOffer : null}\r\n                link\r\n              >\r\n                <FormattedMessage id=\"orders128\" defaultMessage=\"Create offer\" />\r\n              </Button>\r\n\r\n              <ThemeTooltip\r\n                id=\"createOrderReactTooltipMessageForUser\"\r\n                effect=\"solid\"\r\n                place=\"bottom\"\r\n              >\r\n                {haveBalance ? (\r\n                  <FormattedMessage\r\n                    id=\"createOrderMessageForUser\"\r\n                    defaultMessage=\"You must be online all the time, otherwise your order will not be visible to other users\"\r\n                  />\r\n                ) : (\r\n                  <FormattedMessage\r\n                    id=\"createOrderNoManyMessageForUser\"\r\n                    defaultMessage=\"Top up your balance\"\r\n                  />\r\n                )}\r\n              </ThemeTooltip>\r\n            </>\r\n            {(!isWidgetBuild || isDevBuild) && (\r\n              <>\r\n                <div styleName=\"link button-like liquidity\">\r\n                  <a href={!isChromeExtention ? `#${links.marketmaker}/` : `#${links.marketmaker}/{MATIC}WBTC`}>\r\n                    <FormattedMessage id=\"AddLiquidity\" defaultMessage=\"Add Liquidity\" />\r\n                  </a>\r\n                </div>\r\n              </>\r\n            )}\r\n\r\n            {isIncompletedSwaps && (\r\n              <Button blue styleName=\"buttonContinueSwap\" onClick={this.showIncompleteSwap}>\r\n                <FormattedMessage id=\"continueDeclined977\" defaultMessage=\"Continue your swaps\" />\r\n              </Button>\r\n            )}\r\n          </div>\r\n\r\n          <div styleName=\"networkStatusPlace\">\r\n            <NetworkStatus />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n\r\n    return (\r\n      <div styleName=\"exchangeWrap\">\r\n        <div\r\n          styleName=\"promoContainer\"\r\n          //@ts-ignore: strictNullChecks\r\n          ref={(ref) => (this.promoContainer = ref)}\r\n        >\r\n          <div styleName=\"container\">\r\n            <>\r\n              <Promo />\r\n\r\n              {Form}\r\n\r\n              <Button\r\n                id=\"orderbookBtn\"\r\n                onClick={this.toggleOrdersVisibility}\r\n                styleName=\"button orderbook\"\r\n                link\r\n              >\r\n                <FormattedMessage id=\"Orderbook\" defaultMessage=\"Orderbook\" />\r\n              </Button>\r\n\r\n              {ordersIsOpen ? (\r\n                <Orders\r\n                  sell={haveCurrency}\r\n                  buy={getCurrency}\r\n                  linkedOrderId={linkedOrderId}\r\n                  pairFees={pairFees}\r\n                  balances={balances}\r\n                  checkSwapAllow={this.checkBalanceForSwapPossibility}\r\n                  checkSwapExists={this.checkSwapExists}\r\n                />\r\n              ) : null}\r\n\r\n              {config?.showHowItsWork && (\r\n                <>\r\n                  <HowItWorks />\r\n                  <VideoAndFeatures />\r\n                  <Quote />\r\n                </>\r\n              )}\r\n            </>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(Exchange)\r\n","import { useState } from 'react'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport CSSModules from 'react-css-modules'\r\nimport { localStorage, constants, links, externalConfig } from 'helpers'\r\nimport styles from './index.scss'\r\nimport QuickSwap from './QuickSwap'\r\nimport AtomicSwap from './AtomicSwap'\r\n\r\n// option from the WP panel\r\nconst globalMode = window.exchangeMode\r\n\r\nconst GlobalModes = {\r\n  atomic: 'atomic',\r\n  quick: 'quick',\r\n  only_atomic: 'only_atomic',\r\n  only_quick: 'only_quick',\r\n}\r\n\r\nconst Exchange = function (props) {\r\n  const { location, history } = props\r\n\r\n  const noNetworks = !Object.values(externalConfig.enabledEvmNetworks).length\r\n\r\n  const validMode = globalMode && GlobalModes[globalMode]\r\n  let showOnlyOneType = validMode === GlobalModes.only_atomic || validMode === GlobalModes.only_quick\r\n\r\n  const exchangeSettings = localStorage.getItem(constants.localStorage.exchangeSettings) || {}\r\n  let initialState = location.pathname.match(/\\/exchange\\/quick/) ? 'quick' : 'atomic'\r\n\r\n  if (noNetworks) {\r\n    showOnlyOneType = true\r\n    initialState = GlobalModes.atomic\r\n    exchangeSettings.swapMode = initialState\r\n    localStorage.setItem(constants.localStorage.exchangeSettings, exchangeSettings)\r\n  } else if (showOnlyOneType) {\r\n    // and hide tabs next\r\n    initialState = globalMode.replace(/only_/, '')\r\n  } else if (validMode && location.pathname === '/exchange') {\r\n    // show the default WP mode if url isn't specified\r\n    initialState = validMode\r\n  } else if (exchangeSettings.swapMode) {\r\n    initialState = exchangeSettings.swapMode\r\n  } else {\r\n    // mode isn't saved for new users. Save it\r\n    exchangeSettings.swapMode = initialState\r\n    localStorage.setItem(constants.localStorage.exchangeSettings, exchangeSettings)\r\n  }\r\n\r\n  const [swapMode, setSwapMode] = useState(initialState)\r\n\r\n  const openAtomicMode = () => {\r\n    if (exchangeSettings.atomicCurrency) {\r\n      const { sell, buy } = exchangeSettings.atomicCurrency\r\n\r\n      history.push(`${links.exchange}/${sell}-to-${buy}`)\r\n    }\r\n\r\n    updateSwapMode('atomic')\r\n  }\r\n\r\n  const openQuickMode = () => {\r\n    if (exchangeSettings.quickCurrency) {\r\n      const { sell, buy } = exchangeSettings.quickCurrency\r\n\r\n      history.push(`${links.exchange}/quick/${sell}-to-${buy}`)\r\n    } else {\r\n      history.push(`${links.exchange}/quick`)\r\n    }\r\n\r\n    updateSwapMode('quick')\r\n  }\r\n\r\n  const updateSwapMode = (mode) => {\r\n    setSwapMode(mode)\r\n    const exchangeSettings = localStorage.getItem(constants.localStorage.exchangeSettings)\r\n\r\n    exchangeSettings.swapMode = mode\r\n    localStorage.setItem(constants.localStorage.exchangeSettings, exchangeSettings)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {!showOnlyOneType && (\r\n        <div styleName=\"tabsWrapper\">\r\n          <button\r\n            type=\"button\"\r\n            styleName={`tab ${swapMode === 'quick' ? 'active' : ''}`}\r\n            onClick={openQuickMode}\r\n          >\r\n            <FormattedMessage id=\"quickSwap\" defaultMessage=\"Quick swap\" />\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            styleName={`tab ${swapMode === 'atomic' ? 'active' : ''}`}\r\n            onClick={openAtomicMode}\r\n          >\r\n            <FormattedMessage id=\"atomicSwap\" defaultMessage=\"Atomic swap\" />\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {swapMode === 'quick' && !noNetworks && (\r\n        <div styleName=\"container\">\r\n          {/* pass props from this component into the components\r\n        because there has to be \"url\" props like match, location, etc.\r\n        but this props are only in the Router children */}\r\n          <QuickSwap {...props} />\r\n        </div>\r\n      )}\r\n\r\n      {swapMode === 'atomic' && <AtomicSwap {...props} />}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CSSModules(Exchange, styles, { allowMultiple: true })\r\n","import React, { Component, Fragment } from 'react'\r\n\r\nimport { connect } from 'redaction'\r\nimport actions from 'redux/actions'\r\nimport { withRouter } from 'react-router-dom'\r\nimport erc20Like from 'common/erc20Like'\r\nimport { links, constants } from 'helpers'\r\n\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './CurrencyWallet.scss'\r\nimport stylesHere from '../History/History.scss'\r\n\r\nimport Row from 'pages/History/Row/Row'\r\nimport SwapsHistory from 'pages/History/SwapsHistory/SwapsHistory'\r\n\r\nimport Table from 'components/tables/Table/Table'\r\nimport PageSeo from 'components/Seo/PageSeo'\r\nimport { getSeoPage } from 'helpers/seo'\r\nimport { injectIntl, defineMessages } from 'react-intl'\r\nimport { localisedUrl } from 'helpers/locale'\r\nimport config from 'app-config'\r\nimport BalanceForm from 'components/BalanceForm/BalanceForm'\r\nimport { BigNumber } from 'bignumber.js'\r\nimport ContentLoader from 'components/loaders/ContentLoader/ContentLoader'\r\nimport FilterForm from 'components/FilterForm/FilterForm'\r\nimport DashboardLayout from 'components/layout/DashboardLayout/DashboardLayout'\r\n\r\nimport getCurrencyKey from 'helpers/getCurrencyKey'\r\nimport lsDataCache from 'helpers/lsDataCache'\r\nimport getCoinInfo from 'common/coins/getCoinInfo'\r\n\r\n\r\nconst isWidgetBuild = config && config.isWidget\r\n\r\n@connect(\r\n  ({\r\n    core,\r\n    user,\r\n    history: { transactions, swapHistory },\r\n    user: {\r\n      activeFiat,\r\n      activeCurrency,\r\n      isBalanceFetching,\r\n      multisigPendingCount,\r\n    },\r\n  }) => ({\r\n    user,\r\n    activeFiat,\r\n    hiddenCoinsList: core.hiddenCoinsList,\r\n    txHistory: transactions,\r\n    swapHistory,\r\n    activeCurrency,\r\n    isBalanceFetching,\r\n    multisigPendingCount,\r\n  })\r\n)\r\n@withRouter\r\n@CSSModules({ ...styles, ...stylesHere }, { allowMultiple: true })\r\nclass CurrencyWallet extends Component<any, any> {\r\n  mounted = false\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const {\r\n      match: {\r\n        params: { ticker = null, address = null },\r\n      },\r\n      hiddenCoinsList,\r\n    } = props\r\n\r\n    const items = actions.core.getWallets({})\r\n    const walletAddress = address\r\n\r\n    let itemCurrency = this.filterCurrencies({\r\n      items,\r\n      ticker,\r\n      walletAddress,\r\n    })\r\n\r\n    if (!itemCurrency.length) {\r\n      itemCurrency = items.filter((item) => {\r\n        if (\r\n          (item.balance >= 0)\r\n          && (\r\n            (item.currency.toLowerCase() === ticker.toLowerCase())\r\n            || (item.tokenKey && item.tokenKey.toLowerCase() === ticker.toLowerCase())\r\n          )\r\n        ) return true\r\n      })\r\n    }\r\n\r\n    if (itemCurrency.length) {\r\n      itemCurrency = itemCurrency[0]\r\n\r\n      //@ts-ignore\r\n      const { currency, standard, tokenKey, address, contractAddress, decimals, balance, infoAboutCurrency } = itemCurrency\r\n      const hasCachedData = lsDataCache.get(`TxHistory_${getCurrencyKey(currency, true).toLowerCase()}_${walletAddress}`)\r\n\r\nconsole.log('>>> standard, tokenKey', standard, tokenKey)\r\n      this.state = {\r\n        itemCurrency,\r\n        address,\r\n        standard,\r\n        tokenKey,\r\n        walletAddress,\r\n        balance,\r\n        decimals,\r\n        currency,\r\n        txItems: hasCachedData,\r\n        contractAddress,\r\n        hiddenCoinsList,\r\n        isLoading: false,\r\n        infoAboutCurrency,\r\n        filterValue: walletAddress || address || '',\r\n        ticker,\r\n        token: erc20Like.isToken({ name: ticker }),\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.mounted = true\r\n    \r\n    const {\r\n      currency,\r\n      itemCurrency,\r\n      itemCurrency: {\r\n        tokenKey,\r\n        standard,\r\n      },\r\n      token,\r\n      balance,\r\n      infoAboutCurrency,\r\n      hiddenCoinsList,\r\n      ticker,\r\n      walletAddress,\r\n    } = this.state\r\n\r\n    let {\r\n      match: {\r\n        params: {\r\n          address = null,\r\n          action,\r\n        },\r\n      },\r\n      activeCurrency,\r\n      activeFiat\r\n    } = this.props\r\n\r\n    if (action == 'send') {\r\n      actions.user.getBalances()\r\n    }\r\n\r\n    if (token && standard) {\r\n      actions[standard].getBalance(currency.toLowerCase(), walletAddress).then((balance) => {\r\n        this.setState({\r\n          balance,\r\n        })\r\n      })\r\n    } else {\r\n      const actionName = currency.toLowerCase()\r\n\r\n      address && actions[getCurrencyKey(actionName, false)]\r\n        .fetchBalance(address)\r\n        .then((balance) => this.setState({ balance }))\r\n    }\r\n\r\n    if (action !== 'send') {\r\n      actions.history.setTransactions(walletAddress, ticker.toLowerCase())\r\n    }\r\n\r\n    if (!address) {\r\n      actions.core.getSwapHistory()\r\n    }\r\n\r\n    const targetCurrency = getCurrencyKey(currency.toLowerCase(), true)\r\n    const firstUrlPart = tokenKey ? `/token/${tokenKey}` : `/${targetCurrency}`\r\n    const withdrawUrl = `${firstUrlPart}/${address}/send`\r\n    const receiveUrl = `${firstUrlPart}/${address}/receive`\r\n\r\n    const currentUrl = this.props.history.location.pathname.toLowerCase()\r\n\r\n    if (currentUrl === withdrawUrl.toLowerCase() && balance !== 0) {\r\n      actions.modals.open(constants.modals.Withdraw, {\r\n        currency,\r\n        address,\r\n        balance,\r\n        itemCurrency,\r\n        infoAboutCurrency,\r\n        hiddenCoinsList,\r\n      })\r\n      if (activeCurrency.toUpperCase() !== activeFiat) {\r\n        actions.user.pullActiveCurrency(currency.toLowerCase())\r\n      }\r\n    }\r\n\r\n    if (this.props.history.location.pathname.toLowerCase() === receiveUrl.toLowerCase()) {\r\n      actions.modals.open(constants.modals.ReceiveModal, {\r\n        currency: (tokenKey || currency),\r\n        address,\r\n        standard,\r\n      })\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    let {\r\n      txHistory: prevTransactions,\r\n      match: {\r\n        params: { address: prevAddress = null },\r\n      },\r\n    } = prevProps\r\n\r\n    let {\r\n      txHistory,\r\n      match: {\r\n        params: { address = null, ticker = null, action = null },\r\n      },\r\n      activeCurrency,\r\n      activeFiat,\r\n    } = this.props\r\n\r\n    const { currency } = this.state\r\n\r\n    if (JSON.stringify(txHistory) !== JSON.stringify(prevTransactions)) {\r\n      this.updateTransactions()\r\n    }\r\n\r\n    if (\r\n      prevProps.location.pathname !== this.props.location.pathname ||\r\n      prevProps.isBalanceFetching !== this.props.isBalanceFetching\r\n    ) {\r\n      const items = actions.core.getWallets({})\r\n      const walletAddress = address\r\n      \r\n      let itemCurrency = this.filterCurrencies({\r\n        items,\r\n        ticker,\r\n        walletAddress,\r\n      })\r\n\r\n      if (!itemCurrency.length) {\r\n        itemCurrency = items.filter((item) => {\r\n          if (\r\n            (item.balance >= 0)\r\n            && (\r\n              (item.currency.toLowerCase() === ticker.toLowerCase())\r\n              || (item.tokenKey && item.tokenKey.toLowerCase() === ticker.toLowerCase())\r\n            )\r\n          ) return true\r\n        })\r\n      }\r\n\r\n      if (itemCurrency.length) {\r\n        itemCurrency = itemCurrency[0]\r\n\r\n        const {\r\n          currency,\r\n          contractAddress,\r\n          decimals,\r\n          balance,\r\n          infoAboutCurrency,\r\n          tokenKey,\r\n          standard,\r\n        } = itemCurrency\r\n        const {\r\n          txItems: oldTxItems,\r\n        } = this.state\r\n\r\n        const hasCachedData = lsDataCache.get(`TxHistory_${getCurrencyKey(currency, true).toLowerCase()}_${address}`)\r\n\r\n        if (!this.mounted) return\r\n        const token = erc20Like.isToken({ name: ticker })\r\n\r\n        this.setState(\r\n          {\r\n            itemCurrency,\r\n            address,\r\n            decimals,\r\n            currency,\r\n            balance,\r\n            txItems: (hasCachedData || oldTxItems),\r\n            contractAddress,\r\n            isLoading: false,\r\n            infoAboutCurrency,\r\n            filterValue: address || '',\r\n            token,\r\n          },\r\n          () => {\r\n            if (prevProps.location.pathname !== this.props.location.pathname) {\r\n              if (activeCurrency.toUpperCase() !== activeFiat) {\r\n                actions.user.pullActiveCurrency(currency.toLowerCase())\r\n              }\r\n              if (token && standard) {\r\n                actions[standard].getBalance(currency.toLowerCase(), address).then((balance) => {\r\n                  this.setState({\r\n                    balance,\r\n                  })\r\n                })\r\n              } else {\r\n                const actionName = currency.toLowerCase()\r\n\r\n                address && actions[getCurrencyKey(actionName, false)]\r\n                  .fetchBalance(address)\r\n                  .then((balance) => this.setState({ balance }))\r\n              }\r\n\r\n              if (action !== 'send') {\r\n                actions.history.setTransactions(address, ticker.toLowerCase())\r\n              }\r\n\r\n              if (!address) {\r\n                actions.core.getSwapHistory()\r\n              }\r\n            }\r\n            const targetCurrency = getCurrencyKey(currency.toLowerCase(), true)\r\n            const firstUrlPart = tokenKey ? `/token/${tokenKey}` : `/${targetCurrency}`\r\n            const withdrawUrl = `${firstUrlPart}/${address}/send`\r\n            const receiveUrl = `${firstUrlPart}/${address}/receive`\r\n            const currentUrl = this.props.location.pathname.toLowerCase()\r\n\r\n            if (currentUrl === withdrawUrl.toLowerCase()) {\r\n              actions.modals.open(constants.modals.Withdraw, {\r\n                currency,\r\n                address,\r\n                balance,\r\n                infoAboutCurrency,\r\n                itemCurrency,\r\n              })\r\n            }\r\n\r\n            if (currentUrl === receiveUrl.toLowerCase()) {\r\n              actions.modals.open(constants.modals.ReceiveModal, {\r\n                currency: (tokenKey || currency),\r\n                address,\r\n                standard,\r\n              })\r\n            }\r\n          }\r\n        )\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.mounted = false\r\n  }\r\n\r\n  filterCurrencies = (params) => {\r\n    const { items, ticker, walletAddress } = params\r\n\r\n    const {\r\n      coin,\r\n      blockchain,\r\n    } = getCoinInfo(ticker)\r\n\r\n    return items.filter((item) => {\r\n      let {currency: currencyName} = item\r\n\r\n      switch (currencyName.toLowerCase()) {\r\n        case 'btc (multisig)':\r\n        case 'btc (sms-protected)':\r\n        case 'btc (pin-protected)':\r\n          currencyName = 'btc'\r\n      }\r\n\r\n      const blockchainOk = (blockchain && item.blockchain)\r\n        ? item.blockchain.toLowerCase() === blockchain.toLowerCase()\r\n        : ((blockchain && !item.blockchain) || (!blockchain && item.blockchain))\r\n          ? false\r\n          : true\r\n\r\n      if (\r\n        currencyName.toLowerCase() === coin.toLowerCase() &&\r\n        item.address.toLowerCase() === walletAddress.toLowerCase() &&\r\n        blockchainOk\r\n      ) {\r\n        return true\r\n      }\r\n    })\r\n  }\r\n\r\n  updateTransactions = () => {\r\n    if (!this.mounted) return\r\n\r\n    const { txHistory } = this.props\r\n    const { currency, address } = this.state\r\n\r\n    this.setState(() => ({\r\n      txItems: txHistory,\r\n    }))\r\n\r\n    lsDataCache.push({\r\n      key: `TxHistory_${getCurrencyKey(currency, true).toLowerCase()}_${address}`,\r\n      data: txHistory,\r\n      time: 3600,\r\n    })\r\n  }\r\n\r\n  handleReceive = () => {\r\n    const {\r\n      currency,\r\n      address,\r\n      itemCurrency: {\r\n        tokenKey,\r\n        standard,\r\n      },\r\n    } = this.state\r\n\r\n    actions.modals.open(constants.modals.ReceiveModal, {\r\n      currency: (tokenKey || currency),\r\n      address,\r\n      standard,\r\n    })\r\n  }\r\n\r\n  handleInvoice = () => {\r\n    const { currency, address } = this.state\r\n\r\n    actions.modals.open(constants.modals.InvoiceModal, {\r\n      currency: currency.toUpperCase(),\r\n      toAddress: address,\r\n    })\r\n  }\r\n\r\n  handleWithdraw = () => {\r\n    const {\r\n      history,\r\n      intl: { locale },\r\n    } = this.props\r\n    const { itemCurrency, currency, address } = this.state\r\n\r\n    const targetCurrency = getCurrencyKey(currency.toLowerCase(), true).toLowerCase()\r\n    const firstUrlPart = itemCurrency.tokenKey ? `/token/${itemCurrency.tokenKey}` : `/${targetCurrency}`\r\n\r\n    history.push(localisedUrl(\r\n      locale,\r\n      `${firstUrlPart}/${address}/send`\r\n    ))\r\n  }\r\n\r\n  rowRender = (row, rowIndex) => {\r\n    const {\r\n      history,\r\n      activeFiat,\r\n    } = this.props\r\n\r\n    return <Row key={rowIndex} {...row} activeFiat={activeFiat} history={history} />\r\n  }\r\n\r\n  handleFilterChange = ({ target }) => {\r\n    const { value } = target\r\n\r\n    this.setState(() => ({ filterValue: value }))\r\n  }\r\n\r\n  handleFilter = () => {\r\n    const { filterValue, txItems } = this.state\r\n    this.loading()\r\n\r\n    if (filterValue.toLowerCase() && filterValue.length) {\r\n      const newRows = txItems.filter(\r\n        ({ address }) => address && address.toLowerCase().includes(filterValue.toLowerCase())\r\n      )\r\n\r\n      this.setState(() => ({ txItems: newRows }))\r\n    } else {\r\n      this.resetFilter()\r\n    }\r\n  }\r\n\r\n  loading = () => {\r\n    this.setState(() => ({ isLoading: true }))\r\n    setTimeout(() => this.setState(() => ({ isLoading: false })), 1000)\r\n  }\r\n\r\n  resetFilter = () => {\r\n    this.loading()\r\n    const { address, currency } = this.state\r\n    this.setState(() => ({ filterValue: address }))\r\n    actions.history.setTransactions(address, currency.toLowerCase())\r\n  }\r\n\r\n  render() {\r\n    let {\r\n      swapHistory,\r\n      txHistory,\r\n      location,\r\n      match: {\r\n        params: { address = null },\r\n      },\r\n      intl,\r\n      hiddenCoinsList,\r\n      isBalanceFetching,\r\n      activeFiat,\r\n      activeCurrency,\r\n      multisigPendingCount,\r\n    } = this.props\r\n\r\n    const {\r\n      currency,\r\n      itemCurrency,\r\n      itemCurrency: {\r\n        isToken,\r\n        tokenKey,\r\n      },\r\n      balance,\r\n      infoAboutCurrency,\r\n      txItems,\r\n      filterValue,\r\n      isLoading,\r\n    } = this.state\r\n\r\n    let currencyName = currency.toLowerCase()\r\n    let currencyViewName = (isToken) ? currency.replaceAll(`*`,``).toLowerCase() : currency.toLowerCase()\r\n\r\n    switch (currencyName) {\r\n      case 'btc (multisig)':\r\n      case 'btc (sms-protected)':\r\n      case 'btc (pin-protected)':\r\n        currencyName = 'btc'\r\n    }\r\n\r\n    txHistory = txItems || txHistory\r\n\r\n    if (txHistory) {\r\n      \r\n      txHistory = txHistory.filter((tx) => {\r\n        if (tx?.type) {\r\n          return (isToken) ? (tx.tokenKey === tokenKey) : (tx.type.toLowerCase() === currencyName)\r\n        }\r\n        return false\r\n      })\r\n    }\r\n\r\n    const showSwapHistory = (address.toLowerCase() === itemCurrency.address.toLowerCase())\r\n\r\n    if (showSwapHistory)\r\n      swapHistory = Object.keys(swapHistory)\r\n      .map((key) => swapHistory[key])\r\n      .filter((swap) => swap.sellCurrency === currency || swap.buyCurrency === currency)\r\n      .reverse()\r\n\r\n    const seoPage = getSeoPage(location.pathname)\r\n\r\n    const titleSwapOnline = defineMessages({\r\n      metaTitle: {\r\n        id: 'CurrencyWalletTitle',\r\n        defaultMessage: 'Swap.Online - {fullName} ({currency}) Web Wallet with Atomic Swap.',\r\n      },\r\n    })\r\n    const titleWidgetBuild = defineMessages({\r\n      metaTitle: {\r\n        id: 'CurrencyWalletWidgetBuildTitle',\r\n        defaultMessage: '{fullName} ({currency}) Web Wallet with Atomic Swap.',\r\n      },\r\n    })\r\n    const title = isWidgetBuild ? titleWidgetBuild : titleSwapOnline\r\n\r\n    const description = defineMessages({\r\n      metaDescription: {\r\n        id: 'CurrencyWallet154',\r\n        defaultMessage:\r\n          'Atomic Swap Wallet allows you to manage and securely exchange ${fullName} (${currency}) with 0% fees. Based on Multi-Sig and Atomic Swap technologies.',\r\n      },\r\n    })\r\n\r\n    if (hiddenCoinsList.includes(currency)) {\r\n      actions.core.markCoinAsVisible(currency)\r\n    }\r\n\r\n    let currencyFiatBalance\r\n\r\n    if (infoAboutCurrency && infoAboutCurrency.price_fiat) {\r\n      currencyFiatBalance =\r\n        new BigNumber(balance).dp(6, BigNumber.ROUND_FLOOR).toString() as any * infoAboutCurrency.price_fiat as any\r\n    } else {\r\n      currencyFiatBalance = 0\r\n    }\r\n\r\n    return (\r\n      <div styleName=\"root\">\r\n        <PageSeo\r\n          location={location}\r\n          defaultTitle={intl.formatMessage(title.metaTitle, {\r\n            fullName: currency,\r\n            currency,\r\n          })}\r\n          defaultDescription={intl.formatMessage(description.metaDescription, {\r\n            fullName: currency,\r\n            currency,\r\n          })}\r\n        />\r\n\r\n        <DashboardLayout\r\n          page=\"history\"\r\n          BalanceForm={\r\n            <BalanceForm\r\n              type=\"currencyWallet\"\r\n              activeFiat={activeFiat}\r\n              currencyBalance={balance}\r\n              fiatBalance={currencyFiatBalance}\r\n              activeCurrency={activeCurrency}\r\n              isFetching={isBalanceFetching}\r\n              handleReceive={this.handleReceive}\r\n              handleWithdraw={this.handleWithdraw}\r\n              handleInvoice={this.handleInvoice}\r\n              showButtons={actions.user.isOwner(\r\n                address,\r\n                itemCurrency.tokenKey || currencyName\r\n              )}\r\n              currency={currency.toLowerCase()}\r\n              currencyView={currencyViewName}\r\n              singleWallet={true}\r\n              multisigPendingCount={multisigPendingCount}\r\n            />\r\n          }\r\n        >\r\n          <div styleName=\"currencyWalletActivity\">\r\n            <FilterForm\r\n              filterValue={filterValue}\r\n              onSubmit={this.handleFilter}\r\n              onChange={this.handleFilterChange}\r\n              resetFilter={this.resetFilter}\r\n            />\r\n            {txHistory &&\r\n              !isLoading &&\r\n              (txHistory.length > 0 ? (\r\n                // TODO: use the infinite list component or smth else\r\n                // if we have lots of tx with the Table then it \r\n                // load long time and display all transaction\r\n                <Table rows={txHistory} styleName=\"currencyHistory\" rowRender={this.rowRender} />\r\n              ) : (\r\n                  <div styleName=\"historyContent\">\r\n                    <ContentLoader rideSideContent empty nonHeader inner />\r\n                  </div>\r\n                ))}\r\n            {(!txHistory || isLoading) && (\r\n              <div styleName=\"historyContent\">\r\n                <ContentLoader rideSideContent nonHeader />\r\n              </div>\r\n            )}\r\n          </div>\r\n          {showSwapHistory && (\r\n            <>\r\n              {!actions.btcmultisig.isBTCMSUserAddress(`${address}`) &&\r\n                (swapHistory.filter((item) => item.step >= 1).length > 0 ? (\r\n                    <SwapsHistory orders={swapHistory.filter((item) => item.step >= 4)} />\r\n                  ) : (\r\n                    ''\r\n                  )\r\n                )\r\n              }\r\n            </>\r\n          )}\r\n        </DashboardLayout>\r\n        <Fragment>{seoPage && seoPage.footer && <div>{seoPage.footer}</div>}</Fragment>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(CurrencyWallet)\r\n","import React, { Component } from 'react'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport helpers from 'helpers'\r\nimport { getFullOrigin } from 'helpers/links'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport ShareButton from 'components/controls/ShareButton/ShareButton'\r\nimport { regularIcons } from 'images'\r\nimport actions from 'redux/actions'\r\nimport { BigNumber } from 'bignumber.js'\r\nimport Skeleton from 'react-loading-skeleton'\r\nimport CommentRow from 'components/Comment/Comment'\r\n\r\nimport animateFetching from 'components/loaders/ContentLoader/ElementLoading.scss'\r\nimport styles from './styles.scss'\r\nimport 'react-loading-skeleton/dist/skeleton.css'\r\n\r\n@cssModules({\r\n  ...styles,\r\n  ...animateFetching,\r\n}, { allowMultiple: true })\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nclass TxInfo extends Component<any, any> {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const {\r\n      currency: sourceCurrency,\r\n      txRaw,\r\n      txHash,\r\n      error,\r\n    } = props\r\n\r\n    let linkBlockChain = '#'\r\n    let linkShare = '#'\r\n    let tx = ''\r\n\r\n    if (!error) {\r\n      if (txRaw) {\r\n        const txInfo = helpers.transactions.getInfo(sourceCurrency.toLowerCase(), txRaw)\r\n\r\n        tx = txInfo.tx\r\n        linkBlockChain = txInfo.link\r\n      }\r\n\r\n      if (txHash) {\r\n        tx = txHash\r\n        linkShare = helpers.transactions.getTxRouter(sourceCurrency.toLowerCase(), txHash)\r\n        linkBlockChain = helpers.transactions.getLink(sourceCurrency.toLowerCase(), txHash)\r\n      }\r\n    }\r\n\r\n    // delete tokens base currency prefix\r\n    const currency = sourceCurrency.replace(/^\\{[a-z1-2_]+\\}/, '')\r\n\r\n    this.state = {\r\n      currency,\r\n      linkBlockChain,\r\n      linkShare,\r\n      tx,\r\n    }\r\n  }\r\n\r\n  updateComment = (value) => {\r\n    // eslint-disable-next-line react/no-access-state-in-setstate\r\n    this.setState({ state: this.state })\r\n  }\r\n\r\n  getShortInfoHolder = (finalAmount) => {\r\n    const {\r\n      isFetching,\r\n      userAddress,\r\n      sender: fromAddress,\r\n      error,\r\n    } = this.props\r\n\r\n    let {\r\n      toAddress,\r\n    } = this.props\r\n\r\n    const {\r\n      currency,\r\n    } = this.state\r\n\r\n    if (isFetching) return <Skeleton count={2} />\r\n    if (error)      return <FormattedMessage id=\"InfoPay_2_Error\" defaultMessage=\"Error loading data\" />\r\n\r\n    // eslint-disable-next-line prefer-destructuring\r\n    if (Array.isArray(toAddress)) toAddress = toAddress[0]\r\n\r\n    const amountText = (\r\n      <strong id=\"txAmout\">\r\n        {' '}\r\n        {finalAmount}\r\n        {'  '}\r\n        {currency.toUpperCase()}\r\n        {' '}\r\n      </strong>\r\n    )\r\n    const toAddressText = <strong id=\"txToAddress\">{toAddress}</strong>\r\n    const fromAddressText = <strong id=\"txfromAddress\">{fromAddress}</strong>\r\n\r\n    if (fromAddress === toAddress) {\r\n      return (\r\n        <FormattedMessage\r\n          id=\"InfoPay_2_Self\"\r\n          defaultMessage=\"{amount} successfully self transfer with {br}{address}\"\r\n          values={{\r\n            amount: amountText,\r\n            br: <br />,\r\n            address: toAddressText,\r\n          }}\r\n        />\r\n      )\r\n    }\r\n\r\n    if (userAddress?.toLowerCase() === fromAddress?.toLowerCase()) {\r\n      return (\r\n        <FormattedMessage\r\n          id=\"InfoPay_2_To\"\r\n          defaultMessage=\"{amount} successfully transferred to {br}{toAddress}\"\r\n          values={{\r\n            amount: amountText,\r\n            br: <br />,\r\n            toAddress: toAddressText,\r\n          }}\r\n        />\r\n      )\r\n    }\r\n\r\n    if (userAddress?.toLowerCase() === toAddress?.toLowerCase()) {\r\n      return (\r\n        <FormattedMessage\r\n          id=\"InfoPay_2_From\"\r\n          defaultMessage=\"{amount} successfully received from {br}{fromAddress}\"\r\n          values={{\r\n            amount: amountText,\r\n            br: <br />,\r\n            fromAddress: fromAddressText,\r\n          }}\r\n        />\r\n      )\r\n    }\r\n\r\n    return (\r\n      <FormattedMessage\r\n        id=\"InfoPay_2_External\"\r\n        defaultMessage=\"{amount} successfully transferred from {br}{fromAddress} to {toAddress}\"\r\n        values={{\r\n          amount: amountText,\r\n          br: <br />,\r\n          fromAddress: fromAddressText,\r\n          toAddress: toAddressText,\r\n        }}\r\n      />\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      txId,\r\n      isFetching,\r\n      amount,\r\n      toAddress,\r\n      oldBalance,\r\n      confirmed,\r\n      minerFee,\r\n      minerFeeCurrency,\r\n      adminFee,\r\n      error,\r\n      finalBalances,\r\n    } = this.props\r\n\r\n    const {\r\n      currency,\r\n      linkBlockChain,\r\n      linkShare,\r\n      tx,\r\n    } = this.state\r\n\r\n    let finalAmount = amount\r\n    let finalAdminFee = adminFee\r\n\r\n    let fromFinal = 0\r\n    let toFinal = 0\r\n\r\n    let fromIsOur = false\r\n    let toIsOur = false\r\n    if (finalBalances) {\r\n      finalAmount = finalBalances.amount\r\n      finalAdminFee = finalBalances.adminFee\r\n      fromFinal = new BigNumber(finalBalances.fromBalance).minus(finalAmount).minus(finalAdminFee).toNumber()\r\n      toFinal = new BigNumber(finalBalances.toBalance).plus(finalAmount).toNumber()\r\n      fromIsOur = actions.user.isOwner(finalBalances.from, finalBalances.currency)\r\n      toIsOur = actions.user.isOwner(finalBalances.to, finalBalances.currency)\r\n    }\r\n\r\n    const comment = actions.comments.getComment(txId)\r\n\r\n    return (\r\n      <div>\r\n        <div styleName=\"blockCenter\">\r\n          <div>\r\n            <img styleName=\"finishImg\" src={regularIcons.OK} alt=\"finish\" />\r\n          </div>\r\n\r\n          <div className=\"p-3\">\r\n            <div styleName=\"shortInfoHolder\">\r\n              {this.getShortInfoHolder(finalAmount)}\r\n            </div>\r\n          </div>\r\n\r\n          <table styleName=\"blockCenter__table\" className=\"table table-borderless\">\r\n            <tbody>\r\n              <tr>\r\n                <td styleName=\"header\">\r\n                  <FormattedMessage id=\"InfoPay_3\" defaultMessage=\"Transaction ID\" />\r\n                </td>\r\n                <td>\r\n                  <a href={linkBlockChain} target=\"_blank\" styleName=\"txLink\" rel=\"noreferrer\">\r\n                    {`${tx.slice(0, 6)}...${tx.slice(-6)}`}\r\n                  </a>\r\n                </td>\r\n              </tr>\r\n              {isFetching ? (\r\n                <>\r\n                  <tr>\r\n                    <td colSpan={2}>\r\n                      <Skeleton />\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td colSpan={2}>\r\n                      <Skeleton />\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td colSpan={2}>\r\n                      <Skeleton />\r\n                    </td>\r\n                  </tr>\r\n                </>\r\n              ) : error\r\n                ? null\r\n                : (\r\n                  <>\r\n                    {(confirmed) ? (\r\n                      <tr>\r\n                        <td styleName=\"header\">\r\n                          <FormattedMessage id=\"InfoPay_StatusReadyHeader\" defaultMessage=\"Status\" />\r\n                        </td>\r\n                        <td>\r\n                          <strong>\r\n                            <FormattedMessage id=\"InfoPay_Confirmed\" defaultMessage=\"Confirmed\" />\r\n                          </strong>\r\n                        </td>\r\n                      </tr>\r\n                    ) : (\r\n                      <tr>\r\n                        <td styleName=\"header\">\r\n                          <FormattedMessage id=\"InfoPay_4\" defaultMessage=\"Est. time to confirmation\" />\r\n                        </td>\r\n                        <td>\r\n                          <FormattedMessage id=\"InfoPay_NotConfirmed\" defaultMessage=\"~10 mins\" />\r\n                        </td>\r\n                      </tr>\r\n                    )}\r\n                    {(minerFee > 0) && (\r\n                      <tr>\r\n                        <td styleName=\"header\">\r\n                          <FormattedMessage id=\"InfoPay_MinerFee\" defaultMessage=\"Miner fee\" />\r\n                        </td>\r\n                        <td>\r\n                          <strong>\r\n                            {minerFee}\r\n                            {' '}\r\n                            {minerFeeCurrency}\r\n                          </strong>\r\n                        </td>\r\n                      </tr>\r\n                    )}\r\n                    {(finalAdminFee > 0) && (\r\n                      <tr>\r\n                        <td styleName=\"header\">\r\n                          <FormattedMessage id=\"InfoPay_AdminFee\" defaultMessage=\"Service fee\" />\r\n                        </td>\r\n                        <td>\r\n                          <strong>\r\n                            {finalAdminFee}\r\n                            {' '}\r\n                            {currency.toUpperCase()}\r\n                          </strong>\r\n                        </td>\r\n                      </tr>\r\n                    )}\r\n                    {(finalBalances) ? (\r\n                      <>\r\n                        <tr>\r\n                          <td styleName=\"header\" colSpan={2}>\r\n                            <FormattedMessage id=\"InfoPay_FinalBalances\" defaultMessage=\"Final balances\" />\r\n                          </td>\r\n                        </tr>\r\n                        <tr>\r\n                          <td styleName=\"header\" colSpan={2}>\r\n                            {finalBalances.from}\r\n                            {(fromIsOur) && (\r\n                              <>\r\n                                {` `}\r\n                                <FormattedMessage id=\"InfoPay_IsOurAddress\" defaultMessage=\"(Your)\" />\r\n                              </>\r\n                            )}\r\n                          </td>\r\n                        </tr>\r\n                        <tr>\r\n                          <td />\r\n                          <td>\r\n                            <strong>\r\n                              {fromFinal}\r\n                              {' '}\r\n                              {currency.toUpperCase()}\r\n                            </strong>\r\n                          </td>\r\n                        </tr>\r\n                        <tr>\r\n                          <td styleName=\"header\" colSpan={2}>\r\n                            {finalBalances.to}\r\n                            {(toIsOur) && (\r\n                              <>\r\n                                {` `}\r\n                                <FormattedMessage id=\"InfoPay_IsOurAddress\" defaultMessage=\"(Your)\" />\r\n                              </>\r\n                            )}\r\n                          </td>\r\n                        </tr>\r\n                        <tr>\r\n                          <td />\r\n                          <td>\r\n                            <strong>\r\n                              {toFinal}\r\n                              {' '}\r\n                              {currency.toUpperCase()}\r\n                            </strong>\r\n                          </td>\r\n                        </tr>\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        {(oldBalance > 0) && (\r\n                          <tr>\r\n                            <td styleName=\"header\">\r\n                              <FormattedMessage id=\"InfoPay_FinalBalance\" defaultMessage=\"Final balance\" />\r\n                            </td>\r\n                            <td>\r\n                              <strong>\r\n                                {oldBalance}\r\n                                {' '}\r\n                                {currency.toUpperCase()}\r\n                              </strong>\r\n                            </td>\r\n                          </tr>\r\n                        )}\r\n                      </>\r\n                    )}\r\n                  </>\r\n                )}\r\n              {comment && (\r\n                <tr>\r\n                  <td styleName=\"header\">\r\n                    <FormattedMessage id=\"InfoPay_Comment\" defaultMessage=\"Comment\" />\r\n                  </td>\r\n                  <td>\r\n                    <strong>\r\n                      {comment}\r\n                    </strong>\r\n                  </td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div styleName=\"blockCenter buttonHolder\">\r\n          <ShareButton\r\n            halfWidth\r\n            minWidth=\"200px\"\r\n            link={`${getFullOrigin()}${linkShare}`}\r\n            title={`${amount.toString()} ${currency.toString()} ${<FormattedMessage id=\"InfoPay_2\" defaultMessage=\"transferred to\" />} ${toAddress}`}\r\n          />\r\n          <CommentRow\r\n            label=\"\"\r\n            canEdit\r\n            updateComment={(v) => this.updateComment(v)}\r\n            commentKey={txId}\r\n          />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default TxInfo\r\n","// extracted by mini-css-extract-plugin\nexport default {\"blockCenter\":\"VRZCVNQ0J5Yh+OtHg+oknA==\",\"finishImg\":\"y0a5wz-lBJANLjmZtGBdqA==\",\"txLink\":\"uLYne5pYt4p1P1d5Cb3sIQ==\",\"shortInfoHolder\":\"quvq2SQvKXzKUDHejufRMA==\",\"buttonHolder\":\"d8CJN-ES7HofXR5CS-dV5A==\",\"blockCenter__table\":\"S49wYuee1VB7MQUmV3o2GA==\",\"header\":\"jjEKSK7HJIbWZScqhXNQ1w==\",\"data\":\"mg1LtX-lKaGHP2NbbhoW+A==\"};","import { withRouter } from 'react-router-dom'\r\nimport { Component } from 'react'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport actions from 'redux/actions'\r\nimport erc20Like from 'common/erc20Like'\r\nimport {\r\n  links,\r\n  localStorage,\r\n  getCurrencyKey,\r\n  lsDataCache,\r\n} from 'helpers'\r\n\r\nimport TxInfo from './TxInfo'\r\nimport { ModalBox } from 'components/modal'\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './styles.scss'\r\n\r\nimport { COIN_DATA } from 'swap.app/constants/COINS'\r\n\r\n@cssModules({\r\n  ...styles,\r\n}, { allowMultiple: true })\r\nclass Transaction extends Component<any, any> {\r\n  unmounted = false\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const {\r\n      match: {\r\n        params: {\r\n          ticker = null,\r\n          tx: txHash = null,\r\n        },\r\n      } = null,\r\n    } = props\r\n\r\n    const currency = getCurrencyKey(ticker, true)\r\n    const infoTx = lsDataCache.get(`TxInfo_${currency.toLowerCase()}_${txHash}`)\r\n\r\n    let rest = {}\r\n    if (infoTx) {\r\n      const {\r\n        amount,\r\n        afterBalance: oldBalance,\r\n        confirmed,\r\n        senderAddress: sender,\r\n        receiverAddress: toAddress,\r\n        confirmations,\r\n        minerFee,\r\n        minerFeeCurrency,\r\n        adminFee,\r\n      } = infoTx\r\n\r\n      rest = {\r\n        amount,\r\n        confirmed,\r\n        sender,\r\n        toAddress,\r\n        oldBalance,\r\n        confirmations,\r\n        minerFee,\r\n        minerFeeCurrency,\r\n        adminFee,\r\n      }\r\n    }\r\n\r\n    const hiddenCoinsList = localStorage.getItem('hiddenCoinsList')\r\n\r\n    const userWallet = actions.core\r\n      .getWallets({})\r\n      .filter(({ currency: walletCurrency, tokenKey }) =>\r\n        !hiddenCoinsList?.includes(walletCurrency) &&\r\n        (tokenKey?.toLowerCase() || walletCurrency.toLowerCase()) === currency.toLowerCase()\r\n      )[0]\r\n\r\n    this.state = {\r\n      currency,\r\n      userAddress: userWallet?.address,\r\n      ticker,\r\n      txHash,\r\n      isFetching: !(infoTx),\r\n      infoTx,\r\n      amount: 0,\r\n      balance: 0,\r\n      oldBalance: 0,\r\n      confirmed: false,\r\n      sender: ``,\r\n      toAddress: ``,\r\n      confirmations: 0,\r\n      minerFee: 0,\r\n      error: null,\r\n      ...rest,\r\n    }\r\n  }\r\n\r\n  fetchTxInfo = async (currency, txHash, ticker) => {\r\n    const {\r\n      infoTx: cachedTxInfo,\r\n    } = this.state\r\n\r\n    let infoTx\r\n    let error = null\r\n\r\n    try {\r\n      if (erc20Like.isToken({ name: currency })) {\r\n        const tokenStandard = COIN_DATA[currency.toUpperCase()].standard.toLowerCase()\r\n        infoTx = await actions[tokenStandard].fetchTokenTxInfo(ticker, txHash)\r\n      } else {\r\n        infoTx = await actions[currency].fetchTxInfo(txHash, 5 * 60 * 1000)\r\n      }\r\n    } catch (err) {\r\n      console.error(err)\r\n      error = err\r\n    }\r\n\r\n    if (!infoTx || error) {\r\n      // Fail parse\r\n      this.setState({\r\n        isFetching: false,\r\n        error: !(cachedTxInfo),\r\n      })\r\n      return\r\n    }\r\n\r\n    if (!this.unmounted) {\r\n      lsDataCache.push({\r\n        key: `TxInfo_${currency.toLowerCase()}_${txHash}`,\r\n        time: 3600,\r\n        data: infoTx,\r\n      })\r\n\r\n      const {\r\n        amount,\r\n        afterBalance: oldBalance,\r\n        confirmed,\r\n        senderAddress: sender,\r\n        receiverAddress: toAddress,\r\n        confirmations,\r\n        minerFee,\r\n        minerFeeCurrency,\r\n        adminFee,\r\n      } = infoTx\r\n\r\n      this.setState({\r\n        isFetching: false,\r\n        infoTx,\r\n        amount,\r\n        balance:0,\r\n        oldBalance,\r\n        confirmed,\r\n        sender,\r\n        toAddress,\r\n        confirmations,\r\n        minerFee,\r\n        minerFeeCurrency,\r\n        adminFee,\r\n      })\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const {\r\n      ticker,\r\n      txHash,\r\n    } = this.state\r\n\r\n    if (!txHash) {\r\n      //@ts-ignore\r\n      history.push(links.notFound)\r\n      return\r\n    }\r\n\r\n    const currency = getCurrencyKey(ticker, true)\r\n\r\n    this.fetchTxInfo(currency, txHash, ticker)\r\n\r\n    if (typeof document !== 'undefined') {\r\n      document.body.classList.add('overflowY-hidden-force')\r\n    }\r\n  }\r\n\r\n  handleClose = () => {\r\n    window.history.back()\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.unmounted = true\r\n\r\n    if (typeof document !== 'undefined') {\r\n      document.body.classList.remove('overflowY-hidden-force')\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <ModalBox\r\n        title={<FormattedMessage id=\"transacton\" defaultMessage=\"Transaction\" />}\r\n        onClose={this.handleClose}\r\n      >\r\n        <div styleName=\"holder\">\r\n          <TxInfo {...this.state} />\r\n        </div>\r\n      </ModalBox>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Transaction)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"holder\":\"BZvdx33WZPnKzEs2+orWNw==\"};","import React, { Fragment, PureComponent } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport { isMobile } from 'react-device-detect'\r\nimport { connect } from 'redaction'\r\nimport { constants } from 'helpers'\r\nimport { localisedUrl } from 'helpers/locale'\r\nimport { FormattedMessage, injectIntl } from 'react-intl'\r\nimport { withRouter } from 'react-router-dom'\r\nimport actions from 'redux/actions'\r\nimport { links } from 'helpers'\r\nimport { getFullOrigin } from 'helpers/links'\r\nimport Button from 'components/controls/Button/Button'\r\n\r\nimport moment from 'moment'\r\n\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './Btc.scss'\r\nimport SwapApp from 'swap.app'\r\nimport config from 'app-config'\r\n\r\n@connect(({ user: { btcData } }) => {\r\n  return {\r\n    data: btcData,\r\n  }\r\n})\r\n@CSSModules(styles, { allowMultiple: true })\r\nclass Btc extends PureComponent<any, any> {\r\n  timerWaitOnlineJoin: any\r\n\r\n  static propTypes = {\r\n    history: PropTypes.object,\r\n    location: PropTypes.object,\r\n    intl: PropTypes.object.isRequired,\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    console.log('Btc mulsign connected')\r\n\r\n    const mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\r\n    const mnemonicSaved = mnemonic === `-`\r\n\r\n    this.timerWaitOnlineJoin = false\r\n    this.state = {\r\n      action: 'none',\r\n      wallet: {},\r\n      walletBalance: 0,\r\n      publicKey: '',\r\n      mnemonicSaved,\r\n      addWalletEnabled: false,\r\n    }\r\n  }\r\n\r\n  async componentWillMount() {\r\n    let {\r\n      match: {\r\n        params: { action, data, peer },\r\n      },\r\n      intl: { locale },\r\n      history,\r\n      location: { pathname },\r\n      data: { privateKey },\r\n    } = this.props\r\n\r\n    if (\r\n      !action ||\r\n      ['join', 'connect', 'confirm', 'confirminvoice'].indexOf(action.toLowerCase()) === -1\r\n    ) {\r\n      history.push(localisedUrl(locale, links.notFound))\r\n      return\r\n    }\r\n\r\n    action = action.toLowerCase()\r\n\r\n    if (action === 'join' || action === 'connect') {\r\n      if (data && data.length == 66) {\r\n        const publicKey = data\r\n        const walletData = actions.btcmultisig.login_USER(privateKey, publicKey, true)\r\n\r\n        if (!walletData) {\r\n          history.push(localisedUrl(locale, links.notFound))\r\n          return\r\n        }\r\n\r\n        const balance = await actions.btcmultisig.fetchBalance(walletData.address)\r\n        const myPublicKey = this.props.data.publicKey.toString('hex')\r\n\r\n        this.setState({\r\n          action,\r\n          wallet: walletData,\r\n          walletBalance: balance,\r\n          peer,\r\n          privateKey,\r\n          publicKey,\r\n          myPublicKey,\r\n          joinLink: `${getFullOrigin()}${links.multisign}/btc/connect/${myPublicKey}`,\r\n        })\r\n        actions.pubsubRoom.onReady(() => {\r\n          this.setState({\r\n            addWalletEnabled: true,\r\n          })\r\n        })\r\n      } else {\r\n        history.push(localisedUrl(locale, links.notFound))\r\n      }\r\n    }\r\n    if (action === 'confirm' || action === 'confirminvoice') {\r\n      if (data && data.length) {\r\n        let txRaw = data\r\n        let invoice = false\r\n        if (action === 'confirminvoice') {\r\n          const dataParts = data.split('|')\r\n          if (dataParts.length === 2) {\r\n            invoice = dataParts[0]\r\n            txRaw = dataParts[1]\r\n          } else {\r\n            console.log('Bad tx raw and invoiceid data')\r\n          }\r\n        }\r\n        if (txRaw.length === 64) {\r\n          setTimeout(() => {\r\n            //@ts-ignore: strictNullChecks\r\n            actions.modals.open(constants.modals.BtcMultisignConfirmTx, {\r\n              txId: txRaw,\r\n              showCloseButton: true,\r\n              onClose: () => {\r\n                history.push(localisedUrl(locale, links.home))\r\n              },\r\n            })\r\n          }, 100)\r\n        } else {\r\n          try {\r\n            this.setState(\r\n              {\r\n                action,\r\n                txData: await actions.btcmultisig.parseRawTX(txRaw),\r\n                invoice,\r\n                txRaw: txRaw,\r\n              },\r\n              () => {\r\n                setTimeout(() => {\r\n                  //@ts-ignore: strictNullChecks\r\n                  actions.modals.open(constants.modals.BtcMultisignConfirmTx, {\r\n                    txData: txRaw,\r\n                    showCloseButton: false,\r\n                    onClose: () => {\r\n                      history.push(localisedUrl(locale, links.home))\r\n                    },\r\n                  })\r\n                }, 100)\r\n              }\r\n            )\r\n          } catch (e) {\r\n            console.log('Bad tx raw data')\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  async componentWillUnmount() {\r\n    //@ts-ignore: strictNullChecks\r\n    SwapApp.shared().services.room.unsubscribe(\r\n      'btc multisig join ready',\r\n      this.handleOnlineWalletConnect\r\n    )\r\n    clearTimeout(this.timerWaitOnlineJoin)\r\n  }\r\n\r\n  connectWallet = (action) => {\r\n    const { privateKey, publicKey } = this.state\r\n    actions.btcmultisig.addBtcMultisigKey(publicKey, true)\r\n\r\n    actions.core.markCoinAsVisible('BTC (Multisig)', true)\r\n\r\n    this.setState({\r\n      action: action === 'join' ? 'linkready' : 'ready',\r\n    })\r\n    if (action === 'join') {\r\n      //@ts-ignore: strictNullChecks\r\n      actions.modals.open(constants.modals.MultisignJoinLink, {\r\n        action: `connect`,\r\n        callback: () => {\r\n          this.handleGoToWallet()\r\n        },\r\n        showCloseButton: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleOnlineWalletConnect = async (_data) => {\r\n    console.log('btc multisig join ready', _data)\r\n    const { fromPeer, data } = _data\r\n    const { peer } = this.state\r\n    if (fromPeer === peer) {\r\n      //@ts-ignore: strictNullChecks\r\n      SwapApp.shared().services.room.unsubscribe(\r\n        'btc multisig join ready',\r\n        this.handleOnlineWalletConnect\r\n      )\r\n      clearTimeout(this.timerWaitOnlineJoin)\r\n      this.connectWallet('ready')\r\n    }\r\n  }\r\n\r\n  handleAddWallet = async () => {\r\n    const { action, myPublicKey, publicKey, peer } = this.state\r\n\r\n    //If peer is online - try connect via pubsubRoom\r\n\r\n    this.setState({\r\n      waitCreateWallet: true,\r\n    })\r\n\r\n    actions.pubsubRoom.waitPeer(\r\n      peer,\r\n      () => {\r\n        this.setState({\r\n          action: 'onlinejoin',\r\n        })\r\n        //@ts-ignore: strictNullChecks\r\n        SwapApp.shared().services.room.subscribe(\r\n          'btc multisig join ready',\r\n          this.handleOnlineWalletConnect\r\n        )\r\n        //@ts-ignore: strictNullChecks\r\n        SwapApp.shared().services.room.sendMessagePeer(peer, {\r\n          event: 'btc multisig join',\r\n          data: {\r\n            publicKey: myPublicKey,\r\n            checkKey: publicKey,\r\n          },\r\n        })\r\n        this.timerWaitOnlineJoin = setTimeout(() => {\r\n          //@ts-ignore: strictNullChecks\r\n          SwapApp.shared().services.room.unsubscribe(\r\n            'btc multisig join ready',\r\n            this.handleOnlineWalletConnect\r\n          )\r\n          this.connectWallet(action)\r\n        }, 10000)\r\n      },\r\n      () => {\r\n        this.connectWallet(action)\r\n      },\r\n      10000\r\n    )\r\n  }\r\n\r\n  handleSaveMnemonic = async () => {\r\n    //@ts-ignore: strictNullChecks\r\n    actions.modals.open(constants.modals.SaveWalletSelectMethod, {\r\n      onClose: () => {\r\n        const mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\r\n        const mnemonicSaved = mnemonic === `-`\r\n\r\n        this.setState({\r\n          mnemonicSaved,\r\n        })\r\n      },\r\n    })\r\n  }\r\n\r\n  handleGoToWallet = async () => {\r\n    const {\r\n      history,\r\n      intl: { locale },\r\n    } = this.props\r\n\r\n    const { address } = actions.user.getAuthData('btcMultisigUser')\r\n    history.push(localisedUrl(locale, `/btc/${address}`))\r\n  }\r\n\r\n  handleConfirm = async () => {\r\n    const { txRaw, invoice } = this.state\r\n    this.setState({ isConfirming: true })\r\n    //@ts-ignore\r\n    const signedTX = await actions.btcmultisig.signMultiSign(txRaw)\r\n    const txID = await actions.btcmultisig.broadcastTx(signedTX)\r\n    if (invoice) {\r\n      // @ToDo - payer address\r\n      //@ts-ignore\r\n      await actions.invoices.markInvoice(invoice, 'ready', txID)\r\n    }\r\n    this.setState({\r\n      txID,\r\n      action: 'confirmready',\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      action,\r\n\r\n      wallet,\r\n      walletBalance,\r\n      joinLink,\r\n      addWalletEnabled,\r\n      waitCreateWallet,\r\n\r\n      debugShowTXB,\r\n      debugShowInput,\r\n      debugShowOutput,\r\n\r\n      mnemonicSaved,\r\n    } = this.state\r\n\r\n    return (\r\n      <section>\r\n        {action === 'onlinejoin' && (\r\n          <Fragment>\r\n            <h1>\r\n              <FormattedMessage\r\n                id=\"BTCMS_CreateWalletTitle\"\r\n                defaultMessage=\" BTC-multisignature \"\r\n              />\r\n            </h1>\r\n            <h3>\r\n              <FormattedMessage\r\n                id=\"BTCMS_WaitOtherSide\"\r\n                defaultMessage=\"  ...\"\r\n              />\r\n            </h3>\r\n          </Fragment>\r\n        )}\r\n        {(action === 'join' || action === 'connect') && (\r\n          <Fragment>\r\n            <h1>\r\n              <FormattedMessage\r\n                id=\"BTCMS_CreateWalletTitle\"\r\n                defaultMessage=\" BTC-multisignature \"\r\n              />\r\n            </h1>\r\n\r\n            <div>\r\n              <label>\r\n                <FormattedMessage id=\"BTCMS_WalletAddress\" defaultMessage=\" :\" />\r\n              </label>\r\n              <strong>{wallet.address}</strong>\r\n            </div>\r\n            <div>\r\n              <label>\r\n                <FormattedMessage id=\"BTCMS_WalletBalance\" defaultMessage=\"\" />\r\n              </label>\r\n              <strong> {walletBalance} BTC</strong>\r\n            </div>\r\n            {mnemonicSaved ? (\r\n              <>\r\n                {addWalletEnabled ? (\r\n                  waitCreateWallet ? (\r\n                    <Button brand>\r\n                      <FormattedMessage\r\n                        id=\"BTCMS_CreateWalletWait\"\r\n                        defaultMessage=\" ...  \"\r\n                      />\r\n                    </Button>\r\n                  ) : (\r\n                    <Button brand onClick={this.handleAddWallet}>\r\n                      <FormattedMessage\r\n                        id=\"BTCMS_CreateWalletAdd\"\r\n                        defaultMessage=\"  \"\r\n                      />\r\n                    </Button>\r\n                  )\r\n                ) : (\r\n                  <Button brand>\r\n                    <FormattedMessage\r\n                      id=\"BTCMS_CreateWalletLoading\"\r\n                      defaultMessage=\"...  \"\r\n                    />\r\n                  </Button>\r\n                )}\r\n              </>\r\n            ) : (\r\n              <>\r\n                <div>\r\n                  <strong>\r\n                    <FormattedMessage\r\n                      id=\"BTCMS_YouNeedSaveMnemonic\"\r\n                      defaultMessage=\"  btc-multisig    12 \"\r\n                    />\r\n                  </strong>\r\n                </div>\r\n                <div>\r\n                  <label>\r\n                    <FormattedMessage\r\n                      id=\"BTCMS_SaveYourMnemonic\"\r\n                      defaultMessage=\"    .\"\r\n                    />\r\n                  </label>\r\n                </div>\r\n                <Button brand onClick={this.handleSaveMnemonic}>\r\n                  <FormattedMessage\r\n                    id=\"BTCMS_SaveMnemonicButton\"\r\n                    defaultMessage=\"Save secret phrase\"\r\n                  />\r\n                </Button>\r\n              </>\r\n            )}\r\n          </Fragment>\r\n        )}\r\n        {!mnemonicSaved && (\r\n          <div styleName=\"descritonText\">\r\n            <FormattedMessage\r\n              id=\"BTCMS_CreateWalletLoading_descroptio\"\r\n              defaultMessage=\"Funds sent to this wallet cannot be spent without your confirmation (please save your private 12 words passphrase)\"\r\n            />\r\n          </div>\r\n        )}\r\n        {\r\n          /*action=='confirm' ||*/ action === 'confirminvoice' && (\r\n            <Fragment>\r\n              <h1>\r\n                <FormattedMessage\r\n                  id=\"BTCMS_ConfirmTxTitle\"\r\n                  defaultMessage=\" \"\r\n                />\r\n              </h1>\r\n              <h3>\r\n                <button\r\n                  onClick={() => {\r\n                    this.setState({ debugShowInput: !debugShowInput })\r\n                  }}\r\n                >\r\n                  <FormattedMessage id=\"BTCMS_ConfirmTxInputs\" defaultMessage=\" \" />\r\n                </button>\r\n              </h3>\r\n              {debugShowInput && (\r\n                <pre>\r\n                  <code>{JSON.stringify(this.state.txData.input, null, 4)}</code>\r\n                </pre>\r\n              )}\r\n              <h3>\r\n                <button\r\n                  onClick={() => {\r\n                    this.setState({ debugShowOutput: !debugShowOutput })\r\n                  }}\r\n                >\r\n                  <FormattedMessage\r\n                    id=\"BTCMS_ConfirmTxOutputs\"\r\n                    defaultMessage=\" \"\r\n                  />\r\n                </button>\r\n              </h3>\r\n              {debugShowOutput && (\r\n                <pre>\r\n                  <code>{JSON.stringify(this.state.txData.output, null, 4)}</code>\r\n                  <code>{JSON.stringify(this.state.txData, null, 4)}</code>\r\n                </pre>\r\n              )}\r\n              <div>\r\n                <Button brand onClick={this.handleConfirm}>\r\n                  <FormattedMessage\r\n                    id=\"BTCMS_ConfirmTxSign\"\r\n                    defaultMessage=\" \"\r\n                  />\r\n                </Button>\r\n              </div>\r\n            </Fragment>\r\n          )\r\n        }\r\n        {action === 'confirmready' && (\r\n          <Fragment>\r\n            <FormattedMessage id=\"BTCMS_ConfirmTxTitle\" defaultMessage=\" \" />\r\n            <h2>\r\n              <FormattedMessage\r\n                id=\"BTCMS_ConfirmTxReady\"\r\n                defaultMessage=\"     \"\r\n              />\r\n            </h2>\r\n            <div>\r\n              <Button brand onClick={this.handleGoToWallet}>\r\n                <FormattedMessage\r\n                  id=\"BTCMS_ConfirmTxGoToWallet\"\r\n                  defaultMessage=\"  \"\r\n                />\r\n              </Button>\r\n            </div>\r\n            <pre>\r\n              <code>{JSON.stringify(this.state.txID, null, 4)}</code>\r\n            </pre>\r\n          </Fragment>\r\n        )}\r\n        {(action === 'linkready' || action === 'ready') && (\r\n          <Fragment>\r\n            <h1>\r\n              <FormattedMessage\r\n                id=\"BTCMS_CreateWalletTitle\"\r\n                defaultMessage=\" BTC-multisignature \"\r\n              />\r\n            </h1>\r\n            {action === 'linkready' && (\r\n              <h2>\r\n                <FormattedMessage\r\n                  id=\"BTCMS_CreateWalletLinkReady\"\r\n                  defaultMessage=\" .       \"\r\n                />\r\n              </h2>\r\n            )}\r\n            {action === 'ready' && (\r\n              <h2>\r\n                <FormattedMessage id=\"BTCMS_CreateWalletReady\" defaultMessage=\" \" />\r\n              </h2>\r\n            )}\r\n            {action === 'linkready' && <span>{joinLink}</span>}\r\n            <div>\r\n              <Button brand onClick={this.handleGoToWallet}>\r\n                <FormattedMessage\r\n                  id=\"BTCMS_CreateWalletReadyButton\"\r\n                  defaultMessage=\".  \"\r\n                />\r\n              </Button>\r\n            </div>\r\n          </Fragment>\r\n        )}\r\n      </section>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(Btc)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"descritonText\":\"iOANO7200-G4kn9BoVsH3Q==\"};","import React, { Component, Fragment } from 'react'\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './Expandable.scss'\r\n\r\ninterface IExpandableProps {\r\n  title: string | JSX.Element,\r\n  content: string | JSX.Element,\r\n  onExpand?: () => void\r\n}\r\n\r\ninterface IExpandableState {\r\n  isOpened: boolean\r\n}\r\n\r\n@cssModules(styles, { allowMultiple: true })\r\nexport default class Expandable extends Component<IExpandableProps, IExpandableState> {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      isOpened: false,\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      title,\r\n      content,\r\n      onExpand\r\n    } = this.props\r\n\r\n    const { isOpened } = this.state\r\n\r\n    return (\r\n      <details onClick={isOpened ?\r\n        () => {\r\n          this.setState({ isOpened: false })\r\n        }\r\n        :\r\n        () => {\r\n          this.setState({ isOpened: true })\r\n          onExpand && onExpand()\r\n         }\r\n      }>\r\n        <summary>{title}</summary>\r\n        {content}\r\n      </details>\r\n    )\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {};","import React from 'react'\r\nimport cssModules from 'react-css-modules'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport styles from './FAQ.scss'\r\nimport { feedback, links } from 'helpers'\r\nimport Expandable from 'components/ui/Expandable/Expandable'\r\n\r\nimport config from 'helpers/externalConfig'\r\n\r\n@cssModules(styles, { allowMultiple: true })\r\nclass FAQ extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div styleName='mm-faq-page'>\r\n        <section>\r\n          <h2 styleName=\"section-title\">\r\n            <FormattedMessage\r\n              id=\"MainFAQHeader\"\r\n              defaultMessage=\"FAQ\"\r\n            />\r\n          </h2>\r\n          <Expandable\r\n            title={\r\n              <FormattedMessage\r\n                id=\"MM_FAQ_ItemTitle3\"\r\n                defaultMessage=\"How much will I earn?\"\r\n              />\r\n            }\r\n            content={\r\n              <div>\r\n                <FormattedMessage\r\n                  id=\"MM_FAQ_HowMuchEarn\"\r\n                  defaultMessage=\"We declare from 10% per year (APY). If the number of exchanges is not enough we will motivate users to do exchanges using bounties.\"\r\n                />\r\n              </div>\r\n            }\r\n            onExpand={() => { feedback.marketmaking.faqOpened('How much will I earn?') }}\r\n          />\r\n          <Expandable\r\n            title={\r\n              <FormattedMessage\r\n                id=\"MM_FAQ_ItemTitle1\"\r\n                defaultMessage=\"Why does it work?\"\r\n              />\r\n            }\r\n            content={\r\n              <FormattedMessage\r\n                id=\"MM_FAQ_ItemContent1\"\r\n                defaultMessage=\"A market maker earns on the difference in exchange rates when servicing the purchase and sale (spread)\"\r\n              />\r\n            }\r\n            onExpand={() => { feedback.marketmaking.faqOpened('Why it works?') }}\r\n          />\r\n          <Expandable\r\n            title={\r\n              <FormattedMessage\r\n                id=\"MM_FAQ_Safety\"\r\n                defaultMessage=\"Is it safe? Could the balance decrease?\"\r\n              />\r\n            }\r\n            content={\r\n              <>\r\n                <div>\r\n                  <FormattedMessage\r\n                    id=\"MM_FAQ_TotalSum\"\r\n                    defaultMessage=\"- At any given time, the sum of BTC and {token} balances will be greater than before.\"\r\n                    values={{\r\n                      token: config.binance ? 'BTCB' : 'WBTC'\r\n                    }}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <FormattedMessage\r\n                    id=\"MM_FAQ_FundAccess\"\r\n                    defaultMessage=\"- Keys to your funds are only with you, we do not have access to your funds\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <FormattedMessage\r\n                    id=\"MM_FAQ_HighRisk\"\r\n                    defaultMessage=\"- Any cryptocurrency operation is high risk.\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <FormattedMessage\r\n                    id=\"MM_FAQ_Audit\"\r\n                    defaultMessage=\"- The app passed audit from {link}.\"\r\n                    values={{\r\n                      link: <a href={links.swapAudit} target=\"_blank\">dsec</a>\r\n                    }}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <FormattedMessage\r\n                    id=\"MM_FAQ_NotStore\"\r\n                    defaultMessage=\"- Do not store large amounts or borrowed funds.\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  {'- '}\r\n                  <a href=\"https://github.com/swaponline/MultiCurrencyWallet/blob/master/docs/RISKS.md\" target=\"_blank\">\r\n                    <FormattedMessage\r\n                      id=\"MM_FAQ_ItemBody2-5\"\r\n                      defaultMessage=\"Risk Notification\"\r\n                    />\r\n                  </a>\r\n                </div>\r\n              </>\r\n            }\r\n            onExpand={() => { feedback.marketmaking.faqOpened('Is it safe?') }}\r\n          />\r\n          <Expandable\r\n            title={\r\n              <FormattedMessage\r\n                id=\"MM_FAQ_ItemTitle7\"\r\n                defaultMessage=\"Why do I need {token}? I am only interested in earning BTC.\"\r\n                values={{\r\n                  token: config.binance ? 'BTCB' : 'WBTC',\r\n                }}\r\n              />\r\n            }\r\n            content={\r\n              <>\r\n                <div>\r\n                  <FormattedMessage\r\n                    id=\"MM_FAQ_ItemContent7-1\"\r\n                    defaultMessage=\"You can replenish only with Bitcoin. But inevitably, at some times, your BTC balance may decrease and {token} may increase, and vice versa.\"\r\n                    values={{\r\n                      token: config.binance ? 'BTCB' : 'WBTC',\r\n                    }}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <FormattedMessage\r\n                    id=\"MM_FAQ_ItemContent7-2\"\r\n                    defaultMessage=\"At any given time, the sum of these balances will be greater than before.\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <FormattedMessage\r\n                    id=\"MM_FAQ_ItemContent7-3\"\r\n                    defaultMessage=\"If you want to withdraw BTC, but some of them are in {token}, then you will have to change {token} yourself, for example, through Binance exchange.\"\r\n                    values={{\r\n                      token: config.binance ? 'BTCB' : 'WBTC',\r\n                    }}\r\n                  />\r\n                </div>\r\n              </>\r\n            }\r\n            onExpand={() => { feedback.marketmaking.faqOpened('What is the minimum balance needed to get started?') }}\r\n          />\r\n          <Expandable\r\n            title={\r\n              <FormattedMessage\r\n                id=\"MM_FAQ_ItemTitle8\"\r\n                defaultMessage=\"Why don't users exchange themselves through Binance exchange?\"\r\n              />\r\n            }\r\n            content={\r\n              <FormattedMessage\r\n                id=\"MM_FAQ_ItemContent8\"\r\n                defaultMessage=\"Our clients love and support decentralization. Our exchange works through smart contracts and we will not be able to freeze the client's funds for more than 3 hours.\"\r\n              />\r\n            }\r\n            onExpand={() => { feedback.marketmaking.faqOpened('What is the minimum balance needed to get started?') }}\r\n          />\r\n          <Expandable\r\n            title={\r\n              <FormattedMessage\r\n                id=\"MM_FAQ_ItemTitle4\"\r\n                defaultMessage=\"What is the minimum balance needed to get started?\"\r\n              />\r\n            }\r\n            content={\r\n              <FormattedMessage\r\n                id=\"MM_FAQ_ItemContent4\"\r\n                defaultMessage=\"(in development)\"\r\n              />\r\n            }\r\n            onExpand={() => { feedback.marketmaking.faqOpened('What is the minimum balance needed to get started?') }}\r\n          />\r\n          <Expandable\r\n            title={\r\n              <FormattedMessage\r\n                id=\"MM_FAQ_ItemTitle5\"\r\n                defaultMessage=\"What is the minimum period of market making?\"\r\n              />\r\n            }\r\n            content={\r\n              <FormattedMessage\r\n                id=\"MM_FAQ_ItemContent5\"\r\n                defaultMessage=\"There is no minimum term, you can withdraw funds at any time.\"\r\n              />\r\n            }\r\n            onExpand={() => { feedback.marketmaking.faqOpened('What is the minimum period of marketmaking?') }}\r\n          />\r\n          <Expandable\r\n            title={\r\n              <FormattedMessage\r\n                id=\"MM_FAQ_ItemTitle6\"\r\n                defaultMessage=\"How to increase earnings?\"\r\n              />\r\n            }\r\n            content={\r\n              <FormattedMessage\r\n                id=\"MM_FAQ_ItemContent6\"\r\n                defaultMessage=\"Tell the communities where you are a member about the possibility of swap.\"\r\n              />\r\n            }\r\n            onExpand={() => { feedback.marketmaking.faqOpened('How to increase earnings?') }}\r\n          />\r\n          <Expandable\r\n            title={\r\n              <FormattedMessage\r\n                id=\"MM_FAQ_ImpermanentLoss\"\r\n                defaultMessage=\"What Impermanent Loss expected?\"\r\n              />\r\n            }\r\n            content={\r\n              <FormattedMessage\r\n                id=\"MM_FAQ_ImpermanentLossContent\"\r\n                defaultMessage=\"At any given time, the sum of these balances will be greater than before. If you want to withdraw BTC, but some of them are in {token}, then you will have to change {token} yourself, for example, through Binance exchange.\"\r\n                values={{\r\n                  token: config.binance ? 'BTCB' : 'WBTC',\r\n                }}\r\n              />\r\n            }\r\n            onExpand={() => { feedback.marketmaking.faqOpened('What Impermanent Loss expected?') }}\r\n          />\r\n        </section>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default FAQ","// extracted by mini-css-extract-plugin\nexport default {\"mm-faq-page\":\"_7AV2Xv8jxw86jaaAp5jruw==\",\"section-title\":\"Jh+v0Iszh8yvXIk8NCJVuw==\"};","export default __webpack_public_path__ + \"images/extensionPromoLight_490766.png\";","export default __webpack_public_path__ + \"images/extensionPromoDark_7abbf7.png\";","import React from 'react'\r\nimport cssModules from 'react-css-modules'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport { Link } from 'react-router-dom'\r\nimport config from 'app-config'\r\n\r\nimport styles from './MarketmakerPromo.scss'\r\nimport { feedback, links, constants } from 'helpers'\r\nimport actions from 'redux/actions'\r\nimport Button from 'components/controls/Button/Button'\r\nimport Expandable from 'components/ui/Expandable/Expandable'\r\nimport FAQ from './FAQ'\r\nimport { routing } from 'helpers'\r\n\r\nimport extensionPromoLight from './images/extensionPromoLight.png'\r\nimport extensionPromoDark from './images/extensionPromoDark.png'\r\n\r\nconst isDark = !!localStorage.getItem(constants.localStorage.isDark)\r\n\r\ntype ComponentState = {\r\n  userWallets: IUniversalObj[]\r\n  userTokens: string[] | []\r\n}\r\n\r\n@cssModules(styles, { allowMultiple: true })\r\nexport default class MarketmakerPromo extends React.Component<{}, ComponentState> {\r\n  // step3and4enabled: boolean = false\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const userWallets = actions.core.getWallets()\r\n\r\n    this.state = {\r\n      userWallets,\r\n      userTokens: [],\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { userWallets } = this.state\r\n\r\n    feedback.marketmaking.enteredPromo()\r\n\r\n    userWallets.forEach((wallet) => {\r\n      if (wallet.tokenKey) {\r\n        this.setState((state) => ({\r\n          userTokens: [...state.userTokens, wallet.tokenKey],\r\n        }))\r\n      }\r\n    })\r\n  }\r\n\r\n  // onSelectBrowser() {\r\n  //   feedback.marketmaking.selected('browser')\r\n  //   if (config.binance) {\r\n  //     routing.redirectTo(`${links.marketmaker}/BTCB`)\r\n  //   } else {\r\n  //     routing.redirectTo(`${links.marketmaker}/WBTC`)\r\n  //   }\r\n  // }\r\n\r\n  // onSelectServer() {\r\n  //   feedback.marketmaking.selected('server')\r\n  //   window.open('https://github.com/swaponline/MultiCurrencyWallet/blob/master/docs/MARKETMAKER.md')\r\n  // }\r\n\r\n  // onSelectPool() {\r\n  //   feedback.marketmaking.selected('pool')\r\n  //   window.open('https://app.uniswap.org/#/add/0x14a52cf6b4f68431bd5d9524e4fcd6f41ce4ade9/ETH')\r\n  // }\r\n\r\n  // onSelectFarm() {\r\n  //   feedback.marketmaking.selected('farm')\r\n  //   routing.redirectTo(`${links.farm}`)\r\n  // }\r\n\r\n  openChromeStore() {\r\n    feedback.marketmaking.selected('installExtension')\r\n    window.open(links.extension)\r\n  }\r\n\r\n  render() {\r\n    const { userTokens } = this.state\r\n\r\n    return (\r\n      <div styleName=\"mm-promo-page\">\r\n        <section styleName=\"promoHeader\">\r\n          <h2 styleName=\"section-title\">\r\n            <FormattedMessage\r\n              id=\"MM_Promo_Title\"\r\n              defaultMessage=\"Earn interest on {utxoTitle}\"\r\n              values={{\r\n                utxoTitle: 'Bitcoin'\r\n              }}\r\n            />\r\n          </h2>\r\n          <p styleName=\"promoDescription\">\r\n            <FormattedMessage\r\n              id=\"MM_Promo_TitleBody\"\r\n              defaultMessage=\"On swap.io users exchange {utxoCoin} for {token} (a token that costs like {utxoCoin}, but works on {Ab_Title}), and vice versa.\"\r\n              values={{\r\n                utxoCoin: 'BTC',\r\n                token: (config.binance) ? `BTCB` : `WBTC`,\r\n                Ab_Title: (config.binance) ? `Binance Smart Chain` : `Ethereum`,\r\n                link: <a href={links.impermanentLoss} target=\"_blank\">(?)</a>,\r\n              }}\r\n            />\r\n          </p>\r\n        </section>\r\n\r\n        <section>\r\n          <h2 styleName=\"section-title\">\r\n            <FormattedMessage\r\n              id=\"MM_InstallExtentionTitle\"\r\n              defaultMessage=\"Install Chrome extension and start earning today\"\r\n            />\r\n          </h2>\r\n\r\n          <div styleName=\"installExtensionBody\">\r\n            <img styleName=\"extensionPromoImg\" src={isDark ? extensionPromoDark : extensionPromoLight} alt=\"extention_promo\"/>\r\n            <Button brand onClick={this.openChromeStore}>\r\n              <FormattedMessage\r\n                id=\"MM_InstallExtentionBtn\"\r\n                defaultMessage=\"Install Chrome Extension\"\r\n              />\r\n            </Button>\r\n            <a\r\n              styleName=\"devVersionLink\"\r\n              target=\"_blank\"\r\n              href=\"https://github.com/swaponline/MultiCurrencyWallet/actions/workflows/chromeExtention.yml\"\r\n            >\r\n              <FormattedMessage\r\n                id=\"MM_InstallDevExtention\"\r\n                defaultMessage=\"Download development version\"\r\n              />\r\n            </a>\r\n\r\n            {userTokens.length ? (\r\n              <div styleName=\"pseudLinksWrapper\">\r\n                {userTokens.map((token, index) => {\r\n                  if (\r\n                    token.includes('wbtc') ||\r\n                    token.includes('btcb')\r\n                  ) {\r\n                    return (\r\n                      <Link key={index} to={`/marketmaker/${token}`} styleName=\"pseudLink\">\r\n                        {token.toUpperCase()}\r\n                      </Link>\r\n                    )\r\n                  }\r\n\r\n                  return null\r\n                })}\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n        </section>\r\n\r\n\r\n        {/* <section styleName=\"select-mode\">\r\n          <h2 styleName=\"section-title\">\r\n            <FormattedMessage\r\n              id=\"MM_Choose_Title\"\r\n              defaultMessage=\" \"\r\n            />\r\n          </h2>\r\n          <div styleName=\"modes\">\r\n            <div styleName=\"mode\">\r\n              <h3 styleName=\"mode-title\">\r\n                <span styleName=\"number\"></span>\r\n                &nbsp;&nbsp;\r\n                <span>\r\n                  <FormattedMessage\r\n                    id=\"MM_Choose_InBrowser_Title\"\r\n                    defaultMessage=\"  \"\r\n                  />\r\n                </span>\r\n              </h3>\r\n              <p>\r\n                <FormattedMessage\r\n                  id=\"MM_Choose_InBrowser_Body1\"\r\n                  defaultMessage=\"  ,   .\"\r\n                />\r\n              </p>\r\n              <p>\r\n                <FormattedMessage\r\n                  id=\"MM_Choose_InBrowser_Body2\"\r\n                  defaultMessage=\"   ,   .\"\r\n                />\r\n              </p>\r\n              <Button styleName=\"mode-button\" blue onClick={this.onSelectBrowser}>\r\n                <FormattedMessage\r\n                  id=\"MM_Choose_InBrowser_Button\"\r\n                  defaultMessage=\"  \"\r\n                />\r\n              </Button>\r\n            </div>\r\n            <div styleName=\"mode\">\r\n              <h3 styleName=\"mode-title\">\r\n                <span styleName=\"number\"></span>\r\n                &nbsp;&nbsp;\r\n                <span>\r\n                  <FormattedMessage\r\n                    id=\"MM_Choose_Server_Title\"\r\n                    defaultMessage=\"-\"\r\n                  />\r\n                </span>\r\n              </h3>\r\n              <p>\r\n                <FormattedMessage\r\n                  id=\"MM_Choose_Server_Body1\"\r\n                  defaultMessage=\"   .\"\r\n                />\r\n              </p>\r\n              <p>\r\n                <FormattedMessage\r\n                  id=\"MM_Choose_Server_Body2\"\r\n                  defaultMessage=\"     Docker.\"\r\n                />\r\n              </p>\r\n              <Button styleName=\"mode-button\" blue onClick={this.onSelectServer}>\r\n               <FormattedMessage\r\n                  id=\"MM_Choose_Server_Button\"\r\n                  defaultMessage=\" \"\r\n                />\r\n              </Button>\r\n            </div>\r\n            {this.step3and4enabled && (\r\n              <>\r\n                <div styleName=\"mode\">\r\n                  <h3 styleName=\"mode-title\">\r\n                    <span styleName=\"number\"></span>\r\n                    &nbsp;&nbsp;\r\n                    <span>\r\n                      <FormattedMessage\r\n                        id=\"MM_Choose_Uniswap_Title\"\r\n                        defaultMessage=\" uniswap- SWAP/ETH\"\r\n                      />\r\n                    </span>\r\n                  </h3>\r\n                  <p>\r\n                    <FormattedMessage\r\n                      id=\"MM_Choose_Uniswap_Body1\"\r\n                      defaultMessage=\"   .\"\r\n                    />\r\n                  </p>\r\n                  <p>\r\n                    <FormattedMessage\r\n                      id=\"MM_Choose_Uniswap_Body2\"\r\n                      defaultMessage=\"      SWAP .\"\r\n                    />\r\n                  </p>\r\n                  <Button styleName=\"mode-button\" blue onClick={this.onSelectPool}>\r\n                    <FormattedMessage\r\n                      id=\"MM_Choose_Uniswap_Button\"\r\n                      defaultMessage=\" \"\r\n                    />\r\n                  </Button>\r\n                </div>\r\n\r\n                <div styleName=\"mode\">\r\n                  <h3 styleName=\"mode-title\">\r\n                    <span styleName=\"number\"></span>\r\n                    &nbsp;&nbsp;\r\n                    <span>\r\n                      <FormattedMessage\r\n                        id=\"MM_Choose_Farming_Title\"\r\n                        defaultMessage=\"\"\r\n                      />\r\n                    </span>\r\n                  </h3>\r\n                  <p>\r\n                    <FormattedMessage\r\n                      id=\"MM_Choose_Farming_Body1\"\r\n                      defaultMessage=\"    SWAP ,  LP .\"\r\n                    />\r\n                  </p>\r\n                  <Button styleName=\"mode-button\" blue onClick={this.onSelectFarm}>\r\n                    <FormattedMessage\r\n                      id=\"MM_Choose_Farming_Button\"\r\n                      defaultMessage=\" \"\r\n                    />\r\n                  </Button>\r\n                </div>\r\n              </>\r\n            )}\r\n\r\n          </div>\r\n        </section> */}\r\n\r\n        <FAQ />\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"mm-promo-page\":\"_4RsGWq-BsTJapBQZfI0jRA==\",\"section-title\":\"tt9Mllws5+VU36ntKB0KIA==\",\"promoHeader\":\"PmWS2KTNeeOBkv4oJQGmKg==\",\"installExtensionBody\":\"WrznqYHLjBvE7Iij+-EwdA==\",\"extensionPromoImg\":\"RcM-eVZUbjPH9UGkV8pzmw==\",\"devVersionLink\":\"Pb0jTyPy7Bes2SwDriaa7A==\",\"select-mode\":\"qFP29gtcDZYVLoCqGgRQxQ==\",\"modes\":\"XpP6pXgexaB6Lpx-8-iT7Q==\",\"mode\":\"k0k0fEo8mnJWp6CPDe+06Q==\",\"mode-title\":\"e5FTuxZyk8B-vV6e5-n6Fw==\",\"number\":\"KFMz-7DfPxQWXu4CtcXx-w==\",\"mode-button\":\"RC-DdDioHXWW9+SORXtV1A==\",\"pseudLinksWrapper\":\"hDIud-75MWVEpaY9DKSuxA==\",\"pseudLink\":\"tRkER9HmnhEzNyUW6-V4pA==\",\"promoDescription\":\"_3y6wcaYTCWehTAlBpDM01g==\"};","// extracted by mini-css-extract-plugin\nexport default {\"mm-settings-page\":\"ayFEBa8w9L+1yyAaT-SPZA==\",\"promoText\":\"ci9ekR51O5-dpeYPPyCgqw==\",\"start-here\":\"+t-kSphzTpemZfe7ewvMeQ==\",\"wallet-required\":\"fSRdImBUWjqqaLNulKGm9g==\",\"wallet-buttons\":\"WH7ngfRynv35mzqtKMLcsg==\",\"controls-loader\":\"kdfBsOwgnVQ-LFHaGBEUxg==\",\"wallet-button\":\"DoVh5odqkc5M7XDPNJ3pbg==\",\"section-items\":\"ID0Jdqbnx7NX67bVKt6aHg==\",\"section-items__item\":\"ISOucF0t-cYq3XwLQ+aE2A==\",\"item-text__secondary-title\":\"IZ0j4hPlBK1FH8hpJmdakg==\",\"item-text__secondary\":\"aFCVGadwNxyfEDxQvf8SBA==\",\"warning\":\"_6Jfrh2Li12p005lD0JqYAw==\",\"tooltipText\":\"txccwaxQBlVDPfYNl5NrVA==\",\"balanceSecondary\":\"_43vjcOyi-X8l4npa2zssZg==\",\"balancePrimary\":\"eJ5c-hIsXkzsM7vC2Li-dw==\",\"section-title\":\"_8VZ6VB5WmhI0mEijMhQjNg==\",\"mm-toggle\":\"s7ZNpuLIf6IcvCoE9TJexg==\",\"mm-toggle__text\":\"_7-S7En8JI3Esx2wshP5RUA==\",\"mm-toggle__switch\":\"_7RPU-KO7LJmkX6Q0LKAmzQ==\",\"history\":\"D4t3+06z8wh381qxMYay0A==\",\"historyHeading\":\"fIscyPgWUMOKFrBG9Cmh5w==\",\"historyLoader\":\"AaG9tjLLNccOq0KYu0LeUg==\",\"swapHistory\":\"RkHUx2W9sIzA9cudBt8UYQ==\",\"iconPosition\":\"edCTk+tnni+WIRGxClqDYg==\",\"iconTooltip\":\"-rCtRrRLdMb0aMEqugd3Wg==\"};","// extracted by mini-css-extract-plugin\nexport default {\"userTooltip\":\"E5-PeFFDK97iEwyYmle75w==\",\"delete\":\"i6SZEUDUviqzlxOUDpRXWQ==\",\"currency\":\"T4v6DOC5nqkPRf3xXEs-Hw==\",\"coin\":\"htlP2PpoIEk3NJB5boT2yg==\",\"buy\":\"Sb2xoG0UFANZbduL+0dLMw==\",\"sell\":\"FfL2a0RegoFNGaF0TXSZGw==\",\"buttons\":\"m6tveM7kTxpTeGmfvA+3ng==\",\"arrow\":\"aZT+1x0QwINXkaPC1uGY5Q==\",\"statusFinished\":\"AmgJXPGCE7wBY8kThx6JHg==\",\"statusRefunded\":\"b+VJ1EjHT6L8s9X3gEAp2w==\",\"statusStopped\":\"TAxAbPfTpvYRPsm4t2Tqbw==\",\"refundStatus\":\"jrtyyo5v02UwZujpl-5muQ==\"};","import React, { Fragment, Component } from 'react'\r\nimport moment from 'moment/moment'\r\nimport cx from 'classnames'\r\n\r\nimport { links, localStorage } from 'helpers'\r\nimport actions from 'redux/actions'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './SwapRow.scss'\r\n\r\nimport Timer from 'pages/Swap/Timer/Timer'\r\nimport { FormattedMessage, injectIntl } from 'react-intl'\r\nimport BigNumber from 'bignumber.js'\r\n\r\nimport SwapApp from 'swap.app'\r\n\r\n\r\ninterface SwapRowProps {\r\n  row: any\r\n  swapState: any\r\n  extractSwapStatus: Function\r\n  intl: any\r\n}\r\n\r\n@CSSModules(styles, { allowMultiple: true })\r\nclass SwapRow extends Component<any, any> {\r\n  _mounted = true\r\n  _handleSwapEnterStep = null\r\n\r\n  constructor(props: SwapRowProps) {\r\n    super(props)\r\n\r\n    const {\r\n      row: swapState,\r\n    } = props\r\n\r\n    this._handleSwapEnterStep = this.onSwapEnterStep.bind(this)\r\n    this.state = {\r\n      swapState,\r\n    }\r\n  }\r\n\r\n  tryRefund = (timeLeft) => {\r\n    /*\r\n    const {\r\n      row: { id },\r\n    } = this.props\r\n\r\n    if (timeLeft > 0) {\r\n      return\r\n    }\r\n\r\n    try {\r\n      const { flow } = actions.core.getSwapById(id)\r\n\r\n      const {\r\n        state: { isFinished, isRefunded, step, scriptBalance, isEthContractFunded },\r\n        swap: { sellCurrency },\r\n      } = flow\r\n      let isPayed = 5,\r\n        isEmptyBalance = false\r\n      if (sellCurrency === 'BTC') {\r\n        isPayed = sellCurrency === 'BTC' ? 4 : 5\r\n        isEmptyBalance = sellCurrency === 'BTC' ? scriptBalance === 0 : !isEthContractFunded\r\n      }\r\n\r\n      if (sellCurrency === 'GHOST') {\r\n        isPayed = sellCurrency === 'GHOST' ? 4 : 5\r\n        isEmptyBalance = sellCurrency === 'GHOST' ? scriptBalance === 0 : !isEthContractFunded\r\n      }\r\n\r\n      if (sellCurrency === 'NEXT') {\r\n        isPayed = sellCurrency === 'NEXT' ? 4 : 5\r\n        isEmptyBalance = sellCurrency === 'NEXT' ? scriptBalance === 0 : !isEthContractFunded\r\n      }\r\n\r\n      if (isFinished || isRefunded || (step === isPayed && isEmptyBalance)) {\r\n        console.error(`Refund of swap ${id} is not available`)\r\n        return\r\n      }\r\n\r\n      flow.tryRefund().then((result) => {\r\n        console.log('refunded', result)\r\n      })\r\n    } catch (err) {\r\n      console.error(`RefundError`, err)\r\n    }\r\n    */\r\n  }\r\n\r\n  onSwapEnterStep(data) {\r\n    if (!this._mounted) return\r\n\r\n    const {\r\n      swap,\r\n      swap: {\r\n        id: swapId,\r\n      }\r\n    } = data\r\n    const {\r\n      swapState: {\r\n        id: mySwapId,\r\n      }\r\n    } = this.state\r\n    if (mySwapId === swapId) {\r\n      console.log('>>> ON ENTER MY SWAP STEP')\r\n      this.setState({\r\n        swapState: this.props.extractSwapStatus(swap),\r\n      })\r\n    }\r\n  }\r\n\r\n  getSwapStatusText = (isFinished: boolean, isRefunded: boolean, isStoppedSwap: boolean) => {\r\n    if (isFinished) {\r\n      return <FormattedMessage id=\"RowHistory94\" defaultMessage=\"Finished\" />\r\n    }\r\n    if (isRefunded) {\r\n      return <FormattedMessage id=\"RowHistory77\" defaultMessage=\"Refunded\" />\r\n    }\r\n    if (isStoppedSwap) {\r\n      return <FormattedMessage id=\"RowHistory139\" defaultMessage=\"Stopped\" />\r\n    }\r\n\r\n    return ''\r\n  }\r\n\r\n  componentDidMount() {\r\n    /*\r\n    const {\r\n      utxoScriptValues: values,\r\n    } = this.props.row\r\n\r\n    if (!values) return\r\n\r\n    const lockTime = values.lockTime * 1000\r\n\r\n    const timeLeft = lockTime - Date.now()\r\n\r\n    this.tryRefund(timeLeft)\r\n    */\r\n    \r\n    const {\r\n      row: {\r\n        isFinished,\r\n        isRefunded,\r\n        isStoppedSwap,\r\n        isSwapTimeout,\r\n        id,\r\n      },\r\n    } = this.props\r\n\r\n    if (!isFinished && !isRefunded && !isStoppedSwap && !isSwapTimeout) {\r\n      //@ts-ignore: strictNullChecks\r\n      SwapApp.shared().on('swap enter step', this._handleSwapEnterStep)\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    console.log('History unmounted')\r\n    this._mounted = false\r\n    //@ts-ignore: strictNullChecks\r\n    SwapApp.shared().off('swap enter step', this._handleSwapEnterStep)\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      row: swapId,\r\n      intl: { locale },\r\n    } = this.props\r\n\r\n    const {\r\n      swapState,\r\n    } = this.state\r\n\r\n    let {\r\n      buyAmount,\r\n      buyCurrency,\r\n      sellAmount,\r\n      utxoScriptValues: values,\r\n      scriptBalance,\r\n      isRefunded,\r\n      isMy,\r\n      isTurbo,\r\n      sellCurrency,\r\n      isFinished,\r\n      isSwapTimeout,\r\n      id,\r\n      scriptValues,\r\n      isStoppedSwap,\r\n      step,\r\n    } = swapState\r\n\r\n    if (step <=1 && isSwapTimeout) return null\r\n\r\n    const canBeRefunded = values && scriptBalance > 0\r\n    const isDeletedSwap = isFinished || isRefunded\r\n\r\n    const date = Date.now() / 1000\r\n\r\n    let lockDateAndTime = null\r\n    if (values) {\r\n      //@ts-ignore: strictNullChecks\r\n      lockDateAndTime = moment.unix(values.lockTime || date).format('HH:mm:ss DD/MM/YYYY')\r\n    }\r\n\r\n    const swapUri = isTurbo ?\r\n      `${links.turboSwap}/${id}`\r\n      :\r\n      `${links.atomicSwap}/${id}`\r\n\r\n    buyAmount = new BigNumber(buyAmount)\r\n    sellAmount = new BigNumber(sellAmount)\r\n\r\n    return (\r\n      <tr key={id}>\r\n        {step <= 1 && (\r\n          <Fragment>\r\n            <td colSpan={6}>\r\n              prepare swap\r\n            </td>\r\n          </Fragment>\r\n        )}\r\n        {step > 1 && (\r\n          <Fragment>\r\n            <td>\r\n              {isMy\r\n                ? `${sellAmount.toFixed(5)} ${sellCurrency.toUpperCase()}`\r\n                : `${buyAmount.toFixed(5)} ${buyCurrency.toUpperCase()}`}\r\n            </td>\r\n            <td>\r\n              {step}\r\n            </td>\r\n            <td>\r\n              {isMy\r\n                ? `${buyAmount.toFixed(5)} ${buyCurrency.toUpperCase()}`\r\n                : `${sellAmount.toFixed(5)} ${sellCurrency.toUpperCase()}`}\r\n            </td>\r\n            <td>\r\n              {(lockDateAndTime !== null) && (\r\n                <Fragment>\r\n                  {/* @ts-ignore: strictNullChecks */}\r\n                  {lockDateAndTime.split(' ').map((item, key) => (\r\n                    <Fragment key={key}> {item}</Fragment>\r\n                  ))}\r\n                </Fragment>\r\n              )}\r\n            </td>\r\n            <td>\r\n              <div\r\n                className={cx({\r\n                  [styles.statusFinished]: isFinished,\r\n                  [styles.statusRefunded]: isRefunded,\r\n                  [styles.statusStopped]: !isFinished && !isRefunded && isStoppedSwap,\r\n                })}\r\n              >\r\n                {this.getSwapStatusText(isFinished, isRefunded, isStoppedSwap)}\r\n\r\n                {!isDeletedSwap && (\r\n                  <div styleName=\"refundStatus\">\r\n                    {canBeRefunded ? (\r\n                      <Timer lockTime={values.lockTime * 1000} enabledButton={this.tryRefund} />\r\n                    ) : (\r\n                      <FormattedMessage id=\"RowHistory76\" defaultMessage=\"Refund not available\" />\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </td>\r\n            <td>\r\n              <Link to={swapUri}>\r\n                <FormattedMessage id=\"RowHistory91\" defaultMessage=\"Link\" />\r\n              </Link>\r\n            </td>\r\n          </Fragment>\r\n        )}\r\n      </tr>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(SwapRow)\r\n","export default __webpack_public_path__ + \"images/btcIcon_4c1c2e.svg\";","export default __webpack_public_path__ + \"images/wbtcIcon_c483b5.svg\";","import React, { Component } from 'react'\r\nimport CSSModules from 'react-css-modules'\r\n\r\nimport { BigNumber } from 'bignumber.js'\r\n\r\nimport actions from 'redux/actions'\r\nimport SwapApp from 'swap.app'\r\nimport Swap from 'swap.swap'\r\n\r\nimport { constants, links, feedback } from 'helpers'\r\nimport config from 'helpers/externalConfig'\r\n\r\nimport styles from './MarketmakerSettings.scss'\r\n\r\nimport { FormattedMessage, injectIntl } from 'react-intl'\r\n\r\nimport SwapRow from './SwapRow'\r\nimport FAQ from './FAQ'\r\n\r\nimport Toggle from 'components/controls/Toggle/Toggle'\r\nimport InlineLoader from 'components/loaders/InlineLoader/InlineLoader'\r\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\r\n\r\nimport btc from './images/btcIcon.svg'\r\nimport wbtc from './images/wbtcIcon.svg'\r\n\r\nimport metamask from 'helpers/metamask'\r\nimport { Button } from 'components/controls'\r\n\r\nimport { AddressType, AddressFormat } from 'domain/address'\r\nimport Address from 'components/ui/Address/Address'\r\n\r\n@CSSModules(styles, { allowMultiple: true })\r\nclass MarketmakerSettings extends Component<any, any> {\r\n  _mounted = true\r\n  _handleSwapAttachedHandle = null\r\n  _handleSwapEnterStep = null\r\n  _metamaskEnabled = false\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const {\r\n      match: {\r\n        params: {\r\n          token: marketToken = \"{eth}usdt\",\r\n          utxoCoin = 'btc'\r\n        }\r\n      }\r\n    } = props\r\n\r\n    const mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\r\n    const mnemonicSaved = (mnemonic === `-`)\r\n    const isWalletCreated = localStorage.getItem(constants.localStorage.isWalletCreate)\r\n\r\n    this._handleSwapAttachedHandle = this.onSwapAttachedHandle.bind(this)\r\n    this._handleSwapEnterStep = this.onSwapEnterStep.bind(this)\r\n\r\n\r\n    this.state = {\r\n      swapsIds: [],\r\n      swapsByIds: {},\r\n      marketToken,\r\n      utxoCoin,\r\n      utxoWallet: null,\r\n      utxoBalance: 0,\r\n      tokenWallet: null,\r\n      tokenBalance: 0,\r\n      ethBalance: 0,\r\n      isBalanceFetching: true,\r\n      isWalletCreated,\r\n      isFirstFetchin: true,\r\n      isMarketEnabled: false,\r\n      isEthBalanceOk: false,\r\n      isUtxoBalanceOk: false,\r\n      isTokenBalanceOk: false,\r\n      marketSpread: 0, // 0% spread\r\n      mnemonicSaved,\r\n    }\r\n  }\r\n\r\n  extractSwapStatus(swap) {\r\n    const {\r\n      id,\r\n      isMy,\r\n      isTurbo,\r\n      buyCurrency,\r\n      sellCurrency,\r\n      buyAmount,\r\n      sellAmount,\r\n      createUnixTimeStamp,\r\n      buyBlockchain,\r\n      sellBlockchain,\r\n      flow: {\r\n        state,\r\n      },\r\n    } = swap\r\n    return {\r\n      id,\r\n      isMy,\r\n      buyCurrency,\r\n      sellCurrency,\r\n      buyAmount,\r\n      sellAmount,\r\n      createUnixTimeStamp,\r\n      buyBlockchain,\r\n      sellBlockchain,\r\n      ...state,\r\n    }\r\n  }\r\n\r\n  fetchWalletsWithBalances() {\r\n    const {\r\n      marketToken,\r\n      utxoCoin,\r\n      isBalanceFetching,\r\n      isFirstFetchin,\r\n    } = this.state\r\n\r\n    if (!this._mounted) return\r\n\r\n    if (isBalanceFetching && !isFirstFetchin) {\r\n      //       .   \r\n      //      \r\n      //   ,         \r\n      //            \r\n      return setTimeout(() => {\r\n        this.fetchWalletsWithBalances()\r\n      }, 2000)\r\n    }\r\n    this.setState({\r\n      isBalanceFetching: true,\r\n      isFirstFetchin: false,\r\n    }, () => {\r\n      const utxoWallet = actions.core.getWallet({ currency: utxoCoin })\r\n\r\n      const tokenWallet = actions.core.getWallet({\r\n        currency: marketToken,\r\n        connected: true,\r\n        addressType: AddressType.Metamask\r\n      })\r\n      if (!tokenWallet) {\r\n        this.setState({\r\n          isBalanceFetching: false,\r\n        }, () => {\r\n          return setTimeout(() => {\r\n            this.fetchWalletsWithBalances()\r\n          }, 2000)\r\n        })\r\n        return\r\n      }\r\n\r\n      const evmCoinWallet = actions.core.getWallet({\r\n        currency: tokenWallet.blockchain,\r\n        connected: true,\r\n        addressType: AddressType.Metamask\r\n      })\r\n\r\n      this.setState({\r\n        utxoWallet,\r\n        evmCoinWallet,\r\n        tokenWallet,\r\n      }, async () => {\r\n        const utxoBalance = await actions.core.fetchWalletBalance(utxoWallet)\r\n        const ethBalance = await actions.core.fetchWalletBalance(evmCoinWallet)\r\n        const tokenBalance = await actions.core.fetchWalletBalance(tokenWallet)\r\n\r\n        //   .          \r\n        //         \r\n        if (this._mounted) {\r\n          this.setState({\r\n            utxoBalance,\r\n            ethBalance,\r\n            tokenBalance,\r\n            isBalanceFetching: false\r\n          })\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const {\r\n      match: {\r\n        params: {\r\n          token: prevMarketToken = '{eth}usdt',\r\n          utxoCoin: prevUtxoCoin = 'btc'\r\n        },\r\n      },\r\n    } = prevProps\r\n\r\n    const {\r\n      match: {\r\n        params: {\r\n          token: marketToken = '{eth}usdt',\r\n          utxoCoin = 'btc'\r\n        }\r\n      }\r\n    } = this.props\r\n    const { mnemonicSaved } = this.state\r\n\r\n    if (\r\n      mnemonicSaved &&\r\n      prevMarketToken.toLowerCase() !== marketToken.toLowerCase()\r\n    ) {\r\n      this.setState({\r\n        marketToken,\r\n        tokenBalance: 0,\r\n        tokenWallet: null,\r\n      }, () => {\r\n        this.fetchWalletsWithBalances()\r\n      })\r\n    }\r\n    if (\r\n      mnemonicSaved &&\r\n      prevUtxoCoin.toLowerCase() !== utxoCoin.toLowerCase()\r\n    ) {\r\n      this.setState({\r\n        utxoCoin,\r\n        utxoBalance: 0,\r\n        utxoWallet: null,\r\n      }, () => {\r\n        this.fetchWalletsWithBalances()\r\n      })\r\n    }\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { mnemonicSaved } = this.state\r\n\r\n    SwapApp.onInit(() => {\r\n      //@ts-ignore: strictNullChecks\r\n      let isMarketEnabled = (SwapApp.shared().services.orders.getMyOrders().length > 0)\r\n\r\n      if (isMarketEnabled && metamask.isConnected()) {\r\n        isMarketEnabled = false\r\n        this.cleanupMarketMakerOrder()\r\n        actions.notifications.show(constants.notifications.Message, {\r\n          message: (\r\n            <FormattedMessage\r\n              id=\"MM_TurnOffMarketmaking\"\r\n              defaultMessage=\"Marketmaking disabled because of your external wallet is connected\"\r\n            />\r\n          ),\r\n        })\r\n        feedback.marketmaking.disabled('User connected to external wallet')\r\n      }\r\n\r\n      const swapsIds = []\r\n      const swapsByIds = {}\r\n\r\n      this.fetchWalletsWithBalances()\r\n      //@ts-ignore: strictNullChecks\r\n      const lsSwapId = JSON.parse(localStorage.getItem('swapId'))\r\n\r\n      if (!(lsSwapId === null || lsSwapId.length === 0)) {\r\n        const swapsCore = lsSwapId.map((id) => {\r\n          try {\r\n            return new Swap(id, SwapApp.shared())\r\n          } catch (e) {}\r\n        })\r\n      }\r\n\r\n      //@ts-ignore: strictNullChecks\r\n      SwapApp.shared().attachedSwaps.items.forEach((swap) => {\r\n        if (swap && swap.flow) {\r\n          const swapState = this.extractSwapStatus(swap)\r\n          //@ts-ignore: strictNullChecks\r\n          swapsIds.push(swapState.id)\r\n          swapsByIds[swapState.id] = swapState\r\n        }\r\n      })\r\n\r\n      //@ts-ignore: strictNullChecks\r\n      SwapApp.shared().on('swap attached', this._handleSwapAttachedHandle)\r\n      //@ts-ignore: strictNullChecks\r\n      SwapApp.shared().on('swap enter step', this._handleSwapEnterStep)\r\n\r\n      this.setState({\r\n        swapsIds,\r\n        swapsByIds,\r\n        isMarketEnabled,\r\n      })\r\n    })\r\n    feedback.marketmaking.enteredSettings()\r\n  }\r\n\r\n  onSwapEnterStep(data) {\r\n    if (!this._mounted) return\r\n\r\n    const { swap } = data\r\n    const swapState = this.extractSwapStatus(swap)\r\n    const {\r\n      swapsByIds,\r\n    } = this.state\r\n    swapsByIds[swapState.id] = swapState\r\n    this.setState({\r\n      swapsByIds,\r\n    })\r\n  }\r\n\r\n  onSwapAttachedHandle(data) {\r\n    if (!this._mounted) return\r\n    const {\r\n      swap,\r\n    } = data\r\n\r\n    const {\r\n      swapsIds,\r\n      swapsByIds,\r\n    } = this.state\r\n\r\n    if (!swapsByIds[swap.id]) {\r\n      const swapState = this.extractSwapStatus(swap)\r\n      swapsIds.push(swapState.id)\r\n      swapsByIds[swapState.id] = swapState\r\n      this.setState({\r\n        swapsIds,\r\n        swapsByIds,\r\n      })\r\n    }\r\n  }\r\n\r\n  async componentWillUnmount() {\r\n    const { mnemonicSaved } = this.state\r\n\r\n    this._mounted = false\r\n\r\n    if (mnemonicSaved) {\r\n      //@ts-ignore: strictNullChecks\r\n      SwapApp.shared().off('swap attached', this._handleSwapAttachedHandle)\r\n      //@ts-ignore: strictNullChecks\r\n      SwapApp.shared().off('swap enter step', this._handleSwapEnterStep)\r\n    }\r\n  }\r\n\r\n  handleCreateWallet = () => {\r\n    const {\r\n      history,\r\n      match: {\r\n        params: {\r\n          utxoCoin = 'btc'\r\n        }\r\n      }\r\n    } = this.props\r\n\r\n    history.push(`${links.createWallet}/${utxoCoin.toUpperCase()}`)\r\n  }\r\n\r\n  handleSaveMnemonic = () => {\r\n    actions.modals.open(constants.modals.SaveWalletSelectMethod, {\r\n      onClose: () => {\r\n        const mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\r\n        const mnemonicSaved = (mnemonic === `-`)\r\n\r\n        this.setState(() => ({\r\n          mnemonicSaved,\r\n        }))\r\n      }\r\n    })\r\n  }\r\n\r\n  handleRestoreMnemonic() {\r\n    actions.modals.open(constants.modals.RestoryMnemonicWallet, {\r\n      noRedirect: true,\r\n      onClose: () => { window.location.reload() }\r\n    })\r\n  }\r\n\r\n  handleToggleMarketmaker() {\r\n    const { isMarketEnabled } = this.state\r\n\r\n    const {\r\n      ethBalance,\r\n      utxoBalance,\r\n      tokenBalance,\r\n      evmCoinWallet,\r\n      tokenWallet,\r\n      utxoCoin,\r\n    } = this.state\r\n\r\n    const isEthBalanceOk = new BigNumber(ethBalance).isGreaterThanOrEqualTo(0.02)\r\n    const isTokenBalanceOk = new BigNumber(tokenBalance).isGreaterThan(0)\r\n    const isUtxoBalanceOk = new BigNumber(utxoBalance).isGreaterThan(0)\r\n\r\n    let hasError = false\r\n\r\n    if (metamask.isConnected()) {\r\n      hasError = true\r\n      actions.modals.open(constants.modals.AlertModal, {\r\n        message: (\r\n          <FormattedMessage\r\n            id=\"MM_DisconnectExternalWallet\"\r\n            defaultMessage=\"Marketmakig works only with internal wallet. Please disconnnect external wallet\"\r\n          />\r\n        ),\r\n        labelOk: (\r\n          <FormattedMessage\r\n              id=\"MetamaskDisconnect\"\r\n              defaultMessage=\"Disconnect wallet\"\r\n            />\r\n        ),\r\n        canClose: true,\r\n        onClose: () => {\r\n          metamask.disconnect()\r\n          actions.modals.close(constants.modals.AlertModal)\r\n        }\r\n      })\r\n      feedback.marketmaking.prevented(`Tried to enable mm with connected external wallet `)\r\n    }\r\n    if (!isEthBalanceOk) {\r\n      hasError = true\r\n      const AB_Coin = evmCoinWallet.currency.toUpperCase()\r\n      //@ts-ignore: strictNullChecks\r\n      actions.modals.open(constants.modals.AlertModal, {\r\n        message: (\r\n          <FormattedMessage\r\n            id=\"MM_NotEnoughtEth\"\r\n            defaultMessage=\"Not enough {AB_Coin} to pay the miners commission. You need to have at least 0.02 {AB_Coin}\"\r\n            values={{\r\n              AB_Coin,\r\n            }}\r\n          />\r\n        ),\r\n      })\r\n      feedback.marketmaking.prevented(`Not enough ${AB_Coin}`)\r\n    }\r\n    if (!isTokenBalanceOk && !isUtxoBalanceOk) {\r\n      hasError = true\r\n      const token = tokenWallet.tokenKey.toUpperCase()\r\n      actions.modals.open(constants.modals.AlertModal, {\r\n        message: (\r\n          <FormattedMessage\r\n            id=\"MM_NotEnoughCoins\"\r\n            defaultMessage=\"Insufficient funds. You need to top up your {utxoCoin} or {token}\"\r\n            values={{\r\n              token,\r\n              utxoCoin: utxoCoin.toUpperCase()\r\n            }}\r\n          />\r\n        ),\r\n      })\r\n      feedback.marketmaking.prevented(`Not enough ${utxoCoin} or ${token}`)\r\n    }\r\n    if (!hasError) {\r\n      this.setState({\r\n        isMarketEnabled: !isMarketEnabled,\r\n        isUtxoBalanceOk,\r\n        isEthBalanceOk,\r\n        isTokenBalanceOk\r\n      }, () => {\r\n        if (!isMarketEnabled) {\r\n          // New state - On\r\n          this.createMakerMakerOrder()\r\n          feedback.marketmaking.enabled()\r\n        } else {\r\n          // New state - Off\r\n          this.cleanupMarketMakerOrder()\r\n          feedback.marketmaking.disabled()\r\n        }\r\n      })\r\n    } else {\r\n      this.setState({\r\n        isMarketEnabled: false\r\n      })\r\n    }\r\n  }\r\n\r\n  cleanupMarketMakerOrder() {\r\n    //@ts-ignore: strictNullChecks\r\n    SwapApp.shared().services.orders.getMyOrders().forEach((order) => {\r\n      //@ts-ignore: strictNullChecks\r\n      SwapApp.shared().services.orders.remove(order.id)\r\n    })\r\n  }\r\n\r\n  createMakerMakerOrder() {\r\n    // clear old orders\r\n    this.cleanupMarketMakerOrder()\r\n    const {\r\n      tokenBalance,\r\n      tokenWallet,\r\n      ethBalance,\r\n      isTokenBalanceOk,\r\n      utxoCoin,\r\n      utxoBalance,\r\n      isUtxoBalanceOk,\r\n      marketSpread,\r\n    } = this.state\r\n\r\n    /*\r\n           / 100 - spread[%] \\\r\n  price * |    |\r\n           \\       100       /\r\n    */\r\n    if (isTokenBalanceOk) {\r\n      const sellTokenExchangeRate =\r\n        new BigNumber(100).minus(\r\n          new BigNumber(100).times(marketSpread)\r\n        ).dividedBy(100).toNumber()\r\n\r\n      const sellAmount = new BigNumber(tokenBalance).times(sellTokenExchangeRate).toNumber()\r\n\r\n      const sellTokenOrderData = {\r\n        balance: tokenBalance,\r\n        buyAmount: tokenBalance,\r\n        ethBalance,\r\n        exchangeRate: sellTokenExchangeRate,\r\n        isPartial: true,\r\n        isSending: true,\r\n        isTokenBuy: false,\r\n        isTokenSell: true,\r\n        isTurbo: false,\r\n        manualRate: true,\r\n        minimalestAmountForBuy: 0.00038906,\r\n        minimalestAmountForSell: 0.00038906,\r\n        sellAmount,\r\n        buyCurrency: utxoCoin.toUpperCase(),\r\n        buyBlockchain: ``,\r\n        sellCurrency: tokenWallet.tokenKey.toUpperCase(),\r\n        sellBlockchain: tokenWallet.blockchain.toUpperCase(),\r\n      }\r\n      console.log(sellTokenOrderData)\r\n      //@ts-ignore: strictNullChecks\r\n      const sellOrder = SwapApp.shared().services.orders.create(sellTokenOrderData)\r\n      console.log('sellOrder', sellOrder)\r\n      actions.core.setupPartialOrder(sellOrder)\r\n    }\r\n    if (isUtxoBalanceOk) {\r\n      const buyTokenExchangeRate =\r\n        new BigNumber(100).plus(\r\n          new BigNumber(100).times(marketSpread)\r\n        ).dividedBy(100).toNumber()\r\n\r\n      const buyAmount = new BigNumber(utxoBalance).times(buyTokenExchangeRate).toNumber()\r\n\r\n      const buyTokenOrderData = {\r\n        balance: utxoBalance,\r\n        sellAmount: utxoBalance,\r\n        ethBalance,\r\n        exchangeRate: buyTokenExchangeRate,\r\n        isPartial: true,\r\n        isSending: true,\r\n        isTokenBuy: true,\r\n        isTokenSell: false,\r\n        isTurbo: false,\r\n        manualRate: true,\r\n        minimalestAmountForBuy: 0.00038906,\r\n        minimalestAmountForSell: 0.00038906,\r\n        buyAmount,\r\n        sellCurrency: utxoCoin,\r\n        sellBlockchain: ``,\r\n        buyCurrency: tokenWallet.tokenKey.toUpperCase(),\r\n        buyBlockchain: tokenWallet.blockchain.toUpperCase(),\r\n      }\r\n      console.log(buyTokenOrderData)\r\n      //@ts-ignore: strictNullChecks\r\n      const buyOrder = SwapApp.shared().services.orders.create(buyTokenOrderData)\r\n      console.log('buyOrder', buyOrder)\r\n      actions.core.setupPartialOrder(buyOrder)\r\n    }\r\n  }\r\n\r\n  processDisconnectWallet() {\r\n    metamask.handleDisconnectWallet(() => {\r\n      this.fetchWalletsWithBalances()\r\n    })\r\n  }\r\n\r\n  processConnectWallet() {\r\n    metamask.handleConnectMetamask({\r\n      dontRedirect: true,\r\n      // @ts-ignore\r\n      cbFunction: (isConnected) => {\r\n        if (isConnected) {\r\n          this.fetchWalletsWithBalances()\r\n        }\r\n      },\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      swapsIds,\r\n      swapsByIds,\r\n      utxoWallet,\r\n      utxoCoin,\r\n      utxoBalance,\r\n      evmCoinWallet,\r\n      tokenWallet,\r\n      tokenBalance,\r\n      ethBalance,\r\n      isBalanceFetching,\r\n      isMarketEnabled,\r\n      isWalletCreated,\r\n      mnemonicSaved,\r\n    } = this.state\r\n\r\n    const totalBalance = new BigNumber(utxoBalance).plus(tokenBalance).toNumber()\r\n\r\n    const sortedSwaps = swapsIds.sort((aId, bId) => {\r\n      return swapsByIds[bId].createUnixTimeStamp - swapsByIds[aId].createUnixTimeStamp\r\n    })\r\n    return (\r\n      <div styleName=\"mm-settings-page\">\r\n        <div styleName=\"promoText\">\r\n          <h2>\r\n            <FormattedMessage\r\n              id=\"MM_Promo_Title\"\r\n              defaultMessage=\"Earn interest on {utxoTitle}\"\r\n              values={{\r\n                utxoTitle: utxoWallet?.fullName || 'Bitcoin'\r\n              }}\r\n            />\r\n          </h2>\r\n          <p>\r\n            {tokenWallet && evmCoinWallet && (\r\n              <FormattedMessage\r\n                id=\"MM_Promo_TitleBody\"\r\n                defaultMessage=\"On swap.io users exchange {utxoCoin} for {token} (a token that costs like {utxoCoin}, but works on {Ab_Title}), and vice versa.\"\r\n                values={{\r\n                  utxoCoin: utxoCoin.toUpperCase(),\r\n                  token: tokenWallet.tokenKey.toUpperCase(),\r\n                  Ab_Title: evmCoinWallet.fullName,\r\n                  link: <a href={links.impermanentLoss} target=\"_blank\">(?)</a>,\r\n                }}\r\n              />\r\n            )}\r\n          </p>\r\n        </div>\r\n\r\n        <section>\r\n        {!mnemonicSaved && (\r\n          <>\r\n            <h3 styleName=\"start-here\">\r\n              <FormattedMessage\r\n                id=\"MM_StartHere\"\r\n                defaultMessage=\"Start marketmaking here\"\r\n              />\r\n            </h3>\r\n            <p styleName=\"wallet-required\">\r\n              <FormattedMessage\r\n                id=\"MM_Wallet_Required\"\r\n                defaultMessage=\"A hot wallet is required to launch marketmaking ({utxoCoin}, {AB_Coin}, {token}).\"\r\n                values={{\r\n                  utxoCoin: utxoCoin.toUpperCase(),\r\n                  token: tokenWallet?.currency?.toUpperCase(),\r\n                  AB_Coin: evmCoinWallet?.currency?.toUpperCase(),\r\n                }}\r\n              />\r\n            </p>\r\n            <div styleName='wallet-buttons'>\r\n              {isWalletCreated ? (\r\n                <div styleName='wallet-button'>\r\n                  <Button blue onClick={this.handleSaveMnemonic}>\r\n                    <FormattedMessage\r\n                      id=\"BTCMS_SaveMnemonicButton\"\r\n                      defaultMessage=\"Save secret phrase\"\r\n                    />\r\n                  </Button>\r\n                </div>\r\n              ) : (\r\n                <div styleName='wallet-button'>\r\n                  <Button blue onClick={this.handleCreateWallet}>\r\n                    <FormattedMessage\r\n                      id=\"menu.CreateWallet\"\r\n                      defaultMessage=\"Create wallet\"\r\n                    />\r\n                  </Button>\r\n                </div>\r\n              )}\r\n              <div styleName='wallet-button'>\r\n                <Button blue onClick={this.handleRestoreMnemonic.bind(this)}>\r\n                  <FormattedMessage\r\n                    id=\"MM_Wallet_Restore\"\r\n                    defaultMessage=\"Restore from 12-word seed\"\r\n                  />\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n        {!isBalanceFetching && tokenWallet && mnemonicSaved ? (\r\n          <div styleName={`section-items`}>\r\n            <div styleName='section-items__item' style={{ zIndex: 2 }}> {/* zIndex need for Tooltip */}\r\n              <div styleName={`mm-toggle`}>\r\n                <p styleName='mm-toggle__text'>\r\n                  <FormattedMessage\r\n                    id=\"MM_ToggleText\"\r\n                    defaultMessage=\"Marketmaking {utxoCoin}/{token}\"\r\n                    values={{\r\n                      utxoCoin: utxoCoin.toUpperCase(),\r\n                      token: tokenWallet.tokenKey.toUpperCase(),\r\n                    }}\r\n                  />\r\n                </p>\r\n                <span styleName='mm-toggle__switch'>\r\n                  <Toggle checked={isMarketEnabled} onChange={this.handleToggleMarketmaker.bind(this)} />\r\n                </span>\r\n              </div>\r\n              <div styleName='item-text__secondary'>\r\n                {isMarketEnabled ? (\r\n                  <span styleName='warning'>\r\n                    <FormattedMessage\r\n                      id=\"MM_ToggleTextEnabled\"\r\n                      defaultMessage=\"Warning! You must be online all the time...\"\r\n                    />\r\n                    {' '}\r\n                    <Tooltip id=\"WarningMessage\">\r\n                      <span styleName=\"tooltipText\">\r\n                        <FormattedMessage\r\n                          id=\"MM_WarningMessage\"\r\n                          defaultMessage=\"Warning! You must stay online all the time, otherwise you will not earn or if the swap is processing (can takes a few hour) you may LOOSE your funds! If you can't guarantee long uptime - turn off marketmakeing.\"\r\n                        />\r\n                      </span>\r\n                    </Tooltip>\r\n                  </span>\r\n                ) : (\r\n                  <FormattedMessage\r\n                    id=\"MM_ToggleTextDisabled\"\r\n                    defaultMessage=\"Turn on this toggle to start earn\"\r\n                  />\r\n                )}\r\n              </div>\r\n              <div styleName='item-text__secondary'>\r\n                <FormattedMessage\r\n                  id=\"MMPercentEarn\"\r\n                  defaultMessage=\"You will earn 0.5% from each swap\"\r\n                />\r\n                {' '}\r\n                <Tooltip id=\"FullEarnDiscription\">\r\n                  <span styleName=\"tooltipText\">\r\n                    <FormattedMessage\r\n                      id=\"MM_Promo_TitleBody\"\r\n                      defaultMessage=\"On swap.io users exchange {utxoCoin} for {token} (a token that costs like {utxoCoin}, but works on {Ab_Title}), and vice versa.\"\r\n                      values={{\r\n                        utxoCoin: utxoCoin.toUpperCase(),\r\n                        token: tokenWallet.tokenKey.toUpperCase(),\r\n                        Ab_Title: evmCoinWallet.fullName,\r\n                        link: <a href={links.impermanentLoss} target=\"_blank\">(?)</a>,\r\n                      }}\r\n                    />\r\n                  </span>\r\n                </Tooltip>\r\n              </div>\r\n            </div>\r\n            <div styleName='section-items__item'>\r\n              <h2 styleName='item-text__secondary-title'>\r\n                <FormattedMessage\r\n                  id=\"MM_TotalEarned\"\r\n                  defaultMessage=\"Total earned:\"\r\n                />\r\n              </h2>\r\n              <p>\r\n                <span styleName='balancePrimary'>\r\n                  0\r\n                </span>\r\n                {' '}\r\n                <span styleName='item-text__secondary'>\r\n                  <FormattedMessage\r\n                    id=\"MM_MarketmakingSimbols\"\r\n                    defaultMessage=\"{token} + {utxoCoin}\"\r\n                    values={{\r\n                      utxoCoin: utxoCoin.toUpperCase(),\r\n                      token: tokenWallet.tokenKey.toUpperCase(),\r\n                    }}\r\n                  />\r\n                </span>\r\n              </p>\r\n              <hr />\r\n              <h2 styleName='item-text__secondary-title'>\r\n                <FormattedMessage\r\n                  id=\"MM_MarketmakingBalanceTitle\"\r\n                  defaultMessage=\"Marketmaking Balance:\"\r\n                />\r\n              </h2>\r\n              <p>\r\n                <span styleName='balancePrimary'>\r\n                {isMarketEnabled ? (\r\n                  totalBalance\r\n                ) : (\r\n                  '0'\r\n                )}\r\n                </span>\r\n                {' '}\r\n                <span styleName='item-text__secondary'>\r\n                  <FormattedMessage\r\n                    id=\"MM_MarketmakingSimbols\"\r\n                    defaultMessage=\"{token} + {utxoCoin}\"\r\n                    values={{\r\n                      utxoCoin: utxoCoin.toUpperCase(),\r\n                      token: tokenWallet.tokenKey.toUpperCase(),\r\n                    }}\r\n                  />\r\n                </span>\r\n              </p>\r\n            </div>\r\n            {(true) && (\r\n              <>\r\n                <div styleName='section-items__item'>\r\n                  {utxoWallet ? (\r\n                      <>\r\n                        <h2 styleName='item-text__secondary-title'>\r\n                          <FormattedMessage\r\n                            id=\"MM_BTCBalance\"\r\n                            defaultMessage=\"Balance {utxoCoin}:\"\r\n                            values={{\r\n                              utxoCoin: utxoCoin.toUpperCase(),\r\n                            }}\r\n                          />\r\n                        </h2>\r\n                        <p>\r\n                          {utxoCoin === 'btc' && (\r\n                            <>\r\n                              <img src={btc} alt=\"btc\" />\r\n                              {' '}\r\n                            </>\r\n                          )}\r\n                          <span id='btcBalance' styleName='balanceSecondary'>{utxoBalance}</span>\r\n                        </p>\r\n                        <hr />\r\n                        <p styleName='item-text__secondary'>\r\n                          <FormattedMessage\r\n                            id=\"MM_DepositeWallet\"\r\n                            defaultMessage=\"to top up, transfer to\"\r\n                          />\r\n                          <br />\r\n                          <Address address={utxoWallet.address} format={AddressFormat.Full} />\r\n                        </p>\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <h2 styleName='item-text__secondary-title'>\r\n                          <FormattedMessage\r\n                            id=\"MM_BTCBalance\"\r\n                            defaultMessage=\"Balance {utxoCoin}:\"\r\n                            values={{\r\n                              utxoCoin: utxoCoin.toUpperCase()\r\n                            }}\r\n                          />\r\n                        </h2>\r\n                        <p>\r\n                          {utxoCoin === 'btc' && (\r\n                            <>\r\n                              <img src={btc} alt=\"btc\" />\r\n                              {' '}\r\n                            </>\r\n                          )}\r\n                          <span id='btcBalance' styleName='balanceSecondary'>{utxoBalance}</span>\r\n                        </p>\r\n                      </>\r\n                    )\r\n                  }\r\n                </div>\r\n                <div styleName='section-items__item'>\r\n                  <h2 styleName='item-text__secondary-title'>\r\n                    <FormattedMessage\r\n                      id=\"MM_TokenBalance\"\r\n                      defaultMessage=\"Balance {token}:\"\r\n                      values={{\r\n                        token: tokenWallet.tokenKey.toUpperCase(),\r\n                      }}\r\n                    />\r\n                  </h2>\r\n                  <div>\r\n                    {utxoCoin === 'btc' && (\r\n                      <>\r\n                        {config.binance ? (\r\n                          <img src={btc} alt=\"btcb\" />\r\n                        ): (\r\n                          <img styleName='iconPosition' src={wbtc} alt=\"wbtc\" />\r\n                        )}\r\n                        {' '}\r\n                      </>\r\n                    )}\r\n                    <span id='tokenBalance' styleName='balanceSecondary'>{tokenBalance}</span>\r\n                    {' '}\r\n                    {tokenWallet && (\r\n                      <Tooltip id=\"WhatIsToken\">\r\n                        <span styleName=\"tooltipText\">\r\n                          <FormattedMessage\r\n                            id=\"MM_whatIsWBTCTooltip1\"\r\n                            defaultMessage=\"{tokenFullName} ({token}) is an {tokenStandart} token that represents {utxoTitle} ({utxoCoin}) on the {blockchainName} blockchain.\"\r\n                            values={{\r\n                              utxoTitle: utxoWallet?.fullName || 'Bitcoin',\r\n                              utxoCoin: utxoCoin.toUpperCase(),\r\n                              tokenFullName: tokenWallet.fullName,\r\n                              tokenStandart: tokenWallet.standard.toUpperCase(),\r\n                              token: tokenWallet.currency.toUpperCase(),\r\n                              blockchainName: evmCoinWallet.fullName,\r\n                            }}\r\n                          />\r\n                          <br />\r\n                          <FormattedMessage\r\n                            id=\"MM_whatIsWBTCTooltip2\"\r\n                            defaultMessage=\"{token} was created to allow {utxoTitle} holders to participate in decentralized finance (DeFi) apps that are popular on {blockchainName}.\"\r\n                            values={{\r\n                              utxoTitle: utxoWallet?.fullName || 'Bitcoin',\r\n                              token: tokenWallet.currency.toUpperCase(),\r\n                              blockchainName: evmCoinWallet.fullName,\r\n                            }}\r\n                          />\r\n                        </span>\r\n                      </Tooltip>\r\n                    )}\r\n                  </div>\r\n                  {this._metamaskEnabled && (\r\n                    <div style={{ marginBottom: '15px' }}>\r\n                    {metamask.isConnected() ? (\r\n                        <Button blue onClick={this.processDisconnectWallet.bind(this)}>\r\n                          <FormattedMessage\r\n                            id=\"MM_DisconnectMetamask\"\r\n                            defaultMessage=\"Disconnect Metamask\"\r\n                          />\r\n                        </Button>\r\n                      ) : (\r\n                        <Button blue onClick={this.processConnectWallet.bind(this)}>\r\n                          <FormattedMessage\r\n                            id=\"MM_ConnectMetamask\"\r\n                            defaultMessage=\"Connect Metamask\"\r\n                          />\r\n                        </Button>\r\n                      )\r\n                    }\r\n                    </div>\r\n                  )}\r\n                  {evmCoinWallet && (\r\n                    <>\r\n                      <p styleName='item-text__secondary'>\r\n                        <FormattedMessage\r\n                          id=\"MM_ETHBalance\"\r\n                          defaultMessage=\"Balance {AB_Coin}: {balance} (for miners fee)\"\r\n                          values={{\r\n                            AB_Coin: evmCoinWallet.currency.toUpperCase(),\r\n                            balance: new BigNumber(ethBalance).dp(5).toNumber()\r\n                          }}\r\n                        />\r\n                      </p>\r\n                      <hr />\r\n                      <p styleName='item-text__secondary'>\r\n                        <FormattedMessage\r\n                          id=\"MM_DepositeWallet\"\r\n                          defaultMessage=\"to top up, transfer to\"\r\n                        />\r\n                        <br />\r\n                        <Address address={evmCoinWallet.address} format={AddressFormat.Full} />\r\n                      </p>\r\n                    </>\r\n                  )}\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          <>\r\n            {mnemonicSaved && (\r\n              <div styleName='controls-loader'>\r\n                <InlineLoader />\r\n              </div>\r\n            )}\r\n          </>\r\n        )}\r\n        </section>\r\n\r\n        {/* Swaps history + Active swaps */}\r\n        { mnemonicSaved && (\r\n          <section>\r\n            <h2 styleName=\"section-title\">\r\n              <FormattedMessage\r\n                id=\"MM_SwapHistory_Title\"\r\n                defaultMessage=\"Swap history\"\r\n              />\r\n            </h2>\r\n            <table styleName=\"swapHistory\">\r\n              <thead>\r\n                <tr>\r\n                  <td>\r\n                    <p>\r\n                      <FormattedMessage\r\n                        id=\"MM_SwapHistory_YouBuy\"\r\n                        defaultMessage=\"You buy\"\r\n                      />\r\n                    </p>\r\n                  </td>\r\n                  <td>\r\n                    <p>\r\n                      <FormattedMessage\r\n                        id=\"MM_SwapHistory_Step\"\r\n                        defaultMessage=\"Step\"\r\n                      />\r\n                    </p>\r\n                  </td>\r\n                  <td>\r\n                    <p>\r\n                      <FormattedMessage\r\n                        id=\"MM_SwapHistory_YouSell\"\r\n                        defaultMessage=\"You sell\"\r\n                      />\r\n                    </p>\r\n                  </td>\r\n                  <td>\r\n                    <p>\r\n                      <FormattedMessage\r\n                        id=\"MM_SwapHistory_LockTime\"\r\n                        defaultMessage=\"Lock time\"\r\n                      />\r\n                    </p>\r\n                  </td>\r\n                  <td>\r\n                    <p>\r\n                      <FormattedMessage\r\n                        id=\"MM_SwapHistory_Status\"\r\n                        defaultMessage=\"Status\"\r\n                      />\r\n                    </p>\r\n                  </td>\r\n                  <td></td>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {!!sortedSwaps.length && sortedSwaps.map((swapId, rowIndex) => {\r\n                  return (\r\n                    <SwapRow\r\n                      key={swapId}\r\n                      row={swapsByIds[swapId]}\r\n                      extractSwapStatus={this.extractSwapStatus}\r\n                    />\r\n                  )\r\n                })}\r\n                {!sortedSwaps.length && (\r\n                  <tr>\r\n                    <td colSpan={6}>\r\n                      <FormattedMessage\r\n                        id=\"MM_SwapHistory_Empty\"\r\n                        defaultMessage=\"You have not any swaps, turn on MM and wait when someone accept your orders\"\r\n                      />\r\n                    </td>\r\n                  </tr>\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </section>\r\n        )}\r\n\r\n\r\n        <FAQ />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(MarketmakerSettings)\r\n","import { PureComponent } from 'react'\r\nimport { connect } from 'redaction'\r\nimport { constants } from 'helpers'\r\nimport { localisedUrl } from 'helpers/locale'\r\nimport { injectIntl } from 'react-intl'\r\nimport actions from 'redux/actions'\r\nimport { links }    from 'helpers'\r\n\r\ntype CreateInvoiceProps = {\r\n  history: IUniversalObj\r\n  match: IUniversalObj\r\n  data: IUniversalObj\r\n}\r\n\r\n@connect(({\r\n  user: {\r\n    btcData,\r\n    ethData,\r\n    bnbData,\r\n    maticData,\r\n    arbethData,\r\n    aurethData,\r\n    xdaiData,\r\n    ftmData,\r\n    avaxData,\r\n    movrData,\r\n    oneData,\r\n    ghostData,\r\n    nextData,\r\n    phiData,\r\n    ameData,\r\n  },\r\n}) => {\r\n  return {\r\n    data: {\r\n      btc: btcData,\r\n      eth: ethData,\r\n      bnb: bnbData,\r\n      matic: maticData,\r\n      arbeth: arbethData,\r\n      aureth: aurethData,\r\n      xdai: xdaiData,\r\n      ftm: ftmData,\r\n      avax: avaxData,\r\n      movr: movrData,\r\n      one: oneData,\r\n      ghost: ghostData,\r\n      next: nextData,\r\n      phi: phiData,\r\n      ame: ameData,\r\n    }\r\n  }\r\n})\r\nclass CreateInvoice extends PureComponent<CreateInvoiceProps> {\r\n  constructor(props) {\r\n    super(props)\r\n  }\r\n\r\n  async componentDidMount() {\r\n    let {\r\n      match: {\r\n        params: {\r\n          type,\r\n          wallet,\r\n        },\r\n      },\r\n      data,\r\n    } = this.props\r\n\r\n    if (!data[type]) {\r\n      data[type] = actions.core.getWallet({\r\n        currency: type,\r\n      })\r\n    }\r\n\r\n    if (type && wallet && data[type]) {\r\n      const address = data[type].address\r\n\r\n      //@ts-ignore: strictNullChecks\r\n      actions.modals.open(constants.modals.InvoiceModal, {\r\n        currency: type.toUpperCase(),\r\n        toAddress: wallet,\r\n        address,\r\n        disableClose: true,\r\n      })\r\n\r\n      console.log(type)\r\n      await actions.user.getInfoAboutCurrency([type.toUpperCase()]);\r\n\r\n    } else {\r\n      this.props.history.push(localisedUrl(links.notFound))\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return null\r\n  }\r\n}\r\n\r\nexport default injectIntl(CreateInvoice)\r\n","import { PureComponent } from 'react'\r\nimport { connect } from 'redaction'\r\nimport actions from 'redux/actions'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { links, constants } from 'helpers'\r\nimport { injectIntl } from 'react-intl'\r\nimport { localisedUrl } from 'helpers/locale'\r\n\r\ntype InvoceProps = {\r\n  data: IUniversalObj\r\n  history: IUniversalObj\r\n  intl: IUniversalObj\r\n  match: IUniversalObj\r\n}\r\n\r\ntype InvoceState = {\r\n  doshare: boolean\r\n  isFetching: boolean\r\n  uniqhash: string\r\n  invoice: IUniversalObj | null\r\n  infoModal?: React.ClassicComponent\r\n}\r\n\r\n@withRouter\r\nclass Invoice extends PureComponent<InvoceProps, InvoceState> {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const {\r\n      match: {\r\n        params: {\r\n          uniqhash = null,\r\n          doshare = false,\r\n        },\r\n      },\r\n    } = props\r\n\r\n    this.state = {\r\n      uniqhash,\r\n      invoice: null,\r\n      isFetching: true,\r\n      doshare,\r\n    }\r\n  }\r\n\r\n  fetchInvoice = () => {\r\n    const { uniqhash, infoModal } = this.state\r\n    const { history, intl: { locale } } = this.props\r\n\r\n    if(uniqhash) {\r\n      //@ts-ignore: strictNullChecks\r\n      infoModal.setState({\r\n        isFetching: true,\r\n        uniqhash,\r\n      }, () => {\r\n        actions.invoices.getInvoice(\r\n          uniqhash\r\n        ).then((invoice) => {\r\n          if (invoice) {\r\n            //@ts-ignore: strictNullChecks\r\n            infoModal.setState({\r\n              isFetching: false,\r\n              invoice,\r\n            })\r\n          } else {\r\n            history.push(localisedUrl(locale, links.notFound))\r\n          }\r\n        })\r\n      })\r\n    }\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const {\r\n      uniqhash,\r\n      doshare,\r\n    } = this.state\r\n\r\n    const { history, intl: { locale } } = this.props\r\n\r\n    actions.modals.open(constants.modals.InfoInvoice, {\r\n      onClose: (isLocationChange) => {\r\n        if (!isLocationChange) {\r\n          history.push(localisedUrl(locale, links.invoices))\r\n        }\r\n      },\r\n      isFetching: true,\r\n      uniqhash,\r\n      doshare,\r\n      onFetching: (infoModal) => {\r\n        this.setState({\r\n          infoModal,\r\n        }, () => {\r\n          this.fetchInvoice()\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    let {\r\n      match: {\r\n        params: {\r\n          uniqhash = null,\r\n          doshare = false,\r\n        },\r\n      },\r\n    } = this.props\r\n\r\n    let {\r\n      match: {\r\n        params: {\r\n          uniqhash: prevUniqhash = null,\r\n          doshare: prevDoshare = false,\r\n        },\r\n      },\r\n    } = prevProps\r\n\r\n    if ((prevUniqhash !== uniqhash)\r\n      || (prevDoshare !== doshare)\r\n    ) {\r\n      const { infoModal } = this.state\r\n\r\n      this.setState({\r\n        uniqhash,\r\n        doshare,\r\n      }, () => {\r\n        //@ts-ignore: strictNullChecks\r\n        infoModal.setState((prevUniqhash !== uniqhash) ? {\r\n          invoice: false,\r\n          uniqhash,\r\n          isFetching: true,\r\n          doshare,\r\n          isShareReady: !(doshare),\r\n        } : {\r\n          doshare,\r\n          isShareReady: !(doshare),\r\n        } , () => {\r\n          this.fetchInvoice()\r\n        })\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return null\r\n  }\r\n}\r\n\r\nexport default injectIntl(Invoice)\r\n","import React, { Component } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\n\r\nclass ScrollToTop extends Component<any, any> {\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.location.pathname !== prevProps.location.pathname) {\r\n      window.scrollTo(0, 0)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return this.props.children\r\n  }\r\n}\r\n\r\nexport default withRouter(ScrollToTop)\r\n","import React from 'react'\r\nimport CSSModules from 'react-css-modules'  \r\nimport styles from './Field.scss'\r\n\r\nconst Field = ({ privateKey, label }) => (\r\n  <div styleName=\"row\">\r\n    <strong styleName=\"label\">{label}:</strong>{privateKey}\r\n  </div>\r\n)\r\n\r\nexport default CSSModules(Field, styles)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"row\":\"Ax9QUG0ePql1D-qJQ9T3mQ==\",\"label\":\"Q8Zz9+kjgsnaIJQ1BfnTiQ==\"};","import React, { Component } from 'react'\r\nimport { connect } from 'redaction'\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './SaveKeys.scss'\r\n\r\nimport Field from './Field/Field'\r\nimport Button from 'components/controls/Button/Button'\r\nimport Tooltip from 'components/ui/Tooltip/Tooltip'\r\nimport { FormattedMessage } from 'react-intl'\r\n\r\ntype SaveKeysProps = {\r\n  onChange: () => void\r\n  onDownload: () => void\r\n  data: IUniversalObj\r\n}\r\n\r\n@connect(({\r\n  user: {\r\n    ethData,\r\n    bnbData,\r\n    maticData,\r\n    arbethData,\r\n    aurethData,\r\n    xdaiData,\r\n    ftmData,\r\n    avaxData,\r\n    movrData,\r\n    oneData,\r\n    phi_v1Data,\r\n    phiData,\r\n    fkwData,\r\n    phpxData,\r\n    ameData,\r\n    btcData,\r\n    ghostData,\r\n    nextData,\r\n  }\r\n}) => ({\r\n  data: [\r\n    btcData,\r\n    bnbData,\r\n    maticData,\r\n    arbethData,\r\n    aurethData,\r\n    xdaiData,\r\n    ftmData,\r\n    avaxData,\r\n    movrData,\r\n    oneData,\r\n    phi_v1Data,\r\n    phiData,\r\n    fkwData,\r\n    phpxData,\r\n    ameData,\r\n    ethData,\r\n    ghostData,\r\n    nextData,\r\n  ]\r\n}))\r\n@CSSModules(styles)\r\nexport default class SaveKeys extends Component<SaveKeysProps, null> {\r\n  render() {\r\n    const {\r\n      data,\r\n      onChange,\r\n      onDownload,\r\n      ...otherProps\r\n    } = this.props\r\n\r\n    return (\r\n      <div {...otherProps}>\r\n        <div styleName=\"title\" >\r\n          <FormattedMessage\r\n            id=\"SaveKeys235\"\r\n            defaultMessage={`These are your private keys. Download the keys by clicking on the button or take a screenshot of this page, then confirm it and click here.`}\r\n          />\r\n        </div>\r\n\r\n        <div styleName=\"linked\" onClick={onChange}>\r\n          <FormattedMessage id=\"SaveKeys26\" defaultMessage=\"I saved the keys in a safe place\" />\r\n        </div>\r\n\r\n        <div styleName=\"row\" >\r\n          <div styleName=\"cell\" >\r\n            {data.map((currencyData, index) => {\r\n              return (\r\n                <Field\r\n                  key={index}\r\n                  label={currencyData.currency}\r\n                  privateKey={currencyData.privateKey}\r\n                />\r\n              )\r\n            })}\r\n          </div>\r\n          \r\n          <Button brand onClick={onDownload} id=\"SaveKeysDownload\">\r\n            <FormattedMessage id=\"SaveKe33\" defaultMessage=\"Download\" />\r\n          </Button>\r\n          {/* @ts-ignore: strictNullChecks */}\r\n          <Tooltip id=\"SaveKeysDownload\" mark={false} place=\"bottom\">\r\n            <FormattedMessage id=\"SaveKe37\" defaultMessage=\"Download text document with keys and accounts\" />\r\n          </Tooltip>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"_7M0+zTMGM3ExI7y9DiWeNg==\",\"row\":\"kbCunhXUTXT3gR8r7FDIOQ==\",\"cell\":\"YVSGY79S9kDKxNndPVxIuA==\",\"linked\":\"S0vhyceTktUFdt89XlNvlA==\"};","import React from 'react'\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './Confirm.scss'\r\n\r\nimport SubTitle from 'components/PageHeadline/SubTitle/SubTitle'\r\nimport Button from 'components/controls/Button/Button'\r\nimport Center from 'components/layout/Center/Center'\r\nimport { FormattedMessage } from 'react-intl'\r\n\r\ntype ComponentProps = {\r\n  rootClassName: string\r\n  isConfirm: () => void\r\n  isReject: () => void\r\n  title: () => JSX.Element\r\n  animation: boolean\r\n}\r\n\r\nconst Confirm = (props: ComponentProps) => {\r\n  const { rootClassName, isConfirm, isReject, title, animation } = props\r\n\r\n  return (\r\n    <Center>\r\n      <div styleName={animation ? 'confirm animation' : 'confirm'} className={rootClassName}>\r\n        <SubTitle>{title}</SubTitle>\r\n        <div styleName=\"row\">\r\n          <Button brand onClick={isConfirm}>\r\n            <h3>\r\n              <FormattedMessage id=\"Confirm20\" defaultMessage=\"Yes\" />\r\n            </h3>\r\n          </Button>\r\n          <Button brand onClick={isReject}>\r\n            <h3>\r\n              <FormattedMessage id=\"ConConfirm25firm20\" defaultMessage=\"No\" />\r\n            </h3>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </Center>\r\n  )\r\n}\r\n\r\nexport default cssModules(Confirm, styles, { allowMultiple: true })\r\n","// extracted by mini-css-extract-plugin\nexport default {\"confirm\":\"_4nUciFmwyP-hB5W0rzathA==\",\"animation\":\"FyIWsduRth5cakFAnBvHQQ==\",\"open\":\"_0b7vWwPT3vz7jKNUU16UVg==\",\"row\":\"aivtOhm1r3Y-0Sxy9JTr-A==\"};","// extracted by mini-css-extract-plugin\nexport default {\"areYouSure\":\"_9WhgCyOMMAh9aFYbIbo1HQ==\",\"testnetSkip\":\"VfNH7ee19TtjosFON47nMg==\"};","import React from 'react'\r\nimport cssModules from 'react-css-modules'\r\n\r\nimport actions from 'redux/actions'\r\nimport { fixBodyOverflow, createPortal } from 'helpers/domUtils'\r\n\r\nimport SaveKeys from 'components/SaveKeys/SaveKeys'\r\nimport PrivateKeysModal from 'components/modals/PrivateKeysModal/PrivateKeysModal'\r\nimport Modal from 'components/modal/Modal/Modal'\r\nimport links from 'helpers/links'\r\n\r\nimport Confirm from 'components/Confirm/Confirm'\r\nimport { constants } from 'helpers'\r\nimport styles from './SaveKeysModal.scss'\r\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl'\r\n\r\n\r\nconst views = {\r\n  saveKeys: 'saveKeys',\r\n  confirm: 'confirm',\r\n  approve: 'approve',\r\n}\r\n\r\nconst title = defineMessages({\r\n  Areyousure: {\r\n    id: 'Areyousure',\r\n    defaultMessage: 'Are you sure ?',\r\n  },\r\n})\r\n\r\nconst langLabels = defineMessages({\r\n  title: {\r\n    id: `SaveKeysModal_Title`,\r\n    defaultMessage: `Private keys export`,\r\n  }\r\n})\r\n\r\ntype SaveKeysModalProps = {\r\n  intl: IUniversalObj\r\n  view: string\r\n}\r\n\r\ntype SaveKeysModalState = {\r\n  view: string\r\n}\r\n\r\n@cssModules(styles, { allowMultiple: true })\r\nclass SaveKeysModal extends React.Component<SaveKeysModalProps, SaveKeysModalState> {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      view: props.view,\r\n    }\r\n  }\r\n\r\n  static defaultProps = {\r\n    view: views.saveKeys,\r\n  }\r\n\r\n  componentWillMount = () => {\r\n    fixBodyOverflow(true)\r\n  }\r\n\r\n  componentWillUnmount = () => {\r\n    fixBodyOverflow(false)\r\n  }\r\n\r\n  changeView = (view) => {\r\n    this.setState(() => ({\r\n      view,\r\n    }))\r\n  }\r\n\r\n  handleConfirm = () => {\r\n    this.changeView(views.approve)\r\n  }\r\n\r\n  handleDownload = () => {\r\n    actions.user.downloadPrivateKeys()\r\n  }\r\n\r\n  handleClose = () => {\r\n    window.location.assign(links.hashHome)\r\n  }\r\n\r\n  render() {\r\n    const { view } = this.state\r\n    const { intl } = this.props\r\n\r\n    return (\r\n      //@ts-ignore: strictNullChecks\r\n      <Modal name=\"SaveKeysModal\" title={`${intl.formatMessage(langLabels.title)}`} onClose={this.handleClose} showCloseButton>\r\n        {\r\n          process.env.TESTNET && (\r\n            <div styleName=\"testnetSkip\">\r\n              <a\r\n                href=\"#\"\r\n                onClick={() => {\r\n                  localStorage.setItem(constants.localStorage.testnetSkipPKCheck, 'true')\r\n                  this.forceUpdate()\r\n                }}>\r\n                <FormattedMessage id=\"SaveKeysModal\" defaultMessage=\"Testnet: Don`t ask again\" />\r\n              </a>\r\n            </div>\r\n          )\r\n        }\r\n        {\r\n          view === views.saveKeys &&\r\n          //@ts-ignore: strictNullChecks\r\n          <SaveKeys\r\n            onDownload={this.handleDownload}\r\n            onChange={() => {\r\n              this.changeView(views.confirm)\r\n              this.handleClose()\r\n            }}\r\n          />\r\n        }\r\n        {\r\n          view === views.confirm &&\r\n          createPortal(\r\n            <Confirm\r\n              rootClassName={styles.areYouSure}\r\n              title={intl.formatMessage(title.Areyousure)}\r\n              isConfirm={() => this.handleConfirm()}\r\n              isReject={() => this.changeView(views.saveKeys)}\r\n              animation={view === views.confirm}\r\n            />\r\n          )\r\n        }\r\n        {\r\n          view === views.approve &&\r\n          createPortal(<PrivateKeysModal />)\r\n        }\r\n\r\n      </Modal >\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(SaveKeysModal)\r\n","import { isMobile } from 'react-device-detect'\r\n\r\nimport { Switch, Route } from 'react-router-dom'\r\n\r\nimport { links } from 'helpers'\r\nimport LocalStorage from 'pages/LocalStorage/LocalStorage'\r\nimport SwapComponent from 'pages/Swap/Swap'\r\nimport TurboSwap from 'pages/TurboSwap/TurboSwap'\r\nimport History from 'pages/History/History'\r\nimport CreateWallet from 'pages/CreateWallet/CreateWallet'\r\nimport NotFound from 'pages/NotFound/NotFound'\r\nimport Wallet from 'pages/Wallet/Wallet'\r\nimport Exchange from 'shared/pages/Exchange'\r\nimport CurrencyWallet from 'pages/CurrencyWallet/CurrencyWallet'\r\nimport Transaction from 'pages/Transaction/Transaction'\r\nimport BtcMultisignProcessor from 'pages/Multisign/Btc/Btc'\r\n\r\nimport MarketmakerPromo from 'pages/Marketmaker/MarketmakerPromo'\r\nimport MarketmakerSettings from 'pages/Marketmaker/MarketmakerSettings'\r\n\r\nimport CreateInvoice from 'pages/Invoices/CreateInvoice'\r\nimport InvoicesList from 'pages/Invoices/InvoicesList'\r\nimport Invoice from 'pages/Invoices/Invoice'\r\n\r\nimport ScrollToTop from '../components/layout/ScrollToTop/ScrollToTop'\r\nimport SaveMnemonicModal from \"components/modals/SaveMnemonicModal/SaveMnemonicModal\"\r\nimport SaveKeysModal from \"components/modals/SaveKeysModal/SaveKeysModal\"\r\n\r\nimport RestoreWalletSelectMethod from \"components/modals/RestoreWalletSelectMethod/RestoreWalletSelectMethod\"\r\nimport ShamirsSecretRestory from \"components/modals/ShamirsSecretRestory/ShamirsSecretRestory\"\r\nimport RestoryMnemonicWallet from \"components/modals/RestoryMnemonicWallet/RestoryMnemonicWallet\"\r\n\r\n\r\nconst routes = (\r\n  <ScrollToTop>\r\n    <Switch>\r\n      <Route exact path={`/:page(exit)`} component={Wallet} />\r\n\r\n      <Route path={`${links.atomicSwap}/:orderId`} component={SwapComponent} />\r\n      <Route path={`${links.turboSwap}/:orderId`} component={TurboSwap} />\r\n\r\n      <Route path={`/:ticker(btc|eth|bnb|matic|arbeth|aureth|xdai|ftm|avax|movr|one|phi_v1|phi|fkw|phpx|ame|ghost|next)/tx/:tx?`} component={Transaction} />\r\n      <Route path={`/:token(token)/:ticker/tx/:tx?`} component={Transaction} />\r\n\r\n      <Route\r\n        path={`/:ticker(btc|eth|bnb|matic|arbeth|aureth|xdai|ftm|avax|movr|one|phi_v1|phi|fkw|phpx|ame|ghost|next)/:address/:action(receive|send)?`}\r\n        component={CurrencyWallet}\r\n      />\r\n      <Route\r\n        path={`/:token(token)/:ticker/:address/:action(receive|send)?`}\r\n        component={CurrencyWallet}\r\n      />\r\n      <Route path={`/:token(token)/:ticker/:address`} component={CurrencyWallet} />\r\n      <Route path={`/:token(token)/:ticker/:address/withdraw`} component={CurrencyWallet} />\r\n      <Route path={`/:fullName-wallet/:address?`} component={CurrencyWallet} />\r\n\r\n      <Route path={`${links.exchange}/quick/createOrder`} component={Exchange} />\r\n      <Route path={`${links.exchange}/quick/:sell-to-:buy`} component={Exchange} />\r\n      <Route path={`${links.exchange}/quick`} component={Exchange} />\r\n      <Route path={`${links.exchange}/:sell-to-:buy/:linkedOrderId`} component={Exchange} />\r\n      <Route path={`${links.exchange}/:sell-to-:buy`} component={Exchange} />\r\n      <Route path={`${links.exchange}`} component={Exchange} />\r\n\r\n      <Route path={`${links.localStorage}`} component={LocalStorage} />\r\n\r\n      <Route path={`${links.send}/:currency/:address/:amount`} component={Wallet} />\r\n      <Route path={`${links.wallet}`} component={Wallet} />\r\n\r\n      <Route exact path={`${links.createWallet}`} component={CreateWallet} />\r\n      <Route path={`${links.createWallet}/:currency`} component={CreateWallet} />\r\n      <Route path={`${links.restoreWallet}`} component={RestoreWalletSelectMethod} />\r\n      <Route path={`${links.restoreWalletMnemonic}`} component={RestoryMnemonicWallet} />\r\n      <Route path={`${links.restoreWalletShamirs}`} component={ShamirsSecretRestory} />\r\n\r\n      <Route path={`${links.multisign}/btc/:action/:data/:peer`} component={BtcMultisignProcessor} />\r\n      <Route path={`${links.multisign}/btc/:action/:data`} component={BtcMultisignProcessor} />\r\n\r\n      <Route path={`${links.createInvoice}/:type/:wallet`} component={CreateInvoice} />\r\n      {isMobile && <Route path={`${links.invoices}/:type?/:address?`} component={InvoicesList} />}\r\n      <Route path={`${links.invoice}/:uniqhash?/:doshare?`} component={Invoice} />\r\n\r\n      <Route path={`${links.savePrivateSeed}`} component={SaveMnemonicModal} />\r\n      <Route path={`${links.savePrivateKeys}`} component={SaveKeysModal} />\r\n\r\n      <Route exact path={`${links.notFound}`} component={NotFound} />\r\n      <Route exact path={`/`} component={Wallet} />\r\n      <Route exact path={`${links.connectWallet}`} component={Wallet} />\r\n\r\n      <Route exact path={`${links.marketmaker}`} component={MarketmakerPromo} />\r\n      <Route exact path={`${links.marketmaker_short}`} component={MarketmakerPromo} />\r\n      <Route path={`${links.marketmaker}/:token/:utxoCoin?`} component={MarketmakerSettings} />\r\n      <Route path={`${links.marketmaker_short}/:token/:utxoCoin?`} component={MarketmakerSettings} />\r\n\r\n      {/* In desktop mode - the history is shown in the wallet design */}\r\n      {!isMobile && (\r\n        <Switch>\r\n          <Route exact path={`/:page(invoices)/:type?/:address?`} component={Wallet} />\r\n          <Route exact path={`/:page(history)`} component={Wallet} />\r\n        </Switch>\r\n      )}\r\n      {isMobile && (\r\n        <Switch>\r\n          <Route exact path={`${links.history}/(btc)?/:address?`} component={History} />\r\n          <Route exact path={`/:page(invoices)/:type?/:address?`} component={History} />\r\n        </Switch>\r\n      )}\r\n      <Route path={`${links.currencyWallet}`} component={Wallet} />\r\n\r\n      <Route component={NotFound} />\r\n    </Switch>\r\n  </ScrollToTop>\r\n)\r\n\r\nexport default routes","import React, { Component } from 'react'\r\n\r\nimport SwapApp from 'swap.app'\r\nimport actions from 'redux/actions'\r\nimport { connect } from 'redaction'\r\nimport metamask from 'helpers/metamask'\r\nimport { onInit as onSwapCoreInited } from 'instances/newSwap'\r\n\r\n\r\n@connect(({ pubsubRoom }) => ({ pubsubRoom }))\r\nexport default class Core extends Component<any, any> {\r\n  _mounted = true\r\n  state = {\r\n    orders: [],\r\n  }\r\n\r\n  componentDidMount() {\r\n    onSwapCoreInited(() => {\r\n      if (!this._mounted) return\r\n      actions.core.getSwapHistory()\r\n      //@ts-ignore: strictNullChecks\r\n      SwapApp.shared().services.orders\r\n        .on('new orders', this.updateOrders)\r\n        .on('new order', this.updateOrders)\r\n        .on('order update', this.updateOrders)\r\n        .on('remove order', this.updateOrders)\r\n        .on('new order request', this.updateOrders)\r\n      this.setPubsub()\r\n    })\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._mounted = false\r\n    try {\r\n      //@ts-ignore: strictNullChecks\r\n      SwapApp.shared().services.orders\r\n        .off('new orders', this.updateOrders)\r\n        .off('new order', this.updateOrders)\r\n        .off('order update', this.updateOrders)\r\n        .off('remove order', this.updateOrders)\r\n        .off('new order request', this.updateOrders)\r\n\r\n      //@ts-ignore: strictNullChecks\r\n      if (SwapApp.shared().services.room.connection) {\r\n        console.log('leave room')\r\n        //@ts-ignore: strictNullChecks\r\n        SwapApp.shared().services.room.connection\r\n          .removeListener('peer joined', actions.pubsubRoom.userJoined)\r\n          .removeListener('peer left', actions.pubsubRoom.userLeft)\r\n        //@ts-ignore: strictNullChecks\r\n        SwapApp.shared().services.room.connection.leave()\r\n      }\r\n    } catch (e) {\r\n      console.warn('Core unmount - not inited. skip')\r\n    }\r\n  }\r\n\r\n  setPubsub = () => {\r\n    const setupPubSubRoom = () => {\r\n      try {\r\n        const { pubsubRoom } = this.props\r\n\r\n        if (pubsubRoom.isOnline) return\r\n\r\n        //@ts-ignore: strictNullChecks\r\n        if (!SwapApp.shared().services.room.connection) {\r\n          throw new Error(`SwapRoom not ready`)\r\n        }\r\n\r\n        //@ts-ignore: strictNullChecks\r\n        const isOnline = SwapApp.shared().services.room.connection.isOnline()\r\n        //@ts-ignore: strictNullChecks\r\n        const { peer } = SwapApp.shared().services.room\r\n\r\n        this.updateOrders()\r\n\r\n        actions.core.initPartialOrders()\r\n\r\n        if (actions.core.hasHiddenOrders()) {\r\n          actions.core.showMyOrders()\r\n        }\r\n\r\n        //@ts-ignore: strictNullChecks\r\n        SwapApp.shared().services.room.connection\r\n          .on('peer joined', actions.pubsubRoom.userJoined)\r\n          .on('peer left', actions.pubsubRoom.userLeft)\r\n\r\n        // BTC Multisign\r\n        //@ts-ignore: strictNullChecks\r\n        SwapApp.shared().services.room.on('btc multisig join', actions.btcmultisig.onUserMultisigJoin)\r\n\r\n        clearInterval(pubsubLoadingInterval)\r\n\r\n        actions.pubsubRoom.set({\r\n          isOnline,\r\n          peer,\r\n        })\r\n      } catch (error) {\r\n        console.warn('pubsubRoom setup:', error)\r\n      }\r\n    }\r\n\r\n    //@ts-ignore: strictNullChecks\r\n    SwapApp.shared().services.room.on('ready', setupPubSubRoom)\r\n\r\n    const pubsubLoadingInterval = setInterval(setupPubSubRoom, 5000)\r\n  }\r\n\r\n  updateOrders = () => {\r\n    //@ts-ignore: strictNullChecks\r\n    const orders = SwapApp.shared().services.orders.items\r\n    this.setState(() => ({\r\n      orders,\r\n    }))\r\n    actions.core.updateCore()\r\n  }\r\n\r\n  render() {\r\n    return null\r\n  }\r\n}\r\n","import { useEffect, useState } from 'react'\r\nimport { connect } from 'redaction'\r\nimport { transactions, constants } from 'helpers'\r\nimport reducers from 'redux/core/reducers'\r\nimport actions from 'redux/actions'\r\n\r\nfunction Transactions(props) {\r\n  const { pendingQueue, children } = props\r\n  const [currentHash, setCurrentHash] = useState('')\r\n  const customCheckInterval = 3_000\r\n  const transactionResetInterval = 25_000\r\n  let changingInterval = customCheckInterval\r\n\r\n  useEffect(() => {\r\n    let intervalId: ReturnType<typeof setTimeout> | undefined = undefined\r\n\r\n    const resetState = () => {\r\n      reducers.transactions.removeLastTransactionFromQueue()\r\n      changingInterval = customCheckInterval\r\n\r\n      if (intervalId) clearInterval(intervalId)\r\n    }\r\n\r\n    if (pendingQueue.length) {\r\n      if (currentHash !== pendingQueue[0].hash) {\r\n        const { networkData, hash } = pendingQueue[0]\r\n        const web3 = actions[networkData.currency.toLowerCase()].Web3\r\n\r\n        setCurrentHash(hash)\r\n\r\n        intervalId = setInterval(async () => {\r\n          try {\r\n            const receipt = await web3.eth.getTransactionReceipt(hash)\r\n\r\n            if (transactionResetInterval === changingInterval) {\r\n              resetState()\r\n            }\r\n\r\n            if (receipt !== null) {\r\n              const link = transactions.getLink(\r\n                networkData.currency.toLowerCase(),\r\n                receipt.transactionHash,\r\n              )\r\n\r\n              actions.notifications.show(constants.notifications.Transaction, {\r\n                completed: true,\r\n                failed: !receipt.status,\r\n                link,\r\n              })\r\n\r\n              resetState()\r\n            }\r\n          } catch (error) {\r\n            changingInterval += 500\r\n\r\n            console.group('%c fail on check receipt', 'color: red;')\r\n            console.log(error)\r\n            console.groupEnd()\r\n          }\r\n        }, changingInterval)\r\n      }\r\n    }\r\n\r\n    return () => {\r\n      if (intervalId) clearInterval(intervalId)\r\n    }\r\n  }, [pendingQueue.length])\r\n\r\n  return children\r\n}\r\n\r\nexport default connect(({ transactions }) => ({\r\n  pendingQueue: transactions.pendingQueue,\r\n}))(Transactions)\r\n","import React from 'react'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport styles from './index.scss'\r\nimport cx from 'classnames'\r\nimport { feedback } from 'helpers'\r\n\r\ntype ComponentProps = {\r\n  children: JSX.Element | JSX.Element[]\r\n}\r\n\r\ntype ComponentState = {\r\n  error: false | IError\r\n  errorInfo: undefined | IUniversalObj\r\n}\r\n\r\nexport default class ErrorBoundary extends React.Component<ComponentProps, ComponentState> {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      error: false,\r\n      errorInfo: undefined,\r\n    }\r\n  }\r\n\r\n  static getDerivedStateFromError(error) {\r\n    return { error }\r\n  }\r\n\r\n  componentDidCatch(error, errorInfo) {\r\n    feedback.app.failed(`App Error: ${error.message}`)\r\n    console.group('%c ERROR INTERCEPTED', 'color: red; font-size: 14px')\r\n    console.error(error)\r\n    console.groupEnd()\r\n\r\n    this.setState(() => ({\r\n      error,\r\n      errorInfo,\r\n    }))\r\n  }\r\n\r\n  render() {\r\n    const { children } = this.props\r\n    const { error } = this.state\r\n\r\n    if (error) {\r\n      return (\r\n        <div\r\n          className={cx({\r\n            [styles.errorWrapper]: true,\r\n          })}\r\n        >\r\n          <h2\r\n            className={cx({\r\n              [styles.errorTitle]: true,\r\n            })}\r\n          >\r\n            <FormattedMessage\r\n              id=\"AppErrorMessage\"\r\n              defaultMessage=\"Something wrong. Try to come back on the home page or reload this page.\"\r\n            />\r\n          </h2>\r\n\r\n          {error.message ? (\r\n            <pre\r\n              className={cx({\r\n                [styles.errorCode]: true,\r\n              })}\r\n            >\r\n              Error: {error.message}\r\n            </pre>\r\n          ) : null}\r\n        </div>\r\n      )\r\n    }\r\n\r\n    return children\r\n  }\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"errorWrapper\":\"HKvXinMSU--7QDRUKdSpwQ==\",\"errorTitle\":\"ZF3X87KlF3GikhKW0MSvig==\",\"errorCode\":\"LOie7UhjF7AM5ZCj104Bqw==\"};","// extracted by mini-css-extract-plugin\nexport default {\"themeSwitcher\":\"qfsM2ASNler6bVhacQocJA==\",\"rightArea\":\"KQK3XR-hBtjQWJJfiKSnIw==\",\"leftArea\":\"YabTdg0oEB4b5LJWr0MYYg==\",\"header\":\"UDr8FBL-nqYlrQMtVIdncg==\",\"header-mobile\":\"Yo4zvg3vqkgxpiScBQtKFA==\",\"flexebleHeader\":\"mtTekCqk7-HE069hoqcT1Q==\",\"widgetHeader\":\"HgXaDKmnDds8tV9fdUCupw==\",\"logoutWrapper\":\"_6UnbU39QTkVaccAGxqYiQA==\",\"header-promo\":\"Rdr58EXYfPbHP2+LWOcubA==\",\"loaderCreateWallet\":\"lgCcpVeZ9y4Z-rizzTxzXg==\",\"walletTour\":\"CSa3i70U42JtU88Op1s05Q==\"};","// extracted by mini-css-extract-plugin\nexport default {\"nav\":\"EL6ckQUZLu1VyDc4aYvcjw==\",\"mainMenu\":\"O145b0yoNhNnmXpKrXUI3Q==\",\"link\":\"IuVXas2Mx8xUM75YJ2Ps+Q==\",\"active\":\"JO4HBrH9+e5lqdKo7i2PMw==\"};","import React, { Component, Fragment } from 'react'\r\nimport { NavLink, withRouter } from 'react-router-dom'\r\nimport CSSModules from 'react-css-modules'\r\nimport { injectIntl } from 'react-intl'\r\nimport styles from './Nav.scss'\r\nimport { localisedUrl } from 'helpers/locale'\r\nimport config from 'helpers/externalConfig'\r\n\r\n\r\n\r\ntype NavProps = {\r\n  menu: IUniversalObj[]\r\n  intl: any\r\n}\r\n\r\n//@ts-ignore: strictNullChecks\r\n@withRouter\r\n@CSSModules(styles, { allowMultiple: true })\r\nclass Nav extends Component<NavProps, null> {\r\n  render() {\r\n    const {\r\n      menu,\r\n      intl: { locale },\r\n    } = this.props\r\n\r\n    const beforeMenuItems = config.opts.ui.menu.before\r\n    const afterMenuItems = config.opts.ui.menu.after\r\n\r\n    return (\r\n      <div styleName='nav'>\r\n        {beforeMenuItems && beforeMenuItems.length > 0 && (\r\n          <>\r\n          {\r\n            beforeMenuItems.map((item, index) => {\r\n              const { title, link, newwindow } = item\r\n              return (\r\n                <div styleName='mainMenu' key={index} className=\"data-tut-widget-tourFinish\">\r\n                  <a\r\n                    href={link}\r\n                    target={(newwindow) ? `_blank` : `_self`}\r\n                    styleName=\"link\"\r\n                  >\r\n                    {title}\r\n                  </a>\r\n                </div>\r\n              )\r\n            })\r\n          }\r\n          </>\r\n        )}\r\n        <Fragment>\r\n          {menu\r\n            .filter(i => i.isDesktop !== false)\r\n            .map((item, index) => {\r\n              const { title, link, exact, isExternal } = item\r\n\r\n              return (\r\n                <div styleName='mainMenu' key={index} className=\"data-tut-widget-tourFinish\">\r\n                  {isExternal ? (\r\n                    <a\r\n                      href={link}\r\n                      target=\"_blank\"\r\n                      styleName=\"link\"\r\n                    >\r\n                      {title}\r\n                    </a>\r\n                  ) : (\r\n                    <NavLink\r\n                      key={index}\r\n                      exact={exact}\r\n                      className={`\r\n                        ${styles.link}\r\n                        ${link && link.includes('exchange') ? 'reactour-exchange data-tut-widget-exchange' : ''}\r\n                      `}\r\n                      to={localisedUrl(locale, link)}\r\n                      activeClassName={styles.active}\r\n                    >\r\n                      {title}\r\n                    </NavLink>\r\n                  )}\r\n                </div>\r\n              );\r\n            })}\r\n        </Fragment>\r\n        {afterMenuItems && afterMenuItems.length > 0 && (\r\n          <>\r\n          {\r\n            afterMenuItems.map((item, index) => {\r\n              const { title, link, newwindow } = item\r\n              return (\r\n                <div styleName='mainMenu' key={index} className=\"data-tut-widget-tourFinish\">\r\n                  <a\r\n                    href={link}\r\n                    target={(newwindow) ? `_blank` : `_self`}\r\n                    styleName=\"link\"\r\n                  >\r\n                    {title}\r\n                  </a>\r\n                </div>\r\n              )\r\n            })\r\n          }\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n//@ts-ignore: strictNullChecks\r\nexport default injectIntl(Nav)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"navbar\":\"_4-qmPIoxEKpptjEgVVPEYQ==\",\"navbar-hidden\":\"RP09CssD4ENgo7PT23-CNg==\",\"show-own-menu\":\"UPPvTGFvqdZJjEWAT9Nkew==\",\"active\":\"S2ng3iiwMQYemSlxdcl5IQ==\",\"navbar-dropmenu-bg\":\"kfRKfFEWPnm818I30-kbpA==\",\"navbar-dropmenu\":\"iNrYfD-oS1tmN7JomH7yBQ==\",\"bold\":\"iFq27BeE97lv++8IpbTtuA==\"};","import React, { Component } from 'react'\r\nimport { NavLink, withRouter } from 'react-router-dom'\r\nimport { injectIntl } from 'react-intl'\r\n\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './NavMobile.scss'\r\nimport { localisedUrl } from 'helpers/locale'\r\nimport config from 'helpers/externalConfig'\r\n\r\n\r\ntype NavProps = {\r\n  menu: IUniversalObj[]\r\n  isHidden?: boolean\r\n  intl: any\r\n}\r\n\r\ntype NavMobileState = {\r\n  ownMenuShowed: boolean\r\n}\r\n//@ts-ignore: strictNullChecks\r\n@withRouter\r\n@CSSModules(styles, { allowMultiple: true })\r\nclass NavMobile extends Component<NavProps, NavMobileState> {\r\n  \r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      ownMenuShowed: false,\r\n    }\r\n  }\r\n\r\n  toggleOwnMenu = () => {\r\n    const { ownMenuShowed } = this.state\r\n    this.setState({\r\n      ownMenuShowed: !ownMenuShowed,\r\n    })\r\n  }\r\n\r\n  hideOwnMenu = () => {\r\n    this.setState({\r\n      ownMenuShowed: false,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      menu,\r\n      intl: { locale },\r\n      isHidden,\r\n    } = this.props\r\n    const { ownMenuShowed } = this.state\r\n\r\n    const beforeMenuItems = config.opts.ui.menu.before\r\n    const afterMenuItems = config.opts.ui.menu.after\r\n    const ownMenuItems = [\r\n      ...beforeMenuItems,\r\n      ...afterMenuItems,\r\n    ]\r\n\r\n    let dropDownMenu = null\r\n    if (ownMenuItems.length) {\r\n      // @ts-ignore\r\n      dropDownMenu = (\r\n        <>\r\n          <div onClick={this.hideOwnMenu.bind(this)} styleName={`navbar-dropmenu-bg ${ownMenuShowed ? 'active' : ''}`}></div>\r\n          <div styleName={`navbar-dropmenu ${ownMenuShowed ? 'active' : ''}`}>\r\n          {\r\n            ownMenuItems.map((item, index) => {\r\n              const { title, link, newwindow } = item\r\n              return (\r\n                <a\r\n                  onClick={this.hideOwnMenu.bind(this)}\r\n                  href={link}\r\n                  key={index}\r\n                  target={(newwindow) ? `_blank` : `_self`}\r\n                >\r\n                  {title}\r\n                </a>\r\n              )\r\n            })\r\n          }\r\n          </div>\r\n        </>\r\n      )\r\n    }\r\n    return (\r\n      <nav>\r\n        {dropDownMenu}\r\n        <div styleName={`navbar ${isHidden ? 'navbar-hidden' : ''}`}>\r\n          {ownMenuItems.length > 0 && (\r\n            <a onClick={this.toggleOwnMenu.bind(this)} styleName={`show-own-menu ${ownMenuShowed ? 'active' : ''}`}>\r\n              <i className=\"fa fa-bars\" aria-hidden=\"true\"></i>\r\n            </a>\r\n          )}\r\n          {menu\r\n            .filter(i => i.isMobile !== false)\r\n            .map((item, index) => {\r\n              const {\r\n                title,\r\n                link,\r\n                exact,\r\n                icon,\r\n                isBold,\r\n                isExternal,\r\n                currentPageFlag,\r\n                displayNone,\r\n              } = item\r\n\r\n              if (isExternal) {\r\n                return (\r\n                  <a href={link} target=\"_blank\" key={index}>\r\n                    {icon}\r\n                    <span className={isBold && styles.bold}>{title}</span>\r\n                  </a>\r\n                )\r\n              }\r\n\r\n              return !displayNone && currentPageFlag ? (\r\n                  <a\r\n                    key={index}\r\n                    href={link}\r\n                    tabIndex={-1}\r\n                  >\r\n                    {icon}\r\n                    <span className={isBold && styles.bold}>{title}</span>\r\n                  </a>\r\n                ) : (\r\n                  <NavLink\r\n                    key={index}\r\n                    exact={exact}\r\n                    to={localisedUrl(locale, link)}\r\n                    className={`\r\n                      ${link && link.includes(\"history\") ? 'data-tut-recent' : ''}\r\n                      ${link && link.includes(\"exchange\") ? 'reactour-exchange data-tut-widget-exchange' : ''}\r\n                    `}\r\n                    activeClassName={ownMenuShowed ? styles.bold : styles.active}\r\n                  >\r\n                    {icon}\r\n                    <span className={isBold && styles.bold}>{title}</span>\r\n                  </NavLink>\r\n                )\r\n            })\r\n          }\r\n        </div>\r\n      </nav>\r\n    )\r\n  }\r\n}\r\n\r\n//@ts-ignore: strictNullChecks\r\nexport default injectIntl(NavMobile)\r\n","export default __webpack_public_path__ + \"images/logo-colored_2fdf14.svg\";","import React, { Component, Fragment } from 'react'\r\nimport { FormattedMessage, injectIntl } from 'react-intl'\r\n\r\nimport { Link, withRouter } from 'react-router-dom'\r\nimport { links, constants } from 'helpers'\r\n\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './Logo.scss'\r\n\r\nimport ThemeTooltip from '../../ui/Tooltip/ThemeTooltip'\r\n\r\nimport logoBlack from 'shared/images/logo/logo-black.svg'\r\nimport logoColored from 'shared/images/logo/logo-colored.svg'\r\n\r\n\r\n/* uncomment to debug */\r\n//window.logoUrl = 'https://wallet.wpmix.net/wp-content/uploads/2020/07/yourlogohere.png'\r\n//window.logoUrl = 'https://upload.wikimedia.org/wikipedia/commons/thumb/2/24/Samsung_Logo.svg/640px-Samsung_Logo.svg.png'\r\n//window.logoUrl = 'https://www.laocommerce.com/wp-content/uploads/2020/05/logo.png'\r\n//window.logoUrl = 'https://www.swappeers.com/wp-content/uploads/2020/10/sp-1.png'\r\n//window.logoUrl = 'https://www.business.bet/images/bb.svg'\r\n//window.darkLogoUrl = ...\r\n//window.logoUrl = \"#\"\r\n//window.LOGO_REDIRECT_LINK = 'https://www.google.com/'\r\n\r\n\r\nconst isDark = localStorage.getItem(constants.localStorage.isDark)\r\nconst isMainnet = process.env.MAINNET\r\n\r\n@withRouter\r\n@CSSModules(styles, { allowMultiple: true })\r\nclass Logo extends Component<any, {}> {\r\n\r\n  render() {\r\n    const {\r\n      intl: { locale },\r\n    } = this.props;\r\n\r\n    const isCustomLogo = window.logoUrl !== '#'\r\n    const customLogoUrl = isDark ?\r\n      window.darkLogoUrl || window.logoUrl\r\n      :\r\n      window.logoUrl\r\n\r\n    const isCustomLogoLink = window.LOGO_REDIRECT_LINK as boolean\r\n    const customLogoLink = window.LOGO_REDIRECT_LINK\r\n\r\n    const imgSrc = isCustomLogo ?\r\n      customLogoUrl\r\n      :\r\n      isMainnet ? logoColored : logoBlack\r\n\r\n    const imgAlt = window.location.hostname\r\n\r\n    const goToUrl = isCustomLogoLink ? customLogoLink : links.home\r\n\r\n    return (\r\n      <div styleName=\"logoWrapper\">\r\n        {isCustomLogoLink ?\r\n          <a href={goToUrl}>\r\n            <img src={imgSrc} alt={imgAlt} />\r\n          </a>\r\n          :\r\n          <Fragment>\r\n            <Link to={goToUrl} data-tip data-for=\"logo\">\r\n              <img src={imgSrc} alt={imgAlt} />\r\n            </Link>\r\n            <ThemeTooltip id=\"logo\" effect=\"solid\" place=\"bottom\">\r\n              <FormattedMessage id=\"logo29\" defaultMessage=\"Go Home\" />\r\n            </ThemeTooltip>\r\n          </Fragment>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default injectIntl(Logo)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"logoWrapper\":\"GAvPglIciNZZ5s-mhlqvIg==\"};","import React from \"react\"\r\nimport CSSModules from \"react-css-modules\"\r\nimport { FormattedMessage } from 'react-intl'\r\nimport styles from \"./Header.scss\"\r\nimport ThemeTooltip from '../ui/Tooltip/ThemeTooltip'\r\n\r\nconst sun = (fill) => (\r\n  <svg id=\"Capa_1\" viewBox=\"0 0 512 512\" width=\"20\" height=\"20\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <g>\r\n      <g>\r\n        <path fill={fill} d=\"m256 360.099c-57.4 0-104.099-46.698-104.099-104.099s46.699-104.099 104.099-104.099 104.099 46.699 104.099 104.099-46.699 104.099-104.099 104.099zm0-178.198c-40.858 0-74.099 33.241-74.099 74.099s33.24 74.099 74.099 74.099 74.099-33.241 74.099-74.099-33.241-74.099-74.099-74.099z\" />\r\n      </g>\r\n      <g>\r\n        <path fill={fill} d=\"m256 116.071c-8.284 0-15-6.716-15-15v-86.071c0-8.284 6.716-15 15-15s15 6.716 15 15v86.071c0 8.284-6.716 15-15 15z\" />\r\n      </g>\r\n      <g>\r\n        <path fill={fill} d=\"m146.449 161.449c-3.839 0-7.678-1.464-10.606-4.393l-60.863-60.862c-5.858-5.858-5.858-15.355 0-21.213 5.857-5.858 15.355-5.858 21.213 0l60.862 60.861c5.858 5.858 5.858 15.355 0 21.213-2.928 2.929-6.767 4.394-10.606 4.394z\" />\r\n      </g>\r\n      <g>\r\n        <path fill={fill} d=\"m101.071 271h-86.071c-8.284 0-15-6.716-15-15s6.716-15 15-15h86.071c8.284 0 15 6.716 15 15s-6.716 15-15 15z\" />\r\n      </g>\r\n      <g>\r\n        <path fill={fill} d=\"m85.587 441.413c-3.839 0-7.678-1.464-10.606-4.394-5.858-5.858-5.858-15.355 0-21.213l60.862-60.861c5.858-5.857 15.356-5.857 21.213 0 5.858 5.858 5.858 15.355 0 21.213l-60.863 60.862c-2.928 2.928-6.767 4.393-10.606 4.393z\" />\r\n      </g>\r\n      <g>\r\n        <path fill={fill} d=\"m256 512c-8.284 0-15-6.716-15-15v-86.071c0-8.284 6.716-15 15-15s15 6.716 15 15v86.071c0 8.284-6.716 15-15 15z\" />\r\n      </g>\r\n      <g>\r\n        <path fill={fill} d=\"m426.413 441.413c-3.839 0-7.678-1.464-10.606-4.393l-60.862-60.861c-5.858-5.858-5.858-15.355 0-21.213 5.857-5.858 15.355-5.858 21.213 0l60.862 60.861c5.858 5.858 5.858 15.355 0 21.213-2.929 2.928-6.768 4.393-10.607 4.393z\" />\r\n      </g>\r\n      <g>\r\n        <path fill={fill} d=\"m497 271h-86.071c-8.284 0-15-6.716-15-15s6.716-15 15-15h86.071c8.284 0 15 6.716 15 15s-6.716 15-15 15z\" />\r\n      </g>\r\n      <g>\r\n        <path fill={fill} d=\"m365.551 161.449c-3.839 0-7.678-1.464-10.606-4.394-5.858-5.858-5.858-15.355 0-21.213l60.862-60.861c5.857-5.856 15.355-5.858 21.213 0s5.858 15.355 0 21.213l-60.862 60.861c-2.929 2.929-6.769 4.394-10.607 4.394z\" />\r\n      </g>\r\n    </g>\r\n  </svg>\r\n)\r\n\r\nconst moon = (fill) => (\r\n  <svg version=\"1.1\" id=\"Capa_1\" width=\"20\" height=\"20\" x=\"0px\" y=\"0px\" viewBox=\"0 0 512.001 512.001\">\r\n    <path fill={fill}  d=\"M367.924,8.521c70.94,127.548,25.05,288.445-102.49,359.385c-79.869,44.425-177.026,44.425-256.895,0\r\n      C79.572,495.352,240.478,541.08,367.924,470.047s173.174-231.939,102.141-359.385C446.174,67.788,410.798,32.42,367.924,8.521z\"\r\n    />\r\n    <path fill={fill} d=\"M239.353,511.984c-98.886-0.077-190.011-53.592-238.252-139.92\r\n      c-2.309-4.098-0.869-9.296,3.229-11.605c2.599-1.466,5.777-1.466,8.384,0c123.442,68.622,279.141,24.181,347.763-99.27\r\n      c42.951-77.262,42.951-171.232,0-248.494c-2.292-4.107-0.826-9.296,3.28-11.596c2.59-1.448,5.734-1.44,8.324,0.009\r\n      c131.536,73.368,178.696,239.471,105.328,371.007C429.27,458.434,338.188,511.941,239.353,511.984z M31.842,388.661\r\n      c82.587,114.495,242.342,140.363,356.837,57.776S529.042,204.095,446.455,89.6c-16.035-22.229-35.547-41.741-57.776-57.776\r\n      c58.066,139.008-7.557,298.772-146.566,356.837C174.846,416.761,99.118,416.761,31.842,388.661z\"\r\n    />\r\n  </svg>\r\n)\r\n\r\nconst ThemeSwitcher = ({ onClick }) => {\r\n  const isDark = document.body.dataset.scheme === 'dark'\r\n\r\n  return (\r\n    <div\r\n      styleName={`themeSwitcher`}\r\n      onClick={onClick}\r\n      data-for=\"themeAlt\"\r\n      data-tip\r\n    >\r\n      {isDark ? sun(\"white\") : moon(\"#747474\")}\r\n\r\n      <ThemeTooltip id=\"themeAlt\" effect=\"solid\" place=\"bottom\">\r\n        <FormattedMessage\r\n          id=\"themeAlt\"\r\n          defaultMessage=\"{theme} theme\"\r\n          values={{ theme: isDark ? 'Light' : 'Dark' }}\r\n        />\r\n      </ThemeTooltip>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CSSModules(ThemeSwitcher, styles, { allowMultiple: true })","import { connect } from 'redaction'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport cssModules from 'react-css-modules'\r\n\r\nimport Coin from 'components/Coin/Coin'\r\nimport Address from 'components/ui/Address/Address'\r\nimport { AddressFormat } from 'domain/address'\r\n\r\nimport { metamask, constants } from 'helpers'\r\nimport actions from 'redux/actions'\r\nimport styles from './index.scss'\r\nimport config from 'helpers/externalConfig'\r\n\r\nfunction WalletConnect(props) {\r\n  const {\r\n    metamaskData,\r\n  } = props\r\n\r\n  const isMetamaskConnected = metamaskData.isConnected\r\n\r\n  const web3Type = metamask.web3connect.getInjectedType()\r\n  const isNotAvailableMetamaskNetwork = isMetamaskConnected && !metamask.isAvailableNetwork()\r\n  const disconnectedOrNetworkNotAvailable = !isMetamaskConnected || isNotAvailableMetamaskNetwork\r\n\r\n  if (web3Type == 'NONE' && !config.opts.hasWalletConnect) return null\r\n\r\n  const connectWallet = () => {\r\n    metamask.handleConnectMetamask({\r\n      dontRedirect: true,\r\n    })\r\n  }\r\n\r\n  const disconnectWallet = async () => {\r\n    await metamask.disconnect()\r\n  }\r\n\r\n  const openWalletConnectAccountModal = () => {\r\n    actions.modals.open(constants.modals.WalletConnectAccount)\r\n  }\r\n\r\n  const currencyName = metamaskData.currency.toLowerCase()\r\n\r\n  return (\r\n    <div\r\n      id=\"connect-wallet\"\r\n      styleName=\"connectWallet\"\r\n      onClick={\r\n        isMetamaskConnected\r\n          ? (isNotAvailableMetamaskNetwork\r\n            ? disconnectWallet\r\n            : openWalletConnectAccountModal)\r\n          : connectWallet\r\n      }\r\n    >\r\n      {disconnectedOrNetworkNotAvailable\r\n        ? (\r\n          <Coin\r\n            size={40}\r\n            name={web3Type}\r\n          />\r\n        )\r\n        : (\r\n          <Coin\r\n            size={30}\r\n            name={currencyName}\r\n          />\r\n        )}\r\n      <span styleName={`connectWalletText ${disconnectedOrNetworkNotAvailable ? '' : 'hasCoinIcon'}`}>\r\n        {isNotAvailableMetamaskNetwork\r\n          ? <FormattedMessage id=\"UnknownNetworkConnectedWallet\" defaultMessage=\"Unknown Network\" />\r\n          : isMetamaskConnected\r\n            ? (\r\n              <Address\r\n                address={metamaskData.address}\r\n                format={AddressFormat.Short}\r\n              />\r\n            )\r\n            : <FormattedMessage id=\"Exchange_ConnectAddressOption\" defaultMessage=\"Connect Wallet\" />}\r\n      </span>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default connect(\r\n  ({\r\n    user,\r\n  }) => ({\r\n    metamaskData: user.metamaskData,\r\n  }),\r\n)(cssModules(WalletConnect, styles, { allowMultiple: true }))\r\n","// extracted by mini-css-extract-plugin\nexport default {\"connectWallet\":\"VmmsrpyZmt4kMR35xupuyQ==\",\"connectWalletText\":\"EwuBiD42VgcAwO5A--Njkw==\",\"hasCoinIcon\":\"NsZhDC7BDgx9rOJAeW-BCw==\"};","import React, { Component } from 'react'\r\n\r\nimport Joyride, { STATUS } from 'react-joyride'\r\n\r\nimport { FormattedMessage } from 'react-intl'\r\nimport Tooltip from 'components/TourWindow'\r\n\r\n\r\nexport default class TourPartial extends Component<any, any> {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    /* eslint-disable */\r\n    this.state = {\r\n      run: true,\r\n      steps: [\r\n        {\r\n          content: <FormattedMessage id=\"partial-tour-2\" defaultMessage=\"  ,  ,    ,    .        .\" />,\r\n          target: '.data-tut-have',\r\n        },\r\n        {\r\n          content: <FormattedMessage id=\"partial-tour-3\" defaultMessage=\"  ,  ,     ,    .\" />,\r\n          floaterProps: {\r\n            disableAnimation: true,\r\n          },\r\n          spotlightPadding: 20,\r\n          target: '.data-tut-get',\r\n        },\r\n        {\r\n          content: <FormattedMessage id=\"partial-tour-4\" defaultMessage=\"        .       ....   ,    \" />,\r\n          floaterProps: {\r\n            disableAnimation: true,\r\n          },\r\n          spotlightPadding: 20,\r\n          target: '.data-tut-status',\r\n        },\r\n        {\r\n          content: <FormattedMessage id=\"partial-tour-5\" defaultMessage=\"  ,          Swap.online    \" />,\r\n          floaterProps: {\r\n            disableAnimation: true,\r\n          },\r\n          spotlightPadding: 20,\r\n          target: '.data-tut-togle',\r\n        },\r\n        {\r\n          content: <FormattedMessage\r\n            id=\"partial-tour-6\"\r\n            defaultMessage=\"  ,    URL  .  ,   .\" />,\r\n          floaterProps: {\r\n            disableAnimation: true,\r\n          },\r\n          spotlightPadding: 20,\r\n          target: '.data-tut-Exchange',\r\n        },\r\n        {\r\n          content: <FormattedMessage\r\n            id=\"partial-tour-7\"\r\n            defaultMessage=\"   ,       .      .         .\" />,\r\n          floaterProps: {\r\n            disableAnimation: true,\r\n          },\r\n          spotlightPadding: 20,\r\n          target: '.data-tut-Orderbook',\r\n        },\r\n      ],\r\n    }\r\n    /* eslint-enable */\r\n\r\n  }\r\n\r\n  handleJoyrideCallback = (data) => {\r\n    const { status } = data\r\n    const finishedStatuses = [STATUS.FINISHED, STATUS.SKIPPED]\r\n\r\n    if (finishedStatuses.includes(status)) {\r\n      this.setState({ run: false })\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { run, steps } = this.state\r\n    const { closeTour, isTourOpen } = this.props\r\n\r\n    return (\r\n      <div className=\"demo-wrapper\">\r\n        {isTourOpen && <Joyride\r\n          callback={this.handleJoyrideCallback}\r\n          continuous\r\n          run={run}\r\n          scrollToFirstStep\r\n          tooltipComponent={(props) => <Tooltip closeTour={closeTour} {...props} />}\r\n          showProgress\r\n          showSkipButton\r\n          steps={steps}\r\n          styles={{\r\n            options: {\r\n              zIndex: 10000,\r\n              arrowColor: '#302272',\r\n            },\r\n          }}\r\n        />}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nimport Joyride, { STATUS } from 'react-joyride'\r\n\r\nimport { FormattedMessage } from 'react-intl'\r\nimport Tooltip from 'components/TourWindow'\r\n\r\n\r\nexport default class WalletTour extends Component<any, any> {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    /* eslint-disable */\r\n    this.state = {\r\n      run: true,\r\n      steps: [\r\n        {\r\n          content: <FormattedMessage\r\n            id=\"tour-step-1.1\"\r\n            defaultMessage=\"  \" />,\r\n          target: '.data-tut-all-balance',\r\n        },\r\n        {\r\n          content: <FormattedMessage\r\n            id=\"tour-step-1.2\"\r\n            defaultMessage=\"  ,    \" />,\r\n          target: '.data-tut-all-deposit',\r\n        },\r\n        {\r\n          content: <FormattedMessage\r\n            id=\"tour-step-1\"\r\n            defaultMessage=\"       ,  .    ,  .    ,     \" />,\r\n          target: '.data-tut-address',\r\n        },\r\n        {\r\n          content: <FormattedMessage id=\"tour-step-3\" defaultMessage=\"   peer-to-peer     ,    Atomic Swap.        .\" />,\r\n          floaterProps: {\r\n            disableAnimation: true,\r\n          },\r\n          spotlightPadding: 20,\r\n          target: '.reactour-exchange',\r\n        },\r\n        {\r\n          content: <FormattedMessage id=\"tour-step-2\" defaultMessage=\"     ,  : Bitcoin, Ethereum, Bitcoin Cash, Litecoin   \" />,\r\n          placement: 'center',\r\n          target: '.data-tut-store',\r\n        },\r\n        {\r\n          content: <FormattedMessage\r\n            id=\"tour-step-4\"\r\n            defaultMessage=\"          (, )      \" />,\r\n          floaterProps: {\r\n            disableAnimation: true,\r\n          },\r\n          spotlightPadding: 20,\r\n          target: '.data-tut-sign-up',\r\n        },\r\n      ],\r\n    }\r\n    /* eslint-enable */\r\n  }\r\n\r\n  handleJoyrideCallback = (data) => {\r\n    const { status } = data\r\n    const finishedStatuses = [STATUS.FINISHED, STATUS.SKIPPED]\r\n\r\n    if (finishedStatuses.includes(status)) {\r\n      this.setState({ run: false })\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { run, steps } = this.state\r\n    const { closeTour, isTourOpen } = this.props\r\n    return (\r\n      <div className=\"demo-wrapper\">\r\n        {isTourOpen && <Joyride\r\n          callback={this.handleJoyrideCallback}\r\n          continuous\r\n          run={run}\r\n          scrollToFirstStep\r\n          tooltipComponent={(props) => <Tooltip closeTour={closeTour} {...props} />}\r\n          showProgress\r\n          showSkipButton\r\n          steps={steps}\r\n          styles={{\r\n            options: {\r\n              zIndex: 10000,\r\n              arrowColor: '#302272',\r\n            },\r\n          }}\r\n        />}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from \"react\"\r\nimport CSSModules from \"react-css-modules\"\r\nimport styles from \"./Loader.scss\"\r\nimport { FormattedMessage } from \"react-intl\"\r\nimport config from \"app-config\"\r\n\r\nconst isWidget = config && config.isWidget\r\n\r\ntype LoaderProps = {\r\n  overlayClassName?: string\r\n  showMyOwnTip?: JSX.Element\r\n  data?: {\r\n    txId: string\r\n  }\r\n}\r\n\r\nconst Loader = (props: LoaderProps) => {\r\n  const {\r\n    overlayClassName = '',\r\n    showMyOwnTip,\r\n    data = null,\r\n  } = props\r\n\r\n  return (\r\n    <div styleName=\"overlay\" className={overlayClassName}>\r\n      <div>\r\n        {window.loaderLogoUrl && (\r\n          <img styleName=\"loaderImg\" src={window.loaderLogoUrl} alt=\"Loader logo\"/>\r\n        )}\r\n        {data && data.txId && (\r\n          <p styleName=\"text\">\r\n            <FormattedMessage\r\n              id=\"Loader21\"\r\n              defaultMessage=\"Please wait, it takes from 3 to 5 minutes to complete the transaction.\"\r\n            />\r\n          </p>\r\n        )}\r\n        {data && data.txId && (\r\n          <a href={data.txId} styleName=\"link\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n            {data.txId}\r\n          </a>\r\n        )}\r\n        {!isWidget && Boolean(showMyOwnTip) && <div styleName=\"tips\">{showMyOwnTip}</div>}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CSSModules(Loader, styles, { allowMultiple: true });","// extracted by mini-css-extract-plugin\nexport default {\"overlay\":\"YT2il+Oz3Ltiz0dAZhx-7Q==\",\"loaderImg\":\"_7aBhc8aweZOLV37nMn1wWw==\",\"text\":\"cdIIWCwkD0CobUdYwddcgg==\",\"link\":\"DsET2tAl1efwCNShYHxfxA==\",\"over\":\"c5bwmTkK9T4s3q4RTm8DRA==\",\"tips\":\"yk20B+TFxSDUoPu3BgkLqA==\"};","export default __webpack_public_path__ + \"images/arrow-right_be045e.svg\";","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport { links } from 'helpers'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport styles from './UserTooltip.scss'\r\nimport CSSModules from 'react-css-modules'\r\nimport ArrowRightSvg from './images/arrow-right.svg'\r\n\r\nimport { TimerButton } from 'components/controls'\r\nimport { FormattedMessage } from 'react-intl'\r\n\r\n@CSSModules(styles)\r\nexport default class UserTooltip extends Component<any, any> {\r\n\r\n  static propTypes = {\r\n    feeds: PropTypes.array.isRequired,\r\n    peer: PropTypes.string.isRequired,\r\n    declineRequest: PropTypes.func.isRequired,\r\n    acceptRequest: PropTypes.func.isRequired,\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props)\r\n  }\r\n\r\n  render() {\r\n    const { feeds, peer: mePeer } = this.props\r\n\r\n    const autoAcceptTimeout = 3\r\n\r\n    return !!feeds.length && (\r\n      <div styleName=\"column\">\r\n        {feeds.length < 3 ? (\r\n          feeds.map(row => {\r\n            const { request, content: { buyAmount, buyCurrency, sellAmount, sellCurrency }, id, isTurbo, peer: ownerPeer } = row\r\n\r\n            const swapUri = isTurbo ?\r\n              `${links.turboSwap}/${id}`\r\n              :\r\n              `${links.atomicSwap}/${id}`\r\n\r\n            return (\r\n              mePeer === ownerPeer &&\r\n              request.map(({ participant: { peer }, reputation }) => (\r\n                <div styleName=\"userTooltip\" key={id}>\r\n                  <div>\r\n                    <div styleName=\"title\">\r\n                      <FormattedMessage\r\n                        id=\"userTooltip43\"\r\n                        defaultMessage=\"User ({reputation}) wants to swap\"\r\n                        values={{ reputation: <b>{Number.isInteger(reputation) ? reputation : '?'}</b> }}\r\n                      />\r\n                    </div>\r\n                    <div styleName=\"currency\">\r\n                      <span>{buyAmount.toFixed(5)} <span styleName=\"coin\">{buyCurrency}</span></span>\r\n                      <span styleName=\"arrow\"><img src={ArrowRightSvg} alt=\"\" /></span>\r\n                      <span>{sellAmount.toFixed(5)} <span styleName=\"coin\">{sellCurrency}</span></span>\r\n                    </div>\r\n                  </div>\r\n                  <span styleName=\"decline\" onClick={() => this.props.declineRequest(id, peer)} />\r\n                  <div styleName=\"checked\" onClick={() => this.props.acceptRequest(id, peer, swapUri)} />\r\n                  <TimerButton\r\n                    timeLeft={autoAcceptTimeout}\r\n                    isButton={false}\r\n                    onClick={() => this.props.acceptRequest(id, peer, swapUri)}\r\n                  />\r\n                </div>\r\n              ))\r\n            )\r\n          })\r\n        ) : (\r\n            <div styleName=\"feed\" >\r\n              <Link to={links.feed} >\r\n                <FormattedMessage id=\"userTooltip71\" defaultMessage=\"Go to the feed page\" />\r\n              </Link>\r\n            </div>\r\n          )\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"column\":\"O-fWsxs5GGgGABB2vh3kdA==\",\"feed\":\"_1pvXSmE1U6O5+5wjM-CAvg==\",\"userTooltip\":\"ONspLITRJeAP5GOtPgckWQ==\",\"title\":\"oui43LmRUwI4W-YuNth4QA==\",\"currency\":\"-QDyqf+tF5IkW6RH9P4iQg==\",\"coin\":\"xA1ReUE-G5omJuDF0Q7i2A==\",\"arrow\":\"xeM8Ql6hG3joVzbSCGjifA==\",\"checked\":\"bpIg35i57iPQTI8erMEUMg==\",\"decline\":\"xLbvMvfY-GEgent3cMQcjQ==\",\"icon\":\"uWWPz2XaK5XdUPKnNNmxmA==\"};","import { defineMessages } from 'react-intl'\r\nimport links from 'helpers/links'\r\nimport externalConfig from 'helpers/externalConfig'\r\nimport metamask from 'helpers/metamask'\r\n\r\n\r\nconst isWidgetBuild = externalConfig && externalConfig.isWidget\r\nconst isChromeExtension = externalConfig && externalConfig.dir === 'chrome-extension/application'\r\nconst onlyEvmWallets = (externalConfig?.opts?.ui?.disableInternalWallet) ? true : false\r\n\r\n\r\nexport const messages = defineMessages({\r\n  wallet: {\r\n    id: 'menu.wallet',\r\n    description: 'Menu item \"Wallet\"',\r\n    defaultMessage: 'Wallet',\r\n  },\r\n  createWallet: {\r\n    id: 'menu.CreateWallet',\r\n    description: 'Menu item \"Wallet\"',\r\n    defaultMessage: 'Create wallet',\r\n  },\r\n  exchange: {\r\n    id: 'menu.exchange',\r\n    description: 'Menu item \"Exchange\"',\r\n    defaultMessage: 'Exchange',\r\n  },\r\n  history: {\r\n    id: 'menu.history',\r\n    description: 'Menu item \"History\"',\r\n    defaultMessage: 'Transactions',\r\n  },\r\n  marketmaker: {\r\n    id: 'menu.marketmaker',\r\n    description: 'Menu item \"Marketmaker\"',\r\n    defaultMessage: 'Earn',\r\n  },\r\n})\r\n\r\nexport const getMenuItems = (props) => {\r\n  const { intl } = props\r\n  const { exchange, wallet, createWallet, history } = messages\r\n  const { \r\n    exchange: exchangeLink,\r\n    quickSwap,\r\n    createWallet: create,\r\n    history: historyLink,\r\n    home,\r\n  } = links\r\n\r\n  const itemsWithWallet = [\r\n    {\r\n      title: intl.formatMessage(wallet),\r\n      link: home,\r\n      exact: true,\r\n      currentPageFlag: true,\r\n    },\r\n    {\r\n      title: intl.formatMessage(history),\r\n      link: historyLink,\r\n      exact: true,\r\n      currentPageFlag: true,\r\n    },\r\n    !externalConfig.opts.exchangeDisabled && {\r\n      title: intl.formatMessage(exchange),\r\n      link: quickSwap,\r\n      exact: false,\r\n      currentPageFlag: true,\r\n    },\r\n  ]\r\n\r\n  const itemsWithoutWallet = [\r\n    !onlyEvmWallets && {\r\n      title: intl.formatMessage(createWallet),\r\n      link: create,\r\n      exact: true,\r\n      currentPageFlag: true,\r\n    },\r\n    !externalConfig.opts.exchangeDisabled && {\r\n      title: intl.formatMessage(exchange),\r\n      link: exchangeLink,\r\n      exact: false,\r\n      currentPageFlag: true,\r\n    },\r\n  ]\r\n\r\n  // Marketmaker pages ********\r\n  if (!isWidgetBuild) {\r\n    const marketmakerItem = {\r\n      title: intl.formatMessage(messages.marketmaker),\r\n      link: (externalConfig.opts.ui.farmLink)\r\n        ? externalConfig.opts.ui.farmLink\r\n        : !isChromeExtension ? `${links.marketmaker}/` : `${links.marketmaker}/{MATIC}WBTC`,\r\n      exact: true,\r\n      currentPageFlag: true,\r\n      isExternal: (externalConfig.opts.ui.farmLink) ? true : false\r\n    }\r\n\r\n    itemsWithWallet.push(marketmakerItem)\r\n    itemsWithoutWallet.push(marketmakerItem)\r\n  }\r\n\r\n  if (onlyEvmWallets && metamask.isConnected()) return itemsWithWallet\r\n\r\n  return localStorage.getItem('isWalletCreate') === 'true'\r\n    || externalConfig && externalConfig.isWidget\r\n      ? itemsWithWallet\r\n      : itemsWithoutWallet\r\n}\r\n\r\n\r\nexport const getMenuItemsMobile = (props, isWalletCreate, dinamicPath) => {\r\n  const { intl } = props\r\n  const { exchange, wallet, createWallet, history } = messages\r\n  const { \r\n    exchange: exchangeLink,\r\n    quickSwap,\r\n    history: historyLink,\r\n  } = links\r\n\r\n  const mobileItemsWithWallet = [\r\n    {\r\n      title: intl.formatMessage(isWalletCreate ? wallet : createWallet),\r\n      link: dinamicPath,\r\n      exact: true,\r\n      icon: <i className=\"fa fa-home\" aria-hidden=\"true\" />,\r\n    },\r\n    {\r\n      title: props.intl.formatMessage(history),\r\n      link: historyLink,\r\n      displayNone: !isWalletCreate,\r\n      icon: <i className=\"fas fa-exchange-alt\" aria-hidden=\"true\" />,\r\n    },\r\n    !externalConfig.opts.exchangeDisabled && {\r\n      title: intl.formatMessage(exchange),\r\n      link: quickSwap,\r\n      exact: false,\r\n      icon: <i className=\"fas fa-sync-alt\" aria-hidden=\"true\" />,\r\n    },\r\n  ]\r\n\r\n  const mobileItemsWithoutWallet = [\r\n    {\r\n      title: intl.formatMessage(createWallet),\r\n      link: dinamicPath,\r\n      exact: true,\r\n      icon: <i className=\"fa fa-home\" aria-hidden=\"true\" />,\r\n    },\r\n    !externalConfig.opts.exchangeDisabled && {\r\n      title: intl.formatMessage(exchange),\r\n      link: exchangeLink,\r\n      exact: false,\r\n      icon: <i className=\"fas fa-sync-alt\" aria-hidden=\"true\" />,\r\n    },\r\n  ]\r\n\r\n  if (onlyEvmWallets) return mobileItemsWithWallet\r\n  return localStorage.getItem('isWalletCreate') === 'true'\r\n      ? mobileItemsWithWallet\r\n      : mobileItemsWithoutWallet\r\n}\r\n\r\n","import { Component } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { isMobile } from 'react-device-detect'\r\nimport { connect } from 'redaction'\r\nimport actions from 'redux/actions'\r\nimport { injectIntl, FormattedMessage } from 'react-intl'\r\n\r\nimport cx from 'classnames'\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './Header.scss'\r\n\r\nimport Nav from './Nav/Nav'\r\nimport NavMobile from './NavMobile/NavMobile'\r\nimport Logo from './Logo/Logo'\r\nimport ThemeSwitcher from './ThemeSwitcher'\r\nimport WalletConnect from './WalletConnect'\r\nimport TourPartial from './TourPartial/TourPartial'\r\nimport WalletTour from './WalletTour/WalletTour'\r\nimport { WidgetWalletTour } from './WidgetTours'\r\n\r\nimport Loader from 'components/loaders/Loader/Loader'\r\nimport Button from 'components/controls/Button/Button'\r\n// Incoming swap requests and tooltips (revert)\r\nimport UserTooltip from 'components/Header/UserTooltip/UserTooltip'\r\n\r\n\r\nimport { getMenuItems, getMenuItemsMobile } from './config'\r\nimport { localisedUrl } from 'helpers/locale'\r\nimport {\r\n  metamask,\r\n  constants,\r\n  links,\r\n  user,\r\n  feedback,\r\n  wpLogoutModal,\r\n  externalConfig as config\r\n} from 'helpers'\r\n\r\nimport Swap from 'swap.swap'\r\nimport SwapApp from 'swap.app'\r\n\r\n/* uncomment to debug */\r\n//window.isUserRegisteredAndLoggedIn = true\r\n\r\nconst isWidgetBuild = config && config.isWidget\r\n\r\n@withRouter\r\n@connect({\r\n  feeds: 'feeds.items',\r\n  peer: 'pubsubRoom.peer',\r\n  isInputActive: 'inputActive.isInputActive',\r\n  modals: 'modals',\r\n  hiddenCoinsList: 'core.hiddenCoinsList',\r\n})\r\n@CSSModules(styles, { allowMultiple: true })\r\nclass Header extends Component<any, any> {\r\n  static getDerivedStateFromProps({\r\n    history: {\r\n      location: { pathname },\r\n    },\r\n  }) {\r\n    if (pathname === '/' || pathname === links.wallet) {\r\n      return { path: true }\r\n    }\r\n    return { path: false }\r\n  }\r\n\r\n  lastScrollTop: any\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const {\r\n      location: { pathname },\r\n      intl,\r\n    } = props\r\n    const { exchange, home, wallet } = links\r\n    const { isWalletCreate } = constants.localStorage\r\n\r\n    const dynamicPath = pathname.includes(exchange) ? `${pathname}` : `${home}`\r\n    //@ts-ignore: strictNullChecks\r\n    let lsWalletCreated: string | boolean = localStorage.getItem(isWalletCreate)\r\n    if (config && config.isWidget) {\r\n      lsWalletCreated = true\r\n    }\r\n\r\n    const isWalletPage = pathname === wallet || pathname === `/ru${wallet}`\r\n\r\n    this.state = {\r\n      isPartialTourOpen: false,\r\n      path: false,\r\n      isTourOpen: false,\r\n      isWallet: false,\r\n      menuItems: getMenuItems(props),\r\n      menuItemsMobile: getMenuItemsMobile(props, lsWalletCreated, dynamicPath),\r\n      createdWalletLoader: isWalletPage && !lsWalletCreated,\r\n      themeSwapAnimation: false,\r\n    }\r\n    this.lastScrollTop = 0\r\n  }\r\n\r\n  clearLocalStorage = () => {\r\n    window.localStorage.clear()\r\n    window.location.reload()\r\n  }\r\n\r\n  saveMnemonicAndClearStorage = () => {\r\n    actions.modals.open(constants.modals.SaveWalletSelectMethod, {\r\n      onClose: () => {\r\n        this.clearLocalStorage()\r\n      }\r\n    })\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.handlerAsync()\r\n\r\n    // Temporarily\r\n    // show a request for users to clear their local storage\r\n    const isWalletCreate = localStorage.getItem(constants.localStorage.isWalletCreate)\r\n    const sawWarning = localStorage.getItem('sawLocalStorageWarning')\r\n    const oldUserDidNotSee = isWalletCreate === 'true' && sawWarning !== 'true'\r\n    const newUser = isWalletCreate !== 'true' && sawWarning !== 'true'\r\n\r\n    if (oldUserDidNotSee && false) { //  \r\n      feedback.app.warning('Modal about local storage was opened')\r\n\r\n      const mnemonic = localStorage.getItem(constants.privateKeyNames.twentywords)\r\n      // user must save a mnemonic phrase if he hasn't done it\r\n      const modalButton = mnemonic !== '-' ? (\r\n        <Button empty onClick={this.saveMnemonicAndClearStorage}>\r\n          <FormattedMessage id=\"registerSMSMPlaceHolder\" defaultMessage=\"Secret phrase (12 words)\" />\r\n        </Button>\r\n      ) : (\r\n        <Button empty onClick={this.clearLocalStorage}>\r\n          <FormattedMessage id=\"ClearAndReload\" defaultMessage=\"Clear and reload\" />\r\n        </Button>\r\n      )\r\n\r\n      actions.notifications.show(constants.notifications.Message, {\r\n        message: (\r\n          <FormattedMessage\r\n            id=\"CleanLocalStorage\"\r\n            defaultMessage=\"Oops, looks like the app needs to clean your local storage. Please save your 12 words seed phrase (if you have not saved it before), then clear local storage by clicking on the button and import 12 words seed again. Sorry for the inconvenience. {indent} {button}\"\r\n            values={{\r\n              indent: <><br /><br /></>,\r\n              button: modalButton,\r\n            }}\r\n          />\r\n        ),\r\n        timeout: false,\r\n      })\r\n    } else if (newUser) {\r\n      // no problem with new user's storage\r\n      localStorage.setItem('sawLocalStorageWarning', 'true')\r\n    }\r\n  }\r\n\r\n  handlerAsync = async () => {\r\n    const { history } = this.props\r\n\r\n    await this.tapCreateWalletButton()\r\n\r\n    this.startTourAndSignInModal()\r\n\r\n    history.listen(async (location) => {\r\n      await this.tapCreateWalletButton({ location })\r\n\r\n      this.startTourAndSignInModal({ location })\r\n    })\r\n  }\r\n\r\n  tapCreateWalletButton = (customProps = {}) =>\r\n    new Promise((resolve) => {\r\n      const finishProps = { ...this.props, ...customProps }\r\n      //@ts-ignore\r\n      const { location, intl } = finishProps\r\n      const { pathname } = location\r\n      const { wallet, home } = links\r\n\r\n      let isWalletCreate = localStorage.getItem(constants.localStorage.isWalletCreate)\r\n\r\n      if (config && config.isWidget) {\r\n        //@ts-ignore\r\n        isWalletCreate = true\r\n      }\r\n\r\n      const isWalletPage = pathname === wallet || pathname === `/ru${wallet}`\r\n\r\n      if (isWalletPage && !isWalletCreate) {\r\n        //@ts-ignore\r\n        isWalletCreate = true\r\n\r\n        this.setState(\r\n          () => ({\r\n            menuItems: getMenuItems(this.props),\r\n            //@ts-ignore\r\n            menuItemsMobile: getMenuItemsMobile(this.props, isWalletCreate),\r\n            createdWalletLoader: true,\r\n          }),\r\n          () => {\r\n            setTimeout(() => {\r\n              this.setState(() => ({\r\n                createdWalletLoader: false,\r\n              }))\r\n              resolve(true)\r\n            }, 4000)\r\n          }\r\n        )\r\n      } else {\r\n        resolve(true)\r\n      }\r\n    })\r\n\r\n  startTourAndSignInModal = (customProps = {}) => {\r\n    const finishProps = { ...this.props, ...customProps }\r\n    const { wasOnExchange, wasOnWallet, isWalletCreate, wasOnWidgetWallet } = constants.localStorage\r\n    const {\r\n      //@ts-ignore\r\n      hiddenCoinsList,\r\n      //@ts-ignore\r\n      location: { hash, pathname },\r\n    } = finishProps\r\n    const { wallet, exchange, marketmaker, marketmaker_short } = links\r\n    const isGuestLink = !(!hash || hash.slice(1) !== 'guest')\r\n\r\n    if (isGuestLink) {\r\n      localStorage.setItem(wasOnWallet, 'true')\r\n      localStorage.setItem(wasOnExchange, 'true')\r\n      localStorage.setItem(wasOnWidgetWallet, 'true')\r\n      return\r\n    }\r\n\r\n    this.setState(() => ({\r\n      menuItems: getMenuItems(this.props),\r\n      //@ts-ignore\r\n      menuItemsMobile: getMenuItemsMobile(this.props, true),\r\n    }))\r\n\r\n    const path = pathname.toLowerCase()\r\n    const isWalletPage = path.includes(wallet) || path === `/`\r\n    const isPartialPage = path.includes(exchange)\r\n\r\n    const isMarketPage = path.includes(marketmaker) || path.includes(marketmaker_short)\r\n    const didOpenWalletCreate = localStorage.getItem(isWalletCreate)\r\n\r\n    const wasOnWalletLs = localStorage.getItem(wasOnWallet)\r\n    const wasOnExchangeLs = localStorage.getItem(wasOnExchange)\r\n    const wasOnWidgetWalletLs = localStorage.getItem(wasOnWidgetWallet)\r\n\r\n    let tourEvent = () => {}\r\n\r\n    const allData = actions.core.getWallets({})\r\n    const widgetCurrencies = user.getWidgetCurrencies()\r\n\r\n    let userCurrencies = allData.filter(({ currency: baseCurrency, isToken, tokenKey, address, balance }) => {\r\n      const currency = ((isToken) ? tokenKey : baseCurrency).toUpperCase()\r\n      return (\r\n        (!hiddenCoinsList.includes(currency) &&\r\n          !hiddenCoinsList.includes(`${currency}:${address}`)) ||\r\n        balance > 0\r\n      )\r\n    })\r\n\r\n    if (isWidgetBuild) {\r\n      userCurrencies = allData.filter(\r\n        ({ currency: baseCurrency, isToken, tokenKey, address }) => {\r\n          const currency = ((isToken) ? tokenKey : baseCurrency).toUpperCase()\r\n          return !hiddenCoinsList.includes(currency) && !hiddenCoinsList.includes(`${currency}:${address}`)\r\n        }\r\n      )\r\n      userCurrencies = userCurrencies.filter(({ currency: baseCurrency, isToken, tokenKey }) => {\r\n        const currency = ((isToken) ? tokenKey : baseCurrency).toUpperCase()\r\n        return widgetCurrencies.includes(currency)\r\n      })\r\n    }\r\n\r\n    userCurrencies = user.filterUserCurrencyData(userCurrencies)\r\n\r\n    switch (true) {\r\n      case isWalletPage && !wasOnWalletLs:\r\n        tourEvent = this.openWalletTour\r\n        break\r\n      case isPartialPage && !wasOnExchangeLs:\r\n        tourEvent = this.openExchangeTour\r\n        break\r\n      case isWidgetBuild && !wasOnWidgetWalletLs:\r\n        tourEvent = this.openWidgetWalletTour\r\n        break\r\n      case !metamask.isConnected() && !userCurrencies.length && isWalletPage && !config.opts.plugins.backupPlugin && !config.opts.ui.disableInternalWallet:\r\n        this.openCreateWallet({ onClose: tourEvent })\r\n        break\r\n      default:\r\n        return\r\n    }\r\n\r\n    if (!didOpenWalletCreate && isWalletPage && !config.opts.plugins.backupPlugin && !config.opts.ui.disableInternalWallet) {\r\n      this.openCreateWallet({ onClose: tourEvent })\r\n      return\r\n    }\r\n\r\n    tourEvent()\r\n  }\r\n\r\n  closeTour = () => {\r\n    this.setState(() => ({ isTourOpen: false }))\r\n  }\r\n\r\n  closeWidgetTour = () => {\r\n    this.setState(() => ({ isWidgetTourOpen: false }))\r\n  }\r\n\r\n  closePartialTour = () => {\r\n    this.setState(() => ({ isPartialTourOpen: false }))\r\n  }\r\n\r\n  openCreateWallet = (options) => {\r\n    const {\r\n      history,\r\n      intl: { locale },\r\n    } = this.props\r\n    history.push(localisedUrl(locale, links.createWallet))\r\n  }\r\n\r\n  openWalletTour = () => {\r\n    const { wasOnWallet } = constants.localStorage\r\n\r\n    setTimeout(() => {\r\n      this.setState(() => ({ isTourOpen: true }))\r\n    }, 1000)\r\n\r\n    localStorage.setItem(wasOnWallet, 'true')\r\n  }\r\n\r\n  openWidgetWalletTour = () => {\r\n    const { wasOnWidgetWallet } = constants.localStorage\r\n\r\n    setTimeout(() => {\r\n      this.setState(() => ({ isWidgetTourOpen: true }))\r\n    }, 1000)\r\n\r\n    localStorage.setItem(wasOnWidgetWallet, 'true')\r\n  }\r\n\r\n  openExchangeTour = () => {\r\n    const { wasOnExchange } = constants.localStorage\r\n    setTimeout(() => {\r\n      this.setState(() => ({ isPartialTourOpen: true }))\r\n    }, 1000)\r\n\r\n    localStorage.setItem(wasOnExchange, 'true')\r\n  }\r\n\r\n  handleToggleTheme = () => {\r\n    this.setState(() => ({ themeSwapAnimation: true }))\r\n\r\n    const wasDark = localStorage.getItem(constants.localStorage.isDark)\r\n    const dataset = document.body.dataset\r\n\r\n    feedback.theme.switched(wasDark ? 'light' : 'dark')\r\n\r\n    if (wasDark) {\r\n      localStorage.removeItem(constants.localStorage.isDark)\r\n      localStorage.setItem(constants.localStorage.isLight, 'true')\r\n      dataset.scheme = \"default\"\r\n    } else {\r\n      localStorage.removeItem(constants.localStorage.isLight)\r\n      localStorage.setItem(constants.localStorage.isDark, 'true')\r\n      dataset.scheme = \"dark\"\r\n    }\r\n\r\n    this.setState(() => ({ themeSwapAnimation: false }))\r\n  }\r\n\r\n  declineRequest = (orderId, participantPeer) => {\r\n    actions.core.declineRequest(orderId, participantPeer)\r\n    actions.core.updateCore()\r\n  }\r\n\r\n  acceptRequest = async (orderId, participantPeer, link) => {\r\n    const {\r\n      toggle,\r\n      history,\r\n      intl: { locale },\r\n      location: {\r\n        pathname,\r\n      },\r\n    } = this.props\r\n\r\n    actions.core.acceptRequest(orderId, participantPeer)\r\n    actions.core.updateCore()\r\n\r\n    if (typeof toggle === 'function') {\r\n      toggle()\r\n    }\r\n\r\n\r\n    if ((pathname.substr(0, links.marketmaker.length) === links.marketmaker)\r\n      || (pathname.substr(0, links.marketmaker_short) === links.marketmaker_short)\r\n    ) {\r\n      const swap = new Swap(orderId, SwapApp.shared())\r\n      actions.core.rememberSwap(swap)\r\n      window.active_swap = swap\r\n    } else {\r\n      await history.replace(localisedUrl(locale, link))\r\n      await history.push(localisedUrl(locale, link))\r\n    }\r\n  }\r\n\r\n  handleLogout = () => {\r\n    const { intl } = this.props\r\n    wpLogoutModal(this.handleLogout, intl)\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      isTourOpen,\r\n      isPartialTourOpen,\r\n      menuItems,\r\n      menuItemsMobile,\r\n      createdWalletLoader,\r\n      isWidgetTourOpen,\r\n    } = this.state\r\n    const {\r\n      intl: { formatMessage },\r\n      history: {\r\n        location: { pathname },\r\n      },\r\n      feeds,\r\n      peer,\r\n      isInputActive,\r\n    } = this.props\r\n\r\n    const { exchange, wallet } = links\r\n\r\n    const isWalletPage =\r\n      pathname.includes(wallet) || pathname === `/ru${wallet}` || pathname === `/`\r\n\r\n    const isExchange = pathname.includes(exchange)\r\n\r\n    const isLogoutPossible = window.isUserRegisteredAndLoggedIn\r\n\r\n    const flexebleHeaderRender = (\r\n      <div styleName=\"flexebleHeader\">\r\n        <div styleName=\"leftArea\">\r\n          <Logo />\r\n          {!isMobile && <Nav menu={menuItems} />}\r\n        </div>\r\n        <div styleName=\"rightArea\">\r\n          {!config.isExtension && Object.values(config.enabledEvmNetworks).length ? (\r\n            <WalletConnect />\r\n          ) : null}\r\n\r\n          {window.WPSO_selected_theme !== 'only_light' && window.WPSO_selected_theme !== 'only_dark' && (\r\n            <ThemeSwitcher onClick={this.handleToggleTheme} />\r\n          )}\r\n\r\n          {isLogoutPossible && ( // some wordpress plugin cases\r\n            <div styleName=\"logoutWrapper\" onClick={this.handleLogout}>\r\n              <i className=\"fas fa-sign-out-alt\" />\r\n              <FormattedMessage id=\"ExitWidget\" defaultMessage=\"Exit\" />\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    )\r\n\r\n    if (pathname.includes('/createWallet') && isMobile) {\r\n      return <span />\r\n    }\r\n\r\n    const incomingSwapRequest = (\r\n      <UserTooltip\r\n        feeds={feeds}\r\n        peer={peer}\r\n        acceptRequest={this.acceptRequest}\r\n        declineRequest={this.declineRequest}\r\n      />\r\n    )\r\n\r\n    if (isMobile) {\r\n      return (\r\n        <header id=\"header-mobile\" styleName=\"header-mobile\" className=\"data-tut-widget-tourFinish\">\r\n          {flexebleHeaderRender}\r\n          {createdWalletLoader && (\r\n            <div styleName=\"loaderCreateWallet\">\r\n              <Loader\r\n                showMyOwnTip={formatMessage({\r\n                  id: 'createWalletLoaderTip',\r\n                  defaultMessage: 'Creating wallet... Please wait.',\r\n                })}\r\n              />\r\n            </div>\r\n          )}\r\n          {incomingSwapRequest}\r\n          <NavMobile menu={menuItemsMobile} isHidden={isInputActive} />\r\n\r\n          {isTourOpen && isWalletPage && (\r\n            <div styleName=\"walletTour\">\r\n              <WalletTour isTourOpen={isTourOpen} closeTour={this.closeTour} />\r\n            </div>\r\n          )}\r\n          {isWidgetTourOpen && isWalletPage && (\r\n            <div styleName=\"walletTour\">\r\n              <WidgetWalletTour isTourOpen={isWidgetTourOpen} closeTour={this.closeWidgetTour} />\r\n            </div>\r\n          )}\r\n        </header>\r\n      )\r\n    }\r\n\r\n    return (\r\n      <header\r\n        className={cx({\r\n          [styles['header']]: true,\r\n          [styles['widgetHeader']]: isWidgetBuild,\r\n          [styles['header-promo']]: isWalletPage,\r\n        })}\r\n      >\r\n        {createdWalletLoader && (\r\n          <div styleName=\"loaderCreateWallet\">\r\n            <Loader\r\n              showMyOwnTip={formatMessage({\r\n                id: 'createWalletLoaderTip',\r\n                defaultMessage: 'Creating wallet... Please wait.',\r\n              })}\r\n            />\r\n          </div>\r\n        )}\r\n        {flexebleHeaderRender}\r\n        {isPartialTourOpen && isExchange && (\r\n          <div styleName=\"walletTour\">\r\n            <TourPartial isTourOpen={isPartialTourOpen} closeTour={this.closePartialTour} />\r\n          </div>\r\n        )}\r\n        {incomingSwapRequest}\r\n        {isTourOpen && isWalletPage && (\r\n          <div styleName=\"walletTour\">\r\n            <WalletTour isTourOpen={isTourOpen} closeTour={this.closeTour} />\r\n          </div>\r\n        )}\r\n        {isWidgetTourOpen && isWalletPage && (\r\n          <div styleName=\"walletTour\">\r\n            <WidgetWalletTour isTourOpen={isWidgetTourOpen} closeTour={this.closeWidgetTour} />\r\n          </div>\r\n        )}\r\n      </header>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(Header)\r\n","const version = process.env.VERSION\r\n\r\nexport default {\r\n  name: version ? version.substring(0, 6) : null,\r\n  link: version ? `https://github.com/search?q=${version}&type=Commits` : null,\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"footer\":\"o0pLlr4ZDq4vMkw1YqYKYg==\",\"mobile\":\"t7KsdqyzpeYVBPyHiXu2Xw==\",\"container\":\"zfQwp2WT7-755DA0MAar0Q==\",\"swapDescription\":\"m2K5p2S7WrpdvO00EO8-mw==\",\"serviceLinks\":\"_1JOJpS27m0bYWKurDvPFsQ==\"};","import React from 'react'\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './SocialMenu.scss'\r\nimport links from 'helpers/links'\r\n\r\n\r\nconst nav = [\r\n  { links: links.medium,      icon: 'fa-medium-m' },\r\n  { links: links.twitter,     icon: 'fa-twitter' },\r\n  { links: links.facebook,    icon: 'fa-facebook' },\r\n  { links: links.github,    icon: 'fa-github' },\r\n  { links: links.telegram,    icon: 'fa-telegram-plane' },\r\n  { links: links.bitcointalk, icon: 'fa-btc' },\r\n  { links: links.discord,     icon: 'fab fa-discord' },\r\n  { links: links.youtube,     icon: 'fab fa-youtube' },\r\n  { links: links.reddit,      icon: 'fab fa-reddit' },\r\n]\r\n\r\nconst SocialMenu = () => (\r\n  <ul styleName=\"social-menu\">\r\n    {\r\n      nav.filter(item => item.links !== '#').map((item, index) => (\r\n        <li key={index}>\r\n          <a href={item.links} target=\"_blank\" rel=\"noopener noreferrer\">\r\n            <i styleName=\"icon\" className={`fab ${item.icon}`} />\r\n          </a>\r\n        </li>\r\n      ))\r\n    }\r\n  </ul>\r\n)\r\n\r\nexport default CSSModules(SocialMenu, styles)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"social-menu\":\"IOIw64u03XFRXD-YHQN+Jw==\",\"icon\":\"nNL2HEq+fxSoWkbdCXDmFQ==\"};","import styles from './SwitchLang.scss'\r\nimport CSSModules from 'react-css-modules'\r\n\r\nimport { setCookie } from 'helpers/utils'\r\nimport { FormattedMessage, injectIntl } from 'react-intl'\r\nimport feedback from 'helpers/feedback'\r\n\r\nconst SwitchLang = (props) => {\r\n  const {\r\n    intl: { locale: intlLocale },\r\n  } = props\r\n\r\n  const switchLang = (event, locale) => {\r\n    event.preventDefault()\r\n\r\n    console.log('locale: ', locale)\r\n\r\n    feedback.i18n.switched(locale)\r\n\r\n    setCookie('mylang', locale.toLowerCase(), new Date(new Date().getFullYear() + 1, 1))\r\n\r\n    window.setTimeout(() => {\r\n      window.location.reload()\r\n    }, 10)\r\n  }\r\n\r\n  const localeIsNotMatched = (locale) => {\r\n    return intlLocale.toUpperCase() !== locale ? true : undefined // if url is undefined then we don't define styles\r\n  }\r\n\r\n  \r\n  const languages = {\r\n    EN: 'English',\r\n    RU: 'Russian',\r\n    NL: 'Dutch',\r\n    ES: 'Spanish',\r\n    DE: 'German',\r\n    PL: 'Polish',\r\n    PT: 'Portuguese (Brasil)',\r\n    KO: 'Korean',\r\n    AR: 'Arabic',\r\n    FA: 'Farsi',\r\n  }\r\n\r\n  return (\r\n    <div styleName=\"langSwitcher\">\r\n      {Object.keys(languages).map((name, index) => {\r\n        return (\r\n          <a\r\n            key={index}\r\n            href={localeIsNotMatched(name) && '#/'}\r\n            styleName=\"language\"\r\n            title={languages[name]}\r\n            onClick={(e) => {\r\n              switchLang(e, name)\r\n              return false\r\n            }}\r\n          >\r\n            {name}\r\n          </a>\r\n        )\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default injectIntl(CSSModules(SwitchLang, styles, { allowMultiple: true }))\r\n","// extracted by mini-css-extract-plugin\nexport default {\"langSwitcher\":\"pgfIxjNElp-1hD94DOAhEA==\",\"language\":\"_3S2pd1eNaLj1e3nnkUzWyw==\"};","import CSSModules from 'react-css-modules'\r\nimport config from 'helpers/externalConfig'\r\nimport styles from '../Footer.scss'\r\n\r\ntype ServiceLinksProps = {\r\n  versionName: string | null\r\n  versionLink: string | null\r\n}\r\n\r\nfunction ServiceLinks({ versionName, versionLink }: ServiceLinksProps) {\r\n  const serviceLink = config?.opts?.ui?.serviceLink || 'https://onout.org/wallet'\r\n\r\n  return (\r\n    <div styleName=\"serviceLinks\">\r\n      {versionName && versionLink && (\r\n        <span>\r\n          <a href={versionLink} target=\"_blank\" rel=\"noreferrer\">\r\n            {versionName}\r\n          </a>\r\n        </span>\r\n      )}\r\n      <span>\r\n        Powered by\r\n        {' '}\r\n        <a href={serviceLink} target=\"_blank\" rel=\"noreferrer\">OnOut - no-code tool to create Wallet</a>\r\n      </span>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CSSModules(ServiceLinks, styles, { allowMultiple: true })\r\n","import cx from 'classnames'\r\nimport { isMobile } from 'react-device-detect'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport { links } from 'helpers'\r\n\r\nimport config from 'helpers/externalConfig'\r\n\r\nimport CSSModules from 'react-css-modules'\r\nimport version from 'helpers/version'\r\nimport WidthContainer from 'components/layout/WidthContainer/WidthContainer'\r\nimport styles from './Footer.scss'\r\n\r\nimport SocialMenu from './SocialMenu/SocialMenu'\r\nimport SwitchLang from './SwitchLang/SwitchLang'\r\nimport ServiceLinks from './ServiceLinks'\r\n\r\nfunction Footer() {\r\n  const showServiceLinks = !config.opts.ui.hideServiceLinks\r\n\r\n  return (\r\n    <footer\r\n      className={cx({\r\n        [styles.footer]: true,\r\n        [styles.mobile]: isMobile,\r\n      })}\r\n      data-version-name={version.name}\r\n      data-version-url={version.link}\r\n    >\r\n      { /* @ts-ignore */ }\r\n      <WidthContainer styleName=\"container\">\r\n        <SwitchLang />\r\n\r\n        {!config.isWidget && (\r\n          <p styleName=\"swapDescription\">\r\n            <FormattedMessage\r\n              id=\"FooterSwapDescription\"\r\n              defaultMessage=\"Online since 2018. Check our {twitter} and {github} history\"\r\n              values={{\r\n                github: <a href={links.github} target=\"_blank\" rel=\"noreferrer\">github</a>,\r\n                twitter: <a href={links.twitter} target=\"_blank\" rel=\"noreferrer\">twitter</a>,\r\n              }}\r\n            />\r\n          </p>\r\n        )}\r\n        {!config.isWidget && <SocialMenu />}\r\n\r\n        {showServiceLinks && (\r\n          <ServiceLinks versionName={version.name} versionLink={version.link} />\r\n        )}\r\n      </WidthContainer>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default CSSModules(Footer, styles, { allowMultiple: true })\r\n","import React, { Component } from 'react'\r\n\r\nimport WidthContainer from 'components/layout/WidthContainer/WidthContainer'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport Button from 'components/controls/Button/Button'\r\nimport config from 'app-config'\r\nimport { constants, localStorage } from 'helpers'\r\nimport feedback from 'shared/helpers/feedback'\r\n\r\n\r\nconst isWidgetBuild = config && config.isWidget\r\n\r\nexport default class PreventMultiTabs extends Component<any, any> {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const preventSwitch = localStorage.getItem(\r\n      constants.localStorage.preventSwitch\r\n    )\r\n\r\n    if (!preventSwitch) {\r\n      // auto switch\r\n      setTimeout(this.handleSwitchClick, 100)\r\n    }\r\n  }\r\n\r\n  handleSwitchClick = () => {\r\n    feedback.app.otherTabsClosed()\r\n    const { onSwitchTab } = this.props\r\n\r\n    localStorage.setItem(constants.localStorage.preventSwitch, 'whe-are-now-make-switch-tab')\r\n    setTimeout(() => {\r\n      localStorage.removeItem(constants.localStorage.preventSwitch)\r\n    }, 5000)\r\n\r\n    if (onSwitchTab instanceof Function) {\r\n      onSwitchTab()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      /*\r\n      //@ts-ignore */\r\n      <WidthContainer>\r\n        <h1>\r\n          <FormattedMessage\r\n            id=\"PreventMultiTabs\"\r\n            defaultMessage=\"Such error, many tabs\"\r\n          />\r\n        </h1>\r\n        {isWidgetBuild && (\r\n          <FormattedMessage\r\n            id=\"PreventMultiTabsWidgetBuild\"\r\n            defaultMessage=\"{widgetName} supports only one active tab. Please close the other open window and refresh to continue.\"\r\n            values={{ widgetName: window.widgetName || 'Atomic Swap Widget' }}\r\n          />\r\n        )}\r\n        {!isWidgetBuild && (\r\n          <FormattedMessage\r\n            id=\"PreventMultiTabs12\"\r\n            defaultMessage=\"Our service Supports only one active tab. Please close the other open window and refresh to continue.\"\r\n          />\r\n        )}\r\n        <br />\r\n        <br />\r\n        <Button brand fullWidth onClick={this.handleSwitchClick}>\r\n          <FormattedMessage\r\n            id=\"PreventMultiTabsSwitchApp\"\r\n            defaultMessage=\"     \"\r\n          />\r\n        </Button>\r\n      </WidthContainer>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { connect } from 'redaction'\r\nimport Loader from '../Loader/Loader'\r\n\r\ntype ComponentProps = {\r\n  isVisible?: boolean\r\n  data: {\r\n    txId: string\r\n  }\r\n}\r\n\r\nconst RequestLoader = (props: ComponentProps) => {\r\n  const { isVisible = false, data } = props\r\n\r\n  if (!isVisible) {\r\n    return null\r\n  }\r\n\r\n  return <Loader data={data} />\r\n}\r\n\r\nexport default connect({\r\n  isVisible: 'loader.isVisible',\r\n  data: 'loader.data',\r\n})(RequestLoader)\r\n","import React, { useState, useEffect } from 'react'\r\nimport cx from 'classnames'\r\nimport actions from 'redux/actions'\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './Notification.scss'\r\nimport Sound from 'helpers/Sound/alert.mp4'\r\nimport { RemoveButton } from 'components/controls'\r\n\r\nconst Notification = (props) => {\r\n  const {\r\n    soundPlay = true,\r\n    className,\r\n    children,\r\n    name,\r\n    type,\r\n    timeout,\r\n  } = props\r\n  const [isMounted, setIsMounted] = useState(false)\r\n  const [isRemoved, setIsRemoved] = useState(false)\r\n\r\n  const closeOnEscapeKey = (event) => {\r\n    if (event.key === 'Escape') {\r\n      closeNotification()\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    setIsMounted(true)\r\n\r\n    if (soundPlay) {\r\n      soundClick()\r\n    }\r\n\r\n    document.addEventListener('keydown', closeOnEscapeKey)\r\n\r\n    let timeoutId: ReturnType<typeof setTimeout> | undefined = undefined\r\n\r\n    if (timeout !== false) {\r\n      timeoutId = setTimeout(\r\n        closeNotification,\r\n        timeout === undefined ? 8000 : timeout\r\n      )\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener('keydown', closeOnEscapeKey)\r\n\r\n      if (timeoutId) {\r\n        clearTimeout(timeoutId)\r\n      }\r\n    }\r\n  }, [isMounted, timeout])\r\n\r\n  const closeNotification = () => {\r\n    setIsRemoved(true)\r\n    setTimeout(() => actions.notifications.hide(name), 300)\r\n  }\r\n\r\n  const soundClick = () => {\r\n    const audio = new Audio()\r\n    audio.src = Sound\r\n    audio.autoplay = true\r\n  }\r\n\r\n  const containerStyleName = cx('container', {\r\n    'mounted': isMounted,\r\n    'removed': isRemoved,\r\n  })\r\n\r\n  const notificationStyleName = cx('notification', {\r\n    'mounted': isMounted,\r\n    'removed': isRemoved,\r\n    'errorNotification': type === 'ErrorNotification',\r\n    'warning': type === 'warning'\r\n  })\r\n\r\n  return (\r\n    <div id=\"notificationModal\" styleName={containerStyleName}>\r\n      <div styleName={notificationStyleName}>\r\n        <div styleName=\"content\" className={className}>\r\n          {children}\r\n        </div>\r\n\r\n        <RemoveButton id=\"notificationCloseButton\" onClick={closeNotification} />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default cssModules(Notification, styles, { allowMultiple: true })\r\n","export default \".//alert.mp4\";","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"lirZzUw9cXeUzBs3Rzt6+w==\",\"mounted\":\"atE0JGkFelo4jc4dmVxVKw==\",\"removed\":\"e3nOURnBFA39mfIll-LECg==\",\"notification\":\"J1nQNz-uxtPszzeawJl+zg==\",\"errorNotification\":\"-bDa2Uzl0ysSlnlZ9LkeUg==\",\"warning\":\"+JuppkS1km4i1huf0ennSg==\",\"content\":\"P7u8wOcmenqk5l2ZQJ3lvg==\"};","import React, { Component } from 'react'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './SuccessWithdraw.scss'\r\n\r\nimport Notification from 'components/notification/Notification/Notification'\r\n\r\n\r\n@cssModules(styles)\r\nexport default class SuccessWithdraw extends Component<any, any> {\r\n\r\n  render() {\r\n    const { name, data: { amount, currency, address } } = this.props\r\n\r\n    return (\r\n      <Notification name={name}>\r\n        <span styleName=\"value\">{amount} {currency}</span> were successfully transferred to {address}!\r\n      </Notification>\r\n    )\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"value\":\"_3C4X-FjlolCLE4qTGmU2aw==\"};","import React, { Component } from 'react'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './Message.scss'\r\n\r\nimport Notification from 'components/notification/Notification/Notification'\r\n\r\n\r\n@cssModules(styles)\r\nexport default class Message extends Component<any, any> {\r\n  render() {\r\n    const { name, data: { message, timeout, type } } = this.props\r\n\r\n    return (\r\n      <Notification name={name} timeout={timeout} type={type}>\r\n        <span styleName=\"value\">{message}</span>\r\n      </Notification>\r\n    )\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"value\":\"_51Fbq8OLSkp0yamscSZDiw==\"};","import React, { Component } from 'react'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './BTCMultisignRequest.scss'\r\nimport { FormattedMessage, injectIntl } from 'react-intl'\r\nimport Notification from 'components/notification/Notification/Notification'\r\nimport { links }    from 'helpers'\r\nimport actions from 'redux/actions'\r\nimport { localisedUrl } from 'helpers/locale'\r\n\r\n\r\n@cssModules(styles)\r\nclass BTCMultisignRequest extends Component<any, any> {\r\n\r\n  handleClick = () => {\r\n    const { history, data: { txRaw, invoice } } = this.props\r\n    actions.modals.closeAll()\r\n    if (invoice && invoice.id) {\r\n      location.hash = `#${links.multisign}/btc/confirminvoice/${invoice.id}|${txRaw}`\r\n    } else {\r\n      location.hash = `#${links.multisign}/btc/confirm/${txRaw}`\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { name, data: { amount, currency, address } } = this.props\r\n\r\n    return (\r\n      <Notification name={name} onClick={this.handleClick}>\r\n        <div>\r\n          <FormattedMessage id=\"BTCMS_WithdrawRequest\" defaultMessage=\"     BTC-multisign\" />\r\n        </div>\r\n        <FormattedMessage \r\n          id=\"BTCMS_WithdrawRequestInfo\" \r\n          defaultMessage=\" {amount} {currency}   {address}\" \r\n          values={{\r\n            amount,\r\n            currency,\r\n            address,\r\n          }} />\r\n      </Notification>\r\n    )\r\n  }\r\n}\r\n\r\nexport default injectIntl(BTCMultisignRequest)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"value\":\"aUvelIYyZyxDgrfuwALMhw==\"};","import { FormattedMessage } from 'react-intl'\r\nimport CSSModules from 'react-css-modules'\r\nimport styles from './index.scss'\r\nimport Notification from 'components/notification/Notification/Notification'\r\n\r\ntype ComponentProps = {\r\n  data: {\r\n    link: string\r\n    completed?: boolean\r\n    failed?: boolean\r\n  }\r\n  name: string\r\n}\r\n\r\nfunction Transaction(props: ComponentProps) {\r\n  const { name, data } = props\r\n\r\n  return (\r\n    <Notification\r\n      soundPlay={true}\r\n      timeout={15_000}\r\n      name={name}\r\n      type={data.failed ? 'ErrorNotification' : ''}\r\n    >\r\n      <h3>\r\n        {data.failed ? (\r\n          <FormattedMessage\r\n            id=\"failedTransaction\"\r\n            defaultMessage=\"Failed transaction\"\r\n          />\r\n        ) : data.completed ? (\r\n          <FormattedMessage\r\n            id=\"transactionIsCompleted\"\r\n            defaultMessage=\"The transaction is completed\"\r\n          />\r\n        ) : (\r\n          <FormattedMessage id=\"transacton\" defaultMessage=\"Transaction\" />\r\n        )}\r\n      </h3>\r\n      <a href={data.link} target=\"_blank\" styleName=\"transactionLink\">\r\n        <FormattedMessage id=\"viewTransaction\" defaultMessage=\"View the transaction\" />\r\n      </a>\r\n    </Notification>\r\n  )\r\n}\r\n\r\nexport default CSSModules(Transaction, styles, { allowMultiple: true })\r\n","import SuccessWithdraw from './SuccessWithdraw/SuccessWithdraw'\r\nimport Message from './Message/Message'\r\nimport ErrorNotification from './ErrorNotification/ErrorNotification'\r\nimport BTCMultisignRequest from './BTCMultisignRequest/BTCMultisignRequest'\r\nimport Transaction from './Transaction'\r\n\r\nexport default {\r\n  SuccessWithdraw,\r\n  Message,\r\n  ErrorNotification,\r\n  BTCMultisignRequest,\r\n  Transaction,\r\n}\r\n","import Notification from 'components/notification/Notification/Notification'\r\nimport { FormattedMessage } from 'react-intl'\r\n\r\nconst ErrorNotification = ({ data, name }) => (\r\n  <Notification soundPlay={false} name={name} type={name}>\r\n    <h3>\r\n      <FormattedMessage id=\"ErrorNotification12\" defaultMessage=\"Oops, looks like something went wrong!\" />\r\n    </h3>\r\n    <p>\r\n      <FormattedMessage id=\"ErrorNotification151\" defaultMessage=\"Error: {error}\" values={{ error: `${data.error}` }} />\r\n    </p>\r\n  </Notification>\r\n)\r\n\r\nexport default ErrorNotification\r\n","// extracted by mini-css-extract-plugin\nexport default {\"transactionLink\":\"YoGRyInPC1Ks81urvNS7SA==\"};","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'redaction'\r\n\r\nimport Notifications from 'components/notifications'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './NotificationConductor.scss'\r\n\r\n\r\n@connect({\r\n  notifications: 'notifications',\r\n})\r\n@cssModules(styles)\r\nexport default class NotificationConductor extends Component<any, any> {\r\n\r\n  static propTypes = {\r\n    notifications: PropTypes.object,\r\n  }\r\n\r\n  render() {\r\n    const { notifications, history } = this.props\r\n\r\n    const notificationNames = Object.keys(notifications)\r\n    const areNotificationsExist = Boolean(notificationNames.length)\r\n\r\n    return areNotificationsExist && (\r\n      <div styleName=\"notificationConductor\">\r\n        {\r\n          notificationNames.map((key, index) => {\r\n            const { name, data = {} } = notifications[key]\r\n\r\n            return React.createElement(Notifications[name], {\r\n              key: index,\r\n              name,\r\n              data,\r\n              history,\r\n            })\r\n          })\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"notificationConductor\":\"nIZOCsOlzzQa2WmYneykfg==\"};","import './wdyr'\r\nimport React from \"react\";\r\nimport { RouteComponentProps, withRouter, HashRouter } from \"react-router-dom\";\r\nimport DocumentMeta from 'react-document-meta'\r\nimport actions from \"redux/actions\";\r\nimport { connect } from \"redaction\";\r\nimport moment from \"moment-with-locales-es6\";\r\nimport {\r\n  constants,\r\n  localStorage,\r\n  seo,\r\n} from \"helpers\";\r\n\r\nimport CSSModules from \"react-css-modules\";\r\nimport styles from \"./App.scss\";\r\nimport \"scss/app.scss\";\r\n\r\nimport { createSwapApp } from \"instances/newSwap\";\r\nimport Core from \"containers/Core/Core\";\r\nimport Transactions from 'containers/Transactions'\r\nimport ErrorBoundary from 'components/ErrorBoundary'\r\nimport Header from \"components/Header/Header\";\r\nimport Footer from \"components/Footer/Footer\";\r\nimport Loader from \"components/loaders/Loader/Loader\";\r\nimport PreventMultiTabs from \"components/PreventMultiTabs/PreventMultiTabs\";\r\nimport RequestLoader from \"components/loaders/RequestLoader/RequestLoader\";\r\nimport ModalConductor from \"components/modal/ModalConductor/ModalConductor\";\r\nimport WidthContainer from \"components/layout/WidthContainer/WidthContainer\";\r\nimport NotificationConductor from \"components/notification/NotificationConductor/NotificationConductor\";\r\nimport Seo from \"components/Seo/Seo\";\r\n\r\nimport config from \"helpers/externalConfig\"\r\nimport { routing, links, utils } from 'helpers'\r\nimport backupUserData from 'plugins/backupUserData'\r\nimport { FormattedMessage, injectIntl } from 'react-intl'\r\nimport metamask from 'helpers/metamask'\r\n// ReferralSystem\r\n\r\nimport GenerateJoinLink from 'plugins/ReferralSystem'\r\nconsole.log(' >>>> GenerateJoinLink', GenerateJoinLink)\r\nconst userLanguage = utils.getCookie('mylang') || \"en\"\r\nmoment.locale(userLanguage)\r\n\r\n@withRouter\r\n@connect(({ currencies: { items: currencies }, modals, ui: { dashboardModalsAllowed } }) => ({\r\n  currencies,\r\n  ethAddress: \"user.ethData.address\",\r\n  btcAddress: \"user.btcData.address\",\r\n  ghostAddress: \"user.ghostData.address\",\r\n  nextAddress: \"user.nextData.address\",\r\n  tokenAddress: \"user.tokensData.swap.address\",\r\n  modals,\r\n  dashboardModalsAllowed,\r\n}))\r\n@CSSModules(styles, { allowMultiple: true })\r\nclass App extends React.Component<RouteComponentProps<any>, any> {\r\n\r\n  prvMultiTab: any\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.prvMultiTab = {\r\n      reject: null,\r\n      enter: null,\r\n      switch: null\r\n    };\r\n\r\n    this.state = {\r\n      initialFetching: true,\r\n      completeCreation: false,\r\n      multiTabs: false,\r\n      error: \"\",\r\n    }\r\n  }\r\n\r\n\r\n  generadeId(callback) {\r\n    const newId = Date.now().toString();\r\n\r\n    this.setState(\r\n      {\r\n        appID: newId\r\n      },\r\n      () => {\r\n        callback(newId);\r\n      }\r\n    );\r\n  }\r\n\r\n  preventMultiTabs(isSwitch) {\r\n    this.generadeId(newId => {\r\n      if (isSwitch) {\r\n        localStorage.setItem(constants.localStorage.switch, newId);\r\n      }\r\n\r\n      const onRejectHandle = () => {\r\n        const { appID } = this.state;\r\n        const id = localStorage.getItem(constants.localStorage.reject);\r\n\r\n        if (id && id !== appID) {\r\n          this.setState({ multiTabs: true });\r\n\r\n          localStorage.unsubscribe(this.prvMultiTab.reject);\r\n          localStorage.unsubscribe(this.prvMultiTab.enter);\r\n          localStorage.unsubscribe(this.prvMultiTab.switch);\r\n          localStorage.removeItem(constants.localStorage.reject);\r\n        }\r\n      };\r\n\r\n      const onEnterHandle = () => {\r\n        const { appID } = this.state;\r\n        const id = localStorage.getItem(constants.localStorage.enter);\r\n        const switchId = localStorage.getItem(constants.localStorage.switch);\r\n\r\n        if (switchId && switchId === id) return;\r\n\r\n        localStorage.setItem(constants.localStorage.reject, appID);\r\n      };\r\n\r\n      const onSwitchHangle = () => {\r\n        const switchId = localStorage.getItem(constants.localStorage.switch);\r\n        const { appID } = this.state;\r\n\r\n        if (appID !== switchId) {\r\n          if (window?.chrome?.extension) {\r\n            const extViews = window.chrome.extension.getViews()\r\n            const extBgWindow = window.chrome.extension.getBackgroundPage()\r\n            if (extBgWindow !== window && extViews.length > 2) {\r\n              window.close()\r\n              return\r\n            }\r\n          }\r\n          this.setState({\r\n            multiTabs: true\r\n          });\r\n\r\n          localStorage.unsubscribe(this.prvMultiTab.reject);\r\n          localStorage.unsubscribe(this.prvMultiTab.enter);\r\n          localStorage.unsubscribe(this.prvMultiTab.switch);\r\n        }\r\n      };\r\n\r\n      this.prvMultiTab.reject = localStorage.subscribe(constants.localStorage.reject, onRejectHandle);\r\n      this.prvMultiTab.enter = localStorage.subscribe(constants.localStorage.enter, onEnterHandle);\r\n      this.prvMultiTab.switch = localStorage.subscribe(constants.localStorage.switch, onSwitchHangle);\r\n\r\n      localStorage.setItem(constants.localStorage.enter, newId);\r\n    });\r\n  }\r\n\r\n  popupIncorrectNetwork() {\r\n    actions.modals.open(constants.modals.AlertModal, {\r\n      title: (\r\n        <FormattedMessage \r\n          id=\"MetamaskNetworkAlert_Title\"\r\n          defaultMessage=\"Warning\"\r\n        />\r\n      ),\r\n      message: (\r\n        <FormattedMessage\r\n          id=\"MetamaskNetworkAlert_Message\"\r\n          defaultMessage='Wrong network, please switch to another network in {walletTitle} (or disconnect wallet).'\r\n          values={{\r\n            walletTitle: metamask.web3connect.getProviderTitle(),\r\n          }}\r\n        />\r\n      ),\r\n      labelOk: (\r\n        <FormattedMessage\r\n          id=\"MetamaskNetworkAlert_OkDisconnectWallet\"\r\n          defaultMessage=\"Disconnect external wallet\"\r\n        />\r\n      ),\r\n      dontClose: true,\r\n      okButtonAutoWidth: true,\r\n      callbackOk: () => {\r\n        metamask.disconnect()\r\n        actions.modals.close(constants.modals.AlertModal)\r\n      },\r\n    })\r\n  }\r\n\r\n  async processMetamask () {\r\n    await metamask.web3connect.onInit(() => {\r\n      const _checkChain = () => {\r\n        const wrongNetwork = metamask.isConnected() && !metamask.isCorrectNetwork()\r\n\r\n        if (wrongNetwork) {\r\n          this.popupIncorrectNetwork()\r\n        } else {\r\n          actions.modals.close(constants.modals.AlertModal)\r\n        }\r\n      }\r\n\r\n      metamask.web3connect.on('chainChanged', _checkChain)\r\n      metamask.web3connect.on('connected', _checkChain)\r\n\r\n      if (metamask.isConnected() && !metamask.isCorrectNetwork()) {\r\n        this.popupIncorrectNetwork()\r\n      }\r\n    })\r\n  }\r\n\r\n  processUserBackup () {\r\n    new Promise(async (resolve) => {\r\n      const wpLoader = document.getElementById('wrapper_element')\r\n\r\n      const hasServerBackup = await backupUserData.hasServerBackup()\r\n      console.log('has server backup', hasServerBackup)\r\n      if (hasServerBackup) {\r\n        actions.user.markCoinAsVisibleIfNeed()\r\n      }\r\n      if (backupUserData.isUserLoggedIn()\r\n        && backupUserData.isUserChanged()\r\n        && hasServerBackup\r\n      ) {\r\n        console.log('do restore user')\r\n        backupUserData.restoreUser().then((isRestored) => {\r\n          console.log('is restored', isRestored, constants.localStorage.isWalletCreate)\r\n          if (isRestored) {\r\n            if (localStorage.getItem(constants.localStorage.isWalletCreate)) {\r\n              routing.redirectTo(links.home)\r\n              window.location.reload()\r\n            } else {\r\n              routing.redirectTo(window.location.host === 'bsc.swap.io' ? links.exchange : links.createWallet)\r\n              if (wpLoader) wpLoader.style.display = 'none'\r\n            }\r\n          }\r\n        })\r\n      } else {\r\n        if (backupUserData.isUserLoggedIn()\r\n          && backupUserData.isFirstBackup()\r\n          || !hasServerBackup\r\n        ) {\r\n          console.log('Do backup user')\r\n          backupUserData.backupUser().then(() => {\r\n            if (wpLoader) wpLoader.style.display = 'none'\r\n          })\r\n\r\n          if (window.location.host === 'bsc.swap.io') {\r\n            routing.redirectTo('#/exchange/btc-to-btcb')\r\n          }\r\n        } else {\r\n          if (wpLoader) wpLoader.style.display = 'none'\r\n        }\r\n      }\r\n      resolve(`ready`)\r\n    })\r\n  }\r\n\r\n  async componentDidMount() {\r\n\r\n    const shouldUpdatePageAfterMigration = localStorage.getItem('shouldUpdatePageAfterMigration')\r\n\r\n    if (shouldUpdatePageAfterMigration) {\r\n      localStorage.setItem('shouldUpdatePageAfterMigration', false)\r\n      window.location.reload()\r\n    }\r\n\r\n    //@ts-ignore\r\n    const { currencies } = this.props\r\n\r\n    if (config.opts.preventMultiTab) this.preventMultiTabs(false)\r\n\r\n    const isWalletCreate = localStorage.getItem(constants.localStorage.isWalletCreate)\r\n\r\n    if (!isWalletCreate) {\r\n      currencies.forEach(({ name, standard, value }) => {\r\n        if (name !== \"BTC\") {\r\n          actions.core.markCoinAsHidden(standard ? value.toUpperCase() : name)\r\n        }\r\n      })\r\n    }\r\n\r\n    this.processUserBackup()\r\n    await this.processMetamask()\r\n\r\n    this.checkIfDashboardModalsAllowed()\r\n    window.actions = actions;\r\n\r\n    window.onerror = (error) => {\r\n      console.error('App error: ', error)\r\n    };\r\n\r\n    try {\r\n      const db = indexedDB.open(\"test\");\r\n      db.onerror = (e) => {\r\n        console.error('db error', e)\r\n      };\r\n    } catch (e) {\r\n      console.error('db error', e)\r\n    }\r\n\r\n    window.prerenderReady = true;\r\n\r\n    const appInstalled = (e) => {\r\n      alert(\r\n        userLanguage === 'ru'\r\n          ? '   '\r\n          : 'Wait while application is installing'\r\n      )\r\n      window.removeEventListener('appinstalled', appInstalled)\r\n    }\r\n    window.addEventListener('appinstalled', appInstalled)\r\n\r\n    this.checkCompletionOfAppCreation()\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const { initialFetching, completeCreation } = this.state\r\n\r\n    this.checkIfDashboardModalsAllowed()\r\n\r\n    if (initialFetching && completeCreation) {\r\n      // without setTimeout splash screen freezes when creating wallets\r\n      setTimeout(() => {\r\n        this.completeAppCreation().then(() => {\r\n          this.setState(() => ({\r\n            completeCreation: false,\r\n            initialFetching: false,\r\n          }))\r\n        })\r\n      })\r\n    }\r\n  }\r\n\r\n  completeAppCreation = async () => {\r\n    console.group('App >%c loading...', 'color: green;')\r\n\r\n    if(!window.SwapApp){\r\n      await actions.user.sign()\r\n      await createSwapApp()\r\n    }\r\n\r\n    /* \r\n    Currently not in use. See Exchange/Quickswap/index.tsx comments\r\n    */\r\n    // if (config.entry === 'mainnet') { \r\n    //   await actions.oneinch.fetchUserOrders()\r\n    // }\r\n\r\n    console.groupEnd()\r\n  }\r\n\r\n  checkCompletionOfAppCreation = () => {\r\n    const startPage = document.getElementById('starter-modal')\r\n    const isWalletCreated = localStorage.getItem('isWalletCreate')\r\n\r\n    if (\r\n      !startPage ||\r\n      config.isWidget ||\r\n      utils.getCookie('startedSplashScreenIsDisabled') ||\r\n      isWalletCreated ||\r\n      window.location.hash !== '#/'\r\n    ) {\r\n      this.setState(() => ({\r\n        initialFetching: true,\r\n        completeCreation: true,\r\n      }))\r\n    } else {\r\n      this.addStartPageListeners()\r\n    }\r\n  }\r\n\r\n  setCompleteCreation = () => {\r\n    this.removeStartPageListeners()\r\n    this.setState(() => ({\r\n      completeCreation: true,\r\n    }))\r\n  }\r\n\r\n  addStartPageListeners = () => {\r\n    // id from index.html start page\r\n    const createBtn = document.getElementById('preloaderCreateBtn')\r\n    const connectBtn = document.getElementById('preloaderConnectBtn')\r\n    const restoreBtn = document.getElementById('preloaderRestoreBtn')\r\n    const skipBtn = document.getElementById('preloaderSkipBtn')\r\n  \r\n    if (createBtn) createBtn.addEventListener('click', this.setCompleteCreation)\r\n    if (connectBtn) connectBtn.addEventListener('click', this.setCompleteCreation)\r\n    if (restoreBtn) restoreBtn.addEventListener('click', this.setCompleteCreation)\r\n    if (skipBtn) skipBtn.addEventListener('click', this.setCompleteCreation)\r\n  }\r\n\r\n  removeStartPageListeners = () => {\r\n    //@ts-ignore: strictNullChecks\r\n    document.getElementById('preloaderCreateBtn').removeEventListener('click', this.setCompleteCreation)\r\n    //@ts-ignore: strictNullChecks\r\n    document.getElementById('preloaderConnectBtn').removeEventListener('click', this.setCompleteCreation)\r\n    //@ts-ignore: strictNullChecks\r\n    document.getElementById('preloaderRestoreBtn').removeEventListener('click', this.setCompleteCreation)\r\n    //@ts-ignore: strictNullChecks\r\n    document.getElementById('preloaderSkipBtn').removeEventListener('click', this.setCompleteCreation)\r\n  }\r\n\r\n  checkIfDashboardModalsAllowed = () => {\r\n    const dashboardModalProvider = document.querySelector('.__modalConductorProvided__')\r\n    //@ts-ignore\r\n    if (dashboardModalProvider && !this.props.dashboardModalsAllowed) {\r\n      return actions.ui.allowDashboardModals()\r\n    //@ts-ignore\r\n    } else if (dashboardModalProvider && this.props.dashboardModalsAllowed) {\r\n      return null\r\n    }\r\n    return actions.ui.disallowDashboardModals()\r\n  }\r\n\r\n  handleSwitchTab = () => {\r\n    this.setState({\r\n      multiTabs: false\r\n    });\r\n    this.preventMultiTabs(true);\r\n  };\r\n\r\n  overflowHandler = () => {\r\n    //@ts-ignore\r\n    const { modals, dashboardModalsAllowed } = this.props;\r\n    const isAnyModalCalled = Object.keys(modals).length > 0\r\n\r\n    if (typeof document !== 'undefined' && isAnyModalCalled && !dashboardModalsAllowed) {\r\n      document.body.classList.remove('overflowY-default')\r\n      document.body.classList.add('overflowY-hidden')\r\n    } else {\r\n      document.body.classList.remove('overflowY-hidden')\r\n      document.body.classList.add('overflowY-default')\r\n    }\r\n    if (typeof document !== 'undefined' && isAnyModalCalled && dashboardModalsAllowed) {\r\n      document.body.classList.remove('overflowY-default')\r\n      document.body.classList.add('overflowY-dashboardView-hidden')\r\n    } else {\r\n      document.body.classList.remove('overflowY-dashboardView-hidden')\r\n      document.body.classList.add('overflowY-default')\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { initialFetching, multiTabs } = this.state;\r\n    //@ts-ignore\r\n    const { children, ethAddress, btcAddress, ghostAddress, nextAddress, tokenAddress, history, dashboardModalsAllowed } = this.props;\r\n\r\n    this.overflowHandler()\r\n\r\n    const isFetching = !ethAddress || !btcAddress || !ghostAddress || !nextAddress || (!tokenAddress && config && !config.isWidget) || initialFetching;\r\n\r\n    const isWidget = history.location.pathname.includes(\"/exchange\") && history.location.hash === \"#widget\";\r\n    const isCalledFromIframe = window.location !== window.parent.location;\r\n    const isWidgetBuild = config && config.isWidget;\r\n\r\n    if (isWidgetBuild && localStorage.getItem(constants.localStorage.didWidgetsDataSend) !== \"true\") {\r\n      localStorage.setItem(constants.localStorage.didWidgetsDataSend, true);\r\n    }\r\n\r\n    if (multiTabs) {\r\n      return <PreventMultiTabs onSwitchTab={this.handleSwitchTab} />\r\n    }\r\n\r\n    if (isFetching) {\r\n      return (\r\n        <Loader \r\n          showMyOwnTip={\r\n            <FormattedMessage id=\"Table96\" defaultMessage=\"Loading...\" />\r\n          }\r\n        />\r\n      )\r\n    }\r\n\r\n    const isSeoDisabled = isWidget || isWidgetBuild || isCalledFromIframe\r\n    const widgetTitle = window.defaultWindowTitle || seo.defaultTitle\r\n    const widgetUrl = window.location.origin + window.location.pathname\r\n\r\n    return <HashRouter>\r\n      <div styleName=\"compressor\">\r\n        {!isSeoDisabled &&\r\n          <Seo location={history.location} />\r\n        }\r\n        {isWidgetBuild && (\r\n          <DocumentMeta\r\n            title={widgetTitle}\r\n            description={seo.defaultDescription}\r\n            canonical={widgetUrl}\r\n            meta={{\r\n              property: {\r\n                'og:title': widgetTitle,\r\n                'og:description': seo.defaultDescription,\r\n                'og:url': widgetUrl,\r\n                'og:image': window.logoUrl,\r\n              },\r\n            }}\r\n          />\r\n        )}\r\n\r\n        <ErrorBoundary>\r\n          <Transactions>\r\n            {/* @ts-ignore */}\r\n            <WidthContainer id=\"swapComponentWrapper\" styleName=\"headerAndMain\">\r\n              <Header />\r\n              <main>{children}</main>\r\n            </WidthContainer>\r\n            <Core />\r\n            <Footer />\r\n            <RequestLoader />\r\n            {!dashboardModalsAllowed &&\r\n              <ModalConductor history={history}\r\n            />}\r\n            <NotificationConductor history={history} />\r\n          </Transactions>\r\n        </ErrorBoundary>\r\n      </div>\r\n    </HashRouter>;\r\n  }\r\n}\r\n\r\nexport default withRouter(injectIntl(App))\r\n","// extracted by mini-css-extract-plugin\nexport default {\"compressor\":\"_94ymoRP7rzEW8N5zdJvseQ==\",\"headerAndMain\":\"dQ2XX1NhoKOGLy+qoAZ3yQ==\"};","import React from 'react'\r\nimport { IntlProvider } from 'react-intl'\r\nimport { Switch, Route, HashRouter } from 'react-router-dom'\r\n\r\nimport { getCookie } from 'helpers/utils'\r\n\r\nimport myNl from 'localisation/nl.json'\r\nimport myDe from 'localisation/de.json'\r\nimport myEn from 'localisation/en.json'\r\nimport myRu from 'localisation/ru.json'\r\nimport myEs from 'localisation/es.json'\r\nimport myPl from 'localisation/pl.json'\r\nimport myPt from 'localisation/pt.json'\r\nimport myKo from 'localisation/ko.json'\r\nimport myAr from 'localisation/ar.json'\r\nimport myFa from 'localisation/fa.json'\r\n\r\n\r\nimport { reduceMessages, defaultLocale } from 'helpers/locale'\r\n\r\n\r\nconst translations = {\r\n  nl: reduceMessages(myNl),\r\n  de: reduceMessages(myDe),\r\n  en: reduceMessages(myEn),\r\n  ru: reduceMessages(myRu),\r\n  es: reduceMessages(myEs),\r\n  pl: reduceMessages(myPl),\r\n  pt: reduceMessages(myPt),\r\n  ko: reduceMessages(myKo),\r\n  ar: reduceMessages(myAr),\r\n  fa: reduceMessages(myFa),\r\n}\r\n\r\nexport default class IntlProviderContainer extends React.Component<any, any> {\r\n  render() {\r\n    const { children } = this.props\r\n    let lang = 'en'\r\n\r\n    return (\r\n      <HashRouter>\r\n        <Switch>\r\n          <Route\r\n            render={props => {\r\n              let currentLocale = defaultLocale()\r\n\r\n              if (props.match.params.locale !== undefined) {\r\n                currentLocale = props.match.params.locale\r\n              } else {\r\n                lang = getCookie('mylang') || 'en'\r\n                currentLocale = lang.toLowerCase()\r\n              }\r\n\r\n              const messages = translations[currentLocale]\r\n\r\n              return (\r\n                <IntlProvider\r\n                  {...props}\r\n                  key={currentLocale}\r\n                  locale={currentLocale}\r\n                  defaultLocale={defaultLocale()}\r\n                  messages={messages}\r\n                >\r\n                  {children}\r\n                </IntlProvider>\r\n              )\r\n            }}\r\n          />\r\n        </Switch>\r\n      </HashRouter>\r\n    )\r\n  }\r\n}\r\n","import * as React from 'react'\r\nimport { Provider } from 'react-redux'\r\nimport store, { history } from 'redux/store'\r\nimport routes from 'shared/routes'\r\nimport { ConnectedRouter } from 'connected-react-router'\r\n\r\nimport App from 'containers/App/App'\r\nimport IntlProviderContainer from './IntlProviderContainer'\r\n\r\nimport reducers from 'redux/core/reducers'\r\n\r\n\r\ntype RootProps = {\r\n  history: typeof history\r\n  store: typeof store\r\n  routes: typeof routes\r\n}\r\n\r\nexport default class Root extends React.Component<RootProps, null> {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    // reset dinamic reducers data\r\n    reducers.user.setIsBalanceFetching({ isBalanceFetching: false })\r\n  }\r\n\r\n  render() {\r\n    const { history, store, routes } = this.props\r\n\r\n    return (\r\n      <Provider store={store}>\r\n        <ConnectedRouter history={history}>\r\n          <>\r\n            <IntlProviderContainer>\r\n              <App history={history}>{routes}</App>\r\n            </IntlProviderContainer>\r\n          </>\r\n        </ConnectedRouter>\r\n      </Provider>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nimport cssModules from 'react-css-modules'\r\nimport styles from './ErrorPageNoSSL.scss'\r\n\r\nimport { FormattedMessage, injectIntl } from 'react-intl'\r\n\r\n\r\n@cssModules(styles)\r\nexport default class ErrorPageNoSSL extends Component<any, any> {\r\n  render() {\r\n    return (\r\n      <div styleName=\"page\">\r\n        <h3 styleName=\"header\">\r\n          Error: This page should be opened in a secure connection (with &#34;https&#34; in the beginning)\r\n        </h3>\r\n        <h3>\r\n            <strong>\r\n              <a href={`https://${document.location.host}${document.location.pathname}${document.location.hash}`}>\r\n                CLICK HERE\r\n              </a>\r\n            </strong>\r\n        </h3>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"page\":\"k2L3nfobU+Qf5zi6OBvA6g==\",\"header\":\"IBaPU-KT2xqcgm9AT7uJCA==\"};","import ReactDOM from 'react-dom'\r\nimport routes from 'shared/routes'\r\nimport store, { history } from 'redux/store'\r\n\r\nimport Root from 'shared/containers/Root/Root'\r\nimport { migrate } from 'helpers'\r\nimport ErrorPageNoSSL from 'shared/components/ErrorPageNoSSL/ErrorPageNoSSL'\r\nimport config from 'app-config'\r\nimport isLocalIP from 'is-local-ip'\r\nimport feedback from 'shared/helpers/feedback'\r\n\r\n// eslint-disable-next-line camelcase\r\nconst __webpack_public_path__ = `${config.publicPath}images/` // It makes webpack-require-from plugin works. So dont delete it.\r\n// All references is in swap.reace/webpack/rules/images.js\r\n\r\nconst rootEl = document.getElementById('root')\r\n\r\nif (\r\n  window.location.protocol === 'http:'\r\n  && window.location.hostname !== 'localhost'\r\n  && !isLocalIP(window.location.hostname)\r\n) {\r\n  ReactDOM.render(\r\n    <ErrorPageNoSSL />,\r\n    rootEl,\r\n  )\r\n} else {\r\n  migrate().finally(() => setTimeout(() => {\r\n    // @ts-ignore: strictNullChecks\r\n    ReactDOM.render(<Root history={history} store={store} routes={routes} />, rootEl)\r\n    console.log('(index.tsx) render root, finished')\r\n  }, 1000))\r\n}\r\n\r\nfeedback.app.started()\r\n","var map = {\n\t\"./index.js\": 5491\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 13249;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 46313;\nmodule.exports = webpackEmptyContext;","var map = {\n\t\"./\": 64795,\n\t\"./SwapAuth\": 39870,\n\t\"./SwapAuth.ts\": 39870,\n\t\"./arbeth\": 23789,\n\t\"./arbeth.ts\": 23789,\n\t\"./bnb\": 52723,\n\t\"./bnb.ts\": 52723,\n\t\"./btc\": 91995,\n\t\"./btc.ts\": 91995,\n\t\"./eth\": 62984,\n\t\"./eth.ts\": 62984,\n\t\"./ghost\": 5914,\n\t\"./ghost.ts\": 5914,\n\t\"./index\": 64795,\n\t\"./index.ts\": 64795,\n\t\"./matic\": 8746,\n\t\"./matic.ts\": 8746,\n\t\"./next\": 57209,\n\t\"./next.ts\": 57209\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 92273;","module.exports = React;","module.exports = ReactDOM;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdO = {};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","// The chunk loading function for additional chunks\n// Since all referenced chunks are already included\n// in this file, this function is empty here.\n__webpack_require__.e = () => (Promise.resolve());","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"./\";","\n// WebpackRequireFrom\nObject.defineProperty(__webpack_require__, \"p\", {\n  get: function () {\ntry {\n  if (typeof publicUrl !== \"string\") {\n    throw new Error(\"WebpackRequireFrom: 'publicUrl' is not a string or not available at runtime. See https://github.com/agoldis/webpack-require-from#troubleshooting\");\n  }\n  return publicUrl;\n} catch (e) {\n  if (!true) {\n    console.error(e);\n  }\n  return \"./\";\n}\n },\n  set: function () {}\n});","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkswap_online\"] = self[\"webpackChunkswap_online\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [736], () => (__webpack_require__(87004)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","crypto","require","err","Error","RADIX_BITS","ID_BITS_LENGTH","ITERATION_EXP_BITS_LENGTH","ITERATION_EXP_WORDS_LENGTH","parseInt","MAX_ITERATION_EXP","Math","pow","MAX_SHARE_COUNT","CHECKSUM_WORDS_LENGTH","DIGEST_LENGTH","SALT_STRING","MIN_ENTROPY_BITS","METADATA_WORDS_LENGTH","MNEMONICS_WORDS_LENGTH","ITERATION_COUNT","ROUND_COUNT","DIGEST_INDEX","SECRET_INDEX","String","prototype","slip39EncodeHex","bytes","i","this","length","push","charCodeAt","Array","slip39DecodeHex","str","hex","toString","split","fromCharCode","replace","slip39Generate","m","v","arguments","undefined","_","n","toHexString","map","call","byte","slice","join","toByteArray","hexString","ret","substr","BIGINT_WORD_BITS","BigInt","decodeBigInt","result","bitsToBytes","randomBytes","randoms","crypt","masterSecret","passphrase","iterationExponent","identifier","encrypt","concat","IL","IR","pwd","salt","getSalt","range","reverse","forEach","round","f","exp","secret","saltedSecret","roundedPhrase","count","key","pbkdf2Sync","Buffer","from","roundFunction","t","a","b","xor","createDigest","randomData","sharedSecret","hmac","createHmac","update","digest","splitSecret","threshold","shareCount","randomShareCount","randomPart","baseShares","Map","shares","item","idx","set","rr","interpolate","generateIdentifier","bits","x","xCoord","Set","keys","arr","values","sharesValueLengths","size","has","k","logProd","LOG_TABLE","results","next","value","sum","vv","kk","basis","logBasisEval","shareVal","res","EXP_TABLE","rs1024Polymod","data","GEN","chk","intFromIndices","indices","radix","index","intToIndices","mask","mnemonicFromIndices","WORD_LIST","mnemonicToIndices","mnemonic","_typeof","toLowerCase","reduce","prev","WORD_LIST_MAP","recoverSecret","digestShare","every","listsAreEqual","combineMnemonics","mnemonics","decoded","identifiers","iterationExponents","groupThresholds","groupCounts","groups","decodeMnemonic","add","groupIndex","groupThreshold","groupCount","memberIndex","memberThreshold","share","group","get","member","decodeMnemonics","allShares","members","prefix","groupPrefix","recovered","ems","id","combineSecrets","secrets","secretsGroups","paddingLen","rs1024VerifyChecksum","idExpInt","valueData","valueInt","number","paddedLength","num","BYTE_MASK","BIGINT_ZERO","unshift","encodeBigInt","e","validateMnemonic","error","indc","indc2","encodeMnemonic","valueWordCount","gp","tp","calc","polymod","shareData","checksum","obj","val","slipHelper","Slip39Node","description","children","_classCallCheck","_createClass","Slip39","_ref","_ref$iterationExponen","currentNode","nodes","_this","secretShares","d","node","branch","buildRecursive","path","validatePath","parseChildren","root","childNumber","childrenLen","match","pathLength","pathFragment","_ref2","_ref2$passphrase","_ref2$threshold","_ref2$groups","_ref2$iterationExpone","_ref2$title","title","test","slip","encryptedMasterSecret","getRandomMnemonicWords","bip39","validateMnemonicWords","convertMnemonicToValid","splitMnemonicToSecretParts","mnemonicEntropy","getMnemonicInt","fromPath","secretParts","restoryMnemonicFromSecretParts","mnemonicInt","recoveredEntropy","isValidShamirsSecret","secretInt","mnemonicIndices","trim","filter","word","getBtcWallet","network","walletNumber","seed","bip32","derivePath","account","bitcoin","pubkey","publicKey","address","WIF","toWIF","getEthLikeWallet","params","_params$walletNumber","validMnemonic","wallet","hdkey","getWallet","getPublicKey","privateKey","getPrivateKey","getAddress","getGhostWallet","getNextWallet","mnemonicIsValid","COIN_TYPE","Object","freeze","NATIVE","ETH_TOKEN","BNB_TOKEN","MATIC_TOKEN","XDAI_TOKEN","FTM_TOKEN","AVAX_TOKEN","MOVR_TOKEN","ONE_TOKEN","AME_TOKEN","AURORA_TOKEN","PHI_V1_TOKEN","PHI_TOKEN","FKW_TOKEN","PHPX_TOKEN","TOKEN_STANDARD","ERC20","BEP20","ERC20MATIC","ERC20XDAI","ERC20FTM","ERC20AVAX","ERC20MOVR","ERC20ONE","ERC20AME","ERC20AURORA","PHI20_V1","PHI20","FKW20","PHPX20","BLOCKCHAIN","BTC","GHOST","NEXT","ETH","BNB","MATIC","ARBITRUM","XDAI","FTM","AVAX","MOVR","ONE","AME","AURETH","PHI_V1","PHI","FKW","PHPX","BASE_TOKEN_CURRENCY","COIN_MODEL","UTXO","AB","COIN_DATA","ticker","name","type","blockchain","model","precision","ARBETH","standard","USDT","BTCB","EURS","SWAP","SNM","btc","eth","bnb","matic","arbeth","aureth","xdai","ftm","avax","movr","one","ame","phi_v1","phi","fkw","phpx","ghost","ETH_TOKENS","usdt","eurs","swap","pay","proxima","snm","noxon","pbl","xsat","hdp","scro","xeur","_objectSpread","btcb","wbtc","COINS","ENV","web3","bitcoincash","coininfo","storage","sessionStorage","swapsExplorer","metamask","getWeb3","isBinance","web3bnb","getWeb3Bnb","web3Matic","getWeb3Matic","web3Arbitrum","getWeb3Arbitrum","isTest","SERVICES","auth","room","orders","swaps","NETWORKS","MAINNET","TESTNET","StorageFactory","_defineProperty","global","localStorage","setItem","getItem","removeItem","JSON","stringify","parse","console","Collection","_constructor","items","itemIds","callback","hasOwnProperty","splice","indexOf","includes","Boolean","getByKey","SwapApp","_EventEmitter","_inherits","_super","options","_assertThisInitialized","constants","env","services","flows","_addEnv","_addServices","_addSwaps","_addFlows","whitelistBtc","inited","web3provider","_swapAppInstance","initFlows","attachedSwaps","isExistByKey","append","isFinished","coin","participant","_this2","service","_serviceName","_attachSwapApp","_this3","_addService","serviceName","_waitRelationsResolve","_tryInitService","_swapName","swapKey","blockchainName","toUpperCase","_initSwap","_this4","_addSwap","Flow","flowName","getName","getFromName","getToName","_this5","flow","_addFlow","coinType","isEnabled","isConnected","accounts","getEvmLikeAddress","utils","participantMetamaskAddress","getParticipantEvmLikeAddress","cb","waitInit","isInited","setTimeout","forceFreshSetup","required","app","isSwapApp","errorMessage","is","EventEmitter","ServiceInterface","_dependsOn","_spyHandlers","dependsOnMap","Service","initialized","_addWaitRelationHandler","initService","handler","SwapInterface","Event","handlers","bind","unsubscribe","removeHandler","handlerIndex","_len","eventArgs","_key","apply","EventAggregator","events","event","getEvent","addHandler","eventName","debug","_len2","_key2","handlerWrapper","props","propName","repeatAsyncUntilResult","action","delay","Promise","_asyncToGenerator","_regeneratorRuntime","_callee2","resolve","isStoped","stop","iteration","_context2","_callee","_context","sent","_x","waitDelay","_ref3","_callee4","inSeconds","_context4","abrupt","_ref4","_callee3","reject","_context3","_x3","_x4","_x2","extractSecretFromContract","_ref6","_callee5","_ref5","swapFlow","participantAddress","ownerAddress","secretFromContract","secretHash","ourSwap","hashFromContractSwap","_context5","getSecret","state","ripemd160","warn","t0","_x5","extractSecretFromTx","_ref8","_callee7","_ref7","ethSwapWithdrawTransactionHash","secretFromTxhash","_context7","_callee6","_flow$state","secretFromTx","_context6","getSecretFromTxhash","_x6","TokenRegistrar","code","tokenCode","blockchainType","tokenStandard","blockchainModel","typeforce","isCoinAddress","isPublicKey","erc20","BLOCKCHAIN_TYPE","bep20","erc20aurora","erc20avax","erc20ftm","erc20matic","erc20movr","erc20one","erc20ame","erc20xdai","phi20_v1","phi20","fkw20","phpx20","EVM_ADDRESS_REGEXP","isEvmAddress","_isCoinAddress","_isPublicKey","check","isNumeric","isNaN","parseFloat","isFinite","isCoinName","_privateKeys","_mnemonic","getPublicDataMethods","_ServiceInterface","SwapAuth","privateKeys","useMnemonic","instance","loginMnemonic","login","getPublicData","peer","_privateKey","storageKey","privateKeyToAccount","create","mnemonicUtils","isMainNet","networks","testnet","ECPair","makeRandom","fromWIF","payments","p2pkh","getPublicKeyBuffer","main","initialState","show","_ref$data","hide","_objectWithoutProperties","_toPropertyKey","zIndex","open","closeAll","close","transactions","swapHistory","setFilter","payload","setTransactions","_toConsumableArray","setSwapHistory","isVisible","setVisibility","ghostData","balance","isBalanceFetched","currency","fullName","balanceError","infoAboutCurrency","nextData","ethData","bnbData","maticData","arbethData","aurethData","xdaiData","ftmData","avaxData","movrData","oneData","phi_v1Data","phiData","fkwData","phpxData","ameData","btcData","btcMultisigSMSData","btcMultisigPinData","btcMultisigG2FAData","btcMultisigUserData","tokensData","isFetching","isBalanceFetching","isTokenSigned","activeFiat","window","DEFAULT_FIAT","activeCurrency","multisigStatus","multisigPendingCount","metamaskData","updateMultisigStatus","last","total","totalPending","savedAddress","pending","addWallet","setAuthData","setTokenSigned","booleanValue","setTokenAuthData","baseCurrency","tokenKey","setBtcMultisigBalance","amount","unconfirmedBalance","wallets","Number","setBalance","setInfoAboutToken","setInfoAboutCurrency","setBalanceError","_ref9","setTokenBalanceError","_ref10","setTokenBalance","_ref11","setIsBalanceFetching","_ref12","setIsFetching","_ref13","setActiveCurrency","_ref14","setActiveFiat","_ref15","addItems","deleteItems","__CONFIG__","hiddenCoinsList","config","getOrders","markCoinAsHidden","markCoinAsVisible","c","isOnline","isAllPeersLoaded","onlineUsers","serverAddress","reputation","userJoined","userLeft","allPeersLoaded","servers","checked","errors","setChecked","setErrors","setApiServer","provider","server","STANDARDS","platform","platformKey","explorerApi","explorerApiKey","hasSupportAtomicSwap","_config$api","aurorascan","_config$api2","phi_ApiKey","_config$api3","_config$api4","_config$api5","fkwscan","_config$api6","fkwscan_api","_config$api7","phpxscan","_config$api8","phpxscan_api","EXISTING_STANDARDS","buildOpts","curEnabled","blockchainSwapEnabled","ownTokens","addCustomTokens","invoiceEnabled","buildOptions","_window","_window$widgetEvmLike","widgetEvmLikeTokens","isArray","wcP","token","symbol","tokenItems","tokenPartialItems","TOKEN_STANDARDS","tokenNames","icon","fullTitle","addAssets","canSwap","tokensInfo","baseCurrencyConfig","dontCreateOrder","partialItems","addSelectedItems","addPartialItems","_window2","_window2$widgetEvmLik","widgetCustomTokens","firstToken","_TOKEN_STANDARDS$stan","customTokenConfig","_TOKEN_STANDARDS$stan2","tokenContractAddr","_config$standard$symb","itemConfig","updatePartialItems","deletedPartialCurrency","isInputActive","setInputActive","savedOrders","deletedOrders","orderId","forgetOrders","getOrderIntheProcess","currencies","secure","step","newWalletData","dashboardModalsAllowed","allowDashboardModals","disallowDashboardModals","blockchains","allowedCurrency","chainId","networkVersion","addOrder","order","addOrders","ordersByChain","removeOrder","pendingQueue","addTransactionToQueue","networkCoin","hash","networkData","removeLastTransactionFromQueue","newQueue","notifications","modals","history","loader","core","user","feeds","pubsubRoom","api","inputActive","rememberedOrders","createWallet","ui","oneinch","toSaveStates","cleanReduxStore","reduxStore","createBrowserHistory","middleware","routerMiddleware","devTools","__REDUX_DEVTOOLS_EXTENSION__","_storeConfig","reducers","router","connectRouter","combineReducers","localReducers","store","stateName","getState","enhancers","createStore","wrapReducers","_window3","_window3$widgetEvmLik","_config$opts$ownToken","hasWalletConnect","L2_EVM_KEYS","createWalletCoinsOrder","buyFiatSupported","defaultExchangePair","buy","sell","preventMultiTab","defaultQuickSell","showWalletBanners","showHowItsWork","fee","hideShowPrivateKey","plugins","setItemPlugin","getItemPlugin","userDataPluginApi","backupPlugin","backupPluginUrl","restorePluginUrl","ReferralEnabled","ReferralStatisticUrl","GenerateJoinLink","buyViaCreditCardLink","exchangeDisabled","hideServiceLinks","serviceLink","farmLink","bannersSource","disableInternalWallet","faq","before","after","menu","SO_ReferralSystem_Enabled","SO_ReferralSystem_GenerateLinkUrl","SO_ReferralSystem_StatisticUrl","SO_WalletConnectProjectId","SO_WalletConnectDisabled","SO_AllowMultiTab","SO_FaqBeforeTabs","SO_FaqAfterTabs","SO_MenuItemsBefore","SO_MenuItemsAfter","SO_disableInternalWallet","SO_addAllEnabledWalletsAfterRestoreOrCreateSeedPhrase","SO_fiatBuySupperted","SO_defaultQuickSell","SO_defaultQuickBuy","SO_createWalletCoinsOrder","WPuserHash","WPuserUid","showHowItWorksOnExchangePage","EXCHANGE_DISABLED","CUR_NEXT_DISABLED","wpCurrencyDisabledFlages","CUR_BTC_DISABLED","CUR_GHOST_DISABLED","CUR_ETH_DISABLED","CUR_BNB_DISABLED","CUR_MATIC_DISABLED","CUR_ARBITRUM_DISABLED","CUR_XDAI_DISABLED","CUR_FTM_DISABLED","CUR_AVAX_DISABLED","CUR_MOVR_DISABLED","CUR_ONE_DISABLED","CUR_AME_DISABLED","CUR_AURORA_DISABLED","CUR_PHI_DISABLED","CUR_PHI_V2_DISABLED","CUR_FKW_DISABLED","CUR_PHPX_DISABLED","windowFlagKey","acc","info","backupUrl","restoreUrl","SWAP_HIDE_EXPORT_PRIVATEKEY","tokenSymbol","getCustomTokenConfig","tokenObj","decimals","widgetERC20Comisions","hasTokenAdminFee","curKey","_window$widgetERC20Co","min","feeOk","minOk","BigNumber","toNumber","baseCurrencyFee","log","responseCacheStorage","responseCacheGetKey","req","opts","method","endpoint","defaultOptions","sameOrigin","modifyResult","resData","requestByMethod","request","headers","timeout","response","deadline","query","body","send","withCredentials","responseHandler","cachedAnswer","cacheKey","cacheResponse","cacheResponseCreateTime","Date","getTime","responseCacheGet","fulfill","end","serverError","sourceError","statusCode","text","responseCacheAdd","createResponseHandler","abort","sendRequest","post","patch","put","delete","floor","apiStatuses","apiQuery","apiQueryTimers","apiQueryTimer","queryName","queryChunk","shift","onResolve","onError","inQuery","apiLooper","then","answer","apiQueryInit","switchNext","prior","apiPrioritet","current","endpoints","online","lastCheck","getUnixTimeStamp","ignoreErrors","reportErrors","apiName","apiServers","stat","url","initApiStatus","apiStatus","doRequest","currentEndpoint","checkStatus","Function","skipDefResolve","resolveResult","rejectResult","DUST_SAT","TX_SIZE","P2PKH_IN_SIZE","P2PKH_OUT_SIZE","P2SH_OUT_SIZE","P2SH_IN_SIZE","P2WSH_IN_SIZE","P2WSH_OUT_SIZE","P2WPKH_IN_SIZE","P2WPKH_OUT_SIZE","P2SH_P2WPKH_IN_SIZE","MULTISIG_P2SH_IN_SIZE","MULTISIG_P2WSH_IN_SIZE","MULTISIG_P2SH_P2WSH_IN_SIZE","limit","contractInteract","price","slow","normal","fast","aurethToken","swapDeposit","swapWithdraw","price_fixed","evmLike","evmLikeToken","rate","btc_multisig_2n2","btc_multisig_2fa","jot","erc","TOKEN_SWAP","NATIVE_COIN_SWAP","ZERO_ADDRESS","EVM_COIN_ADDRESS","WrapperCurrency","ADDRESSES","TRANSACTION","DEFAULT_CURRENCY_PARAMETERS","MIN_AMOUNT","MIN_AMOUNT_OFFER","COINS_WITH_DYNAMIC_FEE","EVM_CONTRACTS_ABI","zeroxSepolia","zeroxMumbai","limitOrders","horizon","blocktrail","bitpay","ghostscan","nextscan","nextExplorer","nextExplorerCustom","blockcypher","etherscan","etherscanInvoices","etherscan_ApiKey","bscscan","bscscanInvoices","bscscan_ApiKey","maticscan","polygon_ApiKey","ftmscan","ftm_ApiKey","avaxscan","avax_ApiKey","movrscan","movr_ApiKey","onescan","one_ApiKey","amescan","ame_ApiKey","aurora_ApiKey","faucet","btc2FAProtected","btcPin","invoiceApi","multisig","txinfo","WalletConnectProjectId","InfuraApiKey","zeroxEthereum","zeroxBsc","zeroxPolygon","zeroxFantom","zeroxAvalanche","zeroxArbitrum","phiscan","getBitpay","getBlockcypher","fetchTx","apiBitpay","NETWORK","rest","_excluded","fees","dividedBy","fetchTxInfo","hasAdminFee","txinfoReject","baseTxInfo","txCoins","receiverAddress","afterBalance","adminOutput","adminFee","afterOutput","senderAddress","txInfo","t1","inputs","outputs","out","eq","txid","confirmed","confirmations","minerFee","minerFeeCurrency","output","input","fetchUnspents","height","mintHeight","satoshis","scriptPubKey","script","mintTxid","vout","mintIndex","spentTxid","prepareUnspents","unspents","needAmount","multipliedBy","plus","sortedUnspents","sort","isEqualTo","isGreaterThan","oneUnspent","unspent","isGreaterThanOrEqualTo","calcedAmount","fetchTxRaw","txId","apiBlocyper","getFeesRateBlockcypher","defaultRate","defaultApiSpeeds","apiResult","apiRate","custom","cacheOnFail","low_fee_per_kb","medium_fee_per_kb","high_fee_per_kb","_x7","Network","AddressType","addressTypes","mainnet","p2sh","getAddressType","p2wpkh","p2wsh","version","getByteCount","totalWeight","hasWitness","inputCount","outputCount","types","checkUInt53","MAX_SAFE_INTEGER","RangeError","varIntLength","keyParts","newKey","mAndN","multiplyer","ceil","calculateTxSize","txIn","txOut","_params$method","fixed","toAddress","serviceFee","defaultTxSize","txSize","fromAddressType","toAddressType","adminAddressType","_outputs","_toAddressType","_adminAddressType","_x8","estimateFeeRateBLOCKCYPHER","_options$speed","speed","_speed","estimateFeeRate","message","_x9","estimateFeeValue","_callee8","_feeRate","inSatoshis","_txSize","swapUTXOMethod","moreInfo","calculatedFeeValue","SATOSHI_TO_BITCOIN_RATIO","feeRate","moreInfoResponse","finalFeeValue","_context8","div","dp","groupEnd","_x10","prepareFees","_callee9","feeValue","_ref12$method","to","feeFromAmount","adminFeeMinValue","adminFeeMin","toAmount","fundValue","totalUnspent","skipValue","_context9","integerValue","t2","t3","summ","_x11","prepareRawTx","_callee10","_params$method2","_params$publicKeys","publicKeys","psbt","keyPair","_unspents$i","rawTx","p2ms","_i","_unspents$_i","_txid","_vout","_rawTx","_context10","addOutput","addInput","nonWitnessUtxo","signAllInputs","finalizeAllInputs","extractTransaction","toHex","pubkeys","redeemScript","_x12","fetchBalance","withUnconfirmed","unconfirmed","broadcastTx","txRaw","onBroadcastError","bcAnswer","tx","statusMessage","checkWithdraw","scriptAddress","txs","spendTxInfo","getTransactionBlocyper","ownAddress","ownType","myWallets","checkAddress","direction","addresses","isSelf","currentAddress","canEdit","date","received","getCore","fetchTxInputScript","inInfo","_getState","_getState$user","btcUtils","coinData","SUPPORTED_RAMP_ASSETS","getEnabledEvmCurrencies","externalConfig","getActivatedCurrencies","tokenName","tokenValue","getWidgetCurrencies","widgetCurrencies","filterUserCurrencyData","currencyData","isAllowedCurrency","isToken","isMetamask","enabledCurrencies","isCorrectWalletToShow","unknownNetwork","getExternalExchangeLink","_externalConfig$opts","_params$address2","_params$currency3","_params$locale","locale","link","transakApiKey","_params$currency","_params$walletAddress","walletAddress","isLocalHost","location","hostname","hostURL","origin","environment","exchangeUrl","links","transakDev","transak","parameters","getTransakLink","_params$address","_params$currency2","rampLink","assetKey","logoUrl","getRampLink","find","itezAsset","getItezUrl","onlyEvmWallets","_config$opts","_config$opts$ui","sign_btc_multisig","btcPrivateKey","btcMultisigOwnerKey","actions","sign_btc_2fa","btcSMSServerKey","btcSmsPublicKeys","btcSmsMnemonicKey","sign_btc_pin","btcPinServerKey","btcPinPublicKeys","btcPinMnemonicKey","sign","web3connect","onInit","needGenerateShamirSecret","shamirsMnemonics","shamirsSharing","ghostPrivateKey","nextPrivateKey","ethPrivateKey","_btcPrivateKey","secretPart","evmNetworkKey","_actions$actionKey","actionKey","loginWithTokens","getBalances","_getState2$user","evmBalancesFuncs","evmType","func","getBalance","balances","isAvailableNetwork","all","getTokensBalances","customRate","cur","widgetTokens","targetToken","customExchangeRate","customTokenExchangeRate","getInfoAboutPHI","fiat","btcPrice","apiData","quotes","currencyInfoItem","priceInFiat","priceInBtc","currencyInfo","price_fiat","price_btc","processCustomTokenPrice","_TOKEN_STANDARDS$key","customFiatPrice","mergeTransactions","mergeTxs","allTransactions","fetchMultisigStatus","_callee13","_getState6","_getState6$user$btcMu","mainAddress","_context13","_callee12","_context12","_callee14","evmTransactions","_context14","getTransaction","txPromise","txList","setTokensTransaction","_ref16","_callee15","_context15","trx","getText","_getState7$user","downloadPrivateKeys","element","document","createElement","setAttribute","encodeURIComponent","moment","format","style","display","appendChild","click","removeChild","restoreWallet","_ref17","_callee17","_config$opts3","addAllEnabledWalletsAfterRestoreOrCreateSeedPhrase","backupMark","btcWallet","restoryMark","btcPrivKey","btcPubKey","_context17","_ref18","_callee16","_actions$actionKey2","_context16","exist","withInternal","markCoinAsVisibleIfNeed","_ref19","_callee18","_config$opts4","_context18","isOwner","addr","lowerAddr","baseTokenCurrency","getTokenBaseCurrency","getAllMyAddresses","currencyActions","addrFromStore","getExchangeRate","sellCurrency","buyCurrency","sellDataRate","buyDataRate","_user","_user$infoAboutCurren","_user$tokensData$data","_user$tokensData$data2","dataKey","getInfoAboutCurrency","currencyNames","_callee11","_config$opts2","_context11","currencyCourses","tokens","getCoinInfo","_infoAboutBTC$","_infoAboutBTC$$quote$","infoAboutBTC","quote","_getCoinInfo2","currencyName","replaceAll","_config$L2_EVM_KEYS","curExchangeRate","targetDataKey","isOk","getAuthData","getWithdrawWallet","addressOwner","needType","getCurrencyKey","filtered","walletName","walletType","pullActiveCurrency","ethLikeHelper","_params$sendFeedback","sendFeedback","feedback","gasPrice","defaultGasLimit","estimateGasPrice","defaultParams","weiGasPrice","getGasPrice","abi","Contract","currencyKey","Web3","EXPONENTIAL_AT","formatWithDecimals","times","formatWithoutDecimals","toHexNumber","FG_COLORS","BG_COLORS","STYLES","OP_RESET","colorString","string","color","bg","styles","namedQuery","namedQueryTimers","namedQueryTimer","isAsync","namedQueryInit","namedQueryRun","erc20LikeHelper","swapABMethod","methodForLimit","_getCoinInfo","startsWith","owner","spender","contract","tokenContract","allowanceAmount","getCurrentWeb3","TokenAbi","methods","allowance","reportError","providers","coinName","prop","_Object$keys","lowerName","binance_provider","matic_provider","xdai_provider","ftm_provider","avax_provider","movr_provider","one_provider","aurora_provider","ame_provider","phi_provider","fkw_provider","phpx_provider","pullTransactions","sortedTxs","actionName","isMultisigBtcAddress","erc20Like","getFeedDataFromOrder","filteredFeeds","isTurbo","content","sellAmount","buyAmount","requests","deleteItemToFeed","Room","swapId","participantPeer","connection","hasPeer","_events","dispatch","Events","on","fromPeer","self","_excluded2","getOnlineParticipant","sendMessage","sendConfirmation","Swap","isMy","buyBlockchain","sellBlockchain","ownerSwap","participantSwap","destinationBuyAddress","destinationSellAddress","createUnixTimeStamp","waitConfirm","_getDataFromOrder","swapExists","buyCurrencyInfo","sellCurrencyInfo","buyCoin","sellCoin","flowKey","setupEvents","emit","attachSwap","util","destination","_pullRequiredData","timeoutUTS","isTakerMakerModel","_Buy","sellModel","buyModel","_this2$flow$state","scriptValues","utxoScriptValues","scriptCreatingTransactionHash","utxoScriptCreatingTransactionHash","eventData","finishStep","silentError","setState","participantHasLockedUTXO","requestScriptFunc","_isFinished","_saveState","subscribe","steps","stepNumbers","isWaitingForOwner","isStoppedSwap","isSwapTimeout","isRefunded","isSignFetching","isMeSigned","isBalanceEnough","isUTXOScriptOk","utxoScriptVerified","ethSwapCreationTransactionHash","waitUnlockUTXO","utxoFundError","isMaker","_this$state","checkTimeout","read","_getInitialSteps","_getSteps","_goStep","_this2$swap","constraints","n_step","_goNextStep","_this$state2","newStep","save","AtomicAB2UTXO","_Flow","_syncBalanceUTXO","_syncBalanceAB","_syncBalance","_checkOtherSideRefund","_sign","_waitUTXOScriptFunded","_signUTXOSide","_signABSide","requireWithdrawFee","requireWithdrawFeeSended","withdrawRequestAccepted","isTaker","isUTXOSide","once","isParticipantSigned","processMetamask","tryRefund","isSwapExist","stopSwapProcess","_flow$swap","utcNow","now","stopRepeat","scriptCheckError","utxoBlockchain","checkScript","recipientPublicKey","utxoCoin","lockTime","confidence","isWhiteList","isWhitelistBtc","_checkSwapAlreadyExists","_this6","getParticipantEthAddress","abBlockchain","withdrawNoMoney","sendWithdrawRequestToAnotherParticipant","_flow$state2","_this$utxoBlockchain$","destinationAddress","destAddress","hasWithdraw","createScript","cryptoLib","_this$generateSecret","generateSecret","createWorkUTXOScript","ownerPublicKey","scriptBalance","scriptUnspendBalance","syncBalanceUTXO","syncBalanceAB","isEnoughMoney","stateData","getMyEthAddress","isLessThanOrEqualTo","utxoAddress","txFee","tokenStandardConfig","pair","ghostPair","nextPair","BID","ASK","isWidgetBuild","TRADE_TICKERS","PAIR_BID","PAIR_TYPES","PAIR_ASK","filteredDecimals","decimalPlaces","TOKEN_DECIMALS","parsePair","MAIN","BASE","Pair","_parsePair","base","_parsePair2","exchangeRate","_parseTicker","BS","SB","parseTicker","mainAmount","fromOrder","_parsePair3","order1","order2","pair1","pair2","comparedTo","setMetamask","setDefaultProvider","INJECTED","WALLETCONNECT","InjectedProvider","_InjectedConnector","_Connect","_Disconnect","_isConnected","web3Connect","_web3Connect","_window$ethereum3","_window$ethereum","_window$ethereum2","opr","addons","opera","navigator","userAgent","ethereum","enable","isTrust","ready","_get","_getPrototypeOf","_isLocked","deactivate","UserRejectedRequestErrorInjected","NoEthereumProviderError","InjectedConnector","WalletConnectProviderV2","_options","_initializeConnector","_initializeConnector2","_initConnector","initializeConnector","WalletConnectV2","projectId","chains","optionalChains","showQrModal","_slicedToArray","_initConnector2","walletConnectV2","hooks","_hooks","_walletConnectV2","testWC","_initProvider","activate","_inited","connected","disconnect","isInjectedEnabled","_cachedProviders","providerName","newInstance","SUPPORTED_PROVIDERS","supportedChainIds","_web3ChainId","rpc","_web3RPC","bridge","qrcode","pollingInterval","initProvider","Web3Connect","_connectTo","_cacheProviderData2","_onInit","_cachedChainId","decimalCurrrentId","dicimalCachedId","web3RPC","web3ChainId","_checkIsDAppBrowser","cachedProviderName","getProviderByName","lsProvider","Connect","_cachedProviderName","_cachedProvider","_setupEvents","_cacheProviderData","clearCache","_walletLocked","getInjectedTitle","getInjectedType","INJECTED_TYPE","isLiquality","isMetaMask","isMobile","_isDAppBrowser","_cachedAddress","_cachedWeb3","ConnectorEvent","_web3provider","getAccount","getChainId","getProvider","_connector","isLocked","_this$getNetworksId","getNetworksId","supportedNetwork","Disconnect","reduxState","userInitialState","handleConnected","_onWeb3Changed","handleDisconnected","getDefaultWeb3","handleAccountChanged","handleChainChanged","isCorrectNetwork","setWeb3connect","networkId","newNetworkData","networkInfo","removeListener","rpcUrls","newWeb3","setProvider","setWeb3Provider","addMetamaskWallet","_web3connect","web3connectInit","_web3","hasCachedProvider","balanceInCache","cacheStorageGet","fromWei","cacheStorageSet","resolved","resetWalletState","connect","onReject","hexChainId","existsNetwork","getProviderTitle","_web3connect2","switchNetwork","nativeCurrency","tipAddNetwork","addCurrencyNetwork","_config$evmNetworks$n","chainName","blockExplorerUrls","_COIN_DATA$nativeCurr","rej","getAccounts","metamaskApi","getWeb3connect","isAvailableNetworkByCurrency","_COIN_DATA$ticker","_config$evmNetworks$b","_config$evmNetworks$t","handleDisconnectWallet","handleConnectMetamask","AddressFormat","AddressRole","_console","getUserData","getInformationAboutSwap","addressType","optBlockchain","getWallets","founded","conditionOk","withoutExternal","metamaskConnected","tokenWallets","isRegistered","sortWallets","sortedWallets","reverseTokens","connectExternal","connectedExternalWallets","walletData","isFounded","rememberOrder","getSwapById","createOrder","isPartial","getSwapHistory","historySwap","updateCore","_getUserData","requestOptions","participantMetadata","reputationProof","sendRequestForPartial","newValues","_getUserData2","newOrder","isAccepted","oldOrder","oldPrice","newPrice","minus","abs","acceptRequest","declineRequest","remove","doBackup","hidden","findedCoin","el","_el$split","_el$split2","elCoin","requestToPeer","saveDeletedOrder","hideMyOrders","showMyOrders","hasHiddenOrders","setupPartialOrder","pairData","setRequestHandlerForPartial","oldPair","isBid","initPartialOrders","deletedOrder","deletedOrderSellCurrency","deletedOrderBuyCurrency","deletedOrderSell","deletedOrderBuy","premiumCurrencies","addCurrencyFromOrders","_step","currenciesGetState","allCurrencyies","partialCurrency","sellOrderArray","buyOrderArray","sortedArray","_iterator","_createForOfIteratorHelper","s","done","_step2","_iterator2","hasUpdates","getHiddenCoins","fetchWalletBalance","_actions$name","_balance","helpers","contractAddress","rememberSwap","swapsIds","ordersFilter","part","fetchSpenderContractAddress","getWeb3Connector","connector","Web3ProviderConnector","getPrivateKeyByAddress","PrivateKeyProviderConnector","createLimitOrder","makerAddress","makerAssetAddress","makerAssetDecimals","takerAssetAddress","takerAssetDecimals","makerAmount","takerAmount","builder","protocolFacade","predicateBuilder","and","timestampBelow","nonceEquals","makerNonce","orderPredicate","makerUnitAmount","takerUnitAmount","orderTypedData","orderHash","signature","LimitOrderBuilder","LimitOrderProtocolFacade","LimitOrderPredicateBuilder","nonce","buildLimitOrder","predicate","buildLimitOrderTypedData","buildLimitOrderHash","buildOrderSignature","sendLimitOrder","createDateTime","toISOString","getMakerAmount","getTakerAmount","interaction","makerAsset","makerAssetData","permit","takerAsset","takerAssetData","orderMaker","remainingMakerAmount","fillLimitOrder","takerDecimals","amountToBeFilled","_getState2","protocolContract","limitOrderProtocolFacade","weiTakerAmount","callData","receipt","checkAllowance","isLessThan","approve","gasLimit","waitReceipt","cancelLimitOrder","orderData","orderIndex","_getState3","removeLimitOrderFromState","fetchLatestLimitOrder","_getState4","_penultimateOrder$sig","fetchedOrders","penultimateOrder","fetchOwnerOrders","_params$page","page","_params$pageItems","pageItems","_params$makerAsset","_params$takerAsset","fetchUserOrders","_getState5","fetchAllOrders","_params$page2","_params$pageItems2","_params$takerAsset2","_params$makerAsset2","filterCurrencies","activeCurrencies","quickswap","oneinchChainIds","wrongNetwork","isWrongNetwork","ABIS","factory","FactoryV2ABI","RouterV2ABI","PairV2ABI","SwapMethods","LiquidityMethods","wrapCurrency","currencyAddress","_constants$ADDRESSES","getContract","_ethLikeHelper$baseCu","getDeadline","deadlinePeriod","latestBlockNumber","latestBlock","timestamp","getBlockNumber","getBlock","getSlippageRange","slippagePercent","getMinAmount","getPairAddress","factoryAddress","tokenA","tokenB","getPair","getAmountOut","routerAddress","tokenADecimals","tokenBDecimals","amountIn","unitAmountIn","amounts","getAmountsOut","getLiquidityAmountForAssetB","pairAddress","amountADesired","_router$methods","token1","_yield$pair$methods$g","reserve0","reserve1","unitAmountA","reservesOrder","tokenBAmount","getReserves","returnSwapDataByMethod","fromToken","fromTokenDecimals","toToken","toTokenDecimals","slippage","chainNumber","weiSellAmount","weiBuyAmount","buySlilppageRange","intOutMin","amountOutMin","swapExactETHForTokensSupportingFeeOnTransferTokens","swapExactETHForTokens","swapExactTokensForTokensSupportingFeeOnTransferTokens","swapExactTokensForETHSupportingFeeOnTransferTokens","swapExactTokensForETH","swapExactTokensForTokens","args","returnSwapMethod","useFeeOnTransfer","swapCallback","_params$waitReceipt","_router$methods2","_swapData$value","swapData","txData","encodeABI","returnAddLiquidityData","amountBDesired","lowerTokenA","lowerTokenB","_utils$amount","unitAmountADesired","unitAmountBDesired","amountASlippageRange","amountBSlippageRange","amountAMin","amountBMin","hexAmountADesired","hexAmountBDesired","hexAmountAMin","hexAmountBMin","tokenAIsNative","addLiquidityETH","addLiquidity","addLiquidityCallback","_router$methods3","_params$waitReceipt2","_yield$returnAddLiqui","_router$methods4","hexValue","estimateGas","toFixed","getWalletByWords","_getState2$user$btcDa","dataAddress","_btcMultisigUserData$","_getState5$user","retData","_params$serviceFee","preparedFees","_preparedFees","broadcastAnswer","ePrivateKey","bitcoinUtils","sendTransaction","_getState8","txHash","BigInteger","isBTC","getBtcAddress","getBtcData","myAllWallets","userAddress","signMessage","encodedPrivateKey","privateKeyBuff","bitcoinMessage","compressed","getTx","getId","getLinkToInfo","getInvoices","getDataByAddress","_getState6$user","getMainPublicKey","getTxRouter","addressIsCorrect","bitcore","_getState2$user$ghost","_ghostMultisigUserDat","ghostMultisigSMSData","ghostMultisigUserData","ghostMultisigPinData","rawtx","_res$txs$","valueOut","ghostCheckWithdraw","getGhostAddress","getGhostData","vin","time","privKey","transaction","Transaction","change","serialize","sendBitcore","ghostMultisigG2FAData","getApiNext","getApiCustom","API_ENDPOINT","txInfo_","scriptSig","_unspents","_options$txOut","onSuccess","onFail","valueSat","messagePrefix","public","private","pubKeyHash","scriptHash","wif","_config$opts$fee","_config$opts$fee$next","_getState2$user$nextD","oldAddress","mnemonicAddress","mnemonicKey","_nextMultisigUserData","nextMultisigSMSData","nextMultisigUserData","nextMultisigPinData","nextUtils","outputIndex","getNextAddress","getNextData","nextNetwork","bitcoreNextNetwork","bitcoinNetwork","privKeyWIF","addressFrom","amountSat","alias","pubkeyhash","privatekey","scripthash","xpubkey","xprivkey","networkMagic","port","dnsSeeds","raw","nextMultisigG2FAData","BITPAY_API","BLOCYPER_API","addressToWallet","msData","_loadBtcMultisigKeys","savedKeys","signToUserMultisig","walletsData","getBtcMultisigKeys","dontFetchBalance","isUserProtected","active","fetchMultisigBalances","getAddrBalance","keysInfo","login_USER","addBtcMultisigKey","isPrimary","switchBtcMultisigKey","keyOrIndex","isInteger","getBalanceUser","otherOwnerPublicKey","onlyCheck","login_","onRequestEventName","_data","sendMessagePeer","sortKeys","publicKey_1","publicKeysRaw","redeem","addressOfMyOwnWallet","broadcastTX2Room","cbSuccess","cbFail","_getState13$user$btcM","onSuccessEventName","failTimer","onSuccessEvent","clearTimeout","sendMessageRoom","_getSign","_getState14$user$btcM","registerPinWallet","password","ownPublicKey","_getState15","_getState15$user$btcD","mainKey","mnemonicAccount","newKeys","checkSign","source","addPinWallet","isPinRegistered","_getState16","_getState16$user$btcD","serverKey","mnemonicOrKey","_getState17","_getState18","ownDataKey","sendSMSProtected","_ref13$serviceFee","_getState25","_getState25$user","_getState25$user$btcM","authKeys","_args8","rawTX","sendPinProtected","_getState26","_getState26$user","_getState26$user$btcM","_preparedFees2","mnemonicTx","broadcastResult","_broadcastResult","signPinMnemonic","confirmSMSProtected","smsCode","_getState27","_getState27$user","_getState27$user$btcM","_ref17$serviceFee","_getState28","senderWallet","_preparedFees3","_args11","getMSWalletByScript","myBtcWallets","buf","_x13","_ref24","mnemonicWallet","_x25","_x26","login_SMS","isSmsProtected","getBtcSmsData","checkG2FAActivated","checkUserActivated","getTransactionSMS","_getState22$user$btcM","smsAddress","enableWalletSMS","signSmsMnemonicAndBuild","_ref25","_callee19","_context19","_x27","_x28","checkSmsMnemonic","getSmsKeyFromMnemonic","login_PIN","isPinProtected","getBtcPinData","checkPINActivated","getBalancePin","checkPinMnemonic","checkPinCanRestory","getTransactionPIN","_getState23$user$btcM","pinAddress","getTransactionUser","msWallets","promiseList","txLists","retValue","toBuffer","enableWalletUSER","parseRawTX","parsedTX","isOur","inputParsed","_ref20","inputWallet","_x15","globalMap","unsignedTx","outs","_ref21","outWallet","valueSatoshi","_x16","_x14","signMultiSign","_ref23","_getState29","_getState29$user$btcM","_x23","_x24","onUserMultisigJoin","_getState12$user","checkKey","onUserMultisigSend","getInvoicesUser","removeBtcMultisigNey","isBTCMSUserAddress","login_G2FA","isG2FAProtected","getBalanceG2FA","getTransactionG2FA","enableWalletG2FA","EthLikeAction","details","tickerKey","transactionHash","explorerLink","gas","blockHash","toBN","adminFeeObj","feeFromUsersAmount","privateKeyName","arrOfAddresses","metamaskAddress","explorerApiName","internalUrl","internals","formatTransactions","internalTxs","status","timeStamp","_this$adminFeeObj","_this$adminFeeObj$add","swapContract","multiplierForGasReserve","hexLimitWithPercentForSuccess","_externalConfig$L2_EV","_params$amount","customGasLimit","recipientIsContract","defaultGasLimitKey","sendMethod","signedData","isContract","toChecksumAddress","toWei","isValidGasLimit","signTransaction","rawTransaction","sendSignedTransaction","sendAdminTransaction","externalAdminFeeObj","adminObj","minAmount","remainingBalance","sendReadyTransaction","toAdmin","_params$toAdmin","lowerAddress","contractsList","codeAtAddress","codeIsEmpty","cache","getCode","INFURA_API_KEY","SO_INFURA_API_KEY","_externalConfig$opts$","_externalConfig$opts2","_externalConfig$opts3","_externalConfig$opts4","_externalConfig$opts5","_externalConfig$opts6","_externalConfig$opts7","arbitrum_provider","_externalConfig$opts8","_externalConfig$opts9","_externalConfig$opts10","_externalConfig$opts11","_externalConfig$opts12","_externalConfig$opts13","_externalConfig$opts14","_externalConfig$opts15","_externalConfig$opts16","_externalConfig$opts17","_externalConfig$opts18","_externalConfig$opts19","_externalConfig$api","_externalConfig$opts20","_externalConfig$opts21","phi_v1_provider","_externalConfig$opts22","_externalConfig$opts23","_externalConfig$opts24","_externalConfig$opts25","_externalConfig$opts26","_externalConfig$opts27","_externalConfig$opts28","_externalConfig$opts29","Decoder","InputDataDecoder","Erc20LikeAction","contractAddr","customTokens","getCustomTokensConfig","_Web","fillInTokensConfig","configName","_this$returnTokenInfo","_args2","returnTokenInfo","_tokensData$tokenKey","sysAddress","tokenDecimal","balanceOf","ourTx","isContractTx","_txData$inputs","_externalConfig$swapC","_tokensData$key","_tokensData$key2","_tokensData$key2$cont","decodeData","newGasPrice","newGasLimit","nameContract","setupContract","ethAddress","isERC20","feeConfig","_this$returnTokenInfo2","feeResult","txArguments","hexAmountWithDecimals","fetchFees","gasLimitCalculated","gasLimitWithPercentForSuccess","transfer","hexFeeWithDecimals","_this$returnTokenInfo3","hexWeiAmount","_x18","_x19","_x17","_x20","targetAllowance","_this$returnTokenInfo4","_x21","_tokensData$tokenKey2","phi_v1ApiKey","_externalConfig$api2","_externalConfig$api3","fkw_ApiKey","_externalConfig$api4","phpx_ApiKey","checkServers","race","fetch","chosen","selectPair","pairs","tikers","selectedPairsBase","selectedPairsMain","selectPairPartial","getGtag","gtag","getTracker","ga","getAll","getClientId","tracker","dataEvent","label","errorEvent","eventAction","swapEvent","eventLabel","balanceEvent","onReady","_checkFunc","waitPeer","timeOut","isWaiting","failtTimer","waitFunc","returnToken","addInvoice","fromAddress","validateData","requestData","contact","txType","invoiceData","utx","getInvoice","_res$item","hasPayer","getManyInvoices","walletsHashMap","rawType","invoices","walletHash","cancelInvoice","invoiceId","markInvoice","mark","getComments","getComment","returnDefaultComment","hiddenList","ind","setComment","comment","historyComments","newComment","enter","switch","preventSwitch","wasOnWallet","didWidgetsDataSend","activeTabId","testnetSkip","storageRevision","wasCautionPassed","privateKeysSaved","demoMoneyReceived","wasOnExchange","isWalletCreate","lastCheckBalance","startSwap","didProtectedBtcCreated","didPinBtcCreated","process","didProtectedBtcG2FACreated","walletTitle","customToken","balanceActiveCurrency","signedUpWithPush","backups","backups_prefix","invoicesEnabled","wasOnWidgetWallet","isDark","isLight","testnetSkipPKCheck","prevWPUser","exchangeSettings","extensionLastActivity","arbitrum","twentywords","btcMultisig","btcMultisigOtherOwnerKey","btcSmsMnemonicKeyGenerated","shamirsSecrets","tradeTicker","privateKeyNames","tokenDecimals","SuccessWithdraw","Message","ErrorNotification","BTCMultisignRequest","pairTypes","Withdraw","Offer","LimitOrder","PrivateKeys","ReceiveModal","DownloadModal","Confirm","DeclineOrdersModal","IncompletedSwaps","ConfirmBeginSwap","MultisignJoinLink","WithdrawMultisigUser","CurrencyAction","InvoiceModal","InvoiceLinkModal","AlertModal","AddCustomToken","BtcMultisignSwitch","Share","BtcMultisignConfirmTx","SaveMnemonicModal","RestoryMnemonicWallet","HowToWithdrawModal","InfoInvoice","PrivateKeysModal","RegisterPINProtected","WithdrawBtcPin","WalletAddressModal","AlertWindow","WithdrawBtcMultisig","ConnectWalletModal","WalletConnectAccount","ShamirsSecretRestory","ShamirsSecretSave","RestoreWalletSelectMethod","SaveWalletSelectMethod","ReferralProgramModal","tokenStandards","lsCurrentUser","backupUserData","isUserLoggedIn","isFirstBackup","hasServerBackup","axios","_res$data","isUserChanged","backupUser","backupStateResponse","backupReady","hasBackupPlugin","backup","_res$data2","cleanupSeed","_res$data3","restoreUser","_window4","_res$data4","_config$opts5","backupFields","importBackup","lsKey","exists","backupData","overide","restory","list","serverBackup","serverCleanupSeed","TransactionStatus","broadcast","sender","invoice","holderKey","pendingTransactions","Pending","firstPendingTransaction","Ready","Reject","Cancel","uniqhash","confirmTx","isHolder","holder","fetchRawTx","msTxId","signedTx","rejectTx","goToLastWallet","walletsWithRequests","uniswap","btcmultisig","feed","analytics","comments","backupManager","multisigTx","bech32","_ref2$txOut","_ref2$method","msuSize","msutxSize","msSize","mstxSize","_args","ghostMultisigSMS","_ref5$speed","apiSpeeds","apiSpeed","_args3","nextMultisigSMS","isEthOrEthToken","getFullOrigin","pathname","home","hashHome","exchange","quickSwap","marketmaker","marketmaker_short","restoreWalletMnemonic","restoreWalletShamirs","connectWallet","farm","savePrivateSeed","savePrivateKeys","currencyWallet","atomicSwap","turboSwap","notFound","multisign","createInvoice","medium","twitter","facebook","github","telegram","bitcointalk","discord","reddit","youtube","transactionRate","impermanentLoss","swapAudit","etherdelta","button","about","extension","career","contacts","concept","research","wiki","bitcointalkSendTx","privacyPolicy","privacyPolicyDoc","terms","legalOpinion","licence","question","footer","widget","chromeextantion","forstablecoin","fordexses","forblockchains","whitepaper","agreements","privacypolicy","legal","comparsion","bankdashboard","lnresearch","getFaqLink","faqID","saveUserData","interval","setInterval","curKeys","_user$el","_user$tokensData$key","clearInterval","isLocalStorageEnabled","getPluginMethod","_config$opts$plugins","_config$opts2$plugins","clear","originalListener","listener","storageArea","newValue","oldValue","addEventListener","removeEventListener","getCookie","cname","ca","cookie","charAt","substring","toMeaningfulFloatValue","_params$rate","_params$meaningfulDec","meaningfulDecimals","floatCoincidence","floatNums","meaningfulNum","numOfZeros","seo","email","mainUrl","logo","defaultTitle","defaultDescription","pages","uri","defaultWindowTitle","h1","getSeoPage","p","getUrl","getSwapByIdSafe","swapID","noFlowError","getDeclinedExistedSwapIndex","decline","indexOfDecline","declineSwap","itemState","isFeedbackEnabled","STATISTICS_ENABLED","started","otherTabsClosed","failed","warning","currencySelected","securitySelected","finished","clickedBanner","pressedAddCurrency","opened","restore","withdraw","entered","exchangeForm","flipped","selectedAddress","redirectedCreateWallet","requestedSwap","createOffer","offers","deleted","buyPressed","swapRequested","stopped","cancelOrder","liquiditySource","startedSwap","removeLiquidity","zerox","marketmaking","enteredPromo","selected","enteredSettings","faqOpened","prevented","enabled","disabled","theme","switched","i18n","appPart","appPartEvents","host","routing","pluginVersion","remainingLicenseDays","licenceInfo","prefixMark","regexp","RegExp","textToSend","encodeURI","standardKey","getLink","_actions$prefix2","getInfo","_actions$reduxAction","reduxAction","_actions$prefix","baseTokenCurrencyPrefix","constantCurrency","chainIds","_params$onlyTokens","onlyTokens","isCurrencySuitable","itemChainId","suitableForExternalWallet","run","similarTokens","hiddenNativeCoinsList","_COIN_DATA$currency","_coin$split","_coin$split2","hiddenTokensList","updatedHiddenCoinsList","migrations","initMigration","addBaseCurrencyToTokensInHiddenCoinsList","cacheStorage","cachePart","cacheValue","cacheTimeout","cacheKeys","curTime","cleanup","cacheData","createtime","alertTexts","defineMessages","defaultMessage","confirmTexts","no","yes","onCancelHandle","intl","formatMessage","labelNo","labelYes","onCancel","onClose","onAccept","logoutUrl","redirectTo","getTopLocation","top","getStandardFee","tokenBaseCurrency","tokenFee","standardFee","usedAdminFee","allowedCoins","isErc","isBep","isErcMatic","isProcessing","isHidden","gql","_templateObject","_taggedTemplateLiteral","_templateObject2","addUser","createdBy","domain","updateUser","_res","extensions","getIPInfo","_result$data","ip","country_code","reportAboutProblem","_params$isError","isError","feeCache","fetchCoinFee","updateCacheValue","feeResolved","hasFeeInCache","isBuyingUTXO","isBuyingAB","obtainedResult","doResolve","fetchFeeForNativeCoin","fetchFeeForEthLikeToken","coinTicker","coinFee","isUTXO","basecoinFee","getPairFees","_params$updateCacheVa","sellCurrencyName","sellCurrencyBlockchain","buyCurrencyName","buyCurrencyBlockchain","_byCoins","have","byCoins","getActuallyFiatAddress","returned","ethToken","handleGoTrade","CSSModules","_useState","useState","_useState2","isCopied","setCopied","_useState3","_useState4","setLocalStorage","useEffect","newStorage","privateDataRegExp","React","styleName","onClick","back","FormattedMessage","CopyToClipboard","Timer","_dec","_class","_React$Component","timeLeft","cancelTimeLeft","enabledButton","newTimeLeft","newCancelTimeLeft","timer","tick","cancelTime","dateNow","_this$state3","_this$props","isRefund","minToCancel","Fragment","onChange","_props$dataTut","dataTut","_props$isDisabled","isDisabled","target","allowMultiple","cssModules","className","fullWidth","center","brand","transparent","blue","gray","dangerous","big","small","empty","autoHeight","_props$id","fill","flex","cx","TimerButton","_Component","handleClick","_props$timeLeft","Component","forceClick","_this$props2","disabledTimer","Button","_extends","PropTypes","ShareButton","halfWidth","classes","minWidth","openShareModal","src","shareIcon","alt","ShareLink","isLinkCopied","qrLoaded","qrLoaderTimer","altText","fullSize","onCopy","handleCopyLink","InlineLoader","onLoad","handleQrLoaded","readOnly","doNothing","_props$onClick","_props$noneBorder","noneBorder","_props$className","_props$brand","disable","Copy","showTip","injectIntl","ThemeTooltip","defaultType","dataset","scheme","ReactTooltop","_props$mark","_props$dontHideMobile","dontHideMobile","_props$place","place","effect","multiline","showWIF","swapWIF","isBtcLike","Tooltip","reduceMessages","msg","defaultLocale","language","localisedUrl","prepareUrl","SwapProgress","_class2","_assertThisInitialize","_assertThisInitialize2","_assertThisInitialize3","_fields","withdrawTransactionHash","etherscanLink","_assertThisInitialize4","_assertThisInitialize5","_assertThisInitialize6","first","sixth","seventh","finish","eighth","stepValue","startSwapTime","isSwapPage","reload","_swap$flow","_this$_fields","getFinalCurrency","finalBuyCurrency","finalSellCurrency","isStartStepForRefund","isEndStepForRefund","isStepForRefund","isNotFinished","isCurrencyFunded","isSellCurrencyEthOrEthToken","isCurrencyWithdrawn","handleBarProgress","refundError","verifyScriptFunc","signed","fields","handleFlowStateUpdate","reloadPage","off","_this$state2$swap$flo","_this$state2$swap$flo2","isEthContractFunded","_this$_fields2","showWalletButton","canRefund","checkCanRefund","_refundTx","refundTransactionHash","canBeRefunded","isDeletedSwap","href","signTransactionHash","rel","isEthWithdrawn","refundTxHex","willEnable","submitSecret","confirmScriptChecked","PleaseDontLeaveWrapper","LinkTo","onPushGoToWallet","onPushGoToTxPage","whiteLogo","QR","QRCode","bgColor","fgColor","DepositWindow","isSellCurrencyToken","isSellCurrencyEvmCoin","actualBalance","dynamicFee","requiredAmount","updateRemainingBalance","syncBalance","skipSyncBalance","checker","balanceCheckHandler","getRequiredAmount","_this$props$swap","flowState","updateBalance","checkThePayment","createCycleUpdatingBalance","prevProps","prevState","_this$state4","DontHaveEnoughtFoundsValues","missingBalance","br","handleReloadBalance","need","tooltip","mineerFee","isFirstStepActive","isFourthStepActive","fourthStepPadding","paddingTop","regularIcons","CLOSE","iconClose","OK","iconOk","CHECKED","iconChecked","CANCELLED","iconCancelled","PENDING","iconPending","METAMASK","iconMetamask","TRUST","iconTrustWallet","OPERA","iconOpera","NONE","iconDefault","UNKNOWN","LIQUALITY","iconLiquality","iconWalletConnect","_mounted","timeoutIds","showDepositWindow","isSecondStepActive","_props$swap","_props$swap$flow$stat","_props$fields","ethLikeCoin","scriptHashIsConfirmed","setScriptHashIsConfirmed","ethSwapHashIsConfirmed","setEthSwapHashIsConfirmed","_useState5","_useState6","ethSwapHash","setEthSwapHash","_useState7","_useState8","setScriptHash","checkTransactionHash","refreshTime","timeoutId","fetchedTx","showStepNumber","isStepActive","otherCurrency","isThirdStepActive","utxoSwapWithdrawTransactionHash","withdrawHashIsConfirmed","setWithdrawHashIsConfirmed","ethSwapWithdrawHashIsConfirmed","setEthSwapWithdrawHashIsConfirmed","ethSwapWithdrawHash","setEthSwapWithdrawHash","withdrawHash","setWithdrawHash","isLowStep","MakerUtxoToAbTexts","stepName","getMakerUtxoToAbTextText","TakerUtxoToAbTexts","getTakerUtxoToAbTextText","MakerAbToUtxoTexts","getMakerAbToUtxoText","TakerAbToUtxoTexts","getTakerAbToUtxoText","FIRST_STEP","TAKER_UTXO_SECOND_STEPS","MAKER_UTXO_SECOND_STEPS","TAKER_EVM_SECOND_STEPS","MAKER_EVM_SECOND_STEPS","TAKER_UTXO_THIRD_STEPS","MAKER_UTXO_THIRD_STEPS","TAKER_EVM_THIRD_STEPS","MAKER_EVM_THIRD_STEPS","FOURTH_STEP","SwapList","_React$PureComponent","getStepName","_this$props2$swap","flowClass","enoughBalance","SecondStep","UTXOSecondStep","ABSecondStep","ThirdStep","UTXOThirdStep","ABThirdStep","secondActiveStep","thirdActiveStep","UtxoToAbTexts","MakerUtxoToAbtTexts","AbToUtxoTexts","swapTexts","swapName","FirstStep","FourthStep","FeeControler","isAddressCopied","gasAmountNeeded","handleCopy","SwapController","mount","checkStatusUser","dispatchEvent","checkStatusUserTimer","_flowName$split","_flowName","_flowName$split2","UTXOToEthToken","isShowingScript","preventDefault","isPressCtrl","depositWindow","destinationAddressTimer","_this$state$flow","ParticipantTimer","continueSwap","waitWithdrawOther","onClickCancelSwap","feeControllerView","swapProgressView","SwapPairInfo","FailControler","EthTokenToUTXO","trace","_this$swap","ethTokenSwap","setAllowance","requestMaxAllowance","canCreateEthTransaction","isFailedTransaction","isFailedTransactionError","UTXOToEthLike","windowWidth","innerWidth","getRefundTxHex","updateWindowDimensions","isShowingGhostScript","EthLikeToUTXO","requestToFaucetSended","swapComponents","_UTXOToEthLike2","_UTXO_to_BNB","_super8","_createSuper","_EthLikeToUTXO2","_BNB_to_UTXO","_super12","_UTXOToEthLike3","_UTXO_to_MATIC","_super9","_EthLikeToUTXO3","_MATIC_to_UTXO","_super13","_UTXOToEthLike4","_UTXO_to_ARBITRUM","_super10","_EthLikeToUTXO4","_ARBITRUM_to_UTXO","_super14","_UTXOToEthLike","_UTXO_to_ETH","_super7","UTXO_to_ETH","_EthLikeToUTXO","_ETH_to_UTXO","_super11","ETH_to_UTXO","_EthTokenToUTXO","_ERC20_to_UTXO","_super4","ERC20_to_UTXO","_UTXOToEthToken","_UTXO_to_ERC20","UTXO_to_ERC20","_EthTokenToUTXO2","_BEP20_to_UTXO","_super5","_UTXOToEthToken2","_UTXO_to_BEP20","_super2","_EthTokenToUTXO3","_ERC20MATIC_to_UTXO","_super6","_UTXOToEthToken3","_UTXO_to_ERC20MATIC","_super3","PROTOCOL","_message","isBuffer","_Symbol$asyncIterator","_arrayLikeToArray","len","arr2","_asyncIterator","iterable","async","sync","retry","Symbol","asyncIterator","iterator","AsyncFromSyncIterator","TypeError","AsyncFromSyncIteratorContinuation","r","thr","Connection","_connect2","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","valueOf","_isNativeReflectConstruct","Super","NewTarget","constructor","_possibleConstructorReturn","remoteId","libp2p","_remoteId","_libp2p","_room","_connection","_connecting","encoding","_connect","peerInfo","dial","stream","_isConnectedToRemote","peerStore","dialProtocol","FiFoMessageQueue","pipe","_iteratorAbruptCompletion","_didIteratorError","_iteratorError","o","allowArrayLike","it","minLen","_unsupportedIterableToArray","F","_e","normalCompletion","didErr","_e2","connections","_idB58String","_queue","_ended","_resolve","emitter","peerId","remotePeer","toB58String","_loop","topicIDs","seqno","topic","delegateYield","PeerId","DEFAULT_OPTIONS","pollInterval","PubSubRoom","_pollPeers2","_broadcast","_leave","_topic","assign","clone","_peers","_connections","_handleDirectMessage","_handleMessage","_onMessage","pubsub","_interval","_pollPeers","handle","directConnection","tryConnect","tryNumber","tryCounts","dialer","connectToPeer","_idx","unhandle","peersInTopic","topics","sendTo","_func","toPeer","conn","keyBook","topicCIDs","newPeers","getSubscribers","_emitChanges","differences","diff","added","removed","SwapRoom","rawData","parsedData","_parsedData","recover","_recoverMessage","acknowledgeReceipt","_config","roomName","listen","discoveryPeers","peerIdJson","defaultListen","defaultDiscoveryPeers","p2pNode","Libp2p","modules","transport","WebrtcStar","streamMuxer","MPLEX","connEncryption","SECIO","peerDiscovery","Bootstrap","dht","KadDHT","Gossipsub","maxParallelDials","maxDialsPerPeer","dialTimeout","connectionManager","maxConnections","Infinity","minConnections","maxData","maxSentData","maxReceivedData","maxEventLoopDelay","autoDialInterval","movingAverageInterval","defaultPeerValue","toStringTag","wrtc","autoDial","webRTCStar","bootstrap","relay","hop","randomWalk","createP2PNode","toJSON","start","_init","p2pConnection","defaultRoomName","p2pRoom","_handleUserOnline","_handleUserOffline","_handleNewMessage","soliditySha3","CheckReceiptsT","repeat","checkReceiving","delivered","_signMessage","_this7","Order","parentCollection","collection","isRequested","partialHandler","_update","_onMount","getVerifiedReputation","updatedOrder","filteredUpdatedOrder","_autoReplyToPartial","_saveMyOrders","changedKey","acceptRequestForPartial","declineRequestForPartial","_this$requests$find","updatedRequests","conditionHandler","_updatedOrder","newOrderId","accepted","checkIncomeOrder","isFormatValid","isValid","checkIncomeOrderFormat","isOwnerValid","checkIncomeOrderOwner","isOwnerWhitelisted","visibleMakers","_aggregation","SwapOrders","_persistMyOrders","_sendOrdersToPeer","myOrders","getMyOrders","peerOrders","getPeerOrders","_handleRemove","filteredOrders","_handleMultipleCreate","_handleCreate","getUniqueId","_handleReady","_handleNewOrders","_handleGiveOrders","_handleNewOrder","_handleRemoveOrder","_handleHideOrders","_handleShowOrders","_constants$COIN_DATA$","_constants$COIN_DATA$2","roundedBuyAmount","roundedSellAmount","_create","newOrders","removeByKey","_this8","baseClass","mixins","_baseClass","_Combined","mixin","copyProps","getOwnPropertyNames","getOwnPropertySymbols","defineProperty","getOwnPropertyDescriptor","aggregation","TurboMaker","_thisSuper","_thisSuper2","mySwap","takerTxHash","isTakerTxPended","makerTxHash","isMakerTxPended","usedSwap","TurboTaker","EthLikeToBtc","_AtomicAB2UTXO","_tryWithdraw","_isRefundSuccess","_tryRefund","getMyAddress","getParticipantAddress","setupTakerMakerEvents","getStepNumbers","ethLikeSwap","btcSwap","targetWallet","ethLikeSwapCreationTransactionHash","isbtcWithdrawn","ethLikeSwapWithdrawTransactionHash","withdrawRequestIncoming","_persistState","waitBtcConfirm","signABSide","waitUTXOScriptCreated","verifyScript","waitUTXOScriptFunded","fundContract","isSwapCreated","getSecretFromContract","withdrawFromSwap","_this2$generateSecret","useTargetWallet","funded","checkSwapExists","refundHandler","wasRefunded","refund","_secret","_secretHash","_this$btcSwap$createS","ETH2BTC","_EthLikeToBtc","BtcToEthLike","_skipSyncBalance","getRefundHexTransaction","txHex","withdrawFee","signUTXOSide","fundSwapScript","waitABContract","withdrawFromABContract","isContractFunded","checkTargetAddress","_this2$utxoBlockchain","utxoWithdrawData","checkTX","BTC2ETH","_BtcToEthLike","EthLikeTokenToBtc","fundERC20Contract","ETHTOKEN2BTC","_EthLikeTokenToBtc","BtcToEthLikeToken","waitAB2UTXOContract","checkTokenIsValid","BTC2ETHTOKEN","_BtcToEthLikeToken","GHOST2ETH","ghostSwap","ethSwap","onTransactionHash","checkGHOSTScriptBalance","txID","fundScript","_this2$ghostSwap$crea","isGhostScriptFunded","withdrawFromAB2UTXO","_flow$state3","ETH2GHOST","isGhostWithdrawn","fundAB2UTXOContract","getSecretFromAB2UTXO","_this$ghostSwap$creat","GHOST2ETHTOKEN","ETHTOKEN2GHOST","NextToEvm","utxoSwap","evmCoin","evmSwap","_this2$utxoSwap$creat","NEXT2ETH","_NextToEvm","EvmToNext","_this$utxoSwap$create","ETH2NEXT","_EvmToNext","NextToEvmToken","evmTokenSwap","NEXT2ETHTOKEN","_NextToEvmToken","EvmTokenToNext","ETHTOKEN2NEXT","_EvmTokenToNext","BNB2BTC","getMyBnbAddress","getParticipantBnbAddress","BTC2BNB","BSCTOKEN2BTC","BTC2BSCTOKEN","MATIC2BTC","getMyMaticAddress","getParticipantMaticAddress","BTC2MATIC","MATICTOKEN2BTC","BTC2MATICTOKEN","ARBITRUM2BTC","getMyArbitrumAddress","getParticipantArbitrumAddress","BTC2ARBITRUM","UTXOBlockchain","_SwapInterface","_withdrawFromSwap","_checkTX","_getRefundHexTransaction","_fundSwapScript","_getWithdrawHexTransaction","_getWithdrawRawTransaction","_getBalance","_checkScript","_filterConfirmedUnspents","_filterConfidentUnspents","_getTxFee","skipFetchConfidence","skipCheckCanBeReplaces","skipLockTime","skipRecipientPublickKey","processUnspent","_this$networks","_this$networks$main","mainName","mainParams","_this$networks$test","testName","testParams","_ref$speed","estimatedFeeRaw","estimatedFee","expectedConfidenceLevel","feesToConfidence","fetchConfidence","confidences","_args4","currentFastestFee","getTxFee","txConfirms","confidenceFromConfirmations","confFromFee","utxo","inputIndex","scriptData","hashType","SIGHASH_ALL","signatureHash","hashForSignature","redeemScriptSig","compile","encode","setInputScript","hashOpcodeName","hashOpcode","opcodes","OP_SIZE","OP_EQUALVERIFY","OP_EQUAL","OP_IF","OP_ELSE","OP_CHECKLOCKTIMEVERIFY","OP_DROP","OP_ENDIF","OP_CHECKSIG","fetchFullUnspentInfo","unspentsFullInfo","sequenceNumber","expected","hashName","_this$createScript","expectedConfidence","canBeReplaced","confirmedUnspents","expectedValue","confidentUnspents","totalConfidentUnspent","fetchUnspentsFullInfo","checkCanBeReplaces","filterConfirmedUnspents","filterConfidentUnspents","handleTransactionHash","_this4$createScript","feeValueBN","TransactionBuilder","_this4$processUnspent","__INPUTS","buildIncomplete","_this$createScript2","_this$createScript3","alreadyWithdrawed","setLockTime","_this5$processUnspent","_signTransaction","getWithdrawRawTransaction","_x22","utxoClass","fundScriptRepeat","checkScriptBalance","_flow$finishStep","_utxoClass$createScri","getRefundRawTransaction","_callee20","_context20","_callee21","_context21","_x29","_callee22","_flow$finishStep2","_context22","_x30","txResult","scriptOpts","_UTXOBlockchain","BtcSwap","_debug","EthLikeSwap","_withdrawFromABContract","_checkTargetAddress","_isContractFunded","_isSwapCreated","_waitABContract","_getSecretFromContract","_fundContract","_refund","_withdrawOther","_calcWithdrawOtherGas","_withdrawNoMoney","_calcWithdrawNoMoneyGas","_withdraw","_calcWithdrawGas","_getTargetWalletPromise","_getTargetWallet","_wasWithdrawn","_wasClosed","_findSwap","_fetchSwapEvents","_checkBalance","_checkSwapExists","_createSwapTarget","_createSwap","_send","_updateGasPrice","web3adapter","bytes32","decoder","web3utils","bytesToHex","getWeb3Adapter","getWeb3Utils","gasLimitReserve","hasTargetWallet","createSwapTarget","createSwap","methodName","_params","updateGasPrice","_this2$contract$metho","_this2$contract$metho2","gasAmount","amountWei","expectedHash","expectedValueWei","allSwapEvents","_allSwapEvents","getPastEvents","fromBlock","toBlock","allEvents","swapEvents","_swapEvents","fetchSwapEvents","returnValues","_toArray","_yield$this$findSwap","_yield$this$findSwap2","findSwap","wasClosed","getTargetWallet","getTargetWalletPromise","calcWithdrawOtherGas","withdrawOther","gasFee","_callee23","_args23","_context23","_x31","_callee25","abClass","tryCreateSwap","_context25","_callee24","_context24","refundTx","_x32","_callee28","checkSecretExist","_context28","_callee26","_context26","_x34","_callee27","_context27","_x33","_callee29","_context29","_x35","_callee30","_context30","_x36","_callee32","_context32","_callee31","needContractBalance","_context31","_x37","_callee33","needTargetWallet","_context33","_x38","_callee35","_flow$swap2","_flow$state4","balanceCheckError","onWithdrawReady","tryWithdraw","_context35","checkBalance","needed","getted","_callee34","stopRepeater","withdrawNeededGas","_context34","calcWithdrawGas","_x40","_x39","_EthLikeSwap","EthSwap","BnbSwap","MaticSwap","ArbitrumSwap","PrivateKey","BufferUtil","GhostSwap","confirmationsToConfidence","confs","sigBuffer","toDER","integerAsSingleByteBuffer","payment","setWitnesses","witness","_this3$createScript","toObject","lockUntilDate","NextSwap","EthLikeTokenSwap","_waitAB2UTXOContract","_fundERC20Contract","_checkTokenIsValid","_approve","tokenAddress","tokenAbi","newAmount","_args5","_this9","_this10","_this11","secretValue","_this12","calcFee","_x42","_x41","_x44","_x43","_x45","_callee37","_context37","_callee36","_context36","_x47","_x46","_callee38","_this13","_context38","_x48","_callee40","_context40","_callee39","_context39","_x49","_callee41","_context41","_x50","_EthLikeTokenSwap","EthTokenSwap","BscTokenSwap","MaticTokenSwap","register","repo","dirpath","SIGNAL","kill","exit","_wait","createSwapApp","_config$opts$blockcha","_config$opts2$blockch","_config$opts3$blockch","Addresses","Swarm","ShowBtcScript","BtcScript","Debug","_this$props$flow","btcScriptValues","DeleteSwapAfterEnd","autoDeleteOrder","isRequired","SwapComponent","_ref$user","coinsData","currenciesData","_dec2","_PureComponent","_componentDidMount","_this$state$swap","_this$state$swap$flow","_this$state$swap$flow2","swapsId","sendedData","sendedJSON","sendDebugInfoTimer","_this$state$swap2","_this$state$swap2$flo","deleteThisSwap","isSwapCancelled","_this$state$swap3","_this$state$swap3$flo","_this$state$swap$flow3","sendWithdrawRequest","acceptWithdrawRequest","_this$state2$swap","isFaucetRequested","rv","checkOtherSideRefund","otherSideRefunded","_this$state4$swap","sendRequestToFaucet","isShowDebug","isAmountMore","ActiveSwap","shouldStopCheckSendingOfRequesting","errorInfo","performance","navigation","active_swap","exRate","afterComponentDidMount","_this$state5","_this$props3","saveThisSwap","checkIsFinished","checkStoppedSwap","sendSwapDebugInformation","checkingCycle","isFinallyFinished","checkEnoughFee","requestingWithdrawFee","checkFailSwap","checkingConfirmSuccess","checkIsConfirmed","checkingConfirmSuccessTimer","checkingCycleTimer","_this$props4","_this$state6","goWallet","toggleDebug","role","PureComponent","SwapMode","SwapTxStatus","SwapStatus","Address","addressStart","addressEnd","Short","TxSide","isTitleHighlighted","Tx","imgPending","Done","imgDone","TurboSwap","_objectDestructuringEmpty","sellCurrencyKey","buyCurrencyKey","myAddressSend","myAddressReceive","participantAddressSend","participantAddressReceive","swapIdShortened","letter","takerTx","Expected","makerTx","swapStatus","Finished","i18n_you","i18n_maker","i18n_taker","goToWallet","CommentRow","commentKey","_props$updateComment","updateComment","toggleComment","commentTextarea","ctrlKey","keyCode","submitComment","cssText","scrollHeight","_this$state$isOpen","isOpen","onSubmit","handleKeyUp","_this$props$canEdit","_this$props$showComme","showComment","_this$state$isOpen2","_this$state$comment","ref","onKeyUp","changeComment","Row","exCurrencyRate","showFiat","_this$props2$invoiceD","itemCurrency","payed","_onAccept","cancelled","shareLink","directionType","targetPath","tokenPart","viewType","dataInd","fetchFiatBalance","_this$props5","propsHash","substrAddress","fiatValue","paymentAddress","statusStyleAmount","hasInvoiceButtons","invoiceStatusClass","invoiceStatusText","txLink","Link","width","viewBox","stroke","strokeWidth","invoiceNumber","returnLinkRouter","alignItems","totalCount","handlePayInvoice","handleCancelInvoice","handleSendConfirmLink","handleConfirmTx","Table","selectId","tdLink","linkOnTableBody","th","linkOnTableHead","cells","td","offsetWidth","handleResponsiveTable","nextProps","nextState","rows","isLoading","titles","rowRender","textIfEmpty","loadingText","table","linkOnTable","thead","tbody","row","rowIndex","handleSelectId","InfiniteScroll","InfiniteScrollTable","bottomOffset","itemsCount","documentElement","scrollTop","clientHeight","offsetHeight","getMore","onScroll","propTypes","inner","rideSideContent","leftSideContent","banners","nonHeader","DescrSection","ContentSection","BalanceSection","BannersSection","filterValue","resetFilter","handleSubmit","placeholder","stopPropagation","InvoicesList","withRouter","_componentWillUnmount","lsDataCache","unmounted","invoicesData","_props$match$params","_props$match$params$t","_props$match$params$a","fetchItems","_this$props$match$par","_this$props$match$par2","_this$props$match$par3","_prevProps$match$para","_prevProps$match$para2","prevAddress","_prevProps$match$para3","onlyTable","isRedirecting","invoicesTable","ContentLoader","handleGoWalletHome","RowHistory","isUTXOModel","_cx","lockDateAndTime","swapUri","getSwapStatusText","closeIncompleted","SwapsHistory","filterHistory","History","_ref3$history","stylesHere","renderedItems","commentsList","newRows","loading","createItemsState","_props$match$params$p","onSwapCoreInited","prevItems","FilterForm","handleFilter","handleFilterChange","loadMore","defaultPack","capture","widgetPack","dcn","bxb","kn","drt","lev","arn","omg","syc2","icx","waves","xrp","yup","currencyIcons","icons","tokenIcon","_config$standard$name","returnTokenIcon","defaultCurrencyColors","_config$erc20$lowerNa","_config$bep20$lowerNa","_config$erc20matic$lo","_config$erc20xdai$low","_config$erc20ftm$lowe","_config$erc20avax$low","_config$erc20movr$low","_config$erc20one$lowe","_config$erc20ame$lowe","_config$erc20aurora$l","_config$phi20_v1$lowe","_config$phi20$lowerNa","_config$fkw20$lowerNa","_config$phpx20$lowerN","_config$erc20$lowerNa2","_config$bep20$lowerNa2","_config$erc20matic$lo2","_config$erc20xdai$low2","_config$erc20ftm$lowe2","_config$erc20avax$low2","_config$erc20movr$low2","_config$erc20one$lowe2","_config$erc20ame$lowe2","_config$erc20aurora$l2","_config$phi20_v1$lowe2","_config$fkw20$lowerNa2","_config$phpx20$lowerN2","_props$size","isIconExist","iconSource","web3Icons","isIconConfigExist","backgroundColor","iconBgColor","currencyIconProps","lineHeight","fontSize","CurrencyIcon","subHeaderText","stepNum","notMain","isShow","subHeaderText1","subHeaderText2","cupture2","curState","startPack","showPinContent","Explanation","Cupture","firstIdPart","selectedCurrency","Coin","withoutSecure","sms","pin","google2FA","multisignature","fingerprint","setError","forcedCurrencyData","_protection","g2fa","_activated","nothing","hiddenCoins","border","setBorder","isFingerprintAvailable","setFingerprintAvaillable","thisComponentInitHelper","useRef","isFingerprintFeatureAsked","setFingerprintFeatureAsked","isTrivialFeatureAsked","setTrivialFeatureAsked","_useState9","_useState10","isPinFeatureAsked","setPinFeatureAsked","_useState11","_useState12","_useState13","_useState14","isMultisigFeatureAsked","setMultisigFeatureAsked","PublicKeyCredential","isUserVerifyingPlatformAuthenticatorAvailable","coins","en","ru","nl","es","pl","activated","onClickHandler","cardStyle","cardStyle_","alert","colors","StepsWrapper","dataToReturn","defaultStartPack","untouchable","packList","haveTokenConfig","isTokenAdded","widgetStartPack","packToken","_packToken$name","_packToken$standard","coinIndex","coinInfo","isCustomToken","customTokenType","_coinInfo$split","_coinInfo$split2","setCoinOrder","pack1","pack2","currenciesForSecondStep","noInternalWallet","userData","allCurrencies","_props$createWallet","_props$location","useIntl","forcedCurrency","userWallets","setExist","isWasOnWallet","setStep","isExist","goHome","web3Type","web3Icon","hasExternalWallet","CloseIcon","justifyContent","margin","isIgnoreSecondStep","standardObj","standardName","showCloseButton","hasOwnBeforeTabs","_config$opts$ui$faq","hasOwnAfterTabs","_config$opts2$ui","_config$opts2$ui$faq","beforeTabs","beforeTabsIds","tabData","tabIndex","afterTabs","afterTabsIds","tabsIdsDictionary","FIRST_TAB","SECOND_TAB","THIRD_TAB","_cx3","_cx4","_cx5","_cx6","_cx7","_cx8","tabsVisibility","setTabsVisibility","openedTabs","setOpenedTabs","handleTabClick","tabName","setFees","_fetchFees","BYTE_IN_KB","btcSatoshiPrice","setEvmBlockchainFee","prevFees","evmMiningFeeItems","unit","miningFeeItems","sourceLink","evmAdminFeeItems","percentFee","adminFeeItems","renderTabs","tabsData","_cx2","tokenType","WidthContainer","fullHeight","relative","contentCentering","containerStyleName","containerInStyleName","_props$dashboardView","dashboardView","_React$useState","_React$useState2","evaluatedHeight","setEvaluatedHeight","elWithHeight","querySelector","minHeight","_ref$scrollable","scrollable","_ref$centerHorizontal","centerHorizontally","_ref$centerVertically","centerVertically","_ref$keepFontSize","keepFontSize","_ref$relative","Modal","isLocationChange","disableClose","closeOnLocationChange","onLocationChange","currentLocation","catchLocationChange","titleUppercase","shouldCenterHorizontally","shouldCenterVertically","delayClose","contentWithTabs","titleStyleName","Overlay","modal","modal_dashboardView","contentContainer","contentContainer_dashboardView","Center","names","Value","ExchangeRate","ConfirmOffer","_this$props$offer","offer","_this$props$offer2","onBack","Coins","Amounts","handleConfirm","setBoolValue","Input","valueLink","checkedLink","pattern","maskChar","maskReplace","invalidClass","requiredClass","validationClasses","InputMask","nodeProps","isPriceValueMask","component","changeBalance","switching","Switching","RESIZED","TextareaAutosize","EVENT_TYPE","defer","createEvent","initEvent","textareaEl","autosize","onResize","getValue","onFocus","header","getElementById","classList","onBlur","inputContainerClassName","inputClassName","errorStyle","openScan","qr","smallFontSize","dontDisplayError","inputCustomStyle","withMargin","focusOnInit","srollingForm","inputContainerStyleName","withError","withQr","focusEvent","handleFocus","handleBlur","TextArea","ValueLinkInput","ignored","ignoreProps","autoFocus","dir","autoComplete","rootClassName","inputValueLink","_ref$isInteger","_ref$className","Group","bodySelector","portalSelector","fixBodyOverflow","fix","overflow","inputReplaceCommaWithDot","execCommand","createPortal","customSelector","ReactDOM","OutsideClick","wrapperRef","outsideAction","contains","handleClickOutside","setWrapperRef","DropDown","optionToggleIsOpen","onSelect","selectedValue","toggleClose","selectedItemRender","propsSelectedValue","stateSelectedValue","selectedItem","textToShow","reduceSelectedItemText","disableSearch","linkedValue","inputValue","dontScroll","arrowSide","itemRender","dropDownStyleName","linkedInputValue","itemsFiltered","noOptions","moreThenOneOption","dropDownId","toggleOpen","renderSelectedItem","handleOptionClick","_props$name","_props$placeholder","_props$disabled","defaultRenderSelected","Option","usedSelectedItemRender","_label$props","extendedControls","inputId","idFee","tooltipAboutFee","haveAmount","inputToolTip","currAllowed","canalculate","onKeyDown","CurrencySelect","availableBalance","turboSwapIcon","supportedAssets","asset","isNumberStringFormatCorrect","stringified","lastIndexOf","AddOffer","swapsHelper","currenciesOrig","tokenBaseCurrencyBalance","correctMinAmountSell","correctMinAmountBuy","balanceForBuyTokenFee","balanceForSellTokenFee","sellWallet","currentBalance","balanceWithoutFee","finalBalance","minimalestAmountForSell","isTokenSell","isTokenBuy","minimalestAmountForBuy","exchangeRateSell","exchangeRateBuy","checkPair","updateExchangeRate","isTokenOffer","checkBalanceForTokenFee","updateTokenBaseWalletBalance","handleBuyAmountChange","handleSellAmountChange","getFee","handleAnyChange","manualRate","isSending","newSellAmount","newExchangeRate","newBuyAmount","onNext","handleSellCurrencySelect","initialData","_this$state7","_this$state8","minAmountForSwap","needEthBalance","linked","minimalAmountSell","minimalAmountBuy","SelectGroup","Select","handleBuyCurrencySelect","ExchangeRateGroup","handleExchangeRateChange","Toggle","handleManualRate","textAlign","ethAmount","handleNext","view","propsData","scrollTo","handleMoveToConfirmation","handleMoveToOfferEditing","modalName","availableCurrencies","takerList","stateReference","makerWallet","takerWallet","blockApprove","blockCreation","isPending","selectMakerAsset","selectTakerAsset","checkMakerAllowance","checkTakerAllowance","needMakerApprove","enoughSwapCurrencies","needApprove","notExist","noCurrenciesTemplate","returnTakerList","completed","decreaseAllowance","success","updateNetwork","updateTakerList","oldAllowance","fetchTokenAllowance","isWrongAmount","_actions$oneinch$filt","tokensWallets","prevWrongNetwork","prevCurrencies","isCurrentNetworkAvailable","isMakerAssetNetworkAvailable","_actions$oneinch$filt2","areWrongOrderParams","ModalForm","inRow","inDropDown","positionStatic","handleScan","handleError","QrReader","facingMode","exact","onResult","bip0020link","redirect","tab","NavLink","ApiEndpoint","lowerSymbol","Href","LinkEndpoint","PartOfAddress","withoutLink","AddressElement","fontWeight","CurrencyList","isAssetsOpen","newPathName","cryptoBalance","_selectedCurrency$ite","_selectedCurrency$inf","tableRows","fiatBalance","returnFiatBalance","closeList","toggleListDisplay","coinView","itemFiatBalance","itemId","openModal","bitcoinFees","slug","labelMessage","timeMessage","FeeRadios","setFee","customFeeValue","speedType","feeInByte","onFeeRateChange","htmlFor","max","onCustomFeeValueChange","activeFiatSymbol","dataCurrency","_props$exchangeRateFo","exchangeRateForTokens","_props$exCurrencyRate","initialMinerFee","hasTxSize","feeCurrentCurrency","bitcoinFeeSpeedType","setBitcoinFee","minerFeeTicker","serviceFeeTicker","totalFee","fiatMinerFee","fiatServiceFee","fiatTotalFee","transactionSize","maxWidth","WithdrawModal","availableWallets","firstWallet","targetCurrency","firstUrlPart","_this$state$selectedI","currentDecimals","numAmount","_yield$helpers$btc$es","bitcoinFeesRate","mounted","btcFeeRate","miner","customValue","setAllowedBalances","currentCoin","adminFeeSize","newMinerFee","fetchFee","fetchBtcFee","t4","ownTx","reduxActionName","_this$state4$comment","_this$props2$data","sendOptions","nextStepModal","isShipped","txInfoCache","txInfoUrl","errorText","customError","openScanCam","btcFeeTimer","hasExCurrencyRate","fiatAmount","maxService","maxAmount","maxFiatAmount","allowedFiat","newServiceFeeSize","arrOfCurrencies","activeCryptoCurrency","walletAddressOwner","commissionCurrency","walletForTokenFee","tokenCurrency","isInvoicePay","setCommissions","prevData","prevAmount","prevFiatAmount","findIndex","handleHaveNotAvailableWallet","selectedCurrencyInProps","updateCurrencyData","updateServiceAndTotalFee","_this$state9","_walletForTokenFee$in","_this$state10","isBTCWallet","selectedValueView","cryptoCurrencyHaveInfoPrice","returnHaveInfoPrice","notEnoughForTokenMinerFee","notEnoughForPayment","labels","withdrawModal","balanceFiatMobile","balanceFiatDesktop","balanceMobile","balanceDesktop","ownTxPlaceholder","balanceLabel","formRender","InvoiceInfoBlock","marginBottom","FieldLabel","right","additionalurrenciesItemActive","handleAmount","marginLeft","setMaxBalance","allowedBalance","handleClose","AdminFeeInfoBlock","FeeInfoBlock","setBtcUserFee","WithdrawModalMultisigUser","_yield$actions$btcmul","fiatRates","setBalanceOnState","broadcastCancelFunc","minFee","balanceMiner","_props$data","ethBalance","getFiat","smsConfirmed","getFiatBalance","actualyMinAmount","_this$props3$data","defaultMin","txConfirmLink","sellAllBalance","ReactTooltip","errorName","handleReady","handleCloseModal","langPrefix","langs","needSaveMnemonicToContinue","pleaseSaveMnemonicToContinue","buttonSaveMnemonic","buttonCancel","mnemonicSaved","_this$props$history","goBack","howToDeposit","recieveUrl","tokenInfo","tokenBlockchain","externalExchangeLink","dangerouslySetInnerHTML","__html","handleBeginSaveMnemonic","downloadModal","textToCopy","Account","handleDownloadTxt","_this$props$data$decl","goToDecline","SubTitle","showSubtitle","context","handleClickCurrency","_item$standard","iconName","itemTitle","itemFullTitle","renderIcon","renderStyle","defaultLanguage","handleCancel","langLabels","deleteText","MnemonicInput","tags","onChangeCallback","tag","isAutofill","testnetTagsWithoutLastElement","TESTNET_TAGS","returnTags","isPasteWords","reactTags","clearInput","busy","_props$autoFill","autoFill","suggestions","TESTNET_TEST_PHRASE","isPlaceholderVisible","_this$props$autoFill","onAddition","words","tagData","translate","ReactTags","autoresize","onDelete","onInput","placeholderText","removeButtonText","delimiters","newCustomWalletUse","customWalletUse","sellTicker","sellWalletAddress","systemWallets","customWallet","customWalletIsValid","customWalletAllowed","handleCustomWalletUse","multiSignJoinLinkMessage","multiSignJoinLink","defaultStyles","joinLink","linkAction","handleFinish","localeLabel","addressPlaceholder","destiAddressPlaceholder","amountPlaceholder","contactPlaceholder","labelPlaceholder","ownStyle","_this$state$walletDat","currencyOriginal","handleGoToInvoice","multiplier","_this$state2$walletDa","_props$payerAddress","payerAddress","toAddressEnabled","otherAddress","checkCurrency","_this$state4$walletDa","curList","dropDownStyles","Title","_this$props$data","invoiceLink","ok","dontClose","callbackOk","closeModal","closeWithCustomAction","canClose","labelOk","okButtonAutoWidth","buttonStyle","handleOk","TOKEN_STANDARDS_ARR","standardConfig","standardBlockchain","_componentDidUpdate","_getAssetFullInfo","_getAssetsList","_data$standard","addTokenMode","selectedAssetPlatform","getInfoAboutToken","addToken","assetsList","selectedAsset","selectedAssetFullInfo","searchQuery","selectedAssetPlatforms","isAssetsListLoading","isAssetFullInfoLoading","assetFullInfo","availableAssetPlatforms","standardTokenAddress","platforms","_availableAssetPlatfo","_availableAssetPlatfo2","_TOKEN_STANDARDS_ARR$","_TOKEN_STANDARDS_ARR$2","_TOKEN_STANDARDS_ARR$3","assetId","_yield$axios$get","setSelectedAssetFullInfo","_searchQuery$match","_document$activeEleme","prevSearchQuery","prevAssetsList","hasNotAssetsInSimilarPrevSearchQuery","activeElement","getAssetsList","setAssetsList","getAssetFullInfo","_document$activeEleme2","searchPlaceholder","selectAddByAddress","selectAddBySearch","thumb","resetSearchData","padding","assetInfo","setAsset","DropdownMenu","dropdownMenu","handleAnyClick","classNames","handleItemClick","WalletRow","isDropdownOpen","handleRefresh","dropDownMenuItems","handleSwitch","handleRemove","handleOpenDropdown","refreshWallets","fetching","copyLink","linkCopied","useBackendId","signedTX","btcTxId","isConfirming","isControlFetching","isTxHolder","_this2$props$data","_txData","txDataParsed","txAuthedData","handleGoToWallet","handleReject","enterMnemonicNotice","shareMnemonicTitle","showMnemonicNotice","readySaveNotice","saveMnemonicStep1","saveMnemonicStep2","mnemonicDeleted","beginNotice","beginContinue","beginLater","randomWords","enteredWords","clickedWord","incorrectWord","mnemonicInvalid","random","okSvg","handleClickWord","handleGoToConfirm","mnemonicLabel","readyNotice","restoringWallet","restoryWallet","cancelRestory","noRedirect","mnemonicIsInvalid","handleMnemonicChange","handleRestoryWallet","howToWithdraw","titleFetching","invoiceSender","invoiceComment","buttonClose","payInvoice","declimeInvoice","shareText","shareReady","shareInfo","infoStatusReady","infoStatusDeclimed","infoStatusPending","animateFetching","_this$state$invoice$i","payWallet","withdrawType","isReady","newLocation","isCancelled","onFetching","doshare","isShareReady","_ref$invoiceData","isPayerSide","shareButtonEnabled","isPayerControlEnabled","buttonsHolderStyles","modalTitle","infoIconTitle","infoIconUrl","handleChangeLocation","handleShareReady","colSpan","handleDeclimeInvoice","handleCloseButton","registerPinModal","pinCodePlaceHolder","pinCodeConfirmPlaceHolder","enterPinCodeUpMessage","enterPinCodeBottomMessage","youNotEnterPin","pinCodeNotEqueals","pinServerOffline","useMnemonicNote","useMnemonicButton","restoryUpMessage","restoryBottomMessage","labelYourMnemonic","mnemonicPlaceHolder","shipButton","confirmButton","usepinButton","activateWallet","errorWalletLocked","labelYourPin","labelConfirmYourPin","buttonFinish","buttonCopiedInstruction","buttonCopyInstruction","buttonDownloadingInstruction","buttonDownloadInstruction","buttonShare","finishMessage","instructionMessage","errorMnemonicInvalid","errorMnemonicIncorrect","generateRestoreInstruction","isInstructionCopied","restoreInstruction","isInstructionDownloaded","pinCode","pinCodeConfirm","useGeneratedKey","generatedKey","useGeneratedKeyEnabled","isWalletLockedOtherPin","initStep","showFinalInstruction","isMnemonicGenerated","isMnemonicValid","handleRestoreWallet","handleUsePin","handleCheckPIN","handleRestoreWalletStep","handleCopyInstruction","handleDownloadInstruction","handleShareInstruction","upMessage","upMessageMnemonic","pinCodeNotValid","cancelButton","mnemonicNote","serverIsOffline","pincodeNote","usePinCode","processSendResult","serverOffline","_this$props$data$send","beforeBalances","handleSend","handleUseMnemonic","handleSendMnemonic","handleUsePassword","_this2$props$data$sen","deposit","dataClose","actionType","actionLabel","handleClosePopup","dontRedirect","goToPage","currentBaseCurrency","newWeb3connect","connectTo","onConnectLogic","choseNetwork","noCloseButton","walletConnectIcon","setNetwork","handleInjected","handleWalletConnect","balanceUpdating","_this$props$metamaskD","getProviderType","Full","walletBalance","handleDisconnect","handleConnect","doRestore","isDoRestoring","secretOne","secretOneError","enterSecretOne","secretTwo","enterSecretTwo","secretTwoError","hasError","isRestoring","mnemonicFromSecrets","isRestored","handleRestore","countSecretsSaved","HrefLink","useCopy","useSave","useSend","codeNfromSite","filename","secretNumber","sharededSecrets","shamirsSecretKeys","copyUsed","saveUsed","sendUsed","sitehost","markCodeShared","createDownload","canContinue","totalSaved","renderShareSecret","saved","useShamirs","cancel","selectMethod","handleUseShamirs","GetReferralStatistic","_res$data5","Ref_Test","SO_ReferralSystem_CheckLink","saveMnemonicFirst","saveMnemonicButton","buttonGenerateJoinLink","addressForBonus","joinUrl","isJoinUrlFetching","referrals","referralsFetched","handleGenerateJoinLink","referral","ID","registered","handleOpenSaveMnemonic","ShareModal","OfferModal","ModalConductor","offsetTop","isCSS1Compat","myOffsetTop","compatMode","pageXOffset","y","pageYOffset","scrollLeft","modalNames","highestZIndex","_modals$key","_modals$key$data","Modals","isAnyModalCalled","hiestZ","isModalOpenedHelper","closest","__modalConductorProvided__","ModalContainer","modalContainerStyleName","handleMount","ModalBox","showLogo","balanceRef","activeView","CUSTOM_LOGO","BalanceForm","FAQ","yourAssetsWrapper","activity","ModalConductorProvider","currencyBalance","handleReceive","handleWithdraw","_ref$currencyView","currencyView","_ref$handleInvoice","handleInvoice","_ref$isFetching","_ref$showButtons","showButtons","_ref$singleWallet","singleWallet","_ref$multisigPendingC","buttonsDisabled","sendButtonDisabled","dollar","onPress","background","feedbackText","backGroundStyle","backGroundImgStyle","backgroundImage","WallerSlider","Swiper","spaceBetween","slidesPerView","breakpoints","inBanners","oldItezUrl","bannerUrl","bannerArr","bannersOnMainPage","widgetBanners","processItezBanner","initBanners","getBanners","isPrivateKeysSaved","needSignMultisig","linksManager","handleReferralProgram","marginTop","NotifyBlock","handleGoToMultisigRequest","security","handleShowKeys","handleShowMnemonic","banner","msConfirmCount","_ref$user$ethData","ethDataHelper","_this$props$itemData","itemData","_this$props$itemData2","handleWithdrawPopup","_this$props$itemData3","_this$props$itemData4","_this$props$itemData5","_this$props2$itemData","_this$props$itemData6","_this$props$itemData7","_this$props5$itemData","isBalanceEmpty","prevBalance","_this$props$itemData8","getComparableProps","_itemData$infoAboutCu","_config$erc","_config$erc$this$prop","currencyFiatBalance","_this$props6","nodeDownErrorShow","hasHowToWithdraw","isSafari","handleHowToWithdraw","goToExchange","goToCurrencyHistory","copy","copyPrivateKey","hideCurrency","handleCreateInvoice","handleCreateInvoiceLink","showBalance","statusInfo","handleActivatePinProtected","handleSwitchMultisign","handleGenerateMultisignLink","ethRowWithoutExternalProvider","metamaskIsConnected","metamaskDisconnected","isAvailableMetamaskNetwork","isNotAvailableMetamaskNetwork","currencyTitleId","showFiatBalance","connectMetamask","position","bottom","_config$opts3$ui","goToreateWallet","showAssets","exConfig","Slider","Wallet","btcMultisigUserDataList","userCurrencyData","firstAvailableWallet","isPositive","showNoWalletsNotification","_wallet$infoAboutCurr","returnFiatBalanceByWallet","_wallet$infoAboutCurr2","returnBalanceInBtc","lastCheckMoment","isFirstCheck","isSame","isOneHourAfter","isAfter","syncTimer","ipInfo","registrationData","widgetUrl","tokensArray","stats","userLanguage","appConfig","widget_url","public_key","entry","activeComponentNum","btcBalance","testSaveShamirsSecrets","prevPage","prevMultisigPendingCount","prevPathname","_this$props5$match$pa","handleConnectWallet","wpLogoutModal","_this$props6$match","_this$props7","_this$props7$match$pa","syncData","addFiatBalanceInUserCurrencyData","balanceInBtc","returnTotalBalanceInBtc","allFiatBalance","returnTotalFiatBalance","DashboardLayout","handleWithdrawFirstAsset","CurrenciesList","COIN_DECIMALS","SWAP_API","LIQUIDITY_SOURCE_DATA","_LIQUIDITY_SOURCE_DAT","buildApiSwapParams","route","_params$skipValidatio","skipValidation","spendedAmount","fromWallet","toWallet","zeroxApiKey","sellToken","buyToken","enoughBalanceForSwap","percent","correctValue","estimateApiSwapData","_params$withoutValida","withoutValidation","baseChainWallet","_actions$baseChainWal","estimatedGas","customGasPrice","weiFee","swapFee","receivedAmount","Sections","Actions","Direction","BlockReasons","visible","activeSection","onlyAggregator","onlySource","receivedCurrency","openAggregatorSection","openSourceSection","openSettingsSection","sourceTitle","Aggregator","Source","Settings","GoSettings","continuous","isLastStep","backProps","primaryProps","skipProps","tooltipProps","closeTour","WidgetWalletTour","STATUS","widgetName","placement","spotlightPadding","isTourOpen","Joyride","handleJoyrideCallback","scrollToFirstStep","tooltipComponent","showProgress","showSkipButton","arrowColor","QuickSwapFormTour","_fromWallet$infoAbout","parentState","setSpendedAmount","selectCurrency","updateWallets","flipCurrency","openExternalExchange","onInputDataChange","resetReceivedAmount","setReceivedAmount","insufficientBalanceA","insufficientBalanceB","isSourceMode","sourceAction","receivedList","currentLiquidityPair","spendedCurrency","fromBalancePending","setFromBalancePending","toBalancePending","setToBalancePending","sawBankCardMessage","setIsTourOpen","Spend","Receive","balanceTooltip","getWalletStoreData","fromWalletData","toWalletData","prevIsBalanceFetching","flagForLazyChanges","setFlagForLazyChanges","addFirstLiquidity","AddLiquidity","isValidNumber","supportedCurrencies","showFiatExchangeBtn","_baseChainWallet$curr","setAction","defaultChecked","setMnemonicSaved","isWalletCreated","saveSecretPhrase","fiatFee","totalFiat","_fromWallet$decimals","_toWallet$decimals","_baseChainWallet$info","fromAmount","commonUtils","totalAmount","fixedAmount","fixedTotalAmount","connectWalletButton","walletAddressBlock","labelTooltip","_props$onKeyUp","_props$onKeyDown","_props$styleName","_props$margin","resetSwapData","keyUpHandler","keyDownHandler","lowSlippage","setLowSlippage","frontrunSlippageRange","setFrontrunRange","maxSlippageRange","setMaxSlippageRange","InputRow","userDeadline","commonStyles","blockReason","needApproveA","needApproveB","PairDoesNotExist","InsufficientSlippage","NoLiquidity","Liquidity","Unknown","ReviewSwapModal","onSwap","isSwapStarted","setIsSwapStarted","UserInfo","_error$message","setBlockReason","resetSpendedAmount","isApiRequestBlocking","setPending","finalizeApiSwapData","finalizeSwap","setFinalizeSwap","startSwapReview","apiSwap","assetName","directSwap","_LIQUIDITY_SOURCE_DAT2","_LIQUIDITY_SOURCE_DAT3","_fromWallet$contractA","_toWallet$contractAdd","_result$message","_LIQUIDITY_SOURCE_DAT4","_LIQUIDITY_SOURCE_DAT5","_fromWallet$contractA2","_fromWallet$decimals2","_toWallet$contractAdd2","_toWallet$decimals2","doNotMakeApiRequest","commonBlockReasons","NotApproved","formFilled","approvingDoesNotMakeSense","approveAIsAvailable","approveBIsAvailable","approveBIsNecessary","apiSwapIsAvailable","directSwapIsAvailable","addLiquidityIsAvailable","QuickswapModes","aggregator","only_aggregator","only_source","CURRENCY_PLUG","QuickSwap","currentCurrencies","_quickswap$filterCurr","filteredCurrencies","returnReceivedList","feeOptsKey","currentFeeOpts","correctFeeRepresentation","zeroxFeePercent","apiPercentFormat","currencyItem","updateBaseChainWallet","updateCurrentPairAddress","quickCurrency","_spendedCurrency$valu","currentSpendedAsset","_JSON$stringify","_JSON$stringify2","_JSON$stringify3","liquidityErrorMessage","possibleNoLiquidity","insufficientSlippage","notEnoughBalance","notApproved","NoBalance","checkApprove","fetchApiSwapPrice","processingSourceActions","_JSON$parse","reason","liquidityError","repeatRequest","tryToSkipValidation","_buildApiSwapParams","rawQuote","noLiquidityPair","fetchAmountOut","fetchLiquidityData","amountOut","_this$state11","_wallet","setNeedApprove","_this$state12","changeSpendedSide","changeReceivedSide","updateSpendedSide","updateReceivedSide","updateReceivedList","updateServiceFeeData","_this$state13","_this$state14","externalExchangeReference","closed","newWindowProxy","startCheckingExternalWindow","focus","closeExternalExchange","externalWindowTimer","_this$state15","_this$state16","slippageMaxRange","wrongSlippage","wrongGasPrice","wrongGasLimit","wrongSettings","quickswapMode","_this$returnCurrentAs","returnCurrentAssetState","defaultSellCurrency","curData","defaultBuyCurrency","urlSpendedCurrency","urlReceivedList","urlReceivedCurrency","availableBlockchains","prevMetamaskData","prevActiveSection","_this$state17","curWrongNetwork","isSpendedCurrencyNetworkAvailable","switchToCorrectNetwork","switchToWrongNetwork","switchFromWrongToWrong","needFullUpdate","_this$returnCurrentAs2","newSpendedCurrency","haveSpendedCurrencyInList","_this$returnCurrentAs3","clearWindowTimer","saveOptionsInStorage","_this$state18","TokenInstruction","networkName","Header","InputForm","SourceActions","Feedback","Footer","smalltext","labelSpecifyAddress","optionInternal","optionInternalDisabled","optionInternalCreate","optionConnect","optionCustom","placeholderAddress","AddressSelect","currentWallet","getTicker","internalAddress","getInternalAddress","walletAddressFocused","isMetamaskConnected","applyAddress","isScanActive","toggleScan","option","oldSelectedType","selectedType","dontSelect","goreateWallet","addressObj","newSelectedType","internalBalance","isInternalOptionDisabled","Send","isMetamaskOption","isCustomAddressOption","isCustomOptionInputHidden","dropDownOptions","isCurrencyInInternalWallet","iconInternal","iconCustom","_props$hasError","_props$selectedType","onWeb3Updated","prepareDropDownOptions","newCurrency","_this$props3$hasError","oldBalance","oldCurrency","_this$state2$hasError","oldHasError","_this$props4$placehol","handleOptionSelect","textOverflow","handleFocusAddress","handleBlurAddress","handleScanError","NetworkStatus","PageHeadline","subTitle","CurrencyDirectionChooser","Flip","chooseProps","Panel","sameAs","Seo","seoPage","prevLocation","DocumentMeta","canonical","meta","property","JsonLd","PageSeo","_Seo","_this$getValues","getValues","ownerEthAddress","avatarUrl","toSvg","gravatar","hasGravatar","_params$data","sendSwapRequest","handleDeclineOrdersModalOpen","finalDecimals","mod","_this$props$row","checkSwapAllow","exchangeRates","messages","renderCoinName","haveCurrency","getCurrency","enterButton","_this$props2$row","balanceCheckCur","renderContent","sellCurrencyOut","sellAmountOut","getCurrencyOut","priceOut","_this$props3$row","_this$props3$row$owne","ownerPeer","linkedOrderId","isSwapButtonEnabled","isSilentError","mobileFormatCrypto","Avatar","TurboIcon","RemoveButton","RequestButton","checkDeclineOrders","RowFeeds","currentUrl","generateOfferUrl","ShareImg","MyOrders","filterMyOrders","filterOrders","compareOrders","OrderBook","_ref$core","_ref$pubsubRoom","isShowAllMyOrders","buyOrders","sellOrders","pairFees","propsBuyCurrency","propsSellCurrency","invalidPair","buyCurrencyFullName","sellCurrencyFullName","metaTitle","metaDescription","myOrdersThisMarket","offersNoticeLoadingText","offersNoticeOfflineText","handleShowAllMyOrders","tableStyles","Offers","_props$match","_this$getCurrentCurre","getCurrentCurrencies","_this$getCurrentCurre2","prevBuy","prevSell","createNewState","_this$props3$match","_this$props3$history","sectionContainerStyleName","handleShowOrders","frameBorder","allow","allowFullScreen","FaqExpandableItem","isChromeExtention","bannedPeers","Exchange","userWalletTypes","getExchangeSettingsFromLocalStorage","setDefaultCurrencyType","hasTokenAllowance","fetchPairFees","fetchBalances","buyExRate","sellExRate","fetchFiatExRate","buyWallet","feeBuyWallet","feeSellWallet","checkBalanceOnAllCurrency","_userWalletTypes","haveType","getType","newExchangeSettings","atomicCurrency","buyValue","sellValue","handleSetHaveValue","checkValidUrl","avaliablesBuyCurrency","handleSetGetValue","filterSameVale","isOnlyForm","exHaveRate","exGetRate","checkParams","fromType","isUserSellToken","isUserBuyToken","sellBalance","enoughBalanceForSellAmount","enoughBalanceForFullPayment","balanceIsOk","_pairFees$sell","_pairFees$buy","_pairFees$sell2","sellFee","buyFee","isUTXOSell","sellBlockchainBalance","buyBlockchainBalance","_pairFees$sell3","_pairFees$buy2","alertMessage","_getCoinInfo3","haveCurrencyName","coinStandard","checkBalanceForSwapPossibility","isPendingTokenApprove","updateTokenAllowance","haveTicker","declinedExistedSwapIndex","openModalDeclineOrders","_getCoinInfo4","_getCoinInfo5","isEvmCoinSell","isEvmCoinBuy","orderOwnerEvmCoin","orderOwnerEvmAddress","swapOwnerAddress","swapParticipantAddress","getAmount","maxBuyAmount","isWaitForPeerAnswer","requestTimeoutSec","requestTimeout","banPeer","getLinkToDeclineSwap","setDeclinedOffer","onRequestAnswer","redirectToSwap","Turbo","Atomic","unfinishedOrder","wayToDeclinedOrder","formCurrencies","partialItemsArray","isDeclinedOffer","isNonOffers","getCurrencyName","sortedOrders","setOrderOnState","isNoAnyOrders","maxAllowedSellAmount","maxAllowedGetAmount","maxAllowedBuyAmount","isFound","newState","findGoodOrder","inOrders","goodRate","isPeerBanned","setAmountOnState","setNoOfferState","_this$getAddressesDat","getAddressesDataByCurrencies","fetchPairFeesAndBalances","changeUrl","_this$getAddressesDat2","addressRole","addressData","toAddressTicker","isToAddressUTXOModel","resetState","noPairToken","checkingValue","dropDownCurrencies","chooseCurrencyToRender","_this$state19","faqLink","localSavedOrders","desclineOrders","_swap$flow$state","lifeTimeout","ordersIsOpen","_this$state20","isSellCoinNeedAddCorrectNetwork","isBuyCoinNeedAddCorrectNetwork","isRootPage","_ref18$params","_exchangeSettings$ato","_exchangeSettings$ato2","_this$getAddressesDat3","haveFiat","isLowAmount","directionOrders","haveBalance","getDefaultWalletType","makeAddressObject","newExchangeData","storageType","getLocalStorageWalletType","resultType","_this$state21","returnNeedCurrency","timerProcess","setOrders","checkUrl","getCorrectDecline","isFullLoadingComplete","prevHaveCurrency","_this$state22","updateExchangeSettings","peerID","_this$state23","doesComissionPreventThisOrder","_config$evmNetworks","_config$evmNetworks2","_config$evmNetworks2$","_this$state24","_SwapMode$Atomic$Swap","Redirect","sellCoinFee","fiatFeeCalculation","oneCryptoCost","availableAmount","checkoutLowAmount","isShowSwapModeSwitch","isTurboAllowed","isPrice","isErrorNoOrders","isErrorLowLiquidity","isErrorExternalDisabled","isFromAddressReady","isToAddressReady","isBalanceReady","isSellCoinAvailableNetwork","isBuyCoinAvailableNetwork","isCorrectMetamaskNetwork","isIncorrectMetamaskNetwork","canStartSwap","getTextWhyCanNotStartSwap","isIncompletedSwaps","isDevBuild","_getCoinInfo8","sellCoinName","sellCoinBlockchain","_getCoinInfo9","buyCoinName","sellNativeCurrency","buyNativeCurrency","networkNeedsToBeUsed","isEthNativeCoin","isMetamaskProvider","Form","setAmount","extendedControlsSet","addrData","maxForBuy","maxForSell","btcAmount","goDeclimeFaq","updateFees","approveTheToken","handleAddCorrectNetwork","initSwap","showIncompleteSwap","promoContainer","Promo","toggleOrdersVisibility","Orders","HowItWorks","VideoAndFeatures","Quote","globalMode","exchangeMode","GlobalModes","atomic","quick","only_atomic","only_quick","noNetworks","validMode","showOnlyOneType","swapMode","setSwapMode","updateSwapMode","mode","_exchangeSettings$qui","AtomicSwap","CurrencyWallet","_ref$history","txHistory","blockchainOk","txItems","_this$state2$itemCurr","_itemCurrency2","hasCachedData","_this$state7$itemCurr","_this$props3$match$pa","_this$props3$match$pa2","withdrawUrl","receiveUrl","prevTransactions","_this$props4$match$pa","_this$props4$match$pa2","_this$props4$match$pa3","_this$props4$match$pa4","updateTransactions","_itemCurrency3","oldTxItems","_this$state8$itemCurr","currencyViewName","showSwapHistory","titleSwapOnline","titleWidgetBuild","TxInfo","finalAmount","_toAddress","Skeleton","amountText","toAddressText","fromAddressText","sourceCurrency","linkBlockChain","linkShare","finalBalances","finalAdminFee","fromFinal","toFinal","fromIsOur","toIsOur","fromBalance","toBalance","getShortInfoHolder","cachedTxInfo","infoTx","_infoTx2","fetchTokenTxInfo","_props$match2$params","_props$match2$params$","_props$match2$params$2","userWallet","walletCurrency","Btc","_componentWillMount","handleOnlineWalletConnect","timerWaitOnlineJoin","myPublicKey","waitCreateWallet","_actions$user$getAuth","addWalletEnabled","_this$props2$match$pa","dataParts","t5","t6","t7","debugShowInput","debugShowTXB","debugShowOutput","handleAddWallet","handleSaveMnemonic","Expandable","isOpened","onExpand","MarketmakerPromo","userTokens","utxoTitle","Ab_Title","extensionPromoDark","extensionPromoLight","openChromeStore","SwapRow","swapState","_handleSwapEnterStep","onSwapEnterStep","extractSwapStatus","MarketmakerSettings","marketToken","_props$match$params$u","_handleSwapAttachedHandle","onSwapAttachedHandle","swapsByIds","utxoWallet","utxoBalance","tokenWallet","tokenBalance","isFirstFetchin","isMarketEnabled","isEthBalanceOk","isUtxoBalanceOk","isTokenBalanceOk","marketSpread","fetchWalletsWithBalances","evmCoinWallet","prevMarketToken","prevUtxoCoin","_this$props$match$par4","cleanupMarketMakerOrder","lsSwapId","AB_Coin","createMakerMakerOrder","sellTokenExchangeRate","sellTokenOrderData","sellOrder","buyTokenExchangeRate","buyTokenOrderData","buyOrder","cbFunction","_tokenWallet$currency","_evmCoinWallet$curren","totalBalance","sortedSwaps","aId","bId","handleCreateWallet","handleRestoreMnemonic","handleToggleMarketmaker","tokenFullName","tokenStandart","_metamaskEnabled","processDisconnectWallet","processConnectWallet","CreateInvoice","Invoice","infoModal","_props$match$params$d","fetchInvoice","prevUniqhash","ScrollToTop","SaveKeys","onDownload","otherProps","Field","isConfirm","isReject","animation","views","Areyousure","SaveKeysModal","changeView","handleDownload","Switch","Route","LocalStorage","CreateWallet","BtcMultisignProcessor","NotFound","Core","setupPubSubRoom","updateOrders","pubsubLoadingInterval","setPubsub","leave","currentHash","setCurrentHash","changingInterval","intervalId","_pendingQueue$","getTransactionReceipt","ErrorBoundary","Nav","beforeMenuItems","afterMenuItems","newwindow","isDesktop","isExternal","activeClassName","NavMobile","ownMenuShowed","ownMenuItems","dropDownMenu","hideOwnMenu","toggleOwnMenu","isBold","currentPageFlag","displayNone","Logo","isCustomLogo","customLogoUrl","darkLogoUrl","isCustomLogoLink","LOGO_REDIRECT_LINK","customLogoLink","imgSrc","logoColored","imgAlt","goToUrl","xmlns","moon","disconnectedOrNetworkNotAvailable","disconnectWallet","TourPartial","floaterProps","disableAnimation","WalletTour","isWidget","_props$overlayClassNa","overlayClassName","showMyOwnTip","loaderLogoUrl","UserTooltip","mePeer","_row$content","ArrowRightSvg","isButton","isChromeExtension","getMenuItems","exchangeLink","historyLink","itemsWithWallet","itemsWithoutWallet","marketmakerItem","getMenuItemsMobile","dinamicPath","mobileItemsWithWallet","mobileItemsWithoutWallet","clearLocalStorage","tapCreateWalletButton","startTourAndSignInModal","customProps","finishProps","menuItems","menuItemsMobile","createdWalletLoader","_constants$localStora","_finishProps$location","isWalletPage","isPartialPage","didOpenWalletCreate","wasOnWalletLs","wasOnExchangeLs","wasOnWidgetWalletLs","tourEvent","allData","userCurrencies","openWalletTour","openExchangeTour","openWidgetWalletTour","openCreateWallet","isWidgetTourOpen","isPartialTourOpen","themeSwapAnimation","wasDark","toggle","handleLogout","dynamicPath","lsWalletCreated","isWallet","lastScrollTop","handlerAsync","sawWarning","isExchange","isLogoutPossible","isUserRegisteredAndLoggedIn","flexebleHeaderRender","WalletConnect","WPSO_selected_theme","ThemeSwitcher","handleToggleTheme","incomingSwapRequest","Loader","closeWidgetTour","closePartialTour","nav","intlLocale","languages","EN","RU","NL","ES","DE","PL","PT","KO","AR","FA","expires","setTime","toUTCString","updatedCookie","propValue","setCookie","getFullYear","switchLang","versionName","versionLink","showServiceLinks","SwitchLang","SocialMenu","ServiceLinks","PreventMultiTabs","onSwitchTab","handleSwitchClick","_props$isVisible","_props$soundPlay","soundPlay","isMounted","setIsMounted","isRemoved","setIsRemoved","closeOnEscapeKey","closeNotification","soundClick","audio","Audio","autoplay","notificationStyleName","Notification","NotificationConductor","notificationNames","_notifications$key","_notifications$key$da","Notifications","App","btcAddress","ghostAddress","nextAddress","_processMetamask","startPage","initialFetching","completeCreation","addStartPageListeners","removeStartPageListeners","createBtn","connectBtn","restoreBtn","skipBtn","setCompleteCreation","dashboardModalProvider","multiTabs","preventMultiTabs","prvMultiTab","newId","appID","isSwitch","generadeId","switchId","_window$chrome","chrome","extViews","getViews","getBackgroundPage","_checkChain","popupIncorrectNetwork","wpLoader","appInstalled","processUserBackup","checkIfDashboardModalsAllowed","onerror","indexedDB","prerenderReady","checkCompletionOfAppCreation","completeAppCreation","overflowHandler","isCalledFromIframe","parent","handleSwitchTab","isSeoDisabled","widgetTitle","HashRouter","Transactions","RequestLoader","translations","myNl","de","myDe","myEn","myRu","myEs","myPl","pt","myPt","ko","myKo","ar","myAr","fa","myFa","IntlProviderContainer","render","currentLocale","IntlProvider","Root","routes","Provider","ConnectedRouter","revision","ErrorPageNoSSL","rootEl","protocol","isLocalIP","queue","migration","webpackContext","webpackContextResolve","__webpack_require__","module","exports","webpackEmptyContext","__webpack_module_cache__","moduleId","cachedModule","loaded","__webpack_modules__","amdO","O","chunkIds","fn","priority","notFulfilled","fulfilled","j","getter","__esModule","definition","enumerable","g","globalThis","nmd","paths","publicUrl","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","__webpack_exports__"],"sourceRoot":""}